!(function(){var L7=Object.defineProperty,T7=Object.defineProperties;var A7=Object.getOwnPropertyDescriptors;var J0=Object.getOwnPropertySymbols;var yh=Object.prototype.hasOwnProperty,wh=Object.prototype.propertyIsEnumerable;var pc=Math.pow,xh=(qt,Fe,j)=>Fe in qt?L7(qt,Fe,{enumerable:!0,configurable:!0,writable:!0,value:j}):qt[Fe]=j,Rt=(qt,Fe)=>{for(var j in Fe||(Fe={}))yh.call(Fe,j)&&xh(qt,j,Fe[j]);if(J0)for(var j of J0(Fe))wh.call(Fe,j)&&xh(qt,j,Fe[j]);return qt},Kr=(qt,Fe)=>T7(qt,A7(Fe));var ls=(qt,Fe)=>{var j={};for(var b in qt)yh.call(qt,b)&&Fe.indexOf(b)<0&&(j[b]=qt[b]);if(qt!=null&&J0)for(var b of J0(qt))Fe.indexOf(b)<0&&wh.call(qt,b)&&(j[b]=qt[b]);return j};var Wl=(qt,Fe,j)=>new Promise((b,B)=>{var P=yt=>{try{Je(j.next(yt))}catch(pe){B(pe)}},Y=yt=>{try{Je(j.throw(yt))}catch(pe){B(pe)}},Je=yt=>yt.done?b(yt.value):Promise.resolve(yt.value).then(P,Y);Je((j=j.apply(qt,Fe)).next())});(self.webpackChunkkitchen_color_studio=self.webpackChunkkitchen_color_studio||[]).push([[450],{51771:function(qt,Fe,j){"use strict";var b=j(68372),B=j(50959),P=j(64315),Y=j(20363),Je=function(pe,Ot){return B.createElement(Y.Z,(0,b.Z)((0,b.Z)({},pe),{},{ref:Ot,icon:P.Z}))};Je.displayName="DeleteOutlined",Fe.Z=B.forwardRef(Je)},15077:function(qt,Fe,j){"use strict";var b=j(68372),B=j(50959),P=j(26346),Y=j(20363),Je=function(pe,Ot){return B.createElement(Y.Z,(0,b.Z)((0,b.Z)({},pe),{},{ref:Ot,icon:P.Z}))};Je.displayName="DownloadOutlined",Fe.Z=B.forwardRef(Je)},48601:function(qt,Fe,j){"use strict";var b=j(68372),B=j(50959),P=j(40425),Y=j(20363),Je=function(pe,Ot){return B.createElement(Y.Z,(0,b.Z)((0,b.Z)({},pe),{},{ref:Ot,icon:P.Z}))};Je.displayName="ReloadOutlined",Fe.Z=B.forwardRef(Je)},72473:function(qt,Fe,j){"use strict";j.d(Fe,{Z:function(){return pe}});var b=j(68372),B=j(50959),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},Y=P,Je=j(20363),yt=function(Ft,wt){return B.createElement(Je.Z,(0,b.Z)((0,b.Z)({},Ft),{},{ref:wt,icon:Y}))};yt.displayName="SaveOutlined";var pe=B.forwardRef(yt)},23153:function(qt,Fe,j){"use strict";j.d(Fe,{Z:function(){return pe}});var b=j(68372),B=j(50959),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},Y=P,Je=j(20363),yt=function(Ft,wt){return B.createElement(Je.Z,(0,b.Z)((0,b.Z)({},Ft),{},{ref:wt,icon:Y}))};yt.displayName="UploadOutlined";var pe=B.forwardRef(yt)},5733:function(qt,Fe,j){"use strict";j.d(Fe,{H:function(){return iu}});var b=j(68372),B=j(20895),P=j(8864),Y=j(50959),Je=j(63012),yt=j(98947),pe=function(w,I){return Y.createElement(yt.Z,(0,P.Z)({},w,{ref:I,icon:Je.Z}))},Ot=Y.forwardRef(pe),Ft=j(34361),wt=function(w,I){return Y.createElement(yt.Z,(0,P.Z)({},w,{ref:I,icon:Ft.Z}))},gt=Y.forwardRef(wt),ht=j(36402),mt=function(w,I){return Y.createElement(yt.Z,(0,P.Z)({},w,{ref:I,icon:ht.Z}))},At=Y.forwardRef(mt),ee=j(22401),zn=function(w,I){return Y.createElement(yt.Z,(0,P.Z)({},w,{ref:I,icon:ee.Z}))},En=Y.forwardRef(zn),bn=j(10626),ft=j(88730),he=j(11527),rn=j(37599),Kt=j(45924),xn=j(40044);function fn(h,w){return(0,xn.Z)(h,w)}const Gt=(h,w)=>{Array.isArray(h.__emotion_styles)&&(h.__emotion_styles=w(h.__emotion_styles))};function Pn(h){let w="https://mui.com/production-error/?code="+h;for(let I=1;I<arguments.length;I+=1)w+="&args[]="+encodeURIComponent(arguments[I]);return"Minified MUI error #"+h+"; visit "+w+" for the full message."}function jt(h){if(typeof h!="string")throw new Error(Pn(7));return h.charAt(0).toUpperCase()+h.slice(1)}function xe(h){return h!==null&&typeof h=="object"&&h.constructor===Object}function Ke(h){if(!xe(h))return h;const w={};return Object.keys(h).forEach(I=>{w[I]=Ke(h[I])}),w}function we(h,w,I={clone:!0}){const N=I.clone?Rt({},h):h;return xe(h)&&xe(w)&&Object.keys(w).forEach(ve=>{ve!=="__proto__"&&(xe(w[ve])&&ve in h&&xe(h[ve])?N[ve]=we(h[ve],w[ve],I):I.clone?N[ve]=xe(w[ve])?Ke(w[ve]):w[ve]:N[ve]=w[ve])}),N}function rt(h,w){return w?we(h,w,{clone:!1}):h}var Re=rt;const Te={xs:0,sm:600,md:900,lg:1200,xl:1536},q={keys:["xs","sm","md","lg","xl"],up:h=>`@media (min-width:${Te[h]}px)`};function F(h,w,I){const N=h.theme||{};if(Array.isArray(w)){const Ie=N.breakpoints||q;return w.reduce((it,Wt,vn)=>(it[Ie.up(Ie.keys[vn])]=I(w[vn]),it),{})}if(typeof w=="object"){const Ie=N.breakpoints||q;return Object.keys(w).reduce((it,Wt)=>{if(Object.keys(Ie.values||Te).indexOf(Wt)!==-1){const vn=Ie.up(Wt);it[vn]=I(w[Wt],Wt)}else{const vn=Wt;it[vn]=w[vn]}return it},{})}return I(w)}function re(h){const w=I=>{const N=I.theme||{},ve=h(I),Ie=N.breakpoints||q,it=Ie.keys.reduce((Wt,vn)=>(I[vn]&&(Wt=Wt||{},Wt[Ie.up(vn)]=h(_extends({theme:N},I[vn]))),Wt),null);return merge(ve,it)};return w.propTypes={},w.filterProps=["xs","sm","md","lg","xl",...h.filterProps],w}function De(h={}){var w;return((w=h.keys)==null?void 0:w.reduce((N,ve)=>{const Ie=h.up(ve);return N[Ie]={},N},{}))||{}}function k(h,w){return h.reduce((I,N)=>{const ve=I[N];return(!ve||Object.keys(ve).length===0)&&delete I[N],I},w)}function le(h,...w){const I=De(h),N=[I,...w].reduce((ve,Ie)=>deepmerge(ve,Ie),{});return k(Object.keys(I),N)}function te(h,w){if(typeof h!="object")return{};const I={},N=Object.keys(w);return Array.isArray(h)?N.forEach((ve,Ie)=>{Ie<h.length&&(I[ve]=!0)}):N.forEach(ve=>{h[ve]!=null&&(I[ve]=!0)}),I}function ae({values:h,breakpoints:w,base:I}){const N=I||te(h,w),ve=Object.keys(N);if(ve.length===0)return h;let Ie;return ve.reduce((it,Wt,vn)=>(Array.isArray(h)?(it[Wt]=h[vn]!=null?h[vn]:h[Ie],Ie=vn):typeof h=="object"?(it[Wt]=h[Wt]!=null?h[Wt]:h[Ie],Ie=Wt):it[Wt]=h,it),{})}var Le=null;function Ae(h,w,I=!0){if(!w||typeof w!="string")return null;if(h&&h.vars&&I){const N=`vars.${w}`.split(".").reduce((ve,Ie)=>ve&&ve[Ie]?ve[Ie]:null,h);if(N!=null)return N}return w.split(".").reduce((N,ve)=>N&&N[ve]!=null?N[ve]:null,h)}function _e(h,w,I,N=I){let ve;return typeof h=="function"?ve=h(I):Array.isArray(h)?ve=h[I]||N:ve=Ae(h,I)||N,w&&(ve=w(ve,N,h)),ve}function $e(h){const{prop:w,cssProperty:I=h.prop,themeKey:N,transform:ve}=h,Ie=it=>{if(it[w]==null)return null;const Wt=it[w],vn=it.theme,en=Ae(vn,N)||{};return F(it,Wt,Fn=>{let qn=_e(en,ve,Fn);return Fn===qn&&typeof Fn=="string"&&(qn=_e(en,ve,`${w}${Fn==="default"?"":jt(Fn)}`,Fn)),I===!1?qn:{[I]:qn}})};return Ie.propTypes={},Ie.filterProps=[w],Ie}var me=$e;function Pt(h){const w={};return I=>(w[I]===void 0&&(w[I]=h(I)),w[I])}const kt={m:"margin",p:"padding"},xt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},dt={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ze=Pt(h=>{if(h.length>2)if(dt[h])h=dt[h];else return[h];const[w,I]=h.split(""),N=kt[w],ve=xt[I]||"";return Array.isArray(ve)?ve.map(Ie=>N+Ie):[N+ve]}),zt=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],un=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Sn=[...zt,...un];function Yt(h,w,I,N){var ve;const Ie=(ve=Ae(h,w,!1))!=null?ve:I;return typeof Ie=="number"?it=>typeof it=="string"?it:Ie*it:Array.isArray(Ie)?it=>typeof it=="string"?it:Ie[it]:typeof Ie=="function"?Ie:()=>{}}function Tn(h){return Yt(h,"spacing",8,"spacing")}function an(h,w){if(typeof w=="string"||w==null)return w;const I=Math.abs(w),N=h(I);return w>=0?N:typeof N=="number"?-N:`-${N}`}function An(h,w){return I=>h.reduce((N,ve)=>(N[ve]=an(w,I),N),{})}function Rr(h,w,I,N){if(w.indexOf(I)===-1)return null;const ve=ze(I),Ie=An(ve,N),it=h[I];return F(h,it,Ie)}function qr(h,w){const I=Tn(h.theme);return Object.keys(h).map(N=>Rr(h,w,N,I)).reduce(Re,{})}function _t(h){return qr(h,zt)}_t.propTypes={},_t.filterProps=zt;function Lt(h){return qr(h,un)}Lt.propTypes={},Lt.filterProps=un;function Qt(h){return qr(h,Sn)}Qt.propTypes={},Qt.filterProps=Sn;var ln=null;function yn(...h){const w=h.reduce((N,ve)=>(ve.filterProps.forEach(Ie=>{N[Ie]=ve}),N),{}),I=N=>Object.keys(N).reduce((ve,Ie)=>w[Ie]?Re(ve,w[Ie](N)):ve,{});return I.propTypes={},I.filterProps=h.reduce((N,ve)=>N.concat(ve.filterProps),[]),I}var ur=yn;function jn(h){return typeof h!="number"?h:`${h}px solid`}const Xr=me({prop:"border",themeKey:"borders",transform:jn}),Jn=me({prop:"borderTop",themeKey:"borders",transform:jn}),ge=me({prop:"borderRight",themeKey:"borders",transform:jn}),je=me({prop:"borderBottom",themeKey:"borders",transform:jn}),Xe=me({prop:"borderLeft",themeKey:"borders",transform:jn}),Ye=me({prop:"borderColor",themeKey:"palette"}),Nt=me({prop:"borderTopColor",themeKey:"palette"}),Nn=me({prop:"borderRightColor",themeKey:"palette"}),wn=me({prop:"borderBottomColor",themeKey:"palette"}),Bt=me({prop:"borderLeftColor",themeKey:"palette"}),Vt=h=>{if(h.borderRadius!==void 0&&h.borderRadius!==null){const w=Yt(h.theme,"shape.borderRadius",4,"borderRadius"),I=N=>({borderRadius:an(w,N)});return F(h,h.borderRadius,I)}return null};Vt.propTypes={},Vt.filterProps=["borderRadius"];const ut=ur(Xr,Jn,ge,je,Xe,Ye,Nt,Nn,wn,Bt,Vt);var oe=null;const We=h=>{if(h.gap!==void 0&&h.gap!==null){const w=Yt(h.theme,"spacing",8,"gap"),I=N=>({gap:an(w,N)});return F(h,h.gap,I)}return null};We.propTypes={},We.filterProps=["gap"];const Tt=h=>{if(h.columnGap!==void 0&&h.columnGap!==null){const w=Yt(h.theme,"spacing",8,"columnGap"),I=N=>({columnGap:an(w,N)});return F(h,h.columnGap,I)}return null};Tt.propTypes={},Tt.filterProps=["columnGap"];const nn=h=>{if(h.rowGap!==void 0&&h.rowGap!==null){const w=Yt(h.theme,"spacing",8,"rowGap"),I=N=>({rowGap:an(w,N)});return F(h,h.rowGap,I)}return null};nn.propTypes={},nn.filterProps=["rowGap"];const Zn=me({prop:"gridColumn"}),hr=me({prop:"gridRow"}),Hr=me({prop:"gridAutoFlow"}),Li=me({prop:"gridAutoColumns"}),Qr=me({prop:"gridAutoRows"}),ri=me({prop:"gridTemplateColumns"}),ei=me({prop:"gridTemplateRows"}),ji=me({prop:"gridTemplateAreas"}),R=me({prop:"gridArea"}),H=ur(We,Tt,nn,Zn,hr,Hr,Li,Qr,ri,ei,ji,R);var S=null;function T(h,w){return w==="grey"?w:h}const Q=me({prop:"color",themeKey:"palette",transform:T}),se=me({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:T}),Ze=me({prop:"backgroundColor",themeKey:"palette",transform:T}),st=ur(Q,se,Ze);var qe=null;function vt(h){return h<=1&&h!==0?`${h*100}%`:h}const He=me({prop:"width",transform:vt}),Be=h=>{if(h.maxWidth!==void 0&&h.maxWidth!==null){const w=I=>{var N,ve,Ie;return{maxWidth:((N=h.theme)==null||(ve=N.breakpoints)==null||(Ie=ve.values)==null?void 0:Ie[I])||Te[I]||vt(I)}};return F(h,h.maxWidth,w)}return null};Be.filterProps=["maxWidth"];const bt=me({prop:"minWidth",transform:vt}),Ce=me({prop:"height",transform:vt}),be=me({prop:"maxHeight",transform:vt}),ke=me({prop:"minHeight",transform:vt}),Ve=me({prop:"size",cssProperty:"width",transform:vt}),et=me({prop:"size",cssProperty:"height",transform:vt}),Qe=me({prop:"boxSizing"}),Ct=ur(He,Be,bt,Ce,be,ke,Qe);var cn=null,On={border:{themeKey:"borders",transform:jn},borderTop:{themeKey:"borders",transform:jn},borderRight:{themeKey:"borders",transform:jn},borderBottom:{themeKey:"borders",transform:jn},borderLeft:{themeKey:"borders",transform:jn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Vt},color:{themeKey:"palette",transform:T},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:T},backgroundColor:{themeKey:"palette",transform:T},p:{style:Lt},pt:{style:Lt},pr:{style:Lt},pb:{style:Lt},pl:{style:Lt},px:{style:Lt},py:{style:Lt},padding:{style:Lt},paddingTop:{style:Lt},paddingRight:{style:Lt},paddingBottom:{style:Lt},paddingLeft:{style:Lt},paddingX:{style:Lt},paddingY:{style:Lt},paddingInline:{style:Lt},paddingInlineStart:{style:Lt},paddingInlineEnd:{style:Lt},paddingBlock:{style:Lt},paddingBlockStart:{style:Lt},paddingBlockEnd:{style:Lt},m:{style:_t},mt:{style:_t},mr:{style:_t},mb:{style:_t},ml:{style:_t},mx:{style:_t},my:{style:_t},margin:{style:_t},marginTop:{style:_t},marginRight:{style:_t},marginBottom:{style:_t},marginLeft:{style:_t},marginX:{style:_t},marginY:{style:_t},marginInline:{style:_t},marginInlineStart:{style:_t},marginInlineEnd:{style:_t},marginBlock:{style:_t},marginBlockStart:{style:_t},marginBlockEnd:{style:_t},displayPrint:{cssProperty:!1,transform:h=>({"@media print":{display:h}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:We},rowGap:{style:nn},columnGap:{style:Tt},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:vt},maxWidth:{style:Be},minWidth:{transform:vt},height:{transform:vt},maxHeight:{transform:vt},minHeight:{transform:vt},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Qn(...h){const w=h.reduce((N,ve)=>N.concat(Object.keys(ve)),[]),I=new Set(w);return h.every(N=>I.size===Object.keys(N).length)}function Vn(h,w){return typeof h=="function"?h(w):h}function Wn(){function h(I,N,ve,Ie){const it={[I]:N,theme:ve},Wt=Ie[I];if(!Wt)return{[I]:N};const{cssProperty:vn=I,themeKey:en,transform:ir,style:Fn}=Wt;if(N==null)return null;if(en==="typography"&&N==="inherit")return{[I]:N};const qn=Ae(ve,en)||{};return Fn?Fn(it):F(it,N,Sr=>{let sr=_e(qn,ir,Sr);return Sr===sr&&typeof Sr=="string"&&(sr=_e(qn,ir,`${I}${Sr==="default"?"":jt(Sr)}`,Sr)),vn===!1?sr:{[vn]:sr}})}function w(I){var N;const{sx:ve,theme:Ie={}}=I||{};if(!ve)return null;const it=(N=Ie.unstable_sxConfig)!=null?N:On;function Wt(vn){let en=vn;if(typeof vn=="function")en=vn(Ie);else if(typeof vn!="object")return vn;if(!en)return null;const ir=De(Ie.breakpoints),Fn=Object.keys(ir);let qn=ir;return Object.keys(en).forEach(tr=>{const Sr=Vn(en[tr],Ie);if(Sr!=null)if(typeof Sr=="object")if(it[tr])qn=Re(qn,h(tr,Sr,Ie,it));else{const sr=F({theme:Ie},Sr,Ui=>({[tr]:Ui}));Qn(sr,Sr)?qn[tr]=w({sx:Sr,theme:Ie}):qn=Re(qn,sr)}else qn=Re(qn,h(tr,Sr,Ie,it))}),k(Fn,qn)}return Array.isArray(ve)?ve.map(Wt):Wt(ve)}return w}const mr=Wn();mr.filterProps=["sx"];var Jt=mr;const rr=["sx"],Lr=h=>{var w,I;const N={systemProps:{},otherProps:{}},ve=(w=h==null||(I=h.theme)==null?void 0:I.unstable_sxConfig)!=null?w:On;return Object.keys(h).forEach(Ie=>{ve[Ie]?N.systemProps[Ie]=h[Ie]:N.otherProps[Ie]=h[Ie]}),N};function Ti(h){const{sx:w}=h,I=(0,rn.Z)(h,rr),{systemProps:N,otherProps:ve}=Lr(I);let Ie;return Array.isArray(w)?Ie=[N,...w]:typeof w=="function"?Ie=(...it)=>{const Wt=w(...it);return xe(Wt)?(0,P.Z)({},N,Wt):N}:Ie=(0,P.Z)({},N,w),(0,P.Z)({},ve,{sx:Ie})}const bi=["values","unit","step"],go=null,Yi=h=>{const w=Object.keys(h).map(I=>({key:I,val:h[I]}))||[];return w.sort((I,N)=>I.val-N.val),w.reduce((I,N)=>(0,P.Z)({},I,{[N.key]:N.val}),{})};function Gi(h){const{values:w={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:I="px",step:N=5}=h,ve=(0,rn.Z)(h,bi),Ie=Yi(w),it=Object.keys(Ie);function Wt(qn){return`@media (min-width:${typeof w[qn]=="number"?w[qn]:qn}${I})`}function vn(qn){return`@media (max-width:${(typeof w[qn]=="number"?w[qn]:qn)-N/100}${I})`}function en(qn,tr){const Sr=it.indexOf(tr);return`@media (min-width:${typeof w[qn]=="number"?w[qn]:qn}${I}) and (max-width:${(Sr!==-1&&typeof w[it[Sr]]=="number"?w[it[Sr]]:tr)-N/100}${I})`}function ir(qn){return it.indexOf(qn)+1<it.length?en(qn,it[it.indexOf(qn)+1]):Wt(qn)}function Fn(qn){const tr=it.indexOf(qn);return tr===0?Wt(it[1]):tr===it.length-1?vn(it[tr]):en(qn,it[it.indexOf(qn)+1]).replace("@media","@media not all and")}return(0,P.Z)({keys:it,values:Ie,up:Wt,down:vn,between:en,only:ir,not:Fn,unit:I},ve)}var fo={borderRadius:4};function Ni(h=8){if(h.mui)return h;const w=Tn({spacing:h}),I=(...N)=>(N.length===0?[1]:N).map(Ie=>{const it=w(Ie);return typeof it=="number"?`${it}px`:it}).join(" ");return I.mui=!0,I}const ci=["breakpoints","palette","spacing","shape"];function Ai(h={},...w){const{breakpoints:I={},palette:N={},spacing:ve,shape:Ie={}}=h,it=(0,rn.Z)(h,ci),Wt=Gi(I),vn=Ni(ve);let en=we({breakpoints:Wt,direction:"ltr",components:{},palette:(0,P.Z)({mode:"light"},N),spacing:vn,shape:(0,P.Z)({},fo,Ie)},it);return en=w.reduce((ir,Fn)=>we(ir,Fn),en),en.unstable_sxConfig=(0,P.Z)({},On,it==null?void 0:it.unstable_sxConfig),en.unstable_sx=function(Fn){return Jt({sx:Fn,theme:this})},en}var so=Ai,xi=j(73887);function $o(h){return Object.keys(h).length===0}function Qi(h=null){const w=Y.useContext(xi.T);return!w||$o(w)?h:w}var Mo=Qi;const Ca=so();function Xa(h=Ca){return Mo(h)}var ra=Xa;const ia=["className","component"];function Po(h={}){const{themeId:w,defaultTheme:I,defaultClassName:N="MuiBox-root",generateClassName:ve}=h,Ie=fn("div",{shouldForwardProp:Wt=>Wt!=="theme"&&Wt!=="sx"&&Wt!=="as"})(Jt);return Y.forwardRef(function(vn,en){const ir=ra(I),Fn=Ti(vn),{className:qn,component:tr="div"}=Fn,Sr=(0,rn.Z)(Fn,ia);return(0,he.jsx)(Ie,(0,P.Z)({as:tr,ref:en,className:(0,Kt.default)(qn,ve?ve(N):N),theme:w&&ir[w]||ir},Sr))})}const Go=h=>h;var Ps=(()=>{let h=Go;return{configure(w){h=w},generate(w){return h(w)},reset(){h=Go}}})();function ns(h,w){return(0,P.Z)({toolbar:{minHeight:56,[h.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[h.up("sm")]:{minHeight:64}}},w)}function Fr(h,w=0,I=1){return Math.min(Math.max(w,h),I)}function Wo(h){h=h.slice(1);const w=new RegExp(`.{1,${h.length>=6?2:1}}`,"g");let I=h.match(w);return I&&I[0].length===1&&(I=I.map(N=>N+N)),I?`rgb${I.length===4?"a":""}(${I.map((N,ve)=>ve<3?parseInt(N,16):Math.round(parseInt(N,16)/255*1e3)/1e3).join(", ")})`:""}function cs(h){const w=h.toString(16);return w.length===1?`0${w}`:w}function Bi(h){if(h.type)return h;if(h.charAt(0)==="#")return Bi(Wo(h));const w=h.indexOf("("),I=h.substring(0,w);if(["rgb","rgba","hsl","hsla","color"].indexOf(I)===-1)throw new Error(Pn(9,h));let N=h.substring(w+1,h.length-1),ve;if(I==="color"){if(N=N.split(" "),ve=N.shift(),N.length===4&&N[3].charAt(0)==="/"&&(N[3]=N[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(ve)===-1)throw new Error(Pn(10,ve))}else N=N.split(",");return N=N.map(Ie=>parseFloat(Ie)),{type:I,values:N,colorSpace:ve}}const O=h=>{const w=Bi(h);return w.values.slice(0,3).map((I,N)=>w.type.indexOf("hsl")!==-1&&N!==0?`${I}%`:I).join(" ")},V=(h,w)=>{try{return O(h)}catch(I){return h}};function de(h){const{type:w,colorSpace:I}=h;let{values:N}=h;return w.indexOf("rgb")!==-1?N=N.map((ve,Ie)=>Ie<3?parseInt(ve,10):ve):w.indexOf("hsl")!==-1&&(N[1]=`${N[1]}%`,N[2]=`${N[2]}%`),w.indexOf("color")!==-1?N=`${I} ${N.join(" ")}`:N=`${N.join(", ")}`,`${w}(${N})`}function Ue(h){if(h.indexOf("#")===0)return h;const{values:w}=Bi(h);return`#${w.map((I,N)=>cs(N===3?Math.round(255*I):I)).join("")}`}function pt(h){h=Bi(h);const{values:w}=h,I=w[0],N=w[1]/100,ve=w[2]/100,Ie=N*Math.min(ve,1-ve),it=(en,ir=(en+I/30)%12)=>ve-Ie*Math.max(Math.min(ir-3,9-ir,1),-1);let Wt="rgb";const vn=[Math.round(it(0)*255),Math.round(it(8)*255),Math.round(it(4)*255)];return h.type==="hsla"&&(Wt+="a",vn.push(w[3])),de({type:Wt,values:vn})}function lt(h){h=Bi(h);let w=h.type==="hsl"||h.type==="hsla"?Bi(pt(h)).values:h.values;return w=w.map(I=>(h.type!=="color"&&(I/=255),I<=.03928?I/12.92:pc((I+.055)/1.055,2.4))),Number((.2126*w[0]+.7152*w[1]+.0722*w[2]).toFixed(3))}function z(h,w){const I=lt(h),N=lt(w);return(Math.max(I,N)+.05)/(Math.min(I,N)+.05)}function ie(h,w){return h=Bi(h),w=Fr(w),(h.type==="rgb"||h.type==="hsl")&&(h.type+="a"),h.type==="color"?h.values[3]=`/${w}`:h.values[3]=w,de(h)}function E(h,w,I){try{return ie(h,w)}catch(N){return h}}function W(h,w){if(h=Bi(h),w=Fr(w),h.type.indexOf("hsl")!==-1)h.values[2]*=1-w;else if(h.type.indexOf("rgb")!==-1||h.type.indexOf("color")!==-1)for(let I=0;I<3;I+=1)h.values[I]*=1-w;return de(h)}function Oe(h,w,I){try{return W(h,w)}catch(N){return h}}function tt(h,w){if(h=Bi(h),w=Fr(w),h.type.indexOf("hsl")!==-1)h.values[2]+=(100-h.values[2])*w;else if(h.type.indexOf("rgb")!==-1)for(let I=0;I<3;I+=1)h.values[I]+=(255-h.values[I])*w;else if(h.type.indexOf("color")!==-1)for(let I=0;I<3;I+=1)h.values[I]+=(1-h.values[I])*w;return de(h)}function Mn(h,w,I){try{return tt(h,w)}catch(N){return h}}function Dn(h,w=.15){return lt(h)>.5?W(h,w):tt(h,w)}function or(h,w,I){try{return or(h,w)}catch(N){return h}}var er={black:"#000",white:"#fff"},gr={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},fi={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},di={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Oi={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Fi={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Si={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ho={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};const oa=["mode","contrastThreshold","tonalOffset"],Xo={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:er.white,default:er.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Ei={text:{primary:er.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:er.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Is(h,w,I,N){const ve=N.light||N,Ie=N.dark||N*1.5;h[w]||(h.hasOwnProperty(I)?h[w]=h[I]:w==="light"?h.light=tt(h.main,ve):w==="dark"&&(h.dark=W(h.main,Ie)))}function _a(h="light"){return h==="dark"?{main:Fi[200],light:Fi[50],dark:Fi[400]}:{main:Fi[700],light:Fi[400],dark:Fi[800]}}function R1(h="light"){return h==="dark"?{main:fi[200],light:fi[50],dark:fi[400]}:{main:fi[500],light:fi[300],dark:fi[700]}}function sa(h="light"){return h==="dark"?{main:di[500],light:di[300],dark:di[700]}:{main:di[700],light:di[400],dark:di[800]}}function xa(h="light"){return h==="dark"?{main:Si[400],light:Si[300],dark:Si[700]}:{main:Si[700],light:Si[500],dark:Si[900]}}function za(h="light"){return h==="dark"?{main:ho[400],light:ho[300],dark:ho[700]}:{main:ho[800],light:ho[500],dark:ho[900]}}function Ya(h="light"){return h==="dark"?{main:Oi[400],light:Oi[300],dark:Oi[700]}:{main:"#ed6c02",light:Oi[500],dark:Oi[900]}}function f1(h){const{mode:w="light",contrastThreshold:I=3,tonalOffset:N=.2}=h,ve=(0,rn.Z)(h,oa),Ie=h.primary||_a(w),it=h.secondary||R1(w),Wt=h.error||sa(w),vn=h.info||xa(w),en=h.success||za(w),ir=h.warning||Ya(w);function Fn(sr){return z(sr,Ei.text.primary)>=I?Ei.text.primary:Xo.text.primary}const qn=({color:sr,name:Ui,mainShade:wi=500,lightShade:Vr=300,darkShade:Hi=700})=>{if(sr=(0,P.Z)({},sr),!sr.main&&sr[wi]&&(sr.main=sr[wi]),!sr.hasOwnProperty("main"))throw new Error(Pn(11,Ui?` (${Ui})`:"",wi));if(typeof sr.main!="string")throw new Error(Pn(12,Ui?` (${Ui})`:"",JSON.stringify(sr.main)));return Is(sr,"light",Vr,N),Is(sr,"dark",Hi,N),sr.contrastText||(sr.contrastText=Fn(sr.main)),sr},tr={dark:Ei,light:Xo};return we((0,P.Z)({common:(0,P.Z)({},er),mode:w,primary:qn({color:Ie,name:"primary"}),secondary:qn({color:it,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:qn({color:Wt,name:"error"}),warning:qn({color:ir,name:"warning"}),info:qn({color:vn,name:"info"}),success:qn({color:en,name:"success"}),grey:gr,contrastThreshold:I,getContrastText:Fn,augmentColor:qn,tonalOffset:N},tr[w]),ve)}const Os=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function j1(h){return Math.round(h*1e5)/1e5}const L1={textTransform:"uppercase"},d1='"Roboto", "Helvetica", "Arial", sans-serif';function Yo(h,w){const I=typeof w=="function"?w(h):w,{fontFamily:N=d1,fontSize:ve=14,fontWeightLight:Ie=300,fontWeightRegular:it=400,fontWeightMedium:Wt=500,fontWeightBold:vn=700,htmlFontSize:en=16,allVariants:ir,pxToRem:Fn}=I,qn=(0,rn.Z)(I,Os),tr=ve/14,Sr=Fn||(wi=>`${wi/en*tr}rem`),sr=(wi,Vr,Hi,Tr,Nr)=>(0,P.Z)({fontFamily:N,fontWeight:wi,fontSize:Sr(Vr),lineHeight:Hi},N===d1?{letterSpacing:`${j1(Tr/Vr)}em`}:{},Nr,ir),Ui={h1:sr(Ie,96,1.167,-1.5),h2:sr(Ie,60,1.2,-.5),h3:sr(it,48,1.167,0),h4:sr(it,34,1.235,.25),h5:sr(it,24,1.334,0),h6:sr(Wt,20,1.6,.15),subtitle1:sr(it,16,1.75,.15),subtitle2:sr(Wt,14,1.57,.1),body1:sr(it,16,1.5,.15),body2:sr(it,14,1.43,.15),button:sr(Wt,14,1.75,.4,L1),caption:sr(it,12,1.66,.4),overline:sr(it,12,2.66,1,L1),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return we((0,P.Z)({htmlFontSize:en,pxToRem:Sr,fontFamily:N,fontSize:ve,fontWeightLight:Ie,fontWeightRegular:it,fontWeightMedium:Wt,fontWeightBold:vn},Ui),qn,{clone:!1})}const ya=.2,Ds=.14,Ka=.12;function mi(...h){return[`${h[0]}px ${h[1]}px ${h[2]}px ${h[3]}px rgba(0,0,0,${ya})`,`${h[4]}px ${h[5]}px ${h[6]}px ${h[7]}px rgba(0,0,0,${Ds})`,`${h[8]}px ${h[9]}px ${h[10]}px ${h[11]}px rgba(0,0,0,${Ka})`].join(",")}var xo=["none",mi(0,2,1,-1,0,1,1,0,0,1,3,0),mi(0,3,1,-2,0,2,2,0,0,1,5,0),mi(0,3,3,-2,0,3,4,0,0,1,8,0),mi(0,2,4,-1,0,4,5,0,0,1,10,0),mi(0,3,5,-1,0,5,8,0,0,1,14,0),mi(0,3,5,-1,0,6,10,0,0,1,18,0),mi(0,4,5,-2,0,7,10,1,0,2,16,1),mi(0,5,5,-3,0,8,10,1,0,3,14,2),mi(0,5,6,-3,0,9,12,1,0,3,16,2),mi(0,6,6,-3,0,10,14,1,0,4,18,3),mi(0,6,7,-4,0,11,15,1,0,4,20,3),mi(0,7,8,-4,0,12,17,2,0,5,22,4),mi(0,7,8,-4,0,13,19,2,0,5,24,4),mi(0,7,9,-4,0,14,21,2,0,5,26,4),mi(0,8,9,-5,0,15,22,2,0,6,28,5),mi(0,8,10,-5,0,16,24,2,0,6,30,5),mi(0,8,11,-5,0,17,26,2,0,6,32,5),mi(0,9,11,-5,0,18,28,2,0,7,34,6),mi(0,9,12,-6,0,19,29,2,0,7,36,6),mi(0,10,13,-6,0,20,31,3,0,8,38,7),mi(0,10,13,-6,0,21,33,3,0,8,40,7),mi(0,10,14,-6,0,22,35,3,0,8,42,7),mi(0,11,14,-7,0,23,36,3,0,9,44,8),mi(0,11,15,-7,0,24,38,3,0,9,46,8)];const jr=["duration","easing","delay"],Ys={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},dn={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ti(h){return`${Math.round(h)}ms`}function wa(h){if(!h)return 0;const w=h/36;return Math.round((4+15*pc(w,.25)+w/5)*10)}function Na(h){const w=(0,P.Z)({},Ys,h.easing),I=(0,P.Z)({},dn,h.duration),N=(ve=["all"],Ie={})=>{const{duration:it=I.standard,easing:Wt=w.easeInOut,delay:vn=0}=Ie,en=(0,rn.Z)(Ie,jr);return(Array.isArray(ve)?ve:[ve]).map(ir=>`${ir} ${typeof it=="string"?it:ti(it)} ${Wt} ${typeof vn=="string"?vn:ti(vn)}`).join(",")};return(0,P.Z)({getAutoHeightDuration:wa,create:N},h,{easing:w,duration:I})}var Do={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const io=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ba(h={},...w){const{mixins:I={},palette:N={},transitions:ve={},typography:Ie={}}=h,it=(0,rn.Z)(h,io);if(h.vars)throw new Error(Pn(18));const Wt=f1(N),vn=so(h);let en=we(vn,{mixins:ns(vn.breakpoints,I),palette:Wt,shadows:xo.slice(),typography:Yo(Wt,Ie),transitions:Na(ve),zIndex:(0,P.Z)({},Do)});return en=we(en,it),en=w.reduce((ir,Fn)=>we(ir,Fn),en),en.unstable_sxConfig=(0,P.Z)({},On,it==null?void 0:it.unstable_sxConfig),en.unstable_sx=function(Fn){return Jt({sx:Fn,theme:this})},en}let Ho=!1;function ks(...h){return Ba(...h)}var Ks=Ba,aa="$$material";const Js=Ks();var vo=Po({themeId:aa,defaultTheme:Js,defaultClassName:"MuiBox-root",generateClassName:Ps.generate});function Ma(h,w,I=void 0){const N={};return Object.keys(h).forEach(ve=>{N[ve]=h[ve].reduce((Ie,it)=>{if(it){const Wt=w(it);Wt!==""&&Ie.push(Wt),I&&I[it]&&Ie.push(I[it])}return Ie},[]).join(" ")}),N}var T1=j(10422);function Ko(h,w){typeof h=="function"?h(w):h&&(h.current=w)}function $s(...h){return Y.useMemo(()=>h.every(w=>w==null)?null:w=>{h.forEach(I=>{Ko(I,w)})},h)}function A1(h){return h&&h.ownerDocument||document}function la(h){return A1(h).defaultView||window}function ba(h,w=166){let I;function N(...ve){const Ie=()=>{h.apply(this,ve)};clearTimeout(I),I=setTimeout(Ie,w)}return N.clear=()=>{clearTimeout(I)},N}var hi=typeof window!="undefined"?Y.useLayoutEffect:Y.useEffect;const kr=["onChange","maxRows","minRows","style","value"];function Ki(h){return parseInt(h,10)||0}const Jo={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function bo(h){return h==null||Object.keys(h).length===0||h.outerHeightStyle===0&&!h.overflow}var rs=Y.forwardRef(function(w,I){const{onChange:N,maxRows:ve,minRows:Ie=1,style:it,value:Wt}=w,vn=(0,rn.Z)(w,kr),{current:en}=Y.useRef(Wt!=null),ir=Y.useRef(null),Fn=$s(I,ir),qn=Y.useRef(null),tr=Y.useRef(0),[Sr,sr]=Y.useState({outerHeightStyle:0}),Ui=Y.useCallback(()=>{const Nr=ir.current,i=la(Nr).getComputedStyle(Nr);if(i.width==="0px")return{outerHeightStyle:0};const s=qn.current;s.style.width=i.width,s.value=Nr.value||w.placeholder||"x",s.value.slice(-1)===`
`&&(s.value+=" ");const u=i.boxSizing,p=Ki(i.paddingBottom)+Ki(i.paddingTop),_=Ki(i.borderBottomWidth)+Ki(i.borderTopWidth),L=s.scrollHeight;s.value="x";const ye=s.scrollHeight;let Ge=L;Ie&&(Ge=Math.max(Number(Ie)*ye,Ge)),ve&&(Ge=Math.min(Number(ve)*ye,Ge)),Ge=Math.max(Ge,ye);const Dt=Ge+(u==="border-box"?p+_:0),In=Math.abs(Ge-L)<=1;return{outerHeightStyle:Dt,overflow:In}},[ve,Ie,w.placeholder]),wi=(Nr,no)=>{const{outerHeightStyle:i,overflow:s}=no;return tr.current<20&&(i>0&&Math.abs((Nr.outerHeightStyle||0)-i)>1||Nr.overflow!==s)?(tr.current+=1,{overflow:s,outerHeightStyle:i}):Nr},Vr=Y.useCallback(()=>{const Nr=Ui();bo(Nr)||sr(no=>wi(no,Nr))},[Ui]),Hi=()=>{const Nr=Ui();bo(Nr)||T1.flushSync(()=>{sr(no=>wi(no,Nr))})};Y.useEffect(()=>{const Nr=ba(()=>{tr.current=0,ir.current&&Hi()});let no;const i=ir.current,s=la(i);return s.addEventListener("resize",Nr),typeof ResizeObserver!="undefined"&&(no=new ResizeObserver(Nr),no.observe(i)),()=>{Nr.clear(),s.removeEventListener("resize",Nr),no&&no.disconnect()}}),hi(()=>{Vr()}),Y.useEffect(()=>{tr.current=0},[Wt]);const Tr=Nr=>{tr.current=0,en||Vr(),N&&N(Nr)};return(0,he.jsxs)(Y.Fragment,{children:[(0,he.jsx)("textarea",(0,P.Z)({value:Wt,onChange:Tr,ref:Fn,rows:Ie,style:(0,P.Z)({height:Sr.outerHeightStyle,overflow:Sr.overflow?"hidden":void 0},it)},vn)),(0,he.jsx)("textarea",{"aria-hidden":!0,className:w.className,readOnly:!0,ref:qn,tabIndex:-1,style:(0,P.Z)({},Jo.shadow,it,{padding:0})})]})});function Sa(h){return typeof h=="string"}function po({props:h,states:w,muiFormControl:I}){return w.reduce((N,ve)=>(N[ve]=h[ve],I&&typeof h[ve]=="undefined"&&(N[ve]=I[ve]),N),{})}var Ws=Y.createContext(void 0);function Ua(){return Y.useContext(Ws)}const is=["variant"];function ds(h){return h.length===0}function Co(h){const{variant:w}=h,I=(0,rn.Z)(h,is);let N=w||"";return Object.keys(I).sort().forEach(ve=>{ve==="color"?N+=ds(N)?h[ve]:jt(h[ve]):N+=`${ds(N)?ve:jt(ve)}${jt(h[ve].toString())}`}),N}const os=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function to(h){return Object.keys(h).length===0}function zo(h){return typeof h=="string"&&h.charCodeAt(0)>96}const Lo=(h,w)=>w.components&&w.components[h]&&w.components[h].styleOverrides?w.components[h].styleOverrides:null,ca=(h,w)=>{let I=[];w&&w.components&&w.components[h]&&w.components[h].variants&&(I=w.components[h].variants);const N={};return I.forEach(ve=>{const Ie=Co(ve.props);N[Ie]=ve.style}),N},qs=(h,w,I,N)=>{var ve,Ie;const{ownerState:it={}}=h,Wt=[],vn=I==null||(ve=I.components)==null||(Ie=ve[N])==null?void 0:Ie.variants;return vn&&vn.forEach(en=>{let ir=!0;Object.keys(en.props).forEach(Fn=>{it[Fn]!==en.props[Fn]&&h[Fn]!==en.props[Fn]&&(ir=!1)}),ir&&Wt.push(w[Co(en.props)])}),Wt};function Hs(h){return h!=="ownerState"&&h!=="theme"&&h!=="sx"&&h!=="as"}const G1=so(),qo=h=>h.charAt(0).toLowerCase()+h.slice(1);function Ea({defaultTheme:h,theme:w,themeId:I}){return to(w)?h:w[I]||w}function Va(h={}){const{themeId:w,defaultTheme:I=G1,rootShouldForwardProp:N=Hs,slotShouldForwardProp:ve=Hs}=h,Ie=it=>Jt((0,P.Z)({},it,{theme:Ea((0,P.Z)({},it,{defaultTheme:I,themeId:w}))}));return Ie.__mui_systemSx=!0,(it,Wt={})=>{Gt(it,Tr=>Tr.filter(Nr=>!(Nr!=null&&Nr.__mui_systemSx)));const{name:vn,slot:en,skipVariantsResolver:ir,skipSx:Fn,overridesResolver:qn}=Wt,tr=(0,rn.Z)(Wt,os),Sr=ir!==void 0?ir:en&&en!=="Root"||!1,sr=Fn||!1;let Ui,wi=Hs;en==="Root"?wi=N:en?wi=ve:zo(it)&&(wi=void 0);const Vr=fn(it,(0,P.Z)({shouldForwardProp:wi,label:Ui},tr)),Hi=(Tr,...Nr)=>{const no=Nr?Nr.map(p=>typeof p=="function"&&p.__emotion_real!==p?_=>p((0,P.Z)({},_,{theme:Ea((0,P.Z)({},_,{defaultTheme:I,themeId:w}))})):p):[];let i=Tr;vn&&qn&&no.push(p=>{const _=Ea((0,P.Z)({},p,{defaultTheme:I,themeId:w})),L=Lo(vn,_);if(L){const ye={};return Object.entries(L).forEach(([Ge,Dt])=>{ye[Ge]=typeof Dt=="function"?Dt((0,P.Z)({},p,{theme:_})):Dt}),qn(p,ye)}return null}),vn&&!Sr&&no.push(p=>{const _=Ea((0,P.Z)({},p,{defaultTheme:I,themeId:w}));return qs(p,ca(vn,_),_,vn)}),sr||no.push(Ie);const s=no.length-Nr.length;if(Array.isArray(Tr)&&s>0){const p=new Array(s).fill("");i=[...Tr,...p],i.raw=[...Tr.raw,...p]}else typeof Tr=="function"&&Tr.__emotion_real!==Tr&&(i=p=>Tr((0,P.Z)({},p,{theme:Ea((0,P.Z)({},p,{defaultTheme:I,themeId:w}))})));const u=Vr(i,...no);return it.muiName&&(u.muiName=it.muiName),u};return Vr.withConfig&&(Hi.withConfig=Vr.withConfig),Hi}}var ua=Ks();const zs=h=>Hs(h)&&h!=="classes",Ja=null;var _s=Va({themeId:aa,defaultTheme:ua,rootShouldForwardProp:zs});function X1(h,w){const I=Rt({},w);return Object.keys(h).forEach(N=>{if(N.toString().match(/^(components|slots)$/))I[N]=Rt(Rt({},h[N]),I[N]);else if(N.toString().match(/^(componentsProps|slotProps)$/)){const ve=h[N]||{},Ie=w[N];I[N]={},!Ie||!Object.keys(Ie)?I[N]=ve:!ve||!Object.keys(ve)?I[N]=Ie:(I[N]=Rt({},Ie),Object.keys(ve).forEach(it=>{I[N][it]=X1(ve[it],Ie[it])}))}else I[N]===void 0&&(I[N]=h[N])}),I}function Y1(h){const{theme:w,name:I,props:N}=h;return!w||!w.components||!w.components[I]||!w.components[I].defaultProps?N:X1(w.components[I].defaultProps,N)}function Fa({props:h,name:w,defaultTheme:I,themeId:N}){let ve=ra(I);return N&&(ve=ve[N]||ve),Y1({theme:ve,name:w,props:h})}function P1({props:h,name:w}){return Fa({props:h,name:w,defaultTheme:ua,themeId:aa})}var Ra=jt,ml=$s,h1=hi,ai=j(97014);function qa(h){return h==null||Object.keys(h).length===0}function xs(h){const{styles:w,defaultTheme:I={}}=h,N=typeof w=="function"?ve=>w(qa(ve)?I:ve):w;return(0,he.jsx)(ai.xB,{styles:N})}function gl({styles:h,themeId:w,defaultTheme:I={}}){const N=ra(I),ve=typeof h=="function"?h(w&&N[w]||N):h;return(0,he.jsx)(xs,{styles:ve})}var Zl=gl;function ea(h){return(0,he.jsx)(Zl,(0,P.Z)({},h,{defaultTheme:ua,themeId:aa}))}var K1=ea;function ys(h){return h!=null&&!(Array.isArray(h)&&h.length===0)}function jl(h,w=!1){return h&&(ys(h.value)&&h.value!==""||w&&ys(h.defaultValue)&&h.defaultValue!=="")}function mc(h){return h.startAdornment}const p1={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Qa(h,w,I="Mui"){const N=p1[w];return N?`${I}-${N}`:`${Ps.generate(h)}-${w}`}function vl(h,w,I="Mui"){const N={};return w.forEach(ve=>{N[ve]=Qa(h,ve,I)}),N}function gc(h){return Qa("MuiInputBase",h)}var fa=vl("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);const Cl=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],O1=(h,w)=>{const{ownerState:I}=h;return[w.root,I.formControl&&w.formControl,I.startAdornment&&w.adornedStart,I.endAdornment&&w.adornedEnd,I.error&&w.error,I.size==="small"&&w.sizeSmall,I.multiline&&w.multiline,I.color&&w[`color${Ra(I.color)}`],I.fullWidth&&w.fullWidth,I.hiddenLabel&&w.hiddenLabel]},vc=(h,w)=>{const{ownerState:I}=h;return[w.input,I.size==="small"&&w.inputSizeSmall,I.multiline&&w.inputMultiline,I.type==="search"&&w.inputTypeSearch,I.startAdornment&&w.inputAdornedStart,I.endAdornment&&w.inputAdornedEnd,I.hiddenLabel&&w.inputHiddenLabel]},Cc=h=>{const{classes:w,color:I,disabled:N,error:ve,endAdornment:Ie,focused:it,formControl:Wt,fullWidth:vn,hiddenLabel:en,multiline:ir,readOnly:Fn,size:qn,startAdornment:tr,type:Sr}=h,sr={root:["root",`color${Ra(I)}`,N&&"disabled",ve&&"error",vn&&"fullWidth",it&&"focused",Wt&&"formControl",qn==="small"&&"sizeSmall",ir&&"multiline",tr&&"adornedStart",Ie&&"adornedEnd",en&&"hiddenLabel",Fn&&"readOnly"],input:["input",N&&"disabled",Sr==="search"&&"inputTypeSearch",ir&&"inputMultiline",qn==="small"&&"inputSizeSmall",en&&"inputHiddenLabel",tr&&"inputAdornedStart",Ie&&"inputAdornedEnd",Fn&&"readOnly"]};return Ma(sr,gc,w)},Gl=_s("div",{name:"MuiInputBase",slot:"Root",overridesResolver:O1})(({theme:h,ownerState:w})=>(0,P.Z)({},h.typography.body1,{color:(h.vars||h).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${fa.disabled}`]:{color:(h.vars||h).palette.text.disabled,cursor:"default"}},w.multiline&&(0,P.Z)({padding:"4px 0 5px"},w.size==="small"&&{paddingTop:1}),w.fullWidth&&{width:"100%"})),J1=_s("input",{name:"MuiInputBase",slot:"Input",overridesResolver:vc})(({theme:h,ownerState:w})=>{const I=h.palette.mode==="light",N=(0,P.Z)({color:"currentColor"},h.vars?{opacity:h.vars.opacity.inputPlaceholder}:{opacity:I?.42:.5},{transition:h.transitions.create("opacity",{duration:h.transitions.duration.shorter})}),ve={opacity:"0 !important"},Ie=h.vars?{opacity:h.vars.opacity.inputPlaceholder}:{opacity:I?.42:.5};return(0,P.Z)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":N,"&::-moz-placeholder":N,"&:-ms-input-placeholder":N,"&::-ms-input-placeholder":N,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${fa.formControl} &`]:{"&::-webkit-input-placeholder":ve,"&::-moz-placeholder":ve,"&:-ms-input-placeholder":ve,"&::-ms-input-placeholder":ve,"&:focus::-webkit-input-placeholder":Ie,"&:focus::-moz-placeholder":Ie,"&:focus:-ms-input-placeholder":Ie,"&:focus::-ms-input-placeholder":Ie},[`&.${fa.disabled}`]:{opacity:1,WebkitTextFillColor:(h.vars||h).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},w.size==="small"&&{paddingTop:1},w.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},w.type==="search"&&{MozAppearance:"textfield"})}),_c=(0,he.jsx)(K1,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}});var xc=Y.forwardRef(function(w,I){var N;const ve=P1({props:w,name:"MuiInputBase"}),{"aria-describedby":Ie,autoComplete:it,autoFocus:Wt,className:vn,components:en={},componentsProps:ir={},defaultValue:Fn,disabled:qn,disableInjectingGlobalStyles:tr,endAdornment:Sr,fullWidth:sr=!1,id:Ui,inputComponent:wi="input",inputProps:Vr={},inputRef:Hi,maxRows:Tr,minRows:Nr,multiline:no=!1,name:i,onBlur:s,onChange:u,onClick:p,onFocus:_,onKeyDown:L,onKeyUp:ye,placeholder:Ge,readOnly:Dt,renderSuffix:In,rows:pr,slotProps:Jr={},slots:Ir={},startAdornment:Pi,type:_r="text",value:jo}=ve,Rs=(0,rn.Z)(ve,Cl),Mt=Vr.value!=null?Vr.value:jo,{current:at}=Y.useRef(Mt!=null),It=Y.useRef(),fr=Y.useCallback(es=>{},[]),Er=ml(It,Hi,Vr.ref,fr),[ni,ar]=Y.useState(!1),Br=Ua(),oo=po({props:ve,muiFormControl:Br,states:["color","disabled","error","hiddenLabel","size","required","filled"]});oo.focused=Br?Br.focused:ni,Y.useEffect(()=>{!Br&&qn&&ni&&(ar(!1),s&&s())},[Br,qn,ni,s]);const Wi=Br&&Br.onFilled,Pa=Br&&Br.onEmpty,ll=Y.useCallback(es=>{jl(es)?Wi&&Wi():Pa&&Pa()},[Wi,Pa]);h1(()=>{at&&ll({value:Mt})},[Mt,ll,at]);const s0=es=>{if(oo.disabled){es.stopPropagation();return}_&&_(es),Vr.onFocus&&Vr.onFocus(es),Br&&Br.onFocus?Br.onFocus(es):ar(!0)},a0=es=>{s&&s(es),Vr.onBlur&&Vr.onBlur(es),Br&&Br.onBlur?Br.onBlur(es):ar(!1)},l0=(es,...d0)=>{if(!at){const h0=es.target||It.current;if(h0==null)throw new Error(Pn(1));ll({value:h0.value})}Vr.onChange&&Vr.onChange(es,...d0),u&&u(es,...d0)};Y.useEffect(()=>{ll(It.current)},[]);const c0=es=>{It.current&&es.currentTarget===es.target&&It.current.focus(),p&&!oo.disabled&&p(es)};let wu=wi,k1=Vr;no&&wu==="input"&&(pr?k1=(0,P.Z)({type:void 0,minRows:pr,maxRows:pr},k1):k1=(0,P.Z)({type:void 0,maxRows:Tr,minRows:Nr},k1),wu=rs);const q0=es=>{ll(es.animationName==="mui-auto-fill-cancel"?It.current:{value:"x"})};Y.useEffect(()=>{Br&&Br.setAdornedStart(Boolean(Pi))},[Br,Pi]);const Ic=(0,P.Z)({},ve,{color:oo.color||"primary",disabled:oo.disabled,endAdornment:Sr,error:oo.error,focused:oo.focused,formControl:Br,fullWidth:sr,hiddenLabel:oo.hiddenLabel,multiline:no,size:oo.size,startAdornment:Pi,type:_r}),Mu=Cc(Ic),u0=Ir.root||en.Root||Gl,bu=Jr.root||ir.root||{},f0=Ir.input||en.Input||J1;return k1=(0,P.Z)({},k1,(N=Jr.input)!=null?N:ir.input),(0,he.jsxs)(Y.Fragment,{children:[!tr&&_c,(0,he.jsxs)(u0,(0,P.Z)({},bu,!Sa(u0)&&{ownerState:(0,P.Z)({},Ic,bu.ownerState)},{ref:I,onClick:c0},Rs,{className:(0,Kt.default)(Mu.root,bu.className,vn,Dt&&"MuiInputBase-readOnly"),children:[Pi,(0,he.jsx)(Ws.Provider,{value:null,children:(0,he.jsx)(f0,(0,P.Z)({ownerState:Ic,"aria-invalid":oo.error,"aria-describedby":Ie,autoComplete:it,autoFocus:Wt,defaultValue:Fn,disabled:oo.disabled,id:Ui,onAnimationStart:q0,name:i,placeholder:Ge,readOnly:Dt,required:oo.required,rows:pr,value:Mt,onKeyDown:L,onKeyUp:ye,type:_r},k1,!Sa(f0)&&{as:wu,ownerState:(0,P.Z)({},Ic,k1.ownerState)},{ref:Er,className:(0,Kt.default)(Mu.input,k1.className,Dt&&"MuiInputBase-readOnly"),onBlur:a0,onChange:l0,onFocus:s0}))}),Sr,In?In((0,P.Z)({},oo,{startAdornment:Pi})):null]}))]})});function $i(h){const{children:w,defer:I=!1,fallback:N=null}=h,[ve,Ie]=Y.useState(!1);return hi(()=>{I||Ie(!0)},[I]),Y.useEffect(()=>{I&&Ie(!0)},[I]),(0,he.jsx)(Y.Fragment,{children:ve?w:N})}var ws=$i;function ka(h){return Qa("MuiSvgIcon",h)}const Xl=vl("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var $a=null;const m1=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g1=h=>{const{color:w,fontSize:I,classes:N}=h,ve={root:["root",w!=="inherit"&&`color${Ra(w)}`,`fontSize${Ra(I)}`]};return Ma(ve,ka,N)},Yl=_s("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(h,w)=>{const{ownerState:I}=h;return[w.root,I.color!=="inherit"&&w[`color${Ra(I.color)}`],w[`fontSize${Ra(I.fontSize)}`]]}})(({theme:h,ownerState:w})=>{var I,N,ve,Ie,it,Wt,vn,en,ir,Fn,qn,tr,Sr,sr,Ui,wi,Vr;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(I=h.transitions)==null||(N=I.create)==null?void 0:N.call(I,"fill",{duration:(ve=h.transitions)==null||(Ie=ve.duration)==null?void 0:Ie.shorter}),fontSize:{inherit:"inherit",small:((it=h.typography)==null||(Wt=it.pxToRem)==null?void 0:Wt.call(it,20))||"1.25rem",medium:((vn=h.typography)==null||(en=vn.pxToRem)==null?void 0:en.call(vn,24))||"1.5rem",large:((ir=h.typography)==null||(Fn=ir.pxToRem)==null?void 0:Fn.call(ir,35))||"2.1875rem"}[w.fontSize],color:(qn=(tr=(h.vars||h).palette)==null||(Sr=tr[w.color])==null?void 0:Sr.main)!=null?qn:{action:(sr=(h.vars||h).palette)==null||(Ui=sr.action)==null?void 0:Ui.active,disabled:(wi=(h.vars||h).palette)==null||(Vr=wi.action)==null?void 0:Vr.disabled,inherit:void 0}[w.color]}}),Zs=Y.forwardRef(function(w,I){const N=P1({props:w,name:"MuiSvgIcon"}),{children:ve,className:Ie,color:it="inherit",component:Wt="svg",fontSize:vn="medium",htmlColor:en,inheritViewBox:ir=!1,titleAccess:Fn,viewBox:qn="0 0 24 24"}=N,tr=(0,rn.Z)(N,m1),Sr=(0,P.Z)({},N,{color:it,component:Wt,fontSize:vn,instanceFontSize:w.fontSize,inheritViewBox:ir,viewBox:qn}),sr={};ir||(sr.viewBox=qn);const Ui=g1(Sr);return(0,he.jsxs)(Yl,(0,P.Z)({as:Wt,className:(0,Kt.default)(Ui.root,Ie),focusable:"false",color:en,"aria-hidden":Fn?void 0:!0,role:Fn?"img":void 0,ref:I},sr,tr,{ownerState:Sr,children:[ve,Fn?(0,he.jsx)("title",{children:Fn}):null]}))});Zs.muiName="SvgIcon";var _l=Zs,Wa=h=>{let w;return h<1?w=5.11916*pc(h,2):w=4.5*Math.log(h+1)+2,(w/100).toFixed(2)};function ss(h){return Qa("MuiPaper",h)}const Kl=vl("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var hs=null;const H1=["className","component","elevation","square","variant"],yo=h=>{const{square:w,elevation:I,variant:N,classes:ve}=h,Ie={root:["root",N,!w&&"rounded",N==="elevation"&&`elevation${I}`]};return Ma(Ie,ss,ve)},xl=_s("div",{name:"MuiPaper",slot:"Root",overridesResolver:(h,w)=>{const{ownerState:I}=h;return[w.root,w[I.variant],!I.square&&w.rounded,I.variant==="elevation"&&w[`elevation${I.elevation}`]]}})(({theme:h,ownerState:w})=>{var I;return(0,P.Z)({backgroundColor:(h.vars||h).palette.background.paper,color:(h.vars||h).palette.text.primary,transition:h.transitions.create("box-shadow")},!w.square&&{borderRadius:h.shape.borderRadius},w.variant==="outlined"&&{border:`1px solid ${(h.vars||h).palette.divider}`},w.variant==="elevation"&&(0,P.Z)({boxShadow:(h.vars||h).shadows[w.elevation]},!h.vars&&h.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ie("#fff",Wa(w.elevation))}, ${ie("#fff",Wa(w.elevation))})`},h.vars&&{backgroundImage:(I=h.vars.overlays)==null?void 0:I[w.elevation]}))});var cr=Y.forwardRef(function(w,I){const N=P1({props:w,name:"MuiPaper"}),{className:ve,component:Ie="div",elevation:it=1,square:Wt=!1,variant:vn="elevation"}=N,en=(0,rn.Z)(N,H1),ir=(0,P.Z)({},N,{component:Ie,elevation:it,square:Wt,variant:vn}),Fn=yo(ir);return(0,he.jsx)(xl,(0,P.Z)({as:Ie,ownerState:ir,className:(0,Kt.default)(Fn.root,ve),ref:I},en))}),La=Y.createContext(null);function da(){return Y.useContext(La)}var Ms=typeof Symbol=="function"&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";function z1(h,w){return typeof w=="function"?w(h):Rt(Rt({},h),w)}function Jl(h){const{children:w,theme:I}=h,N=da(),ve=Y.useMemo(()=>{const Ie=N===null?I:z1(N,I);return Ie!=null&&(Ie[Ms]=N!==null),Ie},[I,N]);return(0,he.jsx)(La.Provider,{value:ve,children:w})}var No=Jl;const v1={};function lo(h,w,I,N=!1){return Y.useMemo(()=>{const ve=h&&w[h]||w;if(typeof I=="function"){const Ie=I(ve),it=h?(0,P.Z)({},w,{[h]:Ie}):Ie;return N?()=>it:it}return h?(0,P.Z)({},w,{[h]:I}):(0,P.Z)({},w,I)},[h,w,I,N])}function wc(h){const{children:w,theme:I,themeId:N}=h,ve=Mo(v1),Ie=da()||v1,it=lo(N,ve,I),Wt=lo(N,Ie,I,!0);return(0,he.jsx)(No,{theme:Wt,children:(0,he.jsx)(xi.T.Provider,{value:it,children:w})})}var yl=wc;const wl=["theme"];function Mc(h){let{theme:w}=h,I=(0,rn.Z)(h,wl);const N=w[aa];return(0,he.jsx)(yl,(0,P.Z)({},I,{themeId:N?aa:void 0,theme:N||w}))}var e1=j(42295),ql=j(67475),Ml=j(874);function q1(h){var w,I,N="";if(typeof h=="string"||typeof h=="number")N+=h;else if(typeof h=="object")if(Array.isArray(h))for(w=0;w<h.length;w++)h[w]&&(I=q1(h[w]))&&(N&&(N+=" "),N+=I);else for(w in h)h[w]&&(N&&(N+=" "),N+=w);return N}function Mr(){for(var h,w,I=0,N="";I<arguments.length;)(h=arguments[I++])&&(w=q1(h))&&(N&&(N+=" "),N+=w);return N}const Q1={scheme:"Light Theme",author:"mac gainor (https://github.com/mac-s-g)",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#ffd500",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},Ql={scheme:"Dark Theme",author:"Chris Kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},Bo=()=>null;Bo.when=()=>!1;const ec=h=>{var w,I,N,ve,Ie,it,Wt,vn,en,ir,Fn,qn,tr,Sr,sr,Ui,wi;return(0,e1.Ue)()((Vr,Hi)=>({enableClipboard:(w=h.enableClipboard)!==null&&w!==void 0?w:!0,highlightUpdates:(I=h.highlightUpdates)!==null&&I!==void 0?I:!1,indentWidth:(N=h.indentWidth)!==null&&N!==void 0?N:3,groupArraysAfterLength:(ve=h.groupArraysAfterLength)!==null&&ve!==void 0?ve:100,collapseStringsAfterLength:h.collapseStringsAfterLength===!1?Number.MAX_VALUE:(Ie=h.collapseStringsAfterLength)!==null&&Ie!==void 0?Ie:50,maxDisplayLength:(it=h.maxDisplayLength)!==null&&it!==void 0?it:30,rootName:(Wt=h.rootName)!==null&&Wt!==void 0?Wt:"root",onChange:(vn=h.onChange)!==null&&vn!==void 0?vn:()=>{},onCopy:(en=h.onCopy)!==null&&en!==void 0?en:void 0,onSelect:(ir=h.onSelect)!==null&&ir!==void 0?ir:void 0,keyRenderer:(Fn=h.keyRenderer)!==null&&Fn!==void 0?Fn:Bo,editable:(qn=h.editable)!==null&&qn!==void 0?qn:!1,defaultInspectDepth:(tr=h.defaultInspectDepth)!==null&&tr!==void 0?tr:5,objectSortKeys:(Sr=h.objectSortKeys)!==null&&Sr!==void 0?Sr:!1,quotesOnKeys:(sr=h.quotesOnKeys)!==null&&sr!==void 0?sr:!0,displayDataTypes:(Ui=h.displayDataTypes)!==null&&Ui!==void 0?Ui:!0,inspectCache:{},hoverPath:null,colorspace:Q1,value:h.value,prevValue:void 0,displaySize:(wi=h.displaySize)!==null&&wi!==void 0?wi:!0,getInspectCache:(Tr,Nr)=>{const no=Nr!==void 0?Tr.join(".")+"[".concat(Nr,"]nt"):Tr.join(".");return Hi().inspectCache[no]},setInspectCache:(Tr,Nr,no)=>{const i=no!==void 0?Tr.join(".")+"[".concat(no,"]nt"):Tr.join(".");Vr(s=>({inspectCache:Kr(Rt({},s.inspectCache),{[i]:typeof Nr=="function"?Nr(s.inspectCache[i]):Nr})}))},setHover:(Tr,Nr)=>{Vr({hoverPath:Tr?{path:Tr,nestedIndex:Nr}:null})}}))},Ta=(0,Y.createContext)(void 0);Ta.Provider;const $r=(h,w)=>{const I=(0,Y.useContext)(Ta);return(0,e1.oR)(I,h,w)},js=()=>$r(h=>h.colorspace.base07),Qo=Object.prototype.constructor.toString();function gn(h){if(!h||typeof h!="object")return!1;const w=Object.getPrototypeOf(h);if(w===null)return!0;const I=Object.hasOwnProperty.call(w,"constructor")&&w.constructor;return I===Object?!0:typeof I=="function"&&Function.toString.call(I)===Qo}function el(h){return h?gn(h)||Array.isArray(h)||h instanceof Map||h instanceof Set:!1}function ta(h){return Array.isArray(h)?Array.prototype.slice.call(h):h instanceof Set?new Set(h):h instanceof Map?new Map(h):typeof h=="object"&&h!==null?Object.assign({},h):h}function tl(h,w,I){if(typeof h!="object"||h===null){if(w.length!==0)throw new Error("path is incorrect");return I}el(h)&&(h=ta(h));const[ve,...Ie]=w;if(ve!==void 0){if(ve==="__proto__")throw new TypeError("Modification of prototype is not allowed");Ie.length>0?h[ve]=tl(h[ve],Ie,I):h[ve]=I}return h}function Qc(h,w,I,N,ve){return{is:h,Component:w,Editor:I,PreComponent:N,PostComponent:ve}}function ha(h){let{is:w,serialize:I,deserialize:N,Component:ve,Editor:Ie,PreComponent:it,PostComponent:Wt}=h;return{is:w,serialize:I,deserialize:N,Component:ve,Editor:Ie,PreComponent:it,PostComponent:Wt}}const Aa=(h,w,I)=>{if(h===null||I===null||typeof h!="object"||typeof I!="object")return!1;if(Object.is(h,I)&&w.length!==0)return"";const N=[],ve=[...w];let Ie=h;for(;Ie!==I||ve.length!==0;){if(typeof Ie!="object"||Ie===null)return!1;if(Object.is(Ie,I))return N.reduce((Wt,vn,en)=>typeof vn=="number"?Wt+"[".concat(vn,"]"):Wt+"".concat(en===0?"":".").concat(vn),"");const it=ve.shift();N.push(it),Ie=Ie[it]}return!1};function na(h){return h===null?0:Array.isArray(h)?h.length:h instanceof Map||h instanceof Set?h.size:h instanceof Date?1:typeof h=="object"?Object.keys(h).length:typeof h=="string"?h.length:1}function nl(h,w){const I=[];let N=0;for(;N<h.length;)I.push(h.slice(N,N+w)),N+=w;return I}function rl(h,w){const I=[];function N(ve,Ie){if(typeof Ie=="bigint")return Ie.toString();if(Ie instanceof Map){if("toJSON"in Ie&&typeof Ie.toJSON=="function")return Ie.toJSON();if(Ie.size===0)return{};if(I.includes(Ie))return"[Circular]";I.push(Ie);const it=Array.from(Ie.entries());return it.every(Wt=>{let[vn]=Wt;return typeof vn=="string"||typeof vn=="number"})?Object.fromEntries(it):{}}if(Ie instanceof Set)return"toJSON"in Ie&&typeof Ie.toJSON=="function"?Ie.toJSON():I.includes(Ie)?"[Circular]":(I.push(Ie),Array.from(Ie.values()));if(typeof Ie=="object"&&Ie!==null&&Object.keys(Ie).length){const it=I.length;if(it){for(let Wt=it-1;Wt>=0&&I[Wt][ve]!==Ie;--Wt)I.pop();if(I.includes(Ie))return"[Circular]"}I.push(Ie)}return Ie}return JSON.stringify(h,N,w)}function C1(h){return Wl(this,null,function*(){if("clipboard"in navigator)try{yield navigator.clipboard.writeText(h)}catch(w){}Ml(h)})}function il(){let{timeout:h=2e3}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[w,I]=(0,Y.useState)(!1),N=(0,Y.useRef)(null),ve=(0,Y.useCallback)(vn=>{const en=N.current;en&&window.clearTimeout(en),N.current=window.setTimeout(()=>I(!1),h),I(vn)},[h]),Ie=$r(vn=>vn.onCopy),it=(0,Y.useCallback)((vn,en)=>Wl(this,null,function*(){if(typeof Ie=="function")try{yield Ie(vn,en,C1),ve(!0)}catch(ir){console.error("error when copy ".concat(vn.length===0?"src":"src[".concat(vn.join(".")),"]"),ir)}else try{const ir=rl(typeof en=="function"?en.toString():en,"  ");yield C1(ir),ve(!0)}catch(ir){console.error("error when copy ".concat(vn.length===0?"src":"src[".concat(vn.join(".")),"]"),ir)}}),[ve,Ie]),Wt=(0,Y.useCallback)(()=>{I(!1),N.current&&clearTimeout(N.current)},[]);return{copy:it,reset:Wt,copied:w}}function _1(h,w){const I=$r(N=>N.value);return(0,Y.useMemo)(()=>Aa(I,h,w),[h,w,I])}function tc(h,w,I){const N=h.length,ve=_1(h,w),Ie=$r(Fn=>Fn.getInspectCache),it=$r(Fn=>Fn.setInspectCache),Wt=$r(Fn=>Fn.defaultInspectDepth);(0,Y.useEffect)(()=>{if(Ie(h,I)===void 0)if(I!==void 0)it(h,!1,I);else{const qn=ve?!1:N<Wt;it(h,qn)}},[Wt,N,Ie,ve,I,h,it]);const[vn,en]=(0,Y.useState)(()=>{const Fn=Ie(h,I);return Fn!==void 0?Fn:I!==void 0||ve?!1:N<Wt}),ir=(0,Y.useCallback)(Fn=>{en(qn=>{const tr=typeof Fn=="boolean"?Fn:Fn(qn);return it(h,tr,I),tr})},[I,h,it]);return[vn,ir]}const pa=h=>(0,he.jsx)(vo,Kr(Rt({component:"div"},h),{sx:Rt({display:"inline-block"},h.sx)})),ol=h=>{let{dataType:w,enable:I=!0}=h;return I?(0,he.jsx)(pa,{className:"data-type-label",sx:{mx:.5,fontSize:"0.7rem",opacity:.8,userSelect:"none"},children:w}):null};function Gs(h){let{is:w,serialize:I,deserialize:N,type:ve,colorKey:Ie,displayTypeLabel:it=!0,Renderer:Wt}=h;const vn=(0,Y.memo)(Wt),en=Fn=>{const qn=$r(sr=>sr.displayDataTypes),tr=$r(sr=>sr.colorspace[Ie]),Sr=$r(sr=>sr.onSelect);return(0,he.jsxs)(pa,{onClick:()=>Sr==null?void 0:Sr(Fn.path,Fn.value),sx:{color:tr},children:[it&&qn&&(0,he.jsx)(ol,{dataType:ve}),(0,he.jsx)(pa,{className:"".concat(ve,"-value"),children:(0,he.jsx)(vn,{path:Fn.path,inspect:Fn.inspect,setInspect:Fn.setInspect,value:Fn.value,prevValue:Fn.prevValue})})]})};if(en.displayName="easy-".concat(ve,"-type"),!I||!N)return{is:w,Component:en};const ir=Fn=>{let{value:qn,setValue:tr}=Fn;const Sr=$r(sr=>sr.colorspace[Ie]);return(0,he.jsx)(xc,{value:qn,onChange:(0,Y.useCallback)(sr=>{tr(sr.target.value)},[tr]),size:"small",multiline:!0,sx:{color:Sr,padding:.5,borderStyle:"solid",borderColor:"black",borderWidth:1,fontSize:"0.8rem",fontFamily:"monospace",display:"inline-flex"}})};return ir.displayName="easy-".concat(ve,"-type-editor"),{is:w,serialize:I,deserialize:N,Component:en,Editor:ir}}const N1=Gs({is:h=>typeof h=="boolean",type:"bool",colorKey:"base0E",serialize:h=>h.toString(),deserialize:h=>{if(h==="true")return!0;if(h==="false")return!1;throw new Error("Invalid boolean value")},Renderer:h=>{let{value:w}=h;return(0,he.jsx)(he.Fragment,{children:w?"true":"false"})}}),Fo={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},eu=Gs({is:h=>h instanceof Date,type:"date",colorKey:"base0D",Renderer:h=>{let{value:w}=h;return(0,he.jsx)(he.Fragment,{children:w.toLocaleTimeString("en-us",Fo)})}}),bl=h=>{const w=h.toString();let I=!0;const N=w.indexOf(")"),ve=w.indexOf("=>");return ve!==-1&&ve>N&&(I=!1),I?w.substring(w.indexOf("{",N)+1,w.lastIndexOf("}")):w.substring(w.indexOf("=>")+2)},Za=h=>{const w=h.toString();return w.indexOf("function")!==-1?w.substring(8,w.indexOf("{")).trim():w.substring(0,w.indexOf("=>")+2).trim()},x1="{",ps="}",Rl={is:h=>typeof h=="function",Component:h=>{const w=$r(I=>I.colorspace.base05);return(0,he.jsx)(ws,{children:(0,he.jsx)(vo,{className:"data-function",sx:{display:h.inspect?"block":"inline-block",pl:h.inspect?2:0,color:w},children:h.inspect?bl(h.value):(0,he.jsx)(vo,{component:"span",className:"data-function-body",onClick:()=>h.setInspect(!0),sx:{"&:hover":{cursor:"pointer"},padding:.5},children:"\u2026"})})})},PreComponent:h=>(0,he.jsxs)(ws,{children:[(0,he.jsx)(ol,{dataType:"function"}),(0,he.jsxs)(vo,{component:"span",className:"data-function-start",sx:{letterSpacing:.5},children:[Za(h.value)," ",x1]})]}),PostComponent:()=>(0,he.jsx)(ws,{children:(0,he.jsx)(vo,{component:"span",className:"data-function-end",children:ps})})},Ll=Gs({is:h=>h===null,type:"null",colorKey:"base08",displayTypeLabel:!1,Renderer:()=>{const h=$r(w=>w.colorspace.base02);return(0,he.jsx)(vo,{sx:{fontSize:"0.8rem",backgroundColor:h,fontWeight:"bold",borderRadius:"3px",padding:"0.5px 2px"},children:"NULL"})}}),Ns=h=>h%1===0,t1=Gs({is:h=>typeof h=="number"&&isNaN(h),type:"NaN",colorKey:"base08",displayTypeLabel:!1,serialize:()=>"NaN",deserialize:h=>parseFloat(h),Renderer:()=>{const h=$r(w=>w.colorspace.base02);return(0,he.jsx)(vo,{sx:{backgroundColor:h,fontSize:"0.8rem",fontWeight:"bold",borderRadius:"3px",padding:"0.5px 2px"},children:"NaN"})}}),Zo=Gs({is:h=>typeof h=="number"&&!Ns(h)&&!isNaN(h),type:"float",colorKey:"base0B",serialize:h=>h.toString(),deserialize:h=>parseFloat(h),Renderer:h=>{let{value:w}=h;return(0,he.jsx)(he.Fragment,{children:w})}}),n1=Gs({is:h=>typeof h=="number"&&Ns(h),type:"int",colorKey:"base0F",serialize:h=>h.toString(),deserialize:h=>parseFloat(h),Renderer:h=>{let{value:w}=h;return(0,he.jsx)(he.Fragment,{children:w})}}),r1=Gs({is:h=>typeof h=="bigint",type:"bigint",colorKey:"base0F",serialize:h=>h.toString(),deserialize:h=>BigInt(h.replace(/\D/g,"")),Renderer:h=>{let{value:w}=h;return(0,he.jsx)(he.Fragment,{children:"".concat(w,"n")})}}),ja=h=>{let N=h,{d:w}=N,I=ls(N,["d"]);return(0,he.jsx)(_l,Kr(Rt({},I),{children:(0,he.jsx)("path",{d:w})}))},y1="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z",bc="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",B1="M 12 2 C 10.615 1.998 9.214625 2.2867656 7.890625 2.8847656 L 8.9003906 4.6328125 C 9.9043906 4.2098125 10.957 3.998 12 4 C 15.080783 4 17.738521 5.7633175 19.074219 8.3222656 L 17.125 9 L 21.25 11 L 22.875 7 L 20.998047 7.6523438 C 19.377701 4.3110398 15.95585 2 12 2 z M 6.5097656 4.4882812 L 2.2324219 5.0820312 L 3.734375 6.3808594 C 1.6515335 9.4550558 1.3615962 13.574578 3.3398438 17 C 4.0308437 18.201 4.9801562 19.268234 6.1601562 20.115234 L 7.1699219 18.367188 C 6.3019219 17.710187 5.5922656 16.904 5.0722656 16 C 3.5320014 13.332354 3.729203 10.148679 5.2773438 7.7128906 L 6.8398438 9.0625 L 6.5097656 4.4882812 z M 19.929688 13 C 19.794687 14.08 19.450734 15.098 18.927734 16 C 17.386985 18.668487 14.531361 20.090637 11.646484 19.966797 L 12.035156 17.9375 L 8.2402344 20.511719 L 10.892578 23.917969 L 11.265625 21.966797 C 14.968963 22.233766 18.681899 20.426323 20.660156 17 C 21.355156 15.801 21.805219 14.445 21.949219 13 L 19.929688 13 z",nc="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",Uo="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",li="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",wo="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z",So=h=>(0,he.jsx)(ja,Rt({d:y1},h)),ko=h=>(0,he.jsx)(ja,Rt({d:bc},h)),Bs=h=>(0,he.jsx)(ja,Rt({d:B1},h)),U1=h=>(0,he.jsx)(ja,Rt({d:nc},h)),Eo=h=>(0,he.jsx)(ja,Rt({d:Uo},h)),sl=h=>(0,he.jsx)(ja,Rt({d:li},h)),V1=h=>(0,he.jsx)(ja,Rt({d:wo},h)),Tl="{",rc="[",al="}",Us="]";function Al(h){const w=na(h);let I="";return(h instanceof Map||h instanceof Set)&&(I=h[Symbol.toStringTag]),Object.prototype.hasOwnProperty.call(h,Symbol.toStringTag)&&(I=h[Symbol.toStringTag]),"".concat(w," Items").concat(I?" (".concat(I,")"):"")}const ic=h=>{const w=$r(en=>en.colorspace.base04),I=js(),N=(0,Y.useMemo)(()=>Array.isArray(h.value),[h.value]),ve=(0,Y.useMemo)(()=>na(h.value)===0,[h.value]),Ie=(0,Y.useMemo)(()=>Al(h.value),[h.value]),it=$r(en=>en.displaySize),Wt=(0,Y.useMemo)(()=>typeof it=="function"?it(h.path,h.value):it,[it,h.path,h.value]),vn=_1(h.path,h.value);return(0,he.jsxs)(vo,{component:"span",className:"data-object-start",sx:{letterSpacing:.5},children:[N?rc:Tl,Wt&&h.inspect&&!ve&&(0,he.jsx)(vo,{component:"span",sx:{pl:.5,fontStyle:"italic",color:w,userSelect:"none"},children:Ie}),vn&&!h.inspect&&(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(Bs,{sx:{fontSize:12,color:I,mx:.5}}),vn]})]})},F1=h=>{const w=$r(Wt=>Wt.colorspace.base04),I=(0,Y.useMemo)(()=>Array.isArray(h.value),[h.value]),N=(0,Y.useMemo)(()=>na(h.value)===0,[h.value]),ve=(0,Y.useMemo)(()=>Al(h.value),[h.value]),Ie=$r(Wt=>Wt.displaySize),it=(0,Y.useMemo)(()=>typeof Ie=="function"?Ie(h.path,h.value):Ie,[Ie,h.path,h.value]);return(0,he.jsxs)(vo,{component:"span",className:"data-object-end",children:[I?Us:al,it&&(N||!h.inspect)?(0,he.jsx)(vo,{component:"span",sx:{pl:.5,fontStyle:"italic",color:w,userSelect:"none"},children:ve}):null]})};function Pl(h){return typeof(h==null?void 0:h[Symbol.iterator])=="function"}const i1={is:h=>typeof h=="object",Component:h=>{const w=js(),I=$r(tr=>tr.colorspace.base02),N=$r(tr=>tr.groupArraysAfterLength),ve=_1(h.path,h.value),[Ie,it]=(0,Y.useState)($r(tr=>tr.maxDisplayLength)),Wt=$r(tr=>tr.objectSortKeys),vn=(0,Y.useMemo)(()=>{if(!h.inspect)return null;const tr=h.value;if(Pl(tr)&&!Array.isArray(tr)){const wi=[];if(tr instanceof Map)tr.forEach((Vr,Hi)=>{const Tr=Hi.toString(),Nr=[...h.path,Tr];wi.push((0,he.jsx)(Ga,{path:Nr,value:Vr,prevValue:h.prevValue instanceof Map?h.prevValue.get(Hi):void 0,editable:!1},Tr))});else{const Vr=tr[Symbol.iterator]();let Hi=Vr.next(),Tr=0;for(;!Hi.done;)wi.push((0,he.jsx)(Ga,{path:[...h.path,"iterator:".concat(Tr)],value:Hi.value,nestedIndex:Tr,editable:!1},Tr)),Tr++,Hi=Vr.next()}return wi}if(Array.isArray(tr)){if(tr.length<=N){const Hi=tr.slice(0,Ie).map((Tr,Nr)=>{const no=[...h.path,Nr];return(0,he.jsx)(Ga,{path:no,value:Tr,prevValue:Array.isArray(h.prevValue)?h.prevValue[Nr]:void 0},Nr)});if(tr.length>Ie){const Tr=tr.length-Ie;Hi.push((0,he.jsxs)(pa,{sx:{cursor:"pointer",lineHeight:1.5,color:w,letterSpacing:.5,opacity:.8,userSelect:"none"},onClick:()=>it(Nr=>Nr*2),children:["hidden ",Tr," items\u2026"]},"last"))}return Hi}const wi=nl(tr,N),Vr=Array.isArray(h.prevValue)?nl(h.prevValue,N):void 0;return wi.map((Hi,Tr)=>{const Nr=[...h.path];return(0,he.jsx)(Ga,{path:Nr,value:Hi,nestedIndex:Tr,prevValue:Vr==null?void 0:Vr[Tr]},Tr)})}let sr=Object.entries(tr);Wt&&(sr=Wt===!0?sr.sort((wi,Vr)=>{let[Hi]=wi,[Tr]=Vr;return Hi.localeCompare(Tr)}):sr.sort((wi,Vr)=>{let[Hi]=wi,[Tr]=Vr;return Wt(Hi,Tr)}));const Ui=sr.slice(0,Ie).map(wi=>{let[Vr,Hi]=wi;var Tr;const Nr=[...h.path,Vr];return(0,he.jsx)(Ga,{path:Nr,value:Hi,prevValue:(Tr=h.prevValue)===null||Tr===void 0?void 0:Tr[Vr]},Vr)});if(sr.length>Ie){const wi=sr.length-Ie;Ui.push((0,he.jsxs)(pa,{sx:{cursor:"pointer",lineHeight:1.5,color:w,letterSpacing:.5,opacity:.8,userSelect:"none"},onClick:()=>it(Vr=>Vr*2),children:["hidden ",wi," items\u2026"]},"last"))}return Ui},[h.inspect,h.value,h.prevValue,h.path,N,Ie,w,Wt]),en=h.inspect?.6:0,ir=$r(tr=>tr.indentWidth),Fn=h.inspect?ir-en:ir;return(0,Y.useMemo)(()=>na(h.value)===0,[h.value])?null:(0,he.jsx)(vo,{className:"data-object",sx:{display:h.inspect?"block":"inline-block",pl:h.inspect?Fn-.6:0,marginLeft:en,color:w,borderLeft:h.inspect?"1px solid ".concat(I):"none"},children:h.inspect?vn:!ve&&(0,he.jsx)(vo,{component:"span",className:"data-object-body",onClick:()=>h.setInspect(!0),sx:{"&:hover":{cursor:"pointer"},padding:.5,userSelect:"none"},children:"\u2026"})})},PreComponent:ic,PostComponent:F1},Il=Gs({is:h=>typeof h=="string",type:"string",colorKey:"base09",serialize:h=>h,deserialize:h=>h,Renderer:h=>{const[w,I]=(0,Y.useState)(!1),N=$r(it=>it.collapseStringsAfterLength),ve=w?h.value:h.value.slice(0,N),Ie=h.value.length>N;return(0,he.jsxs)(vo,{component:"span",sx:{overflowWrap:"anywhere",cursor:Ie?"pointer":"inherit"},onClick:()=>{Ie&&I(it=>!it)},children:['"',ve,Ie&&!w&&(0,he.jsx)(vo,{component:"span",sx:{padding:.5},children:"\u2026"}),'"']})}}),o1=Gs({is:h=>h===void 0,type:"undefined",colorKey:"base05",displayTypeLabel:!1,Renderer:()=>{const h=$r(w=>w.colorspace.base02);return(0,he.jsx)(vo,{sx:{fontSize:"0.7rem",backgroundColor:h,borderRadius:"3px",padding:"0.5px 2px"},children:"undefined"})}}),Ol=()=>(0,ql.M)()(h=>({registry:[],registerTypes:w=>{h(I=>({registry:typeof w=="function"?w(I.registry):w}))}})),w1=(0,Y.createContext)(void 0);w1.Provider;const Dl=(h,w)=>{const I=(0,Y.useContext)(w1);return(0,e1.oR)(I,h,w)};function Hl(h,w,I){let N;for(const ve of I)ve.is(h,w)&&(N=ve);if(N===void 0){if(typeof h=="object")return i1;throw new Error("No type matched for value: ".concat(h))}return N}function zl(h,w){const I=Dl(N=>N.registry);return(0,Y.useMemo)(()=>Hl(h,w,I),[h,w,I])}function Ro(h){function w(I,N){var ve,Ie;return Object.is(I.value,N.value)&&I.inspect&&N.inspect&&((ve=I.path)===null||ve===void 0?void 0:ve.join("."))===((Ie=N.path)===null||Ie===void 0?void 0:Ie.join("."))}return h.Component=(0,Y.memo)(h.Component,w),h.Editor&&(h.Editor=(0,Y.memo)(h.Editor,function(N,ve){return Object.is(N.value,ve.value)})),h.PreComponent&&(h.PreComponent=(0,Y.memo)(h.PreComponent,w)),h.PostComponent&&(h.PostComponent=(0,Y.memo)(h.PostComponent,w)),h}const ma=[Ro(N1),Ro(eu),Ro(Ll),Ro(o1),Ro(Il),Ro(Rl),Ro(t1),Ro(n1),Ro(Zo),Ro(r1)],bs=h=>(0,he.jsx)(vo,Kr(Rt({component:"span"},h),{sx:Rt({cursor:"pointer",paddingLeft:"0.7rem"},h.sx)})),Ga=h=>{const{value:w,prevValue:I,path:N,nestedIndex:ve}=h,{Component:Ie,PreComponent:it,PostComponent:Wt,Editor:vn,serialize:en,deserialize:ir}=zl(w,N);var Fn;const qn=(Fn=h.editable)!==null&&Fn!==void 0?Fn:void 0,tr=$r(ar=>ar.editable),Sr=(0,Y.useMemo)(()=>tr===!1||qn===!1?!1:typeof tr=="function"?!!tr(N,w):tr,[N,qn,tr,w]),[sr,Ui]=(0,Y.useState)(""),wi=N.length,Vr=N[wi-1],Hi=$r(ar=>ar.hoverPath),Tr=(0,Y.useMemo)(()=>Hi&&N.every((ar,Br)=>ar===Hi.path[Br]&&ve===Hi.nestedIndex),[Hi,N,ve]),Nr=$r(ar=>ar.setHover),no=$r(ar=>ar.value),[i,s]=tc(N,w,ve),[u,p]=(0,Y.useState)(!1),_=$r(ar=>ar.onChange),L=js(),ye=$r(ar=>ar.colorspace.base0C),Ge=$r(ar=>ar.colorspace.base0A),Dt=$r(ar=>ar.quotesOnKeys),In=$r(ar=>ar.rootName),pr=no===w,Jr=Number.isInteger(Number(Vr)),Ir=$r(ar=>ar.enableClipboard),{copy:Pi,copied:_r}=il(),jo=$r(ar=>ar.highlightUpdates),Rs=(0,Y.useMemo)(()=>!jo||I===void 0?!1:typeof w!=typeof I?!0:typeof w=="number"?isNaN(w)&&isNaN(I)?!1:w!==I:Array.isArray(w)!==Array.isArray(I)?!0:typeof w=="object"||typeof w=="function"?!1:w!==I,[jo,I,w]),Mt=(0,Y.useRef)();(0,Y.useEffect)(()=>{Mt.current&&Rs&&"animate"in Mt.current&&Mt.current.animate([{backgroundColor:Ge},{backgroundColor:""}],{duration:1e3,easing:"ease-in"})},[Ge,Rs,I,w]);const at=(0,Y.useMemo)(()=>u&&ir?(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(bs,{children:(0,he.jsx)(U1,{sx:{fontSize:".8rem"},onClick:()=>{p(!1),Ui("")}})}),(0,he.jsx)(bs,{children:(0,he.jsx)(So,{sx:{fontSize:".8rem"},onClick:()=>{p(!1);try{const ar=ir(sr);_(N,w,ar)}catch(ar){}}})})]}):(0,he.jsxs)(he.Fragment,{children:[Ir&&(0,he.jsx)(bs,{onClick:ar=>{ar.preventDefault();try{Pi(N,w,C1)}catch(Br){console.error(Br)}},children:_r?(0,he.jsx)(So,{sx:{fontSize:".8rem"}}):(0,he.jsx)(Eo,{sx:{fontSize:".8rem"}})}),vn&&Sr&&en&&ir&&(0,he.jsx)(bs,{onClick:ar=>{ar.preventDefault(),Ui(en(w)),p(!0)},children:(0,he.jsx)(sl,{sx:{fontSize:".8rem"}})})]}),[vn,en,ir,_r,Pi,Sr,u,Ir,_,N,sr,w]),It=(0,Y.useMemo)(()=>na(w)===0,[w]),fr=!It&&!!(it&&Wt),Er=$r(ar=>ar.keyRenderer),ni=(0,Y.useMemo)(()=>({path:N,inspect:i,setInspect:s,value:w,prevValue:I}),[i,N,s,w,I]);return(0,he.jsxs)(vo,{className:"data-key-pair","data-testid":"data-key-pair"+N.join("."),sx:{userSelect:"text"},onMouseEnter:(0,Y.useCallback)(()=>Nr(N,ve),[Nr,N,ve]),children:[(0,he.jsxs)(pa,{component:"span",className:"data-key",sx:{lineHeight:1.5,color:L,letterSpacing:.5,opacity:.8},onClick:(0,Y.useCallback)(ar=>{ar.isDefaultPrevented()||It||s(Br=>!Br)},[It,s]),children:[fr?i?(0,he.jsx)(V1,{sx:{fontSize:".8rem","&:hover":{cursor:"pointer"}}}):(0,he.jsx)(ko,{sx:{fontSize:".8rem","&:hover":{cursor:"pointer"}}}):null,(0,he.jsx)(vo,{ref:Mt,component:"span",children:pr?In!==!1?Dt?(0,he.jsxs)(he.Fragment,{children:['"',In,'"']}):(0,he.jsx)(he.Fragment,{children:In}):null:Er.when(ni)?(0,he.jsx)(Er,Rt({},ni)):ve===void 0&&(Jr?(0,he.jsx)(vo,{component:"span",style:{color:ye},children:Vr}):Dt?(0,he.jsxs)(he.Fragment,{children:['"',Vr,'"']}):(0,he.jsx)(he.Fragment,{children:Vr}))}),pr?In!==!1&&(0,he.jsx)(pa,{sx:{mr:.5},children:":"}):ve===void 0&&(0,he.jsx)(pa,{sx:{mr:.5},children:":"}),it&&(0,he.jsx)(it,Rt({},ni)),Tr&&fr&&i&&at]}),u&&Sr?vn&&(0,he.jsx)(vn,{value:sr,setValue:Ui}):Ie?(0,he.jsx)(Ie,Rt({},ni)):(0,he.jsx)(vo,{component:"span",className:"data-value-fallback",children:"fallback: ".concat(w)}),Wt&&(0,he.jsx)(Wt,Rt({},ni)),Tr&&fr&&!i&&at,Tr&&!fr&&at]})},Ss="(prefers-color-scheme: dark)";function Ec(){const[h,w]=(0,Y.useState)(!1);return(0,Y.useEffect)(()=>{const I=ve=>{w(ve.matches)};w(window.matchMedia(Ss).matches);const N=window.matchMedia(Ss);return N.addEventListener("change",I),()=>N.removeEventListener("change",I)},[]),h}function Es(h,w){const{setState:I}=(0,Y.useContext)(Ta);(0,Y.useEffect)(()=>{w!==void 0&&I({[h]:w})},[h,w,I])}const oc=h=>{const{setState:w}=(0,Y.useContext)(Ta);(0,Y.useEffect)(()=>{w(en=>({prevValue:en.value,value:h.value}))},[h.value,w]),Es("editable",h.editable),Es("indentWidth",h.indentWidth),Es("onChange",h.onChange),Es("groupArraysAfterLength",h.groupArraysAfterLength),Es("keyRenderer",h.keyRenderer),Es("maxDisplayLength",h.maxDisplayLength),Es("enableClipboard",h.enableClipboard),Es("highlightUpdates",h.highlightUpdates),Es("rootName",h.rootName),Es("displayDataTypes",h.displayDataTypes),Es("displaySize",h.displaySize),Es("onCopy",h.onCopy),Es("onSelect",h.onSelect),(0,Y.useEffect)(()=>{h.theme==="light"?w({colorspace:Q1}):h.theme==="dark"?w({colorspace:Ql}):typeof h.theme=="object"&&w({colorspace:h.theme})},[w,h.theme]);const I=(0,Y.useMemo)(()=>typeof h.theme=="object"?"json-viewer-theme-custom":h.theme==="dark"?"json-viewer-theme-dark":"json-viewer-theme-light",[h.theme]),N=(0,Y.useRef)(!0),ve=Dl(en=>en.registerTypes);if(N.current){const en=h.valueTypes?[...ma,...h.valueTypes]:[...ma];ve(en),N.current=!1}(0,Y.useEffect)(()=>{const en=h.valueTypes?[...ma,...h.valueTypes]:[...ma];ve(en)},[h.valueTypes,ve]);const Ie=$r(en=>en.value),it=$r(en=>en.prevValue),Wt=$r(en=>en.setHover),vn=(0,Y.useCallback)(()=>Wt(null),[Wt]);return(0,he.jsx)(cr,{elevation:0,className:Mr(I,h.className),style:h.style,sx:Rt({fontFamily:"monospace",userSelect:"none",contentVisibility:"auto"},h.sx),onMouseLeave:vn,children:(0,he.jsx)(Ga,{value:Ie,prevValue:it,path:(0,Y.useMemo)(()=>[],[])})})},nu=function(w){const I=Ec();var N;const ve=(0,Y.useMemo)(()=>w.theme==="auto"?I?"light":"dark":(N=w.theme)!==null&&N!==void 0?N:"light",[I,w.theme]),Ie=(0,Y.useMemo)(()=>{const en=typeof ve=="object"?ve.base00:ve==="dark"?Ql.base00:Q1.base00;return Ks({components:{MuiPaper:{styleOverrides:{root:{backgroundColor:en}}}},palette:{mode:ve==="dark"?"dark":"light",background:{default:en}}})},[ve]),it=Kr(Rt({},w),{theme:ve}),Wt=(0,Y.useMemo)(()=>ec(w),[]),vn=(0,Y.useMemo)(()=>Ol(),[]);return(0,he.jsx)(Mc,{theme:Ie,children:(0,he.jsx)(w1.Provider,{value:vn,children:(0,he.jsx)(Ta.Provider,{value:Wt,children:(0,he.jsx)(oc,Rt({},it))})})})};var s1=j(59892),sc=j(17417),Rc=j(59749),Nl=j(52380),M1=j(32768),Lc=j(21520),ga=j(84817),Bl=j(93251),Ul=j(8505),ru=j(77663),Vl=j(3102),Tc=j(3310),ac,a1,Ac,l1,Pc=(0,Tc.kc)(function(h,w){var I=h.token,N=h.stylish,ve=h.cx,Ie=h.css;return{container:ve(w,Ie(ac||(ac=(0,Vl.Z)([`
        `,`
      `])),N.textInfo)),empty:ve("".concat(w,"-empty"),Ie(a1||(a1=(0,Vl.Z)([`
        padding: 8px;
        background: `,`;
        border-radius: 4px;
        .studio-empty-normal {
          margin: 12px 0;
        }
      `])),I.colorFillQuaternary)),json:ve("".concat(w,"-json"),Ie(Ac||(Ac=(0,Vl.Z)([`
        border-radius: 4px;

        .json-viewer-theme-dark {
          background: none !important;
        }
      `])))),table:Ie(l1||(l1=(0,Vl.Z)([`
      .studio-table-cell {
        padding: 4px !important;
      }
    `])))}}),Vs=function(w){var I=w.data,N=w.collapsed,ve=w.onVisibleChange,Ie=w.className,it=w.renderEmpty,Wt=w.onEmptyClick,vn=w.showType,en=vn===void 0?!0:vn,ir=w.extra,Fn=w.emptyAction,qn=w.style,tr=w.columns,Sr=w.onResetClick,sr=w.prefixCls,Ui=(0,Ul.k2)("data-previewer",sr),wi=(0,ru.r)(),Vr=wi.isDarkMode,Hi=Pc(Ui),Tr=Hi.styles,Nr=Hi.cx,no=(0,Bl.Z)(!1,{value:N,onChange:ve}),i=(0,B.Z)(no,2),s=i[0],u=i[1],p=(0,Y.useState)(0),_=(0,B.Z)(p,2),L=_[0],ye=_[1],Ge=(0,Y.useState)("object"),Dt=(0,B.Z)(Ge,2),In=Dt[0],pr=Dt[1],Jr=(0,he.jsx)(ga.D,{align:"center",children:(0,he.jsxs)(ga.D,{gap:12,width:"fit-content",align:"center",children:[(0,he.jsx)("div",{children:"\u6CA1\u6709\u6570\u636E\uFF1F\u6765\u8BD5\u8BD5 Demo \u5427"}),(0,he.jsxs)(ga.D,{direction:"horizontal",gap:8,children:[(0,he.jsx)(s1.ZP,{icon:(0,he.jsx)(Ot,{}),type:"primary",ghost:!0,size:"small",onClick:Wt,children:"\u7ACB\u5373\u5C1D\u8BD5"}),Fn]})]})}),Ir=(0,Y.useMemo)(function(){return(0,he.jsxs)(ga.D,{direction:"horizontal",align:"center",children:[(0,he.jsx)(ga.D,{children:(0,he.jsx)(bn.Z,{title:"\u663E\u793A\u4E3A".concat(In==="table"?"\u5BF9\u8C61":"\u8868\u683C"),placement:"bottom",icon:In==="table"?(0,he.jsx)(gt,{}):(0,he.jsx)(At,{}),onClick:function(){pr(In==="object"?"table":"object")}})}),(0,he.jsx)(sc.Z,{type:"vertical",dashed:!0,style:{margin:"0 4px"}}),(0,he.jsxs)(ga.D,{horizontal:!0,gap:4,children:[(0,he.jsx)(Rc.Z,{title:"\u5373\u5C06\u91CD\u7F6E\u5217\u914D\u7F6E\u4E0E\u8868\u683C\u6570\u636E\uFF0C\u5176\u4F59\u914D\u7F6E\uFF08\u5206\u9875\u5668\u3001\u5DE5\u5177\u680F\u7B49\uFF09\u4FDD\u6301\u4E0D\u53D8\u3002\u786E\u5B9A\u91CD\u7F6E\u5417\uFF1F",placement:"left",onConfirm:Sr,children:(0,he.jsx)(bn.Z,{title:"\u91CD\u7F6E\u6570\u636E",placement:"bottom",icon:(0,he.jsx)(En,{})})}),ir?(0,he.jsx)(he.Fragment,{children:ir}):null]})]})},[In,Sr,ir]);return(0,he.jsx)("div",{className:Nr(Ie,Tr.container),style:qn,children:I?(0,he.jsx)(ft.Z,{title:"\u6570\u636E\u9884\u89C8",expand:!s,onExpandChange:function(_r){u(!_r)},extra:function(_r){return _r?Ir:null},children:(0,he.jsx)(ga.D,{children:In==="object"?(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(ga.D,{style:{overflow:"scroll",maxHeight:200,marginBottom:8},className:Tr.json,children:(0,he.jsx)(nu,{rootName:"\u7B2C".concat(L+1,"\u6761\u6570\u636E"),collapseStringsAfterLength:22,enableClipboard:!1,value:I[L],displayDataTypes:en,theme:Vr?"dark":"light"})}),(0,he.jsx)(sc.Z,{style:{margin:"12px 0"},dashed:!0}),(0,he.jsx)(ga.D,{align:"flex-end",children:(0,he.jsx)(M1.Z,{current:L+1,showTotal:function(_r){return"\u5171 ".concat(_r," \u6761\u6570\u636E")},onChange:function(_r){ye(_r-1)},total:I.length,size:"small",pageSize:1})})]}):(0,he.jsx)(Lc.Z,{dataSource:I,size:"small",bordered:!0,className:Tr.table,pagination:!1,columns:tr&&tr.map(function(Pi){return(0,b.Z)((0,b.Z)({},Pi),{},{ellipsis:!0})})})})}):(0,he.jsx)("div",{className:Tr.empty,children:(0,he.jsx)(Nl.Z,{image:Nl.Z.PRESENTED_IMAGE_SIMPLE,description:it?it(Jr):Jr})})})},iu=Vs},2206:function(qt,Fe,j){"use strict";j.d(Fe,{_:function(){return ji}});var b=j(50959),B=j(8505),P=j(68372),Y=j(66052),Je=j(20895),yt=j(10422),pe=function(){var R=function(H,S){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,Q){T.__proto__=Q}||function(T,Q){for(var se in Q)Object.prototype.hasOwnProperty.call(Q,se)&&(T[se]=Q[se])},R(H,S)};return function(H,S){R(H,S);function T(){this.constructor=H}H.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),Ot=function(){return Ot=Object.assign||function(R){for(var H,S=1,T=arguments.length;S<T;S++){H=arguments[S];for(var Q in H)Object.prototype.hasOwnProperty.call(H,Q)&&(R[Q]=H[Q])}return R},Ot.apply(this,arguments)},Ft={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},wt={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},gt={width:"20px",height:"20px",position:"absolute"},ht={top:Ot(Ot({},Ft),{top:"-5px"}),right:Ot(Ot({},wt),{left:void 0,right:"-5px"}),bottom:Ot(Ot({},Ft),{top:void 0,bottom:"-5px"}),left:Ot(Ot({},wt),{left:"-5px"}),topRight:Ot(Ot({},gt),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Ot(Ot({},gt),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Ot(Ot({},gt),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Ot(Ot({},gt),{left:"-10px",top:"-10px",cursor:"nw-resize"})},mt=function(R){pe(H,R);function H(){var S=R!==null&&R.apply(this,arguments)||this;return S.onMouseDown=function(T){S.props.onResizeStart(T,S.props.direction)},S.onTouchStart=function(T){S.props.onResizeStart(T,S.props.direction)},S}return H.prototype.render=function(){return b.createElement("div",{className:this.props.className||"",style:Ot(Ot({position:"absolute",userSelect:"none"},ht[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},H}(b.PureComponent),At=function(){var R=function(H,S){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,Q){T.__proto__=Q}||function(T,Q){for(var se in Q)Object.prototype.hasOwnProperty.call(Q,se)&&(T[se]=Q[se])},R(H,S)};return function(H,S){R(H,S);function T(){this.constructor=H}H.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),ee=function(){return ee=Object.assign||function(R){for(var H,S=1,T=arguments.length;S<T;S++){H=arguments[S];for(var Q in H)Object.prototype.hasOwnProperty.call(H,Q)&&(R[Q]=H[Q])}return R},ee.apply(this,arguments)},zn={width:"auto",height:"auto"},En=function(R,H,S){return Math.max(Math.min(R,S),H)},bn=function(R,H){return Math.round(R/H)*H},ft=function(R,H){return new RegExp(R,"i").test(H)},he=function(R){return Boolean(R.touches&&R.touches.length)},rn=function(R){return Boolean((R.clientX||R.clientX===0)&&(R.clientY||R.clientY===0))},Kt=function(R,H,S){S===void 0&&(S=0);var T=H.reduce(function(se,Ze,st){return Math.abs(Ze-R)<Math.abs(H[se]-R)?st:se},0),Q=Math.abs(H[T]-R);return S===0||Q<S?H[T]:R},xn=function(R){return R=R.toString(),R==="auto"||R.endsWith("px")||R.endsWith("%")||R.endsWith("vh")||R.endsWith("vw")||R.endsWith("vmax")||R.endsWith("vmin")?R:R+"px"},fn=function(R,H,S,T){if(R&&typeof R=="string"){if(R.endsWith("px"))return Number(R.replace("px",""));if(R.endsWith("%")){var Q=Number(R.replace("%",""))/100;return H*Q}if(R.endsWith("vw")){var Q=Number(R.replace("vw",""))/100;return S*Q}if(R.endsWith("vh")){var Q=Number(R.replace("vh",""))/100;return T*Q}}return R},Gt=function(R,H,S,T,Q,se,Ze){return T=fn(T,R.width,H,S),Q=fn(Q,R.height,H,S),se=fn(se,R.width,H,S),Ze=fn(Ze,R.height,H,S),{maxWidth:typeof T=="undefined"?void 0:Number(T),maxHeight:typeof Q=="undefined"?void 0:Number(Q),minWidth:typeof se=="undefined"?void 0:Number(se),minHeight:typeof Ze=="undefined"?void 0:Number(Ze)}},Pn=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],jt="__resizable_base__",xe=function(R){At(H,R);function H(S){var T=R.call(this,S)||this;return T.ratio=1,T.resizable=null,T.parentLeft=0,T.parentTop=0,T.resizableLeft=0,T.resizableRight=0,T.resizableTop=0,T.resizableBottom=0,T.targetLeft=0,T.targetTop=0,T.appendBase=function(){if(!T.resizable||!T.window)return null;var Q=T.parentNode;if(!Q)return null;var se=T.window.document.createElement("div");return se.style.width="100%",se.style.height="100%",se.style.position="absolute",se.style.transform="scale(0, 0)",se.style.left="0",se.style.flex="0 0 100%",se.classList?se.classList.add(jt):se.className+=jt,Q.appendChild(se),se},T.removeBase=function(Q){var se=T.parentNode;se&&se.removeChild(Q)},T.ref=function(Q){Q&&(T.resizable=Q)},T.state={isResizing:!1,width:typeof(T.propsSize&&T.propsSize.width)=="undefined"?"auto":T.propsSize&&T.propsSize.width,height:typeof(T.propsSize&&T.propsSize.height)=="undefined"?"auto":T.propsSize&&T.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},T.onResizeStart=T.onResizeStart.bind(T),T.onMouseMove=T.onMouseMove.bind(T),T.onMouseUp=T.onMouseUp.bind(T),T}return Object.defineProperty(H.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||zn},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"size",{get:function(){var S=0,T=0;if(this.resizable&&this.window){var Q=this.resizable.offsetWidth,se=this.resizable.offsetHeight,Ze=this.resizable.style.position;Ze!=="relative"&&(this.resizable.style.position="relative"),S=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:Q,T=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:se,this.resizable.style.position=Ze}return{width:S,height:T}},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"sizeStyle",{get:function(){var S=this,T=this.props.size,Q=function(st){if(typeof S.state[st]=="undefined"||S.state[st]==="auto")return"auto";if(S.propsSize&&S.propsSize[st]&&S.propsSize[st].toString().endsWith("%")){if(S.state[st].toString().endsWith("%"))return S.state[st].toString();var qe=S.getParentSize(),vt=Number(S.state[st].toString().replace("px","")),He=vt/qe[st]*100;return He+"%"}return xn(S.state[st])},se=T&&typeof T.width!="undefined"&&!this.state.isResizing?xn(T.width):Q("width"),Ze=T&&typeof T.height!="undefined"&&!this.state.isResizing?xn(T.height):Q("height");return{width:se,height:Ze}},enumerable:!1,configurable:!0}),H.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var S=this.appendBase();if(!S)return{width:0,height:0};var T=!1,Q=this.parentNode.style.flexWrap;Q!=="wrap"&&(T=!0,this.parentNode.style.flexWrap="wrap"),S.style.position="relative",S.style.minWidth="100%",S.style.minHeight="100%";var se={width:S.offsetWidth,height:S.offsetHeight};return T&&(this.parentNode.style.flexWrap=Q),this.removeBase(S),se},H.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},H.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},H.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var S=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:S.flexBasis!=="auto"?S.flexBasis:void 0})}},H.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},H.prototype.createSizeForCssProperty=function(S,T){var Q=this.propsSize&&this.propsSize[T];return this.state[T]==="auto"&&this.state.original[T]===S&&(typeof Q=="undefined"||Q==="auto")?"auto":S},H.prototype.calculateNewMaxFromBoundary=function(S,T){var Q=this.props.boundsByDirection,se=this.state.direction,Ze=Q&&ft("left",se),st=Q&&ft("top",se),qe,vt;if(this.props.bounds==="parent"){var He=this.parentNode;He&&(qe=Ze?this.resizableRight-this.parentLeft:He.offsetWidth+(this.parentLeft-this.resizableLeft),vt=st?this.resizableBottom-this.parentTop:He.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(qe=Ze?this.resizableRight:this.window.innerWidth-this.resizableLeft,vt=st?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(qe=Ze?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),vt=st?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return qe&&Number.isFinite(qe)&&(S=S&&S<qe?S:qe),vt&&Number.isFinite(vt)&&(T=T&&T<vt?T:vt),{maxWidth:S,maxHeight:T}},H.prototype.calculateNewSizeFromDirection=function(S,T){var Q=this.props.scale||1,se=this.props.resizeRatio||1,Ze=this.state,st=Ze.direction,qe=Ze.original,vt=this.props,He=vt.lockAspectRatio,Be=vt.lockAspectRatioExtraHeight,bt=vt.lockAspectRatioExtraWidth,Ce=qe.width,be=qe.height,ke=Be||0,Ve=bt||0;return ft("right",st)&&(Ce=qe.width+(S-qe.x)*se/Q,He&&(be=(Ce-Ve)/this.ratio+ke)),ft("left",st)&&(Ce=qe.width-(S-qe.x)*se/Q,He&&(be=(Ce-Ve)/this.ratio+ke)),ft("bottom",st)&&(be=qe.height+(T-qe.y)*se/Q,He&&(Ce=(be-ke)*this.ratio+Ve)),ft("top",st)&&(be=qe.height-(T-qe.y)*se/Q,He&&(Ce=(be-ke)*this.ratio+Ve)),{newWidth:Ce,newHeight:be}},H.prototype.calculateNewSizeFromAspectRatio=function(S,T,Q,se){var Ze=this.props,st=Ze.lockAspectRatio,qe=Ze.lockAspectRatioExtraHeight,vt=Ze.lockAspectRatioExtraWidth,He=typeof se.width=="undefined"?10:se.width,Be=typeof Q.width=="undefined"||Q.width<0?S:Q.width,bt=typeof se.height=="undefined"?10:se.height,Ce=typeof Q.height=="undefined"||Q.height<0?T:Q.height,be=qe||0,ke=vt||0;if(st){var Ve=(bt-be)*this.ratio+ke,et=(Ce-be)*this.ratio+ke,Qe=(He-ke)/this.ratio+be,Ct=(Be-ke)/this.ratio+be,cn=Math.max(He,Ve),Yn=Math.min(Be,et),On=Math.max(bt,Qe),Qn=Math.min(Ce,Ct);S=En(S,cn,Yn),T=En(T,On,Qn)}else S=En(S,He,Be),T=En(T,bt,Ce);return{newWidth:S,newHeight:T}},H.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var S=this.parentNode;if(S){var T=S.getBoundingClientRect();this.parentLeft=T.left,this.parentTop=T.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var Q=this.props.bounds.getBoundingClientRect();this.targetLeft=Q.left,this.targetTop=Q.top}if(this.resizable){var se=this.resizable.getBoundingClientRect(),Ze=se.left,st=se.top,qe=se.right,vt=se.bottom;this.resizableLeft=Ze,this.resizableRight=qe,this.resizableTop=st,this.resizableBottom=vt}},H.prototype.onResizeStart=function(S,T){if(!(!this.resizable||!this.window)){var Q=0,se=0;if(S.nativeEvent&&rn(S.nativeEvent)?(Q=S.nativeEvent.clientX,se=S.nativeEvent.clientY):S.nativeEvent&&he(S.nativeEvent)&&(Q=S.nativeEvent.touches[0].clientX,se=S.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var Ze=this.props.onResizeStart(S,T,this.resizable);if(Ze===!1)return}this.props.size&&(typeof this.props.size.height!="undefined"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width!="undefined"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var st,qe=this.window.getComputedStyle(this.resizable);if(qe.flexBasis!=="auto"){var vt=this.parentNode;if(vt){var He=this.window.getComputedStyle(vt).flexDirection;this.flexDir=He.startsWith("row")?"row":"column",st=qe.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var Be={original:{x:Q,y:se,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:ee(ee({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(S.target).cursor||"auto"}),direction:T,flexBasis:st};this.setState(Be)}},H.prototype.onMouseMove=function(S){var T=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&he(S))try{S.preventDefault(),S.stopPropagation()}catch(bi){}var Q=this.props,se=Q.maxWidth,Ze=Q.maxHeight,st=Q.minWidth,qe=Q.minHeight,vt=he(S)?S.touches[0].clientX:S.clientX,He=he(S)?S.touches[0].clientY:S.clientY,Be=this.state,bt=Be.direction,Ce=Be.original,be=Be.width,ke=Be.height,Ve=this.getParentSize(),et=Gt(Ve,this.window.innerWidth,this.window.innerHeight,se,Ze,st,qe);se=et.maxWidth,Ze=et.maxHeight,st=et.minWidth,qe=et.minHeight;var Qe=this.calculateNewSizeFromDirection(vt,He),Ct=Qe.newHeight,cn=Qe.newWidth,Yn=this.calculateNewMaxFromBoundary(se,Ze);this.props.snap&&this.props.snap.x&&(cn=Kt(cn,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(Ct=Kt(Ct,this.props.snap.y,this.props.snapGap));var On=this.calculateNewSizeFromAspectRatio(cn,Ct,{width:Yn.maxWidth,height:Yn.maxHeight},{width:st,height:qe});if(cn=On.newWidth,Ct=On.newHeight,this.props.grid){var Qn=bn(cn,this.props.grid[0]),Vn=bn(Ct,this.props.grid[1]),Wn=this.props.snapGap||0;cn=Wn===0||Math.abs(Qn-cn)<=Wn?Qn:cn,Ct=Wn===0||Math.abs(Vn-Ct)<=Wn?Vn:Ct}var mr={width:cn-Ce.width,height:Ct-Ce.height};if(be&&typeof be=="string"){if(be.endsWith("%")){var Jt=cn/Ve.width*100;cn=Jt+"%"}else if(be.endsWith("vw")){var rr=cn/this.window.innerWidth*100;cn=rr+"vw"}else if(be.endsWith("vh")){var Lr=cn/this.window.innerHeight*100;cn=Lr+"vh"}}if(ke&&typeof ke=="string"){if(ke.endsWith("%")){var Jt=Ct/Ve.height*100;Ct=Jt+"%"}else if(ke.endsWith("vw")){var rr=Ct/this.window.innerWidth*100;Ct=rr+"vw"}else if(ke.endsWith("vh")){var Lr=Ct/this.window.innerHeight*100;Ct=Lr+"vh"}}var Ti={width:this.createSizeForCssProperty(cn,"width"),height:this.createSizeForCssProperty(Ct,"height")};this.flexDir==="row"?Ti.flexBasis=Ti.width:this.flexDir==="column"&&(Ti.flexBasis=Ti.height),(0,yt.flushSync)(function(){T.setState(Ti)}),this.props.onResize&&this.props.onResize(S,bt,this.resizable,mr)}},H.prototype.onMouseUp=function(S){var T=this.state,Q=T.isResizing,se=T.direction,Ze=T.original;if(!(!Q||!this.resizable)){var st={width:this.size.width-Ze.width,height:this.size.height-Ze.height};this.props.onResizeStop&&this.props.onResizeStop(S,se,this.resizable,st),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:ee(ee({},this.state.backgroundStyle),{cursor:"auto"})})}},H.prototype.updateSize=function(S){this.setState({width:S.width,height:S.height})},H.prototype.renderResizer=function(){var S=this,T=this.props,Q=T.enable,se=T.handleStyles,Ze=T.handleClasses,st=T.handleWrapperStyle,qe=T.handleWrapperClass,vt=T.handleComponent;if(!Q)return null;var He=Object.keys(Q).map(function(Be){return Q[Be]!==!1?b.createElement(mt,{key:Be,direction:Be,onResizeStart:S.onResizeStart,replaceStyles:se&&se[Be],className:Ze&&Ze[Be]},vt&&vt[Be]?vt[Be]:null):null});return b.createElement("div",{className:qe,style:st},He)},H.prototype.render=function(){var S=this,T=Object.keys(this.props).reduce(function(Ze,st){return Pn.indexOf(st)!==-1||(Ze[st]=S.props[st]),Ze},{}),Q=ee(ee(ee({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(Q.flexBasis=this.state.flexBasis);var se=this.props.as||"div";return b.createElement(se,ee({ref:this.ref,style:Q,className:this.props.className},T),this.state.isResizing&&b.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},H.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},H}(b.PureComponent),Ke=j(96522),we=j(93251),rt=j(54357),Re=j(81297),Te=j(99808),q=j(26046),F=j(3102),re=j(3310),De,k,le,te,ae,Le,Ae,_e,$e,me,Pt,kt,xt,dt=(0,re.kc)(function(R,H){var S=R.token,T=(0,re.iv)(De||(De=(0,F.Z)([`
    position: relative;
    &::before {
      position: absolute;
      z-index: 50;
      transition: all 0.3s ease-in-out;
      content: '';
    }

    &:hover,
    &:active {
      &::before {
        background: `,`;
      }
    }
  `])),S.colorPrimary),Q=(0,re.iv)(k||(k=(0,F.Z)([`
    position: absolute;
    opacity: 0;
    z-index: 1001;
    transition: opacity 0.1s;

    border-radius: 4px;
    cursor: pointer;
    background: `,`;
    border-width: 1px;
    border-style: solid;
    color: `,`;
    border-color: `,`;

    &:hover {
      color: `,`;
      background: `,`;
    }
  `])),S.colorBgElevated,S.colorTextTertiary,S.colorBorder,S.colorTextSecondary,S.colorFillQuaternary),se=17,Ze=40,st=16;return{container:(0,re.cx)(H,(0,re.iv)(le||(le=(0,F.Z)([`
        flex-shrink: 0;
        position: relative;
        border: 0 solid `,`;

        &:hover {
          .`,`-toggle {
            opacity: 1;
          }
        }
      `])),S.colorSplit,H)),toggleLeft:(0,re.cx)("".concat(H,"-toggle"),"".concat(H,"-toggle-left"),Q,(0,re.iv)(te||(te=(0,F.Z)([`
        width: `,`px;
        height: `,`px;
        left: -`,`px;
        top: 50%;
        margin-top: -20px;
        border-radius: 4px 0 0 4px;
        border-right-width: 0;
      `])),st,Ze,se)),toggleRight:(0,re.cx)("".concat(H,"-toggle"),"".concat(H,"-toggle-right"),Q,(0,re.iv)(ae||(ae=(0,F.Z)([`
        width: `,`px;
        height: `,`px;
        right: -`,`px;
        top: 50%;
        margin-top: -20px;
        border-radius: 0 4px 4px 0;
        border-left-width: 0;
      `])),st,Ze,se)),toggleTop:(0,re.cx)("".concat(H,"-toggle"),"".concat(H,"-toggle-top"),Q,(0,re.iv)(Le||(Le=(0,F.Z)([`
        height: `,`px;
        width: `,`px;
        top: -`,`px;
        left: 50%;
        margin-left: -20px;
        border-radius: 4px 4px 0 0;
        border-bottom-width: 0;
      `])),st,Ze,se)),toggleBottom:(0,re.cx)("".concat(H,"-toggle"),"".concat(H,"-toggle-bottom"),Q,(0,re.iv)(Ae||(Ae=(0,F.Z)([`
        height: 16px;
        width: `,`px;
        bottom: -`,`px;
        left: 50%;
        margin-left: -20px;
        border-radius: 0 0 4px 4px;
        border-top-width: 0;
      `])),Ze,se)),fixed:(0,re.cx)("".concat(H,"-fixed"),(0,re.iv)(_e||(_e=(0,F.Z)([`
        background: `,`;
        overflow: hidden;
      `])),S.colorBgContainer)),float:(0,re.cx)("".concat(H,"-float"),(0,re.iv)($e||($e=(0,F.Z)([`
        overflow: hidden;
        border-radius: 8px;
        background: `,`;
        box-shadow: `,`;
        z-index: 2000;
      `])),S.colorBgElevated,S.boxShadowSecondary)),leftHandle:(0,re.cx)((0,re.iv)(me||(me=(0,F.Z)([`
        `,`;

        &::before {
          left: 50%;
          width: 2px;
          height: 100%;
        }
      `])),T),"".concat(H,"-left-handle")),rightHandle:(0,re.cx)((0,re.iv)(Pt||(Pt=(0,F.Z)([`
        `,`;
        &::before {
          right: 50%;
          width: 2px;
          height: 100%;
        }
      `])),T),"".concat(H,"-right-handle")),topHandle:(0,re.cx)("".concat(H,"-top-handle"),(0,re.iv)(kt||(kt=(0,F.Z)([`
        `,`;

        &::before {
          top: 50%;
          height: 2px;
          width: 100%;
        }
      `])),T)),bottomHandle:(0,re.cx)("".concat(H,"-bottom-handle"),(0,re.iv)(xt||(xt=(0,F.Z)([`
        `,`;

        &::before {
          bottom: 50%;
          height: 2px;
          width: 100%;
        }
      `])),T))}}),ze=j(11527),zt=150,un=400,Sn=function(H){switch(H){case"bottom":return"top";case"top":return"bottom";case"right":return"left";case"left":return"right"}},Yt=(0,b.memo)(function(R){var H=R.children,S=R.placement,T=S===void 0?"right":S,Q=R.resize,se=R.style,Ze=R.size,st=R.defaultSize,qe=R.minWidth,vt=R.minHeight,He=R.prefixCls,Be=R.onSizeChange,bt=R.onSizeDragging,Ce=R.expandable,be=Ce===void 0?!0:Ce,ke=R.isExpand,Ve=R.onExpandChange,et=R.className,Qe=(0,B.k2)("draggable-panel",He),Ct=T==="top"||T==="bottom",cn=dt(Qe),Yn=cn.styles,On=cn.cx,Qn=(0,we.Z)(!0,{value:ke,onChange:Ve}),Vn=(0,Je.Z)(Qn,2),Wn=Vn[0],mr=Vn[1],Jt=Q!==!1&&Wn,rr=(0,b.useMemo)(function(){return Jt?(0,Y.Z)({},Sn(T),Yn["".concat(Sn(T),"Handle")]):{}},[Jt,T]),Lr=(0,P.Z)((0,Y.Z)({top:!1,bottom:!1,right:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},Sn(T),!0),Q),Ti=(0,b.useMemo)(function(){return Ct?(0,P.Z)({width:"100%",height:zt},st):(0,P.Z)({width:un,height:"100%"},st)},[Ct]),bi=Wn?{minWidth:typeof qe=="number"?Math.max(qe,0):280,minHeight:typeof vt=="number"?Math.max(vt,0):void 0,defaultSize:Ti,size:Ze,style:se}:{minWidth:0,minHeight:0,size:{width:0,height:0}},go=(0,b.useMemo)(function(){switch(T){case"top":return{className:"Bottom",Arrow:rt.Z};case"bottom":return{className:"Top",Arrow:Re.Z};case"right":return{className:"Left",Arrow:Te.Z};case"left":return{className:"Right",Arrow:q.Z}}},[Yn,T]),Yi=go.Arrow,Gi=go.className;return(0,ze.jsxs)("div",{className:On(Yn.container,et),style:(0,Y.Z)({},"border".concat(Gi,"Width"),1),children:[be&&(0,ze.jsx)(Ke.Z,{className:On(Yn["toggle".concat(Gi)]),onClick:function(){mr(!Wn)},style:{opacity:Wn?void 0:1},children:(0,ze.jsx)(Yi,{rotate:Wn?180:0})}),(0,ze.jsx)(xe,(0,P.Z)((0,P.Z)({},bi),{},{className:Yn.fixed,enable:Jt?Lr:void 0,handleClasses:rr,onResizeStop:function(fo,Ni,ci,Ai){Be==null||Be(Ai,{width:ci.style.width,height:ci.style.height})},onResize:function(fo,Ni,ci,Ai){bt==null||bt(Ai,{width:ci.style.width,height:ci.style.height})},children:H}))]})}),Tn=j(74901),an=j.n(Tn),An=function(){var R=function(H,S){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,Q){T.__proto__=Q}||function(T,Q){for(var se in Q)Object.prototype.hasOwnProperty.call(Q,se)&&(T[se]=Q[se])},R(H,S)};return function(H,S){R(H,S);function T(){this.constructor=H}H.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),Rr=function(){return Rr=Object.assign||function(R){for(var H,S=1,T=arguments.length;S<T;S++){H=arguments[S];for(var Q in H)Object.prototype.hasOwnProperty.call(H,Q)&&(R[Q]=H[Q])}return R},Rr.apply(this,arguments)},qr={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},_t=function(R){An(H,R);function H(){var S=R!==null&&R.apply(this,arguments)||this;return S.onMouseDown=function(T){S.props.onResizeStart(T,S.props.direction)},S.onTouchStart=function(T){S.props.onResizeStart(T,S.props.direction)},S}return H.prototype.render=function(){return b.createElement("div",{className:this.props.className||"",style:Rr(Rr({position:"absolute",userSelect:"none"},qr[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},H}(b.PureComponent),Lt=j(69978),Qt=j.n(Lt),ln=function(){var R=function(H,S){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,Q){T.__proto__=Q}||function(T,Q){for(var se in Q)Object.prototype.hasOwnProperty.call(Q,se)&&(T[se]=Q[se])},R(H,S)};return function(H,S){R(H,S);function T(){this.constructor=H}H.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),yn=function(){return yn=Object.assign||function(R){for(var H,S=1,T=arguments.length;S<T;S++){H=arguments[S];for(var Q in H)Object.prototype.hasOwnProperty.call(H,Q)&&(R[Q]=H[Q])}return R},yn.apply(this,arguments)},ur={width:"auto",height:"auto"},jn=Qt()(function(R,H,S){return Math.max(Math.min(R,S),H)}),Xr=Qt()(function(R,H){return Math.round(R/H)*H}),Jn=Qt()(function(R,H){return new RegExp(R,"i").test(H)}),ge=function(R){return Boolean(R.touches&&R.touches.length)},je=function(R){return Boolean((R.clientX||R.clientX===0)&&(R.clientY||R.clientY===0))},Xe=Qt()(function(R,H,S){S===void 0&&(S=0);var T=H.reduce(function(se,Ze,st){return Math.abs(Ze-R)<Math.abs(H[se]-R)?st:se},0),Q=Math.abs(H[T]-R);return S===0||Q<S?H[T]:R}),Ye=Qt()(function(R,H){return R.substr(R.length-H.length,H.length)===H}),Nt=Qt()(function(R){return R=R.toString(),R==="auto"||Ye(R,"px")||Ye(R,"%")||Ye(R,"vh")||Ye(R,"vw")||Ye(R,"vmax")||Ye(R,"vmin")?R:R+"px"}),Nn=function(R,H,S,T){if(R&&typeof R=="string"){if(Ye(R,"px"))return Number(R.replace("px",""));if(Ye(R,"%")){var Q=Number(R.replace("%",""))/100;return H*Q}if(Ye(R,"vw")){var Q=Number(R.replace("vw",""))/100;return S*Q}if(Ye(R,"vh")){var Q=Number(R.replace("vh",""))/100;return T*Q}}return R},wn=Qt()(function(R,H,S,T,Q,se,Ze){return T=Nn(T,R.width,H,S),Q=Nn(Q,R.height,H,S),se=Nn(se,R.width,H,S),Ze=Nn(Ze,R.height,H,S),{maxWidth:typeof T=="undefined"?void 0:Number(T),maxHeight:typeof Q=="undefined"?void 0:Number(Q),minWidth:typeof se=="undefined"?void 0:Number(se),minHeight:typeof Ze=="undefined"?void 0:Number(Ze)}}),Bt=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Vt="__resizable_base__",ut=function(R){ln(H,R);function H(S){var T=R.call(this,S)||this;return T.ratio=1,T.resizable=null,T.parentLeft=0,T.parentTop=0,T.resizableLeft=0,T.resizableRight=0,T.resizableTop=0,T.resizableBottom=0,T.targetLeft=0,T.targetTop=0,T.appendBase=function(){if(!T.resizable||!T.window)return null;var Q=T.parentNode;if(!Q)return null;var se=T.window.document.createElement("div");return se.style.width="100%",se.style.height="100%",se.style.position="absolute",se.style.transform="scale(0, 0)",se.style.left="0",se.style.flex="0 0 100%",se.classList?se.classList.add(Vt):se.className+=Vt,Q.appendChild(se),se},T.removeBase=function(Q){var se=T.parentNode;se&&se.removeChild(Q)},T.ref=function(Q){Q&&(T.resizable=Q)},T.state={isResizing:!1,width:typeof(T.propsSize&&T.propsSize.width)=="undefined"?"auto":T.propsSize&&T.propsSize.width,height:typeof(T.propsSize&&T.propsSize.height)=="undefined"?"auto":T.propsSize&&T.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},T.onResizeStart=T.onResizeStart.bind(T),T.onMouseMove=T.onMouseMove.bind(T),T.onMouseUp=T.onMouseUp.bind(T),T}return Object.defineProperty(H.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||ur},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"size",{get:function(){var S=0,T=0;if(this.resizable&&this.window){var Q=this.resizable.offsetWidth,se=this.resizable.offsetHeight,Ze=this.resizable.style.position;Ze!=="relative"&&(this.resizable.style.position="relative"),S=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:Q,T=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:se,this.resizable.style.position=Ze}return{width:S,height:T}},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"sizeStyle",{get:function(){var S=this,T=this.props.size,Q=function(st){if(typeof S.state[st]=="undefined"||S.state[st]==="auto")return"auto";if(S.propsSize&&S.propsSize[st]&&Ye(S.propsSize[st].toString(),"%")){if(Ye(S.state[st].toString(),"%"))return S.state[st].toString();var qe=S.getParentSize(),vt=Number(S.state[st].toString().replace("px","")),He=vt/qe[st]*100;return He+"%"}return Nt(S.state[st])},se=T&&typeof T.width!="undefined"&&!this.state.isResizing?Nt(T.width):Q("width"),Ze=T&&typeof T.height!="undefined"&&!this.state.isResizing?Nt(T.height):Q("height");return{width:se,height:Ze}},enumerable:!1,configurable:!0}),H.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var S=this.appendBase();if(!S)return{width:0,height:0};var T=!1,Q=this.parentNode.style.flexWrap;Q!=="wrap"&&(T=!0,this.parentNode.style.flexWrap="wrap"),S.style.position="relative",S.style.minWidth="100%",S.style.minHeight="100%";var se={width:S.offsetWidth,height:S.offsetHeight};return T&&(this.parentNode.style.flexWrap=Q),this.removeBase(S),se},H.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},H.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},H.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var S=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:S.flexBasis!=="auto"?S.flexBasis:void 0})}},H.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},H.prototype.createSizeForCssProperty=function(S,T){var Q=this.propsSize&&this.propsSize[T];return this.state[T]==="auto"&&this.state.original[T]===S&&(typeof Q=="undefined"||Q==="auto")?"auto":S},H.prototype.calculateNewMaxFromBoundary=function(S,T){var Q=this.props.boundsByDirection,se=this.state.direction,Ze=Q&&Jn("left",se),st=Q&&Jn("top",se),qe,vt;if(this.props.bounds==="parent"){var He=this.parentNode;He&&(qe=Ze?this.resizableRight-this.parentLeft:He.offsetWidth+(this.parentLeft-this.resizableLeft),vt=st?this.resizableBottom-this.parentTop:He.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(qe=Ze?this.resizableRight:this.window.innerWidth-this.resizableLeft,vt=st?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(qe=Ze?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),vt=st?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return qe&&Number.isFinite(qe)&&(S=S&&S<qe?S:qe),vt&&Number.isFinite(vt)&&(T=T&&T<vt?T:vt),{maxWidth:S,maxHeight:T}},H.prototype.calculateNewSizeFromDirection=function(S,T){var Q=this.props.scale||1,se=this.props.resizeRatio||1,Ze=this.state,st=Ze.direction,qe=Ze.original,vt=this.props,He=vt.lockAspectRatio,Be=vt.lockAspectRatioExtraHeight,bt=vt.lockAspectRatioExtraWidth,Ce=qe.width,be=qe.height,ke=Be||0,Ve=bt||0;return Jn("right",st)&&(Ce=qe.width+(S-qe.x)*se/Q,He&&(be=(Ce-Ve)/this.ratio+ke)),Jn("left",st)&&(Ce=qe.width-(S-qe.x)*se/Q,He&&(be=(Ce-Ve)/this.ratio+ke)),Jn("bottom",st)&&(be=qe.height+(T-qe.y)*se/Q,He&&(Ce=(be-ke)*this.ratio+Ve)),Jn("top",st)&&(be=qe.height-(T-qe.y)*se/Q,He&&(Ce=(be-ke)*this.ratio+Ve)),{newWidth:Ce,newHeight:be}},H.prototype.calculateNewSizeFromAspectRatio=function(S,T,Q,se){var Ze=this.props,st=Ze.lockAspectRatio,qe=Ze.lockAspectRatioExtraHeight,vt=Ze.lockAspectRatioExtraWidth,He=typeof se.width=="undefined"?10:se.width,Be=typeof Q.width=="undefined"||Q.width<0?S:Q.width,bt=typeof se.height=="undefined"?10:se.height,Ce=typeof Q.height=="undefined"||Q.height<0?T:Q.height,be=qe||0,ke=vt||0;if(st){var Ve=(bt-be)*this.ratio+ke,et=(Ce-be)*this.ratio+ke,Qe=(He-ke)/this.ratio+be,Ct=(Be-ke)/this.ratio+be,cn=Math.max(He,Ve),Yn=Math.min(Be,et),On=Math.max(bt,Qe),Qn=Math.min(Ce,Ct);S=jn(S,cn,Yn),T=jn(T,On,Qn)}else S=jn(S,He,Be),T=jn(T,bt,Ce);return{newWidth:S,newHeight:T}},H.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var S=this.parentNode;if(S){var T=S.getBoundingClientRect();this.parentLeft=T.left,this.parentTop=T.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var Q=this.props.bounds.getBoundingClientRect();this.targetLeft=Q.left,this.targetTop=Q.top}if(this.resizable){var se=this.resizable.getBoundingClientRect(),Ze=se.left,st=se.top,qe=se.right,vt=se.bottom;this.resizableLeft=Ze,this.resizableRight=qe,this.resizableTop=st,this.resizableBottom=vt}},H.prototype.onResizeStart=function(S,T){if(!(!this.resizable||!this.window)){var Q=0,se=0;if(S.nativeEvent&&je(S.nativeEvent)?(Q=S.nativeEvent.clientX,se=S.nativeEvent.clientY):S.nativeEvent&&ge(S.nativeEvent)&&(Q=S.nativeEvent.touches[0].clientX,se=S.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var Ze=this.props.onResizeStart(S,T,this.resizable);if(Ze===!1)return}this.props.size&&(typeof this.props.size.height!="undefined"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width!="undefined"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var st,qe=this.window.getComputedStyle(this.resizable);if(qe.flexBasis!=="auto"){var vt=this.parentNode;if(vt){var He=this.window.getComputedStyle(vt).flexDirection;this.flexDir=He.startsWith("row")?"row":"column",st=qe.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var Be={original:{x:Q,y:se,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:yn(yn({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(S.target).cursor||"auto"}),direction:T,flexBasis:st};this.setState(Be)}},H.prototype.onMouseMove=function(S){if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&ge(S))try{S.preventDefault(),S.stopPropagation()}catch(Ti){}var T=this.props,Q=T.maxWidth,se=T.maxHeight,Ze=T.minWidth,st=T.minHeight,qe=ge(S)?S.touches[0].clientX:S.clientX,vt=ge(S)?S.touches[0].clientY:S.clientY,He=this.state,Be=He.direction,bt=He.original,Ce=He.width,be=He.height,ke=this.getParentSize(),Ve=wn(ke,this.window.innerWidth,this.window.innerHeight,Q,se,Ze,st);Q=Ve.maxWidth,se=Ve.maxHeight,Ze=Ve.minWidth,st=Ve.minHeight;var et=this.calculateNewSizeFromDirection(qe,vt),Qe=et.newHeight,Ct=et.newWidth,cn=this.calculateNewMaxFromBoundary(Q,se);this.props.snap&&this.props.snap.x&&(Ct=Xe(Ct,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(Qe=Xe(Qe,this.props.snap.y,this.props.snapGap));var Yn=this.calculateNewSizeFromAspectRatio(Ct,Qe,{width:cn.maxWidth,height:cn.maxHeight},{width:Ze,height:st});if(Ct=Yn.newWidth,Qe=Yn.newHeight,this.props.grid){var On=Xr(Ct,this.props.grid[0]),Qn=Xr(Qe,this.props.grid[1]),Vn=this.props.snapGap||0;Ct=Vn===0||Math.abs(On-Ct)<=Vn?On:Ct,Qe=Vn===0||Math.abs(Qn-Qe)<=Vn?Qn:Qe}var Wn={width:Ct-bt.width,height:Qe-bt.height};if(Ce&&typeof Ce=="string"){if(Ye(Ce,"%")){var mr=Ct/ke.width*100;Ct=mr+"%"}else if(Ye(Ce,"vw")){var Jt=Ct/this.window.innerWidth*100;Ct=Jt+"vw"}else if(Ye(Ce,"vh")){var rr=Ct/this.window.innerHeight*100;Ct=rr+"vh"}}if(be&&typeof be=="string"){if(Ye(be,"%")){var mr=Qe/ke.height*100;Qe=mr+"%"}else if(Ye(be,"vw")){var Jt=Qe/this.window.innerWidth*100;Qe=Jt+"vw"}else if(Ye(be,"vh")){var rr=Qe/this.window.innerHeight*100;Qe=rr+"vh"}}var Lr={width:this.createSizeForCssProperty(Ct,"width"),height:this.createSizeForCssProperty(Qe,"height")};this.flexDir==="row"?Lr.flexBasis=Lr.width:this.flexDir==="column"&&(Lr.flexBasis=Lr.height),this.setState(Lr),this.props.onResize&&this.props.onResize(S,Be,this.resizable,Wn)}},H.prototype.onMouseUp=function(S){var T=this.state,Q=T.isResizing,se=T.direction,Ze=T.original;if(!(!Q||!this.resizable)){var st={width:this.size.width-Ze.width,height:this.size.height-Ze.height};this.props.onResizeStop&&this.props.onResizeStop(S,se,this.resizable,st),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:yn(yn({},this.state.backgroundStyle),{cursor:"auto"})})}},H.prototype.updateSize=function(S){this.setState({width:S.width,height:S.height})},H.prototype.renderResizer=function(){var S=this,T=this.props,Q=T.enable,se=T.handleStyles,Ze=T.handleClasses,st=T.handleWrapperStyle,qe=T.handleWrapperClass,vt=T.handleComponent;if(!Q)return null;var He=Object.keys(Q).map(function(Be){return Q[Be]!==!1?b.createElement(_t,{key:Be,direction:Be,onResizeStart:S.onResizeStart,replaceStyles:se&&se[Be],className:Ze&&Ze[Be]},vt&&vt[Be]?vt[Be]:null):null});return b.createElement("div",{className:qe,style:st},He)},H.prototype.render=function(){var S=this,T=Object.keys(this.props).reduce(function(Ze,st){return Bt.indexOf(st)!==-1||(Ze[st]=S.props[st]),Ze},{}),Q=yn(yn(yn({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(Q.flexBasis=this.state.flexBasis);var se=this.props.as||"div";return b.createElement(se,yn({ref:this.ref,style:Q,className:this.props.className},T),this.state.isResizing&&b.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},H.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},H}(b.PureComponent);var oe=function(R,H){return oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var Q in T)T.hasOwnProperty(Q)&&(S[Q]=T[Q])},oe(R,H)};function We(R,H){oe(R,H);function S(){this.constructor=R}R.prototype=H===null?Object.create(H):(S.prototype=H.prototype,new S)}var Tt=function(){return Tt=Object.assign||function(H){for(var S,T=1,Q=arguments.length;T<Q;T++){S=arguments[T];for(var se in S)Object.prototype.hasOwnProperty.call(S,se)&&(H[se]=S[se])}return H},Tt.apply(this,arguments)};function nn(R,H){var S={};for(var T in R)Object.prototype.hasOwnProperty.call(R,T)&&H.indexOf(T)<0&&(S[T]=R[T]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Q=0,T=Object.getOwnPropertySymbols(R);Q<T.length;Q++)H.indexOf(T[Q])<0&&Object.prototype.propertyIsEnumerable.call(R,T[Q])&&(S[T[Q]]=R[T[Q]]);return S}var Zn=an(),hr={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},Hr=function(R){return{bottom:R,bottomLeft:R,bottomRight:R,left:R,right:R,top:R,topLeft:R,topRight:R}},Li=function(R){We(H,R);function H(S){var T=R.call(this,S)||this;return T.resizingPosition={x:0,y:0},T.offsetFromParent={left:0,top:0},T.resizableElement={current:null},T.originalPosition={x:0,y:0},T.refDraggable=function(Q){Q&&(T.draggable=Q)},T.refResizable=function(Q){Q&&(T.resizable=Q,T.resizableElement.current=Q.resizable)},T.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:S.maxWidth,maxHeight:S.maxHeight},T.onResizeStart=T.onResizeStart.bind(T),T.onResize=T.onResize.bind(T),T.onResizeStop=T.onResizeStop.bind(T),T.onDragStart=T.onDragStart.bind(T),T.onDrag=T.onDrag.bind(T),T.onDragStop=T.onDragStop.bind(T),T.getMaxSizesFromProps=T.getMaxSizesFromProps.bind(T),T}return H.prototype.componentDidMount=function(){this.updateOffsetFromParent();var S=this.offsetFromParent,T=S.left,Q=S.top,se=this.getDraggablePosition(),Ze=se.x,st=se.y;this.draggable.setState({x:Ze-T,y:st-Q}),this.forceUpdate()},H.prototype.getDraggablePosition=function(){var S=this.draggable.state,T=S.x,Q=S.y;return{x:T,y:Q}},H.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},H.prototype.getParentSize=function(){return this.resizable.getParentSize()},H.prototype.getMaxSizesFromProps=function(){var S=typeof this.props.maxWidth=="undefined"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,T=typeof this.props.maxHeight=="undefined"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:S,maxHeight:T}},H.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},H.prototype.getOffsetHeight=function(S){var T=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/T;case"body":return document.body.offsetHeight/T;default:return S.offsetHeight}},H.prototype.getOffsetWidth=function(S){var T=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/T;case"body":return document.body.offsetWidth/T;default:return S.offsetWidth}},H.prototype.onDragStart=function(S,T){this.props.onDragStart&&this.props.onDragStart(S,T);var Q=this.getDraggablePosition();if(this.originalPosition=Q,!!this.props.bounds){var se=this.getParent(),Ze=this.props.scale,st;if(this.props.bounds==="parent")st=se;else if(this.props.bounds==="body"){var qe=se.getBoundingClientRect(),vt=qe.left,He=qe.top,Be=document.body.getBoundingClientRect(),bt=-(vt-se.offsetLeft*Ze-Be.left)/Ze,Ce=-(He-se.offsetTop*Ze-Be.top)/Ze,be=(document.body.offsetWidth-this.resizable.size.width*Ze)/Ze+bt,ke=(document.body.offsetHeight-this.resizable.size.height*Ze)/Ze+Ce;return this.setState({bounds:{top:Ce,right:be,bottom:ke,left:bt}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var Ve=se.getBoundingClientRect(),et=Ve.left,Qe=Ve.top,Ct=-(et-se.offsetLeft*Ze)/Ze,cn=-(Qe-se.offsetTop*Ze)/Ze,be=(window.innerWidth-this.resizable.size.width*Ze)/Ze+Ct,ke=(window.innerHeight-this.resizable.size.height*Ze)/Ze+cn;return this.setState({bounds:{top:cn,right:be,bottom:ke,left:Ct}})}else typeof this.props.bounds=="string"?st=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(st=this.props.bounds);if(!(!(st instanceof HTMLElement)||!(se instanceof HTMLElement))){var Yn=st.getBoundingClientRect(),On=Yn.left,Qn=Yn.top,Vn=se.getBoundingClientRect(),Wn=Vn.left,mr=Vn.top,Jt=(On-Wn)/Ze,rr=Qn-mr;if(this.resizable){this.updateOffsetFromParent();var Lr=this.offsetFromParent;this.setState({bounds:{top:rr-Lr.top,right:Jt+(st.offsetWidth-this.resizable.size.width)-Lr.left/Ze,bottom:rr+(st.offsetHeight-this.resizable.size.height)-Lr.top,left:Jt-Lr.left/Ze}})}}}},H.prototype.onDrag=function(S,T){if(this.props.onDrag){var Q=this.offsetFromParent,se=Q.left,Ze=Q.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(S,Tt(Tt({},T),{x:T.x-se,y:T.y-Ze}));if(this.props.dragAxis==="x")return this.props.onDrag(S,Tt(Tt({},T),{x:T.x+se,y:this.originalPosition.y+Ze,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(S,Tt(Tt({},T),{x:this.originalPosition.x+se,y:T.y+Ze,deltaX:0}))}},H.prototype.onDragStop=function(S,T){if(this.props.onDragStop){var Q=this.offsetFromParent,se=Q.left,Ze=Q.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(S,Tt(Tt({},T),{x:T.x+se,y:T.y+Ze}));if(this.props.dragAxis==="x")return this.props.onDragStop(S,Tt(Tt({},T),{x:T.x+se,y:this.originalPosition.y+Ze,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(S,Tt(Tt({},T),{x:this.originalPosition.x+se,y:T.y+Ze,deltaX:0}))}},H.prototype.onResizeStart=function(S,T,Q){S.stopPropagation(),this.setState({resizing:!0});var se=this.props.scale,Ze=this.offsetFromParent,st=this.getDraggablePosition();if(this.resizingPosition={x:st.x+Ze.left,y:st.y+Ze.top},this.originalPosition=st,this.props.bounds){var qe=this.getParent(),vt=void 0;this.props.bounds==="parent"?vt=qe:this.props.bounds==="body"?vt=document.body:this.props.bounds==="window"?vt=window:typeof this.props.bounds=="string"?vt=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(vt=this.props.bounds);var He=this.getSelfElement();if(He instanceof Element&&(vt instanceof HTMLElement||vt===window)&&qe instanceof HTMLElement){var Be=this.getMaxSizesFromProps(),bt=Be.maxWidth,Ce=Be.maxHeight,be=this.getParentSize();if(bt&&typeof bt=="string")if(bt.endsWith("%")){var ke=Number(bt.replace("%",""))/100;bt=be.width*ke}else bt.endsWith("px")&&(bt=Number(bt.replace("px","")));if(Ce&&typeof Ce=="string")if(Ce.endsWith("%")){var ke=Number(Ce.replace("%",""))/100;Ce=be.width*ke}else Ce.endsWith("px")&&(Ce=Number(Ce.replace("px","")));var Ve=He.getBoundingClientRect(),et=Ve.left,Qe=Ve.top,Ct=this.props.bounds==="window"?{left:0,top:0}:vt.getBoundingClientRect(),cn=Ct.left,Yn=Ct.top,On=this.getOffsetWidth(vt),Qn=this.getOffsetHeight(vt),Vn=T.toLowerCase().endsWith("left"),Wn=T.toLowerCase().endsWith("right"),mr=T.startsWith("top"),Jt=T.startsWith("bottom");if((Vn||mr)&&this.resizable){var rr=(et-cn)/se+this.resizable.size.width;this.setState({maxWidth:rr>Number(bt)?bt:rr})}if(Wn||this.props.lockAspectRatio&&!Vn&&!mr){var rr=On+(cn-et)/se;this.setState({maxWidth:rr>Number(bt)?bt:rr})}if((mr||Vn)&&this.resizable){var rr=(Qe-Yn)/se+this.resizable.size.height;this.setState({maxHeight:rr>Number(Ce)?Ce:rr})}if(Jt||this.props.lockAspectRatio&&!mr&&!Vn){var rr=Qn+(Yn-Qe)/se;this.setState({maxHeight:rr>Number(Ce)?Ce:rr})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(S,T,Q)},H.prototype.onResize=function(S,T,Q,se){var Ze={x:this.originalPosition.x,y:this.originalPosition.y},st=-se.width,qe=-se.height,vt=["top","left","topLeft","bottomLeft","topRight"];vt.indexOf(T)!==-1&&(T==="bottomLeft"?Ze.x+=st:(T==="topRight"||(Ze.x+=st),Ze.y+=qe)),(Ze.x!==this.draggable.state.x||Ze.y!==this.draggable.state.y)&&this.draggable.setState(Ze),this.updateOffsetFromParent();var He=this.offsetFromParent,Be=this.getDraggablePosition().x+He.left,bt=this.getDraggablePosition().y+He.top;this.resizingPosition={x:Be,y:bt},this.props.onResize&&this.props.onResize(S,T,Q,se,{x:Be,y:bt})},H.prototype.onResizeStop=function(S,T,Q,se){this.setState({resizing:!1});var Ze=this.getMaxSizesFromProps(),st=Ze.maxWidth,qe=Ze.maxHeight;this.setState({maxWidth:st,maxHeight:qe}),this.props.onResizeStop&&this.props.onResizeStop(S,T,Q,se,this.resizingPosition)},H.prototype.updateSize=function(S){this.resizable&&this.resizable.updateSize({width:S.width,height:S.height})},H.prototype.updatePosition=function(S){this.draggable.setState(S)},H.prototype.updateOffsetFromParent=function(){var S=this.props.scale,T=this.getParent(),Q=this.getSelfElement();if(!T||Q===null)return{top:0,left:0};var se=T.getBoundingClientRect(),Ze=se.left,st=se.top,qe=Q.getBoundingClientRect(),vt=this.getDraggablePosition(),He=T.scrollLeft,Be=T.scrollTop;this.offsetFromParent={left:qe.left-Ze+He-vt.x*S,top:qe.top-st+Be-vt.y*S}},H.prototype.render=function(){var S=this.props,T=S.disableDragging,Q=S.style,se=S.dragHandleClassName,Ze=S.position,st=S.onMouseDown,qe=S.onMouseUp,vt=S.dragAxis,He=S.dragGrid,Be=S.bounds,bt=S.enableUserSelectHack,Ce=S.cancel,be=S.children,ke=S.onResizeStart,Ve=S.onResize,et=S.onResizeStop,Qe=S.onDragStart,Ct=S.onDrag,cn=S.onDragStop,Yn=S.resizeHandleStyles,On=S.resizeHandleClasses,Qn=S.resizeHandleComponent,Vn=S.enableResizing,Wn=S.resizeGrid,mr=S.resizeHandleWrapperClass,Jt=S.resizeHandleWrapperStyle,rr=S.scale,Lr=S.allowAnyClick,Ti=nn(S,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),bi=this.props.default?Tt({},this.props.default):void 0;delete Ti.default;var go=T||se?{cursor:"auto"}:{cursor:"move"},Yi=Tt(Tt(Tt({},hr),go),Q),Gi=this.offsetFromParent,Di=Gi.left,fo=Gi.top,Ni;Ze&&(Ni={x:Ze.x-Di,y:Ze.y-fo});var ci=this.state.resizing?void 0:Ni,Ai=this.state.resizing?"both":vt;return(0,b.createElement)(Zn,{ref:this.refDraggable,handle:se?".".concat(se):void 0,defaultPosition:bi,onMouseDown:st,onMouseUp:qe,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:Ai,disabled:T,grid:He,bounds:Be?this.state.bounds:void 0,position:ci,enableUserSelectHack:bt,cancel:Ce,scale:rr,allowAnyClick:Lr,nodeRef:this.resizableElement},(0,b.createElement)(ut,Tt({},Ti,{ref:this.refResizable,defaultSize:bi,size:this.props.size,enable:typeof Vn=="boolean"?Hr(Vn):Vn,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:Yi,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:Wn,handleWrapperClass:mr,handleWrapperStyle:Jt,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:Yn,handleClasses:On,handleComponent:Qn,scale:this.props.scale}),be))},H.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},H}(b.PureComponent),Qr=300,ri=400,ei=(0,b.memo)(function(R){var H=R.children,S=R.direction,T=R.resize,Q=R.style,se=R.position,Ze=R.onPositionChange,st=R.size,qe=R.defaultSize,vt=R.defaultPosition,He=R.minWidth,Be=He===void 0?280:He,bt=R.minHeight,Ce=bt===void 0?200:bt,be=R.prefixCls,ke=R.canResizing,Ve=dt(be),et=Ve.styles,Qe=(0,b.useMemo)(function(){return ke?{right:et.rightHandle,left:et.leftHandle,top:et.topHandle,bottom:et.bottomHandle}:{}},[ke,S]),Ct=(0,b.useMemo)(function(){return ke?T:(0,P.Z)({top:!0,bottom:!0,right:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},T)},[ke,T]),cn=(0,P.Z)({width:ri,height:Qr},qe),Yn=(0,P.Z)({x:100,y:100},vt),On={minWidth:Math.max(Be,0),minHeight:Math.max(Ce,0),defaultSize:cn,size:st,style:Q};return(0,ze.jsx)(Li,(0,P.Z)((0,P.Z)({position:se,resizeHandleClasses:Qe,default:(0,P.Z)((0,P.Z)({},Yn),cn),onDragStop:function(Vn,Wn){Ze==null||Ze({x:Wn.x,y:Wn.y})},bound:"parent",enableResizing:Ct},On),{},{className:et.float,children:H}))}),ji=(0,b.memo)(function(R){var H=R.children,S=R.className,T=R.mode,Q=R.placement,se=R.resize,Ze=R.style,st=R.position,qe=R.onPositionChange,vt=R.size,He=R.defaultSize,Be=R.defaultPosition,bt=R.minWidth,Ce=R.minHeight,be=R.prefixCls,ke=R.onSizeChange,Ve=R.onSizeDragging,et=R.expandable,Qe=et===void 0?!0:et,Ct=R.isExpand,cn=R.onExpandChange,Yn=(0,B.k2)("draggable-panel",be);switch(T){case"fixed":default:return(0,ze.jsx)(Yt,{prefixCls:Yn,size:vt,defaultSize:He,onSizeDragging:Ve,onSizeChange:ke,minHeight:Ce,minWidth:bt,resize:se,onExpandChange:cn,expandable:Qe,isExpand:Ct,className:S,placement:Q,style:Ze,children:H});case"float":return(0,ze.jsx)(ei,{prefixCls:Yn,defaultPosition:Be,position:st,onPositionChange:qe,minHeight:Ce,minWidth:bt,defaultSize:He,size:vt,onSizeDragging:Ve,onSizeChange:ke,resize:se,canResizing:se!==!1,className:S,style:Ze,children:H})}})},36487:function(qt,Fe,j){"use strict";j.d(Fe,{c:function(){return bt}});var b=j(68372),B=j(99664),P=j(50959),Y=j(63617),Je=j(28257),yt=j(10422),pe=j(84341);function Ot(Ce){return be=>{let{transform:ke}=be;return Kr(Rt({},ke),{x:Math.ceil(ke.x/Ce)*Ce,y:Math.ceil(ke.y/Ce)*Ce})}}const Ft=Ce=>{let{transform:be}=Ce;return Kr(Rt({},be),{y:0})};function wt(Ce,be,ke){const Ve=Rt({},Ce);return be.top+Ce.y<=ke.top?Ve.y=ke.top-be.top:be.bottom+Ce.y>=ke.top+ke.height&&(Ve.y=ke.top+ke.height-be.bottom),be.left+Ce.x<=ke.left?Ve.x=ke.left-be.left:be.right+Ce.x>=ke.left+ke.width&&(Ve.x=ke.left+ke.width-be.right),Ve}const gt=Ce=>{let{containerNodeRect:be,draggingNodeRect:ke,transform:Ve}=Ce;return!ke||!be?Ve:wt(Ve,ke,be)},ht=Ce=>{let{draggingNodeRect:be,transform:ke,scrollableAncestorRects:Ve}=Ce;const et=Ve[0];return!be||!et?ke:wt(ke,be,et)},mt=Ce=>{let{transform:be}=Ce;return Kr(Rt({},be),{x:0})},At=Ce=>{let{transform:be,draggingNodeRect:ke,windowRect:Ve}=Ce;return!ke||!Ve?be:wt(be,ke,Ve)},ee=Ce=>{let{activatorEvent:be,draggingNodeRect:ke,transform:Ve}=Ce;if(ke&&be){const et=getEventCoordinates(be);if(!et)return Ve;const Qe=et.x-ke.left,Ct=et.y-ke.top;return Kr(Rt({},Ve),{x:Ve.x+Qe-ke.width/2,y:Ve.y+Ct-ke.height/2})}return Ve};var zn=j(59671),En=j(5899),bn=j.n(En),ft=j(84817);function he(Ce,be){if(Object.is(Ce,be))return!0;if(typeof Ce!="object"||Ce===null||typeof be!="object"||be===null)return!1;if(Ce instanceof Map&&be instanceof Map){if(Ce.size!==be.size)return!1;for(const[Ve,et]of Ce)if(!Object.is(et,be.get(Ve)))return!1;return!0}if(Ce instanceof Set&&be instanceof Set){if(Ce.size!==be.size)return!1;for(const Ve of Ce)if(!be.has(Ve))return!1;return!0}const ke=Object.keys(Ce);if(ke.length!==Object.keys(be).length)return!1;for(let Ve=0;Ve<ke.length;Ve++)if(!Object.prototype.hasOwnProperty.call(be,ke[Ve])||!Object.is(Ce[ke[Ve]],be[ke[Ve]]))return!1;return!0}var rn=(Ce,be)=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { shallow } from 'zustand/shallow'`."),he(Ce,be)),Kt=j(8505),xn=j(3310),fn=j(66052),Gt=j(72658),Pn=j(84875),jt=j.n(Pn),xe=j(8864),Ke=j(29636),we=j(98947),rt=function(be,ke){return P.createElement(we.Z,(0,xe.Z)({},be,{ref:ke,icon:Ke.Z}))},Re=P.forwardRef(rt),Te=j(10626),q=j(11527),F=(0,q.jsx)("svg",{viewBox:"0 0 20 20",width:"16",fill:"currentColor",children:(0,q.jsx)("path",{d:"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z"})}),re=(0,q.jsx)("svg",{width:"10",viewBox:"0 0 70 41",fill:"currentColor",children:(0,q.jsx)("path",{d:"M30.76 39.2402C31.885 40.3638 33.41 40.995 35 40.995C36.59 40.995 38.115 40.3638 39.24 39.2402L68.24 10.2402C69.2998 9.10284 69.8768 7.59846 69.8494 6.04406C69.822 4.48965 69.1923 3.00657 68.093 1.90726C66.9937 0.807959 65.5106 0.178263 63.9562 0.150837C62.4018 0.123411 60.8974 0.700397 59.76 1.76024L35 26.5102L10.24 1.76024C9.10259 0.700397 7.59822 0.123411 6.04381 0.150837C4.4894 0.178263 3.00632 0.807959 1.90702 1.90726C0.807714 3.00657 0.178019 4.48965 0.150593 6.04406C0.123167 7.59846 0.700153 9.10284 1.75999 10.2402L30.76 39.2402Z"})}),De=function(be){return _jsx(ActionIcon,_objectSpread({icon:re},be))},k=function(be){return(0,q.jsx)(Te.Z,(0,b.Z)({icon:F},be))},le=function(be){return(0,q.jsx)(Te.Z,(0,b.Z)({icon:(0,q.jsx)(Re,{})},be))},te=function(be){return _jsx(ActionIcon,_objectSpread({icon:_jsx(EditFilled,{})},be))},ae=j(3102),Le,Ae,_e,$e,me,Pt,kt,xt,dt,ze,zt,un,Sn="0 0 0 calc(1px / var(--scale-x, 1)) rgba(0, 0, 0, 0.05)",Yt="0 1px calc(3px / var(--scale-x, 1)) 0 rgba(0, 0, 0, 0.15)",Tn="".concat(Sn," ").concat(Yt),an=(0,xn.F4)(Le||(Le=(0,ae.Z)([`
	0% {
		box-shadow: var(--box-shadow);
		transform: scale(1);
	}
	100% {
		box-shadow: var(--box-shadow-picked-up);
		transform: scale(var(--scale));
	}
`]))),An=(0,xn.F4)(Ae||(Ae=(0,ae.Z)([`
	0% {
	  opacity: 0;
	}
	100% {
	  opacity: 1;
	}
`]))),Rr=(0,xn.kc)(function(Ce,be){var ke=Ce.css,Ve=Ce.cx,et=Ce.token,Qe="".concat(be);return{item:Ve("".concat(be,"-item"),ke(_e||(_e=(0,ae.Z)([`
        position: relative;
        display: flex;
        flex-grow: 1;
        align-items: center;
        justify-content: space-between;
        box-sizing: border-box;
        padding: 1px 0;
        color: `,`;
        font-size: 12px;
        white-space: nowrap;
        list-style: none;
        border-radius: 4px;
        outline: none;
        transform: scale(var(--scale, 1));
        transform-origin: 50% 50%;
        transition: box-shadow 200ms cubic-bezier(0.18, 0.67, 0.6, 1.22);
        -webkit-tap-highlight-color: transparent;

        &:focus-visible {
          box-shadow: 0 0 4px 1px #4c9ffe, `,`;
        }

        &:not(.`,`-item-withHandle) {
          cursor: grab;
          -webkit-user-select: none;
          user-select: none;
          touch-action: none;
        }

        &-dragging:not(.`,`-item-dragOverlay) {
          z-index: 0;
          opacity: var(--dragging-opacity, 0.5);

          &:focus {
            box-shadow: `,`;
          }
        }

        &:hover .`,`-item-actions {
          opacity: 1;
        }
      `])),et.colorTextSecondary,Tn,Qe,Qe,Tn,be)),disabled:Ve("".concat(be,"-item-disabled"),ke($e||($e=(0,ae.Z)([`
        color: #999;
        background-color: #f1f1f1;
        cursor: not-allowed;
        &:focus {
          box-shadow: 0 0 4px 1px rgba(0, 0, 0, 0.1), `,`;
        }
      `])),Tn)),dragOverlay:Ve("".concat(be,"-item-dragOverlay"),ke(me||(me=(0,ae.Z)([`
        padding: 4px 0;
        background-color: `,`;
        border: none;
        box-shadow: var(--box-shadow-picked-up);
        transform: scale(var(--scale));
        cursor: inherit;
        opacity: 1;

        /* box-shadow: 0 0px 6px 2px @focused-outline-color; */
        animation: `,` 200ms cubic-bezier(0.18, 0.67, 0.6, 1.22);
      `])),et.colorBgElevated,an)),wrapper:Ve("".concat(be,"-item-wrapper"),ke(Pt||(Pt=(0,ae.Z)([`
        display: flex;
        box-sizing: border-box;
        transform: translate3d(var(--translate-x, 0), var(--translate-y, 0), 0)
          scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1));
        transform-origin: 0 0;
        touch-action: manipulation;

        &:not(:last-child) {
          margin-bottom: 2px;
        }
      `])))),wrapperFadeIn:Ve("".concat(be,"-item-wrapper-fadeIn"),ke(kt||(kt=(0,ae.Z)([`
        animation: `,` 500ms ease;
      `])),An)),wrapperdragOverlay:Ve("".concat(be,"-item-wrapper-dragOverlay"),ke(xt||(xt=(0,ae.Z)([`
        --scale: 1.05;
        --box-shadow: `,`;
        --box-shadow-picked-up: `,`, -1px 0 15px 0 rgba(82, 82, 82, 0.01),
          0 15px 15px 0 rgba(82, 82, 82, 0.25);

        z-index: 999;
      `])),Tn,Sn)),actions:Ve("".concat(be,"-item-actions"),ke(dt||(dt=(0,ae.Z)([`
        z-index: 10;
        color: hsla(0, 0, 0, 0.45);
        opacity: 0;
      `])))),actionsLeft:Ve("".concat(be,"-item-actions-left"),ke(ze||(ze=(0,ae.Z)([`
        position: absolute;
        top: 0;
        left: 0;

        .studio-btn.studio-btn-sm.studio-btn-icon-only {
          width: 14px;
          height: 24px;
          > svg {
            width: 14px;
          }
        }
      `])))),actionsRight:Ve("".concat(be,"-item-actions-right"),ke(zt||(zt=(0,ae.Z)([`
        position: absolute;
        top: 1px;
        right: 1px;
        align-self: flex-end;
        overflow: hidden;
        border-radius: 1px;
        // \u91C7\u7528\u80CC\u666F\u6A21\u7CCA\u6765\u89E3\u51B3\u591A\u79CD\u80CC\u666F\u8272\u4E0B\u8986\u76D6\u5185\u5BB9\u7684\u95EE\u9898 TODO\uFF1AFireFox \u517C\u5BB9
        backdrop-filter: blur(5px);
        //background-image: linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, @bg-2 10%, @bg-2 100%);

        .tech-studio-actionicon-icon {
          height: 22px;
        }
      `])))),content:Ve("".concat(be,"-item-content"),ke(un||(un=(0,ae.Z)([`
        position: relative;
        width: 100%;
      `]))))}}),qr=["color","dragOverlay","dragging","disabled","fadeIn","handle","index","listeners","onRemove","hideRemove","compact","children","sorting","style","transition","transform","id","className","actions","prefixCls"],_t=(0,P.memo)((0,P.forwardRef)(function(Ce,be){var ke,Ve,et=Ce.color,Qe=Ce.dragOverlay,Ct=Ce.dragging,cn=Ce.disabled,Yn=Ce.fadeIn,On=Ce.handle,Qn=On===void 0?!0:On,Vn=Ce.index,Wn=Ce.listeners,mr=Ce.onRemove,Jt=Ce.hideRemove,rr=Jt===void 0?!1:Jt,Lr=Ce.compact,Ti=Lr===void 0?!1:Lr,bi=Ce.children,go=Ce.sorting,Yi=Ce.style,Gi=Ce.transition,Di=Ce.transform,fo=Ce.id,Ni=Ce.className,ci=Ce.actions,Ai=Ce.prefixCls,so=(0,B.Z)(Ce,qr),xi=(0,Gt.S)(),$o=Rr(Ai),Qi=$o.styles,Mo=jt()("".concat(Ai,"-item"));return(0,P.useEffect)(function(){if(Qe)return document.body.style.cursor="grabbing",function(){document.body.style.cursor=""}},[Qe]),(0,q.jsx)("li",{className:jt()(Qi.wrapper,Ni,(ke={},(0,fn.Z)(ke,Qi.wrapperFadeIn,Yn),(0,fn.Z)(ke,"".concat(Mo,"-wrapper-sorting"),go),(0,fn.Z)(ke,Qi.wrapperdragOverlay,Qe),ke)),style:{transition:Gi,"--translate-x":Di?"".concat(Math.round(Di.x),"px"):void 0,"--translate-y":Di?"".concat(Math.round(Di.y),"px"):void 0,"--scale-x":Di!=null&&Di.scaleX?"".concat(Di.scaleX):void 0,"--scale-y":Di!=null&&Di.scaleY?"".concat(Di.scaleY):void 0,"--index":Vn,"--color":et},"data-testid":"list-item",ref:be,children:(0,q.jsx)("div",(0,b.Z)((0,b.Z)((0,b.Z)({className:jt()(Qi.item,(Ve={},(0,fn.Z)(Ve,"".concat(Mo,"-dragging"),Ct),(0,fn.Z)(Ve,"".concat(Mo,"-withHandle"),Qn),(0,fn.Z)(Ve,Qi.dragOverlay,Qe),(0,fn.Z)(Ve,Qi.disabled,cn),(0,fn.Z)(Ve,"".concat(Mo,"-discolorabled"),et),Ve)),style:(0,b.Z)((0,b.Z)({},Yi),{},{backgroundColor:Ti?void 0:xi.colorBgContainer}),"data-cypress":"draggable-item"},Qn?void 0:Wn),so),{},{tabIndex:Qn?void 0:0,children:(0,q.jsxs)(ft.D,{className:Qi.content,direction:"horizontal",align:"center",children:[(0,q.jsx)(ft.D,{className:jt()(Qi.actionsLeft,Qi.actions),direction:"horizontal",children:Qn?(0,q.jsx)(k,(0,b.Z)({tabIndex:-1,cursor:"grab","data-cypress":"draggable-handle",style:Ti?void 0:{position:"absolute",left:"-13px"}},Wn)):null}),bi,(0,q.jsxs)(ft.D,{className:jt()(Qi.actions,Ti?Qi.actionsRight:void 0),direction:"horizontal",children:[ci,rr?null:(0,q.jsx)(le,{tabIndex:-1,onClick:mr,style:{height:22}})]})]})}))},fo)})),Lt=_t,Qt=j(57408),ln=function(be){return{activeId:be.activeId,compact:be.compact,renderContent:be.renderContent,getActiveIndex:be.getActiveIndex}},yn=function(be){var ke=be.prefixCls,Ve=(0,Qt.oR)(ln,he),et=Ve.activeId,Qe=Ve.compact,Ct=Ve.renderContent,cn=Ve.getActiveIndex,Yn=(0,Qt.oR)(function(Qn){return Qn.value},bn()),On=cn();return(0,q.jsx)(Je.y9,{adjustScale:!1,dropAnimation:(0,b.Z)((0,b.Z)({},Je.RJ),{},{sideEffects:(0,Je.Ai)({styles:{active:{opacity:"0.5"}}})}),children:et?(0,q.jsx)(Lt,{id:et,dragOverlay:!0,prefixCls:ke,compact:Qe,children:Ct(Yn[On],On)}):null})},ur=(0,P.memo)(yn),jn=j(20895),Xr=(0,xn.kc)(function(Ce,be){var ke=be.prefixCls,Ve=be.horizontal;return{container:(0,xn.cx)("".concat(ke,"-container"),(0,xn.iv)({listStyle:"none",display:"grid",gridAutoRows:"max-content",gridGap:"2px",gridTemplateColumns:"repeat(var(--columns, 1), 1fr)",width:"100%",margin:"0",padding:"0",borderRadius:"4px",transition:"background-color 350ms ease",gridAutoFlow:Ve?"column":void 0}))}}),Jn=(0,P.forwardRef)(function(Ce,be){var ke=Ce.children,Ve=Ce.columns,et=Ve===void 0?1:Ve,Qe=Ce.horizontal,Ct=Ce.style,cn=Ce.className,Yn=Ce.prefixCls,On=Xr({prefixCls:Yn,horizontal:Qe}),Qn=On.styles,Vn=jt()(Qn.container,cn);return(0,q.jsx)("ul",{ref:be,style:(0,b.Z)((0,b.Z)({},Ct),{},{"--columns":et}),className:Vn,children:ke})}),ge=Jn;function je(Ce){var be=Ce.disabled,ke=Ce.id,Ve=Ce.index,et=Ce.actions,Qe=Ce.onRemove,Ct=Ce.useDragOverlay,cn=Ct===void 0?!0:Ct,Yn=Ce.children,On=Ce.prefixCls,Qn=Ce.hideRemove,Vn=Qn===void 0?!1:Qn,Wn=Ce.compact,mr=Wn===void 0?!1:Wn,Jt=(0,zn.nB)({id:ke,disabled:be}),rr=Jt.attributes,Lr=Jt.isDragging,Ti=Jt.isSorting,bi=Jt.listeners,go=Jt.setNodeRef,Yi=Jt.transform,Gi=Jt.transition;return(0,q.jsx)(Lt,(0,b.Z)((0,b.Z)({ref:go,id:ke,disabled:be,dragging:Lr,sorting:Ti,compact:mr,hideRemove:Vn,index:Ve,actions:et,onRemove:Qe?function(){return Qe(Ve)}:void 0,transform:Yi,transition:!cn&&Lr?"none":Gi,listeners:bi,"data-index":Ve,"data-id":ke,dragOverlay:!cn&&Lr,prefixCls:On},rr),{},{children:Yn}),ke)}var Xe=j(70413),Ye=j(59892),Nt=j(52380),Nn=j(61312),wn,Bt,Vt,ut,oe,We,Tt,nn,Zn,hr,Hr,Li=function(be){var ke=be.token,Ve=be.css,et=Ve(wn||(wn=(0,ae.Z)([`
    cursor: pointer;
    transition: 150ms background-color ease-in-out;
    &:hover {
      background: `,`;
    }
  `])),ke.colorFillQuaternary),Qe=Ve(Bt||(Bt=(0,ae.Z)([`
    color: `,`;
    background-color: `,`;
    border-color: transparent;
  `])),ke.colorText,ke.colorFillTertiary),Ct=Ve(Vt||(Vt=(0,ae.Z)([`
    color: `,` !important;
    background-color: `,` !important;
    border-color: `,` !important;
    box-shadow: none;
  `])),ke.colorText,ke.colorFillQuaternary,ke.colorPrimary),cn=Ve(ut||(ut=(0,ae.Z)([`
    color: `,`;
    background: `,`;
    border-color: transparent;
  `])),ke.colorTextSecondary,ke.colorFillQuaternary);return{defaultButton:Ve(oe||(oe=(0,ae.Z)([`
      `,`;

      &:hover {
        color: `,` !important;
        background: `,` !important;
        border-color: transparent !important;
      }
      &:focus {
        `,`;
        border-color: `,` !important;
      }
    `])),cn,ke.colorText,ke.colorFillSecondary,cn,ke.colorPrimary),textInfo:Ve(We||(We=(0,ae.Z)([`
      color: `,`;
      &:hover {
        color: `,`;
      }
    `])),ke.colorTextSecondary,ke.colorText),textDefault:Ve(Tt||(Tt=(0,ae.Z)([`
      color: `,`;
    `])),ke.colorTextSecondary),containerBgHover:Ve(nn||(nn=(0,ae.Z)([`
      cursor: pointer;
      transition: 150ms background-color ease-in-out;

      &:hover {
        background: `,`;
      }
    `])),ke.colorFillQuaternary),containerBgL2:Ve(Zn||(Zn=(0,ae.Z)([`
      `,`;
      border-radius: 4px;
      background: `,`;

      &:hover {
        background: `,`;
      }
    `])),et,ke.colorFillQuaternary,ke.colorFillTertiary),controlContainerFocused:Ct,controlContainer:Ve(hr||(hr=(0,ae.Z)([`
      &:hover {
        `,`
      }
      &:focus {
        `,`
      }
    `])),Qe,Ct),backgroundBlur:Ve(Hr||(Hr=(0,ae.Z)([`
      background: `,`;
      backdrop-filter: blur(10px);
    `])),(0,Nn.DZ)(.4)(ke.colorBgElevated))}},Qr,ri=(0,xn.kc)(function(Ce,be){var ke=Ce.token,Ve=Ce.css,et=Li(Ce);return{btnAdd:(0,xn.cx)("".concat(be,"-btn-add"),Ve(Qr||(Qr=(0,ae.Z)([`
        height: 24px;
        padding-block: 2px;
        margin-top: `,`px;
      `])),ke.marginXXS),et.defaultButton)}}),ei=function(be){return{renderContent:be.renderContent,compact:be.compact,hideRemove:be.hideRemove,creatorButtonProps:be.creatorButtonProps,dispatchListData:be.dispatchListData}},ji=function(be){var ke=be.prefixCls,Ve=(0,Qt.oR)(ei,he),et=Ve.dispatchListData,Qe=Ve.renderContent,Ct=Ve.compact,cn=Ve.hideRemove,Yn=(0,Qt.oR)(function(ci){return[ci.value,ci.keyManager,ci.creatorButtonProps,ci.actions]},bn()),On=(0,jn.Z)(Yn,4),Qn=On[0],Vn=On[1],Wn=On[2],mr=On[3],Jt=Wn||{},rr=Jt.record,Lr=Jt.creatorButtonText,Ti=Lr===void 0?"\u6DFB\u52A0\u4E00\u5217":Lr,bi=Jt.showInList,go=bi===void 0?!0:bi,Yi=Jt.showInEmpty,Gi=Yi===void 0?!0:Yi,Di=ri(ke),fo=Di.styles,Ni=function(Ai){var so=Ai.empty,xi=so===void 0?!1:so;return(0,q.jsx)(Ye.ZP,{block:!xi,size:"small",className:fo.btnAdd,onClick:function(){var Qi=(0,b.Z)({},rr&&typeof rr=="function"?rr(Qn.length):rr);et({type:"addItem",item:Qi})},icon:(0,q.jsx)(Xe.Z,{}),children:Ti})};return(0,q.jsx)(q.Fragment,{children:Array.isArray(Qn)&&Qn.length===0?(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(Nt.Z,{image:Nt.Z.PRESENTED_IMAGE_SIMPLE,children:Gi===!1?null:(0,q.jsx)(Ni,{empty:!0})})}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(ge,{prefixCls:ke,children:Qn.map(function(ci,Ai){return(0,q.jsx)(je,{id:Vn.keys[Ai],index:Ai,compact:Ct,hideRemove:cn,onRemove:function(){return et({type:"removeItem",index:Ai})},actions:typeof mr=="function"?mr(ci,Ai):mr,useDragOverlay:!0,prefixCls:ke,children:Qe==null?void 0:Qe(ci,Ai)},Vn.keys[Ai])})}),go===!1?null:(0,q.jsx)(Ni,{})]})})},R=(0,P.memo)(ji),H={strategy:Je.uN.Always},S=function(be){return{handleDragStart:be.handleDragStart,handleDragCancel:be.handleDragCancel,handleDragEnd:be.handleDragEnd,renderHeader:be.renderHeader}},T=function(be){var ke=be.className,Ve=be.style,et=be.prefixCls,Qe=(0,Qt.oR)(S,he),Ct=Qe.handleDragStart,cn=Qe.handleDragCancel,Yn=Qe.handleDragEnd,On=Qe.renderHeader,Qn=(0,Qt.oR)(function(Jt){return Jt.keyManager},bn()),Vn=(0,Kt.k2)("sortable-list",et),Wn=(0,Je.Dy)((0,Je.VT)(Je.MA),(0,Je.VT)(Je.LO),(0,Je.VT)(Je.Lg,{coordinateGetter:zn.is})),mr=(0,P.useMemo)(function(){return(0,yt.createPortal)((0,q.jsx)(ur,{prefixCls:Vn}),document.body)},[]);return(0,q.jsx)(ft.D,{className:(0,xn.cx)(ke,Vn),style:Ve,children:(0,q.jsx)(Je.LB,{sensors:Wn,collisionDetection:Je.pE,onDragStart:Ct,onDragEnd:Yn,measuring:{droppable:H},onDragCancel:cn,modifiers:[mt,At],children:(0,q.jsxs)(zn.Fo,{items:Qn.keys.map(function(Jt){return{id:Jt}}),strategy:zn.qw,children:[On==null?void 0:On(),(0,q.jsx)(R,{prefixCls:Vn}),mr]})})})},Q=T,se=function(be){var ke=be.children,Ve=be.showDevtools,et=!0,Qe=(0,q.jsx)(q.Fragment,{children:ke});try{(0,Qt.AC)()}catch(Ct){et=!1}return et?Qe:(0,q.jsx)(Qt.zt,{createStore:function(){return(0,Qt.MT)(Ve)},children:Qe})},Ze=j(18846),st=function(be){return function(ke,Ve){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[Ve],Qe=arguments.length>3?arguments[3]:void 0,Ct=Qe!=null?Qe:be.setState;(0,P.useEffect)(function(){typeof Ve!="undefined"&&Ct((0,fn.Z)({},ke,Ve))},et)}},qe=j(89066),vt=(0,P.forwardRef)(function(Ce,be){var ke=Ce.creatorButtonProps,Ve=Ce.initialValues,et=Ce.value,Qe=Ce.onChange,Ct=Ce.renderContent,cn=Ce.renderHeader,Yn=Ce.actions,On=Ce.compact,Qn=Ce.hideRemove,Vn=(0,Qt.AC)(),Wn=st(Vn),mr=function(Lr,Ti){var bi=Vn.getState(),go=bi.keyManager,Yi=(0,Ze.Uy)(go,function(Gi){return Lr[Ti].forEach(function(Di,fo){var Ni=Gi.keys[fo];Ni===void 0&&(Gi.keys[fo]=Gi.id,Gi.id+=1)}),Gi});Vn.setState((0,fn.Z)({keyManager:Yi},Ti,Lr[Ti]))};Wn("value",Ve,[]),Wn("onChange",Qe),Wn("creatorButtonProps",ke),Wn("renderContent",Ct),Wn("renderHeader",cn),Wn("actions",Yn),Wn("compact",On),Wn("hideRemove",Qn),Wn("initialValues",Ve,[Ve],function(rr){mr(rr,"initialValues")}),Wn("value",et,[et],function(rr){return mr(rr,"value")});var Jt=(0,qe.t)();return(0,P.useImperativeHandle)(be,function(){return Jt}),null}),He=vt,Be=["SHOW_STORE_IN_DEVTOOLS","className","style"],bt=(0,P.memo)((0,P.forwardRef)(function(Ce,be){var ke=Ce.SHOW_STORE_IN_DEVTOOLS,Ve=Ce.className,et=Ce.style,Qe=(0,B.Z)(Ce,Be);return(0,q.jsx)(Y.iV,{children:(0,q.jsxs)(se,{showDevtools:ke,children:[(0,q.jsx)(Q,{style:et,className:Ve}),(0,q.jsx)(He,(0,b.Z)((0,b.Z)({},Qe),{},{ref:be}))]})})}))},89066:function(qt,Fe,j){"use strict";j.d(Fe,{t:function(){return P}});var b=j(28062),B=j(57408),P=function(){var Je=(0,B.AC)(),yt=(0,b.Z)(function(){return Je.getState().activeId}),pe=(0,b.Z)(function(){return Je.getState().value}),Ot=function(ht,mt){return Je.getState().dispatchListData({type:"addItem",item:ht,index:mt})},Ft=function(ht){return Je.getState().dispatchListData({type:"removeItem",index:ht})},wt=function(ht,mt){return Je.getState().dispatchListData({type:"updateItem",item:ht,index:mt})};return{getActiveId:yt,getValue:pe,addItem:Ot,removeItem:Ft,updateItem:wt}}},57408:function(qt,Fe,j){"use strict";j.d(Fe,{zt:function(){return k},MT:function(){return q},oR:function(){return re},AC:function(){return De}});var b=j(42295),B=j(50959),P=function(){var te=(0,B.createContext)(void 0),ae=function($e){var me=$e.createStore,Pt=$e.children,kt=(0,B.useRef)();return kt.current||(kt.current=me()),(0,B.createElement)(te.Provider,{value:kt.current},Pt)},Le=function($e,me){var Pt=(0,B.useContext)(te);if(!Pt)throw new Error("Seems like you have not used zustand provider as an ancestor.");return(0,b.oR)(Pt,$e,me)},Ae=function(){var $e=(0,B.useContext)(te);if(!$e)throw new Error("Seems like you have not used zustand provider as an ancestor.");return $e};return{Provider:ae,useStore:Le,useStoreApi:Ae}};const Y=(le,te)=>(ae,Le,Ae)=>(Ae.dispatch=_e=>(ae($e=>le($e,_e),!1,_e),_e),Ae.dispatchFromDevtools=!0,Rt({dispatch:(..._e)=>Ae.dispatch(..._e)},te)),Je=null,yt=new Map,pe=le=>{const te=yt.get(le);return te?Object.fromEntries(Object.entries(te.stores).map(([ae,Le])=>[ae,Le.getState()])):{}},Ot=(le,te,ae)=>{if(le===void 0)return{type:"untracked",connection:te.connect(ae)};const Le=yt.get(ae.name);if(Le)return Rt({type:"tracked",store:le},Le);const Ae={connection:te.connect(ae),stores:{}};return yt.set(ae.name,Ae),Rt({type:"tracked",store:le},Ae)},wt=(le,te={})=>(ae,Le,Ae)=>{const Sn=te,{enabled:_e,anonymousActionType:$e,store:me}=Sn,Pt=ls(Sn,["enabled","anonymousActionType","store"]);let kt;try{kt=(_e!=null?_e:void 0!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(Tn){}if(!kt)return _e&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),le(ae,Le,Ae);const Yt=Ot(me,kt,Pt),{connection:xt}=Yt,dt=ls(Yt,["connection"]);let ze=!0;Ae.setState=(Tn,an,An)=>{const Rr=ae(Tn,an);if(!ze)return Rr;const qr=An===void 0?{type:$e||"anonymous"}:typeof An=="string"?{type:An}:An;return me===void 0?(xt==null||xt.send(qr,Le()),Rr):(xt==null||xt.send(Kr(Rt({},qr),{type:`${me}/${qr.type}`}),Kr(Rt({},pe(Pt.name)),{[me]:Ae.getState()})),Rr)};const zt=(...Tn)=>{const an=ze;ze=!1,ae(...Tn),ze=an},un=le(Ae.setState,Le,Ae);if(dt.type==="untracked"?xt==null||xt.init(un):(dt.stores[dt.store]=Ae,xt==null||xt.init(Object.fromEntries(Object.entries(dt.stores).map(([Tn,an])=>[Tn,Tn===dt.store?un:an.getState()])))),Ae.dispatchFromDevtools&&typeof Ae.dispatch=="function"){let Tn=!1;const an=Ae.dispatch;Ae.dispatch=(...An)=>{An[0].type==="__setState"&&!Tn&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),Tn=!0),an(...An)}}return xt.subscribe(Tn=>{var an;switch(Tn.type){case"ACTION":if(typeof Tn.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return gt(Tn.payload,An=>{if(An.type==="__setState"){if(me===void 0){zt(An.state);return}Object.keys(An.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const Rr=An.state[me];if(Rr==null)return;JSON.stringify(Ae.getState())!==JSON.stringify(Rr)&&zt(Rr);return}Ae.dispatchFromDevtools&&typeof Ae.dispatch=="function"&&Ae.dispatch(An)});case"DISPATCH":switch(Tn.payload.type){case"RESET":return zt(un),me===void 0?xt==null?void 0:xt.init(Ae.getState()):xt==null?void 0:xt.init(pe(Pt.name));case"COMMIT":if(me===void 0){xt==null||xt.init(Ae.getState());return}return xt==null?void 0:xt.init(pe(Pt.name));case"ROLLBACK":return gt(Tn.state,An=>{if(me===void 0){zt(An),xt==null||xt.init(Ae.getState());return}zt(An[me]),xt==null||xt.init(pe(Pt.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return gt(Tn.state,An=>{if(me===void 0){zt(An);return}JSON.stringify(Ae.getState())!==JSON.stringify(An[me])&&zt(An[me])});case"IMPORT_STATE":{const{nextLiftedState:An}=Tn.payload,Rr=(an=An.computedStates.slice(-1)[0])==null?void 0:an.state;if(!Rr)return;zt(me===void 0?Rr:Rr[me]),xt==null||xt.send(null,An);return}case"PAUSE_RECORDING":return ze=!ze}return}}),un},gt=(le,te)=>{let ae;try{ae=JSON.parse(le)}catch(Le){console.error("[zustand devtools middleware] Could not parse the received json",Le)}ae!==void 0&&te(ae)},ht=le=>(te,ae,Le)=>{const Ae=Le.subscribe;return Le.subscribe=($e,me,Pt)=>{let kt=$e;if(me){const xt=(Pt==null?void 0:Pt.equalityFn)||Object.is;let dt=$e(Le.getState());kt=ze=>{const zt=$e(ze);if(!xt(dt,zt)){const un=dt;me(dt=zt,un)}},Pt!=null&&Pt.fireImmediately&&me(dt,dt)}return Ae(kt)},le(te,ae,Le)},mt=null,At=(le,te)=>(...ae)=>Object.assign({},le,te(...ae));function ee(le,te){let ae;try{ae=le()}catch(Ae){return}return{getItem:Ae=>{var _e;const $e=Pt=>Pt===null?null:JSON.parse(Pt,te==null?void 0:te.reviver),me=(_e=ae.getItem(Ae))!=null?_e:null;return me instanceof Promise?me.then($e):$e(me)},setItem:(Ae,_e)=>ae.setItem(Ae,JSON.stringify(_e,te==null?void 0:te.replacer)),removeItem:Ae=>ae.removeItem(Ae)}}const zn=le=>te=>{try{const ae=le(te);return ae instanceof Promise?ae:{then(Le){return zn(Le)(ae)},catch(Le){return this}}}catch(ae){return{then(Le){return this},catch(Le){return zn(Le)(ae)}}}},En=(le,te)=>(ae,Le,Ae)=>{let _e=Rt({getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:Yt=>Yt,version:0,merge:(Yt,Tn)=>Rt(Rt({},Tn),Yt)},te),$e=!1;const me=new Set,Pt=new Set;let kt;try{kt=_e.getStorage()}catch(Yt){}if(!kt)return le((...Yt)=>{console.warn(`[zustand persist middleware] Unable to update item '${_e.name}', the given storage is currently unavailable.`),ae(...Yt)},Le,Ae);const xt=zn(_e.serialize),dt=()=>{const Yt=_e.partialize(Rt({},Le()));let Tn;const an=xt({state:Yt,version:_e.version}).then(An=>kt.setItem(_e.name,An)).catch(An=>{Tn=An});if(Tn)throw Tn;return an},ze=Ae.setState;Ae.setState=(Yt,Tn)=>{ze(Yt,Tn),dt()};const zt=le((...Yt)=>{ae(...Yt),dt()},Le,Ae);let un;const Sn=()=>{var Yt;if(!kt)return;$e=!1,me.forEach(an=>an(Le()));const Tn=((Yt=_e.onRehydrateStorage)==null?void 0:Yt.call(_e,Le()))||void 0;return zn(kt.getItem.bind(kt))(_e.name).then(an=>{if(an)return _e.deserialize(an)}).then(an=>{if(an)if(typeof an.version=="number"&&an.version!==_e.version){if(_e.migrate)return _e.migrate(an.state,an.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return an.state}).then(an=>{var An;return un=_e.merge(an,(An=Le())!=null?An:zt),ae(un,!0),dt()}).then(()=>{Tn==null||Tn(un,void 0),$e=!0,Pt.forEach(an=>an(un))}).catch(an=>{Tn==null||Tn(void 0,an)})};return Ae.persist={setOptions:Yt=>{_e=Rt(Rt({},_e),Yt),Yt.getStorage&&(kt=Yt.getStorage())},clearStorage:()=>{kt==null||kt.removeItem(_e.name)},getOptions:()=>_e,rehydrate:()=>Sn(),hasHydrated:()=>$e,onHydrate:Yt=>(me.add(Yt),()=>{me.delete(Yt)}),onFinishHydration:Yt=>(Pt.add(Yt),()=>{Pt.delete(Yt)})},Sn(),un||zt},bn=(le,te)=>(ae,Le,Ae)=>{let _e=Rt({storage:ee(()=>localStorage),partialize:Sn=>Sn,version:0,merge:(Sn,Yt)=>Rt(Rt({},Yt),Sn)},te),$e=!1;const me=new Set,Pt=new Set;let kt=_e.storage;if(!kt)return le((...Sn)=>{console.warn(`[zustand persist middleware] Unable to update item '${_e.name}', the given storage is currently unavailable.`),ae(...Sn)},Le,Ae);const xt=()=>{const Sn=_e.partialize(Rt({},Le()));return kt.setItem(_e.name,{state:Sn,version:_e.version})},dt=Ae.setState;Ae.setState=(Sn,Yt)=>{dt(Sn,Yt),xt()};const ze=le((...Sn)=>{ae(...Sn),xt()},Le,Ae);let zt;const un=()=>{var Sn,Yt;if(!kt)return;$e=!1,me.forEach(an=>{var An;return an((An=Le())!=null?An:ze)});const Tn=((Yt=_e.onRehydrateStorage)==null?void 0:Yt.call(_e,(Sn=Le())!=null?Sn:ze))||void 0;return zn(kt.getItem.bind(kt))(_e.name).then(an=>{if(an)if(typeof an.version=="number"&&an.version!==_e.version){if(_e.migrate)return _e.migrate(an.state,an.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return an.state}).then(an=>{var An;return zt=_e.merge(an,(An=Le())!=null?An:ze),ae(zt,!0),xt()}).then(()=>{Tn==null||Tn(zt,void 0),zt=Le(),$e=!0,Pt.forEach(an=>an(zt))}).catch(an=>{Tn==null||Tn(void 0,an)})};return Ae.persist={setOptions:Sn=>{_e=Rt(Rt({},_e),Sn),Sn.storage&&(kt=Sn.storage)},clearStorage:()=>{kt==null||kt.removeItem(_e.name)},getOptions:()=>_e,rehydrate:()=>un(),hasHydrated:()=>$e,onHydrate:Sn=>(me.add(Sn),()=>{me.delete(Sn)}),onFinishHydration:Sn=>(Pt.add(Sn),()=>{Pt.delete(Sn)})},_e.skipHydration||un(),zt||ze},ft=(le,te)=>"getStorage"in te||"serialize"in te||"deserialize"in te?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),En(le,te)):bn(le,te),he=null;var rn=function(te){return function(ae,Le){var Ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[Le],_e=arguments.length>3?arguments[3]:void 0,$e=te();useEffect(function(){typeof Le!="undefined"&&(_e?_e(Le):$e.setState(_defineProperty({},ae,Le)))},Ae)}},Kt=function(te){return te?wt:function(ae){return ae}},xn=j(68372),fn=j(5899),Gt=j.n(fn),Pn={activeId:null,value:[],keyManager:{keys:[],id:1},compact:!1,hideRemove:!1,onChange:void 0,renderHeader:void 0,renderContent:void 0,actions:[]},jt=j(59671),xe=j(18846),Ke=j(72266),we=j.n(Ke),rt=function(te,ae,Le){switch(Le.type){case"moveItem":var Ae=Le.activeId,_e=Le.targetId,$e=Ae?ae.keys.indexOf(Ae):-1,me=_e?ae.keys.indexOf(_e):-1;return $e===me||$e<0||$e>=te.length||me<0||me>=te.length?void 0:{data:(0,xe.Uy)(te,function(ze){var zt=(0,jt.Rp)(ze,$e,me);return zt}),manager:(0,xe.Uy)(ae,function(ze){return ze.keys=(0,jt.Rp)(ze.keys,$e,me),ze})};case"removeItem":var Pt=new Set(Array.isArray(Le.index)?Le.index:[Le.index]);return Pt.size<=0?void 0:{data:(0,xe.Uy)(te,function(ze){var zt=ze.filter(function(un,Sn){return!Pt.has(Sn)});return zt}),manager:(0,xe.Uy)(ae,function(ze){return ze.keys=ze.keys.filter(function(zt,un){return!Pt.has(un)}),ze})};case"addItem":var kt=Le.item,xt=Le.index,dt=xt===void 0?te.length:xt;return{data:(0,xe.Uy)(te,function(ze){return ze.splice(dt,0,kt),ze}),manager:(0,xe.Uy)(ae,function(ze){return ze.keys.splice(dt,0,ze.id),ze.id+=1,ze})};case"updateItem":return{data:(0,xe.Uy)(te,function(ze){var zt=Le.item,un=Le.index;return ze[un]=we()(ze[un],zt),ze}),manager:(0,xe.Uy)(ae,function(ze){return ze})}}},Re=function(te,ae){return(0,xn.Z)((0,xn.Z)({},Pn),{},{handleDragStart:function(Ae){var _e=Ae.active.id;_e&&te({activeId:_e})},handleDragEnd:function(Ae){var _e=Ae.over,$e=Ae.active,me=ae(),Pt=me.dispatchListData;_e&&Pt({type:"moveItem",activeId:$e.id,targetId:_e.id}),te({activeId:null})},handleDragCancel:function(){te({activeId:null})},dispatchListData:function(Ae){var _e=ae(),$e=_e.value,me=_e.onChange,Pt=_e.keyManager,kt=rt($e,Pt,Ae)||{},xt=kt.data,dt=kt.manager;if(xt){if(Gt()($e,xt))return;te({value:xt}),me&&me(xt)}dt&&te({keyManager:dt})},getActiveIndex:function(){var Ae=ae(),_e=Ae.keyManager,$e=Ae.activeId,me=$e?_e.keys.indexOf($e):-1;return me}})},Te=Re,q=function(te){return(0,b.Ue)(Kt(te)(Te,{name:"SortableList"}))},F=P(),re=F.useStore,De=F.useStoreApi,k=F.Provider},28257:function(qt,Fe,j){"use strict";j.d(Fe,{LB:function(){return fo},y9:function(){return Bi},g4:function(){return Jn},Lg:function(){return Xe},uN:function(){return ei},MA:function(){return oe},LO:function(){return Tt},pE:function(){return jt},ey:function(){return xe},RJ:function(){return Ps},Ai:function(){return Fs},VK:function(){return te},_8:function(){return Gt},hI:function(){return $e},Cj:function(){return xi},O1:function(){return so},Zj:function(){return Mo},VT:function(){return En},Dy:function(){return bn}});var b=j(50959),B=j(10422),P=j(84341);const Y={display:"none"};function Je(O){let{id:V,value:de}=O;return b.createElement("div",{id:V,style:Y},de)}const yt={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function pe(O){let{id:V,announcement:de}=O;return b.createElement("div",{id:V,style:yt,role:"status","aria-live":"assertive","aria-atomic":!0},de)}function Ot(){const[O,V]=(0,b.useState)("");return{announce:(0,b.useCallback)(Ue=>{Ue!=null&&V(Ue)},[]),announcement:O}}const Ft=(0,b.createContext)(null);function wt(O){const V=(0,b.useContext)(Ft);(0,b.useEffect)(()=>{if(!V)throw new Error("useDndMonitor must be used within a children of <DndContext>");return V(O)},[O,V])}function gt(){const[O]=(0,b.useState)(()=>new Set),V=(0,b.useCallback)(Ue=>(O.add(Ue),()=>O.delete(Ue)),[O]);return[(0,b.useCallback)(Ue=>{let{type:pt,event:lt}=Ue;O.forEach(z=>{var ie;return(ie=z[pt])==null?void 0:ie.call(z,lt)})},[O]),V]}const ht={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},mt={onDragStart(O){let{active:V}=O;return"Picked up draggable item "+V.id+"."},onDragOver(O){let{active:V,over:de}=O;return de?"Draggable item "+V.id+" was moved over droppable area "+de.id+".":"Draggable item "+V.id+" is no longer over a droppable area."},onDragEnd(O){let{active:V,over:de}=O;return de?"Draggable item "+V.id+" was dropped over droppable area "+de.id:"Draggable item "+V.id+" was dropped."},onDragCancel(O){let{active:V}=O;return"Dragging was cancelled. Draggable item "+V.id+" was dropped."}};function At(O){let{announcements:V=mt,container:de,hiddenTextDescribedById:Ue,screenReaderInstructions:pt=ht}=O;const{announce:lt,announcement:z}=Ot(),ie=(0,P.Ld)("DndLiveRegion"),[E,W]=(0,b.useState)(!1);if((0,b.useEffect)(()=>{W(!0)},[]),wt((0,b.useMemo)(()=>({onDragStart(tt){let{active:Mn}=tt;lt(V.onDragStart({active:Mn}))},onDragMove(tt){let{active:Mn,over:Dn}=tt;V.onDragMove&&lt(V.onDragMove({active:Mn,over:Dn}))},onDragOver(tt){let{active:Mn,over:Dn}=tt;lt(V.onDragOver({active:Mn,over:Dn}))},onDragEnd(tt){let{active:Mn,over:Dn}=tt;lt(V.onDragEnd({active:Mn,over:Dn}))},onDragCancel(tt){let{active:Mn,over:Dn}=tt;lt(V.onDragCancel({active:Mn,over:Dn}))}}),[lt,V])),!E)return null;const Oe=b.createElement(b.Fragment,null,b.createElement(Je,{id:Ue,value:pt.draggable}),b.createElement(pe,{id:ie,announcement:z}));return de?(0,B.createPortal)(Oe,de):Oe}var ee;(function(O){O.DragStart="dragStart",O.DragMove="dragMove",O.DragEnd="dragEnd",O.DragCancel="dragCancel",O.DragOver="dragOver",O.RegisterDroppable="registerDroppable",O.SetDroppableDisabled="setDroppableDisabled",O.UnregisterDroppable="unregisterDroppable"})(ee||(ee={}));function zn(){}function En(O,V){return(0,b.useMemo)(()=>({sensor:O,options:V!=null?V:{}}),[O,V])}function bn(){for(var O=arguments.length,V=new Array(O),de=0;de<O;de++)V[de]=arguments[de];return(0,b.useMemo)(()=>[...V].filter(Ue=>Ue!=null),[...V])}const ft=Object.freeze({x:0,y:0});function he(O,V){return Math.sqrt(Math.pow(O.x-V.x,2)+Math.pow(O.y-V.y,2))}function rn(O,V){const de=(0,P.DC)(O);if(!de)return"0 0";const Ue={x:(de.x-V.left)/V.width*100,y:(de.y-V.top)/V.height*100};return Ue.x+"% "+Ue.y+"%"}function Kt(O,V){let{data:{value:de}}=O,{data:{value:Ue}}=V;return de-Ue}function xn(O,V){let{data:{value:de}}=O,{data:{value:Ue}}=V;return Ue-de}function fn(O){let{left:V,top:de,height:Ue,width:pt}=O;return[{x:V,y:de},{x:V+pt,y:de},{x:V,y:de+Ue},{x:V+pt,y:de+Ue}]}function Gt(O,V){if(!O||O.length===0)return null;const[de]=O;return V?de[V]:de}function Pn(O,V,de){return V===void 0&&(V=O.left),de===void 0&&(de=O.top),{x:V+O.width*.5,y:de+O.height*.5}}const jt=O=>{let{collisionRect:V,droppableRects:de,droppableContainers:Ue}=O;const pt=Pn(V,V.left,V.top),lt=[];for(const z of Ue){const{id:ie}=z,E=de.get(ie);if(E){const W=he(Pn(E),pt);lt.push({id:ie,data:{droppableContainer:z,value:W}})}}return lt.sort(Kt)},xe=O=>{let{collisionRect:V,droppableRects:de,droppableContainers:Ue}=O;const pt=fn(V),lt=[];for(const z of Ue){const{id:ie}=z,E=de.get(ie);if(E){const W=fn(E),Oe=pt.reduce((Mn,Dn,or)=>Mn+he(W[or],Dn),0),tt=Number((Oe/4).toFixed(4));lt.push({id:ie,data:{droppableContainer:z,value:tt}})}}return lt.sort(Kt)};function Ke(O,V){const de=Math.max(V.top,O.top),Ue=Math.max(V.left,O.left),pt=Math.min(V.left+V.width,O.left+O.width),lt=Math.min(V.top+V.height,O.top+O.height),z=pt-Ue,ie=lt-de;if(Ue<pt&&de<lt){const E=V.width*V.height,W=O.width*O.height,Oe=z*ie,tt=Oe/(E+W-Oe);return Number(tt.toFixed(4))}return 0}const we=O=>{let{collisionRect:V,droppableRects:de,droppableContainers:Ue}=O;const pt=[];for(const lt of Ue){const{id:z}=lt,ie=de.get(z);if(ie){const E=Ke(ie,V);E>0&&pt.push({id:z,data:{droppableContainer:lt,value:E}})}}return pt.sort(xn)};function rt(O,V){const{top:de,left:Ue,bottom:pt,right:lt}=V;return de<=O.y&&O.y<=pt&&Ue<=O.x&&O.x<=lt}const Re=O=>{let{droppableContainers:V,droppableRects:de,pointerCoordinates:Ue}=O;if(!Ue)return[];const pt=[];for(const lt of V){const{id:z}=lt,ie=de.get(z);if(ie&&rt(Ue,ie)){const W=fn(ie).reduce((tt,Mn)=>tt+he(Ue,Mn),0),Oe=Number((W/4).toFixed(4));pt.push({id:z,data:{droppableContainer:lt,value:Oe}})}}return pt.sort(Kt)};function Te(O,V,de){return Kr(Rt({},O),{scaleX:V&&de?V.width/de.width:1,scaleY:V&&de?V.height/de.height:1})}function q(O,V){return O&&V?{x:O.left-V.left,y:O.top-V.top}:ft}function F(O){return function(de){for(var Ue=arguments.length,pt=new Array(Ue>1?Ue-1:0),lt=1;lt<Ue;lt++)pt[lt-1]=arguments[lt];return pt.reduce((z,ie)=>Kr(Rt({},z),{top:z.top+O*ie.y,bottom:z.bottom+O*ie.y,left:z.left+O*ie.x,right:z.right+O*ie.x}),Rt({},de))}}const re=F(1);function De(O){if(O.startsWith("matrix3d(")){const V=O.slice(9,-1).split(/, /);return{x:+V[12],y:+V[13],scaleX:+V[0],scaleY:+V[5]}}else if(O.startsWith("matrix(")){const V=O.slice(7,-1).split(/, /);return{x:+V[4],y:+V[5],scaleX:+V[0],scaleY:+V[3]}}return null}function k(O,V,de){const Ue=De(V);if(!Ue)return O;const{scaleX:pt,scaleY:lt,x:z,y:ie}=Ue,E=O.left-z-(1-pt)*parseFloat(de),W=O.top-ie-(1-lt)*parseFloat(de.slice(de.indexOf(" ")+1)),Oe=pt?O.width/pt:O.width,tt=lt?O.height/lt:O.height;return{width:Oe,height:tt,top:W,right:E+Oe,bottom:W+tt,left:E}}const le={ignoreTransform:!1};function te(O,V){V===void 0&&(V=le);let de=O.getBoundingClientRect();if(V.ignoreTransform){const{transform:W,transformOrigin:Oe}=(0,P.Jj)(O).getComputedStyle(O);W&&(de=k(de,W,Oe))}const{top:Ue,left:pt,width:lt,height:z,bottom:ie,right:E}=de;return{top:Ue,left:pt,width:lt,height:z,bottom:ie,right:E}}function ae(O){return te(O,{ignoreTransform:!0})}function Le(O){const V=O.innerWidth,de=O.innerHeight;return{top:0,left:0,right:V,bottom:de,width:V,height:de}}function Ae(O,V){return V===void 0&&(V=(0,P.Jj)(O).getComputedStyle(O)),V.position==="fixed"}function _e(O,V){V===void 0&&(V=(0,P.Jj)(O).getComputedStyle(O));const de=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(pt=>{const lt=V[pt];return typeof lt=="string"?de.test(lt):!1})}function $e(O,V){const de=[];function Ue(pt){if(V!=null&&de.length>=V||!pt)return de;if((0,P.qk)(pt)&&pt.scrollingElement!=null&&!de.includes(pt.scrollingElement))return de.push(pt.scrollingElement),de;if(!(0,P.Re)(pt)||(0,P.vZ)(pt)||de.includes(pt))return de;const lt=(0,P.Jj)(O).getComputedStyle(pt);return pt!==O&&_e(pt,lt)&&de.push(pt),Ae(pt,lt)?de:Ue(pt.parentNode)}return O?Ue(O):de}function me(O){const[V]=$e(O,1);return V!=null?V:null}function Pt(O){return!P.Nq||!O?null:(0,P.FJ)(O)?O:(0,P.UG)(O)?(0,P.qk)(O)||O===(0,P.r3)(O).scrollingElement?window:(0,P.Re)(O)?O:null:null}function kt(O){return(0,P.FJ)(O)?O.scrollX:O.scrollLeft}function xt(O){return(0,P.FJ)(O)?O.scrollY:O.scrollTop}function dt(O){return{x:kt(O),y:xt(O)}}var ze;(function(O){O[O.Forward=1]="Forward",O[O.Backward=-1]="Backward"})(ze||(ze={}));function zt(O){return!P.Nq||!O?!1:O===document.scrollingElement}function un(O){const V={x:0,y:0},de=zt(O)?{height:window.innerHeight,width:window.innerWidth}:{height:O.clientHeight,width:O.clientWidth},Ue={x:O.scrollWidth-de.width,y:O.scrollHeight-de.height},pt=O.scrollTop<=V.y,lt=O.scrollLeft<=V.x,z=O.scrollTop>=Ue.y,ie=O.scrollLeft>=Ue.x;return{isTop:pt,isLeft:lt,isBottom:z,isRight:ie,maxScroll:Ue,minScroll:V}}const Sn={x:.2,y:.2};function Yt(O,V,de,Ue,pt){let{top:lt,left:z,right:ie,bottom:E}=de;Ue===void 0&&(Ue=10),pt===void 0&&(pt=Sn);const{isTop:W,isBottom:Oe,isLeft:tt,isRight:Mn}=un(O),Dn={x:0,y:0},or={x:0,y:0},Cn={height:V.height*pt.y,width:V.width*pt.x};return!W&&lt<=V.top+Cn.height?(Dn.y=ze.Backward,or.y=Ue*Math.abs((V.top+Cn.height-lt)/Cn.height)):!Oe&&E>=V.bottom-Cn.height&&(Dn.y=ze.Forward,or.y=Ue*Math.abs((V.bottom-Cn.height-E)/Cn.height)),!Mn&&ie>=V.right-Cn.width?(Dn.x=ze.Forward,or.x=Ue*Math.abs((V.right-Cn.width-ie)/Cn.width)):!tt&&z<=V.left+Cn.width&&(Dn.x=ze.Backward,or.x=Ue*Math.abs((V.left+Cn.width-z)/Cn.width)),{direction:Dn,speed:or}}function Tn(O){if(O===document.scrollingElement){const{innerWidth:lt,innerHeight:z}=window;return{top:0,left:0,right:lt,bottom:z,width:lt,height:z}}const{top:V,left:de,right:Ue,bottom:pt}=O.getBoundingClientRect();return{top:V,left:de,right:Ue,bottom:pt,width:O.clientWidth,height:O.clientHeight}}function an(O){return O.reduce((V,de)=>(0,P.IH)(V,dt(de)),ft)}function An(O){return O.reduce((V,de)=>V+kt(de),0)}function Rr(O){return O.reduce((V,de)=>V+xt(de),0)}function qr(O,V){if(V===void 0&&(V=te),!O)return;const{top:de,left:Ue,bottom:pt,right:lt}=V(O);me(O)&&(pt<=0||lt<=0||de>=window.innerHeight||Ue>=window.innerWidth)&&O.scrollIntoView({block:"center",inline:"center"})}const _t=[["x",["left","right"],An],["y",["top","bottom"],Rr]];class Lt{constructor(V,de){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const Ue=$e(de),pt=an(Ue);this.rect=Rt({},V),this.width=V.width,this.height=V.height;for(const[lt,z,ie]of _t)for(const E of z)Object.defineProperty(this,E,{get:()=>{const W=ie(Ue),Oe=pt[lt]-W;return this.rect[E]+Oe},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Qt{constructor(V){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(de=>{var Ue;return(Ue=this.target)==null?void 0:Ue.removeEventListener(...de)})},this.target=V}add(V,de,Ue){var pt;(pt=this.target)==null||pt.addEventListener(V,de,Ue),this.listeners.push([V,de,Ue])}}function ln(O){const{EventTarget:V}=(0,P.Jj)(O);return O instanceof V?O:(0,P.r3)(O)}function yn(O,V){const de=Math.abs(O.x),Ue=Math.abs(O.y);return typeof V=="number"?Math.sqrt(pc(de,2)+pc(Ue,2))>V:"x"in V&&"y"in V?de>V.x&&Ue>V.y:"x"in V?de>V.x:"y"in V?Ue>V.y:!1}var ur;(function(O){O.Click="click",O.DragStart="dragstart",O.Keydown="keydown",O.ContextMenu="contextmenu",O.Resize="resize",O.SelectionChange="selectionchange",O.VisibilityChange="visibilitychange"})(ur||(ur={}));function jn(O){O.preventDefault()}function Xr(O){O.stopPropagation()}var Jn;(function(O){O.Space="Space",O.Down="ArrowDown",O.Right="ArrowRight",O.Left="ArrowLeft",O.Up="ArrowUp",O.Esc="Escape",O.Enter="Enter"})(Jn||(Jn={}));const ge={start:[Jn.Space,Jn.Enter],cancel:[Jn.Esc],end:[Jn.Space,Jn.Enter]},je=(O,V)=>{let{currentCoordinates:de}=V;switch(O.code){case Jn.Right:return Kr(Rt({},de),{x:de.x+25});case Jn.Left:return Kr(Rt({},de),{x:de.x-25});case Jn.Down:return Kr(Rt({},de),{y:de.y+25});case Jn.Up:return Kr(Rt({},de),{y:de.y-25})}};class Xe{constructor(V){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=V;const{event:{target:de}}=V;this.props=V,this.listeners=new Qt((0,P.r3)(de)),this.windowListeners=new Qt((0,P.Jj)(de)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ur.Resize,this.handleCancel),this.windowListeners.add(ur.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ur.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:V,onStart:de}=this.props,Ue=V.node.current;Ue&&qr(Ue),de(ft)}handleKeyDown(V){if((0,P.vd)(V)){const{active:de,context:Ue,options:pt}=this.props,{keyboardCodes:lt=ge,coordinateGetter:z=je,scrollBehavior:ie="smooth"}=pt,{code:E}=V;if(lt.end.includes(E)){this.handleEnd(V);return}if(lt.cancel.includes(E)){this.handleCancel(V);return}const{collisionRect:W}=Ue.current,Oe=W?{x:W.left,y:W.top}:ft;this.referenceCoordinates||(this.referenceCoordinates=Oe);const tt=z(V,{active:de,context:Ue.current,currentCoordinates:Oe});if(tt){const Mn=(0,P.$X)(tt,Oe),Dn={x:0,y:0},{scrollableAncestors:or}=Ue.current;for(const Cn of or){const er=V.code,{isTop:zr,isRight:gr,isLeft:Ur,isBottom:fi,maxScroll:pi,minScroll:di}=un(Cn),yi=Tn(Cn),Oi={x:Math.min(er===Jn.Right?yi.right-yi.width/2:yi.right,Math.max(er===Jn.Right?yi.left:yi.left+yi.width/2,tt.x)),y:Math.min(er===Jn.Down?yi.bottom-yi.height/2:yi.bottom,Math.max(er===Jn.Down?yi.top:yi.top+yi.height/2,tt.y))},eo=er===Jn.Right&&!gr||er===Jn.Left&&!Ur,Fi=er===Jn.Down&&!fi||er===Jn.Up&&!zr;if(eo&&Oi.x!==tt.x){const ki=Cn.scrollLeft+Mn.x,Si=er===Jn.Right&&ki<=pi.x||er===Jn.Left&&ki>=di.x;if(Si&&!Mn.y){Cn.scrollTo({left:ki,behavior:ie});return}Si?Dn.x=Cn.scrollLeft-ki:Dn.x=er===Jn.Right?Cn.scrollLeft-pi.x:Cn.scrollLeft-di.x,Dn.x&&Cn.scrollBy({left:-Dn.x,behavior:ie});break}else if(Fi&&Oi.y!==tt.y){const ki=Cn.scrollTop+Mn.y,Si=er===Jn.Down&&ki<=pi.y||er===Jn.Up&&ki>=di.y;if(Si&&!Mn.x){Cn.scrollTo({top:ki,behavior:ie});return}Si?Dn.y=Cn.scrollTop-ki:Dn.y=er===Jn.Down?Cn.scrollTop-pi.y:Cn.scrollTop-di.y,Dn.y&&Cn.scrollBy({top:-Dn.y,behavior:ie});break}}this.handleMove(V,(0,P.IH)((0,P.$X)(tt,this.referenceCoordinates),Dn))}}}handleMove(V,de){const{onMove:Ue}=this.props;V.preventDefault(),Ue(de)}handleEnd(V){const{onEnd:de}=this.props;V.preventDefault(),this.detach(),de()}handleCancel(V){const{onCancel:de}=this.props;V.preventDefault(),this.detach(),de()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Xe.activators=[{eventName:"onKeyDown",handler:(O,V,de)=>{let{keyboardCodes:Ue=ge,onActivation:pt}=V,{active:lt}=de;const{code:z}=O.nativeEvent;if(Ue.start.includes(z)){const ie=lt.activatorNode.current;return ie&&O.target!==ie?!1:(O.preventDefault(),pt==null||pt({event:O.nativeEvent}),!0)}return!1}}];function Ye(O){return Boolean(O&&"distance"in O)}function Nt(O){return Boolean(O&&"delay"in O)}class Nn{constructor(V,de,Ue){var pt;Ue===void 0&&(Ue=ln(V.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=V,this.events=de;const{event:lt}=V,{target:z}=lt;this.props=V,this.events=de,this.document=(0,P.r3)(z),this.documentListeners=new Qt(this.document),this.listeners=new Qt(Ue),this.windowListeners=new Qt((0,P.Jj)(z)),this.initialCoordinates=(pt=(0,P.DC)(lt))!=null?pt:ft,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:V,props:{options:{activationConstraint:de}}}=this;if(this.listeners.add(V.move.name,this.handleMove,{passive:!1}),this.listeners.add(V.end.name,this.handleEnd),this.windowListeners.add(ur.Resize,this.handleCancel),this.windowListeners.add(ur.DragStart,jn),this.windowListeners.add(ur.VisibilityChange,this.handleCancel),this.windowListeners.add(ur.ContextMenu,jn),this.documentListeners.add(ur.Keydown,this.handleKeydown),de){if(Ye(de))return;if(Nt(de)){this.timeoutId=setTimeout(this.handleStart,de.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:V}=this,{onStart:de}=this.props;V&&(this.activated=!0,this.documentListeners.add(ur.Click,Xr,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ur.SelectionChange,this.removeTextSelection),de(V))}handleMove(V){var de;const{activated:Ue,initialCoordinates:pt,props:lt}=this,{onMove:z,options:{activationConstraint:ie}}=lt;if(!pt)return;const E=(de=(0,P.DC)(V))!=null?de:ft,W=(0,P.$X)(pt,E);if(!Ue&&ie){if(Nt(ie))return yn(W,ie.tolerance)?this.handleCancel():void 0;if(Ye(ie))return ie.tolerance!=null&&yn(W,ie.tolerance)?this.handleCancel():yn(W,ie.distance)?this.handleStart():void 0}V.cancelable&&V.preventDefault(),z(E)}handleEnd(){const{onEnd:V}=this.props;this.detach(),V()}handleCancel(){const{onCancel:V}=this.props;this.detach(),V()}handleKeydown(V){V.code===Jn.Esc&&this.handleCancel()}removeTextSelection(){var V;(V=this.document.getSelection())==null||V.removeAllRanges()}}const wn={move:{name:"pointermove"},end:{name:"pointerup"}};class Bt extends Nn{constructor(V){const{event:de}=V,Ue=(0,P.r3)(de.target);super(V,wn,Ue)}}Bt.activators=[{eventName:"onPointerDown",handler:(O,V)=>{let{nativeEvent:de}=O,{onActivation:Ue}=V;return!de.isPrimary||de.button!==0?!1:(Ue==null||Ue({event:de}),!0)}}];const Vt={move:{name:"mousemove"},end:{name:"mouseup"}};var ut;(function(O){O[O.RightClick=2]="RightClick"})(ut||(ut={}));class oe extends Nn{constructor(V){super(V,Vt,(0,P.r3)(V.event.target))}}oe.activators=[{eventName:"onMouseDown",handler:(O,V)=>{let{nativeEvent:de}=O,{onActivation:Ue}=V;return de.button===ut.RightClick?!1:(Ue==null||Ue({event:de}),!0)}}];const We={move:{name:"touchmove"},end:{name:"touchend"}};class Tt extends Nn{constructor(V){super(V,We)}static setup(){return window.addEventListener(We.move.name,V,{capture:!1,passive:!1}),function(){window.removeEventListener(We.move.name,V)};function V(){}}}Tt.activators=[{eventName:"onTouchStart",handler:(O,V)=>{let{nativeEvent:de}=O,{onActivation:Ue}=V;const{touches:pt}=de;return pt.length>1?!1:(Ue==null||Ue({event:de}),!0)}}];var nn;(function(O){O[O.Pointer=0]="Pointer",O[O.DraggableRect=1]="DraggableRect"})(nn||(nn={}));var Zn;(function(O){O[O.TreeOrder=0]="TreeOrder",O[O.ReversedTreeOrder=1]="ReversedTreeOrder"})(Zn||(Zn={}));function hr(O){let{acceleration:V,activator:de=nn.Pointer,canScroll:Ue,draggingRect:pt,enabled:lt,interval:z=5,order:ie=Zn.TreeOrder,pointerCoordinates:E,scrollableAncestors:W,scrollableAncestorRects:Oe,delta:tt,threshold:Mn}=O;const Dn=Li({delta:tt,disabled:!lt}),[or,Cn]=(0,P.Yz)(),er=(0,b.useRef)({x:0,y:0}),zr=(0,b.useRef)({x:0,y:0}),gr=(0,b.useMemo)(()=>{switch(de){case nn.Pointer:return E?{top:E.y,bottom:E.y,left:E.x,right:E.x}:null;case nn.DraggableRect:return pt}},[de,pt,E]),Ur=(0,b.useRef)(null),fi=(0,b.useCallback)(()=>{const di=Ur.current;if(!di)return;const yi=er.current.x*zr.current.x,Oi=er.current.y*zr.current.y;di.scrollBy(yi,Oi)},[]),pi=(0,b.useMemo)(()=>ie===Zn.TreeOrder?[...W].reverse():W,[ie,W]);(0,b.useEffect)(()=>{if(!lt||!W.length||!gr){Cn();return}for(const di of pi){if((Ue==null?void 0:Ue(di))===!1)continue;const yi=W.indexOf(di),Oi=Oe[yi];if(!Oi)continue;const{direction:eo,speed:Fi}=Yt(di,Oi,gr,V,Mn);for(const ki of["x","y"])Dn[ki][eo[ki]]||(Fi[ki]=0,eo[ki]=0);if(Fi.x>0||Fi.y>0){Cn(),Ur.current=di,or(fi,z),er.current=Fi,zr.current=eo;return}}er.current={x:0,y:0},zr.current={x:0,y:0},Cn()},[V,fi,Ue,Cn,lt,z,JSON.stringify(gr),JSON.stringify(Dn),or,W,pi,Oe,JSON.stringify(Mn)])}const Hr={x:{[ze.Backward]:!1,[ze.Forward]:!1},y:{[ze.Backward]:!1,[ze.Forward]:!1}};function Li(O){let{delta:V,disabled:de}=O;const Ue=(0,P.D9)(V);return(0,P.Gj)(pt=>{if(de||!Ue||!pt)return Hr;const lt={x:Math.sign(V.x-Ue.x),y:Math.sign(V.y-Ue.y)};return{x:{[ze.Backward]:pt.x[ze.Backward]||lt.x===-1,[ze.Forward]:pt.x[ze.Forward]||lt.x===1},y:{[ze.Backward]:pt.y[ze.Backward]||lt.y===-1,[ze.Forward]:pt.y[ze.Forward]||lt.y===1}}},[de,V,Ue])}function Qr(O,V){const de=V!==null?O.get(V):void 0,Ue=de?de.node.current:null;return(0,P.Gj)(pt=>{var lt;return V===null?null:(lt=Ue!=null?Ue:pt)!=null?lt:null},[Ue,V])}function ri(O,V){return(0,b.useMemo)(()=>O.reduce((de,Ue)=>{const{sensor:pt}=Ue,lt=pt.activators.map(z=>({eventName:z.eventName,handler:V(z.handler,Ue)}));return[...de,...lt]},[]),[O,V])}var ei;(function(O){O[O.Always=0]="Always",O[O.BeforeDragging=1]="BeforeDragging",O[O.WhileDragging=2]="WhileDragging"})(ei||(ei={}));var ji;(function(O){O.Optimized="optimized"})(ji||(ji={}));const R=new Map;function H(O,V){let{dragging:de,dependencies:Ue,config:pt}=V;const[lt,z]=(0,b.useState)(null),{frequency:ie,measure:E,strategy:W}=pt,Oe=(0,b.useRef)(O),tt=er(),Mn=(0,P.Ey)(tt),Dn=(0,b.useCallback)(function(zr){zr===void 0&&(zr=[]),!Mn.current&&z(gr=>gr===null?zr:gr.concat(zr.filter(Ur=>!gr.includes(Ur))))},[Mn]),or=(0,b.useRef)(null),Cn=(0,P.Gj)(zr=>{if(tt&&!de)return R;if(!zr||zr===R||Oe.current!==O||lt!=null){const gr=new Map;for(let Ur of O){if(!Ur)continue;if(lt&&lt.length>0&&!lt.includes(Ur.id)&&Ur.rect.current){gr.set(Ur.id,Ur.rect.current);continue}const fi=Ur.node.current,pi=fi?new Lt(E(fi),fi):null;Ur.rect.current=pi,pi&&gr.set(Ur.id,pi)}return gr}return zr},[O,lt,de,tt,E]);return(0,b.useEffect)(()=>{Oe.current=O},[O]),(0,b.useEffect)(()=>{tt||Dn()},[de,tt]),(0,b.useEffect)(()=>{lt&&lt.length>0&&z(null)},[JSON.stringify(lt)]),(0,b.useEffect)(()=>{tt||typeof ie!="number"||or.current!==null||(or.current=setTimeout(()=>{Dn(),or.current=null},ie))},[ie,tt,Dn,...Ue]),{droppableRects:Cn,measureDroppableContainers:Dn,measuringScheduled:lt!=null};function er(){switch(W){case ei.Always:return!1;case ei.BeforeDragging:return de;default:return!de}}}function S(O,V){return(0,P.Gj)(de=>O?de||(typeof V=="function"?V(O):O):null,[V,O])}function T(O,V){return S(O,V)}function Q(O){let{callback:V,disabled:de}=O;const Ue=(0,P.zX)(V),pt=(0,b.useMemo)(()=>{if(de||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:lt}=window;return new lt(Ue)},[Ue,de]);return(0,b.useEffect)(()=>()=>pt==null?void 0:pt.disconnect(),[pt]),pt}function se(O){let{callback:V,disabled:de}=O;const Ue=(0,P.zX)(V),pt=(0,b.useMemo)(()=>{if(de||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:lt}=window;return new lt(Ue)},[de]);return(0,b.useEffect)(()=>()=>pt==null?void 0:pt.disconnect(),[pt]),pt}function Ze(O){return new Lt(te(O),O)}function st(O,V,de){V===void 0&&(V=Ze);const[Ue,pt]=(0,b.useReducer)(ie,null),lt=Q({callback(E){if(O)for(const W of E){const{type:Oe,target:tt}=W;if(Oe==="childList"&&tt instanceof HTMLElement&&tt.contains(O)){pt();break}}}}),z=se({callback:pt});return(0,P.LI)(()=>{pt(),O?(z==null||z.observe(O),lt==null||lt.observe(document.body,{childList:!0,subtree:!0})):(z==null||z.disconnect(),lt==null||lt.disconnect())},[O]),Ue;function ie(E){if(!O)return null;if(O.isConnected===!1){var W;return(W=E!=null?E:de)!=null?W:null}const Oe=V(O);return JSON.stringify(E)===JSON.stringify(Oe)?E:Oe}}function qe(O){const V=S(O);return q(O,V)}const vt=[];function He(O){const V=(0,b.useRef)(O),de=(0,P.Gj)(Ue=>O?Ue&&Ue!==vt&&O&&V.current&&O.parentNode===V.current.parentNode?Ue:$e(O):vt,[O]);return(0,b.useEffect)(()=>{V.current=O},[O]),de}function Be(O){const[V,de]=(0,b.useState)(null),Ue=(0,b.useRef)(O),pt=(0,b.useCallback)(lt=>{const z=Pt(lt.target);z&&de(ie=>ie?(ie.set(z,dt(z)),new Map(ie)):null)},[]);return(0,b.useEffect)(()=>{const lt=Ue.current;if(O!==lt){z(lt);const ie=O.map(E=>{const W=Pt(E);return W?(W.addEventListener("scroll",pt,{passive:!0}),[W,dt(W)]):null}).filter(E=>E!=null);de(ie.length?new Map(ie):null),Ue.current=O}return()=>{z(O),z(lt)};function z(ie){ie.forEach(E=>{const W=Pt(E);W==null||W.removeEventListener("scroll",pt)})}},[pt,O]),(0,b.useMemo)(()=>O.length?V?Array.from(V.values()).reduce((lt,z)=>(0,P.IH)(lt,z),ft):an(O):ft,[O,V])}function bt(O,V){V===void 0&&(V=[]);const de=(0,b.useRef)(null);return(0,b.useEffect)(()=>{de.current=null},V),(0,b.useEffect)(()=>{const Ue=O!==ft;Ue&&!de.current&&(de.current=O),!Ue&&de.current&&(de.current=null)},[O]),de.current?(0,P.$X)(O,de.current):ft}function Ce(O){(0,b.useEffect)(()=>{if(!P.Nq)return;const V=O.map(de=>{let{sensor:Ue}=de;return Ue.setup==null?void 0:Ue.setup()});return()=>{for(const de of V)de==null||de()}},O.map(V=>{let{sensor:de}=V;return de}))}function be(O,V){return(0,b.useMemo)(()=>O.reduce((de,Ue)=>{let{eventName:pt,handler:lt}=Ue;return de[pt]=z=>{lt(z,V)},de},{}),[O,V])}function ke(O){return(0,b.useMemo)(()=>O?Le(O):null,[O])}const Ve=[];function et(O,V){V===void 0&&(V=te);const[de]=O,Ue=ke(de?(0,P.Jj)(de):null),[pt,lt]=(0,b.useReducer)(ie,Ve),z=se({callback:lt});return O.length>0&&pt===Ve&&lt(),(0,P.LI)(()=>{O.length?O.forEach(E=>z==null?void 0:z.observe(E)):(z==null||z.disconnect(),lt())},[O]),pt;function ie(){return O.length?O.map(E=>zt(E)?Ue:new Lt(V(E),E)):Ve}}function Qe(O){if(!O)return null;if(O.children.length>1)return O;const V=O.children[0];return(0,P.Re)(V)?V:O}function Ct(O){let{measure:V}=O;const[de,Ue]=(0,b.useState)(null),pt=(0,b.useCallback)(W=>{for(const{target:Oe}of W)if((0,P.Re)(Oe)){Ue(tt=>{const Mn=V(Oe);return tt?Kr(Rt({},tt),{width:Mn.width,height:Mn.height}):Mn});break}},[V]),lt=se({callback:pt}),z=(0,b.useCallback)(W=>{const Oe=Qe(W);lt==null||lt.disconnect(),Oe&&(lt==null||lt.observe(Oe)),Ue(Oe?V(Oe):null)},[V,lt]),[ie,E]=(0,P.wm)(z);return(0,b.useMemo)(()=>({nodeRef:ie,rect:de,setRef:E}),[de,ie,E])}const cn=[{sensor:Bt,options:{}},{sensor:Xe,options:{}}],Yn={current:{}},On={draggable:{measure:ae},droppable:{measure:ae,strategy:ei.WhileDragging,frequency:ji.Optimized},dragOverlay:{measure:te}};class Qn extends Map{get(V){var de;return V!=null&&(de=super.get(V))!=null?de:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(V=>{let{disabled:de}=V;return!de})}getNodeFor(V){var de,Ue;return(de=(Ue=this.get(V))==null?void 0:Ue.node.current)!=null?de:void 0}}const Vn={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Qn,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:zn},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:On,measureDroppableContainers:zn,windowRect:null,measuringScheduled:!1},Wn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:zn,draggableNodes:new Map,over:null,measureDroppableContainers:zn},mr=(0,b.createContext)(Wn),Jt=(0,b.createContext)(Vn);function rr(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Qn}}}function Lr(O,V){switch(V.type){case ee.DragStart:return Kr(Rt({},O),{draggable:Kr(Rt({},O.draggable),{initialCoordinates:V.initialCoordinates,active:V.active})});case ee.DragMove:return O.draggable.active?Kr(Rt({},O),{draggable:Kr(Rt({},O.draggable),{translate:{x:V.coordinates.x-O.draggable.initialCoordinates.x,y:V.coordinates.y-O.draggable.initialCoordinates.y}})}):O;case ee.DragEnd:case ee.DragCancel:return Kr(Rt({},O),{draggable:Kr(Rt({},O.draggable),{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case ee.RegisterDroppable:{const{element:de}=V,{id:Ue}=de,pt=new Qn(O.droppable.containers);return pt.set(Ue,de),Kr(Rt({},O),{droppable:Kr(Rt({},O.droppable),{containers:pt})})}case ee.SetDroppableDisabled:{const{id:de,key:Ue,disabled:pt}=V,lt=O.droppable.containers.get(de);if(!lt||Ue!==lt.key)return O;const z=new Qn(O.droppable.containers);return z.set(de,Kr(Rt({},lt),{disabled:pt})),Kr(Rt({},O),{droppable:Kr(Rt({},O.droppable),{containers:z})})}case ee.UnregisterDroppable:{const{id:de,key:Ue}=V,pt=O.droppable.containers.get(de);if(!pt||Ue!==pt.key)return O;const lt=new Qn(O.droppable.containers);return lt.delete(de),Kr(Rt({},O),{droppable:Kr(Rt({},O.droppable),{containers:lt})})}default:return O}}function Ti(O){let{disabled:V}=O;const{active:de,activatorEvent:Ue,draggableNodes:pt}=(0,b.useContext)(mr),lt=(0,P.D9)(Ue),z=(0,P.D9)(de==null?void 0:de.id);return(0,b.useEffect)(()=>{if(!V&&!Ue&&lt&&z!=null){if(!(0,P.vd)(lt)||document.activeElement===lt.target)return;const ie=pt.get(z);if(!ie)return;const{activatorNode:E,node:W}=ie;if(!E.current&&!W.current)return;requestAnimationFrame(()=>{for(const Oe of[E.current,W.current]){if(!Oe)continue;const tt=(0,P.so)(Oe);if(tt){tt.focus();break}}})}},[Ue,V,pt,z,lt]),null}function bi(O,V){let pt=V,{transform:de}=pt,Ue=ls(pt,["transform"]);return O!=null&&O.length?O.reduce((lt,z)=>z(Rt({transform:lt},Ue)),de):de}function go(O){return(0,b.useMemo)(()=>({draggable:Rt(Rt({},On.draggable),O==null?void 0:O.draggable),droppable:Rt(Rt({},On.droppable),O==null?void 0:O.droppable),dragOverlay:Rt(Rt({},On.dragOverlay),O==null?void 0:O.dragOverlay)}),[O==null?void 0:O.draggable,O==null?void 0:O.droppable,O==null?void 0:O.dragOverlay])}function Yi(O){let{activeNode:V,measure:de,initialRect:Ue,config:pt=!0}=O;const lt=(0,b.useRef)(!1),{x:z,y:ie}=typeof pt=="boolean"?{x:pt,y:pt}:pt;(0,P.LI)(()=>{if(!z&&!ie||!V){lt.current=!1;return}if(lt.current||!Ue)return;const W=V==null?void 0:V.node.current;if(!W||W.isConnected===!1)return;const Oe=de(W),tt=q(Oe,Ue);if(z||(tt.x=0),ie||(tt.y=0),lt.current=!0,Math.abs(tt.x)>0||Math.abs(tt.y)>0){const Mn=me(W);Mn&&Mn.scrollBy({top:tt.y,left:tt.x})}},[V,z,ie,Ue,de])}const Gi=(0,b.createContext)(Kr(Rt({},ft),{scaleX:1,scaleY:1}));var Di;(function(O){O[O.Uninitialized=0]="Uninitialized",O[O.Initializing=1]="Initializing",O[O.Initialized=2]="Initialized"})(Di||(Di={}));const fo=(0,b.memo)(function(V){var de,Ue,pt,lt;let hl=V,{id:z,accessibility:ie,autoScroll:E=!0,children:W,sensors:Oe=cn,collisionDetection:tt=we,measuring:Mn,modifiers:Dn}=hl,or=ls(hl,["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"]);const Cn=(0,b.useReducer)(Lr,void 0,rr),[er,zr]=Cn,[gr,Ur]=gt(),[fi,pi]=(0,b.useState)(Di.Uninitialized),di=fi===Di.Initialized,{draggable:{active:yi,nodes:Oi,translate:eo},droppable:{containers:Fi}}=er,ki=yi?Oi.get(yi):null,Si=(0,b.useRef)({initial:null,translated:null}),Vo=(0,b.useMemo)(()=>{var hi;return yi!=null?{id:yi,data:(hi=ki==null?void 0:ki.data)!=null?hi:Yn,rect:Si}:null},[yi,ki]),ho=(0,b.useRef)(null),[oa,Xo]=(0,b.useState)(null),[Ei,Is]=(0,b.useState)(null),_a=(0,P.Ey)(or,Object.values(or)),R1=(0,P.Ld)("DndDescribedBy",z),sa=(0,b.useMemo)(()=>Fi.getEnabled(),[Fi]),xa=go(Mn),{droppableRects:za,measureDroppableContainers:Ya,measuringScheduled:f1}=H(sa,{dragging:di,dependencies:[eo.x,eo.y],config:xa.droppable}),Os=Qr(Oi,yi),j1=(0,b.useMemo)(()=>Ei?(0,P.DC)(Ei):null,[Ei]),L1=ba(),d1=T(Os,xa.draggable.measure);Yi({activeNode:yi?Oi.get(yi):null,config:L1.layoutShiftCompensation,initialRect:d1,measure:xa.draggable.measure});const Yo=st(Os,xa.draggable.measure,d1),ya=st(Os?Os.parentElement:null),Ds=(0,b.useRef)({activatorEvent:null,active:null,activeNode:Os,collisionRect:null,collisions:null,droppableRects:za,draggableNodes:Oi,draggingNode:null,draggingNodeRect:null,droppableContainers:Fi,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ka=Fi.getNodeFor((de=Ds.current.over)==null?void 0:de.id),mi=Ct({measure:xa.dragOverlay.measure}),us=(Ue=mi.nodeRef.current)!=null?Ue:Os,xo=di?(pt=mi.rect)!=null?pt:Yo:null,jr=Boolean(mi.nodeRef.current&&mi.rect),Ys=qe(jr?null:Yo),dn=ke(us?(0,P.Jj)(us):null),ti=He(di?Ka!=null?Ka:Os:null),wa=et(ti),Na=bi(Dn,{transform:{x:eo.x-Ys.x,y:eo.y-Ys.y,scaleX:1,scaleY:1},activatorEvent:Ei,active:Vo,activeNodeRect:Yo,containerNodeRect:ya,draggingNodeRect:xo,over:Ds.current.over,overlayNodeRect:mi.rect,scrollableAncestors:ti,scrollableAncestorRects:wa,windowRect:dn}),Cs=j1?(0,P.IH)(j1,eo):null,Do=Be(ti),io=bt(Do),Ba=bt(Do,[Yo]),Ho=(0,P.IH)(Na,io),ks=xo?re(xo,Na):null,Ks=Vo&&ks?tt({active:Vo,collisionRect:ks,droppableRects:za,droppableContainers:sa,pointerCoordinates:Cs}):null,aa=Gt(Ks,"id"),[Js,dl]=(0,b.useState)(null),vo=jr?Na:(0,P.IH)(Na,Ba),Ma=Te(vo,(lt=Js==null?void 0:Js.rect)!=null?lt:null,Yo),T1=(0,b.useCallback)((hi,kr)=>{let{sensor:Ki,options:Jo}=kr;if(ho.current==null)return;const bo=Oi.get(ho.current);if(!bo)return;const fs=hi.nativeEvent,rs=new Ki({active:ho.current,activeNode:bo,event:fs,options:Jo,context:Ds,onStart(po){const ce=ho.current;if(ce==null)return;const Ws=Oi.get(ce);if(!Ws)return;const{onDragStart:Ua}=_a.current,is={active:{id:ce,data:Ws.data,rect:Si}};(0,B.unstable_batchedUpdates)(()=>{Ua==null||Ua(is),pi(Di.Initializing),zr({type:ee.DragStart,initialCoordinates:po,active:ce}),gr({type:"onDragStart",event:is})})},onMove(po){zr({type:ee.DragMove,coordinates:po})},onEnd:Sa(ee.DragEnd),onCancel:Sa(ee.DragCancel)});(0,B.unstable_batchedUpdates)(()=>{Xo(rs),Is(hi.nativeEvent)});function Sa(po){return function(){return Wl(this,null,function*(){const{active:Ws,collisions:Ua,over:is,scrollAdjustedTranslate:ds}=Ds.current;let Co=null;if(Ws&&ds){const{cancelDrop:os}=_a.current;Co={activatorEvent:fs,active:Ws,collisions:Ua,delta:ds,over:is},po===ee.DragEnd&&typeof os=="function"&&(yield Promise.resolve(os(Co)))&&(po=ee.DragCancel)}ho.current=null,(0,B.unstable_batchedUpdates)(()=>{zr({type:po}),pi(Di.Uninitialized),dl(null),Xo(null),Is(null);const os=po===ee.DragEnd?"onDragEnd":"onDragCancel";if(Co){const to=_a.current[os];to==null||to(Co),gr({type:os,event:Co})}})})}}},[Oi]),Ko=(0,b.useCallback)((hi,kr)=>(Ki,Jo)=>{const bo=Ki.nativeEvent,fs=Oi.get(Jo);if(ho.current!==null||!fs||bo.dndKit||bo.defaultPrevented)return;const rs={active:fs};hi(Ki,kr.options,rs)===!0&&(bo.dndKit={capturedBy:kr.sensor},ho.current=Jo,T1(Ki,kr))},[Oi,T1]),$s=ri(Oe,Ko);Ce(Oe),(0,P.LI)(()=>{Yo&&fi===Di.Initializing&&pi(Di.Initialized)},[Yo,fi]),(0,b.useEffect)(()=>{const{onDragMove:hi}=_a.current,{active:kr,activatorEvent:Ki,collisions:Jo,over:bo}=Ds.current;if(!kr||!Ki)return;const fs={active:kr,activatorEvent:Ki,collisions:Jo,delta:{x:Ho.x,y:Ho.y},over:bo};(0,B.unstable_batchedUpdates)(()=>{hi==null||hi(fs),gr({type:"onDragMove",event:fs})})},[Ho.x,Ho.y]),(0,b.useEffect)(()=>{const{active:hi,activatorEvent:kr,collisions:Ki,droppableContainers:Jo,scrollAdjustedTranslate:bo}=Ds.current;if(!hi||ho.current==null||!kr||!bo)return;const{onDragOver:fs}=_a.current,rs=Jo.get(aa),Sa=rs&&rs.rect.current?{id:rs.id,rect:rs.rect.current,data:rs.data,disabled:rs.disabled}:null,po={active:hi,activatorEvent:kr,collisions:Ki,delta:{x:bo.x,y:bo.y},over:Sa};(0,B.unstable_batchedUpdates)(()=>{dl(Sa),fs==null||fs(po),gr({type:"onDragOver",event:po})})},[aa]),(0,P.LI)(()=>{Ds.current={activatorEvent:Ei,active:Vo,activeNode:Os,collisionRect:ks,collisions:Ks,droppableRects:za,draggableNodes:Oi,draggingNode:us,draggingNodeRect:xo,droppableContainers:Fi,over:Js,scrollableAncestors:ti,scrollAdjustedTranslate:Ho},Si.current={initial:xo,translated:ks}},[Vo,Os,Ks,ks,Oi,us,xo,za,Fi,Js,ti,Ho]),hr(Kr(Rt({},L1),{delta:eo,draggingRect:ks,pointerCoordinates:Cs,scrollableAncestors:ti,scrollableAncestorRects:wa}));const A1=(0,b.useMemo)(()=>({active:Vo,activeNode:Os,activeNodeRect:Yo,activatorEvent:Ei,collisions:Ks,containerNodeRect:ya,dragOverlay:mi,draggableNodes:Oi,droppableContainers:Fi,droppableRects:za,over:Js,measureDroppableContainers:Ya,scrollableAncestors:ti,scrollableAncestorRects:wa,measuringConfiguration:xa,measuringScheduled:f1,windowRect:dn}),[Vo,Os,Yo,Ei,Ks,ya,mi,Oi,Fi,za,Js,Ya,ti,wa,xa,f1,dn]),la=(0,b.useMemo)(()=>({activatorEvent:Ei,activators:$s,active:Vo,activeNodeRect:Yo,ariaDescribedById:{draggable:R1},dispatch:zr,draggableNodes:Oi,over:Js,measureDroppableContainers:Ya}),[Ei,$s,Vo,Yo,zr,R1,Oi,Js,Ya]);return b.createElement(Ft.Provider,{value:Ur},b.createElement(mr.Provider,{value:la},b.createElement(Jt.Provider,{value:A1},b.createElement(Gi.Provider,{value:Ma},W)),b.createElement(Ti,{disabled:(ie==null?void 0:ie.restoreFocus)===!1})),b.createElement(At,Kr(Rt({},ie),{hiddenTextDescribedById:R1})));function ba(){const hi=(oa==null?void 0:oa.autoScrollEnabled)===!1,kr=typeof E=="object"?E.enabled===!1:E===!1,Ki=di&&!hi&&!kr;return typeof E=="object"?Kr(Rt({},E),{enabled:Ki}):{enabled:Ki}}}),Ni=(0,b.createContext)(null),ci="button",Ai="Droppable";function so(O){let{id:V,data:de,disabled:Ue=!1,attributes:pt}=O;const lt=(0,P.Ld)(Ai),{activators:z,activatorEvent:ie,active:E,activeNodeRect:W,ariaDescribedById:Oe,draggableNodes:tt,over:Mn}=(0,b.useContext)(mr),{role:Dn=ci,roleDescription:or="draggable",tabIndex:Cn=0}=pt!=null?pt:{},er=(E==null?void 0:E.id)===V,zr=(0,b.useContext)(er?Gi:Ni),[gr,Ur]=(0,P.wm)(),[fi,pi]=(0,P.wm)(),di=be(z,V),yi=(0,P.Ey)(de);(0,P.LI)(()=>(tt.set(V,{id:V,key:lt,node:gr,activatorNode:fi,data:yi}),()=>{const eo=tt.get(V);eo&&eo.key===lt&&tt.delete(V)}),[tt,V]);const Oi=(0,b.useMemo)(()=>({role:Dn,tabIndex:Cn,"aria-disabled":Ue,"aria-pressed":er&&Dn===ci?!0:void 0,"aria-roledescription":or,"aria-describedby":Oe.draggable}),[Ue,Dn,Cn,er,or,Oe.draggable]);return{active:E,activatorEvent:ie,activeNodeRect:W,attributes:Oi,isDragging:er,listeners:Ue?void 0:di,node:gr,over:Mn,setNodeRef:Ur,setActivatorNodeRef:pi,transform:zr}}function xi(){return(0,b.useContext)(Jt)}const $o="Droppable",Qi={timeout:25};function Mo(O){let{data:V,disabled:de=!1,id:Ue,resizeObserverConfig:pt}=O;const lt=(0,P.Ld)($o),{active:z,dispatch:ie,over:E,measureDroppableContainers:W}=(0,b.useContext)(mr),Oe=(0,b.useRef)({disabled:de}),tt=(0,b.useRef)(!1),Mn=(0,b.useRef)(null),Dn=(0,b.useRef)(null),{disabled:or,updateMeasurementsFor:Cn,timeout:er}=Rt(Rt({},Qi),pt),zr=(0,P.Ey)(Cn!=null?Cn:Ue),gr=(0,b.useCallback)(()=>{if(!tt.current){tt.current=!0;return}Dn.current!=null&&clearTimeout(Dn.current),Dn.current=setTimeout(()=>{W(Array.isArray(zr.current)?zr.current:[zr.current]),Dn.current=null},er)},[er]),Ur=se({callback:gr,disabled:or||!z}),fi=(0,b.useCallback)((Oi,eo)=>{Ur&&(eo&&(Ur.unobserve(eo),tt.current=!1),Oi&&Ur.observe(Oi))},[Ur]),[pi,di]=(0,P.wm)(fi),yi=(0,P.Ey)(V);return(0,b.useEffect)(()=>{!Ur||!pi.current||(Ur.disconnect(),tt.current=!1,Ur.observe(pi.current))},[pi,Ur]),(0,P.LI)(()=>(ie({type:ee.RegisterDroppable,element:{id:Ue,key:lt,disabled:de,node:pi,rect:Mn,data:yi}}),()=>ie({type:ee.UnregisterDroppable,key:lt,id:Ue})),[Ue]),(0,b.useEffect)(()=>{de!==Oe.current.disabled&&(ie({type:ee.SetDroppableDisabled,id:Ue,key:lt,disabled:de}),Oe.current.disabled=de)},[Ue,lt,de,ie]),{active:z,rect:Mn,isOver:(E==null?void 0:E.id)===Ue,node:pi,over:E,setNodeRef:di}}function Ca(O){let{animation:V,children:de}=O;const[Ue,pt]=(0,b.useState)(null),[lt,z]=(0,b.useState)(null),ie=(0,P.D9)(de);return!de&&!Ue&&ie&&pt(ie),(0,P.LI)(()=>{if(!lt)return;const E=Ue==null?void 0:Ue.key,W=Ue==null?void 0:Ue.props.id;if(E==null||W==null){pt(null);return}Promise.resolve(V(W,lt)).then(()=>{pt(null)})},[V,Ue,lt]),b.createElement(b.Fragment,null,de,Ue?(0,b.cloneElement)(Ue,{ref:z}):null)}const Xa={x:0,y:0,scaleX:1,scaleY:1};function ra(O){let{children:V}=O;return b.createElement(mr.Provider,{value:Wn},b.createElement(Gi.Provider,{value:Xa},V))}const ia={position:"fixed",touchAction:"none"},Po=O=>(0,P.vd)(O)?"transform 250ms ease":void 0,Go=(0,b.forwardRef)((O,V)=>{let{as:de,activatorEvent:Ue,adjustScale:pt,children:lt,className:z,rect:ie,style:E,transform:W,transition:Oe=Po}=O;if(!ie)return null;const tt=pt?W:Kr(Rt({},W),{scaleX:1,scaleY:1}),Mn=Rt(Kr(Rt({},ia),{width:ie.width,height:ie.height,top:ie.top,left:ie.left,transform:P.ux.Transform.toString(tt),transformOrigin:pt&&Ue?rn(Ue,ie):void 0,transition:typeof Oe=="function"?Oe(Ue):Oe}),E);return b.createElement(de,{className:z,style:Mn,ref:V},lt)}),Fs=O=>V=>{let{active:de,dragOverlay:Ue}=V;const pt={},{styles:lt,className:z}=O;if(lt!=null&&lt.active)for(const[ie,E]of Object.entries(lt.active))E!==void 0&&(pt[ie]=de.node.style.getPropertyValue(ie),de.node.style.setProperty(ie,E));if(lt!=null&&lt.dragOverlay)for(const[ie,E]of Object.entries(lt.dragOverlay))E!==void 0&&Ue.node.style.setProperty(ie,E);return z!=null&&z.active&&de.node.classList.add(z.active),z!=null&&z.dragOverlay&&Ue.node.classList.add(z.dragOverlay),function(){for(const[E,W]of Object.entries(pt))de.node.style.setProperty(E,W);z!=null&&z.active&&de.node.classList.remove(z.active)}},Ps={duration:250,easing:"ease",keyframes:O=>{let{transform:{initial:V,final:de}}=O;return[{transform:P.ux.Transform.toString(V)},{transform:P.ux.Transform.toString(de)}]},sideEffects:Fs({styles:{active:{opacity:"0"}}})};function ns(O){let{config:V,draggableNodes:de,droppableContainers:Ue,measuringConfiguration:pt}=O;return(0,P.zX)((lt,z)=>{if(V===null)return;const ie=de.get(lt);if(!ie)return;const E=ie.node.current;if(!E)return;const W=Qe(z);if(!W)return;const{transform:Oe}=(0,P.Jj)(z).getComputedStyle(z),tt=De(Oe);if(!tt)return;const Mn=typeof V=="function"?V:Fr(V);return qr(E,pt.draggable.measure),Mn({active:{id:lt,data:ie.data,node:E,rect:pt.draggable.measure(E)},draggableNodes:de,dragOverlay:{node:z,rect:pt.dragOverlay.measure(W)},droppableContainers:Ue,measuringConfiguration:pt,transform:tt})})}function Fr(O){const{duration:V,easing:de,sideEffects:Ue,keyframes:pt}=Rt(Rt({},Ps),O);return lt=>{let gr=lt,{active:z,dragOverlay:ie,transform:E}=gr,W=ls(gr,["active","dragOverlay","transform"]);if(!V)return;const Oe={x:ie.rect.left-z.rect.left,y:ie.rect.top-z.rect.top},tt={scaleX:E.scaleX!==1?z.rect.width*E.scaleX/ie.rect.width:1,scaleY:E.scaleY!==1?z.rect.height*E.scaleY/ie.rect.height:1},Mn=Rt({x:E.x-Oe.x,y:E.y-Oe.y},tt),Dn=pt(Kr(Rt({},W),{active:z,dragOverlay:ie,transform:{initial:E,final:Mn}})),[or]=Dn,Cn=Dn[Dn.length-1];if(JSON.stringify(or)===JSON.stringify(Cn))return;const er=Ue==null?void 0:Ue(Rt({active:z,dragOverlay:ie},W)),zr=ie.node.animate(Dn,{duration:V,easing:de,fill:"forwards"});return new Promise(Ur=>{zr.onfinish=()=>{er==null||er(),Ur()}})}}let Wo=0;function cs(O){return(0,b.useMemo)(()=>{if(O!=null)return Wo++,Wo},[O])}const Bi=b.memo(O=>{let{adjustScale:V=!1,children:de,dropAnimation:Ue,style:pt,transition:lt,modifiers:z,wrapperElement:ie="div",className:E,zIndex:W=999}=O;const{activatorEvent:Oe,active:tt,activeNodeRect:Mn,containerNodeRect:Dn,draggableNodes:or,droppableContainers:Cn,dragOverlay:er,over:zr,measuringConfiguration:gr,scrollableAncestors:Ur,scrollableAncestorRects:fi,windowRect:pi}=xi(),di=(0,b.useContext)(Gi),yi=cs(tt==null?void 0:tt.id),Oi=bi(z,{activatorEvent:Oe,active:tt,activeNodeRect:Mn,containerNodeRect:Dn,draggingNodeRect:er.rect,over:zr,overlayNodeRect:er.rect,scrollableAncestors:Ur,scrollableAncestorRects:fi,transform:di,windowRect:pi}),eo=S(Mn),Fi=ns({config:Ue,draggableNodes:or,droppableContainers:Cn,measuringConfiguration:gr}),ki=eo?er.setRef:void 0;return b.createElement(ra,null,b.createElement(Ca,{animation:Fi},tt&&yi?b.createElement(Go,{key:yi,id:tt.id,ref:ki,as:ie,activatorEvent:Oe,adjustScale:V,className:E,transition:lt,rect:eo,style:Rt({zIndex:W},pt),transform:Oi},de):null))})},59671:function(qt,Fe,j){"use strict";j.d(Fe,{Fo:function(){return he},Rp:function(){return Y},is:function(){return Re},nB:function(){return xe},qw:function(){return zn}});var b=j(50959),B=j(28257),P=j(84341);function Y(F,re,De){const k=F.slice();return k.splice(De<0?k.length+De:De,0,k.splice(re,1)[0]),k}function Je(F,re,De){const k=F.slice();return k[re]=F[De],k[De]=F[re],k}function yt(F,re){return F.reduce((De,k,le)=>{const te=re.get(k);return te&&(De[le]=te),De},Array(F.length))}function pe(F){return F!==null&&F>=0}function Ot(F,re){if(F===re)return!0;if(F.length!==re.length)return!1;for(let De=0;De<F.length;De++)if(F[De]!==re[De])return!1;return!0}function Ft(F){return typeof F=="boolean"?{draggable:F,droppable:F}:F}const wt={scaleX:1,scaleY:1},gt=F=>{var re;let{rects:De,activeNodeRect:k,activeIndex:le,overIndex:te,index:ae}=F;const Le=(re=De[le])!=null?re:k;if(!Le)return null;const Ae=ht(De,ae,le);if(ae===le){const _e=De[te];return _e?Rt({x:le<te?_e.left+_e.width-(Le.left+Le.width):_e.left-Le.left,y:0},wt):null}return ae>le&&ae<=te?Rt({x:-Le.width-Ae,y:0},wt):ae<le&&ae>=te?Rt({x:Le.width+Ae,y:0},wt):Rt({x:0,y:0},wt)};function ht(F,re,De){const k=F[re],le=F[re-1],te=F[re+1];return!k||!le&&!te?0:De<re?le?k.left-(le.left+le.width):te.left-(k.left+k.width):te?te.left-(k.left+k.width):k.left-(le.left+le.width)}const mt=F=>{let{rects:re,activeIndex:De,overIndex:k,index:le}=F;const te=Y(re,k,De),ae=re[le],Le=te[le];return!Le||!ae?null:{x:Le.left-ae.left,y:Le.top-ae.top,scaleX:Le.width/ae.width,scaleY:Le.height/ae.height}},At=F=>{let{activeIndex:re,index:De,rects:k,overIndex:le}=F,te,ae;return De===re&&(te=k[De],ae=k[le]),De===le&&(te=k[De],ae=k[re]),!ae||!te?null:{x:ae.left-te.left,y:ae.top-te.top,scaleX:ae.width/te.width,scaleY:ae.height/te.height}},ee={scaleX:1,scaleY:1},zn=F=>{var re;let{activeIndex:De,activeNodeRect:k,index:le,rects:te,overIndex:ae}=F;const Le=(re=te[De])!=null?re:k;if(!Le)return null;if(le===De){const _e=te[ae];return _e?Rt({x:0,y:De<ae?_e.top+_e.height-(Le.top+Le.height):_e.top-Le.top},ee):null}const Ae=En(te,le,De);return le>De&&le<=ae?Rt({x:0,y:-Le.height-Ae},ee):le<De&&le>=ae?Rt({x:0,y:Le.height+Ae},ee):Rt({x:0,y:0},ee)};function En(F,re,De){const k=F[re],le=F[re-1],te=F[re+1];return k?De<re?le?k.top-(le.top+le.height):te?te.top-(k.top+k.height):0:te?te.top-(k.top+k.height):le?k.top-(le.top+le.height):0:0}const bn="Sortable",ft=b.createContext({activeIndex:-1,containerId:bn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:mt,disabled:{draggable:!1,droppable:!1}});function he(F){let{children:re,id:De,items:k,strategy:le=mt,disabled:te=!1}=F;const{active:ae,dragOverlay:Le,droppableRects:Ae,over:_e,measureDroppableContainers:$e}=(0,B.Cj)(),me=(0,P.Ld)(bn,De),Pt=Boolean(Le.rect!==null),kt=(0,b.useMemo)(()=>k.map(an=>typeof an=="object"&&"id"in an?an.id:an),[k]),xt=ae!=null,dt=ae?kt.indexOf(ae.id):-1,ze=_e?kt.indexOf(_e.id):-1,zt=(0,b.useRef)(kt),un=!Ot(kt,zt.current),Sn=ze!==-1&&dt===-1||un,Yt=Ft(te);(0,P.LI)(()=>{un&&xt&&$e(kt)},[un,kt,xt,$e]),(0,b.useEffect)(()=>{zt.current=kt},[kt]);const Tn=(0,b.useMemo)(()=>({activeIndex:dt,containerId:me,disabled:Yt,disableTransforms:Sn,items:kt,overIndex:ze,useDragOverlay:Pt,sortedRects:yt(kt,Ae),strategy:le}),[dt,me,Yt.draggable,Yt.droppable,Sn,kt,ze,Ae,Pt,le]);return b.createElement(ft.Provider,{value:Tn},re)}const rn=F=>{let{id:re,items:De,activeIndex:k,overIndex:le}=F;return Y(De,k,le).indexOf(re)},Kt=F=>{let{containerId:re,isSorting:De,wasDragging:k,index:le,items:te,newIndex:ae,previousItems:Le,previousContainerId:Ae,transition:_e}=F;return!_e||!k||Le!==te&&le===ae?!1:De?!0:ae!==le&&re===Ae},xn={duration:200,easing:"ease"},fn="transform",Gt=P.ux.Transition.toString({property:fn,duration:0,easing:"linear"}),Pn={roleDescription:"sortable"};function jt(F){let{disabled:re,index:De,node:k,rect:le}=F;const[te,ae]=(0,b.useState)(null),Le=(0,b.useRef)(De);return(0,P.LI)(()=>{if(!re&&De!==Le.current&&k.current){const Ae=le.current;if(Ae){const _e=(0,B.VK)(k.current,{ignoreTransform:!0}),$e={x:Ae.left-_e.left,y:Ae.top-_e.top,scaleX:Ae.width/_e.width,scaleY:Ae.height/_e.height};($e.x||$e.y)&&ae($e)}}De!==Le.current&&(Le.current=De)},[re,De,k,le]),(0,b.useEffect)(()=>{te&&ae(null)},[te]),te}function xe(F){let{animateLayoutChanges:re=Kt,attributes:De,disabled:k,data:le,getNewIndex:te=rn,id:ae,strategy:Le,resizeObserverConfig:Ae,transition:_e=xn}=F;const{items:$e,containerId:me,activeIndex:Pt,disabled:kt,disableTransforms:xt,sortedRects:dt,overIndex:ze,useDragOverlay:zt,strategy:un}=(0,b.useContext)(ft),Sn=Ke(k,kt),Yt=$e.indexOf(ae),Tn=(0,b.useMemo)(()=>Rt({sortable:{containerId:me,index:Yt,items:$e}},le),[me,le,Yt,$e]),an=(0,b.useMemo)(()=>$e.slice($e.indexOf(ae)),[$e,ae]),{rect:An,node:Rr,isOver:qr,setNodeRef:_t}=(0,B.Zj)({id:ae,data:Tn,disabled:Sn.droppable,resizeObserverConfig:Rt({updateMeasurementsFor:an},Ae)}),{active:Lt,activatorEvent:Qt,activeNodeRect:ln,attributes:yn,setNodeRef:ur,listeners:jn,isDragging:Xr,over:Jn,setActivatorNodeRef:ge,transform:je}=(0,B.O1)({id:ae,data:Tn,attributes:Rt(Rt({},Pn),De),disabled:Sn.draggable}),Xe=(0,P.HB)(_t,ur),Ye=Boolean(Lt),Nt=Ye&&!xt&&pe(Pt)&&pe(ze),Nn=!zt&&Xr,wn=Nn&&Nt?je:null,Bt=Le!=null?Le:un,Vt=Nt?wn!=null?wn:Bt({rects:dt,activeNodeRect:ln,activeIndex:Pt,overIndex:ze,index:Yt}):null,ut=pe(Pt)&&pe(ze)?te({id:ae,items:$e,activeIndex:Pt,overIndex:ze}):Yt,oe=Lt==null?void 0:Lt.id,We=(0,b.useRef)({activeId:oe,items:$e,newIndex:ut,containerId:me}),Tt=$e!==We.current.items,nn=re({active:Lt,containerId:me,isDragging:Xr,isSorting:Ye,id:ae,index:Yt,items:$e,newIndex:We.current.newIndex,previousItems:We.current.items,previousContainerId:We.current.containerId,transition:_e,wasDragging:We.current.activeId!=null}),Zn=jt({disabled:!nn,index:Yt,node:Rr,rect:An});return(0,b.useEffect)(()=>{Ye&&We.current.newIndex!==ut&&(We.current.newIndex=ut),me!==We.current.containerId&&(We.current.containerId=me),$e!==We.current.items&&(We.current.items=$e)},[Ye,ut,me,$e]),(0,b.useEffect)(()=>{if(oe===We.current.activeId)return;if(oe&&!We.current.activeId){We.current.activeId=oe;return}const Hr=setTimeout(()=>{We.current.activeId=oe},50);return()=>clearTimeout(Hr)},[oe]),{active:Lt,activeIndex:Pt,attributes:yn,data:Tn,rect:An,index:Yt,newIndex:ut,items:$e,isOver:qr,isSorting:Ye,isDragging:Xr,listeners:jn,node:Rr,overIndex:ze,over:Jn,setNodeRef:Xe,setActivatorNodeRef:ge,setDroppableNodeRef:_t,setDraggableNodeRef:ur,transform:Zn!=null?Zn:Vt,transition:hr()};function hr(){if(Zn||Tt&&We.current.newIndex===Yt)return Gt;if(!(Nn&&!(0,P.vd)(Qt)||!_e)&&(Ye||nn))return P.ux.Transition.toString(Kr(Rt({},_e),{property:fn}))}}function Ke(F,re){var De,k;return typeof F=="boolean"?{draggable:F,droppable:!1}:{draggable:(De=F==null?void 0:F.draggable)!=null?De:re.draggable,droppable:(k=F==null?void 0:F.droppable)!=null?k:re.droppable}}function we(F){if(!F)return!1;const re=F.data.current;return!!(re&&"sortable"in re&&typeof re.sortable=="object"&&"containerId"in re.sortable&&"items"in re.sortable&&"index"in re.sortable)}const rt=[B.g4.Down,B.g4.Right,B.g4.Up,B.g4.Left],Re=(F,re)=>{let{context:{active:De,collisionRect:k,droppableRects:le,droppableContainers:te,over:ae,scrollableAncestors:Le}}=re;if(rt.includes(F.code)){if(F.preventDefault(),!De||!k)return;const Ae=[];te.getEnabled().forEach(me=>{if(!me||me!=null&&me.disabled)return;const Pt=le.get(me.id);if(Pt)switch(F.code){case B.g4.Down:k.top<Pt.top&&Ae.push(me);break;case B.g4.Up:k.top>Pt.top&&Ae.push(me);break;case B.g4.Left:k.left>Pt.left&&Ae.push(me);break;case B.g4.Right:k.left<Pt.left&&Ae.push(me);break}});const _e=(0,B.ey)({active:De,collisionRect:k,droppableRects:le,droppableContainers:Ae,pointerCoordinates:null});let $e=(0,B._8)(_e,"id");if($e===(ae==null?void 0:ae.id)&&_e.length>1&&($e=_e[1].id),$e!=null){const me=te.get(De.id),Pt=te.get($e),kt=Pt?le.get(Pt.id):null,xt=Pt==null?void 0:Pt.node.current;if(xt&&kt&&me&&Pt){const ze=(0,B.hI)(xt).some((an,An)=>Le[An]!==an),zt=Te(me,Pt),un=q(me,Pt),Sn=ze||!zt?{x:0,y:0}:{x:un?k.width-kt.width:0,y:un?k.height-kt.height:0},Yt={x:kt.left,y:kt.top};return Sn.x&&Sn.y?Yt:(0,P.$X)(Yt,Sn)}}}};function Te(F,re){return!we(F)||!we(re)?!1:F.data.current.sortable.containerId===re.data.current.sortable.containerId}function q(F,re){return!we(F)||!we(re)||!Te(F,re)?!1:F.data.current.sortable.index<re.data.current.sortable.index}},84341:function(qt,Fe,j){"use strict";j.d(Fe,{$X:function(){return Kt},D9:function(){return En},DC:function(){return Pn},Ey:function(){return At},FJ:function(){return Y},Gj:function(){return ee},HB:function(){return B},IH:function(){return rn},Jj:function(){return yt},LI:function(){return gt},Ld:function(){return ft},Nq:function(){return P},Re:function(){return Ot},UG:function(){return Je},Yz:function(){return mt},qk:function(){return pe},r3:function(){return wt},so:function(){return Ke},ux:function(){return jt},vZ:function(){return Ft},vd:function(){return fn},wm:function(){return zn},zX:function(){return ht}});var b=j(50959);function B(){for(var we=arguments.length,rt=new Array(we),Re=0;Re<we;Re++)rt[Re]=arguments[Re];return(0,b.useMemo)(()=>Te=>{rt.forEach(q=>q(Te))},rt)}const P=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function Y(we){const rt=Object.prototype.toString.call(we);return rt==="[object Window]"||rt==="[object global]"}function Je(we){return"nodeType"in we}function yt(we){var rt,Re;return we?Y(we)?we:Je(we)&&(rt=(Re=we.ownerDocument)==null?void 0:Re.defaultView)!=null?rt:window:window}function pe(we){const{Document:rt}=yt(we);return we instanceof rt}function Ot(we){return Y(we)?!1:we instanceof yt(we).HTMLElement}function Ft(we){return we instanceof yt(we).SVGElement}function wt(we){return we?Y(we)?we.document:Je(we)?pe(we)?we:Ot(we)?we.ownerDocument:document:document:document}const gt=P?b.useLayoutEffect:b.useEffect;function ht(we){const rt=(0,b.useRef)(we);return gt(()=>{rt.current=we}),(0,b.useCallback)(function(){for(var Re=arguments.length,Te=new Array(Re),q=0;q<Re;q++)Te[q]=arguments[q];return rt.current==null?void 0:rt.current(...Te)},[])}function mt(){const we=(0,b.useRef)(null),rt=(0,b.useCallback)((Te,q)=>{we.current=setInterval(Te,q)},[]),Re=(0,b.useCallback)(()=>{we.current!==null&&(clearInterval(we.current),we.current=null)},[]);return[rt,Re]}function At(we,rt){rt===void 0&&(rt=[we]);const Re=(0,b.useRef)(we);return gt(()=>{Re.current!==we&&(Re.current=we)},rt),Re}function ee(we,rt){const Re=(0,b.useRef)();return(0,b.useMemo)(()=>{const Te=we(Re.current);return Re.current=Te,Te},[...rt])}function zn(we){const rt=ht(we),Re=(0,b.useRef)(null),Te=(0,b.useCallback)(q=>{q!==Re.current&&(rt==null||rt(q,Re.current)),Re.current=q},[]);return[Re,Te]}function En(we){const rt=(0,b.useRef)();return(0,b.useEffect)(()=>{rt.current=we},[we]),rt.current}let bn={};function ft(we,rt){return(0,b.useMemo)(()=>{if(rt)return rt;const Re=bn[we]==null?0:bn[we]+1;return bn[we]=Re,we+"-"+Re},[we,rt])}function he(we){return function(rt){for(var Re=arguments.length,Te=new Array(Re>1?Re-1:0),q=1;q<Re;q++)Te[q-1]=arguments[q];return Te.reduce((F,re)=>{const De=Object.entries(re);for(const[k,le]of De){const te=F[k];te!=null&&(F[k]=te+we*le)}return F},Rt({},rt))}}const rn=he(1),Kt=he(-1);function xn(we){return"clientX"in we&&"clientY"in we}function fn(we){if(!we)return!1;const{KeyboardEvent:rt}=yt(we.target);return rt&&we instanceof rt}function Gt(we){if(!we)return!1;const{TouchEvent:rt}=yt(we.target);return rt&&we instanceof rt}function Pn(we){if(Gt(we)){if(we.touches&&we.touches.length){const{clientX:rt,clientY:Re}=we.touches[0];return{x:rt,y:Re}}else if(we.changedTouches&&we.changedTouches.length){const{clientX:rt,clientY:Re}=we.changedTouches[0];return{x:rt,y:Re}}}return xn(we)?{x:we.clientX,y:we.clientY}:null}const jt=Object.freeze({Translate:{toString(we){if(!we)return;const{x:rt,y:Re}=we;return"translate3d("+(rt?Math.round(rt):0)+"px, "+(Re?Math.round(Re):0)+"px, 0)"}},Scale:{toString(we){if(!we)return;const{scaleX:rt,scaleY:Re}=we;return"scaleX("+rt+") scaleY("+Re+")"}},Transform:{toString(we){if(we)return[jt.Translate.toString(we),jt.Scale.toString(we)].join(" ")}},Transition:{toString(we){let{property:rt,duration:Re,easing:Te}=we;return rt+" "+Re+"ms "+Te}}}),xe="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Ke(we){return we.matches(xe)?we:we.querySelector(xe)}},76089:function(qt,Fe,j){"use strict";j.d(Fe,{W:function(){return qr}});var b=j(88338),B=j(46191),P=j(50959),Y=j(10422),Je=j(42669);const yt=_t=>pe([_t])[_t],pe=_t=>useStoreContext().useStore(({data:ln})=>_t.reduce((yn,ur)=>ln[ur]&&"value"in ln[ur]?Object.assign(yn,{[ur]:ln[ur].value}):yn,{}),shallow),Ot={Row:b.R,Label:b.L,Portal:b.P,Overlay:b.O,String:b.a8,Number:b.a9,Boolean:b.aa,Select:b.ab,Vector:b.a,InnerLabel:b.ac};var Ft=j(94440);function wt(_t,Lt,Qt){return Lt in _t?Object.defineProperty(_t,Lt,{value:Qt,enumerable:!0,configurable:!0,writable:!0}):_t[Lt]=Qt,_t}function gt(_t,Lt){var Qt=Object.keys(_t);if(Object.getOwnPropertySymbols){var ln=Object.getOwnPropertySymbols(_t);Lt&&(ln=ln.filter(function(yn){return Object.getOwnPropertyDescriptor(_t,yn).enumerable})),Qt.push.apply(Qt,ln)}return Qt}function ht(_t){for(var Lt=1;Lt<arguments.length;Lt++){var Qt=arguments[Lt]!=null?arguments[Lt]:{};Lt%2?gt(Object(Qt),!0).forEach(function(ln){wt(_t,ln,Qt[ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_t,Object.getOwnPropertyDescriptors(Qt)):gt(Object(Qt)).forEach(function(ln){Object.defineProperty(_t,ln,Object.getOwnPropertyDescriptor(Qt,ln))})}return _t}function mt(){return mt=Object.assign||function(_t){for(var Lt=1;Lt<arguments.length;Lt++){var Qt=arguments[Lt];for(var ln in Qt)Object.prototype.hasOwnProperty.call(Qt,ln)&&(_t[ln]=Qt[ln])}return _t},mt.apply(this,arguments)}const At=()=>(0,P.useCallback)((_t,Lt)=>Lt*_t,[]),ee=()=>(0,P.useCallback)((_t,Lt)=>_t/Lt,[]),zn=4,En=.001,bn=1e-7,ft=10,he=11,rn=1/(he-1),Kt=(_t,Lt)=>1-3*Lt+3*_t,xn=(_t,Lt)=>3*Lt-6*_t,fn=_t=>3*_t,Gt=(_t,Lt,Qt)=>((Kt(Lt,Qt)*_t+xn(Lt,Qt))*_t+fn(Lt))*_t,Pn=(_t,Lt,Qt)=>3*Kt(Lt,Qt)*_t*_t+2*xn(Lt,Qt)*_t+fn(Lt),jt=(_t,Lt,Qt,ln,yn)=>{let ur,jn,Xr=0;do jn=Lt+(Qt-Lt)/2,ur=Gt(jn,ln,yn)-_t,ur>0?Qt=jn:Lt=jn;while(Math.abs(ur)>bn&&++Xr<ft);return jn},xe=(_t,Lt,Qt,ln)=>{for(let yn=0;yn<zn;++yn){const ur=Pn(Lt,Qt,ln);if(ur===0)return Lt;const jn=Gt(Lt,Qt,ln)-_t;Lt-=jn/ur}return Lt},Ke=_t=>_t,we=(_t,Lt,Qt,ln)=>{if(!(0<=_t&&_t<=1&&0<=Qt&&Qt<=1))throw new Error("bezier x values must be in [0, 1] range");if(_t===Lt&&Qt===ln)return Ke;const yn=new Float32Array(he);for(let jn=0;jn<he;++jn)yn[jn]=Gt(jn*rn,_t,Qt);const ur=jn=>{let Xr=0,Jn=1,ge=he-1;for(;Jn!==ge&&yn[Jn]<=jn;++Jn)Xr+=rn;--Jn;const je=(jn-yn[Jn])/(yn[Jn+1]-yn[Jn]),Xe=Xr+je*rn,Ye=Pn(Xe,_t,Qt);return Ye>=En?xe(jn,Xe,_t,Qt):Ye===0?Xe:jt(jn,Xr,Xr+rn,_t,Qt)};return jn=>jn===0||jn===1?jn:Gt(ur(jn),Lt,ln)},rt=(0,b.s)("svg",{width:"100%",height:"$controlWidth",marginTop:"$rowGap",overflow:"visible",zIndex:100,"> path":{stroke:"$highlight3",strokeWidth:2},g:{color:"$accent1","&:hover":{color:"$accent3"},"&:active":{color:"$vivid1"}},circle:{fill:"currentColor",strokeWidth:10,stroke:"transparent",cursor:"pointer"},"> line":{stroke:"$highlight1",strokeWidth:2},"> g > line":{stroke:"currentColor"},variants:{withPreview:{true:{marginBottom:0},false:{marginBottom:"$rowGap"}}}}),Re=_t=>(0,b.ah)({"0%":{opacity:0},"10%":{opacity:.8},"100%":{opacity:_t}}),Te=(0,b.ah)({"0%":{transform:"translateX(5%)"},"100%":{transform:"translateX(95%)"}}),q=(0,b.s)("svg",{width:"100%",overflow:"visible",height:6,"> circle":{fill:"$vivid1",cy:"50%",animation:`${Re(.3)} 1000ms both`,"&:first-of-type":{animationName:Re(.7)},"&:last-of-type":{animationName:Te}}}),F=(0,b.s)("div",{userSelect:"none",$flexCenter:"",height:14,width:14,borderRadius:7,marginRight:"$sm",cursor:"pointer",fontSize:"0.8em",variants:{graph:{true:{backgroundColor:"$elevation1"}}}}),re=(0,b.s)("div",{display:"grid",gridTemplateColumns:"auto 1fr",alignItems:"center"}),De=4;function k({sx:_t,sy:Lt,cx:Qt,cy:ln}){const yn=Math.atan2(ln-Lt,Qt-_t),ur=Qt-De*Math.cos(yn),jn=ln-De*Math.sin(yn);return P.createElement("line",{x1:ur,y1:jn,x2:_t,y2:Lt})}function le({displayValue:_t,onUpdate:Lt,withPreview:Qt}){const ln=At(),yn=ee(),[ur,{width:jn,height:Xr}]=(0,Ft.Z)(),Jn=(0,P.useRef)(null),ge=(0,P.useRef)(null),je=(0,P.useRef)(null),Xe=(0,P.useRef)(),Ye=(0,b.e)(({xy:[Hr,Li],event:Qr,first:ri,memo:ei})=>{ri&&(Xe.current=Jn.current.getBoundingClientRect(),ei=[ge.current,je.current].indexOf(Qr.target),ei<0&&(ei=Hr-Xe.current.left<jn/2?0:1),ei*=2);const ji=Hr-Xe.current.left,R=Li-Xe.current.top;return Lt(H=>{const S=[...H];return S[ei]=yn(ji,jn),S[ei+1]=1-yn(R,Xr),S}),ei}),{x1:Nt,y1:Nn,x2:wn,y2:Bt}=_t,{sx:Vt,sy:ut,ex:oe,ey:We,cx1:Tt,cy1:nn,cx2:Zn,cy2:hr}=(0,P.useMemo)(()=>({sx:ln(0,jn),sy:ln(1,Xr),ex:ln(1,jn),ey:ln(0,Xr),cx1:ln(Nt,jn),cy1:ln(1-Nn,Xr),cx2:ln(wn,jn),cy2:ln(1-Bt,Xr)}),[ln,Nt,Nn,wn,Bt,jn,Xr]);return P.createElement(rt,mt({ref:(0,b.af)([Jn,ur])},Ye(),{withPreview:Qt}),P.createElement("line",{x1:Vt,y1:ut,x2:oe,y2:We}),P.createElement("path",{fill:"none",d:`M${Vt},${ut} C${Tt},${nn} ${Zn},${hr} ${oe},${We}`,strokeLinecap:"round"}),P.createElement("g",null,P.createElement(k,{sx:Vt,sy:ut,cx:Tt,cy:nn}),P.createElement("circle",{ref:ge,cx:Tt,cy:nn,r:De})),P.createElement("g",null,P.createElement(k,{sx:oe,sy:We,cx:Zn,cy:hr}),P.createElement("circle",{ref:je,cx:Zn,cy:hr,r:De})))}const te=P.memo(({value:_t})=>{const[,Lt]=(0,P.useReducer)(ln=>ln+1,0),Qt=Array(21).fill(0).map((ln,yn)=>5+_t.evaluate(yn/20)*90);return P.createElement(q,{onClick:Lt},Qt.map((ln,yn)=>P.createElement("circle",{key:yn+Date.now(),r:3,cx:`${ln}%`,style:{animationDelay:`${yn*50}ms`}})),P.createElement("circle",{key:Date.now()-1,r:3,style:{animationTimingFunction:`cubic-bezier(${_t.join(",")})`,animationDuration:`${Qt.length*50}ms`}}))});function ae({value:_t}){const[Lt,Qt]=(0,P.useState)(_t),ln=(0,P.useMemo)(()=>(0,b.U)(yn=>Qt(yn),250),[]);return(0,P.useEffect)(()=>void ln(_t),[_t,ln]),P.createElement(te,{value:Lt})}function Le(_t,Lt){if(_t==null)return{};var Qt={},ln=Object.keys(_t),yn,ur;for(ur=0;ur<ln.length;ur++)yn=ln[ur],!(Lt.indexOf(yn)>=0)&&(Qt[yn]=_t[yn]);return Qt}function Ae(_t,Lt){if(_t==null)return{};var Qt=Le(_t,Lt),ln,yn;if(Object.getOwnPropertySymbols){var ur=Object.getOwnPropertySymbols(_t);for(yn=0;yn<ur.length;yn++)ln=ur[yn],!(Lt.indexOf(ln)>=0)&&Object.prototype.propertyIsEnumerable.call(_t,ln)&&(Qt[ln]=_t[ln])}return Qt}const _e=["handles"],$e={min:0,max:1,step:.01},me={step:.01},Pt={graph:!0,preview:!0},kt={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],"in-out-sine":[.45,.05,.55,.95],"in-out-quadratic":[.46,.03,.52,.96],"in-out-cubic":[.65,.05,.36,1],"fast-out-slow-in":[.4,0,.2,1],"in-out-back":[.68,-.55,.27,1.55]},xt=(_t=[.25,.1,.25,1])=>{let Lt=typeof _t=="object"&&"handles"in _t?_t:{handles:_t},{handles:Qt}=Lt,ln=Ae(Lt,_e);Qt=typeof Qt=="string"?kt[Qt]:Qt;const yn={x1:$e,y1:me,x2:$e,y2:me},{value:ur,settings:jn}=(0,b.am)(Qt,yn,["x1","y1","x2","y2"]),Xr=ur;return Xr.evaluate=we(...ur),Xr.cssEasing=`cubic-bezier(${ur.join(",")})`,{value:Xr,settings:ht(ht(ht({},jn),Pt),ln)}},dt=(_t,Lt,Qt)=>{const ln=(0,b.ak)(_t,Lt,Qt),yn=ln;return yn.evaluate=we(...ln),yn.cssEasing=`cubic-bezier(${ln.join(",")})`,yn},{Label:ze,Row:zt,Vector:un,Select:Sn}=Ot,Yt=["custom",...Object.keys(kt)],Tn=[!1,...Object.values(kt).map(_t=>_t.toString())],an={keys:Yt,values:Tn};function An({value:_t,onUpdate:Lt}){const Qt=(0,P.useMemo)(()=>Tn.find(jn=>jn===_t.toString())||!1,[_t]),ln={type:"SELECT",value:Qt,settings:an},yn=jn=>jn&&Lt(jn.split(",")),ur=(0,b.A)(ht(ht({},ln),{},{setValue:yn}));return P.createElement(Sn,{value:Qt,displayValue:ur.displayValue,onUpdate:ur.onUpdate,settings:an})}function Rr(){const{label:_t,value:Lt,displayValue:Qt,settings:ln,onUpdate:yn,setSettings:ur}=(0,b.u)(),{graph:jn,preview:Xr}=ln;return P.createElement(P.Fragment,null,P.createElement(zt,{input:!0},P.createElement(ze,null,_t),P.createElement(re,null,P.createElement(F,{graph:jn,onClick:()=>ur({graph:!jn})},"\u{1D453}"),P.createElement(An,{value:Lt,onUpdate:yn}))),jn&&P.createElement(le,{displayValue:Qt,onUpdate:yn,withPreview:Xr}),Xr&&P.createElement(zt,null,P.createElement(ae,{value:Lt})),jn&&P.createElement(zt,null,P.createElement(un,{value:Qt,settings:ln,onUpdate:yn,innerLabelTrim:2})))}const qr=(0,b.ag)({normalize:xt,sanitize:dt,format:(_t,Lt)=>(0,b.al)(_t,Lt),component:Rr})},961:function(qt,Fe,j){"use strict";j.d(Fe,{AS7:function(){return xf},EGi:function(){return Tn},L52:function(){return xs},Nn4:function(){return gf},QlJ:function(){return Bl},RgI:function(){return ir},TOI:function(){return Go},VZf:function(){return wf},Wwj:function(){return Ue},dNJ:function(){return Xa},dYt:function(){return Cf},h6i:function(){return fn},hNW:function(){return Ui},rlr:function(){return ql},tK:function(){return _e},vfO:function(){return Mu},zkR:function(){return bf}});var b=j(50959);function B($,J){if($==null)return{};var Z={},X=Object.keys($),K,su;for(su=0;su<X.length;su++)K=X[su],!(J.indexOf(K)>=0)&&(Z[K]=$[K]);return Z}var P=null,Y=null,Je=null,yt=null,pe=null,Ot=null,Ft=null,wt=null,gt=null,ht=null,mt=null,At=null,ee=null,zn=null,En=null,bn=null,ft=null,he=null,rn=null,Kt=null,xn=["color"],fn=(0,b.forwardRef)(function($,J){var Z=$.color,X=Z===void 0?"currentColor":Z,K=B($,xn);return(0,b.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K,{ref:J}),(0,b.createElement)("path",{d:"M8.8914 2.1937C9.1158 2.35464 9.16725 2.66701 9.00631 2.89141L2.47388 12H13.5C13.7761 12 14 12.2239 14 12.5C14 12.7762 13.7761 13 13.5 13H1.5C1.31254 13 1.14082 12.8952 1.0552 12.7284C0.969578 12.5616 0.984438 12.361 1.09369 12.2086L8.19369 2.30862C8.35462 2.08422 8.667 2.03277 8.8914 2.1937ZM11.1 6.50001C11.1 6.22387 11.3238 6.00001 11.6 6.00001C11.8761 6.00001 12.1 6.22387 12.1 6.50001C12.1 6.77615 11.8761 7.00001 11.6 7.00001C11.3238 7.00001 11.1 6.77615 11.1 6.50001ZM10.4 4.00001C10.1239 4.00001 9.90003 4.22387 9.90003 4.50001C9.90003 4.77615 10.1239 5.00001 10.4 5.00001C10.6762 5.00001 10.9 4.77615 10.9 4.50001C10.9 4.22387 10.6762 4.00001 10.4 4.00001ZM12.1 8.50001C12.1 8.22387 12.3238 8.00001 12.6 8.00001C12.8761 8.00001 13.1 8.22387 13.1 8.50001C13.1 8.77615 12.8761 9.00001 12.6 9.00001C12.3238 9.00001 12.1 8.77615 12.1 8.50001ZM13.4 10C13.1239 10 12.9 10.2239 12.9 10.5C12.9 10.7761 13.1239 11 13.4 11C13.6762 11 13.9 10.7761 13.9 10.5C13.9 10.2239 13.6762 10 13.4 10Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),Gt=null,Pn=null,jt=null,xe=null,Ke=null,we=null,rt=null,Re=null,Te=null,q=null,F=null,re=null,De=null,k=null,le=null,te=null,ae=null,Le=null,Ae=["color"],_e=(0,b.forwardRef)(function($,J){var Z=$.color,X=Z===void 0?"currentColor":Z,K=B($,Ae);return(0,b.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K,{ref:J}),(0,b.createElement)("path",{d:"M2.5 2H12.5C12.7761 2 13 2.22386 13 2.5V12.5C13 12.7761 12.7761 13 12.5 13H2.5C2.22386 13 2 12.7761 2 12.5V2.5C2 2.22386 2.22386 2 2.5 2ZM1 2.5C1 1.67157 1.67157 1 2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5ZM7.5 4C7.77614 4 8 3.77614 8 3.5C8 3.22386 7.77614 3 7.5 3C7.22386 3 7 3.22386 7 3.5C7 3.77614 7.22386 4 7.5 4ZM8 5.5C8 5.77614 7.77614 6 7.5 6C7.22386 6 7 5.77614 7 5.5C7 5.22386 7.22386 5 7.5 5C7.77614 5 8 5.22386 8 5.5ZM7.5 8C7.77614 8 8 7.77614 8 7.5C8 7.22386 7.77614 7 7.5 7C7.22386 7 7 7.22386 7 7.5C7 7.77614 7.22386 8 7.5 8ZM10 7.5C10 7.77614 9.77614 8 9.5 8C9.22386 8 9 7.77614 9 7.5C9 7.22386 9.22386 7 9.5 7C9.77614 7 10 7.22386 10 7.5ZM11.5 8C11.7761 8 12 7.77614 12 7.5C12 7.22386 11.7761 7 11.5 7C11.2239 7 11 7.22386 11 7.5C11 7.77614 11.2239 8 11.5 8Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),$e=null,me=null,Pt=null,kt=null,xt=null,dt=null,ze=null,zt=null,un=null,Sn=null,Yt=["color"],Tn=(0,b.forwardRef)(function($,J){var Z=$.color,X=Z===void 0?"currentColor":Z,K=B($,Yt);return(0,b.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K,{ref:J}),(0,b.createElement)("path",{d:"M3 9C3 6.5 4.5 4.25 7.5 1.5C10.5 4.25 12 6.5 12 9C12 11.4853 9.98528 13.5 7.5 13.5C5.01472 13.5 3 11.4853 3 9ZM10.9524 8.30307C9.67347 7.82121 8.2879 8.46208 6.98956 9.06259C5.9327 9.55142 4.93365 10.0135 4.09695 9.82153C4.03357 9.55804 4 9.28294 4 9C4 7.11203 5.02686 5.27195 7.5 2.87357C9.66837 4.97639 10.725 6.65004 10.9524 8.30307Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),an=null,An=null,Rr=null,qr=null,_t=null,Lt=null,Qt=null,ln=null,yn=null,ur=null,jn=null,Xr=null,Jn=null,ge=null,je=null,Xe=null,Ye=null,Nt=null,Nn=null,wn=null,Bt=null,Vt=null,ut=null,oe=null,We=null,Tt=null,nn=null,Zn=null,hr=null,Hr=null,Li=null,Qr=null,ri=null,ei=null,ji=null,R=null,H=null,S=null,T=null,Q=null,se=null,Ze=null,st=null,qe=null,vt=null,He=null,Be=null,bt=null,Ce=null,be=null,ke=null,Ve=null,et=null,Qe=null,Ct=null,cn=null,Yn=null,On=null,Qn=null,Vn=null,Wn=null,mr=null,Jt=null,rr=null,Lr=null,Ti=null,bi=null,go=null,Yi=null,Gi=null,Di=null,fo=null,Ni=null,ci=null,Ai=null,so=null,xi=null,$o=null,Qi=null,Mo=null,Ca=["color"],Xa=(0,b.forwardRef)(function($,J){var Z=$.color,X=Z===void 0?"currentColor":Z,K=B($,Ca);return(0,b.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K,{ref:J}),(0,b.createElement)("path",{d:"M9.96424 2.68571C10.0668 2.42931 9.94209 2.13833 9.6857 2.03577C9.4293 1.93322 9.13832 2.05792 9.03576 2.31432L5.03576 12.3143C4.9332 12.5707 5.05791 12.8617 5.3143 12.9642C5.5707 13.0668 5.86168 12.9421 5.96424 12.6857L9.96424 2.68571ZM3.85355 5.14646C4.04882 5.34172 4.04882 5.6583 3.85355 5.85356L2.20711 7.50001L3.85355 9.14646C4.04882 9.34172 4.04882 9.6583 3.85355 9.85356C3.65829 10.0488 3.34171 10.0488 3.14645 9.85356L1.14645 7.85356C0.951184 7.6583 0.951184 7.34172 1.14645 7.14646L3.14645 5.14646C3.34171 4.9512 3.65829 4.9512 3.85355 5.14646ZM11.1464 5.14646C11.3417 4.9512 11.6583 4.9512 11.8536 5.14646L13.8536 7.14646C14.0488 7.34172 14.0488 7.6583 13.8536 7.85356L11.8536 9.85356C11.6583 10.0488 11.3417 10.0488 11.1464 9.85356C10.9512 9.6583 10.9512 9.34172 11.1464 9.14646L12.7929 7.50001L11.1464 5.85356C10.9512 5.6583 10.9512 5.34172 11.1464 5.14646Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),ra=null,ia=null,Po=["color"],Go=(0,b.forwardRef)(function($,J){var Z=$.color,X=Z===void 0?"currentColor":Z,K=B($,Po);return(0,b.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K,{ref:J}),(0,b.createElement)("path",{d:"M0.877075 7.49985C0.877075 3.84216 3.84222 0.877014 7.49991 0.877014C11.1576 0.877014 14.1227 3.84216 14.1227 7.49985C14.1227 11.1575 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1575 0.877075 7.49985ZM3.78135 3.21565C4.68298 2.43239 5.83429 1.92904 7.09998 1.84089V6.53429L3.78135 3.21565ZM3.21567 3.78134C2.43242 4.68298 1.92909 5.83428 1.84095 7.09997H6.5343L3.21567 3.78134ZM6.5343 7.89997H1.84097C1.92916 9.16562 2.43253 10.3169 3.21579 11.2185L6.5343 7.89997ZM3.78149 11.7842C4.6831 12.5673 5.83435 13.0707 7.09998 13.1588V8.46566L3.78149 11.7842ZM7.89998 8.46566V13.1588C9.16559 13.0706 10.3168 12.5673 11.2184 11.7841L7.89998 8.46566ZM11.7841 11.2184C12.5673 10.3168 13.0707 9.16558 13.1588 7.89997H8.46567L11.7841 11.2184ZM8.46567 7.09997H13.1589C13.0707 5.83432 12.5674 4.68305 11.7842 3.78143L8.46567 7.09997ZM11.2185 3.21573C10.3169 2.43246 9.16565 1.92909 7.89998 1.8409V6.53429L11.2185 3.21573Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),Fs=null,ui=null,Ps=null,ns=null,Fr=null,Wo=null,cs=null,Bi=null,O=null,V=null,de=["color"],Ue=(0,b.forwardRef)(function($,J){var Z=$.color,X=Z===void 0?"currentColor":Z,K=B($,de);return(0,b.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K,{ref:J}),(0,b.createElement)("path",{d:"M7.85367 1.48956C7.65841 1.29429 7.34182 1.29429 7.14656 1.48956L1.48971 7.14641C1.29445 7.34167 1.29445 7.65825 1.48971 7.85352L7.14656 13.5104C7.34182 13.7056 7.65841 13.7056 7.85367 13.5104L13.5105 7.85352C13.7058 7.65825 13.7058 7.34167 13.5105 7.14641L7.85367 1.48956ZM7.5 2.55033L2.55037 7.49996L7.5 12.4496V2.55033Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),pt=null,lt=null,z=null,ie=null,E=null,W=null,Oe=null,tt=null,Mn=null,Dn=null,or=null,Cn=null,er=null,zr=null,gr=null,Ur=null,fi=null,pi=null,di=null,yi=null,Oi=null,eo=null,Fi=null,ki=null,Si=null,Vo=null,ho=null,oa=null,Xo=null,Ei=null,Is=null,_a=null,R1=null,sa=null,xa=null,za=null,Ya=null,f1=null,Os=null,j1=null,L1=null,d1=null,Yo=null,ya=null,Ds=null,Ka=null,mi=null,us=null,xo=null,jr=null,Ys=null,dn=null,ti=null,wa=null,Na=null,Cs=null,Do=null,io=null,Ba=null,Ho=null,ks=null,Ks=null,aa=null,Js=null,dl=null,vo=null,Ma=null,T1=null,Ko=null,$s=null,A1=null,la=null,ba=null,hl=null,hi=null,kr=null,Ki=null,Jo=null,bo=null,fs=null,rs=null,Sa=null,po=null,ce=null,Ws=null,Ua=null,is=null,ds=null,Co=null,os=null,to=null,zo=null,Lo=null,ca=null,qs=null,Hs=null,G1=null,qo=null,Ea=null,Va=null,pl=null,ua=null,zs=null,Ja=null,Qs=null,_s=null,X1=null,Y1=null,Fa=null,P1=null,Ra=null,ml=null,h1=null,ai=null,qa=["color"],xs=(0,b.forwardRef)(function($,J){var Z=$.color,X=Z===void 0?"currentColor":Z,K=B($,qa);return(0,b.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K,{ref:J}),(0,b.createElement)("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),gl=null,Zl=null,ea=null,K1=null,ys=null,jl=null,mc=null,p1=null,Qa=null,vl=null,gc=null,I1=null,fa=null,Cl=null,O1=null,vc=null,Cc=null,Gl=null,J1=null,_c=null,yu=null,xc=null,$i=null,ws=null,ka=null,Xl=null,$a=null,m1=null,g1=null,Yl=null,Zs=null,_l=null,D1=null,Wa=null,ss=null,Kl=null,hs=null,H1=null,yo=null,xl=null,yc=null,cr=null,ao=null,La=null,da=null,qc=null,Ms=null,z1=null,Jl=null,No=null,v1=null,lo=null,wc=null,yl=null,wl=null,Mc=null,e1=["color"],ql=(0,b.forwardRef)(function($,J){var Z=$.color,X=Z===void 0?"currentColor":Z,K=B($,e1);return(0,b.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K,{ref:J}),(0,b.createElement)("path",{d:"M12.3536 13.3536C12.1583 13.5488 11.8417 13.5488 11.6465 13.3536L6.39645 8.10355C6.36478 8.07188 6.33824 8.03702 6.31685 8H5.00002C4.78719 8 4.59769 7.86528 4.52777 7.66426L2.12777 0.764277C2.05268 0.548387 2.13355 0.309061 2.3242 0.182972C2.51486 0.0568819 2.76674 0.0761337 2.93602 0.229734L8.336 5.12972C8.44044 5.22449 8.50001 5.35897 8.50001 5.5V5.81684C8.53702 5.83824 8.57189 5.86478 8.60356 5.89645L13.8536 11.1464C14.0488 11.3417 14.0488 11.6583 13.8536 11.8536L12.3536 13.3536ZM8.25 6.95711L7.45711 7.75L12 12.2929L12.7929 11.5L8.25 6.95711ZM3.71669 2.28845L5.35549 7H6.2929L7.50001 5.79289V5.72146L3.71669 2.28845Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),Ml=null,q1=null,Mr=null,Q1=null,Ql=null,Bo=null,ec=null,Ta=null,$r=null,js=null,Qo=null,gn=null,el=null,ta=null,tl=null,Qc=null,ha=null,Aa=null,na=null,nl=null,rl=null,C1=null,il=null,_1=null,tc=null,pa=null,ol=null,Gs=null,N1=null,Fo=null,eu=null,bl=null,Za=null,x1=null,ps=null,tu=null,Sl=null,El=null,Rl=null,Ll=null,Ns=null,t1=null,Zo=null,n1=null,r1=null,ja=null,y1=null,bc=null,B1=null,nc=null,Uo=null,li=null,wo=null,So=null,ko=null,Bs=null,U1=null,Eo=null,sl=null,V1=null,Tl=null,rc=null,al=null,Us=null,Al=null,ic=null,F1=null,Pl=null,Sc=null,i1=null,Il=null,o1=null,Ol=null,w1=null,Dl=null,Hl=null,zl=null,Ro=null,ma=null,bs=null,Ga=null,Ss=null,Ec=null,Es=null,oc=null,nu=null,s1=null,sc=null,Rc=null,Nl=null,M1=null,Lc=null,ga=["color"],Bl=(0,b.forwardRef)(function($,J){var Z=$.color,X=Z===void 0?"currentColor":Z,K=B($,ga);return(0,b.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K,{ref:J}),(0,b.createElement)("path",{d:"M7.5 1.5C4.5 4.25 3 6.5 3 9C3 11.4853 5.01472 13.5 7.5 13.5C9.98528 13.5 12 11.4853 12 9C12 6.5 10.5 4.25 7.5 1.5ZM11 9C11 7.11203 9.97315 5.27195 7.5 2.87357C5.02686 5.27195 4 7.11203 4 9C4 10.933 5.567 12.5 7.5 12.5C9.433 12.5 11 10.933 11 9Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),Ul=null,ru=null,Vl=null,Tc=null,ac=null,a1=null,Ac=null,l1=null,Pc=null,Vs=null,iu=null,h=null,w=null,I=null,N=null,ve=null,Ie=null,it=null,Wt=null,vn=null,en=["color"],ir=(0,b.forwardRef)(function($,J){var Z=$.color,X=Z===void 0?"currentColor":Z,K=B($,en);return(0,b.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K,{ref:J}),(0,b.createElement)("path",{d:"M13.5 13.95C13.7485 13.95 13.95 13.7485 13.95 13.5C13.95 13.2514 13.7485 13.05 13.5 13.05L1.49995 13.05C1.25142 13.05 1.04995 13.2514 1.04995 13.5C1.04995 13.7485 1.25142 13.95 1.49995 13.95L13.5 13.95ZM11.0681 7.5683C11.2439 7.39257 11.2439 7.10764 11.0681 6.93191C10.8924 6.75617 10.6075 6.75617 10.4317 6.93191L7.94993 9.41371L7.94993 1.49998C7.94993 1.25146 7.74846 1.04998 7.49993 1.04998C7.2514 1.04998 7.04993 1.25146 7.04993 1.49998L7.04993 9.41371L4.56813 6.93191C4.39239 6.75617 4.10746 6.75617 3.93173 6.93191C3.75599 7.10764 3.75599 7.39257 3.93173 7.5683L7.18173 10.8183C7.35746 10.994 7.64239 10.994 7.81812 10.8183L11.0681 7.5683Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),Fn=null,qn=null,tr=null,Sr=null,sr=["color"],Ui=(0,b.forwardRef)(function($,J){var Z=$.color,X=Z===void 0?"currentColor":Z,K=B($,sr);return(0,b.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K,{ref:J}),(0,b.createElement)("path",{d:"M1.50005 1.05005C1.25152 1.05005 1.05005 1.25152 1.05005 1.50005C1.05005 1.74858 1.25152 1.95005 1.50005 1.95005L13.5 1.95005C13.7486 1.95005 13.95 1.74858 13.95 1.50005C13.95 1.25152 13.7486 1.05005 13.5 1.05005H1.50005ZM3.93188 7.43169C3.75614 7.60743 3.75614 7.89236 3.93188 8.06809C4.10761 8.24383 4.39254 8.24383 4.56827 8.06809L7.05007 5.58629V13.5C7.05007 13.7485 7.25155 13.95 7.50007 13.95C7.7486 13.95 7.95007 13.7485 7.95007 13.5L7.95007 5.58629L10.4319 8.06809C10.6076 8.24383 10.8925 8.24383 11.0683 8.06809C11.244 7.89235 11.244 7.60743 11.0683 7.43169L7.81827 4.18169C7.64254 4.00596 7.35761 4.00596 7.18188 4.18169L3.93188 7.43169Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),wi=null,Vr=null,Hi=null,Tr=null,Nr=null,no=null,i=null,s=null,u=null,p=null,_=null,L=null,ye=null,Ge=null,Dt=null,In=null,pr=null,Jr=null,Ir=null,Pi=null,_r=null,jo=null,Rs=null,Mt=null,at=null,It=null,fr=null,Er=null,ni=null,ar=null,Br=null,oo=null,Wi=null,Pa=null,ll=null,s0=null,a0=null,l0=null,c0=null,wu=null,k1=null,q0=null,Ic=["color"],Mu=(0,b.forwardRef)(function($,J){var Z=$.color,X=Z===void 0?"currentColor":Z,K=B($,Ic);return(0,b.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K,{ref:J}),(0,b.createElement)("path",{opacity:".05",d:"M6.78296 13.376C8.73904 9.95284 8.73904 5.04719 6.78296 1.62405L7.21708 1.37598C9.261 4.95283 9.261 10.0472 7.21708 13.624L6.78296 13.376Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,b.createElement)("path",{opacity:".1",d:"M7.28204 13.4775C9.23929 9.99523 9.23929 5.00475 7.28204 1.52248L7.71791 1.2775C9.76067 4.9119 9.76067 10.0881 7.71791 13.7225L7.28204 13.4775Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,b.createElement)("path",{opacity:".15",d:"M7.82098 13.5064C9.72502 9.99523 9.72636 5.01411 7.82492 1.50084L8.26465 1.26285C10.2465 4.92466 10.2451 10.085 8.26052 13.7448L7.82098 13.5064Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,b.createElement)("path",{opacity:".2",d:"M8.41284 13.429C10.1952 9.92842 10.1957 5.07537 8.41435 1.57402L8.85999 1.34729C10.7139 4.99113 10.7133 10.0128 8.85841 13.6559L8.41284 13.429Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,b.createElement)("path",{opacity:".25",d:"M9.02441 13.2956C10.6567 9.8379 10.6586 5.17715 9.03005 1.71656L9.48245 1.50366C11.1745 5.09919 11.1726 9.91629 9.47657 13.5091L9.02441 13.2956Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,b.createElement)("path",{opacity:".3",d:"M9.66809 13.0655C11.1097 9.69572 11.1107 5.3121 9.67088 1.94095L10.1307 1.74457C11.6241 5.24121 11.6231 9.76683 10.1278 13.2622L9.66809 13.0655Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,b.createElement)("path",{opacity:".35",d:"M10.331 12.7456C11.5551 9.52073 11.5564 5.49103 10.3347 2.26444L10.8024 2.0874C12.0672 5.42815 12.0659 9.58394 10.7985 12.9231L10.331 12.7456Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,b.createElement)("path",{opacity:".4",d:"M11.0155 12.2986C11.9938 9.29744 11.9948 5.71296 11.0184 2.71067L11.4939 2.55603C12.503 5.6589 12.502 9.35178 11.4909 12.4535L11.0155 12.2986Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,b.createElement)("path",{opacity:".45",d:"M11.7214 11.668C12.4254 9.01303 12.4262 5.99691 11.7237 3.34116L12.2071 3.21329C12.9318 5.95292 12.931 9.05728 12.2047 11.7961L11.7214 11.668Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,b.createElement)("path",{opacity:".5",d:"M12.4432 10.752C12.8524 8.63762 12.8523 6.36089 12.4429 4.2466L12.9338 4.15155C13.3553 6.32861 13.3554 8.66985 12.9341 10.847L12.4432 10.752Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,b.createElement)("path",{d:"M0.877075 7.49988C0.877075 3.84219 3.84222 0.877045 7.49991 0.877045C11.1576 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1575 0.877075 7.49988ZM7.49991 1.82704C4.36689 1.82704 1.82708 4.36686 1.82708 7.49988C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49988C13.1727 4.36686 10.6329 1.82704 7.49991 1.82704Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),u0=null,bu=null,f0=null,es=null,d0=null,h0=null,Mh=null,bh=null,Sh=null,Eh=null,Rh=null,Lh=null,Th=null,Ah=null,Ph=null,Ih=null,Oh=null,Dh=null,Hh=null,zh=null,Nh=null,Bh=null,Uh=null,Vh=null,Fh=null,kh=null,$h=null,Wh=null,Zh=null,Vi=null,dr=null,b1=null,Su=null,yd=null,wd=null,Md=null,bd=null,Sd=null,Ed=null,Eu=null,Oc=null,Q0=null,lc=null,p0=null,ef=null,m0=null,cc=null,Dc=null,tf=null,g0=null,Rd=null,nf=null,Ru=null,Ld=null,rf=null,of=null,v0=null,Td=null,Ad=null,Pd=null,Id=null,Od=null,Dd=null,Hd=null,zd=null,Nd=null,sf=null,af=null,lf=null,cf=null,uf=null,ff=null,df=null,hf=null,pf=null,Hc=null,Ls=null,Ts=null,Lu=null,Bd=null,Ud=null,Vd=null,Fd=null,kd=null,$d=null,Wd=null,Zd=null,jd=null,Gd=null,Xd=null,Yd=null,Kd=null,Jd=null,qd=null,mf=["color"],gf=(0,b.forwardRef)(function($,J){var Z=$.color,X=Z===void 0?"currentColor":Z,K=B($,mf);return(0,b.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K,{ref:J}),(0,b.createElement)("path",{d:"M4.5 2C3.11929 2 2 3.11929 2 4.5C2 5.88072 3.11929 7 4.5 7C5.88072 7 7 5.88072 7 4.5C7 3.11929 5.88072 2 4.5 2ZM3 4.5C3 3.67157 3.67157 3 4.5 3C5.32843 3 6 3.67157 6 4.5C6 5.32843 5.32843 6 4.5 6C3.67157 6 3 5.32843 3 4.5ZM10.5 2C9.11929 2 8 3.11929 8 4.5C8 5.88072 9.11929 7 10.5 7C11.8807 7 13 5.88072 13 4.5C13 3.11929 11.8807 2 10.5 2ZM9 4.5C9 3.67157 9.67157 3 10.5 3C11.3284 3 12 3.67157 12 4.5C12 5.32843 11.3284 6 10.5 6C9.67157 6 9 5.32843 9 4.5ZM2 10.5C2 9.11929 3.11929 8 4.5 8C5.88072 8 7 9.11929 7 10.5C7 11.8807 5.88072 13 4.5 13C3.11929 13 2 11.8807 2 10.5ZM4.5 9C3.67157 9 3 9.67157 3 10.5C3 11.3284 3.67157 12 4.5 12C5.32843 12 6 11.3284 6 10.5C6 9.67157 5.32843 9 4.5 9ZM10.5 8C9.11929 8 8 9.11929 8 10.5C8 11.8807 9.11929 13 10.5 13C11.8807 13 13 11.8807 13 10.5C13 9.11929 11.8807 8 10.5 8ZM9 10.5C9 9.67157 9.67157 9 10.5 9C11.3284 9 12 9.67157 12 10.5C12 11.3284 11.3284 12 10.5 12C9.67157 12 9 11.3284 9 10.5Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),Qd=null,e2=null,t2=null,n2=null,vf=["color"],Cf=(0,b.forwardRef)(function($,J){var Z=$.color,X=Z===void 0?"currentColor":Z,K=B($,vf);return(0,b.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K,{ref:J}),(0,b.createElement)("path",{d:"M0.849976 1.74998C0.849976 1.25292 1.25292 0.849976 1.74998 0.849976H3.24998C3.74703 0.849976 4.14998 1.25292 4.14998 1.74998V2.04998H10.85V1.74998C10.85 1.25292 11.2529 0.849976 11.75 0.849976H13.25C13.747 0.849976 14.15 1.25292 14.15 1.74998V3.24998C14.15 3.74703 13.747 4.14998 13.25 4.14998H12.95V10.85H13.25C13.747 10.85 14.15 11.2529 14.15 11.75V13.25C14.15 13.747 13.747 14.15 13.25 14.15H11.75C11.2529 14.15 10.85 13.747 10.85 13.25V12.95H4.14998V13.25C4.14998 13.747 3.74703 14.15 3.24998 14.15H1.74998C1.25292 14.15 0.849976 13.747 0.849976 13.25V11.75C0.849976 11.2529 1.25292 10.85 1.74998 10.85H2.04998V4.14998H1.74998C1.25292 4.14998 0.849976 3.74703 0.849976 3.24998V1.74998ZM2.94998 4.14998V10.85H3.24998C3.74703 10.85 4.14998 11.2529 4.14998 11.75V12.05H10.85V11.75C10.85 11.2529 11.2529 10.85 11.75 10.85H12.05V4.14998H11.75C11.2529 4.14998 10.85 3.74703 10.85 3.24998V2.94998H4.14998V3.24998C4.14998 3.74703 3.74703 4.14998 3.24998 4.14998H2.94998ZM2.34998 1.74998H1.74998V2.34998V2.64998V3.24998H2.34998H2.64998H3.24998V2.64998V2.34998V1.74998H2.64998H2.34998ZM5.09998 5.99998C5.09998 5.50292 5.50292 5.09998 5.99998 5.09998H6.99998C7.49703 5.09998 7.89998 5.50292 7.89998 5.99998V6.99998C7.89998 7.03591 7.89787 7.07134 7.89378 7.10618C7.92861 7.10208 7.96405 7.09998 7.99998 7.09998H8.99998C9.49703 7.09998 9.89998 7.50292 9.89998 7.99998V8.99998C9.89998 9.49703 9.49703 9.89998 8.99998 9.89998H7.99998C7.50292 9.89998 7.09998 9.49703 7.09998 8.99998V7.99998C7.09998 7.96405 7.10208 7.92861 7.10618 7.89378C7.07134 7.89787 7.03591 7.89998 6.99998 7.89998H5.99998C5.50292 7.89998 5.09998 7.49703 5.09998 6.99998V5.99998ZM6.09998 5.99998H5.99998V6.09998V6.89998V6.99998H6.09998H6.89998H6.99998V6.89998V6.09998V5.99998H6.89998H6.09998ZM7.99998 7.99998H8.09998H8.89998H8.99998V8.09998V8.89998V8.99998H8.89998H8.09998H7.99998V8.89998V8.09998V7.99998ZM2.64998 11.75H2.34998H1.74998V12.35V12.65V13.25H2.34998H2.64998H3.24998V12.65V12.35V11.75H2.64998ZM11.75 1.74998H12.35H12.65H13.25V2.34998V2.64998V3.24998H12.65H12.35H11.75V2.64998V2.34998V1.74998ZM12.65 11.75H12.35H11.75V12.35V12.65V13.25H12.35H12.65H13.25V12.65V12.35V11.75H12.65Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),r2=null,i2=null,o2=null,s2=null,_f=["color"],xf=(0,b.forwardRef)(function($,J){var Z=$.color,X=Z===void 0?"currentColor":Z,K=B($,_f);return(0,b.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K,{ref:J}),(0,b.createElement)("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:X}))}),a2=null,l2=null,yf=["color"],wf=(0,b.forwardRef)(function($,J){var Z=$.color,X=Z===void 0?"currentColor":Z,K=B($,yf);return(0,b.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K,{ref:J}),(0,b.createElement)("path",{d:"M6 11L6 4L10.5 7.5L6 11Z",fill:X}))}),c2=null,u2=null,f2=null,d2=null,h2=null,p2=null,Mf=["color"],bf=(0,b.forwardRef)(function($,J){var Z=$.color,X=Z===void 0?"currentColor":Z,K=B($,Mf);return(0,b.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K,{ref:J}),(0,b.createElement)("path",{d:"M1.90321 7.29677C1.90321 10.341 4.11041 12.4147 6.58893 12.8439C6.87255 12.893 7.06266 13.1627 7.01355 13.4464C6.96444 13.73 6.69471 13.9201 6.41109 13.871C3.49942 13.3668 0.86084 10.9127 0.86084 7.29677C0.860839 5.76009 1.55996 4.55245 2.37639 3.63377C2.96124 2.97568 3.63034 2.44135 4.16846 2.03202L2.53205 2.03202C2.25591 2.03202 2.03205 1.80816 2.03205 1.53202C2.03205 1.25588 2.25591 1.03202 2.53205 1.03202L5.53205 1.03202C5.80819 1.03202 6.03205 1.25588 6.03205 1.53202L6.03205 4.53202C6.03205 4.80816 5.80819 5.03202 5.53205 5.03202C5.25591 5.03202 5.03205 4.80816 5.03205 4.53202L5.03205 2.68645L5.03054 2.68759L5.03045 2.68766L5.03044 2.68767L5.03043 2.68767C4.45896 3.11868 3.76059 3.64538 3.15554 4.3262C2.44102 5.13021 1.90321 6.10154 1.90321 7.29677ZM13.0109 7.70321C13.0109 4.69115 10.8505 2.6296 8.40384 2.17029C8.12093 2.11718 7.93465 1.84479 7.98776 1.56188C8.04087 1.27898 8.31326 1.0927 8.59616 1.14581C11.4704 1.68541 14.0532 4.12605 14.0532 7.70321C14.0532 9.23988 13.3541 10.4475 12.5377 11.3662C11.9528 12.0243 11.2837 12.5586 10.7456 12.968L12.3821 12.968C12.6582 12.968 12.8821 13.1918 12.8821 13.468C12.8821 13.7441 12.6582 13.968 12.3821 13.968L9.38205 13.968C9.10591 13.968 8.88205 13.7441 8.88205 13.468L8.88205 10.468C8.88205 10.1918 9.10591 9.96796 9.38205 9.96796C9.65819 9.96796 9.88205 10.1918 9.88205 10.468L9.88205 12.3135L9.88362 12.3123C10.4551 11.8813 11.1535 11.3546 11.7585 10.6738C12.4731 9.86976 13.0109 8.89844 13.0109 7.70321Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),m2=null,g2=null,C0=null,Sf=null,v2=null,Tu=null,Ef=null,C2=null,_2=null,x2=null,Rf=null,y2=null,w2=null,M2=null,b2=null,S2=null,ou=null,Lf=null,Tf=null,E2=null,_0=null,R2=null,L2=null,Af=null},10495:function(qt,Fe,j){"use strict";j.d(Fe,{qA:function(){return bn}});var b=j(8864),B=j(50959),P=j(63905),Y=j(48119);const Je=ft=>ft&&ft.isCubeTexture;class yt extends Y.Mesh{constructor(he,rn){var Kt,xn;const fn=Je(he),Pn=((xn=fn?(Kt=he.image[0])==null?void 0:Kt.width:he.image.width)!=null?xn:1024)/4,jt=Math.floor(Math.log2(Pn)),xe=Math.pow(2,jt),Ke=3*Math.max(xe,16*7),we=4*xe,rt=[fn?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/Ke}`,`#define CUBEUV_TEXEL_HEIGHT ${1/we}`,`#define CUBEUV_MAX_MIP ${jt}.0`],Re=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,Te=rt.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,q={map:{value:he},height:{value:(rn==null?void 0:rn.height)||15},radius:{value:(rn==null?void 0:rn.radius)||100}},F=new Y.IcosahedronGeometry(1,16),re=new Y.ShaderMaterial({uniforms:q,fragmentShader:Te,vertexShader:Re,side:Y.DoubleSide});super(F,re)}set radius(he){this.material.uniforms.radius.value=he}get radius(){return this.material.uniforms.radius.value}set height(he){this.material.uniforms.height.value=he}get height(){return this.material.uniforms.height.value}}class pe extends Y.DataTextureLoader{constructor(he){super(he),this.type=Y.HalfFloatType}parse(he){const Pn=function(k,le){switch(k){case 1:console.error("THREE.RGBELoader Read Error: "+(le||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(le||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(le||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(le||""))}return-1},we=`
`,rt=function(k,le,te){le=le||1024;let Le=k.pos,Ae=-1,_e=0,$e="",me=String.fromCharCode.apply(null,new Uint16Array(k.subarray(Le,Le+128)));for(;0>(Ae=me.indexOf(we))&&_e<le&&Le<k.byteLength;)$e+=me,_e+=me.length,Le+=128,me+=String.fromCharCode.apply(null,new Uint16Array(k.subarray(Le,Le+128)));return-1<Ae?(te!==!1&&(k.pos+=_e+Ae+1),$e+me.slice(0,Ae)):!1},Re=function(k){const le=/^#\?(\S+)/,te=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,ae=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Le=/^\s*FORMAT=(\S+)\s*$/,Ae=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,_e={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let $e,me;if(k.pos>=k.byteLength||!($e=rt(k)))return Pn(1,"no header found");if(!(me=$e.match(le)))return Pn(3,"bad initial token");for(_e.valid|=1,_e.programtype=me[1],_e.string+=$e+`
`;$e=rt(k),$e!==!1;){if(_e.string+=$e+`
`,$e.charAt(0)==="#"){_e.comments+=$e+`
`;continue}if((me=$e.match(te))&&(_e.gamma=parseFloat(me[1])),(me=$e.match(ae))&&(_e.exposure=parseFloat(me[1])),(me=$e.match(Le))&&(_e.valid|=2,_e.format=me[1]),(me=$e.match(Ae))&&(_e.valid|=4,_e.height=parseInt(me[1],10),_e.width=parseInt(me[2],10)),_e.valid&2&&_e.valid&4)break}return _e.valid&2?_e.valid&4?_e:Pn(3,"missing image size specifier"):Pn(3,"missing format specifier")},Te=function(k,le,te){const ae=le;if(ae<8||ae>32767||k[0]!==2||k[1]!==2||k[2]&128)return new Uint8Array(k);if(ae!==(k[2]<<8|k[3]))return Pn(3,"wrong scanline width");const Le=new Uint8Array(4*le*te);if(!Le.length)return Pn(4,"unable to allocate buffer space");let Ae=0,_e=0;const $e=4*ae,me=new Uint8Array(4),Pt=new Uint8Array($e);let kt=te;for(;kt>0&&_e<k.byteLength;){if(_e+4>k.byteLength)return Pn(1);if(me[0]=k[_e++],me[1]=k[_e++],me[2]=k[_e++],me[3]=k[_e++],me[0]!=2||me[1]!=2||(me[2]<<8|me[3])!=ae)return Pn(3,"bad rgbe scanline format");let xt=0,dt;for(;xt<$e&&_e<k.byteLength;){dt=k[_e++];const zt=dt>128;if(zt&&(dt-=128),dt===0||xt+dt>$e)return Pn(3,"bad scanline data");if(zt){const un=k[_e++];for(let Sn=0;Sn<dt;Sn++)Pt[xt++]=un}else Pt.set(k.subarray(_e,_e+dt),xt),xt+=dt,_e+=dt}const ze=ae;for(let zt=0;zt<ze;zt++){let un=0;Le[Ae]=Pt[zt+un],un+=ae,Le[Ae+1]=Pt[zt+un],un+=ae,Le[Ae+2]=Pt[zt+un],un+=ae,Le[Ae+3]=Pt[zt+un],Ae+=4}kt--}return Le},q=function(k,le,te,ae){const Le=k[le+3],Ae=Math.pow(2,Le-128)/255;te[ae+0]=k[le+0]*Ae,te[ae+1]=k[le+1]*Ae,te[ae+2]=k[le+2]*Ae,te[ae+3]=1},F=function(k,le,te,ae){const Le=k[le+3],Ae=Math.pow(2,Le-128)/255;te[ae+0]=Y.DataUtils.toHalfFloat(Math.min(k[le+0]*Ae,65504)),te[ae+1]=Y.DataUtils.toHalfFloat(Math.min(k[le+1]*Ae,65504)),te[ae+2]=Y.DataUtils.toHalfFloat(Math.min(k[le+2]*Ae,65504)),te[ae+3]=Y.DataUtils.toHalfFloat(1)},re=new Uint8Array(he);re.pos=0;const De=Re(re);if(De!==-1){const k=De.width,le=De.height,te=Te(re.subarray(re.pos),k,le);if(te!==-1){let ae,Le,Ae;switch(this.type){case Y.FloatType:Ae=te.length/4;const _e=new Float32Array(Ae*4);for(let me=0;me<Ae;me++)q(te,me*4,_e,me*4);ae=_e,Le=Y.FloatType;break;case Y.HalfFloatType:Ae=te.length/4;const $e=new Uint16Array(Ae*4);for(let me=0;me<Ae;me++)F(te,me*4,$e,me*4);ae=$e,Le=Y.HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:k,height:le,data:ae,header:De.string,gamma:De.gamma,exposure:De.exposure,type:Le}}}return null}setDataType(he){return this.type=he,this}load(he,rn,Kt,xn){function fn(Gt,Pn){switch(Gt.type){case Y.FloatType:case Y.HalfFloatType:"colorSpace"in Gt?Gt.colorSpace="srgb-linear":Gt.encoding=3e3,Gt.minFilter=Y.LinearFilter,Gt.magFilter=Y.LinearFilter,Gt.generateMipmaps=!1,Gt.flipY=!0;break}rn&&rn(Gt,Pn)}return super.load(he,fn,Kt,xn)}}const Ot={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},Ft="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/";function wt({files:ft=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:he="",preset:rn=void 0,encoding:Kt=void 0,extensions:xn}={}){if(rn){if(!(rn in Ot))throw new Error("Preset must be one of: "+Object.keys(Ot).join(", "));ft=Ot[rn],he=Ft}const fn=Array.isArray(ft),Gt=fn?Y.CubeTextureLoader:pe,Pn=(0,P.D)(Gt,fn?[ft]:ft,xe=>{xe.setPath(he),xn&&xn(xe)}),jt=fn?Pn[0]:Pn;return jt.mapping=fn?Y.CubeReflectionMapping:Y.EquirectangularReflectionMapping,jt.encoding=(Kt!=null?Kt:fn)?Y.sRGBEncoding:Y.LinearEncoding,jt}const gt=ft=>ft.current&&ft.current.isScene,ht=ft=>gt(ft)?ft.current:ft;function mt(ft,he,rn,Kt,xn=0){const fn=ht(he||rn),Gt=fn.background,Pn=fn.environment,jt=fn.backgroundBlurriness||0;return ft!=="only"&&(fn.environment=Kt),ft&&(fn.background=Kt),ft&&fn.backgroundBlurriness!==void 0&&(fn.backgroundBlurriness=xn),()=>{ft!=="only"&&(fn.environment=Pn),ft&&(fn.background=Gt),ft&&fn.backgroundBlurriness!==void 0&&(fn.backgroundBlurriness=jt)}}function At({scene:ft,background:he=!1,blur:rn,map:Kt}){const xn=(0,P.z)(fn=>fn.scene);return B.useLayoutEffect(()=>{if(Kt)return mt(he,ft,xn,Kt,rn)},[xn,ft,Kt,he,rn]),null}function ee(xn){var fn=xn,{background:ft=!1,scene:he,blur:rn}=fn,Kt=ls(fn,["background","scene","blur"]);const Gt=wt(Kt),Pn=(0,P.z)(jt=>jt.scene);return B.useLayoutEffect(()=>mt(ft,he,Pn,Gt,rn),[Gt,ft,he,Pn,rn]),null}function zn({children:ft,near:he=1,far:rn=1e3,resolution:Kt=256,frames:xn=1,map:fn,background:Gt=!1,blur:Pn,scene:jt,files:xe,path:Ke,preset:we=void 0,extensions:rt}){const Re=(0,P.z)(k=>k.gl),Te=(0,P.z)(k=>k.scene),q=B.useRef(null),[F]=B.useState(()=>new Y.Scene),re=B.useMemo(()=>{const k=new Y.WebGLCubeRenderTarget(Kt);return k.texture.type=Y.HalfFloatType,k},[Kt]);B.useLayoutEffect(()=>(xn===1&&q.current.update(Re,F),mt(Gt,jt,Te,re.texture,Pn)),[ft,F,re.texture,jt,Te,Gt,xn,Re]);let De=1;return(0,P.A)(()=>{(xn===1/0||De<xn)&&(q.current.update(Re,F),De++)}),B.createElement(B.Fragment,null,(0,P.g)(B.createElement(B.Fragment,null,ft,B.createElement("cubeCamera",{ref:q,args:[he,rn,re]}),xe||we?B.createElement(ee,{background:!0,files:xe,preset:we,path:Ke,extensions:rt}):fn?B.createElement(At,{background:!0,map:fn,extensions:rt}):null),F))}function En(ft){var he,rn,Kt,xn;const fn=wt(ft),Gt=ft.map||fn;B.useMemo(()=>(0,P.e)({GroundProjectedEnvImpl:yt}),[]);const Pn=B.useMemo(()=>[Gt],[Gt]),jt=(he=ft.ground)==null?void 0:he.height,xe=(rn=ft.ground)==null?void 0:rn.radius,Ke=(Kt=(xn=ft.ground)==null?void 0:xn.scale)!==null&&Kt!==void 0?Kt:1e3;return B.createElement(B.Fragment,null,B.createElement(At,(0,b.Z)({},ft,{map:Gt})),B.createElement("groundProjectedEnvImpl",{args:Pn,scale:Ke,height:jt,radius:xe}))}function bn(ft){return ft.ground?B.createElement(En,ft):ft.map?B.createElement(At,ft):ft.children?B.createElement(zn,ft):B.createElement(ee,ft)}},23384:function(qt,Fe,j){"use strict";j.d(Fe,{z:function(){return gt}});var b=j(8864),B=j(63905),P=j(50959),Y=j(48119),Je=Object.defineProperty,yt=(ht,mt,At)=>mt in ht?Je(ht,mt,{enumerable:!0,configurable:!0,writable:!0,value:At}):ht[mt]=At,pe=(ht,mt,At)=>(yt(ht,typeof mt!="symbol"?mt+"":mt,At),At);const Ot=(ht,mt)=>(ht%mt+mt)%mt;class Ft extends Y.EventDispatcher{constructor(mt,At){super(),pe(this,"object"),pe(this,"domElement"),pe(this,"enabled",!0),pe(this,"target",new Y.Vector3),pe(this,"minDistance",0),pe(this,"maxDistance",1/0),pe(this,"minZoom",0),pe(this,"maxZoom",1/0),pe(this,"minPolarAngle",0),pe(this,"maxPolarAngle",Math.PI),pe(this,"minAzimuthAngle",-1/0),pe(this,"maxAzimuthAngle",1/0),pe(this,"enableDamping",!1),pe(this,"dampingFactor",.05),pe(this,"enableZoom",!0),pe(this,"zoomSpeed",1),pe(this,"enableRotate",!0),pe(this,"rotateSpeed",1),pe(this,"enablePan",!0),pe(this,"panSpeed",1),pe(this,"screenSpacePanning",!0),pe(this,"keyPanSpeed",7),pe(this,"autoRotate",!1),pe(this,"autoRotateSpeed",2),pe(this,"reverseOrbit",!1),pe(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),pe(this,"mouseButtons",{LEFT:Y.MOUSE.ROTATE,MIDDLE:Y.MOUSE.DOLLY,RIGHT:Y.MOUSE.PAN}),pe(this,"touches",{ONE:Y.TOUCH.ROTATE,TWO:Y.TOUCH.DOLLY_PAN}),pe(this,"target0"),pe(this,"position0"),pe(this,"zoom0"),pe(this,"_domElementKeyEvents",null),pe(this,"getPolarAngle"),pe(this,"getAzimuthalAngle"),pe(this,"setPolarAngle"),pe(this,"setAzimuthalAngle"),pe(this,"getDistance"),pe(this,"listenToKeyEvents"),pe(this,"saveState"),pe(this,"reset"),pe(this,"update"),pe(this,"connect"),pe(this,"dispose"),this.object=mt,this.domElement=At,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>Kt.phi,this.getAzimuthalAngle=()=>Kt.theta,this.setPolarAngle=oe=>{let We=Ot(oe,2*Math.PI),Tt=Kt.phi;Tt<0&&(Tt+=2*Math.PI),We<0&&(We+=2*Math.PI);let nn=Math.abs(We-Tt);2*Math.PI-nn<nn&&(We<Tt?We+=2*Math.PI:Tt+=2*Math.PI),xn.phi=We-Tt,ee.update()},this.setAzimuthalAngle=oe=>{let We=Ot(oe,2*Math.PI),Tt=Kt.theta;Tt<0&&(Tt+=2*Math.PI),We<0&&(We+=2*Math.PI);let nn=Math.abs(We-Tt);2*Math.PI-nn<nn&&(We<Tt?We+=2*Math.PI:Tt+=2*Math.PI),xn.theta=We-Tt,ee.update()},this.getDistance=()=>ee.object.position.distanceTo(ee.target),this.listenToKeyEvents=oe=>{oe.addEventListener("keydown",Xe),this._domElementKeyEvents=oe},this.saveState=()=>{ee.target0.copy(ee.target),ee.position0.copy(ee.object.position),ee.zoom0=ee.object.zoom},this.reset=()=>{ee.target.copy(ee.target0),ee.object.position.copy(ee.position0),ee.object.zoom=ee.zoom0,ee.object.updateProjectionMatrix(),ee.dispatchEvent(zn),ee.update(),he=ft.NONE},this.update=(()=>{const oe=new Y.Vector3,We=new Y.Quaternion().setFromUnitVectors(mt.up,new Y.Vector3(0,1,0)),Tt=We.clone().invert(),nn=new Y.Vector3,Zn=new Y.Quaternion,hr=2*Math.PI;return function(){const Li=ee.object.position;oe.copy(Li).sub(ee.target),oe.applyQuaternion(We),Kt.setFromVector3(oe),ee.autoRotate&&he===ft.NONE&&te(k()),ee.enableDamping?(Kt.theta+=xn.theta*ee.dampingFactor,Kt.phi+=xn.phi*ee.dampingFactor):(Kt.theta+=xn.theta,Kt.phi+=xn.phi);let Qr=ee.minAzimuthAngle,ri=ee.maxAzimuthAngle;return isFinite(Qr)&&isFinite(ri)&&(Qr<-Math.PI?Qr+=hr:Qr>Math.PI&&(Qr-=hr),ri<-Math.PI?ri+=hr:ri>Math.PI&&(ri-=hr),Qr<=ri?Kt.theta=Math.max(Qr,Math.min(ri,Kt.theta)):Kt.theta=Kt.theta>(Qr+ri)/2?Math.max(Qr,Kt.theta):Math.min(ri,Kt.theta)),Kt.phi=Math.max(ee.minPolarAngle,Math.min(ee.maxPolarAngle,Kt.phi)),Kt.makeSafe(),Kt.radius*=fn,Kt.radius=Math.max(ee.minDistance,Math.min(ee.maxDistance,Kt.radius)),ee.enableDamping===!0?ee.target.addScaledVector(Gt,ee.dampingFactor):ee.target.add(Gt),oe.setFromSpherical(Kt),oe.applyQuaternion(Tt),Li.copy(ee.target).add(oe),ee.object.lookAt(ee.target),ee.enableDamping===!0?(xn.theta*=1-ee.dampingFactor,xn.phi*=1-ee.dampingFactor,Gt.multiplyScalar(1-ee.dampingFactor)):(xn.set(0,0,0),Gt.set(0,0,0)),fn=1,Pn||nn.distanceToSquared(ee.object.position)>rn||8*(1-Zn.dot(ee.object.quaternion))>rn?(ee.dispatchEvent(zn),nn.copy(ee.object.position),Zn.copy(ee.object.quaternion),Pn=!1,!0):!1}})(),this.connect=oe=>{oe===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),ee.domElement=oe,ee.domElement.style.touchAction="none",ee.domElement.addEventListener("contextmenu",Nn),ee.domElement.addEventListener("pointerdown",yn),ee.domElement.addEventListener("pointercancel",Xr),ee.domElement.addEventListener("wheel",je)},this.dispose=()=>{var oe,We,Tt,nn,Zn,hr;(oe=ee.domElement)==null||oe.removeEventListener("contextmenu",Nn),(We=ee.domElement)==null||We.removeEventListener("pointerdown",yn),(Tt=ee.domElement)==null||Tt.removeEventListener("pointercancel",Xr),(nn=ee.domElement)==null||nn.removeEventListener("wheel",je),(Zn=ee.domElement)==null||Zn.ownerDocument.removeEventListener("pointermove",ur),(hr=ee.domElement)==null||hr.ownerDocument.removeEventListener("pointerup",jn),ee._domElementKeyEvents!==null&&ee._domElementKeyEvents.removeEventListener("keydown",Xe)};const ee=this,zn={type:"change"},En={type:"start"},bn={type:"end"},ft={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let he=ft.NONE;const rn=1e-6,Kt=new Y.Spherical,xn=new Y.Spherical;let fn=1;const Gt=new Y.Vector3;let Pn=!1;const jt=new Y.Vector2,xe=new Y.Vector2,Ke=new Y.Vector2,we=new Y.Vector2,rt=new Y.Vector2,Re=new Y.Vector2,Te=new Y.Vector2,q=new Y.Vector2,F=new Y.Vector2,re=[],De={};function k(){return 2*Math.PI/60/60*ee.autoRotateSpeed}function le(){return Math.pow(.95,ee.zoomSpeed)}function te(oe){ee.reverseOrbit?xn.theta+=oe:xn.theta-=oe}function ae(oe){ee.reverseOrbit?xn.phi+=oe:xn.phi-=oe}const Le=(()=>{const oe=new Y.Vector3;return function(Tt,nn){oe.setFromMatrixColumn(nn,0),oe.multiplyScalar(-Tt),Gt.add(oe)}})(),Ae=(()=>{const oe=new Y.Vector3;return function(Tt,nn){ee.screenSpacePanning===!0?oe.setFromMatrixColumn(nn,1):(oe.setFromMatrixColumn(nn,0),oe.crossVectors(ee.object.up,oe)),oe.multiplyScalar(Tt),Gt.add(oe)}})(),_e=(()=>{const oe=new Y.Vector3;return function(Tt,nn){const Zn=ee.domElement;if(Zn&&ee.object instanceof Y.PerspectiveCamera&&ee.object.isPerspectiveCamera){const hr=ee.object.position;oe.copy(hr).sub(ee.target);let Hr=oe.length();Hr*=Math.tan(ee.object.fov/2*Math.PI/180),Le(2*Tt*Hr/Zn.clientHeight,ee.object.matrix),Ae(2*nn*Hr/Zn.clientHeight,ee.object.matrix)}else Zn&&ee.object instanceof Y.OrthographicCamera&&ee.object.isOrthographicCamera?(Le(Tt*(ee.object.right-ee.object.left)/ee.object.zoom/Zn.clientWidth,ee.object.matrix),Ae(nn*(ee.object.top-ee.object.bottom)/ee.object.zoom/Zn.clientHeight,ee.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),ee.enablePan=!1)}})();function $e(oe){ee.object instanceof Y.PerspectiveCamera&&ee.object.isPerspectiveCamera?fn/=oe:ee.object instanceof Y.OrthographicCamera&&ee.object.isOrthographicCamera?(ee.object.zoom=Math.max(ee.minZoom,Math.min(ee.maxZoom,ee.object.zoom*oe)),ee.object.updateProjectionMatrix(),Pn=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),ee.enableZoom=!1)}function me(oe){ee.object instanceof Y.PerspectiveCamera&&ee.object.isPerspectiveCamera?fn*=oe:ee.object instanceof Y.OrthographicCamera&&ee.object.isOrthographicCamera?(ee.object.zoom=Math.max(ee.minZoom,Math.min(ee.maxZoom,ee.object.zoom/oe)),ee.object.updateProjectionMatrix(),Pn=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),ee.enableZoom=!1)}function Pt(oe){jt.set(oe.clientX,oe.clientY)}function kt(oe){Te.set(oe.clientX,oe.clientY)}function xt(oe){we.set(oe.clientX,oe.clientY)}function dt(oe){xe.set(oe.clientX,oe.clientY),Ke.subVectors(xe,jt).multiplyScalar(ee.rotateSpeed);const We=ee.domElement;We&&(te(2*Math.PI*Ke.x/We.clientHeight),ae(2*Math.PI*Ke.y/We.clientHeight)),jt.copy(xe),ee.update()}function ze(oe){q.set(oe.clientX,oe.clientY),F.subVectors(q,Te),F.y>0?$e(le()):F.y<0&&me(le()),Te.copy(q),ee.update()}function zt(oe){rt.set(oe.clientX,oe.clientY),Re.subVectors(rt,we).multiplyScalar(ee.panSpeed),_e(Re.x,Re.y),we.copy(rt),ee.update()}function un(oe){oe.deltaY<0?me(le()):oe.deltaY>0&&$e(le()),ee.update()}function Sn(oe){let We=!1;switch(oe.code){case ee.keys.UP:_e(0,ee.keyPanSpeed),We=!0;break;case ee.keys.BOTTOM:_e(0,-ee.keyPanSpeed),We=!0;break;case ee.keys.LEFT:_e(ee.keyPanSpeed,0),We=!0;break;case ee.keys.RIGHT:_e(-ee.keyPanSpeed,0),We=!0;break}We&&(oe.preventDefault(),ee.update())}function Yt(){if(re.length==1)jt.set(re[0].pageX,re[0].pageY);else{const oe=.5*(re[0].pageX+re[1].pageX),We=.5*(re[0].pageY+re[1].pageY);jt.set(oe,We)}}function Tn(){if(re.length==1)we.set(re[0].pageX,re[0].pageY);else{const oe=.5*(re[0].pageX+re[1].pageX),We=.5*(re[0].pageY+re[1].pageY);we.set(oe,We)}}function an(){const oe=re[0].pageX-re[1].pageX,We=re[0].pageY-re[1].pageY,Tt=Math.sqrt(oe*oe+We*We);Te.set(0,Tt)}function An(){ee.enableZoom&&an(),ee.enablePan&&Tn()}function Rr(){ee.enableZoom&&an(),ee.enableRotate&&Yt()}function qr(oe){if(re.length==1)xe.set(oe.pageX,oe.pageY);else{const Tt=ut(oe),nn=.5*(oe.pageX+Tt.x),Zn=.5*(oe.pageY+Tt.y);xe.set(nn,Zn)}Ke.subVectors(xe,jt).multiplyScalar(ee.rotateSpeed);const We=ee.domElement;We&&(te(2*Math.PI*Ke.x/We.clientHeight),ae(2*Math.PI*Ke.y/We.clientHeight)),jt.copy(xe)}function _t(oe){if(re.length==1)rt.set(oe.pageX,oe.pageY);else{const We=ut(oe),Tt=.5*(oe.pageX+We.x),nn=.5*(oe.pageY+We.y);rt.set(Tt,nn)}Re.subVectors(rt,we).multiplyScalar(ee.panSpeed),_e(Re.x,Re.y),we.copy(rt)}function Lt(oe){const We=ut(oe),Tt=oe.pageX-We.x,nn=oe.pageY-We.y,Zn=Math.sqrt(Tt*Tt+nn*nn);q.set(0,Zn),F.set(0,Math.pow(q.y/Te.y,ee.zoomSpeed)),$e(F.y),Te.copy(q)}function Qt(oe){ee.enableZoom&&Lt(oe),ee.enablePan&&_t(oe)}function ln(oe){ee.enableZoom&&Lt(oe),ee.enableRotate&&qr(oe)}function yn(oe){var We,Tt;ee.enabled!==!1&&(re.length===0&&((We=ee.domElement)==null||We.ownerDocument.addEventListener("pointermove",ur),(Tt=ee.domElement)==null||Tt.ownerDocument.addEventListener("pointerup",jn)),wn(oe),oe.pointerType==="touch"?Ye(oe):Jn(oe))}function ur(oe){ee.enabled!==!1&&(oe.pointerType==="touch"?Nt(oe):ge(oe))}function jn(oe){var We,Tt,nn;Bt(oe),re.length===0&&((We=ee.domElement)==null||We.releasePointerCapture(oe.pointerId),(Tt=ee.domElement)==null||Tt.ownerDocument.removeEventListener("pointermove",ur),(nn=ee.domElement)==null||nn.ownerDocument.removeEventListener("pointerup",jn)),ee.dispatchEvent(bn),he=ft.NONE}function Xr(oe){Bt(oe)}function Jn(oe){let We;switch(oe.button){case 0:We=ee.mouseButtons.LEFT;break;case 1:We=ee.mouseButtons.MIDDLE;break;case 2:We=ee.mouseButtons.RIGHT;break;default:We=-1}switch(We){case Y.MOUSE.DOLLY:if(ee.enableZoom===!1)return;kt(oe),he=ft.DOLLY;break;case Y.MOUSE.ROTATE:if(oe.ctrlKey||oe.metaKey||oe.shiftKey){if(ee.enablePan===!1)return;xt(oe),he=ft.PAN}else{if(ee.enableRotate===!1)return;Pt(oe),he=ft.ROTATE}break;case Y.MOUSE.PAN:if(oe.ctrlKey||oe.metaKey||oe.shiftKey){if(ee.enableRotate===!1)return;Pt(oe),he=ft.ROTATE}else{if(ee.enablePan===!1)return;xt(oe),he=ft.PAN}break;default:he=ft.NONE}he!==ft.NONE&&ee.dispatchEvent(En)}function ge(oe){if(ee.enabled!==!1)switch(he){case ft.ROTATE:if(ee.enableRotate===!1)return;dt(oe);break;case ft.DOLLY:if(ee.enableZoom===!1)return;ze(oe);break;case ft.PAN:if(ee.enablePan===!1)return;zt(oe);break}}function je(oe){ee.enabled===!1||ee.enableZoom===!1||he!==ft.NONE&&he!==ft.ROTATE||(oe.preventDefault(),ee.dispatchEvent(En),un(oe),ee.dispatchEvent(bn))}function Xe(oe){ee.enabled===!1||ee.enablePan===!1||Sn(oe)}function Ye(oe){switch(Vt(oe),re.length){case 1:switch(ee.touches.ONE){case Y.TOUCH.ROTATE:if(ee.enableRotate===!1)return;Yt(),he=ft.TOUCH_ROTATE;break;case Y.TOUCH.PAN:if(ee.enablePan===!1)return;Tn(),he=ft.TOUCH_PAN;break;default:he=ft.NONE}break;case 2:switch(ee.touches.TWO){case Y.TOUCH.DOLLY_PAN:if(ee.enableZoom===!1&&ee.enablePan===!1)return;An(),he=ft.TOUCH_DOLLY_PAN;break;case Y.TOUCH.DOLLY_ROTATE:if(ee.enableZoom===!1&&ee.enableRotate===!1)return;Rr(),he=ft.TOUCH_DOLLY_ROTATE;break;default:he=ft.NONE}break;default:he=ft.NONE}he!==ft.NONE&&ee.dispatchEvent(En)}function Nt(oe){switch(Vt(oe),he){case ft.TOUCH_ROTATE:if(ee.enableRotate===!1)return;qr(oe),ee.update();break;case ft.TOUCH_PAN:if(ee.enablePan===!1)return;_t(oe),ee.update();break;case ft.TOUCH_DOLLY_PAN:if(ee.enableZoom===!1&&ee.enablePan===!1)return;Qt(oe),ee.update();break;case ft.TOUCH_DOLLY_ROTATE:if(ee.enableZoom===!1&&ee.enableRotate===!1)return;ln(oe),ee.update();break;default:he=ft.NONE}}function Nn(oe){ee.enabled!==!1&&oe.preventDefault()}function wn(oe){re.push(oe)}function Bt(oe){delete De[oe.pointerId];for(let We=0;We<re.length;We++)if(re[We].pointerId==oe.pointerId){re.splice(We,1);return}}function Vt(oe){let We=De[oe.pointerId];We===void 0&&(We=new Y.Vector2,De[oe.pointerId]=We),We.set(oe.pageX,oe.pageY)}function ut(oe){const We=oe.pointerId===re[0].pointerId?re[1]:re[0];return De[We.pointerId]}At!==void 0&&this.connect(At),this.update()}}class wt extends null{constructor(mt,At){super(mt,At),this.screenSpacePanning=!1,this.mouseButtons.LEFT=MOUSE.PAN,this.mouseButtons.RIGHT=MOUSE.ROTATE,this.touches.ONE=TOUCH.PAN,this.touches.TWO=TOUCH.DOLLY_ROTATE}}const gt=P.forwardRef((Kt,rn)=>{var xn=Kt,{makeDefault:ht,camera:mt,regress:At,domElement:ee,enableDamping:zn=!0,onChange:En,onStart:bn,onEnd:ft}=xn,he=ls(xn,["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"]);const fn=(0,B.z)(F=>F.invalidate),Gt=(0,B.z)(F=>F.camera),Pn=(0,B.z)(F=>F.gl),jt=(0,B.z)(F=>F.events),xe=(0,B.z)(F=>F.setEvents),Ke=(0,B.z)(F=>F.set),we=(0,B.z)(F=>F.get),rt=(0,B.z)(F=>F.performance),Re=mt||Gt,Te=ee||jt.connected||Pn.domElement,q=P.useMemo(()=>new Ft(Re),[Re]);return(0,B.A)(()=>{q.enabled&&q.update()},-1),P.useEffect(()=>(q.connect(Te),()=>void q.dispose()),[Te,At,q,fn]),P.useEffect(()=>{const F=k=>{fn(),At&&rt.regress(),En&&En(k)},re=k=>{bn&&bn(k)},De=k=>{ft&&ft(k)};return q.addEventListener("change",F),q.addEventListener("start",re),q.addEventListener("end",De),()=>{q.removeEventListener("start",re),q.removeEventListener("end",De),q.removeEventListener("change",F)}},[En,bn,ft,q,fn,xe]),P.useEffect(()=>{if(ht){const F=we().controls;return Ke({controls:q}),()=>Ke({controls:F})}},[ht,q]),P.createElement("primitive",(0,b.Z)({ref:rn,object:q,enableDamping:zn},he))})},46906:function(qt,Fe,j){"use strict";j.d(Fe,{H:function(){return Pn}});var b=j(8864),B=j(50959),P=j(10495),Y=j(48119),Je=j(63905);const yt={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},pe={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `},Ot=B.forwardRef((ae,te)=>{var Le=ae,{scale:jt=10,frames:xe=1/0,opacity:Ke=1,width:we=1,height:rt=1,blur:Re=1,far:Te=10,resolution:q=512,smooth:F=!0,color:re="#000000",depthWrite:De=!1,renderOrder:k}=Le,le=ls(Le,["scale","frames","opacity","width","height","blur","far","resolution","smooth","color","depthWrite","renderOrder"]);const Ae=B.useRef(null),_e=(0,Je.z)(An=>An.scene),$e=(0,Je.z)(An=>An.gl),me=B.useRef(null);we=we*(Array.isArray(jt)?jt[0]:jt||1),rt=rt*(Array.isArray(jt)?jt[1]:jt||1);const[Pt,kt,xt,dt,ze,zt,un]=B.useMemo(()=>{const An=new Y.WebGLRenderTarget(q,q),Rr=new Y.WebGLRenderTarget(q,q);Rr.texture.generateMipmaps=An.texture.generateMipmaps=!1;const qr=new Y.PlaneGeometry(we,rt).rotateX(Math.PI/2),_t=new Y.Mesh(qr),Lt=new Y.MeshDepthMaterial;Lt.depthTest=Lt.depthWrite=!1,Lt.onBeforeCompile=yn=>{yn.uniforms=Kr(Rt({},yn.uniforms),{ucolor:{value:new Y.Color(re)}}),yn.fragmentShader=yn.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),yn.fragmentShader=yn.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const Qt=new Y.ShaderMaterial(yt),ln=new Y.ShaderMaterial(pe);return ln.depthTest=Qt.depthTest=!1,[An,qr,Lt,_t,Qt,ln,Rr]},[q,we,rt,jt,re]),Sn=An=>{dt.visible=!0,dt.material=ze,ze.uniforms.tDiffuse.value=Pt.texture,ze.uniforms.h.value=An*1/256,$e.setRenderTarget(un),$e.render(dt,me.current),dt.material=zt,zt.uniforms.tDiffuse.value=un.texture,zt.uniforms.v.value=An*1/256,$e.setRenderTarget(Pt),$e.render(dt,me.current),dt.visible=!1};let Yt=0,Tn,an;return(0,Je.A)(()=>{me.current&&(xe===1/0||Yt<xe)&&(Yt++,Tn=_e.background,an=_e.overrideMaterial,Ae.current.visible=!1,_e.background=null,_e.overrideMaterial=xt,$e.setRenderTarget(Pt),$e.render(_e,me.current),Sn(Re),F&&Sn(Re*.4),$e.setRenderTarget(null),Ae.current.visible=!0,_e.overrideMaterial=an,_e.background=Tn)}),B.useImperativeHandle(te,()=>Ae.current,[]),B.createElement("group",(0,b.Z)({"rotation-x":Math.PI/2},le,{ref:Ae}),B.createElement("mesh",{renderOrder:k,geometry:kt,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},B.createElement("meshBasicMaterial",{transparent:!0,map:Pt.texture,opacity:Ke,depthWrite:De})),B.createElement("orthographicCamera",{ref:me,args:[-we/2,we/2,rt/2,-rt/2,0,Te]}))}),Ft=B.forwardRef(function(_e,Ae){var $e=_e,{children:xe,disable:Ke,disableX:we,disableY:rt,disableZ:Re,left:Te,right:q,top:F,bottom:re,front:De,back:k,onCentered:le,precise:te=!0,cacheKey:ae=0}=$e,Le=ls($e,["children","disable","disableX","disableY","disableZ","left","right","top","bottom","front","back","onCentered","precise","cacheKey"]);const me=B.useRef(null),Pt=B.useRef(null),kt=B.useRef(null);return B.useLayoutEffect(()=>{Pt.current.matrixWorld.identity();const xt=new Y.Box3().setFromObject(kt.current,te),dt=new Y.Vector3,ze=new Y.Sphere,zt=xt.max.x-xt.min.x,un=xt.max.y-xt.min.y,Sn=xt.max.z-xt.min.z;xt.getCenter(dt),xt.getBoundingSphere(ze);const Yt=F?un/2:re?-un/2:0,Tn=Te?-zt/2:q?zt/2:0,an=De?Sn/2:k?-Sn/2:0;Pt.current.position.set(Ke||we?0:-dt.x+Tn,Ke||rt?0:-dt.y+Yt,Ke||Re?0:-dt.z+an),typeof le!="undefined"&&le({parent:me.current.parent,container:me.current,width:zt,height:un,depth:Sn,boundingBox:xt,boundingSphere:ze,center:dt,verticalAlignment:Yt,horizontalAlignment:Tn,depthAlignment:an})},[ae,le,F,Te,De,Ke,we,rt,Re,te,q,re,k]),B.useImperativeHandle(Ae,()=>me.current,[]),B.createElement("group",(0,b.Z)({ref:me},Le),B.createElement("group",{ref:Pt},B.createElement("group",{ref:kt},xe)))});function wt(jt,xe,Ke,we){const rt=class extends Y.ShaderMaterial{constructor(Te={}){const q=Object.entries(jt);super({uniforms:q.reduce((F,[re,De])=>{const k=Y.UniformsUtils.clone({[re]:{value:De}});return Rt(Rt({},F),k)},{}),vertexShader:xe,fragmentShader:Ke}),this.key="",q.forEach(([F])=>Object.defineProperty(this,F,{get:()=>this.uniforms[F].value,set:re=>this.uniforms[F].value=re})),Object.assign(this,Te),we&&we(this)}};return rt.key=Y.MathUtils.generateUUID(),rt}const gt=wt({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }");function ht(jt){return jt.isLight}function mt(jt){return!!jt.geometry}const At=B.createContext(null),ee=wt({color:new Y.Color,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <encodings_fragment>
   }`),zn=B.forwardRef((ae,te)=>{var Le=ae,{children:jt,temporal:xe,frames:Ke=40,limit:we=1/0,blend:rt=20,scale:Re=10,opacity:Te=1,alphaTest:q=.75,color:F="black",colorBlend:re=2,resolution:De=1024,toneMapped:k=!0}=Le,le=ls(Le,["children","temporal","frames","limit","blend","scale","opacity","alphaTest","color","colorBlend","resolution","toneMapped"]);(0,Je.e)({SoftShadowMaterial:ee});const Ae=(0,Je.z)(ze=>ze.gl),_e=(0,Je.z)(ze=>ze.scene),$e=(0,Je.z)(ze=>ze.camera),me=(0,Je.z)(ze=>ze.invalidate),Pt=B.useRef(null),kt=B.useRef(null),[xt]=B.useState(()=>new bn(Ae,_e,De));B.useLayoutEffect(()=>{xt.configure(Pt.current)},[]);const dt=B.useMemo(()=>({lights:new Map,temporal:!!xe,frames:Math.max(2,Ke),blend:Math.max(2,Ke===1/0?rt:Ke),count:0,getMesh:()=>Pt.current,reset:()=>{xt.clear();const ze=Pt.current.material;ze.opacity=0,ze.alphaTest=0,dt.count=0},update:(ze=1)=>{const zt=Pt.current.material;dt.temporal?(zt.opacity=Math.min(Te,zt.opacity+Te/dt.blend),zt.alphaTest=Math.min(q,zt.alphaTest+q/dt.blend)):(zt.opacity=Te,zt.alphaTest=q),kt.current.visible=!0,xt.prepare();for(let un=0;un<ze;un++)dt.lights.forEach(Sn=>Sn.update()),xt.update($e,dt.blend);kt.current.visible=!1,xt.finish()}}),[xt,$e,_e,xe,Ke,rt,Te,q]);return B.useLayoutEffect(()=>{dt.reset(),!dt.temporal&&dt.frames!==1/0&&dt.update(dt.blend)}),B.useImperativeHandle(te,()=>dt,[dt]),(0,Je.A)(()=>{(dt.temporal||dt.frames===1/0)&&dt.count<dt.frames&&dt.count<we&&(me(),dt.update(),dt.count++)}),B.createElement("group",le,B.createElement("group",{traverse:()=>null,ref:kt},B.createElement(At.Provider,{value:dt},jt)),B.createElement("mesh",{receiveShadow:!0,ref:Pt,scale:Re,rotation:[-Math.PI/2,0,0]},B.createElement("planeGeometry",null),B.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:k,color:F,blend:re,map:xt.progressiveLightMap2.texture})))}),En=B.forwardRef((ae,te)=>{var Le=ae,{castShadow:jt=!0,bias:xe=.001,mapSize:Ke=512,size:we=5,near:rt=.5,far:Re=500,frames:Te=1,position:q=[0,0,0],radius:F=1,amount:re=8,intensity:De=1,ambient:k=.5}=Le,le=ls(Le,["castShadow","bias","mapSize","size","near","far","frames","position","radius","amount","intensity","ambient"]);const Ae=B.useRef(null),_e=new Y.Vector3(...q).length(),$e=B.useContext(At),me=B.useCallback(()=>{let kt;if(Ae.current)for(let xt=0;xt<Ae.current.children.length;xt++)if(kt=Ae.current.children[xt],Math.random()>k)kt.position.set(q[0]+Y.MathUtils.randFloatSpread(F),q[1]+Y.MathUtils.randFloatSpread(F),q[2]+Y.MathUtils.randFloatSpread(F));else{let dt=Math.acos(2*Math.random()-1)-Math.PI/2,ze=2*Math.PI*Math.random();kt.position.set(Math.cos(dt)*Math.cos(ze)*_e,Math.abs(Math.cos(dt)*Math.sin(ze)*_e),Math.sin(dt)*_e)}},[F,k,_e,...q]),Pt=B.useMemo(()=>({update:me}),[me]);return B.useImperativeHandle(te,()=>Pt,[Pt]),B.useLayoutEffect(()=>{const kt=Ae.current;return $e&&$e.lights.set(kt.uuid,Pt),()=>void $e.lights.delete(kt.uuid)},[$e,Pt]),B.createElement("group",(0,b.Z)({ref:Ae},le),Array.from({length:re},(kt,xt)=>B.createElement("directionalLight",{key:xt,castShadow:jt,"shadow-bias":xe,"shadow-mapSize":[Ke,Ke],intensity:De/re},B.createElement("orthographicCamera",{attach:"shadow-camera",args:[-we,we,we,-we,rt,Re]}))))});class bn{constructor(xe,Ke,we=1024){this.renderer=xe,this.res=we,this.scene=Ke,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new Y.Color,this.clearAlpha=0;const rt=/(Android|iPad|iPhone|iPod)/g.test(navigator.userAgent)?Y.HalfFloatType:Y.FloatType;this.progressiveLightMap1=new Y.WebGLRenderTarget(this.res,this.res,{type:rt}),this.progressiveLightMap2=new Y.WebGLRenderTarget(this.res,this.res,{type:rt}),this.discardMat=new gt,this.targetMat=new Y.MeshLambertMaterial({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=Re=>{Re.vertexShader=`varying vec2 vUv;
`+Re.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";const Te=Re.fragmentShader.indexOf("void main() {");Re.fragmentShader=`varying vec2 vUv;
`+Re.fragmentShader.slice(0,Te)+`uniform sampler2D previousShadowMap;
	uniform float averagingWindow;
`+Re.fragmentShader.slice(Te-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,Re.uniforms.previousShadowMap=this.previousShadowMap,Re.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(xe=>{mt(xe)?this.meshes.push({object:xe,material:xe.material}):ht(xe)&&this.lights.push({object:xe,intensity:xe.intensity})})}prepare(){this.lights.forEach(xe=>xe.object.intensity=0),this.meshes.forEach(xe=>xe.object.material=this.discardMat)}finish(){this.lights.forEach(xe=>xe.object.intensity=xe.intensity),this.meshes.forEach(xe=>xe.object.material=xe.material)}configure(xe){this.object=xe}update(xe,Ke=100){if(!this.object)return;this.averagingWindow.value=Ke,this.object.material=this.targetMat;const we=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,rt=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,Re=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(we),this.previousShadowMap.value=rt.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,xe),this.renderer.setRenderTarget(null),this.scene.background=Re}}const ft=jt=>jt&&jt.isOrthographicCamera,he=jt=>jt&&jt.isBox3,rn=B.createContext(null);function Kt({children:jt,damping:xe=6,fit:Ke,clip:we,observe:rt,margin:Re=1.2,eps:Te=.01,onFit:q}){const F=B.useRef(null),{camera:re,invalidate:De,size:k,controls:le}=(0,Je.z)(),te=le,ae=B.useRef(q);ae.current=q;function Le(xt,dt){return Math.abs(xt.x-dt.x)<Te&&Math.abs(xt.y-dt.y)<Te&&Math.abs(xt.z-dt.z)<Te}function Ae(xt,dt,ze,zt){xt.x=Y.MathUtils.damp(xt.x,dt.x,ze,zt),xt.y=Y.MathUtils.damp(xt.y,dt.y,ze,zt),xt.z=Y.MathUtils.damp(xt.z,dt.z,ze,zt)}const[_e]=B.useState(()=>({animating:!1,focus:new Y.Vector3,camera:new Y.Vector3,zoom:1})),[$e]=B.useState(()=>({focus:new Y.Vector3,camera:new Y.Vector3,zoom:1})),[me]=B.useState(()=>new Y.Box3),Pt=B.useMemo(()=>{function xt(){const dt=me.getSize(new Y.Vector3),ze=me.getCenter(new Y.Vector3),zt=Math.max(dt.x,dt.y,dt.z),un=ft(re)?zt*4:zt/(2*Math.atan(Math.PI*re.fov/360)),Sn=ft(re)?zt*4:un/re.aspect,Yt=Re*Math.max(un,Sn);return{box:me,size:dt,center:ze,distance:Yt}}return{getSize:xt,refresh(dt){if(he(dt))me.copy(dt);else{const ze=dt||F.current;ze.updateWorldMatrix(!0,!0),me.setFromObject(ze)}if(me.isEmpty()){const ze=re.position.length()||10;me.setFromCenterAndSize(new Y.Vector3,new Y.Vector3(ze,ze,ze))}if((te==null?void 0:te.constructor.name)==="OrthographicTrackballControls"){const{distance:ze}=xt(),zt=re.position.clone().sub(te.target).normalize().multiplyScalar(ze),un=te.target.clone().add(zt);re.position.copy(un)}return this},clip(){const{distance:dt}=xt();return te&&(te.maxDistance=dt*10),re.near=dt/100,re.far=dt*100,re.updateProjectionMatrix(),te&&te.update(),De(),this},to({position:dt,target:ze}){_e.camera.copy(re.position);const{center:zt}=xt();return $e.camera.set(...dt),ze?$e.focus.set(...ze):$e.focus.copy(zt),xe?_e.animating=!0:re.position.set(...dt),this},fit(){_e.camera.copy(re.position),te&&_e.focus.copy(te.target);const{center:dt,distance:ze}=xt(),zt=dt.clone().sub(re.position).normalize().multiplyScalar(ze);if($e.camera.copy(dt).sub(zt),$e.focus.copy(dt),ft(re)){_e.zoom=re.zoom;let un=0,Sn=0;const Yt=[new Y.Vector3(me.min.x,me.min.y,me.min.z),new Y.Vector3(me.min.x,me.max.y,me.min.z),new Y.Vector3(me.min.x,me.min.y,me.max.z),new Y.Vector3(me.min.x,me.max.y,me.max.z),new Y.Vector3(me.max.x,me.max.y,me.max.z),new Y.Vector3(me.max.x,me.max.y,me.min.z),new Y.Vector3(me.max.x,me.min.y,me.max.z),new Y.Vector3(me.max.x,me.min.y,me.min.z)];dt.applyMatrix4(re.matrixWorldInverse);for(const An of Yt)An.applyMatrix4(re.matrixWorldInverse),un=Math.max(un,Math.abs(An.y-dt.y)),Sn=Math.max(Sn,Math.abs(An.x-dt.x));un*=2,Sn*=2;const Tn=(re.top-re.bottom)/un,an=(re.right-re.left)/Sn;$e.zoom=Math.min(Tn,an)/Re,xe||(re.zoom=$e.zoom,re.updateProjectionMatrix())}return xe?_e.animating=!0:(re.position.copy($e.camera),re.lookAt($e.focus),te&&(te.target.copy($e.focus),te.update())),ae.current&&ae.current(this.getSize()),De(),this}}},[me,re,te,Re,xe,De]);B.useLayoutEffect(()=>{if(te){const xt=()=>_e.animating=!1;return te.addEventListener("start",xt),()=>te.removeEventListener("start",xt)}},[te]);const kt=B.useRef(0);return B.useLayoutEffect(()=>{(rt||kt.current++===0)&&(Pt.refresh(),Ke&&Pt.fit(),we&&Pt.clip())},[k,we,Ke,rt,re,te]),(0,Je.A)((xt,dt)=>{if(_e.animating){if(Ae(_e.focus,$e.focus,xe,dt),Ae(_e.camera,$e.camera,xe,dt),_e.zoom=Y.MathUtils.damp(_e.zoom,$e.zoom,xe,dt),re.position.copy(_e.camera),ft(re)&&(re.zoom=_e.zoom,re.updateProjectionMatrix()),te?(te.target.copy(_e.focus),te.update()):re.lookAt(_e.focus),De(),ft(re)&&!(Math.abs(_e.zoom-$e.zoom)<Te)||!ft(re)&&!Le(_e.camera,$e.camera)||te&&!Le(_e.focus,$e.focus))return;_e.animating=!1}}),B.createElement("group",{ref:F},B.createElement(rn.Provider,{value:Pt},jt))}function xn(){return B.useContext(rn)}const fn={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function Gt({radius:jt,adjustCamera:xe}){const Ke=xn();return B.useEffect(()=>{xe&&Ke.refresh().clip().fit()},[jt,xe]),null}function Pn(F){var re=F,{children:jt,center:xe,adjustCamera:Ke=!0,intensity:we=.5,shadows:rt="contact",environment:Re="city",preset:Te="rembrandt"}=re,q=ls(re,["children","center","adjustCamera","intensity","shadows","environment","preset"]);var De,k,le,te,ae,Le,Ae,_e;const $e=typeof Te=="string"?fn[Te]:Te,[{radius:me,height:Pt},kt]=B.useState({radius:0,width:0,height:0,depth:0}),xt=(De=rt==null?void 0:rt.bias)!==null&&De!==void 0?De:-1e-4,dt=(k=rt==null?void 0:rt.normalBias)!==null&&k!==void 0?k:0,ze=(le=rt==null?void 0:rt.size)!==null&&le!==void 0?le:1024,zt=(te=rt==null?void 0:rt.offset)!==null&&te!==void 0?te:0,un=rt==="contact"||(rt==null?void 0:rt.type)==="contact",Sn=rt==="accumulative"||(rt==null?void 0:rt.type)==="accumulative",Yt=Rt({},typeof rt=="object"?rt:{}),Tn=Re?typeof Re=="string"?{preset:Re}:Re:null,an=B.useCallback(An=>{const{width:Rr,height:qr,depth:_t,boundingSphere:Lt}=An;kt({radius:Lt.radius,width:Rr,height:qr,depth:_t}),xe!=null&&xe.onCentered&&xe.onCentered(An)},[]);return B.createElement(B.Fragment,null,B.createElement("ambientLight",{intensity:we/3}),B.createElement("spotLight",{penumbra:1,position:[$e.main[0]*me,$e.main[1]*me,$e.main[2]*me],intensity:we*2,castShadow:!!rt,"shadow-bias":xt,"shadow-normalBias":dt,"shadow-mapSize":ze}),B.createElement("pointLight",{position:[$e.fill[0]*me,$e.fill[1]*me,$e.fill[2]*me],intensity:we}),B.createElement(Kt,(0,b.Z)({fit:!!Ke,clip:!!Ke,margin:Number(Ke),observe:!0},q),B.createElement(Gt,{radius:me,adjustCamera:Ke}),B.createElement(Ft,(0,b.Z)({},xe,{position:[0,zt/2,0],onCentered:an}),jt)),B.createElement("group",{position:[0,-Pt/2-zt/2,0]},un&&B.createElement(Ot,(0,b.Z)({scale:me*4,far:me,blur:2},Yt)),Sn&&B.createElement(zn,(0,b.Z)({temporal:!0,frames:100,alphaTest:.9,toneMapped:!0,scale:me*4},Yt),B.createElement(En,{amount:(ae=Yt.amount)!==null&&ae!==void 0?ae:8,radius:(Le=Yt.radius)!==null&&Le!==void 0?Le:me,ambient:(Ae=Yt.ambient)!==null&&Ae!==void 0?Ae:.5,intensity:(_e=Yt.intensity)!==null&&_e!==void 0?_e:1,position:[$e.main[0]*me,$e.main[1]*me,$e.main[2]*me],size:me*4,bias:-xt,mapSize:ze}))),Re&&B.createElement(P.qA,Tn))}},63905:function(qt,Fe,j){"use strict";j.d(Fe,{A:function(){return Ye},B:function(){return jt},D:function(){return wn},E:function(){return xe},a:function(){return Gt},b:function(){return hr},c:function(){return ze},d:function(){return Qr},e:function(){return En},g:function(){return ri},i:function(){return fn},u:function(){return Pn},z:function(){return Xe}});var b=j(48119),B=j(50959),P=j(85259),Y=j(31171),Je=j(97427),yt=j.n(Je),pe=j(65297);function Ot(R,H,S=(T,Q)=>T===Q){if(R===H)return!0;if(!R||!H)return!1;const T=R.length;if(H.length!==T)return!1;for(let Q=0;Q<T;Q++)if(!S(R[Q],H[Q]))return!1;return!0}const Ft=[];function wt(R,H,S=!1,T={}){for(const se of Ft)if(Ot(H,se.keys,se.equal)){if(S)return;if(Object.prototype.hasOwnProperty.call(se,"error"))throw se.error;if(Object.prototype.hasOwnProperty.call(se,"response"))return se.response;if(!S)throw se.promise}const Q={keys:H,equal:T.equal,promise:R(...H).then(se=>Q.response=se).then(()=>{T.lifespan&&T.lifespan>0&&setTimeout(()=>{const se=Ft.indexOf(Q);se!==-1&&Ft.splice(se,1)},T.lifespan)}).catch(se=>Q.error=se)};if(Ft.push(Q),!S)throw Q.promise}const gt=(R,H,S)=>wt(R,H,!1,S),ht=(R,H,S)=>void wt(R,H,!0,S),mt=R=>{var H;return(H=Ft.find(S=>Ot(R,S.keys,S.equal)))==null?void 0:H.response},At=R=>{if(R===void 0||R.length===0)Ft.splice(0,Ft.length);else{const H=Ft.find(S=>Ot(R,S.keys,S.equal));if(H){const S=Ft.indexOf(H);S!==-1&&Ft.splice(S,1)}}};var ee=Object.freeze({__proto__:null});const zn={},En=R=>void Object.assign(zn,R);function bn(R,H){function S(He,ke,be){var Ve=ke,{args:Be=[],attach:bt}=Ve,Ce=ls(Ve,["args","attach"]);let et=`${He[0].toUpperCase()}${He.slice(1)}`,Qe;if(He==="primitive"){if(Ce.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const Ct=Ce.object;Qe=De(Ct,{type:He,root:be,attach:bt,primitive:!0})}else{const Ct=zn[et];if(!Ct)throw new Error(`R3F: ${et} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(Be))throw new Error("R3F: The args prop must be an array!");Qe=De(new Ct(...Be),{type:He,root:be,attach:bt,memoizedProps:{args:Be}})}return Qe.__r3f.attach===void 0&&(Qe instanceof b.BufferGeometry?Qe.__r3f.attach="geometry":Qe instanceof b.Material&&(Qe.__r3f.attach="material")),et!=="inject"&&Ae(Qe,Ce),Qe}function T(He,Be){let bt=!1;if(Be){var Ce,be;(Ce=Be.__r3f)!=null&&Ce.attach?te(He,Be,Be.__r3f.attach):Be.isObject3D&&He.isObject3D&&(He.add(Be),bt=!0),bt||(be=He.__r3f)==null||be.objects.push(Be),Be.__r3f||De(Be,{}),Be.__r3f.parent=He,$e(Be),_e(Be)}}function Q(He,Be,bt){let Ce=!1;if(Be){var be,ke;if((be=Be.__r3f)!=null&&be.attach)te(He,Be,Be.__r3f.attach);else if(Be.isObject3D&&He.isObject3D){Be.parent=He,Be.dispatchEvent({type:"added"});const Ve=He.children.filter(Qe=>Qe!==Be),et=Ve.indexOf(bt);He.children=[...Ve.slice(0,et),Be,...Ve.slice(et)],Ce=!0}Ce||(ke=He.__r3f)==null||ke.objects.push(Be),Be.__r3f||De(Be,{}),Be.__r3f.parent=He,$e(Be),_e(Be)}}function se(He,Be,bt=!1){He&&[...He].forEach(Ce=>Ze(Be,Ce,bt))}function Ze(He,Be,bt){if(Be){var Ce,be,ke;if(Be.__r3f&&(Be.__r3f.parent=null),(Ce=He.__r3f)!=null&&Ce.objects&&(He.__r3f.objects=He.__r3f.objects.filter(cn=>cn!==Be)),(be=Be.__r3f)!=null&&be.attach)ae(He,Be,Be.__r3f.attach);else if(Be.isObject3D&&He.isObject3D){var Ve;He.remove(Be),(Ve=Be.__r3f)!=null&&Ve.root&&dt(Be.__r3f.root,Be)}const Qe=(ke=Be.__r3f)==null?void 0:ke.primitive,Ct=bt===void 0?Be.dispose!==null&&!Qe:bt;if(!Qe){var et;se((et=Be.__r3f)==null?void 0:et.objects,Be,Ct),se(Be.children,Be,Ct)}Be.__r3f&&(delete Be.__r3f.root,delete Be.__r3f.objects,delete Be.__r3f.handlers,delete Be.__r3f.memoizedProps,Qe||delete Be.__r3f),Ct&&Be.dispose&&Be.type!=="Scene"&&(0,pe.unstable_scheduleCallback)(pe.unstable_IdlePriority,()=>{try{Be.dispose()}catch(cn){}}),_e(He)}}function st(He,Be,bt,Ce){var be;const ke=(be=He.__r3f)==null?void 0:be.parent;if(!ke)return;const Ve=S(Be,bt,He.__r3f.root);if(He.children){for(const et of He.children)et.__r3f&&T(Ve,et);He.children=He.children.filter(et=>!et.__r3f)}He.__r3f.objects.forEach(et=>T(Ve,et)),He.__r3f.objects=[],He.__r3f.autoRemovedBeforeAppend||Ze(ke,He),Ve.parent&&(Ve.__r3f.autoRemovedBeforeAppend=!0),T(ke,Ve),Ve.raycast&&Ve.__r3f.eventCount&&Ve.__r3f.root.getState().internal.interaction.push(Ve),[Ce,Ce.alternate].forEach(et=>{et!==null&&(et.stateNode=Ve,et.ref&&(typeof et.ref=="function"?et.ref(Ve):et.ref.current=Ve))})}const qe=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:yt()({createInstance:S,removeChild:Ze,appendChild:T,appendInitialChild:T,insertBefore:Q,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(He,Be)=>{if(!Be)return;const bt=He.getState().scene;bt.__r3f&&(bt.__r3f.root=He,T(bt,Be))},removeChildFromContainer:(He,Be)=>{Be&&Ze(He.getState().scene,Be)},insertInContainerBefore:(He,Be,bt)=>{if(!Be||!bt)return;const Ce=He.getState().scene;Ce.__r3f&&Q(Ce,Be,bt)},getRootHostContext:()=>null,getChildHostContext:He=>He,finalizeInitialChildren(He){var Be;const bt=(Be=He==null?void 0:He.__r3f)!=null?Be:{};return Boolean(bt.handlers)},prepareUpdate(He,Be,bt,Ce){if(He.__r3f.primitive&&Ce.object&&Ce.object!==He)return[!0];{const be=Ce,{args:Ve=[],children:et}=be,Qe=ls(be,["args","children"]),ke=bt,{args:Ct=[],children:cn}=ke,Yn=ls(ke,["args","children"]);if(!Array.isArray(Ve))throw new Error("R3F: the args prop must be an array!");if(Ve.some((Qn,Vn)=>Qn!==Ct[Vn]))return[!0];const On=Le(He,Qe,Yn,!0);return On.changes.length?[!1,On]:null}},commitUpdate(He,[Be,bt],Ce,be,ke,Ve){Be?st(He,Ce,ke,Ve):Ae(He,bt)},commitMount(He,Be,bt,Ce){var be;const ke=(be=He.__r3f)!=null?be:{};He.raycast&&ke.handlers&&ke.eventCount&&He.__r3f.root.getState().internal.interaction.push(He)},getPublicInstance:He=>He,prepareForCommit:()=>null,preparePortalMount:He=>De(He.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(He){var Be;const{attach:bt,parent:Ce}=(Be=He.__r3f)!=null?Be:{};bt&&Ce&&ae(Ce,He,bt),He.isObject3D&&(He.visible=!1),_e(He)},unhideInstance(He,Be){var bt;const{attach:Ce,parent:be}=(bt=He.__r3f)!=null?bt:{};Ce&&be&&te(be,He,Ce),(He.isObject3D&&Be.visible==null||Be.visible)&&(He.visible=!0),_e(He)},createTextInstance:qe,hideTextInstance:qe,unhideTextInstance:qe,getCurrentEventPriority:()=>H?H():P.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance!="undefined"&&q.fun(performance.now)?performance.now:q.fun(Date.now)?Date.now:()=>0,scheduleTimeout:q.fun(setTimeout)?setTimeout:void 0,cancelTimeout:q.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Ae}}var ft,he;const rn=R=>"colorSpace"in R||"outputColorSpace"in R,Kt=()=>{var R;return(R=zn.ColorManagement)!=null?R:null},xn=R=>R&&R.isOrthographicCamera,fn=R=>R&&R.hasOwnProperty("current"),Gt=typeof window!="undefined"&&((ft=window.document)!=null&&ft.createElement||((he=window.navigator)==null?void 0:he.product)==="ReactNative")?B.useLayoutEffect:B.useEffect;function Pn(R){const H=B.useRef(R);return Gt(()=>void(H.current=R),[R]),H}function jt({set:R}){return Gt(()=>(R(new Promise(()=>null)),()=>R(!1)),[R]),null}class xe extends B.Component{constructor(...H){super(...H),this.state={error:!1}}componentDidCatch(H){this.props.set(H)}render(){return this.state.error?null:this.props.children}}xe.getDerivedStateFromError=()=>({error:!0});const Ke="__default",we=new Map,rt=R=>R&&!!R.memoized&&!!R.changes;function Re(R){var H;const S=typeof window!="undefined"?(H=window.devicePixelRatio)!=null?H:2:1;return Array.isArray(R)?Math.min(Math.max(R[0],S),R[1]):R}const Te=R=>{var H;return(H=R.__r3f)==null?void 0:H.root.getState()},q={obj:R=>R===Object(R)&&!q.arr(R)&&typeof R!="function",fun:R=>typeof R=="function",str:R=>typeof R=="string",num:R=>typeof R=="number",boo:R=>typeof R=="boolean",und:R=>R===void 0,arr:R=>Array.isArray(R),equ(R,H,{arrays:S="shallow",objects:T="reference",strict:Q=!0}={}){if(typeof R!=typeof H||!!R!=!!H)return!1;if(q.str(R)||q.num(R))return R===H;const se=q.obj(R);if(se&&T==="reference")return R===H;const Ze=q.arr(R);if(Ze&&S==="reference")return R===H;if((Ze||se)&&R===H)return!0;let st;for(st in R)if(!(st in H))return!1;if(se&&S==="shallow"&&T==="shallow"){for(st in Q?H:R)if(!q.equ(R[st],H[st],{strict:Q,objects:"reference"}))return!1}else for(st in Q?H:R)if(R[st]!==H[st])return!1;if(q.und(st)){if(Ze&&R.length===0&&H.length===0||se&&Object.keys(R).length===0&&Object.keys(H).length===0)return!0;if(R!==H)return!1}return!0}};function F(R){const H={nodes:{},materials:{}};return R&&R.traverse(S=>{S.name&&(H.nodes[S.name]=S),S.material&&!H.materials[S.material.name]&&(H.materials[S.material.name]=S.material)}),H}function re(R){R.dispose&&R.type!=="Scene"&&R.dispose();for(const H in R)H.dispose==null||H.dispose(),delete R[H]}function De(R,H){const S=R;return(H!=null&&H.primitive||!S.__r3f)&&(S.__r3f=Rt({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},H)),R}function k(R,H){let S=R;if(H.includes("-")){const T=H.split("-"),Q=T.pop();return S=T.reduce((se,Ze)=>se[Ze],R),{target:S,key:Q}}else return{target:S,key:H}}const le=/-\d+$/;function te(R,H,S){if(q.str(S)){if(le.test(S)){const se=S.replace(le,""),{target:Ze,key:st}=k(R,se);Array.isArray(Ze[st])||(Ze[st]=[])}const{target:T,key:Q}=k(R,S);H.__r3f.previousAttach=T[Q],T[Q]=H}else H.__r3f.previousAttach=S(R,H)}function ae(R,H,S){var T,Q;if(q.str(S)){const{target:se,key:Ze}=k(R,S),st=H.__r3f.previousAttach;st===void 0?delete se[Ze]:se[Ze]=st}else(T=H.__r3f)==null||T.previousAttach==null||T.previousAttach(R,H);(Q=H.__r3f)==null||delete Q.previousAttach}function Le(R,He,bt={},vt=!1){var Be=He,{children:H,key:S,ref:T}=Be,Q=ls(Be,["children","key","ref"]);var Ce=bt,{children:se,key:Ze,ref:st}=Ce,qe=ls(Ce,["children","key","ref"]);var be;const ke=(be=R==null?void 0:R.__r3f)!=null?be:{},Ve=Object.entries(Q),et=[];if(vt){const Ct=Object.keys(qe);for(let cn=0;cn<Ct.length;cn++)Q.hasOwnProperty(Ct[cn])||Ve.unshift([Ct[cn],Ke+"remove"])}Ve.forEach(([Ct,cn])=>{var Yn;if((Yn=R.__r3f)!=null&&Yn.primitive&&Ct==="object"||q.equ(cn,qe[Ct]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(Ct))return et.push([Ct,cn,!0,[]]);let On=[];Ct.includes("-")&&(On=Ct.split("-")),et.push([Ct,cn,!1,On]);for(const Qn in Q){const Vn=Q[Qn];Qn.startsWith(`${Ct}-`)&&et.push([Qn,Vn,!1,Qn.split("-")])}});const Qe=Rt({},Q);return ke.memoizedProps&&ke.memoizedProps.args&&(Qe.args=ke.memoizedProps.args),ke.memoizedProps&&ke.memoizedProps.attach&&(Qe.attach=ke.memoizedProps.attach),{memoized:Qe,changes:et}}function Ae(R,H){var S,T,Q;const se=(S=R.__r3f)!=null?S:{},Ze=se.root,st=(T=Ze==null||Ze.getState==null?void 0:Ze.getState())!=null?T:{},{memoized:qe,changes:vt}=rt(H)?H:Le(R,H),He=se.eventCount;R.__r3f&&(R.__r3f.memoizedProps=qe);for(let bt=0;bt<vt.length;bt++){let[Ce,be,ke,Ve]=vt[bt];if(rn(R)){const cn="srgb",Yn="srgb-linear";Ce==="encoding"?(Ce="colorSpace",be=be===3001?cn:Yn):Ce==="outputEncoding"&&(Ce="outputColorSpace",be=be===3001?cn:Yn)}let et=R,Qe=et[Ce];if(Ve.length&&(Qe=Ve.reduce((Ct,cn)=>Ct[cn],R),!(Qe&&Qe.set))){const[Ct,...cn]=Ve.reverse();et=cn.reverse().reduce((Yn,On)=>Yn[On],R),Ce=Ct}if(be===Ke+"remove")if(et.constructor){let Ct=we.get(et.constructor);Ct||(Ct=new et.constructor,we.set(et.constructor,Ct)),be=Ct[Ce]}else be=0;if(ke)be?se.handlers[Ce]=be:delete se.handlers[Ce],se.eventCount=Object.keys(se.handlers).length;else if(Qe&&Qe.set&&(Qe.copy||Qe instanceof b.Layers)){if(Array.isArray(be))Qe.fromArray?Qe.fromArray(be):Qe.set(...be);else if(Qe.copy&&be&&be.constructor&&Qe.constructor===be.constructor)Qe.copy(be);else if(be!==void 0){const Ct=Qe instanceof b.Color;!Ct&&Qe.setScalar?Qe.setScalar(be):Qe instanceof b.Layers&&be instanceof b.Layers?Qe.mask=be.mask:Qe.set(be),!Kt()&&!st.linear&&Ct&&Qe.convertSRGBToLinear()}}else if(et[Ce]=be,et[Ce]instanceof b.Texture&&et[Ce].format===b.RGBAFormat&&et[Ce].type===b.UnsignedByteType){const Ct=et[Ce];rn(Ct)&&rn(st.gl)?Ct.colorSpace=st.gl.outputColorSpace:Ct.encoding=st.gl.outputEncoding}_e(R)}if(se.parent&&st.internal&&R.raycast&&He!==se.eventCount){const bt=st.internal.interaction.indexOf(R);bt>-1&&st.internal.interaction.splice(bt,1),se.eventCount&&st.internal.interaction.push(R)}return!(vt.length===1&&vt[0][0]==="onUpdate")&&vt.length&&(Q=R.__r3f)!=null&&Q.parent&&$e(R),R}function _e(R){var H,S;const T=(H=R.__r3f)==null||(S=H.root)==null||S.getState==null?void 0:S.getState();T&&T.internal.frames===0&&T.invalidate()}function $e(R){R.onUpdate==null||R.onUpdate(R)}function me(R,H){R.manual||(xn(R)?(R.left=H.width/-2,R.right=H.width/2,R.top=H.height/2,R.bottom=H.height/-2):R.aspect=H.width/H.height,R.updateProjectionMatrix(),R.updateMatrixWorld())}function Pt(R){return(R.eventObject||R.object).uuid+"/"+R.index+R.instanceId}function kt(){var R;const H=typeof self!="undefined"&&self||typeof window!="undefined"&&window;if(!H)return P.DefaultEventPriority;switch((R=H.event)==null?void 0:R.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return P.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return P.ContinuousEventPriority;default:return P.DefaultEventPriority}}function xt(R,H,S,T){const Q=S.get(H);Q&&(S.delete(H),S.size===0&&(R.delete(T),Q.target.releasePointerCapture(T)))}function dt(R,H){const{internal:S}=R.getState();S.interaction=S.interaction.filter(T=>T!==H),S.initialHits=S.initialHits.filter(T=>T!==H),S.hovered.forEach((T,Q)=>{(T.eventObject===H||T.object===H)&&S.hovered.delete(Q)}),S.capturedMap.forEach((T,Q)=>{xt(S.capturedMap,H,T,Q)})}function ze(R){function H(qe){const{internal:vt}=R.getState(),He=qe.offsetX-vt.initialClick[0],Be=qe.offsetY-vt.initialClick[1];return Math.round(Math.sqrt(He*He+Be*Be))}function S(qe){return qe.filter(vt=>["Move","Over","Enter","Out","Leave"].some(He=>{var Be;return(Be=vt.__r3f)==null?void 0:Be.handlers["onPointer"+He]}))}function T(qe,vt){const He=R.getState(),Be=new Set,bt=[],Ce=vt?vt(He.internal.interaction):He.internal.interaction;for(let et=0;et<Ce.length;et++){const Qe=Te(Ce[et]);Qe&&(Qe.raycaster.camera=void 0)}He.previousRoot||He.events.compute==null||He.events.compute(qe,He);function be(et){const Qe=Te(et);if(!Qe||!Qe.events.enabled||Qe.raycaster.camera===null)return[];if(Qe.raycaster.camera===void 0){var Ct;Qe.events.compute==null||Qe.events.compute(qe,Qe,(Ct=Qe.previousRoot)==null?void 0:Ct.getState()),Qe.raycaster.camera===void 0&&(Qe.raycaster.camera=null)}return Qe.raycaster.camera?Qe.raycaster.intersectObject(et,!0):[]}let ke=Ce.flatMap(be).sort((et,Qe)=>{const Ct=Te(et.object),cn=Te(Qe.object);return!Ct||!cn?et.distance-Qe.distance:cn.events.priority-Ct.events.priority||et.distance-Qe.distance}).filter(et=>{const Qe=Pt(et);return Be.has(Qe)?!1:(Be.add(Qe),!0)});He.events.filter&&(ke=He.events.filter(ke,He));for(const et of ke){let Qe=et.object;for(;Qe;){var Ve;(Ve=Qe.__r3f)!=null&&Ve.eventCount&&bt.push(Kr(Rt({},et),{eventObject:Qe})),Qe=Qe.parent}}if("pointerId"in qe&&He.internal.capturedMap.has(qe.pointerId))for(let et of He.internal.capturedMap.get(qe.pointerId).values())Be.has(Pt(et.intersection))||bt.push(et.intersection);return bt}function Q(qe,vt,He,Be){const bt=R.getState();if(qe.length){const Ce={stopped:!1};for(const be of qe){const ke=Te(be.object)||bt,{raycaster:Ve,pointer:et,camera:Qe,internal:Ct}=ke,cn=new b.Vector3(et.x,et.y,0).unproject(Qe),Yn=mr=>{var Jt,rr;return(Jt=(rr=Ct.capturedMap.get(mr))==null?void 0:rr.has(be.eventObject))!=null?Jt:!1},On=mr=>{const Jt={intersection:be,target:vt.target};Ct.capturedMap.has(mr)?Ct.capturedMap.get(mr).set(be.eventObject,Jt):Ct.capturedMap.set(mr,new Map([[be.eventObject,Jt]])),vt.target.setPointerCapture(mr)},Qn=mr=>{const Jt=Ct.capturedMap.get(mr);Jt&&xt(Ct.capturedMap,be.eventObject,Jt,mr)};let Vn={};for(let mr in vt){let Jt=vt[mr];typeof Jt!="function"&&(Vn[mr]=Jt)}let Wn=Kr(Rt(Rt({},be),Vn),{pointer:et,intersections:qe,stopped:Ce.stopped,delta:He,unprojectedPoint:cn,ray:Ve.ray,camera:Qe,stopPropagation(){const mr="pointerId"in vt&&Ct.capturedMap.get(vt.pointerId);if((!mr||mr.has(be.eventObject))&&(Wn.stopped=Ce.stopped=!0,Ct.hovered.size&&Array.from(Ct.hovered.values()).find(Jt=>Jt.eventObject===be.eventObject))){const Jt=qe.slice(0,qe.indexOf(be));se([...Jt,be])}},target:{hasPointerCapture:Yn,setPointerCapture:On,releasePointerCapture:Qn},currentTarget:{hasPointerCapture:Yn,setPointerCapture:On,releasePointerCapture:Qn},nativeEvent:vt});if(Be(Wn),Ce.stopped===!0)break}}return qe}function se(qe){const{internal:vt}=R.getState();for(const He of vt.hovered.values())if(!qe.length||!qe.find(Be=>Be.object===He.object&&Be.index===He.index&&Be.instanceId===He.instanceId)){const bt=He.eventObject.__r3f,Ce=bt==null?void 0:bt.handlers;if(vt.hovered.delete(Pt(He)),bt!=null&&bt.eventCount){const be=Kr(Rt({},He),{intersections:qe});Ce.onPointerOut==null||Ce.onPointerOut(be),Ce.onPointerLeave==null||Ce.onPointerLeave(be)}}}function Ze(qe,vt){for(let He=0;He<vt.length;He++){const Be=vt[He].__r3f;Be==null||Be.handlers.onPointerMissed==null||Be.handlers.onPointerMissed(qe)}}function st(qe){switch(qe){case"onPointerLeave":case"onPointerCancel":return()=>se([]);case"onLostPointerCapture":return vt=>{const{internal:He}=R.getState();"pointerId"in vt&&He.capturedMap.has(vt.pointerId)&&requestAnimationFrame(()=>{He.capturedMap.has(vt.pointerId)&&(He.capturedMap.delete(vt.pointerId),se([]))})}}return function(He){const{onPointerMissed:Be,internal:bt}=R.getState();bt.lastEvent.current=He;const Ce=qe==="onPointerMove",be=qe==="onClick"||qe==="onContextMenu"||qe==="onDoubleClick",Ve=T(He,Ce?S:void 0),et=be?H(He):0;qe==="onPointerDown"&&(bt.initialClick=[He.offsetX,He.offsetY],bt.initialHits=Ve.map(Ct=>Ct.eventObject)),be&&!Ve.length&&et<=2&&(Ze(He,bt.interaction),Be&&Be(He)),Ce&&se(Ve);function Qe(Ct){const cn=Ct.eventObject,Yn=cn.__r3f,On=Yn==null?void 0:Yn.handlers;if(Yn!=null&&Yn.eventCount)if(Ce){if(On.onPointerOver||On.onPointerEnter||On.onPointerOut||On.onPointerLeave){const Qn=Pt(Ct),Vn=bt.hovered.get(Qn);Vn?Vn.stopped&&Ct.stopPropagation():(bt.hovered.set(Qn,Ct),On.onPointerOver==null||On.onPointerOver(Ct),On.onPointerEnter==null||On.onPointerEnter(Ct))}On.onPointerMove==null||On.onPointerMove(Ct)}else{const Qn=On[qe];Qn?(!be||bt.initialHits.includes(cn))&&(Ze(He,bt.interaction.filter(Vn=>!bt.initialHits.includes(Vn))),Qn(Ct)):be&&bt.initialHits.includes(cn)&&Ze(He,bt.interaction.filter(Vn=>!bt.initialHits.includes(Vn)))}}Q(Ve,He,et,Qe)}}return{handlePointer:st}}const zt=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],un=R=>!!(R!=null&&R.render),Sn=B.createContext(null),Yt=(R,H)=>{const S=(0,Y.Z)((st,qe)=>{const vt=new b.Vector3,He=new b.Vector3,Be=new b.Vector3;function bt(et=qe().camera,Qe=He,Ct=qe().size){const{width:cn,height:Yn,top:On,left:Qn}=Ct,Vn=cn/Yn;Qe instanceof b.Vector3?Be.copy(Qe):Be.set(...Qe);const Wn=et.getWorldPosition(vt).distanceTo(Be);if(xn(et))return{width:cn/et.zoom,height:Yn/et.zoom,top:On,left:Qn,factor:1,distance:Wn,aspect:Vn};{const mr=et.fov*Math.PI/180,Jt=2*Math.tan(mr/2)*Wn,rr=Jt*(cn/Yn);return{width:rr,height:Jt,top:On,left:Qn,factor:cn/rr,distance:Wn,aspect:Vn}}}let Ce;const be=et=>st(Qe=>({performance:Kr(Rt({},Qe.performance),{current:et})})),ke=new b.Vector2;return{set:st,get:qe,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(et=1)=>R(qe(),et),advance:(et,Qe)=>H(et,Qe,qe()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new b.Clock,pointer:ke,mouse:ke,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const et=qe();Ce&&clearTimeout(Ce),et.performance.current!==et.performance.min&&be(et.performance.min),Ce=setTimeout(()=>be(qe().performance.max),et.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:bt},setEvents:et=>st(Qe=>Kr(Rt({},Qe),{events:Rt(Rt({},Qe.events),et)})),setSize:(et,Qe,Ct,cn,Yn)=>{const On=qe().camera,Qn={width:et,height:Qe,top:cn||0,left:Yn||0,updateStyle:Ct};st(Vn=>({size:Qn,viewport:Rt(Rt({},Vn.viewport),bt(On,He,Qn))}))},setDpr:et=>st(Qe=>{const Ct=Re(et);return{viewport:Kr(Rt({},Qe.viewport),{dpr:Ct,initialDpr:Qe.viewport.initialDpr||Ct})}}),setFrameloop:(et="always")=>{const Qe=qe().clock;Qe.stop(),Qe.elapsedTime=0,et!=="never"&&(Qe.start(),Qe.elapsedTime=0),st(()=>({frameloop:et}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:B.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(et,Qe,Ct)=>{const cn=qe().internal;return cn.priority=cn.priority+(Qe>0?1:0),cn.subscribers.push({ref:et,priority:Qe,store:Ct}),cn.subscribers=cn.subscribers.sort((Yn,On)=>Yn.priority-On.priority),()=>{const Yn=qe().internal;Yn!=null&&Yn.subscribers&&(Yn.priority=Yn.priority-(Qe>0?1:0),Yn.subscribers=Yn.subscribers.filter(On=>On.ref!==et))}}}}}),T=S.getState();let Q=T.size,se=T.viewport.dpr,Ze=T.camera;return S.subscribe(()=>{const{camera:st,size:qe,viewport:vt,gl:He,set:Be}=S.getState();if(qe!==Q||vt.dpr!==se){var bt;Q=qe,se=vt.dpr,me(st,qe),He.setPixelRatio(vt.dpr);const Ce=(bt=qe.updateStyle)!=null?bt:typeof HTMLCanvasElement!="undefined"&&He.domElement instanceof HTMLCanvasElement;He.setSize(qe.width,qe.height,Ce)}st!==Ze&&(Ze=st,Be(Ce=>({viewport:Rt(Rt({},Ce.viewport),Ce.viewport.getCurrentViewport(st))})))}),S.subscribe(st=>R(st)),S};function Tn(R,H){const S={callback:R};return H.add(S),()=>void H.delete(S)}let an,An=new Set,Rr=new Set,qr=new Set;const _t=R=>Tn(R,An),Lt=R=>Tn(R,Rr),Qt=R=>Tn(R,qr);function ln(R,H){if(R.size)for(const{callback:S}of R.values())S(H)}function yn(R,H){switch(R){case"before":return ln(An,H);case"after":return ln(Rr,H);case"tail":return ln(qr,H)}}let ur,jn;function Xr(R,H,S){let T=H.clock.getDelta();for(H.frameloop==="never"&&typeof R=="number"&&(T=R-H.clock.elapsedTime,H.clock.oldTime=H.clock.elapsedTime,H.clock.elapsedTime=R),ur=H.internal.subscribers,an=0;an<ur.length;an++)jn=ur[an],jn.ref.current(jn.store.getState(),T,S);return!H.internal.priority&&H.gl.render&&H.gl.render(H.scene,H.camera),H.internal.frames=Math.max(0,H.internal.frames-1),H.frameloop==="always"?1:H.internal.frames}function Jn(R){let H=!1,S,T,Q;function se(qe){T=requestAnimationFrame(se),H=!0,S=0,yn("before",qe);for(const He of R.values()){var vt;Q=He.store.getState(),Q.internal.active&&(Q.frameloop==="always"||Q.internal.frames>0)&&!((vt=Q.gl.xr)!=null&&vt.isPresenting)&&(S+=Xr(qe,Q))}if(yn("after",qe),S===0)return yn("tail",qe),H=!1,cancelAnimationFrame(T)}function Ze(qe,vt=1){var He;if(!qe)return R.forEach(Be=>Ze(Be.store.getState()),vt);(He=qe.gl.xr)!=null&&He.isPresenting||!qe.internal.active||qe.frameloop==="never"||(qe.internal.frames=Math.min(60,qe.internal.frames+vt),H||(H=!0,requestAnimationFrame(se)))}function st(qe,vt=!0,He,Be){if(vt&&yn("before",qe),He)Xr(qe,He,Be);else for(const bt of R.values())Xr(qe,bt.store.getState());vt&&yn("after",qe)}return{loop:se,invalidate:Ze,advance:st}}function ge(R){const H=React.useRef(null);return Gt(()=>void(H.current=R.current.__r3f),[R]),H}function je(){const R=B.useContext(Sn);if(!R)throw new Error("R3F: Hooks can only be used within the Canvas component!");return R}function Xe(R=S=>S,H){return je()(R,H)}function Ye(R,H=0){const S=je(),T=S.getState().internal.subscribe,Q=Pn(R);return Gt(()=>T(Q,H,S),[H,T,S]),null}function Nt(R){return React.useMemo(()=>F(R),[R])}function Nn(R,H){return function(S,...T){const Q=new S;return R&&R(Q),Promise.all(T.map(se=>new Promise((Ze,st)=>Q.load(se,qe=>{qe.scene&&Object.assign(qe,F(qe.scene)),Ze(qe)},H,qe=>st(new Error(`Could not load ${se}: ${qe.message})`))))))}}function wn(R,H,S,T){const Q=Array.isArray(H)?H:[H],se=gt(Nn(S,T),[R,...Q],{equal:q.equ});return Array.isArray(H)?se:se[0]}wn.preload=function(R,H,S){const T=Array.isArray(H)?H:[H];return ht(Nn(S),[R,...T])},wn.clear=function(R,H){const S=Array.isArray(H)?H:[H];return At([R,...S])};const Bt=new Map,{invalidate:Vt,advance:ut}=Jn(Bt),{reconciler:oe,applyProps:We}=bn(Bt,kt),Tt={objects:"shallow",strict:!1},nn=(R,H)=>{const S=typeof R=="function"?R(H):R;return un(S)?S:new b.WebGLRenderer(Rt({powerPreference:"high-performance",canvas:H,antialias:!0,alpha:!0},R))};function Zn(R,H){if(H)return H;if(typeof HTMLCanvasElement!="undefined"&&R instanceof HTMLCanvasElement&&R.parentElement){const{width:S,height:T,top:Q,left:se}=R.parentElement.getBoundingClientRect();return{width:S,height:T,top:Q,left:se}}else if(typeof OffscreenCanvas!="undefined"&&R instanceof OffscreenCanvas)return{width:R.width,height:R.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function hr(R){const H=Bt.get(R),S=H==null?void 0:H.fiber,T=H==null?void 0:H.store;H&&console.warn("R3F.createRoot should only be called once!");const Q=typeof reportError=="function"?reportError:console.error,se=T||Yt(Vt,ut),Ze=S||oe.createContainer(se,P.ConcurrentRoot,null,!1,null,"",Q,null);H||Bt.set(R,{fiber:Ze,store:se});let st,qe=!1,vt;return{configure(He={}){let{gl:Be,size:bt,scene:Ce,events:be,onCreated:ke,shadows:Ve=!1,linear:et=!1,flat:Qe=!1,legacy:Ct=!1,orthographic:cn=!1,frameloop:Yn="always",dpr:On=[1,2],performance:Qn,raycaster:Vn,camera:Wn,onPointerMissed:mr}=He,Jt=se.getState(),rr=Jt.gl;Jt.gl||Jt.set({gl:rr=nn(Be,R)});let Lr=Jt.raycaster;Lr||Jt.set({raycaster:Lr=new b.Raycaster});const Ni=Vn||{},{params:Ti}=Ni,bi=ls(Ni,["params"]);if(q.equ(bi,Lr,Tt)||We(Lr,Rt({},bi)),q.equ(Ti,Lr.params,Tt)||We(Lr,{params:Rt(Rt({},Lr.params),Ti)}),!Jt.camera||Jt.camera===vt&&!q.equ(vt,Wn,Tt)){vt=Wn;const ci=Wn instanceof b.Camera,Ai=ci?Wn:cn?new b.OrthographicCamera(0,0,0,0,.1,1e3):new b.PerspectiveCamera(75,0,.1,1e3);ci||(Ai.position.z=5,Wn&&We(Ai,Wn),!Jt.camera&&!(Wn!=null&&Wn.rotation)&&Ai.lookAt(0,0,0)),Jt.set({camera:Ai})}if(!Jt.scene){let ci;Ce instanceof b.Scene?ci=Ce:(ci=new b.Scene,Ce&&We(ci,Ce)),Jt.set({scene:De(ci)})}if(!Jt.xr){const ci=(xi,$o)=>{const Qi=se.getState();Qi.frameloop!=="never"&&ut(xi,!0,Qi,$o)},Ai=()=>{const xi=se.getState();xi.gl.xr.enabled=xi.gl.xr.isPresenting,xi.gl.xr.setAnimationLoop(xi.gl.xr.isPresenting?ci:null),xi.gl.xr.isPresenting||Vt(xi)},so={connect(){const xi=se.getState().gl;xi.xr.addEventListener("sessionstart",Ai),xi.xr.addEventListener("sessionend",Ai)},disconnect(){const xi=se.getState().gl;xi.xr.removeEventListener("sessionstart",Ai),xi.xr.removeEventListener("sessionend",Ai)}};rr.xr&&so.connect(),Jt.set({xr:so})}if(rr.shadowMap){const ci=rr.shadowMap.enabled,Ai=rr.shadowMap.type;if(rr.shadowMap.enabled=!!Ve,q.boo(Ve))rr.shadowMap.type=b.PCFSoftShadowMap;else if(q.str(Ve)){var go;const so={basic:b.BasicShadowMap,percentage:b.PCFShadowMap,soft:b.PCFSoftShadowMap,variance:b.VSMShadowMap};rr.shadowMap.type=(go=so[Ve])!=null?go:b.PCFSoftShadowMap}else q.obj(Ve)&&Object.assign(rr.shadowMap,Ve);(ci!==rr.shadowMap.enabled||Ai!==rr.shadowMap.type)&&(rr.shadowMap.needsUpdate=!0)}const Yi=Kt();Yi&&("enabled"in Yi?Yi.enabled=!Ct:"legacyMode"in Yi&&(Yi.legacyMode=Ct)),We(rr,{outputEncoding:et?3e3:3001,toneMapping:Qe?b.NoToneMapping:b.ACESFilmicToneMapping}),Jt.legacy!==Ct&&Jt.set(()=>({legacy:Ct})),Jt.linear!==et&&Jt.set(()=>({linear:et})),Jt.flat!==Qe&&Jt.set(()=>({flat:Qe})),Be&&!q.fun(Be)&&!un(Be)&&!q.equ(Be,rr,Tt)&&We(rr,Be),be&&!Jt.events.handlers&&Jt.set({events:be(se)});const fo=Zn(R,bt);return q.equ(fo,Jt.size,Tt)||Jt.setSize(fo.width,fo.height,fo.updateStyle,fo.top,fo.left),On&&Jt.viewport.dpr!==Re(On)&&Jt.setDpr(On),Jt.frameloop!==Yn&&Jt.setFrameloop(Yn),Jt.onPointerMissed||Jt.set({onPointerMissed:mr}),Qn&&!q.equ(Qn,Jt.performance,Tt)&&Jt.set(ci=>({performance:Rt(Rt({},ci.performance),Qn)})),st=ke,qe=!0,this},render(He){return qe||this.configure(),oe.updateContainer(B.createElement(Li,{store:se,children:He,onCreated:st,rootElement:R}),Ze,null,()=>{}),se},unmount(){Qr(R)}}}function Hr(R,H,S){console.warn("R3F.render is no longer supported in React 18. Use createRoot instead!");const T=hr(H);return T.configure(S),T.render(R)}function Li({store:R,children:H,onCreated:S,rootElement:T}){return Gt(()=>{const Q=R.getState();Q.set(se=>({internal:Kr(Rt({},se.internal),{active:!0})})),S&&S(Q),R.getState().events.connected||Q.events.connect==null||Q.events.connect(T)},[]),B.createElement(Sn.Provider,{value:R},H)}function Qr(R,H){const S=Bt.get(R),T=S==null?void 0:S.fiber;if(T){const Q=S==null?void 0:S.store.getState();Q&&(Q.internal.active=!1),oe.updateContainer(null,T,null,()=>{Q&&setTimeout(()=>{try{var se,Ze,st,qe;Q.events.disconnect==null||Q.events.disconnect(),(se=Q.gl)==null||(Ze=se.renderLists)==null||Ze.dispose==null||Ze.dispose(),(st=Q.gl)==null||st.forceContextLoss==null||st.forceContextLoss(),(qe=Q.gl)!=null&&qe.xr&&Q.xr.disconnect(),re(Q),Bt.delete(R),H&&H(R)}catch(vt){}},500)})}}function ri(R,H,S){return B.createElement(ei,{key:H.uuid,children:R,container:H,state:S})}function ei({state:R={},children:H,container:S}){const Be=R,{events:T,size:Q}=Be,se=ls(Be,["events","size"]),Ze=je(),[st]=B.useState(()=>new b.Raycaster),[qe]=B.useState(()=>new b.Vector2),vt=B.useCallback((bt,Ce)=>{const be=Rt({},bt);Object.keys(bt).forEach(Ve=>{(zt.includes(Ve)||bt[Ve]!==Ce[Ve]&&Ce[Ve])&&delete be[Ve]});let ke;if(Ce&&Q){const Ve=Ce.camera;ke=bt.viewport.getCurrentViewport(Ve,new b.Vector3,Q),Ve!==bt.camera&&me(Ve,Q)}return Rt(Kr(Rt({},be),{scene:S,raycaster:st,pointer:qe,mouse:qe,previousRoot:Ze,events:Rt(Rt(Rt({},bt.events),Ce==null?void 0:Ce.events),T),size:Rt(Rt({},bt.size),Q),viewport:Rt(Rt({},bt.viewport),ke)}),se)},[R]),[He]=B.useState(()=>{const bt=Ze.getState();return(0,Y.Z)((be,ke)=>Kr(Rt(Kr(Rt({},bt),{scene:S,raycaster:st,pointer:qe,mouse:qe,previousRoot:Ze,events:Rt(Rt({},bt.events),T),size:Rt(Rt({},bt.size),Q)}),se),{set:be,get:ke,setEvents:Ve=>be(et=>Kr(Rt({},et),{events:Rt(Rt({},et.events),Ve)}))}))});return B.useEffect(()=>{const bt=Ze.subscribe(Ce=>He.setState(be=>vt(Ce,be)));return()=>{bt(),He.destroy()}},[]),B.useEffect(()=>{He.setState(bt=>vt(Ze.getState(),bt))},[vt]),B.createElement(B.Fragment,null,oe.createPortal(B.createElement(Sn.Provider,{value:He},H),He,null))}oe.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:B.version});const ji=B.unstable_act},52038:function(qt,Fe,j){"use strict";j.d(Fe,{Xz:function(){return Te}});var b=j(63905),B=j(8864),P=j(50959),Y=j(48119),Je=j(94440),yt=Object.defineProperty,pe=Object.defineProperties,Ot=Object.getOwnPropertyDescriptors,Ft=Object.getOwnPropertySymbols,wt=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable,ht=(q,F,re)=>F in q?yt(q,F,{enumerable:!0,configurable:!0,writable:!0,value:re}):q[F]=re,mt=(q,F)=>{for(var re in F||(F={}))wt.call(F,re)&&ht(q,re,F[re]);if(Ft)for(var re of Ft(F))gt.call(F,re)&&ht(q,re,F[re]);return q},At=(q,F)=>pe(q,Ot(F));function ee(q,F,re){if(!q)return;if(re(q)===!0)return q;let De=F?q.return:q.child;for(;De;){const k=ee(De,F,re);if(k)return k;De=F?null:De.sibling}}function zn(q){try{return Object.defineProperties(q,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch(F){return q}}const En=zn(P.createContext(null));class bn extends P.Component{render(){return P.createElement(En.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:ft,ReactCurrentDispatcher:he}=P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function rn(){const q=P.useContext(En);if(q===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const F=P.useId();return P.useMemo(()=>{for(const De of[ft==null?void 0:ft.current,q,q==null?void 0:q.alternate]){if(!De)continue;const k=ee(De,!1,le=>{let te=le.memoizedState;for(;te;){if(te.memoizedState===F)return!0;te=te.next}});if(k)return k}},[q,F])}function Kt(){const q=rn(),F=React.useMemo(()=>ee(q,!0,re=>{var De;return((De=re.stateNode)==null?void 0:De.containerInfo)!=null}),[q]);return F==null?void 0:F.stateNode.containerInfo}function xn(q){const F=rn(),re=React.useRef();return React.useLayoutEffect(()=>{var De;re.current=(De=ee(F,!1,k=>typeof k.type=="string"&&(q===void 0||k.type===q)))==null?void 0:De.stateNode},[F]),re}function fn(q){const F=rn(),re=React.useRef();return React.useLayoutEffect(()=>{var De;re.current=(De=ee(F,!0,k=>typeof k.type=="string"&&(q===void 0||k.type===q)))==null?void 0:De.stateNode},[F]),re}function Gt(){var q,F;const re=rn(),[De]=P.useState(()=>new Map);De.clear();let k=re;for(;k;){const le=(q=k.type)==null?void 0:q._context;le&&le!==En&&!De.has(le)&&De.set(le,(F=he==null?void 0:he.current)==null?void 0:F.readContext(zn(le))),k=k.return}return De}function Pn(){const q=Gt();return P.useMemo(()=>Array.from(q.keys()).reduce((F,re)=>De=>P.createElement(F,null,P.createElement(re.Provider,At(mt({},De),{value:q.get(re)}))),F=>P.createElement(bn,mt({},F))),[q])}var jt=j(85259),xe=j(97427),Ke=j(65297);const we={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function rt(q){const{handlePointer:F}=(0,b.c)(q);return{priority:1,enabled:!0,compute(re,De,k){De.pointer.set(re.offsetX/De.size.width*2-1,-(re.offsetY/De.size.height)*2+1),De.raycaster.setFromCamera(De.pointer,De.camera)},connected:void 0,handlers:Object.keys(we).reduce((re,De)=>Kr(Rt({},re),{[De]:F(De)}),{}),update:()=>{var re;const{events:De,internal:k}=q.getState();(re=k.lastEvent)!=null&&re.current&&De.handlers&&De.handlers.onPointerMove(k.lastEvent.current)},connect:re=>{var De;const{set:k,events:le}=q.getState();le.disconnect==null||le.disconnect(),k(te=>({events:Kr(Rt({},te.events),{connected:re})})),Object.entries((De=le.handlers)!=null?De:[]).forEach(([te,ae])=>{const[Le,Ae]=we[te];re.addEventListener(Le,ae,{passive:Ae})})},disconnect:()=>{const{set:re,events:De}=q.getState();if(De.connected){var k;Object.entries((k=De.handlers)!=null?k:[]).forEach(([le,te])=>{if(De&&De.connected instanceof HTMLElement){const[ae]=we[le];De.connected.removeEventListener(ae,te)}}),re(le=>({events:Kr(Rt({},le.events),{connected:void 0})}))}}}}const Re=P.forwardRef(function(an,Tn){var An=an,{children:F,fallback:re,resize:De,style:k,gl:le,events:te=rt,eventSource:ae,eventPrefix:Le,shadows:Ae,linear:_e,flat:$e,legacy:me,orthographic:Pt,frameloop:kt,dpr:xt,performance:dt,raycaster:ze,camera:zt,onPointerMissed:un,onCreated:Sn}=An,Yt=ls(An,["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"]);P.useMemo(()=>(0,b.e)(Y),[]);const Rr=Pn(),[qr,_t]=(0,Je.Z)(Rt({scroll:!0,debounce:{scroll:50,resize:0}},De)),Lt=P.useRef(null),Qt=P.useRef(null);P.useImperativeHandle(Tn,()=>Lt.current);const ln=(0,b.u)(un),[yn,ur]=P.useState(!1),[jn,Xr]=P.useState(!1);if(yn)throw yn;if(jn)throw jn;const Jn=P.useRef(null);(0,b.a)(()=>{const je=Lt.current;_t.width>0&&_t.height>0&&je&&(Jn.current||(Jn.current=(0,b.b)(je)),Jn.current.configure({gl:le,events:te,shadows:Ae,linear:_e,flat:$e,legacy:me,orthographic:Pt,frameloop:kt,dpr:xt,performance:dt,raycaster:ze,camera:zt,size:_t,onPointerMissed:(...Xe)=>ln.current==null?void 0:ln.current(...Xe),onCreated:Xe=>{Xe.events.connect==null||Xe.events.connect(ae?(0,b.i)(ae)?ae.current:ae:Qt.current),Le&&Xe.setEvents({compute:(Ye,Nt)=>{const Nn=Ye[Le+"X"],wn=Ye[Le+"Y"];Nt.pointer.set(Nn/Nt.size.width*2-1,-(wn/Nt.size.height)*2+1),Nt.raycaster.setFromCamera(Nt.pointer,Nt.camera)}}),Sn==null||Sn(Xe)}}),Jn.current.render(P.createElement(Rr,null,P.createElement(b.E,{set:Xr},P.createElement(P.Suspense,{fallback:P.createElement(b.B,{set:ur})},F)))))}),P.useEffect(()=>{const je=Lt.current;if(je)return()=>(0,b.d)(je)},[]);const ge=ae?"none":"auto";return P.createElement("div",(0,B.Z)({ref:Qt,style:Rt({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ge},k)},Yt),P.createElement("div",{ref:qr,style:{width:"100%",height:"100%"}},P.createElement("canvas",{ref:Lt,style:{display:"block"}},re)))}),Te=P.forwardRef(function(F,re){return P.createElement(bn,null,P.createElement(Re,(0,B.Z)({},F,{ref:re})))})},34361:function(qt,Fe){"use strict";var j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM304 240a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"database",theme:"outlined"};Fe.Z=j},29636:function(qt,Fe){"use strict";var j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"};Fe.Z=j},63012:function(qt,Fe){"use strict";var j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 305H624V192c0-17.7-14.3-32-32-32H184v-40c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v784c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V640h248v113c0 17.7 14.3 32 32 32h416c17.7 0 32-14.3 32-32V337c0-17.7-14.3-32-32-32zM184 568V232h368v336H184zm656 145H504v-73h112c4.4 0 8-3.6 8-8V377h216v336z"}}]},name:"flag",theme:"outlined"};Fe.Z=j},22401:function(qt,Fe){"use strict";var j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"};Fe.Z=j},36402:function(qt,Fe){"use strict";var j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};Fe.Z=j},43796:function(qt,Fe,j){"use strict";var b=j(66052),B=j(99664),P=j(43957),Y=j(63295),Je=j(11527),yt=["children"];function pe(Ft,wt){var gt=Object.keys(Ft);if(Object.getOwnPropertySymbols){var ht=Object.getOwnPropertySymbols(Ft);wt&&(ht=ht.filter(function(mt){return Object.getOwnPropertyDescriptor(Ft,mt).enumerable})),gt.push.apply(gt,ht)}return gt}function Ot(Ft){for(var wt=1;wt<arguments.length;wt++){var gt=arguments[wt]!=null?arguments[wt]:{};wt%2?pe(Object(gt),!0).forEach(function(ht){(0,b.Z)(Ft,ht,gt[ht])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(gt)):pe(Object(gt)).forEach(function(ht){Object.defineProperty(Ft,ht,Object.getOwnPropertyDescriptor(gt,ht))})}return Ft}Fe.Z=function(Ft){var wt=Ft.children,gt=(0,B.Z)(Ft,yt);return(0,Je.jsx)(Y.f,Ot(Ot({},gt),{},{children:(0,Je.jsx)(P.Z,{children:wt})}))}},7798:function(qt,Fe,j){"use strict";j.d(Fe,{Z:function(){return wt}});var b=j(40513),B=j(50959),P=j(28062),Y=j(18621),Je=j(49937);function yt(gt){function ht(mt,At){At===void 0&&(At={});var ee,zn=At.onError,En=zn===void 0?function(Gt){console.error(Gt)}:zn;try{ee=gt()}catch(Gt){En(Gt)}var bn=function(Gt){return At!=null&&At.serializer?At==null?void 0:At.serializer(Gt):JSON.stringify(Gt)},ft=function(Gt){return At!=null&&At.deserializer?At==null?void 0:At.deserializer(Gt):JSON.parse(Gt)};function he(){try{var Gt=ee==null?void 0:ee.getItem(mt);if(Gt)return ft(Gt)}catch(Pn){En(Pn)}return(0,Je.mf)(At==null?void 0:At.defaultValue)?At==null?void 0:At.defaultValue():At==null?void 0:At.defaultValue}var rn=(0,b.CR)((0,B.useState)(function(){return he()}),2),Kt=rn[0],xn=rn[1];(0,Y.Z)(function(){xn(he())},[mt]);var fn=function(Gt){var Pn=(0,Je.mf)(Gt)?Gt(Kt):Gt;if(xn(Pn),(0,Je.G7)(Pn))ee==null||ee.removeItem(mt);else try{ee==null||ee.setItem(mt,bn(Pn))}catch(jt){console.error(jt)}};return[Kt,(0,P.Z)(fn)]}return ht}var pe=!!(typeof window!="undefined"&&window.document&&window.document.createElement),Ot=pe,Ft=yt(function(){return Ot?localStorage:void 0}),wt=Ft},28062:function(qt,Fe,j){"use strict";var b=j(50959),B=j(49937),P=j(70510);function Y(Je){P.Z&&((0,B.mf)(Je)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof Je)));var yt=(0,b.useRef)(Je);yt.current=(0,b.useMemo)(function(){return Je},[Je]);var pe=(0,b.useRef)();return pe.current||(pe.current=function(){for(var Ot=[],Ft=0;Ft<arguments.length;Ft++)Ot[Ft]=arguments[Ft];return yt.current.apply(this,Ot)}),pe.current}Fe.Z=Y},18621:function(qt,Fe,j){"use strict";j.d(Fe,{Z:function(){return Y}});var b=j(50959),B=function(Je){return function(yt,pe){var Ot=(0,b.useRef)(!1);Je(function(){return function(){Ot.current=!1}},[]),Je(function(){if(!Ot.current)Ot.current=!0;else return yt()},pe)}},P=null,Y=B(b.useEffect)},49937:function(qt,Fe,j){"use strict";j.d(Fe,{G7:function(){return yt},mf:function(){return B}});var b=function(pe){return pe!==null&&typeof pe=="object"},B=function(pe){return typeof pe=="function"},P=function(pe){return typeof pe=="string"},Y=function(pe){return typeof pe=="boolean"},Je=function(pe){return typeof pe=="number"},yt=function(pe){return typeof pe=="undefined"}},70510:function(qt,Fe){"use strict";var j=!1;Fe.Z=j},45924:function(qt,Fe,j){"use strict";j.r(Fe),j.d(Fe,{clsx:function(){return B}});function b(P){var Y,Je,yt="";if(typeof P=="string"||typeof P=="number")yt+=P;else if(typeof P=="object")if(Array.isArray(P))for(Y=0;Y<P.length;Y++)P[Y]&&(Je=b(P[Y]))&&(yt&&(yt+=" "),yt+=Je);else for(Y in P)P[Y]&&(yt&&(yt+=" "),yt+=Y);return yt}function B(){for(var P,Y,Je=0,yt="";Je<arguments.length;)(P=arguments[Je++])&&(Y=b(P))&&(yt&&(yt+=" "),yt+=Y);return yt}Fe.default=B},31110:function(qt){function Fe(j,b,B){var P,Y,Je,yt,pe;b==null&&(b=100);function Ot(){var wt=Date.now()-yt;wt<b&&wt>=0?P=setTimeout(Ot,b-wt):(P=null,B||(pe=j.apply(Je,Y),Je=Y=null))}var Ft=function(){Je=this,Y=arguments,yt=Date.now();var wt=B&&!P;return P||(P=setTimeout(Ot,b)),wt&&(pe=j.apply(Je,Y),Je=Y=null),pe};return Ft.clear=function(){P&&(clearTimeout(P),P=null)},Ft.flush=function(){P&&(pe=j.apply(Je,Y),Je=Y=null,clearTimeout(P),P=null)},Ft}Fe.debounce=Fe,qt.exports=Fe},69978:function(qt){function Fe(wt,gt){var ht=gt&&gt.cache?gt.cache:Ft,mt=gt&&gt.serializer?gt.serializer:pe,At=gt&&gt.strategy?gt.strategy:Y;return At(wt,{cache:ht,serializer:mt})}function j(wt){return wt==null||typeof wt=="number"||typeof wt=="boolean"}function b(wt,gt,ht,mt){var At=j(mt)?mt:ht(mt),ee=gt.get(At);return typeof ee=="undefined"&&(ee=wt.call(this,mt),gt.set(At,ee)),ee}function B(wt,gt,ht){var mt=Array.prototype.slice.call(arguments,3),At=ht(mt),ee=gt.get(At);return typeof ee=="undefined"&&(ee=wt.apply(this,mt),gt.set(At,ee)),ee}function P(wt,gt,ht,mt,At){return ht.bind(gt,wt,mt,At)}function Y(wt,gt){var ht=wt.length===1?b:B;return P(wt,this,ht,gt.cache.create(),gt.serializer)}function Je(wt,gt){var ht=B;return P(wt,this,ht,gt.cache.create(),gt.serializer)}function yt(wt,gt){var ht=b;return P(wt,this,ht,gt.cache.create(),gt.serializer)}function pe(){return JSON.stringify(arguments)}function Ot(){this.cache=Object.create(null)}Ot.prototype.has=function(wt){return wt in this.cache},Ot.prototype.get=function(wt){return this.cache[wt]},Ot.prototype.set=function(wt,gt){this.cache[wt]=gt};var Ft={create:function(){return new Ot}};qt.exports=Fe,qt.exports.strategies={variadic:Je,monadic:yt}},5899:function(qt,Fe,j){qt=j.nmd(qt);var b=200,B="__lodash_hash_undefined__",P=1,Y=2,Je=9007199254740991,yt="[object Arguments]",pe="[object Array]",Ot="[object AsyncFunction]",Ft="[object Boolean]",wt="[object Date]",gt="[object Error]",ht="[object Function]",mt="[object GeneratorFunction]",At="[object Map]",ee="[object Number]",zn="[object Null]",En="[object Object]",bn="[object Promise]",ft="[object Proxy]",he="[object RegExp]",rn="[object Set]",Kt="[object String]",xn="[object Symbol]",fn="[object Undefined]",Gt="[object WeakMap]",Pn="[object ArrayBuffer]",jt="[object DataView]",xe="[object Float32Array]",Ke="[object Float64Array]",we="[object Int8Array]",rt="[object Int16Array]",Re="[object Int32Array]",Te="[object Uint8Array]",q="[object Uint8ClampedArray]",F="[object Uint16Array]",re="[object Uint32Array]",De=/[\\^$.*+?()[\]{}|]/g,k=/^\[object .+?Constructor\]$/,le=/^(?:0|[1-9]\d*)$/,te={};te[xe]=te[Ke]=te[we]=te[rt]=te[Re]=te[Te]=te[q]=te[F]=te[re]=!0,te[yt]=te[pe]=te[Pn]=te[Ft]=te[jt]=te[wt]=te[gt]=te[ht]=te[At]=te[ee]=te[En]=te[he]=te[rn]=te[Kt]=te[Gt]=!1;var ae=typeof j.g=="object"&&j.g&&j.g.Object===Object&&j.g,Le=typeof self=="object"&&self&&self.Object===Object&&self,Ae=ae||Le||Function("return this")(),_e=Fe&&!Fe.nodeType&&Fe,$e=_e&&!0&&qt&&!qt.nodeType&&qt,me=$e&&$e.exports===_e,Pt=me&&ae.process,kt=function(){try{return Pt&&Pt.binding&&Pt.binding("util")}catch(z){}}(),xt=kt&&kt.isTypedArray;function dt(z,ie){for(var E=-1,W=z==null?0:z.length,Oe=0,tt=[];++E<W;){var Mn=z[E];ie(Mn,E,z)&&(tt[Oe++]=Mn)}return tt}function ze(z,ie){for(var E=-1,W=ie.length,Oe=z.length;++E<W;)z[Oe+E]=ie[E];return z}function zt(z,ie){for(var E=-1,W=z==null?0:z.length;++E<W;)if(ie(z[E],E,z))return!0;return!1}function un(z,ie){for(var E=-1,W=Array(z);++E<z;)W[E]=ie(E);return W}function Sn(z){return function(ie){return z(ie)}}function Yt(z,ie){return z.has(ie)}function Tn(z,ie){return z==null?void 0:z[ie]}function an(z){var ie=-1,E=Array(z.size);return z.forEach(function(W,Oe){E[++ie]=[Oe,W]}),E}function An(z,ie){return function(E){return z(ie(E))}}function Rr(z){var ie=-1,E=Array(z.size);return z.forEach(function(W){E[++ie]=W}),E}var qr=Array.prototype,_t=Function.prototype,Lt=Object.prototype,Qt=Ae["__core-js_shared__"],ln=_t.toString,yn=Lt.hasOwnProperty,ur=function(){var z=/[^.]+$/.exec(Qt&&Qt.keys&&Qt.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""}(),jn=Lt.toString,Xr=RegExp("^"+ln.call(yn).replace(De,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jn=me?Ae.Buffer:void 0,ge=Ae.Symbol,je=Ae.Uint8Array,Xe=Lt.propertyIsEnumerable,Ye=qr.splice,Nt=ge?ge.toStringTag:void 0,Nn=Object.getOwnPropertySymbols,wn=Jn?Jn.isBuffer:void 0,Bt=An(Object.keys,Object),Vt=xi(Ae,"DataView"),ut=xi(Ae,"Map"),oe=xi(Ae,"Promise"),We=xi(Ae,"Set"),Tt=xi(Ae,"WeakMap"),nn=xi(Object,"create"),Zn=Go(Vt),hr=Go(ut),Hr=Go(oe),Li=Go(We),Qr=Go(Tt),ri=ge?ge.prototype:void 0,ei=ri?ri.valueOf:void 0;function ji(z){var ie=-1,E=z==null?0:z.length;for(this.clear();++ie<E;){var W=z[ie];this.set(W[0],W[1])}}function R(){this.__data__=nn?nn(null):{},this.size=0}function H(z){var ie=this.has(z)&&delete this.__data__[z];return this.size-=ie?1:0,ie}function S(z){var ie=this.__data__;if(nn){var E=ie[z];return E===B?void 0:E}return yn.call(ie,z)?ie[z]:void 0}function T(z){var ie=this.__data__;return nn?ie[z]!==void 0:yn.call(ie,z)}function Q(z,ie){var E=this.__data__;return this.size+=this.has(z)?0:1,E[z]=nn&&ie===void 0?B:ie,this}ji.prototype.clear=R,ji.prototype.delete=H,ji.prototype.get=S,ji.prototype.has=T,ji.prototype.set=Q;function se(z){var ie=-1,E=z==null?0:z.length;for(this.clear();++ie<E;){var W=z[ie];this.set(W[0],W[1])}}function Ze(){this.__data__=[],this.size=0}function st(z){var ie=this.__data__,E=Jt(ie,z);if(E<0)return!1;var W=ie.length-1;return E==W?ie.pop():Ye.call(ie,E,1),--this.size,!0}function qe(z){var ie=this.__data__,E=Jt(ie,z);return E<0?void 0:ie[E][1]}function vt(z){return Jt(this.__data__,z)>-1}function He(z,ie){var E=this.__data__,W=Jt(E,z);return W<0?(++this.size,E.push([z,ie])):E[W][1]=ie,this}se.prototype.clear=Ze,se.prototype.delete=st,se.prototype.get=qe,se.prototype.has=vt,se.prototype.set=He;function Be(z){var ie=-1,E=z==null?0:z.length;for(this.clear();++ie<E;){var W=z[ie];this.set(W[0],W[1])}}function bt(){this.size=0,this.__data__={hash:new ji,map:new(ut||se),string:new ji}}function Ce(z){var ie=so(this,z).delete(z);return this.size-=ie?1:0,ie}function be(z){return so(this,z).get(z)}function ke(z){return so(this,z).has(z)}function Ve(z,ie){var E=so(this,z),W=E.size;return E.set(z,ie),this.size+=E.size==W?0:1,this}Be.prototype.clear=bt,Be.prototype.delete=Ce,Be.prototype.get=be,Be.prototype.has=ke,Be.prototype.set=Ve;function et(z){var ie=-1,E=z==null?0:z.length;for(this.__data__=new Be;++ie<E;)this.add(z[ie])}function Qe(z){return this.__data__.set(z,B),this}function Ct(z){return this.__data__.has(z)}et.prototype.add=et.prototype.push=Qe,et.prototype.has=Ct;function cn(z){var ie=this.__data__=new se(z);this.size=ie.size}function Yn(){this.__data__=new se,this.size=0}function On(z){var ie=this.__data__,E=ie.delete(z);return this.size=ie.size,E}function Qn(z){return this.__data__.get(z)}function Vn(z){return this.__data__.has(z)}function Wn(z,ie){var E=this.__data__;if(E instanceof se){var W=E.__data__;if(!ut||W.length<b-1)return W.push([z,ie]),this.size=++E.size,this;E=this.__data__=new Be(W)}return E.set(z,ie),this.size=E.size,this}cn.prototype.clear=Yn,cn.prototype.delete=On,cn.prototype.get=Qn,cn.prototype.has=Vn,cn.prototype.set=Wn;function mr(z,ie){var E=Ps(z),W=!E&&ui(z),Oe=!E&&!W&&Fr(z),tt=!E&&!W&&!Oe&&de(z),Mn=E||W||Oe||tt,Dn=Mn?un(z.length,String):[],or=Dn.length;for(var Cn in z)(ie||yn.call(z,Cn))&&!(Mn&&(Cn=="length"||Oe&&(Cn=="offset"||Cn=="parent")||tt&&(Cn=="buffer"||Cn=="byteLength"||Cn=="byteOffset")||Ca(Cn,or)))&&Dn.push(Cn);return Dn}function Jt(z,ie){for(var E=z.length;E--;)if(Fs(z[E][0],ie))return E;return-1}function rr(z,ie,E){var W=ie(z);return Ps(z)?W:ze(W,E(z))}function Lr(z){return z==null?z===void 0?fn:zn:Nt&&Nt in Object(z)?$o(z):Po(z)}function Ti(z){return V(z)&&Lr(z)==yt}function bi(z,ie,E,W,Oe){return z===ie?!0:z==null||ie==null||!V(z)&&!V(ie)?z!==z&&ie!==ie:go(z,ie,E,W,bi,Oe)}function go(z,ie,E,W,Oe,tt){var Mn=Ps(z),Dn=Ps(ie),or=Mn?pe:Mo(z),Cn=Dn?pe:Mo(ie);or=or==yt?En:or,Cn=Cn==yt?En:Cn;var er=or==En,zr=Cn==En,gr=or==Cn;if(gr&&Fr(z)){if(!Fr(ie))return!1;Mn=!0,er=!1}if(gr&&!er)return tt||(tt=new cn),Mn||de(z)?fo(z,ie,E,W,Oe,tt):Ni(z,ie,or,E,W,Oe,tt);if(!(E&P)){var Ur=er&&yn.call(z,"__wrapped__"),fi=zr&&yn.call(ie,"__wrapped__");if(Ur||fi){var pi=Ur?z.value():z,di=fi?ie.value():ie;return tt||(tt=new cn),Oe(pi,di,E,W,tt)}}return gr?(tt||(tt=new cn),ci(z,ie,E,W,Oe,tt)):!1}function Yi(z){if(!O(z)||ra(z))return!1;var ie=cs(z)?Xr:k;return ie.test(Go(z))}function Gi(z){return V(z)&&Bi(z.length)&&!!te[Lr(z)]}function Di(z){if(!ia(z))return Bt(z);var ie=[];for(var E in Object(z))yn.call(z,E)&&E!="constructor"&&ie.push(E);return ie}function fo(z,ie,E,W,Oe,tt){var Mn=E&P,Dn=z.length,or=ie.length;if(Dn!=or&&!(Mn&&or>Dn))return!1;var Cn=tt.get(z);if(Cn&&tt.get(ie))return Cn==ie;var er=-1,zr=!0,gr=E&Y?new et:void 0;for(tt.set(z,ie),tt.set(ie,z);++er<Dn;){var Ur=z[er],fi=ie[er];if(W)var pi=Mn?W(fi,Ur,er,ie,z,tt):W(Ur,fi,er,z,ie,tt);if(pi!==void 0){if(pi)continue;zr=!1;break}if(gr){if(!zt(ie,function(di,yi){if(!Yt(gr,yi)&&(Ur===di||Oe(Ur,di,E,W,tt)))return gr.push(yi)})){zr=!1;break}}else if(!(Ur===fi||Oe(Ur,fi,E,W,tt))){zr=!1;break}}return tt.delete(z),tt.delete(ie),zr}function Ni(z,ie,E,W,Oe,tt,Mn){switch(E){case jt:if(z.byteLength!=ie.byteLength||z.byteOffset!=ie.byteOffset)return!1;z=z.buffer,ie=ie.buffer;case Pn:return!(z.byteLength!=ie.byteLength||!tt(new je(z),new je(ie)));case Ft:case wt:case ee:return Fs(+z,+ie);case gt:return z.name==ie.name&&z.message==ie.message;case he:case Kt:return z==ie+"";case At:var Dn=an;case rn:var or=W&P;if(Dn||(Dn=Rr),z.size!=ie.size&&!or)return!1;var Cn=Mn.get(z);if(Cn)return Cn==ie;W|=Y,Mn.set(z,ie);var er=fo(Dn(z),Dn(ie),W,Oe,tt,Mn);return Mn.delete(z),er;case xn:if(ei)return ei.call(z)==ei.call(ie)}return!1}function ci(z,ie,E,W,Oe,tt){var Mn=E&P,Dn=Ai(z),or=Dn.length,Cn=Ai(ie),er=Cn.length;if(or!=er&&!Mn)return!1;for(var zr=or;zr--;){var gr=Dn[zr];if(!(Mn?gr in ie:yn.call(ie,gr)))return!1}var Ur=tt.get(z);if(Ur&&tt.get(ie))return Ur==ie;var fi=!0;tt.set(z,ie),tt.set(ie,z);for(var pi=Mn;++zr<or;){gr=Dn[zr];var di=z[gr],yi=ie[gr];if(W)var Oi=Mn?W(yi,di,gr,ie,z,tt):W(di,yi,gr,z,ie,tt);if(!(Oi===void 0?di===yi||Oe(di,yi,E,W,tt):Oi)){fi=!1;break}pi||(pi=gr=="constructor")}if(fi&&!pi){var eo=z.constructor,Fi=ie.constructor;eo!=Fi&&"constructor"in z&&"constructor"in ie&&!(typeof eo=="function"&&eo instanceof eo&&typeof Fi=="function"&&Fi instanceof Fi)&&(fi=!1)}return tt.delete(z),tt.delete(ie),fi}function Ai(z){return rr(z,Ue,Qi)}function so(z,ie){var E=z.__data__;return Xa(ie)?E[typeof ie=="string"?"string":"hash"]:E.map}function xi(z,ie){var E=Tn(z,ie);return Yi(E)?E:void 0}function $o(z){var ie=yn.call(z,Nt),E=z[Nt];try{z[Nt]=void 0;var W=!0}catch(tt){}var Oe=jn.call(z);return W&&(ie?z[Nt]=E:delete z[Nt]),Oe}var Qi=Nn?function(z){return z==null?[]:(z=Object(z),dt(Nn(z),function(ie){return Xe.call(z,ie)}))}:pt,Mo=Lr;(Vt&&Mo(new Vt(new ArrayBuffer(1)))!=jt||ut&&Mo(new ut)!=At||oe&&Mo(oe.resolve())!=bn||We&&Mo(new We)!=rn||Tt&&Mo(new Tt)!=Gt)&&(Mo=function(z){var ie=Lr(z),E=ie==En?z.constructor:void 0,W=E?Go(E):"";if(W)switch(W){case Zn:return jt;case hr:return At;case Hr:return bn;case Li:return rn;case Qr:return Gt}return ie});function Ca(z,ie){return ie=ie==null?Je:ie,!!ie&&(typeof z=="number"||le.test(z))&&z>-1&&z%1==0&&z<ie}function Xa(z){var ie=typeof z;return ie=="string"||ie=="number"||ie=="symbol"||ie=="boolean"?z!=="__proto__":z===null}function ra(z){return!!ur&&ur in z}function ia(z){var ie=z&&z.constructor,E=typeof ie=="function"&&ie.prototype||Lt;return z===E}function Po(z){return jn.call(z)}function Go(z){if(z!=null){try{return ln.call(z)}catch(ie){}try{return z+""}catch(ie){}}return""}function Fs(z,ie){return z===ie||z!==z&&ie!==ie}var ui=Ti(function(){return arguments}())?Ti:function(z){return V(z)&&yn.call(z,"callee")&&!Xe.call(z,"callee")},Ps=Array.isArray;function ns(z){return z!=null&&Bi(z.length)&&!cs(z)}var Fr=wn||lt;function Wo(z,ie){return bi(z,ie)}function cs(z){if(!O(z))return!1;var ie=Lr(z);return ie==ht||ie==mt||ie==Ot||ie==ft}function Bi(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=Je}function O(z){var ie=typeof z;return z!=null&&(ie=="object"||ie=="function")}function V(z){return z!=null&&typeof z=="object"}var de=xt?Sn(xt):Gi;function Ue(z){return ns(z)?mr(z):Di(z)}function pt(){return[]}function lt(){return!1}qt.exports=Wo},72266:function(qt,Fe,j){qt=j.nmd(qt);var b=200,B="__lodash_hash_undefined__",P=800,Y=16,Je=9007199254740991,yt="[object Arguments]",pe="[object Array]",Ot="[object AsyncFunction]",Ft="[object Boolean]",wt="[object Date]",gt="[object Error]",ht="[object Function]",mt="[object GeneratorFunction]",At="[object Map]",ee="[object Number]",zn="[object Null]",En="[object Object]",bn="[object Proxy]",ft="[object RegExp]",he="[object Set]",rn="[object String]",Kt="[object Undefined]",xn="[object WeakMap]",fn="[object ArrayBuffer]",Gt="[object DataView]",Pn="[object Float32Array]",jt="[object Float64Array]",xe="[object Int8Array]",Ke="[object Int16Array]",we="[object Int32Array]",rt="[object Uint8Array]",Re="[object Uint8ClampedArray]",Te="[object Uint16Array]",q="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,re=/^\[object .+?Constructor\]$/,De=/^(?:0|[1-9]\d*)$/,k={};k[Pn]=k[jt]=k[xe]=k[Ke]=k[we]=k[rt]=k[Re]=k[Te]=k[q]=!0,k[yt]=k[pe]=k[fn]=k[Ft]=k[Gt]=k[wt]=k[gt]=k[ht]=k[At]=k[ee]=k[En]=k[ft]=k[he]=k[rn]=k[xn]=!1;var le=typeof j.g=="object"&&j.g&&j.g.Object===Object&&j.g,te=typeof self=="object"&&self&&self.Object===Object&&self,ae=le||te||Function("return this")(),Le=Fe&&!Fe.nodeType&&Fe,Ae=Le&&!0&&qt&&!qt.nodeType&&qt,_e=Ae&&Ae.exports===Le,$e=_e&&le.process,me=function(){try{var E=Ae&&Ae.require&&Ae.require("util").types;return E||$e&&$e.binding&&$e.binding("util")}catch(W){}}(),Pt=me&&me.isTypedArray;function kt(E,W,Oe){switch(Oe.length){case 0:return E.call(W);case 1:return E.call(W,Oe[0]);case 2:return E.call(W,Oe[0],Oe[1]);case 3:return E.call(W,Oe[0],Oe[1],Oe[2])}return E.apply(W,Oe)}function xt(E,W){for(var Oe=-1,tt=Array(E);++Oe<E;)tt[Oe]=W(Oe);return tt}function dt(E){return function(W){return E(W)}}function ze(E,W){return E==null?void 0:E[W]}function zt(E,W){return function(Oe){return E(W(Oe))}}var un=Array.prototype,Sn=Function.prototype,Yt=Object.prototype,Tn=ae["__core-js_shared__"],an=Sn.toString,An=Yt.hasOwnProperty,Rr=function(){var E=/[^.]+$/.exec(Tn&&Tn.keys&&Tn.keys.IE_PROTO||"");return E?"Symbol(src)_1."+E:""}(),qr=Yt.toString,_t=an.call(Object),Lt=RegExp("^"+an.call(An).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qt=_e?ae.Buffer:void 0,ln=ae.Symbol,yn=ae.Uint8Array,ur=Qt?Qt.allocUnsafe:void 0,jn=zt(Object.getPrototypeOf,Object),Xr=Object.create,Jn=Yt.propertyIsEnumerable,ge=un.splice,je=ln?ln.toStringTag:void 0,Xe=function(){try{var E=Gi(Object,"defineProperty");return E({},"",{}),E}catch(W){}}(),Ye=Qt?Qt.isBuffer:void 0,Nt=Math.max,Nn=Date.now,wn=Gi(ae,"Map"),Bt=Gi(Object,"create"),Vt=function(){function E(){}return function(W){if(!cs(W))return{};if(Xr)return Xr(W);E.prototype=W;var Oe=new E;return E.prototype=void 0,Oe}}();function ut(E){var W=-1,Oe=E==null?0:E.length;for(this.clear();++W<Oe;){var tt=E[W];this.set(tt[0],tt[1])}}function oe(){this.__data__=Bt?Bt(null):{},this.size=0}function We(E){var W=this.has(E)&&delete this.__data__[E];return this.size-=W?1:0,W}function Tt(E){var W=this.__data__;if(Bt){var Oe=W[E];return Oe===B?void 0:Oe}return An.call(W,E)?W[E]:void 0}function nn(E){var W=this.__data__;return Bt?W[E]!==void 0:An.call(W,E)}function Zn(E,W){var Oe=this.__data__;return this.size+=this.has(E)?0:1,Oe[E]=Bt&&W===void 0?B:W,this}ut.prototype.clear=oe,ut.prototype.delete=We,ut.prototype.get=Tt,ut.prototype.has=nn,ut.prototype.set=Zn;function hr(E){var W=-1,Oe=E==null?0:E.length;for(this.clear();++W<Oe;){var tt=E[W];this.set(tt[0],tt[1])}}function Hr(){this.__data__=[],this.size=0}function Li(E){var W=this.__data__,Oe=be(W,E);if(Oe<0)return!1;var tt=W.length-1;return Oe==tt?W.pop():ge.call(W,Oe,1),--this.size,!0}function Qr(E){var W=this.__data__,Oe=be(W,E);return Oe<0?void 0:W[Oe][1]}function ri(E){return be(this.__data__,E)>-1}function ei(E,W){var Oe=this.__data__,tt=be(Oe,E);return tt<0?(++this.size,Oe.push([E,W])):Oe[tt][1]=W,this}hr.prototype.clear=Hr,hr.prototype.delete=Li,hr.prototype.get=Qr,hr.prototype.has=ri,hr.prototype.set=ei;function ji(E){var W=-1,Oe=E==null?0:E.length;for(this.clear();++W<Oe;){var tt=E[W];this.set(tt[0],tt[1])}}function R(){this.size=0,this.__data__={hash:new ut,map:new(wn||hr),string:new ut}}function H(E){var W=Yi(this,E).delete(E);return this.size-=W?1:0,W}function S(E){return Yi(this,E).get(E)}function T(E){return Yi(this,E).has(E)}function Q(E,W){var Oe=Yi(this,E),tt=Oe.size;return Oe.set(E,W),this.size+=Oe.size==tt?0:1,this}ji.prototype.clear=R,ji.prototype.delete=H,ji.prototype.get=S,ji.prototype.has=T,ji.prototype.set=Q;function se(E){var W=this.__data__=new hr(E);this.size=W.size}function Ze(){this.__data__=new hr,this.size=0}function st(E){var W=this.__data__,Oe=W.delete(E);return this.size=W.size,Oe}function qe(E){return this.__data__.get(E)}function vt(E){return this.__data__.has(E)}function He(E,W){var Oe=this.__data__;if(Oe instanceof hr){var tt=Oe.__data__;if(!wn||tt.length<b-1)return tt.push([E,W]),this.size=++Oe.size,this;Oe=this.__data__=new ji(tt)}return Oe.set(E,W),this.size=Oe.size,this}se.prototype.clear=Ze,se.prototype.delete=st,se.prototype.get=qe,se.prototype.has=vt,se.prototype.set=He;function Be(E,W){var Oe=Fs(E),tt=!Oe&&Go(E),Mn=!Oe&&!tt&&ns(E),Dn=!Oe&&!tt&&!Mn&&V(E),or=Oe||tt||Mn||Dn,Cn=or?xt(E.length,String):[],er=Cn.length;for(var zr in E)(W||An.call(E,zr))&&!(or&&(zr=="length"||Mn&&(zr=="offset"||zr=="parent")||Dn&&(zr=="buffer"||zr=="byteLength"||zr=="byteOffset")||Ni(zr,er)))&&Cn.push(zr);return Cn}function bt(E,W,Oe){(Oe!==void 0&&!Po(E[W],Oe)||Oe===void 0&&!(W in E))&&ke(E,W,Oe)}function Ce(E,W,Oe){var tt=E[W];(!(An.call(E,W)&&Po(tt,Oe))||Oe===void 0&&!(W in E))&&ke(E,W,Oe)}function be(E,W){for(var Oe=E.length;Oe--;)if(Po(E[Oe][0],W))return Oe;return-1}function ke(E,W,Oe){W=="__proto__"&&Xe?Xe(E,W,{configurable:!0,enumerable:!0,value:Oe,writable:!0}):E[W]=Oe}var Ve=go();function et(E){return E==null?E===void 0?Kt:zn:je&&je in Object(E)?Di(E):Qi(E)}function Qe(E){return Bi(E)&&et(E)==yt}function Ct(E){if(!cs(E)||so(E))return!1;var W=Fr(E)?Lt:re;return W.test(ia(E))}function cn(E){return Bi(E)&&Wo(E.length)&&!!k[et(E)]}function Yn(E){if(!cs(E))return $o(E);var W=xi(E),Oe=[];for(var tt in E)tt=="constructor"&&(W||!An.call(E,tt))||Oe.push(tt);return Oe}function On(E,W,Oe,tt,Mn){E!==W&&Ve(W,function(Dn,or){if(Mn||(Mn=new se),cs(Dn))Qn(E,W,or,Oe,On,tt,Mn);else{var Cn=tt?tt(Ca(E,or),Dn,or+"",E,W,Mn):void 0;Cn===void 0&&(Cn=Dn),bt(E,or,Cn)}},Ue)}function Qn(E,W,Oe,tt,Mn,Dn,or){var Cn=Ca(E,Oe),er=Ca(W,Oe),zr=or.get(er);if(zr){bt(E,Oe,zr);return}var gr=Dn?Dn(Cn,er,Oe+"",E,W,or):void 0,Ur=gr===void 0;if(Ur){var fi=Fs(er),pi=!fi&&ns(er),di=!fi&&!pi&&V(er);gr=er,fi||pi||di?Fs(Cn)?gr=Cn:Ps(Cn)?gr=Lr(Cn):pi?(Ur=!1,gr=mr(er,!0)):di?(Ur=!1,gr=rr(er,!0)):gr=[]:O(er)||Go(er)?(gr=Cn,Go(Cn)?gr=de(Cn):(!cs(Cn)||Fr(Cn))&&(gr=fo(er))):Ur=!1}Ur&&(or.set(er,gr),Mn(gr,er,tt,Dn,or),or.delete(er)),bt(E,Oe,gr)}function Vn(E,W){return Xa(Mo(E,W,z),E+"")}var Wn=Xe?function(E,W){return Xe(E,"toString",{configurable:!0,enumerable:!1,value:lt(W),writable:!0})}:z;function mr(E,W){if(W)return E.slice();var Oe=E.length,tt=ur?ur(Oe):new E.constructor(Oe);return E.copy(tt),tt}function Jt(E){var W=new E.constructor(E.byteLength);return new yn(W).set(new yn(E)),W}function rr(E,W){var Oe=W?Jt(E.buffer):E.buffer;return new E.constructor(Oe,E.byteOffset,E.length)}function Lr(E,W){var Oe=-1,tt=E.length;for(W||(W=Array(tt));++Oe<tt;)W[Oe]=E[Oe];return W}function Ti(E,W,Oe,tt){var Mn=!Oe;Oe||(Oe={});for(var Dn=-1,or=W.length;++Dn<or;){var Cn=W[Dn],er=tt?tt(Oe[Cn],E[Cn],Cn,Oe,E):void 0;er===void 0&&(er=E[Cn]),Mn?ke(Oe,Cn,er):Ce(Oe,Cn,er)}return Oe}function bi(E){return Vn(function(W,Oe){var tt=-1,Mn=Oe.length,Dn=Mn>1?Oe[Mn-1]:void 0,or=Mn>2?Oe[2]:void 0;for(Dn=E.length>3&&typeof Dn=="function"?(Mn--,Dn):void 0,or&&ci(Oe[0],Oe[1],or)&&(Dn=Mn<3?void 0:Dn,Mn=1),W=Object(W);++tt<Mn;){var Cn=Oe[tt];Cn&&E(W,Cn,tt,Dn)}return W})}function go(E){return function(W,Oe,tt){for(var Mn=-1,Dn=Object(W),or=tt(W),Cn=or.length;Cn--;){var er=or[E?Cn:++Mn];if(Oe(Dn[er],er,Dn)===!1)break}return W}}function Yi(E,W){var Oe=E.__data__;return Ai(W)?Oe[typeof W=="string"?"string":"hash"]:Oe.map}function Gi(E,W){var Oe=ze(E,W);return Ct(Oe)?Oe:void 0}function Di(E){var W=An.call(E,je),Oe=E[je];try{E[je]=void 0;var tt=!0}catch(Dn){}var Mn=qr.call(E);return tt&&(W?E[je]=Oe:delete E[je]),Mn}function fo(E){return typeof E.constructor=="function"&&!xi(E)?Vt(jn(E)):{}}function Ni(E,W){var Oe=typeof E;return W=W==null?Je:W,!!W&&(Oe=="number"||Oe!="symbol"&&De.test(E))&&E>-1&&E%1==0&&E<W}function ci(E,W,Oe){if(!cs(Oe))return!1;var tt=typeof W;return(tt=="number"?ui(Oe)&&Ni(W,Oe.length):tt=="string"&&W in Oe)?Po(Oe[W],E):!1}function Ai(E){var W=typeof E;return W=="string"||W=="number"||W=="symbol"||W=="boolean"?E!=="__proto__":E===null}function so(E){return!!Rr&&Rr in E}function xi(E){var W=E&&E.constructor,Oe=typeof W=="function"&&W.prototype||Yt;return E===Oe}function $o(E){var W=[];if(E!=null)for(var Oe in Object(E))W.push(Oe);return W}function Qi(E){return qr.call(E)}function Mo(E,W,Oe){return W=Nt(W===void 0?E.length-1:W,0),function(){for(var tt=arguments,Mn=-1,Dn=Nt(tt.length-W,0),or=Array(Dn);++Mn<Dn;)or[Mn]=tt[W+Mn];Mn=-1;for(var Cn=Array(W+1);++Mn<W;)Cn[Mn]=tt[Mn];return Cn[W]=Oe(or),kt(E,this,Cn)}}function Ca(E,W){if(!(W==="constructor"&&typeof E[W]=="function")&&W!="__proto__")return E[W]}var Xa=ra(Wn);function ra(E){var W=0,Oe=0;return function(){var tt=Nn(),Mn=Y-(tt-Oe);if(Oe=tt,Mn>0){if(++W>=P)return arguments[0]}else W=0;return E.apply(void 0,arguments)}}function ia(E){if(E!=null){try{return an.call(E)}catch(W){}try{return E+""}catch(W){}}return""}function Po(E,W){return E===W||E!==E&&W!==W}var Go=Qe(function(){return arguments}())?Qe:function(E){return Bi(E)&&An.call(E,"callee")&&!Jn.call(E,"callee")},Fs=Array.isArray;function ui(E){return E!=null&&Wo(E.length)&&!Fr(E)}function Ps(E){return Bi(E)&&ui(E)}var ns=Ye||ie;function Fr(E){if(!cs(E))return!1;var W=et(E);return W==ht||W==mt||W==Ot||W==bn}function Wo(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=Je}function cs(E){var W=typeof E;return E!=null&&(W=="object"||W=="function")}function Bi(E){return E!=null&&typeof E=="object"}function O(E){if(!Bi(E)||et(E)!=En)return!1;var W=jn(E);if(W===null)return!0;var Oe=An.call(W,"constructor")&&W.constructor;return typeof Oe=="function"&&Oe instanceof Oe&&an.call(Oe)==_t}var V=Pt?dt(Pt):cn;function de(E){return Ti(E,Ue(E))}function Ue(E){return ui(E)?Be(E,!0):Yn(E)}var pt=bi(function(E,W,Oe){On(E,W,Oe)});function lt(E){return function(){return E}}function z(E){return E}function ie(){return!1}qt.exports=pt},44929:function(qt,Fe,j){"use strict";function b(k){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(le){return typeof le}:function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le},b(k)}Object.defineProperty(Fe,"__esModule",{value:!0}),Object.defineProperty(Fe,"DraggableCore",{enumerable:!0,get:function(){return Ft.default}}),Fe.default=void 0;var B=At(j(50959)),P=ht(j(40507)),Y=ht(j(10422)),Je=ht(j(45924)),yt=j(3767),pe=j(21476),Ot=j(89323),Ft=ht(j(67703)),wt=ht(j(21261)),gt=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function ht(k){return k&&k.__esModule?k:{default:k}}function mt(k){if(typeof WeakMap!="function")return null;var le=new WeakMap,te=new WeakMap;return(mt=function(Le){return Le?te:le})(k)}function At(k,le){if(!le&&k&&k.__esModule)return k;if(k===null||b(k)!=="object"&&typeof k!="function")return{default:k};var te=mt(le);if(te&&te.has(k))return te.get(k);var ae={},Le=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ae in k)if(Ae!=="default"&&Object.prototype.hasOwnProperty.call(k,Ae)){var _e=Le?Object.getOwnPropertyDescriptor(k,Ae):null;_e&&(_e.get||_e.set)?Object.defineProperty(ae,Ae,_e):ae[Ae]=k[Ae]}return ae.default=k,te&&te.set(k,ae),ae}function ee(){return ee=Object.assign||function(k){for(var le=1;le<arguments.length;le++){var te=arguments[le];for(var ae in te)Object.prototype.hasOwnProperty.call(te,ae)&&(k[ae]=te[ae])}return k},ee.apply(this,arguments)}function zn(k,le){if(k==null)return{};var te=En(k,le),ae,Le;if(Object.getOwnPropertySymbols){var Ae=Object.getOwnPropertySymbols(k);for(Le=0;Le<Ae.length;Le++)ae=Ae[Le],!(le.indexOf(ae)>=0)&&Object.prototype.propertyIsEnumerable.call(k,ae)&&(te[ae]=k[ae])}return te}function En(k,le){if(k==null)return{};var te={},ae=Object.keys(k),Le,Ae;for(Ae=0;Ae<ae.length;Ae++)Le=ae[Ae],!(le.indexOf(Le)>=0)&&(te[Le]=k[Le]);return te}function bn(k,le){var te=Object.keys(k);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(k);le&&(ae=ae.filter(function(Le){return Object.getOwnPropertyDescriptor(k,Le).enumerable})),te.push.apply(te,ae)}return te}function ft(k){for(var le=1;le<arguments.length;le++){var te=arguments[le]!=null?arguments[le]:{};le%2?bn(Object(te),!0).forEach(function(ae){re(k,ae,te[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(te)):bn(Object(te)).forEach(function(ae){Object.defineProperty(k,ae,Object.getOwnPropertyDescriptor(te,ae))})}return k}function he(k,le){return Gt(k)||fn(k,le)||Kt(k,le)||rn()}function rn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kt(k,le){if(k){if(typeof k=="string")return xn(k,le);var te=Object.prototype.toString.call(k).slice(8,-1);if(te==="Object"&&k.constructor&&(te=k.constructor.name),te==="Map"||te==="Set")return Array.from(k);if(te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return xn(k,le)}}function xn(k,le){(le==null||le>k.length)&&(le=k.length);for(var te=0,ae=new Array(le);te<le;te++)ae[te]=k[te];return ae}function fn(k,le){var te=k==null?null:typeof Symbol!="undefined"&&k[Symbol.iterator]||k["@@iterator"];if(te!=null){var ae=[],Le=!0,Ae=!1,_e,$e;try{for(te=te.call(k);!(Le=(_e=te.next()).done)&&(ae.push(_e.value),!(le&&ae.length===le));Le=!0);}catch(me){Ae=!0,$e=me}finally{try{!Le&&te.return!=null&&te.return()}finally{if(Ae)throw $e}}return ae}}function Gt(k){if(Array.isArray(k))return k}function Pn(k,le){if(!(k instanceof le))throw new TypeError("Cannot call a class as a function")}function jt(k,le){for(var te=0;te<le.length;te++){var ae=le[te];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(k,ae.key,ae)}}function xe(k,le,te){return le&&jt(k.prototype,le),te&&jt(k,te),Object.defineProperty(k,"prototype",{writable:!1}),k}function Ke(k,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(le&&le.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),le&&we(k,le)}function we(k,le){return we=Object.setPrototypeOf||function(ae,Le){return ae.__proto__=Le,ae},we(k,le)}function rt(k){var le=q();return function(){var ae=F(k),Le;if(le){var Ae=F(this).constructor;Le=Reflect.construct(ae,arguments,Ae)}else Le=ae.apply(this,arguments);return Re(this,Le)}}function Re(k,le){if(le&&(b(le)==="object"||typeof le=="function"))return le;if(le!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Te(k)}function Te(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function q(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(k){return!1}}function F(k){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(te){return te.__proto__||Object.getPrototypeOf(te)},F(k)}function re(k,le,te){return le in k?Object.defineProperty(k,le,{value:te,enumerable:!0,configurable:!0,writable:!0}):k[le]=te,k}var De=function(k){Ke(te,k);var le=rt(te);function te(ae){var Le;return Pn(this,te),Le=le.call(this,ae),re(Te(Le),"onDragStart",function(Ae,_e){(0,wt.default)("Draggable: onDragStart: %j",_e);var $e=Le.props.onStart(Ae,(0,pe.createDraggableData)(Te(Le),_e));if($e===!1)return!1;Le.setState({dragging:!0,dragged:!0})}),re(Te(Le),"onDrag",function(Ae,_e){if(!Le.state.dragging)return!1;(0,wt.default)("Draggable: onDrag: %j",_e);var $e=(0,pe.createDraggableData)(Te(Le),_e),me={x:$e.x,y:$e.y};if(Le.props.bounds){var Pt=me.x,kt=me.y;me.x+=Le.state.slackX,me.y+=Le.state.slackY;var xt=(0,pe.getBoundPosition)(Te(Le),me.x,me.y),dt=he(xt,2),ze=dt[0],zt=dt[1];me.x=ze,me.y=zt,me.slackX=Le.state.slackX+(Pt-me.x),me.slackY=Le.state.slackY+(kt-me.y),$e.x=me.x,$e.y=me.y,$e.deltaX=me.x-Le.state.x,$e.deltaY=me.y-Le.state.y}var un=Le.props.onDrag(Ae,$e);if(un===!1)return!1;Le.setState(me)}),re(Te(Le),"onDragStop",function(Ae,_e){if(!Le.state.dragging)return!1;var $e=Le.props.onStop(Ae,(0,pe.createDraggableData)(Te(Le),_e));if($e===!1)return!1;(0,wt.default)("Draggable: onDragStop: %j",_e);var me={dragging:!1,slackX:0,slackY:0},Pt=Boolean(Le.props.position);if(Pt){var kt=Le.props.position,xt=kt.x,dt=kt.y;me.x=xt,me.y=dt}Le.setState(me)}),Le.state={dragging:!1,dragged:!1,x:ae.position?ae.position.x:ae.defaultPosition.x,y:ae.position?ae.position.y:ae.defaultPosition.y,prevPropsPosition:ft({},ae.position),slackX:0,slackY:0,isElementSVG:!1},ae.position&&!(ae.onDrag||ae.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),Le}return xe(te,[{key:"componentDidMount",value:function(){typeof window.SVGElement!="undefined"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var Le,Ae,_e;return(Le=(Ae=this.props)===null||Ae===void 0||(_e=Ae.nodeRef)===null||_e===void 0?void 0:_e.current)!==null&&Le!==void 0?Le:Y.default.findDOMNode(this)}},{key:"render",value:function(){var Le,Ae=this.props,_e=Ae.axis,$e=Ae.bounds,me=Ae.children,Pt=Ae.defaultPosition,kt=Ae.defaultClassName,xt=Ae.defaultClassNameDragging,dt=Ae.defaultClassNameDragged,ze=Ae.position,zt=Ae.positionOffset,un=Ae.scale,Sn=zn(Ae,gt),Yt={},Tn=null,an=Boolean(ze),An=!an||this.state.dragging,Rr=ze||Pt,qr={x:(0,pe.canDragX)(this)&&An?this.state.x:Rr.x,y:(0,pe.canDragY)(this)&&An?this.state.y:Rr.y};this.state.isElementSVG?Tn=(0,yt.createSVGTransform)(qr,zt):Yt=(0,yt.createCSSTransform)(qr,zt);var _t=(0,Je.default)(me.props.className||"",kt,(Le={},re(Le,xt,this.state.dragging),re(Le,dt,this.state.dragged),Le));return B.createElement(Ft.default,ee({},Sn,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),B.cloneElement(B.Children.only(me),{className:_t,style:ft(ft({},me.props.style),Yt),transform:Tn}))}}],[{key:"getDerivedStateFromProps",value:function(Le,Ae){var _e=Le.position,$e=Ae.prevPropsPosition;return _e&&(!$e||_e.x!==$e.x||_e.y!==$e.y)?((0,wt.default)("Draggable: getDerivedStateFromProps %j",{position:_e,prevPropsPosition:$e}),{x:_e.x,y:_e.y,prevPropsPosition:ft({},_e)}):null}}]),te}(B.Component);Fe.default=De,re(De,"displayName","Draggable"),re(De,"propTypes",ft(ft({},Ft.default.propTypes),{},{axis:P.default.oneOf(["both","x","y","none"]),bounds:P.default.oneOfType([P.default.shape({left:P.default.number,right:P.default.number,top:P.default.number,bottom:P.default.number}),P.default.string,P.default.oneOf([!1])]),defaultClassName:P.default.string,defaultClassNameDragging:P.default.string,defaultClassNameDragged:P.default.string,defaultPosition:P.default.shape({x:P.default.number,y:P.default.number}),positionOffset:P.default.shape({x:P.default.oneOfType([P.default.number,P.default.string]),y:P.default.oneOfType([P.default.number,P.default.string])}),position:P.default.shape({x:P.default.number,y:P.default.number}),className:Ot.dontSetMe,style:Ot.dontSetMe,transform:Ot.dontSetMe})),re(De,"defaultProps",ft(ft({},Ft.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},67703:function(qt,Fe,j){"use strict";function b(Re){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Te){return typeof Te}:function(Te){return Te&&typeof Symbol=="function"&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te},b(Re)}Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.default=void 0;var B=gt(j(50959)),P=Ft(j(40507)),Y=Ft(j(10422)),Je=j(3767),yt=j(21476),pe=j(89323),Ot=Ft(j(21261));function Ft(Re){return Re&&Re.__esModule?Re:{default:Re}}function wt(Re){if(typeof WeakMap!="function")return null;var Te=new WeakMap,q=new WeakMap;return(wt=function(re){return re?q:Te})(Re)}function gt(Re,Te){if(!Te&&Re&&Re.__esModule)return Re;if(Re===null||b(Re)!=="object"&&typeof Re!="function")return{default:Re};var q=wt(Te);if(q&&q.has(Re))return q.get(Re);var F={},re=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var De in Re)if(De!=="default"&&Object.prototype.hasOwnProperty.call(Re,De)){var k=re?Object.getOwnPropertyDescriptor(Re,De):null;k&&(k.get||k.set)?Object.defineProperty(F,De,k):F[De]=Re[De]}return F.default=Re,q&&q.set(Re,F),F}function ht(Re,Te){return En(Re)||zn(Re,Te)||At(Re,Te)||mt()}function mt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function At(Re,Te){if(Re){if(typeof Re=="string")return ee(Re,Te);var q=Object.prototype.toString.call(Re).slice(8,-1);if(q==="Object"&&Re.constructor&&(q=Re.constructor.name),q==="Map"||q==="Set")return Array.from(Re);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return ee(Re,Te)}}function ee(Re,Te){(Te==null||Te>Re.length)&&(Te=Re.length);for(var q=0,F=new Array(Te);q<Te;q++)F[q]=Re[q];return F}function zn(Re,Te){var q=Re==null?null:typeof Symbol!="undefined"&&Re[Symbol.iterator]||Re["@@iterator"];if(q!=null){var F=[],re=!0,De=!1,k,le;try{for(q=q.call(Re);!(re=(k=q.next()).done)&&(F.push(k.value),!(Te&&F.length===Te));re=!0);}catch(te){De=!0,le=te}finally{try{!re&&q.return!=null&&q.return()}finally{if(De)throw le}}return F}}function En(Re){if(Array.isArray(Re))return Re}function bn(Re,Te){if(!(Re instanceof Te))throw new TypeError("Cannot call a class as a function")}function ft(Re,Te){for(var q=0;q<Te.length;q++){var F=Te[q];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(Re,F.key,F)}}function he(Re,Te,q){return Te&&ft(Re.prototype,Te),q&&ft(Re,q),Object.defineProperty(Re,"prototype",{writable:!1}),Re}function rn(Re,Te){if(typeof Te!="function"&&Te!==null)throw new TypeError("Super expression must either be null or a function");Re.prototype=Object.create(Te&&Te.prototype,{constructor:{value:Re,writable:!0,configurable:!0}}),Object.defineProperty(Re,"prototype",{writable:!1}),Te&&Kt(Re,Te)}function Kt(Re,Te){return Kt=Object.setPrototypeOf||function(F,re){return F.__proto__=re,F},Kt(Re,Te)}function xn(Re){var Te=Pn();return function(){var F=jt(Re),re;if(Te){var De=jt(this).constructor;re=Reflect.construct(F,arguments,De)}else re=F.apply(this,arguments);return fn(this,re)}}function fn(Re,Te){if(Te&&(b(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gt(Re)}function Gt(Re){if(Re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Re}function Pn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Re){return!1}}function jt(Re){return jt=Object.setPrototypeOf?Object.getPrototypeOf:function(q){return q.__proto__||Object.getPrototypeOf(q)},jt(Re)}function xe(Re,Te,q){return Te in Re?Object.defineProperty(Re,Te,{value:q,enumerable:!0,configurable:!0,writable:!0}):Re[Te]=q,Re}var Ke={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},we=Ke.mouse,rt=function(Re){rn(q,Re);var Te=xn(q);function q(){var F;bn(this,q);for(var re=arguments.length,De=new Array(re),k=0;k<re;k++)De[k]=arguments[k];return F=Te.call.apply(Te,[this].concat(De)),xe(Gt(F),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),xe(Gt(F),"mounted",!1),xe(Gt(F),"handleDragStart",function(le){if(F.props.onMouseDown(le),!F.props.allowAnyClick&&typeof le.button=="number"&&le.button!==0)return!1;var te=F.findDOMNode();if(!te||!te.ownerDocument||!te.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var ae=te.ownerDocument;if(!(F.props.disabled||!(le.target instanceof ae.defaultView.Node)||F.props.handle&&!(0,Je.matchesSelectorAndParentsTo)(le.target,F.props.handle,te)||F.props.cancel&&(0,Je.matchesSelectorAndParentsTo)(le.target,F.props.cancel,te))){le.type==="touchstart"&&le.preventDefault();var Le=(0,Je.getTouchIdentifier)(le);F.setState({touchIdentifier:Le});var Ae=(0,yt.getControlPosition)(le,Le,Gt(F));if(Ae!=null){var _e=Ae.x,$e=Ae.y,me=(0,yt.createCoreData)(Gt(F),_e,$e);(0,Ot.default)("DraggableCore: handleDragStart: %j",me),(0,Ot.default)("calling",F.props.onStart);var Pt=F.props.onStart(le,me);Pt===!1||F.mounted===!1||(F.props.enableUserSelectHack&&(0,Je.addUserSelectStyles)(ae),F.setState({dragging:!0,lastX:_e,lastY:$e}),(0,Je.addEvent)(ae,we.move,F.handleDrag),(0,Je.addEvent)(ae,we.stop,F.handleDragStop))}}}),xe(Gt(F),"handleDrag",function(le){var te=(0,yt.getControlPosition)(le,F.state.touchIdentifier,Gt(F));if(te!=null){var ae=te.x,Le=te.y;if(Array.isArray(F.props.grid)){var Ae=ae-F.state.lastX,_e=Le-F.state.lastY,$e=(0,yt.snapToGrid)(F.props.grid,Ae,_e),me=ht($e,2);if(Ae=me[0],_e=me[1],!Ae&&!_e)return;ae=F.state.lastX+Ae,Le=F.state.lastY+_e}var Pt=(0,yt.createCoreData)(Gt(F),ae,Le);(0,Ot.default)("DraggableCore: handleDrag: %j",Pt);var kt=F.props.onDrag(le,Pt);if(kt===!1||F.mounted===!1){try{F.handleDragStop(new MouseEvent("mouseup"))}catch(dt){var xt=document.createEvent("MouseEvents");xt.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),F.handleDragStop(xt)}return}F.setState({lastX:ae,lastY:Le})}}),xe(Gt(F),"handleDragStop",function(le){if(F.state.dragging){var te=(0,yt.getControlPosition)(le,F.state.touchIdentifier,Gt(F));if(te!=null){var ae=te.x,Le=te.y;if(Array.isArray(F.props.grid)){var Ae=ae-F.state.lastX||0,_e=Le-F.state.lastY||0,$e=(0,yt.snapToGrid)(F.props.grid,Ae,_e),me=ht($e,2);Ae=me[0],_e=me[1],ae=F.state.lastX+Ae,Le=F.state.lastY+_e}var Pt=(0,yt.createCoreData)(Gt(F),ae,Le),kt=F.props.onStop(le,Pt);if(kt===!1||F.mounted===!1)return!1;var xt=F.findDOMNode();xt&&F.props.enableUserSelectHack&&(0,Je.removeUserSelectStyles)(xt.ownerDocument),(0,Ot.default)("DraggableCore: handleDragStop: %j",Pt),F.setState({dragging:!1,lastX:NaN,lastY:NaN}),xt&&((0,Ot.default)("DraggableCore: Removing handlers"),(0,Je.removeEvent)(xt.ownerDocument,we.move,F.handleDrag),(0,Je.removeEvent)(xt.ownerDocument,we.stop,F.handleDragStop))}}}),xe(Gt(F),"onMouseDown",function(le){return we=Ke.mouse,F.handleDragStart(le)}),xe(Gt(F),"onMouseUp",function(le){return we=Ke.mouse,F.handleDragStop(le)}),xe(Gt(F),"onTouchStart",function(le){return we=Ke.touch,F.handleDragStart(le)}),xe(Gt(F),"onTouchEnd",function(le){return we=Ke.touch,F.handleDragStop(le)}),F}return he(q,[{key:"componentDidMount",value:function(){this.mounted=!0;var re=this.findDOMNode();re&&(0,Je.addEvent)(re,Ke.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var re=this.findDOMNode();if(re){var De=re.ownerDocument;(0,Je.removeEvent)(De,Ke.mouse.move,this.handleDrag),(0,Je.removeEvent)(De,Ke.touch.move,this.handleDrag),(0,Je.removeEvent)(De,Ke.mouse.stop,this.handleDragStop),(0,Je.removeEvent)(De,Ke.touch.stop,this.handleDragStop),(0,Je.removeEvent)(re,Ke.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Je.removeUserSelectStyles)(De)}}},{key:"findDOMNode",value:function(){var re,De,k;return(re=this.props)!==null&&re!==void 0&&re.nodeRef?(De=this.props)===null||De===void 0||(k=De.nodeRef)===null||k===void 0?void 0:k.current:Y.default.findDOMNode(this)}},{key:"render",value:function(){return B.cloneElement(B.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),q}(B.Component);Fe.default=rt,xe(rt,"displayName","DraggableCore"),xe(rt,"propTypes",{allowAnyClick:P.default.bool,disabled:P.default.bool,enableUserSelectHack:P.default.bool,offsetParent:function(Te,q){if(Te[q]&&Te[q].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:P.default.arrayOf(P.default.number),handle:P.default.string,cancel:P.default.string,nodeRef:P.default.object,onStart:P.default.func,onDrag:P.default.func,onStop:P.default.func,onMouseDown:P.default.func,scale:P.default.number,className:pe.dontSetMe,style:pe.dontSetMe,transform:pe.dontSetMe}),xe(rt,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},74901:function(qt,Fe,j){"use strict";var b=j(44929),B=b.default,P=b.DraggableCore;qt.exports=B,qt.exports.default=B,qt.exports.DraggableCore=P},3767:function(qt,Fe,j){"use strict";function b(xe){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ke){return typeof Ke}:function(Ke){return Ke&&typeof Symbol=="function"&&Ke.constructor===Symbol&&Ke!==Symbol.prototype?"symbol":typeof Ke},b(xe)}Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.addClassName=Pn,Fe.addEvent=ht,Fe.addUserSelectStyles=fn,Fe.createCSSTransform=ft,Fe.createSVGTransform=he,Fe.getTouch=Kt,Fe.getTouchIdentifier=xn,Fe.getTranslation=rn,Fe.innerHeight=zn,Fe.innerWidth=En,Fe.matchesSelector=wt,Fe.matchesSelectorAndParentsTo=gt,Fe.offsetXYFromParent=bn,Fe.outerHeight=At,Fe.outerWidth=ee,Fe.removeClassName=jt,Fe.removeEvent=mt,Fe.removeUserSelectStyles=Gt;var B=j(89323),P=Je(j(14642));function Y(xe){if(typeof WeakMap!="function")return null;var Ke=new WeakMap,we=new WeakMap;return(Y=function(Re){return Re?we:Ke})(xe)}function Je(xe,Ke){if(!Ke&&xe&&xe.__esModule)return xe;if(xe===null||b(xe)!=="object"&&typeof xe!="function")return{default:xe};var we=Y(Ke);if(we&&we.has(xe))return we.get(xe);var rt={},Re=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Te in xe)if(Te!=="default"&&Object.prototype.hasOwnProperty.call(xe,Te)){var q=Re?Object.getOwnPropertyDescriptor(xe,Te):null;q&&(q.get||q.set)?Object.defineProperty(rt,Te,q):rt[Te]=xe[Te]}return rt.default=xe,we&&we.set(xe,rt),rt}function yt(xe,Ke){var we=Object.keys(xe);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(xe);Ke&&(rt=rt.filter(function(Re){return Object.getOwnPropertyDescriptor(xe,Re).enumerable})),we.push.apply(we,rt)}return we}function pe(xe){for(var Ke=1;Ke<arguments.length;Ke++){var we=arguments[Ke]!=null?arguments[Ke]:{};Ke%2?yt(Object(we),!0).forEach(function(rt){Ot(xe,rt,we[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(we)):yt(Object(we)).forEach(function(rt){Object.defineProperty(xe,rt,Object.getOwnPropertyDescriptor(we,rt))})}return xe}function Ot(xe,Ke,we){return Ke in xe?Object.defineProperty(xe,Ke,{value:we,enumerable:!0,configurable:!0,writable:!0}):xe[Ke]=we,xe}var Ft="";function wt(xe,Ke){return Ft||(Ft=(0,B.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(we){return(0,B.isFunction)(xe[we])})),(0,B.isFunction)(xe[Ft])?xe[Ft](Ke):!1}function gt(xe,Ke,we){var rt=xe;do{if(wt(rt,Ke))return!0;if(rt===we)return!1;rt=rt.parentNode}while(rt);return!1}function ht(xe,Ke,we,rt){if(xe){var Re=pe({capture:!0},rt);xe.addEventListener?xe.addEventListener(Ke,we,Re):xe.attachEvent?xe.attachEvent("on"+Ke,we):xe["on"+Ke]=we}}function mt(xe,Ke,we,rt){if(xe){var Re=pe({capture:!0},rt);xe.removeEventListener?xe.removeEventListener(Ke,we,Re):xe.detachEvent?xe.detachEvent("on"+Ke,we):xe["on"+Ke]=null}}function At(xe){var Ke=xe.clientHeight,we=xe.ownerDocument.defaultView.getComputedStyle(xe);return Ke+=(0,B.int)(we.borderTopWidth),Ke+=(0,B.int)(we.borderBottomWidth),Ke}function ee(xe){var Ke=xe.clientWidth,we=xe.ownerDocument.defaultView.getComputedStyle(xe);return Ke+=(0,B.int)(we.borderLeftWidth),Ke+=(0,B.int)(we.borderRightWidth),Ke}function zn(xe){var Ke=xe.clientHeight,we=xe.ownerDocument.defaultView.getComputedStyle(xe);return Ke-=(0,B.int)(we.paddingTop),Ke-=(0,B.int)(we.paddingBottom),Ke}function En(xe){var Ke=xe.clientWidth,we=xe.ownerDocument.defaultView.getComputedStyle(xe);return Ke-=(0,B.int)(we.paddingLeft),Ke-=(0,B.int)(we.paddingRight),Ke}function bn(xe,Ke,we){var rt=Ke===Ke.ownerDocument.body,Re=rt?{left:0,top:0}:Ke.getBoundingClientRect(),Te=(xe.clientX+Ke.scrollLeft-Re.left)/we,q=(xe.clientY+Ke.scrollTop-Re.top)/we;return{x:Te,y:q}}function ft(xe,Ke){var we=rn(xe,Ke,"px");return Ot({},(0,P.browserPrefixToKey)("transform",P.default),we)}function he(xe,Ke){var we=rn(xe,Ke,"");return we}function rn(xe,Ke,we){var rt=xe.x,Re=xe.y,Te="translate(".concat(rt).concat(we,",").concat(Re).concat(we,")");if(Ke){var q="".concat(typeof Ke.x=="string"?Ke.x:Ke.x+we),F="".concat(typeof Ke.y=="string"?Ke.y:Ke.y+we);Te="translate(".concat(q,", ").concat(F,")")+Te}return Te}function Kt(xe,Ke){return xe.targetTouches&&(0,B.findInArray)(xe.targetTouches,function(we){return Ke===we.identifier})||xe.changedTouches&&(0,B.findInArray)(xe.changedTouches,function(we){return Ke===we.identifier})}function xn(xe){if(xe.targetTouches&&xe.targetTouches[0])return xe.targetTouches[0].identifier;if(xe.changedTouches&&xe.changedTouches[0])return xe.changedTouches[0].identifier}function fn(xe){if(xe){var Ke=xe.getElementById("react-draggable-style-el");Ke||(Ke=xe.createElement("style"),Ke.type="text/css",Ke.id="react-draggable-style-el",Ke.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,Ke.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,xe.getElementsByTagName("head")[0].appendChild(Ke)),xe.body&&Pn(xe.body,"react-draggable-transparent-selection")}}function Gt(xe){if(xe)try{if(xe.body&&jt(xe.body,"react-draggable-transparent-selection"),xe.selection)xe.selection.empty();else{var Ke=(xe.defaultView||window).getSelection();Ke&&Ke.type!=="Caret"&&Ke.removeAllRanges()}}catch(we){}}function Pn(xe,Ke){xe.classList?xe.classList.add(Ke):xe.className.match(new RegExp("(?:^|\\s)".concat(Ke,"(?!\\S)")))||(xe.className+=" ".concat(Ke))}function jt(xe,Ke){xe.classList?xe.classList.remove(Ke):xe.className=xe.className.replace(new RegExp("(?:^|\\s)".concat(Ke,"(?!\\S)"),"g"),"")}},14642:function(qt,Fe){"use strict";Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.browserPrefixToKey=B,Fe.browserPrefixToStyle=P,Fe.default=void 0,Fe.getPrefix=b;var j=["Moz","Webkit","O","ms"];function b(){var yt,pe,Ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window=="undefined")return"";var Ft=(yt=window.document)===null||yt===void 0||(pe=yt.documentElement)===null||pe===void 0?void 0:pe.style;if(!Ft||Ot in Ft)return"";for(var wt=0;wt<j.length;wt++)if(B(Ot,j[wt])in Ft)return j[wt];return""}function B(yt,pe){return pe?"".concat(pe).concat(Y(yt)):yt}function P(yt,pe){return pe?"-".concat(pe.toLowerCase(),"-").concat(yt):yt}function Y(yt){for(var pe="",Ot=!0,Ft=0;Ft<yt.length;Ft++)Ot?(pe+=yt[Ft].toUpperCase(),Ot=!1):yt[Ft]==="-"?Ot=!0:pe+=yt[Ft];return pe}var Je=b();Fe.default=Je},21261:function(qt,Fe){"use strict";Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.default=j;function j(){var b}},21476:function(qt,Fe,j){"use strict";Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.canDragX=Je,Fe.canDragY=yt,Fe.createCoreData=Ot,Fe.createDraggableData=Ft,Fe.getBoundPosition=P,Fe.getControlPosition=pe,Fe.snapToGrid=Y;var b=j(89323),B=j(3767);function P(ht,mt,At){if(!ht.props.bounds)return[mt,At];var ee=ht.props.bounds;ee=typeof ee=="string"?ee:wt(ee);var zn=gt(ht);if(typeof ee=="string"){var En=zn.ownerDocument,bn=En.defaultView,ft;if(ee==="parent"?ft=zn.parentNode:ft=En.querySelector(ee),!(ft instanceof bn.HTMLElement))throw new Error('Bounds selector "'+ee+'" could not find an element.');var he=ft,rn=bn.getComputedStyle(zn),Kt=bn.getComputedStyle(he);ee={left:-zn.offsetLeft+(0,b.int)(Kt.paddingLeft)+(0,b.int)(rn.marginLeft),top:-zn.offsetTop+(0,b.int)(Kt.paddingTop)+(0,b.int)(rn.marginTop),right:(0,B.innerWidth)(he)-(0,B.outerWidth)(zn)-zn.offsetLeft+(0,b.int)(Kt.paddingRight)-(0,b.int)(rn.marginRight),bottom:(0,B.innerHeight)(he)-(0,B.outerHeight)(zn)-zn.offsetTop+(0,b.int)(Kt.paddingBottom)-(0,b.int)(rn.marginBottom)}}return(0,b.isNum)(ee.right)&&(mt=Math.min(mt,ee.right)),(0,b.isNum)(ee.bottom)&&(At=Math.min(At,ee.bottom)),(0,b.isNum)(ee.left)&&(mt=Math.max(mt,ee.left)),(0,b.isNum)(ee.top)&&(At=Math.max(At,ee.top)),[mt,At]}function Y(ht,mt,At){var ee=Math.round(mt/ht[0])*ht[0],zn=Math.round(At/ht[1])*ht[1];return[ee,zn]}function Je(ht){return ht.props.axis==="both"||ht.props.axis==="x"}function yt(ht){return ht.props.axis==="both"||ht.props.axis==="y"}function pe(ht,mt,At){var ee=typeof mt=="number"?(0,B.getTouch)(ht,mt):null;if(typeof mt=="number"&&!ee)return null;var zn=gt(At),En=At.props.offsetParent||zn.offsetParent||zn.ownerDocument.body;return(0,B.offsetXYFromParent)(ee||ht,En,At.props.scale)}function Ot(ht,mt,At){var ee=ht.state,zn=!(0,b.isNum)(ee.lastX),En=gt(ht);return zn?{node:En,deltaX:0,deltaY:0,lastX:mt,lastY:At,x:mt,y:At}:{node:En,deltaX:mt-ee.lastX,deltaY:At-ee.lastY,lastX:ee.lastX,lastY:ee.lastY,x:mt,y:At}}function Ft(ht,mt){var At=ht.props.scale;return{node:mt.node,x:ht.state.x+mt.deltaX/At,y:ht.state.y+mt.deltaY/At,deltaX:mt.deltaX/At,deltaY:mt.deltaY/At,lastX:ht.state.x,lastY:ht.state.y}}function wt(ht){return{left:ht.left,top:ht.top,right:ht.right,bottom:ht.bottom}}function gt(ht){var mt=ht.findDOMNode();if(!mt)throw new Error("<DraggableCore>: Unmounted during event!");return mt}},89323:function(qt,Fe){"use strict";Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.dontSetMe=Y,Fe.findInArray=j,Fe.int=P,Fe.isFunction=b,Fe.isNum=B;function j(Je,yt){for(var pe=0,Ot=Je.length;pe<Ot;pe++)if(yt.apply(yt,[Je[pe],pe,Je]))return Je[pe]}function b(Je){return typeof Je=="function"||Object.prototype.toString.call(Je)==="[object Function]"}function B(Je){return typeof Je=="number"&&!isNaN(Je)}function P(Je){return parseInt(Je,10)}function Y(Je,yt,pe){if(Je[yt])return new Error("Invalid prop ".concat(yt," passed to ").concat(pe," - do not set this, set it on the child."))}},23406:function(qt,Fe){"use strict";var j;Fe.ConcurrentRoot=1,Fe.ContinuousEventPriority=4,Fe.DefaultEventPriority=16,Fe.DiscreteEventPriority=1,j=536870912,j=0},45658:function(qt,Fe,j){qt.exports=function(B){var P={},Y=j(50959),Je=j(65297),yt=Object.assign;function pe(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ot=Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ft=Symbol.for("react.element"),wt=Symbol.for("react.portal"),gt=Symbol.for("react.fragment"),ht=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),At=Symbol.for("react.provider"),ee=Symbol.for("react.context"),zn=Symbol.for("react.forward_ref"),En=Symbol.for("react.suspense"),bn=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),he=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var rn=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Kt=Symbol.iterator;function xn(i){return i===null||typeof i!="object"?null:(i=Kt&&i[Kt]||i["@@iterator"],typeof i=="function"?i:null)}function fn(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case gt:return"Fragment";case wt:return"Portal";case mt:return"Profiler";case ht:return"StrictMode";case En:return"Suspense";case bn:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ee:return(i.displayName||"Context")+".Consumer";case At:return(i._context.displayName||"Context")+".Provider";case zn:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ft:return s=i.displayName||null,s!==null?s:fn(i.type)||"Memo";case he:s=i._payload,i=i._init;try{return fn(i(s))}catch(u){}}return null}function Gt(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fn(s);case 8:return s===ht?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Pn(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function jt(i){if(Pn(i)!==i)throw Error(pe(188))}function xe(i){var s=i.alternate;if(!s){if(s=Pn(i),s===null)throw Error(pe(188));return s!==i?null:i}for(var u=i,p=s;;){var _=u.return;if(_===null)break;var L=_.alternate;if(L===null){if(p=_.return,p!==null){u=p;continue}break}if(_.child===L.child){for(L=_.child;L;){if(L===u)return jt(_),i;if(L===p)return jt(_),s;L=L.sibling}throw Error(pe(188))}if(u.return!==p.return)u=_,p=L;else{for(var ye=!1,Ge=_.child;Ge;){if(Ge===u){ye=!0,u=_,p=L;break}if(Ge===p){ye=!0,p=_,u=L;break}Ge=Ge.sibling}if(!ye){for(Ge=L.child;Ge;){if(Ge===u){ye=!0,u=L,p=_;break}if(Ge===p){ye=!0,p=L,u=_;break}Ge=Ge.sibling}if(!ye)throw Error(pe(189))}}if(u.alternate!==p)throw Error(pe(190))}if(u.tag!==3)throw Error(pe(188));return u.stateNode.current===u?i:s}function Ke(i){return i=xe(i),i!==null?we(i):null}function we(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=we(i);if(s!==null)return s;i=i.sibling}return null}function rt(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){if(i.tag!==4){var s=rt(i);if(s!==null)return s}i=i.sibling}return null}var Re=Array.isArray,Te=B.getPublicInstance,q=B.getRootHostContext,F=B.getChildHostContext,re=B.prepareForCommit,De=B.resetAfterCommit,k=B.createInstance,le=B.appendInitialChild,te=B.finalizeInitialChildren,ae=B.prepareUpdate,Le=B.shouldSetTextContent,Ae=B.createTextInstance,_e=B.scheduleTimeout,$e=B.cancelTimeout,me=B.noTimeout,Pt=B.isPrimaryRenderer,kt=B.supportsMutation,xt=B.supportsPersistence,dt=B.supportsHydration,ze=B.getInstanceFromNode,zt=B.preparePortalMount,un=B.getCurrentEventPriority,Sn=B.detachDeletedInstance,Yt=B.supportsMicrotasks,Tn=B.scheduleMicrotask,an=B.supportsTestSelectors,An=B.findFiberRoot,Rr=B.getBoundingRect,qr=B.getTextContent,_t=B.isHiddenSubtree,Lt=B.matchAccessibilityRole,Qt=B.setFocusIfFocusable,ln=B.setupIntersectionObserver,yn=B.appendChild,ur=B.appendChildToContainer,jn=B.commitTextUpdate,Xr=B.commitMount,Jn=B.commitUpdate,ge=B.insertBefore,je=B.insertInContainerBefore,Xe=B.removeChild,Ye=B.removeChildFromContainer,Nt=B.resetTextContent,Nn=B.hideInstance,wn=B.hideTextInstance,Bt=B.unhideInstance,Vt=B.unhideTextInstance,ut=B.clearContainer,oe=B.cloneInstance,We=B.createContainerChildSet,Tt=B.appendChildToContainerChildSet,nn=B.finalizeContainerChildren,Zn=B.replaceContainerChildren,hr=B.cloneHiddenInstance,Hr=B.cloneHiddenTextInstance,Li=B.canHydrateInstance,Qr=B.canHydrateTextInstance,ri=B.canHydrateSuspenseInstance,ei=B.isSuspenseInstancePending,ji=B.isSuspenseInstanceFallback,R=B.registerSuspenseInstanceRetry,H=B.getNextHydratableSibling,S=B.getFirstHydratableChild,T=B.getFirstHydratableChildWithinContainer,Q=B.getFirstHydratableChildWithinSuspenseInstance,se=B.hydrateInstance,Ze=B.hydrateTextInstance,st=B.hydrateSuspenseInstance,qe=B.getNextHydratableInstanceAfterSuspenseInstance,vt=B.commitHydratedContainer,He=B.commitHydratedSuspenseInstance,Be=B.clearSuspenseBoundary,bt=B.clearSuspenseBoundaryFromContainer,Ce=B.shouldDeleteUnhydratedTailInstances,be=B.didNotMatchHydratedContainerTextInstance,ke=B.didNotMatchHydratedTextInstance,Ve;function et(i){if(Ve===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Ve=s&&s[1]||""}return`
`+Ve+i}var Qe=!1;function Ct(i,s){if(!i||Qe)return"";Qe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(In){var p=In}Reflect.construct(i,[],s)}else{try{s.call()}catch(In){p=In}i.call(s.prototype)}else{try{throw Error()}catch(In){p=In}i()}}catch(In){if(In&&p&&typeof In.stack=="string"){for(var _=In.stack.split(`
`),L=p.stack.split(`
`),ye=_.length-1,Ge=L.length-1;1<=ye&&0<=Ge&&_[ye]!==L[Ge];)Ge--;for(;1<=ye&&0<=Ge;ye--,Ge--)if(_[ye]!==L[Ge]){if(ye!==1||Ge!==1)do if(ye--,Ge--,0>Ge||_[ye]!==L[Ge]){var Dt=`
`+_[ye].replace(" at new "," at ");return i.displayName&&Dt.includes("<anonymous>")&&(Dt=Dt.replace("<anonymous>",i.displayName)),Dt}while(1<=ye&&0<=Ge);break}}}finally{Qe=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?et(i):""}var cn=Object.prototype.hasOwnProperty,Yn=[],On=-1;function Qn(i){return{current:i}}function Vn(i){0>On||(i.current=Yn[On],Yn[On]=null,On--)}function Wn(i,s){On++,Yn[On]=i.current,i.current=s}var mr={},Jt=Qn(mr),rr=Qn(!1),Lr=mr;function Ti(i,s){var u=i.type.contextTypes;if(!u)return mr;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var _={},L;for(L in u)_[L]=s[L];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=_),_}function bi(i){return i=i.childContextTypes,i!=null}function go(){Vn(rr),Vn(Jt)}function Yi(i,s,u){if(Jt.current!==mr)throw Error(pe(168));Wn(Jt,s),Wn(rr,u)}function Gi(i,s,u){var p=i.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var _ in p)if(!(_ in s))throw Error(pe(108,Gt(i)||"Unknown",_));return yt({},u,p)}function Di(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||mr,Lr=Jt.current,Wn(Jt,i),Wn(rr,rr.current),!0}function fo(i,s,u){var p=i.stateNode;if(!p)throw Error(pe(169));u?(i=Gi(i,s,Lr),p.__reactInternalMemoizedMergedChildContext=i,Vn(rr),Vn(Jt),Wn(Jt,i)):Vn(rr),Wn(rr,u)}var Ni=Math.clz32?Math.clz32:so,ci=Math.log,Ai=Math.LN2;function so(i){return i>>>=0,i===0?32:31-(ci(i)/Ai|0)|0}var xi=64,$o=4194304;function Qi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Mo(i,s){var u=i.pendingLanes;if(u===0)return 0;var p=0,_=i.suspendedLanes,L=i.pingedLanes,ye=u&268435455;if(ye!==0){var Ge=ye&~_;Ge!==0?p=Qi(Ge):(L&=ye,L!==0&&(p=Qi(L)))}else ye=u&~_,ye!==0?p=Qi(ye):L!==0&&(p=Qi(L));if(p===0)return 0;if(s!==0&&s!==p&&!(s&_)&&(_=p&-p,L=s&-s,_>=L||_===16&&(L&4194240)!==0))return s;if(p&4&&(p|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=p;0<s;)u=31-Ni(s),_=1<<u,p|=i[u],s&=~_;return p}function Ca(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xa(i,s){for(var u=i.suspendedLanes,p=i.pingedLanes,_=i.expirationTimes,L=i.pendingLanes;0<L;){var ye=31-Ni(L),Ge=1<<ye,Dt=_[ye];Dt===-1?(!(Ge&u)||Ge&p)&&(_[ye]=Ca(Ge,s)):Dt<=s&&(i.expiredLanes|=Ge),L&=~Ge}}function ra(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ia(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Po(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Ni(s),i[s]=u}function Go(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<u;){var _=31-Ni(u),L=1<<_;s[_]=0,p[_]=-1,i[_]=-1,u&=~L}}function Fs(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var p=31-Ni(u),_=1<<p;_&s|i[p]&s&&(i[p]|=s),u&=~_}}var ui=0;function Ps(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var ns=Je.unstable_scheduleCallback,Fr=Je.unstable_cancelCallback,Wo=Je.unstable_shouldYield,cs=Je.unstable_requestPaint,Bi=Je.unstable_now,O=Je.unstable_ImmediatePriority,V=Je.unstable_UserBlockingPriority,de=Je.unstable_NormalPriority,Ue=Je.unstable_IdlePriority,pt=null,lt=null;function z(i){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(pt,i,void 0,(i.current.flags&128)===128)}catch(s){}}function ie(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var E=typeof Object.is=="function"?Object.is:ie,W=null,Oe=!1,tt=!1;function Mn(i){W===null?W=[i]:W.push(i)}function Dn(i){Oe=!0,Mn(i)}function or(){if(!tt&&W!==null){tt=!0;var i=0,s=ui;try{var u=W;for(ui=1;i<u.length;i++){var p=u[i];do p=p(!0);while(p!==null)}W=null,Oe=!1}catch(_){throw W!==null&&(W=W.slice(i+1)),ns(O,or),_}finally{ui=s,tt=!1}}return null}var Cn=Ot.ReactCurrentBatchConfig;function er(i,s){if(E(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),p=Object.keys(s);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var _=u[p];if(!cn.call(s,_)||!E(i[_],s[_]))return!1}return!0}function zr(i){switch(i.tag){case 5:return et(i.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return i=Ct(i.type,!1),i;case 11:return i=Ct(i.type.render,!1),i;case 1:return i=Ct(i.type,!0),i;default:return""}}function gr(i,s){if(i&&i.defaultProps){s=yt({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}var Ur=Qn(null),fi=null,pi=null,di=null;function yi(){di=pi=fi=null}function Oi(i,s,u){Pt?(Wn(Ur,s._currentValue),s._currentValue=u):(Wn(Ur,s._currentValue2),s._currentValue2=u)}function eo(i){var s=Ur.current;Vn(Ur),Pt?i._currentValue=s:i._currentValue2=s}function Fi(i,s,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),i===u)break;i=i.return}}function ki(i,s){fi=i,di=pi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(cr=!0),i.firstContext=null)}function Si(i){var s=Pt?i._currentValue:i._currentValue2;if(di!==i)if(i={context:i,memoizedValue:s,next:null},pi===null){if(fi===null)throw Error(pe(308));pi=i,fi.dependencies={lanes:0,firstContext:i}}else pi=pi.next=i;return s}var Vo=null,ho=!1;function oa(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xo(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ei(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Is(i,s){var u=i.updateQueue;u!==null&&(u=u.shared,wo!==null&&i.mode&1&&!(li&2)?(i=u.interleaved,i===null?(s.next=s,Vo===null?Vo=[u]:Vo.push(u)):(s.next=i.next,i.next=s),u.interleaved=s):(i=u.pending,i===null?s.next=s:(s.next=i.next,i.next=s),u.pending=s))}function _a(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var p=s.lanes;p&=i.pendingLanes,u|=p,s.lanes=u,Fs(i,u)}}function R1(i,s){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var _=null,L=null;if(u=u.firstBaseUpdate,u!==null){do{var ye={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};L===null?_=L=ye:L=L.next=ye,u=u.next}while(u!==null);L===null?_=L=s:L=L.next=s}else _=L=s;u={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:L,shared:p.shared,effects:p.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function sa(i,s,u,p){var _=i.updateQueue;ho=!1;var L=_.firstBaseUpdate,ye=_.lastBaseUpdate,Ge=_.shared.pending;if(Ge!==null){_.shared.pending=null;var Dt=Ge,In=Dt.next;Dt.next=null,ye===null?L=In:ye.next=In,ye=Dt;var pr=i.alternate;pr!==null&&(pr=pr.updateQueue,Ge=pr.lastBaseUpdate,Ge!==ye&&(Ge===null?pr.firstBaseUpdate=In:Ge.next=In,pr.lastBaseUpdate=Dt))}if(L!==null){var Jr=_.baseState;ye=0,pr=In=Dt=null,Ge=L;do{var Ir=Ge.lane,Pi=Ge.eventTime;if((p&Ir)===Ir){pr!==null&&(pr=pr.next={eventTime:Pi,lane:0,tag:Ge.tag,payload:Ge.payload,callback:Ge.callback,next:null});e:{var _r=i,jo=Ge;switch(Ir=s,Pi=u,jo.tag){case 1:if(_r=jo.payload,typeof _r=="function"){Jr=_r.call(Pi,Jr,Ir);break e}Jr=_r;break e;case 3:_r.flags=_r.flags&-65537|128;case 0:if(_r=jo.payload,Ir=typeof _r=="function"?_r.call(Pi,Jr,Ir):_r,Ir==null)break e;Jr=yt({},Jr,Ir);break e;case 2:ho=!0}}Ge.callback!==null&&Ge.lane!==0&&(i.flags|=64,Ir=_.effects,Ir===null?_.effects=[Ge]:Ir.push(Ge))}else Pi={eventTime:Pi,lane:Ir,tag:Ge.tag,payload:Ge.payload,callback:Ge.callback,next:null},pr===null?(In=pr=Pi,Dt=Jr):pr=pr.next=Pi,ye|=Ir;if(Ge=Ge.next,Ge===null){if(Ge=_.shared.pending,Ge===null)break;Ir=Ge,Ge=Ir.next,Ir.next=null,_.lastBaseUpdate=Ir,_.shared.pending=null}}while(1);if(pr===null&&(Dt=Jr),_.baseState=Dt,_.firstBaseUpdate=In,_.lastBaseUpdate=pr,s=_.shared.interleaved,s!==null){_=s;do ye|=_.lane,_=_.next;while(_!==s)}else L===null&&(_.shared.lanes=0);V1|=ye,i.lanes=ye,i.memoizedState=Jr}}function xa(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var p=i[s],_=p.callback;if(_!==null){if(p.callback=null,p=u,typeof _!="function")throw Error(pe(191,_));_.call(p)}}}var za=new Y.Component().refs;function Ya(i,s,u,p){s=i.memoizedState,u=u(p,s),u=u==null?s:yt({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var f1={isMounted:function(i){return(i=i._reactInternals)?Pn(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var p=Ro(),_=ma(i),L=Ei(p,_);L.payload=s,u!=null&&(L.callback=u),Is(i,L),s=bs(i,_,p),s!==null&&_a(s,i,_)},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var p=Ro(),_=ma(i),L=Ei(p,_);L.tag=1,L.payload=s,u!=null&&(L.callback=u),Is(i,L),s=bs(i,_,p),s!==null&&_a(s,i,_)},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Ro(),p=ma(i),_=Ei(u,p);_.tag=2,s!=null&&(_.callback=s),Is(i,_),s=bs(i,p,u),s!==null&&_a(s,i,p)}};function Os(i,s,u,p,_,L,ye){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,L,ye):s.prototype&&s.prototype.isPureReactComponent?!er(u,p)||!er(_,L):!0}function j1(i,s,u){var p=!1,_=mr,L=s.contextType;return typeof L=="object"&&L!==null?L=Si(L):(_=bi(s)?Lr:Jt.current,p=s.contextTypes,L=(p=p!=null)?Ti(i,_):mr),s=new s(u,L),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=f1,i.stateNode=s,s._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=_,i.__reactInternalMemoizedMaskedChildContext=L),s}function L1(i,s,u,p){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,p),s.state!==i&&f1.enqueueReplaceState(s,s.state,null)}function d1(i,s,u,p){var _=i.stateNode;_.props=u,_.state=i.memoizedState,_.refs=za,oa(i);var L=s.contextType;typeof L=="object"&&L!==null?_.context=Si(L):(L=bi(s)?Lr:Jt.current,_.context=Ti(i,L)),_.state=i.memoizedState,L=s.getDerivedStateFromProps,typeof L=="function"&&(Ya(i,s,L,u),_.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(s=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),s!==_.state&&f1.enqueueReplaceState(_,_.state,null),sa(i,u,_,p),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308)}var Yo=[],ya=0,Ds=null,Ka=0,mi=[],us=0,xo=null,jr=1,Ys="";function dn(i,s){Yo[ya++]=Ka,Yo[ya++]=Ds,Ds=i,Ka=s}function ti(i,s,u){mi[us++]=jr,mi[us++]=Ys,mi[us++]=xo,xo=i;var p=jr;i=Ys;var _=32-Ni(p)-1;p&=~(1<<_),u+=1;var L=32-Ni(s)+_;if(30<L){var ye=_-_%5;L=(p&(1<<ye)-1).toString(32),p>>=ye,_-=ye,jr=1<<32-Ni(s)+_|u<<_|p,Ys=L+i}else jr=1<<L|u<<_|p,Ys=i}function wa(i){i.return!==null&&(dn(i,1),ti(i,1,0))}function Na(i){for(;i===Ds;)Ds=Yo[--ya],Yo[ya]=null,Ka=Yo[--ya],Yo[ya]=null;for(;i===xo;)xo=mi[--us],mi[us]=null,Ys=mi[--us],mi[us]=null,jr=mi[--us],mi[us]=null}var Cs=null,Do=null,io=!1,Ba=!1,Ho=null;function ks(i,s){var u=it(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function Ks(i,s){switch(i.tag){case 5:return s=Li(s,i.type,i.pendingProps),s!==null?(i.stateNode=s,Cs=i,Do=S(s),!0):!1;case 6:return s=Qr(s,i.pendingProps),s!==null?(i.stateNode=s,Cs=i,Do=null,!0):!1;case 13:if(s=ri(s),s!==null){var u=xo!==null?{id:jr,overflow:Ys}:null;return i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=it(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,Cs=i,Do=null,!0}return!1;default:return!1}}function aa(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Js(i){if(io){var s=Do;if(s){var u=s;if(!Ks(i,s)){if(aa(i))throw Error(pe(418));s=H(u);var p=Cs;s&&Ks(i,s)?ks(p,u):(i.flags=i.flags&-4097|2,io=!1,Cs=i)}}else{if(aa(i))throw Error(pe(418));i.flags=i.flags&-4097|2,io=!1,Cs=i}}}function dl(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Cs=i}function vo(i){if(!dt||i!==Cs)return!1;if(!io)return dl(i),io=!0,!1;if(i.tag!==3&&(i.tag!==5||Ce(i.type)&&!Le(i.type,i.memoizedProps))){var s=Do;if(s){if(aa(i)){for(i=Do;i;)i=H(i);throw Error(pe(418))}for(;s;)ks(i,s),s=H(s)}}if(dl(i),i.tag===13){if(!dt)throw Error(pe(316));if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(pe(317));Do=qe(i)}else Do=Cs?H(i.stateNode):null;return!0}function Ma(){dt&&(Do=Cs=null,Ba=io=!1)}function T1(i){Ho===null?Ho=[i]:Ho.push(i)}function Ko(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(pe(309));var p=u.stateNode}if(!p)throw Error(pe(147,i));var _=p,L=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===L?s.ref:(s=function(ye){var Ge=_.refs;Ge===za&&(Ge=_.refs={}),ye===null?delete Ge[L]:Ge[L]=ye},s._stringRef=L,s)}if(typeof i!="string")throw Error(pe(284));if(!u._owner)throw Error(pe(290,i))}return i}function $s(i,s){throw i=Object.prototype.toString.call(s),Error(pe(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function A1(i){var s=i._init;return s(i._payload)}function la(i){function s(Mt,at){if(i){var It=Mt.deletions;It===null?(Mt.deletions=[at],Mt.flags|=16):It.push(at)}}function u(Mt,at){if(!i)return null;for(;at!==null;)s(Mt,at),at=at.sibling;return null}function p(Mt,at){for(Mt=new Map;at!==null;)at.key!==null?Mt.set(at.key,at):Mt.set(at.index,at),at=at.sibling;return Mt}function _(Mt,at){return Mt=en(Mt,at),Mt.index=0,Mt.sibling=null,Mt}function L(Mt,at,It){return Mt.index=It,i?(It=Mt.alternate,It!==null?(It=It.index,It<at?(Mt.flags|=2,at):It):(Mt.flags|=2,at)):(Mt.flags|=1048576,at)}function ye(Mt){return i&&Mt.alternate===null&&(Mt.flags|=2),Mt}function Ge(Mt,at,It,fr){return at===null||at.tag!==6?(at=tr(It,Mt.mode,fr),at.return=Mt,at):(at=_(at,It),at.return=Mt,at)}function Dt(Mt,at,It,fr){var Er=It.type;return Er===gt?pr(Mt,at,It.props.children,fr,It.key):at!==null&&(at.elementType===Er||typeof Er=="object"&&Er!==null&&Er.$$typeof===he&&A1(Er)===at.type)?(fr=_(at,It.props),fr.ref=Ko(Mt,at,It),fr.return=Mt,fr):(fr=ir(It.type,It.key,It.props,null,Mt.mode,fr),fr.ref=Ko(Mt,at,It),fr.return=Mt,fr)}function In(Mt,at,It,fr){return at===null||at.tag!==4||at.stateNode.containerInfo!==It.containerInfo||at.stateNode.implementation!==It.implementation?(at=Sr(It,Mt.mode,fr),at.return=Mt,at):(at=_(at,It.children||[]),at.return=Mt,at)}function pr(Mt,at,It,fr,Er){return at===null||at.tag!==7?(at=Fn(It,Mt.mode,fr,Er),at.return=Mt,at):(at=_(at,It),at.return=Mt,at)}function Jr(Mt,at,It){if(typeof at=="string"&&at!==""||typeof at=="number")return at=tr(""+at,Mt.mode,It),at.return=Mt,at;if(typeof at=="object"&&at!==null){switch(at.$$typeof){case Ft:return It=ir(at.type,at.key,at.props,null,Mt.mode,It),It.ref=Ko(Mt,null,at),It.return=Mt,It;case wt:return at=Sr(at,Mt.mode,It),at.return=Mt,at;case he:var fr=at._init;return Jr(Mt,fr(at._payload),It)}if(Re(at)||xn(at))return at=Fn(at,Mt.mode,It,null),at.return=Mt,at;$s(Mt,at)}return null}function Ir(Mt,at,It,fr){var Er=at!==null?at.key:null;if(typeof It=="string"&&It!==""||typeof It=="number")return Er!==null?null:Ge(Mt,at,""+It,fr);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case Ft:return It.key===Er?Dt(Mt,at,It,fr):null;case wt:return It.key===Er?In(Mt,at,It,fr):null;case he:return Er=It._init,Ir(Mt,at,Er(It._payload),fr)}if(Re(It)||xn(It))return Er!==null?null:pr(Mt,at,It,fr,null);$s(Mt,It)}return null}function Pi(Mt,at,It,fr,Er){if(typeof fr=="string"&&fr!==""||typeof fr=="number")return Mt=Mt.get(It)||null,Ge(at,Mt,""+fr,Er);if(typeof fr=="object"&&fr!==null){switch(fr.$$typeof){case Ft:return Mt=Mt.get(fr.key===null?It:fr.key)||null,Dt(at,Mt,fr,Er);case wt:return Mt=Mt.get(fr.key===null?It:fr.key)||null,In(at,Mt,fr,Er);case he:var ni=fr._init;return Pi(Mt,at,It,ni(fr._payload),Er)}if(Re(fr)||xn(fr))return Mt=Mt.get(It)||null,pr(at,Mt,fr,Er,null);$s(at,fr)}return null}function _r(Mt,at,It,fr){for(var Er=null,ni=null,ar=at,Br=at=0,oo=null;ar!==null&&Br<It.length;Br++){ar.index>Br?(oo=ar,ar=null):oo=ar.sibling;var Wi=Ir(Mt,ar,It[Br],fr);if(Wi===null){ar===null&&(ar=oo);break}i&&ar&&Wi.alternate===null&&s(Mt,ar),at=L(Wi,at,Br),ni===null?Er=Wi:ni.sibling=Wi,ni=Wi,ar=oo}if(Br===It.length)return u(Mt,ar),io&&dn(Mt,Br),Er;if(ar===null){for(;Br<It.length;Br++)ar=Jr(Mt,It[Br],fr),ar!==null&&(at=L(ar,at,Br),ni===null?Er=ar:ni.sibling=ar,ni=ar);return io&&dn(Mt,Br),Er}for(ar=p(Mt,ar);Br<It.length;Br++)oo=Pi(ar,Mt,Br,It[Br],fr),oo!==null&&(i&&oo.alternate!==null&&ar.delete(oo.key===null?Br:oo.key),at=L(oo,at,Br),ni===null?Er=oo:ni.sibling=oo,ni=oo);return i&&ar.forEach(function(Pa){return s(Mt,Pa)}),io&&dn(Mt,Br),Er}function jo(Mt,at,It,fr){var Er=xn(It);if(typeof Er!="function")throw Error(pe(150));if(It=Er.call(It),It==null)throw Error(pe(151));for(var ni=Er=null,ar=at,Br=at=0,oo=null,Wi=It.next();ar!==null&&!Wi.done;Br++,Wi=It.next()){ar.index>Br?(oo=ar,ar=null):oo=ar.sibling;var Pa=Ir(Mt,ar,Wi.value,fr);if(Pa===null){ar===null&&(ar=oo);break}i&&ar&&Pa.alternate===null&&s(Mt,ar),at=L(Pa,at,Br),ni===null?Er=Pa:ni.sibling=Pa,ni=Pa,ar=oo}if(Wi.done)return u(Mt,ar),io&&dn(Mt,Br),Er;if(ar===null){for(;!Wi.done;Br++,Wi=It.next())Wi=Jr(Mt,Wi.value,fr),Wi!==null&&(at=L(Wi,at,Br),ni===null?Er=Wi:ni.sibling=Wi,ni=Wi);return io&&dn(Mt,Br),Er}for(ar=p(Mt,ar);!Wi.done;Br++,Wi=It.next())Wi=Pi(ar,Mt,Br,Wi.value,fr),Wi!==null&&(i&&Wi.alternate!==null&&ar.delete(Wi.key===null?Br:Wi.key),at=L(Wi,at,Br),ni===null?Er=Wi:ni.sibling=Wi,ni=Wi);return i&&ar.forEach(function(ll){return s(Mt,ll)}),io&&dn(Mt,Br),Er}function Rs(Mt,at,It,fr){if(typeof It=="object"&&It!==null&&It.type===gt&&It.key===null&&(It=It.props.children),typeof It=="object"&&It!==null){switch(It.$$typeof){case Ft:e:{for(var Er=It.key,ni=at;ni!==null;){if(ni.key===Er){if(Er=It.type,Er===gt){if(ni.tag===7){u(Mt,ni.sibling),at=_(ni,It.props.children),at.return=Mt,Mt=at;break e}}else if(ni.elementType===Er||typeof Er=="object"&&Er!==null&&Er.$$typeof===he&&A1(Er)===ni.type){u(Mt,ni.sibling),at=_(ni,It.props),at.ref=Ko(Mt,ni,It),at.return=Mt,Mt=at;break e}u(Mt,ni);break}else s(Mt,ni);ni=ni.sibling}It.type===gt?(at=Fn(It.props.children,Mt.mode,fr,It.key),at.return=Mt,Mt=at):(fr=ir(It.type,It.key,It.props,null,Mt.mode,fr),fr.ref=Ko(Mt,at,It),fr.return=Mt,Mt=fr)}return ye(Mt);case wt:e:{for(ni=It.key;at!==null;){if(at.key===ni)if(at.tag===4&&at.stateNode.containerInfo===It.containerInfo&&at.stateNode.implementation===It.implementation){u(Mt,at.sibling),at=_(at,It.children||[]),at.return=Mt,Mt=at;break e}else{u(Mt,at);break}else s(Mt,at);at=at.sibling}at=Sr(It,Mt.mode,fr),at.return=Mt,Mt=at}return ye(Mt);case he:return ni=It._init,Rs(Mt,at,ni(It._payload),fr)}if(Re(It))return _r(Mt,at,It,fr);if(xn(It))return jo(Mt,at,It,fr);$s(Mt,It)}return typeof It=="string"&&It!==""||typeof It=="number"?(It=""+It,at!==null&&at.tag===6?(u(Mt,at.sibling),at=_(at,It),at.return=Mt,Mt=at):(u(Mt,at),at=tr(It,Mt.mode,fr),at.return=Mt,Mt=at),ye(Mt)):u(Mt,at)}return Rs}var ba=la(!0),hl=la(!1),hi={},kr=Qn(hi),Ki=Qn(hi),Jo=Qn(hi);function bo(i){if(i===hi)throw Error(pe(174));return i}function fs(i,s){Wn(Jo,s),Wn(Ki,i),Wn(kr,hi),i=q(s),Vn(kr),Wn(kr,i)}function rs(){Vn(kr),Vn(Ki),Vn(Jo)}function Sa(i){var s=bo(Jo.current),u=bo(kr.current);s=F(u,i.type,s),u!==s&&(Wn(Ki,i),Wn(kr,s))}function po(i){Ki.current===i&&(Vn(kr),Vn(Ki))}var ce=Qn(0);function Ws(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||ei(u)||ji(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ua=[];function is(){for(var i=0;i<Ua.length;i++){var s=Ua[i];Pt?s._workInProgressVersionPrimary=null:s._workInProgressVersionSecondary=null}Ua.length=0}var ds=Ot.ReactCurrentDispatcher,Co=Ot.ReactCurrentBatchConfig,os=0,to=null,zo=null,Lo=null,ca=!1,qs=!1,Hs=0,G1=0;function qo(){throw Error(pe(321))}function Ea(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!E(i[u],s[u]))return!1;return!0}function Va(i,s,u,p,_,L){if(os=L,to=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ds.current=i===null||i.memoizedState===null?_c:yu,i=u(p,_),qs){L=0;do{if(qs=!1,Hs=0,25<=L)throw Error(pe(301));L+=1,Lo=zo=null,s.updateQueue=null,ds.current=xc,i=u(p,_)}while(qs)}if(ds.current=J1,s=zo!==null&&zo.next!==null,os=0,Lo=zo=to=null,ca=!1,s)throw Error(pe(300));return i}function pl(){var i=Hs!==0;return Hs=0,i}function ua(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lo===null?to.memoizedState=Lo=i:Lo=Lo.next=i,Lo}function zs(){if(zo===null){var i=to.alternate;i=i!==null?i.memoizedState:null}else i=zo.next;var s=Lo===null?to.memoizedState:Lo.next;if(s!==null)Lo=s,zo=i;else{if(i===null)throw Error(pe(310));zo=i,i={memoizedState:zo.memoizedState,baseState:zo.baseState,baseQueue:zo.baseQueue,queue:zo.queue,next:null},Lo===null?to.memoizedState=Lo=i:Lo=Lo.next=i}return Lo}function Ja(i,s){return typeof s=="function"?s(i):s}function Qs(i){var s=zs(),u=s.queue;if(u===null)throw Error(pe(311));u.lastRenderedReducer=i;var p=zo,_=p.baseQueue,L=u.pending;if(L!==null){if(_!==null){var ye=_.next;_.next=L.next,L.next=ye}p.baseQueue=_=L,u.pending=null}if(_!==null){L=_.next,p=p.baseState;var Ge=ye=null,Dt=null,In=L;do{var pr=In.lane;if((os&pr)===pr)Dt!==null&&(Dt=Dt.next={lane:0,action:In.action,hasEagerState:In.hasEagerState,eagerState:In.eagerState,next:null}),p=In.hasEagerState?In.eagerState:i(p,In.action);else{var Jr={lane:pr,action:In.action,hasEagerState:In.hasEagerState,eagerState:In.eagerState,next:null};Dt===null?(Ge=Dt=Jr,ye=p):Dt=Dt.next=Jr,to.lanes|=pr,V1|=pr}In=In.next}while(In!==null&&In!==L);Dt===null?ye=p:Dt.next=Ge,E(p,s.memoizedState)||(cr=!0),s.memoizedState=p,s.baseState=ye,s.baseQueue=Dt,u.lastRenderedState=p}if(i=u.interleaved,i!==null){_=i;do L=_.lane,to.lanes|=L,V1|=L,_=_.next;while(_!==i)}else _===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function _s(i){var s=zs(),u=s.queue;if(u===null)throw Error(pe(311));u.lastRenderedReducer=i;var p=u.dispatch,_=u.pending,L=s.memoizedState;if(_!==null){u.pending=null;var ye=_=_.next;do L=i(L,ye.action),ye=ye.next;while(ye!==_);E(L,s.memoizedState)||(cr=!0),s.memoizedState=L,s.baseQueue===null&&(s.baseState=L),u.lastRenderedState=L}return[L,p]}function X1(){}function Y1(i,s){var u=to,p=zs(),_=s(),L=!E(p.memoizedState,_);if(L&&(p.memoizedState=_,cr=!0),p=p.queue,ea(Ra.bind(null,u,p,i),[i]),p.getSnapshot!==s||L||Lo!==null&&Lo.memoizedState.tag&1){if(u.flags|=2048,ai(9,P1.bind(null,u,p,_,s),void 0,null),wo===null)throw Error(pe(349));os&30||Fa(u,s,_)}return _}function Fa(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=to.updateQueue,s===null?(s={lastEffect:null,stores:null},to.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function P1(i,s,u,p){s.value=u,s.getSnapshot=p,ml(s)&&bs(i,1,-1)}function Ra(i,s,u){return u(function(){ml(s)&&bs(i,1,-1)})}function ml(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!E(i,u)}catch(p){return!0}}function h1(i){var s=ua();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:i},s.queue=i,i=i.dispatch=Cl.bind(null,to,i),[s.memoizedState,i]}function ai(i,s,u,p){return i={tag:i,create:s,destroy:u,deps:p,next:null},s=to.updateQueue,s===null?(s={lastEffect:null,stores:null},to.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,s.lastEffect=i)),i}function qa(){return zs().memoizedState}function xs(i,s,u,p){var _=ua();to.flags|=i,_.memoizedState=ai(1|s,u,void 0,p===void 0?null:p)}function gl(i,s,u,p){var _=zs();p=p===void 0?null:p;var L=void 0;if(zo!==null){var ye=zo.memoizedState;if(L=ye.destroy,p!==null&&Ea(p,ye.deps)){_.memoizedState=ai(s,u,L,p);return}}to.flags|=i,_.memoizedState=ai(1|s,u,L,p)}function Zl(i,s){return xs(8390656,8,i,s)}function ea(i,s){return gl(2048,8,i,s)}function K1(i,s){return gl(4,2,i,s)}function ys(i,s){return gl(4,4,i,s)}function jl(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function mc(i,s,u){return u=u!=null?u.concat([i]):null,gl(4,4,jl.bind(null,s,i),u)}function p1(){}function Qa(i,s){var u=zs();s=s===void 0?null:s;var p=u.memoizedState;return p!==null&&s!==null&&Ea(s,p[1])?p[0]:(u.memoizedState=[i,s],i)}function vl(i,s){var u=zs();s=s===void 0?null:s;var p=u.memoizedState;return p!==null&&s!==null&&Ea(s,p[1])?p[0]:(i=i(),u.memoizedState=[i,s],i)}function gc(i,s){var u=ui;ui=u!==0&&4>u?u:4,i(!0);var p=Co.transition;Co.transition={};try{i(!1),s()}finally{ui=u,Co.transition=p}}function I1(){return zs().memoizedState}function fa(i,s,u){var p=ma(i);u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},O1(i)?vc(s,u):(Cc(i,s,u),u=Ro(),i=bs(i,p,u),i!==null&&Gl(i,s,p))}function Cl(i,s,u){var p=ma(i),_={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(O1(i))vc(s,_);else{Cc(i,s,_);var L=i.alternate;if(i.lanes===0&&(L===null||L.lanes===0)&&(L=s.lastRenderedReducer,L!==null))try{var ye=s.lastRenderedState,Ge=L(ye,u);if(_.hasEagerState=!0,_.eagerState=Ge,E(Ge,ye))return}catch(Dt){}finally{}u=Ro(),i=bs(i,p,u),i!==null&&Gl(i,s,p)}}function O1(i){var s=i.alternate;return i===to||s!==null&&s===to}function vc(i,s){qs=ca=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Cc(i,s,u){wo!==null&&i.mode&1&&!(li&2)?(i=s.interleaved,i===null?(u.next=u,Vo===null?Vo=[s]:Vo.push(s)):(u.next=i.next,i.next=u),s.interleaved=u):(i=s.pending,i===null?u.next=u:(u.next=i.next,i.next=u),s.pending=u)}function Gl(i,s,u){if(u&4194240){var p=s.lanes;p&=i.pendingLanes,u|=p,s.lanes=u,Fs(i,u)}}var J1={readContext:Si,useCallback:qo,useContext:qo,useEffect:qo,useImperativeHandle:qo,useInsertionEffect:qo,useLayoutEffect:qo,useMemo:qo,useReducer:qo,useRef:qo,useState:qo,useDebugValue:qo,useDeferredValue:qo,useTransition:qo,useMutableSource:qo,useSyncExternalStore:qo,useId:qo,unstable_isNewReconciler:!1},_c={readContext:Si,useCallback:function(i,s){return ua().memoizedState=[i,s===void 0?null:s],i},useContext:Si,useEffect:Zl,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,xs(4194308,4,jl.bind(null,s,i),u)},useLayoutEffect:function(i,s){return xs(4194308,4,i,s)},useInsertionEffect:function(i,s){return xs(4,2,i,s)},useMemo:function(i,s){var u=ua();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var p=ua();return s=u!==void 0?u(s):s,p.memoizedState=p.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},p.queue=i,i=i.dispatch=fa.bind(null,to,i),[p.memoizedState,i]},useRef:function(i){var s=ua();return i={current:i},s.memoizedState=i},useState:h1,useDebugValue:p1,useDeferredValue:function(i){var s=h1(i),u=s[0],p=s[1];return Zl(function(){var _=Co.transition;Co.transition={};try{p(i)}finally{Co.transition=_}},[i]),u},useTransition:function(){var i=h1(!1),s=i[0];return i=gc.bind(null,i[1]),ua().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var p=to,_=ua();if(io){if(u===void 0)throw Error(pe(407));u=u()}else{if(u=s(),wo===null)throw Error(pe(349));os&30||Fa(p,s,u)}_.memoizedState=u;var L={value:u,getSnapshot:s};return _.queue=L,Zl(Ra.bind(null,p,L,i),[i]),p.flags|=2048,ai(9,P1.bind(null,p,L,u,s),void 0,null),u},useId:function(){var i=ua(),s=wo.identifierPrefix;if(io){var u=Ys,p=jr;u=(p&~(1<<32-Ni(p)-1)).toString(32)+u,s=":"+s+"R"+u,u=Hs++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=G1++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},yu={readContext:Si,useCallback:Qa,useContext:Si,useEffect:ea,useImperativeHandle:mc,useInsertionEffect:K1,useLayoutEffect:ys,useMemo:vl,useReducer:Qs,useRef:qa,useState:function(){return Qs(Ja)},useDebugValue:p1,useDeferredValue:function(i){var s=Qs(Ja),u=s[0],p=s[1];return ea(function(){var _=Co.transition;Co.transition={};try{p(i)}finally{Co.transition=_}},[i]),u},useTransition:function(){var i=Qs(Ja)[0],s=zs().memoizedState;return[i,s]},useMutableSource:X1,useSyncExternalStore:Y1,useId:I1,unstable_isNewReconciler:!1},xc={readContext:Si,useCallback:Qa,useContext:Si,useEffect:ea,useImperativeHandle:mc,useInsertionEffect:K1,useLayoutEffect:ys,useMemo:vl,useReducer:_s,useRef:qa,useState:function(){return _s(Ja)},useDebugValue:p1,useDeferredValue:function(i){var s=_s(Ja),u=s[0],p=s[1];return ea(function(){var _=Co.transition;Co.transition={};try{p(i)}finally{Co.transition=_}},[i]),u},useTransition:function(){var i=_s(Ja)[0],s=zs().memoizedState;return[i,s]},useMutableSource:X1,useSyncExternalStore:Y1,useId:I1,unstable_isNewReconciler:!1};function $i(i,s){try{var u="",p=s;do u+=zr(p),p=p.return;while(p);var _=u}catch(L){_=`
Error generating stack: `+L.message+`
`+L.stack}return{value:i,source:s,stack:_}}function ws(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var ka=typeof WeakMap=="function"?WeakMap:Map;function Xl(i,s,u){u=Ei(-1,u),u.tag=3,u.payload={element:null};var p=s.value;return u.callback=function(){Pl||(Pl=!0,Sc=p),ws(i,s)},u}function $a(i,s,u){u=Ei(-1,u),u.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var _=s.value;u.payload=function(){return p(_)},u.callback=function(){ws(i,s)}}var L=i.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(u.callback=function(){ws(i,s),typeof p!="function"&&(i1===null?i1=new Set([this]):i1.add(this));var ye=s.stack;this.componentDidCatch(s.value,{componentStack:ye!==null?ye:""})}),u}function m1(i,s,u){var p=i.pingCache;if(p===null){p=i.pingCache=new ka;var _=new Set;p.set(s,_)}else _=p.get(s),_===void 0&&(_=new Set,p.set(s,_));_.has(u)||(_.add(u),i=iu.bind(null,i,s,u),s.then(i,i))}function g1(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Yl(i,s,u,p,_){return i.mode&1?(i.flags|=65536,i.lanes=_,i):(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=Ei(-1,1),s.tag=2,Is(u,s))),u.lanes|=1),i)}function Zs(i){i.flags|=4}function _l(i,s){if(i!==null&&i.child===s.child)return!0;if(s.flags&16)return!1;for(i=s.child;i!==null;){if(i.flags&12854||i.subtreeFlags&12854)return!1;i=i.sibling}return!0}var D1,Wa,ss,Kl;if(kt)D1=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)le(i,u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Wa=function(){},ss=function(i,s,u,p,_){if(i=i.memoizedProps,i!==p){var L=s.stateNode,ye=bo(kr.current);u=ae(L,u,i,p,_,ye),(s.updateQueue=u)&&Zs(s)}},Kl=function(i,s,u,p){u!==p&&Zs(s)};else if(xt){D1=function(i,s,u,p){for(var _=s.child;_!==null;){if(_.tag===5){var L=_.stateNode;u&&p&&(L=hr(L,_.type,_.memoizedProps,_)),le(i,L)}else if(_.tag===6)L=_.stateNode,u&&p&&(L=Hr(L,_.memoizedProps,_)),le(i,L);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)L=_.child,L!==null&&(L.return=_),D1(i,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===s)break;for(;_.sibling===null;){if(_.return===null||_.return===s)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};var hs=function(i,s,u,p){for(var _=s.child;_!==null;){if(_.tag===5){var L=_.stateNode;u&&p&&(L=hr(L,_.type,_.memoizedProps,_)),Tt(i,L)}else if(_.tag===6)L=_.stateNode,u&&p&&(L=Hr(L,_.memoizedProps,_)),Tt(i,L);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)L=_.child,L!==null&&(L.return=_),hs(i,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===s)break;for(;_.sibling===null;){if(_.return===null||_.return===s)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};Wa=function(i,s){var u=s.stateNode;if(!_l(i,s)){i=u.containerInfo;var p=We(i);hs(p,s,!1,!1),u.pendingChildren=p,Zs(s),nn(i,p)}},ss=function(i,s,u,p,_){var L=i.stateNode,ye=i.memoizedProps;if((i=_l(i,s))&&ye===p)s.stateNode=L;else{var Ge=s.stateNode,Dt=bo(kr.current),In=null;ye!==p&&(In=ae(Ge,u,ye,p,_,Dt)),i&&In===null?s.stateNode=L:(L=oe(L,In,u,ye,p,s,i,Ge),te(L,u,p,_,Dt)&&Zs(s),s.stateNode=L,i?Zs(s):D1(L,s,!1,!1))}},Kl=function(i,s,u,p){u!==p?(i=bo(Jo.current),u=bo(kr.current),s.stateNode=Ae(p,i,u,s),Zs(s)):s.stateNode=i.stateNode}}else Wa=function(){},ss=function(){},Kl=function(){};function H1(i,s){if(!io)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function yo(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(s)for(var _=i.child;_!==null;)u|=_.lanes|_.childLanes,p|=_.subtreeFlags&14680064,p|=_.flags&14680064,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)u|=_.lanes|_.childLanes,p|=_.subtreeFlags,p|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=p,i.childLanes=u,s}function xl(i,s,u){var p=s.pendingProps;switch(Na(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yo(s),null;case 1:return bi(s.type)&&go(),yo(s),null;case 3:return p=s.stateNode,rs(),Vn(rr),Vn(Jt),is(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(vo(s)?Zs(s):i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Ho!==null&&(oc(Ho),Ho=null))),Wa(i,s),yo(s),null;case 5:po(s),u=bo(Jo.current);var _=s.type;if(i!==null&&s.stateNode!=null)ss(i,s,_,p,u),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(pe(166));return yo(s),null}if(i=bo(kr.current),vo(s)){if(!dt)throw Error(pe(175));i=se(s.stateNode,s.type,s.memoizedProps,u,i,s,!Ba),s.updateQueue=i,i!==null&&Zs(s)}else{var L=k(_,p,u,i,s);D1(L,s,!1,!1),s.stateNode=L,te(L,_,p,u,i)&&Zs(s)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return yo(s),null;case 6:if(i&&s.stateNode!=null)Kl(i,s,i.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(pe(166));if(i=bo(Jo.current),u=bo(kr.current),vo(s)){if(!dt)throw Error(pe(176));if(i=s.stateNode,p=s.memoizedProps,(u=Ze(i,p,s,!Ba))&&(_=Cs,_!==null))switch(L=(_.mode&1)!==0,_.tag){case 3:be(_.stateNode.containerInfo,i,p,L);break;case 5:ke(_.type,_.memoizedProps,_.stateNode,i,p,L)}u&&Zs(s)}else s.stateNode=Ae(p,i,u,s)}return yo(s),null;case 13:if(Vn(ce),p=s.memoizedState,io&&Do!==null&&s.mode&1&&!(s.flags&128)){for(i=Do;i;)i=H(i);return Ma(),s.flags|=98560,s}if(p!==null&&p.dehydrated!==null){if(p=vo(s),i===null){if(!p)throw Error(pe(318));if(!dt)throw Error(pe(344));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(pe(317));st(i,s)}else Ma(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;return yo(s),null}return Ho!==null&&(oc(Ho),Ho=null),s.flags&128?(s.lanes=u,s):(p=p!==null,u=!1,i===null?vo(s):u=i.memoizedState!==null,p&&!u&&(s.child.flags|=8192,s.mode&1&&(i===null||ce.current&1?Eo===0&&(Eo=3):Bl())),s.updateQueue!==null&&(s.flags|=4),yo(s),null);case 4:return rs(),Wa(i,s),i===null&&zt(s.stateNode.containerInfo),yo(s),null;case 10:return eo(s.type._context),yo(s),null;case 17:return bi(s.type)&&go(),yo(s),null;case 19:if(Vn(ce),_=s.memoizedState,_===null)return yo(s),null;if(p=(s.flags&128)!==0,L=_.rendering,L===null)if(p)H1(_,!1);else{if(Eo!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(L=Ws(i),L!==null){for(s.flags|=128,H1(_,!1),i=L.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),s.subtreeFlags=0,i=u,p=s.child;p!==null;)u=p,_=i,u.flags&=14680066,L=u.alternate,L===null?(u.childLanes=0,u.lanes=_,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=L.childLanes,u.lanes=L.lanes,u.child=L.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=L.memoizedProps,u.memoizedState=L.memoizedState,u.updateQueue=L.updateQueue,u.type=L.type,_=L.dependencies,u.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),p=p.sibling;return Wn(ce,ce.current&1|2),s.child}i=i.sibling}_.tail!==null&&Bi()>ic&&(s.flags|=128,p=!0,H1(_,!1),s.lanes=4194304)}else{if(!p)if(i=Ws(L),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),H1(_,!0),_.tail===null&&_.tailMode==="hidden"&&!L.alternate&&!io)return yo(s),null}else 2*Bi()-_.renderingStartTime>ic&&u!==1073741824&&(s.flags|=128,p=!0,H1(_,!1),s.lanes=4194304);_.isBackwards?(L.sibling=s.child,s.child=L):(i=_.last,i!==null?i.sibling=L:s.child=L,_.last=L)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=Bi(),s.sibling=null,i=ce.current,Wn(ce,p?i&1|2:i&1),s):(yo(s),null);case 22:case 23:return Nl(),p=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(s.flags|=8192),p&&s.mode&1?Bs&1073741824&&(yo(s),kt&&s.subtreeFlags&6&&(s.flags|=8192)):yo(s),null;case 24:return null;case 25:return null}throw Error(pe(156,s.tag))}var yc=Ot.ReactCurrentOwner,cr=!1;function ao(i,s,u,p){s.child=i===null?hl(s,null,u,p):ba(s,i.child,u,p)}function La(i,s,u,p,_){u=u.render;var L=s.ref;return ki(s,_),p=Va(i,s,u,p,L,_),u=pl(),i!==null&&!cr?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~_,Bo(i,s,_)):(io&&u&&wa(s),s.flags|=1,ao(i,s,p,_),s.child)}function da(i,s,u,p,_){if(i===null){var L=u.type;return typeof L=="function"&&!Wt(L)&&L.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=L,qc(i,s,L,p,_)):(i=ir(u.type,null,p,s,s.mode,_),i.ref=s.ref,i.return=s,s.child=i)}if(L=i.child,!(i.lanes&_)){var ye=L.memoizedProps;if(u=u.compare,u=u!==null?u:er,u(ye,p)&&i.ref===s.ref)return Bo(i,s,_)}return s.flags|=1,i=en(L,p),i.ref=s.ref,i.return=s,s.child=i}function qc(i,s,u,p,_){if(i!==null&&er(i.memoizedProps,p)&&i.ref===s.ref)if(cr=!1,(i.lanes&_)!==0)i.flags&131072&&(cr=!0);else return s.lanes=i.lanes,Bo(i,s,_);return Jl(i,s,u,p,_)}function Ms(i,s,u){var p=s.pendingProps,_=p.children,L=i!==null?i.memoizedState:null;if(p.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null},Wn(U1,Bs),Bs|=u;else if(u&1073741824)s.memoizedState={baseLanes:0,cachePool:null},p=L!==null?L.baseLanes:u,Wn(U1,Bs),Bs|=p;else return i=L!==null?L.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null},s.updateQueue=null,Wn(U1,Bs),Bs|=i,null;else L!==null?(p=L.baseLanes|u,s.memoizedState=null):p=u,Wn(U1,Bs),Bs|=p;return ao(i,s,_,u),s.child}function z1(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function Jl(i,s,u,p,_){var L=bi(u)?Lr:Jt.current;return L=Ti(s,L),ki(s,_),u=Va(i,s,u,p,L,_),p=pl(),i!==null&&!cr?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~_,Bo(i,s,_)):(io&&p&&wa(s),s.flags|=1,ao(i,s,u,_),s.child)}function No(i,s,u,p,_){if(bi(u)){var L=!0;Di(s)}else L=!1;if(ki(s,_),s.stateNode===null)i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),j1(s,u,p),d1(s,u,p,_),p=!0;else if(i===null){var ye=s.stateNode,Ge=s.memoizedProps;ye.props=Ge;var Dt=ye.context,In=u.contextType;typeof In=="object"&&In!==null?In=Si(In):(In=bi(u)?Lr:Jt.current,In=Ti(s,In));var pr=u.getDerivedStateFromProps,Jr=typeof pr=="function"||typeof ye.getSnapshotBeforeUpdate=="function";Jr||typeof ye.UNSAFE_componentWillReceiveProps!="function"&&typeof ye.componentWillReceiveProps!="function"||(Ge!==p||Dt!==In)&&L1(s,ye,p,In),ho=!1;var Ir=s.memoizedState;ye.state=Ir,sa(s,p,ye,_),Dt=s.memoizedState,Ge!==p||Ir!==Dt||rr.current||ho?(typeof pr=="function"&&(Ya(s,u,pr,p),Dt=s.memoizedState),(Ge=ho||Os(s,u,Ge,p,Ir,Dt,In))?(Jr||typeof ye.UNSAFE_componentWillMount!="function"&&typeof ye.componentWillMount!="function"||(typeof ye.componentWillMount=="function"&&ye.componentWillMount(),typeof ye.UNSAFE_componentWillMount=="function"&&ye.UNSAFE_componentWillMount()),typeof ye.componentDidMount=="function"&&(s.flags|=4194308)):(typeof ye.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=Dt),ye.props=p,ye.state=Dt,ye.context=In,p=Ge):(typeof ye.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{ye=s.stateNode,Xo(i,s),Ge=s.memoizedProps,In=s.type===s.elementType?Ge:gr(s.type,Ge),ye.props=In,Jr=s.pendingProps,Ir=ye.context,Dt=u.contextType,typeof Dt=="object"&&Dt!==null?Dt=Si(Dt):(Dt=bi(u)?Lr:Jt.current,Dt=Ti(s,Dt));var Pi=u.getDerivedStateFromProps;(pr=typeof Pi=="function"||typeof ye.getSnapshotBeforeUpdate=="function")||typeof ye.UNSAFE_componentWillReceiveProps!="function"&&typeof ye.componentWillReceiveProps!="function"||(Ge!==Jr||Ir!==Dt)&&L1(s,ye,p,Dt),ho=!1,Ir=s.memoizedState,ye.state=Ir,sa(s,p,ye,_);var _r=s.memoizedState;Ge!==Jr||Ir!==_r||rr.current||ho?(typeof Pi=="function"&&(Ya(s,u,Pi,p),_r=s.memoizedState),(In=ho||Os(s,u,In,p,Ir,_r,Dt)||!1)?(pr||typeof ye.UNSAFE_componentWillUpdate!="function"&&typeof ye.componentWillUpdate!="function"||(typeof ye.componentWillUpdate=="function"&&ye.componentWillUpdate(p,_r,Dt),typeof ye.UNSAFE_componentWillUpdate=="function"&&ye.UNSAFE_componentWillUpdate(p,_r,Dt)),typeof ye.componentDidUpdate=="function"&&(s.flags|=4),typeof ye.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof ye.componentDidUpdate!="function"||Ge===i.memoizedProps&&Ir===i.memoizedState||(s.flags|=4),typeof ye.getSnapshotBeforeUpdate!="function"||Ge===i.memoizedProps&&Ir===i.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=_r),ye.props=p,ye.state=_r,ye.context=Dt,p=In):(typeof ye.componentDidUpdate!="function"||Ge===i.memoizedProps&&Ir===i.memoizedState||(s.flags|=4),typeof ye.getSnapshotBeforeUpdate!="function"||Ge===i.memoizedProps&&Ir===i.memoizedState||(s.flags|=1024),p=!1)}return v1(i,s,u,p,L,_)}function v1(i,s,u,p,_,L){z1(i,s);var ye=(s.flags&128)!==0;if(!p&&!ye)return _&&fo(s,u,!1),Bo(i,s,L);p=s.stateNode,yc.current=s;var Ge=ye&&typeof u.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,i!==null&&ye?(s.child=ba(s,i.child,null,L),s.child=ba(s,null,Ge,L)):ao(i,s,Ge,L),s.memoizedState=p.state,_&&fo(s,u,!0),s.child}function lo(i){var s=i.stateNode;s.pendingContext?Yi(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Yi(i,s.context,!1),fs(i,s.containerInfo)}function wc(i,s,u,p,_){return Ma(),T1(_),s.flags|=256,ao(i,s,u,p),s.child}var yl={dehydrated:null,treeContext:null,retryLane:0};function wl(i){return{baseLanes:i,cachePool:null}}function Mc(i,s,u){var p=s.pendingProps,_=ce.current,L=!1,ye=(s.flags&128)!==0,Ge;if((Ge=ye)||(Ge=i!==null&&i.memoizedState===null?!1:(_&2)!==0),Ge?(L=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(_|=1),Wn(ce,_&1),i===null)return Js(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?ji(i)?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(_=p.children,i=p.fallback,L?(p=s.mode,L=s.child,_={mode:"hidden",children:_},!(p&1)&&L!==null?(L.childLanes=0,L.pendingProps=_):L=qn(_,p,0,null),i=Fn(i,p,u,null),L.return=s,i.return=s,L.sibling=i,s.child=L,s.child.memoizedState=wl(u),s.memoizedState=yl,i):e1(s,_));if(_=i.memoizedState,_!==null){if(Ge=_.dehydrated,Ge!==null){if(ye)return s.flags&256?(s.flags&=-257,q1(i,s,u,Error(pe(422)))):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(L=p.fallback,_=s.mode,p=qn({mode:"visible",children:p.children},_,0,null),L=Fn(L,_,u,null),L.flags|=2,p.return=s,L.return=s,p.sibling=L,s.child=p,s.mode&1&&ba(s,i.child,null,u),s.child.memoizedState=wl(u),s.memoizedState=yl,L);if(!(s.mode&1))s=q1(i,s,u,null);else if(ji(Ge))s=q1(i,s,u,Error(pe(419)));else if(p=(u&i.childLanes)!==0,cr||p){if(p=wo,p!==null){switch(u&-u){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}p=L&(p.suspendedLanes|u)?0:L,p!==0&&p!==_.retryLane&&(_.retryLane=p,bs(i,p,-1))}Bl(),s=q1(i,s,u,Error(pe(421)))}else ei(Ge)?(s.flags|=128,s.child=i.child,s=w.bind(null,i),R(Ge,s),s=null):(u=_.treeContext,dt&&(Do=Q(Ge),Cs=s,io=!0,Ho=null,Ba=!1,u!==null&&(mi[us++]=jr,mi[us++]=Ys,mi[us++]=xo,jr=u.id,Ys=u.overflow,xo=s)),s=e1(s,s.pendingProps.children),s.flags|=4096);return s}return L?(p=Ml(i,s,p.children,p.fallback,u),L=s.child,_=i.child.memoizedState,L.memoizedState=_===null?wl(u):{baseLanes:_.baseLanes|u,cachePool:null},L.childLanes=i.childLanes&~u,s.memoizedState=yl,p):(u=ql(i,s,p.children,u),s.memoizedState=null,u)}return L?(p=Ml(i,s,p.children,p.fallback,u),L=s.child,_=i.child.memoizedState,L.memoizedState=_===null?wl(u):{baseLanes:_.baseLanes|u,cachePool:null},L.childLanes=i.childLanes&~u,s.memoizedState=yl,p):(u=ql(i,s,p.children,u),s.memoizedState=null,u)}function e1(i,s){return s=qn({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function ql(i,s,u,p){var _=i.child;return i=_.sibling,u=en(_,{mode:"visible",children:u}),!(s.mode&1)&&(u.lanes=p),u.return=s,u.sibling=null,i!==null&&(p=s.deletions,p===null?(s.deletions=[i],s.flags|=16):p.push(i)),s.child=u}function Ml(i,s,u,p,_){var L=s.mode;i=i.child;var ye=i.sibling,Ge={mode:"hidden",children:u};return!(L&1)&&s.child!==i?(u=s.child,u.childLanes=0,u.pendingProps=Ge,s.deletions=null):(u=en(i,Ge),u.subtreeFlags=i.subtreeFlags&14680064),ye!==null?p=en(ye,p):(p=Fn(p,L,_,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,p}function q1(i,s,u,p){return p!==null&&T1(p),ba(s,i.child,null,u),i=e1(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Mr(i,s,u){i.lanes|=s;var p=i.alternate;p!==null&&(p.lanes|=s),Fi(i.return,s,u)}function Q1(i,s,u,p,_){var L=i.memoizedState;L===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:_}:(L.isBackwards=s,L.rendering=null,L.renderingStartTime=0,L.last=p,L.tail=u,L.tailMode=_)}function Ql(i,s,u){var p=s.pendingProps,_=p.revealOrder,L=p.tail;if(ao(i,s,p.children,u),p=ce.current,p&2)p=p&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Mr(i,u,s);else if(i.tag===19)Mr(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(Wn(ce,p),!(s.mode&1))s.memoizedState=null;else switch(_){case"forwards":for(u=s.child,_=null;u!==null;)i=u.alternate,i!==null&&Ws(i)===null&&(_=u),u=u.sibling;u=_,u===null?(_=s.child,s.child=null):(_=u.sibling,u.sibling=null),Q1(s,!1,_,u,L);break;case"backwards":for(u=null,_=s.child,s.child=null;_!==null;){if(i=_.alternate,i!==null&&Ws(i)===null){s.child=_;break}i=_.sibling,_.sibling=u,u=_,_=i}Q1(s,!0,u,null,L);break;case"together":Q1(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Bo(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),V1|=s.lanes,!(u&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(pe(153));if(s.child!==null){for(i=s.child,u=en(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=en(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function ec(i,s,u){switch(s.tag){case 3:lo(s),Ma();break;case 5:Sa(s);break;case 1:bi(s.type)&&Di(s);break;case 4:fs(s,s.stateNode.containerInfo);break;case 10:Oi(s,s.type._context,s.memoizedProps.value);break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(Wn(ce,ce.current&1),s.flags|=128,null):u&s.child.childLanes?Mc(i,s,u):(Wn(ce,ce.current&1),i=Bo(i,s,u),i!==null?i.sibling:null);Wn(ce,ce.current&1);break;case 19:if(p=(u&s.childLanes)!==0,i.flags&128){if(p)return Ql(i,s,u);s.flags|=128}var _=s.memoizedState;if(_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Wn(ce,ce.current),p)break;return null;case 22:case 23:return s.lanes=0,Ms(i,s,u)}return Bo(i,s,u)}function Ta(i,s){switch(Na(s),s.tag){case 1:return bi(s.type)&&go(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return rs(),Vn(rr),Vn(Jt),is(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return po(s),null;case 13:if(Vn(ce),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(pe(340));Ma()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Vn(ce),null;case 4:return rs(),null;case 10:return eo(s.type._context),null;case 22:case 23:return Nl(),null;case 24:return null;default:return null}}var $r=!1,js=!1,Qo=typeof WeakSet=="function"?WeakSet:Set,gn=null;function el(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){Vs(i,s,p)}else u.current=null}function ta(i,s,u){try{u()}catch(p){Vs(i,s,p)}}var tl=!1;function Qc(i,s){for(re(i.containerInfo),gn=s;gn!==null;)if(i=gn,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,gn=s;else for(;gn!==null;){i=gn;try{var u=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(u!==null){var p=u.memoizedProps,_=u.memoizedState,L=i.stateNode,ye=L.getSnapshotBeforeUpdate(i.elementType===i.type?p:gr(i.type,p),_);L.__reactInternalSnapshotBeforeUpdate=ye}break;case 3:kt&&ut(i.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(Ge){Vs(i,i.return,Ge)}if(s=i.sibling,s!==null){s.return=i.return,gn=s;break}gn=i.return}return u=tl,tl=!1,u}function ha(i,s,u){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var _=p=p.next;do{if((_.tag&i)===i){var L=_.destroy;_.destroy=void 0,L!==void 0&&ta(s,u,L)}_=_.next}while(_!==p)}}function Aa(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var p=u.create;u.destroy=p()}u=u.next}while(u!==s)}}function na(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=Te(u);break;default:i=u}typeof s=="function"?s(i):s.current=i}}function nl(i,s,u){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(pt,s)}catch(ye){}switch(s.tag){case 0:case 11:case 14:case 15:if(i=s.updateQueue,i!==null&&(i=i.lastEffect,i!==null)){var p=i=i.next;do{var _=p,L=_.destroy;_=_.tag,L!==void 0&&(_&2||_&4)&&ta(s,u,L),p=p.next}while(p!==i)}break;case 1:if(el(s,u),i=s.stateNode,typeof i.componentWillUnmount=="function")try{i.props=s.memoizedProps,i.state=s.memoizedState,i.componentWillUnmount()}catch(ye){Vs(s,u,ye)}break;case 5:el(s,u);break;case 4:kt?Gs(i,s,u):xt&&xt&&(s=s.stateNode.containerInfo,u=We(s),Zn(s,u))}}function rl(i,s,u){for(var p=s;;)if(nl(i,p,u),p.child===null||kt&&p.tag===4){if(p===s)break;for(;p.sibling===null;){if(p.return===null||p.return===s)return;p=p.return}p.sibling.return=p.return,p=p.sibling}else p.child.return=p,p=p.child}function C1(i){var s=i.alternate;s!==null&&(i.alternate=null,C1(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Sn(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function il(i){return i.tag===5||i.tag===3||i.tag===4}function _1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||il(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function tc(i){if(kt){e:{for(var s=i.return;s!==null;){if(il(s))break e;s=s.return}throw Error(pe(160))}var u=s;switch(u.tag){case 5:s=u.stateNode,u.flags&32&&(Nt(s),u.flags&=-33),u=_1(i),ol(i,u,s);break;case 3:case 4:s=u.stateNode.containerInfo,u=_1(i),pa(i,u,s);break;default:throw Error(pe(161))}}}function pa(i,s,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?je(u,i,s):ur(u,i);else if(p!==4&&(i=i.child,i!==null))for(pa(i,s,u),i=i.sibling;i!==null;)pa(i,s,u),i=i.sibling}function ol(i,s,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?ge(u,i,s):yn(u,i);else if(p!==4&&(i=i.child,i!==null))for(ol(i,s,u),i=i.sibling;i!==null;)ol(i,s,u),i=i.sibling}function Gs(i,s,u){for(var p=s,_=!1,L,ye;;){if(!_){_=p.return;e:for(;;){if(_===null)throw Error(pe(160));switch(L=_.stateNode,_.tag){case 5:ye=!1;break e;case 3:L=L.containerInfo,ye=!0;break e;case 4:L=L.containerInfo,ye=!0;break e}_=_.return}_=!0}if(p.tag===5||p.tag===6)rl(i,p,u),ye?Ye(L,p.stateNode):Xe(L,p.stateNode);else if(p.tag===18)ye?bt(L,p.stateNode):Be(L,p.stateNode);else if(p.tag===4){if(p.child!==null){L=p.stateNode.containerInfo,ye=!0,p.child.return=p,p=p.child;continue}}else if(nl(i,p,u),p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break;for(;p.sibling===null;){if(p.return===null||p.return===s)return;p=p.return,p.tag===4&&(_=!1)}p.sibling.return=p.return,p=p.sibling}}function N1(i,s){if(kt){switch(s.tag){case 0:case 11:case 14:case 15:ha(3,s,s.return),Aa(3,s),ha(5,s,s.return);return;case 1:return;case 5:var u=s.stateNode;if(u!=null){var p=s.memoizedProps;i=i!==null?i.memoizedProps:p;var _=s.type,L=s.updateQueue;s.updateQueue=null,L!==null&&Jn(u,L,_,i,p,s)}return;case 6:if(s.stateNode===null)throw Error(pe(162));u=s.memoizedProps,jn(s.stateNode,i!==null?i.memoizedProps:u,u);return;case 3:dt&&i!==null&&i.memoizedState.isDehydrated&&vt(s.stateNode.containerInfo);return;case 12:return;case 13:Fo(s);return;case 19:Fo(s);return;case 17:return}throw Error(pe(163))}switch(s.tag){case 0:case 11:case 14:case 15:ha(3,s,s.return),Aa(3,s),ha(5,s,s.return);return;case 12:return;case 13:Fo(s);return;case 19:Fo(s);return;case 3:dt&&i!==null&&i.memoizedState.isDehydrated&&vt(s.stateNode.containerInfo);break;case 22:case 23:return}e:if(xt){switch(s.tag){case 1:case 5:case 6:break e;case 3:case 4:s=s.stateNode,Zn(s.containerInfo,s.pendingChildren);break e}throw Error(pe(163))}}function Fo(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Qo),s.forEach(function(p){var _=I.bind(null,i,p);u.has(p)||(u.add(p),p.then(_,_))})}}function eu(i,s){for(gn=s;gn!==null;){s=gn;var u=s.deletions;if(u!==null)for(var p=0;p<u.length;p++){var _=u[p];try{var L=i;kt?Gs(L,_,s):rl(L,_,s);var ye=_.alternate;ye!==null&&(ye.return=null),_.return=null}catch(Er){Vs(_,s,Er)}}if(u=s.child,s.subtreeFlags&12854&&u!==null)u.return=s,gn=u;else for(;gn!==null;){s=gn;try{var Ge=s.flags;if(Ge&32&&kt&&Nt(s.stateNode),Ge&512){var Dt=s.alternate;if(Dt!==null){var In=Dt.ref;In!==null&&(typeof In=="function"?In(null):In.current=null)}}if(Ge&8192)switch(s.tag){case 13:if(s.memoizedState!==null){var pr=s.alternate;(pr===null||pr.memoizedState===null)&&(Al=Bi())}break;case 22:var Jr=s.memoizedState!==null,Ir=s.alternate,Pi=Ir!==null&&Ir.memoizedState!==null;if(u=s,kt){e:if(p=u,_=Jr,L=null,kt)for(var _r=p;;){if(_r.tag===5){if(L===null){L=_r;var jo=_r.stateNode;_?Nn(jo):Bt(_r.stateNode,_r.memoizedProps)}}else if(_r.tag===6){if(L===null){var Rs=_r.stateNode;_?wn(Rs):Vt(Rs,_r.memoizedProps)}}else if((_r.tag!==22&&_r.tag!==23||_r.memoizedState===null||_r===p)&&_r.child!==null){_r.child.return=_r,_r=_r.child;continue}if(_r===p)break;for(;_r.sibling===null;){if(_r.return===null||_r.return===p)break e;L===_r&&(L=null),_r=_r.return}L===_r&&(L=null),_r.sibling.return=_r.return,_r=_r.sibling}}if(Jr&&!Pi&&u.mode&1){gn=u;for(var Mt=u.child;Mt!==null;){for(u=gn=Mt;gn!==null;){p=gn;var at=p.child;switch(p.tag){case 0:case 11:case 14:case 15:ha(4,p,p.return);break;case 1:el(p,p.return);var It=p.stateNode;if(typeof It.componentWillUnmount=="function"){var fr=p.return;try{It.props=p.memoizedProps,It.state=p.memoizedState,It.componentWillUnmount()}catch(Er){Vs(p,fr,Er)}}break;case 5:el(p,p.return);break;case 22:if(p.memoizedState!==null){ps(u);continue}}at!==null?(at.return=p,gn=at):ps(u)}Mt=Mt.sibling}}}switch(Ge&4102){case 2:tc(s),s.flags&=-3;break;case 6:tc(s),s.flags&=-3,N1(s.alternate,s);break;case 4096:s.flags&=-4097;break;case 4100:s.flags&=-4097,N1(s.alternate,s);break;case 4:N1(s.alternate,s)}}catch(Er){Vs(s,s.return,Er)}if(u=s.sibling,u!==null){u.return=s.return,gn=u;break}gn=s.return}}}function bl(i,s,u){gn=i,Za(i,s,u)}function Za(i,s,u){for(var p=(i.mode&1)!==0;gn!==null;){var _=gn,L=_.child;if(_.tag===22&&p){var ye=_.memoizedState!==null||$r;if(!ye){var Ge=_.alternate,Dt=Ge!==null&&Ge.memoizedState!==null||js;Ge=$r;var In=js;if($r=ye,(js=Dt)&&!In)for(gn=_;gn!==null;)ye=gn,Dt=ye.child,ye.tag===22&&ye.memoizedState!==null?tu(_):Dt!==null?(Dt.return=ye,gn=Dt):tu(_);for(;L!==null;)gn=L,Za(L,s,u),L=L.sibling;gn=_,$r=Ge,js=In}x1(i,s,u)}else _.subtreeFlags&8772&&L!==null?(L.return=_,gn=L):x1(i,s,u)}}function x1(i){for(;gn!==null;){var s=gn;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:js||Aa(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!js)if(u===null)p.componentDidMount();else{var _=s.elementType===s.type?u.memoizedProps:gr(s.type,u.memoizedProps);p.componentDidUpdate(_,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var L=s.updateQueue;L!==null&&xa(s,L,p);break;case 3:var ye=s.updateQueue;if(ye!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=Te(s.child.stateNode);break;case 1:u=s.child.stateNode}xa(s,ye,u)}break;case 5:var Ge=s.stateNode;u===null&&s.flags&4&&Xr(Ge,s.type,s.memoizedProps,s);break;case 6:break;case 4:break;case 12:break;case 13:if(dt&&s.memoizedState===null){var Dt=s.alternate;if(Dt!==null){var In=Dt.memoizedState;if(In!==null){var pr=In.dehydrated;pr!==null&&He(pr)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(pe(163))}js||s.flags&512&&na(s)}catch(Jr){Vs(s,s.return,Jr)}}if(s===i){gn=null;break}if(u=s.sibling,u!==null){u.return=s.return,gn=u;break}gn=s.return}}function ps(i){for(;gn!==null;){var s=gn;if(s===i){gn=null;break}var u=s.sibling;if(u!==null){u.return=s.return,gn=u;break}gn=s.return}}function tu(i){for(;gn!==null;){var s=gn;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{Aa(4,s)}catch(Dt){Vs(s,u,Dt)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var _=s.return;try{p.componentDidMount()}catch(Dt){Vs(s,_,Dt)}}var L=s.return;try{na(s)}catch(Dt){Vs(s,L,Dt)}break;case 5:var ye=s.return;try{na(s)}catch(Dt){Vs(s,ye,Dt)}}}catch(Dt){Vs(s,s.return,Dt)}if(s===i){gn=null;break}var Ge=s.sibling;if(Ge!==null){Ge.return=s.return,gn=Ge;break}gn=s.return}}var Sl=0,El=1,Rl=2,Ll=3,Ns=4;if(typeof Symbol=="function"&&Symbol.for){var t1=Symbol.for;Sl=t1("selector.component"),El=t1("selector.has_pseudo_class"),Rl=t1("selector.role"),Ll=t1("selector.test_id"),Ns=t1("selector.text")}function Zo(i){var s=ze(i);if(s!=null){if(typeof s.memoizedProps["data-testname"]!="string")throw Error(pe(364));return s}if(i=An(i),i===null)throw Error(pe(362));return i.stateNode.current}function n1(i,s){switch(s.$$typeof){case Sl:if(i.type===s.value)return!0;break;case El:e:{s=s.value,i=[i,0];for(var u=0;u<i.length;){var p=i[u++],_=i[u++],L=s[_];if(p.tag!==5||!_t(p)){for(;L!=null&&n1(p,L);)_++,L=s[_];if(_===s.length){s=!0;break e}else for(p=p.child;p!==null;)i.push(p,_),p=p.sibling}}s=!1}return s;case Rl:if(i.tag===5&&Lt(i.stateNode,s.value))return!0;break;case Ns:if((i.tag===5||i.tag===6)&&(i=qr(i),i!==null&&0<=i.indexOf(s.value)))return!0;break;case Ll:if(i.tag===5&&(i=i.memoizedProps["data-testname"],typeof i=="string"&&i.toLowerCase()===s.value.toLowerCase()))return!0;break;default:throw Error(pe(365))}return!1}function r1(i){switch(i.$$typeof){case Sl:return"<"+(fn(i.value)||"Unknown")+">";case El:return":has("+(r1(i)||"")+")";case Rl:return'[role="'+i.value+'"]';case Ns:return'"'+i.value+'"';case Ll:return'[data-testname="'+i.value+'"]';default:throw Error(pe(365))}}function ja(i,s){var u=[];i=[i,0];for(var p=0;p<i.length;){var _=i[p++],L=i[p++],ye=s[L];if(_.tag!==5||!_t(_)){for(;ye!=null&&n1(_,ye);)L++,ye=s[L];if(L===s.length)u.push(_);else for(_=_.child;_!==null;)i.push(_,L),_=_.sibling}}return u}function y1(i,s){if(!an)throw Error(pe(363));i=Zo(i),i=ja(i,s),s=[],i=Array.from(i);for(var u=0;u<i.length;){var p=i[u++];if(p.tag===5)_t(p)||s.push(p.stateNode);else for(p=p.child;p!==null;)i.push(p),p=p.sibling}return s}var bc=Math.ceil,B1=Ot.ReactCurrentDispatcher,nc=Ot.ReactCurrentOwner,Uo=Ot.ReactCurrentBatchConfig,li=0,wo=null,So=null,ko=0,Bs=0,U1=Qn(0),Eo=0,sl=null,V1=0,Tl=0,rc=0,al=null,Us=null,Al=0,ic=1/0;function F1(){ic=Bi()+500}var Pl=!1,Sc=null,i1=null,Il=!1,o1=null,Ol=0,w1=0,Dl=null,Hl=-1,zl=0;function Ro(){return li&6?Bi():Hl!==-1?Hl:Hl=Bi()}function ma(i){return i.mode&1?li&2&&ko!==0?ko&-ko:Cn.transition!==null?(zl===0&&(i=xi,xi<<=1,!(xi&4194240)&&(xi=64),zl=i),zl):(i=ui,i!==0?i:un()):1}function bs(i,s,u){if(50<w1)throw w1=0,Dl=null,Error(pe(185));var p=Ga(i,s);return p===null?null:(Po(p,s,u),(!(li&2)||p!==wo)&&(p===wo&&(!(li&2)&&(Tl|=s),Eo===4&&s1(p,ko)),Ss(p,u),s===1&&li===0&&!(i.mode&1)&&(F1(),Oe&&or())),p)}function Ga(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}function Ss(i,s){var u=i.callbackNode;Xa(i,s);var p=Mo(i,i===wo?ko:0);if(p===0)u!==null&&Fr(u),i.callbackNode=null,i.callbackPriority=0;else if(s=p&-p,i.callbackPriority!==s){if(u!=null&&Fr(u),s===1)i.tag===0?Dn(sc.bind(null,i)):Mn(sc.bind(null,i)),Yt?Tn(function(){li===0&&or()}):ns(O,or),u=null;else{switch(Ps(p)){case 1:u=O;break;case 4:u=V;break;case 16:u=de;break;case 536870912:u=Ue;break;default:u=de}u=ve(u,Ec.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function Ec(i,s){if(Hl=-1,zl=0,li&6)throw Error(pe(327));var u=i.callbackNode;if(l1()&&i.callbackNode!==u)return null;var p=Mo(i,i===wo?ko:0);if(p===0)return null;if(p&30||p&i.expiredLanes||s)s=Ul(i,p);else{s=p;var _=li;li|=2;var L=ga();(wo!==i||ko!==s)&&(F1(),M1(i,s));do try{Vl();break}catch(Ge){Lc(i,Ge)}while(1);yi(),B1.current=L,li=_,So!==null?s=0:(wo=null,ko=0,s=Eo)}if(s!==0){if(s===2&&(_=ra(i),_!==0&&(p=_,s=Es(i,_))),s===1)throw u=sl,M1(i,0),s1(i,p),Ss(i,Bi()),u;if(s===6)s1(i,p);else{if(_=i.current.alternate,!(p&30)&&!nu(_)&&(s=Ul(i,p),s===2&&(L=ra(i),L!==0&&(p=L,s=Es(i,L))),s===1))throw u=sl,M1(i,0),s1(i,p),Ss(i,Bi()),u;switch(i.finishedWork=_,i.finishedLanes=p,s){case 0:case 1:throw Error(pe(345));case 2:a1(i,Us);break;case 3:if(s1(i,p),(p&130023424)===p&&(s=Al+500-Bi(),10<s)){if(Mo(i,0)!==0)break;if(_=i.suspendedLanes,(_&p)!==p){Ro(),i.pingedLanes|=i.suspendedLanes&_;break}i.timeoutHandle=_e(a1.bind(null,i,Us),s);break}a1(i,Us);break;case 4:if(s1(i,p),(p&4194240)===p)break;for(s=i.eventTimes,_=-1;0<p;){var ye=31-Ni(p);L=1<<ye,ye=s[ye],ye>_&&(_=ye),p&=~L}if(p=_,p=Bi()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*bc(p/1960))-p,10<p){i.timeoutHandle=_e(a1.bind(null,i,Us),p);break}a1(i,Us);break;case 5:a1(i,Us);break;default:throw Error(pe(329))}}}return Ss(i,Bi()),i.callbackNode===u?Ec.bind(null,i):null}function Es(i,s){var u=al;return i.current.memoizedState.isDehydrated&&(M1(i,s).flags|=256),i=Ul(i,s),i!==2&&(s=Us,Us=u,s!==null&&oc(s)),i}function oc(i){Us===null?Us=i:Us.push.apply(Us,i)}function nu(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var _=u[p],L=_.getSnapshot;_=_.value;try{if(!E(L(),_))return!1}catch(ye){return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function s1(i,s){for(s&=~rc,s&=~Tl,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-Ni(s),p=1<<u;i[u]=-1,s&=~p}}function sc(i){if(li&6)throw Error(pe(327));l1();var s=Mo(i,0);if(!(s&1))return Ss(i,Bi()),null;var u=Ul(i,s);if(i.tag!==0&&u===2){var p=ra(i);p!==0&&(s=p,u=Es(i,p))}if(u===1)throw u=sl,M1(i,0),s1(i,s),Ss(i,Bi()),u;if(u===6)throw Error(pe(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,a1(i,Us),Ss(i,Bi()),null}function Rc(i){o1!==null&&o1.tag===0&&!(li&6)&&l1();var s=li;li|=1;var u=Uo.transition,p=ui;try{if(Uo.transition=null,ui=1,i)return i()}finally{ui=p,Uo.transition=u,li=s,!(li&6)&&or()}}function Nl(){Bs=U1.current,Vn(U1)}function M1(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==me&&(i.timeoutHandle=me,$e(u)),So!==null)for(u=So.return;u!==null;){var p=u;switch(Na(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&go();break;case 3:rs(),Vn(rr),Vn(Jt),is();break;case 5:po(p);break;case 4:rs();break;case 13:Vn(ce);break;case 19:Vn(ce);break;case 10:eo(p.type._context);break;case 22:case 23:Nl()}u=u.return}if(wo=i,So=i=en(i.current,null),ko=Bs=s,Eo=0,sl=null,rc=Tl=V1=0,Us=al=null,Vo!==null){for(s=0;s<Vo.length;s++)if(u=Vo[s],p=u.interleaved,p!==null){u.interleaved=null;var _=p.next,L=u.pending;if(L!==null){var ye=L.next;L.next=_,p.next=ye}u.pending=p}Vo=null}return i}function Lc(i,s){do{var u=So;try{if(yi(),ds.current=J1,ca){for(var p=to.memoizedState;p!==null;){var _=p.queue;_!==null&&(_.pending=null),p=p.next}ca=!1}if(os=0,Lo=zo=to=null,qs=!1,Hs=0,nc.current=null,u===null||u.return===null){Eo=1,sl=s,So=null;break}e:{var L=i,ye=u.return,Ge=u,Dt=s;if(s=ko,Ge.flags|=32768,Dt!==null&&typeof Dt=="object"&&typeof Dt.then=="function"){var In=Dt,pr=Ge,Jr=pr.tag;if(!(pr.mode&1)&&(Jr===0||Jr===11||Jr===15)){var Ir=pr.alternate;Ir?(pr.updateQueue=Ir.updateQueue,pr.memoizedState=Ir.memoizedState,pr.lanes=Ir.lanes):(pr.updateQueue=null,pr.memoizedState=null)}var Pi=g1(ye);if(Pi!==null){Pi.flags&=-257,Yl(Pi,ye,Ge,L,s),Pi.mode&1&&m1(L,In,s),s=Pi,Dt=In;var _r=s.updateQueue;if(_r===null){var jo=new Set;jo.add(Dt),s.updateQueue=jo}else _r.add(Dt);break e}else{if(!(s&1)){m1(L,In,s),Bl();break e}Dt=Error(pe(426))}}else if(io&&Ge.mode&1){var Rs=g1(ye);if(Rs!==null){!(Rs.flags&65536)&&(Rs.flags|=256),Yl(Rs,ye,Ge,L,s),T1(Dt);break e}}L=Dt,Eo!==4&&(Eo=2),al===null?al=[L]:al.push(L),Dt=$i(Dt,Ge),Ge=ye;do{switch(Ge.tag){case 3:Ge.flags|=65536,s&=-s,Ge.lanes|=s;var Mt=Xl(Ge,Dt,s);R1(Ge,Mt);break e;case 1:L=Dt;var at=Ge.type,It=Ge.stateNode;if(!(Ge.flags&128)&&(typeof at.getDerivedStateFromError=="function"||It!==null&&typeof It.componentDidCatch=="function"&&(i1===null||!i1.has(It)))){Ge.flags|=65536,s&=-s,Ge.lanes|=s;var fr=$a(Ge,L,s);R1(Ge,fr);break e}}Ge=Ge.return}while(Ge!==null)}ac(u)}catch(Er){s=Er,So===u&&u!==null&&(So=u=u.return);continue}break}while(1)}function ga(){var i=B1.current;return B1.current=J1,i===null?J1:i}function Bl(){(Eo===0||Eo===3||Eo===2)&&(Eo=4),wo===null||!(V1&268435455)&&!(Tl&268435455)||s1(wo,ko)}function Ul(i,s){var u=li;li|=2;var p=ga();wo===i&&ko===s||M1(i,s);do try{ru();break}catch(_){Lc(i,_)}while(1);if(yi(),li=u,B1.current=p,So!==null)throw Error(pe(261));return wo=null,ko=0,Eo}function ru(){for(;So!==null;)Tc(So)}function Vl(){for(;So!==null&&!Wo();)Tc(So)}function Tc(i){var s=N(i.alternate,i,Bs);i.memoizedProps=i.pendingProps,s===null?ac(i):So=s,nc.current=null}function ac(i){var s=i;do{var u=s.alternate;if(i=s.return,s.flags&32768){if(u=Ta(u,s),u!==null){u.flags&=32767,So=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Eo=6,So=null;return}}else if(u=xl(u,s,Bs),u!==null){So=u;return}if(s=s.sibling,s!==null){So=s;return}So=s=i}while(s!==null);Eo===0&&(Eo=5)}function a1(i,s){var u=ui,p=Uo.transition;try{Uo.transition=null,ui=1,Ac(i,s,u)}finally{Uo.transition=p,ui=u}return null}function Ac(i,s,u){do l1();while(o1!==null);if(li&6)throw Error(pe(327));var p=i.finishedWork,_=i.finishedLanes;if(p===null)return null;if(i.finishedWork=null,i.finishedLanes=0,p===i.current)throw Error(pe(177));i.callbackNode=null,i.callbackPriority=0;var L=p.lanes|p.childLanes;if(Go(i,L),i===wo&&(So=wo=null,ko=0),!(p.subtreeFlags&2064)&&!(p.flags&2064)||Il||(Il=!0,ve(de,function(){return l1(),null})),L=(p.flags&15990)!==0,p.subtreeFlags&15990||L){L=Uo.transition,Uo.transition=null;var ye=ui;ui=1;var Ge=li;li|=4,nc.current=null,Qc(i,p),eu(i,p,_),De(i.containerInfo),i.current=p,bl(p,i,_),cs(),li=Ge,ui=ye,Uo.transition=L}else i.current=p;if(Il&&(Il=!1,o1=i,Ol=_),L=i.pendingLanes,L===0&&(i1=null),z(p.stateNode,u),Ss(i,Bi()),s!==null)for(u=i.onRecoverableError,p=0;p<s.length;p++)u(s[p]);if(Pl)throw Pl=!1,i=Sc,Sc=null,i;return Ol&1&&i.tag!==0&&l1(),L=i.pendingLanes,L&1?i===Dl?w1++:(w1=0,Dl=i):w1=0,or(),null}function l1(){if(o1!==null){var i=Ps(Ol),s=Uo.transition,u=ui;try{if(Uo.transition=null,ui=16>i?16:i,o1===null)var p=!1;else{if(i=o1,o1=null,Ol=0,li&6)throw Error(pe(331));var _=li;for(li|=4,gn=i.current;gn!==null;){var L=gn,ye=L.child;if(gn.flags&16){var Ge=L.deletions;if(Ge!==null){for(var Dt=0;Dt<Ge.length;Dt++){var In=Ge[Dt];for(gn=In;gn!==null;){var pr=gn;switch(pr.tag){case 0:case 11:case 15:ha(8,pr,L)}var Jr=pr.child;if(Jr!==null)Jr.return=pr,gn=Jr;else for(;gn!==null;){pr=gn;var Ir=pr.sibling,Pi=pr.return;if(C1(pr),pr===In){gn=null;break}if(Ir!==null){Ir.return=Pi,gn=Ir;break}gn=Pi}}}var _r=L.alternate;if(_r!==null){var jo=_r.child;if(jo!==null){_r.child=null;do{var Rs=jo.sibling;jo.sibling=null,jo=Rs}while(jo!==null)}}gn=L}}if(L.subtreeFlags&2064&&ye!==null)ye.return=L,gn=ye;else e:for(;gn!==null;){if(L=gn,L.flags&2048)switch(L.tag){case 0:case 11:case 15:ha(9,L,L.return)}var Mt=L.sibling;if(Mt!==null){Mt.return=L.return,gn=Mt;break e}gn=L.return}}var at=i.current;for(gn=at;gn!==null;){ye=gn;var It=ye.child;if(ye.subtreeFlags&2064&&It!==null)It.return=ye,gn=It;else e:for(ye=at;gn!==null;){if(Ge=gn,Ge.flags&2048)try{switch(Ge.tag){case 0:case 11:case 15:Aa(9,Ge)}}catch(Er){Vs(Ge,Ge.return,Er)}if(Ge===ye){gn=null;break e}var fr=Ge.sibling;if(fr!==null){fr.return=Ge.return,gn=fr;break e}gn=Ge.return}}if(li=_,or(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(pt,i)}catch(Er){}p=!0}return p}finally{ui=u,Uo.transition=s}}return!1}function Pc(i,s,u){s=$i(u,s),s=Xl(i,s,1),Is(i,s),s=Ro(),i=Ga(i,1),i!==null&&(Po(i,1,s),Ss(i,s))}function Vs(i,s,u){if(i.tag===3)Pc(i,i,u);else for(;s!==null;){if(s.tag===3){Pc(s,i,u);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(i1===null||!i1.has(p))){i=$i(u,i),i=$a(s,i,1),Is(s,i),i=Ro(),s=Ga(s,1),s!==null&&(Po(s,1,i),Ss(s,i));break}}s=s.return}}function iu(i,s,u){var p=i.pingCache;p!==null&&p.delete(s),s=Ro(),i.pingedLanes|=i.suspendedLanes&u,wo===i&&(ko&u)===u&&(Eo===4||Eo===3&&(ko&130023424)===ko&&500>Bi()-Al?M1(i,0):rc|=u),Ss(i,s)}function h(i,s){s===0&&(i.mode&1?(s=$o,$o<<=1,!($o&130023424)&&($o=4194304)):s=1);var u=Ro();i=Ga(i,s),i!==null&&(Po(i,s,u),Ss(i,u))}function w(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),h(i,u)}function I(i,s){var u=0;switch(i.tag){case 13:var p=i.stateNode,_=i.memoizedState;_!==null&&(u=_.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(pe(314))}p!==null&&p.delete(s),h(i,u)}var N;N=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||rr.current)cr=!0;else{if(!(i.lanes&u)&&!(s.flags&128))return cr=!1,ec(i,s,u);cr=!!(i.flags&131072)}else cr=!1,io&&s.flags&1048576&&ti(s,Ka,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),i=s.pendingProps;var _=Ti(s,Jt.current);ki(s,u),_=Va(null,s,p,i,_,u);var L=pl();return s.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,bi(p)?(L=!0,Di(s)):L=!1,s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,oa(s),_.updater=f1,s.stateNode=_,_._reactInternals=s,d1(s,p,i,u),s=v1(null,s,p,!0,L,u)):(s.tag=0,io&&L&&wa(s),ao(null,s,_,u),s=s.child),s;case 16:p=s.elementType;e:{switch(i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),i=s.pendingProps,_=p._init,p=_(p._payload),s.type=p,_=s.tag=vn(p),i=gr(p,i),_){case 0:s=Jl(null,s,p,i,u);break e;case 1:s=No(null,s,p,i,u);break e;case 11:s=La(null,s,p,i,u);break e;case 14:s=da(null,s,p,gr(p.type,i),u);break e}throw Error(pe(306,p,""))}return s;case 0:return p=s.type,_=s.pendingProps,_=s.elementType===p?_:gr(p,_),Jl(i,s,p,_,u);case 1:return p=s.type,_=s.pendingProps,_=s.elementType===p?_:gr(p,_),No(i,s,p,_,u);case 3:e:{if(lo(s),i===null)throw Error(pe(387));p=s.pendingProps,L=s.memoizedState,_=L.element,Xo(i,s),sa(s,p,null,u);var ye=s.memoizedState;if(p=ye.element,dt&&L.isDehydrated)if(L={element:p,isDehydrated:!1,cache:ye.cache,transitions:ye.transitions},s.updateQueue.baseState=L,s.memoizedState=L,s.flags&256){_=Error(pe(423)),s=wc(i,s,p,u,_);break e}else if(p!==_){_=Error(pe(424)),s=wc(i,s,p,u,_);break e}else for(dt&&(Do=T(s.stateNode.containerInfo),Cs=s,io=!0,Ho=null,Ba=!1),u=hl(s,null,p,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ma(),p===_){s=Bo(i,s,u);break e}ao(i,s,p,u)}s=s.child}return s;case 5:return Sa(s),i===null&&Js(s),p=s.type,_=s.pendingProps,L=i!==null?i.memoizedProps:null,ye=_.children,Le(p,_)?ye=null:L!==null&&Le(p,L)&&(s.flags|=32),z1(i,s),ao(i,s,ye,u),s.child;case 6:return i===null&&Js(s),null;case 13:return Mc(i,s,u);case 4:return fs(s,s.stateNode.containerInfo),p=s.pendingProps,i===null?s.child=ba(s,null,p,u):ao(i,s,p,u),s.child;case 11:return p=s.type,_=s.pendingProps,_=s.elementType===p?_:gr(p,_),La(i,s,p,_,u);case 7:return ao(i,s,s.pendingProps,u),s.child;case 8:return ao(i,s,s.pendingProps.children,u),s.child;case 12:return ao(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(p=s.type._context,_=s.pendingProps,L=s.memoizedProps,ye=_.value,Oi(s,p,ye),L!==null)if(E(L.value,ye)){if(L.children===_.children&&!rr.current){s=Bo(i,s,u);break e}}else for(L=s.child,L!==null&&(L.return=s);L!==null;){var Ge=L.dependencies;if(Ge!==null){ye=L.child;for(var Dt=Ge.firstContext;Dt!==null;){if(Dt.context===p){if(L.tag===1){Dt=Ei(-1,u&-u),Dt.tag=2;var In=L.updateQueue;if(In!==null){In=In.shared;var pr=In.pending;pr===null?Dt.next=Dt:(Dt.next=pr.next,pr.next=Dt),In.pending=Dt}}L.lanes|=u,Dt=L.alternate,Dt!==null&&(Dt.lanes|=u),Fi(L.return,u,s),Ge.lanes|=u;break}Dt=Dt.next}}else if(L.tag===10)ye=L.type===s.type?null:L.child;else if(L.tag===18){if(ye=L.return,ye===null)throw Error(pe(341));ye.lanes|=u,Ge=ye.alternate,Ge!==null&&(Ge.lanes|=u),Fi(ye,u,s),ye=L.sibling}else ye=L.child;if(ye!==null)ye.return=L;else for(ye=L;ye!==null;){if(ye===s){ye=null;break}if(L=ye.sibling,L!==null){L.return=ye.return,ye=L;break}ye=ye.return}L=ye}ao(i,s,_.children,u),s=s.child}return s;case 9:return _=s.type,p=s.pendingProps.children,ki(s,u),_=Si(_),p=p(_),s.flags|=1,ao(i,s,p,u),s.child;case 14:return p=s.type,_=gr(p,s.pendingProps),_=gr(p.type,_),da(i,s,p,_,u);case 15:return qc(i,s,s.type,s.pendingProps,u);case 17:return p=s.type,_=s.pendingProps,_=s.elementType===p?_:gr(p,_),i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),s.tag=1,bi(p)?(i=!0,Di(s)):i=!1,ki(s,u),j1(s,p,_),d1(s,p,_,u),v1(null,s,p,!0,i,u);case 19:return Ql(i,s,u);case 22:return Ms(i,s,u)}throw Error(pe(156,s.tag))};function ve(i,s){return ns(i,s)}function Ie(i,s,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(i,s,u,p){return new Ie(i,s,u,p)}function Wt(i){return i=i.prototype,!(!i||!i.isReactComponent)}function vn(i){if(typeof i=="function")return Wt(i)?1:0;if(i!=null){if(i=i.$$typeof,i===zn)return 11;if(i===ft)return 14}return 2}function en(i,s){var u=i.alternate;return u===null?(u=it(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function ir(i,s,u,p,_,L){var ye=2;if(p=i,typeof i=="function")Wt(i)&&(ye=1);else if(typeof i=="string")ye=5;else e:switch(i){case gt:return Fn(u.children,_,L,s);case ht:ye=8,_|=8;break;case mt:return i=it(12,u,s,_|2),i.elementType=mt,i.lanes=L,i;case En:return i=it(13,u,s,_),i.elementType=En,i.lanes=L,i;case bn:return i=it(19,u,s,_),i.elementType=bn,i.lanes=L,i;case rn:return qn(u,_,L,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case At:ye=10;break e;case ee:ye=9;break e;case zn:ye=11;break e;case ft:ye=14;break e;case he:ye=16,p=null;break e}throw Error(pe(130,i==null?i:typeof i,""))}return s=it(ye,u,s,_),s.elementType=i,s.type=p,s.lanes=L,s}function Fn(i,s,u,p){return i=it(7,i,p,s),i.lanes=u,i}function qn(i,s,u,p){return i=it(22,i,p,s),i.elementType=rn,i.lanes=u,i.stateNode={},i}function tr(i,s,u){return i=it(6,i,null,s),i.lanes=u,i}function Sr(i,s,u){return s=it(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function sr(i,s,u,p,_){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=me,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ia(0),this.expirationTimes=ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.identifierPrefix=p,this.onRecoverableError=_,dt&&(this.mutableSourceEagerHydrationData=null)}function Ui(i,s,u,p,_,L,ye,Ge,Dt){return i=new sr(i,s,u,Ge,Dt),s===1?(s=1,L===!0&&(s|=8)):s=0,L=it(3,null,null,s),i.current=L,L.stateNode=i,L.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null},oa(L),i}function wi(i){if(!i)return mr;i=i._reactInternals;e:{if(Pn(i)!==i||i.tag!==1)throw Error(pe(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(bi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(pe(171))}if(i.tag===1){var u=i.type;if(bi(u))return Gi(i,u,s)}return s}function Vr(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(pe(188)):(i=Object.keys(i).join(","),Error(pe(268,i)));return i=Ke(s),i===null?null:i.stateNode}function Hi(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function Tr(i,s){Hi(i,s),(i=i.alternate)&&Hi(i,s)}function Nr(i){return i=Ke(i),i===null?null:i.stateNode}function no(){return null}return P.attemptContinuousHydration=function(i){if(i.tag===13){var s=Ro();bs(i,134217728,s),Tr(i,134217728)}},P.attemptHydrationAtCurrentPriority=function(i){if(i.tag===13){var s=Ro(),u=ma(i);bs(i,u,s),Tr(i,u)}},P.attemptSynchronousHydration=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=Qi(s.pendingLanes);u!==0&&(Fs(s,u|1),Ss(s,Bi()),!(li&6)&&(F1(),or()))}break;case 13:var p=Ro();Rc(function(){return bs(i,1,p)}),Tr(i,1)}},P.batchedUpdates=function(i,s){var u=li;li|=1;try{return i(s)}finally{li=u,li===0&&(F1(),Oe&&or())}},P.createComponentSelector=function(i){return{$$typeof:Sl,value:i}},P.createContainer=function(i,s,u,p,_,L,ye){return Ui(i,s,!1,null,u,p,_,L,ye)},P.createHasPseudoClassSelector=function(i){return{$$typeof:El,value:i}},P.createHydrationContainer=function(i,s,u,p,_,L,ye,Ge,Dt){return i=Ui(u,p,!0,i,_,L,ye,Ge,Dt),i.context=wi(null),u=i.current,p=Ro(),_=ma(u),L=Ei(p,_),L.callback=s!=null?s:null,Is(u,L),i.current.lanes=_,Po(i,_,p),Ss(i,p),i},P.createPortal=function(i,s,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wt,key:p==null?null:""+p,children:i,containerInfo:s,implementation:u}},P.createRoleSelector=function(i){return{$$typeof:Rl,value:i}},P.createTestNameSelector=function(i){return{$$typeof:Ll,value:i}},P.createTextSelector=function(i){return{$$typeof:Ns,value:i}},P.deferredUpdates=function(i){var s=ui,u=Uo.transition;try{return Uo.transition=null,ui=16,i()}finally{ui=s,Uo.transition=u}},P.discreteUpdates=function(i,s,u,p,_){var L=ui,ye=Uo.transition;try{return Uo.transition=null,ui=1,i(s,u,p,_)}finally{ui=L,Uo.transition=ye,li===0&&F1()}},P.findAllNodes=y1,P.findBoundingRects=function(i,s){if(!an)throw Error(pe(363));s=y1(i,s),i=[];for(var u=0;u<s.length;u++)i.push(Rr(s[u]));for(s=i.length-1;0<s;s--){u=i[s];for(var p=u.x,_=p+u.width,L=u.y,ye=L+u.height,Ge=s-1;0<=Ge;Ge--)if(s!==Ge){var Dt=i[Ge],In=Dt.x,pr=In+Dt.width,Jr=Dt.y,Ir=Jr+Dt.height;if(p>=In&&L>=Jr&&_<=pr&&ye<=Ir){i.splice(s,1);break}else if(p!==In||u.width!==Dt.width||Ir<L||Jr>ye){if(!(L!==Jr||u.height!==Dt.height||pr<p||In>_)){In>p&&(Dt.width+=In-p,Dt.x=p),pr<_&&(Dt.width=_-In),i.splice(s,1);break}}else{Jr>L&&(Dt.height+=Jr-L,Dt.y=L),Ir<ye&&(Dt.height=ye-Jr),i.splice(s,1);break}}}return i},P.findHostInstance=Vr,P.findHostInstanceWithNoPortals=function(i){return i=xe(i),i=i!==null?rt(i):null,i===null?null:i.stateNode},P.findHostInstanceWithWarning=function(i){return Vr(i)},P.flushControlled=function(i){var s=li;li|=1;var u=Uo.transition,p=ui;try{Uo.transition=null,ui=1,i()}finally{ui=p,Uo.transition=u,li=s,li===0&&(F1(),or())}},P.flushPassiveEffects=l1,P.flushSync=Rc,P.focusWithin=function(i,s){if(!an)throw Error(pe(363));for(i=Zo(i),s=ja(i,s),s=Array.from(s),i=0;i<s.length;){var u=s[i++];if(!_t(u)){if(u.tag===5&&Qt(u.stateNode))return!0;for(u=u.child;u!==null;)s.push(u),u=u.sibling}}return!1},P.getCurrentUpdatePriority=function(){return ui},P.getFindAllNodesFailureDescription=function(i,s){if(!an)throw Error(pe(363));var u=0,p=[];i=[Zo(i),0];for(var _=0;_<i.length;){var L=i[_++],ye=i[_++],Ge=s[ye];if((L.tag!==5||!_t(L))&&(n1(L,Ge)&&(p.push(r1(Ge)),ye++,ye>u&&(u=ye)),ye<s.length))for(L=L.child;L!==null;)i.push(L,ye),L=L.sibling}if(u<s.length){for(i=[];u<s.length;u++)i.push(r1(s[u]));return`findAllNodes was able to match part of the selector:
  `+(p.join(" > ")+`

No matching component was found for:
  `)+i.join(" > ")}return null},P.getPublicRootInstance=function(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return Te(i.child.stateNode);default:return i.child.stateNode}},P.injectIntoDevTools=function(i){if(i={bundleType:i.bundleType,version:i.version,rendererPackageName:i.rendererPackageName,rendererConfig:i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ot.ReactCurrentDispatcher,findHostInstanceByFiber:Nr,findFiberByHostInstance:i.findFiberByHostInstance||no,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")i=!1;else{var s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(s.isDisabled||!s.supportsFiber)i=!0;else{try{pt=s.inject(i),lt=s}catch(u){}i=!!s.checkDCE}}return i},P.isAlreadyRendering=function(){return!1},P.observeVisibleRects=function(i,s,u,p){if(!an)throw Error(pe(363));i=y1(i,s);var _=ln(i,u,p).disconnect;return{disconnect:function(){_()}}},P.registerMutableSourceForHydration=function(i,s){var u=s._getVersion;u=u(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,u]:i.mutableSourceEagerHydrationData.push(s,u)},P.runWithPriority=function(i,s){var u=ui;try{return ui=i,s()}finally{ui=u}},P.shouldError=function(){return null},P.shouldSuspend=function(){return!1},P.updateContainer=function(i,s,u,p){var _=s.current,L=Ro(),ye=ma(_);return u=wi(u),s.context===null?s.context=u:s.pendingContext=u,s=Ei(L,ye),s.payload={element:i},p=p===void 0?null:p,p!==null&&(s.callback=p),Is(_,s),i=bs(_,ye,L),i!==null&&_a(i,_,ye),ye},P}},85259:function(qt,Fe,j){"use strict";qt.exports=j(23406)},97427:function(qt,Fe,j){"use strict";qt.exports=j(45658)},94440:function(qt,Fe,j){"use strict";j.d(Fe,{Z:function(){return Y}});var b=j(50959),B=j(31110),P=j.n(B);function Y(wt){let{debounce:gt,scroll:ht,polyfill:mt,offsetSize:At}=wt===void 0?{debounce:0,scroll:!1,offsetSize:!1}:wt;const ee=mt||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!ee)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[zn,En]=(0,b.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),bn=(0,b.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:zn}),ft=gt?typeof gt=="number"?gt:gt.scroll:null,he=gt?typeof gt=="number"?gt:gt.resize:null,rn=(0,b.useRef)(!1);(0,b.useEffect)(()=>(rn.current=!0,()=>void(rn.current=!1)));const[Kt,xn,fn]=(0,b.useMemo)(()=>{const xe=()=>{if(!bn.current.element)return;const{left:Ke,top:we,width:rt,height:Re,bottom:Te,right:q,x:F,y:re}=bn.current.element.getBoundingClientRect(),De={left:Ke,top:we,width:rt,height:Re,bottom:Te,right:q,x:F,y:re};bn.current.element instanceof HTMLElement&&At&&(De.height=bn.current.element.offsetHeight,De.width=bn.current.element.offsetWidth),Object.freeze(De),rn.current&&!Ft(bn.current.lastBounds,De)&&En(bn.current.lastBounds=De)};return[xe,he?P()(xe,he):xe,ft?P()(xe,ft):xe]},[En,At,ft,he]);function Gt(){bn.current.scrollContainers&&(bn.current.scrollContainers.forEach(xe=>xe.removeEventListener("scroll",fn,!0)),bn.current.scrollContainers=null),bn.current.resizeObserver&&(bn.current.resizeObserver.disconnect(),bn.current.resizeObserver=null)}function Pn(){bn.current.element&&(bn.current.resizeObserver=new ee(fn),bn.current.resizeObserver.observe(bn.current.element),ht&&bn.current.scrollContainers&&bn.current.scrollContainers.forEach(xe=>xe.addEventListener("scroll",fn,{capture:!0,passive:!0})))}const jt=xe=>{!xe||xe===bn.current.element||(Gt(),bn.current.element=xe,bn.current.scrollContainers=pe(xe),Pn())};return yt(fn,Boolean(ht)),Je(xn),(0,b.useEffect)(()=>{Gt(),Pn()},[ht,fn,xn]),(0,b.useEffect)(()=>Gt,[]),[jt,zn,Kt]}function Je(wt){(0,b.useEffect)(()=>{const gt=wt;return window.addEventListener("resize",gt),()=>void window.removeEventListener("resize",gt)},[wt])}function yt(wt,gt){(0,b.useEffect)(()=>{if(gt){const ht=wt;return window.addEventListener("scroll",ht,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",ht,!0)}},[wt,gt])}function pe(wt){const gt=[];if(!wt||wt===document.body)return gt;const{overflow:ht,overflowX:mt,overflowY:At}=window.getComputedStyle(wt);return[ht,mt,At].some(ee=>ee==="auto"||ee==="scroll")&&gt.push(wt),[...gt,...pe(wt.parentElement)]}const Ot=["x","y","top","bottom","left","right","width","height"],Ft=(wt,gt)=>Ot.every(ht=>wt[ht]===gt[ht])},70247:function(qt,Fe){"use strict";function j(Te,q){var F=Te.length;Te.push(q);e:for(;0<F;){var re=F-1>>>1,De=Te[re];if(0<P(De,q))Te[re]=q,Te[F]=De,F=re;else break e}}function b(Te){return Te.length===0?null:Te[0]}function B(Te){if(Te.length===0)return null;var q=Te[0],F=Te.pop();if(F!==q){Te[0]=F;e:for(var re=0,De=Te.length,k=De>>>1;re<k;){var le=2*(re+1)-1,te=Te[le],ae=le+1,Le=Te[ae];if(0>P(te,F))ae<De&&0>P(Le,te)?(Te[re]=Le,Te[ae]=F,re=ae):(Te[re]=te,Te[le]=F,re=le);else if(ae<De&&0>P(Le,F))Te[re]=Le,Te[ae]=F,re=ae;else break e}}return q}function P(Te,q){var F=Te.sortIndex-q.sortIndex;return F!==0?F:Te.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Y=performance;Fe.unstable_now=function(){return Y.now()}}else{var Je=Date,yt=Je.now();Fe.unstable_now=function(){return Je.now()-yt}}var pe=[],Ot=[],Ft=1,wt=null,gt=3,ht=!1,mt=!1,At=!1,ee=typeof setTimeout=="function"?setTimeout:null,zn=typeof clearTimeout=="function"?clearTimeout:null,En=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function bn(Te){for(var q=b(Ot);q!==null;){if(q.callback===null)B(Ot);else if(q.startTime<=Te)B(Ot),q.sortIndex=q.expirationTime,j(pe,q);else break;q=b(Ot)}}function ft(Te){if(At=!1,bn(Te),!mt)if(b(pe)!==null)mt=!0,rt(he);else{var q=b(Ot);q!==null&&Re(ft,q.startTime-Te)}}function he(Te,q){mt=!1,At&&(At=!1,zn(xn),xn=-1),ht=!0;var F=gt;try{for(bn(q),wt=b(pe);wt!==null&&(!(wt.expirationTime>q)||Te&&!Pn());){var re=wt.callback;if(typeof re=="function"){wt.callback=null,gt=wt.priorityLevel;var De=re(wt.expirationTime<=q);q=Fe.unstable_now(),typeof De=="function"?wt.callback=De:wt===b(pe)&&B(pe),bn(q)}else B(pe);wt=b(pe)}if(wt!==null)var k=!0;else{var le=b(Ot);le!==null&&Re(ft,le.startTime-q),k=!1}return k}finally{wt=null,gt=F,ht=!1}}var rn=!1,Kt=null,xn=-1,fn=5,Gt=-1;function Pn(){return!(Fe.unstable_now()-Gt<fn)}function jt(){if(Kt!==null){var Te=Fe.unstable_now();Gt=Te;var q=!0;try{q=Kt(!0,Te)}finally{q?xe():(rn=!1,Kt=null)}}else rn=!1}var xe;if(typeof En=="function")xe=function(){En(jt)};else if(typeof MessageChannel!="undefined"){var Ke=new MessageChannel,we=Ke.port2;Ke.port1.onmessage=jt,xe=function(){we.postMessage(null)}}else xe=function(){ee(jt,0)};function rt(Te){Kt=Te,rn||(rn=!0,xe())}function Re(Te,q){xn=ee(function(){Te(Fe.unstable_now())},q)}Fe.unstable_IdlePriority=5,Fe.unstable_ImmediatePriority=1,Fe.unstable_LowPriority=4,Fe.unstable_NormalPriority=3,Fe.unstable_Profiling=null,Fe.unstable_UserBlockingPriority=2,Fe.unstable_cancelCallback=function(Te){Te.callback=null},Fe.unstable_continueExecution=function(){mt||ht||(mt=!0,rt(he))},Fe.unstable_forceFrameRate=function(Te){0>Te||125<Te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fn=0<Te?Math.floor(1e3/Te):5},Fe.unstable_getCurrentPriorityLevel=function(){return gt},Fe.unstable_getFirstCallbackNode=function(){return b(pe)},Fe.unstable_next=function(Te){switch(gt){case 1:case 2:case 3:var q=3;break;default:q=gt}var F=gt;gt=q;try{return Te()}finally{gt=F}},Fe.unstable_pauseExecution=function(){},Fe.unstable_requestPaint=function(){},Fe.unstable_runWithPriority=function(Te,q){switch(Te){case 1:case 2:case 3:case 4:case 5:break;default:Te=3}var F=gt;gt=Te;try{return q()}finally{gt=F}},Fe.unstable_scheduleCallback=function(Te,q,F){var re=Fe.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?re+F:re):F=re,Te){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=F+De,Te={id:Ft++,callback:q,priorityLevel:Te,startTime:F,expirationTime:De,sortIndex:-1},F>re?(Te.sortIndex=F,j(Ot,Te),b(pe)===null&&Te===b(Ot)&&(At?(zn(xn),xn=-1):At=!0,Re(ft,F-re))):(Te.sortIndex=De,j(pe,Te),mt||ht||(mt=!0,rt(he))),Te},Fe.unstable_shouldYield=Pn,Fe.unstable_wrapCallback=function(Te){var q=gt;return function(){var F=gt;gt=q;try{return Te.apply(this,arguments)}finally{gt=F}}}},65297:function(qt,Fe,j){"use strict";qt.exports=j(70247)},67839:function(qt,Fe,j){var b=j(49154),B=j(14614);function P(Y,Je,yt){return B()?(qt.exports=P=Reflect.construct.bind(),qt.exports.__esModule=!0,qt.exports.default=qt.exports):(qt.exports=P=function(Ot,Ft,wt){var gt=[null];gt.push.apply(gt,Ft);var ht=Function.bind.apply(Ot,gt),mt=new ht;return wt&&b(mt,wt.prototype),mt},qt.exports.__esModule=!0,qt.exports.default=qt.exports),P.apply(null,arguments)}qt.exports=P,qt.exports.__esModule=!0,qt.exports.default=qt.exports},14614:function(qt){function Fe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(j){return!1}}qt.exports=Fe,qt.exports.__esModule=!0,qt.exports.default=qt.exports},49154:function(qt){function Fe(j,b){return qt.exports=Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,Y){return P.__proto__=Y,P},qt.exports.__esModule=!0,qt.exports.default=qt.exports,Fe(j,b)}qt.exports=Fe,qt.exports.__esModule=!0,qt.exports.default=qt.exports},18846:function(qt,Fe,j){"use strict";j.d(Fe,{Uy:function(){return Lt}});function b(ge){for(var je=arguments.length,Xe=Array(je>1?je-1:0),Ye=1;Ye<je;Ye++)Xe[Ye-1]=arguments[Ye];if(!1)var Nt,Nn;throw Error("[Immer] minified error nr: "+ge+(Xe.length?" "+Xe.map(function(wn){return"'"+wn+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function B(ge){return!!ge&&!!ge[ze]}function P(ge){var je;return!!ge&&(function(Xe){if(!Xe||typeof Xe!="object")return!1;var Ye=Object.getPrototypeOf(Xe);if(Ye===null)return!0;var Nt=Object.hasOwnProperty.call(Ye,"constructor")&&Ye.constructor;return Nt===Object||typeof Nt=="function"&&Function.toString.call(Nt)===Sn}(ge)||Array.isArray(ge)||!!ge[dt]||!!(!((je=ge.constructor)===null||je===void 0)&&je[dt])||gt(ge)||ht(ge))}function Y(ge){return B(ge)||b(23,ge),ge[ze].t}function Je(ge,je,Xe){Xe===void 0&&(Xe=!1),yt(ge)===0?(Xe?Object.keys:Yt)(ge).forEach(function(Ye){Xe&&typeof Ye=="symbol"||je(Ye,ge[Ye],ge)}):ge.forEach(function(Ye,Nt){return je(Nt,Ye,ge)})}function yt(ge){var je=ge[ze];return je?je.i>3?je.i-4:je.i:Array.isArray(ge)?1:gt(ge)?2:ht(ge)?3:0}function pe(ge,je){return yt(ge)===2?ge.has(je):Object.prototype.hasOwnProperty.call(ge,je)}function Ot(ge,je){return yt(ge)===2?ge.get(je):ge[je]}function Ft(ge,je,Xe){var Ye=yt(ge);Ye===2?ge.set(je,Xe):Ye===3?ge.add(Xe):ge[je]=Xe}function wt(ge,je){return ge===je?ge!==0||1/ge==1/je:ge!=ge&&je!=je}function gt(ge){return me&&ge instanceof Map}function ht(ge){return Pt&&ge instanceof Set}function mt(ge){return ge.o||ge.t}function At(ge){if(Array.isArray(ge))return Array.prototype.slice.call(ge);var je=Tn(ge);delete je[ze];for(var Xe=Yt(je),Ye=0;Ye<Xe.length;Ye++){var Nt=Xe[Ye],Nn=je[Nt];Nn.writable===!1&&(Nn.writable=!0,Nn.configurable=!0),(Nn.get||Nn.set)&&(je[Nt]={configurable:!0,writable:!0,enumerable:Nn.enumerable,value:ge[Nt]})}return Object.create(Object.getPrototypeOf(ge),je)}function ee(ge,je){return je===void 0&&(je=!1),En(ge)||B(ge)||!P(ge)||(yt(ge)>1&&(ge.set=ge.add=ge.clear=ge.delete=zn),Object.freeze(ge),je&&Je(ge,function(Xe,Ye){return ee(Ye,!0)},!0)),ge}function zn(){b(2)}function En(ge){return ge==null||typeof ge!="object"||Object.isFrozen(ge)}function bn(ge){var je=an[ge];return je||b(18,ge),je}function ft(ge,je){an[ge]||(an[ge]=je)}function he(){return _e}function rn(ge,je){je&&(bn("Patches"),ge.u=[],ge.s=[],ge.v=je)}function Kt(ge){xn(ge),ge.p.forEach(Gt),ge.p=null}function xn(ge){ge===_e&&(_e=ge.l)}function fn(ge){return _e={p:[],l:_e,h:ge,m:!0,_:0}}function Gt(ge){var je=ge[ze];je.i===0||je.i===1?je.j():je.g=!0}function Pn(ge,je){je._=je.p.length;var Xe=je.p[0],Ye=ge!==void 0&&ge!==Xe;return je.h.O||bn("ES5").S(je,ge,Ye),Ye?(Xe[ze].P&&(Kt(je),b(4)),P(ge)&&(ge=jt(je,ge),je.l||Ke(je,ge)),je.u&&bn("Patches").M(Xe[ze].t,ge,je.u,je.s)):ge=jt(je,Xe,[]),Kt(je),je.u&&je.v(je.u,je.s),ge!==xt?ge:void 0}function jt(ge,je,Xe){if(En(je))return je;var Ye=je[ze];if(!Ye)return Je(je,function(Bt,Vt){return xe(ge,Ye,je,Bt,Vt,Xe)},!0),je;if(Ye.A!==ge)return je;if(!Ye.P)return Ke(ge,Ye.t,!0),Ye.t;if(!Ye.I){Ye.I=!0,Ye.A._--;var Nt=Ye.i===4||Ye.i===5?Ye.o=At(Ye.k):Ye.o,Nn=Nt,wn=!1;Ye.i===3&&(Nn=new Set(Nt),Nt.clear(),wn=!0),Je(Nn,function(Bt,Vt){return xe(ge,Ye,Nt,Bt,Vt,Xe,wn)}),Ke(ge,Nt,!1),Xe&&ge.u&&bn("Patches").N(Ye,Xe,ge.u,ge.s)}return Ye.o}function xe(ge,je,Xe,Ye,Nt,Nn,wn){if(B(Nt)){var Bt=jt(ge,Nt,Nn&&je&&je.i!==3&&!pe(je.R,Ye)?Nn.concat(Ye):void 0);if(Ft(Xe,Ye,Bt),!B(Bt))return;ge.m=!1}else wn&&Xe.add(Nt);if(P(Nt)&&!En(Nt)){if(!ge.h.D&&ge._<1)return;jt(ge,Nt),je&&je.A.l||Ke(ge,Nt)}}function Ke(ge,je,Xe){Xe===void 0&&(Xe=!1),!ge.l&&ge.h.D&&ge.m&&ee(je,Xe)}function we(ge,je){var Xe=ge[ze];return(Xe?mt(Xe):ge)[je]}function rt(ge,je){if(je in ge)for(var Xe=Object.getPrototypeOf(ge);Xe;){var Ye=Object.getOwnPropertyDescriptor(Xe,je);if(Ye)return Ye;Xe=Object.getPrototypeOf(Xe)}}function Re(ge){ge.P||(ge.P=!0,ge.l&&Re(ge.l))}function Te(ge){ge.o||(ge.o=At(ge.t))}function q(ge,je,Xe){var Ye=gt(je)?bn("MapSet").F(je,Xe):ht(je)?bn("MapSet").T(je,Xe):ge.O?function(Nt,Nn){var wn=Array.isArray(Nt),Bt={i:wn?1:0,A:Nn?Nn.A:he(),P:!1,I:!1,R:{},l:Nn,t:Nt,k:null,o:null,j:null,C:!1},Vt=Bt,ut=An;wn&&(Vt=[Bt],ut=Rr);var oe=Proxy.revocable(Vt,ut),We=oe.revoke,Tt=oe.proxy;return Bt.k=Tt,Bt.j=We,Tt}(je,Xe):bn("ES5").J(je,Xe);return(Xe?Xe.A:he()).p.push(Ye),Ye}function F(ge){return B(ge)||b(22,ge),function je(Xe){if(!P(Xe))return Xe;var Ye,Nt=Xe[ze],Nn=yt(Xe);if(Nt){if(!Nt.P&&(Nt.i<4||!bn("ES5").K(Nt)))return Nt.t;Nt.I=!0,Ye=re(Xe,Nn),Nt.I=!1}else Ye=re(Xe,Nn);return Je(Ye,function(wn,Bt){Nt&&Ot(Nt.t,wn)===Bt||Ft(Ye,wn,je(Bt))}),Nn===3?new Set(Ye):Ye}(ge)}function re(ge,je){switch(je){case 2:return new Map(ge);case 3:return Array.from(ge)}return At(ge)}function De(){function ge(wn,Bt){var Vt=Nn[wn];return Vt?Vt.enumerable=Bt:Nn[wn]=Vt={configurable:!0,enumerable:Bt,get:function(){var ut=this[ze];return An.get(ut,wn)},set:function(ut){var oe=this[ze];An.set(oe,wn,ut)}},Vt}function je(wn){for(var Bt=wn.length-1;Bt>=0;Bt--){var Vt=wn[Bt][ze];if(!Vt.P)switch(Vt.i){case 5:Ye(Vt)&&Re(Vt);break;case 4:Xe(Vt)&&Re(Vt)}}}function Xe(wn){for(var Bt=wn.t,Vt=wn.k,ut=Yt(Vt),oe=ut.length-1;oe>=0;oe--){var We=ut[oe];if(We!==ze){var Tt=Bt[We];if(Tt===void 0&&!pe(Bt,We))return!0;var nn=Vt[We],Zn=nn&&nn[ze];if(Zn?Zn.t!==Tt:!wt(nn,Tt))return!0}}var hr=!!Bt[ze];return ut.length!==Yt(Bt).length+(hr?0:1)}function Ye(wn){var Bt=wn.k;if(Bt.length!==wn.t.length)return!0;var Vt=Object.getOwnPropertyDescriptor(Bt,Bt.length-1);if(Vt&&!Vt.get)return!0;for(var ut=0;ut<Bt.length;ut++)if(!Bt.hasOwnProperty(ut))return!0;return!1}function Nt(wn){wn.g&&b(3,JSON.stringify(mt(wn)))}var Nn={};ft("ES5",{J:function(wn,Bt){var Vt=Array.isArray(wn),ut=function(We,Tt){if(We){for(var nn=Array(Tt.length),Zn=0;Zn<Tt.length;Zn++)Object.defineProperty(nn,""+Zn,ge(Zn,!0));return nn}var hr=Tn(Tt);delete hr[ze];for(var Hr=Yt(hr),Li=0;Li<Hr.length;Li++){var Qr=Hr[Li];hr[Qr]=ge(Qr,We||!!hr[Qr].enumerable)}return Object.create(Object.getPrototypeOf(Tt),hr)}(Vt,wn),oe={i:Vt?5:4,A:Bt?Bt.A:he(),P:!1,I:!1,R:{},l:Bt,t:wn,k:ut,o:null,g:!1,C:!1};return Object.defineProperty(ut,ze,{value:oe,writable:!0}),ut},S:function(wn,Bt,Vt){Vt?B(Bt)&&Bt[ze].A===wn&&je(wn.p):(wn.u&&function ut(oe){if(oe&&typeof oe=="object"){var We=oe[ze];if(We){var Tt=We.t,nn=We.k,Zn=We.R,hr=We.i;if(hr===4)Je(nn,function(ei){ei!==ze&&(Tt[ei]!==void 0||pe(Tt,ei)?Zn[ei]||ut(nn[ei]):(Zn[ei]=!0,Re(We)))}),Je(Tt,function(ei){nn[ei]!==void 0||pe(nn,ei)||(Zn[ei]=!1,Re(We))});else if(hr===5){if(Ye(We)&&(Re(We),Zn.length=!0),nn.length<Tt.length)for(var Hr=nn.length;Hr<Tt.length;Hr++)Zn[Hr]=!1;else for(var Li=Tt.length;Li<nn.length;Li++)Zn[Li]=!0;for(var Qr=Math.min(nn.length,Tt.length),ri=0;ri<Qr;ri++)nn.hasOwnProperty(ri)||(Zn[ri]=!0),Zn[ri]===void 0&&ut(nn[ri])}}}}(wn.p[0]),je(wn.p))},K:function(wn){return wn.i===4?Xe(wn):Ye(wn)}})}function k(){function ge(Ye){if(!P(Ye))return Ye;if(Array.isArray(Ye))return Ye.map(ge);if(gt(Ye))return new Map(Array.from(Ye.entries()).map(function(wn){return[wn[0],ge(wn[1])]}));if(ht(Ye))return new Set(Array.from(Ye).map(ge));var Nt=Object.create(Object.getPrototypeOf(Ye));for(var Nn in Ye)Nt[Nn]=ge(Ye[Nn]);return pe(Ye,dt)&&(Nt[dt]=Ye[dt]),Nt}function je(Ye){return B(Ye)?ge(Ye):Ye}var Xe="add";ft("Patches",{$:function(Ye,Nt){return Nt.forEach(function(Nn){for(var wn=Nn.path,Bt=Nn.op,Vt=Ye,ut=0;ut<wn.length-1;ut++){var oe=yt(Vt),We=wn[ut];typeof We!="string"&&typeof We!="number"&&(We=""+We),oe!==0&&oe!==1||We!=="__proto__"&&We!=="constructor"||b(24),typeof Vt=="function"&&We==="prototype"&&b(24),typeof(Vt=Ot(Vt,We))!="object"&&b(15,wn.join("/"))}var Tt=yt(Vt),nn=ge(Nn.value),Zn=wn[wn.length-1];switch(Bt){case"replace":switch(Tt){case 2:return Vt.set(Zn,nn);case 3:b(16);default:return Vt[Zn]=nn}case Xe:switch(Tt){case 1:return Zn==="-"?Vt.push(nn):Vt.splice(Zn,0,nn);case 2:return Vt.set(Zn,nn);case 3:return Vt.add(nn);default:return Vt[Zn]=nn}case"remove":switch(Tt){case 1:return Vt.splice(Zn,1);case 2:return Vt.delete(Zn);case 3:return Vt.delete(Nn.value);default:return delete Vt[Zn]}default:b(17,Bt)}}),Ye},N:function(Ye,Nt,Nn,wn){switch(Ye.i){case 0:case 4:case 2:return function(Bt,Vt,ut,oe){var We=Bt.t,Tt=Bt.o;Je(Bt.R,function(nn,Zn){var hr=Ot(We,nn),Hr=Ot(Tt,nn),Li=Zn?pe(We,nn)?"replace":Xe:"remove";if(hr!==Hr||Li!=="replace"){var Qr=Vt.concat(nn);ut.push(Li==="remove"?{op:Li,path:Qr}:{op:Li,path:Qr,value:Hr}),oe.push(Li===Xe?{op:"remove",path:Qr}:Li==="remove"?{op:Xe,path:Qr,value:je(hr)}:{op:"replace",path:Qr,value:je(hr)})}})}(Ye,Nt,Nn,wn);case 5:case 1:return function(Bt,Vt,ut,oe){var We=Bt.t,Tt=Bt.R,nn=Bt.o;if(nn.length<We.length){var Zn=[nn,We];We=Zn[0],nn=Zn[1];var hr=[oe,ut];ut=hr[0],oe=hr[1]}for(var Hr=0;Hr<We.length;Hr++)if(Tt[Hr]&&nn[Hr]!==We[Hr]){var Li=Vt.concat([Hr]);ut.push({op:"replace",path:Li,value:je(nn[Hr])}),oe.push({op:"replace",path:Li,value:je(We[Hr])})}for(var Qr=We.length;Qr<nn.length;Qr++){var ri=Vt.concat([Qr]);ut.push({op:Xe,path:ri,value:je(nn[Qr])})}We.length<nn.length&&oe.push({op:"replace",path:Vt.concat(["length"]),value:We.length})}(Ye,Nt,Nn,wn);case 3:return function(Bt,Vt,ut,oe){var We=Bt.t,Tt=Bt.o,nn=0;We.forEach(function(Zn){if(!Tt.has(Zn)){var hr=Vt.concat([nn]);ut.push({op:"remove",path:hr,value:Zn}),oe.unshift({op:Xe,path:hr,value:Zn})}nn++}),nn=0,Tt.forEach(function(Zn){if(!We.has(Zn)){var hr=Vt.concat([nn]);ut.push({op:Xe,path:hr,value:Zn}),oe.unshift({op:"remove",path:hr,value:Zn})}nn++})}(Ye,Nt,Nn,wn)}},M:function(Ye,Nt,Nn,wn){Nn.push({op:"replace",path:[],value:Nt===xt?void 0:Nt}),wn.push({op:"replace",path:[],value:Ye})}})}function le(){function ge(Bt,Vt){function ut(){this.constructor=Bt}Nt(Bt,Vt),Bt.prototype=(ut.prototype=Vt.prototype,new ut)}function je(Bt){Bt.o||(Bt.R=new Map,Bt.o=new Map(Bt.t))}function Xe(Bt){Bt.o||(Bt.o=new Set,Bt.t.forEach(function(Vt){if(P(Vt)){var ut=q(Bt.A.h,Vt,Bt);Bt.p.set(Vt,ut),Bt.o.add(ut)}else Bt.o.add(Vt)}))}function Ye(Bt){Bt.g&&b(3,JSON.stringify(mt(Bt)))}var Nt=function(Bt,Vt){return(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ut,oe){ut.__proto__=oe}||function(ut,oe){for(var We in oe)oe.hasOwnProperty(We)&&(ut[We]=oe[We])})(Bt,Vt)},Nn=function(){function Bt(ut,oe){return this[ze]={i:2,l:oe,A:oe?oe.A:he(),P:!1,I:!1,o:void 0,R:void 0,t:ut,k:this,C:!1,g:!1},this}ge(Bt,Map);var Vt=Bt.prototype;return Object.defineProperty(Vt,"size",{get:function(){return mt(this[ze]).size}}),Vt.has=function(ut){return mt(this[ze]).has(ut)},Vt.set=function(ut,oe){var We=this[ze];return Ye(We),mt(We).has(ut)&&mt(We).get(ut)===oe||(je(We),Re(We),We.R.set(ut,!0),We.o.set(ut,oe),We.R.set(ut,!0)),this},Vt.delete=function(ut){if(!this.has(ut))return!1;var oe=this[ze];return Ye(oe),je(oe),Re(oe),oe.t.has(ut)?oe.R.set(ut,!1):oe.R.delete(ut),oe.o.delete(ut),!0},Vt.clear=function(){var ut=this[ze];Ye(ut),mt(ut).size&&(je(ut),Re(ut),ut.R=new Map,Je(ut.t,function(oe){ut.R.set(oe,!1)}),ut.o.clear())},Vt.forEach=function(ut,oe){var We=this;mt(this[ze]).forEach(function(Tt,nn){ut.call(oe,We.get(nn),nn,We)})},Vt.get=function(ut){var oe=this[ze];Ye(oe);var We=mt(oe).get(ut);if(oe.I||!P(We)||We!==oe.t.get(ut))return We;var Tt=q(oe.A.h,We,oe);return je(oe),oe.o.set(ut,Tt),Tt},Vt.keys=function(){return mt(this[ze]).keys()},Vt.values=function(){var ut,oe=this,We=this.keys();return(ut={})[zt]=function(){return oe.values()},ut.next=function(){var Tt=We.next();return Tt.done?Tt:{done:!1,value:oe.get(Tt.value)}},ut},Vt.entries=function(){var ut,oe=this,We=this.keys();return(ut={})[zt]=function(){return oe.entries()},ut.next=function(){var Tt=We.next();if(Tt.done)return Tt;var nn=oe.get(Tt.value);return{done:!1,value:[Tt.value,nn]}},ut},Vt[zt]=function(){return this.entries()},Bt}(),wn=function(){function Bt(ut,oe){return this[ze]={i:3,l:oe,A:oe?oe.A:he(),P:!1,I:!1,o:void 0,t:ut,k:this,p:new Map,g:!1,C:!1},this}ge(Bt,Set);var Vt=Bt.prototype;return Object.defineProperty(Vt,"size",{get:function(){return mt(this[ze]).size}}),Vt.has=function(ut){var oe=this[ze];return Ye(oe),oe.o?!!oe.o.has(ut)||!(!oe.p.has(ut)||!oe.o.has(oe.p.get(ut))):oe.t.has(ut)},Vt.add=function(ut){var oe=this[ze];return Ye(oe),this.has(ut)||(Xe(oe),Re(oe),oe.o.add(ut)),this},Vt.delete=function(ut){if(!this.has(ut))return!1;var oe=this[ze];return Ye(oe),Xe(oe),Re(oe),oe.o.delete(ut)||!!oe.p.has(ut)&&oe.o.delete(oe.p.get(ut))},Vt.clear=function(){var ut=this[ze];Ye(ut),mt(ut).size&&(Xe(ut),Re(ut),ut.o.clear())},Vt.values=function(){var ut=this[ze];return Ye(ut),Xe(ut),ut.o.values()},Vt.entries=function(){var ut=this[ze];return Ye(ut),Xe(ut),ut.o.entries()},Vt.keys=function(){return this.values()},Vt[zt]=function(){return this.values()},Vt.forEach=function(ut,oe){for(var We=this.values(),Tt=We.next();!Tt.done;)ut.call(oe,Tt.value,Tt.value,this),Tt=We.next()},Bt}();ft("MapSet",{F:function(Bt,Vt){return new Nn(Bt,Vt)},T:function(Bt,Vt){return new wn(Bt,Vt)}})}function te(){De(),le(),k()}function ae(ge){return ge}function Le(ge){return ge}var Ae,_e,$e=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",me=typeof Map!="undefined",Pt=typeof Set!="undefined",kt=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",xt=$e?Symbol.for("immer-nothing"):((Ae={})["immer-nothing"]=!0,Ae),dt=$e?Symbol.for("immer-draftable"):"__$immer_draftable",ze=$e?Symbol.for("immer-state"):"__$immer_state",zt=typeof Symbol!="undefined"&&Symbol.iterator||"@@iterator",un={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(ge){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+ge},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(ge){return"Cannot apply patch, path doesn't resolve: "+ge},16:'Sets cannot have "replace" patches.',17:function(ge){return"Unsupported patch operation: "+ge},18:function(ge){return"The plugin for '"+ge+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+ge+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(ge){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+ge+"'"},22:function(ge){return"'current' expects a draft, got: "+ge},23:function(ge){return"'original' expects a draft, got: "+ge},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Sn=""+Object.prototype.constructor,Yt=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(ge){return Object.getOwnPropertyNames(ge).concat(Object.getOwnPropertySymbols(ge))}:Object.getOwnPropertyNames,Tn=Object.getOwnPropertyDescriptors||function(ge){var je={};return Yt(ge).forEach(function(Xe){je[Xe]=Object.getOwnPropertyDescriptor(ge,Xe)}),je},an={},An={get:function(ge,je){if(je===ze)return ge;var Xe=mt(ge);if(!pe(Xe,je))return function(Nt,Nn,wn){var Bt,Vt=rt(Nn,wn);return Vt?"value"in Vt?Vt.value:(Bt=Vt.get)===null||Bt===void 0?void 0:Bt.call(Nt.k):void 0}(ge,Xe,je);var Ye=Xe[je];return ge.I||!P(Ye)?Ye:Ye===we(ge.t,je)?(Te(ge),ge.o[je]=q(ge.A.h,Ye,ge)):Ye},has:function(ge,je){return je in mt(ge)},ownKeys:function(ge){return Reflect.ownKeys(mt(ge))},set:function(ge,je,Xe){var Ye=rt(mt(ge),je);if(Ye!=null&&Ye.set)return Ye.set.call(ge.k,Xe),!0;if(!ge.P){var Nt=we(mt(ge),je),Nn=Nt==null?void 0:Nt[ze];if(Nn&&Nn.t===Xe)return ge.o[je]=Xe,ge.R[je]=!1,!0;if(wt(Xe,Nt)&&(Xe!==void 0||pe(ge.t,je)))return!0;Te(ge),Re(ge)}return ge.o[je]===Xe&&(Xe!==void 0||je in ge.o)||Number.isNaN(Xe)&&Number.isNaN(ge.o[je])||(ge.o[je]=Xe,ge.R[je]=!0),!0},deleteProperty:function(ge,je){return we(ge.t,je)!==void 0||je in ge.t?(ge.R[je]=!1,Te(ge),Re(ge)):delete ge.R[je],ge.o&&delete ge.o[je],!0},getOwnPropertyDescriptor:function(ge,je){var Xe=mt(ge),Ye=Reflect.getOwnPropertyDescriptor(Xe,je);return Ye&&{writable:!0,configurable:ge.i!==1||je!=="length",enumerable:Ye.enumerable,value:Xe[je]}},defineProperty:function(){b(11)},getPrototypeOf:function(ge){return Object.getPrototypeOf(ge.t)},setPrototypeOf:function(){b(12)}},Rr={};Je(An,function(ge,je){Rr[ge]=function(){return arguments[0]=arguments[0][0],je.apply(this,arguments)}}),Rr.deleteProperty=function(ge,je){return Rr.set.call(this,ge,je,void 0)},Rr.set=function(ge,je,Xe){return An.set.call(this,ge[0],je,Xe,ge[0])};var qr=function(){function ge(Xe){var Ye=this;this.O=kt,this.D=!0,this.produce=function(Nt,Nn,wn){if(typeof Nt=="function"&&typeof Nn!="function"){var Bt=Nn;Nn=Nt;var Vt=Ye;return function(hr){var Hr=this;hr===void 0&&(hr=Bt);for(var Li=arguments.length,Qr=Array(Li>1?Li-1:0),ri=1;ri<Li;ri++)Qr[ri-1]=arguments[ri];return Vt.produce(hr,function(ei){var ji;return(ji=Nn).call.apply(ji,[Hr,ei].concat(Qr))})}}var ut;if(typeof Nn!="function"&&b(6),wn!==void 0&&typeof wn!="function"&&b(7),P(Nt)){var oe=fn(Ye),We=q(Ye,Nt,void 0),Tt=!0;try{ut=Nn(We),Tt=!1}finally{Tt?Kt(oe):xn(oe)}return typeof Promise!="undefined"&&ut instanceof Promise?ut.then(function(hr){return rn(oe,wn),Pn(hr,oe)},function(hr){throw Kt(oe),hr}):(rn(oe,wn),Pn(ut,oe))}if(!Nt||typeof Nt!="object"){if((ut=Nn(Nt))===void 0&&(ut=Nt),ut===xt&&(ut=void 0),Ye.D&&ee(ut,!0),wn){var nn=[],Zn=[];bn("Patches").M(Nt,ut,nn,Zn),wn(nn,Zn)}return ut}b(21,Nt)},this.produceWithPatches=function(Nt,Nn){if(typeof Nt=="function")return function(ut){for(var oe=arguments.length,We=Array(oe>1?oe-1:0),Tt=1;Tt<oe;Tt++)We[Tt-1]=arguments[Tt];return Ye.produceWithPatches(ut,function(nn){return Nt.apply(void 0,[nn].concat(We))})};var wn,Bt,Vt=Ye.produce(Nt,Nn,function(ut,oe){wn=ut,Bt=oe});return typeof Promise!="undefined"&&Vt instanceof Promise?Vt.then(function(ut){return[ut,wn,Bt]}):[Vt,wn,Bt]},typeof(Xe==null?void 0:Xe.useProxies)=="boolean"&&this.setUseProxies(Xe.useProxies),typeof(Xe==null?void 0:Xe.autoFreeze)=="boolean"&&this.setAutoFreeze(Xe.autoFreeze)}var je=ge.prototype;return je.createDraft=function(Xe){P(Xe)||b(8),B(Xe)&&(Xe=F(Xe));var Ye=fn(this),Nt=q(this,Xe,void 0);return Nt[ze].C=!0,xn(Ye),Nt},je.finishDraft=function(Xe,Ye){var Nt=Xe&&Xe[ze],Nn=Nt.A;return rn(Nn,Ye),Pn(void 0,Nn)},je.setAutoFreeze=function(Xe){this.D=Xe},je.setUseProxies=function(Xe){Xe&&!kt&&b(20),this.O=Xe},je.applyPatches=function(Xe,Ye){var Nt;for(Nt=Ye.length-1;Nt>=0;Nt--){var Nn=Ye[Nt];if(Nn.path.length===0&&Nn.op==="replace"){Xe=Nn.value;break}}Nt>-1&&(Ye=Ye.slice(Nt+1));var wn=bn("Patches").$;return B(Xe)?wn(Xe,Ye):this.produce(Xe,function(Bt){return wn(Bt,Ye)})},ge}(),_t=new qr,Lt=_t.produce,Qt=_t.produceWithPatches.bind(_t),ln=_t.setAutoFreeze.bind(_t),yn=_t.setUseProxies.bind(_t),ur=_t.applyPatches.bind(_t),jn=_t.createDraft.bind(_t),Xr=_t.finishDraft.bind(_t),Jn=null},51741:function(qt,Fe,j){"use strict";j.d(Fe,{Z:function(){return je}});function b(Xe,Ye,Nt,Nn){var wn=-1,Bt=Xe==null?0:Xe.length;for(Nn&&Bt&&(Nt=Xe[++wn]);++wn<Bt;)Nt=Ye(Nt,Xe[wn],wn,Xe);return Nt}var B=b;function P(Xe){return function(Ye){return Xe==null?void 0:Xe[Ye]}}var Y=P,Je={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},yt=Y(Je),pe=yt,Ot=j(45633),Ft=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt="\\u0300-\\u036f",gt="\\ufe20-\\ufe2f",ht="\\u20d0-\\u20ff",mt=wt+gt+ht,At="["+mt+"]",ee=RegExp(At,"g");function zn(Xe){return Xe=(0,Ot.Z)(Xe),Xe&&Xe.replace(Ft,pe).replace(ee,"")}var En=zn,bn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function ft(Xe){return Xe.match(bn)||[]}var he=ft,rn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Kt(Xe){return rn.test(Xe)}var xn=Kt,fn="\\ud800-\\udfff",Gt="\\u0300-\\u036f",Pn="\\ufe20-\\ufe2f",jt="\\u20d0-\\u20ff",xe=Gt+Pn+jt,Ke="\\u2700-\\u27bf",we="a-z\\xdf-\\xf6\\xf8-\\xff",rt="\\xac\\xb1\\xd7\\xf7",Re="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Te="\\u2000-\\u206f",q=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",F="A-Z\\xc0-\\xd6\\xd8-\\xde",re="\\ufe0e\\ufe0f",De=rt+Re+Te+q,k="['\u2019]",le="["+De+"]",te="["+xe+"]",ae="\\d+",Le="["+Ke+"]",Ae="["+we+"]",_e="[^"+fn+De+ae+Ke+we+F+"]",$e="\\ud83c[\\udffb-\\udfff]",me="(?:"+te+"|"+$e+")",Pt="[^"+fn+"]",kt="(?:\\ud83c[\\udde6-\\uddff]){2}",xt="[\\ud800-\\udbff][\\udc00-\\udfff]",dt="["+F+"]",ze="\\u200d",zt="(?:"+Ae+"|"+_e+")",un="(?:"+dt+"|"+_e+")",Sn="(?:"+k+"(?:d|ll|m|re|s|t|ve))?",Yt="(?:"+k+"(?:D|LL|M|RE|S|T|VE))?",Tn=me+"?",an="["+re+"]?",An="(?:"+ze+"(?:"+[Pt,kt,xt].join("|")+")"+an+Tn+")*",Rr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qr="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",_t=an+Tn+An,Lt="(?:"+[Le,kt,xt].join("|")+")"+_t,Qt=RegExp([dt+"?"+Ae+"+"+Sn+"(?="+[le,dt,"$"].join("|")+")",un+"+"+Yt+"(?="+[le,dt+zt,"$"].join("|")+")",dt+"?"+zt+"+"+Sn,dt+"+"+Yt,qr,Rr,ae,Lt].join("|"),"g");function ln(Xe){return Xe.match(Qt)||[]}var yn=ln;function ur(Xe,Ye,Nt){return Xe=(0,Ot.Z)(Xe),Ye=Nt?void 0:Ye,Ye===void 0?xn(Xe)?yn(Xe):he(Xe):Xe.match(Ye)||[]}var jn=ur,Xr="['\u2019]",Jn=RegExp(Xr,"g");function ge(Xe){return function(Ye){return B(jn(En(Ye).replace(Jn,"")),Xe,"")}}var je=ge},15861:function(qt,Fe,j){"use strict";j.d(Fe,{Z:function(){return dt}});var b=j(45633);function B(ze,zt,un){var Sn=-1,Yt=ze.length;zt<0&&(zt=-zt>Yt?0:Yt+zt),un=un>Yt?Yt:un,un<0&&(un+=Yt),Yt=zt>un?0:un-zt>>>0,zt>>>=0;for(var Tn=Array(Yt);++Sn<Yt;)Tn[Sn]=ze[Sn+zt];return Tn}var P=B;function Y(ze,zt,un){var Sn=ze.length;return un=un===void 0?Sn:un,!zt&&un>=Sn?ze:P(ze,zt,un)}var Je=Y,yt="\\ud800-\\udfff",pe="\\u0300-\\u036f",Ot="\\ufe20-\\ufe2f",Ft="\\u20d0-\\u20ff",wt=pe+Ot+Ft,gt="\\ufe0e\\ufe0f",ht="\\u200d",mt=RegExp("["+ht+yt+wt+gt+"]");function At(ze){return mt.test(ze)}var ee=At;function zn(ze){return ze.split("")}var En=zn,bn="\\ud800-\\udfff",ft="\\u0300-\\u036f",he="\\ufe20-\\ufe2f",rn="\\u20d0-\\u20ff",Kt=ft+he+rn,xn="\\ufe0e\\ufe0f",fn="["+bn+"]",Gt="["+Kt+"]",Pn="\\ud83c[\\udffb-\\udfff]",jt="(?:"+Gt+"|"+Pn+")",xe="[^"+bn+"]",Ke="(?:\\ud83c[\\udde6-\\uddff]){2}",we="[\\ud800-\\udbff][\\udc00-\\udfff]",rt="\\u200d",Re=jt+"?",Te="["+xn+"]?",q="(?:"+rt+"(?:"+[xe,Ke,we].join("|")+")"+Te+Re+")*",F=Te+Re+q,re="(?:"+[xe+Gt+"?",Gt,Ke,we,fn].join("|")+")",De=RegExp(Pn+"(?="+Pn+")|"+re+F,"g");function k(ze){return ze.match(De)||[]}var le=k;function te(ze){return ee(ze)?le(ze):En(ze)}var ae=te;function Le(ze){return function(zt){zt=(0,b.Z)(zt);var un=ee(zt)?ae(zt):void 0,Sn=un?un[0]:zt.charAt(0),Yt=un?Je(un,1).join(""):zt.slice(1);return Sn[ze]()+Yt}}var Ae=Le,_e=Ae("toUpperCase"),$e=_e;function me(ze){return $e((0,b.Z)(ze).toLowerCase())}var Pt=me,kt=j(51741),xt=(0,kt.Z)(function(ze,zt,un){return zt=zt.toLowerCase(),ze+(un?Pt(zt):zt)}),dt=xt},23407:function(qt,Fe,j){"use strict";var b=j(51741),B=(0,b.Z)(function(P,Y,Je){return P+(Je?"-":"")+Y.toLowerCase()});Fe.Z=B},45633:function(qt,Fe,j){"use strict";j.d(Fe,{Z:function(){return zn}});var b=j(66711);function B(En,bn){for(var ft=-1,he=En==null?0:En.length,rn=Array(he);++ft<he;)rn[ft]=bn(En[ft],ft,En);return rn}var P=B,Y=j(56052),Je=j(33918),yt=j(13795),pe="[object Symbol]";function Ot(En){return typeof En=="symbol"||(0,yt.Z)(En)&&(0,Je.Z)(En)==pe}var Ft=Ot,wt=1/0,gt=b.Z?b.Z.prototype:void 0,ht=gt?gt.toString:void 0;function mt(En){if(typeof En=="string")return En;if((0,Y.Z)(En))return P(En,mt)+"";if(Ft(En))return ht?ht.call(En):"";var bn=En+"";return bn=="0"&&1/En==-wt?"-0":bn}var At=mt;function ee(En){return En==null?"":At(En)}var zn=ee},48119:function(qt,Fe,j){"use strict";j.r(Fe),j.d(Fe,{ACESFilmicToneMapping:function(){return un},AddEquation:function(){return Kt},AddOperation:function(){return kt},AdditiveAnimationBlendMode:function(){return Mo},AdditiveBlending:function(){return bn},AlphaFormat:function(){return hr},AlwaysDepth:function(){return le},AlwaysStencilFunc:function(){return or},AmbientLight:function(){return Z9},AmbientLightProbe:function(){return g3},AnimationAction:function(){return sh},AnimationClip:function(){return n0},AnimationLoader:function(){return r3},AnimationMixer:function(){return D3},AnimationObjectGroup:function(){return I3},AnimationUtils:function(){return Q5},ArcCurve:function(){return l9},ArrayCamera:function(){return O2},ArrowHelper:function(){return n7},Audio:function(){return rh},AudioAnalyser:function(){return w3},AudioContext:function(){return ud},AudioListener:function(){return _3},AudioLoader:function(){return p3},AxesHelper:function(){return r7},BackSide:function(){return mt},BasicDepthPacking:function(){return Go},BasicShadowMap:function(){return Ot},Bone:function(){return zf},BooleanKeyframeTrack:function(){return Fc},Box2:function(){return k3},Box3:function(){return is},Box3Helper:function(){return e7},BoxBufferGeometry:function(){return o7},BoxGeometry:function(){return Za},BoxHelper:function(){return Q3},BufferAttribute:function(){return lo},BufferGeometry:function(){return gn},BufferGeometryLoader:function(){return Y9},ByteType:function(){return Nn},Cache:function(){return $c},Camera:function(){return t1},CameraHelper:function(){return q3},CanvasTexture:function(){return M5},CapsuleBufferGeometry:function(){return s7},CapsuleGeometry:function(){return Bu},CatmullRomCurve3:function(){return c9},CineonToneMapping:function(){return zt},CircleBufferGeometry:function(){return a7},CircleGeometry:function(){return Uu},ClampToEdgeWrapping:function(){return Lt},Clock:function(){return eh},Color:function(){return cr},ColorKeyframeTrack:function(){return id},ColorManagement:function(){return Ko},CompressedArrayTexture:function(){return w5},CompressedTexture:function(){return Vf},CompressedTextureLoader:function(){return i3},ConeBufferGeometry:function(){return l7},ConeGeometry:function(){return Vu},CubeCamera:function(){return ja},CubeReflectionMapping:function(){return Tn},CubeRefractionMapping:function(){return an},CubeTexture:function(){return y1},CubeTextureLoader:function(){return o3},CubeUVReflectionMapping:function(){return qr},CubicBezierCurve:function(){return Zf},CubicBezierCurve3:function(){return f9},CubicInterpolant:function(){return D9},CullFaceBack:function(){return Je},CullFaceFront:function(){return yt},CullFaceFrontBack:function(){return pe},CullFaceNone:function(){return Y},Curve:function(){return $1},CurvePath:function(){return h9},CustomBlending:function(){return rn},CustomToneMapping:function(){return Sn},CylinderBufferGeometry:function(){return c7},CylinderGeometry:function(){return Nc},Cylindrical:function(){return F3},Data3DTexture:function(){return fs},DataArrayTexture:function(){return Jo},DataTexture:function(){return hu},DataTextureLoader:function(){return s3},DataUtils:function(){return Jl},DecrementStencilOp:function(){return Ue},DecrementWrapStencilOp:function(){return lt},DefaultLoadingManager:function(){return N9},DepthFormat:function(){return ri},DepthStencilFormat:function(){return ei},DepthTexture:function(){return D2},DirectionalLight:function(){return W9},DirectionalLightHelper:function(){return J3},DiscreteInterpolant:function(){return H9},DisplayP3ColorSpace:function(){return cs},DodecahedronBufferGeometry:function(){return u7},DodecahedronGeometry:function(){return Fu},DoubleSide:function(){return At},DstAlphaFactor:function(){return Te},DstColorFactor:function(){return F},DynamicCopyUsage:function(){return di},DynamicDrawUsage:function(){return er},DynamicReadUsage:function(){return Ur},EdgesGeometry:function(){return p9},EllipseCurve:function(){return I0},EqualDepth:function(){return Le},EqualStencilFunc:function(){return W},EquirectangularReflectionMapping:function(){return An},EquirectangularRefractionMapping:function(){return Rr},Euler:function(){return p1},EventDispatcher:function(){return ki},ExtrudeBufferGeometry:function(){return f7},ExtrudeGeometry:function(){return Zu},FileLoader:function(){return $l},Float16BufferAttribute:function(){return q1},Float32BufferAttribute:function(){return Mr},Float64BufferAttribute:function(){return Q1},FloatType:function(){return oe},Fog:function(){return y0},FogExp2:function(){return x0},FramebufferTexture:function(){return y5},FrontSide:function(){return ht},Frustum:function(){return ko},GLBufferAttribute:function(){return B3},GLSL1:function(){return Oi},GLSL3:function(){return eo},GreaterDepth:function(){return _e},GreaterEqualDepth:function(){return Ae},GreaterEqualStencilFunc:function(){return Dn},GreaterStencilFunc:function(){return tt},GridHelper:function(){return Y3},Group:function(){return au},HalfFloatType:function(){return We},HemisphereLight:function(){return B9},HemisphereLightHelper:function(){return X3},HemisphereLightProbe:function(){return m3},IcosahedronBufferGeometry:function(){return d7},IcosahedronGeometry:function(){return ju},ImageBitmapLoader:function(){return h3},ImageLoader:function(){return r0},ImageUtils:function(){return A1},IncrementStencilOp:function(){return de},IncrementWrapStencilOp:function(){return pt},InstancedBufferAttribute:function(){return pu},InstancedBufferGeometry:function(){return X9},InstancedInterleavedBuffer:function(){return N3},InstancedMesh:function(){return q2},Int16BufferAttribute:function(){return Mc},Int32BufferAttribute:function(){return ql},Int8BufferAttribute:function(){return wc},IntType:function(){return Vt},InterleavedBuffer:function(){return w0},InterleavedBufferAttribute:function(){return zc},Interpolant:function(){return Qu},InterpolateDiscrete:function(){return Ni},InterpolateLinear:function(){return ci},InterpolateSmooth:function(){return Ai},InvertStencilOp:function(){return z},KeepStencilOp:function(){return O},KeyframeTrack:function(){return W1},LOD:function(){return $2},LatheBufferGeometry:function(){return h7},LatheGeometry:function(){return gu},Layers:function(){return Qa},LessDepth:function(){return te},LessEqualDepth:function(){return ae},LessEqualStencilFunc:function(){return Oe},LessStencilFunc:function(){return E},Light:function(){return fc},LightProbe:function(){return F0},Line:function(){return uc},Line3:function(){return $3},LineBasicMaterial:function(){return Oa},LineCurve:function(){return D0},LineCurve3:function(){return d9},LineDashedMaterial:function(){return I9},LineLoop:function(){return i9},LineSegments:function(){return cl},LinearEncoding:function(){return ia},LinearFilter:function(){return Jn},LinearInterpolant:function(){return rd},LinearMipMapLinearFilter:function(){return Ye},LinearMipMapNearestFilter:function(){return je},LinearMipmapLinearFilter:function(){return Xe},LinearMipmapNearestFilter:function(){return ge},LinearSRGBColorSpace:function(){return Wo},LinearToneMapping:function(){return dt},Loader:function(){return c1},LoaderUtils:function(){return cd},LoadingManager:function(){return od},LoopOnce:function(){return Gi},LoopPingPong:function(){return fo},LoopRepeat:function(){return Di},LuminanceAlphaFormat:function(){return Qr},LuminanceFormat:function(){return Li},MOUSE:function(){return B},Material:function(){return hs},MaterialLoader:function(){return k0},MathUtils:function(){return Ys},Matrix3:function(){return ti},Matrix4:function(){return ai},MaxEquation:function(){return Pn},Mesh:function(){return Fo},MeshBasicMaterial:function(){return La},MeshDepthMaterial:function(){return Pf},MeshDistanceMaterial:function(){return If},MeshLambertMaterial:function(){return A9},MeshMatcapMaterial:function(){return P9},MeshNormalMaterial:function(){return T9},MeshPhongMaterial:function(){return R9},MeshPhysicalMaterial:function(){return E9},MeshStandardMaterial:function(){return Qf},MeshToonMaterial:function(){return L9},MinEquation:function(){return Gt},MirroredRepeatWrapping:function(){return Qt},MixOperation:function(){return Pt},MultiplyBlending:function(){return he},MultiplyOperation:function(){return me},NearestFilter:function(){return ln},NearestMipMapLinearFilter:function(){return Xr},NearestMipMapNearestFilter:function(){return ur},NearestMipmapLinearFilter:function(){return jn},NearestMipmapNearestFilter:function(){return yn},NeverDepth:function(){return k},NeverStencilFunc:function(){return ie},NoBlending:function(){return zn},NoColorSpace:function(){return ns},NoToneMapping:function(){return xt},NormalAnimationBlendMode:function(){return Qi},NormalBlending:function(){return En},NotEqualDepth:function(){return $e},NotEqualStencilFunc:function(){return Mn},NumberKeyframeTrack:function(){return e0},Object3D:function(){return $i},ObjectLoader:function(){return f3},ObjectSpaceNormalMap:function(){return Ps},OctahedronBufferGeometry:function(){return p7},OctahedronGeometry:function(){return Cu},OneFactor:function(){return xe},OneMinusDstAlphaFactor:function(){return q},OneMinusDstColorFactor:function(){return re},OneMinusSrcAlphaFactor:function(){return Re},OneMinusSrcColorFactor:function(){return we},OrthographicCamera:function(){return Eu},PCFShadowMap:function(){return Ft},PCFSoftShadowMap:function(){return wt},PMREMGenerator:function(){return g0},Path:function(){return Nu},PerspectiveCamera:function(){return Zo},Plane:function(){return li},PlaneBufferGeometry:function(){return m7},PlaneGeometry:function(){return Eo},PlaneHelper:function(){return t7},PointLight:function(){return $9},PointLightHelper:function(){return j3},Points:function(){return s9},PointsMaterial:function(){return Bf},PolarGridHelper:function(){return K3},PolyhedronBufferGeometry:function(){return g7},PolyhedronGeometry:function(){return Fl},PositionalAudio:function(){return y3},PropertyBinding:function(){return mo},PropertyMixer:function(){return oh},QuadraticBezierCurve:function(){return jf},QuadraticBezierCurve3:function(){return Gf},Quaternion:function(){return po},QuaternionKeyframeTrack:function(){return xu},QuaternionLinearInterpolant:function(){return z9},RED_GREEN_RGTC2_Format:function(){return go},RED_RGTC1_Format:function(){return Ti},REVISION:function(){return b},RGBADepthPacking:function(){return Fs},RGBAFormat:function(){return Hr},RGBAIntegerFormat:function(){return T},RGBA_ASTC_10x10_Format:function(){return mr},RGBA_ASTC_10x5_Format:function(){return Qn},RGBA_ASTC_10x6_Format:function(){return Vn},RGBA_ASTC_10x8_Format:function(){return Wn},RGBA_ASTC_12x10_Format:function(){return Jt},RGBA_ASTC_12x12_Format:function(){return rr},RGBA_ASTC_4x4_Format:function(){return ke},RGBA_ASTC_5x4_Format:function(){return Ve},RGBA_ASTC_5x5_Format:function(){return et},RGBA_ASTC_6x5_Format:function(){return Qe},RGBA_ASTC_6x6_Format:function(){return Ct},RGBA_ASTC_8x5_Format:function(){return cn},RGBA_ASTC_8x6_Format:function(){return Yn},RGBA_ASTC_8x8_Format:function(){return On},RGBA_BPTC_Format:function(){return Lr},RGBA_ETC2_EAC_Format:function(){return be},RGBA_PVRTC_2BPPV1_Format:function(){return Be},RGBA_PVRTC_4BPPV1_Format:function(){return He},RGBA_S3TC_DXT1_Format:function(){return se},RGBA_S3TC_DXT3_Format:function(){return Ze},RGBA_S3TC_DXT5_Format:function(){return st},RGB_ETC1_Format:function(){return bt},RGB_ETC2_Format:function(){return Ce},RGB_PVRTC_2BPPV1_Format:function(){return vt},RGB_PVRTC_4BPPV1_Format:function(){return qe},RGB_S3TC_DXT1_Format:function(){return Q},RGFormat:function(){return H},RGIntegerFormat:function(){return S},RawShaderMaterial:function(){return S9},Ray:function(){return h1},Raycaster:function(){return U3},RectAreaLight:function(){return j9},RedFormat:function(){return ji},RedIntegerFormat:function(){return R},ReinhardToneMapping:function(){return ze},RepeatWrapping:function(){return _t},ReplaceStencilOp:function(){return V},ReverseSubtractEquation:function(){return fn},RingBufferGeometry:function(){return v7},RingGeometry:function(){return Gu},SIGNED_RED_GREEN_RGTC2_Format:function(){return Yi},SIGNED_RED_RGTC1_Format:function(){return bi},SRGBColorSpace:function(){return Fr},Scene:function(){return N2},ShaderChunk:function(){return Vi},ShaderLib:function(){return b1},ShaderMaterial:function(){return Ns},ShadowMaterial:function(){return b9},Shape:function(){return Bc},ShapeBufferGeometry:function(){return C7},ShapeGeometry:function(){return Xu},ShapePath:function(){return i7},ShapeUtils:function(){return ul},ShortType:function(){return wn},Skeleton:function(){return R0},SkeletonHelper:function(){return Z3},SkinnedMesh:function(){return X2},Source:function(){return la},Sphere:function(){return Qs},SphereBufferGeometry:function(){return _7},SphereGeometry:function(){return _u},Spherical:function(){return V3},SphericalHarmonics3:function(){return G9},SplineCurve:function(){return Xf},SpotLight:function(){return F9},SpotLightHelper:function(){return W3},Sprite:function(){return F2},SpriteMaterial:function(){return Df},SrcAlphaFactor:function(){return rt},SrcAlphaSaturateFactor:function(){return De},SrcColorFactor:function(){return Ke},StaticCopyUsage:function(){return pi},StaticDrawUsage:function(){return Cn},StaticReadUsage:function(){return gr},StereoCamera:function(){return v3},StreamCopyUsage:function(){return yi},StreamDrawUsage:function(){return zr},StreamReadUsage:function(){return fi},StringKeyframeTrack:function(){return kc},SubtractEquation:function(){return xn},SubtractiveBlending:function(){return ft},TOUCH:function(){return P},TangentSpaceNormalMap:function(){return ui},TetrahedronBufferGeometry:function(){return x7},TetrahedronGeometry:function(){return Yu},Texture:function(){return hi},TextureLoader:function(){return a3},TorusBufferGeometry:function(){return y7},TorusGeometry:function(){return Ku},TorusKnotBufferGeometry:function(){return w7},TorusKnotGeometry:function(){return Ju},Triangle:function(){return ss},TriangleFanDrawMode:function(){return ra},TriangleStripDrawMode:function(){return Xa},TrianglesDrawMode:function(){return Ca},TubeBufferGeometry:function(){return M7},TubeGeometry:function(){return qu},TwoPassDoubleSide:function(){return ee},UVMapping:function(){return Yt},Uint16BufferAttribute:function(){return e1},Uint32BufferAttribute:function(){return Ml},Uint8BufferAttribute:function(){return yl},Uint8ClampedBufferAttribute:function(){return wl},Uniform:function(){return hd},UniformsGroup:function(){return z3},UniformsLib:function(){return dr},UniformsUtils:function(){return El},UnsignedByteType:function(){return Nt},UnsignedInt248Type:function(){return Zn},UnsignedIntType:function(){return ut},UnsignedShort4444Type:function(){return Tt},UnsignedShort5551Type:function(){return nn},UnsignedShortType:function(){return Bt},VSMShadowMap:function(){return gt},Vector2:function(){return dn},Vector3:function(){return ce},Vector4:function(){return kr},VectorKeyframeTrack:function(){return t0},VideoTexture:function(){return x5},WebGL1Renderer:function(){return z2},WebGL3DRenderTarget:function(){return rs},WebGLArrayRenderTarget:function(){return bo},WebGLCubeRenderTarget:function(){return bc},WebGLMultipleRenderTargets:function(){return Sa},WebGLRenderTarget:function(){return Ki},WebGLRenderer:function(){return H2},WebGLUtils:function(){return I2},WireframeGeometry:function(){return y9},WrapAroundEnding:function(){return $o},ZeroCurvatureEnding:function(){return so},ZeroFactor:function(){return jt},ZeroSlopeEnding:function(){return xi},ZeroStencilOp:function(){return Bi},_SRGBAFormat:function(){return Fi},sRGBEncoding:function(){return Po}});const b="152",B={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},P={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Y=0,Je=1,yt=2,pe=3,Ot=0,Ft=1,wt=2,gt=3,ht=0,mt=1,At=2,ee=2,zn=0,En=1,bn=2,ft=3,he=4,rn=5,Kt=100,xn=101,fn=102,Gt=103,Pn=104,jt=200,xe=201,Ke=202,we=203,rt=204,Re=205,Te=206,q=207,F=208,re=209,De=210,k=0,le=1,te=2,ae=3,Le=4,Ae=5,_e=6,$e=7,me=0,Pt=1,kt=2,xt=0,dt=1,ze=2,zt=3,un=4,Sn=5,Yt=300,Tn=301,an=302,An=303,Rr=304,qr=306,_t=1e3,Lt=1001,Qt=1002,ln=1003,yn=1004,ur=1004,jn=1005,Xr=1005,Jn=1006,ge=1007,je=1007,Xe=1008,Ye=1008,Nt=1009,Nn=1010,wn=1011,Bt=1012,Vt=1013,ut=1014,oe=1015,We=1016,Tt=1017,nn=1018,Zn=1020,hr=1021,Hr=1023,Li=1024,Qr=1025,ri=1026,ei=1027,ji=1028,R=1029,H=1030,S=1031,T=1033,Q=33776,se=33777,Ze=33778,st=33779,qe=35840,vt=35841,He=35842,Be=35843,bt=36196,Ce=37492,be=37496,ke=37808,Ve=37809,et=37810,Qe=37811,Ct=37812,cn=37813,Yn=37814,On=37815,Qn=37816,Vn=37817,Wn=37818,mr=37819,Jt=37820,rr=37821,Lr=36492,Ti=36283,bi=36284,go=36285,Yi=36286,Gi=2200,Di=2201,fo=2202,Ni=2300,ci=2301,Ai=2302,so=2400,xi=2401,$o=2402,Qi=2500,Mo=2501,Ca=0,Xa=1,ra=2,ia=3e3,Po=3001,Go=3200,Fs=3201,ui=0,Ps=1,ns="",Fr="srgb",Wo="srgb-linear",cs="display-p3",Bi=0,O=7680,V=7681,de=7682,Ue=7683,pt=34055,lt=34056,z=5386,ie=512,E=513,W=514,Oe=515,tt=516,Mn=517,Dn=518,or=519,Cn=35044,er=35048,zr=35040,gr=35045,Ur=35049,fi=35041,pi=35046,di=35050,yi=35042,Oi="100",eo="300 es",Fi=1035;class ki{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let o=0,l=r.length;o<l;o++)r[o].call(this,e);e.target=null}}}const Si=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Vo=1234567;const ho=Math.PI/180,oa=180/Math.PI;function Xo(){const a=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Si[a&255]+Si[a>>8&255]+Si[a>>16&255]+Si[a>>24&255]+"-"+Si[e&255]+Si[e>>8&255]+"-"+Si[e>>16&15|64]+Si[e>>24&255]+"-"+Si[t&63|128]+Si[t>>8&255]+"-"+Si[t>>16&255]+Si[t>>24&255]+Si[n&255]+Si[n>>8&255]+Si[n>>16&255]+Si[n>>24&255]).toLowerCase()}function Ei(a,e,t){return Math.max(e,Math.min(t,a))}function Is(a,e){return(a%e+e)%e}function _a(a,e,t,n,r){return n+(a-e)*(r-n)/(t-e)}function R1(a,e,t){return a!==e?(t-a)/(e-a):0}function sa(a,e,t){return(1-t)*a+t*e}function xa(a,e,t,n){return sa(a,e,1-Math.exp(-t*n))}function za(a,e=1){return e-Math.abs(Is(a,e*2)-e)}function Ya(a,e,t){return a<=e?0:a>=t?1:(a=(a-e)/(t-e),a*a*(3-2*a))}function f1(a,e,t){return a<=e?0:a>=t?1:(a=(a-e)/(t-e),a*a*a*(a*(a*6-15)+10))}function Os(a,e){return a+Math.floor(Math.random()*(e-a+1))}function j1(a,e){return a+Math.random()*(e-a)}function L1(a){return a*(.5-Math.random())}function d1(a){a!==void 0&&(Vo=a);let e=Vo+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Yo(a){return a*ho}function ya(a){return a*oa}function Ds(a){return(a&a-1)===0&&a!==0}function Ka(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function mi(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))}function us(a,e,t,n,r){const o=Math.cos,l=Math.sin,c=o(t/2),f=l(t/2),d=o((e+n)/2),m=l((e+n)/2),g=o((e-n)/2),v=l((e-n)/2),C=o((n-e)/2),y=l((n-e)/2);switch(r){case"XYX":a.set(c*m,f*g,f*v,c*d);break;case"YZY":a.set(f*v,c*m,f*g,c*d);break;case"ZXZ":a.set(f*g,f*v,c*m,c*d);break;case"XZX":a.set(c*m,f*y,f*C,c*d);break;case"YXY":a.set(f*C,c*m,f*y,c*d);break;case"ZYZ":a.set(f*y,f*C,c*m,c*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function xo(a,e){switch(e.constructor){case Float32Array:return a;case Uint16Array:return a/65535;case Uint8Array:return a/255;case Int16Array:return Math.max(a/32767,-1);case Int8Array:return Math.max(a/127,-1);default:throw new Error("Invalid component type.")}}function jr(a,e){switch(e.constructor){case Float32Array:return a;case Uint16Array:return Math.round(a*65535);case Uint8Array:return Math.round(a*255);case Int16Array:return Math.round(a*32767);case Int8Array:return Math.round(a*127);default:throw new Error("Invalid component type.")}}const Ys={DEG2RAD:ho,RAD2DEG:oa,generateUUID:Xo,clamp:Ei,euclideanModulo:Is,mapLinear:_a,inverseLerp:R1,lerp:sa,damp:xa,pingpong:za,smoothstep:Ya,smootherstep:f1,randInt:Os,randFloat:j1,randFloatSpread:L1,seededRandom:d1,degToRad:Yo,radToDeg:ya,isPowerOfTwo:Ds,ceilPowerOfTwo:Ka,floorPowerOfTwo:mi,setQuaternionFromProperEuler:us,normalize:jr,denormalize:xo};class dn{constructor(e=0,t=0){dn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Ei(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),o=this.x-e.x,l=this.y-e.y;return this.x=o*n-l*r+e.x,this.y=o*r+l*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ti{constructor(){ti.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,r,o,l,c,f,d){const m=this.elements;return m[0]=e,m[1]=r,m[2]=c,m[3]=t,m[4]=o,m[5]=f,m[6]=n,m[7]=l,m[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,l=n[0],c=n[3],f=n[6],d=n[1],m=n[4],g=n[7],v=n[2],C=n[5],y=n[8],A=r[0],M=r[3],x=r[6],U=r[1],D=r[4],ne=r[7],ue=r[2],Me=r[5],Ne=r[8];return o[0]=l*A+c*U+f*ue,o[3]=l*M+c*D+f*Me,o[6]=l*x+c*ne+f*Ne,o[1]=d*A+m*U+g*ue,o[4]=d*M+m*D+g*Me,o[7]=d*x+m*ne+g*Ne,o[2]=v*A+C*U+y*ue,o[5]=v*M+C*D+y*Me,o[8]=v*x+C*ne+y*Ne,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],l=e[4],c=e[5],f=e[6],d=e[7],m=e[8];return t*l*m-t*c*d-n*o*m+n*c*f+r*o*d-r*l*f}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],l=e[4],c=e[5],f=e[6],d=e[7],m=e[8],g=m*l-c*d,v=c*f-m*o,C=d*o-l*f,y=t*g+n*v+r*C;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/y;return e[0]=g*A,e[1]=(r*d-m*n)*A,e[2]=(c*n-r*l)*A,e[3]=v*A,e[4]=(m*t-r*f)*A,e[5]=(r*o-c*t)*A,e[6]=C*A,e[7]=(n*f-d*t)*A,e[8]=(l*t-n*o)*A,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,o,l,c){const f=Math.cos(o),d=Math.sin(o);return this.set(n*f,n*d,-n*(f*l+d*c)+l+e,-r*d,r*f,-r*(-d*l+f*c)+c+t,0,0,1),this}scale(e,t){return this.premultiply(wa.makeScale(e,t)),this}rotate(e){return this.premultiply(wa.makeRotation(-e)),this}translate(e,t){return this.premultiply(wa.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const wa=new ti;function Na(a){for(let e=a.length-1;e>=0;--e)if(a[e]>=65535)return!0;return!1}const Cs={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Do(a,e){return new Cs[a](e)}function io(a){return document.createElementNS("http://www.w3.org/1999/xhtml",a)}const Ba={};function Ho(a){a in Ba||(Ba[a]=!0,console.warn(a))}function ks(a){return a<.04045?a*.0773993808:Math.pow(a*.9478672986+.0521327014,2.4)}function Ks(a){return a<.0031308?a*12.92:1.055*Math.pow(a,.41666)-.055}const aa=new ti().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Js=new ti().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function dl(a){return a.convertSRGBToLinear().applyMatrix3(Js)}function vo(a){return a.applyMatrix3(aa).convertLinearToSRGB()}const Ma={[Wo]:a=>a,[Fr]:a=>a.convertSRGBToLinear(),[cs]:dl},T1={[Wo]:a=>a,[Fr]:a=>a.convertLinearToSRGB(),[cs]:vo},Ko={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(a){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!a},get workingColorSpace(){return Wo},set workingColorSpace(a){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(a,e,t){if(this.enabled===!1||e===t||!e||!t)return a;const n=Ma[e],r=T1[t];if(n===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(n(a))},fromWorkingColorSpace:function(a,e){return this.convert(a,this.workingColorSpace,e)},toWorkingColorSpace:function(a,e){return this.convert(a,e,this.workingColorSpace)}};let $s;class A1{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{$s===void 0&&($s=io("canvas")),$s.width=e.width,$s.height=e.height;const n=$s.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=$s}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const t=io("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),o=r.data;for(let l=0;l<o.length;l++)o[l]=ks(o[l]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(ks(t[n]/255)*255):t[n]=ks(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class la{constructor(e=null){this.isSource=!0,this.uuid=Xo(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let o;if(Array.isArray(r)){o=[];for(let l=0,c=r.length;l<c;l++)r[l].isDataTexture?o.push(ba(r[l].image)):o.push(ba(r[l]))}else o=ba(r);n.url=o}return t||(e.images[this.uuid]=n),n}}function ba(a){return typeof HTMLImageElement!="undefined"&&a instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&a instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&a instanceof ImageBitmap?A1.getDataURL(a):a.data?{data:Array.from(a.data),width:a.width,height:a.height,type:a.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let hl=0;class hi extends ki{constructor(e=hi.DEFAULT_IMAGE,t=hi.DEFAULT_MAPPING,n=Lt,r=Lt,o=Jn,l=Xe,c=Hr,f=Nt,d=hi.DEFAULT_ANISOTROPY,m=ns){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:hl++}),this.uuid=Xo(),this.name="",this.source=new la(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=o,this.minFilter=l,this.anisotropy=d,this.format=c,this.internalFormat=null,this.type=f,this.offset=new dn(0,0),this.repeat=new dn(1,1),this.center=new dn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ti,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof m=="string"?this.colorSpace=m:(Ho("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=m===Po?Fr:ns),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Yt)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case _t:e.x=e.x-Math.floor(e.x);break;case Lt:e.x=e.x<0?0:1;break;case Qt:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case _t:e.y=e.y-Math.floor(e.y);break;case Lt:e.y=e.y<0?0:1;break;case Qt:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Ho("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Fr?Po:ia}set encoding(e){Ho("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Po?Fr:ns}}hi.DEFAULT_IMAGE=null,hi.DEFAULT_MAPPING=Yt,hi.DEFAULT_ANISOTROPY=1;class kr{constructor(e=0,t=0,n=0,r=1){kr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=this.w,l=e.elements;return this.x=l[0]*t+l[4]*n+l[8]*r+l[12]*o,this.y=l[1]*t+l[5]*n+l[9]*r+l[13]*o,this.z=l[2]*t+l[6]*n+l[10]*r+l[14]*o,this.w=l[3]*t+l[7]*n+l[11]*r+l[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,o;const f=e.elements,d=f[0],m=f[4],g=f[8],v=f[1],C=f[5],y=f[9],A=f[2],M=f[6],x=f[10];if(Math.abs(m-v)<.01&&Math.abs(g-A)<.01&&Math.abs(y-M)<.01){if(Math.abs(m+v)<.1&&Math.abs(g+A)<.1&&Math.abs(y+M)<.1&&Math.abs(d+C+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const D=(d+1)/2,ne=(C+1)/2,ue=(x+1)/2,Me=(m+v)/4,Ne=(g+A)/4,nt=(y+M)/4;return D>ne&&D>ue?D<.01?(n=0,r=.707106781,o=.707106781):(n=Math.sqrt(D),r=Me/n,o=Ne/n):ne>ue?ne<.01?(n=.707106781,r=0,o=.707106781):(r=Math.sqrt(ne),n=Me/r,o=nt/r):ue<.01?(n=.707106781,r=.707106781,o=0):(o=Math.sqrt(ue),n=Ne/o,r=nt/o),this.set(n,r,o,t),this}let U=Math.sqrt((M-y)*(M-y)+(g-A)*(g-A)+(v-m)*(v-m));return Math.abs(U)<.001&&(U=1),this.x=(M-y)/U,this.y=(g-A)/U,this.z=(v-m)/U,this.w=Math.acos((d+C+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ki extends ki{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new kr(0,0,e,t),this.scissorTest=!1,this.viewport=new kr(0,0,e,t);const r={width:e,height:t,depth:1};n.encoding!==void 0&&(Ho("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Po?Fr:ns),this.texture=new hi(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Jn,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null,this.samples=n.samples!==void 0?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new la(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Jo extends hi{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=ln,this.minFilter=ln,this.wrapR=Lt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bo extends Ki{constructor(e=1,t=1,n=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Jo(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class fs extends hi{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=ln,this.minFilter=ln,this.wrapR=Lt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class rs extends Ki{constructor(e=1,t=1,n=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new fs(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Sa extends Ki{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let l=0;l<n;l++)this.texture[l]=o.clone(),this.texture[l].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,o=this.texture.length;r<o;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class po{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,o,l,c){let f=n[r+0],d=n[r+1],m=n[r+2],g=n[r+3];const v=o[l+0],C=o[l+1],y=o[l+2],A=o[l+3];if(c===0){e[t+0]=f,e[t+1]=d,e[t+2]=m,e[t+3]=g;return}if(c===1){e[t+0]=v,e[t+1]=C,e[t+2]=y,e[t+3]=A;return}if(g!==A||f!==v||d!==C||m!==y){let M=1-c;const x=f*v+d*C+m*y+g*A,U=x>=0?1:-1,D=1-x*x;if(D>Number.EPSILON){const ue=Math.sqrt(D),Me=Math.atan2(ue,x*U);M=Math.sin(M*Me)/ue,c=Math.sin(c*Me)/ue}const ne=c*U;if(f=f*M+v*ne,d=d*M+C*ne,m=m*M+y*ne,g=g*M+A*ne,M===1-c){const ue=1/Math.sqrt(f*f+d*d+m*m+g*g);f*=ue,d*=ue,m*=ue,g*=ue}}e[t]=f,e[t+1]=d,e[t+2]=m,e[t+3]=g}static multiplyQuaternionsFlat(e,t,n,r,o,l){const c=n[r],f=n[r+1],d=n[r+2],m=n[r+3],g=o[l],v=o[l+1],C=o[l+2],y=o[l+3];return e[t]=c*y+m*g+f*C-d*v,e[t+1]=f*y+m*v+d*g-c*C,e[t+2]=d*y+m*C+c*v-f*g,e[t+3]=m*y-c*g-f*v-d*C,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,r=e._y,o=e._z,l=e._order,c=Math.cos,f=Math.sin,d=c(n/2),m=c(r/2),g=c(o/2),v=f(n/2),C=f(r/2),y=f(o/2);switch(l){case"XYZ":this._x=v*m*g+d*C*y,this._y=d*C*g-v*m*y,this._z=d*m*y+v*C*g,this._w=d*m*g-v*C*y;break;case"YXZ":this._x=v*m*g+d*C*y,this._y=d*C*g-v*m*y,this._z=d*m*y-v*C*g,this._w=d*m*g+v*C*y;break;case"ZXY":this._x=v*m*g-d*C*y,this._y=d*C*g+v*m*y,this._z=d*m*y+v*C*g,this._w=d*m*g-v*C*y;break;case"ZYX":this._x=v*m*g-d*C*y,this._y=d*C*g+v*m*y,this._z=d*m*y-v*C*g,this._w=d*m*g+v*C*y;break;case"YZX":this._x=v*m*g+d*C*y,this._y=d*C*g+v*m*y,this._z=d*m*y-v*C*g,this._w=d*m*g-v*C*y;break;case"XZY":this._x=v*m*g-d*C*y,this._y=d*C*g-v*m*y,this._z=d*m*y+v*C*g,this._w=d*m*g+v*C*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],o=t[8],l=t[1],c=t[5],f=t[9],d=t[2],m=t[6],g=t[10],v=n+c+g;if(v>0){const C=.5/Math.sqrt(v+1);this._w=.25/C,this._x=(m-f)*C,this._y=(o-d)*C,this._z=(l-r)*C}else if(n>c&&n>g){const C=2*Math.sqrt(1+n-c-g);this._w=(m-f)/C,this._x=.25*C,this._y=(r+l)/C,this._z=(o+d)/C}else if(c>g){const C=2*Math.sqrt(1+c-n-g);this._w=(o-d)/C,this._x=(r+l)/C,this._y=.25*C,this._z=(f+m)/C}else{const C=2*Math.sqrt(1+g-n-c);this._w=(l-r)/C,this._x=(o+d)/C,this._y=(f+m)/C,this._z=.25*C}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ei(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,o=e._z,l=e._w,c=t._x,f=t._y,d=t._z,m=t._w;return this._x=n*m+l*c+r*d-o*f,this._y=r*m+l*f+o*c-n*d,this._z=o*m+l*d+n*f-r*c,this._w=l*m-n*c-r*f-o*d,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,o=this._z,l=this._w;let c=l*e._w+n*e._x+r*e._y+o*e._z;if(c<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,c=-c):this.copy(e),c>=1)return this._w=l,this._x=n,this._y=r,this._z=o,this;const f=1-c*c;if(f<=Number.EPSILON){const C=1-t;return this._w=C*l+t*this._w,this._x=C*n+t*this._x,this._y=C*r+t*this._y,this._z=C*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const d=Math.sqrt(f),m=Math.atan2(d,c),g=Math.sin((1-t)*m)/d,v=Math.sin(t*m)/d;return this._w=l*g+this._w*v,this._x=n*g+this._x*v,this._y=r*g+this._y*v,this._z=o*g+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(o),n*Math.cos(o),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ce{constructor(e=0,t=0,n=0){ce.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Ua.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Ua.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[3]*n+o[6]*r,this.y=o[1]*t+o[4]*n+o[7]*r,this.z=o[2]*t+o[5]*n+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=e.elements,l=1/(o[3]*t+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*t+o[4]*n+o[8]*r+o[12])*l,this.y=(o[1]*t+o[5]*n+o[9]*r+o[13])*l,this.z=(o[2]*t+o[6]*n+o[10]*r+o[14])*l,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,o=e.x,l=e.y,c=e.z,f=e.w,d=f*t+l*r-c*n,m=f*n+c*t-o*r,g=f*r+o*n-l*t,v=-o*t-l*n-c*r;return this.x=d*f+v*-o+m*-c-g*-l,this.y=m*f+v*-l+g*-o-d*-c,this.z=g*f+v*-c+d*-l-m*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r,this.y=o[1]*t+o[5]*n+o[9]*r,this.z=o[2]*t+o[6]*n+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,o=e.z,l=t.x,c=t.y,f=t.z;return this.x=r*f-o*c,this.y=o*l-n*f,this.z=n*c-r*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Ws.copy(this).projectOnVector(e),this.sub(Ws)}reflect(e){return this.sub(Ws.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Ei(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-pc(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ws=new ce,Ua=new po;class is{constructor(e=new ce(1/0,1/0,1/0),t=new ce(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Co.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Co.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Co.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),os.copy(e.boundingBox),os.applyMatrix4(e.matrixWorld),this.union(os);else{const r=e.geometry;if(r!==void 0)if(t&&r.attributes!==void 0&&r.attributes.position!==void 0){const o=r.attributes.position;for(let l=0,c=o.count;l<c;l++)Co.fromBufferAttribute(o,l).applyMatrix4(e.matrixWorld),this.expandByPoint(Co)}else r.boundingBox===null&&r.computeBoundingBox(),os.copy(r.boundingBox),os.applyMatrix4(e.matrixWorld),this.union(os)}const n=e.children;for(let r=0,o=n.length;r<o;r++)this.expandByObject(n[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Co),Co.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(G1),qo.subVectors(this.max,G1),to.subVectors(e.a,G1),zo.subVectors(e.b,G1),Lo.subVectors(e.c,G1),ca.subVectors(zo,to),qs.subVectors(Lo,zo),Hs.subVectors(to,Lo);let t=[0,-ca.z,ca.y,0,-qs.z,qs.y,0,-Hs.z,Hs.y,ca.z,0,-ca.x,qs.z,0,-qs.x,Hs.z,0,-Hs.x,-ca.y,ca.x,0,-qs.y,qs.x,0,-Hs.y,Hs.x,0];return!pl(t,to,zo,Lo,qo)||(t=[1,0,0,0,1,0,0,0,1],!pl(t,to,zo,Lo,qo))?!1:(Ea.crossVectors(ca,qs),t=[Ea.x,Ea.y,Ea.z],pl(t,to,zo,Lo,qo))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Co).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Co).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ds[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ds[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ds[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ds[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ds[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ds[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ds[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ds[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ds),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ds=[new ce,new ce,new ce,new ce,new ce,new ce,new ce,new ce],Co=new ce,os=new is,to=new ce,zo=new ce,Lo=new ce,ca=new ce,qs=new ce,Hs=new ce,G1=new ce,qo=new ce,Ea=new ce,Va=new ce;function pl(a,e,t,n,r){for(let o=0,l=a.length-3;o<=l;o+=3){Va.fromArray(a,o);const c=r.x*Math.abs(Va.x)+r.y*Math.abs(Va.y)+r.z*Math.abs(Va.z),f=e.dot(Va),d=t.dot(Va),m=n.dot(Va);if(Math.max(-Math.max(f,d,m),Math.min(f,d,m))>c)return!1}return!0}const ua=new is,zs=new ce,Ja=new ce;class Qs{constructor(e=new ce,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):ua.setFromPoints(e).getCenter(n);let r=0;for(let o=0,l=e.length;o<l;o++)r=Math.max(r,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;zs.subVectors(e,this.center);const t=zs.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(zs,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Ja.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(zs.copy(e.center).add(Ja)),this.expandByPoint(zs.copy(e.center).sub(Ja))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _s=new ce,X1=new ce,Y1=new ce,Fa=new ce,P1=new ce,Ra=new ce,ml=new ce;class h1{constructor(e=new ce,t=new ce(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_s)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=_s.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(_s.copy(this.origin).addScaledVector(this.direction,t),_s.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){X1.copy(e).add(t).multiplyScalar(.5),Y1.copy(t).sub(e).normalize(),Fa.copy(this.origin).sub(X1);const o=e.distanceTo(t)*.5,l=-this.direction.dot(Y1),c=Fa.dot(this.direction),f=-Fa.dot(Y1),d=Fa.lengthSq(),m=Math.abs(1-l*l);let g,v,C,y;if(m>0)if(g=l*f-c,v=l*c-f,y=o*m,g>=0)if(v>=-y)if(v<=y){const A=1/m;g*=A,v*=A,C=g*(g+l*v+2*c)+v*(l*g+v+2*f)+d}else v=o,g=Math.max(0,-(l*v+c)),C=-g*g+v*(v+2*f)+d;else v=-o,g=Math.max(0,-(l*v+c)),C=-g*g+v*(v+2*f)+d;else v<=-y?(g=Math.max(0,-(-l*o+c)),v=g>0?-o:Math.min(Math.max(-o,-f),o),C=-g*g+v*(v+2*f)+d):v<=y?(g=0,v=Math.min(Math.max(-o,-f),o),C=v*(v+2*f)+d):(g=Math.max(0,-(l*o+c)),v=g>0?o:Math.min(Math.max(-o,-f),o),C=-g*g+v*(v+2*f)+d);else v=l>0?-o:o,g=Math.max(0,-(l*v+c)),C=-g*g+v*(v+2*f)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(X1).addScaledVector(Y1,v),C}intersectSphere(e,t){_s.subVectors(e.center,this.origin);const n=_s.dot(this.direction),r=_s.dot(_s)-n*n,o=e.radius*e.radius;if(r>o)return null;const l=Math.sqrt(o-r),c=n-l,f=n+l;return f<0?null:c<0?this.at(f,t):this.at(c,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,o,l,c,f;const d=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,v=this.origin;return d>=0?(n=(e.min.x-v.x)*d,r=(e.max.x-v.x)*d):(n=(e.max.x-v.x)*d,r=(e.min.x-v.x)*d),m>=0?(o=(e.min.y-v.y)*m,l=(e.max.y-v.y)*m):(o=(e.max.y-v.y)*m,l=(e.min.y-v.y)*m),n>l||o>r||((o>n||isNaN(n))&&(n=o),(l<r||isNaN(r))&&(r=l),g>=0?(c=(e.min.z-v.z)*g,f=(e.max.z-v.z)*g):(c=(e.max.z-v.z)*g,f=(e.min.z-v.z)*g),n>f||c>r)||((c>n||n!==n)&&(n=c),(f<r||r!==r)&&(r=f),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,_s)!==null}intersectTriangle(e,t,n,r,o){P1.subVectors(t,e),Ra.subVectors(n,e),ml.crossVectors(P1,Ra);let l=this.direction.dot(ml),c;if(l>0){if(r)return null;c=1}else if(l<0)c=-1,l=-l;else return null;Fa.subVectors(this.origin,e);const f=c*this.direction.dot(Ra.crossVectors(Fa,Ra));if(f<0)return null;const d=c*this.direction.dot(P1.cross(Fa));if(d<0||f+d>l)return null;const m=-c*Fa.dot(ml);return m<0?null:this.at(m/l,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ai{constructor(){ai.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,r,o,l,c,f,d,m,g,v,C,y,A,M){const x=this.elements;return x[0]=e,x[4]=t,x[8]=n,x[12]=r,x[1]=o,x[5]=l,x[9]=c,x[13]=f,x[2]=d,x[6]=m,x[10]=g,x[14]=v,x[3]=C,x[7]=y,x[11]=A,x[15]=M,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ai().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/qa.setFromMatrixColumn(e,0).length(),o=1/qa.setFromMatrixColumn(e,1).length(),l=1/qa.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=0,t[8]=n[8]*l,t[9]=n[9]*l,t[10]=n[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,o=e.z,l=Math.cos(n),c=Math.sin(n),f=Math.cos(r),d=Math.sin(r),m=Math.cos(o),g=Math.sin(o);if(e.order==="XYZ"){const v=l*m,C=l*g,y=c*m,A=c*g;t[0]=f*m,t[4]=-f*g,t[8]=d,t[1]=C+y*d,t[5]=v-A*d,t[9]=-c*f,t[2]=A-v*d,t[6]=y+C*d,t[10]=l*f}else if(e.order==="YXZ"){const v=f*m,C=f*g,y=d*m,A=d*g;t[0]=v+A*c,t[4]=y*c-C,t[8]=l*d,t[1]=l*g,t[5]=l*m,t[9]=-c,t[2]=C*c-y,t[6]=A+v*c,t[10]=l*f}else if(e.order==="ZXY"){const v=f*m,C=f*g,y=d*m,A=d*g;t[0]=v-A*c,t[4]=-l*g,t[8]=y+C*c,t[1]=C+y*c,t[5]=l*m,t[9]=A-v*c,t[2]=-l*d,t[6]=c,t[10]=l*f}else if(e.order==="ZYX"){const v=l*m,C=l*g,y=c*m,A=c*g;t[0]=f*m,t[4]=y*d-C,t[8]=v*d+A,t[1]=f*g,t[5]=A*d+v,t[9]=C*d-y,t[2]=-d,t[6]=c*f,t[10]=l*f}else if(e.order==="YZX"){const v=l*f,C=l*d,y=c*f,A=c*d;t[0]=f*m,t[4]=A-v*g,t[8]=y*g+C,t[1]=g,t[5]=l*m,t[9]=-c*m,t[2]=-d*m,t[6]=C*g+y,t[10]=v-A*g}else if(e.order==="XZY"){const v=l*f,C=l*d,y=c*f,A=c*d;t[0]=f*m,t[4]=-g,t[8]=d*m,t[1]=v*g+A,t[5]=l*m,t[9]=C*g-y,t[2]=y*g-C,t[6]=c*m,t[10]=A*g+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(gl,e,Zl)}lookAt(e,t,n){const r=this.elements;return ys.subVectors(e,t),ys.lengthSq()===0&&(ys.z=1),ys.normalize(),ea.crossVectors(n,ys),ea.lengthSq()===0&&(Math.abs(n.z)===1?ys.x+=1e-4:ys.z+=1e-4,ys.normalize(),ea.crossVectors(n,ys)),ea.normalize(),K1.crossVectors(ys,ea),r[0]=ea.x,r[4]=K1.x,r[8]=ys.x,r[1]=ea.y,r[5]=K1.y,r[9]=ys.y,r[2]=ea.z,r[6]=K1.z,r[10]=ys.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,l=n[0],c=n[4],f=n[8],d=n[12],m=n[1],g=n[5],v=n[9],C=n[13],y=n[2],A=n[6],M=n[10],x=n[14],U=n[3],D=n[7],ne=n[11],ue=n[15],Me=r[0],Ne=r[4],nt=r[8],G=r[12],Ee=r[1],$t=r[5],pn=r[9],St=r[13],Ut=r[2],Xt=r[6],Bn=r[10],Ln=r[14],Rn=r[3],Un=r[7],Gn=r[11],Ar=r[15];return o[0]=l*Me+c*Ee+f*Ut+d*Rn,o[4]=l*Ne+c*$t+f*Xt+d*Un,o[8]=l*nt+c*pn+f*Bn+d*Gn,o[12]=l*G+c*St+f*Ln+d*Ar,o[1]=m*Me+g*Ee+v*Ut+C*Rn,o[5]=m*Ne+g*$t+v*Xt+C*Un,o[9]=m*nt+g*pn+v*Bn+C*Gn,o[13]=m*G+g*St+v*Ln+C*Ar,o[2]=y*Me+A*Ee+M*Ut+x*Rn,o[6]=y*Ne+A*$t+M*Xt+x*Un,o[10]=y*nt+A*pn+M*Bn+x*Gn,o[14]=y*G+A*St+M*Ln+x*Ar,o[3]=U*Me+D*Ee+ne*Ut+ue*Rn,o[7]=U*Ne+D*$t+ne*Xt+ue*Un,o[11]=U*nt+D*pn+ne*Bn+ue*Gn,o[15]=U*G+D*St+ne*Ln+ue*Ar,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],o=e[12],l=e[1],c=e[5],f=e[9],d=e[13],m=e[2],g=e[6],v=e[10],C=e[14],y=e[3],A=e[7],M=e[11],x=e[15];return y*(+o*f*g-r*d*g-o*c*v+n*d*v+r*c*C-n*f*C)+A*(+t*f*C-t*d*v+o*l*v-r*l*C+r*d*m-o*f*m)+M*(+t*d*g-t*c*C-o*l*g+n*l*C+o*c*m-n*d*m)+x*(-r*c*m-t*f*g+t*c*v+r*l*g-n*l*v+n*f*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],l=e[4],c=e[5],f=e[6],d=e[7],m=e[8],g=e[9],v=e[10],C=e[11],y=e[12],A=e[13],M=e[14],x=e[15],U=g*M*d-A*v*d+A*f*C-c*M*C-g*f*x+c*v*x,D=y*v*d-m*M*d-y*f*C+l*M*C+m*f*x-l*v*x,ne=m*A*d-y*g*d+y*c*C-l*A*C-m*c*x+l*g*x,ue=y*g*f-m*A*f-y*c*v+l*A*v+m*c*M-l*g*M,Me=t*U+n*D+r*ne+o*ue;if(Me===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Ne=1/Me;return e[0]=U*Ne,e[1]=(A*v*o-g*M*o-A*r*C+n*M*C+g*r*x-n*v*x)*Ne,e[2]=(c*M*o-A*f*o+A*r*d-n*M*d-c*r*x+n*f*x)*Ne,e[3]=(g*f*o-c*v*o-g*r*d+n*v*d+c*r*C-n*f*C)*Ne,e[4]=D*Ne,e[5]=(m*M*o-y*v*o+y*r*C-t*M*C-m*r*x+t*v*x)*Ne,e[6]=(y*f*o-l*M*o-y*r*d+t*M*d+l*r*x-t*f*x)*Ne,e[7]=(l*v*o-m*f*o+m*r*d-t*v*d-l*r*C+t*f*C)*Ne,e[8]=ne*Ne,e[9]=(y*g*o-m*A*o-y*n*C+t*A*C+m*n*x-t*g*x)*Ne,e[10]=(l*A*o-y*c*o+y*n*d-t*A*d-l*n*x+t*c*x)*Ne,e[11]=(m*c*o-l*g*o-m*n*d+t*g*d+l*n*C-t*c*C)*Ne,e[12]=ue*Ne,e[13]=(m*A*r-y*g*r+y*n*v-t*A*v-m*n*M+t*g*M)*Ne,e[14]=(y*c*r-l*A*r-y*n*f+t*A*f+l*n*M-t*c*M)*Ne,e[15]=(l*g*r-m*c*r+m*n*f-t*g*f-l*n*v+t*c*v)*Ne,this}scale(e){const t=this.elements,n=e.x,r=e.y,o=e.z;return t[0]*=n,t[4]*=r,t[8]*=o,t[1]*=n,t[5]*=r,t[9]*=o,t[2]*=n,t[6]*=r,t[10]*=o,t[3]*=n,t[7]*=r,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),o=1-n,l=e.x,c=e.y,f=e.z,d=o*l,m=o*c;return this.set(d*l+n,d*c-r*f,d*f+r*c,0,d*c+r*f,m*c+n,m*f-r*l,0,d*f-r*c,m*f+r*l,o*f*f+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,o,l){return this.set(1,n,o,0,e,1,l,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,o=t._x,l=t._y,c=t._z,f=t._w,d=o+o,m=l+l,g=c+c,v=o*d,C=o*m,y=o*g,A=l*m,M=l*g,x=c*g,U=f*d,D=f*m,ne=f*g,ue=n.x,Me=n.y,Ne=n.z;return r[0]=(1-(A+x))*ue,r[1]=(C+ne)*ue,r[2]=(y-D)*ue,r[3]=0,r[4]=(C-ne)*Me,r[5]=(1-(v+x))*Me,r[6]=(M+U)*Me,r[7]=0,r[8]=(y+D)*Ne,r[9]=(M-U)*Ne,r[10]=(1-(v+A))*Ne,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let o=qa.set(r[0],r[1],r[2]).length();const l=qa.set(r[4],r[5],r[6]).length(),c=qa.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],xs.copy(this);const d=1/o,m=1/l,g=1/c;return xs.elements[0]*=d,xs.elements[1]*=d,xs.elements[2]*=d,xs.elements[4]*=m,xs.elements[5]*=m,xs.elements[6]*=m,xs.elements[8]*=g,xs.elements[9]*=g,xs.elements[10]*=g,t.setFromRotationMatrix(xs),n.x=o,n.y=l,n.z=c,this}makePerspective(e,t,n,r,o,l){const c=this.elements,f=2*o/(t-e),d=2*o/(n-r),m=(t+e)/(t-e),g=(n+r)/(n-r),v=-(l+o)/(l-o),C=-2*l*o/(l-o);return c[0]=f,c[4]=0,c[8]=m,c[12]=0,c[1]=0,c[5]=d,c[9]=g,c[13]=0,c[2]=0,c[6]=0,c[10]=v,c[14]=C,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,n,r,o,l){const c=this.elements,f=1/(t-e),d=1/(n-r),m=1/(l-o),g=(t+e)*f,v=(n+r)*d,C=(l+o)*m;return c[0]=2*f,c[4]=0,c[8]=0,c[12]=-g,c[1]=0,c[5]=2*d,c[9]=0,c[13]=-v,c[2]=0,c[6]=0,c[10]=-2*m,c[14]=-C,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const qa=new ce,xs=new ai,gl=new ce(0,0,0),Zl=new ce(1,1,1),ea=new ce,K1=new ce,ys=new ce,jl=new ai,mc=new po;class p1{constructor(e=0,t=0,n=0,r=p1.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,o=r[0],l=r[4],c=r[8],f=r[1],d=r[5],m=r[9],g=r[2],v=r[6],C=r[10];switch(t){case"XYZ":this._y=Math.asin(Ei(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,C),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(v,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Ei(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(c,C),this._z=Math.atan2(f,d)):(this._y=Math.atan2(-g,o),this._z=0);break;case"ZXY":this._x=Math.asin(Ei(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,C),this._z=Math.atan2(-l,d)):(this._y=0,this._z=Math.atan2(f,o));break;case"ZYX":this._y=Math.asin(-Ei(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,C),this._z=Math.atan2(f,o)):(this._x=0,this._z=Math.atan2(-l,d));break;case"YZX":this._z=Math.asin(Ei(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-m,d),this._y=Math.atan2(-g,o)):(this._x=0,this._y=Math.atan2(c,C));break;case"XZY":this._z=Math.asin(-Ei(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(v,d),this._y=Math.atan2(c,o)):(this._x=Math.atan2(-m,C),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return jl.makeRotationFromQuaternion(e),this.setFromRotationMatrix(jl,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return mc.setFromEuler(this),this.setFromQuaternion(mc,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}p1.DEFAULT_ORDER="XYZ";class Qa{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let vl=0;const gc=new ce,I1=new po,fa=new ai,Cl=new ce,O1=new ce,vc=new ce,Cc=new po,Gl=new ce(1,0,0),J1=new ce(0,1,0),_c=new ce(0,0,1),yu={type:"added"},xc={type:"removed"};class $i extends ki{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:vl++}),this.uuid=Xo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=$i.DEFAULT_UP.clone();const e=new ce,t=new p1,n=new po,r=new ce(1,1,1);function o(){n.setFromEuler(t,!1)}function l(){t.setFromQuaternion(n,void 0,!1)}t._onChange(o),n._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ai},normalMatrix:{value:new ti}}),this.matrix=new ai,this.matrixWorld=new ai,this.matrixAutoUpdate=$i.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=$i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Qa,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return I1.setFromAxisAngle(e,t),this.quaternion.multiply(I1),this}rotateOnWorldAxis(e,t){return I1.setFromAxisAngle(e,t),this.quaternion.premultiply(I1),this}rotateX(e){return this.rotateOnAxis(Gl,e)}rotateY(e){return this.rotateOnAxis(J1,e)}rotateZ(e){return this.rotateOnAxis(_c,e)}translateOnAxis(e,t){return gc.copy(e).applyQuaternion(this.quaternion),this.position.add(gc.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Gl,e)}translateY(e){return this.translateOnAxis(J1,e)}translateZ(e){return this.translateOnAxis(_c,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(fa.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Cl.copy(e):Cl.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),O1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fa.lookAt(O1,Cl,this.up):fa.lookAt(Cl,O1,this.up),this.quaternion.setFromRotationMatrix(fa),r&&(fa.extractRotation(r.matrixWorld),I1.setFromRotationMatrix(fa),this.quaternion.premultiply(I1.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(yu)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(xc)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(xc)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),fa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),fa.multiply(e.parent.matrixWorld)),e.applyMatrix4(fa),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const l=this.children[n].getObjectByProperty(e,t);if(l!==void 0)return l}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,o=this.children.length;r<o;r++){const l=this.children[r].getObjectsByProperty(e,t);l.length>0&&(n=n.concat(l))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(O1,e,vc),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(O1,Cc,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const o=t[n];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let o=0,l=r.length;o<l;o++){const c=r[o];c.matrixWorldAutoUpdate===!0&&c.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function o(c,f){return c[f.uuid]===void 0&&(c[f.uuid]=f.toJSON(e)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const f=c.shapes;if(Array.isArray(f))for(let d=0,m=f.length;d<m;d++){const g=f[d];o(e.shapes,g)}else o(e.shapes,f)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let f=0,d=this.material.length;f<d;f++)c.push(o(e.materials,this.material[f]));r.material=c}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let c=0;c<this.children.length;c++)r.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let c=0;c<this.animations.length;c++){const f=this.animations[c];r.animations.push(o(e.animations,f))}}if(t){const c=l(e.geometries),f=l(e.materials),d=l(e.textures),m=l(e.images),g=l(e.shapes),v=l(e.skeletons),C=l(e.animations),y=l(e.nodes);c.length>0&&(n.geometries=c),f.length>0&&(n.materials=f),d.length>0&&(n.textures=d),m.length>0&&(n.images=m),g.length>0&&(n.shapes=g),v.length>0&&(n.skeletons=v),C.length>0&&(n.animations=C),y.length>0&&(n.nodes=y)}return n.object=r,n;function l(c){const f=[];for(const d in c){const m=c[d];delete m.metadata,f.push(m)}return f}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}$i.DEFAULT_UP=new ce(0,1,0),$i.DEFAULT_MATRIX_AUTO_UPDATE=!0,$i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ws=new ce,ka=new ce,Xl=new ce,$a=new ce,m1=new ce,g1=new ce,Yl=new ce,Zs=new ce,_l=new ce,D1=new ce;let Wa=!1;class ss{constructor(e=new ce,t=new ce,n=new ce){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),ws.subVectors(e,t),r.cross(ws);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,t,n,r,o){ws.subVectors(r,t),ka.subVectors(n,t),Xl.subVectors(e,t);const l=ws.dot(ws),c=ws.dot(ka),f=ws.dot(Xl),d=ka.dot(ka),m=ka.dot(Xl),g=l*d-c*c;if(g===0)return o.set(-2,-1,-1);const v=1/g,C=(d*f-c*m)*v,y=(l*m-c*f)*v;return o.set(1-C-y,y,C)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,$a),$a.x>=0&&$a.y>=0&&$a.x+$a.y<=1}static getUV(e,t,n,r,o,l,c,f){return Wa===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Wa=!0),this.getInterpolation(e,t,n,r,o,l,c,f)}static getInterpolation(e,t,n,r,o,l,c,f){return this.getBarycoord(e,t,n,r,$a),f.setScalar(0),f.addScaledVector(o,$a.x),f.addScaledVector(l,$a.y),f.addScaledVector(c,$a.z),f}static isFrontFacing(e,t,n,r){return ws.subVectors(n,t),ka.subVectors(e,t),ws.cross(ka).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ws.subVectors(this.c,this.b),ka.subVectors(this.a,this.b),ws.cross(ka).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ss.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ss.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,o){return Wa===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Wa=!0),ss.getInterpolation(e,this.a,this.b,this.c,t,n,r,o)}getInterpolation(e,t,n,r,o){return ss.getInterpolation(e,this.a,this.b,this.c,t,n,r,o)}containsPoint(e){return ss.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ss.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,o=this.c;let l,c;m1.subVectors(r,n),g1.subVectors(o,n),Zs.subVectors(e,n);const f=m1.dot(Zs),d=g1.dot(Zs);if(f<=0&&d<=0)return t.copy(n);_l.subVectors(e,r);const m=m1.dot(_l),g=g1.dot(_l);if(m>=0&&g<=m)return t.copy(r);const v=f*g-m*d;if(v<=0&&f>=0&&m<=0)return l=f/(f-m),t.copy(n).addScaledVector(m1,l);D1.subVectors(e,o);const C=m1.dot(D1),y=g1.dot(D1);if(y>=0&&C<=y)return t.copy(o);const A=C*d-f*y;if(A<=0&&d>=0&&y<=0)return c=d/(d-y),t.copy(n).addScaledVector(g1,c);const M=m*y-C*g;if(M<=0&&g-m>=0&&C-y>=0)return Yl.subVectors(o,r),c=(g-m)/(g-m+(C-y)),t.copy(r).addScaledVector(Yl,c);const x=1/(M+A+v);return l=A*x,c=v*x,t.copy(n).addScaledVector(m1,l).addScaledVector(g1,c)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Kl=0;class hs extends ki{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Kl++}),this.uuid=Xo(),this.name="",this.type="Material",this.blending=En,this.side=ht,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=rt,this.blendDst=Re,this.blendEquation=Kt,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ae,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=or,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=O,this.stencilZFail=O,this.stencilZPass=O,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==En&&(n.blending=this.blending),this.side!==ht&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(n.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(o){const l=[];for(const c in o){const f=o[c];delete f.metadata,l.push(f)}return l}if(t){const o=r(e.textures),l=r(e.images);o.length>0&&(n.textures=o),l.length>0&&(n.images=l)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let o=0;o!==r;++o)n[o]=t[o].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const H1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},yo={h:0,s:0,l:0},xl={h:0,s:0,l:0};function yc(a,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?a+(e-a)*6*t:t<1/2?e:t<2/3?a+(e-a)*6*(2/3-t):a}class cr{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Fr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ko.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=Ko.workingColorSpace){return this.r=e,this.g=t,this.b=n,Ko.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=Ko.workingColorSpace){if(e=Is(e,1),t=Ei(t,0,1),n=Ei(n,0,1),t===0)this.r=this.g=this.b=n;else{const o=n<=.5?n*(1+t):n+t-n*t,l=2*n-o;this.r=yc(l,o,e+1/3),this.g=yc(l,o,e),this.b=yc(l,o,e-1/3)}return Ko.toWorkingColorSpace(this,r),this}setStyle(e,t=Fr){function n(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const l=r[1],c=r[2];switch(l){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=r[1],l=o.length;if(l===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(o,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Fr){const n=H1[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ks(e.r),this.g=ks(e.g),this.b=ks(e.b),this}copyLinearToSRGB(e){return this.r=Ks(e.r),this.g=Ks(e.g),this.b=Ks(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Fr){return Ko.fromWorkingColorSpace(ao.copy(this),e),Math.round(Ei(ao.r*255,0,255))*65536+Math.round(Ei(ao.g*255,0,255))*256+Math.round(Ei(ao.b*255,0,255))}getHexString(e=Fr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ko.workingColorSpace){Ko.fromWorkingColorSpace(ao.copy(this),t);const n=ao.r,r=ao.g,o=ao.b,l=Math.max(n,r,o),c=Math.min(n,r,o);let f,d;const m=(c+l)/2;if(c===l)f=0,d=0;else{const g=l-c;switch(d=m<=.5?g/(l+c):g/(2-l-c),l){case n:f=(r-o)/g+(r<o?6:0);break;case r:f=(o-n)/g+2;break;case o:f=(n-r)/g+4;break}f/=6}return e.h=f,e.s=d,e.l=m,e}getRGB(e,t=Ko.workingColorSpace){return Ko.fromWorkingColorSpace(ao.copy(this),t),e.r=ao.r,e.g=ao.g,e.b=ao.b,e}getStyle(e=Fr){Ko.fromWorkingColorSpace(ao.copy(this),e);const t=ao.r,n=ao.g,r=ao.b;return e!==Fr?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(yo),yo.h+=e,yo.s+=t,yo.l+=n,this.setHSL(yo.h,yo.s,yo.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(yo),e.getHSL(xl);const n=sa(yo.h,xl.h,t),r=sa(yo.s,xl.s,t),o=sa(yo.l,xl.l,t);return this.setHSL(n,r,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,o=e.elements;return this.r=o[0]*t+o[3]*n+o[6]*r,this.g=o[1]*t+o[4]*n+o[7]*r,this.b=o[2]*t+o[5]*n+o[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ao=new cr;cr.NAMES=H1;class La extends hs{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new cr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=me,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const da=qc();function qc(){const a=new ArrayBuffer(4),e=new Float32Array(a),t=new Uint32Array(a),n=new Uint32Array(512),r=new Uint32Array(512);for(let f=0;f<256;++f){const d=f-127;d<-27?(n[f]=0,n[f|256]=32768,r[f]=24,r[f|256]=24):d<-14?(n[f]=1024>>-d-14,n[f|256]=1024>>-d-14|32768,r[f]=-d-1,r[f|256]=-d-1):d<=15?(n[f]=d+15<<10,n[f|256]=d+15<<10|32768,r[f]=13,r[f|256]=13):d<128?(n[f]=31744,n[f|256]=64512,r[f]=24,r[f|256]=24):(n[f]=31744,n[f|256]=64512,r[f]=13,r[f|256]=13)}const o=new Uint32Array(2048),l=new Uint32Array(64),c=new Uint32Array(64);for(let f=1;f<1024;++f){let d=f<<13,m=0;for(;!(d&8388608);)d<<=1,m-=8388608;d&=-8388609,m+=947912704,o[f]=d|m}for(let f=1024;f<2048;++f)o[f]=939524096+(f-1024<<13);for(let f=1;f<31;++f)l[f]=f<<23;l[31]=1199570944,l[32]=2147483648;for(let f=33;f<63;++f)l[f]=2147483648+(f-32<<23);l[63]=3347054592;for(let f=1;f<64;++f)f!==32&&(c[f]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:o,exponentTable:l,offsetTable:c}}function Ms(a){Math.abs(a)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),a=Ei(a,-65504,65504),da.floatView[0]=a;const e=da.uint32View[0],t=e>>23&511;return da.baseTable[t]+((e&8388607)>>da.shiftTable[t])}function z1(a){const e=a>>10;return da.uint32View[0]=da.mantissaTable[da.offsetTable[e]+(a&1023)]+da.exponentTable[e],da.floatView[0]}const Jl={toHalfFloat:Ms,fromHalfFloat:z1},No=new ce,v1=new dn;class lo{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=Cn,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)v1.fromBufferAttribute(this,t),v1.applyMatrix3(e),this.setXY(t,v1.x,v1.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)No.fromBufferAttribute(this,t),No.applyMatrix3(e),this.setXYZ(t,No.x,No.y,No.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)No.fromBufferAttribute(this,t),No.applyMatrix4(e),this.setXYZ(t,No.x,No.y,No.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)No.fromBufferAttribute(this,t),No.applyNormalMatrix(e),this.setXYZ(t,No.x,No.y,No.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)No.fromBufferAttribute(this,t),No.transformDirection(e),this.setXYZ(t,No.x,No.y,No.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=xo(t,this.array)),t}setX(e,t){return this.normalized&&(t=jr(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=xo(t,this.array)),t}setY(e,t){return this.normalized&&(t=jr(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=xo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jr(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=xo(t,this.array)),t}setW(e,t){return this.normalized&&(t=jr(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=jr(t,this.array),n=jr(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=jr(t,this.array),n=jr(n,this.array),r=jr(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e*=this.itemSize,this.normalized&&(t=jr(t,this.array),n=jr(n,this.array),r=jr(r,this.array),o=jr(o,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Cn&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class wc extends lo{constructor(e,t,n){super(new Int8Array(e),t,n)}}class yl extends lo{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class wl extends lo{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class Mc extends lo{constructor(e,t,n){super(new Int16Array(e),t,n)}}class e1 extends lo{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class ql extends lo{constructor(e,t,n){super(new Int32Array(e),t,n)}}class Ml extends lo{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class q1 extends lo{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=z1(this.array[e*this.itemSize]);return this.normalized&&(t=xo(t,this.array)),t}setX(e,t){return this.normalized&&(t=jr(t,this.array)),this.array[e*this.itemSize]=Ms(t),this}getY(e){let t=z1(this.array[e*this.itemSize+1]);return this.normalized&&(t=xo(t,this.array)),t}setY(e,t){return this.normalized&&(t=jr(t,this.array)),this.array[e*this.itemSize+1]=Ms(t),this}getZ(e){let t=z1(this.array[e*this.itemSize+2]);return this.normalized&&(t=xo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jr(t,this.array)),this.array[e*this.itemSize+2]=Ms(t),this}getW(e){let t=z1(this.array[e*this.itemSize+3]);return this.normalized&&(t=xo(t,this.array)),t}setW(e,t){return this.normalized&&(t=jr(t,this.array)),this.array[e*this.itemSize+3]=Ms(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=jr(t,this.array),n=jr(n,this.array)),this.array[e+0]=Ms(t),this.array[e+1]=Ms(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=jr(t,this.array),n=jr(n,this.array),r=jr(r,this.array)),this.array[e+0]=Ms(t),this.array[e+1]=Ms(n),this.array[e+2]=Ms(r),this}setXYZW(e,t,n,r,o){return e*=this.itemSize,this.normalized&&(t=jr(t,this.array),n=jr(n,this.array),r=jr(r,this.array),o=jr(o,this.array)),this.array[e+0]=Ms(t),this.array[e+1]=Ms(n),this.array[e+2]=Ms(r),this.array[e+3]=Ms(o),this}}class Mr extends lo{constructor(e,t,n){super(new Float32Array(e),t,n)}}class Q1 extends lo{constructor(e,t,n){super(new Float64Array(e),t,n)}}let Ql=0;const Bo=new ai,ec=new $i,Ta=new ce,$r=new is,js=new is,Qo=new ce;class gn extends ki{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Ql++}),this.uuid=Xo(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Na(e)?Ml:e1)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const o=new ti().getNormalMatrix(e);n.applyNormalMatrix(o),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Bo.makeRotationFromQuaternion(e),this.applyMatrix4(Bo),this}rotateX(e){return Bo.makeRotationX(e),this.applyMatrix4(Bo),this}rotateY(e){return Bo.makeRotationY(e),this.applyMatrix4(Bo),this}rotateZ(e){return Bo.makeRotationZ(e),this.applyMatrix4(Bo),this}translate(e,t,n){return Bo.makeTranslation(e,t,n),this.applyMatrix4(Bo),this}scale(e,t,n){return Bo.makeScale(e,t,n),this.applyMatrix4(Bo),this}lookAt(e){return ec.lookAt(e),ec.updateMatrix(),this.applyMatrix4(ec.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ta).negate(),this.translate(Ta.x,Ta.y,Ta.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const o=e[n];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Mr(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new is);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ce(-1/0,-1/0,-1/0),new ce(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const o=t[n];$r.setFromBufferAttribute(o),this.morphTargetsRelative?(Qo.addVectors(this.boundingBox.min,$r.min),this.boundingBox.expandByPoint(Qo),Qo.addVectors(this.boundingBox.max,$r.max),this.boundingBox.expandByPoint(Qo)):(this.boundingBox.expandByPoint($r.min),this.boundingBox.expandByPoint($r.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Qs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ce,1/0);return}if(e){const n=this.boundingSphere.center;if($r.setFromBufferAttribute(e),t)for(let o=0,l=t.length;o<l;o++){const c=t[o];js.setFromBufferAttribute(c),this.morphTargetsRelative?(Qo.addVectors($r.min,js.min),$r.expandByPoint(Qo),Qo.addVectors($r.max,js.max),$r.expandByPoint(Qo)):($r.expandByPoint(js.min),$r.expandByPoint(js.max))}$r.getCenter(n);let r=0;for(let o=0,l=e.count;o<l;o++)Qo.fromBufferAttribute(e,o),r=Math.max(r,n.distanceToSquared(Qo));if(t)for(let o=0,l=t.length;o<l;o++){const c=t[o],f=this.morphTargetsRelative;for(let d=0,m=c.count;d<m;d++)Qo.fromBufferAttribute(c,d),f&&(Ta.fromBufferAttribute(e,d),Qo.add(Ta)),r=Math.max(r,n.distanceToSquared(Qo))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.array,r=t.position.array,o=t.normal.array,l=t.uv.array,c=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new lo(new Float32Array(4*c),4));const f=this.getAttribute("tangent").array,d=[],m=[];for(let Ee=0;Ee<c;Ee++)d[Ee]=new ce,m[Ee]=new ce;const g=new ce,v=new ce,C=new ce,y=new dn,A=new dn,M=new dn,x=new ce,U=new ce;function D(Ee,$t,pn){g.fromArray(r,Ee*3),v.fromArray(r,$t*3),C.fromArray(r,pn*3),y.fromArray(l,Ee*2),A.fromArray(l,$t*2),M.fromArray(l,pn*2),v.sub(g),C.sub(g),A.sub(y),M.sub(y);const St=1/(A.x*M.y-M.x*A.y);isFinite(St)&&(x.copy(v).multiplyScalar(M.y).addScaledVector(C,-A.y).multiplyScalar(St),U.copy(C).multiplyScalar(A.x).addScaledVector(v,-M.x).multiplyScalar(St),d[Ee].add(x),d[$t].add(x),d[pn].add(x),m[Ee].add(U),m[$t].add(U),m[pn].add(U))}let ne=this.groups;ne.length===0&&(ne=[{start:0,count:n.length}]);for(let Ee=0,$t=ne.length;Ee<$t;++Ee){const pn=ne[Ee],St=pn.start,Ut=pn.count;for(let Xt=St,Bn=St+Ut;Xt<Bn;Xt+=3)D(n[Xt+0],n[Xt+1],n[Xt+2])}const ue=new ce,Me=new ce,Ne=new ce,nt=new ce;function G(Ee){Ne.fromArray(o,Ee*3),nt.copy(Ne);const $t=d[Ee];ue.copy($t),ue.sub(Ne.multiplyScalar(Ne.dot($t))).normalize(),Me.crossVectors(nt,$t);const St=Me.dot(m[Ee])<0?-1:1;f[Ee*4]=ue.x,f[Ee*4+1]=ue.y,f[Ee*4+2]=ue.z,f[Ee*4+3]=St}for(let Ee=0,$t=ne.length;Ee<$t;++Ee){const pn=ne[Ee],St=pn.start,Ut=pn.count;for(let Xt=St,Bn=St+Ut;Xt<Bn;Xt+=3)G(n[Xt+0]),G(n[Xt+1]),G(n[Xt+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new lo(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let v=0,C=n.count;v<C;v++)n.setXYZ(v,0,0,0);const r=new ce,o=new ce,l=new ce,c=new ce,f=new ce,d=new ce,m=new ce,g=new ce;if(e)for(let v=0,C=e.count;v<C;v+=3){const y=e.getX(v+0),A=e.getX(v+1),M=e.getX(v+2);r.fromBufferAttribute(t,y),o.fromBufferAttribute(t,A),l.fromBufferAttribute(t,M),m.subVectors(l,o),g.subVectors(r,o),m.cross(g),c.fromBufferAttribute(n,y),f.fromBufferAttribute(n,A),d.fromBufferAttribute(n,M),c.add(m),f.add(m),d.add(m),n.setXYZ(y,c.x,c.y,c.z),n.setXYZ(A,f.x,f.y,f.z),n.setXYZ(M,d.x,d.y,d.z)}else for(let v=0,C=t.count;v<C;v+=3)r.fromBufferAttribute(t,v+0),o.fromBufferAttribute(t,v+1),l.fromBufferAttribute(t,v+2),m.subVectors(l,o),g.subVectors(r,o),m.cross(g),n.setXYZ(v+0,m.x,m.y,m.z),n.setXYZ(v+1,m.x,m.y,m.z),n.setXYZ(v+2,m.x,m.y,m.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Qo.fromBufferAttribute(e,t),Qo.normalize(),e.setXYZ(t,Qo.x,Qo.y,Qo.z)}toNonIndexed(){function e(c,f){const d=c.array,m=c.itemSize,g=c.normalized,v=new d.constructor(f.length*m);let C=0,y=0;for(let A=0,M=f.length;A<M;A++){c.isInterleavedBufferAttribute?C=f[A]*c.data.stride+c.offset:C=f[A]*m;for(let x=0;x<m;x++)v[y++]=d[C++]}return new lo(v,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new gn,n=this.index.array,r=this.attributes;for(const c in r){const f=r[c],d=e(f,n);t.setAttribute(c,d)}const o=this.morphAttributes;for(const c in o){const f=[],d=o[c];for(let m=0,g=d.length;m<g;m++){const v=d[m],C=e(v,n);f.push(C)}t.morphAttributes[c]=f}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let c=0,f=l.length;c<f;c++){const d=l[c];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const d in f)f[d]!==void 0&&(e[d]=f[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const f in n){const d=n[f];e.data.attributes[f]=d.toJSON(e.data)}const r={};let o=!1;for(const f in this.morphAttributes){const d=this.morphAttributes[f],m=[];for(let g=0,v=d.length;g<v;g++){const C=d[g];m.push(C.toJSON(e.data))}m.length>0&&(r[f]=m,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const c=this.boundingSphere;return c!==null&&(e.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const r=e.attributes;for(const d in r){const m=r[d];this.setAttribute(d,m.clone(t))}const o=e.morphAttributes;for(const d in o){const m=[],g=o[d];for(let v=0,C=g.length;v<C;v++)m.push(g[v].clone(t));this.morphAttributes[d]=m}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let d=0,m=l.length;d<m;d++){const g=l[d];this.addGroup(g.start,g.count,g.materialIndex)}const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const f=e.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const el=new ai,ta=new h1,tl=new Qs,Qc=new ce,ha=new ce,Aa=new ce,na=new ce,nl=new ce,rl=new ce,C1=new dn,il=new dn,_1=new dn,tc=new ce,pa=new ce,ol=new ce,Gs=new ce,N1=new ce;class Fo extends $i{constructor(e=new gn,t=new La){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=r.length;o<l;o++){const c=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=o}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,o=n.morphAttributes.position,l=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const c=this.morphTargetInfluences;if(o&&c){rl.set(0,0,0);for(let f=0,d=o.length;f<d;f++){const m=c[f],g=o[f];m!==0&&(nl.fromBufferAttribute(g,e),l?rl.addScaledVector(nl,m):rl.addScaledVector(nl.sub(t),m))}t.add(rl)}return t}raycast(e,t){const n=this.geometry,r=this.material,o=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),tl.copy(n.boundingSphere),tl.applyMatrix4(o),ta.copy(e.ray).recast(e.near),!(tl.containsPoint(ta.origin)===!1&&(ta.intersectSphere(tl,Qc)===null||ta.origin.distanceToSquared(Qc)>pc(e.far-e.near,2)))&&(el.copy(o).invert(),ta.copy(e.ray).applyMatrix4(el),!(n.boundingBox!==null&&ta.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t)))}_computeIntersections(e,t){let n;const r=this.geometry,o=this.material,l=r.index,c=r.attributes.position,f=r.attributes.uv,d=r.attributes.uv1,m=r.attributes.normal,g=r.groups,v=r.drawRange;if(l!==null)if(Array.isArray(o))for(let C=0,y=g.length;C<y;C++){const A=g[C],M=o[A.materialIndex],x=Math.max(A.start,v.start),U=Math.min(l.count,Math.min(A.start+A.count,v.start+v.count));for(let D=x,ne=U;D<ne;D+=3){const ue=l.getX(D),Me=l.getX(D+1),Ne=l.getX(D+2);n=bl(this,M,e,ta,f,d,m,ue,Me,Ne),n&&(n.faceIndex=Math.floor(D/3),n.face.materialIndex=A.materialIndex,t.push(n))}}else{const C=Math.max(0,v.start),y=Math.min(l.count,v.start+v.count);for(let A=C,M=y;A<M;A+=3){const x=l.getX(A),U=l.getX(A+1),D=l.getX(A+2);n=bl(this,o,e,ta,f,d,m,x,U,D),n&&(n.faceIndex=Math.floor(A/3),t.push(n))}}else if(c!==void 0)if(Array.isArray(o))for(let C=0,y=g.length;C<y;C++){const A=g[C],M=o[A.materialIndex],x=Math.max(A.start,v.start),U=Math.min(c.count,Math.min(A.start+A.count,v.start+v.count));for(let D=x,ne=U;D<ne;D+=3){const ue=D,Me=D+1,Ne=D+2;n=bl(this,M,e,ta,f,d,m,ue,Me,Ne),n&&(n.faceIndex=Math.floor(D/3),n.face.materialIndex=A.materialIndex,t.push(n))}}else{const C=Math.max(0,v.start),y=Math.min(c.count,v.start+v.count);for(let A=C,M=y;A<M;A+=3){const x=A,U=A+1,D=A+2;n=bl(this,o,e,ta,f,d,m,x,U,D),n&&(n.faceIndex=Math.floor(A/3),t.push(n))}}}}function eu(a,e,t,n,r,o,l,c){let f;if(e.side===mt?f=n.intersectTriangle(l,o,r,!0,c):f=n.intersectTriangle(r,o,l,e.side===ht,c),f===null)return null;N1.copy(c),N1.applyMatrix4(a.matrixWorld);const d=t.ray.origin.distanceTo(N1);return d<t.near||d>t.far?null:{distance:d,point:N1.clone(),object:a}}function bl(a,e,t,n,r,o,l,c,f,d){a.getVertexPosition(c,ha),a.getVertexPosition(f,Aa),a.getVertexPosition(d,na);const m=eu(a,e,t,n,ha,Aa,na,Gs);if(m){r&&(C1.fromBufferAttribute(r,c),il.fromBufferAttribute(r,f),_1.fromBufferAttribute(r,d),m.uv=ss.getInterpolation(Gs,ha,Aa,na,C1,il,_1,new dn)),o&&(C1.fromBufferAttribute(o,c),il.fromBufferAttribute(o,f),_1.fromBufferAttribute(o,d),m.uv1=ss.getInterpolation(Gs,ha,Aa,na,C1,il,_1,new dn),m.uv2=m.uv1),l&&(tc.fromBufferAttribute(l,c),pa.fromBufferAttribute(l,f),ol.fromBufferAttribute(l,d),m.normal=ss.getInterpolation(Gs,ha,Aa,na,tc,pa,ol,new ce),m.normal.dot(n.direction)>0&&m.normal.multiplyScalar(-1));const g={a:c,b:f,c:d,normal:new ce,materialIndex:0};ss.getNormal(ha,Aa,na,g.normal),m.face=g}return m}class Za extends gn{constructor(e=1,t=1,n=1,r=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:o,depthSegments:l};const c=this;r=Math.floor(r),o=Math.floor(o),l=Math.floor(l);const f=[],d=[],m=[],g=[];let v=0,C=0;y("z","y","x",-1,-1,n,t,e,l,o,0),y("z","y","x",1,-1,n,t,-e,l,o,1),y("x","z","y",1,1,e,n,t,r,l,2),y("x","z","y",1,-1,e,n,-t,r,l,3),y("x","y","z",1,-1,e,t,n,r,o,4),y("x","y","z",-1,-1,e,t,-n,r,o,5),this.setIndex(f),this.setAttribute("position",new Mr(d,3)),this.setAttribute("normal",new Mr(m,3)),this.setAttribute("uv",new Mr(g,2));function y(A,M,x,U,D,ne,ue,Me,Ne,nt,G){const Ee=ne/Ne,$t=ue/nt,pn=ne/2,St=ue/2,Ut=Me/2,Xt=Ne+1,Bn=nt+1;let Ln=0,Rn=0;const Un=new ce;for(let Gn=0;Gn<Bn;Gn++){const Ar=Gn*$t-St;for(let yr=0;yr<Xt;yr++){const tn=yr*Ee-pn;Un[A]=tn*U,Un[M]=Ar*D,Un[x]=Ut,d.push(Un.x,Un.y,Un.z),Un[A]=0,Un[M]=0,Un[x]=Me>0?1:-1,m.push(Un.x,Un.y,Un.z),g.push(yr/Ne),g.push(1-Gn/nt),Ln+=1}}for(let Gn=0;Gn<nt;Gn++)for(let Ar=0;Ar<Ne;Ar++){const yr=v+Ar+Xt*Gn,tn=v+Ar+Xt*(Gn+1),Hn=v+(Ar+1)+Xt*(Gn+1),vr=v+(Ar+1)+Xt*Gn;f.push(yr,tn,vr),f.push(tn,Hn,vr),Rn+=6}c.addGroup(C,Rn,G),C+=Rn,v+=Ln}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Za(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function x1(a){const e={};for(const t in a){e[t]={};for(const n in a[t]){const r=a[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function ps(a){const e={};for(let t=0;t<a.length;t++){const n=x1(a[t]);for(const r in n)e[r]=n[r]}return e}function tu(a){const e=[];for(let t=0;t<a.length;t++)e.push(a[t].clone());return e}function Sl(a){return a.getRenderTarget()===null?a.outputColorSpace:Wo}const El={clone:x1,merge:ps};var Rl=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Ll=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ns extends hs{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Rl,this.fragmentShader=Ll,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=x1(e.uniforms),this.uniformsGroups=tu(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const l=this.uniforms[r].value;l&&l.isTexture?t.uniforms[r]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[r]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[r]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[r]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[r]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[r]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[r]={type:"m4",value:l.toArray()}:t.uniforms[r]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class t1 extends $i{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ai,this.projectionMatrix=new ai,this.projectionMatrixInverse=new ai}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Zo extends t1{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=oa*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ho*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return oa*2*Math.atan(Math.tan(ho*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,o,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(ho*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,o=-.5*r;const l=this.view;if(this.view!==null&&this.view.enabled){const f=l.fullWidth,d=l.fullHeight;o+=l.offsetX*r/f,t-=l.offsetY*n/d,r*=l.width/f,n*=l.height/d}const c=this.filmOffset;c!==0&&(o+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const n1=-90,r1=1;class ja extends $i{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;const r=new Zo(n1,r1,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const o=new Zo(n1,r1,e,t);o.layers=this.layers,o.up.set(0,1,0),o.lookAt(-1,0,0),this.add(o);const l=new Zo(n1,r1,e,t);l.layers=this.layers,l.up.set(0,0,-1),l.lookAt(0,1,0),this.add(l);const c=new Zo(n1,r1,e,t);c.layers=this.layers,c.up.set(0,0,1),c.lookAt(0,-1,0),this.add(c);const f=new Zo(n1,r1,e,t);f.layers=this.layers,f.up.set(0,1,0),f.lookAt(0,0,1),this.add(f);const d=new Zo(n1,r1,e,t);d.layers=this.layers,d.up.set(0,1,0),d.lookAt(0,0,-1),this.add(d)}update(e,t){this.parent===null&&this.updateMatrixWorld();const n=this.renderTarget,[r,o,l,c,f,d]=this.children,m=e.getRenderTarget(),g=e.toneMapping,v=e.xr.enabled;e.toneMapping=xt,e.xr.enabled=!1;const C=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,o),e.setRenderTarget(n,2),e.render(t,l),e.setRenderTarget(n,3),e.render(t,c),e.setRenderTarget(n,4),e.render(t,f),n.texture.generateMipmaps=C,e.setRenderTarget(n,5),e.render(t,d),e.setRenderTarget(m),e.toneMapping=g,e.xr.enabled=v,n.texture.needsPMREMUpdate=!0}}class y1 extends hi{constructor(e,t,n,r,o,l,c,f,d,m){e=e!==void 0?e:[],t=t!==void 0?t:Tn,super(e,t,n,r,o,l,c,f,d,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class bc extends Ki{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];t.encoding!==void 0&&(Ho("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Po?Fr:ns),this.texture=new y1(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Jn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Za(5,5,5),o=new Ns({name:"CubemapFromEquirect",uniforms:x1(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:mt,blending:zn});o.uniforms.tEquirect.value=t;const l=new Fo(r,o),c=t.minFilter;return t.minFilter===Xe&&(t.minFilter=Jn),new ja(1,10,this).update(e,l),t.minFilter=c,l.geometry.dispose(),l.material.dispose(),this}clear(e,t,n,r){const o=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,n,r);e.setRenderTarget(o)}}const B1=new ce,nc=new ce,Uo=new ti;class li{constructor(e=new ce(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=B1.subVectors(n,t).cross(nc.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(B1),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:t.copy(e.start).addScaledVector(n,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Uo.getNormalMatrix(e),r=this.coplanarPoint(B1).applyMatrix4(e),o=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const wo=new Qs,So=new ce;class ko{constructor(e=new li,t=new li,n=new li,r=new li,o=new li,l=new li){this.planes=[e,t,n,r,o,l]}set(e,t,n,r,o,l){const c=this.planes;return c[0].copy(e),c[1].copy(t),c[2].copy(n),c[3].copy(r),c[4].copy(o),c[5].copy(l),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],o=n[1],l=n[2],c=n[3],f=n[4],d=n[5],m=n[6],g=n[7],v=n[8],C=n[9],y=n[10],A=n[11],M=n[12],x=n[13],U=n[14],D=n[15];return t[0].setComponents(c-r,g-f,A-v,D-M).normalize(),t[1].setComponents(c+r,g+f,A+v,D+M).normalize(),t[2].setComponents(c+o,g+d,A+C,D+x).normalize(),t[3].setComponents(c-o,g-d,A-C,D-x).normalize(),t[4].setComponents(c-l,g-m,A-y,D-U).normalize(),t[5].setComponents(c+l,g+m,A+y,D+U).normalize(),this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),wo.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),wo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(wo)}intersectsSprite(e){return wo.center.set(0,0,0),wo.radius=.7071067811865476,wo.applyMatrix4(e.matrixWorld),this.intersectsSphere(wo)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(So.x=r.normal.x>0?e.max.x:e.min.x,So.y=r.normal.y>0?e.max.y:e.min.y,So.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(So)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Bs(){let a=null,e=!1,t=null,n=null;function r(o,l){t(o,l),n=a.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=a.requestAnimationFrame(r),e=!0)},stop:function(){a.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){a=o}}}function U1(a,e){const t=e.isWebGL2,n=new WeakMap;function r(d,m){const g=d.array,v=d.usage,C=a.createBuffer();a.bindBuffer(m,C),a.bufferData(m,g,v),d.onUploadCallback();let y;if(g instanceof Float32Array)y=a.FLOAT;else if(g instanceof Uint16Array)if(d.isFloat16BufferAttribute)if(t)y=a.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=a.UNSIGNED_SHORT;else if(g instanceof Int16Array)y=a.SHORT;else if(g instanceof Uint32Array)y=a.UNSIGNED_INT;else if(g instanceof Int32Array)y=a.INT;else if(g instanceof Int8Array)y=a.BYTE;else if(g instanceof Uint8Array)y=a.UNSIGNED_BYTE;else if(g instanceof Uint8ClampedArray)y=a.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+g);return{buffer:C,type:y,bytesPerElement:g.BYTES_PER_ELEMENT,version:d.version}}function o(d,m,g){const v=m.array,C=m.updateRange;a.bindBuffer(g,d),C.count===-1?a.bufferSubData(g,0,v):(t?a.bufferSubData(g,C.offset*v.BYTES_PER_ELEMENT,v,C.offset,C.count):a.bufferSubData(g,C.offset*v.BYTES_PER_ELEMENT,v.subarray(C.offset,C.offset+C.count)),C.count=-1),m.onUploadCallback()}function l(d){return d.isInterleavedBufferAttribute&&(d=d.data),n.get(d)}function c(d){d.isInterleavedBufferAttribute&&(d=d.data);const m=n.get(d);m&&(a.deleteBuffer(m.buffer),n.delete(d))}function f(d,m){if(d.isGLBufferAttribute){const v=n.get(d);(!v||v.version<d.version)&&n.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version});return}d.isInterleavedBufferAttribute&&(d=d.data);const g=n.get(d);g===void 0?n.set(d,r(d,m)):g.version<d.version&&(o(g.buffer,d,m),g.version=d.version)}return{get:l,remove:c,update:f}}class Eo extends gn{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const o=e/2,l=t/2,c=Math.floor(n),f=Math.floor(r),d=c+1,m=f+1,g=e/c,v=t/f,C=[],y=[],A=[],M=[];for(let x=0;x<m;x++){const U=x*v-l;for(let D=0;D<d;D++){const ne=D*g-o;y.push(ne,-U,0),A.push(0,0,1),M.push(D/c),M.push(1-x/f)}}for(let x=0;x<f;x++)for(let U=0;U<c;U++){const D=U+d*x,ne=U+d*(x+1),ue=U+1+d*(x+1),Me=U+1+d*x;C.push(D,ne,Me),C.push(ne,ue,Me)}this.setIndex(C),this.setAttribute("position",new Mr(y,3)),this.setAttribute("normal",new Mr(A,3)),this.setAttribute("uv",new Mr(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Eo(e.width,e.height,e.widthSegments,e.heightSegments)}}var sl=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,V1=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Tl=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,rc=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,al=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Us=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Al="vec3 transformed = vec3( position );",ic=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,F1=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Pl=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Sc=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,i1=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Il=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,o1=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Ol=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,w1=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Dl=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Hl=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,zl=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Ro=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,ma=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,bs=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Ga=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Ss=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Ec=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Es=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,oc="gl_FragColor = linearToOutputTexel( gl_FragColor );",nu=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,s1=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,sc=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Rc=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Nl=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,M1=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Lc=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,ga=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Bl=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Ul=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,ru=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Vl=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Tc=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,ac=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,a1=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Ac=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,l1=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Pc=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Vs=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,iu=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,h=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,w=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif`,I=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,N=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,ve=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Ie=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,it=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Wt=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,vn=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,en=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,ir=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,Fn=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,qn=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,tr=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Sr=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,sr=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Ui=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,wi=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Vr=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Hi=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Tr=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#ifdef USE_NORMALMAP_TANGENTSPACE
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,Nr=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,no=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,i=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,s=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,u=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,p=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,_=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,L=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,ye=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Ge=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Dt=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,In=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,pr=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Jr=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Ir=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Pi=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,_r=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,jo=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Rs=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Mt=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,at=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,It=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,fr=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Er=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,ni=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ar=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Br=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,oo=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Wi=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Pa=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,ll=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,s0=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,a0=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,l0=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,c0=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Vi={alphamap_fragment:sl,alphamap_pars_fragment:V1,alphatest_fragment:Tl,alphatest_pars_fragment:rc,aomap_fragment:al,aomap_pars_fragment:Us,begin_vertex:Al,beginnormal_vertex:ic,bsdfs:F1,iridescence_fragment:Pl,bumpmap_pars_fragment:Sc,clipping_planes_fragment:i1,clipping_planes_pars_fragment:Il,clipping_planes_pars_vertex:o1,clipping_planes_vertex:Ol,color_fragment:w1,color_pars_fragment:Dl,color_pars_vertex:Hl,color_vertex:zl,common:Ro,cube_uv_reflection_fragment:ma,defaultnormal_vertex:bs,displacementmap_pars_vertex:Ga,displacementmap_vertex:Ss,emissivemap_fragment:Ec,emissivemap_pars_fragment:Es,encodings_fragment:oc,encodings_pars_fragment:nu,envmap_fragment:s1,envmap_common_pars_fragment:sc,envmap_pars_fragment:Rc,envmap_pars_vertex:Nl,envmap_physical_pars_fragment:l1,envmap_vertex:M1,fog_vertex:Lc,fog_pars_vertex:ga,fog_fragment:Bl,fog_pars_fragment:Ul,gradientmap_pars_fragment:ru,lightmap_fragment:Vl,lightmap_pars_fragment:Tc,lights_lambert_fragment:ac,lights_lambert_pars_fragment:a1,lights_pars_begin:Ac,lights_toon_fragment:Pc,lights_toon_pars_fragment:Vs,lights_phong_fragment:iu,lights_phong_pars_fragment:h,lights_physical_fragment:w,lights_physical_pars_fragment:I,lights_fragment_begin:N,lights_fragment_maps:ve,lights_fragment_end:Ie,logdepthbuf_fragment:it,logdepthbuf_pars_fragment:Wt,logdepthbuf_pars_vertex:vn,logdepthbuf_vertex:en,map_fragment:ir,map_pars_fragment:Fn,map_particle_fragment:qn,map_particle_pars_fragment:tr,metalnessmap_fragment:Sr,metalnessmap_pars_fragment:sr,morphcolor_vertex:Ui,morphnormal_vertex:wi,morphtarget_pars_vertex:Vr,morphtarget_vertex:Hi,normal_fragment_begin:Tr,normal_fragment_maps:Nr,normal_pars_fragment:no,normal_pars_vertex:i,normal_vertex:s,normalmap_pars_fragment:u,clearcoat_normal_fragment_begin:p,clearcoat_normal_fragment_maps:_,clearcoat_pars_fragment:L,iridescence_pars_fragment:ye,output_fragment:Ge,packing:Dt,premultiplied_alpha_fragment:In,project_vertex:pr,dithering_fragment:Jr,dithering_pars_fragment:Ir,roughnessmap_fragment:Pi,roughnessmap_pars_fragment:_r,shadowmap_pars_fragment:jo,shadowmap_pars_vertex:Rs,shadowmap_vertex:Mt,shadowmask_pars_fragment:at,skinbase_vertex:It,skinning_pars_vertex:fr,skinning_vertex:Er,skinnormal_vertex:ni,specularmap_fragment:ar,specularmap_pars_fragment:Br,tonemapping_fragment:oo,tonemapping_pars_fragment:Wi,transmission_fragment:Pa,transmission_pars_fragment:ll,uv_pars_fragment:s0,uv_pars_vertex:a0,uv_vertex:l0,worldpos_vertex:c0,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,backgroundCube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,backgroundCube_frag:`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`},dr={common:{diffuse:{value:new cr(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ti},alphaMap:{value:null},alphaMapTransform:{value:new ti},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ti}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ti}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ti}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ti},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ti},normalScale:{value:new dn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ti},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ti}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ti}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ti}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new cr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new cr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ti}},sprite:{diffuse:{value:new cr(16777215)},opacity:{value:1},center:{value:new dn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ti},alphaMap:{value:null},alphaTest:{value:0}}},b1={basic:{uniforms:ps([dr.common,dr.specularmap,dr.envmap,dr.aomap,dr.lightmap,dr.fog]),vertexShader:Vi.meshbasic_vert,fragmentShader:Vi.meshbasic_frag},lambert:{uniforms:ps([dr.common,dr.specularmap,dr.envmap,dr.aomap,dr.lightmap,dr.emissivemap,dr.bumpmap,dr.normalmap,dr.displacementmap,dr.fog,dr.lights,{emissive:{value:new cr(0)}}]),vertexShader:Vi.meshlambert_vert,fragmentShader:Vi.meshlambert_frag},phong:{uniforms:ps([dr.common,dr.specularmap,dr.envmap,dr.aomap,dr.lightmap,dr.emissivemap,dr.bumpmap,dr.normalmap,dr.displacementmap,dr.fog,dr.lights,{emissive:{value:new cr(0)},specular:{value:new cr(1118481)},shininess:{value:30}}]),vertexShader:Vi.meshphong_vert,fragmentShader:Vi.meshphong_frag},standard:{uniforms:ps([dr.common,dr.envmap,dr.aomap,dr.lightmap,dr.emissivemap,dr.bumpmap,dr.normalmap,dr.displacementmap,dr.roughnessmap,dr.metalnessmap,dr.fog,dr.lights,{emissive:{value:new cr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Vi.meshphysical_vert,fragmentShader:Vi.meshphysical_frag},toon:{uniforms:ps([dr.common,dr.aomap,dr.lightmap,dr.emissivemap,dr.bumpmap,dr.normalmap,dr.displacementmap,dr.gradientmap,dr.fog,dr.lights,{emissive:{value:new cr(0)}}]),vertexShader:Vi.meshtoon_vert,fragmentShader:Vi.meshtoon_frag},matcap:{uniforms:ps([dr.common,dr.bumpmap,dr.normalmap,dr.displacementmap,dr.fog,{matcap:{value:null}}]),vertexShader:Vi.meshmatcap_vert,fragmentShader:Vi.meshmatcap_frag},points:{uniforms:ps([dr.points,dr.fog]),vertexShader:Vi.points_vert,fragmentShader:Vi.points_frag},dashed:{uniforms:ps([dr.common,dr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Vi.linedashed_vert,fragmentShader:Vi.linedashed_frag},depth:{uniforms:ps([dr.common,dr.displacementmap]),vertexShader:Vi.depth_vert,fragmentShader:Vi.depth_frag},normal:{uniforms:ps([dr.common,dr.bumpmap,dr.normalmap,dr.displacementmap,{opacity:{value:1}}]),vertexShader:Vi.meshnormal_vert,fragmentShader:Vi.meshnormal_frag},sprite:{uniforms:ps([dr.sprite,dr.fog]),vertexShader:Vi.sprite_vert,fragmentShader:Vi.sprite_frag},background:{uniforms:{uvTransform:{value:new ti},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Vi.background_vert,fragmentShader:Vi.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Vi.backgroundCube_vert,fragmentShader:Vi.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Vi.cube_vert,fragmentShader:Vi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Vi.equirect_vert,fragmentShader:Vi.equirect_frag},distanceRGBA:{uniforms:ps([dr.common,dr.displacementmap,{referencePosition:{value:new ce},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Vi.distanceRGBA_vert,fragmentShader:Vi.distanceRGBA_frag},shadow:{uniforms:ps([dr.lights,dr.fog,{color:{value:new cr(0)},opacity:{value:1}}]),vertexShader:Vi.shadow_vert,fragmentShader:Vi.shadow_frag}};b1.physical={uniforms:ps([b1.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ti},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ti},clearcoatNormalScale:{value:new dn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ti},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ti},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ti},sheen:{value:0},sheenColor:{value:new cr(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ti},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ti},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ti},transmissionSamplerSize:{value:new dn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ti},attenuationDistance:{value:0},attenuationColor:{value:new cr(0)},specularColor:{value:new cr(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ti},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ti}}]),vertexShader:Vi.meshphysical_vert,fragmentShader:Vi.meshphysical_frag};const Su={r:0,b:0,g:0};function yd(a,e,t,n,r,o,l){const c=new cr(0);let f=o===!0?0:1,d,m,g=null,v=0,C=null;function y(M,x){let U=!1,D=x.isScene===!0?x.background:null;switch(D&&D.isTexture&&(D=(x.backgroundBlurriness>0?t:e).get(D)),D===null?A(c,f):D&&D.isColor&&(A(D,1),U=!0),a.xr.getEnvironmentBlendMode()){case"opaque":U=!0;break;case"additive":n.buffers.color.setClear(0,0,0,1,l),U=!0;break;case"alpha-blend":n.buffers.color.setClear(0,0,0,0,l),U=!0;break}(a.autoClear||U)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil),D&&(D.isCubeTexture||D.mapping===qr)?(m===void 0&&(m=new Fo(new Za(1,1,1),new Ns({name:"BackgroundCubeMaterial",uniforms:x1(b1.backgroundCube.uniforms),vertexShader:b1.backgroundCube.vertexShader,fragmentShader:b1.backgroundCube.fragmentShader,side:mt,depthTest:!1,depthWrite:!1,fog:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(Me,Ne,nt){this.matrixWorld.copyPosition(nt.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(m)),m.material.uniforms.envMap.value=D,m.material.uniforms.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,m.material.toneMapped=D.colorSpace!==Fr,(g!==D||v!==D.version||C!==a.toneMapping)&&(m.material.needsUpdate=!0,g=D,v=D.version,C=a.toneMapping),m.layers.enableAll(),M.unshift(m,m.geometry,m.material,0,0,null)):D&&D.isTexture&&(d===void 0&&(d=new Fo(new Eo(2,2),new Ns({name:"BackgroundMaterial",uniforms:x1(b1.background.uniforms),vertexShader:b1.background.vertexShader,fragmentShader:b1.background.fragmentShader,side:ht,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(d)),d.material.uniforms.t2D.value=D,d.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,d.material.toneMapped=D.colorSpace!==Fr,D.matrixAutoUpdate===!0&&D.updateMatrix(),d.material.uniforms.uvTransform.value.copy(D.matrix),(g!==D||v!==D.version||C!==a.toneMapping)&&(d.material.needsUpdate=!0,g=D,v=D.version,C=a.toneMapping),d.layers.enableAll(),M.unshift(d,d.geometry,d.material,0,0,null))}function A(M,x){M.getRGB(Su,Sl(a)),n.buffers.color.setClear(Su.r,Su.g,Su.b,x,l)}return{getClearColor:function(){return c},setClearColor:function(M,x=1){c.set(M),f=x,A(c,f)},getClearAlpha:function(){return f},setClearAlpha:function(M){f=M,A(c,f)},render:y}}function wd(a,e,t,n){const r=a.getParameter(a.MAX_VERTEX_ATTRIBS),o=n.isWebGL2?null:e.get("OES_vertex_array_object"),l=n.isWebGL2||o!==null,c={},f=M(null);let d=f,m=!1;function g(Ut,Xt,Bn,Ln,Rn){let Un=!1;if(l){const Gn=A(Ln,Bn,Xt);d!==Gn&&(d=Gn,C(d.object)),Un=x(Ut,Ln,Bn,Rn),Un&&U(Ut,Ln,Bn,Rn)}else{const Gn=Xt.wireframe===!0;(d.geometry!==Ln.id||d.program!==Bn.id||d.wireframe!==Gn)&&(d.geometry=Ln.id,d.program=Bn.id,d.wireframe=Gn,Un=!0)}Rn!==null&&t.update(Rn,a.ELEMENT_ARRAY_BUFFER),(Un||m)&&(m=!1,nt(Ut,Xt,Bn,Ln),Rn!==null&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,t.get(Rn).buffer))}function v(){return n.isWebGL2?a.createVertexArray():o.createVertexArrayOES()}function C(Ut){return n.isWebGL2?a.bindVertexArray(Ut):o.bindVertexArrayOES(Ut)}function y(Ut){return n.isWebGL2?a.deleteVertexArray(Ut):o.deleteVertexArrayOES(Ut)}function A(Ut,Xt,Bn){const Ln=Bn.wireframe===!0;let Rn=c[Ut.id];Rn===void 0&&(Rn={},c[Ut.id]=Rn);let Un=Rn[Xt.id];Un===void 0&&(Un={},Rn[Xt.id]=Un);let Gn=Un[Ln];return Gn===void 0&&(Gn=M(v()),Un[Ln]=Gn),Gn}function M(Ut){const Xt=[],Bn=[],Ln=[];for(let Rn=0;Rn<r;Rn++)Xt[Rn]=0,Bn[Rn]=0,Ln[Rn]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Xt,enabledAttributes:Bn,attributeDivisors:Ln,object:Ut,attributes:{},index:null}}function x(Ut,Xt,Bn,Ln){const Rn=d.attributes,Un=Xt.attributes;let Gn=0;const Ar=Bn.getAttributes();for(const yr in Ar)if(Ar[yr].location>=0){const Hn=Rn[yr];let vr=Un[yr];if(vr===void 0&&(yr==="instanceMatrix"&&Ut.instanceMatrix&&(vr=Ut.instanceMatrix),yr==="instanceColor"&&Ut.instanceColor&&(vr=Ut.instanceColor)),Hn===void 0||Hn.attribute!==vr||vr&&Hn.data!==vr.data)return!0;Gn++}return d.attributesNum!==Gn||d.index!==Ln}function U(Ut,Xt,Bn,Ln){const Rn={},Un=Xt.attributes;let Gn=0;const Ar=Bn.getAttributes();for(const yr in Ar)if(Ar[yr].location>=0){let Hn=Un[yr];Hn===void 0&&(yr==="instanceMatrix"&&Ut.instanceMatrix&&(Hn=Ut.instanceMatrix),yr==="instanceColor"&&Ut.instanceColor&&(Hn=Ut.instanceColor));const vr={};vr.attribute=Hn,Hn&&Hn.data&&(vr.data=Hn.data),Rn[yr]=vr,Gn++}d.attributes=Rn,d.attributesNum=Gn,d.index=Ln}function D(){const Ut=d.newAttributes;for(let Xt=0,Bn=Ut.length;Xt<Bn;Xt++)Ut[Xt]=0}function ne(Ut){ue(Ut,0)}function ue(Ut,Xt){const Bn=d.newAttributes,Ln=d.enabledAttributes,Rn=d.attributeDivisors;Bn[Ut]=1,Ln[Ut]===0&&(a.enableVertexAttribArray(Ut),Ln[Ut]=1),Rn[Ut]!==Xt&&((n.isWebGL2?a:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Ut,Xt),Rn[Ut]=Xt)}function Me(){const Ut=d.newAttributes,Xt=d.enabledAttributes;for(let Bn=0,Ln=Xt.length;Bn<Ln;Bn++)Xt[Bn]!==Ut[Bn]&&(a.disableVertexAttribArray(Bn),Xt[Bn]=0)}function Ne(Ut,Xt,Bn,Ln,Rn,Un){n.isWebGL2===!0&&(Bn===a.INT||Bn===a.UNSIGNED_INT)?a.vertexAttribIPointer(Ut,Xt,Bn,Rn,Un):a.vertexAttribPointer(Ut,Xt,Bn,Ln,Rn,Un)}function nt(Ut,Xt,Bn,Ln){if(n.isWebGL2===!1&&(Ut.isInstancedMesh||Ln.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;D();const Rn=Ln.attributes,Un=Bn.getAttributes(),Gn=Xt.defaultAttributeValues;for(const Ar in Un){const yr=Un[Ar];if(yr.location>=0){let tn=Rn[Ar];if(tn===void 0&&(Ar==="instanceMatrix"&&Ut.instanceMatrix&&(tn=Ut.instanceMatrix),Ar==="instanceColor"&&Ut.instanceColor&&(tn=Ut.instanceColor)),tn!==void 0){const Hn=tn.normalized,vr=tn.itemSize,wr=t.get(tn);if(wr===void 0)continue;const ot=wr.buffer,Ri=wr.type,Ii=wr.bytesPerElement;if(tn.isInterleavedBufferAttribute){const lr=tn.data,Zr=lr.stride,kn=tn.offset;if(lr.isInstancedInterleavedBuffer){for(let mn=0;mn<yr.locationSize;mn++)ue(yr.location+mn,lr.meshPerAttribute);Ut.isInstancedMesh!==!0&&Ln._maxInstanceCount===void 0&&(Ln._maxInstanceCount=lr.meshPerAttribute*lr.count)}else for(let mn=0;mn<yr.locationSize;mn++)ne(yr.location+mn);a.bindBuffer(a.ARRAY_BUFFER,ot);for(let mn=0;mn<yr.locationSize;mn++)Ne(yr.location+mn,vr/yr.locationSize,Ri,Hn,Zr*Ii,(kn+vr/yr.locationSize*mn)*Ii)}else{if(tn.isInstancedBufferAttribute){for(let lr=0;lr<yr.locationSize;lr++)ue(yr.location+lr,tn.meshPerAttribute);Ut.isInstancedMesh!==!0&&Ln._maxInstanceCount===void 0&&(Ln._maxInstanceCount=tn.meshPerAttribute*tn.count)}else for(let lr=0;lr<yr.locationSize;lr++)ne(yr.location+lr);a.bindBuffer(a.ARRAY_BUFFER,ot);for(let lr=0;lr<yr.locationSize;lr++)Ne(yr.location+lr,vr/yr.locationSize,Ri,Hn,vr*Ii,vr/yr.locationSize*lr*Ii)}}else if(Gn!==void 0){const Hn=Gn[Ar];if(Hn!==void 0)switch(Hn.length){case 2:a.vertexAttrib2fv(yr.location,Hn);break;case 3:a.vertexAttrib3fv(yr.location,Hn);break;case 4:a.vertexAttrib4fv(yr.location,Hn);break;default:a.vertexAttrib1fv(yr.location,Hn)}}}}Me()}function G(){pn();for(const Ut in c){const Xt=c[Ut];for(const Bn in Xt){const Ln=Xt[Bn];for(const Rn in Ln)y(Ln[Rn].object),delete Ln[Rn];delete Xt[Bn]}delete c[Ut]}}function Ee(Ut){if(c[Ut.id]===void 0)return;const Xt=c[Ut.id];for(const Bn in Xt){const Ln=Xt[Bn];for(const Rn in Ln)y(Ln[Rn].object),delete Ln[Rn];delete Xt[Bn]}delete c[Ut.id]}function $t(Ut){for(const Xt in c){const Bn=c[Xt];if(Bn[Ut.id]===void 0)continue;const Ln=Bn[Ut.id];for(const Rn in Ln)y(Ln[Rn].object),delete Ln[Rn];delete Bn[Ut.id]}}function pn(){St(),m=!0,d!==f&&(d=f,C(d.object))}function St(){f.geometry=null,f.program=null,f.wireframe=!1}return{setup:g,reset:pn,resetDefaultState:St,dispose:G,releaseStatesOfGeometry:Ee,releaseStatesOfProgram:$t,initAttributes:D,enableAttribute:ne,disableUnusedAttributes:Me}}function Md(a,e,t,n){const r=n.isWebGL2;let o;function l(d){o=d}function c(d,m){a.drawArrays(o,d,m),t.update(m,o,1)}function f(d,m,g){if(g===0)return;let v,C;if(r)v=a,C="drawArraysInstanced";else if(v=e.get("ANGLE_instanced_arrays"),C="drawArraysInstancedANGLE",v===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[C](o,d,m,g),t.update(m,o,g)}this.setMode=l,this.render=c,this.renderInstances=f}function bd(a,e,t){let n;function r(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const Ne=e.get("EXT_texture_filter_anisotropic");n=a.getParameter(Ne.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function o(Ne){if(Ne==="highp"){if(a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision>0&&a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision>0)return"highp";Ne="mediump"}return Ne==="mediump"&&a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision>0&&a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const l=typeof WebGL2RenderingContext!="undefined"&&a.constructor.name==="WebGL2RenderingContext";let c=t.precision!==void 0?t.precision:"highp";const f=o(c);f!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",f,"instead."),c=f);const d=l||e.has("WEBGL_draw_buffers"),m=t.logarithmicDepthBuffer===!0,g=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),v=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS),C=a.getParameter(a.MAX_TEXTURE_SIZE),y=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),A=a.getParameter(a.MAX_VERTEX_ATTRIBS),M=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS),x=a.getParameter(a.MAX_VARYING_VECTORS),U=a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS),D=v>0,ne=l||e.has("OES_texture_float"),ue=D&&ne,Me=l?a.getParameter(a.MAX_SAMPLES):0;return{isWebGL2:l,drawBuffers:d,getMaxAnisotropy:r,getMaxPrecision:o,precision:c,logarithmicDepthBuffer:m,maxTextures:g,maxVertexTextures:v,maxTextureSize:C,maxCubemapSize:y,maxAttributes:A,maxVertexUniforms:M,maxVaryings:x,maxFragmentUniforms:U,vertexTextures:D,floatFragmentTextures:ne,floatVertexTextures:ue,maxSamples:Me}}function Sd(a){const e=this;let t=null,n=0,r=!1,o=!1;const l=new li,c=new ti,f={value:null,needsUpdate:!1};this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(g,v){const C=g.length!==0||v||n!==0||r;return r=v,n=g.length,C},this.beginShadows=function(){o=!0,m(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(g,v){t=m(g,v,0)},this.setState=function(g,v,C){const y=g.clippingPlanes,A=g.clipIntersection,M=g.clipShadows,x=a.get(g);if(!r||y===null||y.length===0||o&&!M)o?m(null):d();else{const U=o?0:n,D=U*4;let ne=x.clippingState||null;f.value=ne,ne=m(y,v,D,C);for(let ue=0;ue!==D;++ue)ne[ue]=t[ue];x.clippingState=ne,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=U}};function d(){f.value!==t&&(f.value=t,f.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function m(g,v,C,y){const A=g!==null?g.length:0;let M=null;if(A!==0){if(M=f.value,y!==!0||M===null){const x=C+A*4,U=v.matrixWorldInverse;c.getNormalMatrix(U),(M===null||M.length<x)&&(M=new Float32Array(x));for(let D=0,ne=C;D!==A;++D,ne+=4)l.copy(g[D]).applyMatrix4(U,c),l.normal.toArray(M,ne),M[ne+3]=l.constant}f.value=M,f.needsUpdate=!0}return e.numPlanes=A,e.numIntersection=0,M}}function Ed(a){let e=new WeakMap;function t(l,c){return c===An?l.mapping=Tn:c===Rr&&(l.mapping=an),l}function n(l){if(l&&l.isTexture&&l.isRenderTargetTexture===!1){const c=l.mapping;if(c===An||c===Rr)if(e.has(l)){const f=e.get(l).texture;return t(f,l.mapping)}else{const f=l.image;if(f&&f.height>0){const d=new bc(f.height/2);return d.fromEquirectangularTexture(a,l),e.set(l,d),l.addEventListener("dispose",r),t(d.texture,l.mapping)}else return null}}return l}function r(l){const c=l.target;c.removeEventListener("dispose",r);const f=e.get(c);f!==void 0&&(e.delete(c),f.dispose())}function o(){e=new WeakMap}return{get:n,dispose:o}}class Eu extends t1{constructor(e=-1,t=1,n=1,r=-1,o=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,o,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=n-e,l=n+e,c=r+t,f=r-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=d*this.view.offsetX,l=o+d*this.view.width,c-=m*this.view.offsetY,f=c-m*this.view.height}this.projectionMatrix.makeOrthographic(o,l,c,f,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Oc=4,Q0=[.125,.215,.35,.446,.526,.582],lc=20,p0=new Eu,ef=new cr;let m0=null;const cc=(1+Math.sqrt(5))/2,Dc=1/cc,tf=[new ce(1,1,1),new ce(-1,1,1),new ce(1,1,-1),new ce(-1,1,-1),new ce(0,cc,Dc),new ce(0,cc,-Dc),new ce(Dc,0,cc),new ce(-Dc,0,cc),new ce(cc,Dc,0),new ce(-cc,Dc,0)];class g0{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){m0=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,n,r,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=of(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=rf(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(m0),e.scissorTest=!1,Ru(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Tn||e.mapping===an?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),m0=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Jn,minFilter:Jn,generateMipmaps:!1,type:We,format:Hr,colorSpace:Wo,depthBuffer:!1},r=nf(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=nf(e,t,n);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Rd(o)),this._blurMaterial=Ld(o,e,t)}return r}_compileMaterial(e){const t=new Fo(this._lodPlanes[0],e);this._renderer.compile(t,p0)}_sceneToCubeUV(e,t,n,r){const c=new Zo(90,1,t,n),f=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],m=this._renderer,g=m.autoClear,v=m.toneMapping;m.getClearColor(ef),m.toneMapping=xt,m.autoClear=!1;const C=new La({name:"PMREM.Background",side:mt,depthWrite:!1,depthTest:!1}),y=new Fo(new Za,C);let A=!1;const M=e.background;M?M.isColor&&(C.color.copy(M),e.background=null,A=!0):(C.color.copy(ef),A=!0);for(let x=0;x<6;x++){const U=x%3;U===0?(c.up.set(0,f[x],0),c.lookAt(d[x],0,0)):U===1?(c.up.set(0,0,f[x]),c.lookAt(0,d[x],0)):(c.up.set(0,f[x],0),c.lookAt(0,0,d[x]));const D=this._cubeSize;Ru(r,U*D,x>2?D:0,D,D),m.setRenderTarget(r),A&&m.render(y,c),m.render(e,c)}y.geometry.dispose(),y.material.dispose(),m.toneMapping=v,m.autoClear=g,e.background=M}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===Tn||e.mapping===an;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=of()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=rf());const o=r?this._cubemapMaterial:this._equirectMaterial,l=new Fo(this._lodPlanes[0],o),c=o.uniforms;c.envMap.value=e;const f=this._cubeSize;Ru(t,0,0,3*f,2*f),n.setRenderTarget(t),n.render(l,p0)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),l=tf[(r-1)%tf.length];this._blur(e,r-1,r,o,l)}t.autoClear=n}_blur(e,t,n,r,o){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,n,r,"latitudinal",o),this._halfBlur(l,e,n,n,r,"longitudinal",o)}_halfBlur(e,t,n,r,o,l,c){const f=this._renderer,d=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,g=new Fo(this._lodPlanes[r],d),v=d.uniforms,C=this._sizeLods[n]-1,y=isFinite(o)?Math.PI/(2*C):2*Math.PI/(2*lc-1),A=o/y,M=isFinite(o)?1+Math.floor(m*A):lc;M>lc&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${M} samples when the maximum is set to ${lc}`);const x=[];let U=0;for(let Ne=0;Ne<lc;++Ne){const nt=Ne/A,G=Math.exp(-nt*nt/2);x.push(G),Ne===0?U+=G:Ne<M&&(U+=2*G)}for(let Ne=0;Ne<x.length;Ne++)x[Ne]=x[Ne]/U;v.envMap.value=e.texture,v.samples.value=M,v.weights.value=x,v.latitudinal.value=l==="latitudinal",c&&(v.poleAxis.value=c);const{_lodMax:D}=this;v.dTheta.value=y,v.mipInt.value=D-n;const ne=this._sizeLods[r],ue=3*ne*(r>D-Oc?r-D+Oc:0),Me=4*(this._cubeSize-ne);Ru(t,ue,Me,3*ne,2*ne),f.setRenderTarget(t),f.render(g,p0)}}function Rd(a){const e=[],t=[],n=[];let r=a;const o=a-Oc+1+Q0.length;for(let l=0;l<o;l++){const c=Math.pow(2,r);t.push(c);let f=1/c;l>a-Oc?f=Q0[l-a+Oc-1]:l===0&&(f=0),n.push(f);const d=1/(c-2),m=-d,g=1+d,v=[m,m,g,m,g,g,m,m,g,g,m,g],C=6,y=6,A=3,M=2,x=1,U=new Float32Array(A*y*C),D=new Float32Array(M*y*C),ne=new Float32Array(x*y*C);for(let Me=0;Me<C;Me++){const Ne=Me%3*2/3-1,nt=Me>2?0:-1,G=[Ne,nt,0,Ne+2/3,nt,0,Ne+2/3,nt+1,0,Ne,nt,0,Ne+2/3,nt+1,0,Ne,nt+1,0];U.set(G,A*y*Me),D.set(v,M*y*Me);const Ee=[Me,Me,Me,Me,Me,Me];ne.set(Ee,x*y*Me)}const ue=new gn;ue.setAttribute("position",new lo(U,A)),ue.setAttribute("uv",new lo(D,M)),ue.setAttribute("faceIndex",new lo(ne,x)),e.push(ue),r>Oc&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function nf(a,e,t){const n=new Ki(a,e,t);return n.texture.mapping=qr,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Ru(a,e,t,n,r){a.viewport.set(e,t,n,r),a.scissor.set(e,t,n,r)}function Ld(a,e,t){const n=new Float32Array(lc),r=new ce(0,1,0);return new Ns({name:"SphericalGaussianBlur",defines:{n:lc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${a}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:v0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:zn,depthTest:!1,depthWrite:!1})}function rf(){return new Ns({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:v0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:zn,depthTest:!1,depthWrite:!1})}function of(){return new Ns({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:v0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:zn,depthTest:!1,depthWrite:!1})}function v0(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Td(a){let e=new WeakMap,t=null;function n(c){if(c&&c.isTexture){const f=c.mapping,d=f===An||f===Rr,m=f===Tn||f===an;if(d||m)if(c.isRenderTargetTexture&&c.needsPMREMUpdate===!0){c.needsPMREMUpdate=!1;let g=e.get(c);return t===null&&(t=new g0(a)),g=d?t.fromEquirectangular(c,g):t.fromCubemap(c,g),e.set(c,g),g.texture}else{if(e.has(c))return e.get(c).texture;{const g=c.image;if(d&&g&&g.height>0||m&&g&&r(g)){t===null&&(t=new g0(a));const v=d?t.fromEquirectangular(c):t.fromCubemap(c);return e.set(c,v),c.addEventListener("dispose",o),v.texture}else return null}}}return c}function r(c){let f=0;const d=6;for(let m=0;m<d;m++)c[m]!==void 0&&f++;return f===d}function o(c){const f=c.target;f.removeEventListener("dispose",o);const d=e.get(f);d!==void 0&&(e.delete(f),d.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:l}}function Ad(a){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=a.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const r=t(n);return r===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function Pd(a,e,t,n){const r={},o=new WeakMap;function l(g){const v=g.target;v.index!==null&&e.remove(v.index);for(const y in v.attributes)e.remove(v.attributes[y]);v.removeEventListener("dispose",l),delete r[v.id];const C=o.get(v);C&&(e.remove(C),o.delete(v)),n.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function c(g,v){return r[v.id]===!0||(v.addEventListener("dispose",l),r[v.id]=!0,t.memory.geometries++),v}function f(g){const v=g.attributes;for(const y in v)e.update(v[y],a.ARRAY_BUFFER);const C=g.morphAttributes;for(const y in C){const A=C[y];for(let M=0,x=A.length;M<x;M++)e.update(A[M],a.ARRAY_BUFFER)}}function d(g){const v=[],C=g.index,y=g.attributes.position;let A=0;if(C!==null){const U=C.array;A=C.version;for(let D=0,ne=U.length;D<ne;D+=3){const ue=U[D+0],Me=U[D+1],Ne=U[D+2];v.push(ue,Me,Me,Ne,Ne,ue)}}else{const U=y.array;A=y.version;for(let D=0,ne=U.length/3-1;D<ne;D+=3){const ue=D+0,Me=D+1,Ne=D+2;v.push(ue,Me,Me,Ne,Ne,ue)}}const M=new(Na(v)?Ml:e1)(v,1);M.version=A;const x=o.get(g);x&&e.remove(x),o.set(g,M)}function m(g){const v=o.get(g);if(v){const C=g.index;C!==null&&v.version<C.version&&d(g)}else d(g);return o.get(g)}return{get:c,update:f,getWireframeAttribute:m}}function Id(a,e,t,n){const r=n.isWebGL2;let o;function l(v){o=v}let c,f;function d(v){c=v.type,f=v.bytesPerElement}function m(v,C){a.drawElements(o,C,c,v*f),t.update(C,o,1)}function g(v,C,y){if(y===0)return;let A,M;if(r)A=a,M="drawElementsInstanced";else if(A=e.get("ANGLE_instanced_arrays"),M="drawElementsInstancedANGLE",A===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}A[M](o,C,c,v*f,y),t.update(C,o,y)}this.setMode=l,this.setIndex=d,this.render=m,this.renderInstances=g}function Od(a){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(o,l,c){switch(t.calls++,l){case a.TRIANGLES:t.triangles+=c*(o/3);break;case a.LINES:t.lines+=c*(o/2);break;case a.LINE_STRIP:t.lines+=c*(o-1);break;case a.LINE_LOOP:t.lines+=c*o;break;case a.POINTS:t.points+=c*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function Dd(a,e){return a[0]-e[0]}function Hd(a,e){return Math.abs(e[1])-Math.abs(a[1])}function zd(a,e,t){const n={},r=new Float32Array(8),o=new WeakMap,l=new kr,c=[];for(let d=0;d<8;d++)c[d]=[d,0];function f(d,m,g){const v=d.morphTargetInfluences;if(e.isWebGL2===!0){const C=m.morphAttributes.position||m.morphAttributes.normal||m.morphAttributes.color,y=C!==void 0?C.length:0;let A=o.get(m);if(A===void 0||A.count!==y){let Ut=function(){pn.dispose(),o.delete(m),m.removeEventListener("dispose",Ut)};A!==void 0&&A.texture.dispose();const U=m.morphAttributes.position!==void 0,D=m.morphAttributes.normal!==void 0,ne=m.morphAttributes.color!==void 0,ue=m.morphAttributes.position||[],Me=m.morphAttributes.normal||[],Ne=m.morphAttributes.color||[];let nt=0;U===!0&&(nt=1),D===!0&&(nt=2),ne===!0&&(nt=3);let G=m.attributes.position.count*nt,Ee=1;G>e.maxTextureSize&&(Ee=Math.ceil(G/e.maxTextureSize),G=e.maxTextureSize);const $t=new Float32Array(G*Ee*4*y),pn=new Jo($t,G,Ee,y);pn.type=oe,pn.needsUpdate=!0;const St=nt*4;for(let Xt=0;Xt<y;Xt++){const Bn=ue[Xt],Ln=Me[Xt],Rn=Ne[Xt],Un=G*Ee*4*Xt;for(let Gn=0;Gn<Bn.count;Gn++){const Ar=Gn*St;U===!0&&(l.fromBufferAttribute(Bn,Gn),$t[Un+Ar+0]=l.x,$t[Un+Ar+1]=l.y,$t[Un+Ar+2]=l.z,$t[Un+Ar+3]=0),D===!0&&(l.fromBufferAttribute(Ln,Gn),$t[Un+Ar+4]=l.x,$t[Un+Ar+5]=l.y,$t[Un+Ar+6]=l.z,$t[Un+Ar+7]=0),ne===!0&&(l.fromBufferAttribute(Rn,Gn),$t[Un+Ar+8]=l.x,$t[Un+Ar+9]=l.y,$t[Un+Ar+10]=l.z,$t[Un+Ar+11]=Rn.itemSize===4?l.w:1)}}A={count:y,texture:pn,size:new dn(G,Ee)},o.set(m,A),m.addEventListener("dispose",Ut)}let M=0;for(let U=0;U<v.length;U++)M+=v[U];const x=m.morphTargetsRelative?1:1-M;g.getUniforms().setValue(a,"morphTargetBaseInfluence",x),g.getUniforms().setValue(a,"morphTargetInfluences",v),g.getUniforms().setValue(a,"morphTargetsTexture",A.texture,t),g.getUniforms().setValue(a,"morphTargetsTextureSize",A.size)}else{const C=v===void 0?0:v.length;let y=n[m.id];if(y===void 0||y.length!==C){y=[];for(let D=0;D<C;D++)y[D]=[D,0];n[m.id]=y}for(let D=0;D<C;D++){const ne=y[D];ne[0]=D,ne[1]=v[D]}y.sort(Hd);for(let D=0;D<8;D++)D<C&&y[D][1]?(c[D][0]=y[D][0],c[D][1]=y[D][1]):(c[D][0]=Number.MAX_SAFE_INTEGER,c[D][1]=0);c.sort(Dd);const A=m.morphAttributes.position,M=m.morphAttributes.normal;let x=0;for(let D=0;D<8;D++){const ne=c[D],ue=ne[0],Me=ne[1];ue!==Number.MAX_SAFE_INTEGER&&Me?(A&&m.getAttribute("morphTarget"+D)!==A[ue]&&m.setAttribute("morphTarget"+D,A[ue]),M&&m.getAttribute("morphNormal"+D)!==M[ue]&&m.setAttribute("morphNormal"+D,M[ue]),r[D]=Me,x+=Me):(A&&m.hasAttribute("morphTarget"+D)===!0&&m.deleteAttribute("morphTarget"+D),M&&m.hasAttribute("morphNormal"+D)===!0&&m.deleteAttribute("morphNormal"+D),r[D]=0)}const U=m.morphTargetsRelative?1:1-x;g.getUniforms().setValue(a,"morphTargetBaseInfluence",U),g.getUniforms().setValue(a,"morphTargetInfluences",r)}}return{update:f}}function Nd(a,e,t,n){let r=new WeakMap;function o(f){const d=n.render.frame,m=f.geometry,g=e.get(f,m);return r.get(g)!==d&&(e.update(g),r.set(g,d)),f.isInstancedMesh&&(f.hasEventListener("dispose",c)===!1&&f.addEventListener("dispose",c),t.update(f.instanceMatrix,a.ARRAY_BUFFER),f.instanceColor!==null&&t.update(f.instanceColor,a.ARRAY_BUFFER)),g}function l(){r=new WeakMap}function c(f){const d=f.target;d.removeEventListener("dispose",c),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:o,dispose:l}}const sf=new hi,af=new Jo,lf=new fs,cf=new y1,uf=[],ff=[],df=new Float32Array(16),hf=new Float32Array(9),pf=new Float32Array(4);function Hc(a,e,t){const n=a[0];if(n<=0||n>0)return a;const r=e*t;let o=uf[r];if(o===void 0&&(o=new Float32Array(r),uf[r]=o),e!==0){n.toArray(o,0);for(let l=1,c=0;l!==e;++l)c+=t,a[l].toArray(o,c)}return o}function Ls(a,e){if(a.length!==e.length)return!1;for(let t=0,n=a.length;t<n;t++)if(a[t]!==e[t])return!1;return!0}function Ts(a,e){for(let t=0,n=e.length;t<n;t++)a[t]=e[t]}function Lu(a,e){let t=ff[e];t===void 0&&(t=new Int32Array(e),ff[e]=t);for(let n=0;n!==e;++n)t[n]=a.allocateTextureUnit();return t}function Bd(a,e){const t=this.cache;t[0]!==e&&(a.uniform1f(this.addr,e),t[0]=e)}function Ud(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(a.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ls(t,e))return;a.uniform2fv(this.addr,e),Ts(t,e)}}function Vd(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(a.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(a.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ls(t,e))return;a.uniform3fv(this.addr,e),Ts(t,e)}}function Fd(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(a.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ls(t,e))return;a.uniform4fv(this.addr,e),Ts(t,e)}}function kd(a,e){const t=this.cache,n=e.elements;if(n===void 0){if(Ls(t,e))return;a.uniformMatrix2fv(this.addr,!1,e),Ts(t,e)}else{if(Ls(t,n))return;pf.set(n),a.uniformMatrix2fv(this.addr,!1,pf),Ts(t,n)}}function $d(a,e){const t=this.cache,n=e.elements;if(n===void 0){if(Ls(t,e))return;a.uniformMatrix3fv(this.addr,!1,e),Ts(t,e)}else{if(Ls(t,n))return;hf.set(n),a.uniformMatrix3fv(this.addr,!1,hf),Ts(t,n)}}function Wd(a,e){const t=this.cache,n=e.elements;if(n===void 0){if(Ls(t,e))return;a.uniformMatrix4fv(this.addr,!1,e),Ts(t,e)}else{if(Ls(t,n))return;df.set(n),a.uniformMatrix4fv(this.addr,!1,df),Ts(t,n)}}function Zd(a,e){const t=this.cache;t[0]!==e&&(a.uniform1i(this.addr,e),t[0]=e)}function jd(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(a.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ls(t,e))return;a.uniform2iv(this.addr,e),Ts(t,e)}}function Gd(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(a.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ls(t,e))return;a.uniform3iv(this.addr,e),Ts(t,e)}}function Xd(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(a.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ls(t,e))return;a.uniform4iv(this.addr,e),Ts(t,e)}}function Yd(a,e){const t=this.cache;t[0]!==e&&(a.uniform1ui(this.addr,e),t[0]=e)}function Kd(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(a.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ls(t,e))return;a.uniform2uiv(this.addr,e),Ts(t,e)}}function Jd(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(a.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ls(t,e))return;a.uniform3uiv(this.addr,e),Ts(t,e)}}function qd(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(a.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ls(t,e))return;a.uniform4uiv(this.addr,e),Ts(t,e)}}function mf(a,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(a.uniform1i(this.addr,r),n[0]=r),t.setTexture2D(e||sf,r)}function gf(a,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(a.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||lf,r)}function Qd(a,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(a.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||cf,r)}function e2(a,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(a.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||af,r)}function t2(a){switch(a){case 5126:return Bd;case 35664:return Ud;case 35665:return Vd;case 35666:return Fd;case 35674:return kd;case 35675:return $d;case 35676:return Wd;case 5124:case 35670:return Zd;case 35667:case 35671:return jd;case 35668:case 35672:return Gd;case 35669:case 35673:return Xd;case 5125:return Yd;case 36294:return Kd;case 36295:return Jd;case 36296:return qd;case 35678:case 36198:case 36298:case 36306:case 35682:return mf;case 35679:case 36299:case 36307:return gf;case 35680:case 36300:case 36308:case 36293:return Qd;case 36289:case 36303:case 36311:case 36292:return e2}}function n2(a,e){a.uniform1fv(this.addr,e)}function vf(a,e){const t=Hc(e,this.size,2);a.uniform2fv(this.addr,t)}function Cf(a,e){const t=Hc(e,this.size,3);a.uniform3fv(this.addr,t)}function r2(a,e){const t=Hc(e,this.size,4);a.uniform4fv(this.addr,t)}function i2(a,e){const t=Hc(e,this.size,4);a.uniformMatrix2fv(this.addr,!1,t)}function o2(a,e){const t=Hc(e,this.size,9);a.uniformMatrix3fv(this.addr,!1,t)}function s2(a,e){const t=Hc(e,this.size,16);a.uniformMatrix4fv(this.addr,!1,t)}function _f(a,e){a.uniform1iv(this.addr,e)}function xf(a,e){a.uniform2iv(this.addr,e)}function a2(a,e){a.uniform3iv(this.addr,e)}function l2(a,e){a.uniform4iv(this.addr,e)}function yf(a,e){a.uniform1uiv(this.addr,e)}function wf(a,e){a.uniform2uiv(this.addr,e)}function c2(a,e){a.uniform3uiv(this.addr,e)}function u2(a,e){a.uniform4uiv(this.addr,e)}function f2(a,e,t){const n=this.cache,r=e.length,o=Lu(t,r);Ls(n,o)||(a.uniform1iv(this.addr,o),Ts(n,o));for(let l=0;l!==r;++l)t.setTexture2D(e[l]||sf,o[l])}function d2(a,e,t){const n=this.cache,r=e.length,o=Lu(t,r);Ls(n,o)||(a.uniform1iv(this.addr,o),Ts(n,o));for(let l=0;l!==r;++l)t.setTexture3D(e[l]||lf,o[l])}function h2(a,e,t){const n=this.cache,r=e.length,o=Lu(t,r);Ls(n,o)||(a.uniform1iv(this.addr,o),Ts(n,o));for(let l=0;l!==r;++l)t.setTextureCube(e[l]||cf,o[l])}function p2(a,e,t){const n=this.cache,r=e.length,o=Lu(t,r);Ls(n,o)||(a.uniform1iv(this.addr,o),Ts(n,o));for(let l=0;l!==r;++l)t.setTexture2DArray(e[l]||af,o[l])}function Mf(a){switch(a){case 5126:return n2;case 35664:return vf;case 35665:return Cf;case 35666:return r2;case 35674:return i2;case 35675:return o2;case 35676:return s2;case 5124:case 35670:return _f;case 35667:case 35671:return xf;case 35668:case 35672:return a2;case 35669:case 35673:return l2;case 5125:return yf;case 36294:return wf;case 36295:return c2;case 36296:return u2;case 35678:case 36198:case 36298:case 36306:case 35682:return f2;case 35679:case 36299:case 36307:return d2;case 35680:case 36300:case 36308:case 36293:return h2;case 36289:case 36303:case 36311:case 36292:return p2}}class bf{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=t2(t.type)}}class m2{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=Mf(t.type)}}class g2{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let o=0,l=r.length;o!==l;++o){const c=r[o];c.setValue(e,t[c.id],n)}}}const C0=/(\w+)(\])?(\[|\.)?/g;function Sf(a,e){a.seq.push(e),a.map[e.id]=e}function v2(a,e,t){const n=a.name,r=n.length;for(C0.lastIndex=0;;){const o=C0.exec(n),l=C0.lastIndex;let c=o[1];const f=o[2]==="]",d=o[3];if(f&&(c=c|0),d===void 0||d==="["&&l+2===r){Sf(t,d===void 0?new bf(c,a,e):new m2(c,a,e));break}else{let g=t.map[c];g===void 0&&(g=new g2(c),Sf(t,g)),t=g}}}class Tu{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const o=e.getActiveUniform(t,r),l=e.getUniformLocation(t,o.name);v2(o,l,this)}}setValue(e,t,n,r){const o=this.map[t];o!==void 0&&o.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let o=0,l=t.length;o!==l;++o){const c=t[o],f=n[c.id];f.needsUpdate!==!1&&c.setValue(e,f.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,o=e.length;r!==o;++r){const l=e[r];l.id in t&&n.push(l)}return n}}function Ef(a,e,t){const n=a.createShader(e);return a.shaderSource(n,t),a.compileShader(n),n}let C2=0;function _2(a,e){const t=a.split(`
`),n=[],r=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let l=r;l<o;l++){const c=l+1;n.push(`${c===e?">":" "} ${c}: ${t[l]}`)}return n.join(`
`)}function x2(a){switch(a){case Wo:return["Linear","( value )"];case Fr:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",a),["Linear","( value )"]}}function Rf(a,e,t){const n=a.getShaderParameter(e,a.COMPILE_STATUS),r=a.getShaderInfoLog(e).trim();if(n&&r==="")return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const l=parseInt(o[1]);return t.toUpperCase()+`

`+r+`

`+_2(a.getShaderSource(e),l)}else return r}function y2(a,e){const t=x2(e);return"vec4 "+a+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function w2(a,e){let t;switch(e){case dt:t="Linear";break;case ze:t="Reinhard";break;case zt:t="OptimizedCineon";break;case un:t="ACESFilmic";break;case Sn:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+a+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function M2(a){return[a.extensionDerivatives||a.envMapCubeUVHeight||a.bumpMap||a.normalMapTangentSpace||a.clearcoatNormalMap||a.flatShading||a.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(a.extensionFragDepth||a.logarithmicDepthBuffer)&&a.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",a.extensionDrawBuffers&&a.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(a.extensionShaderTextureLOD||a.envMap||a.transmission)&&a.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ou).join(`
`)}function b2(a){const e=[];for(const t in a){const n=a[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function S2(a,e){const t={},n=a.getProgramParameter(e,a.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const o=a.getActiveAttrib(e,r),l=o.name;let c=1;o.type===a.FLOAT_MAT2&&(c=2),o.type===a.FLOAT_MAT3&&(c=3),o.type===a.FLOAT_MAT4&&(c=4),t[l]={type:o.type,location:a.getAttribLocation(e,l),locationSize:c}}return t}function ou(a){return a!==""}function Lf(a,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return a.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Tf(a,e){return a.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const E2=/^[ \t]*#include +<([\w\d./]+)>/gm;function _0(a){return a.replace(E2,R2)}function R2(a,e){const t=Vi[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return _0(t)}const L2=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Af(a){return a.replace(L2,$)}function $(a,e,t,n){let r="";for(let o=parseInt(e);o<parseInt(t);o++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function J(a){let e="precision "+a.precision+` float;
precision `+a.precision+" int;";return a.precision==="highp"?e+=`
#define HIGH_PRECISION`:a.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:a.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Z(a){let e="SHADOWMAP_TYPE_BASIC";return a.shadowMapType===Ft?e="SHADOWMAP_TYPE_PCF":a.shadowMapType===wt?e="SHADOWMAP_TYPE_PCF_SOFT":a.shadowMapType===gt&&(e="SHADOWMAP_TYPE_VSM"),e}function X(a){let e="ENVMAP_TYPE_CUBE";if(a.envMap)switch(a.envMapMode){case Tn:case an:e="ENVMAP_TYPE_CUBE";break;case qr:e="ENVMAP_TYPE_CUBE_UV";break}return e}function K(a){let e="ENVMAP_MODE_REFLECTION";if(a.envMap)switch(a.envMapMode){case an:e="ENVMAP_MODE_REFRACTION";break}return e}function su(a){let e="ENVMAP_BLENDING_NONE";if(a.envMap)switch(a.combine){case me:e="ENVMAP_BLENDING_MULTIPLY";break;case Pt:e="ENVMAP_BLENDING_MIX";break;case kt:e="ENVMAP_BLENDING_ADD";break}return e}function jh(a){const e=a.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function Gh(a,e,t,n){const r=a.getContext(),o=t.defines;let l=t.vertexShader,c=t.fragmentShader;const f=Z(t),d=X(t),m=K(t),g=su(t),v=jh(t),C=t.isWebGL2?"":M2(t),y=b2(o),A=r.createProgram();let M,x,U=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(M=[y].filter(ou).join(`
`),M.length>0&&(M+=`
`),x=[C,y].filter(ou).join(`
`),x.length>0&&(x+=`
`)):(M=[J(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ou).join(`
`),x=[C,J(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+m:"",t.envMap?"#define "+g:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==xt?"#define TONE_MAPPING":"",t.toneMapping!==xt?Vi.tonemapping_pars_fragment:"",t.toneMapping!==xt?w2("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Vi.encodings_pars_fragment,y2("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(ou).join(`
`)),l=_0(l),l=Lf(l,t),l=Tf(l,t),c=_0(c),c=Lf(c,t),c=Tf(c,t),l=Af(l),c=Af(c),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(U=`#version 300 es
`,M=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+M,x=["#define varying in",t.glslVersion===eo?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===eo?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const D=U+M+l,ne=U+x+c,ue=Ef(r,r.VERTEX_SHADER,D),Me=Ef(r,r.FRAGMENT_SHADER,ne);if(r.attachShader(A,ue),r.attachShader(A,Me),t.index0AttributeName!==void 0?r.bindAttribLocation(A,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(A,0,"position"),r.linkProgram(A),a.debug.checkShaderErrors){const G=r.getProgramInfoLog(A).trim(),Ee=r.getShaderInfoLog(ue).trim(),$t=r.getShaderInfoLog(Me).trim();let pn=!0,St=!0;if(r.getProgramParameter(A,r.LINK_STATUS)===!1)if(pn=!1,typeof a.debug.onShaderError=="function")a.debug.onShaderError(r,A,ue,Me);else{const Ut=Rf(r,ue,"vertex"),Xt=Rf(r,Me,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(A,r.VALIDATE_STATUS)+`

Program Info Log: `+G+`
`+Ut+`
`+Xt)}else G!==""?console.warn("THREE.WebGLProgram: Program Info Log:",G):(Ee===""||$t==="")&&(St=!1);St&&(this.diagnostics={runnable:pn,programLog:G,vertexShader:{log:Ee,prefix:M},fragmentShader:{log:$t,prefix:x}})}r.deleteShader(ue),r.deleteShader(Me);let Ne;this.getUniforms=function(){return Ne===void 0&&(Ne=new Tu(r,A)),Ne};let nt;return this.getAttributes=function(){return nt===void 0&&(nt=S2(r,A)),nt},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(A),this.program=void 0},this.name=t.shaderName,this.id=C2++,this.cacheKey=e,this.usedTimes=1,this.program=A,this.vertexShader=ue,this.fragmentShader=Me,this}let Xh=0;class Yh{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),o=this._getShaderStage(n),l=this._getShaderCacheForMaterial(e);return l.has(r)===!1&&(l.add(r),r.usedTimes++),l.has(o)===!1&&(l.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new Kh(e),t.set(e,n)),n}}class Kh{constructor(e){this.id=Xh++,this.code=e,this.usedTimes=0}}function Jh(a,e,t,n,r,o,l){const c=new Qa,f=new Yh,d=[],m=r.isWebGL2,g=r.logarithmicDepthBuffer,v=r.vertexTextures;let C=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(G){return G===1?"uv1":G===2?"uv2":G===3?"uv3":"uv"}function M(G,Ee,$t,pn,St){const Ut=pn.fog,Xt=St.geometry,Bn=G.isMeshStandardMaterial?pn.environment:null,Ln=(G.isMeshStandardMaterial?t:e).get(G.envMap||Bn),Rn=Ln&&Ln.mapping===qr?Ln.image.height:null,Un=y[G.type];G.precision!==null&&(C=r.getMaxPrecision(G.precision),C!==G.precision&&console.warn("THREE.WebGLProgram.getParameters:",G.precision,"not supported, using",C,"instead."));const Gn=Xt.morphAttributes.position||Xt.morphAttributes.normal||Xt.morphAttributes.color,Ar=Gn!==void 0?Gn.length:0;let yr=0;Xt.morphAttributes.position!==void 0&&(yr=1),Xt.morphAttributes.normal!==void 0&&(yr=2),Xt.morphAttributes.color!==void 0&&(yr=3);let tn,Hn,vr,wr;if(Un){const Io=b1[Un];tn=Io.vertexShader,Hn=Io.fragmentShader}else tn=G.vertexShader,Hn=G.fragmentShader,f.update(G),vr=f.getVertexShaderID(G),wr=f.getFragmentShaderID(G);const ot=a.getRenderTarget(),Ri=St.isInstancedMesh===!0,Ii=!!G.map,lr=!!G.matcap,Zr=!!Ln,kn=!!G.aoMap,mn=!!G.lightMap,$n=!!G.bumpMap,Or=!!G.normalMap,Cr=!!G.displacementMap,gi=!!G.emissiveMap,vi=!!G.metalnessMap,ii=!!G.roughnessMap,Xi=G.clearcoat>0,_o=G.iridescence>0,Pe=G.sheen>0,fe=G.transmission>0,Zt=Xi&&!!G.clearcoatMap,Xn=Xi&&!!G.clearcoatNormalMap,nr=Xi&&!!G.clearcoatRoughnessMap,xr=_o&&!!G.iridescenceMap,Mi=_o&&!!G.iridescenceThicknessMap,Pr=Pe&&!!G.sheenColorMap,hn=Pe&&!!G.sheenRoughnessMap,Wr=!!G.specularMap,oi=!!G.specularColorMap,Ci=!!G.specularIntensityMap,Dr=fe&&!!G.transmissionMap,Yr=fe&&!!G.thicknessMap,co=!!G.gradientMap,To=!!G.alphaMap,gs=G.alphaTest>0,ct=!!G.extensions,on=!!Xt.attributes.uv1,Kn=!!Xt.attributes.uv2,br=!!Xt.attributes.uv3;return{isWebGL2:m,shaderID:Un,shaderName:G.type,vertexShader:tn,fragmentShader:Hn,defines:G.defines,customVertexShaderID:vr,customFragmentShaderID:wr,isRawShaderMaterial:G.isRawShaderMaterial===!0,glslVersion:G.glslVersion,precision:C,instancing:Ri,instancingColor:Ri&&St.instanceColor!==null,supportsVertexTextures:v,outputColorSpace:ot===null?a.outputColorSpace:ot.isXRRenderTarget===!0?ot.texture.colorSpace:Wo,map:Ii,matcap:lr,envMap:Zr,envMapMode:Zr&&Ln.mapping,envMapCubeUVHeight:Rn,aoMap:kn,lightMap:mn,bumpMap:$n,normalMap:Or,displacementMap:v&&Cr,emissiveMap:gi,normalMapObjectSpace:Or&&G.normalMapType===Ps,normalMapTangentSpace:Or&&G.normalMapType===ui,metalnessMap:vi,roughnessMap:ii,clearcoat:Xi,clearcoatMap:Zt,clearcoatNormalMap:Xn,clearcoatRoughnessMap:nr,iridescence:_o,iridescenceMap:xr,iridescenceThicknessMap:Mi,sheen:Pe,sheenColorMap:Pr,sheenRoughnessMap:hn,specularMap:Wr,specularColorMap:oi,specularIntensityMap:Ci,transmission:fe,transmissionMap:Dr,thicknessMap:Yr,gradientMap:co,opaque:G.transparent===!1&&G.blending===En,alphaMap:To,alphaTest:gs,combine:G.combine,mapUv:Ii&&A(G.map.channel),aoMapUv:kn&&A(G.aoMap.channel),lightMapUv:mn&&A(G.lightMap.channel),bumpMapUv:$n&&A(G.bumpMap.channel),normalMapUv:Or&&A(G.normalMap.channel),displacementMapUv:Cr&&A(G.displacementMap.channel),emissiveMapUv:gi&&A(G.emissiveMap.channel),metalnessMapUv:vi&&A(G.metalnessMap.channel),roughnessMapUv:ii&&A(G.roughnessMap.channel),clearcoatMapUv:Zt&&A(G.clearcoatMap.channel),clearcoatNormalMapUv:Xn&&A(G.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:nr&&A(G.clearcoatRoughnessMap.channel),iridescenceMapUv:xr&&A(G.iridescenceMap.channel),iridescenceThicknessMapUv:Mi&&A(G.iridescenceThicknessMap.channel),sheenColorMapUv:Pr&&A(G.sheenColorMap.channel),sheenRoughnessMapUv:hn&&A(G.sheenRoughnessMap.channel),specularMapUv:Wr&&A(G.specularMap.channel),specularColorMapUv:oi&&A(G.specularColorMap.channel),specularIntensityMapUv:Ci&&A(G.specularIntensityMap.channel),transmissionMapUv:Dr&&A(G.transmissionMap.channel),thicknessMapUv:Yr&&A(G.thicknessMap.channel),alphaMapUv:To&&A(G.alphaMap.channel),vertexTangents:Or&&!!Xt.attributes.tangent,vertexColors:G.vertexColors,vertexAlphas:G.vertexColors===!0&&!!Xt.attributes.color&&Xt.attributes.color.itemSize===4,vertexUv1s:on,vertexUv2s:Kn,vertexUv3s:br,pointsUvs:St.isPoints===!0&&!!Xt.attributes.uv&&(Ii||To),fog:!!Ut,useFog:G.fog===!0,fogExp2:Ut&&Ut.isFogExp2,flatShading:G.flatShading===!0,sizeAttenuation:G.sizeAttenuation===!0,logarithmicDepthBuffer:g,skinning:St.isSkinnedMesh===!0,morphTargets:Xt.morphAttributes.position!==void 0,morphNormals:Xt.morphAttributes.normal!==void 0,morphColors:Xt.morphAttributes.color!==void 0,morphTargetsCount:Ar,morphTextureStride:yr,numDirLights:Ee.directional.length,numPointLights:Ee.point.length,numSpotLights:Ee.spot.length,numSpotLightMaps:Ee.spotLightMap.length,numRectAreaLights:Ee.rectArea.length,numHemiLights:Ee.hemi.length,numDirLightShadows:Ee.directionalShadowMap.length,numPointLightShadows:Ee.pointShadowMap.length,numSpotLightShadows:Ee.spotShadowMap.length,numSpotLightShadowsWithMaps:Ee.numSpotLightShadowsWithMaps,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:G.dithering,shadowMapEnabled:a.shadowMap.enabled&&$t.length>0,shadowMapType:a.shadowMap.type,toneMapping:G.toneMapped?a.toneMapping:xt,useLegacyLights:a.useLegacyLights,premultipliedAlpha:G.premultipliedAlpha,doubleSided:G.side===At,flipSided:G.side===mt,useDepthPacking:G.depthPacking>=0,depthPacking:G.depthPacking||0,index0AttributeName:G.index0AttributeName,extensionDerivatives:ct&&G.extensions.derivatives===!0,extensionFragDepth:ct&&G.extensions.fragDepth===!0,extensionDrawBuffers:ct&&G.extensions.drawBuffers===!0,extensionShaderTextureLOD:ct&&G.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:m||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:m||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:m||n.has("EXT_shader_texture_lod"),customProgramCacheKey:G.customProgramCacheKey()}}function x(G){const Ee=[];if(G.shaderID?Ee.push(G.shaderID):(Ee.push(G.customVertexShaderID),Ee.push(G.customFragmentShaderID)),G.defines!==void 0)for(const $t in G.defines)Ee.push($t),Ee.push(G.defines[$t]);return G.isRawShaderMaterial===!1&&(U(Ee,G),D(Ee,G),Ee.push(a.outputColorSpace)),Ee.push(G.customProgramCacheKey),Ee.join()}function U(G,Ee){G.push(Ee.precision),G.push(Ee.outputColorSpace),G.push(Ee.envMapMode),G.push(Ee.envMapCubeUVHeight),G.push(Ee.mapUv),G.push(Ee.alphaMapUv),G.push(Ee.lightMapUv),G.push(Ee.aoMapUv),G.push(Ee.bumpMapUv),G.push(Ee.normalMapUv),G.push(Ee.displacementMapUv),G.push(Ee.emissiveMapUv),G.push(Ee.metalnessMapUv),G.push(Ee.roughnessMapUv),G.push(Ee.clearcoatMapUv),G.push(Ee.clearcoatNormalMapUv),G.push(Ee.clearcoatRoughnessMapUv),G.push(Ee.iridescenceMapUv),G.push(Ee.iridescenceThicknessMapUv),G.push(Ee.sheenColorMapUv),G.push(Ee.sheenRoughnessMapUv),G.push(Ee.specularMapUv),G.push(Ee.specularColorMapUv),G.push(Ee.specularIntensityMapUv),G.push(Ee.transmissionMapUv),G.push(Ee.thicknessMapUv),G.push(Ee.combine),G.push(Ee.fogExp2),G.push(Ee.sizeAttenuation),G.push(Ee.morphTargetsCount),G.push(Ee.morphAttributeCount),G.push(Ee.numDirLights),G.push(Ee.numPointLights),G.push(Ee.numSpotLights),G.push(Ee.numSpotLightMaps),G.push(Ee.numHemiLights),G.push(Ee.numRectAreaLights),G.push(Ee.numDirLightShadows),G.push(Ee.numPointLightShadows),G.push(Ee.numSpotLightShadows),G.push(Ee.numSpotLightShadowsWithMaps),G.push(Ee.shadowMapType),G.push(Ee.toneMapping),G.push(Ee.numClippingPlanes),G.push(Ee.numClipIntersection),G.push(Ee.depthPacking)}function D(G,Ee){c.disableAll(),Ee.isWebGL2&&c.enable(0),Ee.supportsVertexTextures&&c.enable(1),Ee.instancing&&c.enable(2),Ee.instancingColor&&c.enable(3),Ee.matcap&&c.enable(4),Ee.envMap&&c.enable(5),Ee.normalMapObjectSpace&&c.enable(6),Ee.normalMapTangentSpace&&c.enable(7),Ee.clearcoat&&c.enable(8),Ee.iridescence&&c.enable(9),Ee.alphaTest&&c.enable(10),Ee.vertexColors&&c.enable(11),Ee.vertexAlphas&&c.enable(12),Ee.vertexUv1s&&c.enable(13),Ee.vertexUv2s&&c.enable(14),Ee.vertexUv3s&&c.enable(15),Ee.vertexTangents&&c.enable(16),G.push(c.mask),c.disableAll(),Ee.fog&&c.enable(0),Ee.useFog&&c.enable(1),Ee.flatShading&&c.enable(2),Ee.logarithmicDepthBuffer&&c.enable(3),Ee.skinning&&c.enable(4),Ee.morphTargets&&c.enable(5),Ee.morphNormals&&c.enable(6),Ee.morphColors&&c.enable(7),Ee.premultipliedAlpha&&c.enable(8),Ee.shadowMapEnabled&&c.enable(9),Ee.useLegacyLights&&c.enable(10),Ee.doubleSided&&c.enable(11),Ee.flipSided&&c.enable(12),Ee.useDepthPacking&&c.enable(13),Ee.dithering&&c.enable(14),Ee.transmission&&c.enable(15),Ee.sheen&&c.enable(16),Ee.opaque&&c.enable(17),Ee.pointsUvs&&c.enable(18),G.push(c.mask)}function ne(G){const Ee=y[G.type];let $t;if(Ee){const pn=b1[Ee];$t=El.clone(pn.uniforms)}else $t=G.uniforms;return $t}function ue(G,Ee){let $t;for(let pn=0,St=d.length;pn<St;pn++){const Ut=d[pn];if(Ut.cacheKey===Ee){$t=Ut,++$t.usedTimes;break}}return $t===void 0&&($t=new Gh(a,Ee,G,o),d.push($t)),$t}function Me(G){if(--G.usedTimes===0){const Ee=d.indexOf(G);d[Ee]=d[d.length-1],d.pop(),G.destroy()}}function Ne(G){f.remove(G)}function nt(){f.dispose()}return{getParameters:M,getProgramCacheKey:x,getUniforms:ne,acquireProgram:ue,releaseProgram:Me,releaseShaderCache:Ne,programs:d,dispose:nt}}function qh(){let a=new WeakMap;function e(o){let l=a.get(o);return l===void 0&&(l={},a.set(o,l)),l}function t(o){a.delete(o)}function n(o,l,c){a.get(o)[l]=c}function r(){a=new WeakMap}return{get:e,remove:t,update:n,dispose:r}}function Qh(a,e){return a.groupOrder!==e.groupOrder?a.groupOrder-e.groupOrder:a.renderOrder!==e.renderOrder?a.renderOrder-e.renderOrder:a.material.id!==e.material.id?a.material.id-e.material.id:a.z!==e.z?a.z-e.z:a.id-e.id}function T2(a,e){return a.groupOrder!==e.groupOrder?a.groupOrder-e.groupOrder:a.renderOrder!==e.renderOrder?a.renderOrder-e.renderOrder:a.z!==e.z?e.z-a.z:a.id-e.id}function A2(){const a=[];let e=0;const t=[],n=[],r=[];function o(){e=0,t.length=0,n.length=0,r.length=0}function l(g,v,C,y,A,M){let x=a[e];return x===void 0?(x={id:g.id,object:g,geometry:v,material:C,groupOrder:y,renderOrder:g.renderOrder,z:A,group:M},a[e]=x):(x.id=g.id,x.object=g,x.geometry=v,x.material=C,x.groupOrder=y,x.renderOrder=g.renderOrder,x.z=A,x.group=M),e++,x}function c(g,v,C,y,A,M){const x=l(g,v,C,y,A,M);C.transmission>0?n.push(x):C.transparent===!0?r.push(x):t.push(x)}function f(g,v,C,y,A,M){const x=l(g,v,C,y,A,M);C.transmission>0?n.unshift(x):C.transparent===!0?r.unshift(x):t.unshift(x)}function d(g,v){t.length>1&&t.sort(g||Qh),n.length>1&&n.sort(v||T2),r.length>1&&r.sort(v||T2)}function m(){for(let g=e,v=a.length;g<v;g++){const C=a[g];if(C.id===null)break;C.id=null,C.object=null,C.geometry=null,C.material=null,C.group=null}}return{opaque:t,transmissive:n,transparent:r,init:o,push:c,unshift:f,finish:m,sort:d}}function e5(){let a=new WeakMap;function e(n,r){const o=a.get(n);let l;return o===void 0?(l=new A2,a.set(n,[l])):r>=o.length?(l=new A2,o.push(l)):l=o[r],l}function t(){a=new WeakMap}return{get:e,dispose:t}}function t5(){const a={};return{get:function(e){if(a[e.id]!==void 0)return a[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ce,color:new cr};break;case"SpotLight":t={position:new ce,direction:new ce,color:new cr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ce,color:new cr,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ce,skyColor:new cr,groundColor:new cr};break;case"RectAreaLight":t={color:new cr,position:new ce,halfWidth:new ce,halfHeight:new ce};break}return a[e.id]=t,t}}}function n5(){const a={};return{get:function(e){if(a[e.id]!==void 0)return a[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dn};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dn};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dn,shadowCameraNear:1,shadowCameraFar:1e3};break}return a[e.id]=t,t}}}let r5=0;function i5(a,e){return(e.castShadow?2:0)-(a.castShadow?2:0)+(e.map?1:0)-(a.map?1:0)}function o5(a,e){const t=new t5,n=n5(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let m=0;m<9;m++)r.probe.push(new ce);const o=new ce,l=new ai,c=new ai;function f(m,g){let v=0,C=0,y=0;for(let $t=0;$t<9;$t++)r.probe[$t].set(0,0,0);let A=0,M=0,x=0,U=0,D=0,ne=0,ue=0,Me=0,Ne=0,nt=0;m.sort(i5);const G=g===!0?Math.PI:1;for(let $t=0,pn=m.length;$t<pn;$t++){const St=m[$t],Ut=St.color,Xt=St.intensity,Bn=St.distance,Ln=St.shadow&&St.shadow.map?St.shadow.map.texture:null;if(St.isAmbientLight)v+=Ut.r*Xt*G,C+=Ut.g*Xt*G,y+=Ut.b*Xt*G;else if(St.isLightProbe)for(let Rn=0;Rn<9;Rn++)r.probe[Rn].addScaledVector(St.sh.coefficients[Rn],Xt);else if(St.isDirectionalLight){const Rn=t.get(St);if(Rn.color.copy(St.color).multiplyScalar(St.intensity*G),St.castShadow){const Un=St.shadow,Gn=n.get(St);Gn.shadowBias=Un.bias,Gn.shadowNormalBias=Un.normalBias,Gn.shadowRadius=Un.radius,Gn.shadowMapSize=Un.mapSize,r.directionalShadow[A]=Gn,r.directionalShadowMap[A]=Ln,r.directionalShadowMatrix[A]=St.shadow.matrix,ne++}r.directional[A]=Rn,A++}else if(St.isSpotLight){const Rn=t.get(St);Rn.position.setFromMatrixPosition(St.matrixWorld),Rn.color.copy(Ut).multiplyScalar(Xt*G),Rn.distance=Bn,Rn.coneCos=Math.cos(St.angle),Rn.penumbraCos=Math.cos(St.angle*(1-St.penumbra)),Rn.decay=St.decay,r.spot[x]=Rn;const Un=St.shadow;if(St.map&&(r.spotLightMap[Ne]=St.map,Ne++,Un.updateMatrices(St),St.castShadow&&nt++),r.spotLightMatrix[x]=Un.matrix,St.castShadow){const Gn=n.get(St);Gn.shadowBias=Un.bias,Gn.shadowNormalBias=Un.normalBias,Gn.shadowRadius=Un.radius,Gn.shadowMapSize=Un.mapSize,r.spotShadow[x]=Gn,r.spotShadowMap[x]=Ln,Me++}x++}else if(St.isRectAreaLight){const Rn=t.get(St);Rn.color.copy(Ut).multiplyScalar(Xt),Rn.halfWidth.set(St.width*.5,0,0),Rn.halfHeight.set(0,St.height*.5,0),r.rectArea[U]=Rn,U++}else if(St.isPointLight){const Rn=t.get(St);if(Rn.color.copy(St.color).multiplyScalar(St.intensity*G),Rn.distance=St.distance,Rn.decay=St.decay,St.castShadow){const Un=St.shadow,Gn=n.get(St);Gn.shadowBias=Un.bias,Gn.shadowNormalBias=Un.normalBias,Gn.shadowRadius=Un.radius,Gn.shadowMapSize=Un.mapSize,Gn.shadowCameraNear=Un.camera.near,Gn.shadowCameraFar=Un.camera.far,r.pointShadow[M]=Gn,r.pointShadowMap[M]=Ln,r.pointShadowMatrix[M]=St.shadow.matrix,ue++}r.point[M]=Rn,M++}else if(St.isHemisphereLight){const Rn=t.get(St);Rn.skyColor.copy(St.color).multiplyScalar(Xt*G),Rn.groundColor.copy(St.groundColor).multiplyScalar(Xt*G),r.hemi[D]=Rn,D++}}U>0&&(e.isWebGL2||a.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=dr.LTC_FLOAT_1,r.rectAreaLTC2=dr.LTC_FLOAT_2):a.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=dr.LTC_HALF_1,r.rectAreaLTC2=dr.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=v,r.ambient[1]=C,r.ambient[2]=y;const Ee=r.hash;(Ee.directionalLength!==A||Ee.pointLength!==M||Ee.spotLength!==x||Ee.rectAreaLength!==U||Ee.hemiLength!==D||Ee.numDirectionalShadows!==ne||Ee.numPointShadows!==ue||Ee.numSpotShadows!==Me||Ee.numSpotMaps!==Ne)&&(r.directional.length=A,r.spot.length=x,r.rectArea.length=U,r.point.length=M,r.hemi.length=D,r.directionalShadow.length=ne,r.directionalShadowMap.length=ne,r.pointShadow.length=ue,r.pointShadowMap.length=ue,r.spotShadow.length=Me,r.spotShadowMap.length=Me,r.directionalShadowMatrix.length=ne,r.pointShadowMatrix.length=ue,r.spotLightMatrix.length=Me+Ne-nt,r.spotLightMap.length=Ne,r.numSpotLightShadowsWithMaps=nt,Ee.directionalLength=A,Ee.pointLength=M,Ee.spotLength=x,Ee.rectAreaLength=U,Ee.hemiLength=D,Ee.numDirectionalShadows=ne,Ee.numPointShadows=ue,Ee.numSpotShadows=Me,Ee.numSpotMaps=Ne,r.version=r5++)}function d(m,g){let v=0,C=0,y=0,A=0,M=0;const x=g.matrixWorldInverse;for(let U=0,D=m.length;U<D;U++){const ne=m[U];if(ne.isDirectionalLight){const ue=r.directional[v];ue.direction.setFromMatrixPosition(ne.matrixWorld),o.setFromMatrixPosition(ne.target.matrixWorld),ue.direction.sub(o),ue.direction.transformDirection(x),v++}else if(ne.isSpotLight){const ue=r.spot[y];ue.position.setFromMatrixPosition(ne.matrixWorld),ue.position.applyMatrix4(x),ue.direction.setFromMatrixPosition(ne.matrixWorld),o.setFromMatrixPosition(ne.target.matrixWorld),ue.direction.sub(o),ue.direction.transformDirection(x),y++}else if(ne.isRectAreaLight){const ue=r.rectArea[A];ue.position.setFromMatrixPosition(ne.matrixWorld),ue.position.applyMatrix4(x),c.identity(),l.copy(ne.matrixWorld),l.premultiply(x),c.extractRotation(l),ue.halfWidth.set(ne.width*.5,0,0),ue.halfHeight.set(0,ne.height*.5,0),ue.halfWidth.applyMatrix4(c),ue.halfHeight.applyMatrix4(c),A++}else if(ne.isPointLight){const ue=r.point[C];ue.position.setFromMatrixPosition(ne.matrixWorld),ue.position.applyMatrix4(x),C++}else if(ne.isHemisphereLight){const ue=r.hemi[M];ue.direction.setFromMatrixPosition(ne.matrixWorld),ue.direction.transformDirection(x),M++}}}return{setup:f,setupView:d,state:r}}function P2(a,e){const t=new o5(a,e),n=[],r=[];function o(){n.length=0,r.length=0}function l(g){n.push(g)}function c(g){r.push(g)}function f(g){t.setup(n,g)}function d(g){t.setupView(n,g)}return{init:o,state:{lightsArray:n,shadowsArray:r,lights:t},setupLights:f,setupLightsView:d,pushLight:l,pushShadow:c}}function s5(a,e){let t=new WeakMap;function n(o,l=0){const c=t.get(o);let f;return c===void 0?(f=new P2(a,e),t.set(o,[f])):l>=c.length?(f=new P2(a,e),c.push(f)):f=c[l],f}function r(){t=new WeakMap}return{get:n,dispose:r}}class Pf extends hs{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Go,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class If extends hs{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const a5=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,l5=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function c5(a,e,t){let n=new ko;const r=new dn,o=new dn,l=new kr,c=new Pf({depthPacking:Fs}),f=new If,d={},m=t.maxTextureSize,g={[ht]:mt,[mt]:ht,[At]:At},v=new Ns({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new dn},radius:{value:4}},vertexShader:a5,fragmentShader:l5}),C=v.clone();C.defines.HORIZONTAL_PASS=1;const y=new gn;y.setAttribute("position",new lo(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new Fo(y,v),M=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ft;let x=this.type;this.render=function(ue,Me,Ne){if(M.enabled===!1||M.autoUpdate===!1&&M.needsUpdate===!1||ue.length===0)return;const nt=a.getRenderTarget(),G=a.getActiveCubeFace(),Ee=a.getActiveMipmapLevel(),$t=a.state;$t.setBlending(zn),$t.buffers.color.setClear(1,1,1,1),$t.buffers.depth.setTest(!0),$t.setScissorTest(!1);const pn=x!==gt&&this.type===gt,St=x===gt&&this.type!==gt;for(let Ut=0,Xt=ue.length;Ut<Xt;Ut++){const Bn=ue[Ut],Ln=Bn.shadow;if(Ln===void 0){console.warn("THREE.WebGLShadowMap:",Bn,"has no shadow.");continue}if(Ln.autoUpdate===!1&&Ln.needsUpdate===!1)continue;r.copy(Ln.mapSize);const Rn=Ln.getFrameExtents();if(r.multiply(Rn),o.copy(Ln.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(o.x=Math.floor(m/Rn.x),r.x=o.x*Rn.x,Ln.mapSize.x=o.x),r.y>m&&(o.y=Math.floor(m/Rn.y),r.y=o.y*Rn.y,Ln.mapSize.y=o.y)),Ln.map===null||pn===!0||St===!0){const Gn=this.type!==gt?{minFilter:ln,magFilter:ln}:{};Ln.map!==null&&Ln.map.dispose(),Ln.map=new Ki(r.x,r.y,Gn),Ln.map.texture.name=Bn.name+".shadowMap",Ln.camera.updateProjectionMatrix()}a.setRenderTarget(Ln.map),a.clear();const Un=Ln.getViewportCount();for(let Gn=0;Gn<Un;Gn++){const Ar=Ln.getViewport(Gn);l.set(o.x*Ar.x,o.y*Ar.y,o.x*Ar.z,o.y*Ar.w),$t.viewport(l),Ln.updateMatrices(Bn,Gn),n=Ln.getFrustum(),ne(Me,Ne,Ln.camera,Bn,this.type)}Ln.isPointLightShadow!==!0&&this.type===gt&&U(Ln,Ne),Ln.needsUpdate=!1}x=this.type,M.needsUpdate=!1,a.setRenderTarget(nt,G,Ee)};function U(ue,Me){const Ne=e.update(A);v.defines.VSM_SAMPLES!==ue.blurSamples&&(v.defines.VSM_SAMPLES=ue.blurSamples,C.defines.VSM_SAMPLES=ue.blurSamples,v.needsUpdate=!0,C.needsUpdate=!0),ue.mapPass===null&&(ue.mapPass=new Ki(r.x,r.y)),v.uniforms.shadow_pass.value=ue.map.texture,v.uniforms.resolution.value=ue.mapSize,v.uniforms.radius.value=ue.radius,a.setRenderTarget(ue.mapPass),a.clear(),a.renderBufferDirect(Me,null,Ne,v,A,null),C.uniforms.shadow_pass.value=ue.mapPass.texture,C.uniforms.resolution.value=ue.mapSize,C.uniforms.radius.value=ue.radius,a.setRenderTarget(ue.map),a.clear(),a.renderBufferDirect(Me,null,Ne,C,A,null)}function D(ue,Me,Ne,nt){let G=null;const Ee=Ne.isPointLight===!0?ue.customDistanceMaterial:ue.customDepthMaterial;if(Ee!==void 0)G=Ee;else if(G=Ne.isPointLight===!0?f:c,a.localClippingEnabled&&Me.clipShadows===!0&&Array.isArray(Me.clippingPlanes)&&Me.clippingPlanes.length!==0||Me.displacementMap&&Me.displacementScale!==0||Me.alphaMap&&Me.alphaTest>0||Me.map&&Me.alphaTest>0){const $t=G.uuid,pn=Me.uuid;let St=d[$t];St===void 0&&(St={},d[$t]=St);let Ut=St[pn];Ut===void 0&&(Ut=G.clone(),St[pn]=Ut),G=Ut}if(G.visible=Me.visible,G.wireframe=Me.wireframe,nt===gt?G.side=Me.shadowSide!==null?Me.shadowSide:Me.side:G.side=Me.shadowSide!==null?Me.shadowSide:g[Me.side],G.alphaMap=Me.alphaMap,G.alphaTest=Me.alphaTest,G.map=Me.map,G.clipShadows=Me.clipShadows,G.clippingPlanes=Me.clippingPlanes,G.clipIntersection=Me.clipIntersection,G.displacementMap=Me.displacementMap,G.displacementScale=Me.displacementScale,G.displacementBias=Me.displacementBias,G.wireframeLinewidth=Me.wireframeLinewidth,G.linewidth=Me.linewidth,Ne.isPointLight===!0&&G.isMeshDistanceMaterial===!0){const $t=a.properties.get(G);$t.light=Ne}return G}function ne(ue,Me,Ne,nt,G){if(ue.visible===!1)return;if(ue.layers.test(Me.layers)&&(ue.isMesh||ue.isLine||ue.isPoints)&&(ue.castShadow||ue.receiveShadow&&G===gt)&&(!ue.frustumCulled||n.intersectsObject(ue))){ue.modelViewMatrix.multiplyMatrices(Ne.matrixWorldInverse,ue.matrixWorld);const pn=e.update(ue),St=ue.material;if(Array.isArray(St)){const Ut=pn.groups;for(let Xt=0,Bn=Ut.length;Xt<Bn;Xt++){const Ln=Ut[Xt],Rn=St[Ln.materialIndex];if(Rn&&Rn.visible){const Un=D(ue,Rn,nt,G);a.renderBufferDirect(Ne,null,pn,Un,ue,Ln)}}}else if(St.visible){const Ut=D(ue,St,nt,G);a.renderBufferDirect(Ne,null,pn,Ut,ue,null)}}const $t=ue.children;for(let pn=0,St=$t.length;pn<St;pn++)ne($t[pn],Me,Ne,nt,G)}}function u5(a,e,t){const n=t.isWebGL2;function r(){let ct=!1;const on=new kr;let Kn=null;const br=new kr(0,0,0,0);return{setMask:function(Gr){Kn!==Gr&&!ct&&(a.colorMask(Gr,Gr,Gr,Gr),Kn=Gr)},setLocked:function(Gr){ct=Gr},setClear:function(Gr,Io,Oo,va,hc){hc===!0&&(Gr*=va,Io*=va,Oo*=va),on.set(Gr,Io,Oo,va),br.equals(on)===!1&&(a.clearColor(Gr,Io,Oo,va),br.copy(on))},reset:function(){ct=!1,Kn=null,br.set(-1,0,0,0)}}}function o(){let ct=!1,on=null,Kn=null,br=null;return{setTest:function(Gr){Gr?ot(a.DEPTH_TEST):Ri(a.DEPTH_TEST)},setMask:function(Gr){on!==Gr&&!ct&&(a.depthMask(Gr),on=Gr)},setFunc:function(Gr){if(Kn!==Gr){switch(Gr){case k:a.depthFunc(a.NEVER);break;case le:a.depthFunc(a.ALWAYS);break;case te:a.depthFunc(a.LESS);break;case ae:a.depthFunc(a.LEQUAL);break;case Le:a.depthFunc(a.EQUAL);break;case Ae:a.depthFunc(a.GEQUAL);break;case _e:a.depthFunc(a.GREATER);break;case $e:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}Kn=Gr}},setLocked:function(Gr){ct=Gr},setClear:function(Gr){br!==Gr&&(a.clearDepth(Gr),br=Gr)},reset:function(){ct=!1,on=null,Kn=null,br=null}}}function l(){let ct=!1,on=null,Kn=null,br=null,Gr=null,Io=null,Oo=null,va=null,hc=null;return{setTest:function(vs){ct||(vs?ot(a.STENCIL_TEST):Ri(a.STENCIL_TEST))},setMask:function(vs){on!==vs&&!ct&&(a.stencilMask(vs),on=vs)},setFunc:function(vs,E1,fl){(Kn!==vs||br!==E1||Gr!==fl)&&(a.stencilFunc(vs,E1,fl),Kn=vs,br=E1,Gr=fl)},setOp:function(vs,E1,fl){(Io!==vs||Oo!==E1||va!==fl)&&(a.stencilOp(vs,E1,fl),Io=vs,Oo=E1,va=fl)},setLocked:function(vs){ct=vs},setClear:function(vs){hc!==vs&&(a.clearStencil(vs),hc=vs)},reset:function(){ct=!1,on=null,Kn=null,br=null,Gr=null,Io=null,Oo=null,va=null,hc=null}}}const c=new r,f=new o,d=new l,m=new WeakMap,g=new WeakMap;let v={},C={},y=new WeakMap,A=[],M=null,x=!1,U=null,D=null,ne=null,ue=null,Me=null,Ne=null,nt=null,G=!1,Ee=null,$t=null,pn=null,St=null,Ut=null;const Xt=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Bn=!1,Ln=0;const Rn=a.getParameter(a.VERSION);Rn.indexOf("WebGL")!==-1?(Ln=parseFloat(/^WebGL (\d)/.exec(Rn)[1]),Bn=Ln>=1):Rn.indexOf("OpenGL ES")!==-1&&(Ln=parseFloat(/^OpenGL ES (\d)/.exec(Rn)[1]),Bn=Ln>=2);let Un=null,Gn={};const Ar=a.getParameter(a.SCISSOR_BOX),yr=a.getParameter(a.VIEWPORT),tn=new kr().fromArray(Ar),Hn=new kr().fromArray(yr);function vr(ct,on,Kn,br){const Gr=new Uint8Array(4),Io=a.createTexture();a.bindTexture(ct,Io),a.texParameteri(ct,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(ct,a.TEXTURE_MAG_FILTER,a.NEAREST);for(let Oo=0;Oo<Kn;Oo++)n&&(ct===a.TEXTURE_3D||ct===a.TEXTURE_2D_ARRAY)?a.texImage3D(on,0,a.RGBA,1,1,br,0,a.RGBA,a.UNSIGNED_BYTE,Gr):a.texImage2D(on+Oo,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,Gr);return Io}const wr={};wr[a.TEXTURE_2D]=vr(a.TEXTURE_2D,a.TEXTURE_2D,1),wr[a.TEXTURE_CUBE_MAP]=vr(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6),n&&(wr[a.TEXTURE_2D_ARRAY]=vr(a.TEXTURE_2D_ARRAY,a.TEXTURE_2D_ARRAY,1,1),wr[a.TEXTURE_3D]=vr(a.TEXTURE_3D,a.TEXTURE_3D,1,1)),c.setClear(0,0,0,1),f.setClear(1),d.setClear(0),ot(a.DEPTH_TEST),f.setFunc(ae),Cr(!1),gi(Je),ot(a.CULL_FACE),$n(zn);function ot(ct){v[ct]!==!0&&(a.enable(ct),v[ct]=!0)}function Ri(ct){v[ct]!==!1&&(a.disable(ct),v[ct]=!1)}function Ii(ct,on){return C[ct]!==on?(a.bindFramebuffer(ct,on),C[ct]=on,n&&(ct===a.DRAW_FRAMEBUFFER&&(C[a.FRAMEBUFFER]=on),ct===a.FRAMEBUFFER&&(C[a.DRAW_FRAMEBUFFER]=on)),!0):!1}function lr(ct,on){let Kn=A,br=!1;if(ct)if(Kn=y.get(on),Kn===void 0&&(Kn=[],y.set(on,Kn)),ct.isWebGLMultipleRenderTargets){const Gr=ct.texture;if(Kn.length!==Gr.length||Kn[0]!==a.COLOR_ATTACHMENT0){for(let Io=0,Oo=Gr.length;Io<Oo;Io++)Kn[Io]=a.COLOR_ATTACHMENT0+Io;Kn.length=Gr.length,br=!0}}else Kn[0]!==a.COLOR_ATTACHMENT0&&(Kn[0]=a.COLOR_ATTACHMENT0,br=!0);else Kn[0]!==a.BACK&&(Kn[0]=a.BACK,br=!0);br&&(t.isWebGL2?a.drawBuffers(Kn):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Kn))}function Zr(ct){return M!==ct?(a.useProgram(ct),M=ct,!0):!1}const kn={[Kt]:a.FUNC_ADD,[xn]:a.FUNC_SUBTRACT,[fn]:a.FUNC_REVERSE_SUBTRACT};if(n)kn[Gt]=a.MIN,kn[Pn]=a.MAX;else{const ct=e.get("EXT_blend_minmax");ct!==null&&(kn[Gt]=ct.MIN_EXT,kn[Pn]=ct.MAX_EXT)}const mn={[jt]:a.ZERO,[xe]:a.ONE,[Ke]:a.SRC_COLOR,[rt]:a.SRC_ALPHA,[De]:a.SRC_ALPHA_SATURATE,[F]:a.DST_COLOR,[Te]:a.DST_ALPHA,[we]:a.ONE_MINUS_SRC_COLOR,[Re]:a.ONE_MINUS_SRC_ALPHA,[re]:a.ONE_MINUS_DST_COLOR,[q]:a.ONE_MINUS_DST_ALPHA};function $n(ct,on,Kn,br,Gr,Io,Oo,va){if(ct===zn){x===!0&&(Ri(a.BLEND),x=!1);return}if(x===!1&&(ot(a.BLEND),x=!0),ct!==rn){if(ct!==U||va!==G){if((D!==Kt||Me!==Kt)&&(a.blendEquation(a.FUNC_ADD),D=Kt,Me=Kt),va)switch(ct){case En:a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case bn:a.blendFunc(a.ONE,a.ONE);break;case ft:a.blendFuncSeparate(a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ZERO,a.ONE);break;case he:a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ZERO,a.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ct);break}else switch(ct){case En:a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case bn:a.blendFunc(a.SRC_ALPHA,a.ONE);break;case ft:a.blendFuncSeparate(a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ZERO,a.ONE);break;case he:a.blendFunc(a.ZERO,a.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ct);break}ne=null,ue=null,Ne=null,nt=null,U=ct,G=va}return}Gr=Gr||on,Io=Io||Kn,Oo=Oo||br,(on!==D||Gr!==Me)&&(a.blendEquationSeparate(kn[on],kn[Gr]),D=on,Me=Gr),(Kn!==ne||br!==ue||Io!==Ne||Oo!==nt)&&(a.blendFuncSeparate(mn[Kn],mn[br],mn[Io],mn[Oo]),ne=Kn,ue=br,Ne=Io,nt=Oo),U=ct,G=!1}function Or(ct,on){ct.side===At?Ri(a.CULL_FACE):ot(a.CULL_FACE);let Kn=ct.side===mt;on&&(Kn=!Kn),Cr(Kn),ct.blending===En&&ct.transparent===!1?$n(zn):$n(ct.blending,ct.blendEquation,ct.blendSrc,ct.blendDst,ct.blendEquationAlpha,ct.blendSrcAlpha,ct.blendDstAlpha,ct.premultipliedAlpha),f.setFunc(ct.depthFunc),f.setTest(ct.depthTest),f.setMask(ct.depthWrite),c.setMask(ct.colorWrite);const br=ct.stencilWrite;d.setTest(br),br&&(d.setMask(ct.stencilWriteMask),d.setFunc(ct.stencilFunc,ct.stencilRef,ct.stencilFuncMask),d.setOp(ct.stencilFail,ct.stencilZFail,ct.stencilZPass)),ii(ct.polygonOffset,ct.polygonOffsetFactor,ct.polygonOffsetUnits),ct.alphaToCoverage===!0?ot(a.SAMPLE_ALPHA_TO_COVERAGE):Ri(a.SAMPLE_ALPHA_TO_COVERAGE)}function Cr(ct){Ee!==ct&&(ct?a.frontFace(a.CW):a.frontFace(a.CCW),Ee=ct)}function gi(ct){ct!==Y?(ot(a.CULL_FACE),ct!==$t&&(ct===Je?a.cullFace(a.BACK):ct===yt?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):Ri(a.CULL_FACE),$t=ct}function vi(ct){ct!==pn&&(Bn&&a.lineWidth(ct),pn=ct)}function ii(ct,on,Kn){ct?(ot(a.POLYGON_OFFSET_FILL),(St!==on||Ut!==Kn)&&(a.polygonOffset(on,Kn),St=on,Ut=Kn)):Ri(a.POLYGON_OFFSET_FILL)}function Xi(ct){ct?ot(a.SCISSOR_TEST):Ri(a.SCISSOR_TEST)}function _o(ct){ct===void 0&&(ct=a.TEXTURE0+Xt-1),Un!==ct&&(a.activeTexture(ct),Un=ct)}function Pe(ct,on,Kn){Kn===void 0&&(Un===null?Kn=a.TEXTURE0+Xt-1:Kn=Un);let br=Gn[Kn];br===void 0&&(br={type:void 0,texture:void 0},Gn[Kn]=br),(br.type!==ct||br.texture!==on)&&(Un!==Kn&&(a.activeTexture(Kn),Un=Kn),a.bindTexture(ct,on||wr[ct]),br.type=ct,br.texture=on)}function fe(){const ct=Gn[Un];ct!==void 0&&ct.type!==void 0&&(a.bindTexture(ct.type,null),ct.type=void 0,ct.texture=void 0)}function Zt(){try{a.compressedTexImage2D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Xn(){try{a.compressedTexImage3D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function nr(){try{a.texSubImage2D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function xr(){try{a.texSubImage3D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Mi(){try{a.compressedTexSubImage2D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Pr(){try{a.compressedTexSubImage3D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function hn(){try{a.texStorage2D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Wr(){try{a.texStorage3D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function oi(){try{a.texImage2D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Ci(){try{a.texImage3D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Dr(ct){tn.equals(ct)===!1&&(a.scissor(ct.x,ct.y,ct.z,ct.w),tn.copy(ct))}function Yr(ct){Hn.equals(ct)===!1&&(a.viewport(ct.x,ct.y,ct.z,ct.w),Hn.copy(ct))}function co(ct,on){let Kn=g.get(on);Kn===void 0&&(Kn=new WeakMap,g.set(on,Kn));let br=Kn.get(ct);br===void 0&&(br=a.getUniformBlockIndex(on,ct.name),Kn.set(ct,br))}function To(ct,on){const br=g.get(on).get(ct);m.get(on)!==br&&(a.uniformBlockBinding(on,br,ct.__bindingPointIndex),m.set(on,br))}function gs(){a.disable(a.BLEND),a.disable(a.CULL_FACE),a.disable(a.DEPTH_TEST),a.disable(a.POLYGON_OFFSET_FILL),a.disable(a.SCISSOR_TEST),a.disable(a.STENCIL_TEST),a.disable(a.SAMPLE_ALPHA_TO_COVERAGE),a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ZERO),a.blendFuncSeparate(a.ONE,a.ZERO,a.ONE,a.ZERO),a.colorMask(!0,!0,!0,!0),a.clearColor(0,0,0,0),a.depthMask(!0),a.depthFunc(a.LESS),a.clearDepth(1),a.stencilMask(4294967295),a.stencilFunc(a.ALWAYS,0,4294967295),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),a.clearStencil(0),a.cullFace(a.BACK),a.frontFace(a.CCW),a.polygonOffset(0,0),a.activeTexture(a.TEXTURE0),a.bindFramebuffer(a.FRAMEBUFFER,null),n===!0&&(a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null),a.bindFramebuffer(a.READ_FRAMEBUFFER,null)),a.useProgram(null),a.lineWidth(1),a.scissor(0,0,a.canvas.width,a.canvas.height),a.viewport(0,0,a.canvas.width,a.canvas.height),v={},Un=null,Gn={},C={},y=new WeakMap,A=[],M=null,x=!1,U=null,D=null,ne=null,ue=null,Me=null,Ne=null,nt=null,G=!1,Ee=null,$t=null,pn=null,St=null,Ut=null,tn.set(0,0,a.canvas.width,a.canvas.height),Hn.set(0,0,a.canvas.width,a.canvas.height),c.reset(),f.reset(),d.reset()}return{buffers:{color:c,depth:f,stencil:d},enable:ot,disable:Ri,bindFramebuffer:Ii,drawBuffers:lr,useProgram:Zr,setBlending:$n,setMaterial:Or,setFlipSided:Cr,setCullFace:gi,setLineWidth:vi,setPolygonOffset:ii,setScissorTest:Xi,activeTexture:_o,bindTexture:Pe,unbindTexture:fe,compressedTexImage2D:Zt,compressedTexImage3D:Xn,texImage2D:oi,texImage3D:Ci,updateUBOMapping:co,uniformBlockBinding:To,texStorage2D:hn,texStorage3D:Wr,texSubImage2D:nr,texSubImage3D:xr,compressedTexSubImage2D:Mi,compressedTexSubImage3D:Pr,scissor:Dr,viewport:Yr,reset:gs}}function f5(a,e,t,n,r,o,l){const c=r.isWebGL2,f=r.maxTextures,d=r.maxCubemapSize,m=r.maxTextureSize,g=r.maxSamples,v=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,C=typeof navigator=="undefined"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let A;const M=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(Pe){}function U(Pe,fe){return x?new OffscreenCanvas(Pe,fe):io("canvas")}function D(Pe,fe,Zt,Xn){let nr=1;if((Pe.width>Xn||Pe.height>Xn)&&(nr=Xn/Math.max(Pe.width,Pe.height)),nr<1||fe===!0)if(typeof HTMLImageElement!="undefined"&&Pe instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&Pe instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&Pe instanceof ImageBitmap){const xr=fe?mi:Math.floor,Mi=xr(nr*Pe.width),Pr=xr(nr*Pe.height);A===void 0&&(A=U(Mi,Pr));const hn=Zt?U(Mi,Pr):A;return hn.width=Mi,hn.height=Pr,hn.getContext("2d").drawImage(Pe,0,0,Mi,Pr),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Pe.width+"x"+Pe.height+") to ("+Mi+"x"+Pr+")."),hn}else return"data"in Pe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Pe.width+"x"+Pe.height+")."),Pe;return Pe}function ne(Pe){return Ds(Pe.width)&&Ds(Pe.height)}function ue(Pe){return c?!1:Pe.wrapS!==Lt||Pe.wrapT!==Lt||Pe.minFilter!==ln&&Pe.minFilter!==Jn}function Me(Pe,fe){return Pe.generateMipmaps&&fe&&Pe.minFilter!==ln&&Pe.minFilter!==Jn}function Ne(Pe){a.generateMipmap(Pe)}function nt(Pe,fe,Zt,Xn,nr=!1){if(c===!1)return fe;if(Pe!==null){if(a[Pe]!==void 0)return a[Pe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Pe+"'")}let xr=fe;return fe===a.RED&&(Zt===a.FLOAT&&(xr=a.R32F),Zt===a.HALF_FLOAT&&(xr=a.R16F),Zt===a.UNSIGNED_BYTE&&(xr=a.R8)),fe===a.RG&&(Zt===a.FLOAT&&(xr=a.RG32F),Zt===a.HALF_FLOAT&&(xr=a.RG16F),Zt===a.UNSIGNED_BYTE&&(xr=a.RG8)),fe===a.RGBA&&(Zt===a.FLOAT&&(xr=a.RGBA32F),Zt===a.HALF_FLOAT&&(xr=a.RGBA16F),Zt===a.UNSIGNED_BYTE&&(xr=Xn===Fr&&nr===!1?a.SRGB8_ALPHA8:a.RGBA8),Zt===a.UNSIGNED_SHORT_4_4_4_4&&(xr=a.RGBA4),Zt===a.UNSIGNED_SHORT_5_5_5_1&&(xr=a.RGB5_A1)),(xr===a.R16F||xr===a.R32F||xr===a.RG16F||xr===a.RG32F||xr===a.RGBA16F||xr===a.RGBA32F)&&e.get("EXT_color_buffer_float"),xr}function G(Pe,fe,Zt){return Me(Pe,Zt)===!0||Pe.isFramebufferTexture&&Pe.minFilter!==ln&&Pe.minFilter!==Jn?Math.log2(Math.max(fe.width,fe.height))+1:Pe.mipmaps!==void 0&&Pe.mipmaps.length>0?Pe.mipmaps.length:Pe.isCompressedTexture&&Array.isArray(Pe.image)?fe.mipmaps.length:1}function Ee(Pe){return Pe===ln||Pe===yn||Pe===jn?a.NEAREST:a.LINEAR}function $t(Pe){const fe=Pe.target;fe.removeEventListener("dispose",$t),St(fe),fe.isVideoTexture&&y.delete(fe)}function pn(Pe){const fe=Pe.target;fe.removeEventListener("dispose",pn),Xt(fe)}function St(Pe){const fe=n.get(Pe);if(fe.__webglInit===void 0)return;const Zt=Pe.source,Xn=M.get(Zt);if(Xn){const nr=Xn[fe.__cacheKey];nr.usedTimes--,nr.usedTimes===0&&Ut(Pe),Object.keys(Xn).length===0&&M.delete(Zt)}n.remove(Pe)}function Ut(Pe){const fe=n.get(Pe);a.deleteTexture(fe.__webglTexture);const Zt=Pe.source,Xn=M.get(Zt);delete Xn[fe.__cacheKey],l.memory.textures--}function Xt(Pe){const fe=Pe.texture,Zt=n.get(Pe),Xn=n.get(fe);if(Xn.__webglTexture!==void 0&&(a.deleteTexture(Xn.__webglTexture),l.memory.textures--),Pe.depthTexture&&Pe.depthTexture.dispose(),Pe.isWebGLCubeRenderTarget)for(let nr=0;nr<6;nr++)a.deleteFramebuffer(Zt.__webglFramebuffer[nr]),Zt.__webglDepthbuffer&&a.deleteRenderbuffer(Zt.__webglDepthbuffer[nr]);else{if(a.deleteFramebuffer(Zt.__webglFramebuffer),Zt.__webglDepthbuffer&&a.deleteRenderbuffer(Zt.__webglDepthbuffer),Zt.__webglMultisampledFramebuffer&&a.deleteFramebuffer(Zt.__webglMultisampledFramebuffer),Zt.__webglColorRenderbuffer)for(let nr=0;nr<Zt.__webglColorRenderbuffer.length;nr++)Zt.__webglColorRenderbuffer[nr]&&a.deleteRenderbuffer(Zt.__webglColorRenderbuffer[nr]);Zt.__webglDepthRenderbuffer&&a.deleteRenderbuffer(Zt.__webglDepthRenderbuffer)}if(Pe.isWebGLMultipleRenderTargets)for(let nr=0,xr=fe.length;nr<xr;nr++){const Mi=n.get(fe[nr]);Mi.__webglTexture&&(a.deleteTexture(Mi.__webglTexture),l.memory.textures--),n.remove(fe[nr])}n.remove(fe),n.remove(Pe)}let Bn=0;function Ln(){Bn=0}function Rn(){const Pe=Bn;return Pe>=f&&console.warn("THREE.WebGLTextures: Trying to use "+Pe+" texture units while this GPU supports only "+f),Bn+=1,Pe}function Un(Pe){const fe=[];return fe.push(Pe.wrapS),fe.push(Pe.wrapT),fe.push(Pe.wrapR||0),fe.push(Pe.magFilter),fe.push(Pe.minFilter),fe.push(Pe.anisotropy),fe.push(Pe.internalFormat),fe.push(Pe.format),fe.push(Pe.type),fe.push(Pe.generateMipmaps),fe.push(Pe.premultiplyAlpha),fe.push(Pe.flipY),fe.push(Pe.unpackAlignment),fe.push(Pe.colorSpace),fe.join()}function Gn(Pe,fe){const Zt=n.get(Pe);if(Pe.isVideoTexture&&Xi(Pe),Pe.isRenderTargetTexture===!1&&Pe.version>0&&Zt.__version!==Pe.version){const Xn=Pe.image;if(Xn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Xn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ri(Zt,Pe,fe);return}}t.bindTexture(a.TEXTURE_2D,Zt.__webglTexture,a.TEXTURE0+fe)}function Ar(Pe,fe){const Zt=n.get(Pe);if(Pe.version>0&&Zt.__version!==Pe.version){Ri(Zt,Pe,fe);return}t.bindTexture(a.TEXTURE_2D_ARRAY,Zt.__webglTexture,a.TEXTURE0+fe)}function yr(Pe,fe){const Zt=n.get(Pe);if(Pe.version>0&&Zt.__version!==Pe.version){Ri(Zt,Pe,fe);return}t.bindTexture(a.TEXTURE_3D,Zt.__webglTexture,a.TEXTURE0+fe)}function tn(Pe,fe){const Zt=n.get(Pe);if(Pe.version>0&&Zt.__version!==Pe.version){Ii(Zt,Pe,fe);return}t.bindTexture(a.TEXTURE_CUBE_MAP,Zt.__webglTexture,a.TEXTURE0+fe)}const Hn={[_t]:a.REPEAT,[Lt]:a.CLAMP_TO_EDGE,[Qt]:a.MIRRORED_REPEAT},vr={[ln]:a.NEAREST,[yn]:a.NEAREST_MIPMAP_NEAREST,[jn]:a.NEAREST_MIPMAP_LINEAR,[Jn]:a.LINEAR,[ge]:a.LINEAR_MIPMAP_NEAREST,[Xe]:a.LINEAR_MIPMAP_LINEAR};function wr(Pe,fe,Zt){if(Zt?(a.texParameteri(Pe,a.TEXTURE_WRAP_S,Hn[fe.wrapS]),a.texParameteri(Pe,a.TEXTURE_WRAP_T,Hn[fe.wrapT]),(Pe===a.TEXTURE_3D||Pe===a.TEXTURE_2D_ARRAY)&&a.texParameteri(Pe,a.TEXTURE_WRAP_R,Hn[fe.wrapR]),a.texParameteri(Pe,a.TEXTURE_MAG_FILTER,vr[fe.magFilter]),a.texParameteri(Pe,a.TEXTURE_MIN_FILTER,vr[fe.minFilter])):(a.texParameteri(Pe,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(Pe,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),(Pe===a.TEXTURE_3D||Pe===a.TEXTURE_2D_ARRAY)&&a.texParameteri(Pe,a.TEXTURE_WRAP_R,a.CLAMP_TO_EDGE),(fe.wrapS!==Lt||fe.wrapT!==Lt)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),a.texParameteri(Pe,a.TEXTURE_MAG_FILTER,Ee(fe.magFilter)),a.texParameteri(Pe,a.TEXTURE_MIN_FILTER,Ee(fe.minFilter)),fe.minFilter!==ln&&fe.minFilter!==Jn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Xn=e.get("EXT_texture_filter_anisotropic");if(fe.magFilter===ln||fe.minFilter!==jn&&fe.minFilter!==Xe||fe.type===oe&&e.has("OES_texture_float_linear")===!1||c===!1&&fe.type===We&&e.has("OES_texture_half_float_linear")===!1)return;(fe.anisotropy>1||n.get(fe).__currentAnisotropy)&&(a.texParameterf(Pe,Xn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(fe.anisotropy,r.getMaxAnisotropy())),n.get(fe).__currentAnisotropy=fe.anisotropy)}}function ot(Pe,fe){let Zt=!1;Pe.__webglInit===void 0&&(Pe.__webglInit=!0,fe.addEventListener("dispose",$t));const Xn=fe.source;let nr=M.get(Xn);nr===void 0&&(nr={},M.set(Xn,nr));const xr=Un(fe);if(xr!==Pe.__cacheKey){nr[xr]===void 0&&(nr[xr]={texture:a.createTexture(),usedTimes:0},l.memory.textures++,Zt=!0),nr[xr].usedTimes++;const Mi=nr[Pe.__cacheKey];Mi!==void 0&&(nr[Pe.__cacheKey].usedTimes--,Mi.usedTimes===0&&Ut(fe)),Pe.__cacheKey=xr,Pe.__webglTexture=nr[xr].texture}return Zt}function Ri(Pe,fe,Zt){let Xn=a.TEXTURE_2D;(fe.isDataArrayTexture||fe.isCompressedArrayTexture)&&(Xn=a.TEXTURE_2D_ARRAY),fe.isData3DTexture&&(Xn=a.TEXTURE_3D);const nr=ot(Pe,fe),xr=fe.source;t.bindTexture(Xn,Pe.__webglTexture,a.TEXTURE0+Zt);const Mi=n.get(xr);if(xr.version!==Mi.__version||nr===!0){t.activeTexture(a.TEXTURE0+Zt),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,fe.flipY),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),a.pixelStorei(a.UNPACK_ALIGNMENT,fe.unpackAlignment),a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,a.NONE);const Pr=ue(fe)&&ne(fe.image)===!1;let hn=D(fe.image,Pr,!1,m);hn=_o(fe,hn);const Wr=ne(hn)||c,oi=o.convert(fe.format,fe.colorSpace);let Ci=o.convert(fe.type),Dr=nt(fe.internalFormat,oi,Ci,fe.colorSpace);wr(Xn,fe,Wr);let Yr;const co=fe.mipmaps,To=c&&fe.isVideoTexture!==!0,gs=Mi.__version===void 0||nr===!0,ct=G(fe,hn,Wr);if(fe.isDepthTexture)Dr=a.DEPTH_COMPONENT,c?fe.type===oe?Dr=a.DEPTH_COMPONENT32F:fe.type===ut?Dr=a.DEPTH_COMPONENT24:fe.type===Zn?Dr=a.DEPTH24_STENCIL8:Dr=a.DEPTH_COMPONENT16:fe.type===oe&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),fe.format===ri&&Dr===a.DEPTH_COMPONENT&&fe.type!==Bt&&fe.type!==ut&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),fe.type=ut,Ci=o.convert(fe.type)),fe.format===ei&&Dr===a.DEPTH_COMPONENT&&(Dr=a.DEPTH_STENCIL,fe.type!==Zn&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),fe.type=Zn,Ci=o.convert(fe.type))),gs&&(To?t.texStorage2D(a.TEXTURE_2D,1,Dr,hn.width,hn.height):t.texImage2D(a.TEXTURE_2D,0,Dr,hn.width,hn.height,0,oi,Ci,null));else if(fe.isDataTexture)if(co.length>0&&Wr){To&&gs&&t.texStorage2D(a.TEXTURE_2D,ct,Dr,co[0].width,co[0].height);for(let on=0,Kn=co.length;on<Kn;on++)Yr=co[on],To?t.texSubImage2D(a.TEXTURE_2D,on,0,0,Yr.width,Yr.height,oi,Ci,Yr.data):t.texImage2D(a.TEXTURE_2D,on,Dr,Yr.width,Yr.height,0,oi,Ci,Yr.data);fe.generateMipmaps=!1}else To?(gs&&t.texStorage2D(a.TEXTURE_2D,ct,Dr,hn.width,hn.height),t.texSubImage2D(a.TEXTURE_2D,0,0,0,hn.width,hn.height,oi,Ci,hn.data)):t.texImage2D(a.TEXTURE_2D,0,Dr,hn.width,hn.height,0,oi,Ci,hn.data);else if(fe.isCompressedTexture)if(fe.isCompressedArrayTexture){To&&gs&&t.texStorage3D(a.TEXTURE_2D_ARRAY,ct,Dr,co[0].width,co[0].height,hn.depth);for(let on=0,Kn=co.length;on<Kn;on++)Yr=co[on],fe.format!==Hr?oi!==null?To?t.compressedTexSubImage3D(a.TEXTURE_2D_ARRAY,on,0,0,0,Yr.width,Yr.height,hn.depth,oi,Yr.data,0,0):t.compressedTexImage3D(a.TEXTURE_2D_ARRAY,on,Dr,Yr.width,Yr.height,hn.depth,0,Yr.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):To?t.texSubImage3D(a.TEXTURE_2D_ARRAY,on,0,0,0,Yr.width,Yr.height,hn.depth,oi,Ci,Yr.data):t.texImage3D(a.TEXTURE_2D_ARRAY,on,Dr,Yr.width,Yr.height,hn.depth,0,oi,Ci,Yr.data)}else{To&&gs&&t.texStorage2D(a.TEXTURE_2D,ct,Dr,co[0].width,co[0].height);for(let on=0,Kn=co.length;on<Kn;on++)Yr=co[on],fe.format!==Hr?oi!==null?To?t.compressedTexSubImage2D(a.TEXTURE_2D,on,0,0,Yr.width,Yr.height,oi,Yr.data):t.compressedTexImage2D(a.TEXTURE_2D,on,Dr,Yr.width,Yr.height,0,Yr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):To?t.texSubImage2D(a.TEXTURE_2D,on,0,0,Yr.width,Yr.height,oi,Ci,Yr.data):t.texImage2D(a.TEXTURE_2D,on,Dr,Yr.width,Yr.height,0,oi,Ci,Yr.data)}else if(fe.isDataArrayTexture)To?(gs&&t.texStorage3D(a.TEXTURE_2D_ARRAY,ct,Dr,hn.width,hn.height,hn.depth),t.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,0,hn.width,hn.height,hn.depth,oi,Ci,hn.data)):t.texImage3D(a.TEXTURE_2D_ARRAY,0,Dr,hn.width,hn.height,hn.depth,0,oi,Ci,hn.data);else if(fe.isData3DTexture)To?(gs&&t.texStorage3D(a.TEXTURE_3D,ct,Dr,hn.width,hn.height,hn.depth),t.texSubImage3D(a.TEXTURE_3D,0,0,0,0,hn.width,hn.height,hn.depth,oi,Ci,hn.data)):t.texImage3D(a.TEXTURE_3D,0,Dr,hn.width,hn.height,hn.depth,0,oi,Ci,hn.data);else if(fe.isFramebufferTexture){if(gs)if(To)t.texStorage2D(a.TEXTURE_2D,ct,Dr,hn.width,hn.height);else{let on=hn.width,Kn=hn.height;for(let br=0;br<ct;br++)t.texImage2D(a.TEXTURE_2D,br,Dr,on,Kn,0,oi,Ci,null),on>>=1,Kn>>=1}}else if(co.length>0&&Wr){To&&gs&&t.texStorage2D(a.TEXTURE_2D,ct,Dr,co[0].width,co[0].height);for(let on=0,Kn=co.length;on<Kn;on++)Yr=co[on],To?t.texSubImage2D(a.TEXTURE_2D,on,0,0,oi,Ci,Yr):t.texImage2D(a.TEXTURE_2D,on,Dr,oi,Ci,Yr);fe.generateMipmaps=!1}else To?(gs&&t.texStorage2D(a.TEXTURE_2D,ct,Dr,hn.width,hn.height),t.texSubImage2D(a.TEXTURE_2D,0,0,0,oi,Ci,hn)):t.texImage2D(a.TEXTURE_2D,0,Dr,oi,Ci,hn);Me(fe,Wr)&&Ne(Xn),Mi.__version=xr.version,fe.onUpdate&&fe.onUpdate(fe)}Pe.__version=fe.version}function Ii(Pe,fe,Zt){if(fe.image.length!==6)return;const Xn=ot(Pe,fe),nr=fe.source;t.bindTexture(a.TEXTURE_CUBE_MAP,Pe.__webglTexture,a.TEXTURE0+Zt);const xr=n.get(nr);if(nr.version!==xr.__version||Xn===!0){t.activeTexture(a.TEXTURE0+Zt),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,fe.flipY),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),a.pixelStorei(a.UNPACK_ALIGNMENT,fe.unpackAlignment),a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,a.NONE);const Mi=fe.isCompressedTexture||fe.image[0].isCompressedTexture,Pr=fe.image[0]&&fe.image[0].isDataTexture,hn=[];for(let on=0;on<6;on++)!Mi&&!Pr?hn[on]=D(fe.image[on],!1,!0,d):hn[on]=Pr?fe.image[on].image:fe.image[on],hn[on]=_o(fe,hn[on]);const Wr=hn[0],oi=ne(Wr)||c,Ci=o.convert(fe.format,fe.colorSpace),Dr=o.convert(fe.type),Yr=nt(fe.internalFormat,Ci,Dr,fe.colorSpace),co=c&&fe.isVideoTexture!==!0,To=xr.__version===void 0||Xn===!0;let gs=G(fe,Wr,oi);wr(a.TEXTURE_CUBE_MAP,fe,oi);let ct;if(Mi){co&&To&&t.texStorage2D(a.TEXTURE_CUBE_MAP,gs,Yr,Wr.width,Wr.height);for(let on=0;on<6;on++){ct=hn[on].mipmaps;for(let Kn=0;Kn<ct.length;Kn++){const br=ct[Kn];fe.format!==Hr?Ci!==null?co?t.compressedTexSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+on,Kn,0,0,br.width,br.height,Ci,br.data):t.compressedTexImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+on,Kn,Yr,br.width,br.height,0,br.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):co?t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+on,Kn,0,0,br.width,br.height,Ci,Dr,br.data):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+on,Kn,Yr,br.width,br.height,0,Ci,Dr,br.data)}}}else{ct=fe.mipmaps,co&&To&&(ct.length>0&&gs++,t.texStorage2D(a.TEXTURE_CUBE_MAP,gs,Yr,hn[0].width,hn[0].height));for(let on=0;on<6;on++)if(Pr){co?t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+on,0,0,0,hn[on].width,hn[on].height,Ci,Dr,hn[on].data):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+on,0,Yr,hn[on].width,hn[on].height,0,Ci,Dr,hn[on].data);for(let Kn=0;Kn<ct.length;Kn++){const Gr=ct[Kn].image[on].image;co?t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+on,Kn+1,0,0,Gr.width,Gr.height,Ci,Dr,Gr.data):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+on,Kn+1,Yr,Gr.width,Gr.height,0,Ci,Dr,Gr.data)}}else{co?t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+on,0,0,0,Ci,Dr,hn[on]):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+on,0,Yr,Ci,Dr,hn[on]);for(let Kn=0;Kn<ct.length;Kn++){const br=ct[Kn];co?t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+on,Kn+1,0,0,Ci,Dr,br.image[on]):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+on,Kn+1,Yr,Ci,Dr,br.image[on])}}}Me(fe,oi)&&Ne(a.TEXTURE_CUBE_MAP),xr.__version=nr.version,fe.onUpdate&&fe.onUpdate(fe)}Pe.__version=fe.version}function lr(Pe,fe,Zt,Xn,nr){const xr=o.convert(Zt.format,Zt.colorSpace),Mi=o.convert(Zt.type),Pr=nt(Zt.internalFormat,xr,Mi,Zt.colorSpace);n.get(fe).__hasExternalTextures||(nr===a.TEXTURE_3D||nr===a.TEXTURE_2D_ARRAY?t.texImage3D(nr,0,Pr,fe.width,fe.height,fe.depth,0,xr,Mi,null):t.texImage2D(nr,0,Pr,fe.width,fe.height,0,xr,Mi,null)),t.bindFramebuffer(a.FRAMEBUFFER,Pe),ii(fe)?v.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,Xn,nr,n.get(Zt).__webglTexture,0,vi(fe)):(nr===a.TEXTURE_2D||nr>=a.TEXTURE_CUBE_MAP_POSITIVE_X&&nr<=a.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&a.framebufferTexture2D(a.FRAMEBUFFER,Xn,nr,n.get(Zt).__webglTexture,0),t.bindFramebuffer(a.FRAMEBUFFER,null)}function Zr(Pe,fe,Zt){if(a.bindRenderbuffer(a.RENDERBUFFER,Pe),fe.depthBuffer&&!fe.stencilBuffer){let Xn=a.DEPTH_COMPONENT16;if(Zt||ii(fe)){const nr=fe.depthTexture;nr&&nr.isDepthTexture&&(nr.type===oe?Xn=a.DEPTH_COMPONENT32F:nr.type===ut&&(Xn=a.DEPTH_COMPONENT24));const xr=vi(fe);ii(fe)?v.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,xr,Xn,fe.width,fe.height):a.renderbufferStorageMultisample(a.RENDERBUFFER,xr,Xn,fe.width,fe.height)}else a.renderbufferStorage(a.RENDERBUFFER,Xn,fe.width,fe.height);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,Pe)}else if(fe.depthBuffer&&fe.stencilBuffer){const Xn=vi(fe);Zt&&ii(fe)===!1?a.renderbufferStorageMultisample(a.RENDERBUFFER,Xn,a.DEPTH24_STENCIL8,fe.width,fe.height):ii(fe)?v.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,Xn,a.DEPTH24_STENCIL8,fe.width,fe.height):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,fe.width,fe.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,Pe)}else{const Xn=fe.isWebGLMultipleRenderTargets===!0?fe.texture:[fe.texture];for(let nr=0;nr<Xn.length;nr++){const xr=Xn[nr],Mi=o.convert(xr.format,xr.colorSpace),Pr=o.convert(xr.type),hn=nt(xr.internalFormat,Mi,Pr,xr.colorSpace),Wr=vi(fe);Zt&&ii(fe)===!1?a.renderbufferStorageMultisample(a.RENDERBUFFER,Wr,hn,fe.width,fe.height):ii(fe)?v.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,Wr,hn,fe.width,fe.height):a.renderbufferStorage(a.RENDERBUFFER,hn,fe.width,fe.height)}}a.bindRenderbuffer(a.RENDERBUFFER,null)}function kn(Pe,fe){if(fe&&fe.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(a.FRAMEBUFFER,Pe),!(fe.depthTexture&&fe.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(fe.depthTexture).__webglTexture||fe.depthTexture.image.width!==fe.width||fe.depthTexture.image.height!==fe.height)&&(fe.depthTexture.image.width=fe.width,fe.depthTexture.image.height=fe.height,fe.depthTexture.needsUpdate=!0),Gn(fe.depthTexture,0);const Xn=n.get(fe.depthTexture).__webglTexture,nr=vi(fe);if(fe.depthTexture.format===ri)ii(fe)?v.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,Xn,0,nr):a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,Xn,0);else if(fe.depthTexture.format===ei)ii(fe)?v.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,Xn,0,nr):a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,Xn,0);else throw new Error("Unknown depthTexture format")}function mn(Pe){const fe=n.get(Pe),Zt=Pe.isWebGLCubeRenderTarget===!0;if(Pe.depthTexture&&!fe.__autoAllocateDepthBuffer){if(Zt)throw new Error("target.depthTexture not supported in Cube render targets");kn(fe.__webglFramebuffer,Pe)}else if(Zt){fe.__webglDepthbuffer=[];for(let Xn=0;Xn<6;Xn++)t.bindFramebuffer(a.FRAMEBUFFER,fe.__webglFramebuffer[Xn]),fe.__webglDepthbuffer[Xn]=a.createRenderbuffer(),Zr(fe.__webglDepthbuffer[Xn],Pe,!1)}else t.bindFramebuffer(a.FRAMEBUFFER,fe.__webglFramebuffer),fe.__webglDepthbuffer=a.createRenderbuffer(),Zr(fe.__webglDepthbuffer,Pe,!1);t.bindFramebuffer(a.FRAMEBUFFER,null)}function $n(Pe,fe,Zt){const Xn=n.get(Pe);fe!==void 0&&lr(Xn.__webglFramebuffer,Pe,Pe.texture,a.COLOR_ATTACHMENT0,a.TEXTURE_2D),Zt!==void 0&&mn(Pe)}function Or(Pe){const fe=Pe.texture,Zt=n.get(Pe),Xn=n.get(fe);Pe.addEventListener("dispose",pn),Pe.isWebGLMultipleRenderTargets!==!0&&(Xn.__webglTexture===void 0&&(Xn.__webglTexture=a.createTexture()),Xn.__version=fe.version,l.memory.textures++);const nr=Pe.isWebGLCubeRenderTarget===!0,xr=Pe.isWebGLMultipleRenderTargets===!0,Mi=ne(Pe)||c;if(nr){Zt.__webglFramebuffer=[];for(let Pr=0;Pr<6;Pr++)Zt.__webglFramebuffer[Pr]=a.createFramebuffer()}else{if(Zt.__webglFramebuffer=a.createFramebuffer(),xr)if(r.drawBuffers){const Pr=Pe.texture;for(let hn=0,Wr=Pr.length;hn<Wr;hn++){const oi=n.get(Pr[hn]);oi.__webglTexture===void 0&&(oi.__webglTexture=a.createTexture(),l.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(c&&Pe.samples>0&&ii(Pe)===!1){const Pr=xr?fe:[fe];Zt.__webglMultisampledFramebuffer=a.createFramebuffer(),Zt.__webglColorRenderbuffer=[],t.bindFramebuffer(a.FRAMEBUFFER,Zt.__webglMultisampledFramebuffer);for(let hn=0;hn<Pr.length;hn++){const Wr=Pr[hn];Zt.__webglColorRenderbuffer[hn]=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,Zt.__webglColorRenderbuffer[hn]);const oi=o.convert(Wr.format,Wr.colorSpace),Ci=o.convert(Wr.type),Dr=nt(Wr.internalFormat,oi,Ci,Wr.colorSpace,Pe.isXRRenderTarget===!0),Yr=vi(Pe);a.renderbufferStorageMultisample(a.RENDERBUFFER,Yr,Dr,Pe.width,Pe.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+hn,a.RENDERBUFFER,Zt.__webglColorRenderbuffer[hn])}a.bindRenderbuffer(a.RENDERBUFFER,null),Pe.depthBuffer&&(Zt.__webglDepthRenderbuffer=a.createRenderbuffer(),Zr(Zt.__webglDepthRenderbuffer,Pe,!0)),t.bindFramebuffer(a.FRAMEBUFFER,null)}}if(nr){t.bindTexture(a.TEXTURE_CUBE_MAP,Xn.__webglTexture),wr(a.TEXTURE_CUBE_MAP,fe,Mi);for(let Pr=0;Pr<6;Pr++)lr(Zt.__webglFramebuffer[Pr],Pe,fe,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+Pr);Me(fe,Mi)&&Ne(a.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(xr){const Pr=Pe.texture;for(let hn=0,Wr=Pr.length;hn<Wr;hn++){const oi=Pr[hn],Ci=n.get(oi);t.bindTexture(a.TEXTURE_2D,Ci.__webglTexture),wr(a.TEXTURE_2D,oi,Mi),lr(Zt.__webglFramebuffer,Pe,oi,a.COLOR_ATTACHMENT0+hn,a.TEXTURE_2D),Me(oi,Mi)&&Ne(a.TEXTURE_2D)}t.unbindTexture()}else{let Pr=a.TEXTURE_2D;(Pe.isWebGL3DRenderTarget||Pe.isWebGLArrayRenderTarget)&&(c?Pr=Pe.isWebGL3DRenderTarget?a.TEXTURE_3D:a.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Pr,Xn.__webglTexture),wr(Pr,fe,Mi),lr(Zt.__webglFramebuffer,Pe,fe,a.COLOR_ATTACHMENT0,Pr),Me(fe,Mi)&&Ne(Pr),t.unbindTexture()}Pe.depthBuffer&&mn(Pe)}function Cr(Pe){const fe=ne(Pe)||c,Zt=Pe.isWebGLMultipleRenderTargets===!0?Pe.texture:[Pe.texture];for(let Xn=0,nr=Zt.length;Xn<nr;Xn++){const xr=Zt[Xn];if(Me(xr,fe)){const Mi=Pe.isWebGLCubeRenderTarget?a.TEXTURE_CUBE_MAP:a.TEXTURE_2D,Pr=n.get(xr).__webglTexture;t.bindTexture(Mi,Pr),Ne(Mi),t.unbindTexture()}}}function gi(Pe){if(c&&Pe.samples>0&&ii(Pe)===!1){const fe=Pe.isWebGLMultipleRenderTargets?Pe.texture:[Pe.texture],Zt=Pe.width,Xn=Pe.height;let nr=a.COLOR_BUFFER_BIT;const xr=[],Mi=Pe.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT,Pr=n.get(Pe),hn=Pe.isWebGLMultipleRenderTargets===!0;if(hn)for(let Wr=0;Wr<fe.length;Wr++)t.bindFramebuffer(a.FRAMEBUFFER,Pr.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+Wr,a.RENDERBUFFER,null),t.bindFramebuffer(a.FRAMEBUFFER,Pr.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+Wr,a.TEXTURE_2D,null,0);t.bindFramebuffer(a.READ_FRAMEBUFFER,Pr.__webglMultisampledFramebuffer),t.bindFramebuffer(a.DRAW_FRAMEBUFFER,Pr.__webglFramebuffer);for(let Wr=0;Wr<fe.length;Wr++){xr.push(a.COLOR_ATTACHMENT0+Wr),Pe.depthBuffer&&xr.push(Mi);const oi=Pr.__ignoreDepthValues!==void 0?Pr.__ignoreDepthValues:!1;if(oi===!1&&(Pe.depthBuffer&&(nr|=a.DEPTH_BUFFER_BIT),Pe.stencilBuffer&&(nr|=a.STENCIL_BUFFER_BIT)),hn&&a.framebufferRenderbuffer(a.READ_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,Pr.__webglColorRenderbuffer[Wr]),oi===!0&&(a.invalidateFramebuffer(a.READ_FRAMEBUFFER,[Mi]),a.invalidateFramebuffer(a.DRAW_FRAMEBUFFER,[Mi])),hn){const Ci=n.get(fe[Wr]).__webglTexture;a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,Ci,0)}a.blitFramebuffer(0,0,Zt,Xn,0,0,Zt,Xn,nr,a.NEAREST),C&&a.invalidateFramebuffer(a.READ_FRAMEBUFFER,xr)}if(t.bindFramebuffer(a.READ_FRAMEBUFFER,null),t.bindFramebuffer(a.DRAW_FRAMEBUFFER,null),hn)for(let Wr=0;Wr<fe.length;Wr++){t.bindFramebuffer(a.FRAMEBUFFER,Pr.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+Wr,a.RENDERBUFFER,Pr.__webglColorRenderbuffer[Wr]);const oi=n.get(fe[Wr]).__webglTexture;t.bindFramebuffer(a.FRAMEBUFFER,Pr.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+Wr,a.TEXTURE_2D,oi,0)}t.bindFramebuffer(a.DRAW_FRAMEBUFFER,Pr.__webglMultisampledFramebuffer)}}function vi(Pe){return Math.min(g,Pe.samples)}function ii(Pe){const fe=n.get(Pe);return c&&Pe.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&fe.__useRenderToTexture!==!1}function Xi(Pe){const fe=l.render.frame;y.get(Pe)!==fe&&(y.set(Pe,fe),Pe.update())}function _o(Pe,fe){const Zt=Pe.colorSpace,Xn=Pe.format,nr=Pe.type;return Pe.isCompressedTexture===!0||Pe.format===Fi||Zt!==Wo&&Zt!==ns&&(Zt===Fr?c===!1?e.has("EXT_sRGB")===!0&&Xn===Hr?(Pe.format=Fi,Pe.minFilter=Jn,Pe.generateMipmaps=!1):fe=A1.sRGBToLinear(fe):(Xn!==Hr||nr!==Nt)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Zt)),fe}this.allocateTextureUnit=Rn,this.resetTextureUnits=Ln,this.setTexture2D=Gn,this.setTexture2DArray=Ar,this.setTexture3D=yr,this.setTextureCube=tn,this.rebindTextures=$n,this.setupRenderTarget=Or,this.updateRenderTargetMipmap=Cr,this.updateMultisampleRenderTarget=gi,this.setupDepthRenderbuffer=mn,this.setupFrameBufferTexture=lr,this.useMultisampledRTT=ii}function I2(a,e,t){const n=t.isWebGL2;function r(o,l=ns){let c;if(o===Nt)return a.UNSIGNED_BYTE;if(o===Tt)return a.UNSIGNED_SHORT_4_4_4_4;if(o===nn)return a.UNSIGNED_SHORT_5_5_5_1;if(o===Nn)return a.BYTE;if(o===wn)return a.SHORT;if(o===Bt)return a.UNSIGNED_SHORT;if(o===Vt)return a.INT;if(o===ut)return a.UNSIGNED_INT;if(o===oe)return a.FLOAT;if(o===We)return n?a.HALF_FLOAT:(c=e.get("OES_texture_half_float"),c!==null?c.HALF_FLOAT_OES:null);if(o===hr)return a.ALPHA;if(o===Hr)return a.RGBA;if(o===Li)return a.LUMINANCE;if(o===Qr)return a.LUMINANCE_ALPHA;if(o===ri)return a.DEPTH_COMPONENT;if(o===ei)return a.DEPTH_STENCIL;if(o===Fi)return c=e.get("EXT_sRGB"),c!==null?c.SRGB_ALPHA_EXT:null;if(o===ji)return a.RED;if(o===R)return a.RED_INTEGER;if(o===H)return a.RG;if(o===S)return a.RG_INTEGER;if(o===T)return a.RGBA_INTEGER;if(o===Q||o===se||o===Ze||o===st)if(l===Fr)if(c=e.get("WEBGL_compressed_texture_s3tc_srgb"),c!==null){if(o===Q)return c.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===se)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===Ze)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===st)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(c=e.get("WEBGL_compressed_texture_s3tc"),c!==null){if(o===Q)return c.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===se)return c.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===Ze)return c.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===st)return c.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===qe||o===vt||o===He||o===Be)if(c=e.get("WEBGL_compressed_texture_pvrtc"),c!==null){if(o===qe)return c.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===vt)return c.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===He)return c.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===Be)return c.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===bt)return c=e.get("WEBGL_compressed_texture_etc1"),c!==null?c.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===Ce||o===be)if(c=e.get("WEBGL_compressed_texture_etc"),c!==null){if(o===Ce)return l===Fr?c.COMPRESSED_SRGB8_ETC2:c.COMPRESSED_RGB8_ETC2;if(o===be)return l===Fr?c.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:c.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===ke||o===Ve||o===et||o===Qe||o===Ct||o===cn||o===Yn||o===On||o===Qn||o===Vn||o===Wn||o===mr||o===Jt||o===rr)if(c=e.get("WEBGL_compressed_texture_astc"),c!==null){if(o===ke)return l===Fr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:c.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===Ve)return l===Fr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:c.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===et)return l===Fr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:c.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===Qe)return l===Fr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:c.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===Ct)return l===Fr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:c.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===cn)return l===Fr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:c.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===Yn)return l===Fr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:c.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===On)return l===Fr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:c.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===Qn)return l===Fr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:c.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===Vn)return l===Fr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:c.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===Wn)return l===Fr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:c.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===mr)return l===Fr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:c.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===Jt)return l===Fr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:c.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===rr)return l===Fr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:c.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===Lr)if(c=e.get("EXT_texture_compression_bptc"),c!==null){if(o===Lr)return l===Fr?c.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:c.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(o===Ti||o===bi||o===go||o===Yi)if(c=e.get("EXT_texture_compression_rgtc"),c!==null){if(o===Lr)return c.COMPRESSED_RED_RGTC1_EXT;if(o===bi)return c.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===go)return c.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===Yi)return c.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===Zn?n?a.UNSIGNED_INT_24_8:(c=e.get("WEBGL_depth_texture"),c!==null?c.UNSIGNED_INT_24_8_WEBGL:null):a[o]!==void 0?a[o]:null}return{convert:r}}class O2 extends Zo{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class au extends $i{constructor(){super(),this.isGroup=!0,this.type="Group"}}const d5={type:"move"};class Of{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new au,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new au,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ce,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ce),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new au,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ce,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ce),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,o=null,l=null;const c=this._targetRay,f=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(d&&e.hand){l=!0;for(const A of e.hand.values()){const M=t.getJointPose(A,n),x=this._getHandJoint(d,A);M!==null&&(x.matrix.fromArray(M.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=M.radius),x.visible=M!==null}const m=d.joints["index-finger-tip"],g=d.joints["thumb-tip"],v=m.position.distanceTo(g.position),C=.02,y=.005;d.inputState.pinching&&v>C+y?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&v<=C-y&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else f!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,n),o!==null&&(f.matrix.fromArray(o.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,o.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(o.linearVelocity)):f.hasLinearVelocity=!1,o.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(o.angularVelocity)):f.hasAngularVelocity=!1));c!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&o!==null&&(r=o),r!==null&&(c.matrix.fromArray(r.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,r.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(r.linearVelocity)):c.hasLinearVelocity=!1,r.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(r.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(d5)))}return c!==null&&(c.visible=r!==null),f!==null&&(f.visible=o!==null),d!==null&&(d.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new au;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class D2 extends hi{constructor(e,t,n,r,o,l,c,f,d,m){if(m=m!==void 0?m:ri,m!==ri&&m!==ei)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&m===ri&&(n=ut),n===void 0&&m===ei&&(n=Zn),super(null,r,o,l,c,f,m,n,d),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=c!==void 0?c:ln,this.minFilter=f!==void 0?f:ln,this.flipY=!1,this.generateMipmaps=!1}}class h5 extends ki{constructor(e,t){super();const n=this;let r=null,o=1,l=null,c="local-floor",f=1,d=null,m=null,g=null,v=null,C=null,y=null;const A=t.getContextAttributes();let M=null,x=null;const U=[],D=[],ne=new Set,ue=new Map,Me=new Zo;Me.layers.enable(1),Me.viewport=new kr;const Ne=new Zo;Ne.layers.enable(2),Ne.viewport=new kr;const nt=[Me,Ne],G=new O2;G.layers.enable(1),G.layers.enable(2);let Ee=null,$t=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(tn){let Hn=U[tn];return Hn===void 0&&(Hn=new Of,U[tn]=Hn),Hn.getTargetRaySpace()},this.getControllerGrip=function(tn){let Hn=U[tn];return Hn===void 0&&(Hn=new Of,U[tn]=Hn),Hn.getGripSpace()},this.getHand=function(tn){let Hn=U[tn];return Hn===void 0&&(Hn=new Of,U[tn]=Hn),Hn.getHandSpace()};function pn(tn){const Hn=D.indexOf(tn.inputSource);if(Hn===-1)return;const vr=U[Hn];vr!==void 0&&(vr.update(tn.inputSource,tn.frame,d||l),vr.dispatchEvent({type:tn.type,data:tn.inputSource}))}function St(){r.removeEventListener("select",pn),r.removeEventListener("selectstart",pn),r.removeEventListener("selectend",pn),r.removeEventListener("squeeze",pn),r.removeEventListener("squeezestart",pn),r.removeEventListener("squeezeend",pn),r.removeEventListener("end",St),r.removeEventListener("inputsourceschange",Ut);for(let tn=0;tn<U.length;tn++){const Hn=D[tn];Hn!==null&&(D[tn]=null,U[tn].disconnect(Hn))}Ee=null,$t=null,e.setRenderTarget(M),C=null,v=null,g=null,r=null,x=null,yr.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(tn){o=tn,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(tn){c=tn,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||l},this.setReferenceSpace=function(tn){d=tn},this.getBaseLayer=function(){return v!==null?v:C},this.getBinding=function(){return g},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=function(tn){return Wl(this,null,function*(){if(r=tn,r!==null){if(M=e.getRenderTarget(),r.addEventListener("select",pn),r.addEventListener("selectstart",pn),r.addEventListener("selectend",pn),r.addEventListener("squeeze",pn),r.addEventListener("squeezestart",pn),r.addEventListener("squeezeend",pn),r.addEventListener("end",St),r.addEventListener("inputsourceschange",Ut),A.xrCompatible!==!0&&(yield t.makeXRCompatible()),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Hn={antialias:r.renderState.layers===void 0?A.antialias:!0,alpha:!0,depth:A.depth,stencil:A.stencil,framebufferScaleFactor:o};C=new XRWebGLLayer(r,t,Hn),r.updateRenderState({baseLayer:C}),x=new Ki(C.framebufferWidth,C.framebufferHeight,{format:Hr,type:Nt,colorSpace:e.outputColorSpace,stencilBuffer:A.stencil})}else{let Hn=null,vr=null,wr=null;A.depth&&(wr=A.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Hn=A.stencil?ei:ri,vr=A.stencil?Zn:ut);const ot={colorFormat:t.RGBA8,depthFormat:wr,scaleFactor:o};g=new XRWebGLBinding(r,t),v=g.createProjectionLayer(ot),r.updateRenderState({layers:[v]}),x=new Ki(v.textureWidth,v.textureHeight,{format:Hr,type:Nt,depthTexture:new D2(v.textureWidth,v.textureHeight,vr,void 0,void 0,void 0,void 0,void 0,void 0,Hn),stencilBuffer:A.stencil,colorSpace:e.outputColorSpace,samples:A.antialias?4:0});const Ri=e.properties.get(x);Ri.__ignoreDepthValues=v.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(f),d=null,l=yield r.requestReferenceSpace(c),yr.setContext(r),yr.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}})},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function Ut(tn){for(let Hn=0;Hn<tn.removed.length;Hn++){const vr=tn.removed[Hn],wr=D.indexOf(vr);wr>=0&&(D[wr]=null,U[wr].disconnect(vr))}for(let Hn=0;Hn<tn.added.length;Hn++){const vr=tn.added[Hn];let wr=D.indexOf(vr);if(wr===-1){for(let Ri=0;Ri<U.length;Ri++)if(Ri>=D.length){D.push(vr),wr=Ri;break}else if(D[Ri]===null){D[Ri]=vr,wr=Ri;break}if(wr===-1)break}const ot=U[wr];ot&&ot.connect(vr)}}const Xt=new ce,Bn=new ce;function Ln(tn,Hn,vr){Xt.setFromMatrixPosition(Hn.matrixWorld),Bn.setFromMatrixPosition(vr.matrixWorld);const wr=Xt.distanceTo(Bn),ot=Hn.projectionMatrix.elements,Ri=vr.projectionMatrix.elements,Ii=ot[14]/(ot[10]-1),lr=ot[14]/(ot[10]+1),Zr=(ot[9]+1)/ot[5],kn=(ot[9]-1)/ot[5],mn=(ot[8]-1)/ot[0],$n=(Ri[8]+1)/Ri[0],Or=Ii*mn,Cr=Ii*$n,gi=wr/(-mn+$n),vi=gi*-mn;Hn.matrixWorld.decompose(tn.position,tn.quaternion,tn.scale),tn.translateX(vi),tn.translateZ(gi),tn.matrixWorld.compose(tn.position,tn.quaternion,tn.scale),tn.matrixWorldInverse.copy(tn.matrixWorld).invert();const ii=Ii+gi,Xi=lr+gi,_o=Or-vi,Pe=Cr+(wr-vi),fe=Zr*lr/Xi*ii,Zt=kn*lr/Xi*ii;tn.projectionMatrix.makePerspective(_o,Pe,fe,Zt,ii,Xi),tn.projectionMatrixInverse.copy(tn.projectionMatrix).invert()}function Rn(tn,Hn){Hn===null?tn.matrixWorld.copy(tn.matrix):tn.matrixWorld.multiplyMatrices(Hn.matrixWorld,tn.matrix),tn.matrixWorldInverse.copy(tn.matrixWorld).invert()}this.updateCamera=function(tn){if(r===null)return;G.near=Ne.near=Me.near=tn.near,G.far=Ne.far=Me.far=tn.far,(Ee!==G.near||$t!==G.far)&&(r.updateRenderState({depthNear:G.near,depthFar:G.far}),Ee=G.near,$t=G.far);const Hn=tn.parent,vr=G.cameras;Rn(G,Hn);for(let wr=0;wr<vr.length;wr++)Rn(vr[wr],Hn);vr.length===2?Ln(G,Me,Ne):G.projectionMatrix.copy(Me.projectionMatrix),Un(tn,G,Hn)};function Un(tn,Hn,vr){vr===null?tn.matrix.copy(Hn.matrixWorld):(tn.matrix.copy(vr.matrixWorld),tn.matrix.invert(),tn.matrix.multiply(Hn.matrixWorld)),tn.matrix.decompose(tn.position,tn.quaternion,tn.scale),tn.updateMatrixWorld(!0);const wr=tn.children;for(let ot=0,Ri=wr.length;ot<Ri;ot++)wr[ot].updateMatrixWorld(!0);tn.projectionMatrix.copy(Hn.projectionMatrix),tn.projectionMatrixInverse.copy(Hn.projectionMatrixInverse),tn.isPerspectiveCamera&&(tn.fov=oa*2*Math.atan(1/tn.projectionMatrix.elements[5]),tn.zoom=1)}this.getCamera=function(){return G},this.getFoveation=function(){if(!(v===null&&C===null))return f},this.setFoveation=function(tn){f=tn,v!==null&&(v.fixedFoveation=tn),C!==null&&C.fixedFoveation!==void 0&&(C.fixedFoveation=tn)},this.getPlanes=function(){return ne};let Gn=null;function Ar(tn,Hn){if(m=Hn.getViewerPose(d||l),y=Hn,m!==null){const vr=m.views;C!==null&&(e.setRenderTargetFramebuffer(x,C.framebuffer),e.setRenderTarget(x));let wr=!1;vr.length!==G.cameras.length&&(G.cameras.length=0,wr=!0);for(let ot=0;ot<vr.length;ot++){const Ri=vr[ot];let Ii=null;if(C!==null)Ii=C.getViewport(Ri);else{const Zr=g.getViewSubImage(v,Ri);Ii=Zr.viewport,ot===0&&(e.setRenderTargetTextures(x,Zr.colorTexture,v.ignoreDepthValues?void 0:Zr.depthStencilTexture),e.setRenderTarget(x))}let lr=nt[ot];lr===void 0&&(lr=new Zo,lr.layers.enable(ot),lr.viewport=new kr,nt[ot]=lr),lr.matrix.fromArray(Ri.transform.matrix),lr.matrix.decompose(lr.position,lr.quaternion,lr.scale),lr.projectionMatrix.fromArray(Ri.projectionMatrix),lr.projectionMatrixInverse.copy(lr.projectionMatrix).invert(),lr.viewport.set(Ii.x,Ii.y,Ii.width,Ii.height),ot===0&&(G.matrix.copy(lr.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale)),wr===!0&&G.cameras.push(lr)}}for(let vr=0;vr<U.length;vr++){const wr=D[vr],ot=U[vr];wr!==null&&ot!==void 0&&ot.update(wr,Hn,d||l)}if(Gn&&Gn(tn,Hn),Hn.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:Hn.detectedPlanes});let vr=null;for(const wr of ne)Hn.detectedPlanes.has(wr)||(vr===null&&(vr=[]),vr.push(wr));if(vr!==null)for(const wr of vr)ne.delete(wr),ue.delete(wr),n.dispatchEvent({type:"planeremoved",data:wr});for(const wr of Hn.detectedPlanes)if(!ne.has(wr))ne.add(wr),ue.set(wr,Hn.lastChangedTime),n.dispatchEvent({type:"planeadded",data:wr});else{const ot=ue.get(wr);wr.lastChangedTime>ot&&(ue.set(wr,wr.lastChangedTime),n.dispatchEvent({type:"planechanged",data:wr}))}}y=null}const yr=new Bs;yr.setAnimationLoop(Ar),this.setAnimationLoop=function(tn){Gn=tn},this.dispose=function(){}}}function p5(a,e){function t(M,x){M.matrixAutoUpdate===!0&&M.updateMatrix(),x.value.copy(M.matrix)}function n(M,x){x.color.getRGB(M.fogColor.value,Sl(a)),x.isFog?(M.fogNear.value=x.near,M.fogFar.value=x.far):x.isFogExp2&&(M.fogDensity.value=x.density)}function r(M,x,U,D,ne){x.isMeshBasicMaterial||x.isMeshLambertMaterial?o(M,x):x.isMeshToonMaterial?(o(M,x),g(M,x)):x.isMeshPhongMaterial?(o(M,x),m(M,x)):x.isMeshStandardMaterial?(o(M,x),v(M,x),x.isMeshPhysicalMaterial&&C(M,x,ne)):x.isMeshMatcapMaterial?(o(M,x),y(M,x)):x.isMeshDepthMaterial?o(M,x):x.isMeshDistanceMaterial?(o(M,x),A(M,x)):x.isMeshNormalMaterial?o(M,x):x.isLineBasicMaterial?(l(M,x),x.isLineDashedMaterial&&c(M,x)):x.isPointsMaterial?f(M,x,U,D):x.isSpriteMaterial?d(M,x):x.isShadowMaterial?(M.color.value.copy(x.color),M.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function o(M,x){M.opacity.value=x.opacity,x.color&&M.diffuse.value.copy(x.color),x.emissive&&M.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(M.map.value=x.map,t(x.map,M.mapTransform)),x.alphaMap&&(M.alphaMap.value=x.alphaMap,t(x.alphaMap,M.alphaMapTransform)),x.bumpMap&&(M.bumpMap.value=x.bumpMap,t(x.bumpMap,M.bumpMapTransform),M.bumpScale.value=x.bumpScale,x.side===mt&&(M.bumpScale.value*=-1)),x.normalMap&&(M.normalMap.value=x.normalMap,t(x.normalMap,M.normalMapTransform),M.normalScale.value.copy(x.normalScale),x.side===mt&&M.normalScale.value.negate()),x.displacementMap&&(M.displacementMap.value=x.displacementMap,t(x.displacementMap,M.displacementMapTransform),M.displacementScale.value=x.displacementScale,M.displacementBias.value=x.displacementBias),x.emissiveMap&&(M.emissiveMap.value=x.emissiveMap,t(x.emissiveMap,M.emissiveMapTransform)),x.specularMap&&(M.specularMap.value=x.specularMap,t(x.specularMap,M.specularMapTransform)),x.alphaTest>0&&(M.alphaTest.value=x.alphaTest);const U=e.get(x).envMap;if(U&&(M.envMap.value=U,M.flipEnvMap.value=U.isCubeTexture&&U.isRenderTargetTexture===!1?-1:1,M.reflectivity.value=x.reflectivity,M.ior.value=x.ior,M.refractionRatio.value=x.refractionRatio),x.lightMap){M.lightMap.value=x.lightMap;const D=a.useLegacyLights===!0?Math.PI:1;M.lightMapIntensity.value=x.lightMapIntensity*D,t(x.lightMap,M.lightMapTransform)}x.aoMap&&(M.aoMap.value=x.aoMap,M.aoMapIntensity.value=x.aoMapIntensity,t(x.aoMap,M.aoMapTransform))}function l(M,x){M.diffuse.value.copy(x.color),M.opacity.value=x.opacity,x.map&&(M.map.value=x.map,t(x.map,M.mapTransform))}function c(M,x){M.dashSize.value=x.dashSize,M.totalSize.value=x.dashSize+x.gapSize,M.scale.value=x.scale}function f(M,x,U,D){M.diffuse.value.copy(x.color),M.opacity.value=x.opacity,M.size.value=x.size*U,M.scale.value=D*.5,x.map&&(M.map.value=x.map,t(x.map,M.uvTransform)),x.alphaMap&&(M.alphaMap.value=x.alphaMap),x.alphaTest>0&&(M.alphaTest.value=x.alphaTest)}function d(M,x){M.diffuse.value.copy(x.color),M.opacity.value=x.opacity,M.rotation.value=x.rotation,x.map&&(M.map.value=x.map,t(x.map,M.mapTransform)),x.alphaMap&&(M.alphaMap.value=x.alphaMap),x.alphaTest>0&&(M.alphaTest.value=x.alphaTest)}function m(M,x){M.specular.value.copy(x.specular),M.shininess.value=Math.max(x.shininess,1e-4)}function g(M,x){x.gradientMap&&(M.gradientMap.value=x.gradientMap)}function v(M,x){M.metalness.value=x.metalness,x.metalnessMap&&(M.metalnessMap.value=x.metalnessMap,t(x.metalnessMap,M.metalnessMapTransform)),M.roughness.value=x.roughness,x.roughnessMap&&(M.roughnessMap.value=x.roughnessMap,t(x.roughnessMap,M.roughnessMapTransform)),e.get(x).envMap&&(M.envMapIntensity.value=x.envMapIntensity)}function C(M,x,U){M.ior.value=x.ior,x.sheen>0&&(M.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),M.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(M.sheenColorMap.value=x.sheenColorMap,t(x.sheenColorMap,M.sheenColorMapTransform)),x.sheenRoughnessMap&&(M.sheenRoughnessMap.value=x.sheenRoughnessMap,t(x.sheenRoughnessMap,M.sheenRoughnessMapTransform))),x.clearcoat>0&&(M.clearcoat.value=x.clearcoat,M.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(M.clearcoatMap.value=x.clearcoatMap,t(x.clearcoatMap,M.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(M.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,t(x.clearcoatRoughnessMap,M.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(M.clearcoatNormalMap.value=x.clearcoatNormalMap,t(x.clearcoatNormalMap,M.clearcoatNormalMapTransform),M.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===mt&&M.clearcoatNormalScale.value.negate())),x.iridescence>0&&(M.iridescence.value=x.iridescence,M.iridescenceIOR.value=x.iridescenceIOR,M.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],M.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(M.iridescenceMap.value=x.iridescenceMap,t(x.iridescenceMap,M.iridescenceMapTransform)),x.iridescenceThicknessMap&&(M.iridescenceThicknessMap.value=x.iridescenceThicknessMap,t(x.iridescenceThicknessMap,M.iridescenceThicknessMapTransform))),x.transmission>0&&(M.transmission.value=x.transmission,M.transmissionSamplerMap.value=U.texture,M.transmissionSamplerSize.value.set(U.width,U.height),x.transmissionMap&&(M.transmissionMap.value=x.transmissionMap,t(x.transmissionMap,M.transmissionMapTransform)),M.thickness.value=x.thickness,x.thicknessMap&&(M.thicknessMap.value=x.thicknessMap,t(x.thicknessMap,M.thicknessMapTransform)),M.attenuationDistance.value=x.attenuationDistance,M.attenuationColor.value.copy(x.attenuationColor)),M.specularIntensity.value=x.specularIntensity,M.specularColor.value.copy(x.specularColor),x.specularColorMap&&(M.specularColorMap.value=x.specularColorMap,t(x.specularColorMap,M.specularColorMapTransform)),x.specularIntensityMap&&(M.specularIntensityMap.value=x.specularIntensityMap,t(x.specularIntensityMap,M.specularIntensityMapTransform))}function y(M,x){x.matcap&&(M.matcap.value=x.matcap)}function A(M,x){const U=e.get(x).light;M.referencePosition.value.setFromMatrixPosition(U.matrixWorld),M.nearDistance.value=U.shadow.camera.near,M.farDistance.value=U.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function m5(a,e,t,n){let r={},o={},l=[];const c=t.isWebGL2?a.getParameter(a.MAX_UNIFORM_BUFFER_BINDINGS):0;function f(U,D){const ne=D.program;n.uniformBlockBinding(U,ne)}function d(U,D){let ne=r[U.id];ne===void 0&&(y(U),ne=m(U),r[U.id]=ne,U.addEventListener("dispose",M));const ue=D.program;n.updateUBOMapping(U,ue);const Me=e.render.frame;o[U.id]!==Me&&(v(U),o[U.id]=Me)}function m(U){const D=g();U.__bindingPointIndex=D;const ne=a.createBuffer(),ue=U.__size,Me=U.usage;return a.bindBuffer(a.UNIFORM_BUFFER,ne),a.bufferData(a.UNIFORM_BUFFER,ue,Me),a.bindBuffer(a.UNIFORM_BUFFER,null),a.bindBufferBase(a.UNIFORM_BUFFER,D,ne),ne}function g(){for(let U=0;U<c;U++)if(l.indexOf(U)===-1)return l.push(U),U;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(U){const D=r[U.id],ne=U.uniforms,ue=U.__cache;a.bindBuffer(a.UNIFORM_BUFFER,D);for(let Me=0,Ne=ne.length;Me<Ne;Me++){const nt=ne[Me];if(C(nt,Me,ue)===!0){const G=nt.__offset,Ee=Array.isArray(nt.value)?nt.value:[nt.value];let $t=0;for(let pn=0;pn<Ee.length;pn++){const St=Ee[pn],Ut=A(St);typeof St=="number"?(nt.__data[0]=St,a.bufferSubData(a.UNIFORM_BUFFER,G+$t,nt.__data)):St.isMatrix3?(nt.__data[0]=St.elements[0],nt.__data[1]=St.elements[1],nt.__data[2]=St.elements[2],nt.__data[3]=St.elements[0],nt.__data[4]=St.elements[3],nt.__data[5]=St.elements[4],nt.__data[6]=St.elements[5],nt.__data[7]=St.elements[0],nt.__data[8]=St.elements[6],nt.__data[9]=St.elements[7],nt.__data[10]=St.elements[8],nt.__data[11]=St.elements[0]):(St.toArray(nt.__data,$t),$t+=Ut.storage/Float32Array.BYTES_PER_ELEMENT)}a.bufferSubData(a.UNIFORM_BUFFER,G,nt.__data)}}a.bindBuffer(a.UNIFORM_BUFFER,null)}function C(U,D,ne){const ue=U.value;if(ne[D]===void 0){if(typeof ue=="number")ne[D]=ue;else{const Me=Array.isArray(ue)?ue:[ue],Ne=[];for(let nt=0;nt<Me.length;nt++)Ne.push(Me[nt].clone());ne[D]=Ne}return!0}else if(typeof ue=="number"){if(ne[D]!==ue)return ne[D]=ue,!0}else{const Me=Array.isArray(ne[D])?ne[D]:[ne[D]],Ne=Array.isArray(ue)?ue:[ue];for(let nt=0;nt<Me.length;nt++){const G=Me[nt];if(G.equals(Ne[nt])===!1)return G.copy(Ne[nt]),!0}}return!1}function y(U){const D=U.uniforms;let ne=0;const ue=16;let Me=0;for(let Ne=0,nt=D.length;Ne<nt;Ne++){const G=D[Ne],Ee={boundary:0,storage:0},$t=Array.isArray(G.value)?G.value:[G.value];for(let pn=0,St=$t.length;pn<St;pn++){const Ut=$t[pn],Xt=A(Ut);Ee.boundary+=Xt.boundary,Ee.storage+=Xt.storage}if(G.__data=new Float32Array(Ee.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=ne,Ne>0){Me=ne%ue;const pn=ue-Me;Me!==0&&pn-Ee.boundary<0&&(ne+=ue-Me,G.__offset=ne)}ne+=Ee.storage}return Me=ne%ue,Me>0&&(ne+=ue-Me),U.__size=ne,U.__cache={},this}function A(U){const D={boundary:0,storage:0};return typeof U=="number"?(D.boundary=4,D.storage=4):U.isVector2?(D.boundary=8,D.storage=8):U.isVector3||U.isColor?(D.boundary=16,D.storage=12):U.isVector4?(D.boundary=16,D.storage=16):U.isMatrix3?(D.boundary=48,D.storage=48):U.isMatrix4?(D.boundary=64,D.storage=64):U.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",U),D}function M(U){const D=U.target;D.removeEventListener("dispose",M);const ne=l.indexOf(D.__bindingPointIndex);l.splice(ne,1),a.deleteBuffer(r[D.id]),delete r[D.id],delete o[D.id]}function x(){for(const U in r)a.deleteBuffer(r[U]);l=[],r={},o={}}return{bind:f,update:d,dispose:x}}function g5(){const a=io("canvas");return a.style.display="block",a}class H2{constructor(e={}){const{canvas:t=g5(),context:n=null,depth:r=!0,stencil:o=!0,alpha:l=!1,antialias:c=!1,premultipliedAlpha:f=!0,preserveDrawingBuffer:d=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1}=e;this.isWebGLRenderer=!0;let v;n!==null?v=n.getContextAttributes().alpha:v=l;let C=null,y=null;const A=[],M=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Fr,this.useLegacyLights=!0,this.toneMapping=xt,this.toneMappingExposure=1;const x=this;let U=!1,D=0,ne=0,ue=null,Me=-1,Ne=null;const nt=new kr,G=new kr;let Ee=null,$t=t.width,pn=t.height,St=1,Ut=null,Xt=null;const Bn=new kr(0,0,$t,pn),Ln=new kr(0,0,$t,pn);let Rn=!1;const Un=new ko;let Gn=!1,Ar=!1,yr=null;const tn=new ai,Hn=new ce,vr={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function wr(){return ue===null?St:1}let ot=n;function Ri(Se,Ht){for(let sn=0;sn<Se.length;sn++){const Et=Se[sn],_n=t.getContext(Et,Ht);if(_n!==null)return _n}return null}try{const Se={alpha:!0,depth:r,stencil:o,antialias:c,premultipliedAlpha:f,preserveDrawingBuffer:d,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${b}`),t.addEventListener("webglcontextlost",Yr,!1),t.addEventListener("webglcontextrestored",co,!1),t.addEventListener("webglcontextcreationerror",To,!1),ot===null){const Ht=["webgl2","webgl","experimental-webgl"];if(x.isWebGL1Renderer===!0&&Ht.shift(),ot=Ri(Ht,Se),ot===null)throw Ri(Ht)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ot.getShaderPrecisionFormat===void 0&&(ot.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Se){throw console.error("THREE.WebGLRenderer: "+Se.message),Se}let Ii,lr,Zr,kn,mn,$n,Or,Cr,gi,vi,ii,Xi,_o,Pe,fe,Zt,Xn,nr,xr,Mi,Pr,hn,Wr,oi;function Ci(){Ii=new Ad(ot),lr=new bd(ot,Ii,e),Ii.init(lr),hn=new I2(ot,Ii,lr),Zr=new u5(ot,Ii,lr),kn=new Od(ot),mn=new qh,$n=new f5(ot,Ii,Zr,mn,lr,hn,kn),Or=new Ed(x),Cr=new Td(x),gi=new U1(ot,lr),Wr=new wd(ot,Ii,gi,lr),vi=new Pd(ot,gi,kn,Wr),ii=new Nd(ot,vi,gi,kn),xr=new zd(ot,lr,$n),Zt=new Sd(mn),Xi=new Jh(x,Or,Cr,Ii,lr,Wr,Zt),_o=new p5(x,mn),Pe=new e5,fe=new s5(Ii,lr),nr=new yd(x,Or,Cr,Zr,ii,v,f),Xn=new c5(x,ii,lr),oi=new m5(ot,kn,lr,Zr),Mi=new Md(ot,Ii,kn,lr),Pr=new Id(ot,Ii,kn,lr),kn.programs=Xi.programs,x.capabilities=lr,x.extensions=Ii,x.properties=mn,x.renderLists=Pe,x.shadowMap=Xn,x.state=Zr,x.info=kn}Ci();const Dr=new h5(x,ot);this.xr=Dr,this.getContext=function(){return ot},this.getContextAttributes=function(){return ot.getContextAttributes()},this.forceContextLoss=function(){const Se=Ii.get("WEBGL_lose_context");Se&&Se.loseContext()},this.forceContextRestore=function(){const Se=Ii.get("WEBGL_lose_context");Se&&Se.restoreContext()},this.getPixelRatio=function(){return St},this.setPixelRatio=function(Se){Se!==void 0&&(St=Se,this.setSize($t,pn,!1))},this.getSize=function(Se){return Se.set($t,pn)},this.setSize=function(Se,Ht,sn=!0){if(Dr.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}$t=Se,pn=Ht,t.width=Math.floor(Se*St),t.height=Math.floor(Ht*St),sn===!0&&(t.style.width=Se+"px",t.style.height=Ht+"px"),this.setViewport(0,0,Se,Ht)},this.getDrawingBufferSize=function(Se){return Se.set($t*St,pn*St).floor()},this.setDrawingBufferSize=function(Se,Ht,sn){$t=Se,pn=Ht,St=sn,t.width=Math.floor(Se*sn),t.height=Math.floor(Ht*sn),this.setViewport(0,0,Se,Ht)},this.getCurrentViewport=function(Se){return Se.copy(nt)},this.getViewport=function(Se){return Se.copy(Bn)},this.setViewport=function(Se,Ht,sn,Et){Se.isVector4?Bn.set(Se.x,Se.y,Se.z,Se.w):Bn.set(Se,Ht,sn,Et),Zr.viewport(nt.copy(Bn).multiplyScalar(St).floor())},this.getScissor=function(Se){return Se.copy(Ln)},this.setScissor=function(Se,Ht,sn,Et){Se.isVector4?Ln.set(Se.x,Se.y,Se.z,Se.w):Ln.set(Se,Ht,sn,Et),Zr.scissor(G.copy(Ln).multiplyScalar(St).floor())},this.getScissorTest=function(){return Rn},this.setScissorTest=function(Se){Zr.setScissorTest(Rn=Se)},this.setOpaqueSort=function(Se){Ut=Se},this.setTransparentSort=function(Se){Xt=Se},this.getClearColor=function(Se){return Se.copy(nr.getClearColor())},this.setClearColor=function(){nr.setClearColor.apply(nr,arguments)},this.getClearAlpha=function(){return nr.getClearAlpha()},this.setClearAlpha=function(){nr.setClearAlpha.apply(nr,arguments)},this.clear=function(Se=!0,Ht=!0,sn=!0){let Et=0;Se&&(Et|=ot.COLOR_BUFFER_BIT),Ht&&(Et|=ot.DEPTH_BUFFER_BIT),sn&&(Et|=ot.STENCIL_BUFFER_BIT),ot.clear(Et)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Yr,!1),t.removeEventListener("webglcontextrestored",co,!1),t.removeEventListener("webglcontextcreationerror",To,!1),Pe.dispose(),fe.dispose(),mn.dispose(),Or.dispose(),Cr.dispose(),ii.dispose(),Wr.dispose(),oi.dispose(),Xi.dispose(),Dr.dispose(),Dr.removeEventListener("sessionstart",Gr),Dr.removeEventListener("sessionend",Io),yr&&(yr.dispose(),yr=null),Oo.stop()};function Yr(Se){Se.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),U=!0}function co(){console.log("THREE.WebGLRenderer: Context Restored."),U=!1;const Se=kn.autoReset,Ht=Xn.enabled,sn=Xn.autoUpdate,Et=Xn.needsUpdate,_n=Xn.type;Ci(),kn.autoReset=Se,Xn.enabled=Ht,Xn.autoUpdate=sn,Xn.needsUpdate=Et,Xn.type=_n}function To(Se){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Se.statusMessage)}function gs(Se){const Ht=Se.target;Ht.removeEventListener("dispose",gs),ct(Ht)}function ct(Se){on(Se),mn.remove(Se)}function on(Se){const Ht=mn.get(Se).programs;Ht!==void 0&&(Ht.forEach(function(sn){Xi.releaseProgram(sn)}),Se.isShaderMaterial&&Xi.releaseShaderCache(Se))}this.renderBufferDirect=function(Se,Ht,sn,Et,_n,si){Ht===null&&(Ht=vr);const _i=_n.isMesh&&_n.matrixWorld.determinant()<0,zi=b7(Se,Ht,sn,Et,_n);Zr.setMaterial(Et,_i);let Zi=sn.index,Ji=1;Et.wireframe===!0&&(Zi=vi.getWireframeAttribute(sn),Ji=2);const qi=sn.drawRange,ro=sn.attributes.position;let Ao=qi.start*Ji,Da=(qi.start+qi.count)*Ji;si!==null&&(Ao=Math.max(Ao,si.start*Ji),Da=Math.min(Da,(si.start+si.count)*Ji)),Zi!==null?(Ao=Math.max(Ao,0),Da=Math.min(Da,Zi.count)):ro!=null&&(Ao=Math.max(Ao,0),Da=Math.min(Da,ro.count));const Z1=Da-Ao;if(Z1<0||Z1===1/0)return;Wr.setup(_n,Et,zi,sn,Zi);let Yc,As=Mi;if(Zi!==null&&(Yc=gi.get(Zi),As=Pr,As.setIndex(Yc)),_n.isMesh)Et.wireframe===!0?(Zr.setLineWidth(Et.wireframeLinewidth*wr()),As.setMode(ot.LINES)):As.setMode(ot.TRIANGLES);else if(_n.isLine){let uo=Et.linewidth;uo===void 0&&(uo=1),Zr.setLineWidth(uo*wr()),_n.isLineSegments?As.setMode(ot.LINES):_n.isLineLoop?As.setMode(ot.LINE_LOOP):As.setMode(ot.LINE_STRIP)}else _n.isPoints?As.setMode(ot.POINTS):_n.isSprite&&As.setMode(ot.TRIANGLES);if(_n.isInstancedMesh)As.renderInstances(Ao,Z1,_n.count);else if(sn.isInstancedBufferGeometry){const uo=sn._maxInstanceCount!==void 0?sn._maxInstanceCount:1/0,vd=Math.min(sn.instanceCount,uo);As.renderInstances(Ao,Z1,vd)}else As.render(Ao,Z1)},this.compile=function(Se,Ht){function sn(Et,_n,si){Et.transparent===!0&&Et.side===At&&Et.forceSinglePass===!1?(Et.side=mt,Et.needsUpdate=!0,K0(Et,_n,si),Et.side=ht,Et.needsUpdate=!0,K0(Et,_n,si),Et.side=At):K0(Et,_n,si)}y=fe.get(Se),y.init(),M.push(y),Se.traverseVisible(function(Et){Et.isLight&&Et.layers.test(Ht.layers)&&(y.pushLight(Et),Et.castShadow&&y.pushShadow(Et))}),y.setupLights(x.useLegacyLights),Se.traverse(function(Et){const _n=Et.material;if(_n)if(Array.isArray(_n))for(let si=0;si<_n.length;si++){const _i=_n[si];sn(_i,Se,Et)}else sn(_n,Se,Et)}),M.pop(),y=null};let Kn=null;function br(Se){Kn&&Kn(Se)}function Gr(){Oo.stop()}function Io(){Oo.start()}const Oo=new Bs;Oo.setAnimationLoop(br),typeof self!="undefined"&&Oo.setContext(self),this.setAnimationLoop=function(Se){Kn=Se,Dr.setAnimationLoop(Se),Se===null?Oo.stop():Oo.start()},Dr.addEventListener("sessionstart",Gr),Dr.addEventListener("sessionend",Io),this.render=function(Se,Ht){if(Ht!==void 0&&Ht.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(U===!0)return;Se.matrixWorldAutoUpdate===!0&&Se.updateMatrixWorld(),Ht.parent===null&&Ht.matrixWorldAutoUpdate===!0&&Ht.updateMatrixWorld(),Dr.enabled===!0&&Dr.isPresenting===!0&&(Dr.cameraAutoUpdate===!0&&Dr.updateCamera(Ht),Ht=Dr.getCamera()),Se.isScene===!0&&Se.onBeforeRender(x,Se,Ht,ue),y=fe.get(Se,M.length),y.init(),M.push(y),tn.multiplyMatrices(Ht.projectionMatrix,Ht.matrixWorldInverse),Un.setFromProjectionMatrix(tn),Ar=this.localClippingEnabled,Gn=Zt.init(this.clippingPlanes,Ar),C=Pe.get(Se,A.length),C.init(),A.push(C),va(Se,Ht,0,x.sortObjects),C.finish(),x.sortObjects===!0&&C.sort(Ut,Xt),Gn===!0&&Zt.beginShadows();const sn=y.state.shadowsArray;if(Xn.render(sn,Se,Ht),Gn===!0&&Zt.endShadows(),this.info.autoReset===!0&&this.info.reset(),nr.render(C,Se),y.setupLights(x.useLegacyLights),Ht.isArrayCamera){const Et=Ht.cameras;for(let _n=0,si=Et.length;_n<si;_n++){const _i=Et[_n];hc(C,Se,_i,_i.viewport)}}else hc(C,Se,Ht);ue!==null&&($n.updateMultisampleRenderTarget(ue),$n.updateRenderTargetMipmap(ue)),Se.isScene===!0&&Se.onAfterRender(x,Se,Ht),Wr.resetDefaultState(),Me=-1,Ne=null,M.pop(),M.length>0?y=M[M.length-1]:y=null,A.pop(),A.length>0?C=A[A.length-1]:C=null};function va(Se,Ht,sn,Et){if(Se.visible===!1)return;if(Se.layers.test(Ht.layers)){if(Se.isGroup)sn=Se.renderOrder;else if(Se.isLOD)Se.autoUpdate===!0&&Se.update(Ht);else if(Se.isLight)y.pushLight(Se),Se.castShadow&&y.pushShadow(Se);else if(Se.isSprite){if(!Se.frustumCulled||Un.intersectsSprite(Se)){Et&&Hn.setFromMatrixPosition(Se.matrixWorld).applyMatrix4(tn);const _i=ii.update(Se),zi=Se.material;zi.visible&&C.push(Se,_i,zi,sn,Hn.z,null)}}else if((Se.isMesh||Se.isLine||Se.isPoints)&&(!Se.frustumCulled||Un.intersectsObject(Se))){Se.isSkinnedMesh&&Se.skeleton.frame!==kn.render.frame&&(Se.skeleton.update(),Se.skeleton.frame=kn.render.frame);const _i=ii.update(Se),zi=Se.material;if(Et&&(_i.boundingSphere===null&&_i.computeBoundingSphere(),Hn.copy(_i.boundingSphere.center).applyMatrix4(Se.matrixWorld).applyMatrix4(tn)),Array.isArray(zi)){const Zi=_i.groups;for(let Ji=0,qi=Zi.length;Ji<qi;Ji++){const ro=Zi[Ji],Ao=zi[ro.materialIndex];Ao&&Ao.visible&&C.push(Se,_i,Ao,sn,Hn.z,ro)}}else zi.visible&&C.push(Se,_i,zi,sn,Hn.z,null)}}const si=Se.children;for(let _i=0,zi=si.length;_i<zi;_i++)va(si[_i],Ht,sn,Et)}function hc(Se,Ht,sn,Et){const _n=Se.opaque,si=Se.transmissive,_i=Se.transparent;y.setupLightsView(sn),Gn===!0&&Zt.setGlobalState(x.clippingPlanes,sn),si.length>0&&vs(_n,si,Ht,sn),Et&&Zr.viewport(nt.copy(Et)),_n.length>0&&E1(_n,Ht,sn),si.length>0&&E1(si,Ht,sn),_i.length>0&&E1(_i,Ht,sn),Zr.buffers.depth.setTest(!0),Zr.buffers.depth.setMask(!0),Zr.buffers.color.setMask(!0),Zr.setPolygonOffset(!1)}function vs(Se,Ht,sn,Et){if(yr===null){const zi=lr.isWebGL2;yr=new Ki(1024,1024,{generateMipmaps:!0,type:Ii.has("EXT_color_buffer_half_float")?We:Nt,minFilter:Xe,samples:zi&&c===!0?4:0})}const _n=x.getRenderTarget();x.setRenderTarget(yr),x.clear();const si=x.toneMapping;x.toneMapping=xt,E1(Se,sn,Et),$n.updateMultisampleRenderTarget(yr),$n.updateRenderTargetMipmap(yr);let _i=!1;for(let zi=0,Zi=Ht.length;zi<Zi;zi++){const Ji=Ht[zi],qi=Ji.object,ro=Ji.geometry,Ao=Ji.material,Da=Ji.group;if(Ao.side===At&&qi.layers.test(Et.layers)){const Z1=Ao.side;Ao.side=mt,Ao.needsUpdate=!0,fl(qi,sn,Et,ro,Ao,Da),Ao.side=Z1,Ao.needsUpdate=!0,_i=!0}}_i===!0&&($n.updateMultisampleRenderTarget(yr),$n.updateRenderTargetMipmap(yr)),x.setRenderTarget(_n),x.toneMapping=si}function E1(Se,Ht,sn){const Et=Ht.isScene===!0?Ht.overrideMaterial:null;for(let _n=0,si=Se.length;_n<si;_n++){const _i=Se[_n],zi=_i.object,Zi=_i.geometry,Ji=Et===null?_i.material:Et,qi=_i.group;zi.layers.test(sn.layers)&&fl(zi,Ht,sn,Zi,Ji,qi)}}function fl(Se,Ht,sn,Et,_n,si){Se.onBeforeRender(x,Ht,sn,Et,_n,si),Se.modelViewMatrix.multiplyMatrices(sn.matrixWorldInverse,Se.matrixWorld),Se.normalMatrix.getNormalMatrix(Se.modelViewMatrix),_n.onBeforeRender(x,Ht,sn,Et,Se,si),_n.transparent===!0&&_n.side===At&&_n.forceSinglePass===!1?(_n.side=mt,_n.needsUpdate=!0,x.renderBufferDirect(sn,Ht,Et,_n,Se,si),_n.side=ht,_n.needsUpdate=!0,x.renderBufferDirect(sn,Ht,Et,_n,Se,si),_n.side=At):x.renderBufferDirect(sn,Ht,Et,_n,Se,si),Se.onAfterRender(x,Ht,sn,Et,_n,si)}function K0(Se,Ht,sn){Ht.isScene!==!0&&(Ht=vr);const Et=mn.get(Se),_n=y.state.lights,si=y.state.shadowsArray,_i=_n.state.version,zi=Xi.getParameters(Se,_n.state,si,Ht,sn),Zi=Xi.getProgramCacheKey(zi);let Ji=Et.programs;Et.environment=Se.isMeshStandardMaterial?Ht.environment:null,Et.fog=Ht.fog,Et.envMap=(Se.isMeshStandardMaterial?Cr:Or).get(Se.envMap||Et.environment),Ji===void 0&&(Se.addEventListener("dispose",gs),Ji=new Map,Et.programs=Ji);let qi=Ji.get(Zi);if(qi!==void 0){if(Et.currentProgram===qi&&Et.lightsStateVersion===_i)return vh(Se,zi),qi}else zi.uniforms=Xi.getUniforms(Se),Se.onBuild(sn,zi,x),Se.onBeforeCompile(zi,x),qi=Xi.acquireProgram(zi,Zi),Ji.set(Zi,qi),Et.uniforms=zi.uniforms;const ro=Et.uniforms;(!Se.isShaderMaterial&&!Se.isRawShaderMaterial||Se.clipping===!0)&&(ro.clippingPlanes=Zt.uniform),vh(Se,zi),Et.needsLights=E7(Se),Et.lightsStateVersion=_i,Et.needsLights&&(ro.ambientLightColor.value=_n.state.ambient,ro.lightProbe.value=_n.state.probe,ro.directionalLights.value=_n.state.directional,ro.directionalLightShadows.value=_n.state.directionalShadow,ro.spotLights.value=_n.state.spot,ro.spotLightShadows.value=_n.state.spotShadow,ro.rectAreaLights.value=_n.state.rectArea,ro.ltc_1.value=_n.state.rectAreaLTC1,ro.ltc_2.value=_n.state.rectAreaLTC2,ro.pointLights.value=_n.state.point,ro.pointLightShadows.value=_n.state.pointShadow,ro.hemisphereLights.value=_n.state.hemi,ro.directionalShadowMap.value=_n.state.directionalShadowMap,ro.directionalShadowMatrix.value=_n.state.directionalShadowMatrix,ro.spotShadowMap.value=_n.state.spotShadowMap,ro.spotLightMatrix.value=_n.state.spotLightMatrix,ro.spotLightMap.value=_n.state.spotLightMap,ro.pointShadowMap.value=_n.state.pointShadowMap,ro.pointShadowMatrix.value=_n.state.pointShadowMatrix);const Ao=qi.getUniforms(),Da=Tu.seqWithValue(Ao.seq,ro);return Et.currentProgram=qi,Et.uniformsList=Da,qi}function vh(Se,Ht){const sn=mn.get(Se);sn.outputColorSpace=Ht.outputColorSpace,sn.instancing=Ht.instancing,sn.skinning=Ht.skinning,sn.morphTargets=Ht.morphTargets,sn.morphNormals=Ht.morphNormals,sn.morphColors=Ht.morphColors,sn.morphTargetsCount=Ht.morphTargetsCount,sn.numClippingPlanes=Ht.numClippingPlanes,sn.numIntersection=Ht.numClipIntersection,sn.vertexAlphas=Ht.vertexAlphas,sn.vertexTangents=Ht.vertexTangents,sn.toneMapping=Ht.toneMapping}function b7(Se,Ht,sn,Et,_n){Ht.isScene!==!0&&(Ht=vr),$n.resetTextureUnits();const si=Ht.fog,_i=Et.isMeshStandardMaterial?Ht.environment:null,zi=ue===null?x.outputColorSpace:ue.isXRRenderTarget===!0?ue.texture.colorSpace:Wo,Zi=(Et.isMeshStandardMaterial?Cr:Or).get(Et.envMap||_i),Ji=Et.vertexColors===!0&&!!sn.attributes.color&&sn.attributes.color.itemSize===4,qi=!!Et.normalMap&&!!sn.attributes.tangent,ro=!!sn.morphAttributes.position,Ao=!!sn.morphAttributes.normal,Da=!!sn.morphAttributes.color,Z1=Et.toneMapped?x.toneMapping:xt,Yc=sn.morphAttributes.position||sn.morphAttributes.normal||sn.morphAttributes.color,As=Yc!==void 0?Yc.length:0,uo=mn.get(Et),vd=y.state.lights;if(Gn===!0&&(Ar===!0||Se!==Ne)){const u1=Se===Ne&&Et.id===Me;Zt.setState(Et,Se,u1)}let Xs=!1;Et.version===uo.__version?(uo.needsLights&&uo.lightsStateVersion!==vd.state.version||uo.outputColorSpace!==zi||_n.isInstancedMesh&&uo.instancing===!1||!_n.isInstancedMesh&&uo.instancing===!0||_n.isSkinnedMesh&&uo.skinning===!1||!_n.isSkinnedMesh&&uo.skinning===!0||uo.envMap!==Zi||Et.fog===!0&&uo.fog!==si||uo.numClippingPlanes!==void 0&&(uo.numClippingPlanes!==Zt.numPlanes||uo.numIntersection!==Zt.numIntersection)||uo.vertexAlphas!==Ji||uo.vertexTangents!==qi||uo.morphTargets!==ro||uo.morphNormals!==Ao||uo.morphColors!==Da||uo.toneMapping!==Z1||lr.isWebGL2===!0&&uo.morphTargetsCount!==As)&&(Xs=!0):(Xs=!0,uo.__version=Et.version);let Kc=uo.currentProgram;Xs===!0&&(Kc=K0(Et,Ht,_n));let Ch=!1,o0=!1,Cd=!1;const Ha=Kc.getUniforms(),Jc=uo.uniforms;if(Zr.useProgram(Kc.program)&&(Ch=!0,o0=!0,Cd=!0),Et.id!==Me&&(Me=Et.id,o0=!0),Ch||Ne!==Se){if(Ha.setValue(ot,"projectionMatrix",Se.projectionMatrix),lr.logarithmicDepthBuffer&&Ha.setValue(ot,"logDepthBufFC",2/(Math.log(Se.far+1)/Math.LN2)),Ne!==Se&&(Ne=Se,o0=!0,Cd=!0),Et.isShaderMaterial||Et.isMeshPhongMaterial||Et.isMeshToonMaterial||Et.isMeshStandardMaterial||Et.envMap){const u1=Ha.map.cameraPosition;u1!==void 0&&u1.setValue(ot,Hn.setFromMatrixPosition(Se.matrixWorld))}(Et.isMeshPhongMaterial||Et.isMeshToonMaterial||Et.isMeshLambertMaterial||Et.isMeshBasicMaterial||Et.isMeshStandardMaterial||Et.isShaderMaterial)&&Ha.setValue(ot,"isOrthographic",Se.isOrthographicCamera===!0),(Et.isMeshPhongMaterial||Et.isMeshToonMaterial||Et.isMeshLambertMaterial||Et.isMeshBasicMaterial||Et.isMeshStandardMaterial||Et.isShaderMaterial||Et.isShadowMaterial||_n.isSkinnedMesh)&&Ha.setValue(ot,"viewMatrix",Se.matrixWorldInverse)}if(_n.isSkinnedMesh){Ha.setOptional(ot,_n,"bindMatrix"),Ha.setOptional(ot,_n,"bindMatrixInverse");const u1=_n.skeleton;u1&&(lr.floatVertexTextures?(u1.boneTexture===null&&u1.computeBoneTexture(),Ha.setValue(ot,"boneTexture",u1.boneTexture,$n),Ha.setValue(ot,"boneTextureSize",u1.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const _d=sn.morphAttributes;if((_d.position!==void 0||_d.normal!==void 0||_d.color!==void 0&&lr.isWebGL2===!0)&&xr.update(_n,sn,Kc),(o0||uo.receiveShadow!==_n.receiveShadow)&&(uo.receiveShadow=_n.receiveShadow,Ha.setValue(ot,"receiveShadow",_n.receiveShadow)),Et.isMeshGouraudMaterial&&Et.envMap!==null&&(Jc.envMap.value=Zi,Jc.flipEnvMap.value=Zi.isCubeTexture&&Zi.isRenderTargetTexture===!1?-1:1),o0&&(Ha.setValue(ot,"toneMappingExposure",x.toneMappingExposure),uo.needsLights&&S7(Jc,Cd),si&&Et.fog===!0&&_o.refreshFogUniforms(Jc,si),_o.refreshMaterialUniforms(Jc,Et,St,pn,yr),Tu.upload(ot,uo.uniformsList,Jc,$n)),Et.isShaderMaterial&&Et.uniformsNeedUpdate===!0&&(Tu.upload(ot,uo.uniformsList,Jc,$n),Et.uniformsNeedUpdate=!1),Et.isSpriteMaterial&&Ha.setValue(ot,"center",_n.center),Ha.setValue(ot,"modelViewMatrix",_n.modelViewMatrix),Ha.setValue(ot,"normalMatrix",_n.normalMatrix),Ha.setValue(ot,"modelMatrix",_n.matrixWorld),Et.isShaderMaterial||Et.isRawShaderMaterial){const u1=Et.uniformsGroups;for(let xd=0,R7=u1.length;xd<R7;xd++)if(lr.isWebGL2){const _h=u1[xd];oi.update(_h,Kc),oi.bind(_h,Kc)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Kc}function S7(Se,Ht){Se.ambientLightColor.needsUpdate=Ht,Se.lightProbe.needsUpdate=Ht,Se.directionalLights.needsUpdate=Ht,Se.directionalLightShadows.needsUpdate=Ht,Se.pointLights.needsUpdate=Ht,Se.pointLightShadows.needsUpdate=Ht,Se.spotLights.needsUpdate=Ht,Se.spotLightShadows.needsUpdate=Ht,Se.rectAreaLights.needsUpdate=Ht,Se.hemisphereLights.needsUpdate=Ht}function E7(Se){return Se.isMeshLambertMaterial||Se.isMeshToonMaterial||Se.isMeshPhongMaterial||Se.isMeshStandardMaterial||Se.isShadowMaterial||Se.isShaderMaterial&&Se.lights===!0}this.getActiveCubeFace=function(){return D},this.getActiveMipmapLevel=function(){return ne},this.getRenderTarget=function(){return ue},this.setRenderTargetTextures=function(Se,Ht,sn){mn.get(Se.texture).__webglTexture=Ht,mn.get(Se.depthTexture).__webglTexture=sn;const Et=mn.get(Se);Et.__hasExternalTextures=!0,Et.__hasExternalTextures&&(Et.__autoAllocateDepthBuffer=sn===void 0,Et.__autoAllocateDepthBuffer||Ii.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Et.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Se,Ht){const sn=mn.get(Se);sn.__webglFramebuffer=Ht,sn.__useDefaultFramebuffer=Ht===void 0},this.setRenderTarget=function(Se,Ht=0,sn=0){ue=Se,D=Ht,ne=sn;let Et=!0,_n=null,si=!1,_i=!1;if(Se){const Zi=mn.get(Se);Zi.__useDefaultFramebuffer!==void 0?(Zr.bindFramebuffer(ot.FRAMEBUFFER,null),Et=!1):Zi.__webglFramebuffer===void 0?$n.setupRenderTarget(Se):Zi.__hasExternalTextures&&$n.rebindTextures(Se,mn.get(Se.texture).__webglTexture,mn.get(Se.depthTexture).__webglTexture);const Ji=Se.texture;(Ji.isData3DTexture||Ji.isDataArrayTexture||Ji.isCompressedArrayTexture)&&(_i=!0);const qi=mn.get(Se).__webglFramebuffer;Se.isWebGLCubeRenderTarget?(_n=qi[Ht],si=!0):lr.isWebGL2&&Se.samples>0&&$n.useMultisampledRTT(Se)===!1?_n=mn.get(Se).__webglMultisampledFramebuffer:_n=qi,nt.copy(Se.viewport),G.copy(Se.scissor),Ee=Se.scissorTest}else nt.copy(Bn).multiplyScalar(St).floor(),G.copy(Ln).multiplyScalar(St).floor(),Ee=Rn;if(Zr.bindFramebuffer(ot.FRAMEBUFFER,_n)&&lr.drawBuffers&&Et&&Zr.drawBuffers(Se,_n),Zr.viewport(nt),Zr.scissor(G),Zr.setScissorTest(Ee),si){const Zi=mn.get(Se.texture);ot.framebufferTexture2D(ot.FRAMEBUFFER,ot.COLOR_ATTACHMENT0,ot.TEXTURE_CUBE_MAP_POSITIVE_X+Ht,Zi.__webglTexture,sn)}else if(_i){const Zi=mn.get(Se.texture),Ji=Ht||0;ot.framebufferTextureLayer(ot.FRAMEBUFFER,ot.COLOR_ATTACHMENT0,Zi.__webglTexture,sn||0,Ji)}Me=-1},this.readRenderTargetPixels=function(Se,Ht,sn,Et,_n,si,_i){if(!(Se&&Se.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let zi=mn.get(Se).__webglFramebuffer;if(Se.isWebGLCubeRenderTarget&&_i!==void 0&&(zi=zi[_i]),zi){Zr.bindFramebuffer(ot.FRAMEBUFFER,zi);try{const Zi=Se.texture,Ji=Zi.format,qi=Zi.type;if(Ji!==Hr&&hn.convert(Ji)!==ot.getParameter(ot.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ro=qi===We&&(Ii.has("EXT_color_buffer_half_float")||lr.isWebGL2&&Ii.has("EXT_color_buffer_float"));if(qi!==Nt&&hn.convert(qi)!==ot.getParameter(ot.IMPLEMENTATION_COLOR_READ_TYPE)&&!(qi===oe&&(lr.isWebGL2||Ii.has("OES_texture_float")||Ii.has("WEBGL_color_buffer_float")))&&!ro){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ht>=0&&Ht<=Se.width-Et&&sn>=0&&sn<=Se.height-_n&&ot.readPixels(Ht,sn,Et,_n,hn.convert(Ji),hn.convert(qi),si)}finally{const Zi=ue!==null?mn.get(ue).__webglFramebuffer:null;Zr.bindFramebuffer(ot.FRAMEBUFFER,Zi)}}},this.copyFramebufferToTexture=function(Se,Ht,sn=0){const Et=Math.pow(2,-sn),_n=Math.floor(Ht.image.width*Et),si=Math.floor(Ht.image.height*Et);$n.setTexture2D(Ht,0),ot.copyTexSubImage2D(ot.TEXTURE_2D,sn,0,0,Se.x,Se.y,_n,si),Zr.unbindTexture()},this.copyTextureToTexture=function(Se,Ht,sn,Et=0){const _n=Ht.image.width,si=Ht.image.height,_i=hn.convert(sn.format),zi=hn.convert(sn.type);$n.setTexture2D(sn,0),ot.pixelStorei(ot.UNPACK_FLIP_Y_WEBGL,sn.flipY),ot.pixelStorei(ot.UNPACK_PREMULTIPLY_ALPHA_WEBGL,sn.premultiplyAlpha),ot.pixelStorei(ot.UNPACK_ALIGNMENT,sn.unpackAlignment),Ht.isDataTexture?ot.texSubImage2D(ot.TEXTURE_2D,Et,Se.x,Se.y,_n,si,_i,zi,Ht.image.data):Ht.isCompressedTexture?ot.compressedTexSubImage2D(ot.TEXTURE_2D,Et,Se.x,Se.y,Ht.mipmaps[0].width,Ht.mipmaps[0].height,_i,Ht.mipmaps[0].data):ot.texSubImage2D(ot.TEXTURE_2D,Et,Se.x,Se.y,_i,zi,Ht.image),Et===0&&sn.generateMipmaps&&ot.generateMipmap(ot.TEXTURE_2D),Zr.unbindTexture()},this.copyTextureToTexture3D=function(Se,Ht,sn,Et,_n=0){if(x.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const si=Se.max.x-Se.min.x+1,_i=Se.max.y-Se.min.y+1,zi=Se.max.z-Se.min.z+1,Zi=hn.convert(Et.format),Ji=hn.convert(Et.type);let qi;if(Et.isData3DTexture)$n.setTexture3D(Et,0),qi=ot.TEXTURE_3D;else if(Et.isDataArrayTexture)$n.setTexture2DArray(Et,0),qi=ot.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ot.pixelStorei(ot.UNPACK_FLIP_Y_WEBGL,Et.flipY),ot.pixelStorei(ot.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Et.premultiplyAlpha),ot.pixelStorei(ot.UNPACK_ALIGNMENT,Et.unpackAlignment);const ro=ot.getParameter(ot.UNPACK_ROW_LENGTH),Ao=ot.getParameter(ot.UNPACK_IMAGE_HEIGHT),Da=ot.getParameter(ot.UNPACK_SKIP_PIXELS),Z1=ot.getParameter(ot.UNPACK_SKIP_ROWS),Yc=ot.getParameter(ot.UNPACK_SKIP_IMAGES),As=sn.isCompressedTexture?sn.mipmaps[0]:sn.image;ot.pixelStorei(ot.UNPACK_ROW_LENGTH,As.width),ot.pixelStorei(ot.UNPACK_IMAGE_HEIGHT,As.height),ot.pixelStorei(ot.UNPACK_SKIP_PIXELS,Se.min.x),ot.pixelStorei(ot.UNPACK_SKIP_ROWS,Se.min.y),ot.pixelStorei(ot.UNPACK_SKIP_IMAGES,Se.min.z),sn.isDataTexture||sn.isData3DTexture?ot.texSubImage3D(qi,_n,Ht.x,Ht.y,Ht.z,si,_i,zi,Zi,Ji,As.data):sn.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ot.compressedTexSubImage3D(qi,_n,Ht.x,Ht.y,Ht.z,si,_i,zi,Zi,As.data)):ot.texSubImage3D(qi,_n,Ht.x,Ht.y,Ht.z,si,_i,zi,Zi,Ji,As),ot.pixelStorei(ot.UNPACK_ROW_LENGTH,ro),ot.pixelStorei(ot.UNPACK_IMAGE_HEIGHT,Ao),ot.pixelStorei(ot.UNPACK_SKIP_PIXELS,Da),ot.pixelStorei(ot.UNPACK_SKIP_ROWS,Z1),ot.pixelStorei(ot.UNPACK_SKIP_IMAGES,Yc),_n===0&&Et.generateMipmaps&&ot.generateMipmap(qi),Zr.unbindTexture()},this.initTexture=function(Se){Se.isCubeTexture?$n.setTextureCube(Se,0):Se.isData3DTexture?$n.setTexture3D(Se,0):Se.isDataArrayTexture||Se.isCompressedArrayTexture?$n.setTexture2DArray(Se,0):$n.setTexture2D(Se,0),Zr.unbindTexture()},this.resetState=function(){D=0,ne=0,ue=null,Zr.reset(),Wr.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Fr?Po:ia}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Po?Fr:Wo}}class z2 extends H2{}z2.prototype.isWebGL1Renderer=!0;class x0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new cr(e),this.density=t}clone(){return new x0(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class y0{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new cr(e),this.near=t,this.far=n}clone(){return new y0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class N2 extends $i{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class w0{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Cn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Xo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,o=this.stride;r<o;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Xo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Xo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ia=new ce;class zc{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Ia.fromBufferAttribute(this,t),Ia.applyMatrix4(e),this.setXYZ(t,Ia.x,Ia.y,Ia.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ia.fromBufferAttribute(this,t),Ia.applyNormalMatrix(e),this.setXYZ(t,Ia.x,Ia.y,Ia.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ia.fromBufferAttribute(this,t),Ia.transformDirection(e),this.setXYZ(t,Ia.x,Ia.y,Ia.z);return this}setX(e,t){return this.normalized&&(t=jr(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=jr(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=jr(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=jr(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=xo(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=xo(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=xo(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=xo(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=jr(t,this.array),n=jr(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=jr(t,this.array),n=jr(n,this.array),r=jr(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=jr(t,this.array),n=jr(n,this.array),r=jr(r,this.array),o=jr(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return new lo(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new zc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Df extends hs{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new cr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let lu;const Au=new ce,cu=new ce,uu=new ce,fu=new dn,Pu=new dn,B2=new ai,M0=new ce,Iu=new ce,b0=new ce,U2=new dn,Hf=new dn,V2=new dn;class F2 extends $i{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",lu===void 0){lu=new gn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new w0(t,5);lu.setIndex([0,1,2,0,2,3]),lu.setAttribute("position",new zc(n,3,0,!1)),lu.setAttribute("uv",new zc(n,2,3,!1))}this.geometry=lu,this.material=e!==void 0?e:new Df,this.center=new dn(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),cu.setFromMatrixScale(this.matrixWorld),B2.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),uu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&cu.multiplyScalar(-uu.z);const n=this.material.rotation;let r,o;n!==0&&(o=Math.cos(n),r=Math.sin(n));const l=this.center;S0(M0.set(-.5,-.5,0),uu,l,cu,r,o),S0(Iu.set(.5,-.5,0),uu,l,cu,r,o),S0(b0.set(.5,.5,0),uu,l,cu,r,o),U2.set(0,0),Hf.set(1,0),V2.set(1,1);let c=e.ray.intersectTriangle(M0,Iu,b0,!1,Au);if(c===null&&(S0(Iu.set(-.5,.5,0),uu,l,cu,r,o),Hf.set(0,1),c=e.ray.intersectTriangle(M0,b0,Iu,!1,Au),c===null))return;const f=e.ray.origin.distanceTo(Au);f<e.near||f>e.far||t.push({distance:f,point:Au.clone(),uv:ss.getInterpolation(Au,M0,Iu,b0,U2,Hf,V2,new dn),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function S0(a,e,t,n,r,o){fu.subVectors(a,t).addScalar(.5).multiply(n),r!==void 0?(Pu.x=o*fu.x-r*fu.y,Pu.y=r*fu.x+o*fu.y):Pu.copy(fu),a.copy(e),a.x+=Pu.x,a.y+=Pu.y,a.applyMatrix4(B2)}const E0=new ce,k2=new ce;class $2 extends $i{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const o=t[n];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let o;for(o=0;o<r.length&&!(t<r[o].distance);o++);return r.splice(o,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let o=t[n].distance;if(t[n].object.visible&&(o-=o*t[n].hysteresis),e<o)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){E0.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(E0);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){E0.setFromMatrixPosition(e.matrixWorld),k2.setFromMatrixPosition(this.matrixWorld);const n=E0.distanceTo(k2)/e.zoom;t[0].object.visible=!0;let r,o;for(r=1,o=t.length;r<o;r++){let l=t[r].distance;if(t[r].object.visible&&(l-=l*t[r].hysteresis),n>=l)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<o;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,o=n.length;r<o;r++){const l=n[r];t.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return t}}const W2=new ce,Z2=new kr,j2=new kr,v5=new ce,G2=new ai,du=new ce;class X2 extends Fo{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ai,this.bindMatrixInverse=new ai,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new is),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)du.fromBufferAttribute(t,n),this.applyBoneTransform(n,du),this.boundingBox.expandByPoint(du)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Qs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)du.fromBufferAttribute(t,n),this.applyBoneTransform(n,du),this.boundingSphere.expandByPoint(du)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new kr,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;Z2.fromBufferAttribute(r.attributes.skinIndex,e),j2.fromBufferAttribute(r.attributes.skinWeight,e),W2.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const l=j2.getComponent(o);if(l!==0){const c=Z2.getComponent(o);G2.multiplyMatrices(n.bones[c].matrixWorld,n.boneInverses[c]),t.addScaledVector(v5.copy(W2).applyMatrix4(G2),l)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class zf extends $i{constructor(){super(),this.isBone=!0,this.type="Bone"}}class hu extends hi{constructor(e=null,t=1,n=1,r,o,l,c,f,d=ln,m=ln,g,v){super(null,l,c,f,d,m,r,o,g,v),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Y2=new ai,C5=new ai;class R0{constructor(e=[],t=[]){this.uuid=Xo(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new ai)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new ai;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let o=0,l=e.length;o<l;o++){const c=e[o]?e[o].matrixWorld:C5;Y2.multiplyMatrices(c,t[o]),Y2.toArray(n,o*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new R0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Ka(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new hu(t,e,e,Hr,oe);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const o=e.bones[n];let l=t[o];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),l=new zf),this.bones.push(l),this.boneInverses.push(new ai().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,o=t.length;r<o;r++){const l=t[r];e.bones.push(l.uuid);const c=n[r];e.boneInverses.push(c.toArray())}return e}}class pu extends lo{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const mu=new ai,K2=new ai,L0=[],J2=new is,_5=new ai,Ou=new Fo,Du=new Qs;class q2 extends Fo{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new pu(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,_5)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new is),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,mu),J2.copy(e.boundingBox).applyMatrix4(mu),this.boundingBox.union(J2)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Qs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,mu),Du.copy(e.boundingSphere).applyMatrix4(mu),this.boundingSphere.union(Du)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(Ou.geometry=this.geometry,Ou.material=this.material,Ou.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Du.copy(this.boundingSphere),Du.applyMatrix4(n),e.ray.intersectsSphere(Du)!==!1))for(let o=0;o<r;o++){this.getMatrixAt(o,mu),K2.multiplyMatrices(n,mu),Ou.matrixWorld=K2,Ou.raycast(e,L0);for(let l=0,c=L0.length;l<c;l++){const f=L0[l];f.instanceId=o,f.object=this,t.push(f)}L0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new pu(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Oa extends hs{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new cr(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Q2=new ce,e9=new ce,t9=new ai,Nf=new h1,T0=new Qs;class uc extends $i{constructor(e=new gn,t=new Oa){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,o=t.count;r<o;r++)Q2.fromBufferAttribute(t,r-1),e9.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Q2.distanceTo(e9);e.setAttribute("lineDistance",new Mr(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,l=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),T0.copy(n.boundingSphere),T0.applyMatrix4(r),T0.radius+=o,e.ray.intersectsSphere(T0)===!1)return;t9.copy(r).invert(),Nf.copy(e.ray).applyMatrix4(t9);const c=o/((this.scale.x+this.scale.y+this.scale.z)/3),f=c*c,d=new ce,m=new ce,g=new ce,v=new ce,C=this.isLineSegments?2:1,y=n.index,M=n.attributes.position;if(y!==null){const x=Math.max(0,l.start),U=Math.min(y.count,l.start+l.count);for(let D=x,ne=U-1;D<ne;D+=C){const ue=y.getX(D),Me=y.getX(D+1);if(d.fromBufferAttribute(M,ue),m.fromBufferAttribute(M,Me),Nf.distanceSqToSegment(d,m,v,g)>f)continue;v.applyMatrix4(this.matrixWorld);const nt=e.ray.origin.distanceTo(v);nt<e.near||nt>e.far||t.push({distance:nt,point:g.clone().applyMatrix4(this.matrixWorld),index:D,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,l.start),U=Math.min(M.count,l.start+l.count);for(let D=x,ne=U-1;D<ne;D+=C){if(d.fromBufferAttribute(M,D),m.fromBufferAttribute(M,D+1),Nf.distanceSqToSegment(d,m,v,g)>f)continue;v.applyMatrix4(this.matrixWorld);const Me=e.ray.origin.distanceTo(v);Me<e.near||Me>e.far||t.push({distance:Me,point:g.clone().applyMatrix4(this.matrixWorld),index:D,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=r.length;o<l;o++){const c=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=o}}}}}const n9=new ce,r9=new ce;class cl extends uc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,o=t.count;r<o;r+=2)n9.fromBufferAttribute(t,r),r9.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+n9.distanceTo(r9);e.setAttribute("lineDistance",new Mr(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class i9 extends uc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Bf extends hs{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new cr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const o9=new ai,Uf=new h1,A0=new Qs,P0=new ce;class s9 extends $i{constructor(e=new gn,t=new Bf){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Points.threshold,l=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),A0.copy(n.boundingSphere),A0.applyMatrix4(r),A0.radius+=o,e.ray.intersectsSphere(A0)===!1)return;o9.copy(r).invert(),Uf.copy(e.ray).applyMatrix4(o9);const c=o/((this.scale.x+this.scale.y+this.scale.z)/3),f=c*c,d=n.index,g=n.attributes.position;if(d!==null){const v=Math.max(0,l.start),C=Math.min(d.count,l.start+l.count);for(let y=v,A=C;y<A;y++){const M=d.getX(y);P0.fromBufferAttribute(g,M),a9(P0,M,f,r,e,t,this)}}else{const v=Math.max(0,l.start),C=Math.min(g.count,l.start+l.count);for(let y=v,A=C;y<A;y++)P0.fromBufferAttribute(g,y),a9(P0,y,f,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=r.length;o<l;o++){const c=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=o}}}}}function a9(a,e,t,n,r,o,l){const c=Uf.distanceSqToPoint(a);if(c<t){const f=new ce;Uf.closestPointToPoint(a,f),f.applyMatrix4(n);const d=r.ray.origin.distanceTo(f);if(d<r.near||d>r.far)return;o.push({distance:d,distanceToRay:Math.sqrt(c),point:f,index:e,face:null,object:l})}}class x5 extends hi{constructor(e,t,n,r,o,l,c,f,d){super(e,t,n,r,o,l,c,f,d),this.isVideoTexture=!0,this.minFilter=l!==void 0?l:Jn,this.magFilter=o!==void 0?o:Jn,this.generateMipmaps=!1;const m=this;function g(){m.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class y5 extends hi{constructor(e,t,n){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=n,this.magFilter=ln,this.minFilter=ln,this.generateMipmaps=!1,this.needsUpdate=!0}}class Vf extends hi{constructor(e,t,n,r,o,l,c,f,d,m,g,v){super(null,l,c,f,d,m,r,o,g,v),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class w5 extends Vf{constructor(e,t,n,r,o,l){super(e,t,n,o,l),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Lt}}class M5 extends hi{constructor(e,t,n,r,o,l,c,f,d){super(e,t,n,r,o,l,c,f,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class $1{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),o=0;t.push(0);for(let l=1;l<=e;l++)n=this.getPoint(l/e),o+=n.distanceTo(r),t.push(o),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const o=n.length;let l;t?l=t:l=e*n[o-1];let c=0,f=o-1,d;for(;c<=f;)if(r=Math.floor(c+(f-c)/2),d=n[r]-l,d<0)c=r+1;else if(d>0)f=r-1;else{f=r;break}if(r=f,n[r]===l)return r/(o-1);const m=n[r],v=n[r+1]-m,C=(l-m)/v;return(r+C)/(o-1)}getTangent(e,t){let r=e-1e-4,o=e+1e-4;r<0&&(r=0),o>1&&(o=1);const l=this.getPoint(r),c=this.getPoint(o),f=t||(l.isVector2?new dn:new ce);return f.copy(c).sub(l).normalize(),f}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new ce,r=[],o=[],l=[],c=new ce,f=new ai;for(let C=0;C<=e;C++){const y=C/e;r[C]=this.getTangentAt(y,new ce)}o[0]=new ce,l[0]=new ce;let d=Number.MAX_VALUE;const m=Math.abs(r[0].x),g=Math.abs(r[0].y),v=Math.abs(r[0].z);m<=d&&(d=m,n.set(1,0,0)),g<=d&&(d=g,n.set(0,1,0)),v<=d&&n.set(0,0,1),c.crossVectors(r[0],n).normalize(),o[0].crossVectors(r[0],c),l[0].crossVectors(r[0],o[0]);for(let C=1;C<=e;C++){if(o[C]=o[C-1].clone(),l[C]=l[C-1].clone(),c.crossVectors(r[C-1],r[C]),c.length()>Number.EPSILON){c.normalize();const y=Math.acos(Ei(r[C-1].dot(r[C]),-1,1));o[C].applyMatrix4(f.makeRotationAxis(c,y))}l[C].crossVectors(r[C],o[C])}if(t===!0){let C=Math.acos(Ei(o[0].dot(o[e]),-1,1));C/=e,r[0].dot(c.crossVectors(o[0],o[e]))>0&&(C=-C);for(let y=1;y<=e;y++)o[y].applyMatrix4(f.makeRotationAxis(r[y],C*y)),l[y].crossVectors(r[y],o[y])}return{tangents:r,normals:o,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class I0 extends $1{constructor(e=0,t=0,n=1,r=1,o=0,l=Math.PI*2,c=!1,f=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=l,this.aClockwise=c,this.aRotation=f}getPoint(e,t){const n=t||new dn,r=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const l=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(l?o=0:o=r),this.aClockwise===!0&&!l&&(o===r?o=-r:o=o-r);const c=this.aStartAngle+e*o;let f=this.aX+this.xRadius*Math.cos(c),d=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),v=f-this.aX,C=d-this.aY;f=v*m-C*g+this.aX,d=v*g+C*m+this.aY}return n.set(f,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class l9 extends I0{constructor(e,t,n,r,o,l){super(e,t,n,n,r,o,l),this.isArcCurve=!0,this.type="ArcCurve"}}function Ff(){let a=0,e=0,t=0,n=0;function r(o,l,c,f){a=o,e=c,t=-3*o+3*l-2*c-f,n=2*o-2*l+c+f}return{initCatmullRom:function(o,l,c,f,d){r(l,c,d*(c-o),d*(f-l))},initNonuniformCatmullRom:function(o,l,c,f,d,m,g){let v=(l-o)/d-(c-o)/(d+m)+(c-l)/m,C=(c-l)/m-(f-l)/(m+g)+(f-c)/g;v*=m,C*=m,r(l,c,v,C)},calc:function(o){const l=o*o,c=l*o;return a+e*o+t*l+n*c}}}const O0=new ce,kf=new Ff,$f=new Ff,Wf=new Ff;class c9 extends $1{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new ce){const n=t,r=this.points,o=r.length,l=(o-(this.closed?0:1))*e;let c=Math.floor(l),f=l-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/o)+1)*o:f===0&&c===o-1&&(c=o-2,f=1);let d,m;this.closed||c>0?d=r[(c-1)%o]:(O0.subVectors(r[0],r[1]).add(r[0]),d=O0);const g=r[c%o],v=r[(c+1)%o];if(this.closed||c+2<o?m=r[(c+2)%o]:(O0.subVectors(r[o-1],r[o-2]).add(r[o-1]),m=O0),this.curveType==="centripetal"||this.curveType==="chordal"){const C=this.curveType==="chordal"?.5:.25;let y=Math.pow(d.distanceToSquared(g),C),A=Math.pow(g.distanceToSquared(v),C),M=Math.pow(v.distanceToSquared(m),C);A<1e-4&&(A=1),y<1e-4&&(y=A),M<1e-4&&(M=A),kf.initNonuniformCatmullRom(d.x,g.x,v.x,m.x,y,A,M),$f.initNonuniformCatmullRom(d.y,g.y,v.y,m.y,y,A,M),Wf.initNonuniformCatmullRom(d.z,g.z,v.z,m.z,y,A,M)}else this.curveType==="catmullrom"&&(kf.initCatmullRom(d.x,g.x,v.x,m.x,this.tension),$f.initCatmullRom(d.y,g.y,v.y,m.y,this.tension),Wf.initCatmullRom(d.z,g.z,v.z,m.z,this.tension));return n.set(kf.calc(f),$f.calc(f),Wf.calc(f)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new ce().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function u9(a,e,t,n,r){const o=(n-e)*.5,l=(r-t)*.5,c=a*a,f=a*c;return(2*t-2*n+o+l)*f+(-3*t+3*n-2*o-l)*c+o*a+t}function b5(a,e){const t=1-a;return t*t*e}function S5(a,e){return 2*(1-a)*a*e}function E5(a,e){return a*a*e}function Hu(a,e,t,n){return b5(a,e)+S5(a,t)+E5(a,n)}function R5(a,e){const t=1-a;return t*t*t*e}function L5(a,e){const t=1-a;return 3*t*t*a*e}function T5(a,e){return 3*(1-a)*a*a*e}function A5(a,e){return a*a*a*e}function zu(a,e,t,n,r){return R5(a,e)+L5(a,t)+T5(a,n)+A5(a,r)}class Zf extends $1{constructor(e=new dn,t=new dn,n=new dn,r=new dn){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new dn){const n=t,r=this.v0,o=this.v1,l=this.v2,c=this.v3;return n.set(zu(e,r.x,o.x,l.x,c.x),zu(e,r.y,o.y,l.y,c.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class f9 extends $1{constructor(e=new ce,t=new ce,n=new ce,r=new ce){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new ce){const n=t,r=this.v0,o=this.v1,l=this.v2,c=this.v3;return n.set(zu(e,r.x,o.x,l.x,c.x),zu(e,r.y,o.y,l.y,c.y),zu(e,r.z,o.z,l.z,c.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class D0 extends $1{constructor(e=new dn,t=new dn){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new dn){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new dn){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class d9 extends $1{constructor(e=new ce,t=new ce){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ce){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ce){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class jf extends $1{constructor(e=new dn,t=new dn,n=new dn){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new dn){const n=t,r=this.v0,o=this.v1,l=this.v2;return n.set(Hu(e,r.x,o.x,l.x),Hu(e,r.y,o.y,l.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Gf extends $1{constructor(e=new ce,t=new ce,n=new ce){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ce){const n=t,r=this.v0,o=this.v1,l=this.v2;return n.set(Hu(e,r.x,o.x,l.x),Hu(e,r.y,o.y,l.y),Hu(e,r.z,o.z,l.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Xf extends $1{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new dn){const n=t,r=this.points,o=(r.length-1)*e,l=Math.floor(o),c=o-l,f=r[l===0?l:l-1],d=r[l],m=r[l>r.length-2?r.length-1:l+1],g=r[l>r.length-3?r.length-1:l+2];return n.set(u9(c,f.x,d.x,m.x,g.x),u9(c,f.y,d.y,m.y,g.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new dn().fromArray(r))}return this}}var Yf=Object.freeze({__proto__:null,ArcCurve:l9,CatmullRomCurve3:c9,CubicBezierCurve:Zf,CubicBezierCurve3:f9,EllipseCurve:I0,LineCurve:D0,LineCurve3:d9,QuadraticBezierCurve:jf,QuadraticBezierCurve3:Gf,SplineCurve:Xf});class h9 extends $1{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new D0(t,e))}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let o=0;for(;o<r.length;){if(r[o]>=n){const l=r[o]-n,c=this.curves[o],f=c.getLength(),d=f===0?0:1-l/f;return c.getPointAt(d,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,o=this.curves;r<o.length;r++){const l=o[r],c=l.isEllipseCurve?e*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?e*l.points.length:e,f=l.getPoints(c);for(let d=0;d<f.length;d++){const m=f[d];n&&n.equals(m)||(t.push(m),n=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new Yf[r.type]().fromJSON(r))}return this}}class Nu extends h9{constructor(e){super(),this.type="Path",this.currentPoint=new dn,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new D0(this.currentPoint.clone(),new dn(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const o=new jf(this.currentPoint.clone(),new dn(e,t),new dn(n,r));return this.curves.push(o),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,o,l){const c=new Zf(this.currentPoint.clone(),new dn(e,t),new dn(n,r),new dn(o,l));return this.curves.push(c),this.currentPoint.set(o,l),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Xf(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,o,l){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absarc(e+c,t+f,n,r,o,l),this}absarc(e,t,n,r,o,l){return this.absellipse(e,t,n,n,r,o,l),this}ellipse(e,t,n,r,o,l,c,f){const d=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+d,t+m,n,r,o,l,c,f),this}absellipse(e,t,n,r,o,l,c,f){const d=new I0(e,t,n,r,o,l,c,f);if(this.curves.length>0){const g=d.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(d);const m=d.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class gu extends gn{constructor(e=[new dn(0,-.5),new dn(.5,0),new dn(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Ei(r,0,Math.PI*2);const o=[],l=[],c=[],f=[],d=[],m=1/t,g=new ce,v=new dn,C=new ce,y=new ce,A=new ce;let M=0,x=0;for(let U=0;U<=e.length-1;U++)switch(U){case 0:M=e[U+1].x-e[U].x,x=e[U+1].y-e[U].y,C.x=x*1,C.y=-M,C.z=x*0,A.copy(C),C.normalize(),f.push(C.x,C.y,C.z);break;case e.length-1:f.push(A.x,A.y,A.z);break;default:M=e[U+1].x-e[U].x,x=e[U+1].y-e[U].y,C.x=x*1,C.y=-M,C.z=x*0,y.copy(C),C.x+=A.x,C.y+=A.y,C.z+=A.z,C.normalize(),f.push(C.x,C.y,C.z),A.copy(y)}for(let U=0;U<=t;U++){const D=n+U*m*r,ne=Math.sin(D),ue=Math.cos(D);for(let Me=0;Me<=e.length-1;Me++){g.x=e[Me].x*ne,g.y=e[Me].y,g.z=e[Me].x*ue,l.push(g.x,g.y,g.z),v.x=U/t,v.y=Me/(e.length-1),c.push(v.x,v.y);const Ne=f[3*Me+0]*ne,nt=f[3*Me+1],G=f[3*Me+0]*ue;d.push(Ne,nt,G)}}for(let U=0;U<t;U++)for(let D=0;D<e.length-1;D++){const ne=D+U*e.length,ue=ne,Me=ne+e.length,Ne=ne+e.length+1,nt=ne+1;o.push(ue,Me,nt),o.push(Ne,nt,Me)}this.setIndex(o),this.setAttribute("position",new Mr(l,3)),this.setAttribute("uv",new Mr(c,2)),this.setAttribute("normal",new Mr(d,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gu(e.points,e.segments,e.phiStart,e.phiLength)}}class Bu extends gu{constructor(e=1,t=1,n=4,r=8){const o=new Nu;o.absarc(0,-t/2,e,Math.PI*1.5,0),o.absarc(0,t/2,e,0,Math.PI*.5),super(o.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new Bu(e.radius,e.length,e.capSegments,e.radialSegments)}}class Uu extends gn{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const o=[],l=[],c=[],f=[],d=new ce,m=new dn;l.push(0,0,0),c.push(0,0,1),f.push(.5,.5);for(let g=0,v=3;g<=t;g++,v+=3){const C=n+g/t*r;d.x=e*Math.cos(C),d.y=e*Math.sin(C),l.push(d.x,d.y,d.z),c.push(0,0,1),m.x=(l[v]/e+1)/2,m.y=(l[v+1]/e+1)/2,f.push(m.x,m.y)}for(let g=1;g<=t;g++)o.push(g,g+1,0);this.setIndex(o),this.setAttribute("position",new Mr(l,3)),this.setAttribute("normal",new Mr(c,3)),this.setAttribute("uv",new Mr(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Uu(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Nc extends gn{constructor(e=1,t=1,n=1,r=32,o=1,l=!1,c=0,f=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:o,openEnded:l,thetaStart:c,thetaLength:f};const d=this;r=Math.floor(r),o=Math.floor(o);const m=[],g=[],v=[],C=[];let y=0;const A=[],M=n/2;let x=0;U(),l===!1&&(e>0&&D(!0),t>0&&D(!1)),this.setIndex(m),this.setAttribute("position",new Mr(g,3)),this.setAttribute("normal",new Mr(v,3)),this.setAttribute("uv",new Mr(C,2));function U(){const ne=new ce,ue=new ce;let Me=0;const Ne=(t-e)/n;for(let nt=0;nt<=o;nt++){const G=[],Ee=nt/o,$t=Ee*(t-e)+e;for(let pn=0;pn<=r;pn++){const St=pn/r,Ut=St*f+c,Xt=Math.sin(Ut),Bn=Math.cos(Ut);ue.x=$t*Xt,ue.y=-Ee*n+M,ue.z=$t*Bn,g.push(ue.x,ue.y,ue.z),ne.set(Xt,Ne,Bn).normalize(),v.push(ne.x,ne.y,ne.z),C.push(St,1-Ee),G.push(y++)}A.push(G)}for(let nt=0;nt<r;nt++)for(let G=0;G<o;G++){const Ee=A[G][nt],$t=A[G+1][nt],pn=A[G+1][nt+1],St=A[G][nt+1];m.push(Ee,$t,St),m.push($t,pn,St),Me+=6}d.addGroup(x,Me,0),x+=Me}function D(ne){const ue=y,Me=new dn,Ne=new ce;let nt=0;const G=ne===!0?e:t,Ee=ne===!0?1:-1;for(let pn=1;pn<=r;pn++)g.push(0,M*Ee,0),v.push(0,Ee,0),C.push(.5,.5),y++;const $t=y;for(let pn=0;pn<=r;pn++){const Ut=pn/r*f+c,Xt=Math.cos(Ut),Bn=Math.sin(Ut);Ne.x=G*Bn,Ne.y=M*Ee,Ne.z=G*Xt,g.push(Ne.x,Ne.y,Ne.z),v.push(0,Ee,0),Me.x=Xt*.5+.5,Me.y=Bn*.5*Ee+.5,C.push(Me.x,Me.y),y++}for(let pn=0;pn<r;pn++){const St=ue+pn,Ut=$t+pn;ne===!0?m.push(Ut,Ut+1,St):m.push(Ut+1,Ut,St),nt+=3}d.addGroup(x,nt,ne===!0?1:2),x+=nt}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Vu extends Nc{constructor(e=1,t=1,n=32,r=1,o=!1,l=0,c=Math.PI*2){super(0,e,t,n,r,o,l,c),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:o,thetaStart:l,thetaLength:c}}static fromJSON(e){return new Vu(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Fl extends gn{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const o=[],l=[];c(r),d(n),m(),this.setAttribute("position",new Mr(o,3)),this.setAttribute("normal",new Mr(o.slice(),3)),this.setAttribute("uv",new Mr(l,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function c(U){const D=new ce,ne=new ce,ue=new ce;for(let Me=0;Me<t.length;Me+=3)C(t[Me+0],D),C(t[Me+1],ne),C(t[Me+2],ue),f(D,ne,ue,U)}function f(U,D,ne,ue){const Me=ue+1,Ne=[];for(let nt=0;nt<=Me;nt++){Ne[nt]=[];const G=U.clone().lerp(ne,nt/Me),Ee=D.clone().lerp(ne,nt/Me),$t=Me-nt;for(let pn=0;pn<=$t;pn++)pn===0&&nt===Me?Ne[nt][pn]=G:Ne[nt][pn]=G.clone().lerp(Ee,pn/$t)}for(let nt=0;nt<Me;nt++)for(let G=0;G<2*(Me-nt)-1;G++){const Ee=Math.floor(G/2);G%2===0?(v(Ne[nt][Ee+1]),v(Ne[nt+1][Ee]),v(Ne[nt][Ee])):(v(Ne[nt][Ee+1]),v(Ne[nt+1][Ee+1]),v(Ne[nt+1][Ee]))}}function d(U){const D=new ce;for(let ne=0;ne<o.length;ne+=3)D.x=o[ne+0],D.y=o[ne+1],D.z=o[ne+2],D.normalize().multiplyScalar(U),o[ne+0]=D.x,o[ne+1]=D.y,o[ne+2]=D.z}function m(){const U=new ce;for(let D=0;D<o.length;D+=3){U.x=o[D+0],U.y=o[D+1],U.z=o[D+2];const ne=M(U)/2/Math.PI+.5,ue=x(U)/Math.PI+.5;l.push(ne,1-ue)}y(),g()}function g(){for(let U=0;U<l.length;U+=6){const D=l[U+0],ne=l[U+2],ue=l[U+4],Me=Math.max(D,ne,ue),Ne=Math.min(D,ne,ue);Me>.9&&Ne<.1&&(D<.2&&(l[U+0]+=1),ne<.2&&(l[U+2]+=1),ue<.2&&(l[U+4]+=1))}}function v(U){o.push(U.x,U.y,U.z)}function C(U,D){const ne=U*3;D.x=e[ne+0],D.y=e[ne+1],D.z=e[ne+2]}function y(){const U=new ce,D=new ce,ne=new ce,ue=new ce,Me=new dn,Ne=new dn,nt=new dn;for(let G=0,Ee=0;G<o.length;G+=9,Ee+=6){U.set(o[G+0],o[G+1],o[G+2]),D.set(o[G+3],o[G+4],o[G+5]),ne.set(o[G+6],o[G+7],o[G+8]),Me.set(l[Ee+0],l[Ee+1]),Ne.set(l[Ee+2],l[Ee+3]),nt.set(l[Ee+4],l[Ee+5]),ue.copy(U).add(D).add(ne).divideScalar(3);const $t=M(ue);A(Me,Ee+0,U,$t),A(Ne,Ee+2,D,$t),A(nt,Ee+4,ne,$t)}}function A(U,D,ne,ue){ue<0&&U.x===1&&(l[D]=U.x-1),ne.x===0&&ne.z===0&&(l[D]=ue/2/Math.PI+.5)}function M(U){return Math.atan2(U.z,-U.x)}function x(U){return Math.atan2(-U.y,Math.sqrt(U.x*U.x+U.z*U.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fl(e.vertices,e.indices,e.radius,e.details)}}class Fu extends Fl{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,l,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Fu(e.radius,e.detail)}}const H0=new ce,z0=new ce,Kf=new ce,N0=new ss;class p9 extends gn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),o=Math.cos(ho*t),l=e.getIndex(),c=e.getAttribute("position"),f=l?l.count:c.count,d=[0,0,0],m=["a","b","c"],g=new Array(3),v={},C=[];for(let y=0;y<f;y+=3){l?(d[0]=l.getX(y),d[1]=l.getX(y+1),d[2]=l.getX(y+2)):(d[0]=y,d[1]=y+1,d[2]=y+2);const{a:A,b:M,c:x}=N0;if(A.fromBufferAttribute(c,d[0]),M.fromBufferAttribute(c,d[1]),x.fromBufferAttribute(c,d[2]),N0.getNormal(Kf),g[0]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,g[1]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,g[2]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let U=0;U<3;U++){const D=(U+1)%3,ne=g[U],ue=g[D],Me=N0[m[U]],Ne=N0[m[D]],nt=`${ne}_${ue}`,G=`${ue}_${ne}`;G in v&&v[G]?(Kf.dot(v[G].normal)<=o&&(C.push(Me.x,Me.y,Me.z),C.push(Ne.x,Ne.y,Ne.z)),v[G]=null):nt in v||(v[nt]={index0:d[U],index1:d[D],normal:Kf.clone()})}}for(const y in v)if(v[y]){const{index0:A,index1:M}=v[y];H0.fromBufferAttribute(c,A),z0.fromBufferAttribute(c,M),C.push(H0.x,H0.y,H0.z),C.push(z0.x,z0.y,z0.z)}this.setAttribute("position",new Mr(C,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Bc extends Nu{constructor(e){super(e),this.uuid=Xo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new Nu().fromJSON(r))}return this}}const P5={triangulate:function(a,e,t=2){const n=e&&e.length,r=n?e[0]*t:a.length;let o=m9(a,0,r,t,!0);const l=[];if(!o||o.next===o.prev)return l;let c,f,d,m,g,v,C;if(n&&(o=z5(a,e,o,t)),a.length>80*t){c=d=a[0],f=m=a[1];for(let y=t;y<r;y+=t)g=a[y],v=a[y+1],g<c&&(c=g),v<f&&(f=v),g>d&&(d=g),v>m&&(m=v);C=Math.max(d-c,m-f),C=C!==0?32767/C:0}return ku(o,l,t,c,f,C,0),l}};function m9(a,e,t,n,r){let o,l;if(r===G5(a,e,t,n)>0)for(o=e;o<t;o+=n)l=C9(o,a[o],a[o+1],l);else for(o=t-n;o>=e;o-=n)l=C9(o,a[o],a[o+1],l);return l&&B0(l,l.next)&&(Wu(l),l=l.next),l}function Uc(a,e){if(!a)return a;e||(e=a);let t=a,n;do if(n=!1,!t.steiner&&(B0(t,t.next)||ts(t.prev,t,t.next)===0)){if(Wu(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function ku(a,e,t,n,r,o,l){if(!a)return;!l&&o&&F5(a,n,r,o);let c=a,f,d;for(;a.prev!==a.next;){if(f=a.prev,d=a.next,o?O5(a,n,r,o):I5(a)){e.push(f.i/t|0),e.push(a.i/t|0),e.push(d.i/t|0),Wu(a),a=d.next,c=d.next;continue}if(a=d,a===c){l?l===1?(a=D5(Uc(a),e,t),ku(a,e,t,n,r,o,2)):l===2&&H5(a,e,t,n,r,o):ku(Uc(a),e,t,n,r,o,1);break}}}function I5(a){const e=a.prev,t=a,n=a.next;if(ts(e,t,n)>=0)return!1;const r=e.x,o=t.x,l=n.x,c=e.y,f=t.y,d=n.y,m=r<o?r<l?r:l:o<l?o:l,g=c<f?c<d?c:d:f<d?f:d,v=r>o?r>l?r:l:o>l?o:l,C=c>f?c>d?c:d:f>d?f:d;let y=n.next;for(;y!==e;){if(y.x>=m&&y.x<=v&&y.y>=g&&y.y<=C&&vu(r,c,o,f,l,d,y.x,y.y)&&ts(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function O5(a,e,t,n){const r=a.prev,o=a,l=a.next;if(ts(r,o,l)>=0)return!1;const c=r.x,f=o.x,d=l.x,m=r.y,g=o.y,v=l.y,C=c<f?c<d?c:d:f<d?f:d,y=m<g?m<v?m:v:g<v?g:v,A=c>f?c>d?c:d:f>d?f:d,M=m>g?m>v?m:v:g>v?g:v,x=Jf(C,y,e,t,n),U=Jf(A,M,e,t,n);let D=a.prevZ,ne=a.nextZ;for(;D&&D.z>=x&&ne&&ne.z<=U;){if(D.x>=C&&D.x<=A&&D.y>=y&&D.y<=M&&D!==r&&D!==l&&vu(c,m,f,g,d,v,D.x,D.y)&&ts(D.prev,D,D.next)>=0||(D=D.prevZ,ne.x>=C&&ne.x<=A&&ne.y>=y&&ne.y<=M&&ne!==r&&ne!==l&&vu(c,m,f,g,d,v,ne.x,ne.y)&&ts(ne.prev,ne,ne.next)>=0))return!1;ne=ne.nextZ}for(;D&&D.z>=x;){if(D.x>=C&&D.x<=A&&D.y>=y&&D.y<=M&&D!==r&&D!==l&&vu(c,m,f,g,d,v,D.x,D.y)&&ts(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;ne&&ne.z<=U;){if(ne.x>=C&&ne.x<=A&&ne.y>=y&&ne.y<=M&&ne!==r&&ne!==l&&vu(c,m,f,g,d,v,ne.x,ne.y)&&ts(ne.prev,ne,ne.next)>=0)return!1;ne=ne.nextZ}return!0}function D5(a,e,t){let n=a;do{const r=n.prev,o=n.next.next;!B0(r,o)&&g9(r,n,n.next,o)&&$u(r,o)&&$u(o,r)&&(e.push(r.i/t|0),e.push(n.i/t|0),e.push(o.i/t|0),Wu(n),Wu(n.next),n=a=o),n=n.next}while(n!==a);return Uc(n)}function H5(a,e,t,n,r,o){let l=a;do{let c=l.next.next;for(;c!==l.prev;){if(l.i!==c.i&&W5(l,c)){let f=v9(l,c);l=Uc(l,l.next),f=Uc(f,f.next),ku(l,e,t,n,r,o,0),ku(f,e,t,n,r,o,0);return}c=c.next}l=l.next}while(l!==a)}function z5(a,e,t,n){const r=[];let o,l,c,f,d;for(o=0,l=e.length;o<l;o++)c=e[o]*n,f=o<l-1?e[o+1]*n:a.length,d=m9(a,c,f,n,!1),d===d.next&&(d.steiner=!0),r.push($5(d));for(r.sort(N5),o=0;o<r.length;o++)t=B5(r[o],t);return t}function N5(a,e){return a.x-e.x}function B5(a,e){const t=U5(a,e);if(!t)return e;const n=v9(t,a);return Uc(n,n.next),Uc(t,t.next)}function U5(a,e){let t=e,n=-1/0,r;const o=a.x,l=a.y;do{if(l<=t.y&&l>=t.next.y&&t.next.y!==t.y){const v=t.x+(l-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(v<=o&&v>n&&(n=v,r=t.x<t.next.x?t:t.next,v===o))return r}t=t.next}while(t!==e);if(!r)return null;const c=r,f=r.x,d=r.y;let m=1/0,g;t=r;do o>=t.x&&t.x>=f&&o!==t.x&&vu(l<d?o:n,l,f,d,l<d?n:o,l,t.x,t.y)&&(g=Math.abs(l-t.y)/(o-t.x),$u(t,a)&&(g<m||g===m&&(t.x>r.x||t.x===r.x&&V5(r,t)))&&(r=t,m=g)),t=t.next;while(t!==c);return r}function V5(a,e){return ts(a.prev,a,e.prev)<0&&ts(e.next,a,a.next)<0}function F5(a,e,t,n){let r=a;do r.z===0&&(r.z=Jf(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==a);r.prevZ.nextZ=null,r.prevZ=null,k5(r)}function k5(a){let e,t,n,r,o,l,c,f,d=1;do{for(t=a,a=null,o=null,l=0;t;){for(l++,n=t,c=0,e=0;e<d&&(c++,n=n.nextZ,!!n);e++);for(f=d;c>0||f>0&&n;)c!==0&&(f===0||!n||t.z<=n.z)?(r=t,t=t.nextZ,c--):(r=n,n=n.nextZ,f--),o?o.nextZ=r:a=r,r.prevZ=o,o=r;t=n}o.nextZ=null,d*=2}while(l>1);return a}function Jf(a,e,t,n,r){return a=(a-t)*r|0,e=(e-n)*r|0,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,a|e<<1}function $5(a){let e=a,t=a;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==a);return t}function vu(a,e,t,n,r,o,l,c){return(r-l)*(e-c)>=(a-l)*(o-c)&&(a-l)*(n-c)>=(t-l)*(e-c)&&(t-l)*(o-c)>=(r-l)*(n-c)}function W5(a,e){return a.next.i!==e.i&&a.prev.i!==e.i&&!Z5(a,e)&&($u(a,e)&&$u(e,a)&&j5(a,e)&&(ts(a.prev,a,e.prev)||ts(a,e.prev,e))||B0(a,e)&&ts(a.prev,a,a.next)>0&&ts(e.prev,e,e.next)>0)}function ts(a,e,t){return(e.y-a.y)*(t.x-e.x)-(e.x-a.x)*(t.y-e.y)}function B0(a,e){return a.x===e.x&&a.y===e.y}function g9(a,e,t,n){const r=V0(ts(a,e,t)),o=V0(ts(a,e,n)),l=V0(ts(t,n,a)),c=V0(ts(t,n,e));return!!(r!==o&&l!==c||r===0&&U0(a,t,e)||o===0&&U0(a,n,e)||l===0&&U0(t,a,n)||c===0&&U0(t,e,n))}function U0(a,e,t){return e.x<=Math.max(a.x,t.x)&&e.x>=Math.min(a.x,t.x)&&e.y<=Math.max(a.y,t.y)&&e.y>=Math.min(a.y,t.y)}function V0(a){return a>0?1:a<0?-1:0}function Z5(a,e){let t=a;do{if(t.i!==a.i&&t.next.i!==a.i&&t.i!==e.i&&t.next.i!==e.i&&g9(t,t.next,a,e))return!0;t=t.next}while(t!==a);return!1}function $u(a,e){return ts(a.prev,a,a.next)<0?ts(a,e,a.next)>=0&&ts(a,a.prev,e)>=0:ts(a,e,a.prev)<0||ts(a,a.next,e)<0}function j5(a,e){let t=a,n=!1;const r=(a.x+e.x)/2,o=(a.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&r<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==a);return n}function v9(a,e){const t=new qf(a.i,a.x,a.y),n=new qf(e.i,e.x,e.y),r=a.next,o=e.prev;return a.next=e,e.prev=a,t.next=r,r.prev=t,n.next=t,t.prev=n,o.next=n,n.prev=o,n}function C9(a,e,t,n){const r=new qf(a,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function Wu(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function qf(a,e,t){this.i=a,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function G5(a,e,t,n){let r=0;for(let o=e,l=t-n;o<t;o+=n)r+=(a[l]-a[o])*(a[o+1]+a[l+1]),l=o;return r}class ul{static area(e){const t=e.length;let n=0;for(let r=t-1,o=0;o<t;r=o++)n+=e[r].x*e[o].y-e[o].x*e[r].y;return n*.5}static isClockWise(e){return ul.area(e)<0}static triangulateShape(e,t){const n=[],r=[],o=[];_9(e),x9(n,e);let l=e.length;t.forEach(_9);for(let f=0;f<t.length;f++)r.push(l),l+=t[f].length,x9(n,t[f]);const c=P5.triangulate(n,r);for(let f=0;f<c.length;f+=3)o.push(c.slice(f,f+3));return o}}function _9(a){const e=a.length;e>2&&a[e-1].equals(a[0])&&a.pop()}function x9(a,e){for(let t=0;t<e.length;t++)a.push(e[t].x),a.push(e[t].y)}class Zu extends gn{constructor(e=new Bc([new dn(.5,.5),new dn(-.5,.5),new dn(-.5,-.5),new dn(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],o=[];for(let c=0,f=e.length;c<f;c++){const d=e[c];l(d)}this.setAttribute("position",new Mr(r,3)),this.setAttribute("uv",new Mr(o,2)),this.computeVertexNormals();function l(c){const f=[],d=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,C=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:C-.1,A=t.bevelOffset!==void 0?t.bevelOffset:0,M=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,U=t.UVGenerator!==void 0?t.UVGenerator:X5;let D,ne=!1,ue,Me,Ne,nt;x&&(D=x.getSpacedPoints(m),ne=!0,v=!1,ue=x.computeFrenetFrames(m,!1),Me=new ce,Ne=new ce,nt=new ce),v||(M=0,C=0,y=0,A=0);const G=c.extractPoints(d);let Ee=G.shape;const $t=G.holes;if(!ul.isClockWise(Ee)){Ee=Ee.reverse();for(let kn=0,mn=$t.length;kn<mn;kn++){const $n=$t[kn];ul.isClockWise($n)&&($t[kn]=$n.reverse())}}const St=ul.triangulateShape(Ee,$t),Ut=Ee;for(let kn=0,mn=$t.length;kn<mn;kn++){const $n=$t[kn];Ee=Ee.concat($n)}function Xt(kn,mn,$n){return mn||console.error("THREE.ExtrudeGeometry: vec does not exist"),kn.clone().addScaledVector(mn,$n)}const Bn=Ee.length,Ln=St.length;function Rn(kn,mn,$n){let Or,Cr,gi;const vi=kn.x-mn.x,ii=kn.y-mn.y,Xi=$n.x-kn.x,_o=$n.y-kn.y,Pe=vi*vi+ii*ii,fe=vi*_o-ii*Xi;if(Math.abs(fe)>Number.EPSILON){const Zt=Math.sqrt(Pe),Xn=Math.sqrt(Xi*Xi+_o*_o),nr=mn.x-ii/Zt,xr=mn.y+vi/Zt,Mi=$n.x-_o/Xn,Pr=$n.y+Xi/Xn,hn=((Mi-nr)*_o-(Pr-xr)*Xi)/(vi*_o-ii*Xi);Or=nr+vi*hn-kn.x,Cr=xr+ii*hn-kn.y;const Wr=Or*Or+Cr*Cr;if(Wr<=2)return new dn(Or,Cr);gi=Math.sqrt(Wr/2)}else{let Zt=!1;vi>Number.EPSILON?Xi>Number.EPSILON&&(Zt=!0):vi<-Number.EPSILON?Xi<-Number.EPSILON&&(Zt=!0):Math.sign(ii)===Math.sign(_o)&&(Zt=!0),Zt?(Or=-ii,Cr=vi,gi=Math.sqrt(Pe)):(Or=vi,Cr=ii,gi=Math.sqrt(Pe/2))}return new dn(Or/gi,Cr/gi)}const Un=[];for(let kn=0,mn=Ut.length,$n=mn-1,Or=kn+1;kn<mn;kn++,$n++,Or++)$n===mn&&($n=0),Or===mn&&(Or=0),Un[kn]=Rn(Ut[kn],Ut[$n],Ut[Or]);const Gn=[];let Ar,yr=Un.concat();for(let kn=0,mn=$t.length;kn<mn;kn++){const $n=$t[kn];Ar=[];for(let Or=0,Cr=$n.length,gi=Cr-1,vi=Or+1;Or<Cr;Or++,gi++,vi++)gi===Cr&&(gi=0),vi===Cr&&(vi=0),Ar[Or]=Rn($n[Or],$n[gi],$n[vi]);Gn.push(Ar),yr=yr.concat(Ar)}for(let kn=0;kn<M;kn++){const mn=kn/M,$n=C*Math.cos(mn*Math.PI/2),Or=y*Math.sin(mn*Math.PI/2)+A;for(let Cr=0,gi=Ut.length;Cr<gi;Cr++){const vi=Xt(Ut[Cr],Un[Cr],Or);ot(vi.x,vi.y,-$n)}for(let Cr=0,gi=$t.length;Cr<gi;Cr++){const vi=$t[Cr];Ar=Gn[Cr];for(let ii=0,Xi=vi.length;ii<Xi;ii++){const _o=Xt(vi[ii],Ar[ii],Or);ot(_o.x,_o.y,-$n)}}}const tn=y+A;for(let kn=0;kn<Bn;kn++){const mn=v?Xt(Ee[kn],yr[kn],tn):Ee[kn];ne?(Ne.copy(ue.normals[0]).multiplyScalar(mn.x),Me.copy(ue.binormals[0]).multiplyScalar(mn.y),nt.copy(D[0]).add(Ne).add(Me),ot(nt.x,nt.y,nt.z)):ot(mn.x,mn.y,0)}for(let kn=1;kn<=m;kn++)for(let mn=0;mn<Bn;mn++){const $n=v?Xt(Ee[mn],yr[mn],tn):Ee[mn];ne?(Ne.copy(ue.normals[kn]).multiplyScalar($n.x),Me.copy(ue.binormals[kn]).multiplyScalar($n.y),nt.copy(D[kn]).add(Ne).add(Me),ot(nt.x,nt.y,nt.z)):ot($n.x,$n.y,g/m*kn)}for(let kn=M-1;kn>=0;kn--){const mn=kn/M,$n=C*Math.cos(mn*Math.PI/2),Or=y*Math.sin(mn*Math.PI/2)+A;for(let Cr=0,gi=Ut.length;Cr<gi;Cr++){const vi=Xt(Ut[Cr],Un[Cr],Or);ot(vi.x,vi.y,g+$n)}for(let Cr=0,gi=$t.length;Cr<gi;Cr++){const vi=$t[Cr];Ar=Gn[Cr];for(let ii=0,Xi=vi.length;ii<Xi;ii++){const _o=Xt(vi[ii],Ar[ii],Or);ne?ot(_o.x,_o.y+D[m-1].y,D[m-1].x+$n):ot(_o.x,_o.y,g+$n)}}}Hn(),vr();function Hn(){const kn=r.length/3;if(v){let mn=0,$n=Bn*mn;for(let Or=0;Or<Ln;Or++){const Cr=St[Or];Ri(Cr[2]+$n,Cr[1]+$n,Cr[0]+$n)}mn=m+M*2,$n=Bn*mn;for(let Or=0;Or<Ln;Or++){const Cr=St[Or];Ri(Cr[0]+$n,Cr[1]+$n,Cr[2]+$n)}}else{for(let mn=0;mn<Ln;mn++){const $n=St[mn];Ri($n[2],$n[1],$n[0])}for(let mn=0;mn<Ln;mn++){const $n=St[mn];Ri($n[0]+Bn*m,$n[1]+Bn*m,$n[2]+Bn*m)}}n.addGroup(kn,r.length/3-kn,0)}function vr(){const kn=r.length/3;let mn=0;wr(Ut,mn),mn+=Ut.length;for(let $n=0,Or=$t.length;$n<Or;$n++){const Cr=$t[$n];wr(Cr,mn),mn+=Cr.length}n.addGroup(kn,r.length/3-kn,1)}function wr(kn,mn){let $n=kn.length;for(;--$n>=0;){const Or=$n;let Cr=$n-1;Cr<0&&(Cr=kn.length-1);for(let gi=0,vi=m+M*2;gi<vi;gi++){const ii=Bn*gi,Xi=Bn*(gi+1),_o=mn+Or+ii,Pe=mn+Cr+ii,fe=mn+Cr+Xi,Zt=mn+Or+Xi;Ii(_o,Pe,fe,Zt)}}}function ot(kn,mn,$n){f.push(kn),f.push(mn),f.push($n)}function Ri(kn,mn,$n){lr(kn),lr(mn),lr($n);const Or=r.length/3,Cr=U.generateTopUV(n,r,Or-3,Or-2,Or-1);Zr(Cr[0]),Zr(Cr[1]),Zr(Cr[2])}function Ii(kn,mn,$n,Or){lr(kn),lr(mn),lr(Or),lr(mn),lr($n),lr(Or);const Cr=r.length/3,gi=U.generateSideWallUV(n,r,Cr-6,Cr-3,Cr-2,Cr-1);Zr(gi[0]),Zr(gi[1]),Zr(gi[3]),Zr(gi[1]),Zr(gi[2]),Zr(gi[3])}function lr(kn){r.push(f[kn*3+0]),r.push(f[kn*3+1]),r.push(f[kn*3+2])}function Zr(kn){o.push(kn.x),o.push(kn.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return Y5(t,n,e)}static fromJSON(e,t){const n=[];for(let o=0,l=e.shapes.length;o<l;o++){const c=t[e.shapes[o]];n.push(c)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Yf[r.type]().fromJSON(r)),new Zu(n,e.options)}}const X5={generateTopUV:function(a,e,t,n,r){const o=e[t*3],l=e[t*3+1],c=e[n*3],f=e[n*3+1],d=e[r*3],m=e[r*3+1];return[new dn(o,l),new dn(c,f),new dn(d,m)]},generateSideWallUV:function(a,e,t,n,r,o){const l=e[t*3],c=e[t*3+1],f=e[t*3+2],d=e[n*3],m=e[n*3+1],g=e[n*3+2],v=e[r*3],C=e[r*3+1],y=e[r*3+2],A=e[o*3],M=e[o*3+1],x=e[o*3+2];return Math.abs(c-m)<Math.abs(l-d)?[new dn(l,1-f),new dn(d,1-g),new dn(v,1-y),new dn(A,1-x)]:[new dn(c,1-f),new dn(m,1-g),new dn(C,1-y),new dn(M,1-x)]}};function Y5(a,e,t){if(t.shapes=[],Array.isArray(a))for(let n=0,r=a.length;n<r;n++){const o=a[n];t.shapes.push(o.uuid)}else t.shapes.push(a.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class ju extends Fl{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ju(e.radius,e.detail)}}class Cu extends Fl{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Cu(e.radius,e.detail)}}class Gu extends gn{constructor(e=.5,t=1,n=32,r=1,o=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:l},n=Math.max(3,n),r=Math.max(1,r);const c=[],f=[],d=[],m=[];let g=e;const v=(t-e)/r,C=new ce,y=new dn;for(let A=0;A<=r;A++){for(let M=0;M<=n;M++){const x=o+M/n*l;C.x=g*Math.cos(x),C.y=g*Math.sin(x),f.push(C.x,C.y,C.z),d.push(0,0,1),y.x=(C.x/t+1)/2,y.y=(C.y/t+1)/2,m.push(y.x,y.y)}g+=v}for(let A=0;A<r;A++){const M=A*(n+1);for(let x=0;x<n;x++){const U=x+M,D=U,ne=U+n+1,ue=U+n+2,Me=U+1;c.push(D,ne,Me),c.push(ne,ue,Me)}}this.setIndex(c),this.setAttribute("position",new Mr(f,3)),this.setAttribute("normal",new Mr(d,3)),this.setAttribute("uv",new Mr(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gu(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Xu extends gn{constructor(e=new Bc([new dn(0,.5),new dn(-.5,-.5),new dn(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],o=[],l=[];let c=0,f=0;if(Array.isArray(e)===!1)d(e);else for(let m=0;m<e.length;m++)d(e[m]),this.addGroup(c,f,m),c+=f,f=0;this.setIndex(n),this.setAttribute("position",new Mr(r,3)),this.setAttribute("normal",new Mr(o,3)),this.setAttribute("uv",new Mr(l,2));function d(m){const g=r.length/3,v=m.extractPoints(t);let C=v.shape;const y=v.holes;ul.isClockWise(C)===!1&&(C=C.reverse());for(let M=0,x=y.length;M<x;M++){const U=y[M];ul.isClockWise(U)===!0&&(y[M]=U.reverse())}const A=ul.triangulateShape(C,y);for(let M=0,x=y.length;M<x;M++){const U=y[M];C=C.concat(U)}for(let M=0,x=C.length;M<x;M++){const U=C[M];r.push(U.x,U.y,0),o.push(0,0,1),l.push(U.x,U.y)}for(let M=0,x=A.length;M<x;M++){const U=A[M],D=U[0]+g,ne=U[1]+g,ue=U[2]+g;n.push(D,ne,ue),f+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return K5(t,e)}static fromJSON(e,t){const n=[];for(let r=0,o=e.shapes.length;r<o;r++){const l=t[e.shapes[r]];n.push(l)}return new Xu(n,e.curveSegments)}}function K5(a,e){if(e.shapes=[],Array.isArray(a))for(let t=0,n=a.length;t<n;t++){const r=a[t];e.shapes.push(r.uuid)}else e.shapes.push(a.uuid);return e}class _u extends gn{constructor(e=1,t=32,n=16,r=0,o=Math.PI*2,l=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:o,thetaStart:l,thetaLength:c},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const f=Math.min(l+c,Math.PI);let d=0;const m=[],g=new ce,v=new ce,C=[],y=[],A=[],M=[];for(let x=0;x<=n;x++){const U=[],D=x/n;let ne=0;x===0&&l===0?ne=.5/t:x===n&&f===Math.PI&&(ne=-.5/t);for(let ue=0;ue<=t;ue++){const Me=ue/t;g.x=-e*Math.cos(r+Me*o)*Math.sin(l+D*c),g.y=e*Math.cos(l+D*c),g.z=e*Math.sin(r+Me*o)*Math.sin(l+D*c),y.push(g.x,g.y,g.z),v.copy(g).normalize(),A.push(v.x,v.y,v.z),M.push(Me+ne,1-D),U.push(d++)}m.push(U)}for(let x=0;x<n;x++)for(let U=0;U<t;U++){const D=m[x][U+1],ne=m[x][U],ue=m[x+1][U],Me=m[x+1][U+1];(x!==0||l>0)&&C.push(D,ne,Me),(x!==n-1||f<Math.PI)&&C.push(ne,ue,Me)}this.setIndex(C),this.setAttribute("position",new Mr(y,3)),this.setAttribute("normal",new Mr(A,3)),this.setAttribute("uv",new Mr(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _u(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Yu extends Fl{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Yu(e.radius,e.detail)}}class Ku extends gn{constructor(e=1,t=.4,n=12,r=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:o},n=Math.floor(n),r=Math.floor(r);const l=[],c=[],f=[],d=[],m=new ce,g=new ce,v=new ce;for(let C=0;C<=n;C++)for(let y=0;y<=r;y++){const A=y/r*o,M=C/n*Math.PI*2;g.x=(e+t*Math.cos(M))*Math.cos(A),g.y=(e+t*Math.cos(M))*Math.sin(A),g.z=t*Math.sin(M),c.push(g.x,g.y,g.z),m.x=e*Math.cos(A),m.y=e*Math.sin(A),v.subVectors(g,m).normalize(),f.push(v.x,v.y,v.z),d.push(y/r),d.push(C/n)}for(let C=1;C<=n;C++)for(let y=1;y<=r;y++){const A=(r+1)*C+y-1,M=(r+1)*(C-1)+y-1,x=(r+1)*(C-1)+y,U=(r+1)*C+y;l.push(A,M,U),l.push(M,x,U)}this.setIndex(l),this.setAttribute("position",new Mr(c,3)),this.setAttribute("normal",new Mr(f,3)),this.setAttribute("uv",new Mr(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ku(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Ju extends gn{constructor(e=1,t=.4,n=64,r=8,o=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:o,q:l},n=Math.floor(n),r=Math.floor(r);const c=[],f=[],d=[],m=[],g=new ce,v=new ce,C=new ce,y=new ce,A=new ce,M=new ce,x=new ce;for(let D=0;D<=n;++D){const ne=D/n*o*Math.PI*2;U(ne,o,l,e,C),U(ne+.01,o,l,e,y),M.subVectors(y,C),x.addVectors(y,C),A.crossVectors(M,x),x.crossVectors(A,M),A.normalize(),x.normalize();for(let ue=0;ue<=r;++ue){const Me=ue/r*Math.PI*2,Ne=-t*Math.cos(Me),nt=t*Math.sin(Me);g.x=C.x+(Ne*x.x+nt*A.x),g.y=C.y+(Ne*x.y+nt*A.y),g.z=C.z+(Ne*x.z+nt*A.z),f.push(g.x,g.y,g.z),v.subVectors(g,C).normalize(),d.push(v.x,v.y,v.z),m.push(D/n),m.push(ue/r)}}for(let D=1;D<=n;D++)for(let ne=1;ne<=r;ne++){const ue=(r+1)*(D-1)+(ne-1),Me=(r+1)*D+(ne-1),Ne=(r+1)*D+ne,nt=(r+1)*(D-1)+ne;c.push(ue,Me,nt),c.push(Me,Ne,nt)}this.setIndex(c),this.setAttribute("position",new Mr(f,3)),this.setAttribute("normal",new Mr(d,3)),this.setAttribute("uv",new Mr(m,2));function U(D,ne,ue,Me,Ne){const nt=Math.cos(D),G=Math.sin(D),Ee=ue/ne*D,$t=Math.cos(Ee);Ne.x=Me*(2+$t)*.5*nt,Ne.y=Me*(2+$t)*G*.5,Ne.z=Me*Math.sin(Ee)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ju(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class qu extends gn{constructor(e=new Gf(new ce(-1,-1,0),new ce(-1,1,0),new ce(1,1,0)),t=64,n=1,r=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:o};const l=e.computeFrenetFrames(t,o);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const c=new ce,f=new ce,d=new dn;let m=new ce;const g=[],v=[],C=[],y=[];A(),this.setIndex(y),this.setAttribute("position",new Mr(g,3)),this.setAttribute("normal",new Mr(v,3)),this.setAttribute("uv",new Mr(C,2));function A(){for(let D=0;D<t;D++)M(D);M(o===!1?t:0),U(),x()}function M(D){m=e.getPointAt(D/t,m);const ne=l.normals[D],ue=l.binormals[D];for(let Me=0;Me<=r;Me++){const Ne=Me/r*Math.PI*2,nt=Math.sin(Ne),G=-Math.cos(Ne);f.x=G*ne.x+nt*ue.x,f.y=G*ne.y+nt*ue.y,f.z=G*ne.z+nt*ue.z,f.normalize(),v.push(f.x,f.y,f.z),c.x=m.x+n*f.x,c.y=m.y+n*f.y,c.z=m.z+n*f.z,g.push(c.x,c.y,c.z)}}function x(){for(let D=1;D<=t;D++)for(let ne=1;ne<=r;ne++){const ue=(r+1)*(D-1)+(ne-1),Me=(r+1)*D+(ne-1),Ne=(r+1)*D+ne,nt=(r+1)*(D-1)+ne;y.push(ue,Me,nt),y.push(Me,Ne,nt)}}function U(){for(let D=0;D<=t;D++)for(let ne=0;ne<=r;ne++)d.x=D/t,d.y=ne/r,C.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new qu(new Yf[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class y9 extends gn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new ce,o=new ce;if(e.index!==null){const l=e.attributes.position,c=e.index;let f=e.groups;f.length===0&&(f=[{start:0,count:c.count,materialIndex:0}]);for(let d=0,m=f.length;d<m;++d){const g=f[d],v=g.start,C=g.count;for(let y=v,A=v+C;y<A;y+=3)for(let M=0;M<3;M++){const x=c.getX(y+M),U=c.getX(y+(M+1)%3);r.fromBufferAttribute(l,x),o.fromBufferAttribute(l,U),w9(r,o,n)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}}else{const l=e.attributes.position;for(let c=0,f=l.count/3;c<f;c++)for(let d=0;d<3;d++){const m=3*c+d,g=3*c+(d+1)%3;r.fromBufferAttribute(l,m),o.fromBufferAttribute(l,g),w9(r,o,n)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new Mr(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function w9(a,e,t){const n=`${a.x},${a.y},${a.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${a.x},${a.y},${a.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var M9=Object.freeze({__proto__:null,BoxGeometry:Za,CapsuleGeometry:Bu,CircleGeometry:Uu,ConeGeometry:Vu,CylinderGeometry:Nc,DodecahedronGeometry:Fu,EdgesGeometry:p9,ExtrudeGeometry:Zu,IcosahedronGeometry:ju,LatheGeometry:gu,OctahedronGeometry:Cu,PlaneGeometry:Eo,PolyhedronGeometry:Fl,RingGeometry:Gu,ShapeGeometry:Xu,SphereGeometry:_u,TetrahedronGeometry:Yu,TorusGeometry:Ku,TorusKnotGeometry:Ju,TubeGeometry:qu,WireframeGeometry:y9});class b9 extends hs{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new cr(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class S9 extends Ns{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Qf extends hs{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new cr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ui,this.normalScale=new dn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class E9 extends Qf{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new dn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ei(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new cr(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new cr(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new cr(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class R9 extends hs{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new cr(16777215),this.specular=new cr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ui,this.normalScale=new dn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=me,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class L9 extends hs{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new cr(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ui,this.normalScale=new dn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class T9 extends hs{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ui,this.normalScale=new dn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class A9 extends hs{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new cr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ui,this.normalScale=new dn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=me,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class P9 extends hs{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new cr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ui,this.normalScale=new dn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class I9 extends Oa{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function S1(a,e,t){return ed(a)?new a.constructor(a.subarray(e,t!==void 0?t:a.length)):a.slice(e,t)}function Vc(a,e,t){return!a||!t&&a.constructor===e?a:typeof e.BYTES_PER_ELEMENT=="number"?new e(a):Array.prototype.slice.call(a)}function ed(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function O9(a){function e(r,o){return a[r]-a[o]}const t=a.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function td(a,e,t){const n=a.length,r=new a.constructor(n);for(let o=0,l=0;l!==n;++o){const c=t[o]*e;for(let f=0;f!==e;++f)r[l++]=a[c+f]}return r}function nd(a,e,t,n){let r=1,o=a[0];for(;o!==void 0&&o[n]===void 0;)o=a[r++];if(o===void 0)return;let l=o[n];if(l!==void 0)if(Array.isArray(l))do l=o[n],l!==void 0&&(e.push(o.time),t.push.apply(t,l)),o=a[r++];while(o!==void 0);else if(l.toArray!==void 0)do l=o[n],l!==void 0&&(e.push(o.time),l.toArray(t,t.length)),o=a[r++];while(o!==void 0);else do l=o[n],l!==void 0&&(e.push(o.time),t.push(l)),o=a[r++];while(o!==void 0)}function J5(a,e,t,n,r=30){const o=a.clone();o.name=e;const l=[];for(let f=0;f<o.tracks.length;++f){const d=o.tracks[f],m=d.getValueSize(),g=[],v=[];for(let C=0;C<d.times.length;++C){const y=d.times[C]*r;if(!(y<t||y>=n)){g.push(d.times[C]);for(let A=0;A<m;++A)v.push(d.values[C*m+A])}}g.length!==0&&(d.times=Vc(g,d.times.constructor),d.values=Vc(v,d.values.constructor),l.push(d))}o.tracks=l;let c=1/0;for(let f=0;f<o.tracks.length;++f)c>o.tracks[f].times[0]&&(c=o.tracks[f].times[0]);for(let f=0;f<o.tracks.length;++f)o.tracks[f].shift(-1*c);return o.resetDuration(),o}function q5(a,e=0,t=a,n=30){n<=0&&(n=30);const r=t.tracks.length,o=e/n;for(let l=0;l<r;++l){const c=t.tracks[l],f=c.ValueTypeName;if(f==="bool"||f==="string")continue;const d=a.tracks.find(function(x){return x.name===c.name&&x.ValueTypeName===f});if(d===void 0)continue;let m=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let v=0;const C=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=C/3);const y=c.times.length-1;let A;if(o<=c.times[0]){const x=m,U=g-m;A=S1(c.values,x,U)}else if(o>=c.times[y]){const x=y*g+m,U=x+g-m;A=S1(c.values,x,U)}else{const x=c.createInterpolant(),U=m,D=g-m;x.evaluate(o),A=S1(x.resultBuffer,U,D)}f==="quaternion"&&new po().fromArray(A).normalize().conjugate().toArray(A);const M=d.times.length;for(let x=0;x<M;++x){const U=x*C+v;if(f==="quaternion")po.multiplyQuaternionsFlat(d.values,U,A,0,d.values,U);else{const D=C-v*2;for(let ne=0;ne<D;++ne)d.values[U+ne]-=A[ne]}}}return a.blendMode=Mo,a}const Q5={arraySlice:S1,convertArray:Vc,isTypedArray:ed,getKeyframeOrder:O9,sortedArray:td,flattenJSON:nd,subclip:J5,makeClipAdditive:q5};class Qu{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],o=t[n-1];e:{t:{let l;n:{r:if(!(e<r)){for(let c=n+2;;){if(r===void 0){if(e<o)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===c)break;if(o=r,r=t[++n],e<r)break t}l=t.length;break n}if(!(e>=o)){const c=t[1];e<c&&(n=2,o=c);for(let f=n-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===f)break;if(r=o,o=t[--n-1],e>=o)break t}l=n,n=0;break n}break e}for(;n<l;){const c=n+l>>>1;e<t[c]?l=c:n=c+1}if(r=t[n],o=t[n-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,o,r)}return this.interpolate_(n,o,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=e*r;for(let l=0;l!==r;++l)t[l]=n[o+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class D9 extends Qu{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:so,endingEnd:so}}intervalChanged_(e,t,n){const r=this.parameterPositions;let o=e-2,l=e+1,c=r[o],f=r[l];if(c===void 0)switch(this.getSettings_().endingStart){case xi:o=e,c=2*t-n;break;case $o:o=r.length-2,c=t+r[o]-r[o+1];break;default:o=e,c=n}if(f===void 0)switch(this.getSettings_().endingEnd){case xi:l=e,f=2*n-t;break;case $o:l=1,f=n+r[1]-r[0];break;default:l=e-1,f=t}const d=(n-t)*.5,m=this.valueSize;this._weightPrev=d/(t-c),this._weightNext=d/(f-n),this._offsetPrev=o*m,this._offsetNext=l*m}interpolate_(e,t,n,r){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,f=e*c,d=f-c,m=this._offsetPrev,g=this._offsetNext,v=this._weightPrev,C=this._weightNext,y=(n-t)/(r-t),A=y*y,M=A*y,x=-v*M+2*v*A-v*y,U=(1+v)*M+(-1.5-2*v)*A+(-.5+v)*y+1,D=(-1-C)*M+(1.5+C)*A+.5*y,ne=C*M-C*A;for(let ue=0;ue!==c;++ue)o[ue]=x*l[m+ue]+U*l[d+ue]+D*l[f+ue]+ne*l[g+ue];return o}}class rd extends Qu{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,f=e*c,d=f-c,m=(n-t)/(r-t),g=1-m;for(let v=0;v!==c;++v)o[v]=l[d+v]*g+l[f+v]*m;return o}}class H9 extends Qu{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class W1{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Vc(t,this.TimeBufferType),this.values=Vc(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Vc(e.times,Array),values:Vc(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new H9(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new rd(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new D9(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Ni:t=this.InterpolantFactoryMethodDiscrete;break;case ci:t=this.InterpolantFactoryMethodLinear;break;case Ai:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ni;case this.InterpolantFactoryMethodLinear:return ci;case this.InterpolantFactoryMethodSmooth:return Ai}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let o=0,l=r-1;for(;o!==r&&n[o]<e;)++o;for(;l!==-1&&n[l]>t;)--l;if(++l,o!==0||l!==r){o>=l&&(l=Math.max(l,1),o=l-1);const c=this.getValueSize();this.times=S1(n,o,l),this.values=S1(this.values,o*c,l*c)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,o=n.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let c=0;c!==o;c++){const f=n[c];if(typeof f=="number"&&isNaN(f)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,f),e=!1;break}if(l!==null&&l>f){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,f,l),e=!1;break}l=f}if(r!==void 0&&ed(r))for(let c=0,f=r.length;c!==f;++c){const d=r[c];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,d),e=!1;break}}return e}optimize(){const e=S1(this.times),t=S1(this.values),n=this.getValueSize(),r=this.getInterpolation()===Ai,o=e.length-1;let l=1;for(let c=1;c<o;++c){let f=!1;const d=e[c],m=e[c+1];if(d!==m&&(c!==1||d!==e[0]))if(r)f=!0;else{const g=c*n,v=g-n,C=g+n;for(let y=0;y!==n;++y){const A=t[g+y];if(A!==t[v+y]||A!==t[C+y]){f=!0;break}}}if(f){if(c!==l){e[l]=e[c];const g=c*n,v=l*n;for(let C=0;C!==n;++C)t[v+C]=t[g+C]}++l}}if(o>0){e[l]=e[o];for(let c=o*n,f=l*n,d=0;d!==n;++d)t[f+d]=t[c+d];++l}return l!==e.length?(this.times=S1(e,0,l),this.values=S1(t,0,l*n)):(this.times=e,this.values=t),this}clone(){const e=S1(this.times,0),t=S1(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}W1.prototype.TimeBufferType=Float32Array,W1.prototype.ValueBufferType=Float32Array,W1.prototype.DefaultInterpolation=ci;class Fc extends W1{}Fc.prototype.ValueTypeName="bool",Fc.prototype.ValueBufferType=Array,Fc.prototype.DefaultInterpolation=Ni,Fc.prototype.InterpolantFactoryMethodLinear=void 0,Fc.prototype.InterpolantFactoryMethodSmooth=void 0;class id extends W1{}id.prototype.ValueTypeName="color";class e0 extends W1{}e0.prototype.ValueTypeName="number";class z9 extends Qu{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,f=(n-t)/(r-t);let d=e*c;for(let m=d+c;d!==m;d+=4)po.slerpFlat(o,0,l,d-c,l,d,f);return o}}class xu extends W1{InterpolantFactoryMethodLinear(e){return new z9(this.times,this.values,this.getValueSize(),e)}}xu.prototype.ValueTypeName="quaternion",xu.prototype.DefaultInterpolation=ci,xu.prototype.InterpolantFactoryMethodSmooth=void 0;class kc extends W1{}kc.prototype.ValueTypeName="string",kc.prototype.ValueBufferType=Array,kc.prototype.DefaultInterpolation=Ni,kc.prototype.InterpolantFactoryMethodLinear=void 0,kc.prototype.InterpolantFactoryMethodSmooth=void 0;class t0 extends W1{}t0.prototype.ValueTypeName="vector";class n0{constructor(e,t=-1,n,r=Qi){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Xo(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let l=0,c=n.length;l!==c;++l)t.push(t3(n[l]).scale(r));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,l=n.length;o!==l;++o)t.push(W1.toJSON(n[o]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const o=t.length,l=[];for(let c=0;c<o;c++){let f=[],d=[];f.push((c+o-1)%o,c,(c+1)%o),d.push(0,1,0);const m=O9(f);f=td(f,1,m),d=td(d,1,m),!r&&f[0]===0&&(f.push(o),d.push(d[0])),l.push(new e0(".morphTargetInfluences["+t[c].name+"]",f,d).scale(1/n))}return new this(e,-1,l)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},o=/^([\w-]*?)([\d]+)$/;for(let c=0,f=e.length;c<f;c++){const d=e[c],m=d.name.match(o);if(m&&m.length>1){const g=m[1];let v=r[g];v||(r[g]=v=[]),v.push(d)}}const l=[];for(const c in r)l.push(this.CreateFromMorphTargetSequence(c,r[c],t,n));return l}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(g,v,C,y,A){if(C.length!==0){const M=[],x=[];nd(C,M,x,y),M.length!==0&&A.push(new g(v,M,x))}},r=[],o=e.name||"default",l=e.fps||30,c=e.blendMode;let f=e.length||-1;const d=e.hierarchy||[];for(let g=0;g<d.length;g++){const v=d[g].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const C={};let y;for(y=0;y<v.length;y++)if(v[y].morphTargets)for(let A=0;A<v[y].morphTargets.length;A++)C[v[y].morphTargets[A]]=-1;for(const A in C){const M=[],x=[];for(let U=0;U!==v[y].morphTargets.length;++U){const D=v[y];M.push(D.time),x.push(D.morphTarget===A?1:0)}r.push(new e0(".morphTargetInfluence["+A+"]",M,x))}f=C.length*l}else{const C=".bones["+t[g].name+"]";n(t0,C+".position",v,"pos",r),n(xu,C+".quaternion",v,"rot",r),n(t0,C+".scale",v,"scl",r)}}return r.length===0?null:new this(o,f,r,c)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const o=this.tracks[n];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function e3(a){switch(a.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return e0;case"vector":case"vector2":case"vector3":case"vector4":return t0;case"color":return id;case"quaternion":return xu;case"bool":case"boolean":return Fc;case"string":return kc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+a)}function t3(a){if(a.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=e3(a.type);if(a.times===void 0){const t=[],n=[];nd(a.keys,t,n,"value"),a.times=t,a.values=n}return e.parse!==void 0?e.parse(a):new e(a.name,a.times,a.values,a.interpolation)}const $c={enabled:!1,files:{},add:function(a,e){this.enabled!==!1&&(this.files[a]=e)},get:function(a){if(this.enabled!==!1)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};class od{constructor(e,t,n){const r=this;let o=!1,l=0,c=0,f;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(m){c++,o===!1&&r.onStart!==void 0&&r.onStart(m,l,c),o=!0},this.itemEnd=function(m){l++,r.onProgress!==void 0&&r.onProgress(m,l,c),l===c&&(o=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return f?f(m):m},this.setURLModifier=function(m){return f=m,this},this.addHandler=function(m,g){return d.push(m,g),this},this.removeHandler=function(m){const g=d.indexOf(m);return g!==-1&&d.splice(g,2),this},this.getHandler=function(m){for(let g=0,v=d.length;g<v;g+=2){const C=d[g],y=d[g+1];if(C.global&&(C.lastIndex=0),C.test(m))return y}return null}}}const N9=new od;class c1{constructor(e){this.manager=e!==void 0?e:N9,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,o){n.load(e,r,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const kl={};class n3 extends Error{constructor(e,t){super(e),this.response=t}}class $l extends c1{constructor(e){super(e)}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=$c.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(kl[e]!==void 0){kl[e].push({onLoad:t,onProgress:n,onError:r});return}kl[e]=[],kl[e].push({onLoad:t,onProgress:n,onError:r});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),c=this.mimeType,f=this.responseType;fetch(l).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||d.body===void 0||d.body.getReader===void 0)return d;const m=kl[e],g=d.body.getReader(),v=d.headers.get("Content-Length")||d.headers.get("X-File-Size"),C=v?parseInt(v):0,y=C!==0;let A=0;const M=new ReadableStream({start(x){U();function U(){g.read().then(({done:D,value:ne})=>{if(D)x.close();else{A+=ne.byteLength;const ue=new ProgressEvent("progress",{lengthComputable:y,loaded:A,total:C});for(let Me=0,Ne=m.length;Me<Ne;Me++){const nt=m[Me];nt.onProgress&&nt.onProgress(ue)}x.enqueue(ne),U()}})}}});return new Response(M)}else throw new n3(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(f){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(m=>new DOMParser().parseFromString(m,c));case"json":return d.json();default:if(c===void 0)return d.text();{const g=/charset="?([^;"\s]*)"?/i.exec(c),v=g&&g[1]?g[1].toLowerCase():void 0,C=new TextDecoder(v);return d.arrayBuffer().then(y=>C.decode(y))}}}).then(d=>{$c.add(e,d);const m=kl[e];delete kl[e];for(let g=0,v=m.length;g<v;g++){const C=m[g];C.onLoad&&C.onLoad(d)}}).catch(d=>{const m=kl[e];if(m===void 0)throw this.manager.itemError(e),d;delete kl[e];for(let g=0,v=m.length;g<v;g++){const C=m[g];C.onError&&C.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class r3 extends c1{constructor(e){super(e)}load(e,t,n,r){const o=this,l=new $l(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{t(o.parse(JSON.parse(c)))}catch(f){r?r(f):console.error(f),o.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=n0.parse(e[n]);t.push(r)}return t}}class i3 extends c1{constructor(e){super(e)}load(e,t,n,r){const o=this,l=[],c=new Vf,f=new $l(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(o.withCredentials);let d=0;function m(g){f.load(e[g],function(v){const C=o.parse(v,!0);l[g]={width:C.width,height:C.height,format:C.format,mipmaps:C.mipmaps},d+=1,d===6&&(C.mipmapCount===1&&(c.minFilter=Jn),c.image=l,c.format=C.format,c.needsUpdate=!0,t&&t(c))},n,r)}if(Array.isArray(e))for(let g=0,v=e.length;g<v;++g)m(g);else f.load(e,function(g){const v=o.parse(g,!0);if(v.isCubemap){const C=v.mipmaps.length/v.mipmapCount;for(let y=0;y<C;y++){l[y]={mipmaps:[]};for(let A=0;A<v.mipmapCount;A++)l[y].mipmaps.push(v.mipmaps[y*v.mipmapCount+A]),l[y].format=v.format,l[y].width=v.width,l[y].height=v.height}c.image=l}else c.image.width=v.width,c.image.height=v.height,c.mipmaps=v.mipmaps;v.mipmapCount===1&&(c.minFilter=Jn),c.format=v.format,c.needsUpdate=!0,t&&t(c)},n,r);return c}}class r0 extends c1{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=$c.get(e);if(l!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l;const c=io("img");function f(){m(),$c.add(e,this),t&&t(this),o.manager.itemEnd(e)}function d(g){m(),r&&r(g),o.manager.itemError(e),o.manager.itemEnd(e)}function m(){c.removeEventListener("load",f,!1),c.removeEventListener("error",d,!1)}return c.addEventListener("load",f,!1),c.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),o.manager.itemStart(e),c.src=e,c}}class o3 extends c1{constructor(e){super(e)}load(e,t,n,r){const o=new y1,l=new r0(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let c=0;function f(d){l.load(e[d],function(m){o.images[d]=m,c++,c===6&&(o.needsUpdate=!0,t&&t(o))},void 0,r)}for(let d=0;d<e.length;++d)f(d);return o}}class s3 extends c1{constructor(e){super(e)}load(e,t,n,r){const o=this,l=new hu,c=new $l(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(o.withCredentials),c.load(e,function(f){const d=o.parse(f);d&&(d.image!==void 0?l.image=d.image:d.data!==void 0&&(l.image.width=d.width,l.image.height=d.height,l.image.data=d.data),l.wrapS=d.wrapS!==void 0?d.wrapS:Lt,l.wrapT=d.wrapT!==void 0?d.wrapT:Lt,l.magFilter=d.magFilter!==void 0?d.magFilter:Jn,l.minFilter=d.minFilter!==void 0?d.minFilter:Jn,l.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0?l.colorSpace=d.colorSpace:d.encoding!==void 0&&(l.encoding=d.encoding),d.flipY!==void 0&&(l.flipY=d.flipY),d.format!==void 0&&(l.format=d.format),d.type!==void 0&&(l.type=d.type),d.mipmaps!==void 0&&(l.mipmaps=d.mipmaps,l.minFilter=Xe),d.mipmapCount===1&&(l.minFilter=Jn),d.generateMipmaps!==void 0&&(l.generateMipmaps=d.generateMipmaps),l.needsUpdate=!0,t&&t(l,d))},n,r),l}}class a3 extends c1{constructor(e){super(e)}load(e,t,n,r){const o=new hi,l=new r0(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(c){o.image=c,o.needsUpdate=!0,t!==void 0&&t(o)},n,r),o}}class fc extends $i{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new cr(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class B9 extends fc{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy($i.DEFAULT_UP),this.updateMatrix(),this.groundColor=new cr(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const sd=new ai,U9=new ce,V9=new ce;class ad{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new dn(512,512),this.map=null,this.mapPass=null,this.matrix=new ai,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ko,this._frameExtents=new dn(1,1),this._viewportCount=1,this._viewports=[new kr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;U9.setFromMatrixPosition(e.matrixWorld),t.position.copy(U9),V9.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(V9),t.updateMatrixWorld(),sd.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(sd),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(sd)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class l3 extends ad{constructor(){super(new Zo(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=oa*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(n!==t.fov||r!==t.aspect||o!==t.far)&&(t.fov=n,t.aspect=r,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class F9 extends fc{constructor(e,t,n=0,r=Math.PI/3,o=0,l=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy($i.DEFAULT_UP),this.updateMatrix(),this.target=new $i,this.distance=n,this.angle=r,this.penumbra=o,this.decay=l,this.map=null,this.shadow=new l3}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const k9=new ai,i0=new ce,ld=new ce;class c3 extends ad{constructor(){super(new Zo(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new dn(4,2),this._viewportCount=6,this._viewports=[new kr(2,1,1,1),new kr(0,1,1,1),new kr(3,1,1,1),new kr(1,1,1,1),new kr(3,0,1,1),new kr(1,0,1,1)],this._cubeDirections=[new ce(1,0,0),new ce(-1,0,0),new ce(0,0,1),new ce(0,0,-1),new ce(0,1,0),new ce(0,-1,0)],this._cubeUps=[new ce(0,1,0),new ce(0,1,0),new ce(0,1,0),new ce(0,1,0),new ce(0,0,1),new ce(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,o=e.distance||n.far;o!==n.far&&(n.far=o,n.updateProjectionMatrix()),i0.setFromMatrixPosition(e.matrixWorld),n.position.copy(i0),ld.copy(n.position),ld.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(ld),n.updateMatrixWorld(),r.makeTranslation(-i0.x,-i0.y,-i0.z),k9.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(k9)}}class $9 extends fc{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new c3}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class u3 extends ad{constructor(){super(new Eu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class W9 extends fc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy($i.DEFAULT_UP),this.updateMatrix(),this.target=new $i,this.shadow=new u3}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Z9 extends fc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class j9 extends fc{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class G9{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ce)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,o=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.282095),t.addScaledVector(l[1],.488603*r),t.addScaledVector(l[2],.488603*o),t.addScaledVector(l[3],.488603*n),t.addScaledVector(l[4],1.092548*(n*r)),t.addScaledVector(l[5],1.092548*(r*o)),t.addScaledVector(l[6],.315392*(3*o*o-1)),t.addScaledVector(l[7],1.092548*(n*o)),t.addScaledVector(l[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,o=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.886227),t.addScaledVector(l[1],2*.511664*r),t.addScaledVector(l[2],2*.511664*o),t.addScaledVector(l[3],2*.511664*n),t.addScaledVector(l[4],2*.429043*n*r),t.addScaledVector(l[5],2*.429043*r*o),t.addScaledVector(l[6],.743125*o*o-.247708),t.addScaledVector(l[7],2*.429043*n*o),t.addScaledVector(l[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,o=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*o,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*n*o,t[8]=.546274*(n*n-r*r)}}class F0 extends fc{constructor(e=new G9,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class k0 extends c1{constructor(e){super(e),this.textures={}}load(e,t,n,r){const o=this,l=new $l(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(c){try{t(o.parse(JSON.parse(c)))}catch(f){r?r(f):console.error(f),o.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const r=k0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new cr().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const l=e.uniforms[o];switch(r.uniforms[o]={},l.type){case"t":r.uniforms[o].value=n(l.value);break;case"c":r.uniforms[o].value=new cr().setHex(l.value);break;case"v2":r.uniforms[o].value=new dn().fromArray(l.value);break;case"v3":r.uniforms[o].value=new ce().fromArray(l.value);break;case"v4":r.uniforms[o].value=new kr().fromArray(l.value);break;case"m3":r.uniforms[o].value=new ti().fromArray(l.value);break;case"m4":r.uniforms[o].value=new ai().fromArray(l.value);break;default:r.uniforms[o].value=l.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)r.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),r.normalScale=new dn().fromArray(o)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new dn().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:b9,SpriteMaterial:Df,RawShaderMaterial:S9,ShaderMaterial:Ns,PointsMaterial:Bf,MeshPhysicalMaterial:E9,MeshStandardMaterial:Qf,MeshPhongMaterial:R9,MeshToonMaterial:L9,MeshNormalMaterial:T9,MeshLambertMaterial:A9,MeshDepthMaterial:Pf,MeshDistanceMaterial:If,MeshBasicMaterial:La,MeshMatcapMaterial:P9,LineDashedMaterial:I9,LineBasicMaterial:Oa,Material:hs};return new t[e]}}class cd{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class X9 extends gn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Y9 extends c1{constructor(e){super(e)}load(e,t,n,r){const o=this,l=new $l(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(c){try{t(o.parse(JSON.parse(c)))}catch(f){r?r(f):console.error(f),o.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(C,y){if(t[y]!==void 0)return t[y];const M=C.interleavedBuffers[y],x=o(C,M.buffer),U=Do(M.type,x),D=new w0(U,M.stride);return D.uuid=M.uuid,t[y]=D,D}function o(C,y){if(n[y]!==void 0)return n[y];const M=C.arrayBuffers[y],x=new Uint32Array(M).buffer;return n[y]=x,x}const l=e.isInstancedBufferGeometry?new X9:new gn,c=e.data.index;if(c!==void 0){const C=Do(c.type,c.array);l.setIndex(new lo(C,1))}const f=e.data.attributes;for(const C in f){const y=f[C];let A;if(y.isInterleavedBufferAttribute){const M=r(e.data,y.data);A=new zc(M,y.itemSize,y.offset,y.normalized)}else{const M=Do(y.type,y.array),x=y.isInstancedBufferAttribute?pu:lo;A=new x(M,y.itemSize,y.normalized)}y.name!==void 0&&(A.name=y.name),y.usage!==void 0&&A.setUsage(y.usage),y.updateRange!==void 0&&(A.updateRange.offset=y.updateRange.offset,A.updateRange.count=y.updateRange.count),l.setAttribute(C,A)}const d=e.data.morphAttributes;if(d)for(const C in d){const y=d[C],A=[];for(let M=0,x=y.length;M<x;M++){const U=y[M];let D;if(U.isInterleavedBufferAttribute){const ne=r(e.data,U.data);D=new zc(ne,U.itemSize,U.offset,U.normalized)}else{const ne=Do(U.type,U.array);D=new lo(ne,U.itemSize,U.normalized)}U.name!==void 0&&(D.name=U.name),A.push(D)}l.morphAttributes[C]=A}e.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let C=0,y=g.length;C!==y;++C){const A=g[C];l.addGroup(A.start,A.count,A.materialIndex)}const v=e.data.boundingSphere;if(v!==void 0){const C=new ce;v.center!==void 0&&C.fromArray(v.center),l.boundingSphere=new Qs(C,v.radius)}return e.name&&(l.name=e.name),e.userData&&(l.userData=e.userData),l}}class f3 extends c1{constructor(e){super(e)}load(e,t,n,r){const o=this,l=this.path===""?cd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const c=new $l(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(f){let d=null;try{d=JSON.parse(f)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const m=d.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(d,t)},n,r)}loadAsync(e,t){return Wl(this,null,function*(){const n=this,r=this.path===""?cd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const o=new $l(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const l=yield o.loadAsync(e,t),c=JSON.parse(l),f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return yield n.parseAsync(c)})}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,r),l=this.parseImages(e.images,function(){t!==void 0&&t(d)}),c=this.parseTextures(e.textures,l),f=this.parseMaterials(e.materials,c),d=this.parseObject(e.object,o,f,c,n),m=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,m),t!==void 0){let g=!1;for(const v in l)if(l[v].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(d)}return d}parseAsync(e){return Wl(this,null,function*(){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),o=yield this.parseImagesAsync(e.images),l=this.parseTextures(e.textures,o),c=this.parseMaterials(e.materials,l),f=this.parseObject(e.object,r,c,l,t),d=this.parseSkeletons(e.skeletons,f);return this.bindSkeletons(f,d),f})}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const o=new Bc().fromJSON(e[n]);t[o.uuid]=o}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(o){o.isBone&&(r[o.uuid]=o)}),e!==void 0)for(let o=0,l=e.length;o<l;o++){const c=new R0().fromJSON(e[o],r);n[c.uuid]=c}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new Y9;for(let o=0,l=e.length;o<l;o++){let c;const f=e[o];switch(f.type){case"BufferGeometry":case"InstancedBufferGeometry":c=r.parse(f);break;default:f.type in M9?c=M9[f.type].fromJSON(f,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${f.type}"`)}c.uuid=f.uuid,f.name!==void 0&&(c.name=f.name),f.userData!==void 0&&(c.userData=f.userData),n[f.uuid]=c}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const o=new k0;o.setTextures(t);for(let l=0,c=e.length;l<c;l++){const f=e[l];n[f.uuid]===void 0&&(n[f.uuid]=o.parse(f)),r[f.uuid]=n[f.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],o=n0.parse(r);t[o.uuid]=o}return t}parseImages(e,t){const n=this,r={};let o;function l(f){return n.manager.itemStart(f),o.load(f,function(){n.manager.itemEnd(f)},void 0,function(){n.manager.itemError(f),n.manager.itemEnd(f)})}function c(f){if(typeof f=="string"){const d=f,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;return l(m)}else return f.data?{data:Do(f.type,f.data),width:f.width,height:f.height}:null}if(e!==void 0&&e.length>0){const f=new od(t);o=new r0(f),o.setCrossOrigin(this.crossOrigin);for(let d=0,m=e.length;d<m;d++){const g=e[d],v=g.url;if(Array.isArray(v)){const C=[];for(let y=0,A=v.length;y<A;y++){const M=v[y],x=c(M);x!==null&&(x instanceof HTMLImageElement?C.push(x):C.push(new hu(x.data,x.width,x.height)))}r[g.uuid]=new la(C)}else{const C=c(g.url);r[g.uuid]=new la(C)}}}return r}parseImagesAsync(e){return Wl(this,null,function*(){const t=this,n={};let r;function o(l){return Wl(this,null,function*(){if(typeof l=="string"){const c=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:t.resourcePath+c;return yield r.loadAsync(f)}else return l.data?{data:Do(l.type,l.data),width:l.width,height:l.height}:null})}if(e!==void 0&&e.length>0){r=new r0(this.manager),r.setCrossOrigin(this.crossOrigin);for(let l=0,c=e.length;l<c;l++){const f=e[l],d=f.url;if(Array.isArray(d)){const m=[];for(let g=0,v=d.length;g<v;g++){const C=d[g],y=yield o(C);y!==null&&(y instanceof HTMLImageElement?m.push(y):m.push(new hu(y.data,y.width,y.height)))}n[f.uuid]=new la(m)}else{const m=yield o(f.url);n[f.uuid]=new la(m)}}}return n})}parseTextures(e,t){function n(o,l){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),l[o])}const r={};if(e!==void 0)for(let o=0,l=e.length;o<l;o++){const c=e[o];c.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),t[c.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",c.image);const f=t[c.image],d=f.data;let m;Array.isArray(d)?(m=new y1,d.length===6&&(m.needsUpdate=!0)):(d&&d.data?m=new hu:m=new hi,d&&(m.needsUpdate=!0)),m.source=f,m.uuid=c.uuid,c.name!==void 0&&(m.name=c.name),c.mapping!==void 0&&(m.mapping=n(c.mapping,d3)),c.channel!==void 0&&(m.channel=c.channel),c.offset!==void 0&&m.offset.fromArray(c.offset),c.repeat!==void 0&&m.repeat.fromArray(c.repeat),c.center!==void 0&&m.center.fromArray(c.center),c.rotation!==void 0&&(m.rotation=c.rotation),c.wrap!==void 0&&(m.wrapS=n(c.wrap[0],K9),m.wrapT=n(c.wrap[1],K9)),c.format!==void 0&&(m.format=c.format),c.internalFormat!==void 0&&(m.internalFormat=c.internalFormat),c.type!==void 0&&(m.type=c.type),c.colorSpace!==void 0&&(m.colorSpace=c.colorSpace),c.encoding!==void 0&&(m.encoding=c.encoding),c.minFilter!==void 0&&(m.minFilter=n(c.minFilter,J9)),c.magFilter!==void 0&&(m.magFilter=n(c.magFilter,J9)),c.anisotropy!==void 0&&(m.anisotropy=c.anisotropy),c.flipY!==void 0&&(m.flipY=c.flipY),c.generateMipmaps!==void 0&&(m.generateMipmaps=c.generateMipmaps),c.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=c.premultiplyAlpha),c.unpackAlignment!==void 0&&(m.unpackAlignment=c.unpackAlignment),c.userData!==void 0&&(m.userData=c.userData),r[c.uuid]=m}return r}parseObject(e,t,n,r,o){let l;function c(v){return t[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),t[v]}function f(v){if(v!==void 0){if(Array.isArray(v)){const C=[];for(let y=0,A=v.length;y<A;y++){const M=v[y];n[M]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",M),C.push(n[M])}return C}return n[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),n[v]}}function d(v){return r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),r[v]}let m,g;switch(e.type){case"Scene":l=new N2,e.background!==void 0&&(Number.isInteger(e.background)?l.background=new cr(e.background):l.background=d(e.background)),e.environment!==void 0&&(l.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?l.fog=new y0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(l.fog=new x0(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(l.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":l=new Zo(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(l.focus=e.focus),e.zoom!==void 0&&(l.zoom=e.zoom),e.filmGauge!==void 0&&(l.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(l.filmOffset=e.filmOffset),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"OrthographicCamera":l=new Eu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(l.zoom=e.zoom),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"AmbientLight":l=new Z9(e.color,e.intensity);break;case"DirectionalLight":l=new W9(e.color,e.intensity);break;case"PointLight":l=new $9(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":l=new j9(e.color,e.intensity,e.width,e.height);break;case"SpotLight":l=new F9(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":l=new B9(e.color,e.groundColor,e.intensity);break;case"LightProbe":l=new F0().fromJSON(e);break;case"SkinnedMesh":m=c(e.geometry),g=f(e.material),l=new X2(m,g),e.bindMode!==void 0&&(l.bindMode=e.bindMode),e.bindMatrix!==void 0&&l.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(l.skeleton=e.skeleton);break;case"Mesh":m=c(e.geometry),g=f(e.material),l=new Fo(m,g);break;case"InstancedMesh":m=c(e.geometry),g=f(e.material);const v=e.count,C=e.instanceMatrix,y=e.instanceColor;l=new q2(m,g,v),l.instanceMatrix=new pu(new Float32Array(C.array),16),y!==void 0&&(l.instanceColor=new pu(new Float32Array(y.array),y.itemSize));break;case"LOD":l=new $2;break;case"Line":l=new uc(c(e.geometry),f(e.material));break;case"LineLoop":l=new i9(c(e.geometry),f(e.material));break;case"LineSegments":l=new cl(c(e.geometry),f(e.material));break;case"PointCloud":case"Points":l=new s9(c(e.geometry),f(e.material));break;case"Sprite":l=new F2(f(e.material));break;case"Group":l=new au;break;case"Bone":l=new zf;break;default:l=new $i}if(l.uuid=e.uuid,e.name!==void 0&&(l.name=e.name),e.matrix!==void 0?(l.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=e.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(e.position!==void 0&&l.position.fromArray(e.position),e.rotation!==void 0&&l.rotation.fromArray(e.rotation),e.quaternion!==void 0&&l.quaternion.fromArray(e.quaternion),e.scale!==void 0&&l.scale.fromArray(e.scale)),e.up!==void 0&&l.up.fromArray(e.up),e.castShadow!==void 0&&(l.castShadow=e.castShadow),e.receiveShadow!==void 0&&(l.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(l.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(l.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(l.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(l.visible=e.visible),e.frustumCulled!==void 0&&(l.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(l.renderOrder=e.renderOrder),e.userData!==void 0&&(l.userData=e.userData),e.layers!==void 0&&(l.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let C=0;C<v.length;C++)l.add(this.parseObject(v[C],t,n,r,o))}if(e.animations!==void 0){const v=e.animations;for(let C=0;C<v.length;C++){const y=v[C];l.animations.push(o[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(l.autoUpdate=e.autoUpdate);const v=e.levels;for(let C=0;C<v.length;C++){const y=v[C],A=l.getObjectByProperty("uuid",y.object);A!==void 0&&l.addLevel(A,y.distance,y.hysteresis)}}return l}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}}const d3={UVMapping:Yt,CubeReflectionMapping:Tn,CubeRefractionMapping:an,EquirectangularReflectionMapping:An,EquirectangularRefractionMapping:Rr,CubeUVReflectionMapping:qr},K9={RepeatWrapping:_t,ClampToEdgeWrapping:Lt,MirroredRepeatWrapping:Qt},J9={NearestFilter:ln,NearestMipmapNearestFilter:yn,NearestMipmapLinearFilter:jn,LinearFilter:Jn,LinearMipmapNearestFilter:ge,LinearMipmapLinearFilter:Xe};class h3 extends c1{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=$c.get(e);if(l!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l;const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",c.headers=this.requestHeader,fetch(e,c).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(f){$c.add(e,f),t&&t(f),o.manager.itemEnd(e)}).catch(function(f){r&&r(f),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}let $0;class ud{static getContext(){return $0===void 0&&($0=new(window.AudioContext||window.webkitAudioContext)),$0}static setContext(e){$0=e}}class p3 extends c1{constructor(e){super(e)}load(e,t,n,r){const o=this,l=new $l(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(f){try{const d=f.slice(0);ud.getContext().decodeAudioData(d,function(g){t(g)},c)}catch(d){c(d)}},n,r);function c(f){r?r(f):console.error(f),o.manager.itemError(e)}}}class m3 extends F0{constructor(e,t,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;const r=new cr().set(e),o=new cr().set(t),l=new ce(r.r,r.g,r.b),c=new ce(o.r,o.g,o.b),f=Math.sqrt(Math.PI),d=f*Math.sqrt(.75);this.sh.coefficients[0].copy(l).add(c).multiplyScalar(f),this.sh.coefficients[1].copy(l).sub(c).multiplyScalar(d)}}class g3 extends F0{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const n=new cr().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const q9=new ai,Q9=new ai,Wc=new ai;class v3{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Zo,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Zo,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Wc.copy(e.projectionMatrix);const r=t.eyeSep/2,o=r*t.near/t.focus,l=t.near*Math.tan(ho*t.fov*.5)/t.zoom;let c,f;Q9.elements[12]=-r,q9.elements[12]=r,c=-l*t.aspect+o,f=l*t.aspect+o,Wc.elements[0]=2*t.near/(f-c),Wc.elements[8]=(f+c)/(f-c),this.cameraL.projectionMatrix.copy(Wc),c=-l*t.aspect-o,f=l*t.aspect-o,Wc.elements[0]=2*t.near/(f-c),Wc.elements[8]=(f+c)/(f-c),this.cameraR.projectionMatrix.copy(Wc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Q9),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(q9)}}class eh{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=th(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=th();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function th(){return(typeof performance=="undefined"?Date:performance).now()}const Zc=new ce,nh=new po,C3=new ce,jc=new ce;class _3 extends $i{constructor(){super(),this.type="AudioListener",this.context=ud.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new eh}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Zc,nh,C3),jc.set(0,0,-1).applyQuaternion(nh),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Zc.x,r),t.positionY.linearRampToValueAtTime(Zc.y,r),t.positionZ.linearRampToValueAtTime(Zc.z,r),t.forwardX.linearRampToValueAtTime(jc.x,r),t.forwardY.linearRampToValueAtTime(jc.y,r),t.forwardZ.linearRampToValueAtTime(jc.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(Zc.x,Zc.y,Zc.z),t.setOrientation(jc.x,jc.y,jc.z,n.x,n.y,n.z)}}class rh extends $i{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Gc=new ce,ih=new po,x3=new ce,Xc=new ce;class y3 extends rh{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Gc,ih,x3),Xc.set(0,0,1).applyQuaternion(ih);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Gc.x,n),t.positionY.linearRampToValueAtTime(Gc.y,n),t.positionZ.linearRampToValueAtTime(Gc.z,n),t.orientationX.linearRampToValueAtTime(Xc.x,n),t.orientationY.linearRampToValueAtTime(Xc.y,n),t.orientationZ.linearRampToValueAtTime(Xc.z,n)}else t.setPosition(Gc.x,Gc.y,Gc.z),t.setOrientation(Xc.x,Xc.y,Xc.z)}}class w3{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class oh{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,o,l;switch(t){case"quaternion":r=this._slerp,o=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,o=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,o=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=o,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,o=e*r+r;let l=this.cumulativeWeight;if(l===0){for(let c=0;c!==r;++c)n[o+c]=n[c];l=t}else{l+=t;const c=t/l;this._mixBufferRegion(n,o,0,c,r)}this.cumulativeWeight=l}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,o=this.cumulativeWeight,l=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const f=t*this._origIndex;this._mixBufferRegion(n,r,f,1-o,t)}l>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let f=t,d=t+t;f!==d;++f)if(n[f]!==n[f+t]){c.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let o=n,l=r;o!==l;++o)t[o]=t[r+o%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,o){if(r>=.5)for(let l=0;l!==o;++l)e[t+l]=e[n+l]}_slerp(e,t,n,r){po.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,o){const l=this._workIndex*o;po.multiplyQuaternionsFlat(e,l,e,t,e,n),po.slerpFlat(e,t,e,t,e,l,r)}_lerp(e,t,n,r,o){const l=1-r;for(let c=0;c!==o;++c){const f=t+c;e[f]=e[f]*l+e[n+c]*r}}_lerpAdditive(e,t,n,r,o){for(let l=0;l!==o;++l){const c=t+l;e[c]=e[c]+e[n+l]*r}}}const fd="\\[\\]\\.:\\/",M3=new RegExp("["+fd+"]","g"),dd="[^"+fd+"]",b3="[^"+fd.replace("\\.","")+"]",S3=/((?:WC+[\/:])*)/.source.replace("WC",dd),E3=/(WCOD+)?/.source.replace("WCOD",b3),R3=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",dd),L3=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",dd),T3=new RegExp("^"+S3+E3+R3+L3+"$"),A3=["material","materials","bones","map"];class P3{constructor(e,t,n){const r=n||mo.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=n.length;r!==o;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class mo{constructor(e,t,n){this.path=t,this.parsedPath=n||mo.parseTrackName(t),this.node=mo.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new mo.Composite(e,t,n):new mo(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(M3,"")}static parseTrackName(e){const t=T3.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const o=n.nodeName.substring(r+1);A3.indexOf(o)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=o)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(o){for(let l=0;l<o.length;l++){const c=o[l];if(c.name===t||c.uuid===t)return c;const f=n(c.children);if(f)return f}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let o=t.propertyIndex;if(e||(e=mo.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let d=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===d){d=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const l=e[r];if(l===void 0){const d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+r+" but it wasn't found.",e);return}let c=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?c=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let f=this.BindingType.Direct;if(o!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}f=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else l.fromArray!==void 0&&l.toArray!==void 0?(f=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(f=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=r;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}mo.Composite=P3,mo.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},mo.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},mo.prototype.GetterByBindingType=[mo.prototype._getValue_direct,mo.prototype._getValue_array,mo.prototype._getValue_arrayElement,mo.prototype._getValue_toArray],mo.prototype.SetterByBindingTypeAndVersioning=[[mo.prototype._setValue_direct,mo.prototype._setValue_direct_setNeedsUpdate,mo.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[mo.prototype._setValue_array,mo.prototype._setValue_array_setNeedsUpdate,mo.prototype._setValue_array_setMatrixWorldNeedsUpdate],[mo.prototype._setValue_arrayElement,mo.prototype._setValue_arrayElement_setNeedsUpdate,mo.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[mo.prototype._setValue_fromArray,mo.prototype._setValue_fromArray_setNeedsUpdate,mo.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class I3{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Xo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,o=this._bindings,l=o.length;let c,f=e.length,d=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const v=arguments[m],C=v.uuid;let y=t[C];if(y===void 0){y=f++,t[C]=y,e.push(v);for(let A=0,M=l;A!==M;++A)o[A].push(new mo(v,n[A],r[A]))}else if(y<d){c=e[y];const A=--d,M=e[A];t[M.uuid]=y,e[y]=M,t[C]=A,e[A]=v;for(let x=0,U=l;x!==U;++x){const D=o[x],ne=D[A];let ue=D[y];D[y]=ne,ue===void 0&&(ue=new mo(v,n[x],r[x])),D[A]=ue}}else e[y]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_;for(let l=0,c=arguments.length;l!==c;++l){const f=arguments[l],d=f.uuid,m=t[d];if(m!==void 0&&m>=o){const g=o++,v=e[g];t[v.uuid]=m,e[m]=v,t[d]=g,e[g]=f;for(let C=0,y=r;C!==y;++C){const A=n[C],M=A[g],x=A[m];A[m]=M,A[g]=x}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_,l=e.length;for(let c=0,f=arguments.length;c!==f;++c){const d=arguments[c],m=d.uuid,g=t[m];if(g!==void 0)if(delete t[m],g<o){const v=--o,C=e[v],y=--l,A=e[y];t[C.uuid]=g,e[g]=C,t[A.uuid]=v,e[v]=A,e.pop();for(let M=0,x=r;M!==x;++M){const U=n[M],D=U[v],ne=U[y];U[g]=D,U[v]=ne,U.pop()}}else{const v=--l,C=e[v];v>0&&(t[C.uuid]=g),e[g]=C,e.pop();for(let y=0,A=r;y!==A;++y){const M=n[y];M[g]=M[v],M.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const o=this._bindings;if(r!==void 0)return o[r];const l=this._paths,c=this._parsedPaths,f=this._objects,d=f.length,m=this.nCachedObjects_,g=new Array(d);r=o.length,n[e]=r,l.push(e),c.push(t),o.push(g);for(let v=m,C=f.length;v!==C;++v){const y=f[v];g[v]=new mo(y,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,o=this._parsedPaths,l=this._bindings,c=l.length-1,f=l[c],d=e[c];t[d]=n,l[n]=f,l.pop(),o[n]=o[c],o.pop(),r[n]=r[c],r.pop()}}}class sh{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const o=t.tracks,l=o.length,c=new Array(l),f={endingStart:so,endingEnd:so};for(let d=0;d!==l;++d){const m=o[d].createInterpolant(null);c[d]=m,m.settings=f}this._interpolantSettings=f,this._interpolants=c,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Di,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const r=this._clip.duration,o=e._clip.duration,l=o/r,c=r/o;e.warp(1,l,t),this.warp(c,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,o=r.time,l=this.timeScale;let c=this._timeScaleInterpolant;c===null&&(c=r._lendControlInterpolant(),this._timeScaleInterpolant=c);const f=c.parameterPositions,d=c.sampleValues;return f[0]=o,f[1]=o+n,d[0]=e/l,d[1]=t/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const f=(e-o)*n;f<0||n===0?t=0:(this._startTime=null,t=n*f)}t*=this._updateTimeScale(e);const l=this._updateTime(t),c=this._updateWeight(e);if(c>0){const f=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case Mo:for(let m=0,g=f.length;m!==g;++m)f[m].evaluate(l),d[m].accumulateAdditive(c);break;case Qi:default:for(let m=0,g=f.length;m!==g;++m)f[m].evaluate(l),d[m].accumulate(r,c)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,o=this._loopCount;const l=n===fo;if(e===0)return o===-1?r:l&&(o&1)===1?t-r:r;if(n===Gi){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),r>=t||r<0){const c=Math.floor(r/t);r-=t*c,o+=Math.abs(c);const f=this.repetitions-o;if(f<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(f===1){const d=e<0;this._setEndings(d,!d,l)}else this._setEndings(!1,!1,l);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=r;if(l&&(o&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=xi,r.endingEnd=xi):(e?r.endingStart=this.zeroSlopeAtStart?xi:so:r.endingStart=$o,t?r.endingEnd=this.zeroSlopeAtEnd?xi:so:r.endingEnd=$o)}_scheduleFading(e,t,n){const r=this._mixer,o=r.time;let l=this._weightInterpolant;l===null&&(l=r._lendControlInterpolant(),this._weightInterpolant=l);const c=l.parameterPositions,f=l.sampleValues;return c[0]=o,f[0]=t,c[1]=o+e,f[1]=n,this}}const O3=new Float32Array(1);class D3 extends ki{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,o=r.length,l=e._propertyBindings,c=e._interpolants,f=n.uuid,d=this._bindingsByRootAndName;let m=d[f];m===void 0&&(m={},d[f]=m);for(let g=0;g!==o;++g){const v=r[g],C=v.name;let y=m[C];if(y!==void 0)++y.referenceCount,l[g]=y;else{if(y=l[g],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,f,C));continue}const A=t&&t._propertyBindings[g].binding.parsedPath;y=new oh(mo.create(n,C,A),v.ValueTypeName,v.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,f,C),l[g]=y}c[g].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,o=this._actionsByClip[r];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,o=this._actionsByClip;let l=o[t];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=l;else{const c=l.knownActions;e._byClipCacheIndex=c.length,c.push(e)}e._cacheIndex=r.length,r.push(e),l.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,l=this._actionsByClip,c=l[o],f=c.knownActions,d=f[f.length-1],m=e._byClipCacheIndex;d._byClipCacheIndex=m,f[m]=d,f.pop(),e._byClipCacheIndex=null;const g=c.actionByRoot,v=(e._localRoot||this._root).uuid;delete g[v],f.length===0&&delete l[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,o=this._bindings;let l=r[t];l===void 0&&(l={},r[t]=l),l[n]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,o=n.path,l=this._bindingsByRootAndName,c=l[r],f=t[t.length-1],d=e._cacheIndex;f._cacheIndex=d,t[d]=f,t.pop(),delete c[o],Object.keys(c).length===0&&delete l[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new rd(new Float32Array(2),new Float32Array(2),1,O3),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,o=t[r];e.__cacheIndex=r,t[r]=e,o.__cacheIndex=n,t[n]=o}clipAction(e,t,n){const r=t||this._root,o=r.uuid;let l=typeof e=="string"?n0.findByName(r,e):e;const c=l!==null?l.uuid:e,f=this._actionsByClip[c];let d=null;if(n===void 0&&(l!==null?n=l.blendMode:n=Qi),f!==void 0){const g=f.actionByRoot[o];if(g!==void 0&&g.blendMode===n)return g;d=f.knownActions[0],l===null&&(l=d._clip)}if(l===null)return null;const m=new sh(this,l,t,n);return this._bindAction(m,d),this._addInactiveAction(m,c,o),m}existingAction(e,t){const n=t||this._root,r=n.uuid,o=typeof e=="string"?n0.findByName(n,e):e,l=o?o.uuid:e,c=this._actionsByClip[l];return c!==void 0&&c.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,o=Math.sign(e),l=this._accuIndex^=1;for(let d=0;d!==n;++d)t[d]._update(r,e,o,l);const c=this._bindings,f=this._nActiveBindings;for(let d=0;d!==f;++d)c[d].apply(l);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,o=r[n];if(o!==void 0){const l=o.knownActions;for(let c=0,f=l.length;c!==f;++c){const d=l[c];this._deactivateAction(d);const m=d._cacheIndex,g=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,g._cacheIndex=m,t[m]=g,t.pop(),this._removeInactiveBindingsForAction(d)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const l in n){const c=n[l].actionByRoot,f=c[t];f!==void 0&&(this._deactivateAction(f),this._removeInactiveAction(f))}const r=this._bindingsByRootAndName,o=r[t];if(o!==void 0)for(const l in o){const c=o[l];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class hd{constructor(e){this.value=e}clone(){return new hd(this.value.clone===void 0?this.value:this.value.clone())}}let H3=0;class z3 extends ki{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:H3++}),this.name="",this.usage=Cn,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}clone(){return new this.constructor().copy(this)}}class N3 extends w0{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class B3{constructor(e,t,n,r,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class U3{constructor(e,t,n=0,r=1/0){this.ray=new h1(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new Qa,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return pd(e,this,n,t),n.sort(ah),n}intersectObjects(e,t=!0,n=[]){for(let r=0,o=e.length;r<o;r++)pd(e[r],this,n,t);return n.sort(ah),n}}function ah(a,e){return a.distance-e.distance}function pd(a,e,t,n){if(a.layers.test(e.layers)&&a.raycast(e,t),n===!0){const r=a.children;for(let o=0,l=r.length;o<l;o++)pd(r[o],e,t,!0)}}class V3{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Ei(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class F3{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}const lh=new dn;class k3{constructor(e=new dn(1/0,1/0),t=new dn(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=lh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,lh).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ch=new ce,W0=new ce;class $3{constructor(e=new ce,t=new ce){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){ch.subVectors(e,this.start),W0.subVectors(this.end,this.start);const n=W0.dot(W0);let o=W0.dot(ch)/n;return t&&(o=Ei(o,0,1)),o}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const uh=new ce;class W3 extends $i{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new gn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,c=1,f=32;l<f;l++,c++){const d=l/f*Math.PI*2,m=c/f*Math.PI*2;r.push(Math.cos(d),Math.sin(d),1,Math.cos(m),Math.sin(m),1)}n.setAttribute("position",new Mr(r,3));const o=new Oa({fog:!1,toneMapped:!1});this.cone=new cl(n,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),uh.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(uh),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const dc=new ce,Z0=new ai,md=new ai;class Z3 extends cl{constructor(e){const t=fh(e),n=new gn,r=[],o=[],l=new cr(0,0,1),c=new cr(0,1,0);for(let d=0;d<t.length;d++){const m=t[d];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),o.push(l.r,l.g,l.b),o.push(c.r,c.g,c.b))}n.setAttribute("position",new Mr(r,3)),n.setAttribute("color",new Mr(o,3));const f=new Oa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,f),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");md.copy(this.root.matrixWorld).invert();for(let o=0,l=0;o<t.length;o++){const c=t[o];c.parent&&c.parent.isBone&&(Z0.multiplyMatrices(md,c.matrixWorld),dc.setFromMatrixPosition(Z0),r.setXYZ(l,dc.x,dc.y,dc.z),Z0.multiplyMatrices(md,c.parent.matrixWorld),dc.setFromMatrixPosition(Z0),r.setXYZ(l+1,dc.x,dc.y,dc.z),l+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function fh(a){const e=[];a.isBone===!0&&e.push(a);for(let t=0;t<a.children.length;t++)e.push.apply(e,fh(a.children[t]));return e}class j3 extends Fo{constructor(e,t,n){const r=new _u(t,4,2),o=new La({wireframe:!0,fog:!1,toneMapped:!1});super(r,o),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const G3=new ce,dh=new cr,hh=new cr;class X3 extends $i{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new Cu(t);r.rotateY(Math.PI*.5),this.material=new La({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=r.getAttribute("position"),l=new Float32Array(o.count*3);r.setAttribute("color",new lo(l,3)),this.add(new Fo(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");dh.copy(this.light.color),hh.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const o=n<r/2?dh:hh;t.setXYZ(n,o.r,o.g,o.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(G3.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Y3 extends cl{constructor(e=10,t=10,n=4473924,r=8947848){n=new cr(n),r=new cr(r);const o=t/2,l=e/t,c=e/2,f=[],d=[];for(let v=0,C=0,y=-c;v<=t;v++,y+=l){f.push(-c,0,y,c,0,y),f.push(y,0,-c,y,0,c);const A=v===o?n:r;A.toArray(d,C),C+=3,A.toArray(d,C),C+=3,A.toArray(d,C),C+=3,A.toArray(d,C),C+=3}const m=new gn;m.setAttribute("position",new Mr(f,3)),m.setAttribute("color",new Mr(d,3));const g=new Oa({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class K3 extends cl{constructor(e=10,t=16,n=8,r=64,o=4473924,l=8947848){o=new cr(o),l=new cr(l);const c=[],f=[];if(t>1)for(let g=0;g<t;g++){const v=g/t*(Math.PI*2),C=Math.sin(v)*e,y=Math.cos(v)*e;c.push(0,0,0),c.push(C,0,y);const A=g&1?o:l;f.push(A.r,A.g,A.b),f.push(A.r,A.g,A.b)}for(let g=0;g<n;g++){const v=g&1?o:l,C=e-e/n*g;for(let y=0;y<r;y++){let A=y/r*(Math.PI*2),M=Math.sin(A)*C,x=Math.cos(A)*C;c.push(M,0,x),f.push(v.r,v.g,v.b),A=(y+1)/r*(Math.PI*2),M=Math.sin(A)*C,x=Math.cos(A)*C,c.push(M,0,x),f.push(v.r,v.g,v.b)}}const d=new gn;d.setAttribute("position",new Mr(c,3)),d.setAttribute("color",new Mr(f,3));const m=new Oa({vertexColors:!0,toneMapped:!1});super(d,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const ph=new ce,j0=new ce,mh=new ce;class J3 extends $i{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new gn;r.setAttribute("position",new Mr([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new Oa({fog:!1,toneMapped:!1});this.lightPlane=new uc(r,o),this.add(this.lightPlane),r=new gn,r.setAttribute("position",new Mr([0,0,0,0,0,1],3)),this.targetLine=new uc(r,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),ph.setFromMatrixPosition(this.light.matrixWorld),j0.setFromMatrixPosition(this.light.target.matrixWorld),mh.subVectors(j0,ph),this.lightPlane.lookAt(j0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(j0),this.targetLine.scale.z=mh.length()}}const G0=new ce,as=new t1;class q3 extends cl{constructor(e){const t=new gn,n=new Oa({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],o=[],l={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(y,A){f(y),f(A)}function f(y){r.push(0,0,0),o.push(0,0,0),l[y]===void 0&&(l[y]=[]),l[y].push(r.length/3-1)}t.setAttribute("position",new Mr(r,3)),t.setAttribute("color",new Mr(o,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const d=new cr(16755200),m=new cr(16711680),g=new cr(43775),v=new cr(16777215),C=new cr(3355443);this.setColors(d,m,g,v,C)}setColors(e,t,n,r,o){const c=this.geometry.getAttribute("color");c.setXYZ(0,e.r,e.g,e.b),c.setXYZ(1,e.r,e.g,e.b),c.setXYZ(2,e.r,e.g,e.b),c.setXYZ(3,e.r,e.g,e.b),c.setXYZ(4,e.r,e.g,e.b),c.setXYZ(5,e.r,e.g,e.b),c.setXYZ(6,e.r,e.g,e.b),c.setXYZ(7,e.r,e.g,e.b),c.setXYZ(8,e.r,e.g,e.b),c.setXYZ(9,e.r,e.g,e.b),c.setXYZ(10,e.r,e.g,e.b),c.setXYZ(11,e.r,e.g,e.b),c.setXYZ(12,e.r,e.g,e.b),c.setXYZ(13,e.r,e.g,e.b),c.setXYZ(14,e.r,e.g,e.b),c.setXYZ(15,e.r,e.g,e.b),c.setXYZ(16,e.r,e.g,e.b),c.setXYZ(17,e.r,e.g,e.b),c.setXYZ(18,e.r,e.g,e.b),c.setXYZ(19,e.r,e.g,e.b),c.setXYZ(20,e.r,e.g,e.b),c.setXYZ(21,e.r,e.g,e.b),c.setXYZ(22,e.r,e.g,e.b),c.setXYZ(23,e.r,e.g,e.b),c.setXYZ(24,t.r,t.g,t.b),c.setXYZ(25,t.r,t.g,t.b),c.setXYZ(26,t.r,t.g,t.b),c.setXYZ(27,t.r,t.g,t.b),c.setXYZ(28,t.r,t.g,t.b),c.setXYZ(29,t.r,t.g,t.b),c.setXYZ(30,t.r,t.g,t.b),c.setXYZ(31,t.r,t.g,t.b),c.setXYZ(32,n.r,n.g,n.b),c.setXYZ(33,n.r,n.g,n.b),c.setXYZ(34,n.r,n.g,n.b),c.setXYZ(35,n.r,n.g,n.b),c.setXYZ(36,n.r,n.g,n.b),c.setXYZ(37,n.r,n.g,n.b),c.setXYZ(38,r.r,r.g,r.b),c.setXYZ(39,r.r,r.g,r.b),c.setXYZ(40,o.r,o.g,o.b),c.setXYZ(41,o.r,o.g,o.b),c.setXYZ(42,o.r,o.g,o.b),c.setXYZ(43,o.r,o.g,o.b),c.setXYZ(44,o.r,o.g,o.b),c.setXYZ(45,o.r,o.g,o.b),c.setXYZ(46,o.r,o.g,o.b),c.setXYZ(47,o.r,o.g,o.b),c.setXYZ(48,o.r,o.g,o.b),c.setXYZ(49,o.r,o.g,o.b),c.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;as.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ms("c",t,e,as,0,0,-1),ms("t",t,e,as,0,0,1),ms("n1",t,e,as,-n,-r,-1),ms("n2",t,e,as,n,-r,-1),ms("n3",t,e,as,-n,r,-1),ms("n4",t,e,as,n,r,-1),ms("f1",t,e,as,-n,-r,1),ms("f2",t,e,as,n,-r,1),ms("f3",t,e,as,-n,r,1),ms("f4",t,e,as,n,r,1),ms("u1",t,e,as,n*.7,r*1.1,-1),ms("u2",t,e,as,-n*.7,r*1.1,-1),ms("u3",t,e,as,0,r*2,-1),ms("cf1",t,e,as,-n,0,1),ms("cf2",t,e,as,n,0,1),ms("cf3",t,e,as,0,-r,1),ms("cf4",t,e,as,0,r,1),ms("cn1",t,e,as,-n,0,-1),ms("cn2",t,e,as,n,0,-1),ms("cn3",t,e,as,0,-r,-1),ms("cn4",t,e,as,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ms(a,e,t,n,r,o,l){G0.set(r,o,l).unproject(n);const c=e[a];if(c!==void 0){const f=t.getAttribute("position");for(let d=0,m=c.length;d<m;d++)f.setXYZ(c[d],G0.x,G0.y,G0.z)}}const X0=new is;class Q3 extends cl{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),o=new gn;o.setIndex(new lo(n,1)),o.setAttribute("position",new lo(r,3)),super(o,new Oa({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&X0.setFromObject(this.object),X0.isEmpty())return;const t=X0.min,n=X0.max,r=this.geometry.attributes.position,o=r.array;o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=t.x,o[4]=n.y,o[5]=n.z,o[6]=t.x,o[7]=t.y,o[8]=n.z,o[9]=n.x,o[10]=t.y,o[11]=n.z,o[12]=n.x,o[13]=n.y,o[14]=t.z,o[15]=t.x,o[16]=n.y,o[17]=t.z,o[18]=t.x,o[19]=t.y,o[20]=t.z,o[21]=n.x,o[22]=t.y,o[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class e7 extends cl{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new gn;o.setIndex(new lo(n,1)),o.setAttribute("position",new Mr(r,3)),super(o,new Oa({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class t7 extends uc{constructor(e,t=1,n=16776960){const r=n,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new gn;l.setAttribute("position",new Mr(o,3)),l.computeBoundingSphere(),super(l,new Oa({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const c=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],f=new gn;f.setAttribute("position",new Mr(c,3)),f.computeBoundingSphere(),this.add(new Fo(f,new La({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const gh=new ce;let Y0,gd;class n7 extends $i{constructor(e=new ce(0,0,1),t=new ce(0,0,0),n=1,r=16776960,o=n*.2,l=o*.2){super(),this.type="ArrowHelper",Y0===void 0&&(Y0=new gn,Y0.setAttribute("position",new Mr([0,0,0,0,1,0],3)),gd=new Nc(0,.5,1,5,1),gd.translate(0,-.5,0)),this.position.copy(t),this.line=new uc(Y0,new Oa({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Fo(gd,new La({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,o,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{gh.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(gh,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class r7 extends cl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new gn;r.setAttribute("position",new Mr(t,3)),r.setAttribute("color",new Mr(n,3));const o=new Oa({vertexColors:!0,toneMapped:!1});super(r,o),this.type="AxesHelper"}setColors(e,t,n){const r=new cr,o=this.geometry.attributes.color.array;return r.set(e),r.toArray(o,0),r.toArray(o,3),r.set(t),r.toArray(o,6),r.toArray(o,9),r.set(n),r.toArray(o,12),r.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class i7{constructor(){this.type="ShapePath",this.color=new cr,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Nu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,o,l){return this.currentPath.bezierCurveTo(e,t,n,r,o,l),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const U=[];for(let D=0,ne=x.length;D<ne;D++){const ue=x[D],Me=new Bc;Me.curves=ue.curves,U.push(Me)}return U}function n(x,U){const D=U.length;let ne=!1;for(let ue=D-1,Me=0;Me<D;ue=Me++){let Ne=U[ue],nt=U[Me],G=nt.x-Ne.x,Ee=nt.y-Ne.y;if(Math.abs(Ee)>Number.EPSILON){if(Ee<0&&(Ne=U[Me],G=-G,nt=U[ue],Ee=-Ee),x.y<Ne.y||x.y>nt.y)continue;if(x.y===Ne.y){if(x.x===Ne.x)return!0}else{const $t=Ee*(x.x-Ne.x)-G*(x.y-Ne.y);if($t===0)return!0;if($t<0)continue;ne=!ne}}else{if(x.y!==Ne.y)continue;if(nt.x<=x.x&&x.x<=Ne.x||Ne.x<=x.x&&x.x<=nt.x)return!0}}return ne}const r=ul.isClockWise,o=this.subPaths;if(o.length===0)return[];let l,c,f;const d=[];if(o.length===1)return c=o[0],f=new Bc,f.curves=c.curves,d.push(f),d;let m=!r(o[0].getPoints());m=e?!m:m;const g=[],v=[];let C=[],y=0,A;v[y]=void 0,C[y]=[];for(let x=0,U=o.length;x<U;x++)c=o[x],A=c.getPoints(),l=r(A),l=e?!l:l,l?(!m&&v[y]&&y++,v[y]={s:new Bc,p:A},v[y].s.curves=c.curves,m&&y++,C[y]=[]):C[y].push({h:c,p:A[0]});if(!v[0])return t(o);if(v.length>1){let x=!1,U=0;for(let D=0,ne=v.length;D<ne;D++)g[D]=[];for(let D=0,ne=v.length;D<ne;D++){const ue=C[D];for(let Me=0;Me<ue.length;Me++){const Ne=ue[Me];let nt=!0;for(let G=0;G<v.length;G++)n(Ne.p,v[G].p)&&(D!==G&&U++,nt?(nt=!1,g[G].push(Ne)):x=!0);nt&&g[D].push(Ne)}}U>0&&x===!1&&(C=g)}let M;for(let x=0,U=v.length;x<U;x++){f=v[x].s,d.push(f),M=C[x];for(let D=0,ne=M.length;D<ne;D++)f.holes.push(M[D].h)}return d}}class o7 extends Za{constructor(e,t,n,r,o,l){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,n,r,o,l)}}class s7 extends Bu{constructor(e,t,n,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,n,r)}}class a7 extends Uu{constructor(e,t,n,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,n,r)}}class l7 extends Vu{constructor(e,t,n,r,o,l,c){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,n,r,o,l,c)}}class c7 extends Nc{constructor(e,t,n,r,o,l,c,f){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,n,r,o,l,c,f)}}class u7 extends Fu{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class f7 extends Zu{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class d7 extends ju{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class h7 extends gu{constructor(e,t,n,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,n,r)}}class p7 extends Cu{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class m7 extends Eo{constructor(e,t,n,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,n,r)}}class g7 extends Fl{constructor(e,t,n,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,n,r)}}class v7 extends Gu{constructor(e,t,n,r,o,l){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,n,r,o,l)}}class C7 extends Xu{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class _7 extends _u{constructor(e,t,n,r,o,l,c){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,n,r,o,l,c)}}class x7 extends Yu{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class y7 extends Ku{constructor(e,t,n,r,o){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,n,r,o)}}class w7 extends Ju{constructor(e,t,n,r,o,l){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,n,r,o,l)}}class M7 extends qu{constructor(e,t,n,r,o){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,n,r,o)}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:b}})),typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=b)},42295:function(qt,Fe,j){"use strict";j.d(Fe,{Ue:function(){return pe},oR:function(){return Je}});var b=j(67475),B=j(50959),P=j(7231);const{useSyncExternalStoreWithSelector:Y}=P;function Je(Ft,wt=Ft.getState,gt){const ht=Y(Ft.subscribe,Ft.getState,Ft.getServerState||Ft.getState,wt,gt);return(0,B.useDebugValue)(ht),ht}const yt=Ft=>{typeof Ft!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const wt=typeof Ft=="function"?(0,b.M)(Ft):Ft,gt=(ht,mt)=>Je(wt,ht,mt);return Object.assign(gt,wt),gt},pe=Ft=>Ft?yt(Ft):yt;var Ot=Ft=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),pe(Ft))},67475:function(qt,Fe,j){"use strict";j.d(Fe,{M:function(){return B}});const b=Y=>{let Je;const yt=new Set,pe=(ht,mt)=>{const At=typeof ht=="function"?ht(Je):ht;if(!Object.is(At,Je)){const ee=Je;Je=(mt!=null?mt:typeof At!="object")?At:Object.assign({},Je,At),yt.forEach(zn=>zn(Je,ee))}},Ot=()=>Je,gt={setState:pe,getState:Ot,subscribe:ht=>(yt.add(ht),()=>yt.delete(ht)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),yt.clear()}};return Je=Y(pe,Ot,gt),gt},B=Y=>Y?b(Y):b;var P=Y=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'."),B(Y))}}]);
}());