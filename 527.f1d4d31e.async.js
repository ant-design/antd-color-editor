!(function(){var L7=Object.defineProperty,T7=Object.defineProperties;var A7=Object.getOwnPropertyDescriptors;var $0=Object.getOwnPropertySymbols;var ph=Object.prototype.hasOwnProperty,mh=Object.prototype.propertyIsEnumerable;var Cc=Math.pow,hh=(qt,je,G)=>je in qt?L7(qt,je,{enumerable:!0,configurable:!0,writable:!0,value:G}):qt[je]=G,St=(qt,je)=>{for(var G in je||(je={}))ph.call(je,G)&&hh(qt,G,je[G]);if($0)for(var G of $0(je))mh.call(je,G)&&hh(qt,G,je[G]);return qt},Yr=(qt,je)=>T7(qt,A7(je));var gs=(qt,je)=>{var G={};for(var S in qt)ph.call(qt,S)&&je.indexOf(S)<0&&(G[S]=qt[S]);if(qt!=null&&$0)for(var S of $0(qt))je.indexOf(S)<0&&mh.call(qt,S)&&(G[S]=qt[S]);return G};var Yl=(qt,je,G)=>new Promise((S,B)=>{var D=xt=>{try{qe(G.next(xt))}catch(de){B(de)}},Ne=xt=>{try{qe(G.throw(xt))}catch(de){B(de)}},qe=xt=>xt.done?S(xt.value):Promise.resolve(xt.value).then(D,Ne);qe((G=G.apply(qt,je)).next())});(self.webpackChunkkitchen_color_studio=self.webpackChunkkitchen_color_studio||[]).push([[527],{57339:function(qt,je,G){"use strict";G.d(je,{Z:function(){return de}});var S=G(60795),B=G(50959),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM304 240a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"database",theme:"outlined"},Ne=D,qe=G(52546),xt=function(he,Be){return B.createElement(qe.Z,(0,S.Z)({},he,{ref:Be,icon:Ne}))},de=B.forwardRef(xt)},67010:function(qt,je,G){"use strict";G.d(je,{Z:function(){return de}});var S=G(60795),B=G(50959),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"},Ne=D,qe=G(52546),xt=function(he,Be){return B.createElement(qe.Z,(0,S.Z)({},he,{ref:Be,icon:Ne}))},de=B.forwardRef(xt)},72274:function(qt,je,G){"use strict";G.d(je,{Z:function(){return de}});var S=G(60795),B=G(50959),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 305H624V192c0-17.7-14.3-32-32-32H184v-40c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v784c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V640h248v113c0 17.7 14.3 32 32 32h416c17.7 0 32-14.3 32-32V337c0-17.7-14.3-32-32-32zM184 568V232h368v336H184zm656 145H504v-73h112c4.4 0 8-3.6 8-8V377h216v336z"}}]},name:"flag",theme:"outlined"},Ne=D,qe=G(52546),xt=function(he,Be){return B.createElement(qe.Z,(0,S.Z)({},he,{ref:Be,icon:Ne}))},de=B.forwardRef(xt)},655:function(qt,je,G){"use strict";G.d(je,{Z:function(){return de}});var S=G(60795),B=G(50959),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},Ne=D,qe=G(52546),xt=function(he,Be){return B.createElement(qe.Z,(0,S.Z)({},he,{ref:Be,icon:Ne}))},de=B.forwardRef(xt)},47848:function(qt,je,G){"use strict";G.d(je,{Z:function(){return de}});var S=G(60795),B=G(50959),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},Ne=D,qe=G(52546),xt=function(he,Be){return B.createElement(qe.Z,(0,S.Z)({},he,{ref:Be,icon:Ne}))},de=B.forwardRef(xt)},30466:function(qt,je,G){"use strict";G.d(je,{Z:function(){return de}});var S=G(60795),B=G(50959),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},Ne=D,qe=G(52546),xt=function(he,Be){return B.createElement(qe.Z,(0,S.Z)({},he,{ref:Be,icon:Ne}))},de=B.forwardRef(xt)},50042:function(qt,je,G){"use strict";G.d(je,{Z:function(){return de}});var S=G(60795),B=G(50959),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},Ne=D,qe=G(52546),xt=function(he,Be){return B.createElement(qe.Z,(0,S.Z)({},he,{ref:Be,icon:Ne}))},de=B.forwardRef(xt)},4031:function(qt,je,G){"use strict";G.d(je,{H:function(){return ru}});var S=G(14797),B=G(17079),D=G(72274),Ne=G(57339),qe=G(30466),xt=G(655),de=G(71481),Ot=G(18990),he=G(11527),Be=G(60795),at=G(41833),xe=G(50959),mt=G(45924),Lt=G(40044);function ee(h,w){return(0,Lt.Z)(h,w)}const Hn=(h,w)=>{Array.isArray(h.__emotion_styles)&&(h.__emotion_styles=w(h.__emotion_styles))};function fn(h){let w="https://mui.com/production-error/?code="+h;for(let I=1;I<arguments.length;I+=1)w+="&args[]="+encodeURIComponent(arguments[I]);return"Minified MUI error #"+h+"; visit "+w+" for the full message."}function gn(h){if(typeof h!="string")throw new Error(fn(7));return h.charAt(0).toUpperCase()+h.slice(1)}function ot(h){return h!==null&&typeof h=="object"&&h.constructor===Object}function At(h){if(!ot(h))return h;const w={};return Object.keys(h).forEach(I=>{w[I]=At(h[I])}),w}function vn(h,w,I={clone:!0}){const N=I.clone?St({},h):h;return ot(h)&&ot(w)&&Object.keys(w).forEach(_e=>{_e!=="__proto__"&&(ot(w[_e])&&_e in h&&ot(h[_e])?N[_e]=vn(h[_e],w[_e],I):I.clone?N[_e]=ot(w[_e])?At(w[_e]):w[_e]:N[_e]=w[_e])}),N}function Kt(h,w){return w?vn(h,w,{clone:!1}):h}var Cn=Kt;const ln={xs:0,sm:600,md:900,lg:1200,xl:1536},Wt={keys:["xs","sm","md","lg","xl"],up:h=>`@media (min-width:${ln[h]}px)`};function An(h,w,I){const N=h.theme||{};if(Array.isArray(w)){const Pe=N.breakpoints||Wt;return w.reduce((ht,Dt,yn)=>(ht[Pe.up(Pe.keys[yn])]=I(w[yn]),ht),{})}if(typeof w=="object"){const Pe=N.breakpoints||Wt;return Object.keys(w).reduce((ht,Dt)=>{if(Object.keys(Pe.values||ln).indexOf(Dt)!==-1){const yn=Pe.up(Dt);ht[yn]=I(w[Dt],Dt)}else{const yn=Dt;ht[yn]=w[yn]}return ht},{})}return I(w)}function Yt(h){const w=I=>{const N=I.theme||{},_e=h(I),Pe=N.breakpoints||Wt,ht=Pe.keys.reduce((Dt,yn)=>(I[yn]&&(Dt=Dt||{},Dt[Pe.up(yn)]=h(_extends({theme:N},I[yn]))),Dt),null);return merge(_e,ht)};return w.propTypes={},w.filterProps=["xs","sm","md","lg","xl",...h.filterProps],w}function Me(h={}){var w;return((w=h.keys)==null?void 0:w.reduce((N,_e)=>{const Pe=h.up(_e);return N[Pe]={},N},{}))||{}}function Ke(h,w){return h.reduce((I,N)=>{const _e=I[N];return(!_e||Object.keys(_e).length===0)&&delete I[N],I},w)}function ae(h,...w){const I=Me(h),N=[I,...w].reduce((_e,Pe)=>deepmerge(_e,Pe),{});return Ke(Object.keys(I),N)}function nt(h,w){if(typeof h!="object")return{};const I={},N=Object.keys(w);return Array.isArray(h)?N.forEach((_e,Pe)=>{Pe<h.length&&(I[_e]=!0)}):N.forEach(_e=>{h[_e]!=null&&(I[_e]=!0)}),I}function Ae({values:h,breakpoints:w,base:I}){const N=I||nt(h,w),_e=Object.keys(N);if(_e.length===0)return h;let Pe;return _e.reduce((ht,Dt,yn)=>(Array.isArray(h)?(ht[Dt]=h[yn]!=null?h[yn]:h[Pe],Pe=yn):typeof h=="object"?(ht[Dt]=h[Dt]!=null?h[Dt]:h[Pe],Pe=Dt):ht[Dt]=h,ht),{})}var Oe=null;function Ce(h,w,I=!0){if(!w||typeof w!="string")return null;if(h&&h.vars&&I){const N=`vars.${w}`.split(".").reduce((_e,Pe)=>_e&&_e[Pe]?_e[Pe]:null,h);if(N!=null)return N}return w.split(".").reduce((N,_e)=>N&&N[_e]!=null?N[_e]:null,h)}function F(h,w,I,N=I){let _e;return typeof h=="function"?_e=h(I):Array.isArray(h)?_e=h[I]||N:_e=Ce(h,I)||N,w&&(_e=w(_e,N,h)),_e}function K(h){const{prop:w,cssProperty:I=h.prop,themeKey:N,transform:_e}=h,Pe=ht=>{if(ht[w]==null)return null;const Dt=ht[w],yn=ht.theme,cn=Ce(yn,N)||{};return An(ht,Dt,Yn=>{let er=F(cn,_e,Yn);return Yn===er&&typeof Yn=="string"&&(er=F(cn,_e,`${w}${Yn==="default"?"":gn(Yn)}`,Yn)),I===!1?er:{[I]:er}})};return Pe.propTypes={},Pe.filterProps=[w],Pe}var me=K;function W(h){const w={};return I=>(w[I]===void 0&&(w[I]=h(I)),w[I])}const se={m:"margin",p:"padding"},te={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ge={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Le=W(h=>{if(h.length>2)if(ge[h])h=ge[h];else return[h];const[w,I]=h.split(""),N=se[w],_e=te[I]||"";return Array.isArray(_e)?_e.map(Pe=>N+Pe):[N+_e]}),De=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ye=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],ke=[...De,...ye];function Te(h,w,I,N){var _e;const Pe=(_e=Ce(h,w,!1))!=null?_e:I;return typeof Pe=="number"?ht=>typeof ht=="string"?ht:Pe*ht:Array.isArray(Pe)?ht=>typeof ht=="string"?ht:Pe[ht]:typeof Pe=="function"?Pe:()=>{}}function Et(h){return Te(h,"spacing",8,"spacing")}function zt(h,w){if(typeof w=="string"||w==null)return w;const I=Math.abs(w),N=h(I);return w>=0?N:typeof N=="number"?-N:`-${N}`}function _t(h,w){return I=>h.reduce((N,_e)=>(N[_e]=zt(w,I),N),{})}function pt(h,w,I,N){if(w.indexOf(I)===-1)return null;const _e=Le(I),Pe=_t(_e,N),ht=h[I];return An(h,ht,Pe)}function Ue(h,w){const I=Et(h.theme);return Object.keys(h).map(N=>pt(h,w,N,I)).reduce(Cn,{})}function yt(h){return Ue(h,De)}yt.propTypes={},yt.filterProps=De;function Vt(h){return Ue(h,ye)}Vt.propTypes={},Vt.filterProps=ye;function Rn(h){return Ue(h,ke)}Rn.propTypes={},Rn.filterProps=ke;var Qt=null;function In(...h){const w=h.reduce((N,_e)=>(_e.filterProps.forEach(Pe=>{N[Pe]=_e}),N),{}),I=N=>Object.keys(N).reduce((_e,Pe)=>w[Pe]?Cn(_e,w[Pe](N)):_e,{});return I.propTypes={},I.filterProps=h.reduce((N,_e)=>N.concat(_e.filterProps),[]),I}var sn=In;function dn(h){return typeof h!="number"?h:`${h}px solid`}const Cr=me({prop:"border",themeKey:"borders",transform:dn}),oi=me({prop:"borderTop",themeKey:"borders",transform:dn}),Tt=me({prop:"borderRight",themeKey:"borders",transform:dn}),jt=me({prop:"borderBottom",themeKey:"borders",transform:dn}),_n=me({prop:"borderLeft",themeKey:"borders",transform:dn}),en=me({prop:"borderColor",themeKey:"palette"}),Mn=me({prop:"borderTopColor",themeKey:"palette"}),ur=me({prop:"borderRightColor",themeKey:"palette"}),rr=me({prop:"borderBottomColor",themeKey:"palette"}),jr=me({prop:"borderLeftColor",themeKey:"palette"}),Zn=h=>{if(h.borderRadius!==void 0&&h.borderRadius!==null){const w=Te(h.theme,"shape.borderRadius",4,"borderRadius"),I=N=>({borderRadius:zt(w,N)});return An(h,h.borderRadius,I)}return null};Zn.propTypes={},Zn.filterProps=["borderRadius"];const ve=sn(Cr,oi,Tt,jt,_n,en,Mn,ur,rr,jr,Zn);var Xe=null;const $e=h=>{if(h.gap!==void 0&&h.gap!==null){const w=Te(h.theme,"spacing",8,"gap"),I=N=>({gap:zt(w,N)});return An(h,h.gap,I)}return null};$e.propTypes={},$e.filterProps=["gap"];const Ye=h=>{if(h.columnGap!==void 0&&h.columnGap!==null){const w=Te(h.theme,"spacing",8,"columnGap"),I=N=>({columnGap:zt(w,N)});return An(h,h.columnGap,I)}return null};Ye.propTypes={},Ye.filterProps=["columnGap"];const Pt=h=>{if(h.rowGap!==void 0&&h.rowGap!==null){const w=Te(h.theme,"spacing",8,"rowGap"),I=N=>({rowGap:zt(w,N)});return An(h,h.rowGap,I)}return null};Pt.propTypes={},Pt.filterProps=["rowGap"];const Dn=me({prop:"gridColumn"}),bn=me({prop:"gridRow"}),Nt=me({prop:"gridAutoFlow"}),$t=me({prop:"gridAutoColumns"}),lt=me({prop:"gridAutoRows"}),oe=me({prop:"gridTemplateColumns"}),Ge=me({prop:"gridTemplateRows"}),Rt=me({prop:"gridTemplateAreas"}),an=me({prop:"gridArea"}),jn=sn($e,Ye,Pt,Dn,bn,Nt,$t,lt,oe,Ge,Rt,an);var pr=null;function Lr(h,w){return w==="grey"?w:h}const xi=me({prop:"color",themeKey:"palette",transform:Lr}),Qr=me({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Lr}),ei=me({prop:"backgroundColor",themeKey:"palette",transform:Lr}),ti=sn(xi,Qr,ei);var Yi=null;function b(h){return h<=1&&h!==0?`${h*100}%`:h}const H=me({prop:"width",transform:b}),E=h=>{if(h.maxWidth!==void 0&&h.maxWidth!==null){const w=I=>{var N,_e,Pe;return{maxWidth:((N=h.theme)==null||(_e=N.breakpoints)==null||(Pe=_e.values)==null?void 0:Pe[I])||ln[I]||b(I)}};return An(h,h.maxWidth,w)}return null};E.filterProps=["maxWidth"];const T=me({prop:"minWidth",transform:b}),Q=me({prop:"height",transform:b}),le=me({prop:"maxHeight",transform:b}),We=me({prop:"minHeight",transform:b}),st=me({prop:"size",cssProperty:"width",transform:b}),Qe=me({prop:"size",cssProperty:"height",transform:b}),be=me({prop:"boxSizing"}),Y=sn(H,E,T,Q,le,We,be);var ie=null,Ze={border:{themeKey:"borders",transform:dn},borderTop:{themeKey:"borders",transform:dn},borderRight:{themeKey:"borders",transform:dn},borderBottom:{themeKey:"borders",transform:dn},borderLeft:{themeKey:"borders",transform:dn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Zn},color:{themeKey:"palette",transform:Lr},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Lr},backgroundColor:{themeKey:"palette",transform:Lr},p:{style:Vt},pt:{style:Vt},pr:{style:Vt},pb:{style:Vt},pl:{style:Vt},px:{style:Vt},py:{style:Vt},padding:{style:Vt},paddingTop:{style:Vt},paddingRight:{style:Vt},paddingBottom:{style:Vt},paddingLeft:{style:Vt},paddingX:{style:Vt},paddingY:{style:Vt},paddingInline:{style:Vt},paddingInlineStart:{style:Vt},paddingInlineEnd:{style:Vt},paddingBlock:{style:Vt},paddingBlockStart:{style:Vt},paddingBlockEnd:{style:Vt},m:{style:yt},mt:{style:yt},mr:{style:yt},mb:{style:yt},ml:{style:yt},mx:{style:yt},my:{style:yt},margin:{style:yt},marginTop:{style:yt},marginRight:{style:yt},marginBottom:{style:yt},marginLeft:{style:yt},marginX:{style:yt},marginY:{style:yt},marginInline:{style:yt},marginInlineStart:{style:yt},marginInlineEnd:{style:yt},marginBlock:{style:yt},marginBlockStart:{style:yt},marginBlockEnd:{style:yt},displayPrint:{cssProperty:!1,transform:h=>({"@media print":{display:h}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:$e},rowGap:{style:Pt},columnGap:{style:Ye},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:b},maxWidth:{style:E},minWidth:{transform:b},height:{transform:b},maxHeight:{transform:b},minHeight:{transform:b},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function tt(...h){const w=h.reduce((N,_e)=>N.concat(Object.keys(_e)),[]),I=new Set(w);return h.every(N=>I.size===Object.keys(N).length)}function Zt(h,w){return typeof h=="function"?h(w):h}function Ft(){function h(I,N,_e,Pe){const ht={[I]:N,theme:_e},Dt=Pe[I];if(!Dt)return{[I]:N};const{cssProperty:yn=I,themeKey:cn,transform:sr,style:Yn}=Dt;if(N==null)return null;if(cn==="typography"&&N==="inherit")return{[I]:N};const er=Ce(_e,cn)||{};return Yn?Yn(ht):An(ht,N,Pr=>{let Wn=F(er,sr,Pr);return Pr===Wn&&typeof Pr=="string"&&(Wn=F(er,sr,`${I}${Pr==="default"?"":gn(Pr)}`,Pr)),yn===!1?Wn:{[yn]:Wn}})}function w(I){var N;const{sx:_e,theme:Pe={}}=I||{};if(!_e)return null;const ht=(N=Pe.unstable_sxConfig)!=null?N:Ze;function Dt(yn){let cn=yn;if(typeof yn=="function")cn=yn(Pe);else if(typeof yn!="object")return yn;if(!cn)return null;const sr=Me(Pe.breakpoints),Yn=Object.keys(sr);let er=sr;return Object.keys(cn).forEach(nr=>{const Pr=Zt(cn[nr],Pe);if(Pr!=null)if(typeof Pr=="object")if(ht[nr])er=Cn(er,h(nr,Pr,Pe,ht));else{const Wn=An({theme:Pe},Pr,zi=>({[nr]:zi}));tt(Wn,Pr)?er[nr]=w({sx:Pr,theme:Pe}):er=Cn(er,Wn)}else er=Cn(er,h(nr,Pr,Pe,ht))}),Ke(Yn,er)}return Array.isArray(_e)?_e.map(Dt):Dt(_e)}return w}const vt=Ft();vt.filterProps=["sx"];var dt=vt;const Ct=["sx"],rn=h=>{var w,I;const N={systemProps:{},otherProps:{}},_e=(w=h==null||(I=h.theme)==null?void 0:I.unstable_sxConfig)!=null?w:Ze;return Object.keys(h).forEach(Pe=>{_e[Pe]?N.systemProps[Pe]=h[Pe]:N.otherProps[Pe]=h[Pe]}),N};function zn(h){const{sx:w}=h,I=(0,at.Z)(h,Ct),{systemProps:N,otherProps:_e}=rn(I);let Pe;return Array.isArray(w)?Pe=[N,...w]:typeof w=="function"?Pe=(...ht)=>{const Dt=w(...ht);return ot(Dt)?(0,Be.Z)({},N,Dt):N}:Pe=(0,Be.Z)({},N,w),(0,Be.Z)({},_e,{sx:Pe})}const Jn=["values","unit","step"],qn=null,$n=h=>{const w=Object.keys(h).map(I=>({key:I,val:h[I]}))||[];return w.sort((I,N)=>I.val-N.val),w.reduce((I,N)=>(0,Be.Z)({},I,{[N.key]:N.val}),{})};function Qn(h){const{values:w={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:I="px",step:N=5}=h,_e=(0,at.Z)(h,Jn),Pe=$n(w),ht=Object.keys(Pe);function Dt(er){return`@media (min-width:${typeof w[er]=="number"?w[er]:er}${I})`}function yn(er){return`@media (max-width:${(typeof w[er]=="number"?w[er]:er)-N/100}${I})`}function cn(er,nr){const Pr=ht.indexOf(nr);return`@media (min-width:${typeof w[er]=="number"?w[er]:er}${I}) and (max-width:${(Pr!==-1&&typeof w[ht[Pr]]=="number"?w[ht[Pr]]:nr)-N/100}${I})`}function sr(er){return ht.indexOf(er)+1<ht.length?cn(er,ht[ht.indexOf(er)+1]):Dt(er)}function Yn(er){const nr=ht.indexOf(er);return nr===0?Dt(ht[1]):nr===ht.length-1?yn(ht[nr]):cn(er,ht[ht.indexOf(er)+1]).replace("@media","@media not all and")}return(0,Be.Z)({keys:ht,values:Pe,up:Dt,down:yn,between:cn,only:sr,not:Yn,unit:I},_e)}var En={borderRadius:4};function cr(h=8){if(h.mui)return h;const w=Et({spacing:h}),I=(...N)=>(N.length===0?[1]:N).map(Pe=>{const ht=w(Pe);return typeof ht=="number"?`${ht}px`:ht}).join(" ");return I.mui=!0,I}const Nr=["breakpoints","palette","spacing","shape"];function yi(h={},...w){const{breakpoints:I={},palette:N={},spacing:_e,shape:Pe={}}=h,ht=(0,at.Z)(h,Nr),Dt=Qn(I),yn=cr(_e);let cn=vn({breakpoints:Dt,direction:"ltr",components:{},palette:(0,Be.Z)({mode:"light"},N),spacing:yn,shape:(0,Be.Z)({},En,Pe)},ht);return cn=w.reduce((sr,Yn)=>vn(sr,Yn),cn),cn.unstable_sxConfig=(0,Be.Z)({},Ze,ht==null?void 0:ht.unstable_sxConfig),cn.unstable_sx=function(Yn){return dt({sx:Yn,theme:this})},cn}var Wr=yi,ho=G(73887);function io(h){return Object.keys(h).length===0}function Ki(h=null){const w=xe.useContext(ho.T);return!w||io(w)?h:w}var Di=Ki;const Co=Wr();function Fi(h=Co){return Di(h)}var Ti=Fi;const hi=["className","component"];function xo(h={}){const{themeId:w,defaultTheme:I,defaultClassName:N="MuiBox-root",generateClassName:_e}=h,Pe=ee("div",{shouldForwardProp:Dt=>Dt!=="theme"&&Dt!=="sx"&&Dt!=="as"})(dt);return xe.forwardRef(function(yn,cn){const sr=Ti(I),Yn=zn(yn),{className:er,component:nr="div"}=Yn,Pr=(0,at.Z)(Yn,hi);return(0,he.jsx)(Pe,(0,Be.Z)({as:nr,ref:cn,className:(0,mt.default)(er,_e?_e(N):N),theme:w&&sr[w]||sr},Pr))})}const Ai=h=>h;var Fo=(()=>{let h=Ai;return{configure(w){h=w},generate(w){return h(w)},reset(){h=Ai}}})();function Ra(h,w){return(0,Be.Z)({toolbar:{minHeight:56,[h.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[h.up("sm")]:{minHeight:64}}},w)}function La(h,w=0,I=1){return Math.min(Math.max(w,h),I)}function Va(h){h=h.slice(1);const w=new RegExp(`.{1,${h.length>=6?2:1}}`,"g");let I=h.match(w);return I&&I[0].length===1&&(I=I.map(N=>N+N)),I?`rgb${I.length===4?"a":""}(${I.map((N,_e)=>_e<3?parseInt(N,16):Math.round(parseInt(N,16)/255*1e3)/1e3).join(", ")})`:""}function fa(h){const w=h.toString(16);return w.length===1?`0${w}`:w}function oo(h){if(h.type)return h;if(h.charAt(0)==="#")return oo(Va(h));const w=h.indexOf("("),I=h.substring(0,w);if(["rgb","rgba","hsl","hsla","color"].indexOf(I)===-1)throw new Error(fn(9,h));let N=h.substring(w+1,h.length-1),_e;if(I==="color"){if(N=N.split(" "),_e=N.shift(),N.length===4&&N[3].charAt(0)==="/"&&(N[3]=N[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(_e)===-1)throw new Error(fn(10,_e))}else N=N.split(",");return N=N.map(Pe=>parseFloat(Pe)),{type:I,values:N,colorSpace:_e}}const cs=h=>{const w=oo(h);return w.values.slice(0,3).map((I,N)=>w.type.indexOf("hsl")!==-1&&N!==0?`${I}%`:I).join(" ")},Xs=(h,w)=>{try{return cs(h)}catch(I){return h}};function Kr(h){const{type:w,colorSpace:I}=h;let{values:N}=h;return w.indexOf("rgb")!==-1?N=N.map((_e,Pe)=>Pe<3?parseInt(_e,10):_e):w.indexOf("hsl")!==-1&&(N[1]=`${N[1]}%`,N[2]=`${N[2]}%`),w.indexOf("color")!==-1?N=`${I} ${N.join(" ")}`:N=`${N.join(", ")}`,`${w}(${N})`}function na(h){if(h.indexOf("#")===0)return h;const{values:w}=oo(h);return`#${w.map((I,N)=>fa(N===3?Math.round(255*I):I)).join("")}`}function us(h){h=oo(h);const{values:w}=h,I=w[0],N=w[1]/100,_e=w[2]/100,Pe=N*Math.min(_e,1-_e),ht=(cn,sr=(cn+I/30)%12)=>_e-Pe*Math.max(Math.min(sr-3,9-sr,1),-1);let Dt="rgb";const yn=[Math.round(ht(0)*255),Math.round(ht(8)*255),Math.round(ht(4)*255)];return h.type==="hsla"&&(Dt+="a",yn.push(w[3])),Kr({type:Dt,values:yn})}function Vr(h){h=oo(h);let w=h.type==="hsl"||h.type==="hsla"?oo(us(h)).values:h.values;return w=w.map(I=>(h.type!=="color"&&(I/=255),I<=.03928?I/12.92:Cc((I+.055)/1.055,2.4))),Number((.2126*w[0]+.7152*w[1]+.0722*w[2]).toFixed(3))}function Ko(h,w){const I=Vr(h),N=Vr(w);return(Math.max(I,N)+.05)/(Math.min(I,N)+.05)}function ts(h,w){return h=oo(h),w=La(w),(h.type==="rgb"||h.type==="hsl")&&(h.type+="a"),h.type==="color"?h.values[3]=`/${w}`:h.values[3]=w,Kr(h)}function po(h,w,I){try{return ts(h,w)}catch(N){return h}}function P(h,w){if(h=oo(h),w=La(w),h.type.indexOf("hsl")!==-1)h.values[2]*=1-w;else if(h.type.indexOf("rgb")!==-1||h.type.indexOf("color")!==-1)for(let I=0;I<3;I+=1)h.values[I]*=1-w;return Kr(h)}function V(h,w,I){try{return P(h,w)}catch(N){return h}}function pe(h,w){if(h=oo(h),w=La(w),h.type.indexOf("hsl")!==-1)h.values[2]+=(100-h.values[2])*w;else if(h.type.indexOf("rgb")!==-1)for(let I=0;I<3;I+=1)h.values[I]+=(255-h.values[I])*w;else if(h.type.indexOf("color")!==-1)for(let I=0;I<3;I+=1)h.values[I]+=(1-h.values[I])*w;return Kr(h)}function Fe(h,w,I){try{return pe(h,w)}catch(N){return h}}function gt(h,w=.15){return Vr(h)>.5?P(h,w):pe(h,w)}function ut(h,w,I){try{return ut(h,w)}catch(N){return h}}var re={black:"#000",white:"#fff"},Z={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Je={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Tn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},on={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},br={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Tr={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Gr={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};const Si=["mode","contrastThreshold","tonalOffset"],ai={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:re.white,default:re.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Oi={text:{primary:re.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:re.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Zi(h,w,I,N){const _e=N.light||N,Pe=N.dark||N*1.5;h[w]||(h.hasOwnProperty(I)?h[w]=h[I]:w==="light"?h.light=pe(h.main,_e):w==="dark"&&(h.dark=P(h.main,Pe)))}function lo(h="light"){return h==="dark"?{main:br[200],light:br[50],dark:br[400]}:{main:br[700],light:br[400],dark:br[800]}}function Bi(h="light"){return h==="dark"?{main:Je[200],light:Je[50],dark:Je[400]}:{main:Je[500],light:Je[300],dark:Je[700]}}function Hi(h="light"){return h==="dark"?{main:Tn[500],light:Tn[300],dark:Tn[700]}:{main:Tn[700],light:Tn[400],dark:Tn[800]}}function No(h="light"){return h==="dark"?{main:Tr[400],light:Tr[300],dark:Tr[700]}:{main:Tr[700],light:Tr[500],dark:Tr[900]}}function Ao(h="light"){return h==="dark"?{main:Gr[400],light:Gr[300],dark:Gr[700]}:{main:Gr[800],light:Gr[500],dark:Gr[900]}}function da(h="light"){return h==="dark"?{main:on[400],light:on[300],dark:on[700]}:{main:"#ed6c02",light:on[500],dark:on[900]}}function fs(h){const{mode:w="light",contrastThreshold:I=3,tonalOffset:N=.2}=h,_e=(0,at.Z)(h,Si),Pe=h.primary||lo(w),ht=h.secondary||Bi(w),Dt=h.error||Hi(w),yn=h.info||No(w),cn=h.success||Ao(w),sr=h.warning||da(w);function Yn(Wn){return Ko(Wn,Oi.text.primary)>=I?Oi.text.primary:ai.text.primary}const er=({color:Wn,name:zi,mainShade:vi=500,lightShade:Er=300,darkShade:Ci=700})=>{if(Wn=(0,Be.Z)({},Wn),!Wn.main&&Wn[vi]&&(Wn.main=Wn[vi]),!Wn.hasOwnProperty("main"))throw new Error(fn(11,zi?` (${zi})`:"",vi));if(typeof Wn.main!="string")throw new Error(fn(12,zi?` (${zi})`:"",JSON.stringify(Wn.main)));return Zi(Wn,"light",Er,N),Zi(Wn,"dark",Ci,N),Wn.contrastText||(Wn.contrastText=Yn(Wn.main)),Wn},nr={dark:Oi,light:ai};return vn((0,Be.Z)({common:(0,Be.Z)({},re),mode:w,primary:er({color:Pe,name:"primary"}),secondary:er({color:ht,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:er({color:Dt,name:"error"}),warning:er({color:sr,name:"warning"}),info:er({color:yn,name:"info"}),success:er({color:cn,name:"success"}),grey:Z,contrastThreshold:I,getContrastText:Yn,augmentColor:er,tonalOffset:N},nr[w]),_e)}const Ei=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Ys(h){return Math.round(h*1e5)/1e5}const ha={textTransform:"uppercase"},g1='"Roboto", "Helvetica", "Arial", sans-serif';function pa(h,w){const I=typeof w=="function"?w(h):w,{fontFamily:N=g1,fontSize:_e=14,fontWeightLight:Pe=300,fontWeightRegular:ht=400,fontWeightMedium:Dt=500,fontWeightBold:yn=700,htmlFontSize:cn=16,allVariants:sr,pxToRem:Yn}=I,er=(0,at.Z)(I,Ei),nr=_e/14,Pr=Yn||(vi=>`${vi/cn*nr}rem`),Wn=(vi,Er,Ci,Mr,Ar)=>(0,Be.Z)({fontFamily:N,fontWeight:vi,fontSize:Pr(Er),lineHeight:Ci},N===g1?{letterSpacing:`${Ys(Mr/Er)}em`}:{},Ar,sr),zi={h1:Wn(Pe,96,1.167,-1.5),h2:Wn(Pe,60,1.2,-.5),h3:Wn(ht,48,1.167,0),h4:Wn(ht,34,1.235,.25),h5:Wn(ht,24,1.334,0),h6:Wn(Dt,20,1.6,.15),subtitle1:Wn(ht,16,1.75,.15),subtitle2:Wn(Dt,14,1.57,.1),body1:Wn(ht,16,1.5,.15),body2:Wn(ht,14,1.43,.15),button:Wn(Dt,14,1.75,.4,ha),caption:Wn(ht,12,1.66,.4),overline:Wn(ht,12,2.66,1,ha),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return vn((0,Be.Z)({htmlFontSize:cn,pxToRem:Pr,fontFamily:N,fontSize:_e,fontWeightLight:Pe,fontWeightRegular:ht,fontWeightMedium:Dt,fontWeightBold:yn},zi),er,{clone:!1})}const Ta=.2,Fa=.14,n1=.12;function so(...h){return[`${h[0]}px ${h[1]}px ${h[2]}px ${h[3]}px rgba(0,0,0,${Ta})`,`${h[4]}px ${h[5]}px ${h[6]}px ${h[7]}px rgba(0,0,0,${Fa})`,`${h[8]}px ${h[9]}px ${h[10]}px ${h[11]}px rgba(0,0,0,${n1})`].join(",")}var G1=["none",so(0,2,1,-1,0,1,1,0,0,1,3,0),so(0,3,1,-2,0,2,2,0,0,1,5,0),so(0,3,3,-2,0,3,4,0,0,1,8,0),so(0,2,4,-1,0,4,5,0,0,1,10,0),so(0,3,5,-1,0,5,8,0,0,1,14,0),so(0,3,5,-1,0,6,10,0,0,1,18,0),so(0,4,5,-2,0,7,10,1,0,2,16,1),so(0,5,5,-3,0,8,10,1,0,3,14,2),so(0,5,6,-3,0,9,12,1,0,3,16,2),so(0,6,6,-3,0,10,14,1,0,4,18,3),so(0,6,7,-4,0,11,15,1,0,4,20,3),so(0,7,8,-4,0,12,17,2,0,5,22,4),so(0,7,8,-4,0,13,19,2,0,5,24,4),so(0,7,9,-4,0,14,21,2,0,5,26,4),so(0,8,9,-5,0,15,22,2,0,6,28,5),so(0,8,10,-5,0,16,24,2,0,6,30,5),so(0,8,11,-5,0,17,26,2,0,6,32,5),so(0,9,11,-5,0,18,28,2,0,7,34,6),so(0,9,12,-6,0,19,29,2,0,7,36,6),so(0,10,13,-6,0,20,31,3,0,8,38,7),so(0,10,13,-6,0,21,33,3,0,8,40,7),so(0,10,14,-6,0,22,35,3,0,8,42,7),so(0,11,14,-7,0,23,36,3,0,9,44,8),so(0,11,15,-7,0,24,38,3,0,9,46,8)];const X1=["duration","easing","delay"],D1={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ns={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ma(h){return`${Math.round(h)}ms`}function Vs(h){if(!h)return 0;const w=h/36;return Math.round((4+15*Cc(w,.25)+w/5)*10)}function r1(h){const w=(0,Be.Z)({},D1,h.easing),I=(0,Be.Z)({},ns,h.duration),N=(_e=["all"],Pe={})=>{const{duration:ht=I.standard,easing:Dt=w.easeInOut,delay:yn=0}=Pe,cn=(0,at.Z)(Pe,X1);return(Array.isArray(_e)?_e:[_e]).map(sr=>`${sr} ${typeof ht=="string"?ht:ma(ht)} ${Dt} ${typeof yn=="string"?yn:ma(yn)}`).join(",")};return(0,Be.Z)({getAutoHeightDuration:Vs,create:N},h,{easing:w,duration:I})}var ds={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const yo=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function kr(h={},...w){const{mixins:I={},palette:N={},transitions:_e={},typography:Pe={}}=h,ht=(0,at.Z)(h,yo);if(h.vars)throw new Error(fn(18));const Dt=fs(N),yn=Wr(h);let cn=vn(yn,{mixins:Ra(yn.breakpoints,I),palette:Dt,shadows:G1.slice(),typography:pa(Dt,Pe),transitions:r1(_e),zIndex:(0,Be.Z)({},ds)});return cn=vn(cn,ht),cn=w.reduce((sr,Yn)=>vn(sr,Yn),cn),cn.unstable_sxConfig=(0,Be.Z)({},Ze,ht==null?void 0:ht.unstable_sxConfig),cn.unstable_sx=function(Yn){return dt({sx:Yn,theme:this})},cn}let ga=!1;function hn(...h){return kr(...h)}var Jr=kr,Es="$$material";const ka=Jr();var wi=xo({themeId:Es,defaultTheme:ka,defaultClassName:"MuiBox-root",generateClassName:Fo.generate});function Ji(h,w,I=void 0){const N={};return Object.keys(h).forEach(_e=>{N[_e]=h[_e].reduce((Pe,ht)=>{if(ht){const Dt=w(ht);Dt!==""&&Pe.push(Dt),I&&I[ht]&&Pe.push(I[ht])}return Pe},[]).join(" ")}),N}var i1=G(10422);function Do(h,w){typeof h=="function"?h(w):h&&(h.current=w)}function Ls(...h){return xe.useMemo(()=>h.every(w=>w==null)?null:w=>{h.forEach(I=>{Do(I,w)})},h)}function Aa(h){return h&&h.ownerDocument||document}function v1(h){return Aa(h).defaultView||window}function ra(h,w=166){let I;function N(..._e){const Pe=()=>{h.apply(this,_e)};clearTimeout(I),I=setTimeout(Pe,w)}return N.clear=()=>{clearTimeout(I)},N}var $a=typeof window!="undefined"?xe.useLayoutEffect:xe.useEffect;const o1=["onChange","maxRows","minRows","style","value"];function Wa(h){return parseInt(h,10)||0}const rs={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Js(h){return h==null||Object.keys(h).length===0||h.outerHeightStyle===0&&!h.overflow}var Pa=xe.forwardRef(function(w,I){const{onChange:N,maxRows:_e,minRows:Pe=1,style:ht,value:Dt}=w,yn=(0,at.Z)(w,o1),{current:cn}=xe.useRef(Dt!=null),sr=xe.useRef(null),Yn=Ls(I,sr),er=xe.useRef(null),nr=xe.useRef(0),[Pr,Wn]=xe.useState({outerHeightStyle:0}),zi=xe.useCallback(()=>{const Ar=sr.current,Ui=v1(Ar).getComputedStyle(Ar);if(Ui.width==="0px")return{outerHeightStyle:0};const Gi=er.current;Gi.style.width=Ui.width,Gi.value=Ar.value||w.placeholder||"x",Gi.value.slice(-1)===`
`&&(Gi.value+=" ");const Hs=Ui.boxSizing,ao=Wa(Ui.paddingBottom)+Wa(Ui.paddingTop),Yo=Wa(Ui.borderBottomWidth)+Wa(Ui.borderTopWidth),js=Gi.scrollHeight;Gi.value="x";const Gs=Gi.scrollHeight;let ps=js;Pe&&(ps=Math.max(Number(Pe)*Gs,ps)),_e&&(ps=Math.min(Number(_e)*Gs,ps)),ps=Math.max(ps,Gs);const zs=ps+(Hs==="border-box"?ao+Yo:0),i=Math.abs(ps-js)<=1;return{outerHeightStyle:zs,overflow:i}},[_e,Pe,w.placeholder]),vi=(Ar,ji)=>{const{outerHeightStyle:Ui,overflow:Gi}=ji;return nr.current<20&&(Ui>0&&Math.abs((Ar.outerHeightStyle||0)-Ui)>1||Ar.overflow!==Gi)?(nr.current+=1,{overflow:Gi,outerHeightStyle:Ui}):Ar},Er=xe.useCallback(()=>{const Ar=zi();Js(Ar)||Wn(ji=>vi(ji,Ar))},[zi]),Ci=()=>{const Ar=zi();Js(Ar)||i1.flushSync(()=>{Wn(ji=>vi(ji,Ar))})};xe.useEffect(()=>{const Ar=ra(()=>{nr.current=0,sr.current&&Ci()});let ji;const Ui=sr.current,Gi=v1(Ui);return Gi.addEventListener("resize",Ar),typeof ResizeObserver!="undefined"&&(ji=new ResizeObserver(Ar),ji.observe(Ui)),()=>{Ar.clear(),Gi.removeEventListener("resize",Ar),ji&&ji.disconnect()}}),$a(()=>{Er()}),xe.useEffect(()=>{nr.current=0},[Dt]);const Mr=Ar=>{nr.current=0,cn||Er(),N&&N(Ar)};return(0,he.jsxs)(xe.Fragment,{children:[(0,he.jsx)("textarea",(0,Be.Z)({value:Dt,onChange:Mr,ref:Yn,rows:Pe,style:(0,Be.Z)({height:Pr.outerHeightStyle,overflow:Pr.overflow?"hidden":void 0},ht)},yn)),(0,he.jsx)("textarea",{"aria-hidden":!0,className:w.className,readOnly:!0,ref:er,tabIndex:-1,style:(0,Be.Z)({},rs.shadow,ht,{padding:0})})]})});function va(h){return typeof h=="string"}function K1({props:h,states:w,muiFormControl:I}){return w.reduce((N,_e)=>(N[_e]=h[_e],I&&typeof h[_e]=="undefined"&&(N[_e]=I[_e]),N),{})}var Br=xe.createContext(void 0);function co(){return xe.useContext(Br)}const is=["variant"];function Ro(h){return h.length===0}function os(h){const{variant:w}=h,I=(0,at.Z)(h,is);let N=w||"";return Object.keys(I).sort().forEach(_e=>{_e==="color"?N+=Ro(N)?h[_e]:gn(h[_e]):N+=`${Ro(N)?_e:gn(_e)}${gn(h[_e].toString())}`}),N}const hs=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Za(h){return Object.keys(h).length===0}function mo(h){return typeof h=="string"&&h.charCodeAt(0)>96}const ce=(h,w)=>w.components&&w.components[h]&&w.components[h].styleOverrides?w.components[h].styleOverrides:null,ia=(h,w)=>{let I=[];w&&w.components&&w.components[h]&&w.components[h].variants&&(I=w.components[h].variants);const N={};return I.forEach(_e=>{const Pe=os(_e.props);N[Pe]=_e.style}),N},ja=(h,w,I,N)=>{var _e,Pe;const{ownerState:ht={}}=h,Dt=[],yn=I==null||(_e=I.components)==null||(Pe=_e[N])==null?void 0:Pe.variants;return yn&&yn.forEach(cn=>{let sr=!0;Object.keys(cn.props).forEach(Yn=>{ht[Yn]!==cn.props[Yn]&&h[Yn]!==cn.props[Yn]&&(sr=!1)}),sr&&Dt.push(w[os(cn.props)])}),Dt};function $o(h){return h!=="ownerState"&&h!=="theme"&&h!=="sx"&&h!=="as"}const Ts=Wr(),So=h=>h.charAt(0).toLowerCase()+h.slice(1);function Bo({defaultTheme:h,theme:w,themeId:I}){return Za(w)?h:w[I]||w}function to(h={}){const{themeId:w,defaultTheme:I=Ts,rootShouldForwardProp:N=$o,slotShouldForwardProp:_e=$o}=h,Pe=ht=>dt((0,Be.Z)({},ht,{theme:Bo((0,Be.Z)({},ht,{defaultTheme:I,themeId:w}))}));return Pe.__mui_systemSx=!0,(ht,Dt={})=>{Hn(ht,Mr=>Mr.filter(Ar=>!(Ar!=null&&Ar.__mui_systemSx)));const{name:yn,slot:cn,skipVariantsResolver:sr,skipSx:Yn,overridesResolver:er}=Dt,nr=(0,at.Z)(Dt,hs),Pr=sr!==void 0?sr:cn&&cn!=="Root"||!1,Wn=Yn||!1;let zi,vi=$o;cn==="Root"?vi=N:cn?vi=_e:mo(ht)&&(vi=void 0);const Er=ee(ht,(0,Be.Z)({shouldForwardProp:vi,label:zi},nr)),Ci=(Mr,...Ar)=>{const ji=Ar?Ar.map(ao=>typeof ao=="function"&&ao.__emotion_real!==ao?Yo=>ao((0,Be.Z)({},Yo,{theme:Bo((0,Be.Z)({},Yo,{defaultTheme:I,themeId:w}))})):ao):[];let Ui=Mr;yn&&er&&ji.push(ao=>{const Yo=Bo((0,Be.Z)({},ao,{defaultTheme:I,themeId:w})),js=ce(yn,Yo);if(js){const Gs={};return Object.entries(js).forEach(([ps,zs])=>{Gs[ps]=typeof zs=="function"?zs((0,Be.Z)({},ao,{theme:Yo})):zs}),er(ao,Gs)}return null}),yn&&!Pr&&ji.push(ao=>{const Yo=Bo((0,Be.Z)({},ao,{defaultTheme:I,themeId:w}));return ja(ao,ia(yn,Yo),Yo,yn)}),Wn||ji.push(Pe);const Gi=ji.length-Ar.length;if(Array.isArray(Mr)&&Gi>0){const ao=new Array(Gi).fill("");Ui=[...Mr,...ao],Ui.raw=[...Mr.raw,...ao]}else typeof Mr=="function"&&Mr.__emotion_real!==Mr&&(Ui=ao=>Mr((0,Be.Z)({},ao,{theme:Bo((0,Be.Z)({},ao,{defaultTheme:I,themeId:w}))})));const Hs=Er(Ui,...ji);return ht.muiName&&(Hs.muiName=ht.muiName),Hs};return Er.withConfig&&(Ci.withConfig=Er.withConfig),Ci}}var Eo=Jr();const Ca=h=>$o(h)&&h!=="classes",_a=null;var s1=to({themeId:Es,defaultTheme:Eo,rootShouldForwardProp:Ca});function Zo(h,w){const I=St({},w);return Object.keys(h).forEach(N=>{if(N.toString().match(/^(components|slots)$/))I[N]=St(St({},h[N]),I[N]);else if(N.toString().match(/^(componentsProps|slotProps)$/)){const _e=h[N]||{},Pe=w[N];I[N]={},!Pe||!Object.keys(Pe)?I[N]=_e:!_e||!Object.keys(_e)?I[N]=Pe:(I[N]=St({},Pe),Object.keys(_e).forEach(ht=>{I[N][ht]=Zo(_e[ht],Pe[ht])}))}else I[N]===void 0&&(I[N]=h[N])}),I}function H1(h){const{theme:w,name:I,props:N}=h;return!w||!w.components||!w.components[I]||!w.components[I].defaultProps?N:Zo(w.components[I].defaultProps,N)}function Ga({props:h,name:w,defaultTheme:I,themeId:N}){let _e=Ti(I);return N&&(_e=_e[N]||_e),H1({theme:_e,name:w,props:h})}function C1({props:h,name:w}){return Ga({props:h,name:w,defaultTheme:Eo,themeId:Es})}var Fs=gn,ks=Ls,Xa=$a,qs=G(86389);function oa(h){return h==null||Object.keys(h).length===0}function Sl(h){const{styles:w,defaultTheme:I={}}=h,N=typeof w=="function"?_e=>w(oa(_e)?I:_e):w;return(0,he.jsx)(qs.xB,{styles:N})}function J1({styles:h,themeId:w,defaultTheme:I={}}){const N=Ti(I),_e=typeof h=="function"?h(w&&N[w]||N):h;return(0,he.jsx)(Sl,{styles:_e})}var Ya=J1;function El(h){return(0,he.jsx)(Ya,(0,Be.Z)({},h,{defaultTheme:Eo,themeId:Es}))}var q1=El;function Q1(h){return h!=null&&!(Array.isArray(h)&&h.length===0)}function _1(h,w=!1){return h&&(Q1(h.value)&&h.value!==""||w&&Q1(h.defaultValue)&&h.defaultValue!=="")}function li(h){return h.startAdornment}const a1={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function ss(h,w,I="Mui"){const N=a1[w];return N?`${I}-${N}`:`${Fo.generate(h)}-${w}`}function z1(h,w,I="Mui"){const N={};return w.forEach(_e=>{N[_e]=ss(h,_e,I)}),N}function Kl(h){return ss("MuiInputBase",h)}var x1=z1("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);const $s=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Jl=(h,w)=>{const{ownerState:I}=h;return[w.root,I.formControl&&w.formControl,I.startAdornment&&w.adornedStart,I.endAdornment&&w.adornedEnd,I.error&&w.error,I.size==="small"&&w.sizeSmall,I.multiline&&w.multiline,I.color&&w[`color${Fs(I.color)}`],I.fullWidth&&w.fullWidth,I.hiddenLabel&&w.hiddenLabel]},ql=(h,w)=>{const{ownerState:I}=h;return[w.input,I.size==="small"&&w.inputSizeSmall,I.multiline&&w.inputMultiline,I.type==="search"&&w.inputTypeSearch,I.startAdornment&&w.inputAdornedStart,I.endAdornment&&w.inputAdornedEnd,I.hiddenLabel&&w.inputHiddenLabel]},y1=h=>{const{classes:w,color:I,disabled:N,error:_e,endAdornment:Pe,focused:ht,formControl:Dt,fullWidth:yn,hiddenLabel:cn,multiline:sr,readOnly:Yn,size:er,startAdornment:nr,type:Pr}=h,Wn={root:["root",`color${Fs(I)}`,N&&"disabled",_e&&"error",yn&&"fullWidth",ht&&"focused",Dt&&"formControl",er==="small"&&"sizeSmall",sr&&"multiline",nr&&"adornedStart",Pe&&"adornedEnd",cn&&"hiddenLabel",Yn&&"readOnly"],input:["input",N&&"disabled",Pr==="search"&&"inputTypeSearch",sr&&"inputMultiline",er==="small"&&"inputSizeSmall",cn&&"inputHiddenLabel",nr&&"inputAdornedStart",Pe&&"inputAdornedEnd",Yn&&"readOnly"]};return Ji(Wn,Kl,w)},el=s1("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Jl})(({theme:h,ownerState:w})=>(0,Be.Z)({},h.typography.body1,{color:(h.vars||h).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${x1.disabled}`]:{color:(h.vars||h).palette.text.disabled,cursor:"default"}},w.multiline&&(0,Be.Z)({padding:"4px 0 5px"},w.size==="small"&&{paddingTop:1}),w.fullWidth&&{width:"100%"})),_c=s1("input",{name:"MuiInputBase",slot:"Input",overridesResolver:ql})(({theme:h,ownerState:w})=>{const I=h.palette.mode==="light",N=(0,Be.Z)({color:"currentColor"},h.vars?{opacity:h.vars.opacity.inputPlaceholder}:{opacity:I?.42:.5},{transition:h.transitions.create("opacity",{duration:h.transitions.duration.shorter})}),_e={opacity:"0 !important"},Pe=h.vars?{opacity:h.vars.opacity.inputPlaceholder}:{opacity:I?.42:.5};return(0,Be.Z)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":N,"&::-moz-placeholder":N,"&:-ms-input-placeholder":N,"&::-ms-input-placeholder":N,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${x1.formControl} &`]:{"&::-webkit-input-placeholder":_e,"&::-moz-placeholder":_e,"&:-ms-input-placeholder":_e,"&::-ms-input-placeholder":_e,"&:focus::-webkit-input-placeholder":Pe,"&:focus::-moz-placeholder":Pe,"&:focus:-ms-input-placeholder":Pe,"&:focus::-ms-input-placeholder":Pe},[`&.${x1.disabled}`]:{opacity:1,WebkitTextFillColor:(h.vars||h).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},w.size==="small"&&{paddingTop:1},w.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},w.type==="search"&&{MozAppearance:"textfield"})}),xc=(0,he.jsx)(q1,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}});var Ka=xe.forwardRef(function(w,I){var N;const _e=C1({props:w,name:"MuiInputBase"}),{"aria-describedby":Pe,autoComplete:ht,autoFocus:Dt,className:yn,components:cn={},componentsProps:sr={},defaultValue:Yn,disabled:er,disableInjectingGlobalStyles:nr,endAdornment:Pr,fullWidth:Wn=!1,id:zi,inputComponent:vi="input",inputProps:Er={},inputRef:Ci,maxRows:Mr,minRows:Ar,multiline:ji=!1,name:Ui,onBlur:Gi,onChange:Hs,onClick:ao,onFocus:Yo,onKeyDown:js,onKeyUp:Gs,placeholder:ps,readOnly:zs,renderSuffix:i,rows:s,slotProps:u={},slots:p={},startAdornment:_,type:L="text",value:Se}=_e,rt=(0,at.Z)(_e,$s),Ut=Er.value!=null?Er.value:Se,{current:Fn}=xe.useRef(Ut!=null),fr=xe.useRef(),qr=xe.useCallback(es=>{},[]),Ur=ks(fr,Ci,Er.ref,qr),[Vi,kn]=xe.useState(!1),Ri=co(),To=K1({props:_e,muiFormControl:Ri,states:["color","disabled","error","hiddenLabel","size","required","filled"]});To.focused=Ri?Ri.focused:Vi,xe.useEffect(()=>{!Ri&&er&&Vi&&(kn(!1),Gi&&Gi())},[Ri,er,Vi,Gi]);const wt=Ri&&Ri.onFilled,ft=Ri&&Ri.onEmpty,Ht=xe.useCallback(es=>{_1(es)?wt&&wt():ft&&ft()},[wt,ft]);Xa(()=>{Fn&&Ht({value:Ut})},[Ut,Ht,Fn]);const hr=es=>{if(To.disabled){es.stopPropagation();return}Yo&&Yo(es),Er.onFocus&&Er.onFocus(es),Ri&&Ri.onFocus?Ri.onFocus(es):kn(!0)},Dr=es=>{Gi&&Gi(es),Er.onBlur&&Er.onBlur(es),Ri&&Ri.onBlur?Ri.onBlur(es):kn(!1)},Li=(es,...i0)=>{if(!Fn){const o0=es.target||fr.current;if(o0==null)throw new Error(fn(1));Ht({value:o0.value})}Er.onChange&&Er.onChange(es,...i0),Hs&&Hs(es,...i0)};xe.useEffect(()=>{Ht(fr.current)},[]);const pi=es=>{fr.current&&es.currentTarget===es.target&&fr.current.focus(),ao&&!To.disabled&&ao(es)};let $i=vi,bo=Er;ji&&$i==="input"&&(s?bo=(0,Be.Z)({type:void 0,minRows:s,maxRows:s},bo):bo=(0,Be.Z)({type:void 0,maxRows:Mr,minRows:Ar},bo),$i=Pa);const qi=es=>{Ht(es.animationName==="mui-auto-fill-cancel"?fr.current:{value:"x"})};xe.useEffect(()=>{Ri&&Ri.setAdornedStart(Boolean(_))},[Ri,_]);const Sa=(0,Be.Z)({},_e,{color:To.color||"primary",disabled:To.disabled,endAdornment:Pr,error:To.error,focused:To.focused,formControl:Ri,fullWidth:Wn,hiddenLabel:To.hiddenLabel,multiline:ji,size:To.size,startAdornment:_,type:L}),Oc=y1(Sa),yu=p.root||cn.Root||el,iu=u.root||sr.root||{},wu=p.input||cn.Input||_c;return bo=(0,Be.Z)({},bo,(N=u.input)!=null?N:sr.input),(0,he.jsxs)(xe.Fragment,{children:[!nr&&xc,(0,he.jsxs)(yu,(0,Be.Z)({},iu,!va(yu)&&{ownerState:(0,Be.Z)({},Sa,iu.ownerState)},{ref:I,onClick:pi},rt,{className:(0,mt.default)(Oc.root,iu.className,yn,zs&&"MuiInputBase-readOnly"),children:[_,(0,he.jsx)(Br.Provider,{value:null,children:(0,he.jsx)(wu,(0,Be.Z)({ownerState:Sa,"aria-invalid":To.error,"aria-describedby":Pe,autoComplete:ht,autoFocus:Dt,defaultValue:Yn,disabled:To.disabled,id:zi,onAnimationStart:qi,name:Ui,placeholder:ps,readOnly:zs,required:To.required,rows:s,value:Ut,onKeyDown:js,onKeyUp:Gs,type:L},bo,!va(wu)&&{as:$i,ownerState:(0,Be.Z)({},Sa,bo.ownerState)},{ref:Ur,className:(0,mt.default)(Oc.input,bo.className,zs&&"MuiInputBase-readOnly"),onBlur:Dr,onChange:Li,onFocus:hr}))}),Pr,i?i((0,Be.Z)({},To,{startAdornment:_})):null]}))]})});function Rl(h){const{children:w,defer:I=!1,fallback:N=null}=h,[_e,Pe]=xe.useState(!1);return $a(()=>{I||Pe(!0)},[I]),xe.useEffect(()=>{I&&Pe(!0)},[I]),(0,he.jsx)(xe.Fragment,{children:_e?w:N})}var l1=Rl;function yc(h){return ss("MuiSvgIcon",h)}const Qc=z1("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var wc=null;const tl=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Mc=h=>{const{color:w,fontSize:I,classes:N}=h,_e={root:["root",w!=="inherit"&&`color${Fs(w)}`,`fontSize${Fs(I)}`]};return Ji(_e,yc,N)},eu=s1("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(h,w)=>{const{ownerState:I}=h;return[w.root,I.color!=="inherit"&&w[`color${Fs(I.color)}`],w[`fontSize${Fs(I.fontSize)}`]]}})(({theme:h,ownerState:w})=>{var I,N,_e,Pe,ht,Dt,yn,cn,sr,Yn,er,nr,Pr,Wn,zi,vi,Er;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(I=h.transitions)==null||(N=I.create)==null?void 0:N.call(I,"fill",{duration:(_e=h.transitions)==null||(Pe=_e.duration)==null?void 0:Pe.shorter}),fontSize:{inherit:"inherit",small:((ht=h.typography)==null||(Dt=ht.pxToRem)==null?void 0:Dt.call(ht,20))||"1.25rem",medium:((yn=h.typography)==null||(cn=yn.pxToRem)==null?void 0:cn.call(yn,24))||"1.5rem",large:((sr=h.typography)==null||(Yn=sr.pxToRem)==null?void 0:Yn.call(sr,35))||"2.1875rem"}[w.fontSize],color:(er=(nr=(h.vars||h).palette)==null||(Pr=nr[w.color])==null?void 0:Pr.main)!=null?er:{action:(Wn=(h.vars||h).palette)==null||(zi=Wn.action)==null?void 0:zi.active,disabled:(vi=(h.vars||h).palette)==null||(Er=vi.action)==null?void 0:Er.disabled,inherit:void 0}[w.color]}}),Ql=xe.forwardRef(function(w,I){const N=C1({props:w,name:"MuiSvgIcon"}),{children:_e,className:Pe,color:ht="inherit",component:Dt="svg",fontSize:yn="medium",htmlColor:cn,inheritViewBox:sr=!1,titleAccess:Yn,viewBox:er="0 0 24 24"}=N,nr=(0,at.Z)(N,tl),Pr=(0,Be.Z)({},N,{color:ht,component:Dt,fontSize:yn,instanceFontSize:w.fontSize,inheritViewBox:sr,viewBox:er}),Wn={};sr||(Wn.viewBox=er);const zi=Mc(Pr);return(0,he.jsxs)(eu,(0,Be.Z)({as:Dt,className:(0,mt.default)(zi.root,Pe),focusable:"false",color:cn,"aria-hidden":Yn?void 0:!0,role:Yn?"img":void 0,ref:I},Wn,nr,{ownerState:Pr,children:[_e,Yn?(0,he.jsx)("title",{children:Yn}):null]}))});Ql.muiName="SvgIcon";var ki=Ql,Oa=h=>{let w;return h<1?w=5.11916*Cc(h,2):w=4.5*Math.log(h+1)+2,(w/100).toFixed(2)};function Ll(h){return ss("MuiPaper",h)}const Ja=z1("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var B1=null;const w1=["className","component","elevation","square","variant"],ec=h=>{const{square:w,elevation:I,variant:N,classes:_e}=h,Pe={root:["root",N,!w&&"rounded",N==="elevation"&&`elevation${I}`]};return Ji(Pe,Ll,_e)},aa=s1("div",{name:"MuiPaper",slot:"Root",overridesResolver:(h,w)=>{const{ownerState:I}=h;return[w.root,w[I.variant],!I.square&&w.rounded,I.variant==="elevation"&&w[`elevation${I.elevation}`]]}})(({theme:h,ownerState:w})=>{var I;return(0,Be.Z)({backgroundColor:(h.vars||h).palette.background.paper,color:(h.vars||h).palette.text.primary,transition:h.transitions.create("box-shadow")},!w.square&&{borderRadius:h.shape.borderRadius},w.variant==="outlined"&&{border:`1px solid ${(h.vars||h).palette.divider}`},w.variant==="elevation"&&(0,Be.Z)({boxShadow:(h.vars||h).shadows[w.elevation]},!h.vars&&h.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ts("#fff",Oa(w.elevation))}, ${ts("#fff",Oa(w.elevation))})`},h.vars&&{backgroundImage:(I=h.vars.overlays)==null?void 0:I[w.elevation]}))});var M1=xe.forwardRef(function(w,I){const N=C1({props:w,name:"MuiPaper"}),{className:_e,component:Pe="div",elevation:ht=1,square:Dt=!1,variant:yn="elevation"}=N,cn=(0,at.Z)(N,w1),sr=(0,Be.Z)({},N,{component:Pe,elevation:ht,square:Dt,variant:yn}),Yn=ec(sr);return(0,he.jsx)(aa,(0,Be.Z)({as:Pe,ownerState:sr,className:(0,mt.default)(Yn.root,_e),ref:I},cn))}),as=xe.createContext(null);function nl(){return xe.useContext(as)}var U1=typeof Symbol=="function"&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";function wo(h,w){return typeof w=="function"?w(h):St(St({},h),w)}function Tl(h){const{children:w,theme:I}=h,N=nl(),_e=xe.useMemo(()=>{const Pe=N===null?I:wo(N,I);return Pe!=null&&(Pe[U1]=N!==null),Pe},[I,N]);return(0,he.jsx)(as.Provider,{value:_e,children:w})}var nc=Tl;const ar={};function no(h,w,I,N=!1){return xe.useMemo(()=>{const _e=h&&w[h]||w;if(typeof I=="function"){const Pe=I(_e),ht=h?(0,Be.Z)({},w,{[h]:Pe}):Pe;return N?()=>ht:ht}return h?(0,Be.Z)({},w,{[h]:I}):(0,Be.Z)({},w,I)},[h,w,I,N])}function qa(h){const{children:w,theme:I,themeId:N}=h,_e=Di(ar),Pe=nl()||ar,ht=no(N,_e,I),Dt=no(N,Pe,I,!0);return(0,he.jsx)(nc,{theme:Dt,children:(0,he.jsx)(ho.T.Provider,{value:ht,children:w})})}var Da=qa;const bc=["theme"];function As(h){let{theme:w}=h,I=(0,at.Z)(h,bc);const N=w[Es];return(0,he.jsx)(Da,(0,Be.Z)({},I,{themeId:N?Es:void 0,theme:N||w}))}var c1=G(42295),rc=G(67475),Uo=G(874);function S1(h){var w,I,N="";if(typeof h=="string"||typeof h=="number")N+=h;else if(typeof h=="object")if(Array.isArray(h))for(w=0;w<h.length;w++)h[w]&&(I=S1(h[w]))&&(N&&(N+=" "),N+=I);else for(w in h)h[w]&&(N&&(N+=" "),N+=w);return N}function go(){for(var h,w,I=0,N="";I<arguments.length;)(h=arguments[I++])&&(w=S1(h))&&(N&&(N+=" "),N+=w);return N}const Al={scheme:"Light Theme",author:"mac gainor (https://github.com/mac-s-g)",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#ffd500",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},rl={scheme:"Dark Theme",author:"Chris Kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},il=()=>null;il.when=()=>!1;const Sc=h=>{var w,I,N,_e,Pe,ht,Dt,yn,cn,sr,Yn,er,nr,Pr,Wn,zi,vi;return(0,c1.Ue)()((Er,Ci)=>({enableClipboard:(w=h.enableClipboard)!==null&&w!==void 0?w:!0,highlightUpdates:(I=h.highlightUpdates)!==null&&I!==void 0?I:!1,indentWidth:(N=h.indentWidth)!==null&&N!==void 0?N:3,groupArraysAfterLength:(_e=h.groupArraysAfterLength)!==null&&_e!==void 0?_e:100,collapseStringsAfterLength:h.collapseStringsAfterLength===!1?Number.MAX_VALUE:(Pe=h.collapseStringsAfterLength)!==null&&Pe!==void 0?Pe:50,maxDisplayLength:(ht=h.maxDisplayLength)!==null&&ht!==void 0?ht:30,rootName:(Dt=h.rootName)!==null&&Dt!==void 0?Dt:"root",onChange:(yn=h.onChange)!==null&&yn!==void 0?yn:()=>{},onCopy:(cn=h.onCopy)!==null&&cn!==void 0?cn:void 0,onSelect:(sr=h.onSelect)!==null&&sr!==void 0?sr:void 0,keyRenderer:(Yn=h.keyRenderer)!==null&&Yn!==void 0?Yn:il,editable:(er=h.editable)!==null&&er!==void 0?er:!1,defaultInspectDepth:(nr=h.defaultInspectDepth)!==null&&nr!==void 0?nr:5,objectSortKeys:(Pr=h.objectSortKeys)!==null&&Pr!==void 0?Pr:!1,quotesOnKeys:(Wn=h.quotesOnKeys)!==null&&Wn!==void 0?Wn:!0,displayDataTypes:(zi=h.displayDataTypes)!==null&&zi!==void 0?zi:!0,inspectCache:{},hoverPath:null,colorspace:Al,value:h.value,prevValue:void 0,displaySize:(vi=h.displaySize)!==null&&vi!==void 0?vi:!0,getInspectCache:(Mr,Ar)=>{const ji=Ar!==void 0?Mr.join(".")+"[".concat(Ar,"]nt"):Mr.join(".");return Ci().inspectCache[ji]},setInspectCache:(Mr,Ar,ji)=>{const Ui=ji!==void 0?Mr.join(".")+"[".concat(ji,"]nt"):Mr.join(".");Er(Gi=>({inspectCache:Yr(St({},Gi.inspectCache),{[Ui]:typeof Ar=="function"?Ar(Gi.inspectCache[Ui]):Ar})}))},setHover:(Mr,Ar)=>{Er({hoverPath:Mr?{path:Mr,nestedIndex:Ar}:null})}}))},Ha=(0,xe.createContext)(void 0);Ha.Provider;const Mi=(h,w)=>{const I=(0,xe.useContext)(Ha);return(0,c1.oR)(I,h,w)},V1=()=>Mi(h=>h.colorspace.base07),Pl=Object.prototype.constructor.toString();function Sr(h){if(!h||typeof h!="object")return!1;const w=Object.getPrototypeOf(h);if(w===null)return!0;const I=Object.hasOwnProperty.call(w,"constructor")&&w.constructor;return I===Object?!0:typeof I=="function"&&Function.toString.call(I)===Pl}function ic(h){return h?Sr(h)||Array.isArray(h)||h instanceof Map||h instanceof Set:!1}function Ec(h){return Array.isArray(h)?Array.prototype.slice.call(h):h instanceof Set?new Set(h):h instanceof Map?new Map(h):typeof h=="object"&&h!==null?Object.assign({},h):h}function jo(h,w,I){if(typeof h!="object"||h===null){if(w.length!==0)throw new Error("path is incorrect");return I}ic(h)&&(h=Ec(h));const[_e,...Pe]=w;if(_e!==void 0){if(_e==="__proto__")throw new TypeError("Modification of prototype is not allowed");Pe.length>0?h[_e]=jo(h[_e],Pe,I):h[_e]=I}return h}function Rc(h,w,I,N,_e){return{is:h,Component:w,Editor:I,PreComponent:N,PostComponent:_e}}function ol(h){let{is:w,serialize:I,deserialize:N,Component:_e,Editor:Pe,PreComponent:ht,PostComponent:Dt}=h;return{is:w,serialize:I,deserialize:N,Component:_e,Editor:Pe,PreComponent:ht,PostComponent:Dt}}const _s=(h,w,I)=>{if(h===null||I===null||typeof h!="object"||typeof I!="object")return!1;if(Object.is(h,I)&&w.length!==0)return"";const N=[],_e=[...w];let Pe=h;for(;Pe!==I||_e.length!==0;){if(typeof Pe!="object"||Pe===null)return!1;if(Object.is(Pe,I))return N.reduce((Dt,yn,cn)=>typeof yn=="number"?Dt+"[".concat(yn,"]"):Dt+"".concat(cn===0?"":".").concat(yn),"");const ht=_e.shift();N.push(ht),Pe=Pe[ht]}return!1};function Ps(h){return h===null?0:Array.isArray(h)?h.length:h instanceof Map||h instanceof Set?h.size:h instanceof Date?1:typeof h=="object"?Object.keys(h).length:typeof h=="string"?h.length:1}function Jo(h,w){const I=[];let N=0;for(;N<h.length;)I.push(h.slice(N,N+w)),N+=w;return I}function xn(h,w){const I=[];function N(_e,Pe){if(typeof Pe=="bigint")return Pe.toString();if(Pe instanceof Map){if("toJSON"in Pe&&typeof Pe.toJSON=="function")return Pe.toJSON();if(Pe.size===0)return{};if(I.includes(Pe))return"[Circular]";I.push(Pe);const ht=Array.from(Pe.entries());return ht.every(Dt=>{let[yn]=Dt;return typeof yn=="string"||typeof yn=="number"})?Object.fromEntries(ht):{}}if(Pe instanceof Set)return"toJSON"in Pe&&typeof Pe.toJSON=="function"?Pe.toJSON():I.includes(Pe)?"[Circular]":(I.push(Pe),Array.from(Pe.values()));if(typeof Pe=="object"&&Pe!==null&&Object.keys(Pe).length){const ht=I.length;if(ht){for(let Dt=ht-1;Dt>=0&&I[Dt][_e]!==Pe;--Dt)I.pop();if(I.includes(Pe))return"[Circular]"}I.push(Pe)}return Pe}return JSON.stringify(h,N,w)}function E1(h){return Yl(this,null,function*(){if("clipboard"in navigator)try{yield navigator.clipboard.writeText(h)}catch(w){}Uo(h)})}function la(){let{timeout:h=2e3}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[w,I]=(0,xe.useState)(!1),N=(0,xe.useRef)(null),_e=(0,xe.useCallback)(yn=>{const cn=N.current;cn&&window.clearTimeout(cn),N.current=window.setTimeout(()=>I(!1),h),I(yn)},[h]),Pe=Mi(yn=>yn.onCopy),ht=(0,xe.useCallback)((yn,cn)=>Yl(this,null,function*(){if(typeof Pe=="function")try{yield Pe(yn,cn,E1),_e(!0)}catch(sr){console.error("error when copy ".concat(yn.length===0?"src":"src[".concat(yn.join(".")),"]"),sr)}else try{const sr=xn(typeof cn=="function"?cn.toString():cn,"  ");yield E1(sr),_e(!0)}catch(sr){console.error("error when copy ".concat(yn.length===0?"src":"src[".concat(yn.join(".")),"]"),sr)}}),[_e,Pe]),Dt=(0,xe.useCallback)(()=>{I(!1),N.current&&clearTimeout(N.current)},[]);return{copy:ht,reset:Dt,copied:w}}function R1(h,w){const I=Mi(N=>N.value);return(0,xe.useMemo)(()=>_s(I,h,w),[h,w,I])}function Lc(h,w,I){const N=h.length,_e=R1(h,w),Pe=Mi(Yn=>Yn.getInspectCache),ht=Mi(Yn=>Yn.setInspectCache),Dt=Mi(Yn=>Yn.defaultInspectDepth);(0,xe.useEffect)(()=>{if(Pe(h,I)===void 0)if(I!==void 0)ht(h,!1,I);else{const er=_e?!1:N<Dt;ht(h,er)}},[Dt,N,Pe,_e,I,h,ht]);const[yn,cn]=(0,xe.useState)(()=>{const Yn=Pe(h,I);return Yn!==void 0?Yn:I!==void 0||_e?!1:N<Dt}),sr=(0,xe.useCallback)(Yn=>{cn(er=>{const nr=typeof Yn=="boolean"?Yn:Yn(er);return ht(h,nr,I),nr})},[I,h,ht]);return[yn,sr]}const qo=h=>(0,he.jsx)(wi,Yr(St({component:"div"},h),{sx:St({display:"inline-block"},h.sx)})),ya=h=>{let{dataType:w,enable:I=!0}=h;return I?(0,he.jsx)(qo,{className:"data-type-label",sx:{mx:.5,fontSize:"0.7rem",opacity:.8,userSelect:"none"},children:w}):null};function xs(h){let{is:w,serialize:I,deserialize:N,type:_e,colorKey:Pe,displayTypeLabel:ht=!0,Renderer:Dt}=h;const yn=(0,xe.memo)(Dt),cn=Yn=>{const er=Mi(Wn=>Wn.displayDataTypes),nr=Mi(Wn=>Wn.colorspace[Pe]),Pr=Mi(Wn=>Wn.onSelect);return(0,he.jsxs)(qo,{onClick:()=>Pr==null?void 0:Pr(Yn.path,Yn.value),sx:{color:nr},children:[ht&&er&&(0,he.jsx)(ya,{dataType:_e}),(0,he.jsx)(qo,{className:"".concat(_e,"-value"),children:(0,he.jsx)(yn,{path:Yn.path,inspect:Yn.inspect,setInspect:Yn.setInspect,value:Yn.value,prevValue:Yn.prevValue})})]})};if(cn.displayName="easy-".concat(_e,"-type"),!I||!N)return{is:w,Component:cn};const sr=Yn=>{let{value:er,setValue:nr}=Yn;const Pr=Mi(Wn=>Wn.colorspace[Pe]);return(0,he.jsx)(Ka,{value:er,onChange:(0,xe.useCallback)(Wn=>{nr(Wn.target.value)},[nr]),size:"small",multiline:!0,sx:{color:Pr,padding:.5,borderStyle:"solid",borderColor:"black",borderWidth:1,fontSize:"0.8rem",fontFamily:"monospace",display:"inline-flex"}})};return sr.displayName="easy-".concat(_e,"-type-editor"),{is:w,serialize:I,deserialize:N,Component:cn,Editor:sr}}const Il=xs({is:h=>typeof h=="boolean",type:"bool",colorKey:"base0E",serialize:h=>h.toString(),deserialize:h=>{if(h==="true")return!0;if(h==="false")return!1;throw new Error("Invalid boolean value")},Renderer:h=>{let{value:w}=h;return(0,he.jsx)(he.Fragment,{children:w?"true":"false"})}}),sl={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},al=xs({is:h=>h instanceof Date,type:"date",colorKey:"base0D",Renderer:h=>{let{value:w}=h;return(0,he.jsx)(he.Fragment,{children:w.toLocaleTimeString("en-us",sl)})}}),ll=h=>{const w=h.toString();let I=!0;const N=w.indexOf(")"),_e=w.indexOf("=>");return _e!==-1&&_e>N&&(I=!1),I?w.substring(w.indexOf("{",N)+1,w.lastIndexOf("}")):w.substring(w.indexOf("=>")+2)},cl=h=>{const w=h.toString();return w.indexOf("function")!==-1?w.substring(8,w.indexOf("{")).trim():w.substring(0,w.indexOf("=>")+2).trim()},oc="{",Ol="}",Go={is:h=>typeof h=="function",Component:h=>{const w=Mi(I=>I.colorspace.base05);return(0,he.jsx)(l1,{children:(0,he.jsx)(wi,{className:"data-function",sx:{display:h.inspect?"block":"inline-block",pl:h.inspect?2:0,color:w},children:h.inspect?ll(h.value):(0,he.jsx)(wi,{component:"span",className:"data-function-body",onClick:()=>h.setInspect(!0),sx:{"&:hover":{cursor:"pointer"},padding:.5},children:"\u2026"})})})},PreComponent:h=>(0,he.jsxs)(l1,{children:[(0,he.jsx)(ya,{dataType:"function"}),(0,he.jsxs)(wi,{component:"span",className:"data-function-start",sx:{letterSpacing:.5},children:[cl(h.value)," ",oc]})]}),PostComponent:()=>(0,he.jsx)(l1,{children:(0,he.jsx)(wi,{component:"span",className:"data-function-end",children:Ol})})},tu=xs({is:h=>h===null,type:"null",colorKey:"base08",displayTypeLabel:!1,Renderer:()=>{const h=Mi(w=>w.colorspace.base02);return(0,he.jsx)(wi,{sx:{fontSize:"0.8rem",backgroundColor:h,fontWeight:"bold",borderRadius:"3px",padding:"0.5px 2px"},children:"NULL"})}}),fl=h=>h%1===0,Qa=xs({is:h=>typeof h=="number"&&isNaN(h),type:"NaN",colorKey:"base08",displayTypeLabel:!1,serialize:()=>"NaN",deserialize:h=>parseFloat(h),Renderer:()=>{const h=Mi(w=>w.colorspace.base02);return(0,he.jsx)(wi,{sx:{backgroundColor:h,fontSize:"0.8rem",fontWeight:"bold",borderRadius:"3px",padding:"0.5px 2px"},children:"NaN"})}}),L1=xs({is:h=>typeof h=="number"&&!fl(h)&&!isNaN(h),type:"float",colorKey:"base0B",serialize:h=>h.toString(),deserialize:h=>parseFloat(h),Renderer:h=>{let{value:w}=h;return(0,he.jsx)(he.Fragment,{children:w})}}),ys=xs({is:h=>typeof h=="number"&&fl(h),type:"int",colorKey:"base0F",serialize:h=>h.toString(),deserialize:h=>parseFloat(h),Renderer:h=>{let{value:w}=h;return(0,he.jsx)(he.Fragment,{children:w})}}),Tc=xs({is:h=>typeof h=="bigint",type:"bigint",colorKey:"base0F",serialize:h=>h.toString(),deserialize:h=>BigInt(h.replace(/\D/g,"")),Renderer:h=>{let{value:w}=h;return(0,he.jsx)(he.Fragment,{children:"".concat(w,"n")})}}),wa=h=>{let N=h,{d:w}=N,I=gs(N,["d"]);return(0,he.jsx)(ki,Yr(St({},I),{children:(0,he.jsx)("path",{d:w})}))},dl="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z",Hl="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",zl="M 12 2 C 10.615 1.998 9.214625 2.2867656 7.890625 2.8847656 L 8.9003906 4.6328125 C 9.9043906 4.2098125 10.957 3.998 12 4 C 15.080783 4 17.738521 5.7633175 19.074219 8.3222656 L 17.125 9 L 21.25 11 L 22.875 7 L 20.998047 7.6523438 C 19.377701 4.3110398 15.95585 2 12 2 z M 6.5097656 4.4882812 L 2.2324219 5.0820312 L 3.734375 6.3808594 C 1.6515335 9.4550558 1.3615962 13.574578 3.3398438 17 C 4.0308437 18.201 4.9801562 19.268234 6.1601562 20.115234 L 7.1699219 18.367188 C 6.3019219 17.710187 5.5922656 16.904 5.0722656 16 C 3.5320014 13.332354 3.729203 10.148679 5.2773438 7.7128906 L 6.8398438 9.0625 L 6.5097656 4.4882812 z M 19.929688 13 C 19.794687 14.08 19.450734 15.098 18.927734 16 C 17.386985 18.668487 14.531361 20.090637 11.646484 19.966797 L 12.035156 17.9375 L 8.2402344 20.511719 L 10.892578 23.917969 L 11.265625 21.966797 C 14.968963 22.233766 18.681899 20.426323 20.660156 17 C 21.355156 15.801 21.805219 14.445 21.949219 13 L 19.929688 13 z",Qs="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",u1="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",Qo="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",f1="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z",e1=h=>(0,he.jsx)(wa,St({d:dl},h)),ac=h=>(0,he.jsx)(wa,St({d:Hl},h)),T1=h=>(0,he.jsx)(wa,St({d:zl},h)),Ac=h=>(0,he.jsx)(wa,St({d:Qs},h)),F1=h=>(0,he.jsx)(wa,St({d:u1},h)),lc=h=>(0,he.jsx)(wa,St({d:Qo},h)),Vo=h=>(0,he.jsx)(wa,St({d:f1},h)),si="{",Mo="[",Po="}",Xo="]";function Is(h){const w=Ps(h);let I="";return(h instanceof Map||h instanceof Set)&&(I=h[Symbol.toStringTag]),Object.prototype.hasOwnProperty.call(h,Symbol.toStringTag)&&(I=h[Symbol.toStringTag]),"".concat(w," Items").concat(I?" (".concat(I,")"):"")}const k1=h=>{const w=Mi(cn=>cn.colorspace.base04),I=V1(),N=(0,xe.useMemo)(()=>Array.isArray(h.value),[h.value]),_e=(0,xe.useMemo)(()=>Ps(h.value)===0,[h.value]),Pe=(0,xe.useMemo)(()=>Is(h.value),[h.value]),ht=Mi(cn=>cn.displaySize),Dt=(0,xe.useMemo)(()=>typeof ht=="function"?ht(h.path,h.value):ht,[ht,h.path,h.value]),yn=R1(h.path,h.value);return(0,he.jsxs)(wi,{component:"span",className:"data-object-start",sx:{letterSpacing:.5},children:[N?Mo:si,Dt&&h.inspect&&!_e&&(0,he.jsx)(wi,{component:"span",sx:{pl:.5,fontStyle:"italic",color:w,userSelect:"none"},children:Pe}),yn&&!h.inspect&&(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(T1,{sx:{fontSize:12,color:I,mx:.5}}),yn]})]})},Lo=h=>{const w=Mi(Dt=>Dt.colorspace.base04),I=(0,xe.useMemo)(()=>Array.isArray(h.value),[h.value]),N=(0,xe.useMemo)(()=>Ps(h.value)===0,[h.value]),_e=(0,xe.useMemo)(()=>Is(h.value),[h.value]),Pe=Mi(Dt=>Dt.displaySize),ht=(0,xe.useMemo)(()=>typeof Pe=="function"?Pe(h.path,h.value):Pe,[Pe,h.path,h.value]);return(0,he.jsxs)(wi,{component:"span",className:"data-object-end",children:[I?Xo:Po,ht&&(N||!h.inspect)?(0,he.jsx)(wi,{component:"span",sx:{pl:.5,fontStyle:"italic",color:w,userSelect:"none"},children:_e}):null]})};function hl(h){return typeof(h==null?void 0:h[Symbol.iterator])=="function"}const Nl={is:h=>typeof h=="object",Component:h=>{const w=V1(),I=Mi(nr=>nr.colorspace.base02),N=Mi(nr=>nr.groupArraysAfterLength),_e=R1(h.path,h.value),[Pe,ht]=(0,xe.useState)(Mi(nr=>nr.maxDisplayLength)),Dt=Mi(nr=>nr.objectSortKeys),yn=(0,xe.useMemo)(()=>{if(!h.inspect)return null;const nr=h.value;if(hl(nr)&&!Array.isArray(nr)){const vi=[];if(nr instanceof Map)nr.forEach((Er,Ci)=>{const Mr=Ci.toString(),Ar=[...h.path,Mr];vi.push((0,he.jsx)(ea,{path:Ar,value:Er,prevValue:h.prevValue instanceof Map?h.prevValue.get(Ci):void 0,editable:!1},Mr))});else{const Er=nr[Symbol.iterator]();let Ci=Er.next(),Mr=0;for(;!Ci.done;)vi.push((0,he.jsx)(ea,{path:[...h.path,"iterator:".concat(Mr)],value:Ci.value,nestedIndex:Mr,editable:!1},Mr)),Mr++,Ci=Er.next()}return vi}if(Array.isArray(nr)){if(nr.length<=N){const Ci=nr.slice(0,Pe).map((Mr,Ar)=>{const ji=[...h.path,Ar];return(0,he.jsx)(ea,{path:ji,value:Mr,prevValue:Array.isArray(h.prevValue)?h.prevValue[Ar]:void 0},Ar)});if(nr.length>Pe){const Mr=nr.length-Pe;Ci.push((0,he.jsxs)(qo,{sx:{cursor:"pointer",lineHeight:1.5,color:w,letterSpacing:.5,opacity:.8,userSelect:"none"},onClick:()=>ht(Ar=>Ar*2),children:["hidden ",Mr," items\u2026"]},"last"))}return Ci}const vi=Jo(nr,N),Er=Array.isArray(h.prevValue)?Jo(h.prevValue,N):void 0;return vi.map((Ci,Mr)=>{const Ar=[...h.path];return(0,he.jsx)(ea,{path:Ar,value:Ci,nestedIndex:Mr,prevValue:Er==null?void 0:Er[Mr]},Mr)})}let Wn=Object.entries(nr);Dt&&(Wn=Dt===!0?Wn.sort((vi,Er)=>{let[Ci]=vi,[Mr]=Er;return Ci.localeCompare(Mr)}):Wn.sort((vi,Er)=>{let[Ci]=vi,[Mr]=Er;return Dt(Ci,Mr)}));const zi=Wn.slice(0,Pe).map(vi=>{let[Er,Ci]=vi;var Mr;const Ar=[...h.path,Er];return(0,he.jsx)(ea,{path:Ar,value:Ci,prevValue:(Mr=h.prevValue)===null||Mr===void 0?void 0:Mr[Er]},Er)});if(Wn.length>Pe){const vi=Wn.length-Pe;zi.push((0,he.jsxs)(qo,{sx:{cursor:"pointer",lineHeight:1.5,color:w,letterSpacing:.5,opacity:.8,userSelect:"none"},onClick:()=>ht(Er=>Er*2),children:["hidden ",vi," items\u2026"]},"last"))}return zi},[h.inspect,h.value,h.prevValue,h.path,N,Pe,w,Dt]),cn=h.inspect?.6:0,sr=Mi(nr=>nr.indentWidth),Yn=h.inspect?sr-cn:sr;return(0,xe.useMemo)(()=>Ps(h.value)===0,[h.value])?null:(0,he.jsx)(wi,{className:"data-object",sx:{display:h.inspect?"block":"inline-block",pl:h.inspect?Yn-.6:0,marginLeft:cn,color:w,borderLeft:h.inspect?"1px solid ".concat(I):"none"},children:h.inspect?yn:!_e&&(0,he.jsx)(wi,{component:"span",className:"data-object-body",onClick:()=>h.setInspect(!0),sx:{"&:hover":{cursor:"pointer"},padding:.5,userSelect:"none"},children:"\u2026"})})},PreComponent:k1,PostComponent:Lo},cc=xs({is:h=>typeof h=="string",type:"string",colorKey:"base09",serialize:h=>h,deserialize:h=>h,Renderer:h=>{const[w,I]=(0,xe.useState)(!1),N=Mi(ht=>ht.collapseStringsAfterLength),_e=w?h.value:h.value.slice(0,N),Pe=h.value.length>N;return(0,he.jsxs)(wi,{component:"span",sx:{overflowWrap:"anywhere",cursor:Pe?"pointer":"inherit"},onClick:()=>{Pe&&I(ht=>!ht)},children:['"',_e,Pe&&!w&&(0,he.jsx)(wi,{component:"span",sx:{padding:.5},children:"\u2026"}),'"']})}}),ml=xs({is:h=>h===void 0,type:"undefined",colorKey:"base05",displayTypeLabel:!1,Renderer:()=>{const h=Mi(w=>w.colorspace.base02);return(0,he.jsx)(wi,{sx:{fontSize:"0.7rem",backgroundColor:h,borderRadius:"3px",padding:"0.5px 2px"},children:"undefined"})}}),Ws=()=>(0,rc.M)()(h=>({registry:[],registerTypes:w=>{h(I=>({registry:typeof w=="function"?w(I.registry):w}))}})),gl=(0,xe.createContext)(void 0);gl.Provider;const Bl=(h,w)=>{const I=(0,xe.useContext)(gl);return(0,c1.oR)(I,h,w)};function $1(h,w,I){let N;for(const _e of I)_e.is(h,w)&&(N=_e);if(N===void 0){if(typeof h=="object")return Nl;throw new Error("No type matched for value: ".concat(h))}return N}function Ul(h,w){const I=Bl(N=>N.registry);return(0,xe.useMemo)(()=>$1(h,w,I),[h,w,I])}function ca(h){function w(I,N){var _e,Pe;return Object.is(I.value,N.value)&&I.inspect&&N.inspect&&((_e=I.path)===null||_e===void 0?void 0:_e.join("."))===((Pe=N.path)===null||Pe===void 0?void 0:Pe.join("."))}return h.Component=(0,xe.memo)(h.Component,w),h.Editor&&(h.Editor=(0,xe.memo)(h.Editor,function(N,_e){return Object.is(N.value,_e.value)})),h.PreComponent&&(h.PreComponent=(0,xe.memo)(h.PreComponent,w)),h.PostComponent&&(h.PostComponent=(0,xe.memo)(h.PostComponent,w)),h}const Ma=[ca(Il),ca(al),ca(tu),ca(ml),ca(cc),ca(Go),ca(Qa),ca(ys),ca(L1),ca(Tc)],A1=h=>(0,he.jsx)(wi,Yr(St({component:"span"},h),{sx:St({cursor:"pointer",paddingLeft:"0.7rem"},h.sx)})),ea=h=>{const{value:w,prevValue:I,path:N,nestedIndex:_e}=h,{Component:Pe,PreComponent:ht,PostComponent:Dt,Editor:yn,serialize:cn,deserialize:sr}=Ul(w,N);var Yn;const er=(Yn=h.editable)!==null&&Yn!==void 0?Yn:void 0,nr=Mi(kn=>kn.editable),Pr=(0,xe.useMemo)(()=>nr===!1||er===!1?!1:typeof nr=="function"?!!nr(N,w):nr,[N,er,nr,w]),[Wn,zi]=(0,xe.useState)(""),vi=N.length,Er=N[vi-1],Ci=Mi(kn=>kn.hoverPath),Mr=(0,xe.useMemo)(()=>Ci&&N.every((kn,Ri)=>kn===Ci.path[Ri]&&_e===Ci.nestedIndex),[Ci,N,_e]),Ar=Mi(kn=>kn.setHover),ji=Mi(kn=>kn.value),[Ui,Gi]=Lc(N,w,_e),[Hs,ao]=(0,xe.useState)(!1),Yo=Mi(kn=>kn.onChange),js=V1(),Gs=Mi(kn=>kn.colorspace.base0C),ps=Mi(kn=>kn.colorspace.base0A),zs=Mi(kn=>kn.quotesOnKeys),i=Mi(kn=>kn.rootName),s=ji===w,u=Number.isInteger(Number(Er)),p=Mi(kn=>kn.enableClipboard),{copy:_,copied:L}=la(),Se=Mi(kn=>kn.highlightUpdates),rt=(0,xe.useMemo)(()=>!Se||I===void 0?!1:typeof w!=typeof I?!0:typeof w=="number"?isNaN(w)&&isNaN(I)?!1:w!==I:Array.isArray(w)!==Array.isArray(I)?!0:typeof w=="object"||typeof w=="function"?!1:w!==I,[Se,I,w]),Ut=(0,xe.useRef)();(0,xe.useEffect)(()=>{Ut.current&&rt&&"animate"in Ut.current&&Ut.current.animate([{backgroundColor:ps},{backgroundColor:""}],{duration:1e3,easing:"ease-in"})},[ps,rt,I,w]);const Fn=(0,xe.useMemo)(()=>Hs&&sr?(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(A1,{children:(0,he.jsx)(Ac,{sx:{fontSize:".8rem"},onClick:()=>{ao(!1),zi("")}})}),(0,he.jsx)(A1,{children:(0,he.jsx)(e1,{sx:{fontSize:".8rem"},onClick:()=>{ao(!1);try{const kn=sr(Wn);Yo(N,w,kn)}catch(kn){}}})})]}):(0,he.jsxs)(he.Fragment,{children:[p&&(0,he.jsx)(A1,{onClick:kn=>{kn.preventDefault();try{_(N,w,E1)}catch(Ri){console.error(Ri)}},children:L?(0,he.jsx)(e1,{sx:{fontSize:".8rem"}}):(0,he.jsx)(F1,{sx:{fontSize:".8rem"}})}),yn&&Pr&&cn&&sr&&(0,he.jsx)(A1,{onClick:kn=>{kn.preventDefault(),zi(cn(w)),ao(!0)},children:(0,he.jsx)(lc,{sx:{fontSize:".8rem"}})})]}),[yn,cn,sr,L,_,Pr,Hs,p,Yo,N,Wn,w]),fr=(0,xe.useMemo)(()=>Ps(w)===0,[w]),qr=!fr&&!!(ht&&Dt),Ur=Mi(kn=>kn.keyRenderer),Vi=(0,xe.useMemo)(()=>({path:N,inspect:Ui,setInspect:Gi,value:w,prevValue:I}),[Ui,N,Gi,w,I]);return(0,he.jsxs)(wi,{className:"data-key-pair","data-testid":"data-key-pair"+N.join("."),sx:{userSelect:"text"},onMouseEnter:(0,xe.useCallback)(()=>Ar(N,_e),[Ar,N,_e]),children:[(0,he.jsxs)(qo,{component:"span",className:"data-key",sx:{lineHeight:1.5,color:js,letterSpacing:.5,opacity:.8},onClick:(0,xe.useCallback)(kn=>{kn.isDefaultPrevented()||fr||Gi(Ri=>!Ri)},[fr,Gi]),children:[qr?Ui?(0,he.jsx)(Vo,{sx:{fontSize:".8rem","&:hover":{cursor:"pointer"}}}):(0,he.jsx)(ac,{sx:{fontSize:".8rem","&:hover":{cursor:"pointer"}}}):null,(0,he.jsx)(wi,{ref:Ut,component:"span",children:s?i!==!1?zs?(0,he.jsxs)(he.Fragment,{children:['"',i,'"']}):(0,he.jsx)(he.Fragment,{children:i}):null:Ur.when(Vi)?(0,he.jsx)(Ur,St({},Vi)):_e===void 0&&(u?(0,he.jsx)(wi,{component:"span",style:{color:Gs},children:Er}):zs?(0,he.jsxs)(he.Fragment,{children:['"',Er,'"']}):(0,he.jsx)(he.Fragment,{children:Er}))}),s?i!==!1&&(0,he.jsx)(qo,{sx:{mr:.5},children:":"}):_e===void 0&&(0,he.jsx)(qo,{sx:{mr:.5},children:":"}),ht&&(0,he.jsx)(ht,St({},Vi)),Mr&&qr&&Ui&&Fn]}),Hs&&Pr?yn&&(0,he.jsx)(yn,{value:Wn,setValue:zi}):Pe?(0,he.jsx)(Pe,St({},Vi)):(0,he.jsx)(wi,{component:"span",className:"data-value-fallback",children:"fallback: ".concat(w)}),Dt&&(0,he.jsx)(Dt,St({},Vi)),Mr&&qr&&!Ui&&Fn,Mr&&!qr&&Fn]})},vl="(prefers-color-scheme: dark)";function Cl(){const[h,w]=(0,xe.useState)(!1);return(0,xe.useEffect)(()=>{const I=_e=>{w(_e.matches)};w(window.matchMedia(vl).matches);const N=window.matchMedia(vl);return N.addEventListener("change",I),()=>N.removeEventListener("change",I)},[]),h}function Os(h,w){const{setState:I}=(0,xe.useContext)(Ha);(0,xe.useEffect)(()=>{w!==void 0&&I({[h]:w})},[h,w,I])}const Vl=h=>{const{setState:w}=(0,xe.useContext)(Ha);(0,xe.useEffect)(()=>{w(cn=>({prevValue:cn.value,value:h.value}))},[h.value,w]),Os("editable",h.editable),Os("indentWidth",h.indentWidth),Os("onChange",h.onChange),Os("groupArraysAfterLength",h.groupArraysAfterLength),Os("keyRenderer",h.keyRenderer),Os("maxDisplayLength",h.maxDisplayLength),Os("enableClipboard",h.enableClipboard),Os("highlightUpdates",h.highlightUpdates),Os("rootName",h.rootName),Os("displayDataTypes",h.displayDataTypes),Os("displaySize",h.displaySize),Os("onCopy",h.onCopy),Os("onSelect",h.onSelect),(0,xe.useEffect)(()=>{h.theme==="light"?w({colorspace:Al}):h.theme==="dark"?w({colorspace:rl}):typeof h.theme=="object"&&w({colorspace:h.theme})},[w,h.theme]);const I=(0,xe.useMemo)(()=>typeof h.theme=="object"?"json-viewer-theme-custom":h.theme==="dark"?"json-viewer-theme-dark":"json-viewer-theme-light",[h.theme]),N=(0,xe.useRef)(!0),_e=Bl(cn=>cn.registerTypes);if(N.current){const cn=h.valueTypes?[...Ma,...h.valueTypes]:[...Ma];_e(cn),N.current=!1}(0,xe.useEffect)(()=>{const cn=h.valueTypes?[...Ma,...h.valueTypes]:[...Ma];_e(cn)},[h.valueTypes,_e]);const Pe=Mi(cn=>cn.value),ht=Mi(cn=>cn.prevValue),Dt=Mi(cn=>cn.setHover),yn=(0,xe.useCallback)(()=>Dt(null),[Dt]);return(0,he.jsx)(M1,{elevation:0,className:go(I,h.className),style:h.style,sx:St({fontFamily:"monospace",userSelect:"none",contentVisibility:"auto"},h.sx),onMouseLeave:yn,children:(0,he.jsx)(ea,{value:Pe,prevValue:ht,path:(0,xe.useMemo)(()=>[],[])})})},Fl=function(w){const I=Cl();var N;const _e=(0,xe.useMemo)(()=>w.theme==="auto"?I?"light":"dark":(N=w.theme)!==null&&N!==void 0?N:"light",[I,w.theme]),Pe=(0,xe.useMemo)(()=>{const cn=typeof _e=="object"?_e.base00:_e==="dark"?rl.base00:Al.base00;return Jr({components:{MuiPaper:{styleOverrides:{root:{backgroundColor:cn}}}},palette:{mode:_e==="dark"?"dark":"light",background:{default:cn}}})},[_e]),ht=Yr(St({},w),{theme:_e}),Dt=(0,xe.useMemo)(()=>Sc(w),[]),yn=(0,xe.useMemo)(()=>Ws(),[]);return(0,he.jsx)(As,{theme:Pe,children:(0,he.jsx)(gl.Provider,{value:yn,children:(0,he.jsx)(Ha.Provider,{value:Dt,children:(0,he.jsx)(Vl,St({},ht))})})})};var Ds=G(59892),t1=G(17417),ua=G(59749),_l=G(52380),Zs=G(44941),Pc=G(19159),ba=G(84817),uc=G(93251),nu=G(2e4),d1=G(467),xl=G(92896),Ic=G(84100),kl,h1,fc,$l,Wl=(0,Ic.kc)(function(h,w){var I=h.token,N=h.stylish,_e=h.cx,Pe=h.css;return{container:_e(w,Pe(kl||(kl=(0,xl.Z)([`
        `,`
      `])),N.textInfo)),empty:_e("".concat(w,"-empty"),Pe(h1||(h1=(0,xl.Z)([`
        padding: 8px;
        background: `,`;
        border-radius: 4px;
        .studio-empty-normal {
          margin: 12px 0;
        }
      `])),I.colorFillQuaternary)),json:_e("".concat(w,"-json"),Pe(fc||(fc=(0,xl.Z)([`
        border-radius: 4px;

        .json-viewer-theme-dark {
          background: none !important;
        }
      `])))),table:Pe($l||($l=(0,xl.Z)([`
      .studio-table-cell {
        padding: 4px !important;
      }
    `])))}}),Zl=function(w){var I=w.data,N=w.collapsed,_e=w.onVisibleChange,Pe=w.className,ht=w.renderEmpty,Dt=w.onEmptyClick,yn=w.showType,cn=yn===void 0?!0:yn,sr=w.extra,Yn=w.emptyAction,er=w.style,nr=w.columns,Pr=w.onResetClick,Wn=w.prefixCls,zi=(0,nu.k2)("data-previewer",Wn),vi=(0,d1.r)(),Er=vi.isDarkMode,Ci=Wl(zi),Mr=Ci.styles,Ar=Ci.cx,ji=(0,uc.Z)(!1,{value:N,onChange:_e}),Ui=(0,B.Z)(ji,2),Gi=Ui[0],Hs=Ui[1],ao=(0,xe.useState)(0),Yo=(0,B.Z)(ao,2),js=Yo[0],Gs=Yo[1],ps=(0,xe.useState)("object"),zs=(0,B.Z)(ps,2),i=zs[0],s=zs[1],u=(0,he.jsx)(ba.D,{align:"center",children:(0,he.jsxs)(ba.D,{gap:12,width:"fit-content",align:"center",children:[(0,he.jsx)("div",{children:"\u6CA1\u6709\u6570\u636E\uFF1F\u6765\u8BD5\u8BD5 Demo \u5427"}),(0,he.jsxs)(ba.D,{direction:"horizontal",gap:8,children:[(0,he.jsx)(Ds.ZP,{icon:(0,he.jsx)(D.Z,{}),type:"primary",ghost:!0,size:"small",onClick:Dt,children:"\u7ACB\u5373\u5C1D\u8BD5"}),Yn]})]})}),p=(0,xe.useMemo)(function(){return(0,he.jsxs)(ba.D,{direction:"horizontal",align:"center",children:[(0,he.jsx)(ba.D,{children:(0,he.jsx)(de.Z,{title:"\u663E\u793A\u4E3A".concat(i==="table"?"\u5BF9\u8C61":"\u8868\u683C"),placement:"bottom",icon:i==="table"?(0,he.jsx)(Ne.Z,{}):(0,he.jsx)(qe.Z,{}),onClick:function(){s(i==="object"?"table":"object")}})}),(0,he.jsx)(t1.Z,{type:"vertical",dashed:!0,style:{margin:"0 4px"}}),(0,he.jsxs)(ba.D,{horizontal:!0,gap:4,children:[(0,he.jsx)(ua.Z,{title:"\u5373\u5C06\u91CD\u7F6E\u5217\u914D\u7F6E\u4E0E\u8868\u683C\u6570\u636E\uFF0C\u5176\u4F59\u914D\u7F6E\uFF08\u5206\u9875\u5668\u3001\u5DE5\u5177\u680F\u7B49\uFF09\u4FDD\u6301\u4E0D\u53D8\u3002\u786E\u5B9A\u91CD\u7F6E\u5417\uFF1F",placement:"left",onConfirm:Pr,children:(0,he.jsx)(de.Z,{title:"\u91CD\u7F6E\u6570\u636E",placement:"bottom",icon:(0,he.jsx)(xt.Z,{})})}),sr?(0,he.jsx)(he.Fragment,{children:sr}):null]})]})},[i,Pr,sr]);return(0,he.jsx)("div",{className:Ar(Pe,Mr.container),style:er,children:I?(0,he.jsx)(Ot.Z,{title:"\u6570\u636E\u9884\u89C8",expand:!Gi,onExpandChange:function(L){Hs(!L)},extra:function(L){return L?p:null},children:(0,he.jsx)(ba.D,{children:i==="object"?(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(ba.D,{style:{overflow:"scroll",maxHeight:200,marginBottom:8},className:Mr.json,children:(0,he.jsx)(Fl,{rootName:"\u7B2C".concat(js+1,"\u6761\u6570\u636E"),collapseStringsAfterLength:22,enableClipboard:!1,value:I[js],displayDataTypes:cn,theme:Er?"dark":"light"})}),(0,he.jsx)(t1.Z,{style:{margin:"12px 0"},dashed:!0}),(0,he.jsx)(ba.D,{align:"flex-end",children:(0,he.jsx)(Zs.Z,{current:js+1,showTotal:function(L){return"\u5171 ".concat(L," \u6761\u6570\u636E")},onChange:function(L){Gs(L-1)},total:I.length,size:"small",pageSize:1})})]}):(0,he.jsx)(Pc.Z,{dataSource:I,size:"small",bordered:!0,className:Mr.table,pagination:!1,columns:nr&&nr.map(function(_){return(0,S.Z)((0,S.Z)({},_),{},{ellipsis:!0})})})})}):(0,he.jsx)("div",{className:Mr.empty,children:(0,he.jsx)(_l.Z,{image:_l.Z.PRESENTED_IMAGE_SIMPLE,description:ht?ht(u):u})})})},ru=Zl},71508:function(qt,je,G){"use strict";G.d(je,{_:function(){return Yi}});var S=G(50959),B=G(2e4),D=G(14797),Ne=G(87807),qe=G(17079),xt=G(10422),de=function(){var b=function(H,E){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,Q){T.__proto__=Q}||function(T,Q){for(var le in Q)Object.prototype.hasOwnProperty.call(Q,le)&&(T[le]=Q[le])},b(H,E)};return function(H,E){b(H,E);function T(){this.constructor=H}H.prototype=E===null?Object.create(E):(T.prototype=E.prototype,new T)}}(),Ot=function(){return Ot=Object.assign||function(b){for(var H,E=1,T=arguments.length;E<T;E++){H=arguments[E];for(var Q in H)Object.prototype.hasOwnProperty.call(H,Q)&&(b[Q]=H[Q])}return b},Ot.apply(this,arguments)},he={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Be={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},at={width:"20px",height:"20px",position:"absolute"},xe={top:Ot(Ot({},he),{top:"-5px"}),right:Ot(Ot({},Be),{left:void 0,right:"-5px"}),bottom:Ot(Ot({},he),{top:void 0,bottom:"-5px"}),left:Ot(Ot({},Be),{left:"-5px"}),topRight:Ot(Ot({},at),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Ot(Ot({},at),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Ot(Ot({},at),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Ot(Ot({},at),{left:"-10px",top:"-10px",cursor:"nw-resize"})},mt=function(b){de(H,b);function H(){var E=b!==null&&b.apply(this,arguments)||this;return E.onMouseDown=function(T){E.props.onResizeStart(T,E.props.direction)},E.onTouchStart=function(T){E.props.onResizeStart(T,E.props.direction)},E}return H.prototype.render=function(){return S.createElement("div",{className:this.props.className||"",style:Ot(Ot({position:"absolute",userSelect:"none"},xe[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},H}(S.PureComponent),Lt=function(){var b=function(H,E){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,Q){T.__proto__=Q}||function(T,Q){for(var le in Q)Object.prototype.hasOwnProperty.call(Q,le)&&(T[le]=Q[le])},b(H,E)};return function(H,E){b(H,E);function T(){this.constructor=H}H.prototype=E===null?Object.create(E):(T.prototype=E.prototype,new T)}}(),ee=function(){return ee=Object.assign||function(b){for(var H,E=1,T=arguments.length;E<T;E++){H=arguments[E];for(var Q in H)Object.prototype.hasOwnProperty.call(H,Q)&&(b[Q]=H[Q])}return b},ee.apply(this,arguments)},Hn={width:"auto",height:"auto"},fn=function(b,H,E){return Math.max(Math.min(b,E),H)},gn=function(b,H){return Math.round(b/H)*H},ot=function(b,H){return new RegExp(b,"i").test(H)},At=function(b){return Boolean(b.touches&&b.touches.length)},vn=function(b){return Boolean((b.clientX||b.clientX===0)&&(b.clientY||b.clientY===0))},Kt=function(b,H,E){E===void 0&&(E=0);var T=H.reduce(function(le,We,st){return Math.abs(We-b)<Math.abs(H[le]-b)?st:le},0),Q=Math.abs(H[T]-b);return E===0||Q<E?H[T]:b},Cn=function(b){return b=b.toString(),b==="auto"||b.endsWith("px")||b.endsWith("%")||b.endsWith("vh")||b.endsWith("vw")||b.endsWith("vmax")||b.endsWith("vmin")?b:b+"px"},ln=function(b,H,E,T){if(b&&typeof b=="string"){if(b.endsWith("px"))return Number(b.replace("px",""));if(b.endsWith("%")){var Q=Number(b.replace("%",""))/100;return H*Q}if(b.endsWith("vw")){var Q=Number(b.replace("vw",""))/100;return E*Q}if(b.endsWith("vh")){var Q=Number(b.replace("vh",""))/100;return T*Q}}return b},Wt=function(b,H,E,T,Q,le,We){return T=ln(T,b.width,H,E),Q=ln(Q,b.height,H,E),le=ln(le,b.width,H,E),We=ln(We,b.height,H,E),{maxWidth:typeof T=="undefined"?void 0:Number(T),maxHeight:typeof Q=="undefined"?void 0:Number(Q),minWidth:typeof le=="undefined"?void 0:Number(le),minHeight:typeof We=="undefined"?void 0:Number(We)}},An=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Yt="__resizable_base__",Me=function(b){Lt(H,b);function H(E){var T=b.call(this,E)||this;return T.ratio=1,T.resizable=null,T.parentLeft=0,T.parentTop=0,T.resizableLeft=0,T.resizableRight=0,T.resizableTop=0,T.resizableBottom=0,T.targetLeft=0,T.targetTop=0,T.appendBase=function(){if(!T.resizable||!T.window)return null;var Q=T.parentNode;if(!Q)return null;var le=T.window.document.createElement("div");return le.style.width="100%",le.style.height="100%",le.style.position="absolute",le.style.transform="scale(0, 0)",le.style.left="0",le.style.flex="0 0 100%",le.classList?le.classList.add(Yt):le.className+=Yt,Q.appendChild(le),le},T.removeBase=function(Q){var le=T.parentNode;le&&le.removeChild(Q)},T.ref=function(Q){Q&&(T.resizable=Q)},T.state={isResizing:!1,width:typeof(T.propsSize&&T.propsSize.width)=="undefined"?"auto":T.propsSize&&T.propsSize.width,height:typeof(T.propsSize&&T.propsSize.height)=="undefined"?"auto":T.propsSize&&T.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},T.onResizeStart=T.onResizeStart.bind(T),T.onMouseMove=T.onMouseMove.bind(T),T.onMouseUp=T.onMouseUp.bind(T),T}return Object.defineProperty(H.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||Hn},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"size",{get:function(){var E=0,T=0;if(this.resizable&&this.window){var Q=this.resizable.offsetWidth,le=this.resizable.offsetHeight,We=this.resizable.style.position;We!=="relative"&&(this.resizable.style.position="relative"),E=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:Q,T=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:le,this.resizable.style.position=We}return{width:E,height:T}},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"sizeStyle",{get:function(){var E=this,T=this.props.size,Q=function(st){if(typeof E.state[st]=="undefined"||E.state[st]==="auto")return"auto";if(E.propsSize&&E.propsSize[st]&&E.propsSize[st].toString().endsWith("%")){if(E.state[st].toString().endsWith("%"))return E.state[st].toString();var Qe=E.getParentSize(),be=Number(E.state[st].toString().replace("px","")),Y=be/Qe[st]*100;return Y+"%"}return Cn(E.state[st])},le=T&&typeof T.width!="undefined"&&!this.state.isResizing?Cn(T.width):Q("width"),We=T&&typeof T.height!="undefined"&&!this.state.isResizing?Cn(T.height):Q("height");return{width:le,height:We}},enumerable:!1,configurable:!0}),H.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var E=this.appendBase();if(!E)return{width:0,height:0};var T=!1,Q=this.parentNode.style.flexWrap;Q!=="wrap"&&(T=!0,this.parentNode.style.flexWrap="wrap"),E.style.position="relative",E.style.minWidth="100%",E.style.minHeight="100%";var le={width:E.offsetWidth,height:E.offsetHeight};return T&&(this.parentNode.style.flexWrap=Q),this.removeBase(E),le},H.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},H.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},H.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var E=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:E.flexBasis!=="auto"?E.flexBasis:void 0})}},H.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},H.prototype.createSizeForCssProperty=function(E,T){var Q=this.propsSize&&this.propsSize[T];return this.state[T]==="auto"&&this.state.original[T]===E&&(typeof Q=="undefined"||Q==="auto")?"auto":E},H.prototype.calculateNewMaxFromBoundary=function(E,T){var Q=this.props.boundsByDirection,le=this.state.direction,We=Q&&ot("left",le),st=Q&&ot("top",le),Qe,be;if(this.props.bounds==="parent"){var Y=this.parentNode;Y&&(Qe=We?this.resizableRight-this.parentLeft:Y.offsetWidth+(this.parentLeft-this.resizableLeft),be=st?this.resizableBottom-this.parentTop:Y.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(Qe=We?this.resizableRight:this.window.innerWidth-this.resizableLeft,be=st?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(Qe=We?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),be=st?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return Qe&&Number.isFinite(Qe)&&(E=E&&E<Qe?E:Qe),be&&Number.isFinite(be)&&(T=T&&T<be?T:be),{maxWidth:E,maxHeight:T}},H.prototype.calculateNewSizeFromDirection=function(E,T){var Q=this.props.scale||1,le=this.props.resizeRatio||1,We=this.state,st=We.direction,Qe=We.original,be=this.props,Y=be.lockAspectRatio,ie=be.lockAspectRatioExtraHeight,Ie=be.lockAspectRatioExtraWidth,Ze=Qe.width,tt=Qe.height,Zt=ie||0,Ft=Ie||0;return ot("right",st)&&(Ze=Qe.width+(E-Qe.x)*le/Q,Y&&(tt=(Ze-Ft)/this.ratio+Zt)),ot("left",st)&&(Ze=Qe.width-(E-Qe.x)*le/Q,Y&&(tt=(Ze-Ft)/this.ratio+Zt)),ot("bottom",st)&&(tt=Qe.height+(T-Qe.y)*le/Q,Y&&(Ze=(tt-Zt)*this.ratio+Ft)),ot("top",st)&&(tt=Qe.height-(T-Qe.y)*le/Q,Y&&(Ze=(tt-Zt)*this.ratio+Ft)),{newWidth:Ze,newHeight:tt}},H.prototype.calculateNewSizeFromAspectRatio=function(E,T,Q,le){var We=this.props,st=We.lockAspectRatio,Qe=We.lockAspectRatioExtraHeight,be=We.lockAspectRatioExtraWidth,Y=typeof le.width=="undefined"?10:le.width,ie=typeof Q.width=="undefined"||Q.width<0?E:Q.width,Ie=typeof le.height=="undefined"?10:le.height,Ze=typeof Q.height=="undefined"||Q.height<0?T:Q.height,tt=Qe||0,Zt=be||0;if(st){var Ft=(Ie-tt)*this.ratio+Zt,vt=(Ze-tt)*this.ratio+Zt,dt=(Y-Zt)/this.ratio+tt,Ct=(ie-Zt)/this.ratio+tt,rn=Math.max(Y,Ft),zn=Math.min(ie,vt),Jn=Math.max(Ie,dt),qn=Math.min(Ze,Ct);E=fn(E,rn,zn),T=fn(T,Jn,qn)}else E=fn(E,Y,ie),T=fn(T,Ie,Ze);return{newWidth:E,newHeight:T}},H.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var E=this.parentNode;if(E){var T=E.getBoundingClientRect();this.parentLeft=T.left,this.parentTop=T.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var Q=this.props.bounds.getBoundingClientRect();this.targetLeft=Q.left,this.targetTop=Q.top}if(this.resizable){var le=this.resizable.getBoundingClientRect(),We=le.left,st=le.top,Qe=le.right,be=le.bottom;this.resizableLeft=We,this.resizableRight=Qe,this.resizableTop=st,this.resizableBottom=be}},H.prototype.onResizeStart=function(E,T){if(!(!this.resizable||!this.window)){var Q=0,le=0;if(E.nativeEvent&&vn(E.nativeEvent)?(Q=E.nativeEvent.clientX,le=E.nativeEvent.clientY):E.nativeEvent&&At(E.nativeEvent)&&(Q=E.nativeEvent.touches[0].clientX,le=E.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var We=this.props.onResizeStart(E,T,this.resizable);if(We===!1)return}this.props.size&&(typeof this.props.size.height!="undefined"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width!="undefined"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var st,Qe=this.window.getComputedStyle(this.resizable);if(Qe.flexBasis!=="auto"){var be=this.parentNode;if(be){var Y=this.window.getComputedStyle(be).flexDirection;this.flexDir=Y.startsWith("row")?"row":"column",st=Qe.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var ie={original:{x:Q,y:le,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:ee(ee({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(E.target).cursor||"auto"}),direction:T,flexBasis:st};this.setState(ie)}},H.prototype.onMouseMove=function(E){var T=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&At(E))try{E.preventDefault(),E.stopPropagation()}catch(Wr){}var Q=this.props,le=Q.maxWidth,We=Q.maxHeight,st=Q.minWidth,Qe=Q.minHeight,be=At(E)?E.touches[0].clientX:E.clientX,Y=At(E)?E.touches[0].clientY:E.clientY,ie=this.state,Ie=ie.direction,Ze=ie.original,tt=ie.width,Zt=ie.height,Ft=this.getParentSize(),vt=Wt(Ft,this.window.innerWidth,this.window.innerHeight,le,We,st,Qe);le=vt.maxWidth,We=vt.maxHeight,st=vt.minWidth,Qe=vt.minHeight;var dt=this.calculateNewSizeFromDirection(be,Y),Ct=dt.newHeight,rn=dt.newWidth,zn=this.calculateNewMaxFromBoundary(le,We);this.props.snap&&this.props.snap.x&&(rn=Kt(rn,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(Ct=Kt(Ct,this.props.snap.y,this.props.snapGap));var Jn=this.calculateNewSizeFromAspectRatio(rn,Ct,{width:zn.maxWidth,height:zn.maxHeight},{width:st,height:Qe});if(rn=Jn.newWidth,Ct=Jn.newHeight,this.props.grid){var qn=gn(rn,this.props.grid[0]),$n=gn(Ct,this.props.grid[1]),Qn=this.props.snapGap||0;rn=Qn===0||Math.abs(qn-rn)<=Qn?qn:rn,Ct=Qn===0||Math.abs($n-Ct)<=Qn?$n:Ct}var _r={width:rn-Ze.width,height:Ct-Ze.height};if(tt&&typeof tt=="string"){if(tt.endsWith("%")){var En=rn/Ft.width*100;rn=En+"%"}else if(tt.endsWith("vw")){var cr=rn/this.window.innerWidth*100;rn=cr+"vw"}else if(tt.endsWith("vh")){var Nr=rn/this.window.innerHeight*100;rn=Nr+"vh"}}if(Zt&&typeof Zt=="string"){if(Zt.endsWith("%")){var En=Ct/Ft.height*100;Ct=En+"%"}else if(Zt.endsWith("vw")){var cr=Ct/this.window.innerWidth*100;Ct=cr+"vw"}else if(Zt.endsWith("vh")){var Nr=Ct/this.window.innerHeight*100;Ct=Nr+"vh"}}var yi={width:this.createSizeForCssProperty(rn,"width"),height:this.createSizeForCssProperty(Ct,"height")};this.flexDir==="row"?yi.flexBasis=yi.width:this.flexDir==="column"&&(yi.flexBasis=yi.height),(0,xt.flushSync)(function(){T.setState(yi)}),this.props.onResize&&this.props.onResize(E,Ie,this.resizable,_r)}},H.prototype.onMouseUp=function(E){var T=this.state,Q=T.isResizing,le=T.direction,We=T.original;if(!(!Q||!this.resizable)){var st={width:this.size.width-We.width,height:this.size.height-We.height};this.props.onResizeStop&&this.props.onResizeStop(E,le,this.resizable,st),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:ee(ee({},this.state.backgroundStyle),{cursor:"auto"})})}},H.prototype.updateSize=function(E){this.setState({width:E.width,height:E.height})},H.prototype.renderResizer=function(){var E=this,T=this.props,Q=T.enable,le=T.handleStyles,We=T.handleClasses,st=T.handleWrapperStyle,Qe=T.handleWrapperClass,be=T.handleComponent;if(!Q)return null;var Y=Object.keys(Q).map(function(ie){return Q[ie]!==!1?S.createElement(mt,{key:ie,direction:ie,onResizeStart:E.onResizeStart,replaceStyles:le&&le[ie],className:We&&We[ie]},be&&be[ie]?be[ie]:null):null});return S.createElement("div",{className:Qe,style:st},Y)},H.prototype.render=function(){var E=this,T=Object.keys(this.props).reduce(function(We,st){return An.indexOf(st)!==-1||(We[st]=E.props[st]),We},{}),Q=ee(ee(ee({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(Q.flexBasis=this.state.flexBasis);var le=this.props.as||"div";return S.createElement(le,ee({ref:this.ref,style:Q,className:this.props.className},T),this.state.isResizing&&S.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},H.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},H}(S.PureComponent),Ke=G(96522),ae=G(93251),nt=G(83047),Ae=G(49977),Oe=G(98399),Ce=G(11706),F=G(92896),K=G(84100),me,W,se,te,ge,Le,De,ye,ke,Te,Et,zt,_t,pt=(0,K.kc)(function(b,H){var E=b.token,T=(0,K.iv)(me||(me=(0,F.Z)([`
    position: relative;
    &::before {
      position: absolute;
      z-index: 50;
      transition: all 0.3s ease-in-out;
      content: '';
    }

    &:hover,
    &:active {
      &::before {
        background: `,`;
      }
    }
  `])),E.colorPrimary),Q=(0,K.iv)(W||(W=(0,F.Z)([`
    position: absolute;
    opacity: 0;
    z-index: 1001;
    transition: opacity 0.1s;

    border-radius: 4px;
    cursor: pointer;
    background: `,`;
    border-width: 1px;
    border-style: solid;
    color: `,`;
    border-color: `,`;

    &:hover {
      color: `,`;
      background: `,`;
    }
  `])),E.colorBgElevated,E.colorTextTertiary,E.colorBorder,E.colorTextSecondary,E.colorFillQuaternary),le=17,We=40,st=16;return{container:(0,K.cx)(H,(0,K.iv)(se||(se=(0,F.Z)([`
        flex-shrink: 0;
        position: relative;
        border: 0 solid `,`;

        &:hover {
          .`,`-toggle {
            opacity: 1;
          }
        }
      `])),E.colorSplit,H)),toggleLeft:(0,K.cx)("".concat(H,"-toggle"),"".concat(H,"-toggle-left"),Q,(0,K.iv)(te||(te=(0,F.Z)([`
        width: `,`px;
        height: `,`px;
        left: -`,`px;
        top: 50%;
        margin-top: -20px;
        border-radius: 4px 0 0 4px;
        border-right-width: 0;
      `])),st,We,le)),toggleRight:(0,K.cx)("".concat(H,"-toggle"),"".concat(H,"-toggle-right"),Q,(0,K.iv)(ge||(ge=(0,F.Z)([`
        width: `,`px;
        height: `,`px;
        right: -`,`px;
        top: 50%;
        margin-top: -20px;
        border-radius: 0 4px 4px 0;
        border-left-width: 0;
      `])),st,We,le)),toggleTop:(0,K.cx)("".concat(H,"-toggle"),"".concat(H,"-toggle-top"),Q,(0,K.iv)(Le||(Le=(0,F.Z)([`
        height: `,`px;
        width: `,`px;
        top: -`,`px;
        left: 50%;
        margin-left: -20px;
        border-radius: 4px 4px 0 0;
        border-bottom-width: 0;
      `])),st,We,le)),toggleBottom:(0,K.cx)("".concat(H,"-toggle"),"".concat(H,"-toggle-bottom"),Q,(0,K.iv)(De||(De=(0,F.Z)([`
        height: 16px;
        width: `,`px;
        bottom: -`,`px;
        left: 50%;
        margin-left: -20px;
        border-radius: 0 0 4px 4px;
        border-top-width: 0;
      `])),We,le)),fixed:(0,K.cx)("".concat(H,"-fixed"),(0,K.iv)(ye||(ye=(0,F.Z)([`
        background: `,`;
        overflow: hidden;
      `])),E.colorBgContainer)),float:(0,K.cx)("".concat(H,"-float"),(0,K.iv)(ke||(ke=(0,F.Z)([`
        overflow: hidden;
        border-radius: 8px;
        background: `,`;
        box-shadow: `,`;
        z-index: 2000;
      `])),E.colorBgElevated,E.boxShadowSecondary)),leftHandle:(0,K.cx)((0,K.iv)(Te||(Te=(0,F.Z)([`
        `,`;

        &::before {
          left: 50%;
          width: 2px;
          height: 100%;
        }
      `])),T),"".concat(H,"-left-handle")),rightHandle:(0,K.cx)((0,K.iv)(Et||(Et=(0,F.Z)([`
        `,`;
        &::before {
          right: 50%;
          width: 2px;
          height: 100%;
        }
      `])),T),"".concat(H,"-right-handle")),topHandle:(0,K.cx)("".concat(H,"-top-handle"),(0,K.iv)(zt||(zt=(0,F.Z)([`
        `,`;

        &::before {
          top: 50%;
          height: 2px;
          width: 100%;
        }
      `])),T)),bottomHandle:(0,K.cx)("".concat(H,"-bottom-handle"),(0,K.iv)(_t||(_t=(0,F.Z)([`
        `,`;

        &::before {
          bottom: 50%;
          height: 2px;
          width: 100%;
        }
      `])),T))}}),Ue=G(11527),yt=150,Vt=400,Rn=function(H){switch(H){case"bottom":return"top";case"top":return"bottom";case"right":return"left";case"left":return"right"}},Qt=(0,S.memo)(function(b){var H=b.children,E=b.placement,T=E===void 0?"right":E,Q=b.resize,le=b.style,We=b.size,st=b.defaultSize,Qe=b.minWidth,be=b.minHeight,Y=b.prefixCls,ie=b.onSizeChange,Ie=b.onSizeDragging,Ze=b.expandable,tt=Ze===void 0?!0:Ze,Zt=b.isExpand,Ft=b.onExpandChange,vt=b.className,dt=(0,B.k2)("draggable-panel",Y),Ct=T==="top"||T==="bottom",rn=pt(dt),zn=rn.styles,Jn=rn.cx,qn=(0,ae.Z)(!0,{value:Zt,onChange:Ft}),$n=(0,qe.Z)(qn,2),Qn=$n[0],_r=$n[1],En=Q!==!1&&Qn,cr=(0,S.useMemo)(function(){return En?(0,Ne.Z)({},Rn(T),zn["".concat(Rn(T),"Handle")]):{}},[En,T]),Nr=(0,D.Z)((0,Ne.Z)({top:!1,bottom:!1,right:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},Rn(T),!0),Q),yi=(0,S.useMemo)(function(){return Ct?(0,D.Z)({width:"100%",height:yt},st):(0,D.Z)({width:Vt,height:"100%"},st)},[Ct]),Wr=Qn?{minWidth:typeof Qe=="number"?Math.max(Qe,0):280,minHeight:typeof be=="number"?Math.max(be,0):void 0,defaultSize:yi,size:We,style:le}:{minWidth:0,minHeight:0,size:{width:0,height:0}},ho=(0,S.useMemo)(function(){switch(T){case"top":return{className:"Bottom",Arrow:nt.Z};case"bottom":return{className:"Top",Arrow:Ae.Z};case"right":return{className:"Left",Arrow:Oe.Z};case"left":return{className:"Right",Arrow:Ce.Z}}},[zn,T]),io=ho.Arrow,Ki=ho.className;return(0,Ue.jsxs)("div",{className:Jn(zn.container,vt),style:(0,Ne.Z)({},"border".concat(Ki,"Width"),1),children:[tt&&(0,Ue.jsx)(Ke.Z,{className:Jn(zn["toggle".concat(Ki)]),onClick:function(){_r(!Qn)},style:{opacity:Qn?void 0:1},children:(0,Ue.jsx)(io,{rotate:Qn?180:0})}),(0,Ue.jsx)(Me,(0,D.Z)((0,D.Z)({},Wr),{},{className:zn.fixed,enable:En?Nr:void 0,handleClasses:cr,onResizeStop:function(Co,Fi,Ti,hi){ie==null||ie(hi,{width:Ti.style.width,height:Ti.style.height})},onResize:function(Co,Fi,Ti,hi){Ie==null||Ie(hi,{width:Ti.style.width,height:Ti.style.height})},children:H}))]})}),In=G(74901),sn=G.n(In),dn=function(){var b=function(H,E){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,Q){T.__proto__=Q}||function(T,Q){for(var le in Q)Object.prototype.hasOwnProperty.call(Q,le)&&(T[le]=Q[le])},b(H,E)};return function(H,E){b(H,E);function T(){this.constructor=H}H.prototype=E===null?Object.create(E):(T.prototype=E.prototype,new T)}}(),Cr=function(){return Cr=Object.assign||function(b){for(var H,E=1,T=arguments.length;E<T;E++){H=arguments[E];for(var Q in H)Object.prototype.hasOwnProperty.call(H,Q)&&(b[Q]=H[Q])}return b},Cr.apply(this,arguments)},oi={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},Tt=function(b){dn(H,b);function H(){var E=b!==null&&b.apply(this,arguments)||this;return E.onMouseDown=function(T){E.props.onResizeStart(T,E.props.direction)},E.onTouchStart=function(T){E.props.onResizeStart(T,E.props.direction)},E}return H.prototype.render=function(){return S.createElement("div",{className:this.props.className||"",style:Cr(Cr({position:"absolute",userSelect:"none"},oi[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},H}(S.PureComponent),jt=G(69978),_n=G.n(jt),en=function(){var b=function(H,E){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,Q){T.__proto__=Q}||function(T,Q){for(var le in Q)Object.prototype.hasOwnProperty.call(Q,le)&&(T[le]=Q[le])},b(H,E)};return function(H,E){b(H,E);function T(){this.constructor=H}H.prototype=E===null?Object.create(E):(T.prototype=E.prototype,new T)}}(),Mn=function(){return Mn=Object.assign||function(b){for(var H,E=1,T=arguments.length;E<T;E++){H=arguments[E];for(var Q in H)Object.prototype.hasOwnProperty.call(H,Q)&&(b[Q]=H[Q])}return b},Mn.apply(this,arguments)},ur={width:"auto",height:"auto"},rr=_n()(function(b,H,E){return Math.max(Math.min(b,E),H)}),jr=_n()(function(b,H){return Math.round(b/H)*H}),Zn=_n()(function(b,H){return new RegExp(b,"i").test(H)}),ve=function(b){return Boolean(b.touches&&b.touches.length)},Xe=function(b){return Boolean((b.clientX||b.clientX===0)&&(b.clientY||b.clientY===0))},$e=_n()(function(b,H,E){E===void 0&&(E=0);var T=H.reduce(function(le,We,st){return Math.abs(We-b)<Math.abs(H[le]-b)?st:le},0),Q=Math.abs(H[T]-b);return E===0||Q<E?H[T]:b}),Ye=_n()(function(b,H){return b.substr(b.length-H.length,H.length)===H}),Pt=_n()(function(b){return b=b.toString(),b==="auto"||Ye(b,"px")||Ye(b,"%")||Ye(b,"vh")||Ye(b,"vw")||Ye(b,"vmax")||Ye(b,"vmin")?b:b+"px"}),Dn=function(b,H,E,T){if(b&&typeof b=="string"){if(Ye(b,"px"))return Number(b.replace("px",""));if(Ye(b,"%")){var Q=Number(b.replace("%",""))/100;return H*Q}if(Ye(b,"vw")){var Q=Number(b.replace("vw",""))/100;return E*Q}if(Ye(b,"vh")){var Q=Number(b.replace("vh",""))/100;return T*Q}}return b},bn=_n()(function(b,H,E,T,Q,le,We){return T=Dn(T,b.width,H,E),Q=Dn(Q,b.height,H,E),le=Dn(le,b.width,H,E),We=Dn(We,b.height,H,E),{maxWidth:typeof T=="undefined"?void 0:Number(T),maxHeight:typeof Q=="undefined"?void 0:Number(Q),minWidth:typeof le=="undefined"?void 0:Number(le),minHeight:typeof We=="undefined"?void 0:Number(We)}}),Nt=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],$t="__resizable_base__",lt=function(b){en(H,b);function H(E){var T=b.call(this,E)||this;return T.ratio=1,T.resizable=null,T.parentLeft=0,T.parentTop=0,T.resizableLeft=0,T.resizableRight=0,T.resizableTop=0,T.resizableBottom=0,T.targetLeft=0,T.targetTop=0,T.appendBase=function(){if(!T.resizable||!T.window)return null;var Q=T.parentNode;if(!Q)return null;var le=T.window.document.createElement("div");return le.style.width="100%",le.style.height="100%",le.style.position="absolute",le.style.transform="scale(0, 0)",le.style.left="0",le.style.flex="0 0 100%",le.classList?le.classList.add($t):le.className+=$t,Q.appendChild(le),le},T.removeBase=function(Q){var le=T.parentNode;le&&le.removeChild(Q)},T.ref=function(Q){Q&&(T.resizable=Q)},T.state={isResizing:!1,width:typeof(T.propsSize&&T.propsSize.width)=="undefined"?"auto":T.propsSize&&T.propsSize.width,height:typeof(T.propsSize&&T.propsSize.height)=="undefined"?"auto":T.propsSize&&T.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},T.onResizeStart=T.onResizeStart.bind(T),T.onMouseMove=T.onMouseMove.bind(T),T.onMouseUp=T.onMouseUp.bind(T),T}return Object.defineProperty(H.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||ur},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"size",{get:function(){var E=0,T=0;if(this.resizable&&this.window){var Q=this.resizable.offsetWidth,le=this.resizable.offsetHeight,We=this.resizable.style.position;We!=="relative"&&(this.resizable.style.position="relative"),E=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:Q,T=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:le,this.resizable.style.position=We}return{width:E,height:T}},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"sizeStyle",{get:function(){var E=this,T=this.props.size,Q=function(st){if(typeof E.state[st]=="undefined"||E.state[st]==="auto")return"auto";if(E.propsSize&&E.propsSize[st]&&Ye(E.propsSize[st].toString(),"%")){if(Ye(E.state[st].toString(),"%"))return E.state[st].toString();var Qe=E.getParentSize(),be=Number(E.state[st].toString().replace("px","")),Y=be/Qe[st]*100;return Y+"%"}return Pt(E.state[st])},le=T&&typeof T.width!="undefined"&&!this.state.isResizing?Pt(T.width):Q("width"),We=T&&typeof T.height!="undefined"&&!this.state.isResizing?Pt(T.height):Q("height");return{width:le,height:We}},enumerable:!1,configurable:!0}),H.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var E=this.appendBase();if(!E)return{width:0,height:0};var T=!1,Q=this.parentNode.style.flexWrap;Q!=="wrap"&&(T=!0,this.parentNode.style.flexWrap="wrap"),E.style.position="relative",E.style.minWidth="100%",E.style.minHeight="100%";var le={width:E.offsetWidth,height:E.offsetHeight};return T&&(this.parentNode.style.flexWrap=Q),this.removeBase(E),le},H.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},H.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},H.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var E=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:E.flexBasis!=="auto"?E.flexBasis:void 0})}},H.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},H.prototype.createSizeForCssProperty=function(E,T){var Q=this.propsSize&&this.propsSize[T];return this.state[T]==="auto"&&this.state.original[T]===E&&(typeof Q=="undefined"||Q==="auto")?"auto":E},H.prototype.calculateNewMaxFromBoundary=function(E,T){var Q=this.props.boundsByDirection,le=this.state.direction,We=Q&&Zn("left",le),st=Q&&Zn("top",le),Qe,be;if(this.props.bounds==="parent"){var Y=this.parentNode;Y&&(Qe=We?this.resizableRight-this.parentLeft:Y.offsetWidth+(this.parentLeft-this.resizableLeft),be=st?this.resizableBottom-this.parentTop:Y.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(Qe=We?this.resizableRight:this.window.innerWidth-this.resizableLeft,be=st?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(Qe=We?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),be=st?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return Qe&&Number.isFinite(Qe)&&(E=E&&E<Qe?E:Qe),be&&Number.isFinite(be)&&(T=T&&T<be?T:be),{maxWidth:E,maxHeight:T}},H.prototype.calculateNewSizeFromDirection=function(E,T){var Q=this.props.scale||1,le=this.props.resizeRatio||1,We=this.state,st=We.direction,Qe=We.original,be=this.props,Y=be.lockAspectRatio,ie=be.lockAspectRatioExtraHeight,Ie=be.lockAspectRatioExtraWidth,Ze=Qe.width,tt=Qe.height,Zt=ie||0,Ft=Ie||0;return Zn("right",st)&&(Ze=Qe.width+(E-Qe.x)*le/Q,Y&&(tt=(Ze-Ft)/this.ratio+Zt)),Zn("left",st)&&(Ze=Qe.width-(E-Qe.x)*le/Q,Y&&(tt=(Ze-Ft)/this.ratio+Zt)),Zn("bottom",st)&&(tt=Qe.height+(T-Qe.y)*le/Q,Y&&(Ze=(tt-Zt)*this.ratio+Ft)),Zn("top",st)&&(tt=Qe.height-(T-Qe.y)*le/Q,Y&&(Ze=(tt-Zt)*this.ratio+Ft)),{newWidth:Ze,newHeight:tt}},H.prototype.calculateNewSizeFromAspectRatio=function(E,T,Q,le){var We=this.props,st=We.lockAspectRatio,Qe=We.lockAspectRatioExtraHeight,be=We.lockAspectRatioExtraWidth,Y=typeof le.width=="undefined"?10:le.width,ie=typeof Q.width=="undefined"||Q.width<0?E:Q.width,Ie=typeof le.height=="undefined"?10:le.height,Ze=typeof Q.height=="undefined"||Q.height<0?T:Q.height,tt=Qe||0,Zt=be||0;if(st){var Ft=(Ie-tt)*this.ratio+Zt,vt=(Ze-tt)*this.ratio+Zt,dt=(Y-Zt)/this.ratio+tt,Ct=(ie-Zt)/this.ratio+tt,rn=Math.max(Y,Ft),zn=Math.min(ie,vt),Jn=Math.max(Ie,dt),qn=Math.min(Ze,Ct);E=rr(E,rn,zn),T=rr(T,Jn,qn)}else E=rr(E,Y,ie),T=rr(T,Ie,Ze);return{newWidth:E,newHeight:T}},H.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var E=this.parentNode;if(E){var T=E.getBoundingClientRect();this.parentLeft=T.left,this.parentTop=T.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var Q=this.props.bounds.getBoundingClientRect();this.targetLeft=Q.left,this.targetTop=Q.top}if(this.resizable){var le=this.resizable.getBoundingClientRect(),We=le.left,st=le.top,Qe=le.right,be=le.bottom;this.resizableLeft=We,this.resizableRight=Qe,this.resizableTop=st,this.resizableBottom=be}},H.prototype.onResizeStart=function(E,T){if(!(!this.resizable||!this.window)){var Q=0,le=0;if(E.nativeEvent&&Xe(E.nativeEvent)?(Q=E.nativeEvent.clientX,le=E.nativeEvent.clientY):E.nativeEvent&&ve(E.nativeEvent)&&(Q=E.nativeEvent.touches[0].clientX,le=E.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var We=this.props.onResizeStart(E,T,this.resizable);if(We===!1)return}this.props.size&&(typeof this.props.size.height!="undefined"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width!="undefined"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var st,Qe=this.window.getComputedStyle(this.resizable);if(Qe.flexBasis!=="auto"){var be=this.parentNode;if(be){var Y=this.window.getComputedStyle(be).flexDirection;this.flexDir=Y.startsWith("row")?"row":"column",st=Qe.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var ie={original:{x:Q,y:le,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Mn(Mn({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(E.target).cursor||"auto"}),direction:T,flexBasis:st};this.setState(ie)}},H.prototype.onMouseMove=function(E){if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&ve(E))try{E.preventDefault(),E.stopPropagation()}catch(yi){}var T=this.props,Q=T.maxWidth,le=T.maxHeight,We=T.minWidth,st=T.minHeight,Qe=ve(E)?E.touches[0].clientX:E.clientX,be=ve(E)?E.touches[0].clientY:E.clientY,Y=this.state,ie=Y.direction,Ie=Y.original,Ze=Y.width,tt=Y.height,Zt=this.getParentSize(),Ft=bn(Zt,this.window.innerWidth,this.window.innerHeight,Q,le,We,st);Q=Ft.maxWidth,le=Ft.maxHeight,We=Ft.minWidth,st=Ft.minHeight;var vt=this.calculateNewSizeFromDirection(Qe,be),dt=vt.newHeight,Ct=vt.newWidth,rn=this.calculateNewMaxFromBoundary(Q,le);this.props.snap&&this.props.snap.x&&(Ct=$e(Ct,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(dt=$e(dt,this.props.snap.y,this.props.snapGap));var zn=this.calculateNewSizeFromAspectRatio(Ct,dt,{width:rn.maxWidth,height:rn.maxHeight},{width:We,height:st});if(Ct=zn.newWidth,dt=zn.newHeight,this.props.grid){var Jn=jr(Ct,this.props.grid[0]),qn=jr(dt,this.props.grid[1]),$n=this.props.snapGap||0;Ct=$n===0||Math.abs(Jn-Ct)<=$n?Jn:Ct,dt=$n===0||Math.abs(qn-dt)<=$n?qn:dt}var Qn={width:Ct-Ie.width,height:dt-Ie.height};if(Ze&&typeof Ze=="string"){if(Ye(Ze,"%")){var _r=Ct/Zt.width*100;Ct=_r+"%"}else if(Ye(Ze,"vw")){var En=Ct/this.window.innerWidth*100;Ct=En+"vw"}else if(Ye(Ze,"vh")){var cr=Ct/this.window.innerHeight*100;Ct=cr+"vh"}}if(tt&&typeof tt=="string"){if(Ye(tt,"%")){var _r=dt/Zt.height*100;dt=_r+"%"}else if(Ye(tt,"vw")){var En=dt/this.window.innerWidth*100;dt=En+"vw"}else if(Ye(tt,"vh")){var cr=dt/this.window.innerHeight*100;dt=cr+"vh"}}var Nr={width:this.createSizeForCssProperty(Ct,"width"),height:this.createSizeForCssProperty(dt,"height")};this.flexDir==="row"?Nr.flexBasis=Nr.width:this.flexDir==="column"&&(Nr.flexBasis=Nr.height),this.setState(Nr),this.props.onResize&&this.props.onResize(E,ie,this.resizable,Qn)}},H.prototype.onMouseUp=function(E){var T=this.state,Q=T.isResizing,le=T.direction,We=T.original;if(!(!Q||!this.resizable)){var st={width:this.size.width-We.width,height:this.size.height-We.height};this.props.onResizeStop&&this.props.onResizeStop(E,le,this.resizable,st),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Mn(Mn({},this.state.backgroundStyle),{cursor:"auto"})})}},H.prototype.updateSize=function(E){this.setState({width:E.width,height:E.height})},H.prototype.renderResizer=function(){var E=this,T=this.props,Q=T.enable,le=T.handleStyles,We=T.handleClasses,st=T.handleWrapperStyle,Qe=T.handleWrapperClass,be=T.handleComponent;if(!Q)return null;var Y=Object.keys(Q).map(function(ie){return Q[ie]!==!1?S.createElement(Tt,{key:ie,direction:ie,onResizeStart:E.onResizeStart,replaceStyles:le&&le[ie],className:We&&We[ie]},be&&be[ie]?be[ie]:null):null});return S.createElement("div",{className:Qe,style:st},Y)},H.prototype.render=function(){var E=this,T=Object.keys(this.props).reduce(function(We,st){return Nt.indexOf(st)!==-1||(We[st]=E.props[st]),We},{}),Q=Mn(Mn(Mn({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(Q.flexBasis=this.state.flexBasis);var le=this.props.as||"div";return S.createElement(le,Mn({ref:this.ref,style:Q,className:this.props.className},T),this.state.isResizing&&S.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},H.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},H}(S.PureComponent);var oe=function(b,H){return oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,T){E.__proto__=T}||function(E,T){for(var Q in T)T.hasOwnProperty(Q)&&(E[Q]=T[Q])},oe(b,H)};function Ge(b,H){oe(b,H);function E(){this.constructor=b}b.prototype=H===null?Object.create(H):(E.prototype=H.prototype,new E)}var Rt=function(){return Rt=Object.assign||function(H){for(var E,T=1,Q=arguments.length;T<Q;T++){E=arguments[T];for(var le in E)Object.prototype.hasOwnProperty.call(E,le)&&(H[le]=E[le])}return H},Rt.apply(this,arguments)};function an(b,H){var E={};for(var T in b)Object.prototype.hasOwnProperty.call(b,T)&&H.indexOf(T)<0&&(E[T]=b[T]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Q=0,T=Object.getOwnPropertySymbols(b);Q<T.length;Q++)H.indexOf(T[Q])<0&&Object.prototype.propertyIsEnumerable.call(b,T[Q])&&(E[T[Q]]=b[T[Q]]);return E}var jn=sn(),pr={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},Lr=function(b){return{bottom:b,bottomLeft:b,bottomRight:b,left:b,right:b,top:b,topLeft:b,topRight:b}},xi=function(b){Ge(H,b);function H(E){var T=b.call(this,E)||this;return T.resizingPosition={x:0,y:0},T.offsetFromParent={left:0,top:0},T.resizableElement={current:null},T.originalPosition={x:0,y:0},T.refDraggable=function(Q){Q&&(T.draggable=Q)},T.refResizable=function(Q){Q&&(T.resizable=Q,T.resizableElement.current=Q.resizable)},T.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:E.maxWidth,maxHeight:E.maxHeight},T.onResizeStart=T.onResizeStart.bind(T),T.onResize=T.onResize.bind(T),T.onResizeStop=T.onResizeStop.bind(T),T.onDragStart=T.onDragStart.bind(T),T.onDrag=T.onDrag.bind(T),T.onDragStop=T.onDragStop.bind(T),T.getMaxSizesFromProps=T.getMaxSizesFromProps.bind(T),T}return H.prototype.componentDidMount=function(){this.updateOffsetFromParent();var E=this.offsetFromParent,T=E.left,Q=E.top,le=this.getDraggablePosition(),We=le.x,st=le.y;this.draggable.setState({x:We-T,y:st-Q}),this.forceUpdate()},H.prototype.getDraggablePosition=function(){var E=this.draggable.state,T=E.x,Q=E.y;return{x:T,y:Q}},H.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},H.prototype.getParentSize=function(){return this.resizable.getParentSize()},H.prototype.getMaxSizesFromProps=function(){var E=typeof this.props.maxWidth=="undefined"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,T=typeof this.props.maxHeight=="undefined"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:E,maxHeight:T}},H.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},H.prototype.getOffsetHeight=function(E){var T=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/T;case"body":return document.body.offsetHeight/T;default:return E.offsetHeight}},H.prototype.getOffsetWidth=function(E){var T=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/T;case"body":return document.body.offsetWidth/T;default:return E.offsetWidth}},H.prototype.onDragStart=function(E,T){this.props.onDragStart&&this.props.onDragStart(E,T);var Q=this.getDraggablePosition();if(this.originalPosition=Q,!!this.props.bounds){var le=this.getParent(),We=this.props.scale,st;if(this.props.bounds==="parent")st=le;else if(this.props.bounds==="body"){var Qe=le.getBoundingClientRect(),be=Qe.left,Y=Qe.top,ie=document.body.getBoundingClientRect(),Ie=-(be-le.offsetLeft*We-ie.left)/We,Ze=-(Y-le.offsetTop*We-ie.top)/We,tt=(document.body.offsetWidth-this.resizable.size.width*We)/We+Ie,Zt=(document.body.offsetHeight-this.resizable.size.height*We)/We+Ze;return this.setState({bounds:{top:Ze,right:tt,bottom:Zt,left:Ie}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var Ft=le.getBoundingClientRect(),vt=Ft.left,dt=Ft.top,Ct=-(vt-le.offsetLeft*We)/We,rn=-(dt-le.offsetTop*We)/We,tt=(window.innerWidth-this.resizable.size.width*We)/We+Ct,Zt=(window.innerHeight-this.resizable.size.height*We)/We+rn;return this.setState({bounds:{top:rn,right:tt,bottom:Zt,left:Ct}})}else typeof this.props.bounds=="string"?st=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(st=this.props.bounds);if(!(!(st instanceof HTMLElement)||!(le instanceof HTMLElement))){var zn=st.getBoundingClientRect(),Jn=zn.left,qn=zn.top,$n=le.getBoundingClientRect(),Qn=$n.left,_r=$n.top,En=(Jn-Qn)/We,cr=qn-_r;if(this.resizable){this.updateOffsetFromParent();var Nr=this.offsetFromParent;this.setState({bounds:{top:cr-Nr.top,right:En+(st.offsetWidth-this.resizable.size.width)-Nr.left/We,bottom:cr+(st.offsetHeight-this.resizable.size.height)-Nr.top,left:En-Nr.left/We}})}}}},H.prototype.onDrag=function(E,T){if(this.props.onDrag){var Q=this.offsetFromParent,le=Q.left,We=Q.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(E,Rt(Rt({},T),{x:T.x-le,y:T.y-We}));if(this.props.dragAxis==="x")return this.props.onDrag(E,Rt(Rt({},T),{x:T.x+le,y:this.originalPosition.y+We,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(E,Rt(Rt({},T),{x:this.originalPosition.x+le,y:T.y+We,deltaX:0}))}},H.prototype.onDragStop=function(E,T){if(this.props.onDragStop){var Q=this.offsetFromParent,le=Q.left,We=Q.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(E,Rt(Rt({},T),{x:T.x+le,y:T.y+We}));if(this.props.dragAxis==="x")return this.props.onDragStop(E,Rt(Rt({},T),{x:T.x+le,y:this.originalPosition.y+We,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(E,Rt(Rt({},T),{x:this.originalPosition.x+le,y:T.y+We,deltaX:0}))}},H.prototype.onResizeStart=function(E,T,Q){E.stopPropagation(),this.setState({resizing:!0});var le=this.props.scale,We=this.offsetFromParent,st=this.getDraggablePosition();if(this.resizingPosition={x:st.x+We.left,y:st.y+We.top},this.originalPosition=st,this.props.bounds){var Qe=this.getParent(),be=void 0;this.props.bounds==="parent"?be=Qe:this.props.bounds==="body"?be=document.body:this.props.bounds==="window"?be=window:typeof this.props.bounds=="string"?be=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(be=this.props.bounds);var Y=this.getSelfElement();if(Y instanceof Element&&(be instanceof HTMLElement||be===window)&&Qe instanceof HTMLElement){var ie=this.getMaxSizesFromProps(),Ie=ie.maxWidth,Ze=ie.maxHeight,tt=this.getParentSize();if(Ie&&typeof Ie=="string")if(Ie.endsWith("%")){var Zt=Number(Ie.replace("%",""))/100;Ie=tt.width*Zt}else Ie.endsWith("px")&&(Ie=Number(Ie.replace("px","")));if(Ze&&typeof Ze=="string")if(Ze.endsWith("%")){var Zt=Number(Ze.replace("%",""))/100;Ze=tt.width*Zt}else Ze.endsWith("px")&&(Ze=Number(Ze.replace("px","")));var Ft=Y.getBoundingClientRect(),vt=Ft.left,dt=Ft.top,Ct=this.props.bounds==="window"?{left:0,top:0}:be.getBoundingClientRect(),rn=Ct.left,zn=Ct.top,Jn=this.getOffsetWidth(be),qn=this.getOffsetHeight(be),$n=T.toLowerCase().endsWith("left"),Qn=T.toLowerCase().endsWith("right"),_r=T.startsWith("top"),En=T.startsWith("bottom");if(($n||_r)&&this.resizable){var cr=(vt-rn)/le+this.resizable.size.width;this.setState({maxWidth:cr>Number(Ie)?Ie:cr})}if(Qn||this.props.lockAspectRatio&&!$n&&!_r){var cr=Jn+(rn-vt)/le;this.setState({maxWidth:cr>Number(Ie)?Ie:cr})}if((_r||$n)&&this.resizable){var cr=(dt-zn)/le+this.resizable.size.height;this.setState({maxHeight:cr>Number(Ze)?Ze:cr})}if(En||this.props.lockAspectRatio&&!_r&&!$n){var cr=qn+(zn-dt)/le;this.setState({maxHeight:cr>Number(Ze)?Ze:cr})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(E,T,Q)},H.prototype.onResize=function(E,T,Q,le){var We={x:this.originalPosition.x,y:this.originalPosition.y},st=-le.width,Qe=-le.height,be=["top","left","topLeft","bottomLeft","topRight"];be.indexOf(T)!==-1&&(T==="bottomLeft"?We.x+=st:(T==="topRight"||(We.x+=st),We.y+=Qe)),(We.x!==this.draggable.state.x||We.y!==this.draggable.state.y)&&this.draggable.setState(We),this.updateOffsetFromParent();var Y=this.offsetFromParent,ie=this.getDraggablePosition().x+Y.left,Ie=this.getDraggablePosition().y+Y.top;this.resizingPosition={x:ie,y:Ie},this.props.onResize&&this.props.onResize(E,T,Q,le,{x:ie,y:Ie})},H.prototype.onResizeStop=function(E,T,Q,le){this.setState({resizing:!1});var We=this.getMaxSizesFromProps(),st=We.maxWidth,Qe=We.maxHeight;this.setState({maxWidth:st,maxHeight:Qe}),this.props.onResizeStop&&this.props.onResizeStop(E,T,Q,le,this.resizingPosition)},H.prototype.updateSize=function(E){this.resizable&&this.resizable.updateSize({width:E.width,height:E.height})},H.prototype.updatePosition=function(E){this.draggable.setState(E)},H.prototype.updateOffsetFromParent=function(){var E=this.props.scale,T=this.getParent(),Q=this.getSelfElement();if(!T||Q===null)return{top:0,left:0};var le=T.getBoundingClientRect(),We=le.left,st=le.top,Qe=Q.getBoundingClientRect(),be=this.getDraggablePosition(),Y=T.scrollLeft,ie=T.scrollTop;this.offsetFromParent={left:Qe.left-We+Y-be.x*E,top:Qe.top-st+ie-be.y*E}},H.prototype.render=function(){var E=this.props,T=E.disableDragging,Q=E.style,le=E.dragHandleClassName,We=E.position,st=E.onMouseDown,Qe=E.onMouseUp,be=E.dragAxis,Y=E.dragGrid,ie=E.bounds,Ie=E.enableUserSelectHack,Ze=E.cancel,tt=E.children,Zt=E.onResizeStart,Ft=E.onResize,vt=E.onResizeStop,dt=E.onDragStart,Ct=E.onDrag,rn=E.onDragStop,zn=E.resizeHandleStyles,Jn=E.resizeHandleClasses,qn=E.resizeHandleComponent,$n=E.enableResizing,Qn=E.resizeGrid,_r=E.resizeHandleWrapperClass,En=E.resizeHandleWrapperStyle,cr=E.scale,Nr=E.allowAnyClick,yi=an(E,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),Wr=this.props.default?Rt({},this.props.default):void 0;delete yi.default;var ho=T||le?{cursor:"auto"}:{cursor:"move"},io=Rt(Rt(Rt({},pr),ho),Q),Ki=this.offsetFromParent,Di=Ki.left,Co=Ki.top,Fi;We&&(Fi={x:We.x-Di,y:We.y-Co});var Ti=this.state.resizing?void 0:Fi,hi=this.state.resizing?"both":be;return(0,S.createElement)(jn,{ref:this.refDraggable,handle:le?".".concat(le):void 0,defaultPosition:Wr,onMouseDown:st,onMouseUp:Qe,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:hi,disabled:T,grid:Y,bounds:ie?this.state.bounds:void 0,position:Ti,enableUserSelectHack:Ie,cancel:Ze,scale:cr,allowAnyClick:Nr,nodeRef:this.resizableElement},(0,S.createElement)(lt,Rt({},yi,{ref:this.refResizable,defaultSize:Wr,size:this.props.size,enable:typeof $n=="boolean"?Lr($n):$n,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:io,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:Qn,handleWrapperClass:_r,handleWrapperStyle:En,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:zn,handleClasses:Jn,handleComponent:qn,scale:this.props.scale}),tt))},H.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},H}(S.PureComponent),Qr=300,ei=400,ti=(0,S.memo)(function(b){var H=b.children,E=b.direction,T=b.resize,Q=b.style,le=b.position,We=b.onPositionChange,st=b.size,Qe=b.defaultSize,be=b.defaultPosition,Y=b.minWidth,ie=Y===void 0?280:Y,Ie=b.minHeight,Ze=Ie===void 0?200:Ie,tt=b.prefixCls,Zt=b.canResizing,Ft=pt(tt),vt=Ft.styles,dt=(0,S.useMemo)(function(){return Zt?{right:vt.rightHandle,left:vt.leftHandle,top:vt.topHandle,bottom:vt.bottomHandle}:{}},[Zt,E]),Ct=(0,S.useMemo)(function(){return Zt?T:(0,D.Z)({top:!0,bottom:!0,right:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},T)},[Zt,T]),rn=(0,D.Z)({width:ei,height:Qr},Qe),zn=(0,D.Z)({x:100,y:100},be),Jn={minWidth:Math.max(ie,0),minHeight:Math.max(Ze,0),defaultSize:rn,size:st,style:Q};return(0,Ue.jsx)(xi,(0,D.Z)((0,D.Z)({position:le,resizeHandleClasses:dt,default:(0,D.Z)((0,D.Z)({},zn),rn),onDragStop:function($n,Qn){We==null||We({x:Qn.x,y:Qn.y})},bound:"parent",enableResizing:Ct},Jn),{},{className:vt.float,children:H}))}),Yi=(0,S.memo)(function(b){var H=b.children,E=b.className,T=b.mode,Q=b.placement,le=b.resize,We=b.style,st=b.position,Qe=b.onPositionChange,be=b.size,Y=b.defaultSize,ie=b.defaultPosition,Ie=b.minWidth,Ze=b.minHeight,tt=b.prefixCls,Zt=b.onSizeChange,Ft=b.onSizeDragging,vt=b.expandable,dt=vt===void 0?!0:vt,Ct=b.isExpand,rn=b.onExpandChange,zn=(0,B.k2)("draggable-panel",tt);switch(T){case"fixed":default:return(0,Ue.jsx)(Qt,{prefixCls:zn,size:be,defaultSize:Y,onSizeDragging:Ft,onSizeChange:Zt,minHeight:Ze,minWidth:Ie,resize:le,onExpandChange:rn,expandable:dt,isExpand:Ct,className:E,placement:Q,style:We,children:H});case"float":return(0,Ue.jsx)(ti,{prefixCls:zn,defaultPosition:ie,position:st,onPositionChange:Qe,minHeight:Ze,minWidth:Ie,defaultSize:Y,size:be,onSizeDragging:Ft,onSizeChange:Zt,resize:le,canResizing:le!==!1,className:E,style:We,children:H})}})},9080:function(qt,je,G){"use strict";G.d(je,{c:function(){return Qe}});var S=G(14797),B=G(67725),D=G(50959),Ne=G(45474),qe=G(28257),xt=G(10422),de=G(84341);function Ot(be){return Y=>{let{transform:ie}=Y;return Yr(St({},ie),{x:Math.ceil(ie.x/be)*be,y:Math.ceil(ie.y/be)*be})}}const he=be=>{let{transform:Y}=be;return Yr(St({},Y),{y:0})};function Be(be,Y,ie){const Ie=St({},be);return Y.top+be.y<=ie.top?Ie.y=ie.top-Y.top:Y.bottom+be.y>=ie.top+ie.height&&(Ie.y=ie.top+ie.height-Y.bottom),Y.left+be.x<=ie.left?Ie.x=ie.left-Y.left:Y.right+be.x>=ie.left+ie.width&&(Ie.x=ie.left+ie.width-Y.right),Ie}const at=be=>{let{containerNodeRect:Y,draggingNodeRect:ie,transform:Ie}=be;return!ie||!Y?Ie:Be(Ie,ie,Y)},xe=be=>{let{draggingNodeRect:Y,transform:ie,scrollableAncestorRects:Ie}=be;const Ze=Ie[0];return!Y||!Ze?ie:Be(ie,Y,Ze)},mt=be=>{let{transform:Y}=be;return Yr(St({},Y),{x:0})},Lt=be=>{let{transform:Y,draggingNodeRect:ie,windowRect:Ie}=be;return!ie||!Ie?Y:Be(Y,ie,Ie)},ee=be=>{let{activatorEvent:Y,draggingNodeRect:ie,transform:Ie}=be;if(ie&&Y){const Ze=getEventCoordinates(Y);if(!Ze)return Ie;const tt=Ze.x-ie.left,Zt=Ze.y-ie.top;return Yr(St({},Ie),{x:Ie.x+tt-ie.width/2,y:Ie.y+Zt-ie.height/2})}return Ie};var Hn=G(59671),fn=G(5899),gn=G.n(fn),ot=G(84817);function At(be,Y){if(Object.is(be,Y))return!0;if(typeof be!="object"||be===null||typeof Y!="object"||Y===null)return!1;if(be instanceof Map&&Y instanceof Map){if(be.size!==Y.size)return!1;for(const[Ie,Ze]of be)if(!Object.is(Ze,Y.get(Ie)))return!1;return!0}if(be instanceof Set&&Y instanceof Set){if(be.size!==Y.size)return!1;for(const Ie of be)if(!Y.has(Ie))return!1;return!0}const ie=Object.keys(be);if(ie.length!==Object.keys(Y).length)return!1;for(let Ie=0;Ie<ie.length;Ie++)if(!Object.prototype.hasOwnProperty.call(Y,ie[Ie])||!Object.is(be[ie[Ie]],Y[ie[Ie]]))return!1;return!0}var vn=(be,Y)=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { shallow } from 'zustand/shallow'`."),At(be,Y)),Kt=G(2e4),Cn=G(84100),ln=G(87807),Wt=G(19068),An=G(84875),Yt=G.n(An),Me=G(67010),Ke=G(71481),ae=G(11527),nt=(0,ae.jsx)("svg",{viewBox:"0 0 20 20",width:"16",fill:"currentColor",children:(0,ae.jsx)("path",{d:"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z"})}),Ae=(0,ae.jsx)("svg",{width:"10",viewBox:"0 0 70 41",fill:"currentColor",children:(0,ae.jsx)("path",{d:"M30.76 39.2402C31.885 40.3638 33.41 40.995 35 40.995C36.59 40.995 38.115 40.3638 39.24 39.2402L68.24 10.2402C69.2998 9.10284 69.8768 7.59846 69.8494 6.04406C69.822 4.48965 69.1923 3.00657 68.093 1.90726C66.9937 0.807959 65.5106 0.178263 63.9562 0.150837C62.4018 0.123411 60.8974 0.700397 59.76 1.76024L35 26.5102L10.24 1.76024C9.10259 0.700397 7.59822 0.123411 6.04381 0.150837C4.4894 0.178263 3.00632 0.807959 1.90702 1.90726C0.807714 3.00657 0.178019 4.48965 0.150593 6.04406C0.123167 7.59846 0.700153 9.10284 1.75999 10.2402L30.76 39.2402Z"})}),Oe=function(Y){return _jsx(ActionIcon,_objectSpread({icon:Ae},Y))},Ce=function(Y){return(0,ae.jsx)(Ke.Z,(0,S.Z)({icon:nt},Y))},F=function(Y){return(0,ae.jsx)(Ke.Z,(0,S.Z)({icon:(0,ae.jsx)(Me.Z,{})},Y))},K=function(Y){return _jsx(ActionIcon,_objectSpread({icon:_jsx(EditFilled,{})},Y))},me=G(92896),W,se,te,ge,Le,De,ye,ke,Te,Et,zt,_t,pt="0 0 0 calc(1px / var(--scale-x, 1)) rgba(0, 0, 0, 0.05)",Ue="0 1px calc(3px / var(--scale-x, 1)) 0 rgba(0, 0, 0, 0.15)",yt="".concat(pt," ").concat(Ue),Vt=(0,Cn.F4)(W||(W=(0,me.Z)([`
	0% {
		box-shadow: var(--box-shadow);
		transform: scale(1);
	}
	100% {
		box-shadow: var(--box-shadow-picked-up);
		transform: scale(var(--scale));
	}
`]))),Rn=(0,Cn.F4)(se||(se=(0,me.Z)([`
	0% {
	  opacity: 0;
	}
	100% {
	  opacity: 1;
	}
`]))),Qt=(0,Cn.kc)(function(be,Y){var ie=be.css,Ie=be.cx,Ze=be.token,tt="".concat(Y);return{item:Ie("".concat(Y,"-item"),ie(te||(te=(0,me.Z)([`
        position: relative;
        display: flex;
        flex-grow: 1;
        align-items: center;
        justify-content: space-between;
        box-sizing: border-box;
        padding: 1px 0;
        color: `,`;
        font-size: 12px;
        white-space: nowrap;
        list-style: none;
        border-radius: 4px;
        outline: none;
        transform: scale(var(--scale, 1));
        transform-origin: 50% 50%;
        transition: box-shadow 200ms cubic-bezier(0.18, 0.67, 0.6, 1.22);
        -webkit-tap-highlight-color: transparent;

        &:focus-visible {
          box-shadow: 0 0 4px 1px #4c9ffe, `,`;
        }

        &:not(.`,`-item-withHandle) {
          cursor: grab;
          -webkit-user-select: none;
          user-select: none;
          touch-action: none;
        }

        &-dragging:not(.`,`-item-dragOverlay) {
          z-index: 0;
          opacity: var(--dragging-opacity, 0.5);

          &:focus {
            box-shadow: `,`;
          }
        }

        &:hover .`,`-item-actions {
          opacity: 1;
        }
      `])),Ze.colorTextSecondary,yt,tt,tt,yt,Y)),disabled:Ie("".concat(Y,"-item-disabled"),ie(ge||(ge=(0,me.Z)([`
        color: #999;
        background-color: #f1f1f1;
        cursor: not-allowed;
        &:focus {
          box-shadow: 0 0 4px 1px rgba(0, 0, 0, 0.1), `,`;
        }
      `])),yt)),dragOverlay:Ie("".concat(Y,"-item-dragOverlay"),ie(Le||(Le=(0,me.Z)([`
        padding: 4px 0;
        background-color: `,`;
        border: none;
        box-shadow: var(--box-shadow-picked-up);
        transform: scale(var(--scale));
        cursor: inherit;
        opacity: 1;

        /* box-shadow: 0 0px 6px 2px @focused-outline-color; */
        animation: `,` 200ms cubic-bezier(0.18, 0.67, 0.6, 1.22);
      `])),Ze.colorBgElevated,Vt)),wrapper:Ie("".concat(Y,"-item-wrapper"),ie(De||(De=(0,me.Z)([`
        display: flex;
        box-sizing: border-box;
        transform: translate3d(var(--translate-x, 0), var(--translate-y, 0), 0)
          scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1));
        transform-origin: 0 0;
        touch-action: manipulation;

        &:not(:last-child) {
          margin-bottom: 2px;
        }
      `])))),wrapperFadeIn:Ie("".concat(Y,"-item-wrapper-fadeIn"),ie(ye||(ye=(0,me.Z)([`
        animation: `,` 500ms ease;
      `])),Rn)),wrapperdragOverlay:Ie("".concat(Y,"-item-wrapper-dragOverlay"),ie(ke||(ke=(0,me.Z)([`
        --scale: 1.05;
        --box-shadow: `,`;
        --box-shadow-picked-up: `,`, -1px 0 15px 0 rgba(82, 82, 82, 0.01),
          0 15px 15px 0 rgba(82, 82, 82, 0.25);

        z-index: 999;
      `])),yt,pt)),actions:Ie("".concat(Y,"-item-actions"),ie(Te||(Te=(0,me.Z)([`
        z-index: 10;
        color: hsla(0, 0, 0, 0.45);
        opacity: 0;
      `])))),actionsLeft:Ie("".concat(Y,"-item-actions-left"),ie(Et||(Et=(0,me.Z)([`
        position: absolute;
        top: 0;
        left: 0;

        .studio-btn.studio-btn-sm.studio-btn-icon-only {
          width: 14px;
          height: 24px;
          > svg {
            width: 14px;
          }
        }
      `])))),actionsRight:Ie("".concat(Y,"-item-actions-right"),ie(zt||(zt=(0,me.Z)([`
        position: absolute;
        top: 1px;
        right: 1px;
        align-self: flex-end;
        overflow: hidden;
        border-radius: 1px;
        // \u91C7\u7528\u80CC\u666F\u6A21\u7CCA\u6765\u89E3\u51B3\u591A\u79CD\u80CC\u666F\u8272\u4E0B\u8986\u76D6\u5185\u5BB9\u7684\u95EE\u9898 TODO\uFF1AFireFox \u517C\u5BB9
        backdrop-filter: blur(5px);
        //background-image: linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, @bg-2 10%, @bg-2 100%);

        .tech-studio-actionicon-icon {
          height: 22px;
        }
      `])))),content:Ie("".concat(Y,"-item-content"),ie(_t||(_t=(0,me.Z)([`
        position: relative;
        width: 100%;
      `]))))}}),In=["color","dragOverlay","dragging","disabled","fadeIn","handle","index","listeners","onRemove","hideRemove","compact","children","sorting","style","transition","transform","id","className","actions","prefixCls"],sn=(0,D.memo)((0,D.forwardRef)(function(be,Y){var ie,Ie,Ze=be.color,tt=be.dragOverlay,Zt=be.dragging,Ft=be.disabled,vt=be.fadeIn,dt=be.handle,Ct=dt===void 0?!0:dt,rn=be.index,zn=be.listeners,Jn=be.onRemove,qn=be.hideRemove,$n=qn===void 0?!1:qn,Qn=be.compact,_r=Qn===void 0?!1:Qn,En=be.children,cr=be.sorting,Nr=be.style,yi=be.transition,Wr=be.transform,ho=be.id,io=be.className,Ki=be.actions,Di=be.prefixCls,Co=(0,B.Z)(be,In),Fi=(0,Wt.S)(),Ti=Qt(Di),hi=Ti.styles,xo=Yt()("".concat(Di,"-item"));return(0,D.useEffect)(function(){if(tt)return document.body.style.cursor="grabbing",function(){document.body.style.cursor=""}},[tt]),(0,ae.jsx)("li",{className:Yt()(hi.wrapper,io,(ie={},(0,ln.Z)(ie,hi.wrapperFadeIn,vt),(0,ln.Z)(ie,"".concat(xo,"-wrapper-sorting"),cr),(0,ln.Z)(ie,hi.wrapperdragOverlay,tt),ie)),style:{transition:yi,"--translate-x":Wr?"".concat(Math.round(Wr.x),"px"):void 0,"--translate-y":Wr?"".concat(Math.round(Wr.y),"px"):void 0,"--scale-x":Wr!=null&&Wr.scaleX?"".concat(Wr.scaleX):void 0,"--scale-y":Wr!=null&&Wr.scaleY?"".concat(Wr.scaleY):void 0,"--index":rn,"--color":Ze},"data-testid":"list-item",ref:Y,children:(0,ae.jsx)("div",(0,S.Z)((0,S.Z)((0,S.Z)({className:Yt()(hi.item,(Ie={},(0,ln.Z)(Ie,"".concat(xo,"-dragging"),Zt),(0,ln.Z)(Ie,"".concat(xo,"-withHandle"),Ct),(0,ln.Z)(Ie,hi.dragOverlay,tt),(0,ln.Z)(Ie,hi.disabled,Ft),(0,ln.Z)(Ie,"".concat(xo,"-discolorabled"),Ze),Ie)),style:(0,S.Z)((0,S.Z)({},Nr),{},{backgroundColor:_r?void 0:Fi.colorBgContainer}),"data-cypress":"draggable-item"},Ct?void 0:zn),Co),{},{tabIndex:Ct?void 0:0,children:(0,ae.jsxs)(ot.D,{className:hi.content,direction:"horizontal",align:"center",children:[(0,ae.jsx)(ot.D,{className:Yt()(hi.actionsLeft,hi.actions),direction:"horizontal",children:Ct?(0,ae.jsx)(Ce,(0,S.Z)({tabIndex:-1,cursor:"grab","data-cypress":"draggable-handle",style:_r?void 0:{position:"absolute",left:"-13px"}},zn)):null}),En,(0,ae.jsxs)(ot.D,{className:Yt()(hi.actions,_r?hi.actionsRight:void 0),direction:"horizontal",children:[Ki,$n?null:(0,ae.jsx)(F,{tabIndex:-1,onClick:Jn,style:{height:22}})]})]})}))},ho)})),dn=sn,Cr=G(75085),oi=function(Y){return{activeId:Y.activeId,compact:Y.compact,renderContent:Y.renderContent,getActiveIndex:Y.getActiveIndex}},Tt=function(Y){var ie=Y.prefixCls,Ie=(0,Cr.oR)(oi,At),Ze=Ie.activeId,tt=Ie.compact,Zt=Ie.renderContent,Ft=Ie.getActiveIndex,vt=(0,Cr.oR)(function(Ct){return Ct.value},gn()),dt=Ft();return(0,ae.jsx)(qe.y9,{adjustScale:!1,dropAnimation:(0,S.Z)((0,S.Z)({},qe.RJ),{},{sideEffects:(0,qe.Ai)({styles:{active:{opacity:"0.5"}}})}),children:Ze?(0,ae.jsx)(dn,{id:Ze,dragOverlay:!0,prefixCls:ie,compact:tt,children:Zt(vt[dt],dt)}):null})},jt=(0,D.memo)(Tt),_n=G(17079),en=(0,Cn.kc)(function(be,Y){var ie=Y.prefixCls,Ie=Y.horizontal;return{container:(0,Cn.cx)("".concat(ie,"-container"),(0,Cn.iv)({listStyle:"none",display:"grid",gridAutoRows:"max-content",gridGap:"2px",gridTemplateColumns:"repeat(var(--columns, 1), 1fr)",width:"100%",margin:"0",padding:"0",borderRadius:"4px",transition:"background-color 350ms ease",gridAutoFlow:Ie?"column":void 0}))}}),Mn=(0,D.forwardRef)(function(be,Y){var ie=be.children,Ie=be.columns,Ze=Ie===void 0?1:Ie,tt=be.horizontal,Zt=be.style,Ft=be.className,vt=be.prefixCls,dt=en({prefixCls:vt,horizontal:tt}),Ct=dt.styles,rn=Yt()(Ct.container,Ft);return(0,ae.jsx)("ul",{ref:Y,style:(0,S.Z)((0,S.Z)({},Zt),{},{"--columns":Ze}),className:rn,children:ie})}),ur=Mn;function rr(be){var Y=be.disabled,ie=be.id,Ie=be.index,Ze=be.actions,tt=be.onRemove,Zt=be.useDragOverlay,Ft=Zt===void 0?!0:Zt,vt=be.children,dt=be.prefixCls,Ct=be.hideRemove,rn=Ct===void 0?!1:Ct,zn=be.compact,Jn=zn===void 0?!1:zn,qn=(0,Hn.nB)({id:ie,disabled:Y}),$n=qn.attributes,Qn=qn.isDragging,_r=qn.isSorting,En=qn.listeners,cr=qn.setNodeRef,Nr=qn.transform,yi=qn.transition;return(0,ae.jsx)(dn,(0,S.Z)((0,S.Z)({ref:cr,id:ie,disabled:Y,dragging:Qn,sorting:_r,compact:Jn,hideRemove:rn,index:Ie,actions:Ze,onRemove:tt?function(){return tt(Ie)}:void 0,transform:Nr,transition:!Ft&&Qn?"none":yi,listeners:En,"data-index":Ie,"data-id":ie,dragOverlay:!Ft&&Qn,prefixCls:dt},$n),{},{children:vt}),ie)}var jr=G(55865),Zn=G(59892),ve=G(52380),Xe=G(86033),$e,Ye,Pt,Dn,bn,Nt,$t,lt,oe,Ge,Rt,an=function(Y){var ie=Y.token,Ie=Y.css,Ze=Ie($e||($e=(0,me.Z)([`
    cursor: pointer;
    transition: 150ms background-color ease-in-out;
    &:hover {
      background: `,`;
    }
  `])),ie.colorFillQuaternary),tt=Ie(Ye||(Ye=(0,me.Z)([`
    color: `,`;
    background-color: `,`;
    border-color: transparent;
  `])),ie.colorText,ie.colorFillTertiary),Zt=Ie(Pt||(Pt=(0,me.Z)([`
    color: `,` !important;
    background-color: `,` !important;
    border-color: `,` !important;
    box-shadow: none;
  `])),ie.colorText,ie.colorFillQuaternary,ie.colorPrimary),Ft=Ie(Dn||(Dn=(0,me.Z)([`
    color: `,`;
    background: `,`;
    border-color: transparent;
  `])),ie.colorTextSecondary,ie.colorFillQuaternary);return{defaultButton:Ie(bn||(bn=(0,me.Z)([`
      `,`;

      &:hover {
        color: `,` !important;
        background: `,` !important;
        border-color: transparent !important;
      }
      &:focus {
        `,`;
        border-color: `,` !important;
      }
    `])),Ft,ie.colorText,ie.colorFillSecondary,Ft,ie.colorPrimary),textInfo:Ie(Nt||(Nt=(0,me.Z)([`
      color: `,`;
      &:hover {
        color: `,`;
      }
    `])),ie.colorTextSecondary,ie.colorText),textDefault:Ie($t||($t=(0,me.Z)([`
      color: `,`;
    `])),ie.colorTextSecondary),containerBgHover:Ie(lt||(lt=(0,me.Z)([`
      cursor: pointer;
      transition: 150ms background-color ease-in-out;

      &:hover {
        background: `,`;
      }
    `])),ie.colorFillQuaternary),containerBgL2:Ie(oe||(oe=(0,me.Z)([`
      `,`;
      border-radius: 4px;
      background: `,`;

      &:hover {
        background: `,`;
      }
    `])),Ze,ie.colorFillQuaternary,ie.colorFillTertiary),controlContainerFocused:Zt,controlContainer:Ie(Ge||(Ge=(0,me.Z)([`
      &:hover {
        `,`
      }
      &:focus {
        `,`
      }
    `])),tt,Zt),backgroundBlur:Ie(Rt||(Rt=(0,me.Z)([`
      background: `,`;
      backdrop-filter: blur(10px);
    `])),(0,Xe.DZ)(.4)(ie.colorBgElevated))}},jn,pr=(0,Cn.kc)(function(be,Y){var ie=be.token,Ie=be.css,Ze=an(be);return{btnAdd:(0,Cn.cx)("".concat(Y,"-btn-add"),Ie(jn||(jn=(0,me.Z)([`
        height: 24px;
        padding-block: 2px;
        margin-top: `,`px;
      `])),ie.marginXXS),Ze.defaultButton)}}),Lr=function(Y){return{renderContent:Y.renderContent,compact:Y.compact,hideRemove:Y.hideRemove,creatorButtonProps:Y.creatorButtonProps,dispatchListData:Y.dispatchListData}},xi=function(Y){var ie=Y.prefixCls,Ie=(0,Cr.oR)(Lr,At),Ze=Ie.dispatchListData,tt=Ie.renderContent,Zt=Ie.compact,Ft=Ie.hideRemove,vt=(0,Cr.oR)(function(Ki){return[Ki.value,Ki.keyManager,Ki.creatorButtonProps,Ki.actions]},gn()),dt=(0,_n.Z)(vt,4),Ct=dt[0],rn=dt[1],zn=dt[2],Jn=dt[3],qn=zn||{},$n=qn.record,Qn=qn.creatorButtonText,_r=Qn===void 0?"\u6DFB\u52A0\u4E00\u5217":Qn,En=qn.showInList,cr=En===void 0?!0:En,Nr=qn.showInEmpty,yi=Nr===void 0?!0:Nr,Wr=pr(ie),ho=Wr.styles,io=function(Di){var Co=Di.empty,Fi=Co===void 0?!1:Co;return(0,ae.jsx)(Zn.ZP,{block:!Fi,size:"small",className:ho.btnAdd,onClick:function(){var hi=(0,S.Z)({},$n&&typeof $n=="function"?$n(Ct.length):$n);Ze({type:"addItem",item:hi})},icon:(0,ae.jsx)(jr.Z,{}),children:_r})};return(0,ae.jsx)(ae.Fragment,{children:Array.isArray(Ct)&&Ct.length===0?(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)(ve.Z,{image:ve.Z.PRESENTED_IMAGE_SIMPLE,children:yi===!1?null:(0,ae.jsx)(io,{empty:!0})})}):(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(ur,{prefixCls:ie,children:Ct.map(function(Ki,Di){return(0,ae.jsx)(rr,{id:rn.keys[Di],index:Di,compact:Zt,hideRemove:Ft,onRemove:function(){return Ze({type:"removeItem",index:Di})},actions:typeof Jn=="function"?Jn(Ki,Di):Jn,useDragOverlay:!0,prefixCls:ie,children:tt==null?void 0:tt(Ki,Di)},rn.keys[Di])})}),cr===!1?null:(0,ae.jsx)(io,{})]})})},Qr=(0,D.memo)(xi),ei={strategy:qe.uN.Always},ti=function(Y){return{handleDragStart:Y.handleDragStart,handleDragCancel:Y.handleDragCancel,handleDragEnd:Y.handleDragEnd,renderHeader:Y.renderHeader}},Yi=function(Y){var ie=Y.className,Ie=Y.style,Ze=Y.prefixCls,tt=(0,Cr.oR)(ti,At),Zt=tt.handleDragStart,Ft=tt.handleDragCancel,vt=tt.handleDragEnd,dt=tt.renderHeader,Ct=(0,Cr.oR)(function(qn){return qn.keyManager},gn()),rn=(0,Kt.k2)("sortable-list",Ze),zn=(0,qe.Dy)((0,qe.VT)(qe.MA),(0,qe.VT)(qe.LO),(0,qe.VT)(qe.Lg,{coordinateGetter:Hn.is})),Jn=(0,D.useMemo)(function(){return(0,xt.createPortal)((0,ae.jsx)(jt,{prefixCls:rn}),document.body)},[]);return(0,ae.jsx)(ot.D,{className:(0,Cn.cx)(ie,rn),style:Ie,children:(0,ae.jsx)(qe.LB,{sensors:zn,collisionDetection:qe.pE,onDragStart:Zt,onDragEnd:vt,measuring:{droppable:ei},onDragCancel:Ft,modifiers:[mt,Lt],children:(0,ae.jsxs)(Hn.Fo,{items:Ct.keys.map(function(qn){return{id:qn}}),strategy:Hn.qw,children:[dt==null?void 0:dt(),(0,ae.jsx)(Qr,{prefixCls:rn}),Jn]})})})},b=Yi,H=function(Y){var ie=Y.children,Ie=Y.showDevtools,Ze=!0,tt=(0,ae.jsx)(ae.Fragment,{children:ie});try{(0,Cr.AC)()}catch(Zt){Ze=!1}return Ze?tt:(0,ae.jsx)(Cr.zt,{createStore:function(){return(0,Cr.MT)(Ie)},children:tt})},E=G(18846),T=function(Y){return function(ie,Ie){var Ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[Ie],tt=arguments.length>3?arguments[3]:void 0,Zt=tt!=null?tt:Y.setState;(0,D.useEffect)(function(){typeof Ie!="undefined"&&Zt((0,ln.Z)({},ie,Ie))},Ze)}},Q=G(62857),le=(0,D.forwardRef)(function(be,Y){var ie=be.creatorButtonProps,Ie=be.initialValues,Ze=be.value,tt=be.onChange,Zt=be.renderContent,Ft=be.renderHeader,vt=be.actions,dt=be.compact,Ct=be.hideRemove,rn=(0,Cr.AC)(),zn=T(rn),Jn=function(Qn,_r){var En=rn.getState(),cr=En.keyManager,Nr=(0,E.Uy)(cr,function(yi){return Qn[_r].forEach(function(Wr,ho){var io=yi.keys[ho];io===void 0&&(yi.keys[ho]=yi.id,yi.id+=1)}),yi});rn.setState((0,ln.Z)({keyManager:Nr},_r,Qn[_r]))};zn("value",Ie,[]),zn("onChange",tt),zn("creatorButtonProps",ie),zn("renderContent",Zt),zn("renderHeader",Ft),zn("actions",vt),zn("compact",dt),zn("hideRemove",Ct),zn("initialValues",Ie,[Ie],function($n){Jn($n,"initialValues")}),zn("value",Ze,[Ze],function($n){return Jn($n,"value")});var qn=(0,Q.t)();return(0,D.useImperativeHandle)(Y,function(){return qn}),null}),We=le,st=["SHOW_STORE_IN_DEVTOOLS","className","style"],Qe=(0,D.memo)((0,D.forwardRef)(function(be,Y){var ie=be.SHOW_STORE_IN_DEVTOOLS,Ie=be.className,Ze=be.style,tt=(0,B.Z)(be,st);return(0,ae.jsx)(Ne.iV,{children:(0,ae.jsxs)(H,{showDevtools:ie,children:[(0,ae.jsx)(b,{style:Ze,className:Ie}),(0,ae.jsx)(We,(0,S.Z)((0,S.Z)({},tt),{},{ref:Y}))]})})}))},62857:function(qt,je,G){"use strict";G.d(je,{t:function(){return D}});var S=G(28062),B=G(75085),D=function(){var qe=(0,B.AC)(),xt=(0,S.Z)(function(){return qe.getState().activeId}),de=(0,S.Z)(function(){return qe.getState().value}),Ot=function(xe,mt){return qe.getState().dispatchListData({type:"addItem",item:xe,index:mt})},he=function(xe){return qe.getState().dispatchListData({type:"removeItem",index:xe})},Be=function(xe,mt){return qe.getState().dispatchListData({type:"updateItem",item:xe,index:mt})};return{getActiveId:xt,getValue:de,addItem:Ot,removeItem:he,updateItem:Be}}},75085:function(qt,je,G){"use strict";G.d(je,{zt:function(){return W},MT:function(){return Ce},oR:function(){return K},AC:function(){return me}});var S=G(42295),B=G(50959),D=function(){var te=(0,B.createContext)(void 0),ge=function(ke){var Te=ke.createStore,Et=ke.children,zt=(0,B.useRef)();return zt.current||(zt.current=Te()),(0,B.createElement)(te.Provider,{value:zt.current},Et)},Le=function(ke,Te){var Et=(0,B.useContext)(te);if(!Et)throw new Error("Seems like you have not used zustand provider as an ancestor.");return(0,S.oR)(Et,ke,Te)},De=function(){var ke=(0,B.useContext)(te);if(!ke)throw new Error("Seems like you have not used zustand provider as an ancestor.");return ke};return{Provider:ge,useStore:Le,useStoreApi:De}};const Ne=(se,te)=>(ge,Le,De)=>(De.dispatch=ye=>(ge(ke=>se(ke,ye),!1,ye),ye),De.dispatchFromDevtools=!0,St({dispatch:(...ye)=>De.dispatch(...ye)},te)),qe=null,xt=new Map,de=se=>{const te=xt.get(se);return te?Object.fromEntries(Object.entries(te.stores).map(([ge,Le])=>[ge,Le.getState()])):{}},Ot=(se,te,ge)=>{if(se===void 0)return{type:"untracked",connection:te.connect(ge)};const Le=xt.get(ge.name);if(Le)return St({type:"tracked",store:se},Le);const De={connection:te.connect(ge),stores:{}};return xt.set(ge.name,De),St({type:"tracked",store:se},De)},Be=(se,te={})=>(ge,Le,De)=>{const Rn=te,{enabled:ye,anonymousActionType:ke,store:Te}=Rn,Et=gs(Rn,["enabled","anonymousActionType","store"]);let zt;try{zt=(ye!=null?ye:void 0!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(In){}if(!zt)return ye&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),se(ge,Le,De);const Qt=Ot(Te,zt,Et),{connection:_t}=Qt,pt=gs(Qt,["connection"]);let Ue=!0;De.setState=(In,sn,dn)=>{const Cr=ge(In,sn);if(!Ue)return Cr;const oi=dn===void 0?{type:ke||"anonymous"}:typeof dn=="string"?{type:dn}:dn;return Te===void 0?(_t==null||_t.send(oi,Le()),Cr):(_t==null||_t.send(Yr(St({},oi),{type:`${Te}/${oi.type}`}),Yr(St({},de(Et.name)),{[Te]:De.getState()})),Cr)};const yt=(...In)=>{const sn=Ue;Ue=!1,ge(...In),Ue=sn},Vt=se(De.setState,Le,De);if(pt.type==="untracked"?_t==null||_t.init(Vt):(pt.stores[pt.store]=De,_t==null||_t.init(Object.fromEntries(Object.entries(pt.stores).map(([In,sn])=>[In,In===pt.store?Vt:sn.getState()])))),De.dispatchFromDevtools&&typeof De.dispatch=="function"){let In=!1;const sn=De.dispatch;De.dispatch=(...dn)=>{dn[0].type==="__setState"&&!In&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),In=!0),sn(...dn)}}return _t.subscribe(In=>{var sn;switch(In.type){case"ACTION":if(typeof In.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return at(In.payload,dn=>{if(dn.type==="__setState"){if(Te===void 0){yt(dn.state);return}Object.keys(dn.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const Cr=dn.state[Te];if(Cr==null)return;JSON.stringify(De.getState())!==JSON.stringify(Cr)&&yt(Cr);return}De.dispatchFromDevtools&&typeof De.dispatch=="function"&&De.dispatch(dn)});case"DISPATCH":switch(In.payload.type){case"RESET":return yt(Vt),Te===void 0?_t==null?void 0:_t.init(De.getState()):_t==null?void 0:_t.init(de(Et.name));case"COMMIT":if(Te===void 0){_t==null||_t.init(De.getState());return}return _t==null?void 0:_t.init(de(Et.name));case"ROLLBACK":return at(In.state,dn=>{if(Te===void 0){yt(dn),_t==null||_t.init(De.getState());return}yt(dn[Te]),_t==null||_t.init(de(Et.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return at(In.state,dn=>{if(Te===void 0){yt(dn);return}JSON.stringify(De.getState())!==JSON.stringify(dn[Te])&&yt(dn[Te])});case"IMPORT_STATE":{const{nextLiftedState:dn}=In.payload,Cr=(sn=dn.computedStates.slice(-1)[0])==null?void 0:sn.state;if(!Cr)return;yt(Te===void 0?Cr:Cr[Te]),_t==null||_t.send(null,dn);return}case"PAUSE_RECORDING":return Ue=!Ue}return}}),Vt},at=(se,te)=>{let ge;try{ge=JSON.parse(se)}catch(Le){console.error("[zustand devtools middleware] Could not parse the received json",Le)}ge!==void 0&&te(ge)},xe=se=>(te,ge,Le)=>{const De=Le.subscribe;return Le.subscribe=(ke,Te,Et)=>{let zt=ke;if(Te){const _t=(Et==null?void 0:Et.equalityFn)||Object.is;let pt=ke(Le.getState());zt=Ue=>{const yt=ke(Ue);if(!_t(pt,yt)){const Vt=pt;Te(pt=yt,Vt)}},Et!=null&&Et.fireImmediately&&Te(pt,pt)}return De(zt)},se(te,ge,Le)},mt=null,Lt=(se,te)=>(...ge)=>Object.assign({},se,te(...ge));function ee(se,te){let ge;try{ge=se()}catch(De){return}return{getItem:De=>{var ye;const ke=Et=>Et===null?null:JSON.parse(Et,te==null?void 0:te.reviver),Te=(ye=ge.getItem(De))!=null?ye:null;return Te instanceof Promise?Te.then(ke):ke(Te)},setItem:(De,ye)=>ge.setItem(De,JSON.stringify(ye,te==null?void 0:te.replacer)),removeItem:De=>ge.removeItem(De)}}const Hn=se=>te=>{try{const ge=se(te);return ge instanceof Promise?ge:{then(Le){return Hn(Le)(ge)},catch(Le){return this}}}catch(ge){return{then(Le){return this},catch(Le){return Hn(Le)(ge)}}}},fn=(se,te)=>(ge,Le,De)=>{let ye=St({getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:Qt=>Qt,version:0,merge:(Qt,In)=>St(St({},In),Qt)},te),ke=!1;const Te=new Set,Et=new Set;let zt;try{zt=ye.getStorage()}catch(Qt){}if(!zt)return se((...Qt)=>{console.warn(`[zustand persist middleware] Unable to update item '${ye.name}', the given storage is currently unavailable.`),ge(...Qt)},Le,De);const _t=Hn(ye.serialize),pt=()=>{const Qt=ye.partialize(St({},Le()));let In;const sn=_t({state:Qt,version:ye.version}).then(dn=>zt.setItem(ye.name,dn)).catch(dn=>{In=dn});if(In)throw In;return sn},Ue=De.setState;De.setState=(Qt,In)=>{Ue(Qt,In),pt()};const yt=se((...Qt)=>{ge(...Qt),pt()},Le,De);let Vt;const Rn=()=>{var Qt;if(!zt)return;ke=!1,Te.forEach(sn=>sn(Le()));const In=((Qt=ye.onRehydrateStorage)==null?void 0:Qt.call(ye,Le()))||void 0;return Hn(zt.getItem.bind(zt))(ye.name).then(sn=>{if(sn)return ye.deserialize(sn)}).then(sn=>{if(sn)if(typeof sn.version=="number"&&sn.version!==ye.version){if(ye.migrate)return ye.migrate(sn.state,sn.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return sn.state}).then(sn=>{var dn;return Vt=ye.merge(sn,(dn=Le())!=null?dn:yt),ge(Vt,!0),pt()}).then(()=>{In==null||In(Vt,void 0),ke=!0,Et.forEach(sn=>sn(Vt))}).catch(sn=>{In==null||In(void 0,sn)})};return De.persist={setOptions:Qt=>{ye=St(St({},ye),Qt),Qt.getStorage&&(zt=Qt.getStorage())},clearStorage:()=>{zt==null||zt.removeItem(ye.name)},getOptions:()=>ye,rehydrate:()=>Rn(),hasHydrated:()=>ke,onHydrate:Qt=>(Te.add(Qt),()=>{Te.delete(Qt)}),onFinishHydration:Qt=>(Et.add(Qt),()=>{Et.delete(Qt)})},Rn(),Vt||yt},gn=(se,te)=>(ge,Le,De)=>{let ye=St({storage:ee(()=>localStorage),partialize:Rn=>Rn,version:0,merge:(Rn,Qt)=>St(St({},Qt),Rn)},te),ke=!1;const Te=new Set,Et=new Set;let zt=ye.storage;if(!zt)return se((...Rn)=>{console.warn(`[zustand persist middleware] Unable to update item '${ye.name}', the given storage is currently unavailable.`),ge(...Rn)},Le,De);const _t=()=>{const Rn=ye.partialize(St({},Le()));return zt.setItem(ye.name,{state:Rn,version:ye.version})},pt=De.setState;De.setState=(Rn,Qt)=>{pt(Rn,Qt),_t()};const Ue=se((...Rn)=>{ge(...Rn),_t()},Le,De);let yt;const Vt=()=>{var Rn,Qt;if(!zt)return;ke=!1,Te.forEach(sn=>{var dn;return sn((dn=Le())!=null?dn:Ue)});const In=((Qt=ye.onRehydrateStorage)==null?void 0:Qt.call(ye,(Rn=Le())!=null?Rn:Ue))||void 0;return Hn(zt.getItem.bind(zt))(ye.name).then(sn=>{if(sn)if(typeof sn.version=="number"&&sn.version!==ye.version){if(ye.migrate)return ye.migrate(sn.state,sn.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return sn.state}).then(sn=>{var dn;return yt=ye.merge(sn,(dn=Le())!=null?dn:Ue),ge(yt,!0),_t()}).then(()=>{In==null||In(yt,void 0),yt=Le(),ke=!0,Et.forEach(sn=>sn(yt))}).catch(sn=>{In==null||In(void 0,sn)})};return De.persist={setOptions:Rn=>{ye=St(St({},ye),Rn),Rn.storage&&(zt=Rn.storage)},clearStorage:()=>{zt==null||zt.removeItem(ye.name)},getOptions:()=>ye,rehydrate:()=>Vt(),hasHydrated:()=>ke,onHydrate:Rn=>(Te.add(Rn),()=>{Te.delete(Rn)}),onFinishHydration:Rn=>(Et.add(Rn),()=>{Et.delete(Rn)})},ye.skipHydration||Vt(),yt||Ue},ot=(se,te)=>"getStorage"in te||"serialize"in te||"deserialize"in te?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),fn(se,te)):gn(se,te),At=null;var vn=function(te){return function(ge,Le){var De=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[Le],ye=arguments.length>3?arguments[3]:void 0,ke=te();useEffect(function(){typeof Le!="undefined"&&(ye?ye(Le):ke.setState(_defineProperty({},ge,Le)))},De)}},Kt=function(te){return te?Be:function(ge){return ge}},Cn=G(14797),ln=G(5899),Wt=G.n(ln),An={activeId:null,value:[],keyManager:{keys:[],id:1},compact:!1,hideRemove:!1,onChange:void 0,renderHeader:void 0,renderContent:void 0,actions:[]},Yt=G(59671),Me=G(18846),Ke=G(72266),ae=G.n(Ke),nt=function(te,ge,Le){switch(Le.type){case"moveItem":var De=Le.activeId,ye=Le.targetId,ke=De?ge.keys.indexOf(De):-1,Te=ye?ge.keys.indexOf(ye):-1;return ke===Te||ke<0||ke>=te.length||Te<0||Te>=te.length?void 0:{data:(0,Me.Uy)(te,function(Ue){var yt=(0,Yt.Rp)(Ue,ke,Te);return yt}),manager:(0,Me.Uy)(ge,function(Ue){return Ue.keys=(0,Yt.Rp)(Ue.keys,ke,Te),Ue})};case"removeItem":var Et=new Set(Array.isArray(Le.index)?Le.index:[Le.index]);return Et.size<=0?void 0:{data:(0,Me.Uy)(te,function(Ue){var yt=Ue.filter(function(Vt,Rn){return!Et.has(Rn)});return yt}),manager:(0,Me.Uy)(ge,function(Ue){return Ue.keys=Ue.keys.filter(function(yt,Vt){return!Et.has(Vt)}),Ue})};case"addItem":var zt=Le.item,_t=Le.index,pt=_t===void 0?te.length:_t;return{data:(0,Me.Uy)(te,function(Ue){return Ue.splice(pt,0,zt),Ue}),manager:(0,Me.Uy)(ge,function(Ue){return Ue.keys.splice(pt,0,Ue.id),Ue.id+=1,Ue})};case"updateItem":return{data:(0,Me.Uy)(te,function(Ue){var yt=Le.item,Vt=Le.index;return Ue[Vt]=ae()(Ue[Vt],yt),Ue}),manager:(0,Me.Uy)(ge,function(Ue){return Ue})}}},Ae=function(te,ge){return(0,Cn.Z)((0,Cn.Z)({},An),{},{handleDragStart:function(De){var ye=De.active.id;ye&&te({activeId:ye})},handleDragEnd:function(De){var ye=De.over,ke=De.active,Te=ge(),Et=Te.dispatchListData;ye&&Et({type:"moveItem",activeId:ke.id,targetId:ye.id}),te({activeId:null})},handleDragCancel:function(){te({activeId:null})},dispatchListData:function(De){var ye=ge(),ke=ye.value,Te=ye.onChange,Et=ye.keyManager,zt=nt(ke,Et,De)||{},_t=zt.data,pt=zt.manager;if(_t){if(Wt()(ke,_t))return;te({value:_t}),Te&&Te(_t)}pt&&te({keyManager:pt})},getActiveIndex:function(){var De=ge(),ye=De.keyManager,ke=De.activeId,Te=ke?ye.keys.indexOf(ke):-1;return Te}})},Oe=Ae,Ce=function(te){return(0,S.Ue)(Kt(te)(Oe,{name:"SortableList"}))},F=D(),K=F.useStore,me=F.useStoreApi,W=F.Provider},28257:function(qt,je,G){"use strict";G.d(je,{LB:function(){return Co},y9:function(){return po},g4:function(){return Zn},Lg:function(){return $e},uN:function(){return ti},MA:function(){return oe},LO:function(){return Rt},pE:function(){return Yt},ey:function(){return Me},RJ:function(){return na},Ai:function(){return Xs},VK:function(){return te},_8:function(){return Wt},hI:function(){return ke},Cj:function(){return Ai},O1:function(){return xo},Zj:function(){return Fo},VT:function(){return fn},Dy:function(){return gn}});var S=G(50959),B=G(10422),D=G(84341);const Ne={display:"none"};function qe(P){let{id:V,value:pe}=P;return S.createElement("div",{id:V,style:Ne},pe)}const xt={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function de(P){let{id:V,announcement:pe}=P;return S.createElement("div",{id:V,style:xt,role:"status","aria-live":"assertive","aria-atomic":!0},pe)}function Ot(){const[P,V]=(0,S.useState)("");return{announce:(0,S.useCallback)(Fe=>{Fe!=null&&V(Fe)},[]),announcement:P}}const he=(0,S.createContext)(null);function Be(P){const V=(0,S.useContext)(he);(0,S.useEffect)(()=>{if(!V)throw new Error("useDndMonitor must be used within a children of <DndContext>");return V(P)},[P,V])}function at(){const[P]=(0,S.useState)(()=>new Set),V=(0,S.useCallback)(Fe=>(P.add(Fe),()=>P.delete(Fe)),[P]);return[(0,S.useCallback)(Fe=>{let{type:gt,event:ut}=Fe;P.forEach(z=>{var re;return(re=z[gt])==null?void 0:re.call(z,ut)})},[P]),V]}const xe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},mt={onDragStart(P){let{active:V}=P;return"Picked up draggable item "+V.id+"."},onDragOver(P){let{active:V,over:pe}=P;return pe?"Draggable item "+V.id+" was moved over droppable area "+pe.id+".":"Draggable item "+V.id+" is no longer over a droppable area."},onDragEnd(P){let{active:V,over:pe}=P;return pe?"Draggable item "+V.id+" was dropped over droppable area "+pe.id:"Draggable item "+V.id+" was dropped."},onDragCancel(P){let{active:V}=P;return"Dragging was cancelled. Draggable item "+V.id+" was dropped."}};function Lt(P){let{announcements:V=mt,container:pe,hiddenTextDescribedById:Fe,screenReaderInstructions:gt=xe}=P;const{announce:ut,announcement:z}=Ot(),re=(0,D.Ld)("DndLiveRegion"),[R,Z]=(0,S.useState)(!1);if((0,S.useEffect)(()=>{Z(!0)},[]),Be((0,S.useMemo)(()=>({onDragStart(Je){let{active:Sn}=Je;ut(V.onDragStart({active:Sn}))},onDragMove(Je){let{active:Sn,over:Tn}=Je;V.onDragMove&&ut(V.onDragMove({active:Sn,over:Tn}))},onDragOver(Je){let{active:Sn,over:Tn}=Je;ut(V.onDragOver({active:Sn,over:Tn}))},onDragEnd(Je){let{active:Sn,over:Tn}=Je;ut(V.onDragEnd({active:Sn,over:Tn}))},onDragCancel(Je){let{active:Sn,over:Tn}=Je;ut(V.onDragCancel({active:Sn,over:Tn}))}}),[ut,V])),!R)return null;const ze=S.createElement(S.Fragment,null,S.createElement(qe,{id:Fe,value:gt.draggable}),S.createElement(de,{id:re,announcement:z}));return pe?(0,B.createPortal)(ze,pe):ze}var ee;(function(P){P.DragStart="dragStart",P.DragMove="dragMove",P.DragEnd="dragEnd",P.DragCancel="dragCancel",P.DragOver="dragOver",P.RegisterDroppable="registerDroppable",P.SetDroppableDisabled="setDroppableDisabled",P.UnregisterDroppable="unregisterDroppable"})(ee||(ee={}));function Hn(){}function fn(P,V){return(0,S.useMemo)(()=>({sensor:P,options:V!=null?V:{}}),[P,V])}function gn(){for(var P=arguments.length,V=new Array(P),pe=0;pe<P;pe++)V[pe]=arguments[pe];return(0,S.useMemo)(()=>[...V].filter(Fe=>Fe!=null),[...V])}const ot=Object.freeze({x:0,y:0});function At(P,V){return Math.sqrt(Math.pow(P.x-V.x,2)+Math.pow(P.y-V.y,2))}function vn(P,V){const pe=(0,D.DC)(P);if(!pe)return"0 0";const Fe={x:(pe.x-V.left)/V.width*100,y:(pe.y-V.top)/V.height*100};return Fe.x+"% "+Fe.y+"%"}function Kt(P,V){let{data:{value:pe}}=P,{data:{value:Fe}}=V;return pe-Fe}function Cn(P,V){let{data:{value:pe}}=P,{data:{value:Fe}}=V;return Fe-pe}function ln(P){let{left:V,top:pe,height:Fe,width:gt}=P;return[{x:V,y:pe},{x:V+gt,y:pe},{x:V,y:pe+Fe},{x:V+gt,y:pe+Fe}]}function Wt(P,V){if(!P||P.length===0)return null;const[pe]=P;return V?pe[V]:pe}function An(P,V,pe){return V===void 0&&(V=P.left),pe===void 0&&(pe=P.top),{x:V+P.width*.5,y:pe+P.height*.5}}const Yt=P=>{let{collisionRect:V,droppableRects:pe,droppableContainers:Fe}=P;const gt=An(V,V.left,V.top),ut=[];for(const z of Fe){const{id:re}=z,R=pe.get(re);if(R){const Z=At(An(R),gt);ut.push({id:re,data:{droppableContainer:z,value:Z}})}}return ut.sort(Kt)},Me=P=>{let{collisionRect:V,droppableRects:pe,droppableContainers:Fe}=P;const gt=ln(V),ut=[];for(const z of Fe){const{id:re}=z,R=pe.get(re);if(R){const Z=ln(R),ze=gt.reduce((Sn,Tn,ir)=>Sn+At(Z[ir],Tn),0),Je=Number((ze/4).toFixed(4));ut.push({id:re,data:{droppableContainer:z,value:Je}})}}return ut.sort(Kt)};function Ke(P,V){const pe=Math.max(V.top,P.top),Fe=Math.max(V.left,P.left),gt=Math.min(V.left+V.width,P.left+P.width),ut=Math.min(V.top+V.height,P.top+P.height),z=gt-Fe,re=ut-pe;if(Fe<gt&&pe<ut){const R=V.width*V.height,Z=P.width*P.height,ze=z*re,Je=ze/(R+Z-ze);return Number(Je.toFixed(4))}return 0}const ae=P=>{let{collisionRect:V,droppableRects:pe,droppableContainers:Fe}=P;const gt=[];for(const ut of Fe){const{id:z}=ut,re=pe.get(z);if(re){const R=Ke(re,V);R>0&&gt.push({id:z,data:{droppableContainer:ut,value:R}})}}return gt.sort(Cn)};function nt(P,V){const{top:pe,left:Fe,bottom:gt,right:ut}=V;return pe<=P.y&&P.y<=gt&&Fe<=P.x&&P.x<=ut}const Ae=P=>{let{droppableContainers:V,droppableRects:pe,pointerCoordinates:Fe}=P;if(!Fe)return[];const gt=[];for(const ut of V){const{id:z}=ut,re=pe.get(z);if(re&&nt(Fe,re)){const Z=ln(re).reduce((Je,Sn)=>Je+At(Fe,Sn),0),ze=Number((Z/4).toFixed(4));gt.push({id:z,data:{droppableContainer:ut,value:ze}})}}return gt.sort(Kt)};function Oe(P,V,pe){return Yr(St({},P),{scaleX:V&&pe?V.width/pe.width:1,scaleY:V&&pe?V.height/pe.height:1})}function Ce(P,V){return P&&V?{x:P.left-V.left,y:P.top-V.top}:ot}function F(P){return function(pe){for(var Fe=arguments.length,gt=new Array(Fe>1?Fe-1:0),ut=1;ut<Fe;ut++)gt[ut-1]=arguments[ut];return gt.reduce((z,re)=>Yr(St({},z),{top:z.top+P*re.y,bottom:z.bottom+P*re.y,left:z.left+P*re.x,right:z.right+P*re.x}),St({},pe))}}const K=F(1);function me(P){if(P.startsWith("matrix3d(")){const V=P.slice(9,-1).split(/, /);return{x:+V[12],y:+V[13],scaleX:+V[0],scaleY:+V[5]}}else if(P.startsWith("matrix(")){const V=P.slice(7,-1).split(/, /);return{x:+V[4],y:+V[5],scaleX:+V[0],scaleY:+V[3]}}return null}function W(P,V,pe){const Fe=me(V);if(!Fe)return P;const{scaleX:gt,scaleY:ut,x:z,y:re}=Fe,R=P.left-z-(1-gt)*parseFloat(pe),Z=P.top-re-(1-ut)*parseFloat(pe.slice(pe.indexOf(" ")+1)),ze=gt?P.width/gt:P.width,Je=ut?P.height/ut:P.height;return{width:ze,height:Je,top:Z,right:R+ze,bottom:Z+Je,left:R}}const se={ignoreTransform:!1};function te(P,V){V===void 0&&(V=se);let pe=P.getBoundingClientRect();if(V.ignoreTransform){const{transform:Z,transformOrigin:ze}=(0,D.Jj)(P).getComputedStyle(P);Z&&(pe=W(pe,Z,ze))}const{top:Fe,left:gt,width:ut,height:z,bottom:re,right:R}=pe;return{top:Fe,left:gt,width:ut,height:z,bottom:re,right:R}}function ge(P){return te(P,{ignoreTransform:!0})}function Le(P){const V=P.innerWidth,pe=P.innerHeight;return{top:0,left:0,right:V,bottom:pe,width:V,height:pe}}function De(P,V){return V===void 0&&(V=(0,D.Jj)(P).getComputedStyle(P)),V.position==="fixed"}function ye(P,V){V===void 0&&(V=(0,D.Jj)(P).getComputedStyle(P));const pe=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(gt=>{const ut=V[gt];return typeof ut=="string"?pe.test(ut):!1})}function ke(P,V){const pe=[];function Fe(gt){if(V!=null&&pe.length>=V||!gt)return pe;if((0,D.qk)(gt)&&gt.scrollingElement!=null&&!pe.includes(gt.scrollingElement))return pe.push(gt.scrollingElement),pe;if(!(0,D.Re)(gt)||(0,D.vZ)(gt)||pe.includes(gt))return pe;const ut=(0,D.Jj)(P).getComputedStyle(gt);return gt!==P&&ye(gt,ut)&&pe.push(gt),De(gt,ut)?pe:Fe(gt.parentNode)}return P?Fe(P):pe}function Te(P){const[V]=ke(P,1);return V!=null?V:null}function Et(P){return!D.Nq||!P?null:(0,D.FJ)(P)?P:(0,D.UG)(P)?(0,D.qk)(P)||P===(0,D.r3)(P).scrollingElement?window:(0,D.Re)(P)?P:null:null}function zt(P){return(0,D.FJ)(P)?P.scrollX:P.scrollLeft}function _t(P){return(0,D.FJ)(P)?P.scrollY:P.scrollTop}function pt(P){return{x:zt(P),y:_t(P)}}var Ue;(function(P){P[P.Forward=1]="Forward",P[P.Backward=-1]="Backward"})(Ue||(Ue={}));function yt(P){return!D.Nq||!P?!1:P===document.scrollingElement}function Vt(P){const V={x:0,y:0},pe=yt(P)?{height:window.innerHeight,width:window.innerWidth}:{height:P.clientHeight,width:P.clientWidth},Fe={x:P.scrollWidth-pe.width,y:P.scrollHeight-pe.height},gt=P.scrollTop<=V.y,ut=P.scrollLeft<=V.x,z=P.scrollTop>=Fe.y,re=P.scrollLeft>=Fe.x;return{isTop:gt,isLeft:ut,isBottom:z,isRight:re,maxScroll:Fe,minScroll:V}}const Rn={x:.2,y:.2};function Qt(P,V,pe,Fe,gt){let{top:ut,left:z,right:re,bottom:R}=pe;Fe===void 0&&(Fe=10),gt===void 0&&(gt=Rn);const{isTop:Z,isBottom:ze,isLeft:Je,isRight:Sn}=Vt(P),Tn={x:0,y:0},ir={x:0,y:0},on={height:V.height*gt.y,width:V.width*gt.x};return!Z&&ut<=V.top+on.height?(Tn.y=Ue.Backward,ir.y=Fe*Math.abs((V.top+on.height-ut)/on.height)):!ze&&R>=V.bottom-on.height&&(Tn.y=Ue.Forward,ir.y=Fe*Math.abs((V.bottom-on.height-R)/on.height)),!Sn&&re>=V.right-on.width?(Tn.x=Ue.Forward,ir.x=Fe*Math.abs((V.right-on.width-re)/on.width)):!Je&&z<=V.left+on.width&&(Tn.x=Ue.Backward,ir.x=Fe*Math.abs((V.left+on.width-z)/on.width)),{direction:Tn,speed:ir}}function In(P){if(P===document.scrollingElement){const{innerWidth:ut,innerHeight:z}=window;return{top:0,left:0,right:ut,bottom:z,width:ut,height:z}}const{top:V,left:pe,right:Fe,bottom:gt}=P.getBoundingClientRect();return{top:V,left:pe,right:Fe,bottom:gt,width:P.clientWidth,height:P.clientHeight}}function sn(P){return P.reduce((V,pe)=>(0,D.IH)(V,pt(pe)),ot)}function dn(P){return P.reduce((V,pe)=>V+zt(pe),0)}function Cr(P){return P.reduce((V,pe)=>V+_t(pe),0)}function oi(P,V){if(V===void 0&&(V=te),!P)return;const{top:pe,left:Fe,bottom:gt,right:ut}=V(P);Te(P)&&(gt<=0||ut<=0||pe>=window.innerHeight||Fe>=window.innerWidth)&&P.scrollIntoView({block:"center",inline:"center"})}const Tt=[["x",["left","right"],dn],["y",["top","bottom"],Cr]];class jt{constructor(V,pe){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const Fe=ke(pe),gt=sn(Fe);this.rect=St({},V),this.width=V.width,this.height=V.height;for(const[ut,z,re]of Tt)for(const R of z)Object.defineProperty(this,R,{get:()=>{const Z=re(Fe),ze=gt[ut]-Z;return this.rect[R]+ze},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class _n{constructor(V){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(pe=>{var Fe;return(Fe=this.target)==null?void 0:Fe.removeEventListener(...pe)})},this.target=V}add(V,pe,Fe){var gt;(gt=this.target)==null||gt.addEventListener(V,pe,Fe),this.listeners.push([V,pe,Fe])}}function en(P){const{EventTarget:V}=(0,D.Jj)(P);return P instanceof V?P:(0,D.r3)(P)}function Mn(P,V){const pe=Math.abs(P.x),Fe=Math.abs(P.y);return typeof V=="number"?Math.sqrt(Cc(pe,2)+Cc(Fe,2))>V:"x"in V&&"y"in V?pe>V.x&&Fe>V.y:"x"in V?pe>V.x:"y"in V?Fe>V.y:!1}var ur;(function(P){P.Click="click",P.DragStart="dragstart",P.Keydown="keydown",P.ContextMenu="contextmenu",P.Resize="resize",P.SelectionChange="selectionchange",P.VisibilityChange="visibilitychange"})(ur||(ur={}));function rr(P){P.preventDefault()}function jr(P){P.stopPropagation()}var Zn;(function(P){P.Space="Space",P.Down="ArrowDown",P.Right="ArrowRight",P.Left="ArrowLeft",P.Up="ArrowUp",P.Esc="Escape",P.Enter="Enter"})(Zn||(Zn={}));const ve={start:[Zn.Space,Zn.Enter],cancel:[Zn.Esc],end:[Zn.Space,Zn.Enter]},Xe=(P,V)=>{let{currentCoordinates:pe}=V;switch(P.code){case Zn.Right:return Yr(St({},pe),{x:pe.x+25});case Zn.Left:return Yr(St({},pe),{x:pe.x-25});case Zn.Down:return Yr(St({},pe),{y:pe.y+25});case Zn.Up:return Yr(St({},pe),{y:pe.y-25})}};class $e{constructor(V){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=V;const{event:{target:pe}}=V;this.props=V,this.listeners=new _n((0,D.r3)(pe)),this.windowListeners=new _n((0,D.Jj)(pe)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ur.Resize,this.handleCancel),this.windowListeners.add(ur.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ur.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:V,onStart:pe}=this.props,Fe=V.node.current;Fe&&oi(Fe),pe(ot)}handleKeyDown(V){if((0,D.vd)(V)){const{active:pe,context:Fe,options:gt}=this.props,{keyboardCodes:ut=ve,coordinateGetter:z=Xe,scrollBehavior:re="smooth"}=gt,{code:R}=V;if(ut.end.includes(R)){this.handleEnd(V);return}if(ut.cancel.includes(R)){this.handleCancel(V);return}const{collisionRect:Z}=Fe.current,ze=Z?{x:Z.left,y:Z.top}:ot;this.referenceCoordinates||(this.referenceCoordinates=ze);const Je=z(V,{active:pe,context:Fe.current,currentCoordinates:ze});if(Je){const Sn=(0,D.$X)(Je,ze),Tn={x:0,y:0},{scrollableAncestors:ir}=Fe.current;for(const on of ir){const or=V.code,{isTop:br,isRight:gr,isLeft:Tr,isBottom:Pi,maxScroll:Gr,minScroll:Si}=Vt(on),ai=In(on),Oi={x:Math.min(or===Zn.Right?ai.right-ai.width/2:ai.right,Math.max(or===Zn.Right?ai.left:ai.left+ai.width/2,Je.x)),y:Math.min(or===Zn.Down?ai.bottom-ai.height/2:ai.bottom,Math.max(or===Zn.Down?ai.top:ai.top+ai.height/2,Je.y))},Zi=or===Zn.Right&&!gr||or===Zn.Left&&!Tr,lo=or===Zn.Down&&!Pi||or===Zn.Up&&!br;if(Zi&&Oi.x!==Je.x){const Bi=on.scrollLeft+Sn.x,Hi=or===Zn.Right&&Bi<=Gr.x||or===Zn.Left&&Bi>=Si.x;if(Hi&&!Sn.y){on.scrollTo({left:Bi,behavior:re});return}Hi?Tn.x=on.scrollLeft-Bi:Tn.x=or===Zn.Right?on.scrollLeft-Gr.x:on.scrollLeft-Si.x,Tn.x&&on.scrollBy({left:-Tn.x,behavior:re});break}else if(lo&&Oi.y!==Je.y){const Bi=on.scrollTop+Sn.y,Hi=or===Zn.Down&&Bi<=Gr.y||or===Zn.Up&&Bi>=Si.y;if(Hi&&!Sn.x){on.scrollTo({top:Bi,behavior:re});return}Hi?Tn.y=on.scrollTop-Bi:Tn.y=or===Zn.Down?on.scrollTop-Gr.y:on.scrollTop-Si.y,Tn.y&&on.scrollBy({top:-Tn.y,behavior:re});break}}this.handleMove(V,(0,D.IH)((0,D.$X)(Je,this.referenceCoordinates),Tn))}}}handleMove(V,pe){const{onMove:Fe}=this.props;V.preventDefault(),Fe(pe)}handleEnd(V){const{onEnd:pe}=this.props;V.preventDefault(),this.detach(),pe()}handleCancel(V){const{onCancel:pe}=this.props;V.preventDefault(),this.detach(),pe()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}$e.activators=[{eventName:"onKeyDown",handler:(P,V,pe)=>{let{keyboardCodes:Fe=ve,onActivation:gt}=V,{active:ut}=pe;const{code:z}=P.nativeEvent;if(Fe.start.includes(z)){const re=ut.activatorNode.current;return re&&P.target!==re?!1:(P.preventDefault(),gt==null||gt({event:P.nativeEvent}),!0)}return!1}}];function Ye(P){return Boolean(P&&"distance"in P)}function Pt(P){return Boolean(P&&"delay"in P)}class Dn{constructor(V,pe,Fe){var gt;Fe===void 0&&(Fe=en(V.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=V,this.events=pe;const{event:ut}=V,{target:z}=ut;this.props=V,this.events=pe,this.document=(0,D.r3)(z),this.documentListeners=new _n(this.document),this.listeners=new _n(Fe),this.windowListeners=new _n((0,D.Jj)(z)),this.initialCoordinates=(gt=(0,D.DC)(ut))!=null?gt:ot,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:V,props:{options:{activationConstraint:pe}}}=this;if(this.listeners.add(V.move.name,this.handleMove,{passive:!1}),this.listeners.add(V.end.name,this.handleEnd),this.windowListeners.add(ur.Resize,this.handleCancel),this.windowListeners.add(ur.DragStart,rr),this.windowListeners.add(ur.VisibilityChange,this.handleCancel),this.windowListeners.add(ur.ContextMenu,rr),this.documentListeners.add(ur.Keydown,this.handleKeydown),pe){if(Ye(pe))return;if(Pt(pe)){this.timeoutId=setTimeout(this.handleStart,pe.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:V}=this,{onStart:pe}=this.props;V&&(this.activated=!0,this.documentListeners.add(ur.Click,jr,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ur.SelectionChange,this.removeTextSelection),pe(V))}handleMove(V){var pe;const{activated:Fe,initialCoordinates:gt,props:ut}=this,{onMove:z,options:{activationConstraint:re}}=ut;if(!gt)return;const R=(pe=(0,D.DC)(V))!=null?pe:ot,Z=(0,D.$X)(gt,R);if(!Fe&&re){if(Pt(re))return Mn(Z,re.tolerance)?this.handleCancel():void 0;if(Ye(re))return re.tolerance!=null&&Mn(Z,re.tolerance)?this.handleCancel():Mn(Z,re.distance)?this.handleStart():void 0}V.cancelable&&V.preventDefault(),z(R)}handleEnd(){const{onEnd:V}=this.props;this.detach(),V()}handleCancel(){const{onCancel:V}=this.props;this.detach(),V()}handleKeydown(V){V.code===Zn.Esc&&this.handleCancel()}removeTextSelection(){var V;(V=this.document.getSelection())==null||V.removeAllRanges()}}const bn={move:{name:"pointermove"},end:{name:"pointerup"}};class Nt extends Dn{constructor(V){const{event:pe}=V,Fe=(0,D.r3)(pe.target);super(V,bn,Fe)}}Nt.activators=[{eventName:"onPointerDown",handler:(P,V)=>{let{nativeEvent:pe}=P,{onActivation:Fe}=V;return!pe.isPrimary||pe.button!==0?!1:(Fe==null||Fe({event:pe}),!0)}}];const $t={move:{name:"mousemove"},end:{name:"mouseup"}};var lt;(function(P){P[P.RightClick=2]="RightClick"})(lt||(lt={}));class oe extends Dn{constructor(V){super(V,$t,(0,D.r3)(V.event.target))}}oe.activators=[{eventName:"onMouseDown",handler:(P,V)=>{let{nativeEvent:pe}=P,{onActivation:Fe}=V;return pe.button===lt.RightClick?!1:(Fe==null||Fe({event:pe}),!0)}}];const Ge={move:{name:"touchmove"},end:{name:"touchend"}};class Rt extends Dn{constructor(V){super(V,Ge)}static setup(){return window.addEventListener(Ge.move.name,V,{capture:!1,passive:!1}),function(){window.removeEventListener(Ge.move.name,V)};function V(){}}}Rt.activators=[{eventName:"onTouchStart",handler:(P,V)=>{let{nativeEvent:pe}=P,{onActivation:Fe}=V;const{touches:gt}=pe;return gt.length>1?!1:(Fe==null||Fe({event:pe}),!0)}}];var an;(function(P){P[P.Pointer=0]="Pointer",P[P.DraggableRect=1]="DraggableRect"})(an||(an={}));var jn;(function(P){P[P.TreeOrder=0]="TreeOrder",P[P.ReversedTreeOrder=1]="ReversedTreeOrder"})(jn||(jn={}));function pr(P){let{acceleration:V,activator:pe=an.Pointer,canScroll:Fe,draggingRect:gt,enabled:ut,interval:z=5,order:re=jn.TreeOrder,pointerCoordinates:R,scrollableAncestors:Z,scrollableAncestorRects:ze,delta:Je,threshold:Sn}=P;const Tn=xi({delta:Je,disabled:!ut}),[ir,on]=(0,D.Yz)(),or=(0,S.useRef)({x:0,y:0}),br=(0,S.useRef)({x:0,y:0}),gr=(0,S.useMemo)(()=>{switch(pe){case an.Pointer:return R?{top:R.y,bottom:R.y,left:R.x,right:R.x}:null;case an.DraggableRect:return gt}},[pe,gt,R]),Tr=(0,S.useRef)(null),Pi=(0,S.useCallback)(()=>{const Si=Tr.current;if(!Si)return;const ai=or.current.x*br.current.x,Oi=or.current.y*br.current.y;Si.scrollBy(ai,Oi)},[]),Gr=(0,S.useMemo)(()=>re===jn.TreeOrder?[...Z].reverse():Z,[re,Z]);(0,S.useEffect)(()=>{if(!ut||!Z.length||!gr){on();return}for(const Si of Gr){if((Fe==null?void 0:Fe(Si))===!1)continue;const ai=Z.indexOf(Si),Oi=ze[ai];if(!Oi)continue;const{direction:Zi,speed:lo}=Qt(Si,Oi,gr,V,Sn);for(const Bi of["x","y"])Tn[Bi][Zi[Bi]]||(lo[Bi]=0,Zi[Bi]=0);if(lo.x>0||lo.y>0){on(),Tr.current=Si,ir(Pi,z),or.current=lo,br.current=Zi;return}}or.current={x:0,y:0},br.current={x:0,y:0},on()},[V,Pi,Fe,on,ut,z,JSON.stringify(gr),JSON.stringify(Tn),ir,Z,Gr,ze,JSON.stringify(Sn)])}const Lr={x:{[Ue.Backward]:!1,[Ue.Forward]:!1},y:{[Ue.Backward]:!1,[Ue.Forward]:!1}};function xi(P){let{delta:V,disabled:pe}=P;const Fe=(0,D.D9)(V);return(0,D.Gj)(gt=>{if(pe||!Fe||!gt)return Lr;const ut={x:Math.sign(V.x-Fe.x),y:Math.sign(V.y-Fe.y)};return{x:{[Ue.Backward]:gt.x[Ue.Backward]||ut.x===-1,[Ue.Forward]:gt.x[Ue.Forward]||ut.x===1},y:{[Ue.Backward]:gt.y[Ue.Backward]||ut.y===-1,[Ue.Forward]:gt.y[Ue.Forward]||ut.y===1}}},[pe,V,Fe])}function Qr(P,V){const pe=V!==null?P.get(V):void 0,Fe=pe?pe.node.current:null;return(0,D.Gj)(gt=>{var ut;return V===null?null:(ut=Fe!=null?Fe:gt)!=null?ut:null},[Fe,V])}function ei(P,V){return(0,S.useMemo)(()=>P.reduce((pe,Fe)=>{const{sensor:gt}=Fe,ut=gt.activators.map(z=>({eventName:z.eventName,handler:V(z.handler,Fe)}));return[...pe,...ut]},[]),[P,V])}var ti;(function(P){P[P.Always=0]="Always",P[P.BeforeDragging=1]="BeforeDragging",P[P.WhileDragging=2]="WhileDragging"})(ti||(ti={}));var Yi;(function(P){P.Optimized="optimized"})(Yi||(Yi={}));const b=new Map;function H(P,V){let{dragging:pe,dependencies:Fe,config:gt}=V;const[ut,z]=(0,S.useState)(null),{frequency:re,measure:R,strategy:Z}=gt,ze=(0,S.useRef)(P),Je=or(),Sn=(0,D.Ey)(Je),Tn=(0,S.useCallback)(function(br){br===void 0&&(br=[]),!Sn.current&&z(gr=>gr===null?br:gr.concat(br.filter(Tr=>!gr.includes(Tr))))},[Sn]),ir=(0,S.useRef)(null),on=(0,D.Gj)(br=>{if(Je&&!pe)return b;if(!br||br===b||ze.current!==P||ut!=null){const gr=new Map;for(let Tr of P){if(!Tr)continue;if(ut&&ut.length>0&&!ut.includes(Tr.id)&&Tr.rect.current){gr.set(Tr.id,Tr.rect.current);continue}const Pi=Tr.node.current,Gr=Pi?new jt(R(Pi),Pi):null;Tr.rect.current=Gr,Gr&&gr.set(Tr.id,Gr)}return gr}return br},[P,ut,pe,Je,R]);return(0,S.useEffect)(()=>{ze.current=P},[P]),(0,S.useEffect)(()=>{Je||Tn()},[pe,Je]),(0,S.useEffect)(()=>{ut&&ut.length>0&&z(null)},[JSON.stringify(ut)]),(0,S.useEffect)(()=>{Je||typeof re!="number"||ir.current!==null||(ir.current=setTimeout(()=>{Tn(),ir.current=null},re))},[re,Je,Tn,...Fe]),{droppableRects:on,measureDroppableContainers:Tn,measuringScheduled:ut!=null};function or(){switch(Z){case ti.Always:return!1;case ti.BeforeDragging:return pe;default:return!pe}}}function E(P,V){return(0,D.Gj)(pe=>P?pe||(typeof V=="function"?V(P):P):null,[V,P])}function T(P,V){return E(P,V)}function Q(P){let{callback:V,disabled:pe}=P;const Fe=(0,D.zX)(V),gt=(0,S.useMemo)(()=>{if(pe||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:ut}=window;return new ut(Fe)},[Fe,pe]);return(0,S.useEffect)(()=>()=>gt==null?void 0:gt.disconnect(),[gt]),gt}function le(P){let{callback:V,disabled:pe}=P;const Fe=(0,D.zX)(V),gt=(0,S.useMemo)(()=>{if(pe||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:ut}=window;return new ut(Fe)},[pe]);return(0,S.useEffect)(()=>()=>gt==null?void 0:gt.disconnect(),[gt]),gt}function We(P){return new jt(te(P),P)}function st(P,V,pe){V===void 0&&(V=We);const[Fe,gt]=(0,S.useReducer)(re,null),ut=Q({callback(R){if(P)for(const Z of R){const{type:ze,target:Je}=Z;if(ze==="childList"&&Je instanceof HTMLElement&&Je.contains(P)){gt();break}}}}),z=le({callback:gt});return(0,D.LI)(()=>{gt(),P?(z==null||z.observe(P),ut==null||ut.observe(document.body,{childList:!0,subtree:!0})):(z==null||z.disconnect(),ut==null||ut.disconnect())},[P]),Fe;function re(R){if(!P)return null;if(P.isConnected===!1){var Z;return(Z=R!=null?R:pe)!=null?Z:null}const ze=V(P);return JSON.stringify(R)===JSON.stringify(ze)?R:ze}}function Qe(P){const V=E(P);return Ce(P,V)}const be=[];function Y(P){const V=(0,S.useRef)(P),pe=(0,D.Gj)(Fe=>P?Fe&&Fe!==be&&P&&V.current&&P.parentNode===V.current.parentNode?Fe:ke(P):be,[P]);return(0,S.useEffect)(()=>{V.current=P},[P]),pe}function ie(P){const[V,pe]=(0,S.useState)(null),Fe=(0,S.useRef)(P),gt=(0,S.useCallback)(ut=>{const z=Et(ut.target);z&&pe(re=>re?(re.set(z,pt(z)),new Map(re)):null)},[]);return(0,S.useEffect)(()=>{const ut=Fe.current;if(P!==ut){z(ut);const re=P.map(R=>{const Z=Et(R);return Z?(Z.addEventListener("scroll",gt,{passive:!0}),[Z,pt(Z)]):null}).filter(R=>R!=null);pe(re.length?new Map(re):null),Fe.current=P}return()=>{z(P),z(ut)};function z(re){re.forEach(R=>{const Z=Et(R);Z==null||Z.removeEventListener("scroll",gt)})}},[gt,P]),(0,S.useMemo)(()=>P.length?V?Array.from(V.values()).reduce((ut,z)=>(0,D.IH)(ut,z),ot):sn(P):ot,[P,V])}function Ie(P,V){V===void 0&&(V=[]);const pe=(0,S.useRef)(null);return(0,S.useEffect)(()=>{pe.current=null},V),(0,S.useEffect)(()=>{const Fe=P!==ot;Fe&&!pe.current&&(pe.current=P),!Fe&&pe.current&&(pe.current=null)},[P]),pe.current?(0,D.$X)(P,pe.current):ot}function Ze(P){(0,S.useEffect)(()=>{if(!D.Nq)return;const V=P.map(pe=>{let{sensor:Fe}=pe;return Fe.setup==null?void 0:Fe.setup()});return()=>{for(const pe of V)pe==null||pe()}},P.map(V=>{let{sensor:pe}=V;return pe}))}function tt(P,V){return(0,S.useMemo)(()=>P.reduce((pe,Fe)=>{let{eventName:gt,handler:ut}=Fe;return pe[gt]=z=>{ut(z,V)},pe},{}),[P,V])}function Zt(P){return(0,S.useMemo)(()=>P?Le(P):null,[P])}const Ft=[];function vt(P,V){V===void 0&&(V=te);const[pe]=P,Fe=Zt(pe?(0,D.Jj)(pe):null),[gt,ut]=(0,S.useReducer)(re,Ft),z=le({callback:ut});return P.length>0&&gt===Ft&&ut(),(0,D.LI)(()=>{P.length?P.forEach(R=>z==null?void 0:z.observe(R)):(z==null||z.disconnect(),ut())},[P]),gt;function re(){return P.length?P.map(R=>yt(R)?Fe:new jt(V(R),R)):Ft}}function dt(P){if(!P)return null;if(P.children.length>1)return P;const V=P.children[0];return(0,D.Re)(V)?V:P}function Ct(P){let{measure:V}=P;const[pe,Fe]=(0,S.useState)(null),gt=(0,S.useCallback)(Z=>{for(const{target:ze}of Z)if((0,D.Re)(ze)){Fe(Je=>{const Sn=V(ze);return Je?Yr(St({},Je),{width:Sn.width,height:Sn.height}):Sn});break}},[V]),ut=le({callback:gt}),z=(0,S.useCallback)(Z=>{const ze=dt(Z);ut==null||ut.disconnect(),ze&&(ut==null||ut.observe(ze)),Fe(ze?V(ze):null)},[V,ut]),[re,R]=(0,D.wm)(z);return(0,S.useMemo)(()=>({nodeRef:re,rect:pe,setRef:R}),[pe,re,R])}const rn=[{sensor:Nt,options:{}},{sensor:$e,options:{}}],zn={current:{}},Jn={draggable:{measure:ge},droppable:{measure:ge,strategy:ti.WhileDragging,frequency:Yi.Optimized},dragOverlay:{measure:te}};class qn extends Map{get(V){var pe;return V!=null&&(pe=super.get(V))!=null?pe:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(V=>{let{disabled:pe}=V;return!pe})}getNodeFor(V){var pe,Fe;return(pe=(Fe=this.get(V))==null?void 0:Fe.node.current)!=null?pe:void 0}}const $n={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new qn,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Hn},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Jn,measureDroppableContainers:Hn,windowRect:null,measuringScheduled:!1},Qn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Hn,draggableNodes:new Map,over:null,measureDroppableContainers:Hn},_r=(0,S.createContext)(Qn),En=(0,S.createContext)($n);function cr(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new qn}}}function Nr(P,V){switch(V.type){case ee.DragStart:return Yr(St({},P),{draggable:Yr(St({},P.draggable),{initialCoordinates:V.initialCoordinates,active:V.active})});case ee.DragMove:return P.draggable.active?Yr(St({},P),{draggable:Yr(St({},P.draggable),{translate:{x:V.coordinates.x-P.draggable.initialCoordinates.x,y:V.coordinates.y-P.draggable.initialCoordinates.y}})}):P;case ee.DragEnd:case ee.DragCancel:return Yr(St({},P),{draggable:Yr(St({},P.draggable),{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case ee.RegisterDroppable:{const{element:pe}=V,{id:Fe}=pe,gt=new qn(P.droppable.containers);return gt.set(Fe,pe),Yr(St({},P),{droppable:Yr(St({},P.droppable),{containers:gt})})}case ee.SetDroppableDisabled:{const{id:pe,key:Fe,disabled:gt}=V,ut=P.droppable.containers.get(pe);if(!ut||Fe!==ut.key)return P;const z=new qn(P.droppable.containers);return z.set(pe,Yr(St({},ut),{disabled:gt})),Yr(St({},P),{droppable:Yr(St({},P.droppable),{containers:z})})}case ee.UnregisterDroppable:{const{id:pe,key:Fe}=V,gt=P.droppable.containers.get(pe);if(!gt||Fe!==gt.key)return P;const ut=new qn(P.droppable.containers);return ut.delete(pe),Yr(St({},P),{droppable:Yr(St({},P.droppable),{containers:ut})})}default:return P}}function yi(P){let{disabled:V}=P;const{active:pe,activatorEvent:Fe,draggableNodes:gt}=(0,S.useContext)(_r),ut=(0,D.D9)(Fe),z=(0,D.D9)(pe==null?void 0:pe.id);return(0,S.useEffect)(()=>{if(!V&&!Fe&&ut&&z!=null){if(!(0,D.vd)(ut)||document.activeElement===ut.target)return;const re=gt.get(z);if(!re)return;const{activatorNode:R,node:Z}=re;if(!R.current&&!Z.current)return;requestAnimationFrame(()=>{for(const ze of[R.current,Z.current]){if(!ze)continue;const Je=(0,D.so)(ze);if(Je){Je.focus();break}}})}},[Fe,V,gt,z,ut]),null}function Wr(P,V){let gt=V,{transform:pe}=gt,Fe=gs(gt,["transform"]);return P!=null&&P.length?P.reduce((ut,z)=>z(St({transform:ut},Fe)),pe):pe}function ho(P){return(0,S.useMemo)(()=>({draggable:St(St({},Jn.draggable),P==null?void 0:P.draggable),droppable:St(St({},Jn.droppable),P==null?void 0:P.droppable),dragOverlay:St(St({},Jn.dragOverlay),P==null?void 0:P.dragOverlay)}),[P==null?void 0:P.draggable,P==null?void 0:P.droppable,P==null?void 0:P.dragOverlay])}function io(P){let{activeNode:V,measure:pe,initialRect:Fe,config:gt=!0}=P;const ut=(0,S.useRef)(!1),{x:z,y:re}=typeof gt=="boolean"?{x:gt,y:gt}:gt;(0,D.LI)(()=>{if(!z&&!re||!V){ut.current=!1;return}if(ut.current||!Fe)return;const Z=V==null?void 0:V.node.current;if(!Z||Z.isConnected===!1)return;const ze=pe(Z),Je=Ce(ze,Fe);if(z||(Je.x=0),re||(Je.y=0),ut.current=!0,Math.abs(Je.x)>0||Math.abs(Je.y)>0){const Sn=Te(Z);Sn&&Sn.scrollBy({top:Je.y,left:Je.x})}},[V,z,re,Fe,pe])}const Ki=(0,S.createContext)(Yr(St({},ot),{scaleX:1,scaleY:1}));var Di;(function(P){P[P.Uninitialized=0]="Uninitialized",P[P.Initializing=1]="Initializing",P[P.Initialized=2]="Initialized"})(Di||(Di={}));const Co=(0,S.memo)(function(V){var pe,Fe,gt,ut;let K1=V,{id:z,accessibility:re,autoScroll:R=!0,children:Z,sensors:ze=rn,collisionDetection:Je=ae,measuring:Sn,modifiers:Tn}=K1,ir=gs(K1,["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"]);const on=(0,S.useReducer)(Nr,void 0,cr),[or,br]=on,[gr,Tr]=at(),[Pi,Gr]=(0,S.useState)(Di.Uninitialized),Si=Pi===Di.Initialized,{draggable:{active:ai,nodes:Oi,translate:Zi},droppable:{containers:lo}}=or,Bi=ai?Oi.get(ai):null,Hi=(0,S.useRef)({initial:null,translated:null}),No=(0,S.useMemo)(()=>{var gi;return ai!=null?{id:ai,data:(gi=Bi==null?void 0:Bi.data)!=null?gi:zn,rect:Hi}:null},[ai,Bi]),Ao=(0,S.useRef)(null),[da,fs]=(0,S.useState)(null),[Ei,Ys]=(0,S.useState)(null),ha=(0,D.Ey)(ir,Object.values(ir)),g1=(0,D.Ld)("DndDescribedBy",z),pa=(0,S.useMemo)(()=>lo.getEnabled(),[lo]),Ta=ho(Sn),{droppableRects:Fa,measureDroppableContainers:n1,measuringScheduled:so}=H(pa,{dragging:Si,dependencies:[Zi.x,Zi.y],config:Ta.droppable}),Ks=Qr(Oi,ai),G1=(0,S.useMemo)(()=>Ei?(0,D.DC)(Ei):null,[Ei]),X1=va(),D1=T(Ks,Ta.draggable.measure);io({activeNode:ai?Oi.get(ai):null,config:X1.layoutShiftCompensation,initialRect:D1,measure:Ta.draggable.measure});const ns=st(Ks,Ta.draggable.measure,D1),ma=st(Ks?Ks.parentElement:null),Vs=(0,S.useRef)({activatorEvent:null,active:null,activeNode:Ks,collisionRect:null,collisions:null,droppableRects:Fa,draggableNodes:Oi,draggingNode:null,draggingNodeRect:null,droppableContainers:lo,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),r1=lo.getNodeFor((pe=Vs.current.over)==null?void 0:pe.id),ko=Ct({measure:Ta.dragOverlay.measure}),ds=(Fe=ko.nodeRef.current)!=null?Fe:Ks,yo=Si?(gt=ko.rect)!=null?gt:ns:null,kr=Boolean(ko.nodeRef.current&&ko.rect),ga=Qe(kr?null:ns),hn=Zt(ds?(0,D.Jj)(ds):null),Jr=Y(Si?r1!=null?r1:Ks:null),Es=vt(Jr),ka=Wr(Tn,{transform:{x:Zi.x-ga.x,y:Zi.y-ga.y,scaleX:1,scaleY:1},activatorEvent:Ei,active:No,activeNodeRect:ns,containerNodeRect:ma,draggingNodeRect:yo,over:Vs.current.over,overlayNodeRect:ko.rect,scrollableAncestors:Jr,scrollableAncestorRects:Es,windowRect:hn}),Rs=G1?(0,D.IH)(G1,Zi):null,wi=ie(Jr),Ji=Ie(wi),i1=Ie(wi,[ns]),Do=(0,D.IH)(ka,Ji),Ls=yo?K(yo,ka):null,Aa=No&&Ls?Je({active:No,collisionRect:Ls,droppableRects:Fa,droppableContainers:pa,pointerCoordinates:Rs}):null,v1=Wt(Aa,"id"),[ra,bl]=(0,S.useState)(null),$a=kr?ka:(0,D.IH)(ka,i1),o1=Oe($a,(ut=ra==null?void 0:ra.rect)!=null?ut:null,ns),Wa=(0,S.useCallback)((gi,Br)=>{let{sensor:co,options:is}=Br;if(Ao.current==null)return;const Ro=Oi.get(Ao.current);if(!Ro)return;const os=gi.nativeEvent,hs=new co({active:Ao.current,activeNode:Ro,event:os,options:is,context:Vs,onStart(mo){const ce=Ao.current;if(ce==null)return;const ia=Oi.get(ce);if(!ia)return;const{onDragStart:ja}=ha.current,$o={active:{id:ce,data:ia.data,rect:Hi}};(0,B.unstable_batchedUpdates)(()=>{ja==null||ja($o),Gr(Di.Initializing),br({type:ee.DragStart,initialCoordinates:mo,active:ce}),gr({type:"onDragStart",event:$o})})},onMove(mo){br({type:ee.DragMove,coordinates:mo})},onEnd:Za(ee.DragEnd),onCancel:Za(ee.DragCancel)});(0,B.unstable_batchedUpdates)(()=>{fs(hs),Ys(gi.nativeEvent)});function Za(mo){return function(){return Yl(this,null,function*(){const{active:ia,collisions:ja,over:$o,scrollAdjustedTranslate:Ts}=Vs.current;let So=null;if(ia&&Ts){const{cancelDrop:Bo}=ha.current;So={activatorEvent:os,active:ia,collisions:ja,delta:Ts,over:$o},mo===ee.DragEnd&&typeof Bo=="function"&&(yield Promise.resolve(Bo(So)))&&(mo=ee.DragCancel)}Ao.current=null,(0,B.unstable_batchedUpdates)(()=>{br({type:mo}),Gr(Di.Uninitialized),bl(null),fs(null),Ys(null);const Bo=mo===ee.DragEnd?"onDragEnd":"onDragCancel";if(So){const to=ha.current[Bo];to==null||to(So),gr({type:Bo,event:So})}})})}}},[Oi]),rs=(0,S.useCallback)((gi,Br)=>(co,is)=>{const Ro=co.nativeEvent,os=Oi.get(is);if(Ao.current!==null||!os||Ro.dndKit||Ro.defaultPrevented)return;const hs={active:os};gi(co,Br.options,hs)===!0&&(Ro.dndKit={capturedBy:Br.sensor},Ao.current=is,Wa(co,Br))},[Oi,Wa]),Js=ei(ze,rs);Ze(ze),(0,D.LI)(()=>{ns&&Pi===Di.Initializing&&Gr(Di.Initialized)},[ns,Pi]),(0,S.useEffect)(()=>{const{onDragMove:gi}=ha.current,{active:Br,activatorEvent:co,collisions:is,over:Ro}=Vs.current;if(!Br||!co)return;const os={active:Br,activatorEvent:co,collisions:is,delta:{x:Do.x,y:Do.y},over:Ro};(0,B.unstable_batchedUpdates)(()=>{gi==null||gi(os),gr({type:"onDragMove",event:os})})},[Do.x,Do.y]),(0,S.useEffect)(()=>{const{active:gi,activatorEvent:Br,collisions:co,droppableContainers:is,scrollAdjustedTranslate:Ro}=Vs.current;if(!gi||Ao.current==null||!Br||!Ro)return;const{onDragOver:os}=ha.current,hs=is.get(v1),Za=hs&&hs.rect.current?{id:hs.id,rect:hs.rect.current,data:hs.data,disabled:hs.disabled}:null,mo={active:gi,activatorEvent:Br,collisions:co,delta:{x:Ro.x,y:Ro.y},over:Za};(0,B.unstable_batchedUpdates)(()=>{bl(Za),os==null||os(mo),gr({type:"onDragOver",event:mo})})},[v1]),(0,D.LI)(()=>{Vs.current={activatorEvent:Ei,active:No,activeNode:Ks,collisionRect:Ls,collisions:Aa,droppableRects:Fa,draggableNodes:Oi,draggingNode:ds,draggingNodeRect:yo,droppableContainers:lo,over:ra,scrollableAncestors:Jr,scrollAdjustedTranslate:Do},Hi.current={initial:yo,translated:Ls}},[No,Ks,Aa,Ls,Oi,ds,yo,Fa,lo,ra,Jr,Do]),pr(Yr(St({},X1),{delta:Zi,draggingRect:Ls,pointerCoordinates:Rs,scrollableAncestors:Jr,scrollableAncestorRects:Es}));const Y1=(0,S.useMemo)(()=>({active:No,activeNode:Ks,activeNodeRect:ns,activatorEvent:Ei,collisions:Aa,containerNodeRect:ma,dragOverlay:ko,draggableNodes:Oi,droppableContainers:lo,droppableRects:Fa,over:ra,measureDroppableContainers:n1,scrollableAncestors:Jr,scrollableAncestorRects:Es,measuringConfiguration:Ta,measuringScheduled:so,windowRect:hn}),[No,Ks,ns,Ei,Aa,ma,ko,Oi,lo,Fa,ra,n1,Jr,Es,Ta,so,hn]),Pa=(0,S.useMemo)(()=>({activatorEvent:Ei,activators:Js,active:No,activeNodeRect:ns,ariaDescribedById:{draggable:g1},dispatch:br,draggableNodes:Oi,over:ra,measureDroppableContainers:n1}),[Ei,Js,No,ns,br,g1,Oi,ra,n1]);return S.createElement(he.Provider,{value:Tr},S.createElement(_r.Provider,{value:Pa},S.createElement(En.Provider,{value:Y1},S.createElement(Ki.Provider,{value:o1},Z)),S.createElement(yi,{disabled:(re==null?void 0:re.restoreFocus)===!1})),S.createElement(Lt,Yr(St({},re),{hiddenTextDescribedById:g1})));function va(){const gi=(da==null?void 0:da.autoScrollEnabled)===!1,Br=typeof R=="object"?R.enabled===!1:R===!1,co=Si&&!gi&&!Br;return typeof R=="object"?Yr(St({},R),{enabled:co}):{enabled:co}}}),Fi=(0,S.createContext)(null),Ti="button",hi="Droppable";function xo(P){let{id:V,data:pe,disabled:Fe=!1,attributes:gt}=P;const ut=(0,D.Ld)(hi),{activators:z,activatorEvent:re,active:R,activeNodeRect:Z,ariaDescribedById:ze,draggableNodes:Je,over:Sn}=(0,S.useContext)(_r),{role:Tn=Ti,roleDescription:ir="draggable",tabIndex:on=0}=gt!=null?gt:{},or=(R==null?void 0:R.id)===V,br=(0,S.useContext)(or?Ki:Fi),[gr,Tr]=(0,D.wm)(),[Pi,Gr]=(0,D.wm)(),Si=tt(z,V),ai=(0,D.Ey)(pe);(0,D.LI)(()=>(Je.set(V,{id:V,key:ut,node:gr,activatorNode:Pi,data:ai}),()=>{const Zi=Je.get(V);Zi&&Zi.key===ut&&Je.delete(V)}),[Je,V]);const Oi=(0,S.useMemo)(()=>({role:Tn,tabIndex:on,"aria-disabled":Fe,"aria-pressed":or&&Tn===Ti?!0:void 0,"aria-roledescription":ir,"aria-describedby":ze.draggable}),[Fe,Tn,on,or,ir,ze.draggable]);return{active:R,activatorEvent:re,activeNodeRect:Z,attributes:Oi,isDragging:or,listeners:Fe?void 0:Si,node:gr,over:Sn,setNodeRef:Tr,setActivatorNodeRef:Gr,transform:br}}function Ai(){return(0,S.useContext)(En)}const Ss="Droppable",vs={timeout:25};function Fo(P){let{data:V,disabled:pe=!1,id:Fe,resizeObserverConfig:gt}=P;const ut=(0,D.Ld)(Ss),{active:z,dispatch:re,over:R,measureDroppableContainers:Z}=(0,S.useContext)(_r),ze=(0,S.useRef)({disabled:pe}),Je=(0,S.useRef)(!1),Sn=(0,S.useRef)(null),Tn=(0,S.useRef)(null),{disabled:ir,updateMeasurementsFor:on,timeout:or}=St(St({},vs),gt),br=(0,D.Ey)(on!=null?on:Fe),gr=(0,S.useCallback)(()=>{if(!Je.current){Je.current=!0;return}Tn.current!=null&&clearTimeout(Tn.current),Tn.current=setTimeout(()=>{Z(Array.isArray(br.current)?br.current:[br.current]),Tn.current=null},or)},[or]),Tr=le({callback:gr,disabled:ir||!z}),Pi=(0,S.useCallback)((Oi,Zi)=>{Tr&&(Zi&&(Tr.unobserve(Zi),Je.current=!1),Oi&&Tr.observe(Oi))},[Tr]),[Gr,Si]=(0,D.wm)(Pi),ai=(0,D.Ey)(V);return(0,S.useEffect)(()=>{!Tr||!Gr.current||(Tr.disconnect(),Je.current=!1,Tr.observe(Gr.current))},[Gr,Tr]),(0,D.LI)(()=>(re({type:ee.RegisterDroppable,element:{id:Fe,key:ut,disabled:pe,node:Gr,rect:Sn,data:ai}}),()=>re({type:ee.UnregisterDroppable,key:ut,id:Fe})),[Fe]),(0,S.useEffect)(()=>{pe!==ze.current.disabled&&(re({type:ee.SetDroppableDisabled,id:Fe,key:ut,disabled:pe}),ze.current.disabled=pe)},[Fe,ut,pe,re]),{active:z,rect:Sn,isOver:(R==null?void 0:R.id)===Fe,node:Gr,over:R,setNodeRef:Si}}function Ra(P){let{animation:V,children:pe}=P;const[Fe,gt]=(0,S.useState)(null),[ut,z]=(0,S.useState)(null),re=(0,D.D9)(pe);return!pe&&!Fe&&re&&gt(re),(0,D.LI)(()=>{if(!ut)return;const R=Fe==null?void 0:Fe.key,Z=Fe==null?void 0:Fe.props.id;if(R==null||Z==null){gt(null);return}Promise.resolve(V(Z,ut)).then(()=>{gt(null)})},[V,Fe,ut]),S.createElement(S.Fragment,null,pe,Fe?(0,S.cloneElement)(Fe,{ref:z}):null)}const La={x:0,y:0,scaleX:1,scaleY:1};function Va(P){let{children:V}=P;return S.createElement(_r.Provider,{value:Qn},S.createElement(Ki.Provider,{value:La},V))}const fa={position:"fixed",touchAction:"none"},oo=P=>(0,D.vd)(P)?"transform 250ms ease":void 0,cs=(0,S.forwardRef)((P,V)=>{let{as:pe,activatorEvent:Fe,adjustScale:gt,children:ut,className:z,rect:re,style:R,transform:Z,transition:ze=oo}=P;if(!re)return null;const Je=gt?Z:Yr(St({},Z),{scaleX:1,scaleY:1}),Sn=St(Yr(St({},fa),{width:re.width,height:re.height,top:re.top,left:re.left,transform:D.ux.Transform.toString(Je),transformOrigin:gt&&Fe?vn(Fe,re):void 0,transition:typeof ze=="function"?ze(Fe):ze}),R);return S.createElement(pe,{className:z,style:Sn,ref:V},ut)}),Xs=P=>V=>{let{active:pe,dragOverlay:Fe}=V;const gt={},{styles:ut,className:z}=P;if(ut!=null&&ut.active)for(const[re,R]of Object.entries(ut.active))R!==void 0&&(gt[re]=pe.node.style.getPropertyValue(re),pe.node.style.setProperty(re,R));if(ut!=null&&ut.dragOverlay)for(const[re,R]of Object.entries(ut.dragOverlay))R!==void 0&&Fe.node.style.setProperty(re,R);return z!=null&&z.active&&pe.node.classList.add(z.active),z!=null&&z.dragOverlay&&Fe.node.classList.add(z.dragOverlay),function(){for(const[R,Z]of Object.entries(gt))pe.node.style.setProperty(R,Z);z!=null&&z.active&&pe.node.classList.remove(z.active)}},na={duration:250,easing:"ease",keyframes:P=>{let{transform:{initial:V,final:pe}}=P;return[{transform:D.ux.Transform.toString(V)},{transform:D.ux.Transform.toString(pe)}]},sideEffects:Xs({styles:{active:{opacity:"0"}}})};function us(P){let{config:V,draggableNodes:pe,droppableContainers:Fe,measuringConfiguration:gt}=P;return(0,D.zX)((ut,z)=>{if(V===null)return;const re=pe.get(ut);if(!re)return;const R=re.node.current;if(!R)return;const Z=dt(z);if(!Z)return;const{transform:ze}=(0,D.Jj)(z).getComputedStyle(z),Je=me(ze);if(!Je)return;const Sn=typeof V=="function"?V:Vr(V);return oi(R,gt.draggable.measure),Sn({active:{id:ut,data:re.data,node:R,rect:gt.draggable.measure(R)},draggableNodes:pe,dragOverlay:{node:z,rect:gt.dragOverlay.measure(Z)},droppableContainers:Fe,measuringConfiguration:gt,transform:Je})})}function Vr(P){const{duration:V,easing:pe,sideEffects:Fe,keyframes:gt}=St(St({},na),P);return ut=>{let gr=ut,{active:z,dragOverlay:re,transform:R}=gr,Z=gs(gr,["active","dragOverlay","transform"]);if(!V)return;const ze={x:re.rect.left-z.rect.left,y:re.rect.top-z.rect.top},Je={scaleX:R.scaleX!==1?z.rect.width*R.scaleX/re.rect.width:1,scaleY:R.scaleY!==1?z.rect.height*R.scaleY/re.rect.height:1},Sn=St({x:R.x-ze.x,y:R.y-ze.y},Je),Tn=gt(Yr(St({},Z),{active:z,dragOverlay:re,transform:{initial:R,final:Sn}})),[ir]=Tn,on=Tn[Tn.length-1];if(JSON.stringify(ir)===JSON.stringify(on))return;const or=Fe==null?void 0:Fe(St({active:z,dragOverlay:re},Z)),br=re.node.animate(Tn,{duration:V,easing:pe,fill:"forwards"});return new Promise(Tr=>{br.onfinish=()=>{or==null||or(),Tr()}})}}let Ko=0;function ts(P){return(0,S.useMemo)(()=>{if(P!=null)return Ko++,Ko},[P])}const po=S.memo(P=>{let{adjustScale:V=!1,children:pe,dropAnimation:Fe,style:gt,transition:ut,modifiers:z,wrapperElement:re="div",className:R,zIndex:Z=999}=P;const{activatorEvent:ze,active:Je,activeNodeRect:Sn,containerNodeRect:Tn,draggableNodes:ir,droppableContainers:on,dragOverlay:or,over:br,measuringConfiguration:gr,scrollableAncestors:Tr,scrollableAncestorRects:Pi,windowRect:Gr}=Ai(),Si=(0,S.useContext)(Ki),ai=ts(Je==null?void 0:Je.id),Oi=Wr(z,{activatorEvent:ze,active:Je,activeNodeRect:Sn,containerNodeRect:Tn,draggingNodeRect:or.rect,over:br,overlayNodeRect:or.rect,scrollableAncestors:Tr,scrollableAncestorRects:Pi,transform:Si,windowRect:Gr}),Zi=E(Sn),lo=us({config:Fe,draggableNodes:ir,droppableContainers:on,measuringConfiguration:gr}),Bi=Zi?or.setRef:void 0;return S.createElement(Va,null,S.createElement(Ra,{animation:lo},Je&&ai?S.createElement(cs,{key:ai,id:Je.id,ref:Bi,as:re,activatorEvent:ze,adjustScale:V,className:R,transition:ut,rect:Zi,style:St({zIndex:Z},gt),transform:Oi},pe):null))})},59671:function(qt,je,G){"use strict";G.d(je,{Fo:function(){return At},Rp:function(){return Ne},is:function(){return Ae},nB:function(){return Me},qw:function(){return Hn}});var S=G(50959),B=G(28257),D=G(84341);function Ne(F,K,me){const W=F.slice();return W.splice(me<0?W.length+me:me,0,W.splice(K,1)[0]),W}function qe(F,K,me){const W=F.slice();return W[K]=F[me],W[me]=F[K],W}function xt(F,K){return F.reduce((me,W,se)=>{const te=K.get(W);return te&&(me[se]=te),me},Array(F.length))}function de(F){return F!==null&&F>=0}function Ot(F,K){if(F===K)return!0;if(F.length!==K.length)return!1;for(let me=0;me<F.length;me++)if(F[me]!==K[me])return!1;return!0}function he(F){return typeof F=="boolean"?{draggable:F,droppable:F}:F}const Be={scaleX:1,scaleY:1},at=F=>{var K;let{rects:me,activeNodeRect:W,activeIndex:se,overIndex:te,index:ge}=F;const Le=(K=me[se])!=null?K:W;if(!Le)return null;const De=xe(me,ge,se);if(ge===se){const ye=me[te];return ye?St({x:se<te?ye.left+ye.width-(Le.left+Le.width):ye.left-Le.left,y:0},Be):null}return ge>se&&ge<=te?St({x:-Le.width-De,y:0},Be):ge<se&&ge>=te?St({x:Le.width+De,y:0},Be):St({x:0,y:0},Be)};function xe(F,K,me){const W=F[K],se=F[K-1],te=F[K+1];return!W||!se&&!te?0:me<K?se?W.left-(se.left+se.width):te.left-(W.left+W.width):te?te.left-(W.left+W.width):W.left-(se.left+se.width)}const mt=F=>{let{rects:K,activeIndex:me,overIndex:W,index:se}=F;const te=Ne(K,W,me),ge=K[se],Le=te[se];return!Le||!ge?null:{x:Le.left-ge.left,y:Le.top-ge.top,scaleX:Le.width/ge.width,scaleY:Le.height/ge.height}},Lt=F=>{let{activeIndex:K,index:me,rects:W,overIndex:se}=F,te,ge;return me===K&&(te=W[me],ge=W[se]),me===se&&(te=W[me],ge=W[K]),!ge||!te?null:{x:ge.left-te.left,y:ge.top-te.top,scaleX:ge.width/te.width,scaleY:ge.height/te.height}},ee={scaleX:1,scaleY:1},Hn=F=>{var K;let{activeIndex:me,activeNodeRect:W,index:se,rects:te,overIndex:ge}=F;const Le=(K=te[me])!=null?K:W;if(!Le)return null;if(se===me){const ye=te[ge];return ye?St({x:0,y:me<ge?ye.top+ye.height-(Le.top+Le.height):ye.top-Le.top},ee):null}const De=fn(te,se,me);return se>me&&se<=ge?St({x:0,y:-Le.height-De},ee):se<me&&se>=ge?St({x:0,y:Le.height+De},ee):St({x:0,y:0},ee)};function fn(F,K,me){const W=F[K],se=F[K-1],te=F[K+1];return W?me<K?se?W.top-(se.top+se.height):te?te.top-(W.top+W.height):0:te?te.top-(W.top+W.height):se?W.top-(se.top+se.height):0:0}const gn="Sortable",ot=S.createContext({activeIndex:-1,containerId:gn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:mt,disabled:{draggable:!1,droppable:!1}});function At(F){let{children:K,id:me,items:W,strategy:se=mt,disabled:te=!1}=F;const{active:ge,dragOverlay:Le,droppableRects:De,over:ye,measureDroppableContainers:ke}=(0,B.Cj)(),Te=(0,D.Ld)(gn,me),Et=Boolean(Le.rect!==null),zt=(0,S.useMemo)(()=>W.map(sn=>typeof sn=="object"&&"id"in sn?sn.id:sn),[W]),_t=ge!=null,pt=ge?zt.indexOf(ge.id):-1,Ue=ye?zt.indexOf(ye.id):-1,yt=(0,S.useRef)(zt),Vt=!Ot(zt,yt.current),Rn=Ue!==-1&&pt===-1||Vt,Qt=he(te);(0,D.LI)(()=>{Vt&&_t&&ke(zt)},[Vt,zt,_t,ke]),(0,S.useEffect)(()=>{yt.current=zt},[zt]);const In=(0,S.useMemo)(()=>({activeIndex:pt,containerId:Te,disabled:Qt,disableTransforms:Rn,items:zt,overIndex:Ue,useDragOverlay:Et,sortedRects:xt(zt,De),strategy:se}),[pt,Te,Qt.draggable,Qt.droppable,Rn,zt,Ue,De,Et,se]);return S.createElement(ot.Provider,{value:In},K)}const vn=F=>{let{id:K,items:me,activeIndex:W,overIndex:se}=F;return Ne(me,W,se).indexOf(K)},Kt=F=>{let{containerId:K,isSorting:me,wasDragging:W,index:se,items:te,newIndex:ge,previousItems:Le,previousContainerId:De,transition:ye}=F;return!ye||!W||Le!==te&&se===ge?!1:me?!0:ge!==se&&K===De},Cn={duration:200,easing:"ease"},ln="transform",Wt=D.ux.Transition.toString({property:ln,duration:0,easing:"linear"}),An={roleDescription:"sortable"};function Yt(F){let{disabled:K,index:me,node:W,rect:se}=F;const[te,ge]=(0,S.useState)(null),Le=(0,S.useRef)(me);return(0,D.LI)(()=>{if(!K&&me!==Le.current&&W.current){const De=se.current;if(De){const ye=(0,B.VK)(W.current,{ignoreTransform:!0}),ke={x:De.left-ye.left,y:De.top-ye.top,scaleX:De.width/ye.width,scaleY:De.height/ye.height};(ke.x||ke.y)&&ge(ke)}}me!==Le.current&&(Le.current=me)},[K,me,W,se]),(0,S.useEffect)(()=>{te&&ge(null)},[te]),te}function Me(F){let{animateLayoutChanges:K=Kt,attributes:me,disabled:W,data:se,getNewIndex:te=vn,id:ge,strategy:Le,resizeObserverConfig:De,transition:ye=Cn}=F;const{items:ke,containerId:Te,activeIndex:Et,disabled:zt,disableTransforms:_t,sortedRects:pt,overIndex:Ue,useDragOverlay:yt,strategy:Vt}=(0,S.useContext)(ot),Rn=Ke(W,zt),Qt=ke.indexOf(ge),In=(0,S.useMemo)(()=>St({sortable:{containerId:Te,index:Qt,items:ke}},se),[Te,se,Qt,ke]),sn=(0,S.useMemo)(()=>ke.slice(ke.indexOf(ge)),[ke,ge]),{rect:dn,node:Cr,isOver:oi,setNodeRef:Tt}=(0,B.Zj)({id:ge,data:In,disabled:Rn.droppable,resizeObserverConfig:St({updateMeasurementsFor:sn},De)}),{active:jt,activatorEvent:_n,activeNodeRect:en,attributes:Mn,setNodeRef:ur,listeners:rr,isDragging:jr,over:Zn,setActivatorNodeRef:ve,transform:Xe}=(0,B.O1)({id:ge,data:In,attributes:St(St({},An),me),disabled:Rn.draggable}),$e=(0,D.HB)(Tt,ur),Ye=Boolean(jt),Pt=Ye&&!_t&&de(Et)&&de(Ue),Dn=!yt&&jr,bn=Dn&&Pt?Xe:null,Nt=Le!=null?Le:Vt,$t=Pt?bn!=null?bn:Nt({rects:pt,activeNodeRect:en,activeIndex:Et,overIndex:Ue,index:Qt}):null,lt=de(Et)&&de(Ue)?te({id:ge,items:ke,activeIndex:Et,overIndex:Ue}):Qt,oe=jt==null?void 0:jt.id,Ge=(0,S.useRef)({activeId:oe,items:ke,newIndex:lt,containerId:Te}),Rt=ke!==Ge.current.items,an=K({active:jt,containerId:Te,isDragging:jr,isSorting:Ye,id:ge,index:Qt,items:ke,newIndex:Ge.current.newIndex,previousItems:Ge.current.items,previousContainerId:Ge.current.containerId,transition:ye,wasDragging:Ge.current.activeId!=null}),jn=Yt({disabled:!an,index:Qt,node:Cr,rect:dn});return(0,S.useEffect)(()=>{Ye&&Ge.current.newIndex!==lt&&(Ge.current.newIndex=lt),Te!==Ge.current.containerId&&(Ge.current.containerId=Te),ke!==Ge.current.items&&(Ge.current.items=ke)},[Ye,lt,Te,ke]),(0,S.useEffect)(()=>{if(oe===Ge.current.activeId)return;if(oe&&!Ge.current.activeId){Ge.current.activeId=oe;return}const Lr=setTimeout(()=>{Ge.current.activeId=oe},50);return()=>clearTimeout(Lr)},[oe]),{active:jt,activeIndex:Et,attributes:Mn,data:In,rect:dn,index:Qt,newIndex:lt,items:ke,isOver:oi,isSorting:Ye,isDragging:jr,listeners:rr,node:Cr,overIndex:Ue,over:Zn,setNodeRef:$e,setActivatorNodeRef:ve,setDroppableNodeRef:Tt,setDraggableNodeRef:ur,transform:jn!=null?jn:$t,transition:pr()};function pr(){if(jn||Rt&&Ge.current.newIndex===Qt)return Wt;if(!(Dn&&!(0,D.vd)(_n)||!ye)&&(Ye||an))return D.ux.Transition.toString(Yr(St({},ye),{property:ln}))}}function Ke(F,K){var me,W;return typeof F=="boolean"?{draggable:F,droppable:!1}:{draggable:(me=F==null?void 0:F.draggable)!=null?me:K.draggable,droppable:(W=F==null?void 0:F.droppable)!=null?W:K.droppable}}function ae(F){if(!F)return!1;const K=F.data.current;return!!(K&&"sortable"in K&&typeof K.sortable=="object"&&"containerId"in K.sortable&&"items"in K.sortable&&"index"in K.sortable)}const nt=[B.g4.Down,B.g4.Right,B.g4.Up,B.g4.Left],Ae=(F,K)=>{let{context:{active:me,collisionRect:W,droppableRects:se,droppableContainers:te,over:ge,scrollableAncestors:Le}}=K;if(nt.includes(F.code)){if(F.preventDefault(),!me||!W)return;const De=[];te.getEnabled().forEach(Te=>{if(!Te||Te!=null&&Te.disabled)return;const Et=se.get(Te.id);if(Et)switch(F.code){case B.g4.Down:W.top<Et.top&&De.push(Te);break;case B.g4.Up:W.top>Et.top&&De.push(Te);break;case B.g4.Left:W.left>Et.left&&De.push(Te);break;case B.g4.Right:W.left<Et.left&&De.push(Te);break}});const ye=(0,B.ey)({active:me,collisionRect:W,droppableRects:se,droppableContainers:De,pointerCoordinates:null});let ke=(0,B._8)(ye,"id");if(ke===(ge==null?void 0:ge.id)&&ye.length>1&&(ke=ye[1].id),ke!=null){const Te=te.get(me.id),Et=te.get(ke),zt=Et?se.get(Et.id):null,_t=Et==null?void 0:Et.node.current;if(_t&&zt&&Te&&Et){const Ue=(0,B.hI)(_t).some((sn,dn)=>Le[dn]!==sn),yt=Oe(Te,Et),Vt=Ce(Te,Et),Rn=Ue||!yt?{x:0,y:0}:{x:Vt?W.width-zt.width:0,y:Vt?W.height-zt.height:0},Qt={x:zt.left,y:zt.top};return Rn.x&&Rn.y?Qt:(0,D.$X)(Qt,Rn)}}}};function Oe(F,K){return!ae(F)||!ae(K)?!1:F.data.current.sortable.containerId===K.data.current.sortable.containerId}function Ce(F,K){return!ae(F)||!ae(K)||!Oe(F,K)?!1:F.data.current.sortable.index<K.data.current.sortable.index}},84341:function(qt,je,G){"use strict";G.d(je,{$X:function(){return Kt},D9:function(){return fn},DC:function(){return An},Ey:function(){return Lt},FJ:function(){return Ne},Gj:function(){return ee},HB:function(){return B},IH:function(){return vn},Jj:function(){return xt},LI:function(){return at},Ld:function(){return ot},Nq:function(){return D},Re:function(){return Ot},UG:function(){return qe},Yz:function(){return mt},qk:function(){return de},r3:function(){return Be},so:function(){return Ke},ux:function(){return Yt},vZ:function(){return he},vd:function(){return ln},wm:function(){return Hn},zX:function(){return xe}});var S=G(50959);function B(){for(var ae=arguments.length,nt=new Array(ae),Ae=0;Ae<ae;Ae++)nt[Ae]=arguments[Ae];return(0,S.useMemo)(()=>Oe=>{nt.forEach(Ce=>Ce(Oe))},nt)}const D=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function Ne(ae){const nt=Object.prototype.toString.call(ae);return nt==="[object Window]"||nt==="[object global]"}function qe(ae){return"nodeType"in ae}function xt(ae){var nt,Ae;return ae?Ne(ae)?ae:qe(ae)&&(nt=(Ae=ae.ownerDocument)==null?void 0:Ae.defaultView)!=null?nt:window:window}function de(ae){const{Document:nt}=xt(ae);return ae instanceof nt}function Ot(ae){return Ne(ae)?!1:ae instanceof xt(ae).HTMLElement}function he(ae){return ae instanceof xt(ae).SVGElement}function Be(ae){return ae?Ne(ae)?ae.document:qe(ae)?de(ae)?ae:Ot(ae)?ae.ownerDocument:document:document:document}const at=D?S.useLayoutEffect:S.useEffect;function xe(ae){const nt=(0,S.useRef)(ae);return at(()=>{nt.current=ae}),(0,S.useCallback)(function(){for(var Ae=arguments.length,Oe=new Array(Ae),Ce=0;Ce<Ae;Ce++)Oe[Ce]=arguments[Ce];return nt.current==null?void 0:nt.current(...Oe)},[])}function mt(){const ae=(0,S.useRef)(null),nt=(0,S.useCallback)((Oe,Ce)=>{ae.current=setInterval(Oe,Ce)},[]),Ae=(0,S.useCallback)(()=>{ae.current!==null&&(clearInterval(ae.current),ae.current=null)},[]);return[nt,Ae]}function Lt(ae,nt){nt===void 0&&(nt=[ae]);const Ae=(0,S.useRef)(ae);return at(()=>{Ae.current!==ae&&(Ae.current=ae)},nt),Ae}function ee(ae,nt){const Ae=(0,S.useRef)();return(0,S.useMemo)(()=>{const Oe=ae(Ae.current);return Ae.current=Oe,Oe},[...nt])}function Hn(ae){const nt=xe(ae),Ae=(0,S.useRef)(null),Oe=(0,S.useCallback)(Ce=>{Ce!==Ae.current&&(nt==null||nt(Ce,Ae.current)),Ae.current=Ce},[]);return[Ae,Oe]}function fn(ae){const nt=(0,S.useRef)();return(0,S.useEffect)(()=>{nt.current=ae},[ae]),nt.current}let gn={};function ot(ae,nt){return(0,S.useMemo)(()=>{if(nt)return nt;const Ae=gn[ae]==null?0:gn[ae]+1;return gn[ae]=Ae,ae+"-"+Ae},[ae,nt])}function At(ae){return function(nt){for(var Ae=arguments.length,Oe=new Array(Ae>1?Ae-1:0),Ce=1;Ce<Ae;Ce++)Oe[Ce-1]=arguments[Ce];return Oe.reduce((F,K)=>{const me=Object.entries(K);for(const[W,se]of me){const te=F[W];te!=null&&(F[W]=te+ae*se)}return F},St({},nt))}}const vn=At(1),Kt=At(-1);function Cn(ae){return"clientX"in ae&&"clientY"in ae}function ln(ae){if(!ae)return!1;const{KeyboardEvent:nt}=xt(ae.target);return nt&&ae instanceof nt}function Wt(ae){if(!ae)return!1;const{TouchEvent:nt}=xt(ae.target);return nt&&ae instanceof nt}function An(ae){if(Wt(ae)){if(ae.touches&&ae.touches.length){const{clientX:nt,clientY:Ae}=ae.touches[0];return{x:nt,y:Ae}}else if(ae.changedTouches&&ae.changedTouches.length){const{clientX:nt,clientY:Ae}=ae.changedTouches[0];return{x:nt,y:Ae}}}return Cn(ae)?{x:ae.clientX,y:ae.clientY}:null}const Yt=Object.freeze({Translate:{toString(ae){if(!ae)return;const{x:nt,y:Ae}=ae;return"translate3d("+(nt?Math.round(nt):0)+"px, "+(Ae?Math.round(Ae):0)+"px, 0)"}},Scale:{toString(ae){if(!ae)return;const{scaleX:nt,scaleY:Ae}=ae;return"scaleX("+nt+") scaleY("+Ae+")"}},Transform:{toString(ae){if(ae)return[Yt.Translate.toString(ae),Yt.Scale.toString(ae)].join(" ")}},Transition:{toString(ae){let{property:nt,duration:Ae,easing:Oe}=ae;return nt+" "+Ae+"ms "+Oe}}}),Me="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Ke(ae){return ae.matches(Me)?ae:ae.querySelector(Me)}},76089:function(qt,je,G){"use strict";G.d(je,{W:function(){return oi}});var S=G(88338),B=G(46191),D=G(50959),Ne=G(10422),qe=G(42669);const xt=Tt=>de([Tt])[Tt],de=Tt=>useStoreContext().useStore(({data:en})=>Tt.reduce((Mn,ur)=>en[ur]&&"value"in en[ur]?Object.assign(Mn,{[ur]:en[ur].value}):Mn,{}),shallow),Ot={Row:S.R,Label:S.L,Portal:S.P,Overlay:S.O,String:S.a8,Number:S.a9,Boolean:S.aa,Select:S.ab,Vector:S.a,InnerLabel:S.ac};var he=G(94440);function Be(Tt,jt,_n){return jt in Tt?Object.defineProperty(Tt,jt,{value:_n,enumerable:!0,configurable:!0,writable:!0}):Tt[jt]=_n,Tt}function at(Tt,jt){var _n=Object.keys(Tt);if(Object.getOwnPropertySymbols){var en=Object.getOwnPropertySymbols(Tt);jt&&(en=en.filter(function(Mn){return Object.getOwnPropertyDescriptor(Tt,Mn).enumerable})),_n.push.apply(_n,en)}return _n}function xe(Tt){for(var jt=1;jt<arguments.length;jt++){var _n=arguments[jt]!=null?arguments[jt]:{};jt%2?at(Object(_n),!0).forEach(function(en){Be(Tt,en,_n[en])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(_n)):at(Object(_n)).forEach(function(en){Object.defineProperty(Tt,en,Object.getOwnPropertyDescriptor(_n,en))})}return Tt}function mt(){return mt=Object.assign||function(Tt){for(var jt=1;jt<arguments.length;jt++){var _n=arguments[jt];for(var en in _n)Object.prototype.hasOwnProperty.call(_n,en)&&(Tt[en]=_n[en])}return Tt},mt.apply(this,arguments)}const Lt=()=>(0,D.useCallback)((Tt,jt)=>jt*Tt,[]),ee=()=>(0,D.useCallback)((Tt,jt)=>Tt/jt,[]),Hn=4,fn=.001,gn=1e-7,ot=10,At=11,vn=1/(At-1),Kt=(Tt,jt)=>1-3*jt+3*Tt,Cn=(Tt,jt)=>3*jt-6*Tt,ln=Tt=>3*Tt,Wt=(Tt,jt,_n)=>((Kt(jt,_n)*Tt+Cn(jt,_n))*Tt+ln(jt))*Tt,An=(Tt,jt,_n)=>3*Kt(jt,_n)*Tt*Tt+2*Cn(jt,_n)*Tt+ln(jt),Yt=(Tt,jt,_n,en,Mn)=>{let ur,rr,jr=0;do rr=jt+(_n-jt)/2,ur=Wt(rr,en,Mn)-Tt,ur>0?_n=rr:jt=rr;while(Math.abs(ur)>gn&&++jr<ot);return rr},Me=(Tt,jt,_n,en)=>{for(let Mn=0;Mn<Hn;++Mn){const ur=An(jt,_n,en);if(ur===0)return jt;const rr=Wt(jt,_n,en)-Tt;jt-=rr/ur}return jt},Ke=Tt=>Tt,ae=(Tt,jt,_n,en)=>{if(!(0<=Tt&&Tt<=1&&0<=_n&&_n<=1))throw new Error("bezier x values must be in [0, 1] range");if(Tt===jt&&_n===en)return Ke;const Mn=new Float32Array(At);for(let rr=0;rr<At;++rr)Mn[rr]=Wt(rr*vn,Tt,_n);const ur=rr=>{let jr=0,Zn=1,ve=At-1;for(;Zn!==ve&&Mn[Zn]<=rr;++Zn)jr+=vn;--Zn;const Xe=(rr-Mn[Zn])/(Mn[Zn+1]-Mn[Zn]),$e=jr+Xe*vn,Ye=An($e,Tt,_n);return Ye>=fn?Me(rr,$e,Tt,_n):Ye===0?$e:Yt(rr,jr,jr+vn,Tt,_n)};return rr=>rr===0||rr===1?rr:Wt(ur(rr),jt,en)},nt=(0,S.s)("svg",{width:"100%",height:"$controlWidth",marginTop:"$rowGap",overflow:"visible",zIndex:100,"> path":{stroke:"$highlight3",strokeWidth:2},g:{color:"$accent1","&:hover":{color:"$accent3"},"&:active":{color:"$vivid1"}},circle:{fill:"currentColor",strokeWidth:10,stroke:"transparent",cursor:"pointer"},"> line":{stroke:"$highlight1",strokeWidth:2},"> g > line":{stroke:"currentColor"},variants:{withPreview:{true:{marginBottom:0},false:{marginBottom:"$rowGap"}}}}),Ae=Tt=>(0,S.ah)({"0%":{opacity:0},"10%":{opacity:.8},"100%":{opacity:Tt}}),Oe=(0,S.ah)({"0%":{transform:"translateX(5%)"},"100%":{transform:"translateX(95%)"}}),Ce=(0,S.s)("svg",{width:"100%",overflow:"visible",height:6,"> circle":{fill:"$vivid1",cy:"50%",animation:`${Ae(.3)} 1000ms both`,"&:first-of-type":{animationName:Ae(.7)},"&:last-of-type":{animationName:Oe}}}),F=(0,S.s)("div",{userSelect:"none",$flexCenter:"",height:14,width:14,borderRadius:7,marginRight:"$sm",cursor:"pointer",fontSize:"0.8em",variants:{graph:{true:{backgroundColor:"$elevation1"}}}}),K=(0,S.s)("div",{display:"grid",gridTemplateColumns:"auto 1fr",alignItems:"center"}),me=4;function W({sx:Tt,sy:jt,cx:_n,cy:en}){const Mn=Math.atan2(en-jt,_n-Tt),ur=_n-me*Math.cos(Mn),rr=en-me*Math.sin(Mn);return D.createElement("line",{x1:ur,y1:rr,x2:Tt,y2:jt})}function se({displayValue:Tt,onUpdate:jt,withPreview:_n}){const en=Lt(),Mn=ee(),[ur,{width:rr,height:jr}]=(0,he.Z)(),Zn=(0,D.useRef)(null),ve=(0,D.useRef)(null),Xe=(0,D.useRef)(null),$e=(0,D.useRef)(),Ye=(0,S.e)(({xy:[Lr,xi],event:Qr,first:ei,memo:ti})=>{ei&&($e.current=Zn.current.getBoundingClientRect(),ti=[ve.current,Xe.current].indexOf(Qr.target),ti<0&&(ti=Lr-$e.current.left<rr/2?0:1),ti*=2);const Yi=Lr-$e.current.left,b=xi-$e.current.top;return jt(H=>{const E=[...H];return E[ti]=Mn(Yi,rr),E[ti+1]=1-Mn(b,jr),E}),ti}),{x1:Pt,y1:Dn,x2:bn,y2:Nt}=Tt,{sx:$t,sy:lt,ex:oe,ey:Ge,cx1:Rt,cy1:an,cx2:jn,cy2:pr}=(0,D.useMemo)(()=>({sx:en(0,rr),sy:en(1,jr),ex:en(1,rr),ey:en(0,jr),cx1:en(Pt,rr),cy1:en(1-Dn,jr),cx2:en(bn,rr),cy2:en(1-Nt,jr)}),[en,Pt,Dn,bn,Nt,rr,jr]);return D.createElement(nt,mt({ref:(0,S.af)([Zn,ur])},Ye(),{withPreview:_n}),D.createElement("line",{x1:$t,y1:lt,x2:oe,y2:Ge}),D.createElement("path",{fill:"none",d:`M${$t},${lt} C${Rt},${an} ${jn},${pr} ${oe},${Ge}`,strokeLinecap:"round"}),D.createElement("g",null,D.createElement(W,{sx:$t,sy:lt,cx:Rt,cy:an}),D.createElement("circle",{ref:ve,cx:Rt,cy:an,r:me})),D.createElement("g",null,D.createElement(W,{sx:oe,sy:Ge,cx:jn,cy:pr}),D.createElement("circle",{ref:Xe,cx:jn,cy:pr,r:me})))}const te=D.memo(({value:Tt})=>{const[,jt]=(0,D.useReducer)(en=>en+1,0),_n=Array(21).fill(0).map((en,Mn)=>5+Tt.evaluate(Mn/20)*90);return D.createElement(Ce,{onClick:jt},_n.map((en,Mn)=>D.createElement("circle",{key:Mn+Date.now(),r:3,cx:`${en}%`,style:{animationDelay:`${Mn*50}ms`}})),D.createElement("circle",{key:Date.now()-1,r:3,style:{animationTimingFunction:`cubic-bezier(${Tt.join(",")})`,animationDuration:`${_n.length*50}ms`}}))});function ge({value:Tt}){const[jt,_n]=(0,D.useState)(Tt),en=(0,D.useMemo)(()=>(0,S.U)(Mn=>_n(Mn),250),[]);return(0,D.useEffect)(()=>void en(Tt),[Tt,en]),D.createElement(te,{value:jt})}function Le(Tt,jt){if(Tt==null)return{};var _n={},en=Object.keys(Tt),Mn,ur;for(ur=0;ur<en.length;ur++)Mn=en[ur],!(jt.indexOf(Mn)>=0)&&(_n[Mn]=Tt[Mn]);return _n}function De(Tt,jt){if(Tt==null)return{};var _n=Le(Tt,jt),en,Mn;if(Object.getOwnPropertySymbols){var ur=Object.getOwnPropertySymbols(Tt);for(Mn=0;Mn<ur.length;Mn++)en=ur[Mn],!(jt.indexOf(en)>=0)&&Object.prototype.propertyIsEnumerable.call(Tt,en)&&(_n[en]=Tt[en])}return _n}const ye=["handles"],ke={min:0,max:1,step:.01},Te={step:.01},Et={graph:!0,preview:!0},zt={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],"in-out-sine":[.45,.05,.55,.95],"in-out-quadratic":[.46,.03,.52,.96],"in-out-cubic":[.65,.05,.36,1],"fast-out-slow-in":[.4,0,.2,1],"in-out-back":[.68,-.55,.27,1.55]},_t=(Tt=[.25,.1,.25,1])=>{let jt=typeof Tt=="object"&&"handles"in Tt?Tt:{handles:Tt},{handles:_n}=jt,en=De(jt,ye);_n=typeof _n=="string"?zt[_n]:_n;const Mn={x1:ke,y1:Te,x2:ke,y2:Te},{value:ur,settings:rr}=(0,S.am)(_n,Mn,["x1","y1","x2","y2"]),jr=ur;return jr.evaluate=ae(...ur),jr.cssEasing=`cubic-bezier(${ur.join(",")})`,{value:jr,settings:xe(xe(xe({},rr),Et),en)}},pt=(Tt,jt,_n)=>{const en=(0,S.ak)(Tt,jt,_n),Mn=en;return Mn.evaluate=ae(...en),Mn.cssEasing=`cubic-bezier(${en.join(",")})`,Mn},{Label:Ue,Row:yt,Vector:Vt,Select:Rn}=Ot,Qt=["custom",...Object.keys(zt)],In=[!1,...Object.values(zt).map(Tt=>Tt.toString())],sn={keys:Qt,values:In};function dn({value:Tt,onUpdate:jt}){const _n=(0,D.useMemo)(()=>In.find(rr=>rr===Tt.toString())||!1,[Tt]),en={type:"SELECT",value:_n,settings:sn},Mn=rr=>rr&&jt(rr.split(",")),ur=(0,S.A)(xe(xe({},en),{},{setValue:Mn}));return D.createElement(Rn,{value:_n,displayValue:ur.displayValue,onUpdate:ur.onUpdate,settings:sn})}function Cr(){const{label:Tt,value:jt,displayValue:_n,settings:en,onUpdate:Mn,setSettings:ur}=(0,S.u)(),{graph:rr,preview:jr}=en;return D.createElement(D.Fragment,null,D.createElement(yt,{input:!0},D.createElement(Ue,null,Tt),D.createElement(K,null,D.createElement(F,{graph:rr,onClick:()=>ur({graph:!rr})},"\u{1D453}"),D.createElement(dn,{value:jt,onUpdate:Mn}))),rr&&D.createElement(se,{displayValue:_n,onUpdate:Mn,withPreview:jr}),jr&&D.createElement(yt,null,D.createElement(ge,{value:jt})),rr&&D.createElement(yt,null,D.createElement(Vt,{value:_n,settings:en,onUpdate:Mn,innerLabelTrim:2})))}const oi=(0,S.ag)({normalize:_t,sanitize:pt,format:(Tt,jt)=>(0,S.al)(Tt,jt),component:Cr})},961:function(qt,je,G){"use strict";G.d(je,{AS7:function(){return ff},EGi:function(){return In},L52:function(){return ss},Nn4:function(){return af},QlJ:function(){return Wl},RgI:function(){return Ci},TOI:function(){return cs},VZf:function(){return hf},Wwj:function(){return Fe},dNJ:function(){return La},dYt:function(){return cf},h6i:function(){return ln},hNW:function(){return Hs},rlr:function(){return Mi},tK:function(){return ye},vfO:function(){return hd},zkR:function(){return mf}});var S=G(50959);function B(k,q){if(k==null)return{};var $={},X=Object.keys(k),J,su;for(su=0;su<X.length;su++)J=X[su],!(q.indexOf(J)>=0)&&($[J]=k[J]);return $}var D=null,Ne=null,qe=null,xt=null,de=null,Ot=null,he=null,Be=null,at=null,xe=null,mt=null,Lt=null,ee=null,Hn=null,fn=null,gn=null,ot=null,At=null,vn=null,Kt=null,Cn=["color"],ln=(0,S.forwardRef)(function(k,q){var $=k.color,X=$===void 0?"currentColor":$,J=B(k,Cn);return(0,S.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J,{ref:q}),(0,S.createElement)("path",{d:"M8.8914 2.1937C9.1158 2.35464 9.16725 2.66701 9.00631 2.89141L2.47388 12H13.5C13.7761 12 14 12.2239 14 12.5C14 12.7762 13.7761 13 13.5 13H1.5C1.31254 13 1.14082 12.8952 1.0552 12.7284C0.969578 12.5616 0.984438 12.361 1.09369 12.2086L8.19369 2.30862C8.35462 2.08422 8.667 2.03277 8.8914 2.1937ZM11.1 6.50001C11.1 6.22387 11.3238 6.00001 11.6 6.00001C11.8761 6.00001 12.1 6.22387 12.1 6.50001C12.1 6.77615 11.8761 7.00001 11.6 7.00001C11.3238 7.00001 11.1 6.77615 11.1 6.50001ZM10.4 4.00001C10.1239 4.00001 9.90003 4.22387 9.90003 4.50001C9.90003 4.77615 10.1239 5.00001 10.4 5.00001C10.6762 5.00001 10.9 4.77615 10.9 4.50001C10.9 4.22387 10.6762 4.00001 10.4 4.00001ZM12.1 8.50001C12.1 8.22387 12.3238 8.00001 12.6 8.00001C12.8761 8.00001 13.1 8.22387 13.1 8.50001C13.1 8.77615 12.8761 9.00001 12.6 9.00001C12.3238 9.00001 12.1 8.77615 12.1 8.50001ZM13.4 10C13.1239 10 12.9 10.2239 12.9 10.5C12.9 10.7761 13.1239 11 13.4 11C13.6762 11 13.9 10.7761 13.9 10.5C13.9 10.2239 13.6762 10 13.4 10Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),Wt=null,An=null,Yt=null,Me=null,Ke=null,ae=null,nt=null,Ae=null,Oe=null,Ce=null,F=null,K=null,me=null,W=null,se=null,te=null,ge=null,Le=null,De=["color"],ye=(0,S.forwardRef)(function(k,q){var $=k.color,X=$===void 0?"currentColor":$,J=B(k,De);return(0,S.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J,{ref:q}),(0,S.createElement)("path",{d:"M2.5 2H12.5C12.7761 2 13 2.22386 13 2.5V12.5C13 12.7761 12.7761 13 12.5 13H2.5C2.22386 13 2 12.7761 2 12.5V2.5C2 2.22386 2.22386 2 2.5 2ZM1 2.5C1 1.67157 1.67157 1 2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5ZM7.5 4C7.77614 4 8 3.77614 8 3.5C8 3.22386 7.77614 3 7.5 3C7.22386 3 7 3.22386 7 3.5C7 3.77614 7.22386 4 7.5 4ZM8 5.5C8 5.77614 7.77614 6 7.5 6C7.22386 6 7 5.77614 7 5.5C7 5.22386 7.22386 5 7.5 5C7.77614 5 8 5.22386 8 5.5ZM7.5 8C7.77614 8 8 7.77614 8 7.5C8 7.22386 7.77614 7 7.5 7C7.22386 7 7 7.22386 7 7.5C7 7.77614 7.22386 8 7.5 8ZM10 7.5C10 7.77614 9.77614 8 9.5 8C9.22386 8 9 7.77614 9 7.5C9 7.22386 9.22386 7 9.5 7C9.77614 7 10 7.22386 10 7.5ZM11.5 8C11.7761 8 12 7.77614 12 7.5C12 7.22386 11.7761 7 11.5 7C11.2239 7 11 7.22386 11 7.5C11 7.77614 11.2239 8 11.5 8Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),ke=null,Te=null,Et=null,zt=null,_t=null,pt=null,Ue=null,yt=null,Vt=null,Rn=null,Qt=["color"],In=(0,S.forwardRef)(function(k,q){var $=k.color,X=$===void 0?"currentColor":$,J=B(k,Qt);return(0,S.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J,{ref:q}),(0,S.createElement)("path",{d:"M3 9C3 6.5 4.5 4.25 7.5 1.5C10.5 4.25 12 6.5 12 9C12 11.4853 9.98528 13.5 7.5 13.5C5.01472 13.5 3 11.4853 3 9ZM10.9524 8.30307C9.67347 7.82121 8.2879 8.46208 6.98956 9.06259C5.9327 9.55142 4.93365 10.0135 4.09695 9.82153C4.03357 9.55804 4 9.28294 4 9C4 7.11203 5.02686 5.27195 7.5 2.87357C9.66837 4.97639 10.725 6.65004 10.9524 8.30307Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),sn=null,dn=null,Cr=null,oi=null,Tt=null,jt=null,_n=null,en=null,Mn=null,ur=null,rr=null,jr=null,Zn=null,ve=null,Xe=null,$e=null,Ye=null,Pt=null,Dn=null,bn=null,Nt=null,$t=null,lt=null,oe=null,Ge=null,Rt=null,an=null,jn=null,pr=null,Lr=null,xi=null,Qr=null,ei=null,ti=null,Yi=null,b=null,H=null,E=null,T=null,Q=null,le=null,We=null,st=null,Qe=null,be=null,Y=null,ie=null,Ie=null,Ze=null,tt=null,Zt=null,Ft=null,vt=null,dt=null,Ct=null,rn=null,zn=null,Jn=null,qn=null,$n=null,Qn=null,_r=null,En=null,cr=null,Nr=null,yi=null,Wr=null,ho=null,io=null,Ki=null,Di=null,Co=null,Fi=null,Ti=null,hi=null,xo=null,Ai=null,Ss=null,vs=null,Fo=null,Ra=["color"],La=(0,S.forwardRef)(function(k,q){var $=k.color,X=$===void 0?"currentColor":$,J=B(k,Ra);return(0,S.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J,{ref:q}),(0,S.createElement)("path",{d:"M9.96424 2.68571C10.0668 2.42931 9.94209 2.13833 9.6857 2.03577C9.4293 1.93322 9.13832 2.05792 9.03576 2.31432L5.03576 12.3143C4.9332 12.5707 5.05791 12.8617 5.3143 12.9642C5.5707 13.0668 5.86168 12.9421 5.96424 12.6857L9.96424 2.68571ZM3.85355 5.14646C4.04882 5.34172 4.04882 5.6583 3.85355 5.85356L2.20711 7.50001L3.85355 9.14646C4.04882 9.34172 4.04882 9.6583 3.85355 9.85356C3.65829 10.0488 3.34171 10.0488 3.14645 9.85356L1.14645 7.85356C0.951184 7.6583 0.951184 7.34172 1.14645 7.14646L3.14645 5.14646C3.34171 4.9512 3.65829 4.9512 3.85355 5.14646ZM11.1464 5.14646C11.3417 4.9512 11.6583 4.9512 11.8536 5.14646L13.8536 7.14646C14.0488 7.34172 14.0488 7.6583 13.8536 7.85356L11.8536 9.85356C11.6583 10.0488 11.3417 10.0488 11.1464 9.85356C10.9512 9.6583 10.9512 9.34172 11.1464 9.14646L12.7929 7.50001L11.1464 5.85356C10.9512 5.6583 10.9512 5.34172 11.1464 5.14646Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),Va=null,fa=null,oo=["color"],cs=(0,S.forwardRef)(function(k,q){var $=k.color,X=$===void 0?"currentColor":$,J=B(k,oo);return(0,S.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J,{ref:q}),(0,S.createElement)("path",{d:"M0.877075 7.49985C0.877075 3.84216 3.84222 0.877014 7.49991 0.877014C11.1576 0.877014 14.1227 3.84216 14.1227 7.49985C14.1227 11.1575 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1575 0.877075 7.49985ZM3.78135 3.21565C4.68298 2.43239 5.83429 1.92904 7.09998 1.84089V6.53429L3.78135 3.21565ZM3.21567 3.78134C2.43242 4.68298 1.92909 5.83428 1.84095 7.09997H6.5343L3.21567 3.78134ZM6.5343 7.89997H1.84097C1.92916 9.16562 2.43253 10.3169 3.21579 11.2185L6.5343 7.89997ZM3.78149 11.7842C4.6831 12.5673 5.83435 13.0707 7.09998 13.1588V8.46566L3.78149 11.7842ZM7.89998 8.46566V13.1588C9.16559 13.0706 10.3168 12.5673 11.2184 11.7841L7.89998 8.46566ZM11.7841 11.2184C12.5673 10.3168 13.0707 9.16558 13.1588 7.89997H8.46567L11.7841 11.2184ZM8.46567 7.09997H13.1589C13.0707 5.83432 12.5674 4.68305 11.7842 3.78143L8.46567 7.09997ZM11.2185 3.21573C10.3169 2.43246 9.16565 1.92909 7.89998 1.8409V6.53429L11.2185 3.21573Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),Xs=null,Kr=null,na=null,us=null,Vr=null,Ko=null,ts=null,po=null,P=null,V=null,pe=["color"],Fe=(0,S.forwardRef)(function(k,q){var $=k.color,X=$===void 0?"currentColor":$,J=B(k,pe);return(0,S.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J,{ref:q}),(0,S.createElement)("path",{d:"M7.85367 1.48956C7.65841 1.29429 7.34182 1.29429 7.14656 1.48956L1.48971 7.14641C1.29445 7.34167 1.29445 7.65825 1.48971 7.85352L7.14656 13.5104C7.34182 13.7056 7.65841 13.7056 7.85367 13.5104L13.5105 7.85352C13.7058 7.65825 13.7058 7.34167 13.5105 7.14641L7.85367 1.48956ZM7.5 2.55033L2.55037 7.49996L7.5 12.4496V2.55033Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),gt=null,ut=null,z=null,re=null,R=null,Z=null,ze=null,Je=null,Sn=null,Tn=null,ir=null,on=null,or=null,br=null,gr=null,Tr=null,Pi=null,Gr=null,Si=null,ai=null,Oi=null,Zi=null,lo=null,Bi=null,Hi=null,No=null,Ao=null,da=null,fs=null,Ei=null,Ys=null,ha=null,g1=null,pa=null,Ta=null,Fa=null,n1=null,so=null,Ks=null,G1=null,X1=null,D1=null,ns=null,ma=null,Vs=null,r1=null,ko=null,ds=null,yo=null,kr=null,ga=null,hn=null,Jr=null,Es=null,ka=null,Rs=null,wi=null,Ji=null,i1=null,Do=null,Ls=null,Aa=null,v1=null,ra=null,bl=null,$a=null,o1=null,Wa=null,rs=null,Js=null,Y1=null,Pa=null,va=null,K1=null,gi=null,Br=null,co=null,is=null,Ro=null,os=null,hs=null,Za=null,mo=null,ce=null,ia=null,ja=null,$o=null,Ts=null,So=null,Bo=null,to=null,Wo=null,Eo=null,Ca=null,_a=null,Ia=null,s1=null,Zo=null,H1=null,Ga=null,C1=null,Fs=null,ks=null,Xa=null,qs=null,oa=null,Sl=null,J1=null,Ya=null,El=null,q1=null,Q1=null,_1=null,li=null,a1=["color"],ss=(0,S.forwardRef)(function(k,q){var $=k.color,X=$===void 0?"currentColor":$,J=B(k,a1);return(0,S.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J,{ref:q}),(0,S.createElement)("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),z1=null,Kl=null,xa=null,x1=null,$s=null,Jl=null,ql=null,y1=null,el=null,_c=null,xc=null,N1=null,Ka=null,Rl=null,l1=null,yc=null,Qc=null,wc=null,tl=null,Mc=null,eu=null,Ql=null,ki=null,sa=null,Oa=null,Ll=null,Ja=null,B1=null,w1=null,ec=null,aa=null,tc=null,M1=null,b1=null,as=null,nl=null,Cs=null,U1=null,wo=null,Tl=null,nc=null,ar=null,no=null,qa=null,Da=null,bc=null,As=null,c1=null,rc=null,Uo=null,S1=null,go=null,Al=null,rl=null,il=null,Sc=null,Ha=["color"],Mi=(0,S.forwardRef)(function(k,q){var $=k.color,X=$===void 0?"currentColor":$,J=B(k,Ha);return(0,S.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J,{ref:q}),(0,S.createElement)("path",{d:"M12.3536 13.3536C12.1583 13.5488 11.8417 13.5488 11.6465 13.3536L6.39645 8.10355C6.36478 8.07188 6.33824 8.03702 6.31685 8H5.00002C4.78719 8 4.59769 7.86528 4.52777 7.66426L2.12777 0.764277C2.05268 0.548387 2.13355 0.309061 2.3242 0.182972C2.51486 0.0568819 2.76674 0.0761337 2.93602 0.229734L8.336 5.12972C8.44044 5.22449 8.50001 5.35897 8.50001 5.5V5.81684C8.53702 5.83824 8.57189 5.86478 8.60356 5.89645L13.8536 11.1464C14.0488 11.3417 14.0488 11.6583 13.8536 11.8536L12.3536 13.3536ZM8.25 6.95711L7.45711 7.75L12 12.2929L12.7929 11.5L8.25 6.95711ZM3.71669 2.28845L5.35549 7H6.2929L7.50001 5.79289V5.72146L3.71669 2.28845Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),V1=null,Pl=null,Sr=null,ic=null,Ec=null,jo=null,Rc=null,ol=null,_s=null,Ps=null,Jo=null,xn=null,E1=null,la=null,R1=null,Lc=null,qo=null,ya=null,xs=null,Il=null,sl=null,al=null,ll=null,cl=null,oc=null,Ol=null,sc=null,Dl=null,ul=null,Go=null,tu=null,fl=null,Qa=null,L1=null,ys=null,Tc=null,wa=null,dl=null,Hl=null,zl=null,Qs=null,u1=null,Qo=null,f1=null,e1=null,ac=null,T1=null,Ac=null,F1=null,lc=null,Vo=null,si=null,Mo=null,Po=null,Xo=null,Is=null,k1=null,Lo=null,hl=null,pl=null,Nl=null,cc=null,ml=null,Ws=null,gl=null,Bl=null,$1=null,Ul=null,ca=null,Ma=null,A1=null,ea=null,vl=null,Cl=null,Os=null,Vl=null,Fl=null,Ds=null,t1=null,ua=null,_l=null,Zs=null,Pc=null,ba=null,uc=null,nu=null,d1=null,xl=null,Ic=null,kl=null,h1=null,fc=null,$l=["color"],Wl=(0,S.forwardRef)(function(k,q){var $=k.color,X=$===void 0?"currentColor":$,J=B(k,$l);return(0,S.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J,{ref:q}),(0,S.createElement)("path",{d:"M7.5 1.5C4.5 4.25 3 6.5 3 9C3 11.4853 5.01472 13.5 7.5 13.5C9.98528 13.5 12 11.4853 12 9C12 6.5 10.5 4.25 7.5 1.5ZM11 9C11 7.11203 9.97315 5.27195 7.5 2.87357C5.02686 5.27195 4 7.11203 4 9C4 10.933 5.567 12.5 7.5 12.5C9.433 12.5 11 10.933 11 9Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),Zl=null,ru=null,h=null,w=null,I=null,N=null,_e=null,Pe=null,ht=null,Dt=null,yn=null,cn=null,sr=null,Yn=null,er=null,nr=null,Pr=null,Wn=null,zi=null,vi=null,Er=["color"],Ci=(0,S.forwardRef)(function(k,q){var $=k.color,X=$===void 0?"currentColor":$,J=B(k,Er);return(0,S.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J,{ref:q}),(0,S.createElement)("path",{d:"M13.5 13.95C13.7485 13.95 13.95 13.7485 13.95 13.5C13.95 13.2514 13.7485 13.05 13.5 13.05L1.49995 13.05C1.25142 13.05 1.04995 13.2514 1.04995 13.5C1.04995 13.7485 1.25142 13.95 1.49995 13.95L13.5 13.95ZM11.0681 7.5683C11.2439 7.39257 11.2439 7.10764 11.0681 6.93191C10.8924 6.75617 10.6075 6.75617 10.4317 6.93191L7.94993 9.41371L7.94993 1.49998C7.94993 1.25146 7.74846 1.04998 7.49993 1.04998C7.2514 1.04998 7.04993 1.25146 7.04993 1.49998L7.04993 9.41371L4.56813 6.93191C4.39239 6.75617 4.10746 6.75617 3.93173 6.93191C3.75599 7.10764 3.75599 7.39257 3.93173 7.5683L7.18173 10.8183C7.35746 10.994 7.64239 10.994 7.81812 10.8183L11.0681 7.5683Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),Mr=null,Ar=null,ji=null,Ui=null,Gi=["color"],Hs=(0,S.forwardRef)(function(k,q){var $=k.color,X=$===void 0?"currentColor":$,J=B(k,Gi);return(0,S.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J,{ref:q}),(0,S.createElement)("path",{d:"M1.50005 1.05005C1.25152 1.05005 1.05005 1.25152 1.05005 1.50005C1.05005 1.74858 1.25152 1.95005 1.50005 1.95005L13.5 1.95005C13.7486 1.95005 13.95 1.74858 13.95 1.50005C13.95 1.25152 13.7486 1.05005 13.5 1.05005H1.50005ZM3.93188 7.43169C3.75614 7.60743 3.75614 7.89236 3.93188 8.06809C4.10761 8.24383 4.39254 8.24383 4.56827 8.06809L7.05007 5.58629V13.5C7.05007 13.7485 7.25155 13.95 7.50007 13.95C7.7486 13.95 7.95007 13.7485 7.95007 13.5L7.95007 5.58629L10.4319 8.06809C10.6076 8.24383 10.8925 8.24383 11.0683 8.06809C11.244 7.89235 11.244 7.60743 11.0683 7.43169L7.81827 4.18169C7.64254 4.00596 7.35761 4.00596 7.18188 4.18169L3.93188 7.43169Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),ao=null,Yo=null,js=null,Gs=null,ps=null,zs=null,i=null,s=null,u=null,p=null,_=null,L=null,Se=null,rt=null,Ut=null,Fn=null,fr=null,qr=null,Ur=null,Vi=null,kn=null,Ri=null,To=null,wt=null,ft=null,Ht=null,hr=null,Dr=null,Li=null,pi=null,$i=null,bo=null,qi=null,Sa=null,Oc=null,yu=null,iu=null,wu=null,es=null,i0=null,o0=null,gh=null,dd=["color"],hd=(0,S.forwardRef)(function(k,q){var $=k.color,X=$===void 0?"currentColor":$,J=B(k,dd);return(0,S.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J,{ref:q}),(0,S.createElement)("path",{opacity:".05",d:"M6.78296 13.376C8.73904 9.95284 8.73904 5.04719 6.78296 1.62405L7.21708 1.37598C9.261 4.95283 9.261 10.0472 7.21708 13.624L6.78296 13.376Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,S.createElement)("path",{opacity:".1",d:"M7.28204 13.4775C9.23929 9.99523 9.23929 5.00475 7.28204 1.52248L7.71791 1.2775C9.76067 4.9119 9.76067 10.0881 7.71791 13.7225L7.28204 13.4775Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,S.createElement)("path",{opacity:".15",d:"M7.82098 13.5064C9.72502 9.99523 9.72636 5.01411 7.82492 1.50084L8.26465 1.26285C10.2465 4.92466 10.2451 10.085 8.26052 13.7448L7.82098 13.5064Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,S.createElement)("path",{opacity:".2",d:"M8.41284 13.429C10.1952 9.92842 10.1957 5.07537 8.41435 1.57402L8.85999 1.34729C10.7139 4.99113 10.7133 10.0128 8.85841 13.6559L8.41284 13.429Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,S.createElement)("path",{opacity:".25",d:"M9.02441 13.2956C10.6567 9.8379 10.6586 5.17715 9.03005 1.71656L9.48245 1.50366C11.1745 5.09919 11.1726 9.91629 9.47657 13.5091L9.02441 13.2956Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,S.createElement)("path",{opacity:".3",d:"M9.66809 13.0655C11.1097 9.69572 11.1107 5.3121 9.67088 1.94095L10.1307 1.74457C11.6241 5.24121 11.6231 9.76683 10.1278 13.2622L9.66809 13.0655Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,S.createElement)("path",{opacity:".35",d:"M10.331 12.7456C11.5551 9.52073 11.5564 5.49103 10.3347 2.26444L10.8024 2.0874C12.0672 5.42815 12.0659 9.58394 10.7985 12.9231L10.331 12.7456Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,S.createElement)("path",{opacity:".4",d:"M11.0155 12.2986C11.9938 9.29744 11.9948 5.71296 11.0184 2.71067L11.4939 2.55603C12.503 5.6589 12.502 9.35178 11.4909 12.4535L11.0155 12.2986Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,S.createElement)("path",{opacity:".45",d:"M11.7214 11.668C12.4254 9.01303 12.4262 5.99691 11.7237 3.34116L12.2071 3.21329C12.9318 5.95292 12.931 9.05728 12.2047 11.7961L11.7214 11.668Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,S.createElement)("path",{opacity:".5",d:"M12.4432 10.752C12.8524 8.63762 12.8523 6.36089 12.4429 4.2466L12.9338 4.15155C13.3553 6.32861 13.3554 8.66985 12.9341 10.847L12.4432 10.752Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}),(0,S.createElement)("path",{d:"M0.877075 7.49988C0.877075 3.84219 3.84222 0.877045 7.49991 0.877045C11.1576 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1575 0.877075 7.49988ZM7.49991 1.82704C4.36689 1.82704 1.82708 4.36686 1.82708 7.49988C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49988C13.1727 4.36686 10.6329 1.82704 7.49991 1.82704Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),vh=null,Ch=null,_h=null,xh=null,yh=null,wh=null,Mh=null,bh=null,Sh=null,Eh=null,Rh=null,Lh=null,Th=null,Ah=null,Ph=null,Ih=null,Oh=null,Dh=null,Hh=null,zh=null,Nh=null,Bh=null,Uh=null,Vh=null,Fh=null,kh=null,$h=null,Wh=null,Zh=null,Ni=null,dr=null,P1=null,Mu=null,pd=null,md=null,gd=null,vd=null,Cd=null,_d=null,bu=null,Dc=null,W0=null,dc=null,s0=null,Z0=null,a0=null,hc=null,Hc=null,j0=null,l0=null,xd=null,G0=null,Su=null,yd=null,X0=null,Y0=null,c0=null,wd=null,Md=null,bd=null,Sd=null,Ed=null,Rd=null,Ld=null,Td=null,Ad=null,K0=null,J0=null,q0=null,Q0=null,ef=null,tf=null,nf=null,rf=null,of=null,zc=null,Ns=null,Bs=null,Eu=null,Pd=null,Id=null,Od=null,Dd=null,Hd=null,zd=null,Nd=null,Bd=null,Ud=null,Vd=null,Fd=null,kd=null,$d=null,Wd=null,Zd=null,sf=["color"],af=(0,S.forwardRef)(function(k,q){var $=k.color,X=$===void 0?"currentColor":$,J=B(k,sf);return(0,S.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J,{ref:q}),(0,S.createElement)("path",{d:"M4.5 2C3.11929 2 2 3.11929 2 4.5C2 5.88072 3.11929 7 4.5 7C5.88072 7 7 5.88072 7 4.5C7 3.11929 5.88072 2 4.5 2ZM3 4.5C3 3.67157 3.67157 3 4.5 3C5.32843 3 6 3.67157 6 4.5C6 5.32843 5.32843 6 4.5 6C3.67157 6 3 5.32843 3 4.5ZM10.5 2C9.11929 2 8 3.11929 8 4.5C8 5.88072 9.11929 7 10.5 7C11.8807 7 13 5.88072 13 4.5C13 3.11929 11.8807 2 10.5 2ZM9 4.5C9 3.67157 9.67157 3 10.5 3C11.3284 3 12 3.67157 12 4.5C12 5.32843 11.3284 6 10.5 6C9.67157 6 9 5.32843 9 4.5ZM2 10.5C2 9.11929 3.11929 8 4.5 8C5.88072 8 7 9.11929 7 10.5C7 11.8807 5.88072 13 4.5 13C3.11929 13 2 11.8807 2 10.5ZM4.5 9C3.67157 9 3 9.67157 3 10.5C3 11.3284 3.67157 12 4.5 12C5.32843 12 6 11.3284 6 10.5C6 9.67157 5.32843 9 4.5 9ZM10.5 8C9.11929 8 8 9.11929 8 10.5C8 11.8807 9.11929 13 10.5 13C11.8807 13 13 11.8807 13 10.5C13 9.11929 11.8807 8 10.5 8ZM9 10.5C9 9.67157 9.67157 9 10.5 9C11.3284 9 12 9.67157 12 10.5C12 11.3284 11.3284 12 10.5 12C9.67157 12 9 11.3284 9 10.5Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),jd=null,Gd=null,Xd=null,Yd=null,lf=["color"],cf=(0,S.forwardRef)(function(k,q){var $=k.color,X=$===void 0?"currentColor":$,J=B(k,lf);return(0,S.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J,{ref:q}),(0,S.createElement)("path",{d:"M0.849976 1.74998C0.849976 1.25292 1.25292 0.849976 1.74998 0.849976H3.24998C3.74703 0.849976 4.14998 1.25292 4.14998 1.74998V2.04998H10.85V1.74998C10.85 1.25292 11.2529 0.849976 11.75 0.849976H13.25C13.747 0.849976 14.15 1.25292 14.15 1.74998V3.24998C14.15 3.74703 13.747 4.14998 13.25 4.14998H12.95V10.85H13.25C13.747 10.85 14.15 11.2529 14.15 11.75V13.25C14.15 13.747 13.747 14.15 13.25 14.15H11.75C11.2529 14.15 10.85 13.747 10.85 13.25V12.95H4.14998V13.25C4.14998 13.747 3.74703 14.15 3.24998 14.15H1.74998C1.25292 14.15 0.849976 13.747 0.849976 13.25V11.75C0.849976 11.2529 1.25292 10.85 1.74998 10.85H2.04998V4.14998H1.74998C1.25292 4.14998 0.849976 3.74703 0.849976 3.24998V1.74998ZM2.94998 4.14998V10.85H3.24998C3.74703 10.85 4.14998 11.2529 4.14998 11.75V12.05H10.85V11.75C10.85 11.2529 11.2529 10.85 11.75 10.85H12.05V4.14998H11.75C11.2529 4.14998 10.85 3.74703 10.85 3.24998V2.94998H4.14998V3.24998C4.14998 3.74703 3.74703 4.14998 3.24998 4.14998H2.94998ZM2.34998 1.74998H1.74998V2.34998V2.64998V3.24998H2.34998H2.64998H3.24998V2.64998V2.34998V1.74998H2.64998H2.34998ZM5.09998 5.99998C5.09998 5.50292 5.50292 5.09998 5.99998 5.09998H6.99998C7.49703 5.09998 7.89998 5.50292 7.89998 5.99998V6.99998C7.89998 7.03591 7.89787 7.07134 7.89378 7.10618C7.92861 7.10208 7.96405 7.09998 7.99998 7.09998H8.99998C9.49703 7.09998 9.89998 7.50292 9.89998 7.99998V8.99998C9.89998 9.49703 9.49703 9.89998 8.99998 9.89998H7.99998C7.50292 9.89998 7.09998 9.49703 7.09998 8.99998V7.99998C7.09998 7.96405 7.10208 7.92861 7.10618 7.89378C7.07134 7.89787 7.03591 7.89998 6.99998 7.89998H5.99998C5.50292 7.89998 5.09998 7.49703 5.09998 6.99998V5.99998ZM6.09998 5.99998H5.99998V6.09998V6.89998V6.99998H6.09998H6.89998H6.99998V6.89998V6.09998V5.99998H6.89998H6.09998ZM7.99998 7.99998H8.09998H8.89998H8.99998V8.09998V8.89998V8.99998H8.89998H8.09998H7.99998V8.89998V8.09998V7.99998ZM2.64998 11.75H2.34998H1.74998V12.35V12.65V13.25H2.34998H2.64998H3.24998V12.65V12.35V11.75H2.64998ZM11.75 1.74998H12.35H12.65H13.25V2.34998V2.64998V3.24998H12.65H12.35H11.75V2.64998V2.34998V1.74998ZM12.65 11.75H12.35H11.75V12.35V12.65V13.25H12.35H12.65H13.25V12.65V12.35V11.75H12.65Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),Kd=null,Jd=null,qd=null,Qd=null,uf=["color"],ff=(0,S.forwardRef)(function(k,q){var $=k.color,X=$===void 0?"currentColor":$,J=B(k,uf);return(0,S.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J,{ref:q}),(0,S.createElement)("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:X}))}),e2=null,t2=null,df=["color"],hf=(0,S.forwardRef)(function(k,q){var $=k.color,X=$===void 0?"currentColor":$,J=B(k,df);return(0,S.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J,{ref:q}),(0,S.createElement)("path",{d:"M6 11L6 4L10.5 7.5L6 11Z",fill:X}))}),n2=null,r2=null,i2=null,o2=null,s2=null,a2=null,pf=["color"],mf=(0,S.forwardRef)(function(k,q){var $=k.color,X=$===void 0?"currentColor":$,J=B(k,pf);return(0,S.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J,{ref:q}),(0,S.createElement)("path",{d:"M1.90321 7.29677C1.90321 10.341 4.11041 12.4147 6.58893 12.8439C6.87255 12.893 7.06266 13.1627 7.01355 13.4464C6.96444 13.73 6.69471 13.9201 6.41109 13.871C3.49942 13.3668 0.86084 10.9127 0.86084 7.29677C0.860839 5.76009 1.55996 4.55245 2.37639 3.63377C2.96124 2.97568 3.63034 2.44135 4.16846 2.03202L2.53205 2.03202C2.25591 2.03202 2.03205 1.80816 2.03205 1.53202C2.03205 1.25588 2.25591 1.03202 2.53205 1.03202L5.53205 1.03202C5.80819 1.03202 6.03205 1.25588 6.03205 1.53202L6.03205 4.53202C6.03205 4.80816 5.80819 5.03202 5.53205 5.03202C5.25591 5.03202 5.03205 4.80816 5.03205 4.53202L5.03205 2.68645L5.03054 2.68759L5.03045 2.68766L5.03044 2.68767L5.03043 2.68767C4.45896 3.11868 3.76059 3.64538 3.15554 4.3262C2.44102 5.13021 1.90321 6.10154 1.90321 7.29677ZM13.0109 7.70321C13.0109 4.69115 10.8505 2.6296 8.40384 2.17029C8.12093 2.11718 7.93465 1.84479 7.98776 1.56188C8.04087 1.27898 8.31326 1.0927 8.59616 1.14581C11.4704 1.68541 14.0532 4.12605 14.0532 7.70321C14.0532 9.23988 13.3541 10.4475 12.5377 11.3662C11.9528 12.0243 11.2837 12.5586 10.7456 12.968L12.3821 12.968C12.6582 12.968 12.8821 13.1918 12.8821 13.468C12.8821 13.7441 12.6582 13.968 12.3821 13.968L9.38205 13.968C9.10591 13.968 8.88205 13.7441 8.88205 13.468L8.88205 10.468C8.88205 10.1918 9.10591 9.96796 9.38205 9.96796C9.65819 9.96796 9.88205 10.1918 9.88205 10.468L9.88205 12.3135L9.88362 12.3123C10.4551 11.8813 11.1535 11.3546 11.7585 10.6738C12.4731 9.86976 13.0109 8.89844 13.0109 7.70321Z",fill:X,fillRule:"evenodd",clipRule:"evenodd"}))}),l2=null,c2=null,u0=null,gf=null,u2=null,Ru=null,vf=null,f2=null,d2=null,h2=null,Cf=null,p2=null,m2=null,g2=null,v2=null,C2=null,ou=null,_f=null,xf=null,_2=null,f0=null,x2=null,y2=null,yf=null},559:function(qt,je,G){"use strict";G.d(je,{qA:function(){return gn}});var S=G(60795),B=G(50959),D=G(63905),Ne=G(48119);const qe=ot=>ot&&ot.isCubeTexture;class xt extends Ne.Mesh{constructor(At,vn){var Kt,Cn;const ln=qe(At),An=((Cn=ln?(Kt=At.image[0])==null?void 0:Kt.width:At.image.width)!=null?Cn:1024)/4,Yt=Math.floor(Math.log2(An)),Me=Math.pow(2,Yt),Ke=3*Math.max(Me,16*7),ae=4*Me,nt=[ln?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/Ke}`,`#define CUBEUV_TEXEL_HEIGHT ${1/ae}`,`#define CUBEUV_MAX_MIP ${Yt}.0`],Ae=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,Oe=nt.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,Ce={map:{value:At},height:{value:(vn==null?void 0:vn.height)||15},radius:{value:(vn==null?void 0:vn.radius)||100}},F=new Ne.IcosahedronGeometry(1,16),K=new Ne.ShaderMaterial({uniforms:Ce,fragmentShader:Oe,vertexShader:Ae,side:Ne.DoubleSide});super(F,K)}set radius(At){this.material.uniforms.radius.value=At}get radius(){return this.material.uniforms.radius.value}set height(At){this.material.uniforms.height.value=At}get height(){return this.material.uniforms.height.value}}class de extends Ne.DataTextureLoader{constructor(At){super(At),this.type=Ne.HalfFloatType}parse(At){const An=function(W,se){switch(W){case 1:console.error("THREE.RGBELoader Read Error: "+(se||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(se||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(se||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(se||""))}return-1},ae=`
`,nt=function(W,se,te){se=se||1024;let Le=W.pos,De=-1,ye=0,ke="",Te=String.fromCharCode.apply(null,new Uint16Array(W.subarray(Le,Le+128)));for(;0>(De=Te.indexOf(ae))&&ye<se&&Le<W.byteLength;)ke+=Te,ye+=Te.length,Le+=128,Te+=String.fromCharCode.apply(null,new Uint16Array(W.subarray(Le,Le+128)));return-1<De?(te!==!1&&(W.pos+=ye+De+1),ke+Te.slice(0,De)):!1},Ae=function(W){const se=/^#\?(\S+)/,te=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,ge=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Le=/^\s*FORMAT=(\S+)\s*$/,De=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,ye={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ke,Te;if(W.pos>=W.byteLength||!(ke=nt(W)))return An(1,"no header found");if(!(Te=ke.match(se)))return An(3,"bad initial token");for(ye.valid|=1,ye.programtype=Te[1],ye.string+=ke+`
`;ke=nt(W),ke!==!1;){if(ye.string+=ke+`
`,ke.charAt(0)==="#"){ye.comments+=ke+`
`;continue}if((Te=ke.match(te))&&(ye.gamma=parseFloat(Te[1])),(Te=ke.match(ge))&&(ye.exposure=parseFloat(Te[1])),(Te=ke.match(Le))&&(ye.valid|=2,ye.format=Te[1]),(Te=ke.match(De))&&(ye.valid|=4,ye.height=parseInt(Te[1],10),ye.width=parseInt(Te[2],10)),ye.valid&2&&ye.valid&4)break}return ye.valid&2?ye.valid&4?ye:An(3,"missing image size specifier"):An(3,"missing format specifier")},Oe=function(W,se,te){const ge=se;if(ge<8||ge>32767||W[0]!==2||W[1]!==2||W[2]&128)return new Uint8Array(W);if(ge!==(W[2]<<8|W[3]))return An(3,"wrong scanline width");const Le=new Uint8Array(4*se*te);if(!Le.length)return An(4,"unable to allocate buffer space");let De=0,ye=0;const ke=4*ge,Te=new Uint8Array(4),Et=new Uint8Array(ke);let zt=te;for(;zt>0&&ye<W.byteLength;){if(ye+4>W.byteLength)return An(1);if(Te[0]=W[ye++],Te[1]=W[ye++],Te[2]=W[ye++],Te[3]=W[ye++],Te[0]!=2||Te[1]!=2||(Te[2]<<8|Te[3])!=ge)return An(3,"bad rgbe scanline format");let _t=0,pt;for(;_t<ke&&ye<W.byteLength;){pt=W[ye++];const yt=pt>128;if(yt&&(pt-=128),pt===0||_t+pt>ke)return An(3,"bad scanline data");if(yt){const Vt=W[ye++];for(let Rn=0;Rn<pt;Rn++)Et[_t++]=Vt}else Et.set(W.subarray(ye,ye+pt),_t),_t+=pt,ye+=pt}const Ue=ge;for(let yt=0;yt<Ue;yt++){let Vt=0;Le[De]=Et[yt+Vt],Vt+=ge,Le[De+1]=Et[yt+Vt],Vt+=ge,Le[De+2]=Et[yt+Vt],Vt+=ge,Le[De+3]=Et[yt+Vt],De+=4}zt--}return Le},Ce=function(W,se,te,ge){const Le=W[se+3],De=Math.pow(2,Le-128)/255;te[ge+0]=W[se+0]*De,te[ge+1]=W[se+1]*De,te[ge+2]=W[se+2]*De,te[ge+3]=1},F=function(W,se,te,ge){const Le=W[se+3],De=Math.pow(2,Le-128)/255;te[ge+0]=Ne.DataUtils.toHalfFloat(Math.min(W[se+0]*De,65504)),te[ge+1]=Ne.DataUtils.toHalfFloat(Math.min(W[se+1]*De,65504)),te[ge+2]=Ne.DataUtils.toHalfFloat(Math.min(W[se+2]*De,65504)),te[ge+3]=Ne.DataUtils.toHalfFloat(1)},K=new Uint8Array(At);K.pos=0;const me=Ae(K);if(me!==-1){const W=me.width,se=me.height,te=Oe(K.subarray(K.pos),W,se);if(te!==-1){let ge,Le,De;switch(this.type){case Ne.FloatType:De=te.length/4;const ye=new Float32Array(De*4);for(let Te=0;Te<De;Te++)Ce(te,Te*4,ye,Te*4);ge=ye,Le=Ne.FloatType;break;case Ne.HalfFloatType:De=te.length/4;const ke=new Uint16Array(De*4);for(let Te=0;Te<De;Te++)F(te,Te*4,ke,Te*4);ge=ke,Le=Ne.HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:W,height:se,data:ge,header:me.string,gamma:me.gamma,exposure:me.exposure,type:Le}}}return null}setDataType(At){return this.type=At,this}load(At,vn,Kt,Cn){function ln(Wt,An){switch(Wt.type){case Ne.FloatType:case Ne.HalfFloatType:"colorSpace"in Wt?Wt.colorSpace="srgb-linear":Wt.encoding=3e3,Wt.minFilter=Ne.LinearFilter,Wt.magFilter=Ne.LinearFilter,Wt.generateMipmaps=!1,Wt.flipY=!0;break}vn&&vn(Wt,An)}return super.load(At,ln,Kt,Cn)}}const Ot={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},he="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/";function Be({files:ot=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:At="",preset:vn=void 0,encoding:Kt=void 0,extensions:Cn}={}){if(vn){if(!(vn in Ot))throw new Error("Preset must be one of: "+Object.keys(Ot).join(", "));ot=Ot[vn],At=he}const ln=Array.isArray(ot),Wt=ln?Ne.CubeTextureLoader:de,An=(0,D.D)(Wt,ln?[ot]:ot,Me=>{Me.setPath(At),Cn&&Cn(Me)}),Yt=ln?An[0]:An;return Yt.mapping=ln?Ne.CubeReflectionMapping:Ne.EquirectangularReflectionMapping,Yt.encoding=(Kt!=null?Kt:ln)?Ne.sRGBEncoding:Ne.LinearEncoding,Yt}const at=ot=>ot.current&&ot.current.isScene,xe=ot=>at(ot)?ot.current:ot;function mt(ot,At,vn,Kt,Cn=0){const ln=xe(At||vn),Wt=ln.background,An=ln.environment,Yt=ln.backgroundBlurriness||0;return ot!=="only"&&(ln.environment=Kt),ot&&(ln.background=Kt),ot&&ln.backgroundBlurriness!==void 0&&(ln.backgroundBlurriness=Cn),()=>{ot!=="only"&&(ln.environment=An),ot&&(ln.background=Wt),ot&&ln.backgroundBlurriness!==void 0&&(ln.backgroundBlurriness=Yt)}}function Lt({scene:ot,background:At=!1,blur:vn,map:Kt}){const Cn=(0,D.z)(ln=>ln.scene);return B.useLayoutEffect(()=>{if(Kt)return mt(At,ot,Cn,Kt,vn)},[Cn,ot,Kt,At,vn]),null}function ee(Cn){var ln=Cn,{background:ot=!1,scene:At,blur:vn}=ln,Kt=gs(ln,["background","scene","blur"]);const Wt=Be(Kt),An=(0,D.z)(Yt=>Yt.scene);return B.useLayoutEffect(()=>mt(ot,At,An,Wt,vn),[Wt,ot,At,An,vn]),null}function Hn({children:ot,near:At=1,far:vn=1e3,resolution:Kt=256,frames:Cn=1,map:ln,background:Wt=!1,blur:An,scene:Yt,files:Me,path:Ke,preset:ae=void 0,extensions:nt}){const Ae=(0,D.z)(W=>W.gl),Oe=(0,D.z)(W=>W.scene),Ce=B.useRef(null),[F]=B.useState(()=>new Ne.Scene),K=B.useMemo(()=>{const W=new Ne.WebGLCubeRenderTarget(Kt);return W.texture.type=Ne.HalfFloatType,W},[Kt]);B.useLayoutEffect(()=>(Cn===1&&Ce.current.update(Ae,F),mt(Wt,Yt,Oe,K.texture,An)),[ot,F,K.texture,Yt,Oe,Wt,Cn,Ae]);let me=1;return(0,D.A)(()=>{(Cn===1/0||me<Cn)&&(Ce.current.update(Ae,F),me++)}),B.createElement(B.Fragment,null,(0,D.g)(B.createElement(B.Fragment,null,ot,B.createElement("cubeCamera",{ref:Ce,args:[At,vn,K]}),Me||ae?B.createElement(ee,{background:!0,files:Me,preset:ae,path:Ke,extensions:nt}):ln?B.createElement(Lt,{background:!0,map:ln,extensions:nt}):null),F))}function fn(ot){var At,vn,Kt,Cn;const ln=Be(ot),Wt=ot.map||ln;B.useMemo(()=>(0,D.e)({GroundProjectedEnvImpl:xt}),[]);const An=B.useMemo(()=>[Wt],[Wt]),Yt=(At=ot.ground)==null?void 0:At.height,Me=(vn=ot.ground)==null?void 0:vn.radius,Ke=(Kt=(Cn=ot.ground)==null?void 0:Cn.scale)!==null&&Kt!==void 0?Kt:1e3;return B.createElement(B.Fragment,null,B.createElement(Lt,(0,S.Z)({},ot,{map:Wt})),B.createElement("groundProjectedEnvImpl",{args:An,scale:Ke,height:Yt,radius:Me}))}function gn(ot){return ot.ground?B.createElement(fn,ot):ot.map?B.createElement(Lt,ot):ot.children?B.createElement(Hn,ot):B.createElement(ee,ot)}},74995:function(qt,je,G){"use strict";G.d(je,{z:function(){return at}});var S=G(60795),B=G(63905),D=G(50959),Ne=G(48119),qe=Object.defineProperty,xt=(xe,mt,Lt)=>mt in xe?qe(xe,mt,{enumerable:!0,configurable:!0,writable:!0,value:Lt}):xe[mt]=Lt,de=(xe,mt,Lt)=>(xt(xe,typeof mt!="symbol"?mt+"":mt,Lt),Lt);const Ot=(xe,mt)=>(xe%mt+mt)%mt;class he extends Ne.EventDispatcher{constructor(mt,Lt){super(),de(this,"object"),de(this,"domElement"),de(this,"enabled",!0),de(this,"target",new Ne.Vector3),de(this,"minDistance",0),de(this,"maxDistance",1/0),de(this,"minZoom",0),de(this,"maxZoom",1/0),de(this,"minPolarAngle",0),de(this,"maxPolarAngle",Math.PI),de(this,"minAzimuthAngle",-1/0),de(this,"maxAzimuthAngle",1/0),de(this,"enableDamping",!1),de(this,"dampingFactor",.05),de(this,"enableZoom",!0),de(this,"zoomSpeed",1),de(this,"enableRotate",!0),de(this,"rotateSpeed",1),de(this,"enablePan",!0),de(this,"panSpeed",1),de(this,"screenSpacePanning",!0),de(this,"keyPanSpeed",7),de(this,"autoRotate",!1),de(this,"autoRotateSpeed",2),de(this,"reverseOrbit",!1),de(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),de(this,"mouseButtons",{LEFT:Ne.MOUSE.ROTATE,MIDDLE:Ne.MOUSE.DOLLY,RIGHT:Ne.MOUSE.PAN}),de(this,"touches",{ONE:Ne.TOUCH.ROTATE,TWO:Ne.TOUCH.DOLLY_PAN}),de(this,"target0"),de(this,"position0"),de(this,"zoom0"),de(this,"_domElementKeyEvents",null),de(this,"getPolarAngle"),de(this,"getAzimuthalAngle"),de(this,"setPolarAngle"),de(this,"setAzimuthalAngle"),de(this,"getDistance"),de(this,"listenToKeyEvents"),de(this,"saveState"),de(this,"reset"),de(this,"update"),de(this,"connect"),de(this,"dispose"),this.object=mt,this.domElement=Lt,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>Kt.phi,this.getAzimuthalAngle=()=>Kt.theta,this.setPolarAngle=oe=>{let Ge=Ot(oe,2*Math.PI),Rt=Kt.phi;Rt<0&&(Rt+=2*Math.PI),Ge<0&&(Ge+=2*Math.PI);let an=Math.abs(Ge-Rt);2*Math.PI-an<an&&(Ge<Rt?Ge+=2*Math.PI:Rt+=2*Math.PI),Cn.phi=Ge-Rt,ee.update()},this.setAzimuthalAngle=oe=>{let Ge=Ot(oe,2*Math.PI),Rt=Kt.theta;Rt<0&&(Rt+=2*Math.PI),Ge<0&&(Ge+=2*Math.PI);let an=Math.abs(Ge-Rt);2*Math.PI-an<an&&(Ge<Rt?Ge+=2*Math.PI:Rt+=2*Math.PI),Cn.theta=Ge-Rt,ee.update()},this.getDistance=()=>ee.object.position.distanceTo(ee.target),this.listenToKeyEvents=oe=>{oe.addEventListener("keydown",$e),this._domElementKeyEvents=oe},this.saveState=()=>{ee.target0.copy(ee.target),ee.position0.copy(ee.object.position),ee.zoom0=ee.object.zoom},this.reset=()=>{ee.target.copy(ee.target0),ee.object.position.copy(ee.position0),ee.object.zoom=ee.zoom0,ee.object.updateProjectionMatrix(),ee.dispatchEvent(Hn),ee.update(),At=ot.NONE},this.update=(()=>{const oe=new Ne.Vector3,Ge=new Ne.Quaternion().setFromUnitVectors(mt.up,new Ne.Vector3(0,1,0)),Rt=Ge.clone().invert(),an=new Ne.Vector3,jn=new Ne.Quaternion,pr=2*Math.PI;return function(){const xi=ee.object.position;oe.copy(xi).sub(ee.target),oe.applyQuaternion(Ge),Kt.setFromVector3(oe),ee.autoRotate&&At===ot.NONE&&te(W()),ee.enableDamping?(Kt.theta+=Cn.theta*ee.dampingFactor,Kt.phi+=Cn.phi*ee.dampingFactor):(Kt.theta+=Cn.theta,Kt.phi+=Cn.phi);let Qr=ee.minAzimuthAngle,ei=ee.maxAzimuthAngle;return isFinite(Qr)&&isFinite(ei)&&(Qr<-Math.PI?Qr+=pr:Qr>Math.PI&&(Qr-=pr),ei<-Math.PI?ei+=pr:ei>Math.PI&&(ei-=pr),Qr<=ei?Kt.theta=Math.max(Qr,Math.min(ei,Kt.theta)):Kt.theta=Kt.theta>(Qr+ei)/2?Math.max(Qr,Kt.theta):Math.min(ei,Kt.theta)),Kt.phi=Math.max(ee.minPolarAngle,Math.min(ee.maxPolarAngle,Kt.phi)),Kt.makeSafe(),Kt.radius*=ln,Kt.radius=Math.max(ee.minDistance,Math.min(ee.maxDistance,Kt.radius)),ee.enableDamping===!0?ee.target.addScaledVector(Wt,ee.dampingFactor):ee.target.add(Wt),oe.setFromSpherical(Kt),oe.applyQuaternion(Rt),xi.copy(ee.target).add(oe),ee.object.lookAt(ee.target),ee.enableDamping===!0?(Cn.theta*=1-ee.dampingFactor,Cn.phi*=1-ee.dampingFactor,Wt.multiplyScalar(1-ee.dampingFactor)):(Cn.set(0,0,0),Wt.set(0,0,0)),ln=1,An||an.distanceToSquared(ee.object.position)>vn||8*(1-jn.dot(ee.object.quaternion))>vn?(ee.dispatchEvent(Hn),an.copy(ee.object.position),jn.copy(ee.object.quaternion),An=!1,!0):!1}})(),this.connect=oe=>{oe===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),ee.domElement=oe,ee.domElement.style.touchAction="none",ee.domElement.addEventListener("contextmenu",Dn),ee.domElement.addEventListener("pointerdown",Mn),ee.domElement.addEventListener("pointercancel",jr),ee.domElement.addEventListener("wheel",Xe)},this.dispose=()=>{var oe,Ge,Rt,an,jn,pr;(oe=ee.domElement)==null||oe.removeEventListener("contextmenu",Dn),(Ge=ee.domElement)==null||Ge.removeEventListener("pointerdown",Mn),(Rt=ee.domElement)==null||Rt.removeEventListener("pointercancel",jr),(an=ee.domElement)==null||an.removeEventListener("wheel",Xe),(jn=ee.domElement)==null||jn.ownerDocument.removeEventListener("pointermove",ur),(pr=ee.domElement)==null||pr.ownerDocument.removeEventListener("pointerup",rr),ee._domElementKeyEvents!==null&&ee._domElementKeyEvents.removeEventListener("keydown",$e)};const ee=this,Hn={type:"change"},fn={type:"start"},gn={type:"end"},ot={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let At=ot.NONE;const vn=1e-6,Kt=new Ne.Spherical,Cn=new Ne.Spherical;let ln=1;const Wt=new Ne.Vector3;let An=!1;const Yt=new Ne.Vector2,Me=new Ne.Vector2,Ke=new Ne.Vector2,ae=new Ne.Vector2,nt=new Ne.Vector2,Ae=new Ne.Vector2,Oe=new Ne.Vector2,Ce=new Ne.Vector2,F=new Ne.Vector2,K=[],me={};function W(){return 2*Math.PI/60/60*ee.autoRotateSpeed}function se(){return Math.pow(.95,ee.zoomSpeed)}function te(oe){ee.reverseOrbit?Cn.theta+=oe:Cn.theta-=oe}function ge(oe){ee.reverseOrbit?Cn.phi+=oe:Cn.phi-=oe}const Le=(()=>{const oe=new Ne.Vector3;return function(Rt,an){oe.setFromMatrixColumn(an,0),oe.multiplyScalar(-Rt),Wt.add(oe)}})(),De=(()=>{const oe=new Ne.Vector3;return function(Rt,an){ee.screenSpacePanning===!0?oe.setFromMatrixColumn(an,1):(oe.setFromMatrixColumn(an,0),oe.crossVectors(ee.object.up,oe)),oe.multiplyScalar(Rt),Wt.add(oe)}})(),ye=(()=>{const oe=new Ne.Vector3;return function(Rt,an){const jn=ee.domElement;if(jn&&ee.object instanceof Ne.PerspectiveCamera&&ee.object.isPerspectiveCamera){const pr=ee.object.position;oe.copy(pr).sub(ee.target);let Lr=oe.length();Lr*=Math.tan(ee.object.fov/2*Math.PI/180),Le(2*Rt*Lr/jn.clientHeight,ee.object.matrix),De(2*an*Lr/jn.clientHeight,ee.object.matrix)}else jn&&ee.object instanceof Ne.OrthographicCamera&&ee.object.isOrthographicCamera?(Le(Rt*(ee.object.right-ee.object.left)/ee.object.zoom/jn.clientWidth,ee.object.matrix),De(an*(ee.object.top-ee.object.bottom)/ee.object.zoom/jn.clientHeight,ee.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),ee.enablePan=!1)}})();function ke(oe){ee.object instanceof Ne.PerspectiveCamera&&ee.object.isPerspectiveCamera?ln/=oe:ee.object instanceof Ne.OrthographicCamera&&ee.object.isOrthographicCamera?(ee.object.zoom=Math.max(ee.minZoom,Math.min(ee.maxZoom,ee.object.zoom*oe)),ee.object.updateProjectionMatrix(),An=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),ee.enableZoom=!1)}function Te(oe){ee.object instanceof Ne.PerspectiveCamera&&ee.object.isPerspectiveCamera?ln*=oe:ee.object instanceof Ne.OrthographicCamera&&ee.object.isOrthographicCamera?(ee.object.zoom=Math.max(ee.minZoom,Math.min(ee.maxZoom,ee.object.zoom/oe)),ee.object.updateProjectionMatrix(),An=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),ee.enableZoom=!1)}function Et(oe){Yt.set(oe.clientX,oe.clientY)}function zt(oe){Oe.set(oe.clientX,oe.clientY)}function _t(oe){ae.set(oe.clientX,oe.clientY)}function pt(oe){Me.set(oe.clientX,oe.clientY),Ke.subVectors(Me,Yt).multiplyScalar(ee.rotateSpeed);const Ge=ee.domElement;Ge&&(te(2*Math.PI*Ke.x/Ge.clientHeight),ge(2*Math.PI*Ke.y/Ge.clientHeight)),Yt.copy(Me),ee.update()}function Ue(oe){Ce.set(oe.clientX,oe.clientY),F.subVectors(Ce,Oe),F.y>0?ke(se()):F.y<0&&Te(se()),Oe.copy(Ce),ee.update()}function yt(oe){nt.set(oe.clientX,oe.clientY),Ae.subVectors(nt,ae).multiplyScalar(ee.panSpeed),ye(Ae.x,Ae.y),ae.copy(nt),ee.update()}function Vt(oe){oe.deltaY<0?Te(se()):oe.deltaY>0&&ke(se()),ee.update()}function Rn(oe){let Ge=!1;switch(oe.code){case ee.keys.UP:ye(0,ee.keyPanSpeed),Ge=!0;break;case ee.keys.BOTTOM:ye(0,-ee.keyPanSpeed),Ge=!0;break;case ee.keys.LEFT:ye(ee.keyPanSpeed,0),Ge=!0;break;case ee.keys.RIGHT:ye(-ee.keyPanSpeed,0),Ge=!0;break}Ge&&(oe.preventDefault(),ee.update())}function Qt(){if(K.length==1)Yt.set(K[0].pageX,K[0].pageY);else{const oe=.5*(K[0].pageX+K[1].pageX),Ge=.5*(K[0].pageY+K[1].pageY);Yt.set(oe,Ge)}}function In(){if(K.length==1)ae.set(K[0].pageX,K[0].pageY);else{const oe=.5*(K[0].pageX+K[1].pageX),Ge=.5*(K[0].pageY+K[1].pageY);ae.set(oe,Ge)}}function sn(){const oe=K[0].pageX-K[1].pageX,Ge=K[0].pageY-K[1].pageY,Rt=Math.sqrt(oe*oe+Ge*Ge);Oe.set(0,Rt)}function dn(){ee.enableZoom&&sn(),ee.enablePan&&In()}function Cr(){ee.enableZoom&&sn(),ee.enableRotate&&Qt()}function oi(oe){if(K.length==1)Me.set(oe.pageX,oe.pageY);else{const Rt=lt(oe),an=.5*(oe.pageX+Rt.x),jn=.5*(oe.pageY+Rt.y);Me.set(an,jn)}Ke.subVectors(Me,Yt).multiplyScalar(ee.rotateSpeed);const Ge=ee.domElement;Ge&&(te(2*Math.PI*Ke.x/Ge.clientHeight),ge(2*Math.PI*Ke.y/Ge.clientHeight)),Yt.copy(Me)}function Tt(oe){if(K.length==1)nt.set(oe.pageX,oe.pageY);else{const Ge=lt(oe),Rt=.5*(oe.pageX+Ge.x),an=.5*(oe.pageY+Ge.y);nt.set(Rt,an)}Ae.subVectors(nt,ae).multiplyScalar(ee.panSpeed),ye(Ae.x,Ae.y),ae.copy(nt)}function jt(oe){const Ge=lt(oe),Rt=oe.pageX-Ge.x,an=oe.pageY-Ge.y,jn=Math.sqrt(Rt*Rt+an*an);Ce.set(0,jn),F.set(0,Math.pow(Ce.y/Oe.y,ee.zoomSpeed)),ke(F.y),Oe.copy(Ce)}function _n(oe){ee.enableZoom&&jt(oe),ee.enablePan&&Tt(oe)}function en(oe){ee.enableZoom&&jt(oe),ee.enableRotate&&oi(oe)}function Mn(oe){var Ge,Rt;ee.enabled!==!1&&(K.length===0&&((Ge=ee.domElement)==null||Ge.ownerDocument.addEventListener("pointermove",ur),(Rt=ee.domElement)==null||Rt.ownerDocument.addEventListener("pointerup",rr)),bn(oe),oe.pointerType==="touch"?Ye(oe):Zn(oe))}function ur(oe){ee.enabled!==!1&&(oe.pointerType==="touch"?Pt(oe):ve(oe))}function rr(oe){var Ge,Rt,an;Nt(oe),K.length===0&&((Ge=ee.domElement)==null||Ge.releasePointerCapture(oe.pointerId),(Rt=ee.domElement)==null||Rt.ownerDocument.removeEventListener("pointermove",ur),(an=ee.domElement)==null||an.ownerDocument.removeEventListener("pointerup",rr)),ee.dispatchEvent(gn),At=ot.NONE}function jr(oe){Nt(oe)}function Zn(oe){let Ge;switch(oe.button){case 0:Ge=ee.mouseButtons.LEFT;break;case 1:Ge=ee.mouseButtons.MIDDLE;break;case 2:Ge=ee.mouseButtons.RIGHT;break;default:Ge=-1}switch(Ge){case Ne.MOUSE.DOLLY:if(ee.enableZoom===!1)return;zt(oe),At=ot.DOLLY;break;case Ne.MOUSE.ROTATE:if(oe.ctrlKey||oe.metaKey||oe.shiftKey){if(ee.enablePan===!1)return;_t(oe),At=ot.PAN}else{if(ee.enableRotate===!1)return;Et(oe),At=ot.ROTATE}break;case Ne.MOUSE.PAN:if(oe.ctrlKey||oe.metaKey||oe.shiftKey){if(ee.enableRotate===!1)return;Et(oe),At=ot.ROTATE}else{if(ee.enablePan===!1)return;_t(oe),At=ot.PAN}break;default:At=ot.NONE}At!==ot.NONE&&ee.dispatchEvent(fn)}function ve(oe){if(ee.enabled!==!1)switch(At){case ot.ROTATE:if(ee.enableRotate===!1)return;pt(oe);break;case ot.DOLLY:if(ee.enableZoom===!1)return;Ue(oe);break;case ot.PAN:if(ee.enablePan===!1)return;yt(oe);break}}function Xe(oe){ee.enabled===!1||ee.enableZoom===!1||At!==ot.NONE&&At!==ot.ROTATE||(oe.preventDefault(),ee.dispatchEvent(fn),Vt(oe),ee.dispatchEvent(gn))}function $e(oe){ee.enabled===!1||ee.enablePan===!1||Rn(oe)}function Ye(oe){switch($t(oe),K.length){case 1:switch(ee.touches.ONE){case Ne.TOUCH.ROTATE:if(ee.enableRotate===!1)return;Qt(),At=ot.TOUCH_ROTATE;break;case Ne.TOUCH.PAN:if(ee.enablePan===!1)return;In(),At=ot.TOUCH_PAN;break;default:At=ot.NONE}break;case 2:switch(ee.touches.TWO){case Ne.TOUCH.DOLLY_PAN:if(ee.enableZoom===!1&&ee.enablePan===!1)return;dn(),At=ot.TOUCH_DOLLY_PAN;break;case Ne.TOUCH.DOLLY_ROTATE:if(ee.enableZoom===!1&&ee.enableRotate===!1)return;Cr(),At=ot.TOUCH_DOLLY_ROTATE;break;default:At=ot.NONE}break;default:At=ot.NONE}At!==ot.NONE&&ee.dispatchEvent(fn)}function Pt(oe){switch($t(oe),At){case ot.TOUCH_ROTATE:if(ee.enableRotate===!1)return;oi(oe),ee.update();break;case ot.TOUCH_PAN:if(ee.enablePan===!1)return;Tt(oe),ee.update();break;case ot.TOUCH_DOLLY_PAN:if(ee.enableZoom===!1&&ee.enablePan===!1)return;_n(oe),ee.update();break;case ot.TOUCH_DOLLY_ROTATE:if(ee.enableZoom===!1&&ee.enableRotate===!1)return;en(oe),ee.update();break;default:At=ot.NONE}}function Dn(oe){ee.enabled!==!1&&oe.preventDefault()}function bn(oe){K.push(oe)}function Nt(oe){delete me[oe.pointerId];for(let Ge=0;Ge<K.length;Ge++)if(K[Ge].pointerId==oe.pointerId){K.splice(Ge,1);return}}function $t(oe){let Ge=me[oe.pointerId];Ge===void 0&&(Ge=new Ne.Vector2,me[oe.pointerId]=Ge),Ge.set(oe.pageX,oe.pageY)}function lt(oe){const Ge=oe.pointerId===K[0].pointerId?K[1]:K[0];return me[Ge.pointerId]}Lt!==void 0&&this.connect(Lt),this.update()}}class Be extends null{constructor(mt,Lt){super(mt,Lt),this.screenSpacePanning=!1,this.mouseButtons.LEFT=MOUSE.PAN,this.mouseButtons.RIGHT=MOUSE.ROTATE,this.touches.ONE=TOUCH.PAN,this.touches.TWO=TOUCH.DOLLY_ROTATE}}const at=D.forwardRef((Cn,Kt)=>{var ln=Cn,{makeDefault:xe,camera:mt,regress:Lt,domElement:ee,enableDamping:Hn=!0,keyEvents:fn=!1,onChange:gn,onStart:ot,onEnd:At}=ln,vn=gs(ln,["makeDefault","camera","regress","domElement","enableDamping","keyEvents","onChange","onStart","onEnd"]);const Wt=(0,B.z)(K=>K.invalidate),An=(0,B.z)(K=>K.camera),Yt=(0,B.z)(K=>K.gl),Me=(0,B.z)(K=>K.events),Ke=(0,B.z)(K=>K.setEvents),ae=(0,B.z)(K=>K.set),nt=(0,B.z)(K=>K.get),Ae=(0,B.z)(K=>K.performance),Oe=mt||An,Ce=ee||Me.connected||Yt.domElement,F=D.useMemo(()=>new he(Oe),[Oe]);return(0,B.A)(()=>{F.enabled&&F.update()},-1),D.useEffect(()=>(fn&&F.connect(fn===!0?Ce:fn),F.connect(Ce),()=>void F.dispose()),[fn,Ce,Lt,F,Wt]),D.useEffect(()=>{const K=se=>{Wt(),Lt&&Ae.regress(),gn&&gn(se)},me=se=>{ot&&ot(se)},W=se=>{At&&At(se)};return F.addEventListener("change",K),F.addEventListener("start",me),F.addEventListener("end",W),()=>{F.removeEventListener("start",me),F.removeEventListener("end",W),F.removeEventListener("change",K)}},[gn,ot,At,F,Wt,Ke]),D.useEffect(()=>{if(xe){const K=nt().controls;return ae({controls:F}),()=>ae({controls:K})}},[xe,F]),D.createElement("primitive",(0,S.Z)({ref:Kt,object:F,enableDamping:Hn},vn))})},28892:function(qt,je,G){"use strict";G.d(je,{H:function(){return An}});var S=G(60795),B=G(50959),D=G(559),Ne=G(48119),qe=G(63905);const xt={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},de={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `},Ot=B.forwardRef((ge,te)=>{var Le=ge,{scale:Yt=10,frames:Me=1/0,opacity:Ke=1,width:ae=1,height:nt=1,blur:Ae=1,far:Oe=10,resolution:Ce=512,smooth:F=!0,color:K="#000000",depthWrite:me=!1,renderOrder:W}=Le,se=gs(Le,["scale","frames","opacity","width","height","blur","far","resolution","smooth","color","depthWrite","renderOrder"]);const De=B.useRef(null),ye=(0,qe.z)(dn=>dn.scene),ke=(0,qe.z)(dn=>dn.gl),Te=B.useRef(null);ae=ae*(Array.isArray(Yt)?Yt[0]:Yt||1),nt=nt*(Array.isArray(Yt)?Yt[1]:Yt||1);const[Et,zt,_t,pt,Ue,yt,Vt]=B.useMemo(()=>{const dn=new Ne.WebGLRenderTarget(Ce,Ce),Cr=new Ne.WebGLRenderTarget(Ce,Ce);Cr.texture.generateMipmaps=dn.texture.generateMipmaps=!1;const oi=new Ne.PlaneGeometry(ae,nt).rotateX(Math.PI/2),Tt=new Ne.Mesh(oi),jt=new Ne.MeshDepthMaterial;jt.depthTest=jt.depthWrite=!1,jt.onBeforeCompile=Mn=>{Mn.uniforms=Yr(St({},Mn.uniforms),{ucolor:{value:new Ne.Color(K)}}),Mn.fragmentShader=Mn.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),Mn.fragmentShader=Mn.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const _n=new Ne.ShaderMaterial(xt),en=new Ne.ShaderMaterial(de);return en.depthTest=_n.depthTest=!1,[dn,oi,jt,Tt,_n,en,Cr]},[Ce,ae,nt,Yt,K]),Rn=dn=>{pt.visible=!0,pt.material=Ue,Ue.uniforms.tDiffuse.value=Et.texture,Ue.uniforms.h.value=dn*1/256,ke.setRenderTarget(Vt),ke.render(pt,Te.current),pt.material=yt,yt.uniforms.tDiffuse.value=Vt.texture,yt.uniforms.v.value=dn*1/256,ke.setRenderTarget(Et),ke.render(pt,Te.current),pt.visible=!1};let Qt=0,In,sn;return(0,qe.A)(()=>{Te.current&&(Me===1/0||Qt<Me)&&(Qt++,In=ye.background,sn=ye.overrideMaterial,De.current.visible=!1,ye.background=null,ye.overrideMaterial=_t,ke.setRenderTarget(Et),ke.render(ye,Te.current),Rn(Ae),F&&Rn(Ae*.4),ke.setRenderTarget(null),De.current.visible=!0,ye.overrideMaterial=sn,ye.background=In)}),B.useImperativeHandle(te,()=>De.current,[]),B.createElement("group",(0,S.Z)({"rotation-x":Math.PI/2},se,{ref:De}),B.createElement("mesh",{renderOrder:W,geometry:zt,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},B.createElement("meshBasicMaterial",{transparent:!0,map:Et.texture,opacity:Ke,depthWrite:me})),B.createElement("orthographicCamera",{ref:Te,args:[-ae/2,ae/2,nt/2,-nt/2,0,Oe]}))}),he=B.forwardRef(function(ye,De){var ke=ye,{children:Me,disable:Ke,disableX:ae,disableY:nt,disableZ:Ae,left:Oe,right:Ce,top:F,bottom:K,front:me,back:W,onCentered:se,precise:te=!0,cacheKey:ge=0}=ke,Le=gs(ke,["children","disable","disableX","disableY","disableZ","left","right","top","bottom","front","back","onCentered","precise","cacheKey"]);const Te=B.useRef(null),Et=B.useRef(null),zt=B.useRef(null);return B.useLayoutEffect(()=>{Et.current.matrixWorld.identity();const _t=new Ne.Box3().setFromObject(zt.current,te),pt=new Ne.Vector3,Ue=new Ne.Sphere,yt=_t.max.x-_t.min.x,Vt=_t.max.y-_t.min.y,Rn=_t.max.z-_t.min.z;_t.getCenter(pt),_t.getBoundingSphere(Ue);const Qt=F?Vt/2:K?-Vt/2:0,In=Oe?-yt/2:Ce?yt/2:0,sn=me?Rn/2:W?-Rn/2:0;Et.current.position.set(Ke||ae?0:-pt.x+In,Ke||nt?0:-pt.y+Qt,Ke||Ae?0:-pt.z+sn),typeof se!="undefined"&&se({parent:Te.current.parent,container:Te.current,width:yt,height:Vt,depth:Rn,boundingBox:_t,boundingSphere:Ue,center:pt,verticalAlignment:Qt,horizontalAlignment:In,depthAlignment:sn})},[ge,se,F,Oe,me,Ke,ae,nt,Ae,te,Ce,K,W]),B.useImperativeHandle(De,()=>Te.current,[]),B.createElement("group",(0,S.Z)({ref:Te},Le),B.createElement("group",{ref:Et},B.createElement("group",{ref:zt},Me)))});function Be(Yt,Me,Ke,ae){const nt=class extends Ne.ShaderMaterial{constructor(Oe={}){const Ce=Object.entries(Yt);super({uniforms:Ce.reduce((F,[K,me])=>{const W=Ne.UniformsUtils.clone({[K]:{value:me}});return St(St({},F),W)},{}),vertexShader:Me,fragmentShader:Ke}),this.key="",Ce.forEach(([F])=>Object.defineProperty(this,F,{get:()=>this.uniforms[F].value,set:K=>this.uniforms[F].value=K})),Object.assign(this,Oe),ae&&ae(this)}};return nt.key=Ne.MathUtils.generateUUID(),nt}const at=Be({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }");function xe(Yt){return Yt.isLight}function mt(Yt){return!!Yt.geometry}const Lt=B.createContext(null),ee=Be({color:new Ne.Color,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <encodings_fragment>
   }`),Hn=B.forwardRef((ge,te)=>{var Le=ge,{children:Yt,temporal:Me,frames:Ke=40,limit:ae=1/0,blend:nt=20,scale:Ae=10,opacity:Oe=1,alphaTest:Ce=.75,color:F="black",colorBlend:K=2,resolution:me=1024,toneMapped:W=!0}=Le,se=gs(Le,["children","temporal","frames","limit","blend","scale","opacity","alphaTest","color","colorBlend","resolution","toneMapped"]);(0,qe.e)({SoftShadowMaterial:ee});const De=(0,qe.z)(Ue=>Ue.gl),ye=(0,qe.z)(Ue=>Ue.scene),ke=(0,qe.z)(Ue=>Ue.camera),Te=(0,qe.z)(Ue=>Ue.invalidate),Et=B.useRef(null),zt=B.useRef(null),[_t]=B.useState(()=>new gn(De,ye,me));B.useLayoutEffect(()=>{_t.configure(Et.current)},[]);const pt=B.useMemo(()=>({lights:new Map,temporal:!!Me,frames:Math.max(2,Ke),blend:Math.max(2,Ke===1/0?nt:Ke),count:0,getMesh:()=>Et.current,reset:()=>{_t.clear();const Ue=Et.current.material;Ue.opacity=0,Ue.alphaTest=0,pt.count=0},update:(Ue=1)=>{const yt=Et.current.material;pt.temporal?(yt.opacity=Math.min(Oe,yt.opacity+Oe/pt.blend),yt.alphaTest=Math.min(Ce,yt.alphaTest+Ce/pt.blend)):(yt.opacity=Oe,yt.alphaTest=Ce),zt.current.visible=!0,_t.prepare();for(let Vt=0;Vt<Ue;Vt++)pt.lights.forEach(Rn=>Rn.update()),_t.update(ke,pt.blend);zt.current.visible=!1,_t.finish()}}),[_t,ke,ye,Me,Ke,nt,Oe,Ce]);return B.useLayoutEffect(()=>{pt.reset(),!pt.temporal&&pt.frames!==1/0&&pt.update(pt.blend)}),B.useImperativeHandle(te,()=>pt,[pt]),(0,qe.A)(()=>{(pt.temporal||pt.frames===1/0)&&pt.count<pt.frames&&pt.count<ae&&(Te(),pt.update(),pt.count++)}),B.createElement("group",se,B.createElement("group",{traverse:()=>null,ref:zt},B.createElement(Lt.Provider,{value:pt},Yt)),B.createElement("mesh",{receiveShadow:!0,ref:Et,scale:Ae,rotation:[-Math.PI/2,0,0]},B.createElement("planeGeometry",null),B.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:W,color:F,blend:K,map:_t.progressiveLightMap2.texture})))}),fn=B.forwardRef((ge,te)=>{var Le=ge,{castShadow:Yt=!0,bias:Me=.001,mapSize:Ke=512,size:ae=5,near:nt=.5,far:Ae=500,frames:Oe=1,position:Ce=[0,0,0],radius:F=1,amount:K=8,intensity:me=1,ambient:W=.5}=Le,se=gs(Le,["castShadow","bias","mapSize","size","near","far","frames","position","radius","amount","intensity","ambient"]);const De=B.useRef(null),ye=new Ne.Vector3(...Ce).length(),ke=B.useContext(Lt),Te=B.useCallback(()=>{let zt;if(De.current)for(let _t=0;_t<De.current.children.length;_t++)if(zt=De.current.children[_t],Math.random()>W)zt.position.set(Ce[0]+Ne.MathUtils.randFloatSpread(F),Ce[1]+Ne.MathUtils.randFloatSpread(F),Ce[2]+Ne.MathUtils.randFloatSpread(F));else{let pt=Math.acos(2*Math.random()-1)-Math.PI/2,Ue=2*Math.PI*Math.random();zt.position.set(Math.cos(pt)*Math.cos(Ue)*ye,Math.abs(Math.cos(pt)*Math.sin(Ue)*ye),Math.sin(pt)*ye)}},[F,W,ye,...Ce]),Et=B.useMemo(()=>({update:Te}),[Te]);return B.useImperativeHandle(te,()=>Et,[Et]),B.useLayoutEffect(()=>{const zt=De.current;return ke&&ke.lights.set(zt.uuid,Et),()=>void ke.lights.delete(zt.uuid)},[ke,Et]),B.createElement("group",(0,S.Z)({ref:De},se),Array.from({length:K},(zt,_t)=>B.createElement("directionalLight",{key:_t,castShadow:Yt,"shadow-bias":Me,"shadow-mapSize":[Ke,Ke],intensity:me/K},B.createElement("orthographicCamera",{attach:"shadow-camera",args:[-ae,ae,ae,-ae,nt,Ae]}))))});class gn{constructor(Me,Ke,ae=1024){this.renderer=Me,this.res=ae,this.scene=Ke,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new Ne.Color,this.clearAlpha=0;const nt=/(Android|iPad|iPhone|iPod)/g.test(navigator.userAgent)?Ne.HalfFloatType:Ne.FloatType;this.progressiveLightMap1=new Ne.WebGLRenderTarget(this.res,this.res,{type:nt}),this.progressiveLightMap2=new Ne.WebGLRenderTarget(this.res,this.res,{type:nt}),this.discardMat=new at,this.targetMat=new Ne.MeshLambertMaterial({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=Ae=>{Ae.vertexShader=`varying vec2 vUv;
`+Ae.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";const Oe=Ae.fragmentShader.indexOf("void main() {");Ae.fragmentShader=`varying vec2 vUv;
`+Ae.fragmentShader.slice(0,Oe)+`uniform sampler2D previousShadowMap;
	uniform float averagingWindow;
`+Ae.fragmentShader.slice(Oe-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,Ae.uniforms.previousShadowMap=this.previousShadowMap,Ae.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(Me=>{mt(Me)?this.meshes.push({object:Me,material:Me.material}):xe(Me)&&this.lights.push({object:Me,intensity:Me.intensity})})}prepare(){this.lights.forEach(Me=>Me.object.intensity=0),this.meshes.forEach(Me=>Me.object.material=this.discardMat)}finish(){this.lights.forEach(Me=>Me.object.intensity=Me.intensity),this.meshes.forEach(Me=>Me.object.material=Me.material)}configure(Me){this.object=Me}update(Me,Ke=100){if(!this.object)return;this.averagingWindow.value=Ke,this.object.material=this.targetMat;const ae=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,nt=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,Ae=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(ae),this.previousShadowMap.value=nt.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,Me),this.renderer.setRenderTarget(null),this.scene.background=Ae}}const ot=Yt=>Yt&&Yt.isOrthographicCamera,At=Yt=>Yt&&Yt.isBox3,vn=B.createContext(null);function Kt({children:Yt,damping:Me=6,fit:Ke,clip:ae,observe:nt,margin:Ae=1.2,eps:Oe=.01,onFit:Ce}){const F=B.useRef(null),{camera:K,invalidate:me,size:W,controls:se}=(0,qe.z)(),te=se,ge=B.useRef(Ce);ge.current=Ce;function Le(_t,pt){return Math.abs(_t.x-pt.x)<Oe&&Math.abs(_t.y-pt.y)<Oe&&Math.abs(_t.z-pt.z)<Oe}function De(_t,pt,Ue,yt){_t.x=Ne.MathUtils.damp(_t.x,pt.x,Ue,yt),_t.y=Ne.MathUtils.damp(_t.y,pt.y,Ue,yt),_t.z=Ne.MathUtils.damp(_t.z,pt.z,Ue,yt)}const[ye]=B.useState(()=>({animating:!1,focus:new Ne.Vector3,camera:new Ne.Vector3,zoom:1})),[ke]=B.useState(()=>({focus:new Ne.Vector3,camera:new Ne.Vector3,zoom:1})),[Te]=B.useState(()=>new Ne.Box3),Et=B.useMemo(()=>{function _t(){const pt=Te.getSize(new Ne.Vector3),Ue=Te.getCenter(new Ne.Vector3),yt=Math.max(pt.x,pt.y,pt.z),Vt=ot(K)?yt*4:yt/(2*Math.atan(Math.PI*K.fov/360)),Rn=ot(K)?yt*4:Vt/K.aspect,Qt=Ae*Math.max(Vt,Rn);return{box:Te,size:pt,center:Ue,distance:Qt}}return{getSize:_t,refresh(pt){if(At(pt))Te.copy(pt);else{const Ue=pt||F.current;Ue.updateWorldMatrix(!0,!0),Te.setFromObject(Ue)}if(Te.isEmpty()){const Ue=K.position.length()||10;Te.setFromCenterAndSize(new Ne.Vector3,new Ne.Vector3(Ue,Ue,Ue))}if((te==null?void 0:te.constructor.name)==="OrthographicTrackballControls"){const{distance:Ue}=_t(),yt=K.position.clone().sub(te.target).normalize().multiplyScalar(Ue),Vt=te.target.clone().add(yt);K.position.copy(Vt)}return this},clip(){const{distance:pt}=_t();return te&&(te.maxDistance=pt*10),K.near=pt/100,K.far=pt*100,K.updateProjectionMatrix(),te&&te.update(),me(),this},to({position:pt,target:Ue}){ye.camera.copy(K.position);const{center:yt}=_t();return ke.camera.set(...pt),Ue?ke.focus.set(...Ue):ke.focus.copy(yt),Me?ye.animating=!0:K.position.set(...pt),this},fit(){ye.camera.copy(K.position),te&&ye.focus.copy(te.target);const{center:pt,distance:Ue}=_t(),yt=pt.clone().sub(K.position).normalize().multiplyScalar(Ue);if(ke.camera.copy(pt).sub(yt),ke.focus.copy(pt),ot(K)){ye.zoom=K.zoom;let Vt=0,Rn=0;const Qt=[new Ne.Vector3(Te.min.x,Te.min.y,Te.min.z),new Ne.Vector3(Te.min.x,Te.max.y,Te.min.z),new Ne.Vector3(Te.min.x,Te.min.y,Te.max.z),new Ne.Vector3(Te.min.x,Te.max.y,Te.max.z),new Ne.Vector3(Te.max.x,Te.max.y,Te.max.z),new Ne.Vector3(Te.max.x,Te.max.y,Te.min.z),new Ne.Vector3(Te.max.x,Te.min.y,Te.max.z),new Ne.Vector3(Te.max.x,Te.min.y,Te.min.z)];pt.applyMatrix4(K.matrixWorldInverse);for(const dn of Qt)dn.applyMatrix4(K.matrixWorldInverse),Vt=Math.max(Vt,Math.abs(dn.y-pt.y)),Rn=Math.max(Rn,Math.abs(dn.x-pt.x));Vt*=2,Rn*=2;const In=(K.top-K.bottom)/Vt,sn=(K.right-K.left)/Rn;ke.zoom=Math.min(In,sn)/Ae,Me||(K.zoom=ke.zoom,K.updateProjectionMatrix())}return Me?ye.animating=!0:(K.position.copy(ke.camera),K.lookAt(ke.focus),te&&(te.target.copy(ke.focus),te.update())),ge.current&&ge.current(this.getSize()),me(),this}}},[Te,K,te,Ae,Me,me]);B.useLayoutEffect(()=>{if(te){const _t=()=>ye.animating=!1;return te.addEventListener("start",_t),()=>te.removeEventListener("start",_t)}},[te]);const zt=B.useRef(0);return B.useLayoutEffect(()=>{(nt||zt.current++===0)&&(Et.refresh(),Ke&&Et.fit(),ae&&Et.clip())},[W,ae,Ke,nt,K,te]),(0,qe.A)((_t,pt)=>{if(ye.animating){if(De(ye.focus,ke.focus,Me,pt),De(ye.camera,ke.camera,Me,pt),ye.zoom=Ne.MathUtils.damp(ye.zoom,ke.zoom,Me,pt),K.position.copy(ye.camera),ot(K)&&(K.zoom=ye.zoom,K.updateProjectionMatrix()),te?(te.target.copy(ye.focus),te.update()):K.lookAt(ye.focus),me(),ot(K)&&!(Math.abs(ye.zoom-ke.zoom)<Oe)||!ot(K)&&!Le(ye.camera,ke.camera)||te&&!Le(ye.focus,ke.focus))return;ye.animating=!1}}),B.createElement("group",{ref:F},B.createElement(vn.Provider,{value:Et},Yt))}function Cn(){return B.useContext(vn)}const ln={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function Wt({radius:Yt,adjustCamera:Me}){const Ke=Cn();return B.useEffect(()=>{Me&&Ke.refresh().clip().fit()},[Yt,Me]),null}function An(F){var K=F,{children:Yt,center:Me,adjustCamera:Ke=!0,intensity:ae=.5,shadows:nt="contact",environment:Ae="city",preset:Oe="rembrandt"}=K,Ce=gs(K,["children","center","adjustCamera","intensity","shadows","environment","preset"]);var me,W,se,te,ge,Le,De,ye;const ke=typeof Oe=="string"?ln[Oe]:Oe,[{radius:Te,height:Et},zt]=B.useState({radius:0,width:0,height:0,depth:0}),_t=(me=nt==null?void 0:nt.bias)!==null&&me!==void 0?me:-1e-4,pt=(W=nt==null?void 0:nt.normalBias)!==null&&W!==void 0?W:0,Ue=(se=nt==null?void 0:nt.size)!==null&&se!==void 0?se:1024,yt=(te=nt==null?void 0:nt.offset)!==null&&te!==void 0?te:0,Vt=nt==="contact"||(nt==null?void 0:nt.type)==="contact",Rn=nt==="accumulative"||(nt==null?void 0:nt.type)==="accumulative",Qt=St({},typeof nt=="object"?nt:{}),In=Ae?typeof Ae=="string"?{preset:Ae}:Ae:null,sn=B.useCallback(dn=>{const{width:Cr,height:oi,depth:Tt,boundingSphere:jt}=dn;zt({radius:jt.radius,width:Cr,height:oi,depth:Tt}),Me!=null&&Me.onCentered&&Me.onCentered(dn)},[]);return B.createElement(B.Fragment,null,B.createElement("ambientLight",{intensity:ae/3}),B.createElement("spotLight",{penumbra:1,position:[ke.main[0]*Te,ke.main[1]*Te,ke.main[2]*Te],intensity:ae*2,castShadow:!!nt,"shadow-bias":_t,"shadow-normalBias":pt,"shadow-mapSize":Ue}),B.createElement("pointLight",{position:[ke.fill[0]*Te,ke.fill[1]*Te,ke.fill[2]*Te],intensity:ae}),B.createElement(Kt,(0,S.Z)({fit:!!Ke,clip:!!Ke,margin:Number(Ke),observe:!0},Ce),B.createElement(Wt,{radius:Te,adjustCamera:Ke}),B.createElement(he,(0,S.Z)({},Me,{position:[0,yt/2,0],onCentered:sn}),Yt)),B.createElement("group",{position:[0,-Et/2-yt/2,0]},Vt&&B.createElement(Ot,(0,S.Z)({scale:Te*4,far:Te,blur:2},Qt)),Rn&&B.createElement(Hn,(0,S.Z)({temporal:!0,frames:100,alphaTest:.9,toneMapped:!0,scale:Te*4},Qt),B.createElement(fn,{amount:(ge=Qt.amount)!==null&&ge!==void 0?ge:8,radius:(Le=Qt.radius)!==null&&Le!==void 0?Le:Te,ambient:(De=Qt.ambient)!==null&&De!==void 0?De:.5,intensity:(ye=Qt.intensity)!==null&&ye!==void 0?ye:1,position:[ke.main[0]*Te,ke.main[1]*Te,ke.main[2]*Te],size:Te*4,bias:-_t,mapSize:Ue}))),Ae&&B.createElement(D.qA,In))}},63905:function(qt,je,G){"use strict";G.d(je,{A:function(){return Ye},B:function(){return Yt},D:function(){return bn},E:function(){return Me},a:function(){return Wt},b:function(){return pr},c:function(){return Ue},d:function(){return Qr},e:function(){return fn},g:function(){return ei},i:function(){return ln},u:function(){return An},z:function(){return $e}});var S=G(48119),B=G(50959),D=G(85259),Ne=G(31171),qe=G(97427),xt=G.n(qe),de=G(65297);function Ot(b,H,E=(T,Q)=>T===Q){if(b===H)return!0;if(!b||!H)return!1;const T=b.length;if(H.length!==T)return!1;for(let Q=0;Q<T;Q++)if(!E(b[Q],H[Q]))return!1;return!0}const he=[];function Be(b,H,E=!1,T={}){for(const le of he)if(Ot(H,le.keys,le.equal)){if(E)return;if(Object.prototype.hasOwnProperty.call(le,"error"))throw le.error;if(Object.prototype.hasOwnProperty.call(le,"response"))return le.response;if(!E)throw le.promise}const Q={keys:H,equal:T.equal,promise:b(...H).then(le=>Q.response=le).then(()=>{T.lifespan&&T.lifespan>0&&setTimeout(()=>{const le=he.indexOf(Q);le!==-1&&he.splice(le,1)},T.lifespan)}).catch(le=>Q.error=le)};if(he.push(Q),!E)throw Q.promise}const at=(b,H,E)=>Be(b,H,!1,E),xe=(b,H,E)=>void Be(b,H,!0,E),mt=b=>{var H;return(H=he.find(E=>Ot(b,E.keys,E.equal)))==null?void 0:H.response},Lt=b=>{if(b===void 0||b.length===0)he.splice(0,he.length);else{const H=he.find(E=>Ot(b,E.keys,E.equal));if(H){const E=he.indexOf(H);E!==-1&&he.splice(E,1)}}};var ee=Object.freeze({__proto__:null});const Hn={},fn=b=>void Object.assign(Hn,b);function gn(b,H){function E(Y,Zt,tt){var Ft=Zt,{args:ie=[],attach:Ie}=Ft,Ze=gs(Ft,["args","attach"]);let vt=`${Y[0].toUpperCase()}${Y.slice(1)}`,dt;if(Y==="primitive"){if(Ze.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const Ct=Ze.object;dt=me(Ct,{type:Y,root:tt,attach:Ie,primitive:!0})}else{const Ct=Hn[vt];if(!Ct)throw new Error(`R3F: ${vt} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(ie))throw new Error("R3F: The args prop must be an array!");dt=me(new Ct(...ie),{type:Y,root:tt,attach:Ie,memoizedProps:{args:ie}})}return dt.__r3f.attach===void 0&&(dt instanceof S.BufferGeometry?dt.__r3f.attach="geometry":dt instanceof S.Material&&(dt.__r3f.attach="material")),vt!=="inject"&&De(dt,Ze),dt}function T(Y,ie){let Ie=!1;if(ie){var Ze,tt;(Ze=ie.__r3f)!=null&&Ze.attach?te(Y,ie,ie.__r3f.attach):ie.isObject3D&&Y.isObject3D&&(Y.add(ie),Ie=!0),Ie||(tt=Y.__r3f)==null||tt.objects.push(ie),ie.__r3f||me(ie,{}),ie.__r3f.parent=Y,ke(ie),ye(ie)}}function Q(Y,ie,Ie){let Ze=!1;if(ie){var tt,Zt;if((tt=ie.__r3f)!=null&&tt.attach)te(Y,ie,ie.__r3f.attach);else if(ie.isObject3D&&Y.isObject3D){ie.parent=Y,ie.dispatchEvent({type:"added"});const Ft=Y.children.filter(dt=>dt!==ie),vt=Ft.indexOf(Ie);Y.children=[...Ft.slice(0,vt),ie,...Ft.slice(vt)],Ze=!0}Ze||(Zt=Y.__r3f)==null||Zt.objects.push(ie),ie.__r3f||me(ie,{}),ie.__r3f.parent=Y,ke(ie),ye(ie)}}function le(Y,ie,Ie=!1){Y&&[...Y].forEach(Ze=>We(ie,Ze,Ie))}function We(Y,ie,Ie){if(ie){var Ze,tt,Zt;if(ie.__r3f&&(ie.__r3f.parent=null),(Ze=Y.__r3f)!=null&&Ze.objects&&(Y.__r3f.objects=Y.__r3f.objects.filter(rn=>rn!==ie)),(tt=ie.__r3f)!=null&&tt.attach)ge(Y,ie,ie.__r3f.attach);else if(ie.isObject3D&&Y.isObject3D){var Ft;Y.remove(ie),(Ft=ie.__r3f)!=null&&Ft.root&&pt(ie.__r3f.root,ie)}const dt=(Zt=ie.__r3f)==null?void 0:Zt.primitive,Ct=Ie===void 0?ie.dispose!==null&&!dt:Ie;if(!dt){var vt;le((vt=ie.__r3f)==null?void 0:vt.objects,ie,Ct),le(ie.children,ie,Ct)}ie.__r3f&&(delete ie.__r3f.root,delete ie.__r3f.objects,delete ie.__r3f.handlers,delete ie.__r3f.memoizedProps,dt||delete ie.__r3f),Ct&&ie.dispose&&ie.type!=="Scene"&&(0,de.unstable_scheduleCallback)(de.unstable_IdlePriority,()=>{try{ie.dispose()}catch(rn){}}),ye(Y)}}function st(Y,ie,Ie,Ze){var tt;const Zt=(tt=Y.__r3f)==null?void 0:tt.parent;if(!Zt)return;const Ft=E(ie,Ie,Y.__r3f.root);if(Y.children){for(const vt of Y.children)vt.__r3f&&T(Ft,vt);Y.children=Y.children.filter(vt=>!vt.__r3f)}Y.__r3f.objects.forEach(vt=>T(Ft,vt)),Y.__r3f.objects=[],Y.__r3f.autoRemovedBeforeAppend||We(Zt,Y),Ft.parent&&(Ft.__r3f.autoRemovedBeforeAppend=!0),T(Zt,Ft),Ft.raycast&&Ft.__r3f.eventCount&&Ft.__r3f.root.getState().internal.interaction.push(Ft),[Ze,Ze.alternate].forEach(vt=>{vt!==null&&(vt.stateNode=Ft,vt.ref&&(typeof vt.ref=="function"?vt.ref(Ft):vt.ref.current=Ft))})}const Qe=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:xt()({createInstance:E,removeChild:We,appendChild:T,appendInitialChild:T,insertBefore:Q,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(Y,ie)=>{if(!ie)return;const Ie=Y.getState().scene;Ie.__r3f&&(Ie.__r3f.root=Y,T(Ie,ie))},removeChildFromContainer:(Y,ie)=>{ie&&We(Y.getState().scene,ie)},insertInContainerBefore:(Y,ie,Ie)=>{if(!ie||!Ie)return;const Ze=Y.getState().scene;Ze.__r3f&&Q(Ze,ie,Ie)},getRootHostContext:()=>null,getChildHostContext:Y=>Y,finalizeInitialChildren(Y){var ie;const Ie=(ie=Y==null?void 0:Y.__r3f)!=null?ie:{};return Boolean(Ie.handlers)},prepareUpdate(Y,ie,Ie,Ze){if(Y.__r3f.primitive&&Ze.object&&Ze.object!==Y)return[!0];{const tt=Ze,{args:Ft=[],children:vt}=tt,dt=gs(tt,["args","children"]),Zt=Ie,{args:Ct=[],children:rn}=Zt,zn=gs(Zt,["args","children"]);if(!Array.isArray(Ft))throw new Error("R3F: the args prop must be an array!");if(Ft.some((qn,$n)=>qn!==Ct[$n]))return[!0];const Jn=Le(Y,dt,zn,!0);return Jn.changes.length?[!1,Jn]:null}},commitUpdate(Y,[ie,Ie],Ze,tt,Zt,Ft){ie?st(Y,Ze,Zt,Ft):De(Y,Ie)},commitMount(Y,ie,Ie,Ze){var tt;const Zt=(tt=Y.__r3f)!=null?tt:{};Y.raycast&&Zt.handlers&&Zt.eventCount&&Y.__r3f.root.getState().internal.interaction.push(Y)},getPublicInstance:Y=>Y,prepareForCommit:()=>null,preparePortalMount:Y=>me(Y.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(Y){var ie;const{attach:Ie,parent:Ze}=(ie=Y.__r3f)!=null?ie:{};Ie&&Ze&&ge(Ze,Y,Ie),Y.isObject3D&&(Y.visible=!1),ye(Y)},unhideInstance(Y,ie){var Ie;const{attach:Ze,parent:tt}=(Ie=Y.__r3f)!=null?Ie:{};Ze&&tt&&te(tt,Y,Ze),(Y.isObject3D&&ie.visible==null||ie.visible)&&(Y.visible=!0),ye(Y)},createTextInstance:Qe,hideTextInstance:Qe,unhideTextInstance:Qe,getCurrentEventPriority:()=>H?H():D.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance!="undefined"&&Ce.fun(performance.now)?performance.now:Ce.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Ce.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Ce.fun(clearTimeout)?clearTimeout:void 0}),applyProps:De}}var ot,At;const vn=b=>"colorSpace"in b||"outputColorSpace"in b,Kt=()=>{var b;return(b=Hn.ColorManagement)!=null?b:null},Cn=b=>b&&b.isOrthographicCamera,ln=b=>b&&b.hasOwnProperty("current"),Wt=typeof window!="undefined"&&((ot=window.document)!=null&&ot.createElement||((At=window.navigator)==null?void 0:At.product)==="ReactNative")?B.useLayoutEffect:B.useEffect;function An(b){const H=B.useRef(b);return Wt(()=>void(H.current=b),[b]),H}function Yt({set:b}){return Wt(()=>(b(new Promise(()=>null)),()=>b(!1)),[b]),null}class Me extends B.Component{constructor(...H){super(...H),this.state={error:!1}}componentDidCatch(H){this.props.set(H)}render(){return this.state.error?null:this.props.children}}Me.getDerivedStateFromError=()=>({error:!0});const Ke="__default",ae=new Map,nt=b=>b&&!!b.memoized&&!!b.changes;function Ae(b){var H;const E=typeof window!="undefined"?(H=window.devicePixelRatio)!=null?H:2:1;return Array.isArray(b)?Math.min(Math.max(b[0],E),b[1]):b}const Oe=b=>{var H;return(H=b.__r3f)==null?void 0:H.root.getState()},Ce={obj:b=>b===Object(b)&&!Ce.arr(b)&&typeof b!="function",fun:b=>typeof b=="function",str:b=>typeof b=="string",num:b=>typeof b=="number",boo:b=>typeof b=="boolean",und:b=>b===void 0,arr:b=>Array.isArray(b),equ(b,H,{arrays:E="shallow",objects:T="reference",strict:Q=!0}={}){if(typeof b!=typeof H||!!b!=!!H)return!1;if(Ce.str(b)||Ce.num(b))return b===H;const le=Ce.obj(b);if(le&&T==="reference")return b===H;const We=Ce.arr(b);if(We&&E==="reference")return b===H;if((We||le)&&b===H)return!0;let st;for(st in b)if(!(st in H))return!1;if(le&&E==="shallow"&&T==="shallow"){for(st in Q?H:b)if(!Ce.equ(b[st],H[st],{strict:Q,objects:"reference"}))return!1}else for(st in Q?H:b)if(b[st]!==H[st])return!1;if(Ce.und(st)){if(We&&b.length===0&&H.length===0||le&&Object.keys(b).length===0&&Object.keys(H).length===0)return!0;if(b!==H)return!1}return!0}};function F(b){const H={nodes:{},materials:{}};return b&&b.traverse(E=>{E.name&&(H.nodes[E.name]=E),E.material&&!H.materials[E.material.name]&&(H.materials[E.material.name]=E.material)}),H}function K(b){b.dispose&&b.type!=="Scene"&&b.dispose();for(const H in b)H.dispose==null||H.dispose(),delete b[H]}function me(b,H){const E=b;return(H!=null&&H.primitive||!E.__r3f)&&(E.__r3f=St({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},H)),b}function W(b,H){let E=b;if(H.includes("-")){const T=H.split("-"),Q=T.pop();return E=T.reduce((le,We)=>le[We],b),{target:E,key:Q}}else return{target:E,key:H}}const se=/-\d+$/;function te(b,H,E){if(Ce.str(E)){if(se.test(E)){const le=E.replace(se,""),{target:We,key:st}=W(b,le);Array.isArray(We[st])||(We[st]=[])}const{target:T,key:Q}=W(b,E);H.__r3f.previousAttach=T[Q],T[Q]=H}else H.__r3f.previousAttach=E(b,H)}function ge(b,H,E){var T,Q;if(Ce.str(E)){const{target:le,key:We}=W(b,E),st=H.__r3f.previousAttach;st===void 0?delete le[We]:le[We]=st}else(T=H.__r3f)==null||T.previousAttach==null||T.previousAttach(b,H);(Q=H.__r3f)==null||delete Q.previousAttach}function Le(b,Y,Ie={},be=!1){var ie=Y,{children:H,key:E,ref:T}=ie,Q=gs(ie,["children","key","ref"]);var Ze=Ie,{children:le,key:We,ref:st}=Ze,Qe=gs(Ze,["children","key","ref"]);var tt;const Zt=(tt=b==null?void 0:b.__r3f)!=null?tt:{},Ft=Object.entries(Q),vt=[];if(be){const Ct=Object.keys(Qe);for(let rn=0;rn<Ct.length;rn++)Q.hasOwnProperty(Ct[rn])||Ft.unshift([Ct[rn],Ke+"remove"])}Ft.forEach(([Ct,rn])=>{var zn;if((zn=b.__r3f)!=null&&zn.primitive&&Ct==="object"||Ce.equ(rn,Qe[Ct]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(Ct))return vt.push([Ct,rn,!0,[]]);let Jn=[];Ct.includes("-")&&(Jn=Ct.split("-")),vt.push([Ct,rn,!1,Jn]);for(const qn in Q){const $n=Q[qn];qn.startsWith(`${Ct}-`)&&vt.push([qn,$n,!1,qn.split("-")])}});const dt=St({},Q);return Zt.memoizedProps&&Zt.memoizedProps.args&&(dt.args=Zt.memoizedProps.args),Zt.memoizedProps&&Zt.memoizedProps.attach&&(dt.attach=Zt.memoizedProps.attach),{memoized:dt,changes:vt}}function De(b,H){var E,T,Q;const le=(E=b.__r3f)!=null?E:{},We=le.root,st=(T=We==null||We.getState==null?void 0:We.getState())!=null?T:{},{memoized:Qe,changes:be}=nt(H)?H:Le(b,H),Y=le.eventCount;b.__r3f&&(b.__r3f.memoizedProps=Qe);for(let Ie=0;Ie<be.length;Ie++){let[Ze,tt,Zt,Ft]=be[Ie];if(vn(b)){const rn="srgb",zn="srgb-linear";Ze==="encoding"?(Ze="colorSpace",tt=tt===3001?rn:zn):Ze==="outputEncoding"&&(Ze="outputColorSpace",tt=tt===3001?rn:zn)}let vt=b,dt=vt[Ze];if(Ft.length&&(dt=Ft.reduce((Ct,rn)=>Ct[rn],b),!(dt&&dt.set))){const[Ct,...rn]=Ft.reverse();vt=rn.reverse().reduce((zn,Jn)=>zn[Jn],b),Ze=Ct}if(tt===Ke+"remove")if(vt.constructor){let Ct=ae.get(vt.constructor);Ct||(Ct=new vt.constructor,ae.set(vt.constructor,Ct)),tt=Ct[Ze]}else tt=0;if(Zt)tt?le.handlers[Ze]=tt:delete le.handlers[Ze],le.eventCount=Object.keys(le.handlers).length;else if(dt&&dt.set&&(dt.copy||dt instanceof S.Layers)){if(Array.isArray(tt))dt.fromArray?dt.fromArray(tt):dt.set(...tt);else if(dt.copy&&tt&&tt.constructor&&dt.constructor===tt.constructor)dt.copy(tt);else if(tt!==void 0){const Ct=dt instanceof S.Color;!Ct&&dt.setScalar?dt.setScalar(tt):dt instanceof S.Layers&&tt instanceof S.Layers?dt.mask=tt.mask:dt.set(tt),!Kt()&&!st.linear&&Ct&&dt.convertSRGBToLinear()}}else if(vt[Ze]=tt,vt[Ze]instanceof S.Texture&&vt[Ze].format===S.RGBAFormat&&vt[Ze].type===S.UnsignedByteType){const Ct=vt[Ze];vn(Ct)&&vn(st.gl)?Ct.colorSpace=st.gl.outputColorSpace:Ct.encoding=st.gl.outputEncoding}ye(b)}if(le.parent&&st.internal&&b.raycast&&Y!==le.eventCount){const Ie=st.internal.interaction.indexOf(b);Ie>-1&&st.internal.interaction.splice(Ie,1),le.eventCount&&st.internal.interaction.push(b)}return!(be.length===1&&be[0][0]==="onUpdate")&&be.length&&(Q=b.__r3f)!=null&&Q.parent&&ke(b),b}function ye(b){var H,E;const T=(H=b.__r3f)==null||(E=H.root)==null||E.getState==null?void 0:E.getState();T&&T.internal.frames===0&&T.invalidate()}function ke(b){b.onUpdate==null||b.onUpdate(b)}function Te(b,H){b.manual||(Cn(b)?(b.left=H.width/-2,b.right=H.width/2,b.top=H.height/2,b.bottom=H.height/-2):b.aspect=H.width/H.height,b.updateProjectionMatrix(),b.updateMatrixWorld())}function Et(b){return(b.eventObject||b.object).uuid+"/"+b.index+b.instanceId}function zt(){var b;const H=typeof self!="undefined"&&self||typeof window!="undefined"&&window;if(!H)return D.DefaultEventPriority;switch((b=H.event)==null?void 0:b.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return D.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return D.ContinuousEventPriority;default:return D.DefaultEventPriority}}function _t(b,H,E,T){const Q=E.get(H);Q&&(E.delete(H),E.size===0&&(b.delete(T),Q.target.releasePointerCapture(T)))}function pt(b,H){const{internal:E}=b.getState();E.interaction=E.interaction.filter(T=>T!==H),E.initialHits=E.initialHits.filter(T=>T!==H),E.hovered.forEach((T,Q)=>{(T.eventObject===H||T.object===H)&&E.hovered.delete(Q)}),E.capturedMap.forEach((T,Q)=>{_t(E.capturedMap,H,T,Q)})}function Ue(b){function H(Qe){const{internal:be}=b.getState(),Y=Qe.offsetX-be.initialClick[0],ie=Qe.offsetY-be.initialClick[1];return Math.round(Math.sqrt(Y*Y+ie*ie))}function E(Qe){return Qe.filter(be=>["Move","Over","Enter","Out","Leave"].some(Y=>{var ie;return(ie=be.__r3f)==null?void 0:ie.handlers["onPointer"+Y]}))}function T(Qe,be){const Y=b.getState(),ie=new Set,Ie=[],Ze=be?be(Y.internal.interaction):Y.internal.interaction;for(let vt=0;vt<Ze.length;vt++){const dt=Oe(Ze[vt]);dt&&(dt.raycaster.camera=void 0)}Y.previousRoot||Y.events.compute==null||Y.events.compute(Qe,Y);function tt(vt){const dt=Oe(vt);if(!dt||!dt.events.enabled||dt.raycaster.camera===null)return[];if(dt.raycaster.camera===void 0){var Ct;dt.events.compute==null||dt.events.compute(Qe,dt,(Ct=dt.previousRoot)==null?void 0:Ct.getState()),dt.raycaster.camera===void 0&&(dt.raycaster.camera=null)}return dt.raycaster.camera?dt.raycaster.intersectObject(vt,!0):[]}let Zt=Ze.flatMap(tt).sort((vt,dt)=>{const Ct=Oe(vt.object),rn=Oe(dt.object);return!Ct||!rn?vt.distance-dt.distance:rn.events.priority-Ct.events.priority||vt.distance-dt.distance}).filter(vt=>{const dt=Et(vt);return ie.has(dt)?!1:(ie.add(dt),!0)});Y.events.filter&&(Zt=Y.events.filter(Zt,Y));for(const vt of Zt){let dt=vt.object;for(;dt;){var Ft;(Ft=dt.__r3f)!=null&&Ft.eventCount&&Ie.push(Yr(St({},vt),{eventObject:dt})),dt=dt.parent}}if("pointerId"in Qe&&Y.internal.capturedMap.has(Qe.pointerId))for(let vt of Y.internal.capturedMap.get(Qe.pointerId).values())ie.has(Et(vt.intersection))||Ie.push(vt.intersection);return Ie}function Q(Qe,be,Y,ie){const Ie=b.getState();if(Qe.length){const Ze={stopped:!1};for(const tt of Qe){const Zt=Oe(tt.object)||Ie,{raycaster:Ft,pointer:vt,camera:dt,internal:Ct}=Zt,rn=new S.Vector3(vt.x,vt.y,0).unproject(dt),zn=_r=>{var En,cr;return(En=(cr=Ct.capturedMap.get(_r))==null?void 0:cr.has(tt.eventObject))!=null?En:!1},Jn=_r=>{const En={intersection:tt,target:be.target};Ct.capturedMap.has(_r)?Ct.capturedMap.get(_r).set(tt.eventObject,En):Ct.capturedMap.set(_r,new Map([[tt.eventObject,En]])),be.target.setPointerCapture(_r)},qn=_r=>{const En=Ct.capturedMap.get(_r);En&&_t(Ct.capturedMap,tt.eventObject,En,_r)};let $n={};for(let _r in be){let En=be[_r];typeof En!="function"&&($n[_r]=En)}let Qn=Yr(St(St({},tt),$n),{pointer:vt,intersections:Qe,stopped:Ze.stopped,delta:Y,unprojectedPoint:rn,ray:Ft.ray,camera:dt,stopPropagation(){const _r="pointerId"in be&&Ct.capturedMap.get(be.pointerId);if((!_r||_r.has(tt.eventObject))&&(Qn.stopped=Ze.stopped=!0,Ct.hovered.size&&Array.from(Ct.hovered.values()).find(En=>En.eventObject===tt.eventObject))){const En=Qe.slice(0,Qe.indexOf(tt));le([...En,tt])}},target:{hasPointerCapture:zn,setPointerCapture:Jn,releasePointerCapture:qn},currentTarget:{hasPointerCapture:zn,setPointerCapture:Jn,releasePointerCapture:qn},nativeEvent:be});if(ie(Qn),Ze.stopped===!0)break}}return Qe}function le(Qe){const{internal:be}=b.getState();for(const Y of be.hovered.values())if(!Qe.length||!Qe.find(ie=>ie.object===Y.object&&ie.index===Y.index&&ie.instanceId===Y.instanceId)){const Ie=Y.eventObject.__r3f,Ze=Ie==null?void 0:Ie.handlers;if(be.hovered.delete(Et(Y)),Ie!=null&&Ie.eventCount){const tt=Yr(St({},Y),{intersections:Qe});Ze.onPointerOut==null||Ze.onPointerOut(tt),Ze.onPointerLeave==null||Ze.onPointerLeave(tt)}}}function We(Qe,be){for(let Y=0;Y<be.length;Y++){const ie=be[Y].__r3f;ie==null||ie.handlers.onPointerMissed==null||ie.handlers.onPointerMissed(Qe)}}function st(Qe){switch(Qe){case"onPointerLeave":case"onPointerCancel":return()=>le([]);case"onLostPointerCapture":return be=>{const{internal:Y}=b.getState();"pointerId"in be&&Y.capturedMap.has(be.pointerId)&&requestAnimationFrame(()=>{Y.capturedMap.has(be.pointerId)&&(Y.capturedMap.delete(be.pointerId),le([]))})}}return function(Y){const{onPointerMissed:ie,internal:Ie}=b.getState();Ie.lastEvent.current=Y;const Ze=Qe==="onPointerMove",tt=Qe==="onClick"||Qe==="onContextMenu"||Qe==="onDoubleClick",Ft=T(Y,Ze?E:void 0),vt=tt?H(Y):0;Qe==="onPointerDown"&&(Ie.initialClick=[Y.offsetX,Y.offsetY],Ie.initialHits=Ft.map(Ct=>Ct.eventObject)),tt&&!Ft.length&&vt<=2&&(We(Y,Ie.interaction),ie&&ie(Y)),Ze&&le(Ft);function dt(Ct){const rn=Ct.eventObject,zn=rn.__r3f,Jn=zn==null?void 0:zn.handlers;if(zn!=null&&zn.eventCount)if(Ze){if(Jn.onPointerOver||Jn.onPointerEnter||Jn.onPointerOut||Jn.onPointerLeave){const qn=Et(Ct),$n=Ie.hovered.get(qn);$n?$n.stopped&&Ct.stopPropagation():(Ie.hovered.set(qn,Ct),Jn.onPointerOver==null||Jn.onPointerOver(Ct),Jn.onPointerEnter==null||Jn.onPointerEnter(Ct))}Jn.onPointerMove==null||Jn.onPointerMove(Ct)}else{const qn=Jn[Qe];qn?(!tt||Ie.initialHits.includes(rn))&&(We(Y,Ie.interaction.filter($n=>!Ie.initialHits.includes($n))),qn(Ct)):tt&&Ie.initialHits.includes(rn)&&We(Y,Ie.interaction.filter($n=>!Ie.initialHits.includes($n)))}}Q(Ft,Y,vt,dt)}}return{handlePointer:st}}const yt=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],Vt=b=>!!(b!=null&&b.render),Rn=B.createContext(null),Qt=(b,H)=>{const E=(0,Ne.Z)((st,Qe)=>{const be=new S.Vector3,Y=new S.Vector3,ie=new S.Vector3;function Ie(vt=Qe().camera,dt=Y,Ct=Qe().size){const{width:rn,height:zn,top:Jn,left:qn}=Ct,$n=rn/zn;dt instanceof S.Vector3?ie.copy(dt):ie.set(...dt);const Qn=vt.getWorldPosition(be).distanceTo(ie);if(Cn(vt))return{width:rn/vt.zoom,height:zn/vt.zoom,top:Jn,left:qn,factor:1,distance:Qn,aspect:$n};{const _r=vt.fov*Math.PI/180,En=2*Math.tan(_r/2)*Qn,cr=En*(rn/zn);return{width:cr,height:En,top:Jn,left:qn,factor:rn/cr,distance:Qn,aspect:$n}}}let Ze;const tt=vt=>st(dt=>({performance:Yr(St({},dt.performance),{current:vt})})),Zt=new S.Vector2;return{set:st,get:Qe,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(vt=1)=>b(Qe(),vt),advance:(vt,dt)=>H(vt,dt,Qe()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new S.Clock,pointer:Zt,mouse:Zt,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const vt=Qe();Ze&&clearTimeout(Ze),vt.performance.current!==vt.performance.min&&tt(vt.performance.min),Ze=setTimeout(()=>tt(Qe().performance.max),vt.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:Ie},setEvents:vt=>st(dt=>Yr(St({},dt),{events:St(St({},dt.events),vt)})),setSize:(vt,dt,Ct,rn,zn)=>{const Jn=Qe().camera,qn={width:vt,height:dt,top:rn||0,left:zn||0,updateStyle:Ct};st($n=>({size:qn,viewport:St(St({},$n.viewport),Ie(Jn,Y,qn))}))},setDpr:vt=>st(dt=>{const Ct=Ae(vt);return{viewport:Yr(St({},dt.viewport),{dpr:Ct,initialDpr:dt.viewport.initialDpr||Ct})}}),setFrameloop:(vt="always")=>{const dt=Qe().clock;dt.stop(),dt.elapsedTime=0,vt!=="never"&&(dt.start(),dt.elapsedTime=0),st(()=>({frameloop:vt}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:B.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(vt,dt,Ct)=>{const rn=Qe().internal;return rn.priority=rn.priority+(dt>0?1:0),rn.subscribers.push({ref:vt,priority:dt,store:Ct}),rn.subscribers=rn.subscribers.sort((zn,Jn)=>zn.priority-Jn.priority),()=>{const zn=Qe().internal;zn!=null&&zn.subscribers&&(zn.priority=zn.priority-(dt>0?1:0),zn.subscribers=zn.subscribers.filter(Jn=>Jn.ref!==vt))}}}}}),T=E.getState();let Q=T.size,le=T.viewport.dpr,We=T.camera;return E.subscribe(()=>{const{camera:st,size:Qe,viewport:be,gl:Y,set:ie}=E.getState();if(Qe!==Q||be.dpr!==le){var Ie;Q=Qe,le=be.dpr,Te(st,Qe),Y.setPixelRatio(be.dpr);const Ze=(Ie=Qe.updateStyle)!=null?Ie:typeof HTMLCanvasElement!="undefined"&&Y.domElement instanceof HTMLCanvasElement;Y.setSize(Qe.width,Qe.height,Ze)}st!==We&&(We=st,ie(Ze=>({viewport:St(St({},Ze.viewport),Ze.viewport.getCurrentViewport(st))})))}),E.subscribe(st=>b(st)),E};function In(b,H){const E={callback:b};return H.add(E),()=>void H.delete(E)}let sn,dn=new Set,Cr=new Set,oi=new Set;const Tt=b=>In(b,dn),jt=b=>In(b,Cr),_n=b=>In(b,oi);function en(b,H){if(b.size)for(const{callback:E}of b.values())E(H)}function Mn(b,H){switch(b){case"before":return en(dn,H);case"after":return en(Cr,H);case"tail":return en(oi,H)}}let ur,rr;function jr(b,H,E){let T=H.clock.getDelta();for(H.frameloop==="never"&&typeof b=="number"&&(T=b-H.clock.elapsedTime,H.clock.oldTime=H.clock.elapsedTime,H.clock.elapsedTime=b),ur=H.internal.subscribers,sn=0;sn<ur.length;sn++)rr=ur[sn],rr.ref.current(rr.store.getState(),T,E);return!H.internal.priority&&H.gl.render&&H.gl.render(H.scene,H.camera),H.internal.frames=Math.max(0,H.internal.frames-1),H.frameloop==="always"?1:H.internal.frames}function Zn(b){let H=!1,E,T,Q;function le(Qe){T=requestAnimationFrame(le),H=!0,E=0,Mn("before",Qe);for(const Y of b.values()){var be;Q=Y.store.getState(),Q.internal.active&&(Q.frameloop==="always"||Q.internal.frames>0)&&!((be=Q.gl.xr)!=null&&be.isPresenting)&&(E+=jr(Qe,Q))}if(Mn("after",Qe),E===0)return Mn("tail",Qe),H=!1,cancelAnimationFrame(T)}function We(Qe,be=1){var Y;if(!Qe)return b.forEach(ie=>We(ie.store.getState()),be);(Y=Qe.gl.xr)!=null&&Y.isPresenting||!Qe.internal.active||Qe.frameloop==="never"||(Qe.internal.frames=Math.min(60,Qe.internal.frames+be),H||(H=!0,requestAnimationFrame(le)))}function st(Qe,be=!0,Y,ie){if(be&&Mn("before",Qe),Y)jr(Qe,Y,ie);else for(const Ie of b.values())jr(Qe,Ie.store.getState());be&&Mn("after",Qe)}return{loop:le,invalidate:We,advance:st}}function ve(b){const H=React.useRef(null);return Wt(()=>void(H.current=b.current.__r3f),[b]),H}function Xe(){const b=B.useContext(Rn);if(!b)throw new Error("R3F: Hooks can only be used within the Canvas component!");return b}function $e(b=E=>E,H){return Xe()(b,H)}function Ye(b,H=0){const E=Xe(),T=E.getState().internal.subscribe,Q=An(b);return Wt(()=>T(Q,H,E),[H,T,E]),null}function Pt(b){return React.useMemo(()=>F(b),[b])}function Dn(b,H){return function(E,...T){const Q=new E;return b&&b(Q),Promise.all(T.map(le=>new Promise((We,st)=>Q.load(le,Qe=>{Qe.scene&&Object.assign(Qe,F(Qe.scene)),We(Qe)},H,Qe=>st(new Error(`Could not load ${le}: ${Qe.message})`))))))}}function bn(b,H,E,T){const Q=Array.isArray(H)?H:[H],le=at(Dn(E,T),[b,...Q],{equal:Ce.equ});return Array.isArray(H)?le:le[0]}bn.preload=function(b,H,E){const T=Array.isArray(H)?H:[H];return xe(Dn(E),[b,...T])},bn.clear=function(b,H){const E=Array.isArray(H)?H:[H];return Lt([b,...E])};const Nt=new Map,{invalidate:$t,advance:lt}=Zn(Nt),{reconciler:oe,applyProps:Ge}=gn(Nt,zt),Rt={objects:"shallow",strict:!1},an=(b,H)=>{const E=typeof b=="function"?b(H):b;return Vt(E)?E:new S.WebGLRenderer(St({powerPreference:"high-performance",canvas:H,antialias:!0,alpha:!0},b))};function jn(b,H){if(H)return H;if(typeof HTMLCanvasElement!="undefined"&&b instanceof HTMLCanvasElement&&b.parentElement){const{width:E,height:T,top:Q,left:le}=b.parentElement.getBoundingClientRect();return{width:E,height:T,top:Q,left:le}}else if(typeof OffscreenCanvas!="undefined"&&b instanceof OffscreenCanvas)return{width:b.width,height:b.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function pr(b){const H=Nt.get(b),E=H==null?void 0:H.fiber,T=H==null?void 0:H.store;H&&console.warn("R3F.createRoot should only be called once!");const Q=typeof reportError=="function"?reportError:console.error,le=T||Qt($t,lt),We=E||oe.createContainer(le,D.ConcurrentRoot,null,!1,null,"",Q,null);H||Nt.set(b,{fiber:We,store:le});let st,Qe=!1,be;return{configure(Y={}){let{gl:ie,size:Ie,scene:Ze,events:tt,onCreated:Zt,shadows:Ft=!1,linear:vt=!1,flat:dt=!1,legacy:Ct=!1,orthographic:rn=!1,frameloop:zn="always",dpr:Jn=[1,2],performance:qn,raycaster:$n,camera:Qn,onPointerMissed:_r}=Y,En=le.getState(),cr=En.gl;En.gl||En.set({gl:cr=an(ie,b)});let Nr=En.raycaster;Nr||En.set({raycaster:Nr=new S.Raycaster});const Fi=$n||{},{params:yi}=Fi,Wr=gs(Fi,["params"]);if(Ce.equ(Wr,Nr,Rt)||Ge(Nr,St({},Wr)),Ce.equ(yi,Nr.params,Rt)||Ge(Nr,{params:St(St({},Nr.params),yi)}),!En.camera||En.camera===be&&!Ce.equ(be,Qn,Rt)){be=Qn;const Ti=Qn instanceof S.Camera,hi=Ti?Qn:rn?new S.OrthographicCamera(0,0,0,0,.1,1e3):new S.PerspectiveCamera(75,0,.1,1e3);Ti||(hi.position.z=5,Qn&&Ge(hi,Qn),!En.camera&&!(Qn!=null&&Qn.rotation)&&hi.lookAt(0,0,0)),En.set({camera:hi})}if(!En.scene){let Ti;Ze instanceof S.Scene?Ti=Ze:(Ti=new S.Scene,Ze&&Ge(Ti,Ze)),En.set({scene:me(Ti)})}if(!En.xr){const Ti=(Ai,Ss)=>{const vs=le.getState();vs.frameloop!=="never"&&lt(Ai,!0,vs,Ss)},hi=()=>{const Ai=le.getState();Ai.gl.xr.enabled=Ai.gl.xr.isPresenting,Ai.gl.xr.setAnimationLoop(Ai.gl.xr.isPresenting?Ti:null),Ai.gl.xr.isPresenting||$t(Ai)},xo={connect(){const Ai=le.getState().gl;Ai.xr.addEventListener("sessionstart",hi),Ai.xr.addEventListener("sessionend",hi)},disconnect(){const Ai=le.getState().gl;Ai.xr.removeEventListener("sessionstart",hi),Ai.xr.removeEventListener("sessionend",hi)}};cr.xr&&xo.connect(),En.set({xr:xo})}if(cr.shadowMap){const Ti=cr.shadowMap.enabled,hi=cr.shadowMap.type;if(cr.shadowMap.enabled=!!Ft,Ce.boo(Ft))cr.shadowMap.type=S.PCFSoftShadowMap;else if(Ce.str(Ft)){var ho;const xo={basic:S.BasicShadowMap,percentage:S.PCFShadowMap,soft:S.PCFSoftShadowMap,variance:S.VSMShadowMap};cr.shadowMap.type=(ho=xo[Ft])!=null?ho:S.PCFSoftShadowMap}else Ce.obj(Ft)&&Object.assign(cr.shadowMap,Ft);(Ti!==cr.shadowMap.enabled||hi!==cr.shadowMap.type)&&(cr.shadowMap.needsUpdate=!0)}const io=Kt();io&&("enabled"in io?io.enabled=!Ct:"legacyMode"in io&&(io.legacyMode=Ct)),Ge(cr,{outputEncoding:vt?3e3:3001,toneMapping:dt?S.NoToneMapping:S.ACESFilmicToneMapping}),En.legacy!==Ct&&En.set(()=>({legacy:Ct})),En.linear!==vt&&En.set(()=>({linear:vt})),En.flat!==dt&&En.set(()=>({flat:dt})),ie&&!Ce.fun(ie)&&!Vt(ie)&&!Ce.equ(ie,cr,Rt)&&Ge(cr,ie),tt&&!En.events.handlers&&En.set({events:tt(le)});const Co=jn(b,Ie);return Ce.equ(Co,En.size,Rt)||En.setSize(Co.width,Co.height,Co.updateStyle,Co.top,Co.left),Jn&&En.viewport.dpr!==Ae(Jn)&&En.setDpr(Jn),En.frameloop!==zn&&En.setFrameloop(zn),En.onPointerMissed||En.set({onPointerMissed:_r}),qn&&!Ce.equ(qn,En.performance,Rt)&&En.set(Ti=>({performance:St(St({},Ti.performance),qn)})),st=Zt,Qe=!0,this},render(Y){return Qe||this.configure(),oe.updateContainer(B.createElement(xi,{store:le,children:Y,onCreated:st,rootElement:b}),We,null,()=>{}),le},unmount(){Qr(b)}}}function Lr(b,H,E){console.warn("R3F.render is no longer supported in React 18. Use createRoot instead!");const T=pr(H);return T.configure(E),T.render(b)}function xi({store:b,children:H,onCreated:E,rootElement:T}){return Wt(()=>{const Q=b.getState();Q.set(le=>({internal:Yr(St({},le.internal),{active:!0})})),E&&E(Q),b.getState().events.connected||Q.events.connect==null||Q.events.connect(T)},[]),B.createElement(Rn.Provider,{value:b},H)}function Qr(b,H){const E=Nt.get(b),T=E==null?void 0:E.fiber;if(T){const Q=E==null?void 0:E.store.getState();Q&&(Q.internal.active=!1),oe.updateContainer(null,T,null,()=>{Q&&setTimeout(()=>{try{var le,We,st,Qe;Q.events.disconnect==null||Q.events.disconnect(),(le=Q.gl)==null||(We=le.renderLists)==null||We.dispose==null||We.dispose(),(st=Q.gl)==null||st.forceContextLoss==null||st.forceContextLoss(),(Qe=Q.gl)!=null&&Qe.xr&&Q.xr.disconnect(),K(Q),Nt.delete(b),H&&H(b)}catch(be){}},500)})}}function ei(b,H,E){return B.createElement(ti,{key:H.uuid,children:b,container:H,state:E})}function ti({state:b={},children:H,container:E}){const ie=b,{events:T,size:Q}=ie,le=gs(ie,["events","size"]),We=Xe(),[st]=B.useState(()=>new S.Raycaster),[Qe]=B.useState(()=>new S.Vector2),be=B.useCallback((Ie,Ze)=>{const tt=St({},Ie);Object.keys(Ie).forEach(Ft=>{(yt.includes(Ft)||Ie[Ft]!==Ze[Ft]&&Ze[Ft])&&delete tt[Ft]});let Zt;if(Ze&&Q){const Ft=Ze.camera;Zt=Ie.viewport.getCurrentViewport(Ft,new S.Vector3,Q),Ft!==Ie.camera&&Te(Ft,Q)}return St(Yr(St({},tt),{scene:E,raycaster:st,pointer:Qe,mouse:Qe,previousRoot:We,events:St(St(St({},Ie.events),Ze==null?void 0:Ze.events),T),size:St(St({},Ie.size),Q),viewport:St(St({},Ie.viewport),Zt)}),le)},[b]),[Y]=B.useState(()=>{const Ie=We.getState();return(0,Ne.Z)((tt,Zt)=>Yr(St(Yr(St({},Ie),{scene:E,raycaster:st,pointer:Qe,mouse:Qe,previousRoot:We,events:St(St({},Ie.events),T),size:St(St({},Ie.size),Q)}),le),{set:tt,get:Zt,setEvents:Ft=>tt(vt=>Yr(St({},vt),{events:St(St({},vt.events),Ft)}))}))});return B.useEffect(()=>{const Ie=We.subscribe(Ze=>Y.setState(tt=>be(Ze,tt)));return()=>{Ie(),Y.destroy()}},[]),B.useEffect(()=>{Y.setState(Ie=>be(We.getState(),Ie))},[be]),B.createElement(B.Fragment,null,oe.createPortal(B.createElement(Rn.Provider,{value:Y},H),Y,null))}oe.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:B.version});const Yi=B.unstable_act},52038:function(qt,je,G){"use strict";G.d(je,{Xz:function(){return Oe}});var S=G(63905),B=G(60795),D=G(50959),Ne=G(48119),qe=G(94440),xt=Object.defineProperty,de=Object.defineProperties,Ot=Object.getOwnPropertyDescriptors,he=Object.getOwnPropertySymbols,Be=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable,xe=(Ce,F,K)=>F in Ce?xt(Ce,F,{enumerable:!0,configurable:!0,writable:!0,value:K}):Ce[F]=K,mt=(Ce,F)=>{for(var K in F||(F={}))Be.call(F,K)&&xe(Ce,K,F[K]);if(he)for(var K of he(F))at.call(F,K)&&xe(Ce,K,F[K]);return Ce},Lt=(Ce,F)=>de(Ce,Ot(F));function ee(Ce,F,K){if(!Ce)return;if(K(Ce)===!0)return Ce;let me=F?Ce.return:Ce.child;for(;me;){const W=ee(me,F,K);if(W)return W;me=F?null:me.sibling}}function Hn(Ce){try{return Object.defineProperties(Ce,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch(F){return Ce}}const fn=Hn(D.createContext(null));class gn extends D.Component{render(){return D.createElement(fn.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:ot,ReactCurrentDispatcher:At}=D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function vn(){const Ce=D.useContext(fn);if(Ce===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const F=D.useId();return D.useMemo(()=>{for(const me of[ot==null?void 0:ot.current,Ce,Ce==null?void 0:Ce.alternate]){if(!me)continue;const W=ee(me,!1,se=>{let te=se.memoizedState;for(;te;){if(te.memoizedState===F)return!0;te=te.next}});if(W)return W}},[Ce,F])}function Kt(){const Ce=vn(),F=React.useMemo(()=>ee(Ce,!0,K=>{var me;return((me=K.stateNode)==null?void 0:me.containerInfo)!=null}),[Ce]);return F==null?void 0:F.stateNode.containerInfo}function Cn(Ce){const F=vn(),K=React.useRef();return React.useLayoutEffect(()=>{var me;K.current=(me=ee(F,!1,W=>typeof W.type=="string"&&(Ce===void 0||W.type===Ce)))==null?void 0:me.stateNode},[F]),K}function ln(Ce){const F=vn(),K=React.useRef();return React.useLayoutEffect(()=>{var me;K.current=(me=ee(F,!0,W=>typeof W.type=="string"&&(Ce===void 0||W.type===Ce)))==null?void 0:me.stateNode},[F]),K}function Wt(){var Ce,F;const K=vn(),[me]=D.useState(()=>new Map);me.clear();let W=K;for(;W;){const se=(Ce=W.type)==null?void 0:Ce._context;se&&se!==fn&&!me.has(se)&&me.set(se,(F=At==null?void 0:At.current)==null?void 0:F.readContext(Hn(se))),W=W.return}return me}function An(){const Ce=Wt();return D.useMemo(()=>Array.from(Ce.keys()).reduce((F,K)=>me=>D.createElement(F,null,D.createElement(K.Provider,Lt(mt({},me),{value:Ce.get(K)}))),F=>D.createElement(gn,mt({},F))),[Ce])}var Yt=G(85259),Me=G(97427),Ke=G(65297);const ae={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function nt(Ce){const{handlePointer:F}=(0,S.c)(Ce);return{priority:1,enabled:!0,compute(K,me,W){me.pointer.set(K.offsetX/me.size.width*2-1,-(K.offsetY/me.size.height)*2+1),me.raycaster.setFromCamera(me.pointer,me.camera)},connected:void 0,handlers:Object.keys(ae).reduce((K,me)=>Yr(St({},K),{[me]:F(me)}),{}),update:()=>{var K;const{events:me,internal:W}=Ce.getState();(K=W.lastEvent)!=null&&K.current&&me.handlers&&me.handlers.onPointerMove(W.lastEvent.current)},connect:K=>{var me;const{set:W,events:se}=Ce.getState();se.disconnect==null||se.disconnect(),W(te=>({events:Yr(St({},te.events),{connected:K})})),Object.entries((me=se.handlers)!=null?me:[]).forEach(([te,ge])=>{const[Le,De]=ae[te];K.addEventListener(Le,ge,{passive:De})})},disconnect:()=>{const{set:K,events:me}=Ce.getState();if(me.connected){var W;Object.entries((W=me.handlers)!=null?W:[]).forEach(([se,te])=>{if(me&&me.connected instanceof HTMLElement){const[ge]=ae[se];me.connected.removeEventListener(ge,te)}}),K(se=>({events:Yr(St({},se.events),{connected:void 0})}))}}}}const Ae=D.forwardRef(function(sn,In){var dn=sn,{children:F,fallback:K,resize:me,style:W,gl:se,events:te=nt,eventSource:ge,eventPrefix:Le,shadows:De,linear:ye,flat:ke,legacy:Te,orthographic:Et,frameloop:zt,dpr:_t,performance:pt,raycaster:Ue,camera:yt,onPointerMissed:Vt,onCreated:Rn}=dn,Qt=gs(dn,["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"]);D.useMemo(()=>(0,S.e)(Ne),[]);const Cr=An(),[oi,Tt]=(0,qe.Z)(St({scroll:!0,debounce:{scroll:50,resize:0}},me)),jt=D.useRef(null),_n=D.useRef(null);D.useImperativeHandle(In,()=>jt.current);const en=(0,S.u)(Vt),[Mn,ur]=D.useState(!1),[rr,jr]=D.useState(!1);if(Mn)throw Mn;if(rr)throw rr;const Zn=D.useRef(null);(0,S.a)(()=>{const Xe=jt.current;Tt.width>0&&Tt.height>0&&Xe&&(Zn.current||(Zn.current=(0,S.b)(Xe)),Zn.current.configure({gl:se,events:te,shadows:De,linear:ye,flat:ke,legacy:Te,orthographic:Et,frameloop:zt,dpr:_t,performance:pt,raycaster:Ue,camera:yt,size:Tt,onPointerMissed:(...$e)=>en.current==null?void 0:en.current(...$e),onCreated:$e=>{$e.events.connect==null||$e.events.connect(ge?(0,S.i)(ge)?ge.current:ge:_n.current),Le&&$e.setEvents({compute:(Ye,Pt)=>{const Dn=Ye[Le+"X"],bn=Ye[Le+"Y"];Pt.pointer.set(Dn/Pt.size.width*2-1,-(bn/Pt.size.height)*2+1),Pt.raycaster.setFromCamera(Pt.pointer,Pt.camera)}}),Rn==null||Rn($e)}}),Zn.current.render(D.createElement(Cr,null,D.createElement(S.E,{set:jr},D.createElement(D.Suspense,{fallback:D.createElement(S.B,{set:ur})},F)))))}),D.useEffect(()=>{const Xe=jt.current;if(Xe)return()=>(0,S.d)(Xe)},[]);const ve=ge?"none":"auto";return D.createElement("div",(0,B.Z)({ref:_n,style:St({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ve},W)},Qt),D.createElement("div",{ref:oi,style:{width:"100%",height:"100%"}},D.createElement("canvas",{ref:jt,style:{display:"block"}},K)))}),Oe=D.forwardRef(function(F,K){return D.createElement(gn,null,D.createElement(Ae,(0,B.Z)({},F,{ref:K})))})},73151:function(qt,je,G){"use strict";var S=G(87807),B=G(67725),D=G(43957),Ne=G(23002),qe=G(11527),xt=["children"];function de(he,Be){var at=Object.keys(he);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(he);Be&&(xe=xe.filter(function(mt){return Object.getOwnPropertyDescriptor(he,mt).enumerable})),at.push.apply(at,xe)}return at}function Ot(he){for(var Be=1;Be<arguments.length;Be++){var at=arguments[Be]!=null?arguments[Be]:{};Be%2?de(Object(at),!0).forEach(function(xe){(0,S.Z)(he,xe,at[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(at)):de(Object(at)).forEach(function(xe){Object.defineProperty(he,xe,Object.getOwnPropertyDescriptor(at,xe))})}return he}je.Z=function(he){var Be=he.children,at=(0,B.Z)(he,xt);return(0,qe.jsx)(Ne.f,Ot(Ot({},at),{},{children:(0,qe.jsx)(D.Z,{children:Be})}))}},7798:function(qt,je,G){"use strict";G.d(je,{Z:function(){return Be}});var S=G(40513),B=G(50959),D=G(28062),Ne=G(18621),qe=G(49937);function xt(at){function xe(mt,Lt){Lt===void 0&&(Lt={});var ee,Hn=Lt.onError,fn=Hn===void 0?function(Wt){console.error(Wt)}:Hn;try{ee=at()}catch(Wt){fn(Wt)}var gn=function(Wt){return Lt!=null&&Lt.serializer?Lt==null?void 0:Lt.serializer(Wt):JSON.stringify(Wt)},ot=function(Wt){return Lt!=null&&Lt.deserializer?Lt==null?void 0:Lt.deserializer(Wt):JSON.parse(Wt)};function At(){try{var Wt=ee==null?void 0:ee.getItem(mt);if(Wt)return ot(Wt)}catch(An){fn(An)}return(0,qe.mf)(Lt==null?void 0:Lt.defaultValue)?Lt==null?void 0:Lt.defaultValue():Lt==null?void 0:Lt.defaultValue}var vn=(0,S.CR)((0,B.useState)(function(){return At()}),2),Kt=vn[0],Cn=vn[1];(0,Ne.Z)(function(){Cn(At())},[mt]);var ln=function(Wt){var An=(0,qe.mf)(Wt)?Wt(Kt):Wt;if(Cn(An),(0,qe.G7)(An))ee==null||ee.removeItem(mt);else try{ee==null||ee.setItem(mt,gn(An))}catch(Yt){console.error(Yt)}};return[Kt,(0,D.Z)(ln)]}return xe}var de=!!(typeof window!="undefined"&&window.document&&window.document.createElement),Ot=de,he=xt(function(){return Ot?localStorage:void 0}),Be=he},28062:function(qt,je,G){"use strict";var S=G(50959),B=G(49937),D=G(70510);function Ne(qe){D.Z&&((0,B.mf)(qe)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof qe)));var xt=(0,S.useRef)(qe);xt.current=(0,S.useMemo)(function(){return qe},[qe]);var de=(0,S.useRef)();return de.current||(de.current=function(){for(var Ot=[],he=0;he<arguments.length;he++)Ot[he]=arguments[he];return xt.current.apply(this,Ot)}),de.current}je.Z=Ne},18621:function(qt,je,G){"use strict";G.d(je,{Z:function(){return Ne}});var S=G(50959),B=function(qe){return function(xt,de){var Ot=(0,S.useRef)(!1);qe(function(){return function(){Ot.current=!1}},[]),qe(function(){if(!Ot.current)Ot.current=!0;else return xt()},de)}},D=null,Ne=B(S.useEffect)},49937:function(qt,je,G){"use strict";G.d(je,{G7:function(){return xt},mf:function(){return B}});var S=function(de){return de!==null&&typeof de=="object"},B=function(de){return typeof de=="function"},D=function(de){return typeof de=="string"},Ne=function(de){return typeof de=="boolean"},qe=function(de){return typeof de=="number"},xt=function(de){return typeof de=="undefined"}},70510:function(qt,je){"use strict";var G=!1;je.Z=G},45924:function(qt,je,G){"use strict";G.r(je),G.d(je,{clsx:function(){return B}});function S(D){var Ne,qe,xt="";if(typeof D=="string"||typeof D=="number")xt+=D;else if(typeof D=="object")if(Array.isArray(D))for(Ne=0;Ne<D.length;Ne++)D[Ne]&&(qe=S(D[Ne]))&&(xt&&(xt+=" "),xt+=qe);else for(Ne in D)D[Ne]&&(xt&&(xt+=" "),xt+=Ne);return xt}function B(){for(var D,Ne,qe=0,xt="";qe<arguments.length;)(D=arguments[qe++])&&(Ne=S(D))&&(xt&&(xt+=" "),xt+=Ne);return xt}je.default=B},31110:function(qt){function je(G,S,B){var D,Ne,qe,xt,de;S==null&&(S=100);function Ot(){var Be=Date.now()-xt;Be<S&&Be>=0?D=setTimeout(Ot,S-Be):(D=null,B||(de=G.apply(qe,Ne),qe=Ne=null))}var he=function(){qe=this,Ne=arguments,xt=Date.now();var Be=B&&!D;return D||(D=setTimeout(Ot,S)),Be&&(de=G.apply(qe,Ne),qe=Ne=null),de};return he.clear=function(){D&&(clearTimeout(D),D=null)},he.flush=function(){D&&(de=G.apply(qe,Ne),qe=Ne=null,clearTimeout(D),D=null)},he}je.debounce=je,qt.exports=je},69978:function(qt){function je(Be,at){var xe=at&&at.cache?at.cache:he,mt=at&&at.serializer?at.serializer:de,Lt=at&&at.strategy?at.strategy:Ne;return Lt(Be,{cache:xe,serializer:mt})}function G(Be){return Be==null||typeof Be=="number"||typeof Be=="boolean"}function S(Be,at,xe,mt){var Lt=G(mt)?mt:xe(mt),ee=at.get(Lt);return typeof ee=="undefined"&&(ee=Be.call(this,mt),at.set(Lt,ee)),ee}function B(Be,at,xe){var mt=Array.prototype.slice.call(arguments,3),Lt=xe(mt),ee=at.get(Lt);return typeof ee=="undefined"&&(ee=Be.apply(this,mt),at.set(Lt,ee)),ee}function D(Be,at,xe,mt,Lt){return xe.bind(at,Be,mt,Lt)}function Ne(Be,at){var xe=Be.length===1?S:B;return D(Be,this,xe,at.cache.create(),at.serializer)}function qe(Be,at){var xe=B;return D(Be,this,xe,at.cache.create(),at.serializer)}function xt(Be,at){var xe=S;return D(Be,this,xe,at.cache.create(),at.serializer)}function de(){return JSON.stringify(arguments)}function Ot(){this.cache=Object.create(null)}Ot.prototype.has=function(Be){return Be in this.cache},Ot.prototype.get=function(Be){return this.cache[Be]},Ot.prototype.set=function(Be,at){this.cache[Be]=at};var he={create:function(){return new Ot}};qt.exports=je,qt.exports.strategies={variadic:qe,monadic:xt}},5899:function(qt,je,G){qt=G.nmd(qt);var S=200,B="__lodash_hash_undefined__",D=1,Ne=2,qe=9007199254740991,xt="[object Arguments]",de="[object Array]",Ot="[object AsyncFunction]",he="[object Boolean]",Be="[object Date]",at="[object Error]",xe="[object Function]",mt="[object GeneratorFunction]",Lt="[object Map]",ee="[object Number]",Hn="[object Null]",fn="[object Object]",gn="[object Promise]",ot="[object Proxy]",At="[object RegExp]",vn="[object Set]",Kt="[object String]",Cn="[object Symbol]",ln="[object Undefined]",Wt="[object WeakMap]",An="[object ArrayBuffer]",Yt="[object DataView]",Me="[object Float32Array]",Ke="[object Float64Array]",ae="[object Int8Array]",nt="[object Int16Array]",Ae="[object Int32Array]",Oe="[object Uint8Array]",Ce="[object Uint8ClampedArray]",F="[object Uint16Array]",K="[object Uint32Array]",me=/[\\^$.*+?()[\]{}|]/g,W=/^\[object .+?Constructor\]$/,se=/^(?:0|[1-9]\d*)$/,te={};te[Me]=te[Ke]=te[ae]=te[nt]=te[Ae]=te[Oe]=te[Ce]=te[F]=te[K]=!0,te[xt]=te[de]=te[An]=te[he]=te[Yt]=te[Be]=te[at]=te[xe]=te[Lt]=te[ee]=te[fn]=te[At]=te[vn]=te[Kt]=te[Wt]=!1;var ge=typeof G.g=="object"&&G.g&&G.g.Object===Object&&G.g,Le=typeof self=="object"&&self&&self.Object===Object&&self,De=ge||Le||Function("return this")(),ye=je&&!je.nodeType&&je,ke=ye&&!0&&qt&&!qt.nodeType&&qt,Te=ke&&ke.exports===ye,Et=Te&&ge.process,zt=function(){try{return Et&&Et.binding&&Et.binding("util")}catch(z){}}(),_t=zt&&zt.isTypedArray;function pt(z,re){for(var R=-1,Z=z==null?0:z.length,ze=0,Je=[];++R<Z;){var Sn=z[R];re(Sn,R,z)&&(Je[ze++]=Sn)}return Je}function Ue(z,re){for(var R=-1,Z=re.length,ze=z.length;++R<Z;)z[ze+R]=re[R];return z}function yt(z,re){for(var R=-1,Z=z==null?0:z.length;++R<Z;)if(re(z[R],R,z))return!0;return!1}function Vt(z,re){for(var R=-1,Z=Array(z);++R<z;)Z[R]=re(R);return Z}function Rn(z){return function(re){return z(re)}}function Qt(z,re){return z.has(re)}function In(z,re){return z==null?void 0:z[re]}function sn(z){var re=-1,R=Array(z.size);return z.forEach(function(Z,ze){R[++re]=[ze,Z]}),R}function dn(z,re){return function(R){return z(re(R))}}function Cr(z){var re=-1,R=Array(z.size);return z.forEach(function(Z){R[++re]=Z}),R}var oi=Array.prototype,Tt=Function.prototype,jt=Object.prototype,_n=De["__core-js_shared__"],en=Tt.toString,Mn=jt.hasOwnProperty,ur=function(){var z=/[^.]+$/.exec(_n&&_n.keys&&_n.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""}(),rr=jt.toString,jr=RegExp("^"+en.call(Mn).replace(me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zn=Te?De.Buffer:void 0,ve=De.Symbol,Xe=De.Uint8Array,$e=jt.propertyIsEnumerable,Ye=oi.splice,Pt=ve?ve.toStringTag:void 0,Dn=Object.getOwnPropertySymbols,bn=Zn?Zn.isBuffer:void 0,Nt=dn(Object.keys,Object),$t=Ai(De,"DataView"),lt=Ai(De,"Map"),oe=Ai(De,"Promise"),Ge=Ai(De,"Set"),Rt=Ai(De,"WeakMap"),an=Ai(Object,"create"),jn=cs($t),pr=cs(lt),Lr=cs(oe),xi=cs(Ge),Qr=cs(Rt),ei=ve?ve.prototype:void 0,ti=ei?ei.valueOf:void 0;function Yi(z){var re=-1,R=z==null?0:z.length;for(this.clear();++re<R;){var Z=z[re];this.set(Z[0],Z[1])}}function b(){this.__data__=an?an(null):{},this.size=0}function H(z){var re=this.has(z)&&delete this.__data__[z];return this.size-=re?1:0,re}function E(z){var re=this.__data__;if(an){var R=re[z];return R===B?void 0:R}return Mn.call(re,z)?re[z]:void 0}function T(z){var re=this.__data__;return an?re[z]!==void 0:Mn.call(re,z)}function Q(z,re){var R=this.__data__;return this.size+=this.has(z)?0:1,R[z]=an&&re===void 0?B:re,this}Yi.prototype.clear=b,Yi.prototype.delete=H,Yi.prototype.get=E,Yi.prototype.has=T,Yi.prototype.set=Q;function le(z){var re=-1,R=z==null?0:z.length;for(this.clear();++re<R;){var Z=z[re];this.set(Z[0],Z[1])}}function We(){this.__data__=[],this.size=0}function st(z){var re=this.__data__,R=En(re,z);if(R<0)return!1;var Z=re.length-1;return R==Z?re.pop():Ye.call(re,R,1),--this.size,!0}function Qe(z){var re=this.__data__,R=En(re,z);return R<0?void 0:re[R][1]}function be(z){return En(this.__data__,z)>-1}function Y(z,re){var R=this.__data__,Z=En(R,z);return Z<0?(++this.size,R.push([z,re])):R[Z][1]=re,this}le.prototype.clear=We,le.prototype.delete=st,le.prototype.get=Qe,le.prototype.has=be,le.prototype.set=Y;function ie(z){var re=-1,R=z==null?0:z.length;for(this.clear();++re<R;){var Z=z[re];this.set(Z[0],Z[1])}}function Ie(){this.size=0,this.__data__={hash:new Yi,map:new(lt||le),string:new Yi}}function Ze(z){var re=xo(this,z).delete(z);return this.size-=re?1:0,re}function tt(z){return xo(this,z).get(z)}function Zt(z){return xo(this,z).has(z)}function Ft(z,re){var R=xo(this,z),Z=R.size;return R.set(z,re),this.size+=R.size==Z?0:1,this}ie.prototype.clear=Ie,ie.prototype.delete=Ze,ie.prototype.get=tt,ie.prototype.has=Zt,ie.prototype.set=Ft;function vt(z){var re=-1,R=z==null?0:z.length;for(this.__data__=new ie;++re<R;)this.add(z[re])}function dt(z){return this.__data__.set(z,B),this}function Ct(z){return this.__data__.has(z)}vt.prototype.add=vt.prototype.push=dt,vt.prototype.has=Ct;function rn(z){var re=this.__data__=new le(z);this.size=re.size}function zn(){this.__data__=new le,this.size=0}function Jn(z){var re=this.__data__,R=re.delete(z);return this.size=re.size,R}function qn(z){return this.__data__.get(z)}function $n(z){return this.__data__.has(z)}function Qn(z,re){var R=this.__data__;if(R instanceof le){var Z=R.__data__;if(!lt||Z.length<S-1)return Z.push([z,re]),this.size=++R.size,this;R=this.__data__=new ie(Z)}return R.set(z,re),this.size=R.size,this}rn.prototype.clear=zn,rn.prototype.delete=Jn,rn.prototype.get=qn,rn.prototype.has=$n,rn.prototype.set=Qn;function _r(z,re){var R=na(z),Z=!R&&Kr(z),ze=!R&&!Z&&Vr(z),Je=!R&&!Z&&!ze&&pe(z),Sn=R||Z||ze||Je,Tn=Sn?Vt(z.length,String):[],ir=Tn.length;for(var on in z)(re||Mn.call(z,on))&&!(Sn&&(on=="length"||ze&&(on=="offset"||on=="parent")||Je&&(on=="buffer"||on=="byteLength"||on=="byteOffset")||Ra(on,ir)))&&Tn.push(on);return Tn}function En(z,re){for(var R=z.length;R--;)if(Xs(z[R][0],re))return R;return-1}function cr(z,re,R){var Z=re(z);return na(z)?Z:Ue(Z,R(z))}function Nr(z){return z==null?z===void 0?ln:Hn:Pt&&Pt in Object(z)?Ss(z):oo(z)}function yi(z){return V(z)&&Nr(z)==xt}function Wr(z,re,R,Z,ze){return z===re?!0:z==null||re==null||!V(z)&&!V(re)?z!==z&&re!==re:ho(z,re,R,Z,Wr,ze)}function ho(z,re,R,Z,ze,Je){var Sn=na(z),Tn=na(re),ir=Sn?de:Fo(z),on=Tn?de:Fo(re);ir=ir==xt?fn:ir,on=on==xt?fn:on;var or=ir==fn,br=on==fn,gr=ir==on;if(gr&&Vr(z)){if(!Vr(re))return!1;Sn=!0,or=!1}if(gr&&!or)return Je||(Je=new rn),Sn||pe(z)?Co(z,re,R,Z,ze,Je):Fi(z,re,ir,R,Z,ze,Je);if(!(R&D)){var Tr=or&&Mn.call(z,"__wrapped__"),Pi=br&&Mn.call(re,"__wrapped__");if(Tr||Pi){var Gr=Tr?z.value():z,Si=Pi?re.value():re;return Je||(Je=new rn),ze(Gr,Si,R,Z,Je)}}return gr?(Je||(Je=new rn),Ti(z,re,R,Z,ze,Je)):!1}function io(z){if(!P(z)||Va(z))return!1;var re=ts(z)?jr:W;return re.test(cs(z))}function Ki(z){return V(z)&&po(z.length)&&!!te[Nr(z)]}function Di(z){if(!fa(z))return Nt(z);var re=[];for(var R in Object(z))Mn.call(z,R)&&R!="constructor"&&re.push(R);return re}function Co(z,re,R,Z,ze,Je){var Sn=R&D,Tn=z.length,ir=re.length;if(Tn!=ir&&!(Sn&&ir>Tn))return!1;var on=Je.get(z);if(on&&Je.get(re))return on==re;var or=-1,br=!0,gr=R&Ne?new vt:void 0;for(Je.set(z,re),Je.set(re,z);++or<Tn;){var Tr=z[or],Pi=re[or];if(Z)var Gr=Sn?Z(Pi,Tr,or,re,z,Je):Z(Tr,Pi,or,z,re,Je);if(Gr!==void 0){if(Gr)continue;br=!1;break}if(gr){if(!yt(re,function(Si,ai){if(!Qt(gr,ai)&&(Tr===Si||ze(Tr,Si,R,Z,Je)))return gr.push(ai)})){br=!1;break}}else if(!(Tr===Pi||ze(Tr,Pi,R,Z,Je))){br=!1;break}}return Je.delete(z),Je.delete(re),br}function Fi(z,re,R,Z,ze,Je,Sn){switch(R){case Yt:if(z.byteLength!=re.byteLength||z.byteOffset!=re.byteOffset)return!1;z=z.buffer,re=re.buffer;case An:return!(z.byteLength!=re.byteLength||!Je(new Xe(z),new Xe(re)));case he:case Be:case ee:return Xs(+z,+re);case at:return z.name==re.name&&z.message==re.message;case At:case Kt:return z==re+"";case Lt:var Tn=sn;case vn:var ir=Z&D;if(Tn||(Tn=Cr),z.size!=re.size&&!ir)return!1;var on=Sn.get(z);if(on)return on==re;Z|=Ne,Sn.set(z,re);var or=Co(Tn(z),Tn(re),Z,ze,Je,Sn);return Sn.delete(z),or;case Cn:if(ti)return ti.call(z)==ti.call(re)}return!1}function Ti(z,re,R,Z,ze,Je){var Sn=R&D,Tn=hi(z),ir=Tn.length,on=hi(re),or=on.length;if(ir!=or&&!Sn)return!1;for(var br=ir;br--;){var gr=Tn[br];if(!(Sn?gr in re:Mn.call(re,gr)))return!1}var Tr=Je.get(z);if(Tr&&Je.get(re))return Tr==re;var Pi=!0;Je.set(z,re),Je.set(re,z);for(var Gr=Sn;++br<ir;){gr=Tn[br];var Si=z[gr],ai=re[gr];if(Z)var Oi=Sn?Z(ai,Si,gr,re,z,Je):Z(Si,ai,gr,z,re,Je);if(!(Oi===void 0?Si===ai||ze(Si,ai,R,Z,Je):Oi)){Pi=!1;break}Gr||(Gr=gr=="constructor")}if(Pi&&!Gr){var Zi=z.constructor,lo=re.constructor;Zi!=lo&&"constructor"in z&&"constructor"in re&&!(typeof Zi=="function"&&Zi instanceof Zi&&typeof lo=="function"&&lo instanceof lo)&&(Pi=!1)}return Je.delete(z),Je.delete(re),Pi}function hi(z){return cr(z,Fe,vs)}function xo(z,re){var R=z.__data__;return La(re)?R[typeof re=="string"?"string":"hash"]:R.map}function Ai(z,re){var R=In(z,re);return io(R)?R:void 0}function Ss(z){var re=Mn.call(z,Pt),R=z[Pt];try{z[Pt]=void 0;var Z=!0}catch(Je){}var ze=rr.call(z);return Z&&(re?z[Pt]=R:delete z[Pt]),ze}var vs=Dn?function(z){return z==null?[]:(z=Object(z),pt(Dn(z),function(re){return $e.call(z,re)}))}:gt,Fo=Nr;($t&&Fo(new $t(new ArrayBuffer(1)))!=Yt||lt&&Fo(new lt)!=Lt||oe&&Fo(oe.resolve())!=gn||Ge&&Fo(new Ge)!=vn||Rt&&Fo(new Rt)!=Wt)&&(Fo=function(z){var re=Nr(z),R=re==fn?z.constructor:void 0,Z=R?cs(R):"";if(Z)switch(Z){case jn:return Yt;case pr:return Lt;case Lr:return gn;case xi:return vn;case Qr:return Wt}return re});function Ra(z,re){return re=re==null?qe:re,!!re&&(typeof z=="number"||se.test(z))&&z>-1&&z%1==0&&z<re}function La(z){var re=typeof z;return re=="string"||re=="number"||re=="symbol"||re=="boolean"?z!=="__proto__":z===null}function Va(z){return!!ur&&ur in z}function fa(z){var re=z&&z.constructor,R=typeof re=="function"&&re.prototype||jt;return z===R}function oo(z){return rr.call(z)}function cs(z){if(z!=null){try{return en.call(z)}catch(re){}try{return z+""}catch(re){}}return""}function Xs(z,re){return z===re||z!==z&&re!==re}var Kr=yi(function(){return arguments}())?yi:function(z){return V(z)&&Mn.call(z,"callee")&&!$e.call(z,"callee")},na=Array.isArray;function us(z){return z!=null&&po(z.length)&&!ts(z)}var Vr=bn||ut;function Ko(z,re){return Wr(z,re)}function ts(z){if(!P(z))return!1;var re=Nr(z);return re==xe||re==mt||re==Ot||re==ot}function po(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=qe}function P(z){var re=typeof z;return z!=null&&(re=="object"||re=="function")}function V(z){return z!=null&&typeof z=="object"}var pe=_t?Rn(_t):Ki;function Fe(z){return us(z)?_r(z):Di(z)}function gt(){return[]}function ut(){return!1}qt.exports=Ko},72266:function(qt,je,G){qt=G.nmd(qt);var S=200,B="__lodash_hash_undefined__",D=800,Ne=16,qe=9007199254740991,xt="[object Arguments]",de="[object Array]",Ot="[object AsyncFunction]",he="[object Boolean]",Be="[object Date]",at="[object Error]",xe="[object Function]",mt="[object GeneratorFunction]",Lt="[object Map]",ee="[object Number]",Hn="[object Null]",fn="[object Object]",gn="[object Proxy]",ot="[object RegExp]",At="[object Set]",vn="[object String]",Kt="[object Undefined]",Cn="[object WeakMap]",ln="[object ArrayBuffer]",Wt="[object DataView]",An="[object Float32Array]",Yt="[object Float64Array]",Me="[object Int8Array]",Ke="[object Int16Array]",ae="[object Int32Array]",nt="[object Uint8Array]",Ae="[object Uint8ClampedArray]",Oe="[object Uint16Array]",Ce="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,K=/^\[object .+?Constructor\]$/,me=/^(?:0|[1-9]\d*)$/,W={};W[An]=W[Yt]=W[Me]=W[Ke]=W[ae]=W[nt]=W[Ae]=W[Oe]=W[Ce]=!0,W[xt]=W[de]=W[ln]=W[he]=W[Wt]=W[Be]=W[at]=W[xe]=W[Lt]=W[ee]=W[fn]=W[ot]=W[At]=W[vn]=W[Cn]=!1;var se=typeof G.g=="object"&&G.g&&G.g.Object===Object&&G.g,te=typeof self=="object"&&self&&self.Object===Object&&self,ge=se||te||Function("return this")(),Le=je&&!je.nodeType&&je,De=Le&&!0&&qt&&!qt.nodeType&&qt,ye=De&&De.exports===Le,ke=ye&&se.process,Te=function(){try{var R=De&&De.require&&De.require("util").types;return R||ke&&ke.binding&&ke.binding("util")}catch(Z){}}(),Et=Te&&Te.isTypedArray;function zt(R,Z,ze){switch(ze.length){case 0:return R.call(Z);case 1:return R.call(Z,ze[0]);case 2:return R.call(Z,ze[0],ze[1]);case 3:return R.call(Z,ze[0],ze[1],ze[2])}return R.apply(Z,ze)}function _t(R,Z){for(var ze=-1,Je=Array(R);++ze<R;)Je[ze]=Z(ze);return Je}function pt(R){return function(Z){return R(Z)}}function Ue(R,Z){return R==null?void 0:R[Z]}function yt(R,Z){return function(ze){return R(Z(ze))}}var Vt=Array.prototype,Rn=Function.prototype,Qt=Object.prototype,In=ge["__core-js_shared__"],sn=Rn.toString,dn=Qt.hasOwnProperty,Cr=function(){var R=/[^.]+$/.exec(In&&In.keys&&In.keys.IE_PROTO||"");return R?"Symbol(src)_1."+R:""}(),oi=Qt.toString,Tt=sn.call(Object),jt=RegExp("^"+sn.call(dn).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_n=ye?ge.Buffer:void 0,en=ge.Symbol,Mn=ge.Uint8Array,ur=_n?_n.allocUnsafe:void 0,rr=yt(Object.getPrototypeOf,Object),jr=Object.create,Zn=Qt.propertyIsEnumerable,ve=Vt.splice,Xe=en?en.toStringTag:void 0,$e=function(){try{var R=Ki(Object,"defineProperty");return R({},"",{}),R}catch(Z){}}(),Ye=_n?_n.isBuffer:void 0,Pt=Math.max,Dn=Date.now,bn=Ki(ge,"Map"),Nt=Ki(Object,"create"),$t=function(){function R(){}return function(Z){if(!ts(Z))return{};if(jr)return jr(Z);R.prototype=Z;var ze=new R;return R.prototype=void 0,ze}}();function lt(R){var Z=-1,ze=R==null?0:R.length;for(this.clear();++Z<ze;){var Je=R[Z];this.set(Je[0],Je[1])}}function oe(){this.__data__=Nt?Nt(null):{},this.size=0}function Ge(R){var Z=this.has(R)&&delete this.__data__[R];return this.size-=Z?1:0,Z}function Rt(R){var Z=this.__data__;if(Nt){var ze=Z[R];return ze===B?void 0:ze}return dn.call(Z,R)?Z[R]:void 0}function an(R){var Z=this.__data__;return Nt?Z[R]!==void 0:dn.call(Z,R)}function jn(R,Z){var ze=this.__data__;return this.size+=this.has(R)?0:1,ze[R]=Nt&&Z===void 0?B:Z,this}lt.prototype.clear=oe,lt.prototype.delete=Ge,lt.prototype.get=Rt,lt.prototype.has=an,lt.prototype.set=jn;function pr(R){var Z=-1,ze=R==null?0:R.length;for(this.clear();++Z<ze;){var Je=R[Z];this.set(Je[0],Je[1])}}function Lr(){this.__data__=[],this.size=0}function xi(R){var Z=this.__data__,ze=tt(Z,R);if(ze<0)return!1;var Je=Z.length-1;return ze==Je?Z.pop():ve.call(Z,ze,1),--this.size,!0}function Qr(R){var Z=this.__data__,ze=tt(Z,R);return ze<0?void 0:Z[ze][1]}function ei(R){return tt(this.__data__,R)>-1}function ti(R,Z){var ze=this.__data__,Je=tt(ze,R);return Je<0?(++this.size,ze.push([R,Z])):ze[Je][1]=Z,this}pr.prototype.clear=Lr,pr.prototype.delete=xi,pr.prototype.get=Qr,pr.prototype.has=ei,pr.prototype.set=ti;function Yi(R){var Z=-1,ze=R==null?0:R.length;for(this.clear();++Z<ze;){var Je=R[Z];this.set(Je[0],Je[1])}}function b(){this.size=0,this.__data__={hash:new lt,map:new(bn||pr),string:new lt}}function H(R){var Z=io(this,R).delete(R);return this.size-=Z?1:0,Z}function E(R){return io(this,R).get(R)}function T(R){return io(this,R).has(R)}function Q(R,Z){var ze=io(this,R),Je=ze.size;return ze.set(R,Z),this.size+=ze.size==Je?0:1,this}Yi.prototype.clear=b,Yi.prototype.delete=H,Yi.prototype.get=E,Yi.prototype.has=T,Yi.prototype.set=Q;function le(R){var Z=this.__data__=new pr(R);this.size=Z.size}function We(){this.__data__=new pr,this.size=0}function st(R){var Z=this.__data__,ze=Z.delete(R);return this.size=Z.size,ze}function Qe(R){return this.__data__.get(R)}function be(R){return this.__data__.has(R)}function Y(R,Z){var ze=this.__data__;if(ze instanceof pr){var Je=ze.__data__;if(!bn||Je.length<S-1)return Je.push([R,Z]),this.size=++ze.size,this;ze=this.__data__=new Yi(Je)}return ze.set(R,Z),this.size=ze.size,this}le.prototype.clear=We,le.prototype.delete=st,le.prototype.get=Qe,le.prototype.has=be,le.prototype.set=Y;function ie(R,Z){var ze=Xs(R),Je=!ze&&cs(R),Sn=!ze&&!Je&&us(R),Tn=!ze&&!Je&&!Sn&&V(R),ir=ze||Je||Sn||Tn,on=ir?_t(R.length,String):[],or=on.length;for(var br in R)(Z||dn.call(R,br))&&!(ir&&(br=="length"||Sn&&(br=="offset"||br=="parent")||Tn&&(br=="buffer"||br=="byteLength"||br=="byteOffset")||Fi(br,or)))&&on.push(br);return on}function Ie(R,Z,ze){(ze!==void 0&&!oo(R[Z],ze)||ze===void 0&&!(Z in R))&&Zt(R,Z,ze)}function Ze(R,Z,ze){var Je=R[Z];(!(dn.call(R,Z)&&oo(Je,ze))||ze===void 0&&!(Z in R))&&Zt(R,Z,ze)}function tt(R,Z){for(var ze=R.length;ze--;)if(oo(R[ze][0],Z))return ze;return-1}function Zt(R,Z,ze){Z=="__proto__"&&$e?$e(R,Z,{configurable:!0,enumerable:!0,value:ze,writable:!0}):R[Z]=ze}var Ft=ho();function vt(R){return R==null?R===void 0?Kt:Hn:Xe&&Xe in Object(R)?Di(R):vs(R)}function dt(R){return po(R)&&vt(R)==xt}function Ct(R){if(!ts(R)||xo(R))return!1;var Z=Vr(R)?jt:K;return Z.test(fa(R))}function rn(R){return po(R)&&Ko(R.length)&&!!W[vt(R)]}function zn(R){if(!ts(R))return Ss(R);var Z=Ai(R),ze=[];for(var Je in R)Je=="constructor"&&(Z||!dn.call(R,Je))||ze.push(Je);return ze}function Jn(R,Z,ze,Je,Sn){R!==Z&&Ft(Z,function(Tn,ir){if(Sn||(Sn=new le),ts(Tn))qn(R,Z,ir,ze,Jn,Je,Sn);else{var on=Je?Je(Ra(R,ir),Tn,ir+"",R,Z,Sn):void 0;on===void 0&&(on=Tn),Ie(R,ir,on)}},Fe)}function qn(R,Z,ze,Je,Sn,Tn,ir){var on=Ra(R,ze),or=Ra(Z,ze),br=ir.get(or);if(br){Ie(R,ze,br);return}var gr=Tn?Tn(on,or,ze+"",R,Z,ir):void 0,Tr=gr===void 0;if(Tr){var Pi=Xs(or),Gr=!Pi&&us(or),Si=!Pi&&!Gr&&V(or);gr=or,Pi||Gr||Si?Xs(on)?gr=on:na(on)?gr=Nr(on):Gr?(Tr=!1,gr=_r(or,!0)):Si?(Tr=!1,gr=cr(or,!0)):gr=[]:P(or)||cs(or)?(gr=on,cs(on)?gr=pe(on):(!ts(on)||Vr(on))&&(gr=Co(or))):Tr=!1}Tr&&(ir.set(or,gr),Sn(gr,or,Je,Tn,ir),ir.delete(or)),Ie(R,ze,gr)}function $n(R,Z){return La(Fo(R,Z,z),R+"")}var Qn=$e?function(R,Z){return $e(R,"toString",{configurable:!0,enumerable:!1,value:ut(Z),writable:!0})}:z;function _r(R,Z){if(Z)return R.slice();var ze=R.length,Je=ur?ur(ze):new R.constructor(ze);return R.copy(Je),Je}function En(R){var Z=new R.constructor(R.byteLength);return new Mn(Z).set(new Mn(R)),Z}function cr(R,Z){var ze=Z?En(R.buffer):R.buffer;return new R.constructor(ze,R.byteOffset,R.length)}function Nr(R,Z){var ze=-1,Je=R.length;for(Z||(Z=Array(Je));++ze<Je;)Z[ze]=R[ze];return Z}function yi(R,Z,ze,Je){var Sn=!ze;ze||(ze={});for(var Tn=-1,ir=Z.length;++Tn<ir;){var on=Z[Tn],or=Je?Je(ze[on],R[on],on,ze,R):void 0;or===void 0&&(or=R[on]),Sn?Zt(ze,on,or):Ze(ze,on,or)}return ze}function Wr(R){return $n(function(Z,ze){var Je=-1,Sn=ze.length,Tn=Sn>1?ze[Sn-1]:void 0,ir=Sn>2?ze[2]:void 0;for(Tn=R.length>3&&typeof Tn=="function"?(Sn--,Tn):void 0,ir&&Ti(ze[0],ze[1],ir)&&(Tn=Sn<3?void 0:Tn,Sn=1),Z=Object(Z);++Je<Sn;){var on=ze[Je];on&&R(Z,on,Je,Tn)}return Z})}function ho(R){return function(Z,ze,Je){for(var Sn=-1,Tn=Object(Z),ir=Je(Z),on=ir.length;on--;){var or=ir[R?on:++Sn];if(ze(Tn[or],or,Tn)===!1)break}return Z}}function io(R,Z){var ze=R.__data__;return hi(Z)?ze[typeof Z=="string"?"string":"hash"]:ze.map}function Ki(R,Z){var ze=Ue(R,Z);return Ct(ze)?ze:void 0}function Di(R){var Z=dn.call(R,Xe),ze=R[Xe];try{R[Xe]=void 0;var Je=!0}catch(Tn){}var Sn=oi.call(R);return Je&&(Z?R[Xe]=ze:delete R[Xe]),Sn}function Co(R){return typeof R.constructor=="function"&&!Ai(R)?$t(rr(R)):{}}function Fi(R,Z){var ze=typeof R;return Z=Z==null?qe:Z,!!Z&&(ze=="number"||ze!="symbol"&&me.test(R))&&R>-1&&R%1==0&&R<Z}function Ti(R,Z,ze){if(!ts(ze))return!1;var Je=typeof Z;return(Je=="number"?Kr(ze)&&Fi(Z,ze.length):Je=="string"&&Z in ze)?oo(ze[Z],R):!1}function hi(R){var Z=typeof R;return Z=="string"||Z=="number"||Z=="symbol"||Z=="boolean"?R!=="__proto__":R===null}function xo(R){return!!Cr&&Cr in R}function Ai(R){var Z=R&&R.constructor,ze=typeof Z=="function"&&Z.prototype||Qt;return R===ze}function Ss(R){var Z=[];if(R!=null)for(var ze in Object(R))Z.push(ze);return Z}function vs(R){return oi.call(R)}function Fo(R,Z,ze){return Z=Pt(Z===void 0?R.length-1:Z,0),function(){for(var Je=arguments,Sn=-1,Tn=Pt(Je.length-Z,0),ir=Array(Tn);++Sn<Tn;)ir[Sn]=Je[Z+Sn];Sn=-1;for(var on=Array(Z+1);++Sn<Z;)on[Sn]=Je[Sn];return on[Z]=ze(ir),zt(R,this,on)}}function Ra(R,Z){if(!(Z==="constructor"&&typeof R[Z]=="function")&&Z!="__proto__")return R[Z]}var La=Va(Qn);function Va(R){var Z=0,ze=0;return function(){var Je=Dn(),Sn=Ne-(Je-ze);if(ze=Je,Sn>0){if(++Z>=D)return arguments[0]}else Z=0;return R.apply(void 0,arguments)}}function fa(R){if(R!=null){try{return sn.call(R)}catch(Z){}try{return R+""}catch(Z){}}return""}function oo(R,Z){return R===Z||R!==R&&Z!==Z}var cs=dt(function(){return arguments}())?dt:function(R){return po(R)&&dn.call(R,"callee")&&!Zn.call(R,"callee")},Xs=Array.isArray;function Kr(R){return R!=null&&Ko(R.length)&&!Vr(R)}function na(R){return po(R)&&Kr(R)}var us=Ye||re;function Vr(R){if(!ts(R))return!1;var Z=vt(R);return Z==xe||Z==mt||Z==Ot||Z==gn}function Ko(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=qe}function ts(R){var Z=typeof R;return R!=null&&(Z=="object"||Z=="function")}function po(R){return R!=null&&typeof R=="object"}function P(R){if(!po(R)||vt(R)!=fn)return!1;var Z=rr(R);if(Z===null)return!0;var ze=dn.call(Z,"constructor")&&Z.constructor;return typeof ze=="function"&&ze instanceof ze&&sn.call(ze)==Tt}var V=Et?pt(Et):rn;function pe(R){return yi(R,Fe(R))}function Fe(R){return Kr(R)?ie(R,!0):zn(R)}var gt=Wr(function(R,Z,ze){Jn(R,Z,ze)});function ut(R){return function(){return R}}function z(R){return R}function re(){return!1}qt.exports=gt},44929:function(qt,je,G){"use strict";function S(W){return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},S(W)}Object.defineProperty(je,"__esModule",{value:!0}),Object.defineProperty(je,"DraggableCore",{enumerable:!0,get:function(){return he.default}}),je.default=void 0;var B=Lt(G(50959)),D=xe(G(40507)),Ne=xe(G(10422)),qe=xe(G(45924)),xt=G(3767),de=G(21476),Ot=G(89323),he=xe(G(67703)),Be=xe(G(21261)),at=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function xe(W){return W&&W.__esModule?W:{default:W}}function mt(W){if(typeof WeakMap!="function")return null;var se=new WeakMap,te=new WeakMap;return(mt=function(Le){return Le?te:se})(W)}function Lt(W,se){if(!se&&W&&W.__esModule)return W;if(W===null||S(W)!=="object"&&typeof W!="function")return{default:W};var te=mt(se);if(te&&te.has(W))return te.get(W);var ge={},Le=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var De in W)if(De!=="default"&&Object.prototype.hasOwnProperty.call(W,De)){var ye=Le?Object.getOwnPropertyDescriptor(W,De):null;ye&&(ye.get||ye.set)?Object.defineProperty(ge,De,ye):ge[De]=W[De]}return ge.default=W,te&&te.set(W,ge),ge}function ee(){return ee=Object.assign||function(W){for(var se=1;se<arguments.length;se++){var te=arguments[se];for(var ge in te)Object.prototype.hasOwnProperty.call(te,ge)&&(W[ge]=te[ge])}return W},ee.apply(this,arguments)}function Hn(W,se){if(W==null)return{};var te=fn(W,se),ge,Le;if(Object.getOwnPropertySymbols){var De=Object.getOwnPropertySymbols(W);for(Le=0;Le<De.length;Le++)ge=De[Le],!(se.indexOf(ge)>=0)&&Object.prototype.propertyIsEnumerable.call(W,ge)&&(te[ge]=W[ge])}return te}function fn(W,se){if(W==null)return{};var te={},ge=Object.keys(W),Le,De;for(De=0;De<ge.length;De++)Le=ge[De],!(se.indexOf(Le)>=0)&&(te[Le]=W[Le]);return te}function gn(W,se){var te=Object.keys(W);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(W);se&&(ge=ge.filter(function(Le){return Object.getOwnPropertyDescriptor(W,Le).enumerable})),te.push.apply(te,ge)}return te}function ot(W){for(var se=1;se<arguments.length;se++){var te=arguments[se]!=null?arguments[se]:{};se%2?gn(Object(te),!0).forEach(function(ge){K(W,ge,te[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(te)):gn(Object(te)).forEach(function(ge){Object.defineProperty(W,ge,Object.getOwnPropertyDescriptor(te,ge))})}return W}function At(W,se){return Wt(W)||ln(W,se)||Kt(W,se)||vn()}function vn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kt(W,se){if(W){if(typeof W=="string")return Cn(W,se);var te=Object.prototype.toString.call(W).slice(8,-1);if(te==="Object"&&W.constructor&&(te=W.constructor.name),te==="Map"||te==="Set")return Array.from(W);if(te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return Cn(W,se)}}function Cn(W,se){(se==null||se>W.length)&&(se=W.length);for(var te=0,ge=new Array(se);te<se;te++)ge[te]=W[te];return ge}function ln(W,se){var te=W==null?null:typeof Symbol!="undefined"&&W[Symbol.iterator]||W["@@iterator"];if(te!=null){var ge=[],Le=!0,De=!1,ye,ke;try{for(te=te.call(W);!(Le=(ye=te.next()).done)&&(ge.push(ye.value),!(se&&ge.length===se));Le=!0);}catch(Te){De=!0,ke=Te}finally{try{!Le&&te.return!=null&&te.return()}finally{if(De)throw ke}}return ge}}function Wt(W){if(Array.isArray(W))return W}function An(W,se){if(!(W instanceof se))throw new TypeError("Cannot call a class as a function")}function Yt(W,se){for(var te=0;te<se.length;te++){var ge=se[te];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(W,ge.key,ge)}}function Me(W,se,te){return se&&Yt(W.prototype,se),te&&Yt(W,te),Object.defineProperty(W,"prototype",{writable:!1}),W}function Ke(W,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(se&&se.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),Object.defineProperty(W,"prototype",{writable:!1}),se&&ae(W,se)}function ae(W,se){return ae=Object.setPrototypeOf||function(ge,Le){return ge.__proto__=Le,ge},ae(W,se)}function nt(W){var se=Ce();return function(){var ge=F(W),Le;if(se){var De=F(this).constructor;Le=Reflect.construct(ge,arguments,De)}else Le=ge.apply(this,arguments);return Ae(this,Le)}}function Ae(W,se){if(se&&(S(se)==="object"||typeof se=="function"))return se;if(se!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oe(W)}function Oe(W){if(W===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}function Ce(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(W){return!1}}function F(W){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(te){return te.__proto__||Object.getPrototypeOf(te)},F(W)}function K(W,se,te){return se in W?Object.defineProperty(W,se,{value:te,enumerable:!0,configurable:!0,writable:!0}):W[se]=te,W}var me=function(W){Ke(te,W);var se=nt(te);function te(ge){var Le;return An(this,te),Le=se.call(this,ge),K(Oe(Le),"onDragStart",function(De,ye){(0,Be.default)("Draggable: onDragStart: %j",ye);var ke=Le.props.onStart(De,(0,de.createDraggableData)(Oe(Le),ye));if(ke===!1)return!1;Le.setState({dragging:!0,dragged:!0})}),K(Oe(Le),"onDrag",function(De,ye){if(!Le.state.dragging)return!1;(0,Be.default)("Draggable: onDrag: %j",ye);var ke=(0,de.createDraggableData)(Oe(Le),ye),Te={x:ke.x,y:ke.y};if(Le.props.bounds){var Et=Te.x,zt=Te.y;Te.x+=Le.state.slackX,Te.y+=Le.state.slackY;var _t=(0,de.getBoundPosition)(Oe(Le),Te.x,Te.y),pt=At(_t,2),Ue=pt[0],yt=pt[1];Te.x=Ue,Te.y=yt,Te.slackX=Le.state.slackX+(Et-Te.x),Te.slackY=Le.state.slackY+(zt-Te.y),ke.x=Te.x,ke.y=Te.y,ke.deltaX=Te.x-Le.state.x,ke.deltaY=Te.y-Le.state.y}var Vt=Le.props.onDrag(De,ke);if(Vt===!1)return!1;Le.setState(Te)}),K(Oe(Le),"onDragStop",function(De,ye){if(!Le.state.dragging)return!1;var ke=Le.props.onStop(De,(0,de.createDraggableData)(Oe(Le),ye));if(ke===!1)return!1;(0,Be.default)("Draggable: onDragStop: %j",ye);var Te={dragging:!1,slackX:0,slackY:0},Et=Boolean(Le.props.position);if(Et){var zt=Le.props.position,_t=zt.x,pt=zt.y;Te.x=_t,Te.y=pt}Le.setState(Te)}),Le.state={dragging:!1,dragged:!1,x:ge.position?ge.position.x:ge.defaultPosition.x,y:ge.position?ge.position.y:ge.defaultPosition.y,prevPropsPosition:ot({},ge.position),slackX:0,slackY:0,isElementSVG:!1},ge.position&&!(ge.onDrag||ge.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),Le}return Me(te,[{key:"componentDidMount",value:function(){typeof window.SVGElement!="undefined"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var Le,De,ye;return(Le=(De=this.props)===null||De===void 0||(ye=De.nodeRef)===null||ye===void 0?void 0:ye.current)!==null&&Le!==void 0?Le:Ne.default.findDOMNode(this)}},{key:"render",value:function(){var Le,De=this.props,ye=De.axis,ke=De.bounds,Te=De.children,Et=De.defaultPosition,zt=De.defaultClassName,_t=De.defaultClassNameDragging,pt=De.defaultClassNameDragged,Ue=De.position,yt=De.positionOffset,Vt=De.scale,Rn=Hn(De,at),Qt={},In=null,sn=Boolean(Ue),dn=!sn||this.state.dragging,Cr=Ue||Et,oi={x:(0,de.canDragX)(this)&&dn?this.state.x:Cr.x,y:(0,de.canDragY)(this)&&dn?this.state.y:Cr.y};this.state.isElementSVG?In=(0,xt.createSVGTransform)(oi,yt):Qt=(0,xt.createCSSTransform)(oi,yt);var Tt=(0,qe.default)(Te.props.className||"",zt,(Le={},K(Le,_t,this.state.dragging),K(Le,pt,this.state.dragged),Le));return B.createElement(he.default,ee({},Rn,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),B.cloneElement(B.Children.only(Te),{className:Tt,style:ot(ot({},Te.props.style),Qt),transform:In}))}}],[{key:"getDerivedStateFromProps",value:function(Le,De){var ye=Le.position,ke=De.prevPropsPosition;return ye&&(!ke||ye.x!==ke.x||ye.y!==ke.y)?((0,Be.default)("Draggable: getDerivedStateFromProps %j",{position:ye,prevPropsPosition:ke}),{x:ye.x,y:ye.y,prevPropsPosition:ot({},ye)}):null}}]),te}(B.Component);je.default=me,K(me,"displayName","Draggable"),K(me,"propTypes",ot(ot({},he.default.propTypes),{},{axis:D.default.oneOf(["both","x","y","none"]),bounds:D.default.oneOfType([D.default.shape({left:D.default.number,right:D.default.number,top:D.default.number,bottom:D.default.number}),D.default.string,D.default.oneOf([!1])]),defaultClassName:D.default.string,defaultClassNameDragging:D.default.string,defaultClassNameDragged:D.default.string,defaultPosition:D.default.shape({x:D.default.number,y:D.default.number}),positionOffset:D.default.shape({x:D.default.oneOfType([D.default.number,D.default.string]),y:D.default.oneOfType([D.default.number,D.default.string])}),position:D.default.shape({x:D.default.number,y:D.default.number}),className:Ot.dontSetMe,style:Ot.dontSetMe,transform:Ot.dontSetMe})),K(me,"defaultProps",ot(ot({},he.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},67703:function(qt,je,G){"use strict";function S(Ae){return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Oe){return typeof Oe}:function(Oe){return Oe&&typeof Symbol=="function"&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe},S(Ae)}Object.defineProperty(je,"__esModule",{value:!0}),je.default=void 0;var B=at(G(50959)),D=he(G(40507)),Ne=he(G(10422)),qe=G(3767),xt=G(21476),de=G(89323),Ot=he(G(21261));function he(Ae){return Ae&&Ae.__esModule?Ae:{default:Ae}}function Be(Ae){if(typeof WeakMap!="function")return null;var Oe=new WeakMap,Ce=new WeakMap;return(Be=function(K){return K?Ce:Oe})(Ae)}function at(Ae,Oe){if(!Oe&&Ae&&Ae.__esModule)return Ae;if(Ae===null||S(Ae)!=="object"&&typeof Ae!="function")return{default:Ae};var Ce=Be(Oe);if(Ce&&Ce.has(Ae))return Ce.get(Ae);var F={},K=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var me in Ae)if(me!=="default"&&Object.prototype.hasOwnProperty.call(Ae,me)){var W=K?Object.getOwnPropertyDescriptor(Ae,me):null;W&&(W.get||W.set)?Object.defineProperty(F,me,W):F[me]=Ae[me]}return F.default=Ae,Ce&&Ce.set(Ae,F),F}function xe(Ae,Oe){return fn(Ae)||Hn(Ae,Oe)||Lt(Ae,Oe)||mt()}function mt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lt(Ae,Oe){if(Ae){if(typeof Ae=="string")return ee(Ae,Oe);var Ce=Object.prototype.toString.call(Ae).slice(8,-1);if(Ce==="Object"&&Ae.constructor&&(Ce=Ae.constructor.name),Ce==="Map"||Ce==="Set")return Array.from(Ae);if(Ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ce))return ee(Ae,Oe)}}function ee(Ae,Oe){(Oe==null||Oe>Ae.length)&&(Oe=Ae.length);for(var Ce=0,F=new Array(Oe);Ce<Oe;Ce++)F[Ce]=Ae[Ce];return F}function Hn(Ae,Oe){var Ce=Ae==null?null:typeof Symbol!="undefined"&&Ae[Symbol.iterator]||Ae["@@iterator"];if(Ce!=null){var F=[],K=!0,me=!1,W,se;try{for(Ce=Ce.call(Ae);!(K=(W=Ce.next()).done)&&(F.push(W.value),!(Oe&&F.length===Oe));K=!0);}catch(te){me=!0,se=te}finally{try{!K&&Ce.return!=null&&Ce.return()}finally{if(me)throw se}}return F}}function fn(Ae){if(Array.isArray(Ae))return Ae}function gn(Ae,Oe){if(!(Ae instanceof Oe))throw new TypeError("Cannot call a class as a function")}function ot(Ae,Oe){for(var Ce=0;Ce<Oe.length;Ce++){var F=Oe[Ce];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(Ae,F.key,F)}}function At(Ae,Oe,Ce){return Oe&&ot(Ae.prototype,Oe),Ce&&ot(Ae,Ce),Object.defineProperty(Ae,"prototype",{writable:!1}),Ae}function vn(Ae,Oe){if(typeof Oe!="function"&&Oe!==null)throw new TypeError("Super expression must either be null or a function");Ae.prototype=Object.create(Oe&&Oe.prototype,{constructor:{value:Ae,writable:!0,configurable:!0}}),Object.defineProperty(Ae,"prototype",{writable:!1}),Oe&&Kt(Ae,Oe)}function Kt(Ae,Oe){return Kt=Object.setPrototypeOf||function(F,K){return F.__proto__=K,F},Kt(Ae,Oe)}function Cn(Ae){var Oe=An();return function(){var F=Yt(Ae),K;if(Oe){var me=Yt(this).constructor;K=Reflect.construct(F,arguments,me)}else K=F.apply(this,arguments);return ln(this,K)}}function ln(Ae,Oe){if(Oe&&(S(Oe)==="object"||typeof Oe=="function"))return Oe;if(Oe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wt(Ae)}function Wt(Ae){if(Ae===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ae}function An(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ae){return!1}}function Yt(Ae){return Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(Ce){return Ce.__proto__||Object.getPrototypeOf(Ce)},Yt(Ae)}function Me(Ae,Oe,Ce){return Oe in Ae?Object.defineProperty(Ae,Oe,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ae[Oe]=Ce,Ae}var Ke={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ae=Ke.mouse,nt=function(Ae){vn(Ce,Ae);var Oe=Cn(Ce);function Ce(){var F;gn(this,Ce);for(var K=arguments.length,me=new Array(K),W=0;W<K;W++)me[W]=arguments[W];return F=Oe.call.apply(Oe,[this].concat(me)),Me(Wt(F),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),Me(Wt(F),"mounted",!1),Me(Wt(F),"handleDragStart",function(se){if(F.props.onMouseDown(se),!F.props.allowAnyClick&&typeof se.button=="number"&&se.button!==0)return!1;var te=F.findDOMNode();if(!te||!te.ownerDocument||!te.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var ge=te.ownerDocument;if(!(F.props.disabled||!(se.target instanceof ge.defaultView.Node)||F.props.handle&&!(0,qe.matchesSelectorAndParentsTo)(se.target,F.props.handle,te)||F.props.cancel&&(0,qe.matchesSelectorAndParentsTo)(se.target,F.props.cancel,te))){se.type==="touchstart"&&se.preventDefault();var Le=(0,qe.getTouchIdentifier)(se);F.setState({touchIdentifier:Le});var De=(0,xt.getControlPosition)(se,Le,Wt(F));if(De!=null){var ye=De.x,ke=De.y,Te=(0,xt.createCoreData)(Wt(F),ye,ke);(0,Ot.default)("DraggableCore: handleDragStart: %j",Te),(0,Ot.default)("calling",F.props.onStart);var Et=F.props.onStart(se,Te);Et===!1||F.mounted===!1||(F.props.enableUserSelectHack&&(0,qe.addUserSelectStyles)(ge),F.setState({dragging:!0,lastX:ye,lastY:ke}),(0,qe.addEvent)(ge,ae.move,F.handleDrag),(0,qe.addEvent)(ge,ae.stop,F.handleDragStop))}}}),Me(Wt(F),"handleDrag",function(se){var te=(0,xt.getControlPosition)(se,F.state.touchIdentifier,Wt(F));if(te!=null){var ge=te.x,Le=te.y;if(Array.isArray(F.props.grid)){var De=ge-F.state.lastX,ye=Le-F.state.lastY,ke=(0,xt.snapToGrid)(F.props.grid,De,ye),Te=xe(ke,2);if(De=Te[0],ye=Te[1],!De&&!ye)return;ge=F.state.lastX+De,Le=F.state.lastY+ye}var Et=(0,xt.createCoreData)(Wt(F),ge,Le);(0,Ot.default)("DraggableCore: handleDrag: %j",Et);var zt=F.props.onDrag(se,Et);if(zt===!1||F.mounted===!1){try{F.handleDragStop(new MouseEvent("mouseup"))}catch(pt){var _t=document.createEvent("MouseEvents");_t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),F.handleDragStop(_t)}return}F.setState({lastX:ge,lastY:Le})}}),Me(Wt(F),"handleDragStop",function(se){if(F.state.dragging){var te=(0,xt.getControlPosition)(se,F.state.touchIdentifier,Wt(F));if(te!=null){var ge=te.x,Le=te.y;if(Array.isArray(F.props.grid)){var De=ge-F.state.lastX||0,ye=Le-F.state.lastY||0,ke=(0,xt.snapToGrid)(F.props.grid,De,ye),Te=xe(ke,2);De=Te[0],ye=Te[1],ge=F.state.lastX+De,Le=F.state.lastY+ye}var Et=(0,xt.createCoreData)(Wt(F),ge,Le),zt=F.props.onStop(se,Et);if(zt===!1||F.mounted===!1)return!1;var _t=F.findDOMNode();_t&&F.props.enableUserSelectHack&&(0,qe.removeUserSelectStyles)(_t.ownerDocument),(0,Ot.default)("DraggableCore: handleDragStop: %j",Et),F.setState({dragging:!1,lastX:NaN,lastY:NaN}),_t&&((0,Ot.default)("DraggableCore: Removing handlers"),(0,qe.removeEvent)(_t.ownerDocument,ae.move,F.handleDrag),(0,qe.removeEvent)(_t.ownerDocument,ae.stop,F.handleDragStop))}}}),Me(Wt(F),"onMouseDown",function(se){return ae=Ke.mouse,F.handleDragStart(se)}),Me(Wt(F),"onMouseUp",function(se){return ae=Ke.mouse,F.handleDragStop(se)}),Me(Wt(F),"onTouchStart",function(se){return ae=Ke.touch,F.handleDragStart(se)}),Me(Wt(F),"onTouchEnd",function(se){return ae=Ke.touch,F.handleDragStop(se)}),F}return At(Ce,[{key:"componentDidMount",value:function(){this.mounted=!0;var K=this.findDOMNode();K&&(0,qe.addEvent)(K,Ke.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var K=this.findDOMNode();if(K){var me=K.ownerDocument;(0,qe.removeEvent)(me,Ke.mouse.move,this.handleDrag),(0,qe.removeEvent)(me,Ke.touch.move,this.handleDrag),(0,qe.removeEvent)(me,Ke.mouse.stop,this.handleDragStop),(0,qe.removeEvent)(me,Ke.touch.stop,this.handleDragStop),(0,qe.removeEvent)(K,Ke.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,qe.removeUserSelectStyles)(me)}}},{key:"findDOMNode",value:function(){var K,me,W;return(K=this.props)!==null&&K!==void 0&&K.nodeRef?(me=this.props)===null||me===void 0||(W=me.nodeRef)===null||W===void 0?void 0:W.current:Ne.default.findDOMNode(this)}},{key:"render",value:function(){return B.cloneElement(B.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),Ce}(B.Component);je.default=nt,Me(nt,"displayName","DraggableCore"),Me(nt,"propTypes",{allowAnyClick:D.default.bool,disabled:D.default.bool,enableUserSelectHack:D.default.bool,offsetParent:function(Oe,Ce){if(Oe[Ce]&&Oe[Ce].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:D.default.arrayOf(D.default.number),handle:D.default.string,cancel:D.default.string,nodeRef:D.default.object,onStart:D.default.func,onDrag:D.default.func,onStop:D.default.func,onMouseDown:D.default.func,scale:D.default.number,className:de.dontSetMe,style:de.dontSetMe,transform:de.dontSetMe}),Me(nt,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},74901:function(qt,je,G){"use strict";var S=G(44929),B=S.default,D=S.DraggableCore;qt.exports=B,qt.exports.default=B,qt.exports.DraggableCore=D},3767:function(qt,je,G){"use strict";function S(Me){return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ke){return typeof Ke}:function(Ke){return Ke&&typeof Symbol=="function"&&Ke.constructor===Symbol&&Ke!==Symbol.prototype?"symbol":typeof Ke},S(Me)}Object.defineProperty(je,"__esModule",{value:!0}),je.addClassName=An,je.addEvent=xe,je.addUserSelectStyles=ln,je.createCSSTransform=ot,je.createSVGTransform=At,je.getTouch=Kt,je.getTouchIdentifier=Cn,je.getTranslation=vn,je.innerHeight=Hn,je.innerWidth=fn,je.matchesSelector=Be,je.matchesSelectorAndParentsTo=at,je.offsetXYFromParent=gn,je.outerHeight=Lt,je.outerWidth=ee,je.removeClassName=Yt,je.removeEvent=mt,je.removeUserSelectStyles=Wt;var B=G(89323),D=qe(G(14642));function Ne(Me){if(typeof WeakMap!="function")return null;var Ke=new WeakMap,ae=new WeakMap;return(Ne=function(Ae){return Ae?ae:Ke})(Me)}function qe(Me,Ke){if(!Ke&&Me&&Me.__esModule)return Me;if(Me===null||S(Me)!=="object"&&typeof Me!="function")return{default:Me};var ae=Ne(Ke);if(ae&&ae.has(Me))return ae.get(Me);var nt={},Ae=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Oe in Me)if(Oe!=="default"&&Object.prototype.hasOwnProperty.call(Me,Oe)){var Ce=Ae?Object.getOwnPropertyDescriptor(Me,Oe):null;Ce&&(Ce.get||Ce.set)?Object.defineProperty(nt,Oe,Ce):nt[Oe]=Me[Oe]}return nt.default=Me,ae&&ae.set(Me,nt),nt}function xt(Me,Ke){var ae=Object.keys(Me);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(Me);Ke&&(nt=nt.filter(function(Ae){return Object.getOwnPropertyDescriptor(Me,Ae).enumerable})),ae.push.apply(ae,nt)}return ae}function de(Me){for(var Ke=1;Ke<arguments.length;Ke++){var ae=arguments[Ke]!=null?arguments[Ke]:{};Ke%2?xt(Object(ae),!0).forEach(function(nt){Ot(Me,nt,ae[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(ae)):xt(Object(ae)).forEach(function(nt){Object.defineProperty(Me,nt,Object.getOwnPropertyDescriptor(ae,nt))})}return Me}function Ot(Me,Ke,ae){return Ke in Me?Object.defineProperty(Me,Ke,{value:ae,enumerable:!0,configurable:!0,writable:!0}):Me[Ke]=ae,Me}var he="";function Be(Me,Ke){return he||(he=(0,B.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(ae){return(0,B.isFunction)(Me[ae])})),(0,B.isFunction)(Me[he])?Me[he](Ke):!1}function at(Me,Ke,ae){var nt=Me;do{if(Be(nt,Ke))return!0;if(nt===ae)return!1;nt=nt.parentNode}while(nt);return!1}function xe(Me,Ke,ae,nt){if(Me){var Ae=de({capture:!0},nt);Me.addEventListener?Me.addEventListener(Ke,ae,Ae):Me.attachEvent?Me.attachEvent("on"+Ke,ae):Me["on"+Ke]=ae}}function mt(Me,Ke,ae,nt){if(Me){var Ae=de({capture:!0},nt);Me.removeEventListener?Me.removeEventListener(Ke,ae,Ae):Me.detachEvent?Me.detachEvent("on"+Ke,ae):Me["on"+Ke]=null}}function Lt(Me){var Ke=Me.clientHeight,ae=Me.ownerDocument.defaultView.getComputedStyle(Me);return Ke+=(0,B.int)(ae.borderTopWidth),Ke+=(0,B.int)(ae.borderBottomWidth),Ke}function ee(Me){var Ke=Me.clientWidth,ae=Me.ownerDocument.defaultView.getComputedStyle(Me);return Ke+=(0,B.int)(ae.borderLeftWidth),Ke+=(0,B.int)(ae.borderRightWidth),Ke}function Hn(Me){var Ke=Me.clientHeight,ae=Me.ownerDocument.defaultView.getComputedStyle(Me);return Ke-=(0,B.int)(ae.paddingTop),Ke-=(0,B.int)(ae.paddingBottom),Ke}function fn(Me){var Ke=Me.clientWidth,ae=Me.ownerDocument.defaultView.getComputedStyle(Me);return Ke-=(0,B.int)(ae.paddingLeft),Ke-=(0,B.int)(ae.paddingRight),Ke}function gn(Me,Ke,ae){var nt=Ke===Ke.ownerDocument.body,Ae=nt?{left:0,top:0}:Ke.getBoundingClientRect(),Oe=(Me.clientX+Ke.scrollLeft-Ae.left)/ae,Ce=(Me.clientY+Ke.scrollTop-Ae.top)/ae;return{x:Oe,y:Ce}}function ot(Me,Ke){var ae=vn(Me,Ke,"px");return Ot({},(0,D.browserPrefixToKey)("transform",D.default),ae)}function At(Me,Ke){var ae=vn(Me,Ke,"");return ae}function vn(Me,Ke,ae){var nt=Me.x,Ae=Me.y,Oe="translate(".concat(nt).concat(ae,",").concat(Ae).concat(ae,")");if(Ke){var Ce="".concat(typeof Ke.x=="string"?Ke.x:Ke.x+ae),F="".concat(typeof Ke.y=="string"?Ke.y:Ke.y+ae);Oe="translate(".concat(Ce,", ").concat(F,")")+Oe}return Oe}function Kt(Me,Ke){return Me.targetTouches&&(0,B.findInArray)(Me.targetTouches,function(ae){return Ke===ae.identifier})||Me.changedTouches&&(0,B.findInArray)(Me.changedTouches,function(ae){return Ke===ae.identifier})}function Cn(Me){if(Me.targetTouches&&Me.targetTouches[0])return Me.targetTouches[0].identifier;if(Me.changedTouches&&Me.changedTouches[0])return Me.changedTouches[0].identifier}function ln(Me){if(Me){var Ke=Me.getElementById("react-draggable-style-el");Ke||(Ke=Me.createElement("style"),Ke.type="text/css",Ke.id="react-draggable-style-el",Ke.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,Ke.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,Me.getElementsByTagName("head")[0].appendChild(Ke)),Me.body&&An(Me.body,"react-draggable-transparent-selection")}}function Wt(Me){if(Me)try{if(Me.body&&Yt(Me.body,"react-draggable-transparent-selection"),Me.selection)Me.selection.empty();else{var Ke=(Me.defaultView||window).getSelection();Ke&&Ke.type!=="Caret"&&Ke.removeAllRanges()}}catch(ae){}}function An(Me,Ke){Me.classList?Me.classList.add(Ke):Me.className.match(new RegExp("(?:^|\\s)".concat(Ke,"(?!\\S)")))||(Me.className+=" ".concat(Ke))}function Yt(Me,Ke){Me.classList?Me.classList.remove(Ke):Me.className=Me.className.replace(new RegExp("(?:^|\\s)".concat(Ke,"(?!\\S)"),"g"),"")}},14642:function(qt,je){"use strict";Object.defineProperty(je,"__esModule",{value:!0}),je.browserPrefixToKey=B,je.browserPrefixToStyle=D,je.default=void 0,je.getPrefix=S;var G=["Moz","Webkit","O","ms"];function S(){var xt,de,Ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window=="undefined")return"";var he=(xt=window.document)===null||xt===void 0||(de=xt.documentElement)===null||de===void 0?void 0:de.style;if(!he||Ot in he)return"";for(var Be=0;Be<G.length;Be++)if(B(Ot,G[Be])in he)return G[Be];return""}function B(xt,de){return de?"".concat(de).concat(Ne(xt)):xt}function D(xt,de){return de?"-".concat(de.toLowerCase(),"-").concat(xt):xt}function Ne(xt){for(var de="",Ot=!0,he=0;he<xt.length;he++)Ot?(de+=xt[he].toUpperCase(),Ot=!1):xt[he]==="-"?Ot=!0:de+=xt[he];return de}var qe=S();je.default=qe},21261:function(qt,je){"use strict";Object.defineProperty(je,"__esModule",{value:!0}),je.default=G;function G(){var S}},21476:function(qt,je,G){"use strict";Object.defineProperty(je,"__esModule",{value:!0}),je.canDragX=qe,je.canDragY=xt,je.createCoreData=Ot,je.createDraggableData=he,je.getBoundPosition=D,je.getControlPosition=de,je.snapToGrid=Ne;var S=G(89323),B=G(3767);function D(xe,mt,Lt){if(!xe.props.bounds)return[mt,Lt];var ee=xe.props.bounds;ee=typeof ee=="string"?ee:Be(ee);var Hn=at(xe);if(typeof ee=="string"){var fn=Hn.ownerDocument,gn=fn.defaultView,ot;if(ee==="parent"?ot=Hn.parentNode:ot=fn.querySelector(ee),!(ot instanceof gn.HTMLElement))throw new Error('Bounds selector "'+ee+'" could not find an element.');var At=ot,vn=gn.getComputedStyle(Hn),Kt=gn.getComputedStyle(At);ee={left:-Hn.offsetLeft+(0,S.int)(Kt.paddingLeft)+(0,S.int)(vn.marginLeft),top:-Hn.offsetTop+(0,S.int)(Kt.paddingTop)+(0,S.int)(vn.marginTop),right:(0,B.innerWidth)(At)-(0,B.outerWidth)(Hn)-Hn.offsetLeft+(0,S.int)(Kt.paddingRight)-(0,S.int)(vn.marginRight),bottom:(0,B.innerHeight)(At)-(0,B.outerHeight)(Hn)-Hn.offsetTop+(0,S.int)(Kt.paddingBottom)-(0,S.int)(vn.marginBottom)}}return(0,S.isNum)(ee.right)&&(mt=Math.min(mt,ee.right)),(0,S.isNum)(ee.bottom)&&(Lt=Math.min(Lt,ee.bottom)),(0,S.isNum)(ee.left)&&(mt=Math.max(mt,ee.left)),(0,S.isNum)(ee.top)&&(Lt=Math.max(Lt,ee.top)),[mt,Lt]}function Ne(xe,mt,Lt){var ee=Math.round(mt/xe[0])*xe[0],Hn=Math.round(Lt/xe[1])*xe[1];return[ee,Hn]}function qe(xe){return xe.props.axis==="both"||xe.props.axis==="x"}function xt(xe){return xe.props.axis==="both"||xe.props.axis==="y"}function de(xe,mt,Lt){var ee=typeof mt=="number"?(0,B.getTouch)(xe,mt):null;if(typeof mt=="number"&&!ee)return null;var Hn=at(Lt),fn=Lt.props.offsetParent||Hn.offsetParent||Hn.ownerDocument.body;return(0,B.offsetXYFromParent)(ee||xe,fn,Lt.props.scale)}function Ot(xe,mt,Lt){var ee=xe.state,Hn=!(0,S.isNum)(ee.lastX),fn=at(xe);return Hn?{node:fn,deltaX:0,deltaY:0,lastX:mt,lastY:Lt,x:mt,y:Lt}:{node:fn,deltaX:mt-ee.lastX,deltaY:Lt-ee.lastY,lastX:ee.lastX,lastY:ee.lastY,x:mt,y:Lt}}function he(xe,mt){var Lt=xe.props.scale;return{node:mt.node,x:xe.state.x+mt.deltaX/Lt,y:xe.state.y+mt.deltaY/Lt,deltaX:mt.deltaX/Lt,deltaY:mt.deltaY/Lt,lastX:xe.state.x,lastY:xe.state.y}}function Be(xe){return{left:xe.left,top:xe.top,right:xe.right,bottom:xe.bottom}}function at(xe){var mt=xe.findDOMNode();if(!mt)throw new Error("<DraggableCore>: Unmounted during event!");return mt}},89323:function(qt,je){"use strict";Object.defineProperty(je,"__esModule",{value:!0}),je.dontSetMe=Ne,je.findInArray=G,je.int=D,je.isFunction=S,je.isNum=B;function G(qe,xt){for(var de=0,Ot=qe.length;de<Ot;de++)if(xt.apply(xt,[qe[de],de,qe]))return qe[de]}function S(qe){return typeof qe=="function"||Object.prototype.toString.call(qe)==="[object Function]"}function B(qe){return typeof qe=="number"&&!isNaN(qe)}function D(qe){return parseInt(qe,10)}function Ne(qe,xt,de){if(qe[xt])return new Error("Invalid prop ".concat(xt," passed to ").concat(de," - do not set this, set it on the child."))}},23406:function(qt,je){"use strict";var G;je.ConcurrentRoot=1,je.ContinuousEventPriority=4,je.DefaultEventPriority=16,je.DiscreteEventPriority=1,G=536870912,G=0},45658:function(qt,je,G){qt.exports=function(B){var D={},Ne=G(50959),qe=G(65297),xt=Object.assign;function de(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ot=Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,he=Symbol.for("react.element"),Be=Symbol.for("react.portal"),at=Symbol.for("react.fragment"),xe=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),Lt=Symbol.for("react.provider"),ee=Symbol.for("react.context"),Hn=Symbol.for("react.forward_ref"),fn=Symbol.for("react.suspense"),gn=Symbol.for("react.suspense_list"),ot=Symbol.for("react.memo"),At=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var vn=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Kt=Symbol.iterator;function Cn(i){return i===null||typeof i!="object"?null:(i=Kt&&i[Kt]||i["@@iterator"],typeof i=="function"?i:null)}function ln(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case at:return"Fragment";case Be:return"Portal";case mt:return"Profiler";case xe:return"StrictMode";case fn:return"Suspense";case gn:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ee:return(i.displayName||"Context")+".Consumer";case Lt:return(i._context.displayName||"Context")+".Provider";case Hn:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ot:return s=i.displayName||null,s!==null?s:ln(i.type)||"Memo";case At:s=i._payload,i=i._init;try{return ln(i(s))}catch(u){}}return null}function Wt(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ln(s);case 8:return s===xe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function An(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function Yt(i){if(An(i)!==i)throw Error(de(188))}function Me(i){var s=i.alternate;if(!s){if(s=An(i),s===null)throw Error(de(188));return s!==i?null:i}for(var u=i,p=s;;){var _=u.return;if(_===null)break;var L=_.alternate;if(L===null){if(p=_.return,p!==null){u=p;continue}break}if(_.child===L.child){for(L=_.child;L;){if(L===u)return Yt(_),i;if(L===p)return Yt(_),s;L=L.sibling}throw Error(de(188))}if(u.return!==p.return)u=_,p=L;else{for(var Se=!1,rt=_.child;rt;){if(rt===u){Se=!0,u=_,p=L;break}if(rt===p){Se=!0,p=_,u=L;break}rt=rt.sibling}if(!Se){for(rt=L.child;rt;){if(rt===u){Se=!0,u=L,p=_;break}if(rt===p){Se=!0,p=L,u=_;break}rt=rt.sibling}if(!Se)throw Error(de(189))}}if(u.alternate!==p)throw Error(de(190))}if(u.tag!==3)throw Error(de(188));return u.stateNode.current===u?i:s}function Ke(i){return i=Me(i),i!==null?ae(i):null}function ae(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=ae(i);if(s!==null)return s;i=i.sibling}return null}function nt(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){if(i.tag!==4){var s=nt(i);if(s!==null)return s}i=i.sibling}return null}var Ae=Array.isArray,Oe=B.getPublicInstance,Ce=B.getRootHostContext,F=B.getChildHostContext,K=B.prepareForCommit,me=B.resetAfterCommit,W=B.createInstance,se=B.appendInitialChild,te=B.finalizeInitialChildren,ge=B.prepareUpdate,Le=B.shouldSetTextContent,De=B.createTextInstance,ye=B.scheduleTimeout,ke=B.cancelTimeout,Te=B.noTimeout,Et=B.isPrimaryRenderer,zt=B.supportsMutation,_t=B.supportsPersistence,pt=B.supportsHydration,Ue=B.getInstanceFromNode,yt=B.preparePortalMount,Vt=B.getCurrentEventPriority,Rn=B.detachDeletedInstance,Qt=B.supportsMicrotasks,In=B.scheduleMicrotask,sn=B.supportsTestSelectors,dn=B.findFiberRoot,Cr=B.getBoundingRect,oi=B.getTextContent,Tt=B.isHiddenSubtree,jt=B.matchAccessibilityRole,_n=B.setFocusIfFocusable,en=B.setupIntersectionObserver,Mn=B.appendChild,ur=B.appendChildToContainer,rr=B.commitTextUpdate,jr=B.commitMount,Zn=B.commitUpdate,ve=B.insertBefore,Xe=B.insertInContainerBefore,$e=B.removeChild,Ye=B.removeChildFromContainer,Pt=B.resetTextContent,Dn=B.hideInstance,bn=B.hideTextInstance,Nt=B.unhideInstance,$t=B.unhideTextInstance,lt=B.clearContainer,oe=B.cloneInstance,Ge=B.createContainerChildSet,Rt=B.appendChildToContainerChildSet,an=B.finalizeContainerChildren,jn=B.replaceContainerChildren,pr=B.cloneHiddenInstance,Lr=B.cloneHiddenTextInstance,xi=B.canHydrateInstance,Qr=B.canHydrateTextInstance,ei=B.canHydrateSuspenseInstance,ti=B.isSuspenseInstancePending,Yi=B.isSuspenseInstanceFallback,b=B.registerSuspenseInstanceRetry,H=B.getNextHydratableSibling,E=B.getFirstHydratableChild,T=B.getFirstHydratableChildWithinContainer,Q=B.getFirstHydratableChildWithinSuspenseInstance,le=B.hydrateInstance,We=B.hydrateTextInstance,st=B.hydrateSuspenseInstance,Qe=B.getNextHydratableInstanceAfterSuspenseInstance,be=B.commitHydratedContainer,Y=B.commitHydratedSuspenseInstance,ie=B.clearSuspenseBoundary,Ie=B.clearSuspenseBoundaryFromContainer,Ze=B.shouldDeleteUnhydratedTailInstances,tt=B.didNotMatchHydratedContainerTextInstance,Zt=B.didNotMatchHydratedTextInstance,Ft;function vt(i){if(Ft===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Ft=s&&s[1]||""}return`
`+Ft+i}var dt=!1;function Ct(i,s){if(!i||dt)return"";dt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Fn){var p=Fn}Reflect.construct(i,[],s)}else{try{s.call()}catch(Fn){p=Fn}i.call(s.prototype)}else{try{throw Error()}catch(Fn){p=Fn}i()}}catch(Fn){if(Fn&&p&&typeof Fn.stack=="string"){for(var _=Fn.stack.split(`
`),L=p.stack.split(`
`),Se=_.length-1,rt=L.length-1;1<=Se&&0<=rt&&_[Se]!==L[rt];)rt--;for(;1<=Se&&0<=rt;Se--,rt--)if(_[Se]!==L[rt]){if(Se!==1||rt!==1)do if(Se--,rt--,0>rt||_[Se]!==L[rt]){var Ut=`
`+_[Se].replace(" at new "," at ");return i.displayName&&Ut.includes("<anonymous>")&&(Ut=Ut.replace("<anonymous>",i.displayName)),Ut}while(1<=Se&&0<=rt);break}}}finally{dt=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?vt(i):""}var rn=Object.prototype.hasOwnProperty,zn=[],Jn=-1;function qn(i){return{current:i}}function $n(i){0>Jn||(i.current=zn[Jn],zn[Jn]=null,Jn--)}function Qn(i,s){Jn++,zn[Jn]=i.current,i.current=s}var _r={},En=qn(_r),cr=qn(!1),Nr=_r;function yi(i,s){var u=i.type.contextTypes;if(!u)return _r;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var _={},L;for(L in u)_[L]=s[L];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=_),_}function Wr(i){return i=i.childContextTypes,i!=null}function ho(){$n(cr),$n(En)}function io(i,s,u){if(En.current!==_r)throw Error(de(168));Qn(En,s),Qn(cr,u)}function Ki(i,s,u){var p=i.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var _ in p)if(!(_ in s))throw Error(de(108,Wt(i)||"Unknown",_));return xt({},u,p)}function Di(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||_r,Nr=En.current,Qn(En,i),Qn(cr,cr.current),!0}function Co(i,s,u){var p=i.stateNode;if(!p)throw Error(de(169));u?(i=Ki(i,s,Nr),p.__reactInternalMemoizedMergedChildContext=i,$n(cr),$n(En),Qn(En,i)):$n(cr),Qn(cr,u)}var Fi=Math.clz32?Math.clz32:xo,Ti=Math.log,hi=Math.LN2;function xo(i){return i>>>=0,i===0?32:31-(Ti(i)/hi|0)|0}var Ai=64,Ss=4194304;function vs(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Fo(i,s){var u=i.pendingLanes;if(u===0)return 0;var p=0,_=i.suspendedLanes,L=i.pingedLanes,Se=u&268435455;if(Se!==0){var rt=Se&~_;rt!==0?p=vs(rt):(L&=Se,L!==0&&(p=vs(L)))}else Se=u&~_,Se!==0?p=vs(Se):L!==0&&(p=vs(L));if(p===0)return 0;if(s!==0&&s!==p&&!(s&_)&&(_=p&-p,L=s&-s,_>=L||_===16&&(L&4194240)!==0))return s;if(p&4&&(p|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=p;0<s;)u=31-Fi(s),_=1<<u,p|=i[u],s&=~_;return p}function Ra(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function La(i,s){for(var u=i.suspendedLanes,p=i.pingedLanes,_=i.expirationTimes,L=i.pendingLanes;0<L;){var Se=31-Fi(L),rt=1<<Se,Ut=_[Se];Ut===-1?(!(rt&u)||rt&p)&&(_[Se]=Ra(rt,s)):Ut<=s&&(i.expiredLanes|=rt),L&=~rt}}function Va(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function fa(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function oo(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Fi(s),i[s]=u}function cs(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<u;){var _=31-Fi(u),L=1<<_;s[_]=0,p[_]=-1,i[_]=-1,u&=~L}}function Xs(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var p=31-Fi(u),_=1<<p;_&s|i[p]&s&&(i[p]|=s),u&=~_}}var Kr=0;function na(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var us=qe.unstable_scheduleCallback,Vr=qe.unstable_cancelCallback,Ko=qe.unstable_shouldYield,ts=qe.unstable_requestPaint,po=qe.unstable_now,P=qe.unstable_ImmediatePriority,V=qe.unstable_UserBlockingPriority,pe=qe.unstable_NormalPriority,Fe=qe.unstable_IdlePriority,gt=null,ut=null;function z(i){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(gt,i,void 0,(i.current.flags&128)===128)}catch(s){}}function re(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var R=typeof Object.is=="function"?Object.is:re,Z=null,ze=!1,Je=!1;function Sn(i){Z===null?Z=[i]:Z.push(i)}function Tn(i){ze=!0,Sn(i)}function ir(){if(!Je&&Z!==null){Je=!0;var i=0,s=Kr;try{var u=Z;for(Kr=1;i<u.length;i++){var p=u[i];do p=p(!0);while(p!==null)}Z=null,ze=!1}catch(_){throw Z!==null&&(Z=Z.slice(i+1)),us(P,ir),_}finally{Kr=s,Je=!1}}return null}var on=Ot.ReactCurrentBatchConfig;function or(i,s){if(R(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),p=Object.keys(s);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var _=u[p];if(!rn.call(s,_)||!R(i[_],s[_]))return!1}return!0}function br(i){switch(i.tag){case 5:return vt(i.type);case 16:return vt("Lazy");case 13:return vt("Suspense");case 19:return vt("SuspenseList");case 0:case 2:case 15:return i=Ct(i.type,!1),i;case 11:return i=Ct(i.type.render,!1),i;case 1:return i=Ct(i.type,!0),i;default:return""}}function gr(i,s){if(i&&i.defaultProps){s=xt({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}var Tr=qn(null),Pi=null,Gr=null,Si=null;function ai(){Si=Gr=Pi=null}function Oi(i,s,u){Et?(Qn(Tr,s._currentValue),s._currentValue=u):(Qn(Tr,s._currentValue2),s._currentValue2=u)}function Zi(i){var s=Tr.current;$n(Tr),Et?i._currentValue=s:i._currentValue2=s}function lo(i,s,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),i===u)break;i=i.return}}function Bi(i,s){Pi=i,Si=Gr=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(ar=!0),i.firstContext=null)}function Hi(i){var s=Et?i._currentValue:i._currentValue2;if(Si!==i)if(i={context:i,memoizedValue:s,next:null},Gr===null){if(Pi===null)throw Error(de(308));Gr=i,Pi.dependencies={lanes:0,firstContext:i}}else Gr=Gr.next=i;return s}var No=null,Ao=!1;function da(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fs(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ei(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Ys(i,s){var u=i.updateQueue;u!==null&&(u=u.shared,Mo!==null&&i.mode&1&&!(si&2)?(i=u.interleaved,i===null?(s.next=s,No===null?No=[u]:No.push(u)):(s.next=i.next,i.next=s),u.interleaved=s):(i=u.pending,i===null?s.next=s:(s.next=i.next,i.next=s),u.pending=s))}function ha(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var p=s.lanes;p&=i.pendingLanes,u|=p,s.lanes=u,Xs(i,u)}}function g1(i,s){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var _=null,L=null;if(u=u.firstBaseUpdate,u!==null){do{var Se={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};L===null?_=L=Se:L=L.next=Se,u=u.next}while(u!==null);L===null?_=L=s:L=L.next=s}else _=L=s;u={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:L,shared:p.shared,effects:p.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function pa(i,s,u,p){var _=i.updateQueue;Ao=!1;var L=_.firstBaseUpdate,Se=_.lastBaseUpdate,rt=_.shared.pending;if(rt!==null){_.shared.pending=null;var Ut=rt,Fn=Ut.next;Ut.next=null,Se===null?L=Fn:Se.next=Fn,Se=Ut;var fr=i.alternate;fr!==null&&(fr=fr.updateQueue,rt=fr.lastBaseUpdate,rt!==Se&&(rt===null?fr.firstBaseUpdate=Fn:rt.next=Fn,fr.lastBaseUpdate=Ut))}if(L!==null){var qr=_.baseState;Se=0,fr=Fn=Ut=null,rt=L;do{var Ur=rt.lane,Vi=rt.eventTime;if((p&Ur)===Ur){fr!==null&&(fr=fr.next={eventTime:Vi,lane:0,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null});e:{var kn=i,Ri=rt;switch(Ur=s,Vi=u,Ri.tag){case 1:if(kn=Ri.payload,typeof kn=="function"){qr=kn.call(Vi,qr,Ur);break e}qr=kn;break e;case 3:kn.flags=kn.flags&-65537|128;case 0:if(kn=Ri.payload,Ur=typeof kn=="function"?kn.call(Vi,qr,Ur):kn,Ur==null)break e;qr=xt({},qr,Ur);break e;case 2:Ao=!0}}rt.callback!==null&&rt.lane!==0&&(i.flags|=64,Ur=_.effects,Ur===null?_.effects=[rt]:Ur.push(rt))}else Vi={eventTime:Vi,lane:Ur,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null},fr===null?(Fn=fr=Vi,Ut=qr):fr=fr.next=Vi,Se|=Ur;if(rt=rt.next,rt===null){if(rt=_.shared.pending,rt===null)break;Ur=rt,rt=Ur.next,Ur.next=null,_.lastBaseUpdate=Ur,_.shared.pending=null}}while(1);if(fr===null&&(Ut=qr),_.baseState=Ut,_.firstBaseUpdate=Fn,_.lastBaseUpdate=fr,s=_.shared.interleaved,s!==null){_=s;do Se|=_.lane,_=_.next;while(_!==s)}else L===null&&(_.shared.lanes=0);pl|=Se,i.lanes=Se,i.memoizedState=qr}}function Ta(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var p=i[s],_=p.callback;if(_!==null){if(p.callback=null,p=u,typeof _!="function")throw Error(de(191,_));_.call(p)}}}var Fa=new Ne.Component().refs;function n1(i,s,u,p){s=i.memoizedState,u=u(p,s),u=u==null?s:xt({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var so={isMounted:function(i){return(i=i._reactInternals)?An(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var p=Ds(),_=t1(i),L=Ei(p,_);L.payload=s,u!=null&&(L.callback=u),Ys(i,L),s=ua(i,_,p),s!==null&&ha(s,i,_)},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var p=Ds(),_=t1(i),L=Ei(p,_);L.tag=1,L.payload=s,u!=null&&(L.callback=u),Ys(i,L),s=ua(i,_,p),s!==null&&ha(s,i,_)},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Ds(),p=t1(i),_=Ei(u,p);_.tag=2,s!=null&&(_.callback=s),Ys(i,_),s=ua(i,p,u),s!==null&&ha(s,i,p)}};function Ks(i,s,u,p,_,L,Se){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,L,Se):s.prototype&&s.prototype.isPureReactComponent?!or(u,p)||!or(_,L):!0}function G1(i,s,u){var p=!1,_=_r,L=s.contextType;return typeof L=="object"&&L!==null?L=Hi(L):(_=Wr(s)?Nr:En.current,p=s.contextTypes,L=(p=p!=null)?yi(i,_):_r),s=new s(u,L),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=so,i.stateNode=s,s._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=_,i.__reactInternalMemoizedMaskedChildContext=L),s}function X1(i,s,u,p){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,p),s.state!==i&&so.enqueueReplaceState(s,s.state,null)}function D1(i,s,u,p){var _=i.stateNode;_.props=u,_.state=i.memoizedState,_.refs=Fa,da(i);var L=s.contextType;typeof L=="object"&&L!==null?_.context=Hi(L):(L=Wr(s)?Nr:En.current,_.context=yi(i,L)),_.state=i.memoizedState,L=s.getDerivedStateFromProps,typeof L=="function"&&(n1(i,s,L,u),_.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(s=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),s!==_.state&&so.enqueueReplaceState(_,_.state,null),pa(i,u,_,p),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308)}var ns=[],ma=0,Vs=null,r1=0,ko=[],ds=0,yo=null,kr=1,ga="";function hn(i,s){ns[ma++]=r1,ns[ma++]=Vs,Vs=i,r1=s}function Jr(i,s,u){ko[ds++]=kr,ko[ds++]=ga,ko[ds++]=yo,yo=i;var p=kr;i=ga;var _=32-Fi(p)-1;p&=~(1<<_),u+=1;var L=32-Fi(s)+_;if(30<L){var Se=_-_%5;L=(p&(1<<Se)-1).toString(32),p>>=Se,_-=Se,kr=1<<32-Fi(s)+_|u<<_|p,ga=L+i}else kr=1<<L|u<<_|p,ga=i}function Es(i){i.return!==null&&(hn(i,1),Jr(i,1,0))}function ka(i){for(;i===Vs;)Vs=ns[--ma],ns[ma]=null,r1=ns[--ma],ns[ma]=null;for(;i===yo;)yo=ko[--ds],ko[ds]=null,ga=ko[--ds],ko[ds]=null,kr=ko[--ds],ko[ds]=null}var Rs=null,wi=null,Ji=!1,i1=!1,Do=null;function Ls(i,s){var u=Wn(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function Aa(i,s){switch(i.tag){case 5:return s=xi(s,i.type,i.pendingProps),s!==null?(i.stateNode=s,Rs=i,wi=E(s),!0):!1;case 6:return s=Qr(s,i.pendingProps),s!==null?(i.stateNode=s,Rs=i,wi=null,!0):!1;case 13:if(s=ei(s),s!==null){var u=yo!==null?{id:kr,overflow:ga}:null;return i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=Wn(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,Rs=i,wi=null,!0}return!1;default:return!1}}function v1(i){return(i.mode&1)!==0&&(i.flags&128)===0}function ra(i){if(Ji){var s=wi;if(s){var u=s;if(!Aa(i,s)){if(v1(i))throw Error(de(418));s=H(u);var p=Rs;s&&Aa(i,s)?Ls(p,u):(i.flags=i.flags&-4097|2,Ji=!1,Rs=i)}}else{if(v1(i))throw Error(de(418));i.flags=i.flags&-4097|2,Ji=!1,Rs=i}}}function bl(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Rs=i}function $a(i){if(!pt||i!==Rs)return!1;if(!Ji)return bl(i),Ji=!0,!1;if(i.tag!==3&&(i.tag!==5||Ze(i.type)&&!Le(i.type,i.memoizedProps))){var s=wi;if(s){if(v1(i)){for(i=wi;i;)i=H(i);throw Error(de(418))}for(;s;)Ls(i,s),s=H(s)}}if(bl(i),i.tag===13){if(!pt)throw Error(de(316));if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(de(317));wi=Qe(i)}else wi=Rs?H(i.stateNode):null;return!0}function o1(){pt&&(wi=Rs=null,i1=Ji=!1)}function Wa(i){Do===null?Do=[i]:Do.push(i)}function rs(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(de(309));var p=u.stateNode}if(!p)throw Error(de(147,i));var _=p,L=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===L?s.ref:(s=function(Se){var rt=_.refs;rt===Fa&&(rt=_.refs={}),Se===null?delete rt[L]:rt[L]=Se},s._stringRef=L,s)}if(typeof i!="string")throw Error(de(284));if(!u._owner)throw Error(de(290,i))}return i}function Js(i,s){throw i=Object.prototype.toString.call(s),Error(de(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Y1(i){var s=i._init;return s(i._payload)}function Pa(i){function s(wt,ft){if(i){var Ht=wt.deletions;Ht===null?(wt.deletions=[ft],wt.flags|=16):Ht.push(ft)}}function u(wt,ft){if(!i)return null;for(;ft!==null;)s(wt,ft),ft=ft.sibling;return null}function p(wt,ft){for(wt=new Map;ft!==null;)ft.key!==null?wt.set(ft.key,ft):wt.set(ft.index,ft),ft=ft.sibling;return wt}function _(wt,ft){return wt=Er(wt,ft),wt.index=0,wt.sibling=null,wt}function L(wt,ft,Ht){return wt.index=Ht,i?(Ht=wt.alternate,Ht!==null?(Ht=Ht.index,Ht<ft?(wt.flags|=2,ft):Ht):(wt.flags|=2,ft)):(wt.flags|=1048576,ft)}function Se(wt){return i&&wt.alternate===null&&(wt.flags|=2),wt}function rt(wt,ft,Ht,hr){return ft===null||ft.tag!==6?(ft=ji(Ht,wt.mode,hr),ft.return=wt,ft):(ft=_(ft,Ht),ft.return=wt,ft)}function Ut(wt,ft,Ht,hr){var Dr=Ht.type;return Dr===at?fr(wt,ft,Ht.props.children,hr,Ht.key):ft!==null&&(ft.elementType===Dr||typeof Dr=="object"&&Dr!==null&&Dr.$$typeof===At&&Y1(Dr)===ft.type)?(hr=_(ft,Ht.props),hr.ref=rs(wt,ft,Ht),hr.return=wt,hr):(hr=Ci(Ht.type,Ht.key,Ht.props,null,wt.mode,hr),hr.ref=rs(wt,ft,Ht),hr.return=wt,hr)}function Fn(wt,ft,Ht,hr){return ft===null||ft.tag!==4||ft.stateNode.containerInfo!==Ht.containerInfo||ft.stateNode.implementation!==Ht.implementation?(ft=Ui(Ht,wt.mode,hr),ft.return=wt,ft):(ft=_(ft,Ht.children||[]),ft.return=wt,ft)}function fr(wt,ft,Ht,hr,Dr){return ft===null||ft.tag!==7?(ft=Mr(Ht,wt.mode,hr,Dr),ft.return=wt,ft):(ft=_(ft,Ht),ft.return=wt,ft)}function qr(wt,ft,Ht){if(typeof ft=="string"&&ft!==""||typeof ft=="number")return ft=ji(""+ft,wt.mode,Ht),ft.return=wt,ft;if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case he:return Ht=Ci(ft.type,ft.key,ft.props,null,wt.mode,Ht),Ht.ref=rs(wt,null,ft),Ht.return=wt,Ht;case Be:return ft=Ui(ft,wt.mode,Ht),ft.return=wt,ft;case At:var hr=ft._init;return qr(wt,hr(ft._payload),Ht)}if(Ae(ft)||Cn(ft))return ft=Mr(ft,wt.mode,Ht,null),ft.return=wt,ft;Js(wt,ft)}return null}function Ur(wt,ft,Ht,hr){var Dr=ft!==null?ft.key:null;if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number")return Dr!==null?null:rt(wt,ft,""+Ht,hr);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case he:return Ht.key===Dr?Ut(wt,ft,Ht,hr):null;case Be:return Ht.key===Dr?Fn(wt,ft,Ht,hr):null;case At:return Dr=Ht._init,Ur(wt,ft,Dr(Ht._payload),hr)}if(Ae(Ht)||Cn(Ht))return Dr!==null?null:fr(wt,ft,Ht,hr,null);Js(wt,Ht)}return null}function Vi(wt,ft,Ht,hr,Dr){if(typeof hr=="string"&&hr!==""||typeof hr=="number")return wt=wt.get(Ht)||null,rt(ft,wt,""+hr,Dr);if(typeof hr=="object"&&hr!==null){switch(hr.$$typeof){case he:return wt=wt.get(hr.key===null?Ht:hr.key)||null,Ut(ft,wt,hr,Dr);case Be:return wt=wt.get(hr.key===null?Ht:hr.key)||null,Fn(ft,wt,hr,Dr);case At:var Li=hr._init;return Vi(wt,ft,Ht,Li(hr._payload),Dr)}if(Ae(hr)||Cn(hr))return wt=wt.get(Ht)||null,fr(ft,wt,hr,Dr,null);Js(ft,hr)}return null}function kn(wt,ft,Ht,hr){for(var Dr=null,Li=null,pi=ft,$i=ft=0,bo=null;pi!==null&&$i<Ht.length;$i++){pi.index>$i?(bo=pi,pi=null):bo=pi.sibling;var qi=Ur(wt,pi,Ht[$i],hr);if(qi===null){pi===null&&(pi=bo);break}i&&pi&&qi.alternate===null&&s(wt,pi),ft=L(qi,ft,$i),Li===null?Dr=qi:Li.sibling=qi,Li=qi,pi=bo}if($i===Ht.length)return u(wt,pi),Ji&&hn(wt,$i),Dr;if(pi===null){for(;$i<Ht.length;$i++)pi=qr(wt,Ht[$i],hr),pi!==null&&(ft=L(pi,ft,$i),Li===null?Dr=pi:Li.sibling=pi,Li=pi);return Ji&&hn(wt,$i),Dr}for(pi=p(wt,pi);$i<Ht.length;$i++)bo=Vi(pi,wt,$i,Ht[$i],hr),bo!==null&&(i&&bo.alternate!==null&&pi.delete(bo.key===null?$i:bo.key),ft=L(bo,ft,$i),Li===null?Dr=bo:Li.sibling=bo,Li=bo);return i&&pi.forEach(function(Sa){return s(wt,Sa)}),Ji&&hn(wt,$i),Dr}function Ri(wt,ft,Ht,hr){var Dr=Cn(Ht);if(typeof Dr!="function")throw Error(de(150));if(Ht=Dr.call(Ht),Ht==null)throw Error(de(151));for(var Li=Dr=null,pi=ft,$i=ft=0,bo=null,qi=Ht.next();pi!==null&&!qi.done;$i++,qi=Ht.next()){pi.index>$i?(bo=pi,pi=null):bo=pi.sibling;var Sa=Ur(wt,pi,qi.value,hr);if(Sa===null){pi===null&&(pi=bo);break}i&&pi&&Sa.alternate===null&&s(wt,pi),ft=L(Sa,ft,$i),Li===null?Dr=Sa:Li.sibling=Sa,Li=Sa,pi=bo}if(qi.done)return u(wt,pi),Ji&&hn(wt,$i),Dr;if(pi===null){for(;!qi.done;$i++,qi=Ht.next())qi=qr(wt,qi.value,hr),qi!==null&&(ft=L(qi,ft,$i),Li===null?Dr=qi:Li.sibling=qi,Li=qi);return Ji&&hn(wt,$i),Dr}for(pi=p(wt,pi);!qi.done;$i++,qi=Ht.next())qi=Vi(pi,wt,$i,qi.value,hr),qi!==null&&(i&&qi.alternate!==null&&pi.delete(qi.key===null?$i:qi.key),ft=L(qi,ft,$i),Li===null?Dr=qi:Li.sibling=qi,Li=qi);return i&&pi.forEach(function(Oc){return s(wt,Oc)}),Ji&&hn(wt,$i),Dr}function To(wt,ft,Ht,hr){if(typeof Ht=="object"&&Ht!==null&&Ht.type===at&&Ht.key===null&&(Ht=Ht.props.children),typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case he:e:{for(var Dr=Ht.key,Li=ft;Li!==null;){if(Li.key===Dr){if(Dr=Ht.type,Dr===at){if(Li.tag===7){u(wt,Li.sibling),ft=_(Li,Ht.props.children),ft.return=wt,wt=ft;break e}}else if(Li.elementType===Dr||typeof Dr=="object"&&Dr!==null&&Dr.$$typeof===At&&Y1(Dr)===Li.type){u(wt,Li.sibling),ft=_(Li,Ht.props),ft.ref=rs(wt,Li,Ht),ft.return=wt,wt=ft;break e}u(wt,Li);break}else s(wt,Li);Li=Li.sibling}Ht.type===at?(ft=Mr(Ht.props.children,wt.mode,hr,Ht.key),ft.return=wt,wt=ft):(hr=Ci(Ht.type,Ht.key,Ht.props,null,wt.mode,hr),hr.ref=rs(wt,ft,Ht),hr.return=wt,wt=hr)}return Se(wt);case Be:e:{for(Li=Ht.key;ft!==null;){if(ft.key===Li)if(ft.tag===4&&ft.stateNode.containerInfo===Ht.containerInfo&&ft.stateNode.implementation===Ht.implementation){u(wt,ft.sibling),ft=_(ft,Ht.children||[]),ft.return=wt,wt=ft;break e}else{u(wt,ft);break}else s(wt,ft);ft=ft.sibling}ft=Ui(Ht,wt.mode,hr),ft.return=wt,wt=ft}return Se(wt);case At:return Li=Ht._init,To(wt,ft,Li(Ht._payload),hr)}if(Ae(Ht))return kn(wt,ft,Ht,hr);if(Cn(Ht))return Ri(wt,ft,Ht,hr);Js(wt,Ht)}return typeof Ht=="string"&&Ht!==""||typeof Ht=="number"?(Ht=""+Ht,ft!==null&&ft.tag===6?(u(wt,ft.sibling),ft=_(ft,Ht),ft.return=wt,wt=ft):(u(wt,ft),ft=ji(Ht,wt.mode,hr),ft.return=wt,wt=ft),Se(wt)):u(wt,ft)}return To}var va=Pa(!0),K1=Pa(!1),gi={},Br=qn(gi),co=qn(gi),is=qn(gi);function Ro(i){if(i===gi)throw Error(de(174));return i}function os(i,s){Qn(is,s),Qn(co,i),Qn(Br,gi),i=Ce(s),$n(Br),Qn(Br,i)}function hs(){$n(Br),$n(co),$n(is)}function Za(i){var s=Ro(is.current),u=Ro(Br.current);s=F(u,i.type,s),u!==s&&(Qn(co,i),Qn(Br,s))}function mo(i){co.current===i&&($n(Br),$n(co))}var ce=qn(0);function ia(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||ti(u)||Yi(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ja=[];function $o(){for(var i=0;i<ja.length;i++){var s=ja[i];Et?s._workInProgressVersionPrimary=null:s._workInProgressVersionSecondary=null}ja.length=0}var Ts=Ot.ReactCurrentDispatcher,So=Ot.ReactCurrentBatchConfig,Bo=0,to=null,Wo=null,Eo=null,Ca=!1,_a=!1,Ia=0,s1=0;function Zo(){throw Error(de(321))}function H1(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!R(i[u],s[u]))return!1;return!0}function Ga(i,s,u,p,_,L){if(Bo=L,to=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ts.current=i===null||i.memoizedState===null?Mc:eu,i=u(p,_),_a){L=0;do{if(_a=!1,Ia=0,25<=L)throw Error(de(301));L+=1,Eo=Wo=null,s.updateQueue=null,Ts.current=Ql,i=u(p,_)}while(_a)}if(Ts.current=tl,s=Wo!==null&&Wo.next!==null,Bo=0,Eo=Wo=to=null,Ca=!1,s)throw Error(de(300));return i}function C1(){var i=Ia!==0;return Ia=0,i}function Fs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Eo===null?to.memoizedState=Eo=i:Eo=Eo.next=i,Eo}function ks(){if(Wo===null){var i=to.alternate;i=i!==null?i.memoizedState:null}else i=Wo.next;var s=Eo===null?to.memoizedState:Eo.next;if(s!==null)Eo=s,Wo=i;else{if(i===null)throw Error(de(310));Wo=i,i={memoizedState:Wo.memoizedState,baseState:Wo.baseState,baseQueue:Wo.baseQueue,queue:Wo.queue,next:null},Eo===null?to.memoizedState=Eo=i:Eo=Eo.next=i}return Eo}function Xa(i,s){return typeof s=="function"?s(i):s}function qs(i){var s=ks(),u=s.queue;if(u===null)throw Error(de(311));u.lastRenderedReducer=i;var p=Wo,_=p.baseQueue,L=u.pending;if(L!==null){if(_!==null){var Se=_.next;_.next=L.next,L.next=Se}p.baseQueue=_=L,u.pending=null}if(_!==null){L=_.next,p=p.baseState;var rt=Se=null,Ut=null,Fn=L;do{var fr=Fn.lane;if((Bo&fr)===fr)Ut!==null&&(Ut=Ut.next={lane:0,action:Fn.action,hasEagerState:Fn.hasEagerState,eagerState:Fn.eagerState,next:null}),p=Fn.hasEagerState?Fn.eagerState:i(p,Fn.action);else{var qr={lane:fr,action:Fn.action,hasEagerState:Fn.hasEagerState,eagerState:Fn.eagerState,next:null};Ut===null?(rt=Ut=qr,Se=p):Ut=Ut.next=qr,to.lanes|=fr,pl|=fr}Fn=Fn.next}while(Fn!==null&&Fn!==L);Ut===null?Se=p:Ut.next=rt,R(p,s.memoizedState)||(ar=!0),s.memoizedState=p,s.baseState=Se,s.baseQueue=Ut,u.lastRenderedState=p}if(i=u.interleaved,i!==null){_=i;do L=_.lane,to.lanes|=L,pl|=L,_=_.next;while(_!==i)}else _===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function oa(i){var s=ks(),u=s.queue;if(u===null)throw Error(de(311));u.lastRenderedReducer=i;var p=u.dispatch,_=u.pending,L=s.memoizedState;if(_!==null){u.pending=null;var Se=_=_.next;do L=i(L,Se.action),Se=Se.next;while(Se!==_);R(L,s.memoizedState)||(ar=!0),s.memoizedState=L,s.baseQueue===null&&(s.baseState=L),u.lastRenderedState=L}return[L,p]}function Sl(){}function J1(i,s){var u=to,p=ks(),_=s(),L=!R(p.memoizedState,_);if(L&&(p.memoizedState=_,ar=!0),p=p.queue,xa(q1.bind(null,u,p,i),[i]),p.getSnapshot!==s||L||Eo!==null&&Eo.memoizedState.tag&1){if(u.flags|=2048,li(9,El.bind(null,u,p,_,s),void 0,null),Mo===null)throw Error(de(349));Bo&30||Ya(u,s,_)}return _}function Ya(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=to.updateQueue,s===null?(s={lastEffect:null,stores:null},to.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function El(i,s,u,p){s.value=u,s.getSnapshot=p,Q1(s)&&ua(i,1,-1)}function q1(i,s,u){return u(function(){Q1(s)&&ua(i,1,-1)})}function Q1(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!R(i,u)}catch(p){return!0}}function _1(i){var s=Fs();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:i},s.queue=i,i=i.dispatch=Rl.bind(null,to,i),[s.memoizedState,i]}function li(i,s,u,p){return i={tag:i,create:s,destroy:u,deps:p,next:null},s=to.updateQueue,s===null?(s={lastEffect:null,stores:null},to.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,s.lastEffect=i)),i}function a1(){return ks().memoizedState}function ss(i,s,u,p){var _=Fs();to.flags|=i,_.memoizedState=li(1|s,u,void 0,p===void 0?null:p)}function z1(i,s,u,p){var _=ks();p=p===void 0?null:p;var L=void 0;if(Wo!==null){var Se=Wo.memoizedState;if(L=Se.destroy,p!==null&&H1(p,Se.deps)){_.memoizedState=li(s,u,L,p);return}}to.flags|=i,_.memoizedState=li(1|s,u,L,p)}function Kl(i,s){return ss(8390656,8,i,s)}function xa(i,s){return z1(2048,8,i,s)}function x1(i,s){return z1(4,2,i,s)}function $s(i,s){return z1(4,4,i,s)}function Jl(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function ql(i,s,u){return u=u!=null?u.concat([i]):null,z1(4,4,Jl.bind(null,s,i),u)}function y1(){}function el(i,s){var u=ks();s=s===void 0?null:s;var p=u.memoizedState;return p!==null&&s!==null&&H1(s,p[1])?p[0]:(u.memoizedState=[i,s],i)}function _c(i,s){var u=ks();s=s===void 0?null:s;var p=u.memoizedState;return p!==null&&s!==null&&H1(s,p[1])?p[0]:(i=i(),u.memoizedState=[i,s],i)}function xc(i,s){var u=Kr;Kr=u!==0&&4>u?u:4,i(!0);var p=So.transition;So.transition={};try{i(!1),s()}finally{Kr=u,So.transition=p}}function N1(){return ks().memoizedState}function Ka(i,s,u){var p=t1(i);u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},l1(i)?yc(s,u):(Qc(i,s,u),u=Ds(),i=ua(i,p,u),i!==null&&wc(i,s,p))}function Rl(i,s,u){var p=t1(i),_={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(l1(i))yc(s,_);else{Qc(i,s,_);var L=i.alternate;if(i.lanes===0&&(L===null||L.lanes===0)&&(L=s.lastRenderedReducer,L!==null))try{var Se=s.lastRenderedState,rt=L(Se,u);if(_.hasEagerState=!0,_.eagerState=rt,R(rt,Se))return}catch(Ut){}finally{}u=Ds(),i=ua(i,p,u),i!==null&&wc(i,s,p)}}function l1(i){var s=i.alternate;return i===to||s!==null&&s===to}function yc(i,s){_a=Ca=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Qc(i,s,u){Mo!==null&&i.mode&1&&!(si&2)?(i=s.interleaved,i===null?(u.next=u,No===null?No=[s]:No.push(s)):(u.next=i.next,i.next=u),s.interleaved=u):(i=s.pending,i===null?u.next=u:(u.next=i.next,i.next=u),s.pending=u)}function wc(i,s,u){if(u&4194240){var p=s.lanes;p&=i.pendingLanes,u|=p,s.lanes=u,Xs(i,u)}}var tl={readContext:Hi,useCallback:Zo,useContext:Zo,useEffect:Zo,useImperativeHandle:Zo,useInsertionEffect:Zo,useLayoutEffect:Zo,useMemo:Zo,useReducer:Zo,useRef:Zo,useState:Zo,useDebugValue:Zo,useDeferredValue:Zo,useTransition:Zo,useMutableSource:Zo,useSyncExternalStore:Zo,useId:Zo,unstable_isNewReconciler:!1},Mc={readContext:Hi,useCallback:function(i,s){return Fs().memoizedState=[i,s===void 0?null:s],i},useContext:Hi,useEffect:Kl,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,ss(4194308,4,Jl.bind(null,s,i),u)},useLayoutEffect:function(i,s){return ss(4194308,4,i,s)},useInsertionEffect:function(i,s){return ss(4,2,i,s)},useMemo:function(i,s){var u=Fs();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var p=Fs();return s=u!==void 0?u(s):s,p.memoizedState=p.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},p.queue=i,i=i.dispatch=Ka.bind(null,to,i),[p.memoizedState,i]},useRef:function(i){var s=Fs();return i={current:i},s.memoizedState=i},useState:_1,useDebugValue:y1,useDeferredValue:function(i){var s=_1(i),u=s[0],p=s[1];return Kl(function(){var _=So.transition;So.transition={};try{p(i)}finally{So.transition=_}},[i]),u},useTransition:function(){var i=_1(!1),s=i[0];return i=xc.bind(null,i[1]),Fs().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var p=to,_=Fs();if(Ji){if(u===void 0)throw Error(de(407));u=u()}else{if(u=s(),Mo===null)throw Error(de(349));Bo&30||Ya(p,s,u)}_.memoizedState=u;var L={value:u,getSnapshot:s};return _.queue=L,Kl(q1.bind(null,p,L,i),[i]),p.flags|=2048,li(9,El.bind(null,p,L,u,s),void 0,null),u},useId:function(){var i=Fs(),s=Mo.identifierPrefix;if(Ji){var u=ga,p=kr;u=(p&~(1<<32-Fi(p)-1)).toString(32)+u,s=":"+s+"R"+u,u=Ia++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=s1++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},eu={readContext:Hi,useCallback:el,useContext:Hi,useEffect:xa,useImperativeHandle:ql,useInsertionEffect:x1,useLayoutEffect:$s,useMemo:_c,useReducer:qs,useRef:a1,useState:function(){return qs(Xa)},useDebugValue:y1,useDeferredValue:function(i){var s=qs(Xa),u=s[0],p=s[1];return xa(function(){var _=So.transition;So.transition={};try{p(i)}finally{So.transition=_}},[i]),u},useTransition:function(){var i=qs(Xa)[0],s=ks().memoizedState;return[i,s]},useMutableSource:Sl,useSyncExternalStore:J1,useId:N1,unstable_isNewReconciler:!1},Ql={readContext:Hi,useCallback:el,useContext:Hi,useEffect:xa,useImperativeHandle:ql,useInsertionEffect:x1,useLayoutEffect:$s,useMemo:_c,useReducer:oa,useRef:a1,useState:function(){return oa(Xa)},useDebugValue:y1,useDeferredValue:function(i){var s=oa(Xa),u=s[0],p=s[1];return xa(function(){var _=So.transition;So.transition={};try{p(i)}finally{So.transition=_}},[i]),u},useTransition:function(){var i=oa(Xa)[0],s=ks().memoizedState;return[i,s]},useMutableSource:Sl,useSyncExternalStore:J1,useId:N1,unstable_isNewReconciler:!1};function ki(i,s){try{var u="",p=s;do u+=br(p),p=p.return;while(p);var _=u}catch(L){_=`
Error generating stack: `+L.message+`
`+L.stack}return{value:i,source:s,stack:_}}function sa(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var Oa=typeof WeakMap=="function"?WeakMap:Map;function Ll(i,s,u){u=Ei(-1,u),u.tag=3,u.payload={element:null};var p=s.value;return u.callback=function(){Ul||(Ul=!0,ca=p),sa(i,s)},u}function Ja(i,s,u){u=Ei(-1,u),u.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var _=s.value;u.payload=function(){return p(_)},u.callback=function(){sa(i,s)}}var L=i.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(u.callback=function(){sa(i,s),typeof p!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var Se=s.stack;this.componentDidCatch(s.value,{componentStack:Se!==null?Se:""})}),u}function B1(i,s,u){var p=i.pingCache;if(p===null){p=i.pingCache=new Oa;var _=new Set;p.set(s,_)}else _=p.get(s),_===void 0&&(_=new Set,p.set(s,_));_.has(u)||(_.add(u),i=yn.bind(null,i,s,u),s.then(i,i))}function w1(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function ec(i,s,u,p,_){return i.mode&1?(i.flags|=65536,i.lanes=_,i):(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=Ei(-1,1),s.tag=2,Ys(u,s))),u.lanes|=1),i)}function aa(i){i.flags|=4}function tc(i,s){if(i!==null&&i.child===s.child)return!0;if(s.flags&16)return!1;for(i=s.child;i!==null;){if(i.flags&12854||i.subtreeFlags&12854)return!1;i=i.sibling}return!0}var M1,b1,as,nl;if(zt)M1=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)se(i,u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},b1=function(){},as=function(i,s,u,p,_){if(i=i.memoizedProps,i!==p){var L=s.stateNode,Se=Ro(Br.current);u=ge(L,u,i,p,_,Se),(s.updateQueue=u)&&aa(s)}},nl=function(i,s,u,p){u!==p&&aa(s)};else if(_t){M1=function(i,s,u,p){for(var _=s.child;_!==null;){if(_.tag===5){var L=_.stateNode;u&&p&&(L=pr(L,_.type,_.memoizedProps,_)),se(i,L)}else if(_.tag===6)L=_.stateNode,u&&p&&(L=Lr(L,_.memoizedProps,_)),se(i,L);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)L=_.child,L!==null&&(L.return=_),M1(i,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===s)break;for(;_.sibling===null;){if(_.return===null||_.return===s)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};var Cs=function(i,s,u,p){for(var _=s.child;_!==null;){if(_.tag===5){var L=_.stateNode;u&&p&&(L=pr(L,_.type,_.memoizedProps,_)),Rt(i,L)}else if(_.tag===6)L=_.stateNode,u&&p&&(L=Lr(L,_.memoizedProps,_)),Rt(i,L);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)L=_.child,L!==null&&(L.return=_),Cs(i,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===s)break;for(;_.sibling===null;){if(_.return===null||_.return===s)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};b1=function(i,s){var u=s.stateNode;if(!tc(i,s)){i=u.containerInfo;var p=Ge(i);Cs(p,s,!1,!1),u.pendingChildren=p,aa(s),an(i,p)}},as=function(i,s,u,p,_){var L=i.stateNode,Se=i.memoizedProps;if((i=tc(i,s))&&Se===p)s.stateNode=L;else{var rt=s.stateNode,Ut=Ro(Br.current),Fn=null;Se!==p&&(Fn=ge(rt,u,Se,p,_,Ut)),i&&Fn===null?s.stateNode=L:(L=oe(L,Fn,u,Se,p,s,i,rt),te(L,u,p,_,Ut)&&aa(s),s.stateNode=L,i?aa(s):M1(L,s,!1,!1))}},nl=function(i,s,u,p){u!==p?(i=Ro(is.current),u=Ro(Br.current),s.stateNode=De(p,i,u,s),aa(s)):s.stateNode=i.stateNode}}else b1=function(){},as=function(){},nl=function(){};function U1(i,s){if(!Ji)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function wo(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(s)for(var _=i.child;_!==null;)u|=_.lanes|_.childLanes,p|=_.subtreeFlags&14680064,p|=_.flags&14680064,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)u|=_.lanes|_.childLanes,p|=_.subtreeFlags,p|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=p,i.childLanes=u,s}function Tl(i,s,u){var p=s.pendingProps;switch(ka(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wo(s),null;case 1:return Wr(s.type)&&ho(),wo(s),null;case 3:return p=s.stateNode,hs(),$n(cr),$n(En),$o(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&($a(s)?aa(s):i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Do!==null&&(uc(Do),Do=null))),b1(i,s),wo(s),null;case 5:mo(s),u=Ro(is.current);var _=s.type;if(i!==null&&s.stateNode!=null)as(i,s,_,p,u),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(de(166));return wo(s),null}if(i=Ro(Br.current),$a(s)){if(!pt)throw Error(de(175));i=le(s.stateNode,s.type,s.memoizedProps,u,i,s,!i1),s.updateQueue=i,i!==null&&aa(s)}else{var L=W(_,p,u,i,s);M1(L,s,!1,!1),s.stateNode=L,te(L,_,p,u,i)&&aa(s)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return wo(s),null;case 6:if(i&&s.stateNode!=null)nl(i,s,i.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(de(166));if(i=Ro(is.current),u=Ro(Br.current),$a(s)){if(!pt)throw Error(de(176));if(i=s.stateNode,p=s.memoizedProps,(u=We(i,p,s,!i1))&&(_=Rs,_!==null))switch(L=(_.mode&1)!==0,_.tag){case 3:tt(_.stateNode.containerInfo,i,p,L);break;case 5:Zt(_.type,_.memoizedProps,_.stateNode,i,p,L)}u&&aa(s)}else s.stateNode=De(p,i,u,s)}return wo(s),null;case 13:if($n(ce),p=s.memoizedState,Ji&&wi!==null&&s.mode&1&&!(s.flags&128)){for(i=wi;i;)i=H(i);return o1(),s.flags|=98560,s}if(p!==null&&p.dehydrated!==null){if(p=$a(s),i===null){if(!p)throw Error(de(318));if(!pt)throw Error(de(344));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(de(317));st(i,s)}else o1(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;return wo(s),null}return Do!==null&&(uc(Do),Do=null),s.flags&128?(s.lanes=u,s):(p=p!==null,u=!1,i===null?$a(s):u=i.memoizedState!==null,p&&!u&&(s.child.flags|=8192,s.mode&1&&(i===null||ce.current&1?Lo===0&&(Lo=3):Wl())),s.updateQueue!==null&&(s.flags|=4),wo(s),null);case 4:return hs(),b1(i,s),i===null&&yt(s.stateNode.containerInfo),wo(s),null;case 10:return Zi(s.type._context),wo(s),null;case 17:return Wr(s.type)&&ho(),wo(s),null;case 19:if($n(ce),_=s.memoizedState,_===null)return wo(s),null;if(p=(s.flags&128)!==0,L=_.rendering,L===null)if(p)U1(_,!1);else{if(Lo!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(L=ia(i),L!==null){for(s.flags|=128,U1(_,!1),i=L.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),s.subtreeFlags=0,i=u,p=s.child;p!==null;)u=p,_=i,u.flags&=14680066,L=u.alternate,L===null?(u.childLanes=0,u.lanes=_,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=L.childLanes,u.lanes=L.lanes,u.child=L.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=L.memoizedProps,u.memoizedState=L.memoizedState,u.updateQueue=L.updateQueue,u.type=L.type,_=L.dependencies,u.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),p=p.sibling;return Qn(ce,ce.current&1|2),s.child}i=i.sibling}_.tail!==null&&po()>Bl&&(s.flags|=128,p=!0,U1(_,!1),s.lanes=4194304)}else{if(!p)if(i=ia(L),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),U1(_,!0),_.tail===null&&_.tailMode==="hidden"&&!L.alternate&&!Ji)return wo(s),null}else 2*po()-_.renderingStartTime>Bl&&u!==1073741824&&(s.flags|=128,p=!0,U1(_,!1),s.lanes=4194304);_.isBackwards?(L.sibling=s.child,s.child=L):(i=_.last,i!==null?i.sibling=L:s.child=L,_.last=L)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=po(),s.sibling=null,i=ce.current,Qn(ce,p?i&1|2:i&1),s):(wo(s),null);case 22:case 23:return kl(),p=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(s.flags|=8192),p&&s.mode&1?Is&1073741824&&(wo(s),zt&&s.subtreeFlags&6&&(s.flags|=8192)):wo(s),null;case 24:return null;case 25:return null}throw Error(de(156,s.tag))}var nc=Ot.ReactCurrentOwner,ar=!1;function no(i,s,u,p){s.child=i===null?K1(s,null,u,p):va(s,i.child,u,p)}function qa(i,s,u,p,_){u=u.render;var L=s.ref;return Bi(s,_),p=Ga(i,s,u,p,L,_),u=C1(),i!==null&&!ar?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~_,jo(i,s,_)):(Ji&&u&&Es(s),s.flags|=1,no(i,s,p,_),s.child)}function Da(i,s,u,p,_){if(i===null){var L=u.type;return typeof L=="function"&&!zi(L)&&L.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=L,bc(i,s,L,p,_)):(i=Ci(u.type,null,p,s,s.mode,_),i.ref=s.ref,i.return=s,s.child=i)}if(L=i.child,!(i.lanes&_)){var Se=L.memoizedProps;if(u=u.compare,u=u!==null?u:or,u(Se,p)&&i.ref===s.ref)return jo(i,s,_)}return s.flags|=1,i=Er(L,p),i.ref=s.ref,i.return=s,s.child=i}function bc(i,s,u,p,_){if(i!==null&&or(i.memoizedProps,p)&&i.ref===s.ref)if(ar=!1,(i.lanes&_)!==0)i.flags&131072&&(ar=!0);else return s.lanes=i.lanes,jo(i,s,_);return rc(i,s,u,p,_)}function As(i,s,u){var p=s.pendingProps,_=p.children,L=i!==null?i.memoizedState:null;if(p.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null},Qn(k1,Is),Is|=u;else if(u&1073741824)s.memoizedState={baseLanes:0,cachePool:null},p=L!==null?L.baseLanes:u,Qn(k1,Is),Is|=p;else return i=L!==null?L.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null},s.updateQueue=null,Qn(k1,Is),Is|=i,null;else L!==null?(p=L.baseLanes|u,s.memoizedState=null):p=u,Qn(k1,Is),Is|=p;return no(i,s,_,u),s.child}function c1(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function rc(i,s,u,p,_){var L=Wr(u)?Nr:En.current;return L=yi(s,L),Bi(s,_),u=Ga(i,s,u,p,L,_),p=C1(),i!==null&&!ar?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~_,jo(i,s,_)):(Ji&&p&&Es(s),s.flags|=1,no(i,s,u,_),s.child)}function Uo(i,s,u,p,_){if(Wr(u)){var L=!0;Di(s)}else L=!1;if(Bi(s,_),s.stateNode===null)i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),G1(s,u,p),D1(s,u,p,_),p=!0;else if(i===null){var Se=s.stateNode,rt=s.memoizedProps;Se.props=rt;var Ut=Se.context,Fn=u.contextType;typeof Fn=="object"&&Fn!==null?Fn=Hi(Fn):(Fn=Wr(u)?Nr:En.current,Fn=yi(s,Fn));var fr=u.getDerivedStateFromProps,qr=typeof fr=="function"||typeof Se.getSnapshotBeforeUpdate=="function";qr||typeof Se.UNSAFE_componentWillReceiveProps!="function"&&typeof Se.componentWillReceiveProps!="function"||(rt!==p||Ut!==Fn)&&X1(s,Se,p,Fn),Ao=!1;var Ur=s.memoizedState;Se.state=Ur,pa(s,p,Se,_),Ut=s.memoizedState,rt!==p||Ur!==Ut||cr.current||Ao?(typeof fr=="function"&&(n1(s,u,fr,p),Ut=s.memoizedState),(rt=Ao||Ks(s,u,rt,p,Ur,Ut,Fn))?(qr||typeof Se.UNSAFE_componentWillMount!="function"&&typeof Se.componentWillMount!="function"||(typeof Se.componentWillMount=="function"&&Se.componentWillMount(),typeof Se.UNSAFE_componentWillMount=="function"&&Se.UNSAFE_componentWillMount()),typeof Se.componentDidMount=="function"&&(s.flags|=4194308)):(typeof Se.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=Ut),Se.props=p,Se.state=Ut,Se.context=Fn,p=rt):(typeof Se.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{Se=s.stateNode,fs(i,s),rt=s.memoizedProps,Fn=s.type===s.elementType?rt:gr(s.type,rt),Se.props=Fn,qr=s.pendingProps,Ur=Se.context,Ut=u.contextType,typeof Ut=="object"&&Ut!==null?Ut=Hi(Ut):(Ut=Wr(u)?Nr:En.current,Ut=yi(s,Ut));var Vi=u.getDerivedStateFromProps;(fr=typeof Vi=="function"||typeof Se.getSnapshotBeforeUpdate=="function")||typeof Se.UNSAFE_componentWillReceiveProps!="function"&&typeof Se.componentWillReceiveProps!="function"||(rt!==qr||Ur!==Ut)&&X1(s,Se,p,Ut),Ao=!1,Ur=s.memoizedState,Se.state=Ur,pa(s,p,Se,_);var kn=s.memoizedState;rt!==qr||Ur!==kn||cr.current||Ao?(typeof Vi=="function"&&(n1(s,u,Vi,p),kn=s.memoizedState),(Fn=Ao||Ks(s,u,Fn,p,Ur,kn,Ut)||!1)?(fr||typeof Se.UNSAFE_componentWillUpdate!="function"&&typeof Se.componentWillUpdate!="function"||(typeof Se.componentWillUpdate=="function"&&Se.componentWillUpdate(p,kn,Ut),typeof Se.UNSAFE_componentWillUpdate=="function"&&Se.UNSAFE_componentWillUpdate(p,kn,Ut)),typeof Se.componentDidUpdate=="function"&&(s.flags|=4),typeof Se.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof Se.componentDidUpdate!="function"||rt===i.memoizedProps&&Ur===i.memoizedState||(s.flags|=4),typeof Se.getSnapshotBeforeUpdate!="function"||rt===i.memoizedProps&&Ur===i.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=kn),Se.props=p,Se.state=kn,Se.context=Ut,p=Fn):(typeof Se.componentDidUpdate!="function"||rt===i.memoizedProps&&Ur===i.memoizedState||(s.flags|=4),typeof Se.getSnapshotBeforeUpdate!="function"||rt===i.memoizedProps&&Ur===i.memoizedState||(s.flags|=1024),p=!1)}return S1(i,s,u,p,L,_)}function S1(i,s,u,p,_,L){c1(i,s);var Se=(s.flags&128)!==0;if(!p&&!Se)return _&&Co(s,u,!1),jo(i,s,L);p=s.stateNode,nc.current=s;var rt=Se&&typeof u.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,i!==null&&Se?(s.child=va(s,i.child,null,L),s.child=va(s,null,rt,L)):no(i,s,rt,L),s.memoizedState=p.state,_&&Co(s,u,!0),s.child}function go(i){var s=i.stateNode;s.pendingContext?io(i,s.pendingContext,s.pendingContext!==s.context):s.context&&io(i,s.context,!1),os(i,s.containerInfo)}function Al(i,s,u,p,_){return o1(),Wa(_),s.flags|=256,no(i,s,u,p),s.child}var rl={dehydrated:null,treeContext:null,retryLane:0};function il(i){return{baseLanes:i,cachePool:null}}function Sc(i,s,u){var p=s.pendingProps,_=ce.current,L=!1,Se=(s.flags&128)!==0,rt;if((rt=Se)||(rt=i!==null&&i.memoizedState===null?!1:(_&2)!==0),rt?(L=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(_|=1),Qn(ce,_&1),i===null)return ra(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?Yi(i)?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(_=p.children,i=p.fallback,L?(p=s.mode,L=s.child,_={mode:"hidden",children:_},!(p&1)&&L!==null?(L.childLanes=0,L.pendingProps=_):L=Ar(_,p,0,null),i=Mr(i,p,u,null),L.return=s,i.return=s,L.sibling=i,s.child=L,s.child.memoizedState=il(u),s.memoizedState=rl,i):Ha(s,_));if(_=i.memoizedState,_!==null){if(rt=_.dehydrated,rt!==null){if(Se)return s.flags&256?(s.flags&=-257,Pl(i,s,u,Error(de(422)))):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(L=p.fallback,_=s.mode,p=Ar({mode:"visible",children:p.children},_,0,null),L=Mr(L,_,u,null),L.flags|=2,p.return=s,L.return=s,p.sibling=L,s.child=p,s.mode&1&&va(s,i.child,null,u),s.child.memoizedState=il(u),s.memoizedState=rl,L);if(!(s.mode&1))s=Pl(i,s,u,null);else if(Yi(rt))s=Pl(i,s,u,Error(de(419)));else if(p=(u&i.childLanes)!==0,ar||p){if(p=Mo,p!==null){switch(u&-u){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}p=L&(p.suspendedLanes|u)?0:L,p!==0&&p!==_.retryLane&&(_.retryLane=p,ua(i,p,-1))}Wl(),s=Pl(i,s,u,Error(de(421)))}else ti(rt)?(s.flags|=128,s.child=i.child,s=sr.bind(null,i),b(rt,s),s=null):(u=_.treeContext,pt&&(wi=Q(rt),Rs=s,Ji=!0,Do=null,i1=!1,u!==null&&(ko[ds++]=kr,ko[ds++]=ga,ko[ds++]=yo,kr=u.id,ga=u.overflow,yo=s)),s=Ha(s,s.pendingProps.children),s.flags|=4096);return s}return L?(p=V1(i,s,p.children,p.fallback,u),L=s.child,_=i.child.memoizedState,L.memoizedState=_===null?il(u):{baseLanes:_.baseLanes|u,cachePool:null},L.childLanes=i.childLanes&~u,s.memoizedState=rl,p):(u=Mi(i,s,p.children,u),s.memoizedState=null,u)}return L?(p=V1(i,s,p.children,p.fallback,u),L=s.child,_=i.child.memoizedState,L.memoizedState=_===null?il(u):{baseLanes:_.baseLanes|u,cachePool:null},L.childLanes=i.childLanes&~u,s.memoizedState=rl,p):(u=Mi(i,s,p.children,u),s.memoizedState=null,u)}function Ha(i,s){return s=Ar({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Mi(i,s,u,p){var _=i.child;return i=_.sibling,u=Er(_,{mode:"visible",children:u}),!(s.mode&1)&&(u.lanes=p),u.return=s,u.sibling=null,i!==null&&(p=s.deletions,p===null?(s.deletions=[i],s.flags|=16):p.push(i)),s.child=u}function V1(i,s,u,p,_){var L=s.mode;i=i.child;var Se=i.sibling,rt={mode:"hidden",children:u};return!(L&1)&&s.child!==i?(u=s.child,u.childLanes=0,u.pendingProps=rt,s.deletions=null):(u=Er(i,rt),u.subtreeFlags=i.subtreeFlags&14680064),Se!==null?p=Er(Se,p):(p=Mr(p,L,_,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,p}function Pl(i,s,u,p){return p!==null&&Wa(p),va(s,i.child,null,u),i=Ha(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Sr(i,s,u){i.lanes|=s;var p=i.alternate;p!==null&&(p.lanes|=s),lo(i.return,s,u)}function ic(i,s,u,p,_){var L=i.memoizedState;L===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:_}:(L.isBackwards=s,L.rendering=null,L.renderingStartTime=0,L.last=p,L.tail=u,L.tailMode=_)}function Ec(i,s,u){var p=s.pendingProps,_=p.revealOrder,L=p.tail;if(no(i,s,p.children,u),p=ce.current,p&2)p=p&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Sr(i,u,s);else if(i.tag===19)Sr(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(Qn(ce,p),!(s.mode&1))s.memoizedState=null;else switch(_){case"forwards":for(u=s.child,_=null;u!==null;)i=u.alternate,i!==null&&ia(i)===null&&(_=u),u=u.sibling;u=_,u===null?(_=s.child,s.child=null):(_=u.sibling,u.sibling=null),ic(s,!1,_,u,L);break;case"backwards":for(u=null,_=s.child,s.child=null;_!==null;){if(i=_.alternate,i!==null&&ia(i)===null){s.child=_;break}i=_.sibling,_.sibling=u,u=_,_=i}ic(s,!0,u,null,L);break;case"together":ic(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function jo(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),pl|=s.lanes,!(u&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(de(153));if(s.child!==null){for(i=s.child,u=Er(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Er(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function Rc(i,s,u){switch(s.tag){case 3:go(s),o1();break;case 5:Za(s);break;case 1:Wr(s.type)&&Di(s);break;case 4:os(s,s.stateNode.containerInfo);break;case 10:Oi(s,s.type._context,s.memoizedProps.value);break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(Qn(ce,ce.current&1),s.flags|=128,null):u&s.child.childLanes?Sc(i,s,u):(Qn(ce,ce.current&1),i=jo(i,s,u),i!==null?i.sibling:null);Qn(ce,ce.current&1);break;case 19:if(p=(u&s.childLanes)!==0,i.flags&128){if(p)return Ec(i,s,u);s.flags|=128}var _=s.memoizedState;if(_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Qn(ce,ce.current),p)break;return null;case 22:case 23:return s.lanes=0,As(i,s,u)}return jo(i,s,u)}function ol(i,s){switch(ka(s),s.tag){case 1:return Wr(s.type)&&ho(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return hs(),$n(cr),$n(En),$o(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return mo(s),null;case 13:if($n(ce),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(de(340));o1()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return $n(ce),null;case 4:return hs(),null;case 10:return Zi(s.type._context),null;case 22:case 23:return kl(),null;case 24:return null;default:return null}}var _s=!1,Ps=!1,Jo=typeof WeakSet=="function"?WeakSet:Set,xn=null;function E1(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){Dt(i,s,p)}else u.current=null}function la(i,s,u){try{u()}catch(p){Dt(i,s,p)}}var R1=!1;function Lc(i,s){for(K(i.containerInfo),xn=s;xn!==null;)if(i=xn,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,xn=s;else for(;xn!==null;){i=xn;try{var u=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(u!==null){var p=u.memoizedProps,_=u.memoizedState,L=i.stateNode,Se=L.getSnapshotBeforeUpdate(i.elementType===i.type?p:gr(i.type,p),_);L.__reactInternalSnapshotBeforeUpdate=Se}break;case 3:zt&&lt(i.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(rt){Dt(i,i.return,rt)}if(s=i.sibling,s!==null){s.return=i.return,xn=s;break}xn=i.return}return u=R1,R1=!1,u}function qo(i,s,u){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var _=p=p.next;do{if((_.tag&i)===i){var L=_.destroy;_.destroy=void 0,L!==void 0&&la(s,u,L)}_=_.next}while(_!==p)}}function ya(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var p=u.create;u.destroy=p()}u=u.next}while(u!==s)}}function xs(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=Oe(u);break;default:i=u}typeof s=="function"?s(i):s.current=i}}function Il(i,s,u){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(gt,s)}catch(Se){}switch(s.tag){case 0:case 11:case 14:case 15:if(i=s.updateQueue,i!==null&&(i=i.lastEffect,i!==null)){var p=i=i.next;do{var _=p,L=_.destroy;_=_.tag,L!==void 0&&(_&2||_&4)&&la(s,u,L),p=p.next}while(p!==i)}break;case 1:if(E1(s,u),i=s.stateNode,typeof i.componentWillUnmount=="function")try{i.props=s.memoizedProps,i.state=s.memoizedState,i.componentWillUnmount()}catch(Se){Dt(s,u,Se)}break;case 5:E1(s,u);break;case 4:zt?Dl(i,s,u):_t&&_t&&(s=s.stateNode.containerInfo,u=Ge(s),jn(s,u))}}function sl(i,s,u){for(var p=s;;)if(Il(i,p,u),p.child===null||zt&&p.tag===4){if(p===s)break;for(;p.sibling===null;){if(p.return===null||p.return===s)return;p=p.return}p.sibling.return=p.return,p=p.sibling}else p.child.return=p,p=p.child}function al(i){var s=i.alternate;s!==null&&(i.alternate=null,al(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Rn(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function ll(i){return i.tag===5||i.tag===3||i.tag===4}function cl(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ll(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function oc(i){if(zt){e:{for(var s=i.return;s!==null;){if(ll(s))break e;s=s.return}throw Error(de(160))}var u=s;switch(u.tag){case 5:s=u.stateNode,u.flags&32&&(Pt(s),u.flags&=-33),u=cl(i),sc(i,u,s);break;case 3:case 4:s=u.stateNode.containerInfo,u=cl(i),Ol(i,u,s);break;default:throw Error(de(161))}}}function Ol(i,s,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?Xe(u,i,s):ur(u,i);else if(p!==4&&(i=i.child,i!==null))for(Ol(i,s,u),i=i.sibling;i!==null;)Ol(i,s,u),i=i.sibling}function sc(i,s,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?ve(u,i,s):Mn(u,i);else if(p!==4&&(i=i.child,i!==null))for(sc(i,s,u),i=i.sibling;i!==null;)sc(i,s,u),i=i.sibling}function Dl(i,s,u){for(var p=s,_=!1,L,Se;;){if(!_){_=p.return;e:for(;;){if(_===null)throw Error(de(160));switch(L=_.stateNode,_.tag){case 5:Se=!1;break e;case 3:L=L.containerInfo,Se=!0;break e;case 4:L=L.containerInfo,Se=!0;break e}_=_.return}_=!0}if(p.tag===5||p.tag===6)sl(i,p,u),Se?Ye(L,p.stateNode):$e(L,p.stateNode);else if(p.tag===18)Se?Ie(L,p.stateNode):ie(L,p.stateNode);else if(p.tag===4){if(p.child!==null){L=p.stateNode.containerInfo,Se=!0,p.child.return=p,p=p.child;continue}}else if(Il(i,p,u),p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break;for(;p.sibling===null;){if(p.return===null||p.return===s)return;p=p.return,p.tag===4&&(_=!1)}p.sibling.return=p.return,p=p.sibling}}function ul(i,s){if(zt){switch(s.tag){case 0:case 11:case 14:case 15:qo(3,s,s.return),ya(3,s),qo(5,s,s.return);return;case 1:return;case 5:var u=s.stateNode;if(u!=null){var p=s.memoizedProps;i=i!==null?i.memoizedProps:p;var _=s.type,L=s.updateQueue;s.updateQueue=null,L!==null&&Zn(u,L,_,i,p,s)}return;case 6:if(s.stateNode===null)throw Error(de(162));u=s.memoizedProps,rr(s.stateNode,i!==null?i.memoizedProps:u,u);return;case 3:pt&&i!==null&&i.memoizedState.isDehydrated&&be(s.stateNode.containerInfo);return;case 12:return;case 13:Go(s);return;case 19:Go(s);return;case 17:return}throw Error(de(163))}switch(s.tag){case 0:case 11:case 14:case 15:qo(3,s,s.return),ya(3,s),qo(5,s,s.return);return;case 12:return;case 13:Go(s);return;case 19:Go(s);return;case 3:pt&&i!==null&&i.memoizedState.isDehydrated&&be(s.stateNode.containerInfo);break;case 22:case 23:return}e:if(_t){switch(s.tag){case 1:case 5:case 6:break e;case 3:case 4:s=s.stateNode,jn(s.containerInfo,s.pendingChildren);break e}throw Error(de(163))}}function Go(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Jo),s.forEach(function(p){var _=Yn.bind(null,i,p);u.has(p)||(u.add(p),p.then(_,_))})}}function tu(i,s){for(xn=s;xn!==null;){s=xn;var u=s.deletions;if(u!==null)for(var p=0;p<u.length;p++){var _=u[p];try{var L=i;zt?Dl(L,_,s):sl(L,_,s);var Se=_.alternate;Se!==null&&(Se.return=null),_.return=null}catch(Dr){Dt(_,s,Dr)}}if(u=s.child,s.subtreeFlags&12854&&u!==null)u.return=s,xn=u;else for(;xn!==null;){s=xn;try{var rt=s.flags;if(rt&32&&zt&&Pt(s.stateNode),rt&512){var Ut=s.alternate;if(Ut!==null){var Fn=Ut.ref;Fn!==null&&(typeof Fn=="function"?Fn(null):Fn.current=null)}}if(rt&8192)switch(s.tag){case 13:if(s.memoizedState!==null){var fr=s.alternate;(fr===null||fr.memoizedState===null)&&(gl=po())}break;case 22:var qr=s.memoizedState!==null,Ur=s.alternate,Vi=Ur!==null&&Ur.memoizedState!==null;if(u=s,zt){e:if(p=u,_=qr,L=null,zt)for(var kn=p;;){if(kn.tag===5){if(L===null){L=kn;var Ri=kn.stateNode;_?Dn(Ri):Nt(kn.stateNode,kn.memoizedProps)}}else if(kn.tag===6){if(L===null){var To=kn.stateNode;_?bn(To):$t(To,kn.memoizedProps)}}else if((kn.tag!==22&&kn.tag!==23||kn.memoizedState===null||kn===p)&&kn.child!==null){kn.child.return=kn,kn=kn.child;continue}if(kn===p)break;for(;kn.sibling===null;){if(kn.return===null||kn.return===p)break e;L===kn&&(L=null),kn=kn.return}L===kn&&(L=null),kn.sibling.return=kn.return,kn=kn.sibling}}if(qr&&!Vi&&u.mode&1){xn=u;for(var wt=u.child;wt!==null;){for(u=xn=wt;xn!==null;){p=xn;var ft=p.child;switch(p.tag){case 0:case 11:case 14:case 15:qo(4,p,p.return);break;case 1:E1(p,p.return);var Ht=p.stateNode;if(typeof Ht.componentWillUnmount=="function"){var hr=p.return;try{Ht.props=p.memoizedProps,Ht.state=p.memoizedState,Ht.componentWillUnmount()}catch(Dr){Dt(p,hr,Dr)}}break;case 5:E1(p,p.return);break;case 22:if(p.memoizedState!==null){ys(u);continue}}ft!==null?(ft.return=p,xn=ft):ys(u)}wt=wt.sibling}}}switch(rt&4102){case 2:oc(s),s.flags&=-3;break;case 6:oc(s),s.flags&=-3,ul(s.alternate,s);break;case 4096:s.flags&=-4097;break;case 4100:s.flags&=-4097,ul(s.alternate,s);break;case 4:ul(s.alternate,s)}}catch(Dr){Dt(s,s.return,Dr)}if(u=s.sibling,u!==null){u.return=s.return,xn=u;break}xn=s.return}}}function fl(i,s,u){xn=i,Qa(i,s,u)}function Qa(i,s,u){for(var p=(i.mode&1)!==0;xn!==null;){var _=xn,L=_.child;if(_.tag===22&&p){var Se=_.memoizedState!==null||_s;if(!Se){var rt=_.alternate,Ut=rt!==null&&rt.memoizedState!==null||Ps;rt=_s;var Fn=Ps;if(_s=Se,(Ps=Ut)&&!Fn)for(xn=_;xn!==null;)Se=xn,Ut=Se.child,Se.tag===22&&Se.memoizedState!==null?Tc(_):Ut!==null?(Ut.return=Se,xn=Ut):Tc(_);for(;L!==null;)xn=L,Qa(L,s,u),L=L.sibling;xn=_,_s=rt,Ps=Fn}L1(i,s,u)}else _.subtreeFlags&8772&&L!==null?(L.return=_,xn=L):L1(i,s,u)}}function L1(i){for(;xn!==null;){var s=xn;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ps||ya(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!Ps)if(u===null)p.componentDidMount();else{var _=s.elementType===s.type?u.memoizedProps:gr(s.type,u.memoizedProps);p.componentDidUpdate(_,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var L=s.updateQueue;L!==null&&Ta(s,L,p);break;case 3:var Se=s.updateQueue;if(Se!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=Oe(s.child.stateNode);break;case 1:u=s.child.stateNode}Ta(s,Se,u)}break;case 5:var rt=s.stateNode;u===null&&s.flags&4&&jr(rt,s.type,s.memoizedProps,s);break;case 6:break;case 4:break;case 12:break;case 13:if(pt&&s.memoizedState===null){var Ut=s.alternate;if(Ut!==null){var Fn=Ut.memoizedState;if(Fn!==null){var fr=Fn.dehydrated;fr!==null&&Y(fr)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(de(163))}Ps||s.flags&512&&xs(s)}catch(qr){Dt(s,s.return,qr)}}if(s===i){xn=null;break}if(u=s.sibling,u!==null){u.return=s.return,xn=u;break}xn=s.return}}function ys(i){for(;xn!==null;){var s=xn;if(s===i){xn=null;break}var u=s.sibling;if(u!==null){u.return=s.return,xn=u;break}xn=s.return}}function Tc(i){for(;xn!==null;){var s=xn;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{ya(4,s)}catch(Ut){Dt(s,u,Ut)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var _=s.return;try{p.componentDidMount()}catch(Ut){Dt(s,_,Ut)}}var L=s.return;try{xs(s)}catch(Ut){Dt(s,L,Ut)}break;case 5:var Se=s.return;try{xs(s)}catch(Ut){Dt(s,Se,Ut)}}}catch(Ut){Dt(s,s.return,Ut)}if(s===i){xn=null;break}var rt=s.sibling;if(rt!==null){rt.return=s.return,xn=rt;break}xn=s.return}}var wa=0,dl=1,Hl=2,zl=3,Qs=4;if(typeof Symbol=="function"&&Symbol.for){var u1=Symbol.for;wa=u1("selector.component"),dl=u1("selector.has_pseudo_class"),Hl=u1("selector.role"),zl=u1("selector.test_id"),Qs=u1("selector.text")}function Qo(i){var s=Ue(i);if(s!=null){if(typeof s.memoizedProps["data-testname"]!="string")throw Error(de(364));return s}if(i=dn(i),i===null)throw Error(de(362));return i.stateNode.current}function f1(i,s){switch(s.$$typeof){case wa:if(i.type===s.value)return!0;break;case dl:e:{s=s.value,i=[i,0];for(var u=0;u<i.length;){var p=i[u++],_=i[u++],L=s[_];if(p.tag!==5||!Tt(p)){for(;L!=null&&f1(p,L);)_++,L=s[_];if(_===s.length){s=!0;break e}else for(p=p.child;p!==null;)i.push(p,_),p=p.sibling}}s=!1}return s;case Hl:if(i.tag===5&&jt(i.stateNode,s.value))return!0;break;case Qs:if((i.tag===5||i.tag===6)&&(i=oi(i),i!==null&&0<=i.indexOf(s.value)))return!0;break;case zl:if(i.tag===5&&(i=i.memoizedProps["data-testname"],typeof i=="string"&&i.toLowerCase()===s.value.toLowerCase()))return!0;break;default:throw Error(de(365))}return!1}function e1(i){switch(i.$$typeof){case wa:return"<"+(ln(i.value)||"Unknown")+">";case dl:return":has("+(e1(i)||"")+")";case Hl:return'[role="'+i.value+'"]';case Qs:return'"'+i.value+'"';case zl:return'[data-testname="'+i.value+'"]';default:throw Error(de(365))}}function ac(i,s){var u=[];i=[i,0];for(var p=0;p<i.length;){var _=i[p++],L=i[p++],Se=s[L];if(_.tag!==5||!Tt(_)){for(;Se!=null&&f1(_,Se);)L++,Se=s[L];if(L===s.length)u.push(_);else for(_=_.child;_!==null;)i.push(_,L),_=_.sibling}}return u}function T1(i,s){if(!sn)throw Error(de(363));i=Qo(i),i=ac(i,s),s=[],i=Array.from(i);for(var u=0;u<i.length;){var p=i[u++];if(p.tag===5)Tt(p)||s.push(p.stateNode);else for(p=p.child;p!==null;)i.push(p),p=p.sibling}return s}var Ac=Math.ceil,F1=Ot.ReactCurrentDispatcher,lc=Ot.ReactCurrentOwner,Vo=Ot.ReactCurrentBatchConfig,si=0,Mo=null,Po=null,Xo=0,Is=0,k1=qn(0),Lo=0,hl=null,pl=0,Nl=0,cc=0,ml=null,Ws=null,gl=0,Bl=1/0;function $1(){Bl=po()+500}var Ul=!1,ca=null,Ma=null,A1=!1,ea=null,vl=0,Cl=0,Os=null,Vl=-1,Fl=0;function Ds(){return si&6?po():Vl!==-1?Vl:Vl=po()}function t1(i){return i.mode&1?si&2&&Xo!==0?Xo&-Xo:on.transition!==null?(Fl===0&&(i=Ai,Ai<<=1,!(Ai&4194240)&&(Ai=64),Fl=i),Fl):(i=Kr,i!==0?i:Vt()):1}function ua(i,s,u){if(50<Cl)throw Cl=0,Os=null,Error(de(185));var p=_l(i,s);return p===null?null:(oo(p,s,u),(!(si&2)||p!==Mo)&&(p===Mo&&(!(si&2)&&(Nl|=s),Lo===4&&d1(p,Xo)),Zs(p,u),s===1&&si===0&&!(i.mode&1)&&($1(),ze&&ir())),p)}function _l(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}function Zs(i,s){var u=i.callbackNode;La(i,s);var p=Fo(i,i===Mo?Xo:0);if(p===0)u!==null&&Vr(u),i.callbackNode=null,i.callbackPriority=0;else if(s=p&-p,i.callbackPriority!==s){if(u!=null&&Vr(u),s===1)i.tag===0?Tn(xl.bind(null,i)):Sn(xl.bind(null,i)),Qt?In(function(){si===0&&ir()}):us(P,ir),u=null;else{switch(na(p)){case 1:u=P;break;case 4:u=V;break;case 16:u=pe;break;case 536870912:u=Fe;break;default:u=pe}u=nr(u,Pc.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function Pc(i,s){if(Vl=-1,Fl=0,si&6)throw Error(de(327));var u=i.callbackNode;if(Pe()&&i.callbackNode!==u)return null;var p=Fo(i,i===Mo?Xo:0);if(p===0)return null;if(p&30||p&i.expiredLanes||s)s=Zl(i,p);else{s=p;var _=si;si|=2;var L=$l();(Mo!==i||Xo!==s)&&($1(),h1(i,s));do try{h();break}catch(rt){fc(i,rt)}while(1);ai(),F1.current=L,si=_,Po!==null?s=0:(Mo=null,Xo=0,s=Lo)}if(s!==0){if(s===2&&(_=Va(i),_!==0&&(p=_,s=ba(i,_))),s===1)throw u=hl,h1(i,0),d1(i,p),Zs(i,po()),u;if(s===6)d1(i,p);else{if(_=i.current.alternate,!(p&30)&&!nu(_)&&(s=Zl(i,p),s===2&&(L=Va(i),L!==0&&(p=L,s=ba(i,L))),s===1))throw u=hl,h1(i,0),d1(i,p),Zs(i,po()),u;switch(i.finishedWork=_,i.finishedLanes=p,s){case 0:case 1:throw Error(de(345));case 2:N(i,Ws);break;case 3:if(d1(i,p),(p&130023424)===p&&(s=gl+500-po(),10<s)){if(Fo(i,0)!==0)break;if(_=i.suspendedLanes,(_&p)!==p){Ds(),i.pingedLanes|=i.suspendedLanes&_;break}i.timeoutHandle=ye(N.bind(null,i,Ws),s);break}N(i,Ws);break;case 4:if(d1(i,p),(p&4194240)===p)break;for(s=i.eventTimes,_=-1;0<p;){var Se=31-Fi(p);L=1<<Se,Se=s[Se],Se>_&&(_=Se),p&=~L}if(p=_,p=po()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Ac(p/1960))-p,10<p){i.timeoutHandle=ye(N.bind(null,i,Ws),p);break}N(i,Ws);break;case 5:N(i,Ws);break;default:throw Error(de(329))}}}return Zs(i,po()),i.callbackNode===u?Pc.bind(null,i):null}function ba(i,s){var u=ml;return i.current.memoizedState.isDehydrated&&(h1(i,s).flags|=256),i=Zl(i,s),i!==2&&(s=Ws,Ws=u,s!==null&&uc(s)),i}function uc(i){Ws===null?Ws=i:Ws.push.apply(Ws,i)}function nu(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var _=u[p],L=_.getSnapshot;_=_.value;try{if(!R(L(),_))return!1}catch(Se){return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function d1(i,s){for(s&=~cc,s&=~Nl,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-Fi(s),p=1<<u;i[u]=-1,s&=~p}}function xl(i){if(si&6)throw Error(de(327));Pe();var s=Fo(i,0);if(!(s&1))return Zs(i,po()),null;var u=Zl(i,s);if(i.tag!==0&&u===2){var p=Va(i);p!==0&&(s=p,u=ba(i,p))}if(u===1)throw u=hl,h1(i,0),d1(i,s),Zs(i,po()),u;if(u===6)throw Error(de(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,N(i,Ws),Zs(i,po()),null}function Ic(i){ea!==null&&ea.tag===0&&!(si&6)&&Pe();var s=si;si|=1;var u=Vo.transition,p=Kr;try{if(Vo.transition=null,Kr=1,i)return i()}finally{Kr=p,Vo.transition=u,si=s,!(si&6)&&ir()}}function kl(){Is=k1.current,$n(k1)}function h1(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==Te&&(i.timeoutHandle=Te,ke(u)),Po!==null)for(u=Po.return;u!==null;){var p=u;switch(ka(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&ho();break;case 3:hs(),$n(cr),$n(En),$o();break;case 5:mo(p);break;case 4:hs();break;case 13:$n(ce);break;case 19:$n(ce);break;case 10:Zi(p.type._context);break;case 22:case 23:kl()}u=u.return}if(Mo=i,Po=i=Er(i.current,null),Xo=Is=s,Lo=0,hl=null,cc=Nl=pl=0,Ws=ml=null,No!==null){for(s=0;s<No.length;s++)if(u=No[s],p=u.interleaved,p!==null){u.interleaved=null;var _=p.next,L=u.pending;if(L!==null){var Se=L.next;L.next=_,p.next=Se}u.pending=p}No=null}return i}function fc(i,s){do{var u=Po;try{if(ai(),Ts.current=tl,Ca){for(var p=to.memoizedState;p!==null;){var _=p.queue;_!==null&&(_.pending=null),p=p.next}Ca=!1}if(Bo=0,Eo=Wo=to=null,_a=!1,Ia=0,lc.current=null,u===null||u.return===null){Lo=1,hl=s,Po=null;break}e:{var L=i,Se=u.return,rt=u,Ut=s;if(s=Xo,rt.flags|=32768,Ut!==null&&typeof Ut=="object"&&typeof Ut.then=="function"){var Fn=Ut,fr=rt,qr=fr.tag;if(!(fr.mode&1)&&(qr===0||qr===11||qr===15)){var Ur=fr.alternate;Ur?(fr.updateQueue=Ur.updateQueue,fr.memoizedState=Ur.memoizedState,fr.lanes=Ur.lanes):(fr.updateQueue=null,fr.memoizedState=null)}var Vi=w1(Se);if(Vi!==null){Vi.flags&=-257,ec(Vi,Se,rt,L,s),Vi.mode&1&&B1(L,Fn,s),s=Vi,Ut=Fn;var kn=s.updateQueue;if(kn===null){var Ri=new Set;Ri.add(Ut),s.updateQueue=Ri}else kn.add(Ut);break e}else{if(!(s&1)){B1(L,Fn,s),Wl();break e}Ut=Error(de(426))}}else if(Ji&&rt.mode&1){var To=w1(Se);if(To!==null){!(To.flags&65536)&&(To.flags|=256),ec(To,Se,rt,L,s),Wa(Ut);break e}}L=Ut,Lo!==4&&(Lo=2),ml===null?ml=[L]:ml.push(L),Ut=ki(Ut,rt),rt=Se;do{switch(rt.tag){case 3:rt.flags|=65536,s&=-s,rt.lanes|=s;var wt=Ll(rt,Ut,s);g1(rt,wt);break e;case 1:L=Ut;var ft=rt.type,Ht=rt.stateNode;if(!(rt.flags&128)&&(typeof ft.getDerivedStateFromError=="function"||Ht!==null&&typeof Ht.componentDidCatch=="function"&&(Ma===null||!Ma.has(Ht)))){rt.flags|=65536,s&=-s,rt.lanes|=s;var hr=Ja(rt,L,s);g1(rt,hr);break e}}rt=rt.return}while(rt!==null)}I(u)}catch(Dr){s=Dr,Po===u&&u!==null&&(Po=u=u.return);continue}break}while(1)}function $l(){var i=F1.current;return F1.current=tl,i===null?tl:i}function Wl(){(Lo===0||Lo===3||Lo===2)&&(Lo=4),Mo===null||!(pl&268435455)&&!(Nl&268435455)||d1(Mo,Xo)}function Zl(i,s){var u=si;si|=2;var p=$l();Mo===i&&Xo===s||h1(i,s);do try{ru();break}catch(_){fc(i,_)}while(1);if(ai(),si=u,F1.current=p,Po!==null)throw Error(de(261));return Mo=null,Xo=0,Lo}function ru(){for(;Po!==null;)w(Po)}function h(){for(;Po!==null&&!Ko();)w(Po)}function w(i){var s=er(i.alternate,i,Is);i.memoizedProps=i.pendingProps,s===null?I(i):Po=s,lc.current=null}function I(i){var s=i;do{var u=s.alternate;if(i=s.return,s.flags&32768){if(u=ol(u,s),u!==null){u.flags&=32767,Po=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Lo=6,Po=null;return}}else if(u=Tl(u,s,Is),u!==null){Po=u;return}if(s=s.sibling,s!==null){Po=s;return}Po=s=i}while(s!==null);Lo===0&&(Lo=5)}function N(i,s){var u=Kr,p=Vo.transition;try{Vo.transition=null,Kr=1,_e(i,s,u)}finally{Vo.transition=p,Kr=u}return null}function _e(i,s,u){do Pe();while(ea!==null);if(si&6)throw Error(de(327));var p=i.finishedWork,_=i.finishedLanes;if(p===null)return null;if(i.finishedWork=null,i.finishedLanes=0,p===i.current)throw Error(de(177));i.callbackNode=null,i.callbackPriority=0;var L=p.lanes|p.childLanes;if(cs(i,L),i===Mo&&(Po=Mo=null,Xo=0),!(p.subtreeFlags&2064)&&!(p.flags&2064)||A1||(A1=!0,nr(pe,function(){return Pe(),null})),L=(p.flags&15990)!==0,p.subtreeFlags&15990||L){L=Vo.transition,Vo.transition=null;var Se=Kr;Kr=1;var rt=si;si|=4,lc.current=null,Lc(i,p),tu(i,p,_),me(i.containerInfo),i.current=p,fl(p,i,_),ts(),si=rt,Kr=Se,Vo.transition=L}else i.current=p;if(A1&&(A1=!1,ea=i,vl=_),L=i.pendingLanes,L===0&&(Ma=null),z(p.stateNode,u),Zs(i,po()),s!==null)for(u=i.onRecoverableError,p=0;p<s.length;p++)u(s[p]);if(Ul)throw Ul=!1,i=ca,ca=null,i;return vl&1&&i.tag!==0&&Pe(),L=i.pendingLanes,L&1?i===Os?Cl++:(Cl=0,Os=i):Cl=0,ir(),null}function Pe(){if(ea!==null){var i=na(vl),s=Vo.transition,u=Kr;try{if(Vo.transition=null,Kr=16>i?16:i,ea===null)var p=!1;else{if(i=ea,ea=null,vl=0,si&6)throw Error(de(331));var _=si;for(si|=4,xn=i.current;xn!==null;){var L=xn,Se=L.child;if(xn.flags&16){var rt=L.deletions;if(rt!==null){for(var Ut=0;Ut<rt.length;Ut++){var Fn=rt[Ut];for(xn=Fn;xn!==null;){var fr=xn;switch(fr.tag){case 0:case 11:case 15:qo(8,fr,L)}var qr=fr.child;if(qr!==null)qr.return=fr,xn=qr;else for(;xn!==null;){fr=xn;var Ur=fr.sibling,Vi=fr.return;if(al(fr),fr===Fn){xn=null;break}if(Ur!==null){Ur.return=Vi,xn=Ur;break}xn=Vi}}}var kn=L.alternate;if(kn!==null){var Ri=kn.child;if(Ri!==null){kn.child=null;do{var To=Ri.sibling;Ri.sibling=null,Ri=To}while(Ri!==null)}}xn=L}}if(L.subtreeFlags&2064&&Se!==null)Se.return=L,xn=Se;else e:for(;xn!==null;){if(L=xn,L.flags&2048)switch(L.tag){case 0:case 11:case 15:qo(9,L,L.return)}var wt=L.sibling;if(wt!==null){wt.return=L.return,xn=wt;break e}xn=L.return}}var ft=i.current;for(xn=ft;xn!==null;){Se=xn;var Ht=Se.child;if(Se.subtreeFlags&2064&&Ht!==null)Ht.return=Se,xn=Ht;else e:for(Se=ft;xn!==null;){if(rt=xn,rt.flags&2048)try{switch(rt.tag){case 0:case 11:case 15:ya(9,rt)}}catch(Dr){Dt(rt,rt.return,Dr)}if(rt===Se){xn=null;break e}var hr=rt.sibling;if(hr!==null){hr.return=rt.return,xn=hr;break e}xn=rt.return}}if(si=_,ir(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(gt,i)}catch(Dr){}p=!0}return p}finally{Kr=u,Vo.transition=s}}return!1}function ht(i,s,u){s=ki(u,s),s=Ll(i,s,1),Ys(i,s),s=Ds(),i=_l(i,1),i!==null&&(oo(i,1,s),Zs(i,s))}function Dt(i,s,u){if(i.tag===3)ht(i,i,u);else for(;s!==null;){if(s.tag===3){ht(s,i,u);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ma===null||!Ma.has(p))){i=ki(u,i),i=Ja(s,i,1),Ys(s,i),i=Ds(),s=_l(s,1),s!==null&&(oo(s,1,i),Zs(s,i));break}}s=s.return}}function yn(i,s,u){var p=i.pingCache;p!==null&&p.delete(s),s=Ds(),i.pingedLanes|=i.suspendedLanes&u,Mo===i&&(Xo&u)===u&&(Lo===4||Lo===3&&(Xo&130023424)===Xo&&500>po()-gl?h1(i,0):cc|=u),Zs(i,s)}function cn(i,s){s===0&&(i.mode&1?(s=Ss,Ss<<=1,!(Ss&130023424)&&(Ss=4194304)):s=1);var u=Ds();i=_l(i,s),i!==null&&(oo(i,s,u),Zs(i,u))}function sr(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),cn(i,u)}function Yn(i,s){var u=0;switch(i.tag){case 13:var p=i.stateNode,_=i.memoizedState;_!==null&&(u=_.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(de(314))}p!==null&&p.delete(s),cn(i,u)}var er;er=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||cr.current)ar=!0;else{if(!(i.lanes&u)&&!(s.flags&128))return ar=!1,Rc(i,s,u);ar=!!(i.flags&131072)}else ar=!1,Ji&&s.flags&1048576&&Jr(s,r1,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),i=s.pendingProps;var _=yi(s,En.current);Bi(s,u),_=Ga(null,s,p,i,_,u);var L=C1();return s.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Wr(p)?(L=!0,Di(s)):L=!1,s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,da(s),_.updater=so,s.stateNode=_,_._reactInternals=s,D1(s,p,i,u),s=S1(null,s,p,!0,L,u)):(s.tag=0,Ji&&L&&Es(s),no(null,s,_,u),s=s.child),s;case 16:p=s.elementType;e:{switch(i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),i=s.pendingProps,_=p._init,p=_(p._payload),s.type=p,_=s.tag=vi(p),i=gr(p,i),_){case 0:s=rc(null,s,p,i,u);break e;case 1:s=Uo(null,s,p,i,u);break e;case 11:s=qa(null,s,p,i,u);break e;case 14:s=Da(null,s,p,gr(p.type,i),u);break e}throw Error(de(306,p,""))}return s;case 0:return p=s.type,_=s.pendingProps,_=s.elementType===p?_:gr(p,_),rc(i,s,p,_,u);case 1:return p=s.type,_=s.pendingProps,_=s.elementType===p?_:gr(p,_),Uo(i,s,p,_,u);case 3:e:{if(go(s),i===null)throw Error(de(387));p=s.pendingProps,L=s.memoizedState,_=L.element,fs(i,s),pa(s,p,null,u);var Se=s.memoizedState;if(p=Se.element,pt&&L.isDehydrated)if(L={element:p,isDehydrated:!1,cache:Se.cache,transitions:Se.transitions},s.updateQueue.baseState=L,s.memoizedState=L,s.flags&256){_=Error(de(423)),s=Al(i,s,p,u,_);break e}else if(p!==_){_=Error(de(424)),s=Al(i,s,p,u,_);break e}else for(pt&&(wi=T(s.stateNode.containerInfo),Rs=s,Ji=!0,Do=null,i1=!1),u=K1(s,null,p,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(o1(),p===_){s=jo(i,s,u);break e}no(i,s,p,u)}s=s.child}return s;case 5:return Za(s),i===null&&ra(s),p=s.type,_=s.pendingProps,L=i!==null?i.memoizedProps:null,Se=_.children,Le(p,_)?Se=null:L!==null&&Le(p,L)&&(s.flags|=32),c1(i,s),no(i,s,Se,u),s.child;case 6:return i===null&&ra(s),null;case 13:return Sc(i,s,u);case 4:return os(s,s.stateNode.containerInfo),p=s.pendingProps,i===null?s.child=va(s,null,p,u):no(i,s,p,u),s.child;case 11:return p=s.type,_=s.pendingProps,_=s.elementType===p?_:gr(p,_),qa(i,s,p,_,u);case 7:return no(i,s,s.pendingProps,u),s.child;case 8:return no(i,s,s.pendingProps.children,u),s.child;case 12:return no(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(p=s.type._context,_=s.pendingProps,L=s.memoizedProps,Se=_.value,Oi(s,p,Se),L!==null)if(R(L.value,Se)){if(L.children===_.children&&!cr.current){s=jo(i,s,u);break e}}else for(L=s.child,L!==null&&(L.return=s);L!==null;){var rt=L.dependencies;if(rt!==null){Se=L.child;for(var Ut=rt.firstContext;Ut!==null;){if(Ut.context===p){if(L.tag===1){Ut=Ei(-1,u&-u),Ut.tag=2;var Fn=L.updateQueue;if(Fn!==null){Fn=Fn.shared;var fr=Fn.pending;fr===null?Ut.next=Ut:(Ut.next=fr.next,fr.next=Ut),Fn.pending=Ut}}L.lanes|=u,Ut=L.alternate,Ut!==null&&(Ut.lanes|=u),lo(L.return,u,s),rt.lanes|=u;break}Ut=Ut.next}}else if(L.tag===10)Se=L.type===s.type?null:L.child;else if(L.tag===18){if(Se=L.return,Se===null)throw Error(de(341));Se.lanes|=u,rt=Se.alternate,rt!==null&&(rt.lanes|=u),lo(Se,u,s),Se=L.sibling}else Se=L.child;if(Se!==null)Se.return=L;else for(Se=L;Se!==null;){if(Se===s){Se=null;break}if(L=Se.sibling,L!==null){L.return=Se.return,Se=L;break}Se=Se.return}L=Se}no(i,s,_.children,u),s=s.child}return s;case 9:return _=s.type,p=s.pendingProps.children,Bi(s,u),_=Hi(_),p=p(_),s.flags|=1,no(i,s,p,u),s.child;case 14:return p=s.type,_=gr(p,s.pendingProps),_=gr(p.type,_),Da(i,s,p,_,u);case 15:return bc(i,s,s.type,s.pendingProps,u);case 17:return p=s.type,_=s.pendingProps,_=s.elementType===p?_:gr(p,_),i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),s.tag=1,Wr(p)?(i=!0,Di(s)):i=!1,Bi(s,u),G1(s,p,_),D1(s,p,_,u),S1(null,s,p,!0,i,u);case 19:return Ec(i,s,u);case 22:return As(i,s,u)}throw Error(de(156,s.tag))};function nr(i,s){return us(i,s)}function Pr(i,s,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(i,s,u,p){return new Pr(i,s,u,p)}function zi(i){return i=i.prototype,!(!i||!i.isReactComponent)}function vi(i){if(typeof i=="function")return zi(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Hn)return 11;if(i===ot)return 14}return 2}function Er(i,s){var u=i.alternate;return u===null?(u=Wn(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Ci(i,s,u,p,_,L){var Se=2;if(p=i,typeof i=="function")zi(i)&&(Se=1);else if(typeof i=="string")Se=5;else e:switch(i){case at:return Mr(u.children,_,L,s);case xe:Se=8,_|=8;break;case mt:return i=Wn(12,u,s,_|2),i.elementType=mt,i.lanes=L,i;case fn:return i=Wn(13,u,s,_),i.elementType=fn,i.lanes=L,i;case gn:return i=Wn(19,u,s,_),i.elementType=gn,i.lanes=L,i;case vn:return Ar(u,_,L,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Lt:Se=10;break e;case ee:Se=9;break e;case Hn:Se=11;break e;case ot:Se=14;break e;case At:Se=16,p=null;break e}throw Error(de(130,i==null?i:typeof i,""))}return s=Wn(Se,u,s,_),s.elementType=i,s.type=p,s.lanes=L,s}function Mr(i,s,u,p){return i=Wn(7,i,p,s),i.lanes=u,i}function Ar(i,s,u,p){return i=Wn(22,i,p,s),i.elementType=vn,i.lanes=u,i.stateNode={},i}function ji(i,s,u){return i=Wn(6,i,null,s),i.lanes=u,i}function Ui(i,s,u){return s=Wn(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Gi(i,s,u,p,_){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Te,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fa(0),this.expirationTimes=fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.identifierPrefix=p,this.onRecoverableError=_,pt&&(this.mutableSourceEagerHydrationData=null)}function Hs(i,s,u,p,_,L,Se,rt,Ut){return i=new Gi(i,s,u,rt,Ut),s===1?(s=1,L===!0&&(s|=8)):s=0,L=Wn(3,null,null,s),i.current=L,L.stateNode=i,L.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null},da(L),i}function ao(i){if(!i)return _r;i=i._reactInternals;e:{if(An(i)!==i||i.tag!==1)throw Error(de(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Wr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(de(171))}if(i.tag===1){var u=i.type;if(Wr(u))return Ki(i,u,s)}return s}function Yo(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(de(188)):(i=Object.keys(i).join(","),Error(de(268,i)));return i=Ke(s),i===null?null:i.stateNode}function js(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function Gs(i,s){js(i,s),(i=i.alternate)&&js(i,s)}function ps(i){return i=Ke(i),i===null?null:i.stateNode}function zs(){return null}return D.attemptContinuousHydration=function(i){if(i.tag===13){var s=Ds();ua(i,134217728,s),Gs(i,134217728)}},D.attemptHydrationAtCurrentPriority=function(i){if(i.tag===13){var s=Ds(),u=t1(i);ua(i,u,s),Gs(i,u)}},D.attemptSynchronousHydration=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=vs(s.pendingLanes);u!==0&&(Xs(s,u|1),Zs(s,po()),!(si&6)&&($1(),ir()))}break;case 13:var p=Ds();Ic(function(){return ua(i,1,p)}),Gs(i,1)}},D.batchedUpdates=function(i,s){var u=si;si|=1;try{return i(s)}finally{si=u,si===0&&($1(),ze&&ir())}},D.createComponentSelector=function(i){return{$$typeof:wa,value:i}},D.createContainer=function(i,s,u,p,_,L,Se){return Hs(i,s,!1,null,u,p,_,L,Se)},D.createHasPseudoClassSelector=function(i){return{$$typeof:dl,value:i}},D.createHydrationContainer=function(i,s,u,p,_,L,Se,rt,Ut){return i=Hs(u,p,!0,i,_,L,Se,rt,Ut),i.context=ao(null),u=i.current,p=Ds(),_=t1(u),L=Ei(p,_),L.callback=s!=null?s:null,Ys(u,L),i.current.lanes=_,oo(i,_,p),Zs(i,p),i},D.createPortal=function(i,s,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Be,key:p==null?null:""+p,children:i,containerInfo:s,implementation:u}},D.createRoleSelector=function(i){return{$$typeof:Hl,value:i}},D.createTestNameSelector=function(i){return{$$typeof:zl,value:i}},D.createTextSelector=function(i){return{$$typeof:Qs,value:i}},D.deferredUpdates=function(i){var s=Kr,u=Vo.transition;try{return Vo.transition=null,Kr=16,i()}finally{Kr=s,Vo.transition=u}},D.discreteUpdates=function(i,s,u,p,_){var L=Kr,Se=Vo.transition;try{return Vo.transition=null,Kr=1,i(s,u,p,_)}finally{Kr=L,Vo.transition=Se,si===0&&$1()}},D.findAllNodes=T1,D.findBoundingRects=function(i,s){if(!sn)throw Error(de(363));s=T1(i,s),i=[];for(var u=0;u<s.length;u++)i.push(Cr(s[u]));for(s=i.length-1;0<s;s--){u=i[s];for(var p=u.x,_=p+u.width,L=u.y,Se=L+u.height,rt=s-1;0<=rt;rt--)if(s!==rt){var Ut=i[rt],Fn=Ut.x,fr=Fn+Ut.width,qr=Ut.y,Ur=qr+Ut.height;if(p>=Fn&&L>=qr&&_<=fr&&Se<=Ur){i.splice(s,1);break}else if(p!==Fn||u.width!==Ut.width||Ur<L||qr>Se){if(!(L!==qr||u.height!==Ut.height||fr<p||Fn>_)){Fn>p&&(Ut.width+=Fn-p,Ut.x=p),fr<_&&(Ut.width=_-Fn),i.splice(s,1);break}}else{qr>L&&(Ut.height+=qr-L,Ut.y=L),Ur<Se&&(Ut.height=Se-qr),i.splice(s,1);break}}}return i},D.findHostInstance=Yo,D.findHostInstanceWithNoPortals=function(i){return i=Me(i),i=i!==null?nt(i):null,i===null?null:i.stateNode},D.findHostInstanceWithWarning=function(i){return Yo(i)},D.flushControlled=function(i){var s=si;si|=1;var u=Vo.transition,p=Kr;try{Vo.transition=null,Kr=1,i()}finally{Kr=p,Vo.transition=u,si=s,si===0&&($1(),ir())}},D.flushPassiveEffects=Pe,D.flushSync=Ic,D.focusWithin=function(i,s){if(!sn)throw Error(de(363));for(i=Qo(i),s=ac(i,s),s=Array.from(s),i=0;i<s.length;){var u=s[i++];if(!Tt(u)){if(u.tag===5&&_n(u.stateNode))return!0;for(u=u.child;u!==null;)s.push(u),u=u.sibling}}return!1},D.getCurrentUpdatePriority=function(){return Kr},D.getFindAllNodesFailureDescription=function(i,s){if(!sn)throw Error(de(363));var u=0,p=[];i=[Qo(i),0];for(var _=0;_<i.length;){var L=i[_++],Se=i[_++],rt=s[Se];if((L.tag!==5||!Tt(L))&&(f1(L,rt)&&(p.push(e1(rt)),Se++,Se>u&&(u=Se)),Se<s.length))for(L=L.child;L!==null;)i.push(L,Se),L=L.sibling}if(u<s.length){for(i=[];u<s.length;u++)i.push(e1(s[u]));return`findAllNodes was able to match part of the selector:
  `+(p.join(" > ")+`

No matching component was found for:
  `)+i.join(" > ")}return null},D.getPublicRootInstance=function(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return Oe(i.child.stateNode);default:return i.child.stateNode}},D.injectIntoDevTools=function(i){if(i={bundleType:i.bundleType,version:i.version,rendererPackageName:i.rendererPackageName,rendererConfig:i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ot.ReactCurrentDispatcher,findHostInstanceByFiber:ps,findFiberByHostInstance:i.findFiberByHostInstance||zs,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")i=!1;else{var s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(s.isDisabled||!s.supportsFiber)i=!0;else{try{gt=s.inject(i),ut=s}catch(u){}i=!!s.checkDCE}}return i},D.isAlreadyRendering=function(){return!1},D.observeVisibleRects=function(i,s,u,p){if(!sn)throw Error(de(363));i=T1(i,s);var _=en(i,u,p).disconnect;return{disconnect:function(){_()}}},D.registerMutableSourceForHydration=function(i,s){var u=s._getVersion;u=u(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,u]:i.mutableSourceEagerHydrationData.push(s,u)},D.runWithPriority=function(i,s){var u=Kr;try{return Kr=i,s()}finally{Kr=u}},D.shouldError=function(){return null},D.shouldSuspend=function(){return!1},D.updateContainer=function(i,s,u,p){var _=s.current,L=Ds(),Se=t1(_);return u=ao(u),s.context===null?s.context=u:s.pendingContext=u,s=Ei(L,Se),s.payload={element:i},p=p===void 0?null:p,p!==null&&(s.callback=p),Ys(_,s),i=ua(_,Se,L),i!==null&&ha(i,_,Se),Se},D}},85259:function(qt,je,G){"use strict";qt.exports=G(23406)},97427:function(qt,je,G){"use strict";qt.exports=G(45658)},94440:function(qt,je,G){"use strict";G.d(je,{Z:function(){return Ne}});var S=G(50959),B=G(31110),D=G.n(B);function Ne(Be){let{debounce:at,scroll:xe,polyfill:mt,offsetSize:Lt}=Be===void 0?{debounce:0,scroll:!1,offsetSize:!1}:Be;const ee=mt||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!ee)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[Hn,fn]=(0,S.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),gn=(0,S.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:Hn}),ot=at?typeof at=="number"?at:at.scroll:null,At=at?typeof at=="number"?at:at.resize:null,vn=(0,S.useRef)(!1);(0,S.useEffect)(()=>(vn.current=!0,()=>void(vn.current=!1)));const[Kt,Cn,ln]=(0,S.useMemo)(()=>{const Me=()=>{if(!gn.current.element)return;const{left:Ke,top:ae,width:nt,height:Ae,bottom:Oe,right:Ce,x:F,y:K}=gn.current.element.getBoundingClientRect(),me={left:Ke,top:ae,width:nt,height:Ae,bottom:Oe,right:Ce,x:F,y:K};gn.current.element instanceof HTMLElement&&Lt&&(me.height=gn.current.element.offsetHeight,me.width=gn.current.element.offsetWidth),Object.freeze(me),vn.current&&!he(gn.current.lastBounds,me)&&fn(gn.current.lastBounds=me)};return[Me,At?D()(Me,At):Me,ot?D()(Me,ot):Me]},[fn,Lt,ot,At]);function Wt(){gn.current.scrollContainers&&(gn.current.scrollContainers.forEach(Me=>Me.removeEventListener("scroll",ln,!0)),gn.current.scrollContainers=null),gn.current.resizeObserver&&(gn.current.resizeObserver.disconnect(),gn.current.resizeObserver=null)}function An(){gn.current.element&&(gn.current.resizeObserver=new ee(ln),gn.current.resizeObserver.observe(gn.current.element),xe&&gn.current.scrollContainers&&gn.current.scrollContainers.forEach(Me=>Me.addEventListener("scroll",ln,{capture:!0,passive:!0})))}const Yt=Me=>{!Me||Me===gn.current.element||(Wt(),gn.current.element=Me,gn.current.scrollContainers=de(Me),An())};return xt(ln,Boolean(xe)),qe(Cn),(0,S.useEffect)(()=>{Wt(),An()},[xe,ln,Cn]),(0,S.useEffect)(()=>Wt,[]),[Yt,Hn,Kt]}function qe(Be){(0,S.useEffect)(()=>{const at=Be;return window.addEventListener("resize",at),()=>void window.removeEventListener("resize",at)},[Be])}function xt(Be,at){(0,S.useEffect)(()=>{if(at){const xe=Be;return window.addEventListener("scroll",xe,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",xe,!0)}},[Be,at])}function de(Be){const at=[];if(!Be||Be===document.body)return at;const{overflow:xe,overflowX:mt,overflowY:Lt}=window.getComputedStyle(Be);return[xe,mt,Lt].some(ee=>ee==="auto"||ee==="scroll")&&at.push(Be),[...at,...de(Be.parentElement)]}const Ot=["x","y","top","bottom","left","right","width","height"],he=(Be,at)=>Ot.every(xe=>Be[xe]===at[xe])},70247:function(qt,je){"use strict";function G(Oe,Ce){var F=Oe.length;Oe.push(Ce);e:for(;0<F;){var K=F-1>>>1,me=Oe[K];if(0<D(me,Ce))Oe[K]=Ce,Oe[F]=me,F=K;else break e}}function S(Oe){return Oe.length===0?null:Oe[0]}function B(Oe){if(Oe.length===0)return null;var Ce=Oe[0],F=Oe.pop();if(F!==Ce){Oe[0]=F;e:for(var K=0,me=Oe.length,W=me>>>1;K<W;){var se=2*(K+1)-1,te=Oe[se],ge=se+1,Le=Oe[ge];if(0>D(te,F))ge<me&&0>D(Le,te)?(Oe[K]=Le,Oe[ge]=F,K=ge):(Oe[K]=te,Oe[se]=F,K=se);else if(ge<me&&0>D(Le,F))Oe[K]=Le,Oe[ge]=F,K=ge;else break e}}return Ce}function D(Oe,Ce){var F=Oe.sortIndex-Ce.sortIndex;return F!==0?F:Oe.id-Ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Ne=performance;je.unstable_now=function(){return Ne.now()}}else{var qe=Date,xt=qe.now();je.unstable_now=function(){return qe.now()-xt}}var de=[],Ot=[],he=1,Be=null,at=3,xe=!1,mt=!1,Lt=!1,ee=typeof setTimeout=="function"?setTimeout:null,Hn=typeof clearTimeout=="function"?clearTimeout:null,fn=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function gn(Oe){for(var Ce=S(Ot);Ce!==null;){if(Ce.callback===null)B(Ot);else if(Ce.startTime<=Oe)B(Ot),Ce.sortIndex=Ce.expirationTime,G(de,Ce);else break;Ce=S(Ot)}}function ot(Oe){if(Lt=!1,gn(Oe),!mt)if(S(de)!==null)mt=!0,nt(At);else{var Ce=S(Ot);Ce!==null&&Ae(ot,Ce.startTime-Oe)}}function At(Oe,Ce){mt=!1,Lt&&(Lt=!1,Hn(Cn),Cn=-1),xe=!0;var F=at;try{for(gn(Ce),Be=S(de);Be!==null&&(!(Be.expirationTime>Ce)||Oe&&!An());){var K=Be.callback;if(typeof K=="function"){Be.callback=null,at=Be.priorityLevel;var me=K(Be.expirationTime<=Ce);Ce=je.unstable_now(),typeof me=="function"?Be.callback=me:Be===S(de)&&B(de),gn(Ce)}else B(de);Be=S(de)}if(Be!==null)var W=!0;else{var se=S(Ot);se!==null&&Ae(ot,se.startTime-Ce),W=!1}return W}finally{Be=null,at=F,xe=!1}}var vn=!1,Kt=null,Cn=-1,ln=5,Wt=-1;function An(){return!(je.unstable_now()-Wt<ln)}function Yt(){if(Kt!==null){var Oe=je.unstable_now();Wt=Oe;var Ce=!0;try{Ce=Kt(!0,Oe)}finally{Ce?Me():(vn=!1,Kt=null)}}else vn=!1}var Me;if(typeof fn=="function")Me=function(){fn(Yt)};else if(typeof MessageChannel!="undefined"){var Ke=new MessageChannel,ae=Ke.port2;Ke.port1.onmessage=Yt,Me=function(){ae.postMessage(null)}}else Me=function(){ee(Yt,0)};function nt(Oe){Kt=Oe,vn||(vn=!0,Me())}function Ae(Oe,Ce){Cn=ee(function(){Oe(je.unstable_now())},Ce)}je.unstable_IdlePriority=5,je.unstable_ImmediatePriority=1,je.unstable_LowPriority=4,je.unstable_NormalPriority=3,je.unstable_Profiling=null,je.unstable_UserBlockingPriority=2,je.unstable_cancelCallback=function(Oe){Oe.callback=null},je.unstable_continueExecution=function(){mt||xe||(mt=!0,nt(At))},je.unstable_forceFrameRate=function(Oe){0>Oe||125<Oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ln=0<Oe?Math.floor(1e3/Oe):5},je.unstable_getCurrentPriorityLevel=function(){return at},je.unstable_getFirstCallbackNode=function(){return S(de)},je.unstable_next=function(Oe){switch(at){case 1:case 2:case 3:var Ce=3;break;default:Ce=at}var F=at;at=Ce;try{return Oe()}finally{at=F}},je.unstable_pauseExecution=function(){},je.unstable_requestPaint=function(){},je.unstable_runWithPriority=function(Oe,Ce){switch(Oe){case 1:case 2:case 3:case 4:case 5:break;default:Oe=3}var F=at;at=Oe;try{return Ce()}finally{at=F}},je.unstable_scheduleCallback=function(Oe,Ce,F){var K=je.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?K+F:K):F=K,Oe){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=F+me,Oe={id:he++,callback:Ce,priorityLevel:Oe,startTime:F,expirationTime:me,sortIndex:-1},F>K?(Oe.sortIndex=F,G(Ot,Oe),S(de)===null&&Oe===S(Ot)&&(Lt?(Hn(Cn),Cn=-1):Lt=!0,Ae(ot,F-K))):(Oe.sortIndex=me,G(de,Oe),mt||xe||(mt=!0,nt(At))),Oe},je.unstable_shouldYield=An,je.unstable_wrapCallback=function(Oe){var Ce=at;return function(){var F=at;at=Ce;try{return Oe.apply(this,arguments)}finally{at=F}}}},65297:function(qt,je,G){"use strict";qt.exports=G(70247)},67839:function(qt,je,G){var S=G(49154),B=G(14614);function D(Ne,qe,xt){return B()?(qt.exports=D=Reflect.construct.bind(),qt.exports.__esModule=!0,qt.exports.default=qt.exports):(qt.exports=D=function(Ot,he,Be){var at=[null];at.push.apply(at,he);var xe=Function.bind.apply(Ot,at),mt=new xe;return Be&&S(mt,Be.prototype),mt},qt.exports.__esModule=!0,qt.exports.default=qt.exports),D.apply(null,arguments)}qt.exports=D,qt.exports.__esModule=!0,qt.exports.default=qt.exports},14614:function(qt){function je(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(G){return!1}}qt.exports=je,qt.exports.__esModule=!0,qt.exports.default=qt.exports},49154:function(qt){function je(G,S){return qt.exports=je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,Ne){return D.__proto__=Ne,D},qt.exports.__esModule=!0,qt.exports.default=qt.exports,je(G,S)}qt.exports=je,qt.exports.__esModule=!0,qt.exports.default=qt.exports},18846:function(qt,je,G){"use strict";G.d(je,{Uy:function(){return jt}});function S(ve){for(var Xe=arguments.length,$e=Array(Xe>1?Xe-1:0),Ye=1;Ye<Xe;Ye++)$e[Ye-1]=arguments[Ye];if(!1)var Pt,Dn;throw Error("[Immer] minified error nr: "+ve+($e.length?" "+$e.map(function(bn){return"'"+bn+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function B(ve){return!!ve&&!!ve[Ue]}function D(ve){var Xe;return!!ve&&(function($e){if(!$e||typeof $e!="object")return!1;var Ye=Object.getPrototypeOf($e);if(Ye===null)return!0;var Pt=Object.hasOwnProperty.call(Ye,"constructor")&&Ye.constructor;return Pt===Object||typeof Pt=="function"&&Function.toString.call(Pt)===Rn}(ve)||Array.isArray(ve)||!!ve[pt]||!!(!((Xe=ve.constructor)===null||Xe===void 0)&&Xe[pt])||at(ve)||xe(ve))}function Ne(ve){return B(ve)||S(23,ve),ve[Ue].t}function qe(ve,Xe,$e){$e===void 0&&($e=!1),xt(ve)===0?($e?Object.keys:Qt)(ve).forEach(function(Ye){$e&&typeof Ye=="symbol"||Xe(Ye,ve[Ye],ve)}):ve.forEach(function(Ye,Pt){return Xe(Pt,Ye,ve)})}function xt(ve){var Xe=ve[Ue];return Xe?Xe.i>3?Xe.i-4:Xe.i:Array.isArray(ve)?1:at(ve)?2:xe(ve)?3:0}function de(ve,Xe){return xt(ve)===2?ve.has(Xe):Object.prototype.hasOwnProperty.call(ve,Xe)}function Ot(ve,Xe){return xt(ve)===2?ve.get(Xe):ve[Xe]}function he(ve,Xe,$e){var Ye=xt(ve);Ye===2?ve.set(Xe,$e):Ye===3?ve.add($e):ve[Xe]=$e}function Be(ve,Xe){return ve===Xe?ve!==0||1/ve==1/Xe:ve!=ve&&Xe!=Xe}function at(ve){return Te&&ve instanceof Map}function xe(ve){return Et&&ve instanceof Set}function mt(ve){return ve.o||ve.t}function Lt(ve){if(Array.isArray(ve))return Array.prototype.slice.call(ve);var Xe=In(ve);delete Xe[Ue];for(var $e=Qt(Xe),Ye=0;Ye<$e.length;Ye++){var Pt=$e[Ye],Dn=Xe[Pt];Dn.writable===!1&&(Dn.writable=!0,Dn.configurable=!0),(Dn.get||Dn.set)&&(Xe[Pt]={configurable:!0,writable:!0,enumerable:Dn.enumerable,value:ve[Pt]})}return Object.create(Object.getPrototypeOf(ve),Xe)}function ee(ve,Xe){return Xe===void 0&&(Xe=!1),fn(ve)||B(ve)||!D(ve)||(xt(ve)>1&&(ve.set=ve.add=ve.clear=ve.delete=Hn),Object.freeze(ve),Xe&&qe(ve,function($e,Ye){return ee(Ye,!0)},!0)),ve}function Hn(){S(2)}function fn(ve){return ve==null||typeof ve!="object"||Object.isFrozen(ve)}function gn(ve){var Xe=sn[ve];return Xe||S(18,ve),Xe}function ot(ve,Xe){sn[ve]||(sn[ve]=Xe)}function At(){return ye}function vn(ve,Xe){Xe&&(gn("Patches"),ve.u=[],ve.s=[],ve.v=Xe)}function Kt(ve){Cn(ve),ve.p.forEach(Wt),ve.p=null}function Cn(ve){ve===ye&&(ye=ve.l)}function ln(ve){return ye={p:[],l:ye,h:ve,m:!0,_:0}}function Wt(ve){var Xe=ve[Ue];Xe.i===0||Xe.i===1?Xe.j():Xe.g=!0}function An(ve,Xe){Xe._=Xe.p.length;var $e=Xe.p[0],Ye=ve!==void 0&&ve!==$e;return Xe.h.O||gn("ES5").S(Xe,ve,Ye),Ye?($e[Ue].P&&(Kt(Xe),S(4)),D(ve)&&(ve=Yt(Xe,ve),Xe.l||Ke(Xe,ve)),Xe.u&&gn("Patches").M($e[Ue].t,ve,Xe.u,Xe.s)):ve=Yt(Xe,$e,[]),Kt(Xe),Xe.u&&Xe.v(Xe.u,Xe.s),ve!==_t?ve:void 0}function Yt(ve,Xe,$e){if(fn(Xe))return Xe;var Ye=Xe[Ue];if(!Ye)return qe(Xe,function(Nt,$t){return Me(ve,Ye,Xe,Nt,$t,$e)},!0),Xe;if(Ye.A!==ve)return Xe;if(!Ye.P)return Ke(ve,Ye.t,!0),Ye.t;if(!Ye.I){Ye.I=!0,Ye.A._--;var Pt=Ye.i===4||Ye.i===5?Ye.o=Lt(Ye.k):Ye.o,Dn=Pt,bn=!1;Ye.i===3&&(Dn=new Set(Pt),Pt.clear(),bn=!0),qe(Dn,function(Nt,$t){return Me(ve,Ye,Pt,Nt,$t,$e,bn)}),Ke(ve,Pt,!1),$e&&ve.u&&gn("Patches").N(Ye,$e,ve.u,ve.s)}return Ye.o}function Me(ve,Xe,$e,Ye,Pt,Dn,bn){if(B(Pt)){var Nt=Yt(ve,Pt,Dn&&Xe&&Xe.i!==3&&!de(Xe.R,Ye)?Dn.concat(Ye):void 0);if(he($e,Ye,Nt),!B(Nt))return;ve.m=!1}else bn&&$e.add(Pt);if(D(Pt)&&!fn(Pt)){if(!ve.h.D&&ve._<1)return;Yt(ve,Pt),Xe&&Xe.A.l||Ke(ve,Pt)}}function Ke(ve,Xe,$e){$e===void 0&&($e=!1),!ve.l&&ve.h.D&&ve.m&&ee(Xe,$e)}function ae(ve,Xe){var $e=ve[Ue];return($e?mt($e):ve)[Xe]}function nt(ve,Xe){if(Xe in ve)for(var $e=Object.getPrototypeOf(ve);$e;){var Ye=Object.getOwnPropertyDescriptor($e,Xe);if(Ye)return Ye;$e=Object.getPrototypeOf($e)}}function Ae(ve){ve.P||(ve.P=!0,ve.l&&Ae(ve.l))}function Oe(ve){ve.o||(ve.o=Lt(ve.t))}function Ce(ve,Xe,$e){var Ye=at(Xe)?gn("MapSet").F(Xe,$e):xe(Xe)?gn("MapSet").T(Xe,$e):ve.O?function(Pt,Dn){var bn=Array.isArray(Pt),Nt={i:bn?1:0,A:Dn?Dn.A:At(),P:!1,I:!1,R:{},l:Dn,t:Pt,k:null,o:null,j:null,C:!1},$t=Nt,lt=dn;bn&&($t=[Nt],lt=Cr);var oe=Proxy.revocable($t,lt),Ge=oe.revoke,Rt=oe.proxy;return Nt.k=Rt,Nt.j=Ge,Rt}(Xe,$e):gn("ES5").J(Xe,$e);return($e?$e.A:At()).p.push(Ye),Ye}function F(ve){return B(ve)||S(22,ve),function Xe($e){if(!D($e))return $e;var Ye,Pt=$e[Ue],Dn=xt($e);if(Pt){if(!Pt.P&&(Pt.i<4||!gn("ES5").K(Pt)))return Pt.t;Pt.I=!0,Ye=K($e,Dn),Pt.I=!1}else Ye=K($e,Dn);return qe(Ye,function(bn,Nt){Pt&&Ot(Pt.t,bn)===Nt||he(Ye,bn,Xe(Nt))}),Dn===3?new Set(Ye):Ye}(ve)}function K(ve,Xe){switch(Xe){case 2:return new Map(ve);case 3:return Array.from(ve)}return Lt(ve)}function me(){function ve(bn,Nt){var $t=Dn[bn];return $t?$t.enumerable=Nt:Dn[bn]=$t={configurable:!0,enumerable:Nt,get:function(){var lt=this[Ue];return dn.get(lt,bn)},set:function(lt){var oe=this[Ue];dn.set(oe,bn,lt)}},$t}function Xe(bn){for(var Nt=bn.length-1;Nt>=0;Nt--){var $t=bn[Nt][Ue];if(!$t.P)switch($t.i){case 5:Ye($t)&&Ae($t);break;case 4:$e($t)&&Ae($t)}}}function $e(bn){for(var Nt=bn.t,$t=bn.k,lt=Qt($t),oe=lt.length-1;oe>=0;oe--){var Ge=lt[oe];if(Ge!==Ue){var Rt=Nt[Ge];if(Rt===void 0&&!de(Nt,Ge))return!0;var an=$t[Ge],jn=an&&an[Ue];if(jn?jn.t!==Rt:!Be(an,Rt))return!0}}var pr=!!Nt[Ue];return lt.length!==Qt(Nt).length+(pr?0:1)}function Ye(bn){var Nt=bn.k;if(Nt.length!==bn.t.length)return!0;var $t=Object.getOwnPropertyDescriptor(Nt,Nt.length-1);if($t&&!$t.get)return!0;for(var lt=0;lt<Nt.length;lt++)if(!Nt.hasOwnProperty(lt))return!0;return!1}function Pt(bn){bn.g&&S(3,JSON.stringify(mt(bn)))}var Dn={};ot("ES5",{J:function(bn,Nt){var $t=Array.isArray(bn),lt=function(Ge,Rt){if(Ge){for(var an=Array(Rt.length),jn=0;jn<Rt.length;jn++)Object.defineProperty(an,""+jn,ve(jn,!0));return an}var pr=In(Rt);delete pr[Ue];for(var Lr=Qt(pr),xi=0;xi<Lr.length;xi++){var Qr=Lr[xi];pr[Qr]=ve(Qr,Ge||!!pr[Qr].enumerable)}return Object.create(Object.getPrototypeOf(Rt),pr)}($t,bn),oe={i:$t?5:4,A:Nt?Nt.A:At(),P:!1,I:!1,R:{},l:Nt,t:bn,k:lt,o:null,g:!1,C:!1};return Object.defineProperty(lt,Ue,{value:oe,writable:!0}),lt},S:function(bn,Nt,$t){$t?B(Nt)&&Nt[Ue].A===bn&&Xe(bn.p):(bn.u&&function lt(oe){if(oe&&typeof oe=="object"){var Ge=oe[Ue];if(Ge){var Rt=Ge.t,an=Ge.k,jn=Ge.R,pr=Ge.i;if(pr===4)qe(an,function(ti){ti!==Ue&&(Rt[ti]!==void 0||de(Rt,ti)?jn[ti]||lt(an[ti]):(jn[ti]=!0,Ae(Ge)))}),qe(Rt,function(ti){an[ti]!==void 0||de(an,ti)||(jn[ti]=!1,Ae(Ge))});else if(pr===5){if(Ye(Ge)&&(Ae(Ge),jn.length=!0),an.length<Rt.length)for(var Lr=an.length;Lr<Rt.length;Lr++)jn[Lr]=!1;else for(var xi=Rt.length;xi<an.length;xi++)jn[xi]=!0;for(var Qr=Math.min(an.length,Rt.length),ei=0;ei<Qr;ei++)an.hasOwnProperty(ei)||(jn[ei]=!0),jn[ei]===void 0&&lt(an[ei])}}}}(bn.p[0]),Xe(bn.p))},K:function(bn){return bn.i===4?$e(bn):Ye(bn)}})}function W(){function ve(Ye){if(!D(Ye))return Ye;if(Array.isArray(Ye))return Ye.map(ve);if(at(Ye))return new Map(Array.from(Ye.entries()).map(function(bn){return[bn[0],ve(bn[1])]}));if(xe(Ye))return new Set(Array.from(Ye).map(ve));var Pt=Object.create(Object.getPrototypeOf(Ye));for(var Dn in Ye)Pt[Dn]=ve(Ye[Dn]);return de(Ye,pt)&&(Pt[pt]=Ye[pt]),Pt}function Xe(Ye){return B(Ye)?ve(Ye):Ye}var $e="add";ot("Patches",{$:function(Ye,Pt){return Pt.forEach(function(Dn){for(var bn=Dn.path,Nt=Dn.op,$t=Ye,lt=0;lt<bn.length-1;lt++){var oe=xt($t),Ge=bn[lt];typeof Ge!="string"&&typeof Ge!="number"&&(Ge=""+Ge),oe!==0&&oe!==1||Ge!=="__proto__"&&Ge!=="constructor"||S(24),typeof $t=="function"&&Ge==="prototype"&&S(24),typeof($t=Ot($t,Ge))!="object"&&S(15,bn.join("/"))}var Rt=xt($t),an=ve(Dn.value),jn=bn[bn.length-1];switch(Nt){case"replace":switch(Rt){case 2:return $t.set(jn,an);case 3:S(16);default:return $t[jn]=an}case $e:switch(Rt){case 1:return jn==="-"?$t.push(an):$t.splice(jn,0,an);case 2:return $t.set(jn,an);case 3:return $t.add(an);default:return $t[jn]=an}case"remove":switch(Rt){case 1:return $t.splice(jn,1);case 2:return $t.delete(jn);case 3:return $t.delete(Dn.value);default:return delete $t[jn]}default:S(17,Nt)}}),Ye},N:function(Ye,Pt,Dn,bn){switch(Ye.i){case 0:case 4:case 2:return function(Nt,$t,lt,oe){var Ge=Nt.t,Rt=Nt.o;qe(Nt.R,function(an,jn){var pr=Ot(Ge,an),Lr=Ot(Rt,an),xi=jn?de(Ge,an)?"replace":$e:"remove";if(pr!==Lr||xi!=="replace"){var Qr=$t.concat(an);lt.push(xi==="remove"?{op:xi,path:Qr}:{op:xi,path:Qr,value:Lr}),oe.push(xi===$e?{op:"remove",path:Qr}:xi==="remove"?{op:$e,path:Qr,value:Xe(pr)}:{op:"replace",path:Qr,value:Xe(pr)})}})}(Ye,Pt,Dn,bn);case 5:case 1:return function(Nt,$t,lt,oe){var Ge=Nt.t,Rt=Nt.R,an=Nt.o;if(an.length<Ge.length){var jn=[an,Ge];Ge=jn[0],an=jn[1];var pr=[oe,lt];lt=pr[0],oe=pr[1]}for(var Lr=0;Lr<Ge.length;Lr++)if(Rt[Lr]&&an[Lr]!==Ge[Lr]){var xi=$t.concat([Lr]);lt.push({op:"replace",path:xi,value:Xe(an[Lr])}),oe.push({op:"replace",path:xi,value:Xe(Ge[Lr])})}for(var Qr=Ge.length;Qr<an.length;Qr++){var ei=$t.concat([Qr]);lt.push({op:$e,path:ei,value:Xe(an[Qr])})}Ge.length<an.length&&oe.push({op:"replace",path:$t.concat(["length"]),value:Ge.length})}(Ye,Pt,Dn,bn);case 3:return function(Nt,$t,lt,oe){var Ge=Nt.t,Rt=Nt.o,an=0;Ge.forEach(function(jn){if(!Rt.has(jn)){var pr=$t.concat([an]);lt.push({op:"remove",path:pr,value:jn}),oe.unshift({op:$e,path:pr,value:jn})}an++}),an=0,Rt.forEach(function(jn){if(!Ge.has(jn)){var pr=$t.concat([an]);lt.push({op:$e,path:pr,value:jn}),oe.unshift({op:"remove",path:pr,value:jn})}an++})}(Ye,Pt,Dn,bn)}},M:function(Ye,Pt,Dn,bn){Dn.push({op:"replace",path:[],value:Pt===_t?void 0:Pt}),bn.push({op:"replace",path:[],value:Ye})}})}function se(){function ve(Nt,$t){function lt(){this.constructor=Nt}Pt(Nt,$t),Nt.prototype=(lt.prototype=$t.prototype,new lt)}function Xe(Nt){Nt.o||(Nt.R=new Map,Nt.o=new Map(Nt.t))}function $e(Nt){Nt.o||(Nt.o=new Set,Nt.t.forEach(function($t){if(D($t)){var lt=Ce(Nt.A.h,$t,Nt);Nt.p.set($t,lt),Nt.o.add(lt)}else Nt.o.add($t)}))}function Ye(Nt){Nt.g&&S(3,JSON.stringify(mt(Nt)))}var Pt=function(Nt,$t){return(Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lt,oe){lt.__proto__=oe}||function(lt,oe){for(var Ge in oe)oe.hasOwnProperty(Ge)&&(lt[Ge]=oe[Ge])})(Nt,$t)},Dn=function(){function Nt(lt,oe){return this[Ue]={i:2,l:oe,A:oe?oe.A:At(),P:!1,I:!1,o:void 0,R:void 0,t:lt,k:this,C:!1,g:!1},this}ve(Nt,Map);var $t=Nt.prototype;return Object.defineProperty($t,"size",{get:function(){return mt(this[Ue]).size}}),$t.has=function(lt){return mt(this[Ue]).has(lt)},$t.set=function(lt,oe){var Ge=this[Ue];return Ye(Ge),mt(Ge).has(lt)&&mt(Ge).get(lt)===oe||(Xe(Ge),Ae(Ge),Ge.R.set(lt,!0),Ge.o.set(lt,oe),Ge.R.set(lt,!0)),this},$t.delete=function(lt){if(!this.has(lt))return!1;var oe=this[Ue];return Ye(oe),Xe(oe),Ae(oe),oe.t.has(lt)?oe.R.set(lt,!1):oe.R.delete(lt),oe.o.delete(lt),!0},$t.clear=function(){var lt=this[Ue];Ye(lt),mt(lt).size&&(Xe(lt),Ae(lt),lt.R=new Map,qe(lt.t,function(oe){lt.R.set(oe,!1)}),lt.o.clear())},$t.forEach=function(lt,oe){var Ge=this;mt(this[Ue]).forEach(function(Rt,an){lt.call(oe,Ge.get(an),an,Ge)})},$t.get=function(lt){var oe=this[Ue];Ye(oe);var Ge=mt(oe).get(lt);if(oe.I||!D(Ge)||Ge!==oe.t.get(lt))return Ge;var Rt=Ce(oe.A.h,Ge,oe);return Xe(oe),oe.o.set(lt,Rt),Rt},$t.keys=function(){return mt(this[Ue]).keys()},$t.values=function(){var lt,oe=this,Ge=this.keys();return(lt={})[yt]=function(){return oe.values()},lt.next=function(){var Rt=Ge.next();return Rt.done?Rt:{done:!1,value:oe.get(Rt.value)}},lt},$t.entries=function(){var lt,oe=this,Ge=this.keys();return(lt={})[yt]=function(){return oe.entries()},lt.next=function(){var Rt=Ge.next();if(Rt.done)return Rt;var an=oe.get(Rt.value);return{done:!1,value:[Rt.value,an]}},lt},$t[yt]=function(){return this.entries()},Nt}(),bn=function(){function Nt(lt,oe){return this[Ue]={i:3,l:oe,A:oe?oe.A:At(),P:!1,I:!1,o:void 0,t:lt,k:this,p:new Map,g:!1,C:!1},this}ve(Nt,Set);var $t=Nt.prototype;return Object.defineProperty($t,"size",{get:function(){return mt(this[Ue]).size}}),$t.has=function(lt){var oe=this[Ue];return Ye(oe),oe.o?!!oe.o.has(lt)||!(!oe.p.has(lt)||!oe.o.has(oe.p.get(lt))):oe.t.has(lt)},$t.add=function(lt){var oe=this[Ue];return Ye(oe),this.has(lt)||($e(oe),Ae(oe),oe.o.add(lt)),this},$t.delete=function(lt){if(!this.has(lt))return!1;var oe=this[Ue];return Ye(oe),$e(oe),Ae(oe),oe.o.delete(lt)||!!oe.p.has(lt)&&oe.o.delete(oe.p.get(lt))},$t.clear=function(){var lt=this[Ue];Ye(lt),mt(lt).size&&($e(lt),Ae(lt),lt.o.clear())},$t.values=function(){var lt=this[Ue];return Ye(lt),$e(lt),lt.o.values()},$t.entries=function(){var lt=this[Ue];return Ye(lt),$e(lt),lt.o.entries()},$t.keys=function(){return this.values()},$t[yt]=function(){return this.values()},$t.forEach=function(lt,oe){for(var Ge=this.values(),Rt=Ge.next();!Rt.done;)lt.call(oe,Rt.value,Rt.value,this),Rt=Ge.next()},Nt}();ot("MapSet",{F:function(Nt,$t){return new Dn(Nt,$t)},T:function(Nt,$t){return new bn(Nt,$t)}})}function te(){me(),se(),W()}function ge(ve){return ve}function Le(ve){return ve}var De,ye,ke=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",Te=typeof Map!="undefined",Et=typeof Set!="undefined",zt=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",_t=ke?Symbol.for("immer-nothing"):((De={})["immer-nothing"]=!0,De),pt=ke?Symbol.for("immer-draftable"):"__$immer_draftable",Ue=ke?Symbol.for("immer-state"):"__$immer_state",yt=typeof Symbol!="undefined"&&Symbol.iterator||"@@iterator",Vt={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(ve){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+ve},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(ve){return"Cannot apply patch, path doesn't resolve: "+ve},16:'Sets cannot have "replace" patches.',17:function(ve){return"Unsupported patch operation: "+ve},18:function(ve){return"The plugin for '"+ve+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+ve+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(ve){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+ve+"'"},22:function(ve){return"'current' expects a draft, got: "+ve},23:function(ve){return"'original' expects a draft, got: "+ve},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Rn=""+Object.prototype.constructor,Qt=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(ve){return Object.getOwnPropertyNames(ve).concat(Object.getOwnPropertySymbols(ve))}:Object.getOwnPropertyNames,In=Object.getOwnPropertyDescriptors||function(ve){var Xe={};return Qt(ve).forEach(function($e){Xe[$e]=Object.getOwnPropertyDescriptor(ve,$e)}),Xe},sn={},dn={get:function(ve,Xe){if(Xe===Ue)return ve;var $e=mt(ve);if(!de($e,Xe))return function(Pt,Dn,bn){var Nt,$t=nt(Dn,bn);return $t?"value"in $t?$t.value:(Nt=$t.get)===null||Nt===void 0?void 0:Nt.call(Pt.k):void 0}(ve,$e,Xe);var Ye=$e[Xe];return ve.I||!D(Ye)?Ye:Ye===ae(ve.t,Xe)?(Oe(ve),ve.o[Xe]=Ce(ve.A.h,Ye,ve)):Ye},has:function(ve,Xe){return Xe in mt(ve)},ownKeys:function(ve){return Reflect.ownKeys(mt(ve))},set:function(ve,Xe,$e){var Ye=nt(mt(ve),Xe);if(Ye!=null&&Ye.set)return Ye.set.call(ve.k,$e),!0;if(!ve.P){var Pt=ae(mt(ve),Xe),Dn=Pt==null?void 0:Pt[Ue];if(Dn&&Dn.t===$e)return ve.o[Xe]=$e,ve.R[Xe]=!1,!0;if(Be($e,Pt)&&($e!==void 0||de(ve.t,Xe)))return!0;Oe(ve),Ae(ve)}return ve.o[Xe]===$e&&($e!==void 0||Xe in ve.o)||Number.isNaN($e)&&Number.isNaN(ve.o[Xe])||(ve.o[Xe]=$e,ve.R[Xe]=!0),!0},deleteProperty:function(ve,Xe){return ae(ve.t,Xe)!==void 0||Xe in ve.t?(ve.R[Xe]=!1,Oe(ve),Ae(ve)):delete ve.R[Xe],ve.o&&delete ve.o[Xe],!0},getOwnPropertyDescriptor:function(ve,Xe){var $e=mt(ve),Ye=Reflect.getOwnPropertyDescriptor($e,Xe);return Ye&&{writable:!0,configurable:ve.i!==1||Xe!=="length",enumerable:Ye.enumerable,value:$e[Xe]}},defineProperty:function(){S(11)},getPrototypeOf:function(ve){return Object.getPrototypeOf(ve.t)},setPrototypeOf:function(){S(12)}},Cr={};qe(dn,function(ve,Xe){Cr[ve]=function(){return arguments[0]=arguments[0][0],Xe.apply(this,arguments)}}),Cr.deleteProperty=function(ve,Xe){return Cr.set.call(this,ve,Xe,void 0)},Cr.set=function(ve,Xe,$e){return dn.set.call(this,ve[0],Xe,$e,ve[0])};var oi=function(){function ve($e){var Ye=this;this.O=zt,this.D=!0,this.produce=function(Pt,Dn,bn){if(typeof Pt=="function"&&typeof Dn!="function"){var Nt=Dn;Dn=Pt;var $t=Ye;return function(pr){var Lr=this;pr===void 0&&(pr=Nt);for(var xi=arguments.length,Qr=Array(xi>1?xi-1:0),ei=1;ei<xi;ei++)Qr[ei-1]=arguments[ei];return $t.produce(pr,function(ti){var Yi;return(Yi=Dn).call.apply(Yi,[Lr,ti].concat(Qr))})}}var lt;if(typeof Dn!="function"&&S(6),bn!==void 0&&typeof bn!="function"&&S(7),D(Pt)){var oe=ln(Ye),Ge=Ce(Ye,Pt,void 0),Rt=!0;try{lt=Dn(Ge),Rt=!1}finally{Rt?Kt(oe):Cn(oe)}return typeof Promise!="undefined"&&lt instanceof Promise?lt.then(function(pr){return vn(oe,bn),An(pr,oe)},function(pr){throw Kt(oe),pr}):(vn(oe,bn),An(lt,oe))}if(!Pt||typeof Pt!="object"){if((lt=Dn(Pt))===void 0&&(lt=Pt),lt===_t&&(lt=void 0),Ye.D&&ee(lt,!0),bn){var an=[],jn=[];gn("Patches").M(Pt,lt,an,jn),bn(an,jn)}return lt}S(21,Pt)},this.produceWithPatches=function(Pt,Dn){if(typeof Pt=="function")return function(lt){for(var oe=arguments.length,Ge=Array(oe>1?oe-1:0),Rt=1;Rt<oe;Rt++)Ge[Rt-1]=arguments[Rt];return Ye.produceWithPatches(lt,function(an){return Pt.apply(void 0,[an].concat(Ge))})};var bn,Nt,$t=Ye.produce(Pt,Dn,function(lt,oe){bn=lt,Nt=oe});return typeof Promise!="undefined"&&$t instanceof Promise?$t.then(function(lt){return[lt,bn,Nt]}):[$t,bn,Nt]},typeof($e==null?void 0:$e.useProxies)=="boolean"&&this.setUseProxies($e.useProxies),typeof($e==null?void 0:$e.autoFreeze)=="boolean"&&this.setAutoFreeze($e.autoFreeze)}var Xe=ve.prototype;return Xe.createDraft=function($e){D($e)||S(8),B($e)&&($e=F($e));var Ye=ln(this),Pt=Ce(this,$e,void 0);return Pt[Ue].C=!0,Cn(Ye),Pt},Xe.finishDraft=function($e,Ye){var Pt=$e&&$e[Ue],Dn=Pt.A;return vn(Dn,Ye),An(void 0,Dn)},Xe.setAutoFreeze=function($e){this.D=$e},Xe.setUseProxies=function($e){$e&&!zt&&S(20),this.O=$e},Xe.applyPatches=function($e,Ye){var Pt;for(Pt=Ye.length-1;Pt>=0;Pt--){var Dn=Ye[Pt];if(Dn.path.length===0&&Dn.op==="replace"){$e=Dn.value;break}}Pt>-1&&(Ye=Ye.slice(Pt+1));var bn=gn("Patches").$;return B($e)?bn($e,Ye):this.produce($e,function(Nt){return bn(Nt,Ye)})},ve}(),Tt=new oi,jt=Tt.produce,_n=Tt.produceWithPatches.bind(Tt),en=Tt.setAutoFreeze.bind(Tt),Mn=Tt.setUseProxies.bind(Tt),ur=Tt.applyPatches.bind(Tt),rr=Tt.createDraft.bind(Tt),jr=Tt.finishDraft.bind(Tt),Zn=null},51741:function(qt,je,G){"use strict";G.d(je,{Z:function(){return Xe}});function S($e,Ye,Pt,Dn){var bn=-1,Nt=$e==null?0:$e.length;for(Dn&&Nt&&(Pt=$e[++bn]);++bn<Nt;)Pt=Ye(Pt,$e[bn],bn,$e);return Pt}var B=S;function D($e){return function(Ye){return $e==null?void 0:$e[Ye]}}var Ne=D,qe={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},xt=Ne(qe),de=xt,Ot=G(45633),he=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Be="\\u0300-\\u036f",at="\\ufe20-\\ufe2f",xe="\\u20d0-\\u20ff",mt=Be+at+xe,Lt="["+mt+"]",ee=RegExp(Lt,"g");function Hn($e){return $e=(0,Ot.Z)($e),$e&&$e.replace(he,de).replace(ee,"")}var fn=Hn,gn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function ot($e){return $e.match(gn)||[]}var At=ot,vn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Kt($e){return vn.test($e)}var Cn=Kt,ln="\\ud800-\\udfff",Wt="\\u0300-\\u036f",An="\\ufe20-\\ufe2f",Yt="\\u20d0-\\u20ff",Me=Wt+An+Yt,Ke="\\u2700-\\u27bf",ae="a-z\\xdf-\\xf6\\xf8-\\xff",nt="\\xac\\xb1\\xd7\\xf7",Ae="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Oe="\\u2000-\\u206f",Ce=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",F="A-Z\\xc0-\\xd6\\xd8-\\xde",K="\\ufe0e\\ufe0f",me=nt+Ae+Oe+Ce,W="['\u2019]",se="["+me+"]",te="["+Me+"]",ge="\\d+",Le="["+Ke+"]",De="["+ae+"]",ye="[^"+ln+me+ge+Ke+ae+F+"]",ke="\\ud83c[\\udffb-\\udfff]",Te="(?:"+te+"|"+ke+")",Et="[^"+ln+"]",zt="(?:\\ud83c[\\udde6-\\uddff]){2}",_t="[\\ud800-\\udbff][\\udc00-\\udfff]",pt="["+F+"]",Ue="\\u200d",yt="(?:"+De+"|"+ye+")",Vt="(?:"+pt+"|"+ye+")",Rn="(?:"+W+"(?:d|ll|m|re|s|t|ve))?",Qt="(?:"+W+"(?:D|LL|M|RE|S|T|VE))?",In=Te+"?",sn="["+K+"]?",dn="(?:"+Ue+"(?:"+[Et,zt,_t].join("|")+")"+sn+In+")*",Cr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",oi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Tt=sn+In+dn,jt="(?:"+[Le,zt,_t].join("|")+")"+Tt,_n=RegExp([pt+"?"+De+"+"+Rn+"(?="+[se,pt,"$"].join("|")+")",Vt+"+"+Qt+"(?="+[se,pt+yt,"$"].join("|")+")",pt+"?"+yt+"+"+Rn,pt+"+"+Qt,oi,Cr,ge,jt].join("|"),"g");function en($e){return $e.match(_n)||[]}var Mn=en;function ur($e,Ye,Pt){return $e=(0,Ot.Z)($e),Ye=Pt?void 0:Ye,Ye===void 0?Cn($e)?Mn($e):At($e):$e.match(Ye)||[]}var rr=ur,jr="['\u2019]",Zn=RegExp(jr,"g");function ve($e){return function(Ye){return B(rr(fn(Ye).replace(Zn,"")),$e,"")}}var Xe=ve},15861:function(qt,je,G){"use strict";G.d(je,{Z:function(){return pt}});var S=G(45633);function B(Ue,yt,Vt){var Rn=-1,Qt=Ue.length;yt<0&&(yt=-yt>Qt?0:Qt+yt),Vt=Vt>Qt?Qt:Vt,Vt<0&&(Vt+=Qt),Qt=yt>Vt?0:Vt-yt>>>0,yt>>>=0;for(var In=Array(Qt);++Rn<Qt;)In[Rn]=Ue[Rn+yt];return In}var D=B;function Ne(Ue,yt,Vt){var Rn=Ue.length;return Vt=Vt===void 0?Rn:Vt,!yt&&Vt>=Rn?Ue:D(Ue,yt,Vt)}var qe=Ne,xt="\\ud800-\\udfff",de="\\u0300-\\u036f",Ot="\\ufe20-\\ufe2f",he="\\u20d0-\\u20ff",Be=de+Ot+he,at="\\ufe0e\\ufe0f",xe="\\u200d",mt=RegExp("["+xe+xt+Be+at+"]");function Lt(Ue){return mt.test(Ue)}var ee=Lt;function Hn(Ue){return Ue.split("")}var fn=Hn,gn="\\ud800-\\udfff",ot="\\u0300-\\u036f",At="\\ufe20-\\ufe2f",vn="\\u20d0-\\u20ff",Kt=ot+At+vn,Cn="\\ufe0e\\ufe0f",ln="["+gn+"]",Wt="["+Kt+"]",An="\\ud83c[\\udffb-\\udfff]",Yt="(?:"+Wt+"|"+An+")",Me="[^"+gn+"]",Ke="(?:\\ud83c[\\udde6-\\uddff]){2}",ae="[\\ud800-\\udbff][\\udc00-\\udfff]",nt="\\u200d",Ae=Yt+"?",Oe="["+Cn+"]?",Ce="(?:"+nt+"(?:"+[Me,Ke,ae].join("|")+")"+Oe+Ae+")*",F=Oe+Ae+Ce,K="(?:"+[Me+Wt+"?",Wt,Ke,ae,ln].join("|")+")",me=RegExp(An+"(?="+An+")|"+K+F,"g");function W(Ue){return Ue.match(me)||[]}var se=W;function te(Ue){return ee(Ue)?se(Ue):fn(Ue)}var ge=te;function Le(Ue){return function(yt){yt=(0,S.Z)(yt);var Vt=ee(yt)?ge(yt):void 0,Rn=Vt?Vt[0]:yt.charAt(0),Qt=Vt?qe(Vt,1).join(""):yt.slice(1);return Rn[Ue]()+Qt}}var De=Le,ye=De("toUpperCase"),ke=ye;function Te(Ue){return ke((0,S.Z)(Ue).toLowerCase())}var Et=Te,zt=G(51741),_t=(0,zt.Z)(function(Ue,yt,Vt){return yt=yt.toLowerCase(),Ue+(Vt?Et(yt):yt)}),pt=_t},23407:function(qt,je,G){"use strict";var S=G(51741),B=(0,S.Z)(function(D,Ne,qe){return D+(qe?"-":"")+Ne.toLowerCase()});je.Z=B},45633:function(qt,je,G){"use strict";G.d(je,{Z:function(){return Hn}});var S=G(66711);function B(fn,gn){for(var ot=-1,At=fn==null?0:fn.length,vn=Array(At);++ot<At;)vn[ot]=gn(fn[ot],ot,fn);return vn}var D=B,Ne=G(56052),qe=G(33918),xt=G(13795),de="[object Symbol]";function Ot(fn){return typeof fn=="symbol"||(0,xt.Z)(fn)&&(0,qe.Z)(fn)==de}var he=Ot,Be=1/0,at=S.Z?S.Z.prototype:void 0,xe=at?at.toString:void 0;function mt(fn){if(typeof fn=="string")return fn;if((0,Ne.Z)(fn))return D(fn,mt)+"";if(he(fn))return xe?xe.call(fn):"";var gn=fn+"";return gn=="0"&&1/fn==-Be?"-0":gn}var Lt=mt;function ee(fn){return fn==null?"":Lt(fn)}var Hn=ee},48119:function(qt,je,G){"use strict";G.r(je),G.d(je,{ACESFilmicToneMapping:function(){return Vt},AddEquation:function(){return Kt},AddOperation:function(){return zt},AdditiveAnimationBlendMode:function(){return Fo},AdditiveBlending:function(){return gn},AlphaFormat:function(){return pr},AlwaysDepth:function(){return se},AlwaysStencilFunc:function(){return ir},AmbientLight:function(){return B9},AmbientLightProbe:function(){return g3},AnimationAction:function(){return Q9},AnimationClip:function(){return e0},AnimationLoader:function(){return r3},AnimationMixer:function(){return D3},AnimationObjectGroup:function(){return I3},AnimationUtils:function(){return Q5},ArcCurve:function(){return t9},ArrayCamera:function(){return E2},ArrowHelper:function(){return n7},Audio:function(){return K9},AudioAnalyser:function(){return w3},AudioContext:function(){return td},AudioListener:function(){return _3},AudioLoader:function(){return p3},AxesHelper:function(){return r7},BackSide:function(){return mt},BasicDepthPacking:function(){return cs},BasicShadowMap:function(){return Ot},Bone:function(){return Rf},BooleanKeyframeTrack:function(){return kc},Box2:function(){return k3},Box3:function(){return $o},Box3Helper:function(){return e7},BoxBufferGeometry:function(){return o7},BoxGeometry:function(){return Qa},BoxHelper:function(){return Q3},BufferAttribute:function(){return go},BufferGeometry:function(){return xn},BufferGeometryLoader:function(){return k9},ByteType:function(){return Dn},Cache:function(){return Wc},Camera:function(){return u1},CameraHelper:function(){return q3},CanvasTexture:function(){return M5},CapsuleBufferGeometry:function(){return s7},CapsuleGeometry:function(){return zu},CatmullRomCurve3:function(){return n9},CineonToneMapping:function(){return yt},CircleBufferGeometry:function(){return a7},CircleGeometry:function(){return Nu},ClampToEdgeWrapping:function(){return jt},Clock:function(){return G9},Color:function(){return ar},ColorKeyframeTrack:function(){return Yf},ColorManagement:function(){return rs},CompressedArrayTexture:function(){return w5},CompressedTexture:function(){return Pf},CompressedTextureLoader:function(){return i3},ConeBufferGeometry:function(){return l7},ConeGeometry:function(){return Bu},CubeCamera:function(){return ac},CubeReflectionMapping:function(){return In},CubeRefractionMapping:function(){return sn},CubeTexture:function(){return T1},CubeTextureLoader:function(){return o3},CubeUVReflectionMapping:function(){return oi},CubicBezierCurve:function(){return zf},CubicBezierCurve3:function(){return i9},CubicInterpolant:function(){return R9},CullFaceBack:function(){return qe},CullFaceFront:function(){return xt},CullFaceFrontBack:function(){return de},CullFaceNone:function(){return Ne},Curve:function(){return W1},CurvePath:function(){return s9},CustomBlending:function(){return vn},CustomToneMapping:function(){return Rn},CylinderBufferGeometry:function(){return c7},CylinderGeometry:function(){return Bc},Cylindrical:function(){return F3},Data3DTexture:function(){return os},DataArrayTexture:function(){return is},DataTexture:function(){return hu},DataTextureLoader:function(){return s3},DataUtils:function(){return rc},DecrementStencilOp:function(){return Fe},DecrementWrapStencilOp:function(){return ut},DefaultLoadingManager:function(){return A9},DepthFormat:function(){return ei},DepthStencilFormat:function(){return ti},DepthTexture:function(){return R2},DirectionalLight:function(){return N9},DirectionalLightHelper:function(){return J3},DiscreteInterpolant:function(){return L9},DisplayP3ColorSpace:function(){return ts},DodecahedronBufferGeometry:function(){return u7},DodecahedronGeometry:function(){return Uu},DoubleSide:function(){return Lt},DstAlphaFactor:function(){return Oe},DstColorFactor:function(){return F},DynamicCopyUsage:function(){return Si},DynamicDrawUsage:function(){return or},DynamicReadUsage:function(){return Tr},EdgesGeometry:function(){return a9},EllipseCurve:function(){return b0},EqualDepth:function(){return Le},EqualStencilFunc:function(){return Z},EquirectangularReflectionMapping:function(){return dn},EquirectangularRefractionMapping:function(){return Cr},Euler:function(){return y1},EventDispatcher:function(){return Bi},ExtrudeBufferGeometry:function(){return f7},ExtrudeGeometry:function(){return $u},FileLoader:function(){return Xl},Float16BufferAttribute:function(){return Pl},Float32BufferAttribute:function(){return Sr},Float64BufferAttribute:function(){return ic},FloatType:function(){return oe},Fog:function(){return h0},FogExp2:function(){return d0},FramebufferTexture:function(){return y5},FrontSide:function(){return xe},Frustum:function(){return Xo},GLBufferAttribute:function(){return B3},GLSL1:function(){return Oi},GLSL3:function(){return Zi},GreaterDepth:function(){return ye},GreaterEqualDepth:function(){return De},GreaterEqualStencilFunc:function(){return Tn},GreaterStencilFunc:function(){return Je},GridHelper:function(){return Y3},Group:function(){return au},HalfFloatType:function(){return Ge},HemisphereLight:function(){return P9},HemisphereLightHelper:function(){return X3},HemisphereLightProbe:function(){return m3},IcosahedronBufferGeometry:function(){return d7},IcosahedronGeometry:function(){return Wu},ImageBitmapLoader:function(){return h3},ImageLoader:function(){return t0},ImageUtils:function(){return Y1},IncrementStencilOp:function(){return pe},IncrementWrapStencilOp:function(){return gt},InstancedBufferAttribute:function(){return pu},InstancedBufferGeometry:function(){return F9},InstancedInterleavedBuffer:function(){return N3},InstancedMesh:function(){return Z2},Int16BufferAttribute:function(){return Sc},Int32BufferAttribute:function(){return Mi},Int8BufferAttribute:function(){return Al},IntType:function(){return $t},InterleavedBuffer:function(){return p0},InterleavedBufferAttribute:function(){return Nc},Interpolant:function(){return Ju},InterpolateDiscrete:function(){return Fi},InterpolateLinear:function(){return Ti},InterpolateSmooth:function(){return hi},InvertStencilOp:function(){return z},KeepStencilOp:function(){return P},KeyframeTrack:function(){return Z1},LOD:function(){return z2},LatheBufferGeometry:function(){return h7},LatheGeometry:function(){return gu},Layers:function(){return el},LessDepth:function(){return te},LessEqualDepth:function(){return ge},LessEqualStencilFunc:function(){return ze},LessStencilFunc:function(){return R},Light:function(){return mc},LightProbe:function(){return O0},Line:function(){return pc},Line3:function(){return $3},LineBasicMaterial:function(){return Na},LineCurve:function(){return E0},LineCurve3:function(){return o9},LineDashedMaterial:function(){return S9},LineLoop:function(){return J2},LineSegments:function(){return yl},LinearEncoding:function(){return fa},LinearFilter:function(){return Zn},LinearInterpolant:function(){return Xf},LinearMipMapLinearFilter:function(){return Ye},LinearMipMapNearestFilter:function(){return Xe},LinearMipmapLinearFilter:function(){return $e},LinearMipmapNearestFilter:function(){return ve},LinearSRGBColorSpace:function(){return Ko},LinearToneMapping:function(){return pt},Loader:function(){return p1},LoaderUtils:function(){return ed},LoadingManager:function(){return Kf},LoopOnce:function(){return Ki},LoopPingPong:function(){return Co},LoopRepeat:function(){return Di},LuminanceAlphaFormat:function(){return Qr},LuminanceFormat:function(){return xi},MOUSE:function(){return B},Material:function(){return Cs},MaterialLoader:function(){return D0},MathUtils:function(){return ga},Matrix3:function(){return Jr},Matrix4:function(){return li},MaxEquation:function(){return An},Mesh:function(){return Go},MeshBasicMaterial:function(){return qa},MeshDepthMaterial:function(){return wf},MeshDistanceMaterial:function(){return Mf},MeshLambertMaterial:function(){return M9},MeshMatcapMaterial:function(){return b9},MeshNormalMaterial:function(){return w9},MeshPhongMaterial:function(){return x9},MeshPhysicalMaterial:function(){return _9},MeshStandardMaterial:function(){return Wf},MeshToonMaterial:function(){return y9},MinEquation:function(){return Wt},MirroredRepeatWrapping:function(){return _n},MixOperation:function(){return Et},MultiplyBlending:function(){return At},MultiplyOperation:function(){return Te},NearestFilter:function(){return en},NearestMipMapLinearFilter:function(){return jr},NearestMipMapNearestFilter:function(){return ur},NearestMipmapLinearFilter:function(){return rr},NearestMipmapNearestFilter:function(){return Mn},NeverDepth:function(){return W},NeverStencilFunc:function(){return re},NoBlending:function(){return Hn},NoColorSpace:function(){return us},NoToneMapping:function(){return _t},NormalAnimationBlendMode:function(){return vs},NormalBlending:function(){return fn},NotEqualDepth:function(){return ke},NotEqualStencilFunc:function(){return Sn},NumberKeyframeTrack:function(){return qu},Object3D:function(){return ki},ObjectLoader:function(){return f3},ObjectSpaceNormalMap:function(){return na},OctahedronBufferGeometry:function(){return p7},OctahedronGeometry:function(){return Cu},OneFactor:function(){return Me},OneMinusDstAlphaFactor:function(){return Ce},OneMinusDstColorFactor:function(){return K},OneMinusSrcAlphaFactor:function(){return Ae},OneMinusSrcColorFactor:function(){return ae},OrthographicCamera:function(){return bu},PCFShadowMap:function(){return he},PCFSoftShadowMap:function(){return Be},PMREMGenerator:function(){return l0},Path:function(){return Hu},PerspectiveCamera:function(){return Qo},Plane:function(){return si},PlaneBufferGeometry:function(){return m7},PlaneGeometry:function(){return Lo},PlaneHelper:function(){return t7},PointLight:function(){return z9},PointLightHelper:function(){return j3},Points:function(){return Q2},PointsMaterial:function(){return Tf},PolarGridHelper:function(){return K3},PolyhedronBufferGeometry:function(){return g7},PolyhedronGeometry:function(){return jl},PositionalAudio:function(){return y3},PropertyBinding:function(){return vo},PropertyMixer:function(){return q9},QuadraticBezierCurve:function(){return Nf},QuadraticBezierCurve3:function(){return Bf},Quaternion:function(){return mo},QuaternionKeyframeTrack:function(){return xu},QuaternionLinearInterpolant:function(){return T9},RED_GREEN_RGTC2_Format:function(){return ho},RED_RGTC1_Format:function(){return yi},REVISION:function(){return S},RGBADepthPacking:function(){return Xs},RGBAFormat:function(){return Lr},RGBAIntegerFormat:function(){return T},RGBA_ASTC_10x10_Format:function(){return _r},RGBA_ASTC_10x5_Format:function(){return qn},RGBA_ASTC_10x6_Format:function(){return $n},RGBA_ASTC_10x8_Format:function(){return Qn},RGBA_ASTC_12x10_Format:function(){return En},RGBA_ASTC_12x12_Format:function(){return cr},RGBA_ASTC_4x4_Format:function(){return Zt},RGBA_ASTC_5x4_Format:function(){return Ft},RGBA_ASTC_5x5_Format:function(){return vt},RGBA_ASTC_6x5_Format:function(){return dt},RGBA_ASTC_6x6_Format:function(){return Ct},RGBA_ASTC_8x5_Format:function(){return rn},RGBA_ASTC_8x6_Format:function(){return zn},RGBA_ASTC_8x8_Format:function(){return Jn},RGBA_BPTC_Format:function(){return Nr},RGBA_ETC2_EAC_Format:function(){return tt},RGBA_PVRTC_2BPPV1_Format:function(){return ie},RGBA_PVRTC_4BPPV1_Format:function(){return Y},RGBA_S3TC_DXT1_Format:function(){return le},RGBA_S3TC_DXT3_Format:function(){return We},RGBA_S3TC_DXT5_Format:function(){return st},RGB_ETC1_Format:function(){return Ie},RGB_ETC2_Format:function(){return Ze},RGB_PVRTC_2BPPV1_Format:function(){return be},RGB_PVRTC_4BPPV1_Format:function(){return Qe},RGB_S3TC_DXT1_Format:function(){return Q},RGFormat:function(){return H},RGIntegerFormat:function(){return E},RawShaderMaterial:function(){return C9},Ray:function(){return _1},Raycaster:function(){return U3},RectAreaLight:function(){return U9},RedFormat:function(){return Yi},RedIntegerFormat:function(){return b},ReinhardToneMapping:function(){return Ue},RepeatWrapping:function(){return Tt},ReplaceStencilOp:function(){return V},ReverseSubtractEquation:function(){return ln},RingBufferGeometry:function(){return v7},RingGeometry:function(){return Zu},SIGNED_RED_GREEN_RGTC2_Format:function(){return io},SIGNED_RED_RGTC1_Format:function(){return Wr},SRGBColorSpace:function(){return Vr},Scene:function(){return A2},ShaderChunk:function(){return Ni},ShaderLib:function(){return P1},ShaderMaterial:function(){return Qs},ShadowMaterial:function(){return v9},Shape:function(){return Uc},ShapeBufferGeometry:function(){return C7},ShapeGeometry:function(){return ju},ShapePath:function(){return i7},ShapeUtils:function(){return wl},ShortType:function(){return bn},Skeleton:function(){return _0},SkeletonHelper:function(){return Z3},SkinnedMesh:function(){return F2},Source:function(){return Pa},Sphere:function(){return qs},SphereBufferGeometry:function(){return _7},SphereGeometry:function(){return _u},Spherical:function(){return V3},SphericalHarmonics3:function(){return V9},SplineCurve:function(){return Uf},SpotLight:function(){return D9},SpotLightHelper:function(){return W3},Sprite:function(){return D2},SpriteMaterial:function(){return Sf},SrcAlphaFactor:function(){return nt},SrcAlphaSaturateFactor:function(){return me},SrcColorFactor:function(){return Ke},StaticCopyUsage:function(){return Gr},StaticDrawUsage:function(){return on},StaticReadUsage:function(){return gr},StereoCamera:function(){return v3},StreamCopyUsage:function(){return ai},StreamDrawUsage:function(){return br},StreamReadUsage:function(){return Pi},StringKeyframeTrack:function(){return $c},SubtractEquation:function(){return Cn},SubtractiveBlending:function(){return ot},TOUCH:function(){return D},TangentSpaceNormalMap:function(){return Kr},TetrahedronBufferGeometry:function(){return x7},TetrahedronGeometry:function(){return Gu},Texture:function(){return gi},TextureLoader:function(){return a3},TorusBufferGeometry:function(){return y7},TorusGeometry:function(){return Xu},TorusKnotBufferGeometry:function(){return w7},TorusKnotGeometry:function(){return Yu},Triangle:function(){return as},TriangleFanDrawMode:function(){return Va},TriangleStripDrawMode:function(){return La},TrianglesDrawMode:function(){return Ra},TubeBufferGeometry:function(){return M7},TubeGeometry:function(){return Ku},TwoPassDoubleSide:function(){return ee},UVMapping:function(){return Qt},Uint16BufferAttribute:function(){return Ha},Uint32BufferAttribute:function(){return V1},Uint8BufferAttribute:function(){return rl},Uint8ClampedBufferAttribute:function(){return il},Uniform:function(){return id},UniformsGroup:function(){return z3},UniformsLib:function(){return dr},UniformsUtils:function(){return dl},UnsignedByteType:function(){return Pt},UnsignedInt248Type:function(){return jn},UnsignedIntType:function(){return lt},UnsignedShort4444Type:function(){return Rt},UnsignedShort5551Type:function(){return an},UnsignedShortType:function(){return Nt},VSMShadowMap:function(){return at},Vector2:function(){return hn},Vector3:function(){return ce},Vector4:function(){return Br},VectorKeyframeTrack:function(){return Qu},VideoTexture:function(){return x5},WebGL1Renderer:function(){return T2},WebGL3DRenderTarget:function(){return hs},WebGLArrayRenderTarget:function(){return Ro},WebGLCubeRenderTarget:function(){return Ac},WebGLMultipleRenderTargets:function(){return Za},WebGLRenderTarget:function(){return co},WebGLRenderer:function(){return L2},WebGLUtils:function(){return S2},WireframeGeometry:function(){return p9},WrapAroundEnding:function(){return Ss},ZeroCurvatureEnding:function(){return xo},ZeroFactor:function(){return Yt},ZeroSlopeEnding:function(){return Ai},ZeroStencilOp:function(){return po},_SRGBAFormat:function(){return lo},sRGBEncoding:function(){return oo}});const S="152",B={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},D={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Ne=0,qe=1,xt=2,de=3,Ot=0,he=1,Be=2,at=3,xe=0,mt=1,Lt=2,ee=2,Hn=0,fn=1,gn=2,ot=3,At=4,vn=5,Kt=100,Cn=101,ln=102,Wt=103,An=104,Yt=200,Me=201,Ke=202,ae=203,nt=204,Ae=205,Oe=206,Ce=207,F=208,K=209,me=210,W=0,se=1,te=2,ge=3,Le=4,De=5,ye=6,ke=7,Te=0,Et=1,zt=2,_t=0,pt=1,Ue=2,yt=3,Vt=4,Rn=5,Qt=300,In=301,sn=302,dn=303,Cr=304,oi=306,Tt=1e3,jt=1001,_n=1002,en=1003,Mn=1004,ur=1004,rr=1005,jr=1005,Zn=1006,ve=1007,Xe=1007,$e=1008,Ye=1008,Pt=1009,Dn=1010,bn=1011,Nt=1012,$t=1013,lt=1014,oe=1015,Ge=1016,Rt=1017,an=1018,jn=1020,pr=1021,Lr=1023,xi=1024,Qr=1025,ei=1026,ti=1027,Yi=1028,b=1029,H=1030,E=1031,T=1033,Q=33776,le=33777,We=33778,st=33779,Qe=35840,be=35841,Y=35842,ie=35843,Ie=36196,Ze=37492,tt=37496,Zt=37808,Ft=37809,vt=37810,dt=37811,Ct=37812,rn=37813,zn=37814,Jn=37815,qn=37816,$n=37817,Qn=37818,_r=37819,En=37820,cr=37821,Nr=36492,yi=36283,Wr=36284,ho=36285,io=36286,Ki=2200,Di=2201,Co=2202,Fi=2300,Ti=2301,hi=2302,xo=2400,Ai=2401,Ss=2402,vs=2500,Fo=2501,Ra=0,La=1,Va=2,fa=3e3,oo=3001,cs=3200,Xs=3201,Kr=0,na=1,us="",Vr="srgb",Ko="srgb-linear",ts="display-p3",po=0,P=7680,V=7681,pe=7682,Fe=7683,gt=34055,ut=34056,z=5386,re=512,R=513,Z=514,ze=515,Je=516,Sn=517,Tn=518,ir=519,on=35044,or=35048,br=35040,gr=35045,Tr=35049,Pi=35041,Gr=35046,Si=35050,ai=35042,Oi="100",Zi="300 es",lo=1035;class Bi{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let o=0,l=r.length;o<l;o++)r[o].call(this,e);e.target=null}}}const Hi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let No=1234567;const Ao=Math.PI/180,da=180/Math.PI;function fs(){const a=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Hi[a&255]+Hi[a>>8&255]+Hi[a>>16&255]+Hi[a>>24&255]+"-"+Hi[e&255]+Hi[e>>8&255]+"-"+Hi[e>>16&15|64]+Hi[e>>24&255]+"-"+Hi[t&63|128]+Hi[t>>8&255]+"-"+Hi[t>>16&255]+Hi[t>>24&255]+Hi[n&255]+Hi[n>>8&255]+Hi[n>>16&255]+Hi[n>>24&255]).toLowerCase()}function Ei(a,e,t){return Math.max(e,Math.min(t,a))}function Ys(a,e){return(a%e+e)%e}function ha(a,e,t,n,r){return n+(a-e)*(r-n)/(t-e)}function g1(a,e,t){return a!==e?(t-a)/(e-a):0}function pa(a,e,t){return(1-t)*a+t*e}function Ta(a,e,t,n){return pa(a,e,1-Math.exp(-t*n))}function Fa(a,e=1){return e-Math.abs(Ys(a,e*2)-e)}function n1(a,e,t){return a<=e?0:a>=t?1:(a=(a-e)/(t-e),a*a*(3-2*a))}function so(a,e,t){return a<=e?0:a>=t?1:(a=(a-e)/(t-e),a*a*a*(a*(a*6-15)+10))}function Ks(a,e){return a+Math.floor(Math.random()*(e-a+1))}function G1(a,e){return a+Math.random()*(e-a)}function X1(a){return a*(.5-Math.random())}function D1(a){a!==void 0&&(No=a);let e=No+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function ns(a){return a*Ao}function ma(a){return a*da}function Vs(a){return(a&a-1)===0&&a!==0}function r1(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function ko(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))}function ds(a,e,t,n,r){const o=Math.cos,l=Math.sin,c=o(t/2),f=l(t/2),d=o((e+n)/2),m=l((e+n)/2),g=o((e-n)/2),v=l((e-n)/2),C=o((n-e)/2),y=l((n-e)/2);switch(r){case"XYX":a.set(c*m,f*g,f*v,c*d);break;case"YZY":a.set(f*v,c*m,f*g,c*d);break;case"ZXZ":a.set(f*g,f*v,c*m,c*d);break;case"XZX":a.set(c*m,f*y,f*C,c*d);break;case"YXY":a.set(f*C,c*m,f*y,c*d);break;case"ZYZ":a.set(f*y,f*C,c*m,c*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function yo(a,e){switch(e.constructor){case Float32Array:return a;case Uint16Array:return a/65535;case Uint8Array:return a/255;case Int16Array:return Math.max(a/32767,-1);case Int8Array:return Math.max(a/127,-1);default:throw new Error("Invalid component type.")}}function kr(a,e){switch(e.constructor){case Float32Array:return a;case Uint16Array:return Math.round(a*65535);case Uint8Array:return Math.round(a*255);case Int16Array:return Math.round(a*32767);case Int8Array:return Math.round(a*127);default:throw new Error("Invalid component type.")}}const ga={DEG2RAD:Ao,RAD2DEG:da,generateUUID:fs,clamp:Ei,euclideanModulo:Ys,mapLinear:ha,inverseLerp:g1,lerp:pa,damp:Ta,pingpong:Fa,smoothstep:n1,smootherstep:so,randInt:Ks,randFloat:G1,randFloatSpread:X1,seededRandom:D1,degToRad:ns,radToDeg:ma,isPowerOfTwo:Vs,ceilPowerOfTwo:r1,floorPowerOfTwo:ko,setQuaternionFromProperEuler:ds,normalize:kr,denormalize:yo};class hn{constructor(e=0,t=0){hn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Ei(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),o=this.x-e.x,l=this.y-e.y;return this.x=o*n-l*r+e.x,this.y=o*r+l*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Jr{constructor(){Jr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,r,o,l,c,f,d){const m=this.elements;return m[0]=e,m[1]=r,m[2]=c,m[3]=t,m[4]=o,m[5]=f,m[6]=n,m[7]=l,m[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,l=n[0],c=n[3],f=n[6],d=n[1],m=n[4],g=n[7],v=n[2],C=n[5],y=n[8],A=r[0],M=r[3],x=r[6],U=r[1],O=r[4],ne=r[7],ue=r[2],we=r[5],Ve=r[8];return o[0]=l*A+c*U+f*ue,o[3]=l*M+c*O+f*we,o[6]=l*x+c*ne+f*Ve,o[1]=d*A+m*U+g*ue,o[4]=d*M+m*O+g*we,o[7]=d*x+m*ne+g*Ve,o[2]=v*A+C*U+y*ue,o[5]=v*M+C*O+y*we,o[8]=v*x+C*ne+y*Ve,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],l=e[4],c=e[5],f=e[6],d=e[7],m=e[8];return t*l*m-t*c*d-n*o*m+n*c*f+r*o*d-r*l*f}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],l=e[4],c=e[5],f=e[6],d=e[7],m=e[8],g=m*l-c*d,v=c*f-m*o,C=d*o-l*f,y=t*g+n*v+r*C;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/y;return e[0]=g*A,e[1]=(r*d-m*n)*A,e[2]=(c*n-r*l)*A,e[3]=v*A,e[4]=(m*t-r*f)*A,e[5]=(r*o-c*t)*A,e[6]=C*A,e[7]=(n*f-d*t)*A,e[8]=(l*t-n*o)*A,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,o,l,c){const f=Math.cos(o),d=Math.sin(o);return this.set(n*f,n*d,-n*(f*l+d*c)+l+e,-r*d,r*f,-r*(-d*l+f*c)+c+t,0,0,1),this}scale(e,t){return this.premultiply(Es.makeScale(e,t)),this}rotate(e){return this.premultiply(Es.makeRotation(-e)),this}translate(e,t){return this.premultiply(Es.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Es=new Jr;function ka(a){for(let e=a.length-1;e>=0;--e)if(a[e]>=65535)return!0;return!1}const Rs={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function wi(a,e){return new Rs[a](e)}function Ji(a){return document.createElementNS("http://www.w3.org/1999/xhtml",a)}const i1={};function Do(a){a in i1||(i1[a]=!0,console.warn(a))}function Ls(a){return a<.04045?a*.0773993808:Math.pow(a*.9478672986+.0521327014,2.4)}function Aa(a){return a<.0031308?a*12.92:1.055*Math.pow(a,.41666)-.055}const v1=new Jr().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),ra=new Jr().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function bl(a){return a.convertSRGBToLinear().applyMatrix3(ra)}function $a(a){return a.applyMatrix3(v1).convertLinearToSRGB()}const o1={[Ko]:a=>a,[Vr]:a=>a.convertSRGBToLinear(),[ts]:bl},Wa={[Ko]:a=>a,[Vr]:a=>a.convertLinearToSRGB(),[ts]:$a},rs={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(a){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!a},get workingColorSpace(){return Ko},set workingColorSpace(a){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(a,e,t){if(this.enabled===!1||e===t||!e||!t)return a;const n=o1[e],r=Wa[t];if(n===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(n(a))},fromWorkingColorSpace:function(a,e){return this.convert(a,this.workingColorSpace,e)},toWorkingColorSpace:function(a,e){return this.convert(a,e,this.workingColorSpace)}};let Js;class Y1{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Js===void 0&&(Js=Ji("canvas")),Js.width=e.width,Js.height=e.height;const n=Js.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Js}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const t=Ji("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),o=r.data;for(let l=0;l<o.length;l++)o[l]=Ls(o[l]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Ls(t[n]/255)*255):t[n]=Ls(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Pa{constructor(e=null){this.isSource=!0,this.uuid=fs(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let o;if(Array.isArray(r)){o=[];for(let l=0,c=r.length;l<c;l++)r[l].isDataTexture?o.push(va(r[l].image)):o.push(va(r[l]))}else o=va(r);n.url=o}return t||(e.images[this.uuid]=n),n}}function va(a){return typeof HTMLImageElement!="undefined"&&a instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&a instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&a instanceof ImageBitmap?Y1.getDataURL(a):a.data?{data:Array.from(a.data),width:a.width,height:a.height,type:a.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let K1=0;class gi extends Bi{constructor(e=gi.DEFAULT_IMAGE,t=gi.DEFAULT_MAPPING,n=jt,r=jt,o=Zn,l=$e,c=Lr,f=Pt,d=gi.DEFAULT_ANISOTROPY,m=us){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:K1++}),this.uuid=fs(),this.name="",this.source=new Pa(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=o,this.minFilter=l,this.anisotropy=d,this.format=c,this.internalFormat=null,this.type=f,this.offset=new hn(0,0),this.repeat=new hn(1,1),this.center=new hn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Jr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof m=="string"?this.colorSpace=m:(Do("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=m===oo?Vr:us),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Qt)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Tt:e.x=e.x-Math.floor(e.x);break;case jt:e.x=e.x<0?0:1;break;case _n:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Tt:e.y=e.y-Math.floor(e.y);break;case jt:e.y=e.y<0?0:1;break;case _n:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Do("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Vr?oo:fa}set encoding(e){Do("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===oo?Vr:us}}gi.DEFAULT_IMAGE=null,gi.DEFAULT_MAPPING=Qt,gi.DEFAULT_ANISOTROPY=1;class Br{constructor(e=0,t=0,n=0,r=1){Br.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=this.w,l=e.elements;return this.x=l[0]*t+l[4]*n+l[8]*r+l[12]*o,this.y=l[1]*t+l[5]*n+l[9]*r+l[13]*o,this.z=l[2]*t+l[6]*n+l[10]*r+l[14]*o,this.w=l[3]*t+l[7]*n+l[11]*r+l[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,o;const f=e.elements,d=f[0],m=f[4],g=f[8],v=f[1],C=f[5],y=f[9],A=f[2],M=f[6],x=f[10];if(Math.abs(m-v)<.01&&Math.abs(g-A)<.01&&Math.abs(y-M)<.01){if(Math.abs(m+v)<.1&&Math.abs(g+A)<.1&&Math.abs(y+M)<.1&&Math.abs(d+C+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const O=(d+1)/2,ne=(C+1)/2,ue=(x+1)/2,we=(m+v)/4,Ve=(g+A)/4,et=(y+M)/4;return O>ne&&O>ue?O<.01?(n=0,r=.707106781,o=.707106781):(n=Math.sqrt(O),r=we/n,o=Ve/n):ne>ue?ne<.01?(n=.707106781,r=0,o=.707106781):(r=Math.sqrt(ne),n=we/r,o=et/r):ue<.01?(n=.707106781,r=.707106781,o=0):(o=Math.sqrt(ue),n=Ve/o,r=et/o),this.set(n,r,o,t),this}let U=Math.sqrt((M-y)*(M-y)+(g-A)*(g-A)+(v-m)*(v-m));return Math.abs(U)<.001&&(U=1),this.x=(M-y)/U,this.y=(g-A)/U,this.z=(v-m)/U,this.w=Math.acos((d+C+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class co extends Bi{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Br(0,0,e,t),this.scissorTest=!1,this.viewport=new Br(0,0,e,t);const r={width:e,height:t,depth:1};n.encoding!==void 0&&(Do("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===oo?Vr:us),this.texture=new gi(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Zn,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null,this.samples=n.samples!==void 0?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Pa(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class is extends gi{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=en,this.minFilter=en,this.wrapR=jt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ro extends co{constructor(e=1,t=1,n=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new is(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class os extends gi{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=en,this.minFilter=en,this.wrapR=jt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class hs extends co{constructor(e=1,t=1,n=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new os(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Za extends co{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let l=0;l<n;l++)this.texture[l]=o.clone(),this.texture[l].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,o=this.texture.length;r<o;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class mo{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,o,l,c){let f=n[r+0],d=n[r+1],m=n[r+2],g=n[r+3];const v=o[l+0],C=o[l+1],y=o[l+2],A=o[l+3];if(c===0){e[t+0]=f,e[t+1]=d,e[t+2]=m,e[t+3]=g;return}if(c===1){e[t+0]=v,e[t+1]=C,e[t+2]=y,e[t+3]=A;return}if(g!==A||f!==v||d!==C||m!==y){let M=1-c;const x=f*v+d*C+m*y+g*A,U=x>=0?1:-1,O=1-x*x;if(O>Number.EPSILON){const ue=Math.sqrt(O),we=Math.atan2(ue,x*U);M=Math.sin(M*we)/ue,c=Math.sin(c*we)/ue}const ne=c*U;if(f=f*M+v*ne,d=d*M+C*ne,m=m*M+y*ne,g=g*M+A*ne,M===1-c){const ue=1/Math.sqrt(f*f+d*d+m*m+g*g);f*=ue,d*=ue,m*=ue,g*=ue}}e[t]=f,e[t+1]=d,e[t+2]=m,e[t+3]=g}static multiplyQuaternionsFlat(e,t,n,r,o,l){const c=n[r],f=n[r+1],d=n[r+2],m=n[r+3],g=o[l],v=o[l+1],C=o[l+2],y=o[l+3];return e[t]=c*y+m*g+f*C-d*v,e[t+1]=f*y+m*v+d*g-c*C,e[t+2]=d*y+m*C+c*v-f*g,e[t+3]=m*y-c*g-f*v-d*C,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,r=e._y,o=e._z,l=e._order,c=Math.cos,f=Math.sin,d=c(n/2),m=c(r/2),g=c(o/2),v=f(n/2),C=f(r/2),y=f(o/2);switch(l){case"XYZ":this._x=v*m*g+d*C*y,this._y=d*C*g-v*m*y,this._z=d*m*y+v*C*g,this._w=d*m*g-v*C*y;break;case"YXZ":this._x=v*m*g+d*C*y,this._y=d*C*g-v*m*y,this._z=d*m*y-v*C*g,this._w=d*m*g+v*C*y;break;case"ZXY":this._x=v*m*g-d*C*y,this._y=d*C*g+v*m*y,this._z=d*m*y+v*C*g,this._w=d*m*g-v*C*y;break;case"ZYX":this._x=v*m*g-d*C*y,this._y=d*C*g+v*m*y,this._z=d*m*y-v*C*g,this._w=d*m*g+v*C*y;break;case"YZX":this._x=v*m*g+d*C*y,this._y=d*C*g+v*m*y,this._z=d*m*y-v*C*g,this._w=d*m*g-v*C*y;break;case"XZY":this._x=v*m*g-d*C*y,this._y=d*C*g-v*m*y,this._z=d*m*y+v*C*g,this._w=d*m*g+v*C*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],o=t[8],l=t[1],c=t[5],f=t[9],d=t[2],m=t[6],g=t[10],v=n+c+g;if(v>0){const C=.5/Math.sqrt(v+1);this._w=.25/C,this._x=(m-f)*C,this._y=(o-d)*C,this._z=(l-r)*C}else if(n>c&&n>g){const C=2*Math.sqrt(1+n-c-g);this._w=(m-f)/C,this._x=.25*C,this._y=(r+l)/C,this._z=(o+d)/C}else if(c>g){const C=2*Math.sqrt(1+c-n-g);this._w=(o-d)/C,this._x=(r+l)/C,this._y=.25*C,this._z=(f+m)/C}else{const C=2*Math.sqrt(1+g-n-c);this._w=(l-r)/C,this._x=(o+d)/C,this._y=(f+m)/C,this._z=.25*C}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ei(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,o=e._z,l=e._w,c=t._x,f=t._y,d=t._z,m=t._w;return this._x=n*m+l*c+r*d-o*f,this._y=r*m+l*f+o*c-n*d,this._z=o*m+l*d+n*f-r*c,this._w=l*m-n*c-r*f-o*d,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,o=this._z,l=this._w;let c=l*e._w+n*e._x+r*e._y+o*e._z;if(c<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,c=-c):this.copy(e),c>=1)return this._w=l,this._x=n,this._y=r,this._z=o,this;const f=1-c*c;if(f<=Number.EPSILON){const C=1-t;return this._w=C*l+t*this._w,this._x=C*n+t*this._x,this._y=C*r+t*this._y,this._z=C*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const d=Math.sqrt(f),m=Math.atan2(d,c),g=Math.sin((1-t)*m)/d,v=Math.sin(t*m)/d;return this._w=l*g+this._w*v,this._x=n*g+this._x*v,this._y=r*g+this._y*v,this._z=o*g+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(o),n*Math.cos(o),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ce{constructor(e=0,t=0,n=0){ce.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(ja.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ja.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[3]*n+o[6]*r,this.y=o[1]*t+o[4]*n+o[7]*r,this.z=o[2]*t+o[5]*n+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=e.elements,l=1/(o[3]*t+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*t+o[4]*n+o[8]*r+o[12])*l,this.y=(o[1]*t+o[5]*n+o[9]*r+o[13])*l,this.z=(o[2]*t+o[6]*n+o[10]*r+o[14])*l,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,o=e.x,l=e.y,c=e.z,f=e.w,d=f*t+l*r-c*n,m=f*n+c*t-o*r,g=f*r+o*n-l*t,v=-o*t-l*n-c*r;return this.x=d*f+v*-o+m*-c-g*-l,this.y=m*f+v*-l+g*-o-d*-c,this.z=g*f+v*-c+d*-l-m*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r,this.y=o[1]*t+o[5]*n+o[9]*r,this.z=o[2]*t+o[6]*n+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,o=e.z,l=t.x,c=t.y,f=t.z;return this.x=r*f-o*c,this.y=o*l-n*f,this.z=n*c-r*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return ia.copy(this).projectOnVector(e),this.sub(ia)}reflect(e){return this.sub(ia.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Ei(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-Cc(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ia=new ce,ja=new mo;class $o{constructor(e=new ce(1/0,1/0,1/0),t=new ce(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(So.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(So.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=So.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Bo.copy(e.boundingBox),Bo.applyMatrix4(e.matrixWorld),this.union(Bo);else{const r=e.geometry;if(r!==void 0)if(t&&r.attributes!==void 0&&r.attributes.position!==void 0){const o=r.attributes.position;for(let l=0,c=o.count;l<c;l++)So.fromBufferAttribute(o,l).applyMatrix4(e.matrixWorld),this.expandByPoint(So)}else r.boundingBox===null&&r.computeBoundingBox(),Bo.copy(r.boundingBox),Bo.applyMatrix4(e.matrixWorld),this.union(Bo)}const n=e.children;for(let r=0,o=n.length;r<o;r++)this.expandByObject(n[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,So),So.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(s1),Zo.subVectors(this.max,s1),to.subVectors(e.a,s1),Wo.subVectors(e.b,s1),Eo.subVectors(e.c,s1),Ca.subVectors(Wo,to),_a.subVectors(Eo,Wo),Ia.subVectors(to,Eo);let t=[0,-Ca.z,Ca.y,0,-_a.z,_a.y,0,-Ia.z,Ia.y,Ca.z,0,-Ca.x,_a.z,0,-_a.x,Ia.z,0,-Ia.x,-Ca.y,Ca.x,0,-_a.y,_a.x,0,-Ia.y,Ia.x,0];return!C1(t,to,Wo,Eo,Zo)||(t=[1,0,0,0,1,0,0,0,1],!C1(t,to,Wo,Eo,Zo))?!1:(H1.crossVectors(Ca,_a),t=[H1.x,H1.y,H1.z],C1(t,to,Wo,Eo,Zo))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,So).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(So).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ts[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ts[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ts[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ts[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ts[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ts[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ts[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ts[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ts),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ts=[new ce,new ce,new ce,new ce,new ce,new ce,new ce,new ce],So=new ce,Bo=new $o,to=new ce,Wo=new ce,Eo=new ce,Ca=new ce,_a=new ce,Ia=new ce,s1=new ce,Zo=new ce,H1=new ce,Ga=new ce;function C1(a,e,t,n,r){for(let o=0,l=a.length-3;o<=l;o+=3){Ga.fromArray(a,o);const c=r.x*Math.abs(Ga.x)+r.y*Math.abs(Ga.y)+r.z*Math.abs(Ga.z),f=e.dot(Ga),d=t.dot(Ga),m=n.dot(Ga);if(Math.max(-Math.max(f,d,m),Math.min(f,d,m))>c)return!1}return!0}const Fs=new $o,ks=new ce,Xa=new ce;class qs{constructor(e=new ce,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):Fs.setFromPoints(e).getCenter(n);let r=0;for(let o=0,l=e.length;o<l;o++)r=Math.max(r,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ks.subVectors(e,this.center);const t=ks.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(ks,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Xa.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ks.copy(e.center).add(Xa)),this.expandByPoint(ks.copy(e.center).sub(Xa))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const oa=new ce,Sl=new ce,J1=new ce,Ya=new ce,El=new ce,q1=new ce,Q1=new ce;class _1{constructor(e=new ce,t=new ce(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,oa)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=oa.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(oa.copy(this.origin).addScaledVector(this.direction,t),oa.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){Sl.copy(e).add(t).multiplyScalar(.5),J1.copy(t).sub(e).normalize(),Ya.copy(this.origin).sub(Sl);const o=e.distanceTo(t)*.5,l=-this.direction.dot(J1),c=Ya.dot(this.direction),f=-Ya.dot(J1),d=Ya.lengthSq(),m=Math.abs(1-l*l);let g,v,C,y;if(m>0)if(g=l*f-c,v=l*c-f,y=o*m,g>=0)if(v>=-y)if(v<=y){const A=1/m;g*=A,v*=A,C=g*(g+l*v+2*c)+v*(l*g+v+2*f)+d}else v=o,g=Math.max(0,-(l*v+c)),C=-g*g+v*(v+2*f)+d;else v=-o,g=Math.max(0,-(l*v+c)),C=-g*g+v*(v+2*f)+d;else v<=-y?(g=Math.max(0,-(-l*o+c)),v=g>0?-o:Math.min(Math.max(-o,-f),o),C=-g*g+v*(v+2*f)+d):v<=y?(g=0,v=Math.min(Math.max(-o,-f),o),C=v*(v+2*f)+d):(g=Math.max(0,-(l*o+c)),v=g>0?o:Math.min(Math.max(-o,-f),o),C=-g*g+v*(v+2*f)+d);else v=l>0?-o:o,g=Math.max(0,-(l*v+c)),C=-g*g+v*(v+2*f)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(Sl).addScaledVector(J1,v),C}intersectSphere(e,t){oa.subVectors(e.center,this.origin);const n=oa.dot(this.direction),r=oa.dot(oa)-n*n,o=e.radius*e.radius;if(r>o)return null;const l=Math.sqrt(o-r),c=n-l,f=n+l;return f<0?null:c<0?this.at(f,t):this.at(c,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,o,l,c,f;const d=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,v=this.origin;return d>=0?(n=(e.min.x-v.x)*d,r=(e.max.x-v.x)*d):(n=(e.max.x-v.x)*d,r=(e.min.x-v.x)*d),m>=0?(o=(e.min.y-v.y)*m,l=(e.max.y-v.y)*m):(o=(e.max.y-v.y)*m,l=(e.min.y-v.y)*m),n>l||o>r||((o>n||isNaN(n))&&(n=o),(l<r||isNaN(r))&&(r=l),g>=0?(c=(e.min.z-v.z)*g,f=(e.max.z-v.z)*g):(c=(e.max.z-v.z)*g,f=(e.min.z-v.z)*g),n>f||c>r)||((c>n||n!==n)&&(n=c),(f<r||r!==r)&&(r=f),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,oa)!==null}intersectTriangle(e,t,n,r,o){El.subVectors(t,e),q1.subVectors(n,e),Q1.crossVectors(El,q1);let l=this.direction.dot(Q1),c;if(l>0){if(r)return null;c=1}else if(l<0)c=-1,l=-l;else return null;Ya.subVectors(this.origin,e);const f=c*this.direction.dot(q1.crossVectors(Ya,q1));if(f<0)return null;const d=c*this.direction.dot(El.cross(Ya));if(d<0||f+d>l)return null;const m=-c*Ya.dot(Q1);return m<0?null:this.at(m/l,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class li{constructor(){li.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,r,o,l,c,f,d,m,g,v,C,y,A,M){const x=this.elements;return x[0]=e,x[4]=t,x[8]=n,x[12]=r,x[1]=o,x[5]=l,x[9]=c,x[13]=f,x[2]=d,x[6]=m,x[10]=g,x[14]=v,x[3]=C,x[7]=y,x[11]=A,x[15]=M,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new li().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/a1.setFromMatrixColumn(e,0).length(),o=1/a1.setFromMatrixColumn(e,1).length(),l=1/a1.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=0,t[8]=n[8]*l,t[9]=n[9]*l,t[10]=n[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,o=e.z,l=Math.cos(n),c=Math.sin(n),f=Math.cos(r),d=Math.sin(r),m=Math.cos(o),g=Math.sin(o);if(e.order==="XYZ"){const v=l*m,C=l*g,y=c*m,A=c*g;t[0]=f*m,t[4]=-f*g,t[8]=d,t[1]=C+y*d,t[5]=v-A*d,t[9]=-c*f,t[2]=A-v*d,t[6]=y+C*d,t[10]=l*f}else if(e.order==="YXZ"){const v=f*m,C=f*g,y=d*m,A=d*g;t[0]=v+A*c,t[4]=y*c-C,t[8]=l*d,t[1]=l*g,t[5]=l*m,t[9]=-c,t[2]=C*c-y,t[6]=A+v*c,t[10]=l*f}else if(e.order==="ZXY"){const v=f*m,C=f*g,y=d*m,A=d*g;t[0]=v-A*c,t[4]=-l*g,t[8]=y+C*c,t[1]=C+y*c,t[5]=l*m,t[9]=A-v*c,t[2]=-l*d,t[6]=c,t[10]=l*f}else if(e.order==="ZYX"){const v=l*m,C=l*g,y=c*m,A=c*g;t[0]=f*m,t[4]=y*d-C,t[8]=v*d+A,t[1]=f*g,t[5]=A*d+v,t[9]=C*d-y,t[2]=-d,t[6]=c*f,t[10]=l*f}else if(e.order==="YZX"){const v=l*f,C=l*d,y=c*f,A=c*d;t[0]=f*m,t[4]=A-v*g,t[8]=y*g+C,t[1]=g,t[5]=l*m,t[9]=-c*m,t[2]=-d*m,t[6]=C*g+y,t[10]=v-A*g}else if(e.order==="XZY"){const v=l*f,C=l*d,y=c*f,A=c*d;t[0]=f*m,t[4]=-g,t[8]=d*m,t[1]=v*g+A,t[5]=l*m,t[9]=C*g-y,t[2]=y*g-C,t[6]=c*m,t[10]=A*g+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(z1,e,Kl)}lookAt(e,t,n){const r=this.elements;return $s.subVectors(e,t),$s.lengthSq()===0&&($s.z=1),$s.normalize(),xa.crossVectors(n,$s),xa.lengthSq()===0&&(Math.abs(n.z)===1?$s.x+=1e-4:$s.z+=1e-4,$s.normalize(),xa.crossVectors(n,$s)),xa.normalize(),x1.crossVectors($s,xa),r[0]=xa.x,r[4]=x1.x,r[8]=$s.x,r[1]=xa.y,r[5]=x1.y,r[9]=$s.y,r[2]=xa.z,r[6]=x1.z,r[10]=$s.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,l=n[0],c=n[4],f=n[8],d=n[12],m=n[1],g=n[5],v=n[9],C=n[13],y=n[2],A=n[6],M=n[10],x=n[14],U=n[3],O=n[7],ne=n[11],ue=n[15],we=r[0],Ve=r[4],et=r[8],j=r[12],Re=r[1],kt=r[5],pn=r[9],Mt=r[13],Bt=r[2],Xt=r[6],Nn=r[10],Pn=r[14],Ln=r[3],Bn=r[7],Gn=r[11],Ir=r[15];return o[0]=l*we+c*Re+f*Bt+d*Ln,o[4]=l*Ve+c*kt+f*Xt+d*Bn,o[8]=l*et+c*pn+f*Nn+d*Gn,o[12]=l*j+c*Mt+f*Pn+d*Ir,o[1]=m*we+g*Re+v*Bt+C*Ln,o[5]=m*Ve+g*kt+v*Xt+C*Bn,o[9]=m*et+g*pn+v*Nn+C*Gn,o[13]=m*j+g*Mt+v*Pn+C*Ir,o[2]=y*we+A*Re+M*Bt+x*Ln,o[6]=y*Ve+A*kt+M*Xt+x*Bn,o[10]=y*et+A*pn+M*Nn+x*Gn,o[14]=y*j+A*Mt+M*Pn+x*Ir,o[3]=U*we+O*Re+ne*Bt+ue*Ln,o[7]=U*Ve+O*kt+ne*Xt+ue*Bn,o[11]=U*et+O*pn+ne*Nn+ue*Gn,o[15]=U*j+O*Mt+ne*Pn+ue*Ir,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],o=e[12],l=e[1],c=e[5],f=e[9],d=e[13],m=e[2],g=e[6],v=e[10],C=e[14],y=e[3],A=e[7],M=e[11],x=e[15];return y*(+o*f*g-r*d*g-o*c*v+n*d*v+r*c*C-n*f*C)+A*(+t*f*C-t*d*v+o*l*v-r*l*C+r*d*m-o*f*m)+M*(+t*d*g-t*c*C-o*l*g+n*l*C+o*c*m-n*d*m)+x*(-r*c*m-t*f*g+t*c*v+r*l*g-n*l*v+n*f*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],l=e[4],c=e[5],f=e[6],d=e[7],m=e[8],g=e[9],v=e[10],C=e[11],y=e[12],A=e[13],M=e[14],x=e[15],U=g*M*d-A*v*d+A*f*C-c*M*C-g*f*x+c*v*x,O=y*v*d-m*M*d-y*f*C+l*M*C+m*f*x-l*v*x,ne=m*A*d-y*g*d+y*c*C-l*A*C-m*c*x+l*g*x,ue=y*g*f-m*A*f-y*c*v+l*A*v+m*c*M-l*g*M,we=t*U+n*O+r*ne+o*ue;if(we===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Ve=1/we;return e[0]=U*Ve,e[1]=(A*v*o-g*M*o-A*r*C+n*M*C+g*r*x-n*v*x)*Ve,e[2]=(c*M*o-A*f*o+A*r*d-n*M*d-c*r*x+n*f*x)*Ve,e[3]=(g*f*o-c*v*o-g*r*d+n*v*d+c*r*C-n*f*C)*Ve,e[4]=O*Ve,e[5]=(m*M*o-y*v*o+y*r*C-t*M*C-m*r*x+t*v*x)*Ve,e[6]=(y*f*o-l*M*o-y*r*d+t*M*d+l*r*x-t*f*x)*Ve,e[7]=(l*v*o-m*f*o+m*r*d-t*v*d-l*r*C+t*f*C)*Ve,e[8]=ne*Ve,e[9]=(y*g*o-m*A*o-y*n*C+t*A*C+m*n*x-t*g*x)*Ve,e[10]=(l*A*o-y*c*o+y*n*d-t*A*d-l*n*x+t*c*x)*Ve,e[11]=(m*c*o-l*g*o-m*n*d+t*g*d+l*n*C-t*c*C)*Ve,e[12]=ue*Ve,e[13]=(m*A*r-y*g*r+y*n*v-t*A*v-m*n*M+t*g*M)*Ve,e[14]=(y*c*r-l*A*r-y*n*f+t*A*f+l*n*M-t*c*M)*Ve,e[15]=(l*g*r-m*c*r+m*n*f-t*g*f-l*n*v+t*c*v)*Ve,this}scale(e){const t=this.elements,n=e.x,r=e.y,o=e.z;return t[0]*=n,t[4]*=r,t[8]*=o,t[1]*=n,t[5]*=r,t[9]*=o,t[2]*=n,t[6]*=r,t[10]*=o,t[3]*=n,t[7]*=r,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),o=1-n,l=e.x,c=e.y,f=e.z,d=o*l,m=o*c;return this.set(d*l+n,d*c-r*f,d*f+r*c,0,d*c+r*f,m*c+n,m*f-r*l,0,d*f-r*c,m*f+r*l,o*f*f+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,o,l){return this.set(1,n,o,0,e,1,l,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,o=t._x,l=t._y,c=t._z,f=t._w,d=o+o,m=l+l,g=c+c,v=o*d,C=o*m,y=o*g,A=l*m,M=l*g,x=c*g,U=f*d,O=f*m,ne=f*g,ue=n.x,we=n.y,Ve=n.z;return r[0]=(1-(A+x))*ue,r[1]=(C+ne)*ue,r[2]=(y-O)*ue,r[3]=0,r[4]=(C-ne)*we,r[5]=(1-(v+x))*we,r[6]=(M+U)*we,r[7]=0,r[8]=(y+O)*Ve,r[9]=(M-U)*Ve,r[10]=(1-(v+A))*Ve,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let o=a1.set(r[0],r[1],r[2]).length();const l=a1.set(r[4],r[5],r[6]).length(),c=a1.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],ss.copy(this);const d=1/o,m=1/l,g=1/c;return ss.elements[0]*=d,ss.elements[1]*=d,ss.elements[2]*=d,ss.elements[4]*=m,ss.elements[5]*=m,ss.elements[6]*=m,ss.elements[8]*=g,ss.elements[9]*=g,ss.elements[10]*=g,t.setFromRotationMatrix(ss),n.x=o,n.y=l,n.z=c,this}makePerspective(e,t,n,r,o,l){const c=this.elements,f=2*o/(t-e),d=2*o/(n-r),m=(t+e)/(t-e),g=(n+r)/(n-r),v=-(l+o)/(l-o),C=-2*l*o/(l-o);return c[0]=f,c[4]=0,c[8]=m,c[12]=0,c[1]=0,c[5]=d,c[9]=g,c[13]=0,c[2]=0,c[6]=0,c[10]=v,c[14]=C,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,n,r,o,l){const c=this.elements,f=1/(t-e),d=1/(n-r),m=1/(l-o),g=(t+e)*f,v=(n+r)*d,C=(l+o)*m;return c[0]=2*f,c[4]=0,c[8]=0,c[12]=-g,c[1]=0,c[5]=2*d,c[9]=0,c[13]=-v,c[2]=0,c[6]=0,c[10]=-2*m,c[14]=-C,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const a1=new ce,ss=new li,z1=new ce(0,0,0),Kl=new ce(1,1,1),xa=new ce,x1=new ce,$s=new ce,Jl=new li,ql=new mo;class y1{constructor(e=0,t=0,n=0,r=y1.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,o=r[0],l=r[4],c=r[8],f=r[1],d=r[5],m=r[9],g=r[2],v=r[6],C=r[10];switch(t){case"XYZ":this._y=Math.asin(Ei(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,C),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(v,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Ei(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(c,C),this._z=Math.atan2(f,d)):(this._y=Math.atan2(-g,o),this._z=0);break;case"ZXY":this._x=Math.asin(Ei(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,C),this._z=Math.atan2(-l,d)):(this._y=0,this._z=Math.atan2(f,o));break;case"ZYX":this._y=Math.asin(-Ei(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,C),this._z=Math.atan2(f,o)):(this._x=0,this._z=Math.atan2(-l,d));break;case"YZX":this._z=Math.asin(Ei(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-m,d),this._y=Math.atan2(-g,o)):(this._x=0,this._y=Math.atan2(c,C));break;case"XZY":this._z=Math.asin(-Ei(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(v,d),this._y=Math.atan2(c,o)):(this._x=Math.atan2(-m,C),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Jl.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Jl,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return ql.setFromEuler(this),this.setFromQuaternion(ql,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}y1.DEFAULT_ORDER="XYZ";class el{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let _c=0;const xc=new ce,N1=new mo,Ka=new li,Rl=new ce,l1=new ce,yc=new ce,Qc=new mo,wc=new ce(1,0,0),tl=new ce(0,1,0),Mc=new ce(0,0,1),eu={type:"added"},Ql={type:"removed"};class ki extends Bi{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_c++}),this.uuid=fs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ki.DEFAULT_UP.clone();const e=new ce,t=new y1,n=new mo,r=new ce(1,1,1);function o(){n.setFromEuler(t,!1)}function l(){t.setFromQuaternion(n,void 0,!1)}t._onChange(o),n._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new li},normalMatrix:{value:new Jr}}),this.matrix=new li,this.matrixWorld=new li,this.matrixAutoUpdate=ki.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=ki.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new el,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return N1.setFromAxisAngle(e,t),this.quaternion.multiply(N1),this}rotateOnWorldAxis(e,t){return N1.setFromAxisAngle(e,t),this.quaternion.premultiply(N1),this}rotateX(e){return this.rotateOnAxis(wc,e)}rotateY(e){return this.rotateOnAxis(tl,e)}rotateZ(e){return this.rotateOnAxis(Mc,e)}translateOnAxis(e,t){return xc.copy(e).applyQuaternion(this.quaternion),this.position.add(xc.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(wc,e)}translateY(e){return this.translateOnAxis(tl,e)}translateZ(e){return this.translateOnAxis(Mc,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ka.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Rl.copy(e):Rl.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),l1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ka.lookAt(l1,Rl,this.up):Ka.lookAt(Rl,l1,this.up),this.quaternion.setFromRotationMatrix(Ka),r&&(Ka.extractRotation(r.matrixWorld),N1.setFromRotationMatrix(Ka),this.quaternion.premultiply(N1.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(eu)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Ql)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(Ql)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ka.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ka.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ka),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const l=this.children[n].getObjectByProperty(e,t);if(l!==void 0)return l}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,o=this.children.length;r<o;r++){const l=this.children[r].getObjectsByProperty(e,t);l.length>0&&(n=n.concat(l))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(l1,e,yc),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(l1,Qc,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const o=t[n];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let o=0,l=r.length;o<l;o++){const c=r[o];c.matrixWorldAutoUpdate===!0&&c.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function o(c,f){return c[f.uuid]===void 0&&(c[f.uuid]=f.toJSON(e)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const f=c.shapes;if(Array.isArray(f))for(let d=0,m=f.length;d<m;d++){const g=f[d];o(e.shapes,g)}else o(e.shapes,f)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let f=0,d=this.material.length;f<d;f++)c.push(o(e.materials,this.material[f]));r.material=c}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let c=0;c<this.children.length;c++)r.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let c=0;c<this.animations.length;c++){const f=this.animations[c];r.animations.push(o(e.animations,f))}}if(t){const c=l(e.geometries),f=l(e.materials),d=l(e.textures),m=l(e.images),g=l(e.shapes),v=l(e.skeletons),C=l(e.animations),y=l(e.nodes);c.length>0&&(n.geometries=c),f.length>0&&(n.materials=f),d.length>0&&(n.textures=d),m.length>0&&(n.images=m),g.length>0&&(n.shapes=g),v.length>0&&(n.skeletons=v),C.length>0&&(n.animations=C),y.length>0&&(n.nodes=y)}return n.object=r,n;function l(c){const f=[];for(const d in c){const m=c[d];delete m.metadata,f.push(m)}return f}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}ki.DEFAULT_UP=new ce(0,1,0),ki.DEFAULT_MATRIX_AUTO_UPDATE=!0,ki.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const sa=new ce,Oa=new ce,Ll=new ce,Ja=new ce,B1=new ce,w1=new ce,ec=new ce,aa=new ce,tc=new ce,M1=new ce;let b1=!1;class as{constructor(e=new ce,t=new ce,n=new ce){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),sa.subVectors(e,t),r.cross(sa);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,t,n,r,o){sa.subVectors(r,t),Oa.subVectors(n,t),Ll.subVectors(e,t);const l=sa.dot(sa),c=sa.dot(Oa),f=sa.dot(Ll),d=Oa.dot(Oa),m=Oa.dot(Ll),g=l*d-c*c;if(g===0)return o.set(-2,-1,-1);const v=1/g,C=(d*f-c*m)*v,y=(l*m-c*f)*v;return o.set(1-C-y,y,C)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,Ja),Ja.x>=0&&Ja.y>=0&&Ja.x+Ja.y<=1}static getUV(e,t,n,r,o,l,c,f){return b1===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),b1=!0),this.getInterpolation(e,t,n,r,o,l,c,f)}static getInterpolation(e,t,n,r,o,l,c,f){return this.getBarycoord(e,t,n,r,Ja),f.setScalar(0),f.addScaledVector(o,Ja.x),f.addScaledVector(l,Ja.y),f.addScaledVector(c,Ja.z),f}static isFrontFacing(e,t,n,r){return sa.subVectors(n,t),Oa.subVectors(e,t),sa.cross(Oa).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return sa.subVectors(this.c,this.b),Oa.subVectors(this.a,this.b),sa.cross(Oa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return as.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return as.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,o){return b1===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),b1=!0),as.getInterpolation(e,this.a,this.b,this.c,t,n,r,o)}getInterpolation(e,t,n,r,o){return as.getInterpolation(e,this.a,this.b,this.c,t,n,r,o)}containsPoint(e){return as.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return as.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,o=this.c;let l,c;B1.subVectors(r,n),w1.subVectors(o,n),aa.subVectors(e,n);const f=B1.dot(aa),d=w1.dot(aa);if(f<=0&&d<=0)return t.copy(n);tc.subVectors(e,r);const m=B1.dot(tc),g=w1.dot(tc);if(m>=0&&g<=m)return t.copy(r);const v=f*g-m*d;if(v<=0&&f>=0&&m<=0)return l=f/(f-m),t.copy(n).addScaledVector(B1,l);M1.subVectors(e,o);const C=B1.dot(M1),y=w1.dot(M1);if(y>=0&&C<=y)return t.copy(o);const A=C*d-f*y;if(A<=0&&d>=0&&y<=0)return c=d/(d-y),t.copy(n).addScaledVector(w1,c);const M=m*y-C*g;if(M<=0&&g-m>=0&&C-y>=0)return ec.subVectors(o,r),c=(g-m)/(g-m+(C-y)),t.copy(r).addScaledVector(ec,c);const x=1/(M+A+v);return l=A*x,c=v*x,t.copy(n).addScaledVector(B1,l).addScaledVector(w1,c)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let nl=0;class Cs extends Bi{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:nl++}),this.uuid=fs(),this.name="",this.type="Material",this.blending=fn,this.side=xe,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=nt,this.blendDst=Ae,this.blendEquation=Kt,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ge,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ir,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=P,this.stencilZFail=P,this.stencilZPass=P,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==fn&&(n.blending=this.blending),this.side!==xe&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(n.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(o){const l=[];for(const c in o){const f=o[c];delete f.metadata,l.push(f)}return l}if(t){const o=r(e.textures),l=r(e.images);o.length>0&&(n.textures=o),l.length>0&&(n.images=l)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let o=0;o!==r;++o)n[o]=t[o].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const U1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},wo={h:0,s:0,l:0},Tl={h:0,s:0,l:0};function nc(a,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?a+(e-a)*6*t:t<1/2?e:t<2/3?a+(e-a)*6*(2/3-t):a}class ar{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Vr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,rs.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=rs.workingColorSpace){return this.r=e,this.g=t,this.b=n,rs.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=rs.workingColorSpace){if(e=Ys(e,1),t=Ei(t,0,1),n=Ei(n,0,1),t===0)this.r=this.g=this.b=n;else{const o=n<=.5?n*(1+t):n+t-n*t,l=2*n-o;this.r=nc(l,o,e+1/3),this.g=nc(l,o,e),this.b=nc(l,o,e-1/3)}return rs.toWorkingColorSpace(this,r),this}setStyle(e,t=Vr){function n(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const l=r[1],c=r[2];switch(l){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=r[1],l=o.length;if(l===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(o,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Vr){const n=U1[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ls(e.r),this.g=Ls(e.g),this.b=Ls(e.b),this}copyLinearToSRGB(e){return this.r=Aa(e.r),this.g=Aa(e.g),this.b=Aa(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Vr){return rs.fromWorkingColorSpace(no.copy(this),e),Math.round(Ei(no.r*255,0,255))*65536+Math.round(Ei(no.g*255,0,255))*256+Math.round(Ei(no.b*255,0,255))}getHexString(e=Vr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=rs.workingColorSpace){rs.fromWorkingColorSpace(no.copy(this),t);const n=no.r,r=no.g,o=no.b,l=Math.max(n,r,o),c=Math.min(n,r,o);let f,d;const m=(c+l)/2;if(c===l)f=0,d=0;else{const g=l-c;switch(d=m<=.5?g/(l+c):g/(2-l-c),l){case n:f=(r-o)/g+(r<o?6:0);break;case r:f=(o-n)/g+2;break;case o:f=(n-r)/g+4;break}f/=6}return e.h=f,e.s=d,e.l=m,e}getRGB(e,t=rs.workingColorSpace){return rs.fromWorkingColorSpace(no.copy(this),t),e.r=no.r,e.g=no.g,e.b=no.b,e}getStyle(e=Vr){rs.fromWorkingColorSpace(no.copy(this),e);const t=no.r,n=no.g,r=no.b;return e!==Vr?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(wo),wo.h+=e,wo.s+=t,wo.l+=n,this.setHSL(wo.h,wo.s,wo.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(wo),e.getHSL(Tl);const n=pa(wo.h,Tl.h,t),r=pa(wo.s,Tl.s,t),o=pa(wo.l,Tl.l,t);return this.setHSL(n,r,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,o=e.elements;return this.r=o[0]*t+o[3]*n+o[6]*r,this.g=o[1]*t+o[4]*n+o[7]*r,this.b=o[2]*t+o[5]*n+o[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const no=new ar;ar.NAMES=U1;class qa extends Cs{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ar(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Te,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Da=bc();function bc(){const a=new ArrayBuffer(4),e=new Float32Array(a),t=new Uint32Array(a),n=new Uint32Array(512),r=new Uint32Array(512);for(let f=0;f<256;++f){const d=f-127;d<-27?(n[f]=0,n[f|256]=32768,r[f]=24,r[f|256]=24):d<-14?(n[f]=1024>>-d-14,n[f|256]=1024>>-d-14|32768,r[f]=-d-1,r[f|256]=-d-1):d<=15?(n[f]=d+15<<10,n[f|256]=d+15<<10|32768,r[f]=13,r[f|256]=13):d<128?(n[f]=31744,n[f|256]=64512,r[f]=24,r[f|256]=24):(n[f]=31744,n[f|256]=64512,r[f]=13,r[f|256]=13)}const o=new Uint32Array(2048),l=new Uint32Array(64),c=new Uint32Array(64);for(let f=1;f<1024;++f){let d=f<<13,m=0;for(;!(d&8388608);)d<<=1,m-=8388608;d&=-8388609,m+=947912704,o[f]=d|m}for(let f=1024;f<2048;++f)o[f]=939524096+(f-1024<<13);for(let f=1;f<31;++f)l[f]=f<<23;l[31]=1199570944,l[32]=2147483648;for(let f=33;f<63;++f)l[f]=2147483648+(f-32<<23);l[63]=3347054592;for(let f=1;f<64;++f)f!==32&&(c[f]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:o,exponentTable:l,offsetTable:c}}function As(a){Math.abs(a)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),a=Ei(a,-65504,65504),Da.floatView[0]=a;const e=Da.uint32View[0],t=e>>23&511;return Da.baseTable[t]+((e&8388607)>>Da.shiftTable[t])}function c1(a){const e=a>>10;return Da.uint32View[0]=Da.mantissaTable[Da.offsetTable[e]+(a&1023)]+Da.exponentTable[e],Da.floatView[0]}const rc={toHalfFloat:As,fromHalfFloat:c1},Uo=new ce,S1=new hn;class go{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=on,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)S1.fromBufferAttribute(this,t),S1.applyMatrix3(e),this.setXY(t,S1.x,S1.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Uo.fromBufferAttribute(this,t),Uo.applyMatrix3(e),this.setXYZ(t,Uo.x,Uo.y,Uo.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Uo.fromBufferAttribute(this,t),Uo.applyMatrix4(e),this.setXYZ(t,Uo.x,Uo.y,Uo.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Uo.fromBufferAttribute(this,t),Uo.applyNormalMatrix(e),this.setXYZ(t,Uo.x,Uo.y,Uo.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Uo.fromBufferAttribute(this,t),Uo.transformDirection(e),this.setXYZ(t,Uo.x,Uo.y,Uo.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=yo(t,this.array)),t}setX(e,t){return this.normalized&&(t=kr(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=yo(t,this.array)),t}setY(e,t){return this.normalized&&(t=kr(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=yo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=kr(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=yo(t,this.array)),t}setW(e,t){return this.normalized&&(t=kr(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=kr(t,this.array),n=kr(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=kr(t,this.array),n=kr(n,this.array),r=kr(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e*=this.itemSize,this.normalized&&(t=kr(t,this.array),n=kr(n,this.array),r=kr(r,this.array),o=kr(o,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==on&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Al extends go{constructor(e,t,n){super(new Int8Array(e),t,n)}}class rl extends go{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class il extends go{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class Sc extends go{constructor(e,t,n){super(new Int16Array(e),t,n)}}class Ha extends go{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Mi extends go{constructor(e,t,n){super(new Int32Array(e),t,n)}}class V1 extends go{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Pl extends go{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=c1(this.array[e*this.itemSize]);return this.normalized&&(t=yo(t,this.array)),t}setX(e,t){return this.normalized&&(t=kr(t,this.array)),this.array[e*this.itemSize]=As(t),this}getY(e){let t=c1(this.array[e*this.itemSize+1]);return this.normalized&&(t=yo(t,this.array)),t}setY(e,t){return this.normalized&&(t=kr(t,this.array)),this.array[e*this.itemSize+1]=As(t),this}getZ(e){let t=c1(this.array[e*this.itemSize+2]);return this.normalized&&(t=yo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=kr(t,this.array)),this.array[e*this.itemSize+2]=As(t),this}getW(e){let t=c1(this.array[e*this.itemSize+3]);return this.normalized&&(t=yo(t,this.array)),t}setW(e,t){return this.normalized&&(t=kr(t,this.array)),this.array[e*this.itemSize+3]=As(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=kr(t,this.array),n=kr(n,this.array)),this.array[e+0]=As(t),this.array[e+1]=As(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=kr(t,this.array),n=kr(n,this.array),r=kr(r,this.array)),this.array[e+0]=As(t),this.array[e+1]=As(n),this.array[e+2]=As(r),this}setXYZW(e,t,n,r,o){return e*=this.itemSize,this.normalized&&(t=kr(t,this.array),n=kr(n,this.array),r=kr(r,this.array),o=kr(o,this.array)),this.array[e+0]=As(t),this.array[e+1]=As(n),this.array[e+2]=As(r),this.array[e+3]=As(o),this}}class Sr extends go{constructor(e,t,n){super(new Float32Array(e),t,n)}}class ic extends go{constructor(e,t,n){super(new Float64Array(e),t,n)}}let Ec=0;const jo=new li,Rc=new ki,ol=new ce,_s=new $o,Ps=new $o,Jo=new ce;class xn extends Bi{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Ec++}),this.uuid=fs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(ka(e)?V1:Ha)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const o=new Jr().getNormalMatrix(e);n.applyNormalMatrix(o),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return jo.makeRotationFromQuaternion(e),this.applyMatrix4(jo),this}rotateX(e){return jo.makeRotationX(e),this.applyMatrix4(jo),this}rotateY(e){return jo.makeRotationY(e),this.applyMatrix4(jo),this}rotateZ(e){return jo.makeRotationZ(e),this.applyMatrix4(jo),this}translate(e,t,n){return jo.makeTranslation(e,t,n),this.applyMatrix4(jo),this}scale(e,t,n){return jo.makeScale(e,t,n),this.applyMatrix4(jo),this}lookAt(e){return Rc.lookAt(e),Rc.updateMatrix(),this.applyMatrix4(Rc.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ol).negate(),this.translate(ol.x,ol.y,ol.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const o=e[n];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Sr(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new $o);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ce(-1/0,-1/0,-1/0),new ce(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const o=t[n];_s.setFromBufferAttribute(o),this.morphTargetsRelative?(Jo.addVectors(this.boundingBox.min,_s.min),this.boundingBox.expandByPoint(Jo),Jo.addVectors(this.boundingBox.max,_s.max),this.boundingBox.expandByPoint(Jo)):(this.boundingBox.expandByPoint(_s.min),this.boundingBox.expandByPoint(_s.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new qs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ce,1/0);return}if(e){const n=this.boundingSphere.center;if(_s.setFromBufferAttribute(e),t)for(let o=0,l=t.length;o<l;o++){const c=t[o];Ps.setFromBufferAttribute(c),this.morphTargetsRelative?(Jo.addVectors(_s.min,Ps.min),_s.expandByPoint(Jo),Jo.addVectors(_s.max,Ps.max),_s.expandByPoint(Jo)):(_s.expandByPoint(Ps.min),_s.expandByPoint(Ps.max))}_s.getCenter(n);let r=0;for(let o=0,l=e.count;o<l;o++)Jo.fromBufferAttribute(e,o),r=Math.max(r,n.distanceToSquared(Jo));if(t)for(let o=0,l=t.length;o<l;o++){const c=t[o],f=this.morphTargetsRelative;for(let d=0,m=c.count;d<m;d++)Jo.fromBufferAttribute(c,d),f&&(ol.fromBufferAttribute(e,d),Jo.add(ol)),r=Math.max(r,n.distanceToSquared(Jo))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.array,r=t.position.array,o=t.normal.array,l=t.uv.array,c=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new go(new Float32Array(4*c),4));const f=this.getAttribute("tangent").array,d=[],m=[];for(let Re=0;Re<c;Re++)d[Re]=new ce,m[Re]=new ce;const g=new ce,v=new ce,C=new ce,y=new hn,A=new hn,M=new hn,x=new ce,U=new ce;function O(Re,kt,pn){g.fromArray(r,Re*3),v.fromArray(r,kt*3),C.fromArray(r,pn*3),y.fromArray(l,Re*2),A.fromArray(l,kt*2),M.fromArray(l,pn*2),v.sub(g),C.sub(g),A.sub(y),M.sub(y);const Mt=1/(A.x*M.y-M.x*A.y);isFinite(Mt)&&(x.copy(v).multiplyScalar(M.y).addScaledVector(C,-A.y).multiplyScalar(Mt),U.copy(C).multiplyScalar(A.x).addScaledVector(v,-M.x).multiplyScalar(Mt),d[Re].add(x),d[kt].add(x),d[pn].add(x),m[Re].add(U),m[kt].add(U),m[pn].add(U))}let ne=this.groups;ne.length===0&&(ne=[{start:0,count:n.length}]);for(let Re=0,kt=ne.length;Re<kt;++Re){const pn=ne[Re],Mt=pn.start,Bt=pn.count;for(let Xt=Mt,Nn=Mt+Bt;Xt<Nn;Xt+=3)O(n[Xt+0],n[Xt+1],n[Xt+2])}const ue=new ce,we=new ce,Ve=new ce,et=new ce;function j(Re){Ve.fromArray(o,Re*3),et.copy(Ve);const kt=d[Re];ue.copy(kt),ue.sub(Ve.multiplyScalar(Ve.dot(kt))).normalize(),we.crossVectors(et,kt);const Mt=we.dot(m[Re])<0?-1:1;f[Re*4]=ue.x,f[Re*4+1]=ue.y,f[Re*4+2]=ue.z,f[Re*4+3]=Mt}for(let Re=0,kt=ne.length;Re<kt;++Re){const pn=ne[Re],Mt=pn.start,Bt=pn.count;for(let Xt=Mt,Nn=Mt+Bt;Xt<Nn;Xt+=3)j(n[Xt+0]),j(n[Xt+1]),j(n[Xt+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new go(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let v=0,C=n.count;v<C;v++)n.setXYZ(v,0,0,0);const r=new ce,o=new ce,l=new ce,c=new ce,f=new ce,d=new ce,m=new ce,g=new ce;if(e)for(let v=0,C=e.count;v<C;v+=3){const y=e.getX(v+0),A=e.getX(v+1),M=e.getX(v+2);r.fromBufferAttribute(t,y),o.fromBufferAttribute(t,A),l.fromBufferAttribute(t,M),m.subVectors(l,o),g.subVectors(r,o),m.cross(g),c.fromBufferAttribute(n,y),f.fromBufferAttribute(n,A),d.fromBufferAttribute(n,M),c.add(m),f.add(m),d.add(m),n.setXYZ(y,c.x,c.y,c.z),n.setXYZ(A,f.x,f.y,f.z),n.setXYZ(M,d.x,d.y,d.z)}else for(let v=0,C=t.count;v<C;v+=3)r.fromBufferAttribute(t,v+0),o.fromBufferAttribute(t,v+1),l.fromBufferAttribute(t,v+2),m.subVectors(l,o),g.subVectors(r,o),m.cross(g),n.setXYZ(v+0,m.x,m.y,m.z),n.setXYZ(v+1,m.x,m.y,m.z),n.setXYZ(v+2,m.x,m.y,m.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Jo.fromBufferAttribute(e,t),Jo.normalize(),e.setXYZ(t,Jo.x,Jo.y,Jo.z)}toNonIndexed(){function e(c,f){const d=c.array,m=c.itemSize,g=c.normalized,v=new d.constructor(f.length*m);let C=0,y=0;for(let A=0,M=f.length;A<M;A++){c.isInterleavedBufferAttribute?C=f[A]*c.data.stride+c.offset:C=f[A]*m;for(let x=0;x<m;x++)v[y++]=d[C++]}return new go(v,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new xn,n=this.index.array,r=this.attributes;for(const c in r){const f=r[c],d=e(f,n);t.setAttribute(c,d)}const o=this.morphAttributes;for(const c in o){const f=[],d=o[c];for(let m=0,g=d.length;m<g;m++){const v=d[m],C=e(v,n);f.push(C)}t.morphAttributes[c]=f}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let c=0,f=l.length;c<f;c++){const d=l[c];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const d in f)f[d]!==void 0&&(e[d]=f[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const f in n){const d=n[f];e.data.attributes[f]=d.toJSON(e.data)}const r={};let o=!1;for(const f in this.morphAttributes){const d=this.morphAttributes[f],m=[];for(let g=0,v=d.length;g<v;g++){const C=d[g];m.push(C.toJSON(e.data))}m.length>0&&(r[f]=m,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const c=this.boundingSphere;return c!==null&&(e.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const r=e.attributes;for(const d in r){const m=r[d];this.setAttribute(d,m.clone(t))}const o=e.morphAttributes;for(const d in o){const m=[],g=o[d];for(let v=0,C=g.length;v<C;v++)m.push(g[v].clone(t));this.morphAttributes[d]=m}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let d=0,m=l.length;d<m;d++){const g=l[d];this.addGroup(g.start,g.count,g.materialIndex)}const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const f=e.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const E1=new li,la=new _1,R1=new qs,Lc=new ce,qo=new ce,ya=new ce,xs=new ce,Il=new ce,sl=new ce,al=new hn,ll=new hn,cl=new hn,oc=new ce,Ol=new ce,sc=new ce,Dl=new ce,ul=new ce;class Go extends ki{constructor(e=new xn,t=new qa){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=r.length;o<l;o++){const c=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=o}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,o=n.morphAttributes.position,l=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const c=this.morphTargetInfluences;if(o&&c){sl.set(0,0,0);for(let f=0,d=o.length;f<d;f++){const m=c[f],g=o[f];m!==0&&(Il.fromBufferAttribute(g,e),l?sl.addScaledVector(Il,m):sl.addScaledVector(Il.sub(t),m))}t.add(sl)}return t}raycast(e,t){const n=this.geometry,r=this.material,o=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),R1.copy(n.boundingSphere),R1.applyMatrix4(o),la.copy(e.ray).recast(e.near),!(R1.containsPoint(la.origin)===!1&&(la.intersectSphere(R1,Lc)===null||la.origin.distanceToSquared(Lc)>Cc(e.far-e.near,2)))&&(E1.copy(o).invert(),la.copy(e.ray).applyMatrix4(E1),!(n.boundingBox!==null&&la.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t)))}_computeIntersections(e,t){let n;const r=this.geometry,o=this.material,l=r.index,c=r.attributes.position,f=r.attributes.uv,d=r.attributes.uv1,m=r.attributes.normal,g=r.groups,v=r.drawRange;if(l!==null)if(Array.isArray(o))for(let C=0,y=g.length;C<y;C++){const A=g[C],M=o[A.materialIndex],x=Math.max(A.start,v.start),U=Math.min(l.count,Math.min(A.start+A.count,v.start+v.count));for(let O=x,ne=U;O<ne;O+=3){const ue=l.getX(O),we=l.getX(O+1),Ve=l.getX(O+2);n=fl(this,M,e,la,f,d,m,ue,we,Ve),n&&(n.faceIndex=Math.floor(O/3),n.face.materialIndex=A.materialIndex,t.push(n))}}else{const C=Math.max(0,v.start),y=Math.min(l.count,v.start+v.count);for(let A=C,M=y;A<M;A+=3){const x=l.getX(A),U=l.getX(A+1),O=l.getX(A+2);n=fl(this,o,e,la,f,d,m,x,U,O),n&&(n.faceIndex=Math.floor(A/3),t.push(n))}}else if(c!==void 0)if(Array.isArray(o))for(let C=0,y=g.length;C<y;C++){const A=g[C],M=o[A.materialIndex],x=Math.max(A.start,v.start),U=Math.min(c.count,Math.min(A.start+A.count,v.start+v.count));for(let O=x,ne=U;O<ne;O+=3){const ue=O,we=O+1,Ve=O+2;n=fl(this,M,e,la,f,d,m,ue,we,Ve),n&&(n.faceIndex=Math.floor(O/3),n.face.materialIndex=A.materialIndex,t.push(n))}}else{const C=Math.max(0,v.start),y=Math.min(c.count,v.start+v.count);for(let A=C,M=y;A<M;A+=3){const x=A,U=A+1,O=A+2;n=fl(this,o,e,la,f,d,m,x,U,O),n&&(n.faceIndex=Math.floor(A/3),t.push(n))}}}}function tu(a,e,t,n,r,o,l,c){let f;if(e.side===mt?f=n.intersectTriangle(l,o,r,!0,c):f=n.intersectTriangle(r,o,l,e.side===xe,c),f===null)return null;ul.copy(c),ul.applyMatrix4(a.matrixWorld);const d=t.ray.origin.distanceTo(ul);return d<t.near||d>t.far?null:{distance:d,point:ul.clone(),object:a}}function fl(a,e,t,n,r,o,l,c,f,d){a.getVertexPosition(c,qo),a.getVertexPosition(f,ya),a.getVertexPosition(d,xs);const m=tu(a,e,t,n,qo,ya,xs,Dl);if(m){r&&(al.fromBufferAttribute(r,c),ll.fromBufferAttribute(r,f),cl.fromBufferAttribute(r,d),m.uv=as.getInterpolation(Dl,qo,ya,xs,al,ll,cl,new hn)),o&&(al.fromBufferAttribute(o,c),ll.fromBufferAttribute(o,f),cl.fromBufferAttribute(o,d),m.uv1=as.getInterpolation(Dl,qo,ya,xs,al,ll,cl,new hn),m.uv2=m.uv1),l&&(oc.fromBufferAttribute(l,c),Ol.fromBufferAttribute(l,f),sc.fromBufferAttribute(l,d),m.normal=as.getInterpolation(Dl,qo,ya,xs,oc,Ol,sc,new ce),m.normal.dot(n.direction)>0&&m.normal.multiplyScalar(-1));const g={a:c,b:f,c:d,normal:new ce,materialIndex:0};as.getNormal(qo,ya,xs,g.normal),m.face=g}return m}class Qa extends xn{constructor(e=1,t=1,n=1,r=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:o,depthSegments:l};const c=this;r=Math.floor(r),o=Math.floor(o),l=Math.floor(l);const f=[],d=[],m=[],g=[];let v=0,C=0;y("z","y","x",-1,-1,n,t,e,l,o,0),y("z","y","x",1,-1,n,t,-e,l,o,1),y("x","z","y",1,1,e,n,t,r,l,2),y("x","z","y",1,-1,e,n,-t,r,l,3),y("x","y","z",1,-1,e,t,n,r,o,4),y("x","y","z",-1,-1,e,t,-n,r,o,5),this.setIndex(f),this.setAttribute("position",new Sr(d,3)),this.setAttribute("normal",new Sr(m,3)),this.setAttribute("uv",new Sr(g,2));function y(A,M,x,U,O,ne,ue,we,Ve,et,j){const Re=ne/Ve,kt=ue/et,pn=ne/2,Mt=ue/2,Bt=we/2,Xt=Ve+1,Nn=et+1;let Pn=0,Ln=0;const Bn=new ce;for(let Gn=0;Gn<Nn;Gn++){const Ir=Gn*kt-Mt;for(let yr=0;yr<Xt;yr++){const Jt=yr*Re-pn;Bn[A]=Jt*U,Bn[M]=Ir*O,Bn[x]=Bt,d.push(Bn.x,Bn.y,Bn.z),Bn[A]=0,Bn[M]=0,Bn[x]=we>0?1:-1,m.push(Bn.x,Bn.y,Bn.z),g.push(yr/Ve),g.push(1-Gn/et),Pn+=1}}for(let Gn=0;Gn<et;Gn++)for(let Ir=0;Ir<Ve;Ir++){const yr=v+Ir+Xt*Gn,Jt=v+Ir+Xt*(Gn+1),On=v+(Ir+1)+Xt*(Gn+1),mr=v+(Ir+1)+Xt*Gn;f.push(yr,Jt,mr),f.push(Jt,On,mr),Ln+=6}c.addGroup(C,Ln,j),C+=Ln,v+=Pn}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qa(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function L1(a){const e={};for(const t in a){e[t]={};for(const n in a[t]){const r=a[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function ys(a){const e={};for(let t=0;t<a.length;t++){const n=L1(a[t]);for(const r in n)e[r]=n[r]}return e}function Tc(a){const e=[];for(let t=0;t<a.length;t++)e.push(a[t].clone());return e}function wa(a){return a.getRenderTarget()===null?a.outputColorSpace:Ko}const dl={clone:L1,merge:ys};var Hl=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,zl=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Qs extends Cs{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Hl,this.fragmentShader=zl,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=L1(e.uniforms),this.uniformsGroups=Tc(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const l=this.uniforms[r].value;l&&l.isTexture?t.uniforms[r]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[r]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[r]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[r]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[r]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[r]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[r]={type:"m4",value:l.toArray()}:t.uniforms[r]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class u1 extends ki{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new li,this.projectionMatrix=new li,this.projectionMatrixInverse=new li}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Qo extends u1{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=da*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ao*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return da*2*Math.atan(Math.tan(Ao*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,o,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Ao*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,o=-.5*r;const l=this.view;if(this.view!==null&&this.view.enabled){const f=l.fullWidth,d=l.fullHeight;o+=l.offsetX*r/f,t-=l.offsetY*n/d,r*=l.width/f,n*=l.height/d}const c=this.filmOffset;c!==0&&(o+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const f1=-90,e1=1;class ac extends ki{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;const r=new Qo(f1,e1,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const o=new Qo(f1,e1,e,t);o.layers=this.layers,o.up.set(0,1,0),o.lookAt(-1,0,0),this.add(o);const l=new Qo(f1,e1,e,t);l.layers=this.layers,l.up.set(0,0,-1),l.lookAt(0,1,0),this.add(l);const c=new Qo(f1,e1,e,t);c.layers=this.layers,c.up.set(0,0,1),c.lookAt(0,-1,0),this.add(c);const f=new Qo(f1,e1,e,t);f.layers=this.layers,f.up.set(0,1,0),f.lookAt(0,0,1),this.add(f);const d=new Qo(f1,e1,e,t);d.layers=this.layers,d.up.set(0,1,0),d.lookAt(0,0,-1),this.add(d)}update(e,t){this.parent===null&&this.updateMatrixWorld();const n=this.renderTarget,[r,o,l,c,f,d]=this.children,m=e.getRenderTarget(),g=e.toneMapping,v=e.xr.enabled;e.toneMapping=_t,e.xr.enabled=!1;const C=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,o),e.setRenderTarget(n,2),e.render(t,l),e.setRenderTarget(n,3),e.render(t,c),e.setRenderTarget(n,4),e.render(t,f),n.texture.generateMipmaps=C,e.setRenderTarget(n,5),e.render(t,d),e.setRenderTarget(m),e.toneMapping=g,e.xr.enabled=v,n.texture.needsPMREMUpdate=!0}}class T1 extends gi{constructor(e,t,n,r,o,l,c,f,d,m){e=e!==void 0?e:[],t=t!==void 0?t:In,super(e,t,n,r,o,l,c,f,d,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Ac extends co{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];t.encoding!==void 0&&(Do("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===oo?Vr:us),this.texture=new T1(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Zn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Qa(5,5,5),o=new Qs({name:"CubemapFromEquirect",uniforms:L1(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:mt,blending:Hn});o.uniforms.tEquirect.value=t;const l=new Go(r,o),c=t.minFilter;return t.minFilter===$e&&(t.minFilter=Zn),new ac(1,10,this).update(e,l),t.minFilter=c,l.geometry.dispose(),l.material.dispose(),this}clear(e,t,n,r){const o=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,n,r);e.setRenderTarget(o)}}const F1=new ce,lc=new ce,Vo=new Jr;class si{constructor(e=new ce(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=F1.subVectors(n,t).cross(lc.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(F1),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:t.copy(e.start).addScaledVector(n,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Vo.getNormalMatrix(e),r=this.coplanarPoint(F1).applyMatrix4(e),o=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Mo=new qs,Po=new ce;class Xo{constructor(e=new si,t=new si,n=new si,r=new si,o=new si,l=new si){this.planes=[e,t,n,r,o,l]}set(e,t,n,r,o,l){const c=this.planes;return c[0].copy(e),c[1].copy(t),c[2].copy(n),c[3].copy(r),c[4].copy(o),c[5].copy(l),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],o=n[1],l=n[2],c=n[3],f=n[4],d=n[5],m=n[6],g=n[7],v=n[8],C=n[9],y=n[10],A=n[11],M=n[12],x=n[13],U=n[14],O=n[15];return t[0].setComponents(c-r,g-f,A-v,O-M).normalize(),t[1].setComponents(c+r,g+f,A+v,O+M).normalize(),t[2].setComponents(c+o,g+d,A+C,O+x).normalize(),t[3].setComponents(c-o,g-d,A-C,O-x).normalize(),t[4].setComponents(c-l,g-m,A-y,O-U).normalize(),t[5].setComponents(c+l,g+m,A+y,O+U).normalize(),this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Mo.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Mo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Mo)}intersectsSprite(e){return Mo.center.set(0,0,0),Mo.radius=.7071067811865476,Mo.applyMatrix4(e.matrixWorld),this.intersectsSphere(Mo)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Po.x=r.normal.x>0?e.max.x:e.min.x,Po.y=r.normal.y>0?e.max.y:e.min.y,Po.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Po)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Is(){let a=null,e=!1,t=null,n=null;function r(o,l){t(o,l),n=a.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=a.requestAnimationFrame(r),e=!0)},stop:function(){a.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){a=o}}}function k1(a,e){const t=e.isWebGL2,n=new WeakMap;function r(d,m){const g=d.array,v=d.usage,C=a.createBuffer();a.bindBuffer(m,C),a.bufferData(m,g,v),d.onUploadCallback();let y;if(g instanceof Float32Array)y=a.FLOAT;else if(g instanceof Uint16Array)if(d.isFloat16BufferAttribute)if(t)y=a.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=a.UNSIGNED_SHORT;else if(g instanceof Int16Array)y=a.SHORT;else if(g instanceof Uint32Array)y=a.UNSIGNED_INT;else if(g instanceof Int32Array)y=a.INT;else if(g instanceof Int8Array)y=a.BYTE;else if(g instanceof Uint8Array)y=a.UNSIGNED_BYTE;else if(g instanceof Uint8ClampedArray)y=a.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+g);return{buffer:C,type:y,bytesPerElement:g.BYTES_PER_ELEMENT,version:d.version}}function o(d,m,g){const v=m.array,C=m.updateRange;a.bindBuffer(g,d),C.count===-1?a.bufferSubData(g,0,v):(t?a.bufferSubData(g,C.offset*v.BYTES_PER_ELEMENT,v,C.offset,C.count):a.bufferSubData(g,C.offset*v.BYTES_PER_ELEMENT,v.subarray(C.offset,C.offset+C.count)),C.count=-1),m.onUploadCallback()}function l(d){return d.isInterleavedBufferAttribute&&(d=d.data),n.get(d)}function c(d){d.isInterleavedBufferAttribute&&(d=d.data);const m=n.get(d);m&&(a.deleteBuffer(m.buffer),n.delete(d))}function f(d,m){if(d.isGLBufferAttribute){const v=n.get(d);(!v||v.version<d.version)&&n.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version});return}d.isInterleavedBufferAttribute&&(d=d.data);const g=n.get(d);g===void 0?n.set(d,r(d,m)):g.version<d.version&&(o(g.buffer,d,m),g.version=d.version)}return{get:l,remove:c,update:f}}class Lo extends xn{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const o=e/2,l=t/2,c=Math.floor(n),f=Math.floor(r),d=c+1,m=f+1,g=e/c,v=t/f,C=[],y=[],A=[],M=[];for(let x=0;x<m;x++){const U=x*v-l;for(let O=0;O<d;O++){const ne=O*g-o;y.push(ne,-U,0),A.push(0,0,1),M.push(O/c),M.push(1-x/f)}}for(let x=0;x<f;x++)for(let U=0;U<c;U++){const O=U+d*x,ne=U+d*(x+1),ue=U+1+d*(x+1),we=U+1+d*x;C.push(O,ne,we),C.push(ne,ue,we)}this.setIndex(C),this.setAttribute("position",new Sr(y,3)),this.setAttribute("normal",new Sr(A,3)),this.setAttribute("uv",new Sr(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lo(e.width,e.height,e.widthSegments,e.heightSegments)}}var hl=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,pl=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Nl=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,cc=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,ml=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Ws=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,gl="vec3 transformed = vec3( position );",Bl=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,$1=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Ul=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,ca=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Ma=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,A1=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ea=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,vl=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Cl=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Os=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Vl=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Fl=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Ds=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,t1=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,ua=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,_l=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Zs=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Pc=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,ba=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,uc="gl_FragColor = linearToOutputTexel( gl_FragColor );",nu=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,d1=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,xl=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Ic=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,kl=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,h1=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fc=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,$l=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Wl=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Zl=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,ru=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,h=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,w=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,I=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,N=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,_e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Pe=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,ht=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Dt=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,yn=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,cn=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,sr=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif`,Yn=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,er=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,nr=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Pr=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Wn=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,zi=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,vi=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Er=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Ci=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,Mr=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Ar=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,ji=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ui=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Gi=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Hs=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,ao=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Yo=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,js=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Gs=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#ifdef USE_NORMALMAP_TANGENTSPACE
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,ps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,zs=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,i=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,s=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,u=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,p=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,_=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,L=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Se=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,rt=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Ut=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Fn=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,fr=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,qr=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Ur=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Vi=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,kn=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Ri=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,To=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,wt=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,ft=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Ht=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,hr=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Dr=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Li=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,pi=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,$i=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,bo=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,qi=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Sa=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,Oc=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,yu=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,iu=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,wu=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,es=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Ni={alphamap_fragment:hl,alphamap_pars_fragment:pl,alphatest_fragment:Nl,alphatest_pars_fragment:cc,aomap_fragment:ml,aomap_pars_fragment:Ws,begin_vertex:gl,beginnormal_vertex:Bl,bsdfs:$1,iridescence_fragment:Ul,bumpmap_pars_fragment:ca,clipping_planes_fragment:Ma,clipping_planes_pars_fragment:A1,clipping_planes_pars_vertex:ea,clipping_planes_vertex:vl,color_fragment:Cl,color_pars_fragment:Os,color_pars_vertex:Vl,color_vertex:Fl,common:Ds,cube_uv_reflection_fragment:t1,defaultnormal_vertex:ua,displacementmap_pars_vertex:_l,displacementmap_vertex:Zs,emissivemap_fragment:Pc,emissivemap_pars_fragment:ba,encodings_fragment:uc,encodings_pars_fragment:nu,envmap_fragment:d1,envmap_common_pars_fragment:xl,envmap_pars_fragment:Ic,envmap_pars_vertex:kl,envmap_physical_pars_fragment:Pe,envmap_vertex:h1,fog_vertex:fc,fog_pars_vertex:$l,fog_fragment:Wl,fog_pars_fragment:Zl,gradientmap_pars_fragment:ru,lightmap_fragment:h,lightmap_pars_fragment:w,lights_lambert_fragment:I,lights_lambert_pars_fragment:N,lights_pars_begin:_e,lights_toon_fragment:ht,lights_toon_pars_fragment:Dt,lights_phong_fragment:yn,lights_phong_pars_fragment:cn,lights_physical_fragment:sr,lights_physical_pars_fragment:Yn,lights_fragment_begin:er,lights_fragment_maps:nr,lights_fragment_end:Pr,logdepthbuf_fragment:Wn,logdepthbuf_pars_fragment:zi,logdepthbuf_pars_vertex:vi,logdepthbuf_vertex:Er,map_fragment:Ci,map_pars_fragment:Mr,map_particle_fragment:Ar,map_particle_pars_fragment:ji,metalnessmap_fragment:Ui,metalnessmap_pars_fragment:Gi,morphcolor_vertex:Hs,morphnormal_vertex:ao,morphtarget_pars_vertex:Yo,morphtarget_vertex:js,normal_fragment_begin:Gs,normal_fragment_maps:ps,normal_pars_fragment:zs,normal_pars_vertex:i,normal_vertex:s,normalmap_pars_fragment:u,clearcoat_normal_fragment_begin:p,clearcoat_normal_fragment_maps:_,clearcoat_pars_fragment:L,iridescence_pars_fragment:Se,output_fragment:rt,packing:Ut,premultiplied_alpha_fragment:Fn,project_vertex:fr,dithering_fragment:qr,dithering_pars_fragment:Ur,roughnessmap_fragment:Vi,roughnessmap_pars_fragment:kn,shadowmap_pars_fragment:Ri,shadowmap_pars_vertex:To,shadowmap_vertex:wt,shadowmask_pars_fragment:ft,skinbase_vertex:Ht,skinning_pars_vertex:hr,skinning_vertex:Dr,skinnormal_vertex:Li,specularmap_fragment:pi,specularmap_pars_fragment:$i,tonemapping_fragment:bo,tonemapping_pars_fragment:qi,transmission_fragment:Sa,transmission_pars_fragment:Oc,uv_pars_fragment:yu,uv_pars_vertex:iu,uv_vertex:wu,worldpos_vertex:es,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,backgroundCube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,backgroundCube_frag:`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`},dr={common:{diffuse:{value:new ar(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Jr},alphaMap:{value:null},alphaMapTransform:{value:new Jr},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Jr}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Jr}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Jr}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Jr},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Jr},normalScale:{value:new hn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Jr},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Jr}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Jr}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Jr}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ar(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ar(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Jr}},sprite:{diffuse:{value:new ar(16777215)},opacity:{value:1},center:{value:new hn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Jr},alphaMap:{value:null},alphaTest:{value:0}}},P1={basic:{uniforms:ys([dr.common,dr.specularmap,dr.envmap,dr.aomap,dr.lightmap,dr.fog]),vertexShader:Ni.meshbasic_vert,fragmentShader:Ni.meshbasic_frag},lambert:{uniforms:ys([dr.common,dr.specularmap,dr.envmap,dr.aomap,dr.lightmap,dr.emissivemap,dr.bumpmap,dr.normalmap,dr.displacementmap,dr.fog,dr.lights,{emissive:{value:new ar(0)}}]),vertexShader:Ni.meshlambert_vert,fragmentShader:Ni.meshlambert_frag},phong:{uniforms:ys([dr.common,dr.specularmap,dr.envmap,dr.aomap,dr.lightmap,dr.emissivemap,dr.bumpmap,dr.normalmap,dr.displacementmap,dr.fog,dr.lights,{emissive:{value:new ar(0)},specular:{value:new ar(1118481)},shininess:{value:30}}]),vertexShader:Ni.meshphong_vert,fragmentShader:Ni.meshphong_frag},standard:{uniforms:ys([dr.common,dr.envmap,dr.aomap,dr.lightmap,dr.emissivemap,dr.bumpmap,dr.normalmap,dr.displacementmap,dr.roughnessmap,dr.metalnessmap,dr.fog,dr.lights,{emissive:{value:new ar(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ni.meshphysical_vert,fragmentShader:Ni.meshphysical_frag},toon:{uniforms:ys([dr.common,dr.aomap,dr.lightmap,dr.emissivemap,dr.bumpmap,dr.normalmap,dr.displacementmap,dr.gradientmap,dr.fog,dr.lights,{emissive:{value:new ar(0)}}]),vertexShader:Ni.meshtoon_vert,fragmentShader:Ni.meshtoon_frag},matcap:{uniforms:ys([dr.common,dr.bumpmap,dr.normalmap,dr.displacementmap,dr.fog,{matcap:{value:null}}]),vertexShader:Ni.meshmatcap_vert,fragmentShader:Ni.meshmatcap_frag},points:{uniforms:ys([dr.points,dr.fog]),vertexShader:Ni.points_vert,fragmentShader:Ni.points_frag},dashed:{uniforms:ys([dr.common,dr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ni.linedashed_vert,fragmentShader:Ni.linedashed_frag},depth:{uniforms:ys([dr.common,dr.displacementmap]),vertexShader:Ni.depth_vert,fragmentShader:Ni.depth_frag},normal:{uniforms:ys([dr.common,dr.bumpmap,dr.normalmap,dr.displacementmap,{opacity:{value:1}}]),vertexShader:Ni.meshnormal_vert,fragmentShader:Ni.meshnormal_frag},sprite:{uniforms:ys([dr.sprite,dr.fog]),vertexShader:Ni.sprite_vert,fragmentShader:Ni.sprite_frag},background:{uniforms:{uvTransform:{value:new Jr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ni.background_vert,fragmentShader:Ni.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Ni.backgroundCube_vert,fragmentShader:Ni.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ni.cube_vert,fragmentShader:Ni.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ni.equirect_vert,fragmentShader:Ni.equirect_frag},distanceRGBA:{uniforms:ys([dr.common,dr.displacementmap,{referencePosition:{value:new ce},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ni.distanceRGBA_vert,fragmentShader:Ni.distanceRGBA_frag},shadow:{uniforms:ys([dr.lights,dr.fog,{color:{value:new ar(0)},opacity:{value:1}}]),vertexShader:Ni.shadow_vert,fragmentShader:Ni.shadow_frag}};P1.physical={uniforms:ys([P1.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Jr},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Jr},clearcoatNormalScale:{value:new hn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Jr},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Jr},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Jr},sheen:{value:0},sheenColor:{value:new ar(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Jr},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Jr},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Jr},transmissionSamplerSize:{value:new hn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Jr},attenuationDistance:{value:0},attenuationColor:{value:new ar(0)},specularColor:{value:new ar(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Jr},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Jr}}]),vertexShader:Ni.meshphysical_vert,fragmentShader:Ni.meshphysical_frag};const Mu={r:0,b:0,g:0};function pd(a,e,t,n,r,o,l){const c=new ar(0);let f=o===!0?0:1,d,m,g=null,v=0,C=null;function y(M,x){let U=!1,O=x.isScene===!0?x.background:null;switch(O&&O.isTexture&&(O=(x.backgroundBlurriness>0?t:e).get(O)),O===null?A(c,f):O&&O.isColor&&(A(O,1),U=!0),a.xr.getEnvironmentBlendMode()){case"opaque":U=!0;break;case"additive":n.buffers.color.setClear(0,0,0,1,l),U=!0;break;case"alpha-blend":n.buffers.color.setClear(0,0,0,0,l),U=!0;break}(a.autoClear||U)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil),O&&(O.isCubeTexture||O.mapping===oi)?(m===void 0&&(m=new Go(new Qa(1,1,1),new Qs({name:"BackgroundCubeMaterial",uniforms:L1(P1.backgroundCube.uniforms),vertexShader:P1.backgroundCube.vertexShader,fragmentShader:P1.backgroundCube.fragmentShader,side:mt,depthTest:!1,depthWrite:!1,fog:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(we,Ve,et){this.matrixWorld.copyPosition(et.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(m)),m.material.uniforms.envMap.value=O,m.material.uniforms.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,m.material.toneMapped=O.colorSpace!==Vr,(g!==O||v!==O.version||C!==a.toneMapping)&&(m.material.needsUpdate=!0,g=O,v=O.version,C=a.toneMapping),m.layers.enableAll(),M.unshift(m,m.geometry,m.material,0,0,null)):O&&O.isTexture&&(d===void 0&&(d=new Go(new Lo(2,2),new Qs({name:"BackgroundMaterial",uniforms:L1(P1.background.uniforms),vertexShader:P1.background.vertexShader,fragmentShader:P1.background.fragmentShader,side:xe,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(d)),d.material.uniforms.t2D.value=O,d.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,d.material.toneMapped=O.colorSpace!==Vr,O.matrixAutoUpdate===!0&&O.updateMatrix(),d.material.uniforms.uvTransform.value.copy(O.matrix),(g!==O||v!==O.version||C!==a.toneMapping)&&(d.material.needsUpdate=!0,g=O,v=O.version,C=a.toneMapping),d.layers.enableAll(),M.unshift(d,d.geometry,d.material,0,0,null))}function A(M,x){M.getRGB(Mu,wa(a)),n.buffers.color.setClear(Mu.r,Mu.g,Mu.b,x,l)}return{getClearColor:function(){return c},setClearColor:function(M,x=1){c.set(M),f=x,A(c,f)},getClearAlpha:function(){return f},setClearAlpha:function(M){f=M,A(c,f)},render:y}}function md(a,e,t,n){const r=a.getParameter(a.MAX_VERTEX_ATTRIBS),o=n.isWebGL2?null:e.get("OES_vertex_array_object"),l=n.isWebGL2||o!==null,c={},f=M(null);let d=f,m=!1;function g(Bt,Xt,Nn,Pn,Ln){let Bn=!1;if(l){const Gn=A(Pn,Nn,Xt);d!==Gn&&(d=Gn,C(d.object)),Bn=x(Bt,Pn,Nn,Ln),Bn&&U(Bt,Pn,Nn,Ln)}else{const Gn=Xt.wireframe===!0;(d.geometry!==Pn.id||d.program!==Nn.id||d.wireframe!==Gn)&&(d.geometry=Pn.id,d.program=Nn.id,d.wireframe=Gn,Bn=!0)}Ln!==null&&t.update(Ln,a.ELEMENT_ARRAY_BUFFER),(Bn||m)&&(m=!1,et(Bt,Xt,Nn,Pn),Ln!==null&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,t.get(Ln).buffer))}function v(){return n.isWebGL2?a.createVertexArray():o.createVertexArrayOES()}function C(Bt){return n.isWebGL2?a.bindVertexArray(Bt):o.bindVertexArrayOES(Bt)}function y(Bt){return n.isWebGL2?a.deleteVertexArray(Bt):o.deleteVertexArrayOES(Bt)}function A(Bt,Xt,Nn){const Pn=Nn.wireframe===!0;let Ln=c[Bt.id];Ln===void 0&&(Ln={},c[Bt.id]=Ln);let Bn=Ln[Xt.id];Bn===void 0&&(Bn={},Ln[Xt.id]=Bn);let Gn=Bn[Pn];return Gn===void 0&&(Gn=M(v()),Bn[Pn]=Gn),Gn}function M(Bt){const Xt=[],Nn=[],Pn=[];for(let Ln=0;Ln<r;Ln++)Xt[Ln]=0,Nn[Ln]=0,Pn[Ln]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Xt,enabledAttributes:Nn,attributeDivisors:Pn,object:Bt,attributes:{},index:null}}function x(Bt,Xt,Nn,Pn){const Ln=d.attributes,Bn=Xt.attributes;let Gn=0;const Ir=Nn.getAttributes();for(const yr in Ir)if(Ir[yr].location>=0){const On=Ln[yr];let mr=Bn[yr];if(mr===void 0&&(yr==="instanceMatrix"&&Bt.instanceMatrix&&(mr=Bt.instanceMatrix),yr==="instanceColor"&&Bt.instanceColor&&(mr=Bt.instanceColor)),On===void 0||On.attribute!==mr||mr&&On.data!==mr.data)return!0;Gn++}return d.attributesNum!==Gn||d.index!==Pn}function U(Bt,Xt,Nn,Pn){const Ln={},Bn=Xt.attributes;let Gn=0;const Ir=Nn.getAttributes();for(const yr in Ir)if(Ir[yr].location>=0){let On=Bn[yr];On===void 0&&(yr==="instanceMatrix"&&Bt.instanceMatrix&&(On=Bt.instanceMatrix),yr==="instanceColor"&&Bt.instanceColor&&(On=Bt.instanceColor));const mr={};mr.attribute=On,On&&On.data&&(mr.data=On.data),Ln[yr]=mr,Gn++}d.attributes=Ln,d.attributesNum=Gn,d.index=Pn}function O(){const Bt=d.newAttributes;for(let Xt=0,Nn=Bt.length;Xt<Nn;Xt++)Bt[Xt]=0}function ne(Bt){ue(Bt,0)}function ue(Bt,Xt){const Nn=d.newAttributes,Pn=d.enabledAttributes,Ln=d.attributeDivisors;Nn[Bt]=1,Pn[Bt]===0&&(a.enableVertexAttribArray(Bt),Pn[Bt]=1),Ln[Bt]!==Xt&&((n.isWebGL2?a:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Bt,Xt),Ln[Bt]=Xt)}function we(){const Bt=d.newAttributes,Xt=d.enabledAttributes;for(let Nn=0,Pn=Xt.length;Nn<Pn;Nn++)Xt[Nn]!==Bt[Nn]&&(a.disableVertexAttribArray(Nn),Xt[Nn]=0)}function Ve(Bt,Xt,Nn,Pn,Ln,Bn){n.isWebGL2===!0&&(Nn===a.INT||Nn===a.UNSIGNED_INT)?a.vertexAttribIPointer(Bt,Xt,Nn,Ln,Bn):a.vertexAttribPointer(Bt,Xt,Nn,Pn,Ln,Bn)}function et(Bt,Xt,Nn,Pn){if(n.isWebGL2===!1&&(Bt.isInstancedMesh||Pn.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;O();const Ln=Pn.attributes,Bn=Nn.getAttributes(),Gn=Xt.defaultAttributeValues;for(const Ir in Bn){const yr=Bn[Ir];if(yr.location>=0){let Jt=Ln[Ir];if(Jt===void 0&&(Ir==="instanceMatrix"&&Bt.instanceMatrix&&(Jt=Bt.instanceMatrix),Ir==="instanceColor"&&Bt.instanceColor&&(Jt=Bt.instanceColor)),Jt!==void 0){const On=Jt.normalized,mr=Jt.itemSize,wr=t.get(Jt);if(wr===void 0)continue;const it=wr.buffer,_i=wr.type,bi=wr.bytesPerElement;if(Jt.isInterleavedBufferAttribute){const lr=Jt.data,$r=lr.stride,Un=Jt.offset;if(lr.isInstancedInterleavedBuffer){for(let mn=0;mn<yr.locationSize;mn++)ue(yr.location+mn,lr.meshPerAttribute);Bt.isInstancedMesh!==!0&&Pn._maxInstanceCount===void 0&&(Pn._maxInstanceCount=lr.meshPerAttribute*lr.count)}else for(let mn=0;mn<yr.locationSize;mn++)ne(yr.location+mn);a.bindBuffer(a.ARRAY_BUFFER,it);for(let mn=0;mn<yr.locationSize;mn++)Ve(yr.location+mn,mr/yr.locationSize,_i,On,$r*bi,(Un+mr/yr.locationSize*mn)*bi)}else{if(Jt.isInstancedBufferAttribute){for(let lr=0;lr<yr.locationSize;lr++)ue(yr.location+lr,Jt.meshPerAttribute);Bt.isInstancedMesh!==!0&&Pn._maxInstanceCount===void 0&&(Pn._maxInstanceCount=Jt.meshPerAttribute*Jt.count)}else for(let lr=0;lr<yr.locationSize;lr++)ne(yr.location+lr);a.bindBuffer(a.ARRAY_BUFFER,it);for(let lr=0;lr<yr.locationSize;lr++)Ve(yr.location+lr,mr/yr.locationSize,_i,On,mr*bi,mr/yr.locationSize*lr*bi)}}else if(Gn!==void 0){const On=Gn[Ir];if(On!==void 0)switch(On.length){case 2:a.vertexAttrib2fv(yr.location,On);break;case 3:a.vertexAttrib3fv(yr.location,On);break;case 4:a.vertexAttrib4fv(yr.location,On);break;default:a.vertexAttrib1fv(yr.location,On)}}}}we()}function j(){pn();for(const Bt in c){const Xt=c[Bt];for(const Nn in Xt){const Pn=Xt[Nn];for(const Ln in Pn)y(Pn[Ln].object),delete Pn[Ln];delete Xt[Nn]}delete c[Bt]}}function Re(Bt){if(c[Bt.id]===void 0)return;const Xt=c[Bt.id];for(const Nn in Xt){const Pn=Xt[Nn];for(const Ln in Pn)y(Pn[Ln].object),delete Pn[Ln];delete Xt[Nn]}delete c[Bt.id]}function kt(Bt){for(const Xt in c){const Nn=c[Xt];if(Nn[Bt.id]===void 0)continue;const Pn=Nn[Bt.id];for(const Ln in Pn)y(Pn[Ln].object),delete Pn[Ln];delete Nn[Bt.id]}}function pn(){Mt(),m=!0,d!==f&&(d=f,C(d.object))}function Mt(){f.geometry=null,f.program=null,f.wireframe=!1}return{setup:g,reset:pn,resetDefaultState:Mt,dispose:j,releaseStatesOfGeometry:Re,releaseStatesOfProgram:kt,initAttributes:O,enableAttribute:ne,disableUnusedAttributes:we}}function gd(a,e,t,n){const r=n.isWebGL2;let o;function l(d){o=d}function c(d,m){a.drawArrays(o,d,m),t.update(m,o,1)}function f(d,m,g){if(g===0)return;let v,C;if(r)v=a,C="drawArraysInstanced";else if(v=e.get("ANGLE_instanced_arrays"),C="drawArraysInstancedANGLE",v===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[C](o,d,m,g),t.update(m,o,g)}this.setMode=l,this.render=c,this.renderInstances=f}function vd(a,e,t){let n;function r(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const Ve=e.get("EXT_texture_filter_anisotropic");n=a.getParameter(Ve.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function o(Ve){if(Ve==="highp"){if(a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision>0&&a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision>0)return"highp";Ve="mediump"}return Ve==="mediump"&&a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision>0&&a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const l=typeof WebGL2RenderingContext!="undefined"&&a.constructor.name==="WebGL2RenderingContext";let c=t.precision!==void 0?t.precision:"highp";const f=o(c);f!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",f,"instead."),c=f);const d=l||e.has("WEBGL_draw_buffers"),m=t.logarithmicDepthBuffer===!0,g=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),v=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS),C=a.getParameter(a.MAX_TEXTURE_SIZE),y=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),A=a.getParameter(a.MAX_VERTEX_ATTRIBS),M=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS),x=a.getParameter(a.MAX_VARYING_VECTORS),U=a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS),O=v>0,ne=l||e.has("OES_texture_float"),ue=O&&ne,we=l?a.getParameter(a.MAX_SAMPLES):0;return{isWebGL2:l,drawBuffers:d,getMaxAnisotropy:r,getMaxPrecision:o,precision:c,logarithmicDepthBuffer:m,maxTextures:g,maxVertexTextures:v,maxTextureSize:C,maxCubemapSize:y,maxAttributes:A,maxVertexUniforms:M,maxVaryings:x,maxFragmentUniforms:U,vertexTextures:O,floatFragmentTextures:ne,floatVertexTextures:ue,maxSamples:we}}function Cd(a){const e=this;let t=null,n=0,r=!1,o=!1;const l=new si,c=new Jr,f={value:null,needsUpdate:!1};this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(g,v){const C=g.length!==0||v||n!==0||r;return r=v,n=g.length,C},this.beginShadows=function(){o=!0,m(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(g,v){t=m(g,v,0)},this.setState=function(g,v,C){const y=g.clippingPlanes,A=g.clipIntersection,M=g.clipShadows,x=a.get(g);if(!r||y===null||y.length===0||o&&!M)o?m(null):d();else{const U=o?0:n,O=U*4;let ne=x.clippingState||null;f.value=ne,ne=m(y,v,O,C);for(let ue=0;ue!==O;++ue)ne[ue]=t[ue];x.clippingState=ne,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=U}};function d(){f.value!==t&&(f.value=t,f.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function m(g,v,C,y){const A=g!==null?g.length:0;let M=null;if(A!==0){if(M=f.value,y!==!0||M===null){const x=C+A*4,U=v.matrixWorldInverse;c.getNormalMatrix(U),(M===null||M.length<x)&&(M=new Float32Array(x));for(let O=0,ne=C;O!==A;++O,ne+=4)l.copy(g[O]).applyMatrix4(U,c),l.normal.toArray(M,ne),M[ne+3]=l.constant}f.value=M,f.needsUpdate=!0}return e.numPlanes=A,e.numIntersection=0,M}}function _d(a){let e=new WeakMap;function t(l,c){return c===dn?l.mapping=In:c===Cr&&(l.mapping=sn),l}function n(l){if(l&&l.isTexture&&l.isRenderTargetTexture===!1){const c=l.mapping;if(c===dn||c===Cr)if(e.has(l)){const f=e.get(l).texture;return t(f,l.mapping)}else{const f=l.image;if(f&&f.height>0){const d=new Ac(f.height/2);return d.fromEquirectangularTexture(a,l),e.set(l,d),l.addEventListener("dispose",r),t(d.texture,l.mapping)}else return null}}return l}function r(l){const c=l.target;c.removeEventListener("dispose",r);const f=e.get(c);f!==void 0&&(e.delete(c),f.dispose())}function o(){e=new WeakMap}return{get:n,dispose:o}}class bu extends u1{constructor(e=-1,t=1,n=1,r=-1,o=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,o,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=n-e,l=n+e,c=r+t,f=r-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=d*this.view.offsetX,l=o+d*this.view.width,c-=m*this.view.offsetY,f=c-m*this.view.height}this.projectionMatrix.makeOrthographic(o,l,c,f,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Dc=4,W0=[.125,.215,.35,.446,.526,.582],dc=20,s0=new bu,Z0=new ar;let a0=null;const hc=(1+Math.sqrt(5))/2,Hc=1/hc,j0=[new ce(1,1,1),new ce(-1,1,1),new ce(1,1,-1),new ce(-1,1,-1),new ce(0,hc,Hc),new ce(0,hc,-Hc),new ce(Hc,0,hc),new ce(-Hc,0,hc),new ce(hc,Hc,0),new ce(-hc,Hc,0)];class l0{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){a0=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,n,r,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Y0(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=X0(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(a0),e.scissorTest=!1,Su(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===In||e.mapping===sn?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),a0=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Zn,minFilter:Zn,generateMipmaps:!1,type:Ge,format:Lr,colorSpace:Ko,depthBuffer:!1},r=G0(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=G0(e,t,n);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=xd(o)),this._blurMaterial=yd(o,e,t)}return r}_compileMaterial(e){const t=new Go(this._lodPlanes[0],e);this._renderer.compile(t,s0)}_sceneToCubeUV(e,t,n,r){const c=new Qo(90,1,t,n),f=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],m=this._renderer,g=m.autoClear,v=m.toneMapping;m.getClearColor(Z0),m.toneMapping=_t,m.autoClear=!1;const C=new qa({name:"PMREM.Background",side:mt,depthWrite:!1,depthTest:!1}),y=new Go(new Qa,C);let A=!1;const M=e.background;M?M.isColor&&(C.color.copy(M),e.background=null,A=!0):(C.color.copy(Z0),A=!0);for(let x=0;x<6;x++){const U=x%3;U===0?(c.up.set(0,f[x],0),c.lookAt(d[x],0,0)):U===1?(c.up.set(0,0,f[x]),c.lookAt(0,d[x],0)):(c.up.set(0,f[x],0),c.lookAt(0,0,d[x]));const O=this._cubeSize;Su(r,U*O,x>2?O:0,O,O),m.setRenderTarget(r),A&&m.render(y,c),m.render(e,c)}y.geometry.dispose(),y.material.dispose(),m.toneMapping=v,m.autoClear=g,e.background=M}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===In||e.mapping===sn;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Y0()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=X0());const o=r?this._cubemapMaterial:this._equirectMaterial,l=new Go(this._lodPlanes[0],o),c=o.uniforms;c.envMap.value=e;const f=this._cubeSize;Su(t,0,0,3*f,2*f),n.setRenderTarget(t),n.render(l,s0)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),l=j0[(r-1)%j0.length];this._blur(e,r-1,r,o,l)}t.autoClear=n}_blur(e,t,n,r,o){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,n,r,"latitudinal",o),this._halfBlur(l,e,n,n,r,"longitudinal",o)}_halfBlur(e,t,n,r,o,l,c){const f=this._renderer,d=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,g=new Go(this._lodPlanes[r],d),v=d.uniforms,C=this._sizeLods[n]-1,y=isFinite(o)?Math.PI/(2*C):2*Math.PI/(2*dc-1),A=o/y,M=isFinite(o)?1+Math.floor(m*A):dc;M>dc&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${M} samples when the maximum is set to ${dc}`);const x=[];let U=0;for(let Ve=0;Ve<dc;++Ve){const et=Ve/A,j=Math.exp(-et*et/2);x.push(j),Ve===0?U+=j:Ve<M&&(U+=2*j)}for(let Ve=0;Ve<x.length;Ve++)x[Ve]=x[Ve]/U;v.envMap.value=e.texture,v.samples.value=M,v.weights.value=x,v.latitudinal.value=l==="latitudinal",c&&(v.poleAxis.value=c);const{_lodMax:O}=this;v.dTheta.value=y,v.mipInt.value=O-n;const ne=this._sizeLods[r],ue=3*ne*(r>O-Dc?r-O+Dc:0),we=4*(this._cubeSize-ne);Su(t,ue,we,3*ne,2*ne),f.setRenderTarget(t),f.render(g,s0)}}function xd(a){const e=[],t=[],n=[];let r=a;const o=a-Dc+1+W0.length;for(let l=0;l<o;l++){const c=Math.pow(2,r);t.push(c);let f=1/c;l>a-Dc?f=W0[l-a+Dc-1]:l===0&&(f=0),n.push(f);const d=1/(c-2),m=-d,g=1+d,v=[m,m,g,m,g,g,m,m,g,g,m,g],C=6,y=6,A=3,M=2,x=1,U=new Float32Array(A*y*C),O=new Float32Array(M*y*C),ne=new Float32Array(x*y*C);for(let we=0;we<C;we++){const Ve=we%3*2/3-1,et=we>2?0:-1,j=[Ve,et,0,Ve+2/3,et,0,Ve+2/3,et+1,0,Ve,et,0,Ve+2/3,et+1,0,Ve,et+1,0];U.set(j,A*y*we),O.set(v,M*y*we);const Re=[we,we,we,we,we,we];ne.set(Re,x*y*we)}const ue=new xn;ue.setAttribute("position",new go(U,A)),ue.setAttribute("uv",new go(O,M)),ue.setAttribute("faceIndex",new go(ne,x)),e.push(ue),r>Dc&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function G0(a,e,t){const n=new co(a,e,t);return n.texture.mapping=oi,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Su(a,e,t,n,r){a.viewport.set(e,t,n,r),a.scissor.set(e,t,n,r)}function yd(a,e,t){const n=new Float32Array(dc),r=new ce(0,1,0);return new Qs({name:"SphericalGaussianBlur",defines:{n:dc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${a}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:c0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Hn,depthTest:!1,depthWrite:!1})}function X0(){return new Qs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:c0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Hn,depthTest:!1,depthWrite:!1})}function Y0(){return new Qs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:c0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Hn,depthTest:!1,depthWrite:!1})}function c0(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function wd(a){let e=new WeakMap,t=null;function n(c){if(c&&c.isTexture){const f=c.mapping,d=f===dn||f===Cr,m=f===In||f===sn;if(d||m)if(c.isRenderTargetTexture&&c.needsPMREMUpdate===!0){c.needsPMREMUpdate=!1;let g=e.get(c);return t===null&&(t=new l0(a)),g=d?t.fromEquirectangular(c,g):t.fromCubemap(c,g),e.set(c,g),g.texture}else{if(e.has(c))return e.get(c).texture;{const g=c.image;if(d&&g&&g.height>0||m&&g&&r(g)){t===null&&(t=new l0(a));const v=d?t.fromEquirectangular(c):t.fromCubemap(c);return e.set(c,v),c.addEventListener("dispose",o),v.texture}else return null}}}return c}function r(c){let f=0;const d=6;for(let m=0;m<d;m++)c[m]!==void 0&&f++;return f===d}function o(c){const f=c.target;f.removeEventListener("dispose",o);const d=e.get(f);d!==void 0&&(e.delete(f),d.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:l}}function Md(a){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=a.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const r=t(n);return r===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function bd(a,e,t,n){const r={},o=new WeakMap;function l(g){const v=g.target;v.index!==null&&e.remove(v.index);for(const y in v.attributes)e.remove(v.attributes[y]);v.removeEventListener("dispose",l),delete r[v.id];const C=o.get(v);C&&(e.remove(C),o.delete(v)),n.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function c(g,v){return r[v.id]===!0||(v.addEventListener("dispose",l),r[v.id]=!0,t.memory.geometries++),v}function f(g){const v=g.attributes;for(const y in v)e.update(v[y],a.ARRAY_BUFFER);const C=g.morphAttributes;for(const y in C){const A=C[y];for(let M=0,x=A.length;M<x;M++)e.update(A[M],a.ARRAY_BUFFER)}}function d(g){const v=[],C=g.index,y=g.attributes.position;let A=0;if(C!==null){const U=C.array;A=C.version;for(let O=0,ne=U.length;O<ne;O+=3){const ue=U[O+0],we=U[O+1],Ve=U[O+2];v.push(ue,we,we,Ve,Ve,ue)}}else{const U=y.array;A=y.version;for(let O=0,ne=U.length/3-1;O<ne;O+=3){const ue=O+0,we=O+1,Ve=O+2;v.push(ue,we,we,Ve,Ve,ue)}}const M=new(ka(v)?V1:Ha)(v,1);M.version=A;const x=o.get(g);x&&e.remove(x),o.set(g,M)}function m(g){const v=o.get(g);if(v){const C=g.index;C!==null&&v.version<C.version&&d(g)}else d(g);return o.get(g)}return{get:c,update:f,getWireframeAttribute:m}}function Sd(a,e,t,n){const r=n.isWebGL2;let o;function l(v){o=v}let c,f;function d(v){c=v.type,f=v.bytesPerElement}function m(v,C){a.drawElements(o,C,c,v*f),t.update(C,o,1)}function g(v,C,y){if(y===0)return;let A,M;if(r)A=a,M="drawElementsInstanced";else if(A=e.get("ANGLE_instanced_arrays"),M="drawElementsInstancedANGLE",A===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}A[M](o,C,c,v*f,y),t.update(C,o,y)}this.setMode=l,this.setIndex=d,this.render=m,this.renderInstances=g}function Ed(a){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(o,l,c){switch(t.calls++,l){case a.TRIANGLES:t.triangles+=c*(o/3);break;case a.LINES:t.lines+=c*(o/2);break;case a.LINE_STRIP:t.lines+=c*(o-1);break;case a.LINE_LOOP:t.lines+=c*o;break;case a.POINTS:t.points+=c*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function Rd(a,e){return a[0]-e[0]}function Ld(a,e){return Math.abs(e[1])-Math.abs(a[1])}function Td(a,e,t){const n={},r=new Float32Array(8),o=new WeakMap,l=new Br,c=[];for(let d=0;d<8;d++)c[d]=[d,0];function f(d,m,g){const v=d.morphTargetInfluences;if(e.isWebGL2===!0){const C=m.morphAttributes.position||m.morphAttributes.normal||m.morphAttributes.color,y=C!==void 0?C.length:0;let A=o.get(m);if(A===void 0||A.count!==y){let Bt=function(){pn.dispose(),o.delete(m),m.removeEventListener("dispose",Bt)};A!==void 0&&A.texture.dispose();const U=m.morphAttributes.position!==void 0,O=m.morphAttributes.normal!==void 0,ne=m.morphAttributes.color!==void 0,ue=m.morphAttributes.position||[],we=m.morphAttributes.normal||[],Ve=m.morphAttributes.color||[];let et=0;U===!0&&(et=1),O===!0&&(et=2),ne===!0&&(et=3);let j=m.attributes.position.count*et,Re=1;j>e.maxTextureSize&&(Re=Math.ceil(j/e.maxTextureSize),j=e.maxTextureSize);const kt=new Float32Array(j*Re*4*y),pn=new is(kt,j,Re,y);pn.type=oe,pn.needsUpdate=!0;const Mt=et*4;for(let Xt=0;Xt<y;Xt++){const Nn=ue[Xt],Pn=we[Xt],Ln=Ve[Xt],Bn=j*Re*4*Xt;for(let Gn=0;Gn<Nn.count;Gn++){const Ir=Gn*Mt;U===!0&&(l.fromBufferAttribute(Nn,Gn),kt[Bn+Ir+0]=l.x,kt[Bn+Ir+1]=l.y,kt[Bn+Ir+2]=l.z,kt[Bn+Ir+3]=0),O===!0&&(l.fromBufferAttribute(Pn,Gn),kt[Bn+Ir+4]=l.x,kt[Bn+Ir+5]=l.y,kt[Bn+Ir+6]=l.z,kt[Bn+Ir+7]=0),ne===!0&&(l.fromBufferAttribute(Ln,Gn),kt[Bn+Ir+8]=l.x,kt[Bn+Ir+9]=l.y,kt[Bn+Ir+10]=l.z,kt[Bn+Ir+11]=Ln.itemSize===4?l.w:1)}}A={count:y,texture:pn,size:new hn(j,Re)},o.set(m,A),m.addEventListener("dispose",Bt)}let M=0;for(let U=0;U<v.length;U++)M+=v[U];const x=m.morphTargetsRelative?1:1-M;g.getUniforms().setValue(a,"morphTargetBaseInfluence",x),g.getUniforms().setValue(a,"morphTargetInfluences",v),g.getUniforms().setValue(a,"morphTargetsTexture",A.texture,t),g.getUniforms().setValue(a,"morphTargetsTextureSize",A.size)}else{const C=v===void 0?0:v.length;let y=n[m.id];if(y===void 0||y.length!==C){y=[];for(let O=0;O<C;O++)y[O]=[O,0];n[m.id]=y}for(let O=0;O<C;O++){const ne=y[O];ne[0]=O,ne[1]=v[O]}y.sort(Ld);for(let O=0;O<8;O++)O<C&&y[O][1]?(c[O][0]=y[O][0],c[O][1]=y[O][1]):(c[O][0]=Number.MAX_SAFE_INTEGER,c[O][1]=0);c.sort(Rd);const A=m.morphAttributes.position,M=m.morphAttributes.normal;let x=0;for(let O=0;O<8;O++){const ne=c[O],ue=ne[0],we=ne[1];ue!==Number.MAX_SAFE_INTEGER&&we?(A&&m.getAttribute("morphTarget"+O)!==A[ue]&&m.setAttribute("morphTarget"+O,A[ue]),M&&m.getAttribute("morphNormal"+O)!==M[ue]&&m.setAttribute("morphNormal"+O,M[ue]),r[O]=we,x+=we):(A&&m.hasAttribute("morphTarget"+O)===!0&&m.deleteAttribute("morphTarget"+O),M&&m.hasAttribute("morphNormal"+O)===!0&&m.deleteAttribute("morphNormal"+O),r[O]=0)}const U=m.morphTargetsRelative?1:1-x;g.getUniforms().setValue(a,"morphTargetBaseInfluence",U),g.getUniforms().setValue(a,"morphTargetInfluences",r)}}return{update:f}}function Ad(a,e,t,n){let r=new WeakMap;function o(f){const d=n.render.frame,m=f.geometry,g=e.get(f,m);return r.get(g)!==d&&(e.update(g),r.set(g,d)),f.isInstancedMesh&&(f.hasEventListener("dispose",c)===!1&&f.addEventListener("dispose",c),t.update(f.instanceMatrix,a.ARRAY_BUFFER),f.instanceColor!==null&&t.update(f.instanceColor,a.ARRAY_BUFFER)),g}function l(){r=new WeakMap}function c(f){const d=f.target;d.removeEventListener("dispose",c),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:o,dispose:l}}const K0=new gi,J0=new is,q0=new os,Q0=new T1,ef=[],tf=[],nf=new Float32Array(16),rf=new Float32Array(9),of=new Float32Array(4);function zc(a,e,t){const n=a[0];if(n<=0||n>0)return a;const r=e*t;let o=ef[r];if(o===void 0&&(o=new Float32Array(r),ef[r]=o),e!==0){n.toArray(o,0);for(let l=1,c=0;l!==e;++l)c+=t,a[l].toArray(o,c)}return o}function Ns(a,e){if(a.length!==e.length)return!1;for(let t=0,n=a.length;t<n;t++)if(a[t]!==e[t])return!1;return!0}function Bs(a,e){for(let t=0,n=e.length;t<n;t++)a[t]=e[t]}function Eu(a,e){let t=tf[e];t===void 0&&(t=new Int32Array(e),tf[e]=t);for(let n=0;n!==e;++n)t[n]=a.allocateTextureUnit();return t}function Pd(a,e){const t=this.cache;t[0]!==e&&(a.uniform1f(this.addr,e),t[0]=e)}function Id(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(a.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ns(t,e))return;a.uniform2fv(this.addr,e),Bs(t,e)}}function Od(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(a.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(a.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ns(t,e))return;a.uniform3fv(this.addr,e),Bs(t,e)}}function Dd(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(a.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ns(t,e))return;a.uniform4fv(this.addr,e),Bs(t,e)}}function Hd(a,e){const t=this.cache,n=e.elements;if(n===void 0){if(Ns(t,e))return;a.uniformMatrix2fv(this.addr,!1,e),Bs(t,e)}else{if(Ns(t,n))return;of.set(n),a.uniformMatrix2fv(this.addr,!1,of),Bs(t,n)}}function zd(a,e){const t=this.cache,n=e.elements;if(n===void 0){if(Ns(t,e))return;a.uniformMatrix3fv(this.addr,!1,e),Bs(t,e)}else{if(Ns(t,n))return;rf.set(n),a.uniformMatrix3fv(this.addr,!1,rf),Bs(t,n)}}function Nd(a,e){const t=this.cache,n=e.elements;if(n===void 0){if(Ns(t,e))return;a.uniformMatrix4fv(this.addr,!1,e),Bs(t,e)}else{if(Ns(t,n))return;nf.set(n),a.uniformMatrix4fv(this.addr,!1,nf),Bs(t,n)}}function Bd(a,e){const t=this.cache;t[0]!==e&&(a.uniform1i(this.addr,e),t[0]=e)}function Ud(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(a.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ns(t,e))return;a.uniform2iv(this.addr,e),Bs(t,e)}}function Vd(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(a.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ns(t,e))return;a.uniform3iv(this.addr,e),Bs(t,e)}}function Fd(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(a.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ns(t,e))return;a.uniform4iv(this.addr,e),Bs(t,e)}}function kd(a,e){const t=this.cache;t[0]!==e&&(a.uniform1ui(this.addr,e),t[0]=e)}function $d(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(a.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ns(t,e))return;a.uniform2uiv(this.addr,e),Bs(t,e)}}function Wd(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(a.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ns(t,e))return;a.uniform3uiv(this.addr,e),Bs(t,e)}}function Zd(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(a.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ns(t,e))return;a.uniform4uiv(this.addr,e),Bs(t,e)}}function sf(a,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(a.uniform1i(this.addr,r),n[0]=r),t.setTexture2D(e||K0,r)}function af(a,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(a.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||q0,r)}function jd(a,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(a.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||Q0,r)}function Gd(a,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(a.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||J0,r)}function Xd(a){switch(a){case 5126:return Pd;case 35664:return Id;case 35665:return Od;case 35666:return Dd;case 35674:return Hd;case 35675:return zd;case 35676:return Nd;case 5124:case 35670:return Bd;case 35667:case 35671:return Ud;case 35668:case 35672:return Vd;case 35669:case 35673:return Fd;case 5125:return kd;case 36294:return $d;case 36295:return Wd;case 36296:return Zd;case 35678:case 36198:case 36298:case 36306:case 35682:return sf;case 35679:case 36299:case 36307:return af;case 35680:case 36300:case 36308:case 36293:return jd;case 36289:case 36303:case 36311:case 36292:return Gd}}function Yd(a,e){a.uniform1fv(this.addr,e)}function lf(a,e){const t=zc(e,this.size,2);a.uniform2fv(this.addr,t)}function cf(a,e){const t=zc(e,this.size,3);a.uniform3fv(this.addr,t)}function Kd(a,e){const t=zc(e,this.size,4);a.uniform4fv(this.addr,t)}function Jd(a,e){const t=zc(e,this.size,4);a.uniformMatrix2fv(this.addr,!1,t)}function qd(a,e){const t=zc(e,this.size,9);a.uniformMatrix3fv(this.addr,!1,t)}function Qd(a,e){const t=zc(e,this.size,16);a.uniformMatrix4fv(this.addr,!1,t)}function uf(a,e){a.uniform1iv(this.addr,e)}function ff(a,e){a.uniform2iv(this.addr,e)}function e2(a,e){a.uniform3iv(this.addr,e)}function t2(a,e){a.uniform4iv(this.addr,e)}function df(a,e){a.uniform1uiv(this.addr,e)}function hf(a,e){a.uniform2uiv(this.addr,e)}function n2(a,e){a.uniform3uiv(this.addr,e)}function r2(a,e){a.uniform4uiv(this.addr,e)}function i2(a,e,t){const n=this.cache,r=e.length,o=Eu(t,r);Ns(n,o)||(a.uniform1iv(this.addr,o),Bs(n,o));for(let l=0;l!==r;++l)t.setTexture2D(e[l]||K0,o[l])}function o2(a,e,t){const n=this.cache,r=e.length,o=Eu(t,r);Ns(n,o)||(a.uniform1iv(this.addr,o),Bs(n,o));for(let l=0;l!==r;++l)t.setTexture3D(e[l]||q0,o[l])}function s2(a,e,t){const n=this.cache,r=e.length,o=Eu(t,r);Ns(n,o)||(a.uniform1iv(this.addr,o),Bs(n,o));for(let l=0;l!==r;++l)t.setTextureCube(e[l]||Q0,o[l])}function a2(a,e,t){const n=this.cache,r=e.length,o=Eu(t,r);Ns(n,o)||(a.uniform1iv(this.addr,o),Bs(n,o));for(let l=0;l!==r;++l)t.setTexture2DArray(e[l]||J0,o[l])}function pf(a){switch(a){case 5126:return Yd;case 35664:return lf;case 35665:return cf;case 35666:return Kd;case 35674:return Jd;case 35675:return qd;case 35676:return Qd;case 5124:case 35670:return uf;case 35667:case 35671:return ff;case 35668:case 35672:return e2;case 35669:case 35673:return t2;case 5125:return df;case 36294:return hf;case 36295:return n2;case 36296:return r2;case 35678:case 36198:case 36298:case 36306:case 35682:return i2;case 35679:case 36299:case 36307:return o2;case 35680:case 36300:case 36308:case 36293:return s2;case 36289:case 36303:case 36311:case 36292:return a2}}class mf{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=Xd(t.type)}}class l2{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=pf(t.type)}}class c2{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let o=0,l=r.length;o!==l;++o){const c=r[o];c.setValue(e,t[c.id],n)}}}const u0=/(\w+)(\])?(\[|\.)?/g;function gf(a,e){a.seq.push(e),a.map[e.id]=e}function u2(a,e,t){const n=a.name,r=n.length;for(u0.lastIndex=0;;){const o=u0.exec(n),l=u0.lastIndex;let c=o[1];const f=o[2]==="]",d=o[3];if(f&&(c=c|0),d===void 0||d==="["&&l+2===r){gf(t,d===void 0?new mf(c,a,e):new l2(c,a,e));break}else{let g=t.map[c];g===void 0&&(g=new c2(c),gf(t,g)),t=g}}}class Ru{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const o=e.getActiveUniform(t,r),l=e.getUniformLocation(t,o.name);u2(o,l,this)}}setValue(e,t,n,r){const o=this.map[t];o!==void 0&&o.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let o=0,l=t.length;o!==l;++o){const c=t[o],f=n[c.id];f.needsUpdate!==!1&&c.setValue(e,f.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,o=e.length;r!==o;++r){const l=e[r];l.id in t&&n.push(l)}return n}}function vf(a,e,t){const n=a.createShader(e);return a.shaderSource(n,t),a.compileShader(n),n}let f2=0;function d2(a,e){const t=a.split(`
`),n=[],r=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let l=r;l<o;l++){const c=l+1;n.push(`${c===e?">":" "} ${c}: ${t[l]}`)}return n.join(`
`)}function h2(a){switch(a){case Ko:return["Linear","( value )"];case Vr:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",a),["Linear","( value )"]}}function Cf(a,e,t){const n=a.getShaderParameter(e,a.COMPILE_STATUS),r=a.getShaderInfoLog(e).trim();if(n&&r==="")return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const l=parseInt(o[1]);return t.toUpperCase()+`

`+r+`

`+d2(a.getShaderSource(e),l)}else return r}function p2(a,e){const t=h2(e);return"vec4 "+a+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function m2(a,e){let t;switch(e){case pt:t="Linear";break;case Ue:t="Reinhard";break;case yt:t="OptimizedCineon";break;case Vt:t="ACESFilmic";break;case Rn:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+a+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function g2(a){return[a.extensionDerivatives||a.envMapCubeUVHeight||a.bumpMap||a.normalMapTangentSpace||a.clearcoatNormalMap||a.flatShading||a.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(a.extensionFragDepth||a.logarithmicDepthBuffer)&&a.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",a.extensionDrawBuffers&&a.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(a.extensionShaderTextureLOD||a.envMap||a.transmission)&&a.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ou).join(`
`)}function v2(a){const e=[];for(const t in a){const n=a[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function C2(a,e){const t={},n=a.getProgramParameter(e,a.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const o=a.getActiveAttrib(e,r),l=o.name;let c=1;o.type===a.FLOAT_MAT2&&(c=2),o.type===a.FLOAT_MAT3&&(c=3),o.type===a.FLOAT_MAT4&&(c=4),t[l]={type:o.type,location:a.getAttribLocation(e,l),locationSize:c}}return t}function ou(a){return a!==""}function _f(a,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return a.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function xf(a,e){return a.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const _2=/^[ \t]*#include +<([\w\d./]+)>/gm;function f0(a){return a.replace(_2,x2)}function x2(a,e){const t=Ni[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return f0(t)}const y2=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function yf(a){return a.replace(y2,k)}function k(a,e,t,n){let r="";for(let o=parseInt(e);o<parseInt(t);o++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function q(a){let e="precision "+a.precision+` float;
precision `+a.precision+" int;";return a.precision==="highp"?e+=`
#define HIGH_PRECISION`:a.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:a.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function $(a){let e="SHADOWMAP_TYPE_BASIC";return a.shadowMapType===he?e="SHADOWMAP_TYPE_PCF":a.shadowMapType===Be?e="SHADOWMAP_TYPE_PCF_SOFT":a.shadowMapType===at&&(e="SHADOWMAP_TYPE_VSM"),e}function X(a){let e="ENVMAP_TYPE_CUBE";if(a.envMap)switch(a.envMapMode){case In:case sn:e="ENVMAP_TYPE_CUBE";break;case oi:e="ENVMAP_TYPE_CUBE_UV";break}return e}function J(a){let e="ENVMAP_MODE_REFLECTION";if(a.envMap)switch(a.envMapMode){case sn:e="ENVMAP_MODE_REFRACTION";break}return e}function su(a){let e="ENVMAP_BLENDING_NONE";if(a.envMap)switch(a.combine){case Te:e="ENVMAP_BLENDING_MULTIPLY";break;case Et:e="ENVMAP_BLENDING_MIX";break;case zt:e="ENVMAP_BLENDING_ADD";break}return e}function jh(a){const e=a.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function Gh(a,e,t,n){const r=a.getContext(),o=t.defines;let l=t.vertexShader,c=t.fragmentShader;const f=$(t),d=X(t),m=J(t),g=su(t),v=jh(t),C=t.isWebGL2?"":g2(t),y=v2(o),A=r.createProgram();let M,x,U=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(M=[y].filter(ou).join(`
`),M.length>0&&(M+=`
`),x=[C,y].filter(ou).join(`
`),x.length>0&&(x+=`
`)):(M=[q(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ou).join(`
`),x=[C,q(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+m:"",t.envMap?"#define "+g:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==_t?"#define TONE_MAPPING":"",t.toneMapping!==_t?Ni.tonemapping_pars_fragment:"",t.toneMapping!==_t?m2("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Ni.encodings_pars_fragment,p2("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(ou).join(`
`)),l=f0(l),l=_f(l,t),l=xf(l,t),c=f0(c),c=_f(c,t),c=xf(c,t),l=yf(l),c=yf(c),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(U=`#version 300 es
`,M=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+M,x=["#define varying in",t.glslVersion===Zi?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Zi?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const O=U+M+l,ne=U+x+c,ue=vf(r,r.VERTEX_SHADER,O),we=vf(r,r.FRAGMENT_SHADER,ne);if(r.attachShader(A,ue),r.attachShader(A,we),t.index0AttributeName!==void 0?r.bindAttribLocation(A,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(A,0,"position"),r.linkProgram(A),a.debug.checkShaderErrors){const j=r.getProgramInfoLog(A).trim(),Re=r.getShaderInfoLog(ue).trim(),kt=r.getShaderInfoLog(we).trim();let pn=!0,Mt=!0;if(r.getProgramParameter(A,r.LINK_STATUS)===!1)if(pn=!1,typeof a.debug.onShaderError=="function")a.debug.onShaderError(r,A,ue,we);else{const Bt=Cf(r,ue,"vertex"),Xt=Cf(r,we,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(A,r.VALIDATE_STATUS)+`

Program Info Log: `+j+`
`+Bt+`
`+Xt)}else j!==""?console.warn("THREE.WebGLProgram: Program Info Log:",j):(Re===""||kt==="")&&(Mt=!1);Mt&&(this.diagnostics={runnable:pn,programLog:j,vertexShader:{log:Re,prefix:M},fragmentShader:{log:kt,prefix:x}})}r.deleteShader(ue),r.deleteShader(we);let Ve;this.getUniforms=function(){return Ve===void 0&&(Ve=new Ru(r,A)),Ve};let et;return this.getAttributes=function(){return et===void 0&&(et=C2(r,A)),et},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(A),this.program=void 0},this.name=t.shaderName,this.id=f2++,this.cacheKey=e,this.usedTimes=1,this.program=A,this.vertexShader=ue,this.fragmentShader=we,this}let Xh=0;class Yh{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),o=this._getShaderStage(n),l=this._getShaderCacheForMaterial(e);return l.has(r)===!1&&(l.add(r),r.usedTimes++),l.has(o)===!1&&(l.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new Kh(e),t.set(e,n)),n}}class Kh{constructor(e){this.id=Xh++,this.code=e,this.usedTimes=0}}function Jh(a,e,t,n,r,o,l){const c=new el,f=new Yh,d=[],m=r.isWebGL2,g=r.logarithmicDepthBuffer,v=r.vertexTextures;let C=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(j){return j===1?"uv1":j===2?"uv2":j===3?"uv3":"uv"}function M(j,Re,kt,pn,Mt){const Bt=pn.fog,Xt=Mt.geometry,Nn=j.isMeshStandardMaterial?pn.environment:null,Pn=(j.isMeshStandardMaterial?t:e).get(j.envMap||Nn),Ln=Pn&&Pn.mapping===oi?Pn.image.height:null,Bn=y[j.type];j.precision!==null&&(C=r.getMaxPrecision(j.precision),C!==j.precision&&console.warn("THREE.WebGLProgram.getParameters:",j.precision,"not supported, using",C,"instead."));const Gn=Xt.morphAttributes.position||Xt.morphAttributes.normal||Xt.morphAttributes.color,Ir=Gn!==void 0?Gn.length:0;let yr=0;Xt.morphAttributes.position!==void 0&&(yr=1),Xt.morphAttributes.normal!==void 0&&(yr=2),Xt.morphAttributes.color!==void 0&&(yr=3);let Jt,On,mr,wr;if(Bn){const Ho=P1[Bn];Jt=Ho.vertexShader,On=Ho.fragmentShader}else Jt=j.vertexShader,On=j.fragmentShader,f.update(j),mr=f.getVertexShaderID(j),wr=f.getFragmentShaderID(j);const it=a.getRenderTarget(),_i=Mt.isInstancedMesh===!0,bi=!!j.map,lr=!!j.matcap,$r=!!Pn,Un=!!j.aoMap,mn=!!j.lightMap,Vn=!!j.bumpMap,Hr=!!j.normalMap,vr=!!j.displacementMap,ci=!!j.emissiveMap,ui=!!j.metalnessMap,ni=!!j.roughnessMap,Xi=j.clearcoat>0,_o=j.iridescence>0,He=j.sheen>0,fe=j.transmission>0,Gt=Xi&&!!j.clearcoatMap,Xn=Xi&&!!j.clearcoatNormalMap,tr=Xi&&!!j.clearcoatRoughnessMap,xr=_o&&!!j.iridescenceMap,mi=_o&&!!j.iridescenceThicknessMap,Or=He&&!!j.sheenColorMap,un=He&&!!j.sheenRoughnessMap,Fr=!!j.specularMap,ri=!!j.specularColorMap,fi=!!j.specularIntensityMap,zr=fe&&!!j.transmissionMap,Xr=fe&&!!j.thicknessMap,uo=!!j.gradientMap,Io=!!j.alphaMap,Ms=j.alphaTest>0,ct=!!j.extensions,tn=!!Xt.attributes.uv1,Kn=!!Xt.attributes.uv2,Rr=!!Xt.attributes.uv3;return{isWebGL2:m,shaderID:Bn,shaderName:j.type,vertexShader:Jt,fragmentShader:On,defines:j.defines,customVertexShaderID:mr,customFragmentShaderID:wr,isRawShaderMaterial:j.isRawShaderMaterial===!0,glslVersion:j.glslVersion,precision:C,instancing:_i,instancingColor:_i&&Mt.instanceColor!==null,supportsVertexTextures:v,outputColorSpace:it===null?a.outputColorSpace:it.isXRRenderTarget===!0?it.texture.colorSpace:Ko,map:bi,matcap:lr,envMap:$r,envMapMode:$r&&Pn.mapping,envMapCubeUVHeight:Ln,aoMap:Un,lightMap:mn,bumpMap:Vn,normalMap:Hr,displacementMap:v&&vr,emissiveMap:ci,normalMapObjectSpace:Hr&&j.normalMapType===na,normalMapTangentSpace:Hr&&j.normalMapType===Kr,metalnessMap:ui,roughnessMap:ni,clearcoat:Xi,clearcoatMap:Gt,clearcoatNormalMap:Xn,clearcoatRoughnessMap:tr,iridescence:_o,iridescenceMap:xr,iridescenceThicknessMap:mi,sheen:He,sheenColorMap:Or,sheenRoughnessMap:un,specularMap:Fr,specularColorMap:ri,specularIntensityMap:fi,transmission:fe,transmissionMap:zr,thicknessMap:Xr,gradientMap:uo,opaque:j.transparent===!1&&j.blending===fn,alphaMap:Io,alphaTest:Ms,combine:j.combine,mapUv:bi&&A(j.map.channel),aoMapUv:Un&&A(j.aoMap.channel),lightMapUv:mn&&A(j.lightMap.channel),bumpMapUv:Vn&&A(j.bumpMap.channel),normalMapUv:Hr&&A(j.normalMap.channel),displacementMapUv:vr&&A(j.displacementMap.channel),emissiveMapUv:ci&&A(j.emissiveMap.channel),metalnessMapUv:ui&&A(j.metalnessMap.channel),roughnessMapUv:ni&&A(j.roughnessMap.channel),clearcoatMapUv:Gt&&A(j.clearcoatMap.channel),clearcoatNormalMapUv:Xn&&A(j.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:tr&&A(j.clearcoatRoughnessMap.channel),iridescenceMapUv:xr&&A(j.iridescenceMap.channel),iridescenceThicknessMapUv:mi&&A(j.iridescenceThicknessMap.channel),sheenColorMapUv:Or&&A(j.sheenColorMap.channel),sheenRoughnessMapUv:un&&A(j.sheenRoughnessMap.channel),specularMapUv:Fr&&A(j.specularMap.channel),specularColorMapUv:ri&&A(j.specularColorMap.channel),specularIntensityMapUv:fi&&A(j.specularIntensityMap.channel),transmissionMapUv:zr&&A(j.transmissionMap.channel),thicknessMapUv:Xr&&A(j.thicknessMap.channel),alphaMapUv:Io&&A(j.alphaMap.channel),vertexTangents:Hr&&!!Xt.attributes.tangent,vertexColors:j.vertexColors,vertexAlphas:j.vertexColors===!0&&!!Xt.attributes.color&&Xt.attributes.color.itemSize===4,vertexUv1s:tn,vertexUv2s:Kn,vertexUv3s:Rr,pointsUvs:Mt.isPoints===!0&&!!Xt.attributes.uv&&(bi||Io),fog:!!Bt,useFog:j.fog===!0,fogExp2:Bt&&Bt.isFogExp2,flatShading:j.flatShading===!0,sizeAttenuation:j.sizeAttenuation===!0,logarithmicDepthBuffer:g,skinning:Mt.isSkinnedMesh===!0,morphTargets:Xt.morphAttributes.position!==void 0,morphNormals:Xt.morphAttributes.normal!==void 0,morphColors:Xt.morphAttributes.color!==void 0,morphTargetsCount:Ir,morphTextureStride:yr,numDirLights:Re.directional.length,numPointLights:Re.point.length,numSpotLights:Re.spot.length,numSpotLightMaps:Re.spotLightMap.length,numRectAreaLights:Re.rectArea.length,numHemiLights:Re.hemi.length,numDirLightShadows:Re.directionalShadowMap.length,numPointLightShadows:Re.pointShadowMap.length,numSpotLightShadows:Re.spotShadowMap.length,numSpotLightShadowsWithMaps:Re.numSpotLightShadowsWithMaps,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:j.dithering,shadowMapEnabled:a.shadowMap.enabled&&kt.length>0,shadowMapType:a.shadowMap.type,toneMapping:j.toneMapped?a.toneMapping:_t,useLegacyLights:a.useLegacyLights,premultipliedAlpha:j.premultipliedAlpha,doubleSided:j.side===Lt,flipSided:j.side===mt,useDepthPacking:j.depthPacking>=0,depthPacking:j.depthPacking||0,index0AttributeName:j.index0AttributeName,extensionDerivatives:ct&&j.extensions.derivatives===!0,extensionFragDepth:ct&&j.extensions.fragDepth===!0,extensionDrawBuffers:ct&&j.extensions.drawBuffers===!0,extensionShaderTextureLOD:ct&&j.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:m||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:m||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:m||n.has("EXT_shader_texture_lod"),customProgramCacheKey:j.customProgramCacheKey()}}function x(j){const Re=[];if(j.shaderID?Re.push(j.shaderID):(Re.push(j.customVertexShaderID),Re.push(j.customFragmentShaderID)),j.defines!==void 0)for(const kt in j.defines)Re.push(kt),Re.push(j.defines[kt]);return j.isRawShaderMaterial===!1&&(U(Re,j),O(Re,j),Re.push(a.outputColorSpace)),Re.push(j.customProgramCacheKey),Re.join()}function U(j,Re){j.push(Re.precision),j.push(Re.outputColorSpace),j.push(Re.envMapMode),j.push(Re.envMapCubeUVHeight),j.push(Re.mapUv),j.push(Re.alphaMapUv),j.push(Re.lightMapUv),j.push(Re.aoMapUv),j.push(Re.bumpMapUv),j.push(Re.normalMapUv),j.push(Re.displacementMapUv),j.push(Re.emissiveMapUv),j.push(Re.metalnessMapUv),j.push(Re.roughnessMapUv),j.push(Re.clearcoatMapUv),j.push(Re.clearcoatNormalMapUv),j.push(Re.clearcoatRoughnessMapUv),j.push(Re.iridescenceMapUv),j.push(Re.iridescenceThicknessMapUv),j.push(Re.sheenColorMapUv),j.push(Re.sheenRoughnessMapUv),j.push(Re.specularMapUv),j.push(Re.specularColorMapUv),j.push(Re.specularIntensityMapUv),j.push(Re.transmissionMapUv),j.push(Re.thicknessMapUv),j.push(Re.combine),j.push(Re.fogExp2),j.push(Re.sizeAttenuation),j.push(Re.morphTargetsCount),j.push(Re.morphAttributeCount),j.push(Re.numDirLights),j.push(Re.numPointLights),j.push(Re.numSpotLights),j.push(Re.numSpotLightMaps),j.push(Re.numHemiLights),j.push(Re.numRectAreaLights),j.push(Re.numDirLightShadows),j.push(Re.numPointLightShadows),j.push(Re.numSpotLightShadows),j.push(Re.numSpotLightShadowsWithMaps),j.push(Re.shadowMapType),j.push(Re.toneMapping),j.push(Re.numClippingPlanes),j.push(Re.numClipIntersection),j.push(Re.depthPacking)}function O(j,Re){c.disableAll(),Re.isWebGL2&&c.enable(0),Re.supportsVertexTextures&&c.enable(1),Re.instancing&&c.enable(2),Re.instancingColor&&c.enable(3),Re.matcap&&c.enable(4),Re.envMap&&c.enable(5),Re.normalMapObjectSpace&&c.enable(6),Re.normalMapTangentSpace&&c.enable(7),Re.clearcoat&&c.enable(8),Re.iridescence&&c.enable(9),Re.alphaTest&&c.enable(10),Re.vertexColors&&c.enable(11),Re.vertexAlphas&&c.enable(12),Re.vertexUv1s&&c.enable(13),Re.vertexUv2s&&c.enable(14),Re.vertexUv3s&&c.enable(15),Re.vertexTangents&&c.enable(16),j.push(c.mask),c.disableAll(),Re.fog&&c.enable(0),Re.useFog&&c.enable(1),Re.flatShading&&c.enable(2),Re.logarithmicDepthBuffer&&c.enable(3),Re.skinning&&c.enable(4),Re.morphTargets&&c.enable(5),Re.morphNormals&&c.enable(6),Re.morphColors&&c.enable(7),Re.premultipliedAlpha&&c.enable(8),Re.shadowMapEnabled&&c.enable(9),Re.useLegacyLights&&c.enable(10),Re.doubleSided&&c.enable(11),Re.flipSided&&c.enable(12),Re.useDepthPacking&&c.enable(13),Re.dithering&&c.enable(14),Re.transmission&&c.enable(15),Re.sheen&&c.enable(16),Re.opaque&&c.enable(17),Re.pointsUvs&&c.enable(18),j.push(c.mask)}function ne(j){const Re=y[j.type];let kt;if(Re){const pn=P1[Re];kt=dl.clone(pn.uniforms)}else kt=j.uniforms;return kt}function ue(j,Re){let kt;for(let pn=0,Mt=d.length;pn<Mt;pn++){const Bt=d[pn];if(Bt.cacheKey===Re){kt=Bt,++kt.usedTimes;break}}return kt===void 0&&(kt=new Gh(a,Re,j,o),d.push(kt)),kt}function we(j){if(--j.usedTimes===0){const Re=d.indexOf(j);d[Re]=d[d.length-1],d.pop(),j.destroy()}}function Ve(j){f.remove(j)}function et(){f.dispose()}return{getParameters:M,getProgramCacheKey:x,getUniforms:ne,acquireProgram:ue,releaseProgram:we,releaseShaderCache:Ve,programs:d,dispose:et}}function qh(){let a=new WeakMap;function e(o){let l=a.get(o);return l===void 0&&(l={},a.set(o,l)),l}function t(o){a.delete(o)}function n(o,l,c){a.get(o)[l]=c}function r(){a=new WeakMap}return{get:e,remove:t,update:n,dispose:r}}function Qh(a,e){return a.groupOrder!==e.groupOrder?a.groupOrder-e.groupOrder:a.renderOrder!==e.renderOrder?a.renderOrder-e.renderOrder:a.material.id!==e.material.id?a.material.id-e.material.id:a.z!==e.z?a.z-e.z:a.id-e.id}function w2(a,e){return a.groupOrder!==e.groupOrder?a.groupOrder-e.groupOrder:a.renderOrder!==e.renderOrder?a.renderOrder-e.renderOrder:a.z!==e.z?e.z-a.z:a.id-e.id}function M2(){const a=[];let e=0;const t=[],n=[],r=[];function o(){e=0,t.length=0,n.length=0,r.length=0}function l(g,v,C,y,A,M){let x=a[e];return x===void 0?(x={id:g.id,object:g,geometry:v,material:C,groupOrder:y,renderOrder:g.renderOrder,z:A,group:M},a[e]=x):(x.id=g.id,x.object=g,x.geometry=v,x.material=C,x.groupOrder=y,x.renderOrder=g.renderOrder,x.z=A,x.group=M),e++,x}function c(g,v,C,y,A,M){const x=l(g,v,C,y,A,M);C.transmission>0?n.push(x):C.transparent===!0?r.push(x):t.push(x)}function f(g,v,C,y,A,M){const x=l(g,v,C,y,A,M);C.transmission>0?n.unshift(x):C.transparent===!0?r.unshift(x):t.unshift(x)}function d(g,v){t.length>1&&t.sort(g||Qh),n.length>1&&n.sort(v||w2),r.length>1&&r.sort(v||w2)}function m(){for(let g=e,v=a.length;g<v;g++){const C=a[g];if(C.id===null)break;C.id=null,C.object=null,C.geometry=null,C.material=null,C.group=null}}return{opaque:t,transmissive:n,transparent:r,init:o,push:c,unshift:f,finish:m,sort:d}}function e5(){let a=new WeakMap;function e(n,r){const o=a.get(n);let l;return o===void 0?(l=new M2,a.set(n,[l])):r>=o.length?(l=new M2,o.push(l)):l=o[r],l}function t(){a=new WeakMap}return{get:e,dispose:t}}function t5(){const a={};return{get:function(e){if(a[e.id]!==void 0)return a[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ce,color:new ar};break;case"SpotLight":t={position:new ce,direction:new ce,color:new ar,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ce,color:new ar,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ce,skyColor:new ar,groundColor:new ar};break;case"RectAreaLight":t={color:new ar,position:new ce,halfWidth:new ce,halfHeight:new ce};break}return a[e.id]=t,t}}}function n5(){const a={};return{get:function(e){if(a[e.id]!==void 0)return a[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new hn};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new hn};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new hn,shadowCameraNear:1,shadowCameraFar:1e3};break}return a[e.id]=t,t}}}let r5=0;function i5(a,e){return(e.castShadow?2:0)-(a.castShadow?2:0)+(e.map?1:0)-(a.map?1:0)}function o5(a,e){const t=new t5,n=n5(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let m=0;m<9;m++)r.probe.push(new ce);const o=new ce,l=new li,c=new li;function f(m,g){let v=0,C=0,y=0;for(let kt=0;kt<9;kt++)r.probe[kt].set(0,0,0);let A=0,M=0,x=0,U=0,O=0,ne=0,ue=0,we=0,Ve=0,et=0;m.sort(i5);const j=g===!0?Math.PI:1;for(let kt=0,pn=m.length;kt<pn;kt++){const Mt=m[kt],Bt=Mt.color,Xt=Mt.intensity,Nn=Mt.distance,Pn=Mt.shadow&&Mt.shadow.map?Mt.shadow.map.texture:null;if(Mt.isAmbientLight)v+=Bt.r*Xt*j,C+=Bt.g*Xt*j,y+=Bt.b*Xt*j;else if(Mt.isLightProbe)for(let Ln=0;Ln<9;Ln++)r.probe[Ln].addScaledVector(Mt.sh.coefficients[Ln],Xt);else if(Mt.isDirectionalLight){const Ln=t.get(Mt);if(Ln.color.copy(Mt.color).multiplyScalar(Mt.intensity*j),Mt.castShadow){const Bn=Mt.shadow,Gn=n.get(Mt);Gn.shadowBias=Bn.bias,Gn.shadowNormalBias=Bn.normalBias,Gn.shadowRadius=Bn.radius,Gn.shadowMapSize=Bn.mapSize,r.directionalShadow[A]=Gn,r.directionalShadowMap[A]=Pn,r.directionalShadowMatrix[A]=Mt.shadow.matrix,ne++}r.directional[A]=Ln,A++}else if(Mt.isSpotLight){const Ln=t.get(Mt);Ln.position.setFromMatrixPosition(Mt.matrixWorld),Ln.color.copy(Bt).multiplyScalar(Xt*j),Ln.distance=Nn,Ln.coneCos=Math.cos(Mt.angle),Ln.penumbraCos=Math.cos(Mt.angle*(1-Mt.penumbra)),Ln.decay=Mt.decay,r.spot[x]=Ln;const Bn=Mt.shadow;if(Mt.map&&(r.spotLightMap[Ve]=Mt.map,Ve++,Bn.updateMatrices(Mt),Mt.castShadow&&et++),r.spotLightMatrix[x]=Bn.matrix,Mt.castShadow){const Gn=n.get(Mt);Gn.shadowBias=Bn.bias,Gn.shadowNormalBias=Bn.normalBias,Gn.shadowRadius=Bn.radius,Gn.shadowMapSize=Bn.mapSize,r.spotShadow[x]=Gn,r.spotShadowMap[x]=Pn,we++}x++}else if(Mt.isRectAreaLight){const Ln=t.get(Mt);Ln.color.copy(Bt).multiplyScalar(Xt),Ln.halfWidth.set(Mt.width*.5,0,0),Ln.halfHeight.set(0,Mt.height*.5,0),r.rectArea[U]=Ln,U++}else if(Mt.isPointLight){const Ln=t.get(Mt);if(Ln.color.copy(Mt.color).multiplyScalar(Mt.intensity*j),Ln.distance=Mt.distance,Ln.decay=Mt.decay,Mt.castShadow){const Bn=Mt.shadow,Gn=n.get(Mt);Gn.shadowBias=Bn.bias,Gn.shadowNormalBias=Bn.normalBias,Gn.shadowRadius=Bn.radius,Gn.shadowMapSize=Bn.mapSize,Gn.shadowCameraNear=Bn.camera.near,Gn.shadowCameraFar=Bn.camera.far,r.pointShadow[M]=Gn,r.pointShadowMap[M]=Pn,r.pointShadowMatrix[M]=Mt.shadow.matrix,ue++}r.point[M]=Ln,M++}else if(Mt.isHemisphereLight){const Ln=t.get(Mt);Ln.skyColor.copy(Mt.color).multiplyScalar(Xt*j),Ln.groundColor.copy(Mt.groundColor).multiplyScalar(Xt*j),r.hemi[O]=Ln,O++}}U>0&&(e.isWebGL2||a.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=dr.LTC_FLOAT_1,r.rectAreaLTC2=dr.LTC_FLOAT_2):a.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=dr.LTC_HALF_1,r.rectAreaLTC2=dr.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=v,r.ambient[1]=C,r.ambient[2]=y;const Re=r.hash;(Re.directionalLength!==A||Re.pointLength!==M||Re.spotLength!==x||Re.rectAreaLength!==U||Re.hemiLength!==O||Re.numDirectionalShadows!==ne||Re.numPointShadows!==ue||Re.numSpotShadows!==we||Re.numSpotMaps!==Ve)&&(r.directional.length=A,r.spot.length=x,r.rectArea.length=U,r.point.length=M,r.hemi.length=O,r.directionalShadow.length=ne,r.directionalShadowMap.length=ne,r.pointShadow.length=ue,r.pointShadowMap.length=ue,r.spotShadow.length=we,r.spotShadowMap.length=we,r.directionalShadowMatrix.length=ne,r.pointShadowMatrix.length=ue,r.spotLightMatrix.length=we+Ve-et,r.spotLightMap.length=Ve,r.numSpotLightShadowsWithMaps=et,Re.directionalLength=A,Re.pointLength=M,Re.spotLength=x,Re.rectAreaLength=U,Re.hemiLength=O,Re.numDirectionalShadows=ne,Re.numPointShadows=ue,Re.numSpotShadows=we,Re.numSpotMaps=Ve,r.version=r5++)}function d(m,g){let v=0,C=0,y=0,A=0,M=0;const x=g.matrixWorldInverse;for(let U=0,O=m.length;U<O;U++){const ne=m[U];if(ne.isDirectionalLight){const ue=r.directional[v];ue.direction.setFromMatrixPosition(ne.matrixWorld),o.setFromMatrixPosition(ne.target.matrixWorld),ue.direction.sub(o),ue.direction.transformDirection(x),v++}else if(ne.isSpotLight){const ue=r.spot[y];ue.position.setFromMatrixPosition(ne.matrixWorld),ue.position.applyMatrix4(x),ue.direction.setFromMatrixPosition(ne.matrixWorld),o.setFromMatrixPosition(ne.target.matrixWorld),ue.direction.sub(o),ue.direction.transformDirection(x),y++}else if(ne.isRectAreaLight){const ue=r.rectArea[A];ue.position.setFromMatrixPosition(ne.matrixWorld),ue.position.applyMatrix4(x),c.identity(),l.copy(ne.matrixWorld),l.premultiply(x),c.extractRotation(l),ue.halfWidth.set(ne.width*.5,0,0),ue.halfHeight.set(0,ne.height*.5,0),ue.halfWidth.applyMatrix4(c),ue.halfHeight.applyMatrix4(c),A++}else if(ne.isPointLight){const ue=r.point[C];ue.position.setFromMatrixPosition(ne.matrixWorld),ue.position.applyMatrix4(x),C++}else if(ne.isHemisphereLight){const ue=r.hemi[M];ue.direction.setFromMatrixPosition(ne.matrixWorld),ue.direction.transformDirection(x),M++}}}return{setup:f,setupView:d,state:r}}function b2(a,e){const t=new o5(a,e),n=[],r=[];function o(){n.length=0,r.length=0}function l(g){n.push(g)}function c(g){r.push(g)}function f(g){t.setup(n,g)}function d(g){t.setupView(n,g)}return{init:o,state:{lightsArray:n,shadowsArray:r,lights:t},setupLights:f,setupLightsView:d,pushLight:l,pushShadow:c}}function s5(a,e){let t=new WeakMap;function n(o,l=0){const c=t.get(o);let f;return c===void 0?(f=new b2(a,e),t.set(o,[f])):l>=c.length?(f=new b2(a,e),c.push(f)):f=c[l],f}function r(){t=new WeakMap}return{get:n,dispose:r}}class wf extends Cs{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=cs,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Mf extends Cs{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const a5=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,l5=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function c5(a,e,t){let n=new Xo;const r=new hn,o=new hn,l=new Br,c=new wf({depthPacking:Xs}),f=new Mf,d={},m=t.maxTextureSize,g={[xe]:mt,[mt]:xe,[Lt]:Lt},v=new Qs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new hn},radius:{value:4}},vertexShader:a5,fragmentShader:l5}),C=v.clone();C.defines.HORIZONTAL_PASS=1;const y=new xn;y.setAttribute("position",new go(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new Go(y,v),M=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=he;let x=this.type;this.render=function(ue,we,Ve){if(M.enabled===!1||M.autoUpdate===!1&&M.needsUpdate===!1||ue.length===0)return;const et=a.getRenderTarget(),j=a.getActiveCubeFace(),Re=a.getActiveMipmapLevel(),kt=a.state;kt.setBlending(Hn),kt.buffers.color.setClear(1,1,1,1),kt.buffers.depth.setTest(!0),kt.setScissorTest(!1);const pn=x!==at&&this.type===at,Mt=x===at&&this.type!==at;for(let Bt=0,Xt=ue.length;Bt<Xt;Bt++){const Nn=ue[Bt],Pn=Nn.shadow;if(Pn===void 0){console.warn("THREE.WebGLShadowMap:",Nn,"has no shadow.");continue}if(Pn.autoUpdate===!1&&Pn.needsUpdate===!1)continue;r.copy(Pn.mapSize);const Ln=Pn.getFrameExtents();if(r.multiply(Ln),o.copy(Pn.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(o.x=Math.floor(m/Ln.x),r.x=o.x*Ln.x,Pn.mapSize.x=o.x),r.y>m&&(o.y=Math.floor(m/Ln.y),r.y=o.y*Ln.y,Pn.mapSize.y=o.y)),Pn.map===null||pn===!0||Mt===!0){const Gn=this.type!==at?{minFilter:en,magFilter:en}:{};Pn.map!==null&&Pn.map.dispose(),Pn.map=new co(r.x,r.y,Gn),Pn.map.texture.name=Nn.name+".shadowMap",Pn.camera.updateProjectionMatrix()}a.setRenderTarget(Pn.map),a.clear();const Bn=Pn.getViewportCount();for(let Gn=0;Gn<Bn;Gn++){const Ir=Pn.getViewport(Gn);l.set(o.x*Ir.x,o.y*Ir.y,o.x*Ir.z,o.y*Ir.w),kt.viewport(l),Pn.updateMatrices(Nn,Gn),n=Pn.getFrustum(),ne(we,Ve,Pn.camera,Nn,this.type)}Pn.isPointLightShadow!==!0&&this.type===at&&U(Pn,Ve),Pn.needsUpdate=!1}x=this.type,M.needsUpdate=!1,a.setRenderTarget(et,j,Re)};function U(ue,we){const Ve=e.update(A);v.defines.VSM_SAMPLES!==ue.blurSamples&&(v.defines.VSM_SAMPLES=ue.blurSamples,C.defines.VSM_SAMPLES=ue.blurSamples,v.needsUpdate=!0,C.needsUpdate=!0),ue.mapPass===null&&(ue.mapPass=new co(r.x,r.y)),v.uniforms.shadow_pass.value=ue.map.texture,v.uniforms.resolution.value=ue.mapSize,v.uniforms.radius.value=ue.radius,a.setRenderTarget(ue.mapPass),a.clear(),a.renderBufferDirect(we,null,Ve,v,A,null),C.uniforms.shadow_pass.value=ue.mapPass.texture,C.uniforms.resolution.value=ue.mapSize,C.uniforms.radius.value=ue.radius,a.setRenderTarget(ue.map),a.clear(),a.renderBufferDirect(we,null,Ve,C,A,null)}function O(ue,we,Ve,et){let j=null;const Re=Ve.isPointLight===!0?ue.customDistanceMaterial:ue.customDepthMaterial;if(Re!==void 0)j=Re;else if(j=Ve.isPointLight===!0?f:c,a.localClippingEnabled&&we.clipShadows===!0&&Array.isArray(we.clippingPlanes)&&we.clippingPlanes.length!==0||we.displacementMap&&we.displacementScale!==0||we.alphaMap&&we.alphaTest>0||we.map&&we.alphaTest>0){const kt=j.uuid,pn=we.uuid;let Mt=d[kt];Mt===void 0&&(Mt={},d[kt]=Mt);let Bt=Mt[pn];Bt===void 0&&(Bt=j.clone(),Mt[pn]=Bt),j=Bt}if(j.visible=we.visible,j.wireframe=we.wireframe,et===at?j.side=we.shadowSide!==null?we.shadowSide:we.side:j.side=we.shadowSide!==null?we.shadowSide:g[we.side],j.alphaMap=we.alphaMap,j.alphaTest=we.alphaTest,j.map=we.map,j.clipShadows=we.clipShadows,j.clippingPlanes=we.clippingPlanes,j.clipIntersection=we.clipIntersection,j.displacementMap=we.displacementMap,j.displacementScale=we.displacementScale,j.displacementBias=we.displacementBias,j.wireframeLinewidth=we.wireframeLinewidth,j.linewidth=we.linewidth,Ve.isPointLight===!0&&j.isMeshDistanceMaterial===!0){const kt=a.properties.get(j);kt.light=Ve}return j}function ne(ue,we,Ve,et,j){if(ue.visible===!1)return;if(ue.layers.test(we.layers)&&(ue.isMesh||ue.isLine||ue.isPoints)&&(ue.castShadow||ue.receiveShadow&&j===at)&&(!ue.frustumCulled||n.intersectsObject(ue))){ue.modelViewMatrix.multiplyMatrices(Ve.matrixWorldInverse,ue.matrixWorld);const pn=e.update(ue),Mt=ue.material;if(Array.isArray(Mt)){const Bt=pn.groups;for(let Xt=0,Nn=Bt.length;Xt<Nn;Xt++){const Pn=Bt[Xt],Ln=Mt[Pn.materialIndex];if(Ln&&Ln.visible){const Bn=O(ue,Ln,et,j);a.renderBufferDirect(Ve,null,pn,Bn,ue,Pn)}}}else if(Mt.visible){const Bt=O(ue,Mt,et,j);a.renderBufferDirect(Ve,null,pn,Bt,ue,null)}}const kt=ue.children;for(let pn=0,Mt=kt.length;pn<Mt;pn++)ne(kt[pn],we,Ve,et,j)}}function u5(a,e,t){const n=t.isWebGL2;function r(){let ct=!1;const tn=new Br;let Kn=null;const Rr=new Br(0,0,0,0);return{setMask:function(Zr){Kn!==Zr&&!ct&&(a.colorMask(Zr,Zr,Zr,Zr),Kn=Zr)},setLocked:function(Zr){ct=Zr},setClear:function(Zr,Ho,zo,Ea,vc){vc===!0&&(Zr*=Ea,Ho*=Ea,zo*=Ea),tn.set(Zr,Ho,zo,Ea),Rr.equals(tn)===!1&&(a.clearColor(Zr,Ho,zo,Ea),Rr.copy(tn))},reset:function(){ct=!1,Kn=null,Rr.set(-1,0,0,0)}}}function o(){let ct=!1,tn=null,Kn=null,Rr=null;return{setTest:function(Zr){Zr?it(a.DEPTH_TEST):_i(a.DEPTH_TEST)},setMask:function(Zr){tn!==Zr&&!ct&&(a.depthMask(Zr),tn=Zr)},setFunc:function(Zr){if(Kn!==Zr){switch(Zr){case W:a.depthFunc(a.NEVER);break;case se:a.depthFunc(a.ALWAYS);break;case te:a.depthFunc(a.LESS);break;case ge:a.depthFunc(a.LEQUAL);break;case Le:a.depthFunc(a.EQUAL);break;case De:a.depthFunc(a.GEQUAL);break;case ye:a.depthFunc(a.GREATER);break;case ke:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}Kn=Zr}},setLocked:function(Zr){ct=Zr},setClear:function(Zr){Rr!==Zr&&(a.clearDepth(Zr),Rr=Zr)},reset:function(){ct=!1,tn=null,Kn=null,Rr=null}}}function l(){let ct=!1,tn=null,Kn=null,Rr=null,Zr=null,Ho=null,zo=null,Ea=null,vc=null;return{setTest:function(bs){ct||(bs?it(a.STENCIL_TEST):_i(a.STENCIL_TEST))},setMask:function(bs){tn!==bs&&!ct&&(a.stencilMask(bs),tn=bs)},setFunc:function(bs,O1,Ml){(Kn!==bs||Rr!==O1||Zr!==Ml)&&(a.stencilFunc(bs,O1,Ml),Kn=bs,Rr=O1,Zr=Ml)},setOp:function(bs,O1,Ml){(Ho!==bs||zo!==O1||Ea!==Ml)&&(a.stencilOp(bs,O1,Ml),Ho=bs,zo=O1,Ea=Ml)},setLocked:function(bs){ct=bs},setClear:function(bs){vc!==bs&&(a.clearStencil(bs),vc=bs)},reset:function(){ct=!1,tn=null,Kn=null,Rr=null,Zr=null,Ho=null,zo=null,Ea=null,vc=null}}}const c=new r,f=new o,d=new l,m=new WeakMap,g=new WeakMap;let v={},C={},y=new WeakMap,A=[],M=null,x=!1,U=null,O=null,ne=null,ue=null,we=null,Ve=null,et=null,j=!1,Re=null,kt=null,pn=null,Mt=null,Bt=null;const Xt=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Nn=!1,Pn=0;const Ln=a.getParameter(a.VERSION);Ln.indexOf("WebGL")!==-1?(Pn=parseFloat(/^WebGL (\d)/.exec(Ln)[1]),Nn=Pn>=1):Ln.indexOf("OpenGL ES")!==-1&&(Pn=parseFloat(/^OpenGL ES (\d)/.exec(Ln)[1]),Nn=Pn>=2);let Bn=null,Gn={};const Ir=a.getParameter(a.SCISSOR_BOX),yr=a.getParameter(a.VIEWPORT),Jt=new Br().fromArray(Ir),On=new Br().fromArray(yr);function mr(ct,tn,Kn,Rr){const Zr=new Uint8Array(4),Ho=a.createTexture();a.bindTexture(ct,Ho),a.texParameteri(ct,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(ct,a.TEXTURE_MAG_FILTER,a.NEAREST);for(let zo=0;zo<Kn;zo++)n&&(ct===a.TEXTURE_3D||ct===a.TEXTURE_2D_ARRAY)?a.texImage3D(tn,0,a.RGBA,1,1,Rr,0,a.RGBA,a.UNSIGNED_BYTE,Zr):a.texImage2D(tn+zo,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,Zr);return Ho}const wr={};wr[a.TEXTURE_2D]=mr(a.TEXTURE_2D,a.TEXTURE_2D,1),wr[a.TEXTURE_CUBE_MAP]=mr(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6),n&&(wr[a.TEXTURE_2D_ARRAY]=mr(a.TEXTURE_2D_ARRAY,a.TEXTURE_2D_ARRAY,1,1),wr[a.TEXTURE_3D]=mr(a.TEXTURE_3D,a.TEXTURE_3D,1,1)),c.setClear(0,0,0,1),f.setClear(1),d.setClear(0),it(a.DEPTH_TEST),f.setFunc(ge),vr(!1),ci(qe),it(a.CULL_FACE),Vn(Hn);function it(ct){v[ct]!==!0&&(a.enable(ct),v[ct]=!0)}function _i(ct){v[ct]!==!1&&(a.disable(ct),v[ct]=!1)}function bi(ct,tn){return C[ct]!==tn?(a.bindFramebuffer(ct,tn),C[ct]=tn,n&&(ct===a.DRAW_FRAMEBUFFER&&(C[a.FRAMEBUFFER]=tn),ct===a.FRAMEBUFFER&&(C[a.DRAW_FRAMEBUFFER]=tn)),!0):!1}function lr(ct,tn){let Kn=A,Rr=!1;if(ct)if(Kn=y.get(tn),Kn===void 0&&(Kn=[],y.set(tn,Kn)),ct.isWebGLMultipleRenderTargets){const Zr=ct.texture;if(Kn.length!==Zr.length||Kn[0]!==a.COLOR_ATTACHMENT0){for(let Ho=0,zo=Zr.length;Ho<zo;Ho++)Kn[Ho]=a.COLOR_ATTACHMENT0+Ho;Kn.length=Zr.length,Rr=!0}}else Kn[0]!==a.COLOR_ATTACHMENT0&&(Kn[0]=a.COLOR_ATTACHMENT0,Rr=!0);else Kn[0]!==a.BACK&&(Kn[0]=a.BACK,Rr=!0);Rr&&(t.isWebGL2?a.drawBuffers(Kn):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Kn))}function $r(ct){return M!==ct?(a.useProgram(ct),M=ct,!0):!1}const Un={[Kt]:a.FUNC_ADD,[Cn]:a.FUNC_SUBTRACT,[ln]:a.FUNC_REVERSE_SUBTRACT};if(n)Un[Wt]=a.MIN,Un[An]=a.MAX;else{const ct=e.get("EXT_blend_minmax");ct!==null&&(Un[Wt]=ct.MIN_EXT,Un[An]=ct.MAX_EXT)}const mn={[Yt]:a.ZERO,[Me]:a.ONE,[Ke]:a.SRC_COLOR,[nt]:a.SRC_ALPHA,[me]:a.SRC_ALPHA_SATURATE,[F]:a.DST_COLOR,[Oe]:a.DST_ALPHA,[ae]:a.ONE_MINUS_SRC_COLOR,[Ae]:a.ONE_MINUS_SRC_ALPHA,[K]:a.ONE_MINUS_DST_COLOR,[Ce]:a.ONE_MINUS_DST_ALPHA};function Vn(ct,tn,Kn,Rr,Zr,Ho,zo,Ea){if(ct===Hn){x===!0&&(_i(a.BLEND),x=!1);return}if(x===!1&&(it(a.BLEND),x=!0),ct!==vn){if(ct!==U||Ea!==j){if((O!==Kt||we!==Kt)&&(a.blendEquation(a.FUNC_ADD),O=Kt,we=Kt),Ea)switch(ct){case fn:a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case gn:a.blendFunc(a.ONE,a.ONE);break;case ot:a.blendFuncSeparate(a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ZERO,a.ONE);break;case At:a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ZERO,a.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ct);break}else switch(ct){case fn:a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case gn:a.blendFunc(a.SRC_ALPHA,a.ONE);break;case ot:a.blendFuncSeparate(a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ZERO,a.ONE);break;case At:a.blendFunc(a.ZERO,a.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ct);break}ne=null,ue=null,Ve=null,et=null,U=ct,j=Ea}return}Zr=Zr||tn,Ho=Ho||Kn,zo=zo||Rr,(tn!==O||Zr!==we)&&(a.blendEquationSeparate(Un[tn],Un[Zr]),O=tn,we=Zr),(Kn!==ne||Rr!==ue||Ho!==Ve||zo!==et)&&(a.blendFuncSeparate(mn[Kn],mn[Rr],mn[Ho],mn[zo]),ne=Kn,ue=Rr,Ve=Ho,et=zo),U=ct,j=!1}function Hr(ct,tn){ct.side===Lt?_i(a.CULL_FACE):it(a.CULL_FACE);let Kn=ct.side===mt;tn&&(Kn=!Kn),vr(Kn),ct.blending===fn&&ct.transparent===!1?Vn(Hn):Vn(ct.blending,ct.blendEquation,ct.blendSrc,ct.blendDst,ct.blendEquationAlpha,ct.blendSrcAlpha,ct.blendDstAlpha,ct.premultipliedAlpha),f.setFunc(ct.depthFunc),f.setTest(ct.depthTest),f.setMask(ct.depthWrite),c.setMask(ct.colorWrite);const Rr=ct.stencilWrite;d.setTest(Rr),Rr&&(d.setMask(ct.stencilWriteMask),d.setFunc(ct.stencilFunc,ct.stencilRef,ct.stencilFuncMask),d.setOp(ct.stencilFail,ct.stencilZFail,ct.stencilZPass)),ni(ct.polygonOffset,ct.polygonOffsetFactor,ct.polygonOffsetUnits),ct.alphaToCoverage===!0?it(a.SAMPLE_ALPHA_TO_COVERAGE):_i(a.SAMPLE_ALPHA_TO_COVERAGE)}function vr(ct){Re!==ct&&(ct?a.frontFace(a.CW):a.frontFace(a.CCW),Re=ct)}function ci(ct){ct!==Ne?(it(a.CULL_FACE),ct!==kt&&(ct===qe?a.cullFace(a.BACK):ct===xt?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):_i(a.CULL_FACE),kt=ct}function ui(ct){ct!==pn&&(Nn&&a.lineWidth(ct),pn=ct)}function ni(ct,tn,Kn){ct?(it(a.POLYGON_OFFSET_FILL),(Mt!==tn||Bt!==Kn)&&(a.polygonOffset(tn,Kn),Mt=tn,Bt=Kn)):_i(a.POLYGON_OFFSET_FILL)}function Xi(ct){ct?it(a.SCISSOR_TEST):_i(a.SCISSOR_TEST)}function _o(ct){ct===void 0&&(ct=a.TEXTURE0+Xt-1),Bn!==ct&&(a.activeTexture(ct),Bn=ct)}function He(ct,tn,Kn){Kn===void 0&&(Bn===null?Kn=a.TEXTURE0+Xt-1:Kn=Bn);let Rr=Gn[Kn];Rr===void 0&&(Rr={type:void 0,texture:void 0},Gn[Kn]=Rr),(Rr.type!==ct||Rr.texture!==tn)&&(Bn!==Kn&&(a.activeTexture(Kn),Bn=Kn),a.bindTexture(ct,tn||wr[ct]),Rr.type=ct,Rr.texture=tn)}function fe(){const ct=Gn[Bn];ct!==void 0&&ct.type!==void 0&&(a.bindTexture(ct.type,null),ct.type=void 0,ct.texture=void 0)}function Gt(){try{a.compressedTexImage2D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Xn(){try{a.compressedTexImage3D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function tr(){try{a.texSubImage2D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function xr(){try{a.texSubImage3D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function mi(){try{a.compressedTexSubImage2D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Or(){try{a.compressedTexSubImage3D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function un(){try{a.texStorage2D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Fr(){try{a.texStorage3D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function ri(){try{a.texImage2D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function fi(){try{a.texImage3D.apply(a,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function zr(ct){Jt.equals(ct)===!1&&(a.scissor(ct.x,ct.y,ct.z,ct.w),Jt.copy(ct))}function Xr(ct){On.equals(ct)===!1&&(a.viewport(ct.x,ct.y,ct.z,ct.w),On.copy(ct))}function uo(ct,tn){let Kn=g.get(tn);Kn===void 0&&(Kn=new WeakMap,g.set(tn,Kn));let Rr=Kn.get(ct);Rr===void 0&&(Rr=a.getUniformBlockIndex(tn,ct.name),Kn.set(ct,Rr))}function Io(ct,tn){const Rr=g.get(tn).get(ct);m.get(tn)!==Rr&&(a.uniformBlockBinding(tn,Rr,ct.__bindingPointIndex),m.set(tn,Rr))}function Ms(){a.disable(a.BLEND),a.disable(a.CULL_FACE),a.disable(a.DEPTH_TEST),a.disable(a.POLYGON_OFFSET_FILL),a.disable(a.SCISSOR_TEST),a.disable(a.STENCIL_TEST),a.disable(a.SAMPLE_ALPHA_TO_COVERAGE),a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ZERO),a.blendFuncSeparate(a.ONE,a.ZERO,a.ONE,a.ZERO),a.colorMask(!0,!0,!0,!0),a.clearColor(0,0,0,0),a.depthMask(!0),a.depthFunc(a.LESS),a.clearDepth(1),a.stencilMask(4294967295),a.stencilFunc(a.ALWAYS,0,4294967295),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),a.clearStencil(0),a.cullFace(a.BACK),a.frontFace(a.CCW),a.polygonOffset(0,0),a.activeTexture(a.TEXTURE0),a.bindFramebuffer(a.FRAMEBUFFER,null),n===!0&&(a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null),a.bindFramebuffer(a.READ_FRAMEBUFFER,null)),a.useProgram(null),a.lineWidth(1),a.scissor(0,0,a.canvas.width,a.canvas.height),a.viewport(0,0,a.canvas.width,a.canvas.height),v={},Bn=null,Gn={},C={},y=new WeakMap,A=[],M=null,x=!1,U=null,O=null,ne=null,ue=null,we=null,Ve=null,et=null,j=!1,Re=null,kt=null,pn=null,Mt=null,Bt=null,Jt.set(0,0,a.canvas.width,a.canvas.height),On.set(0,0,a.canvas.width,a.canvas.height),c.reset(),f.reset(),d.reset()}return{buffers:{color:c,depth:f,stencil:d},enable:it,disable:_i,bindFramebuffer:bi,drawBuffers:lr,useProgram:$r,setBlending:Vn,setMaterial:Hr,setFlipSided:vr,setCullFace:ci,setLineWidth:ui,setPolygonOffset:ni,setScissorTest:Xi,activeTexture:_o,bindTexture:He,unbindTexture:fe,compressedTexImage2D:Gt,compressedTexImage3D:Xn,texImage2D:ri,texImage3D:fi,updateUBOMapping:uo,uniformBlockBinding:Io,texStorage2D:un,texStorage3D:Fr,texSubImage2D:tr,texSubImage3D:xr,compressedTexSubImage2D:mi,compressedTexSubImage3D:Or,scissor:zr,viewport:Xr,reset:Ms}}function f5(a,e,t,n,r,o,l){const c=r.isWebGL2,f=r.maxTextures,d=r.maxCubemapSize,m=r.maxTextureSize,g=r.maxSamples,v=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,C=typeof navigator=="undefined"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let A;const M=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(He){}function U(He,fe){return x?new OffscreenCanvas(He,fe):Ji("canvas")}function O(He,fe,Gt,Xn){let tr=1;if((He.width>Xn||He.height>Xn)&&(tr=Xn/Math.max(He.width,He.height)),tr<1||fe===!0)if(typeof HTMLImageElement!="undefined"&&He instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&He instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&He instanceof ImageBitmap){const xr=fe?ko:Math.floor,mi=xr(tr*He.width),Or=xr(tr*He.height);A===void 0&&(A=U(mi,Or));const un=Gt?U(mi,Or):A;return un.width=mi,un.height=Or,un.getContext("2d").drawImage(He,0,0,mi,Or),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+He.width+"x"+He.height+") to ("+mi+"x"+Or+")."),un}else return"data"in He&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+He.width+"x"+He.height+")."),He;return He}function ne(He){return Vs(He.width)&&Vs(He.height)}function ue(He){return c?!1:He.wrapS!==jt||He.wrapT!==jt||He.minFilter!==en&&He.minFilter!==Zn}function we(He,fe){return He.generateMipmaps&&fe&&He.minFilter!==en&&He.minFilter!==Zn}function Ve(He){a.generateMipmap(He)}function et(He,fe,Gt,Xn,tr=!1){if(c===!1)return fe;if(He!==null){if(a[He]!==void 0)return a[He];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+He+"'")}let xr=fe;return fe===a.RED&&(Gt===a.FLOAT&&(xr=a.R32F),Gt===a.HALF_FLOAT&&(xr=a.R16F),Gt===a.UNSIGNED_BYTE&&(xr=a.R8)),fe===a.RG&&(Gt===a.FLOAT&&(xr=a.RG32F),Gt===a.HALF_FLOAT&&(xr=a.RG16F),Gt===a.UNSIGNED_BYTE&&(xr=a.RG8)),fe===a.RGBA&&(Gt===a.FLOAT&&(xr=a.RGBA32F),Gt===a.HALF_FLOAT&&(xr=a.RGBA16F),Gt===a.UNSIGNED_BYTE&&(xr=Xn===Vr&&tr===!1?a.SRGB8_ALPHA8:a.RGBA8),Gt===a.UNSIGNED_SHORT_4_4_4_4&&(xr=a.RGBA4),Gt===a.UNSIGNED_SHORT_5_5_5_1&&(xr=a.RGB5_A1)),(xr===a.R16F||xr===a.R32F||xr===a.RG16F||xr===a.RG32F||xr===a.RGBA16F||xr===a.RGBA32F)&&e.get("EXT_color_buffer_float"),xr}function j(He,fe,Gt){return we(He,Gt)===!0||He.isFramebufferTexture&&He.minFilter!==en&&He.minFilter!==Zn?Math.log2(Math.max(fe.width,fe.height))+1:He.mipmaps!==void 0&&He.mipmaps.length>0?He.mipmaps.length:He.isCompressedTexture&&Array.isArray(He.image)?fe.mipmaps.length:1}function Re(He){return He===en||He===Mn||He===rr?a.NEAREST:a.LINEAR}function kt(He){const fe=He.target;fe.removeEventListener("dispose",kt),Mt(fe),fe.isVideoTexture&&y.delete(fe)}function pn(He){const fe=He.target;fe.removeEventListener("dispose",pn),Xt(fe)}function Mt(He){const fe=n.get(He);if(fe.__webglInit===void 0)return;const Gt=He.source,Xn=M.get(Gt);if(Xn){const tr=Xn[fe.__cacheKey];tr.usedTimes--,tr.usedTimes===0&&Bt(He),Object.keys(Xn).length===0&&M.delete(Gt)}n.remove(He)}function Bt(He){const fe=n.get(He);a.deleteTexture(fe.__webglTexture);const Gt=He.source,Xn=M.get(Gt);delete Xn[fe.__cacheKey],l.memory.textures--}function Xt(He){const fe=He.texture,Gt=n.get(He),Xn=n.get(fe);if(Xn.__webglTexture!==void 0&&(a.deleteTexture(Xn.__webglTexture),l.memory.textures--),He.depthTexture&&He.depthTexture.dispose(),He.isWebGLCubeRenderTarget)for(let tr=0;tr<6;tr++)a.deleteFramebuffer(Gt.__webglFramebuffer[tr]),Gt.__webglDepthbuffer&&a.deleteRenderbuffer(Gt.__webglDepthbuffer[tr]);else{if(a.deleteFramebuffer(Gt.__webglFramebuffer),Gt.__webglDepthbuffer&&a.deleteRenderbuffer(Gt.__webglDepthbuffer),Gt.__webglMultisampledFramebuffer&&a.deleteFramebuffer(Gt.__webglMultisampledFramebuffer),Gt.__webglColorRenderbuffer)for(let tr=0;tr<Gt.__webglColorRenderbuffer.length;tr++)Gt.__webglColorRenderbuffer[tr]&&a.deleteRenderbuffer(Gt.__webglColorRenderbuffer[tr]);Gt.__webglDepthRenderbuffer&&a.deleteRenderbuffer(Gt.__webglDepthRenderbuffer)}if(He.isWebGLMultipleRenderTargets)for(let tr=0,xr=fe.length;tr<xr;tr++){const mi=n.get(fe[tr]);mi.__webglTexture&&(a.deleteTexture(mi.__webglTexture),l.memory.textures--),n.remove(fe[tr])}n.remove(fe),n.remove(He)}let Nn=0;function Pn(){Nn=0}function Ln(){const He=Nn;return He>=f&&console.warn("THREE.WebGLTextures: Trying to use "+He+" texture units while this GPU supports only "+f),Nn+=1,He}function Bn(He){const fe=[];return fe.push(He.wrapS),fe.push(He.wrapT),fe.push(He.wrapR||0),fe.push(He.magFilter),fe.push(He.minFilter),fe.push(He.anisotropy),fe.push(He.internalFormat),fe.push(He.format),fe.push(He.type),fe.push(He.generateMipmaps),fe.push(He.premultiplyAlpha),fe.push(He.flipY),fe.push(He.unpackAlignment),fe.push(He.colorSpace),fe.join()}function Gn(He,fe){const Gt=n.get(He);if(He.isVideoTexture&&Xi(He),He.isRenderTargetTexture===!1&&He.version>0&&Gt.__version!==He.version){const Xn=He.image;if(Xn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Xn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{_i(Gt,He,fe);return}}t.bindTexture(a.TEXTURE_2D,Gt.__webglTexture,a.TEXTURE0+fe)}function Ir(He,fe){const Gt=n.get(He);if(He.version>0&&Gt.__version!==He.version){_i(Gt,He,fe);return}t.bindTexture(a.TEXTURE_2D_ARRAY,Gt.__webglTexture,a.TEXTURE0+fe)}function yr(He,fe){const Gt=n.get(He);if(He.version>0&&Gt.__version!==He.version){_i(Gt,He,fe);return}t.bindTexture(a.TEXTURE_3D,Gt.__webglTexture,a.TEXTURE0+fe)}function Jt(He,fe){const Gt=n.get(He);if(He.version>0&&Gt.__version!==He.version){bi(Gt,He,fe);return}t.bindTexture(a.TEXTURE_CUBE_MAP,Gt.__webglTexture,a.TEXTURE0+fe)}const On={[Tt]:a.REPEAT,[jt]:a.CLAMP_TO_EDGE,[_n]:a.MIRRORED_REPEAT},mr={[en]:a.NEAREST,[Mn]:a.NEAREST_MIPMAP_NEAREST,[rr]:a.NEAREST_MIPMAP_LINEAR,[Zn]:a.LINEAR,[ve]:a.LINEAR_MIPMAP_NEAREST,[$e]:a.LINEAR_MIPMAP_LINEAR};function wr(He,fe,Gt){if(Gt?(a.texParameteri(He,a.TEXTURE_WRAP_S,On[fe.wrapS]),a.texParameteri(He,a.TEXTURE_WRAP_T,On[fe.wrapT]),(He===a.TEXTURE_3D||He===a.TEXTURE_2D_ARRAY)&&a.texParameteri(He,a.TEXTURE_WRAP_R,On[fe.wrapR]),a.texParameteri(He,a.TEXTURE_MAG_FILTER,mr[fe.magFilter]),a.texParameteri(He,a.TEXTURE_MIN_FILTER,mr[fe.minFilter])):(a.texParameteri(He,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(He,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),(He===a.TEXTURE_3D||He===a.TEXTURE_2D_ARRAY)&&a.texParameteri(He,a.TEXTURE_WRAP_R,a.CLAMP_TO_EDGE),(fe.wrapS!==jt||fe.wrapT!==jt)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),a.texParameteri(He,a.TEXTURE_MAG_FILTER,Re(fe.magFilter)),a.texParameteri(He,a.TEXTURE_MIN_FILTER,Re(fe.minFilter)),fe.minFilter!==en&&fe.minFilter!==Zn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Xn=e.get("EXT_texture_filter_anisotropic");if(fe.magFilter===en||fe.minFilter!==rr&&fe.minFilter!==$e||fe.type===oe&&e.has("OES_texture_float_linear")===!1||c===!1&&fe.type===Ge&&e.has("OES_texture_half_float_linear")===!1)return;(fe.anisotropy>1||n.get(fe).__currentAnisotropy)&&(a.texParameterf(He,Xn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(fe.anisotropy,r.getMaxAnisotropy())),n.get(fe).__currentAnisotropy=fe.anisotropy)}}function it(He,fe){let Gt=!1;He.__webglInit===void 0&&(He.__webglInit=!0,fe.addEventListener("dispose",kt));const Xn=fe.source;let tr=M.get(Xn);tr===void 0&&(tr={},M.set(Xn,tr));const xr=Bn(fe);if(xr!==He.__cacheKey){tr[xr]===void 0&&(tr[xr]={texture:a.createTexture(),usedTimes:0},l.memory.textures++,Gt=!0),tr[xr].usedTimes++;const mi=tr[He.__cacheKey];mi!==void 0&&(tr[He.__cacheKey].usedTimes--,mi.usedTimes===0&&Bt(fe)),He.__cacheKey=xr,He.__webglTexture=tr[xr].texture}return Gt}function _i(He,fe,Gt){let Xn=a.TEXTURE_2D;(fe.isDataArrayTexture||fe.isCompressedArrayTexture)&&(Xn=a.TEXTURE_2D_ARRAY),fe.isData3DTexture&&(Xn=a.TEXTURE_3D);const tr=it(He,fe),xr=fe.source;t.bindTexture(Xn,He.__webglTexture,a.TEXTURE0+Gt);const mi=n.get(xr);if(xr.version!==mi.__version||tr===!0){t.activeTexture(a.TEXTURE0+Gt),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,fe.flipY),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),a.pixelStorei(a.UNPACK_ALIGNMENT,fe.unpackAlignment),a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,a.NONE);const Or=ue(fe)&&ne(fe.image)===!1;let un=O(fe.image,Or,!1,m);un=_o(fe,un);const Fr=ne(un)||c,ri=o.convert(fe.format,fe.colorSpace);let fi=o.convert(fe.type),zr=et(fe.internalFormat,ri,fi,fe.colorSpace);wr(Xn,fe,Fr);let Xr;const uo=fe.mipmaps,Io=c&&fe.isVideoTexture!==!0,Ms=mi.__version===void 0||tr===!0,ct=j(fe,un,Fr);if(fe.isDepthTexture)zr=a.DEPTH_COMPONENT,c?fe.type===oe?zr=a.DEPTH_COMPONENT32F:fe.type===lt?zr=a.DEPTH_COMPONENT24:fe.type===jn?zr=a.DEPTH24_STENCIL8:zr=a.DEPTH_COMPONENT16:fe.type===oe&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),fe.format===ei&&zr===a.DEPTH_COMPONENT&&fe.type!==Nt&&fe.type!==lt&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),fe.type=lt,fi=o.convert(fe.type)),fe.format===ti&&zr===a.DEPTH_COMPONENT&&(zr=a.DEPTH_STENCIL,fe.type!==jn&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),fe.type=jn,fi=o.convert(fe.type))),Ms&&(Io?t.texStorage2D(a.TEXTURE_2D,1,zr,un.width,un.height):t.texImage2D(a.TEXTURE_2D,0,zr,un.width,un.height,0,ri,fi,null));else if(fe.isDataTexture)if(uo.length>0&&Fr){Io&&Ms&&t.texStorage2D(a.TEXTURE_2D,ct,zr,uo[0].width,uo[0].height);for(let tn=0,Kn=uo.length;tn<Kn;tn++)Xr=uo[tn],Io?t.texSubImage2D(a.TEXTURE_2D,tn,0,0,Xr.width,Xr.height,ri,fi,Xr.data):t.texImage2D(a.TEXTURE_2D,tn,zr,Xr.width,Xr.height,0,ri,fi,Xr.data);fe.generateMipmaps=!1}else Io?(Ms&&t.texStorage2D(a.TEXTURE_2D,ct,zr,un.width,un.height),t.texSubImage2D(a.TEXTURE_2D,0,0,0,un.width,un.height,ri,fi,un.data)):t.texImage2D(a.TEXTURE_2D,0,zr,un.width,un.height,0,ri,fi,un.data);else if(fe.isCompressedTexture)if(fe.isCompressedArrayTexture){Io&&Ms&&t.texStorage3D(a.TEXTURE_2D_ARRAY,ct,zr,uo[0].width,uo[0].height,un.depth);for(let tn=0,Kn=uo.length;tn<Kn;tn++)Xr=uo[tn],fe.format!==Lr?ri!==null?Io?t.compressedTexSubImage3D(a.TEXTURE_2D_ARRAY,tn,0,0,0,Xr.width,Xr.height,un.depth,ri,Xr.data,0,0):t.compressedTexImage3D(a.TEXTURE_2D_ARRAY,tn,zr,Xr.width,Xr.height,un.depth,0,Xr.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Io?t.texSubImage3D(a.TEXTURE_2D_ARRAY,tn,0,0,0,Xr.width,Xr.height,un.depth,ri,fi,Xr.data):t.texImage3D(a.TEXTURE_2D_ARRAY,tn,zr,Xr.width,Xr.height,un.depth,0,ri,fi,Xr.data)}else{Io&&Ms&&t.texStorage2D(a.TEXTURE_2D,ct,zr,uo[0].width,uo[0].height);for(let tn=0,Kn=uo.length;tn<Kn;tn++)Xr=uo[tn],fe.format!==Lr?ri!==null?Io?t.compressedTexSubImage2D(a.TEXTURE_2D,tn,0,0,Xr.width,Xr.height,ri,Xr.data):t.compressedTexImage2D(a.TEXTURE_2D,tn,zr,Xr.width,Xr.height,0,Xr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Io?t.texSubImage2D(a.TEXTURE_2D,tn,0,0,Xr.width,Xr.height,ri,fi,Xr.data):t.texImage2D(a.TEXTURE_2D,tn,zr,Xr.width,Xr.height,0,ri,fi,Xr.data)}else if(fe.isDataArrayTexture)Io?(Ms&&t.texStorage3D(a.TEXTURE_2D_ARRAY,ct,zr,un.width,un.height,un.depth),t.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,0,un.width,un.height,un.depth,ri,fi,un.data)):t.texImage3D(a.TEXTURE_2D_ARRAY,0,zr,un.width,un.height,un.depth,0,ri,fi,un.data);else if(fe.isData3DTexture)Io?(Ms&&t.texStorage3D(a.TEXTURE_3D,ct,zr,un.width,un.height,un.depth),t.texSubImage3D(a.TEXTURE_3D,0,0,0,0,un.width,un.height,un.depth,ri,fi,un.data)):t.texImage3D(a.TEXTURE_3D,0,zr,un.width,un.height,un.depth,0,ri,fi,un.data);else if(fe.isFramebufferTexture){if(Ms)if(Io)t.texStorage2D(a.TEXTURE_2D,ct,zr,un.width,un.height);else{let tn=un.width,Kn=un.height;for(let Rr=0;Rr<ct;Rr++)t.texImage2D(a.TEXTURE_2D,Rr,zr,tn,Kn,0,ri,fi,null),tn>>=1,Kn>>=1}}else if(uo.length>0&&Fr){Io&&Ms&&t.texStorage2D(a.TEXTURE_2D,ct,zr,uo[0].width,uo[0].height);for(let tn=0,Kn=uo.length;tn<Kn;tn++)Xr=uo[tn],Io?t.texSubImage2D(a.TEXTURE_2D,tn,0,0,ri,fi,Xr):t.texImage2D(a.TEXTURE_2D,tn,zr,ri,fi,Xr);fe.generateMipmaps=!1}else Io?(Ms&&t.texStorage2D(a.TEXTURE_2D,ct,zr,un.width,un.height),t.texSubImage2D(a.TEXTURE_2D,0,0,0,ri,fi,un)):t.texImage2D(a.TEXTURE_2D,0,zr,ri,fi,un);we(fe,Fr)&&Ve(Xn),mi.__version=xr.version,fe.onUpdate&&fe.onUpdate(fe)}He.__version=fe.version}function bi(He,fe,Gt){if(fe.image.length!==6)return;const Xn=it(He,fe),tr=fe.source;t.bindTexture(a.TEXTURE_CUBE_MAP,He.__webglTexture,a.TEXTURE0+Gt);const xr=n.get(tr);if(tr.version!==xr.__version||Xn===!0){t.activeTexture(a.TEXTURE0+Gt),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,fe.flipY),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),a.pixelStorei(a.UNPACK_ALIGNMENT,fe.unpackAlignment),a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,a.NONE);const mi=fe.isCompressedTexture||fe.image[0].isCompressedTexture,Or=fe.image[0]&&fe.image[0].isDataTexture,un=[];for(let tn=0;tn<6;tn++)!mi&&!Or?un[tn]=O(fe.image[tn],!1,!0,d):un[tn]=Or?fe.image[tn].image:fe.image[tn],un[tn]=_o(fe,un[tn]);const Fr=un[0],ri=ne(Fr)||c,fi=o.convert(fe.format,fe.colorSpace),zr=o.convert(fe.type),Xr=et(fe.internalFormat,fi,zr,fe.colorSpace),uo=c&&fe.isVideoTexture!==!0,Io=xr.__version===void 0||Xn===!0;let Ms=j(fe,Fr,ri);wr(a.TEXTURE_CUBE_MAP,fe,ri);let ct;if(mi){uo&&Io&&t.texStorage2D(a.TEXTURE_CUBE_MAP,Ms,Xr,Fr.width,Fr.height);for(let tn=0;tn<6;tn++){ct=un[tn].mipmaps;for(let Kn=0;Kn<ct.length;Kn++){const Rr=ct[Kn];fe.format!==Lr?fi!==null?uo?t.compressedTexSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+tn,Kn,0,0,Rr.width,Rr.height,fi,Rr.data):t.compressedTexImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+tn,Kn,Xr,Rr.width,Rr.height,0,Rr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):uo?t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+tn,Kn,0,0,Rr.width,Rr.height,fi,zr,Rr.data):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+tn,Kn,Xr,Rr.width,Rr.height,0,fi,zr,Rr.data)}}}else{ct=fe.mipmaps,uo&&Io&&(ct.length>0&&Ms++,t.texStorage2D(a.TEXTURE_CUBE_MAP,Ms,Xr,un[0].width,un[0].height));for(let tn=0;tn<6;tn++)if(Or){uo?t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+tn,0,0,0,un[tn].width,un[tn].height,fi,zr,un[tn].data):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+tn,0,Xr,un[tn].width,un[tn].height,0,fi,zr,un[tn].data);for(let Kn=0;Kn<ct.length;Kn++){const Zr=ct[Kn].image[tn].image;uo?t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+tn,Kn+1,0,0,Zr.width,Zr.height,fi,zr,Zr.data):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+tn,Kn+1,Xr,Zr.width,Zr.height,0,fi,zr,Zr.data)}}else{uo?t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+tn,0,0,0,fi,zr,un[tn]):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+tn,0,Xr,fi,zr,un[tn]);for(let Kn=0;Kn<ct.length;Kn++){const Rr=ct[Kn];uo?t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+tn,Kn+1,0,0,fi,zr,Rr.image[tn]):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+tn,Kn+1,Xr,fi,zr,Rr.image[tn])}}}we(fe,ri)&&Ve(a.TEXTURE_CUBE_MAP),xr.__version=tr.version,fe.onUpdate&&fe.onUpdate(fe)}He.__version=fe.version}function lr(He,fe,Gt,Xn,tr){const xr=o.convert(Gt.format,Gt.colorSpace),mi=o.convert(Gt.type),Or=et(Gt.internalFormat,xr,mi,Gt.colorSpace);n.get(fe).__hasExternalTextures||(tr===a.TEXTURE_3D||tr===a.TEXTURE_2D_ARRAY?t.texImage3D(tr,0,Or,fe.width,fe.height,fe.depth,0,xr,mi,null):t.texImage2D(tr,0,Or,fe.width,fe.height,0,xr,mi,null)),t.bindFramebuffer(a.FRAMEBUFFER,He),ni(fe)?v.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,Xn,tr,n.get(Gt).__webglTexture,0,ui(fe)):(tr===a.TEXTURE_2D||tr>=a.TEXTURE_CUBE_MAP_POSITIVE_X&&tr<=a.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&a.framebufferTexture2D(a.FRAMEBUFFER,Xn,tr,n.get(Gt).__webglTexture,0),t.bindFramebuffer(a.FRAMEBUFFER,null)}function $r(He,fe,Gt){if(a.bindRenderbuffer(a.RENDERBUFFER,He),fe.depthBuffer&&!fe.stencilBuffer){let Xn=a.DEPTH_COMPONENT16;if(Gt||ni(fe)){const tr=fe.depthTexture;tr&&tr.isDepthTexture&&(tr.type===oe?Xn=a.DEPTH_COMPONENT32F:tr.type===lt&&(Xn=a.DEPTH_COMPONENT24));const xr=ui(fe);ni(fe)?v.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,xr,Xn,fe.width,fe.height):a.renderbufferStorageMultisample(a.RENDERBUFFER,xr,Xn,fe.width,fe.height)}else a.renderbufferStorage(a.RENDERBUFFER,Xn,fe.width,fe.height);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,He)}else if(fe.depthBuffer&&fe.stencilBuffer){const Xn=ui(fe);Gt&&ni(fe)===!1?a.renderbufferStorageMultisample(a.RENDERBUFFER,Xn,a.DEPTH24_STENCIL8,fe.width,fe.height):ni(fe)?v.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,Xn,a.DEPTH24_STENCIL8,fe.width,fe.height):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,fe.width,fe.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,He)}else{const Xn=fe.isWebGLMultipleRenderTargets===!0?fe.texture:[fe.texture];for(let tr=0;tr<Xn.length;tr++){const xr=Xn[tr],mi=o.convert(xr.format,xr.colorSpace),Or=o.convert(xr.type),un=et(xr.internalFormat,mi,Or,xr.colorSpace),Fr=ui(fe);Gt&&ni(fe)===!1?a.renderbufferStorageMultisample(a.RENDERBUFFER,Fr,un,fe.width,fe.height):ni(fe)?v.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,Fr,un,fe.width,fe.height):a.renderbufferStorage(a.RENDERBUFFER,un,fe.width,fe.height)}}a.bindRenderbuffer(a.RENDERBUFFER,null)}function Un(He,fe){if(fe&&fe.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(a.FRAMEBUFFER,He),!(fe.depthTexture&&fe.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(fe.depthTexture).__webglTexture||fe.depthTexture.image.width!==fe.width||fe.depthTexture.image.height!==fe.height)&&(fe.depthTexture.image.width=fe.width,fe.depthTexture.image.height=fe.height,fe.depthTexture.needsUpdate=!0),Gn(fe.depthTexture,0);const Xn=n.get(fe.depthTexture).__webglTexture,tr=ui(fe);if(fe.depthTexture.format===ei)ni(fe)?v.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,Xn,0,tr):a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,Xn,0);else if(fe.depthTexture.format===ti)ni(fe)?v.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,Xn,0,tr):a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,Xn,0);else throw new Error("Unknown depthTexture format")}function mn(He){const fe=n.get(He),Gt=He.isWebGLCubeRenderTarget===!0;if(He.depthTexture&&!fe.__autoAllocateDepthBuffer){if(Gt)throw new Error("target.depthTexture not supported in Cube render targets");Un(fe.__webglFramebuffer,He)}else if(Gt){fe.__webglDepthbuffer=[];for(let Xn=0;Xn<6;Xn++)t.bindFramebuffer(a.FRAMEBUFFER,fe.__webglFramebuffer[Xn]),fe.__webglDepthbuffer[Xn]=a.createRenderbuffer(),$r(fe.__webglDepthbuffer[Xn],He,!1)}else t.bindFramebuffer(a.FRAMEBUFFER,fe.__webglFramebuffer),fe.__webglDepthbuffer=a.createRenderbuffer(),$r(fe.__webglDepthbuffer,He,!1);t.bindFramebuffer(a.FRAMEBUFFER,null)}function Vn(He,fe,Gt){const Xn=n.get(He);fe!==void 0&&lr(Xn.__webglFramebuffer,He,He.texture,a.COLOR_ATTACHMENT0,a.TEXTURE_2D),Gt!==void 0&&mn(He)}function Hr(He){const fe=He.texture,Gt=n.get(He),Xn=n.get(fe);He.addEventListener("dispose",pn),He.isWebGLMultipleRenderTargets!==!0&&(Xn.__webglTexture===void 0&&(Xn.__webglTexture=a.createTexture()),Xn.__version=fe.version,l.memory.textures++);const tr=He.isWebGLCubeRenderTarget===!0,xr=He.isWebGLMultipleRenderTargets===!0,mi=ne(He)||c;if(tr){Gt.__webglFramebuffer=[];for(let Or=0;Or<6;Or++)Gt.__webglFramebuffer[Or]=a.createFramebuffer()}else{if(Gt.__webglFramebuffer=a.createFramebuffer(),xr)if(r.drawBuffers){const Or=He.texture;for(let un=0,Fr=Or.length;un<Fr;un++){const ri=n.get(Or[un]);ri.__webglTexture===void 0&&(ri.__webglTexture=a.createTexture(),l.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(c&&He.samples>0&&ni(He)===!1){const Or=xr?fe:[fe];Gt.__webglMultisampledFramebuffer=a.createFramebuffer(),Gt.__webglColorRenderbuffer=[],t.bindFramebuffer(a.FRAMEBUFFER,Gt.__webglMultisampledFramebuffer);for(let un=0;un<Or.length;un++){const Fr=Or[un];Gt.__webglColorRenderbuffer[un]=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,Gt.__webglColorRenderbuffer[un]);const ri=o.convert(Fr.format,Fr.colorSpace),fi=o.convert(Fr.type),zr=et(Fr.internalFormat,ri,fi,Fr.colorSpace,He.isXRRenderTarget===!0),Xr=ui(He);a.renderbufferStorageMultisample(a.RENDERBUFFER,Xr,zr,He.width,He.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+un,a.RENDERBUFFER,Gt.__webglColorRenderbuffer[un])}a.bindRenderbuffer(a.RENDERBUFFER,null),He.depthBuffer&&(Gt.__webglDepthRenderbuffer=a.createRenderbuffer(),$r(Gt.__webglDepthRenderbuffer,He,!0)),t.bindFramebuffer(a.FRAMEBUFFER,null)}}if(tr){t.bindTexture(a.TEXTURE_CUBE_MAP,Xn.__webglTexture),wr(a.TEXTURE_CUBE_MAP,fe,mi);for(let Or=0;Or<6;Or++)lr(Gt.__webglFramebuffer[Or],He,fe,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+Or);we(fe,mi)&&Ve(a.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(xr){const Or=He.texture;for(let un=0,Fr=Or.length;un<Fr;un++){const ri=Or[un],fi=n.get(ri);t.bindTexture(a.TEXTURE_2D,fi.__webglTexture),wr(a.TEXTURE_2D,ri,mi),lr(Gt.__webglFramebuffer,He,ri,a.COLOR_ATTACHMENT0+un,a.TEXTURE_2D),we(ri,mi)&&Ve(a.TEXTURE_2D)}t.unbindTexture()}else{let Or=a.TEXTURE_2D;(He.isWebGL3DRenderTarget||He.isWebGLArrayRenderTarget)&&(c?Or=He.isWebGL3DRenderTarget?a.TEXTURE_3D:a.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Or,Xn.__webglTexture),wr(Or,fe,mi),lr(Gt.__webglFramebuffer,He,fe,a.COLOR_ATTACHMENT0,Or),we(fe,mi)&&Ve(Or),t.unbindTexture()}He.depthBuffer&&mn(He)}function vr(He){const fe=ne(He)||c,Gt=He.isWebGLMultipleRenderTargets===!0?He.texture:[He.texture];for(let Xn=0,tr=Gt.length;Xn<tr;Xn++){const xr=Gt[Xn];if(we(xr,fe)){const mi=He.isWebGLCubeRenderTarget?a.TEXTURE_CUBE_MAP:a.TEXTURE_2D,Or=n.get(xr).__webglTexture;t.bindTexture(mi,Or),Ve(mi),t.unbindTexture()}}}function ci(He){if(c&&He.samples>0&&ni(He)===!1){const fe=He.isWebGLMultipleRenderTargets?He.texture:[He.texture],Gt=He.width,Xn=He.height;let tr=a.COLOR_BUFFER_BIT;const xr=[],mi=He.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT,Or=n.get(He),un=He.isWebGLMultipleRenderTargets===!0;if(un)for(let Fr=0;Fr<fe.length;Fr++)t.bindFramebuffer(a.FRAMEBUFFER,Or.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+Fr,a.RENDERBUFFER,null),t.bindFramebuffer(a.FRAMEBUFFER,Or.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+Fr,a.TEXTURE_2D,null,0);t.bindFramebuffer(a.READ_FRAMEBUFFER,Or.__webglMultisampledFramebuffer),t.bindFramebuffer(a.DRAW_FRAMEBUFFER,Or.__webglFramebuffer);for(let Fr=0;Fr<fe.length;Fr++){xr.push(a.COLOR_ATTACHMENT0+Fr),He.depthBuffer&&xr.push(mi);const ri=Or.__ignoreDepthValues!==void 0?Or.__ignoreDepthValues:!1;if(ri===!1&&(He.depthBuffer&&(tr|=a.DEPTH_BUFFER_BIT),He.stencilBuffer&&(tr|=a.STENCIL_BUFFER_BIT)),un&&a.framebufferRenderbuffer(a.READ_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,Or.__webglColorRenderbuffer[Fr]),ri===!0&&(a.invalidateFramebuffer(a.READ_FRAMEBUFFER,[mi]),a.invalidateFramebuffer(a.DRAW_FRAMEBUFFER,[mi])),un){const fi=n.get(fe[Fr]).__webglTexture;a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,fi,0)}a.blitFramebuffer(0,0,Gt,Xn,0,0,Gt,Xn,tr,a.NEAREST),C&&a.invalidateFramebuffer(a.READ_FRAMEBUFFER,xr)}if(t.bindFramebuffer(a.READ_FRAMEBUFFER,null),t.bindFramebuffer(a.DRAW_FRAMEBUFFER,null),un)for(let Fr=0;Fr<fe.length;Fr++){t.bindFramebuffer(a.FRAMEBUFFER,Or.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+Fr,a.RENDERBUFFER,Or.__webglColorRenderbuffer[Fr]);const ri=n.get(fe[Fr]).__webglTexture;t.bindFramebuffer(a.FRAMEBUFFER,Or.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+Fr,a.TEXTURE_2D,ri,0)}t.bindFramebuffer(a.DRAW_FRAMEBUFFER,Or.__webglMultisampledFramebuffer)}}function ui(He){return Math.min(g,He.samples)}function ni(He){const fe=n.get(He);return c&&He.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&fe.__useRenderToTexture!==!1}function Xi(He){const fe=l.render.frame;y.get(He)!==fe&&(y.set(He,fe),He.update())}function _o(He,fe){const Gt=He.colorSpace,Xn=He.format,tr=He.type;return He.isCompressedTexture===!0||He.format===lo||Gt!==Ko&&Gt!==us&&(Gt===Vr?c===!1?e.has("EXT_sRGB")===!0&&Xn===Lr?(He.format=lo,He.minFilter=Zn,He.generateMipmaps=!1):fe=Y1.sRGBToLinear(fe):(Xn!==Lr||tr!==Pt)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Gt)),fe}this.allocateTextureUnit=Ln,this.resetTextureUnits=Pn,this.setTexture2D=Gn,this.setTexture2DArray=Ir,this.setTexture3D=yr,this.setTextureCube=Jt,this.rebindTextures=Vn,this.setupRenderTarget=Hr,this.updateRenderTargetMipmap=vr,this.updateMultisampleRenderTarget=ci,this.setupDepthRenderbuffer=mn,this.setupFrameBufferTexture=lr,this.useMultisampledRTT=ni}function S2(a,e,t){const n=t.isWebGL2;function r(o,l=us){let c;if(o===Pt)return a.UNSIGNED_BYTE;if(o===Rt)return a.UNSIGNED_SHORT_4_4_4_4;if(o===an)return a.UNSIGNED_SHORT_5_5_5_1;if(o===Dn)return a.BYTE;if(o===bn)return a.SHORT;if(o===Nt)return a.UNSIGNED_SHORT;if(o===$t)return a.INT;if(o===lt)return a.UNSIGNED_INT;if(o===oe)return a.FLOAT;if(o===Ge)return n?a.HALF_FLOAT:(c=e.get("OES_texture_half_float"),c!==null?c.HALF_FLOAT_OES:null);if(o===pr)return a.ALPHA;if(o===Lr)return a.RGBA;if(o===xi)return a.LUMINANCE;if(o===Qr)return a.LUMINANCE_ALPHA;if(o===ei)return a.DEPTH_COMPONENT;if(o===ti)return a.DEPTH_STENCIL;if(o===lo)return c=e.get("EXT_sRGB"),c!==null?c.SRGB_ALPHA_EXT:null;if(o===Yi)return a.RED;if(o===b)return a.RED_INTEGER;if(o===H)return a.RG;if(o===E)return a.RG_INTEGER;if(o===T)return a.RGBA_INTEGER;if(o===Q||o===le||o===We||o===st)if(l===Vr)if(c=e.get("WEBGL_compressed_texture_s3tc_srgb"),c!==null){if(o===Q)return c.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===le)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===We)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===st)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(c=e.get("WEBGL_compressed_texture_s3tc"),c!==null){if(o===Q)return c.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===le)return c.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===We)return c.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===st)return c.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===Qe||o===be||o===Y||o===ie)if(c=e.get("WEBGL_compressed_texture_pvrtc"),c!==null){if(o===Qe)return c.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===be)return c.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===Y)return c.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===ie)return c.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===Ie)return c=e.get("WEBGL_compressed_texture_etc1"),c!==null?c.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===Ze||o===tt)if(c=e.get("WEBGL_compressed_texture_etc"),c!==null){if(o===Ze)return l===Vr?c.COMPRESSED_SRGB8_ETC2:c.COMPRESSED_RGB8_ETC2;if(o===tt)return l===Vr?c.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:c.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===Zt||o===Ft||o===vt||o===dt||o===Ct||o===rn||o===zn||o===Jn||o===qn||o===$n||o===Qn||o===_r||o===En||o===cr)if(c=e.get("WEBGL_compressed_texture_astc"),c!==null){if(o===Zt)return l===Vr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:c.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===Ft)return l===Vr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:c.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===vt)return l===Vr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:c.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===dt)return l===Vr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:c.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===Ct)return l===Vr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:c.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===rn)return l===Vr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:c.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===zn)return l===Vr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:c.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===Jn)return l===Vr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:c.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===qn)return l===Vr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:c.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===$n)return l===Vr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:c.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===Qn)return l===Vr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:c.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===_r)return l===Vr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:c.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===En)return l===Vr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:c.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===cr)return l===Vr?c.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:c.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===Nr)if(c=e.get("EXT_texture_compression_bptc"),c!==null){if(o===Nr)return l===Vr?c.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:c.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(o===yi||o===Wr||o===ho||o===io)if(c=e.get("EXT_texture_compression_rgtc"),c!==null){if(o===Nr)return c.COMPRESSED_RED_RGTC1_EXT;if(o===Wr)return c.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===ho)return c.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===io)return c.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===jn?n?a.UNSIGNED_INT_24_8:(c=e.get("WEBGL_depth_texture"),c!==null?c.UNSIGNED_INT_24_8_WEBGL:null):a[o]!==void 0?a[o]:null}return{convert:r}}class E2 extends Qo{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class au extends ki{constructor(){super(),this.isGroup=!0,this.type="Group"}}const d5={type:"move"};class bf{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new au,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new au,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ce,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ce),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new au,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ce,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ce),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,o=null,l=null;const c=this._targetRay,f=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(d&&e.hand){l=!0;for(const A of e.hand.values()){const M=t.getJointPose(A,n),x=this._getHandJoint(d,A);M!==null&&(x.matrix.fromArray(M.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=M.radius),x.visible=M!==null}const m=d.joints["index-finger-tip"],g=d.joints["thumb-tip"],v=m.position.distanceTo(g.position),C=.02,y=.005;d.inputState.pinching&&v>C+y?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&v<=C-y&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else f!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,n),o!==null&&(f.matrix.fromArray(o.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,o.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(o.linearVelocity)):f.hasLinearVelocity=!1,o.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(o.angularVelocity)):f.hasAngularVelocity=!1));c!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&o!==null&&(r=o),r!==null&&(c.matrix.fromArray(r.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,r.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(r.linearVelocity)):c.hasLinearVelocity=!1,r.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(r.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(d5)))}return c!==null&&(c.visible=r!==null),f!==null&&(f.visible=o!==null),d!==null&&(d.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new au;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class R2 extends gi{constructor(e,t,n,r,o,l,c,f,d,m){if(m=m!==void 0?m:ei,m!==ei&&m!==ti)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&m===ei&&(n=lt),n===void 0&&m===ti&&(n=jn),super(null,r,o,l,c,f,m,n,d),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=c!==void 0?c:en,this.minFilter=f!==void 0?f:en,this.flipY=!1,this.generateMipmaps=!1}}class h5 extends Bi{constructor(e,t){super();const n=this;let r=null,o=1,l=null,c="local-floor",f=1,d=null,m=null,g=null,v=null,C=null,y=null;const A=t.getContextAttributes();let M=null,x=null;const U=[],O=[],ne=new Set,ue=new Map,we=new Qo;we.layers.enable(1),we.viewport=new Br;const Ve=new Qo;Ve.layers.enable(2),Ve.viewport=new Br;const et=[we,Ve],j=new E2;j.layers.enable(1),j.layers.enable(2);let Re=null,kt=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Jt){let On=U[Jt];return On===void 0&&(On=new bf,U[Jt]=On),On.getTargetRaySpace()},this.getControllerGrip=function(Jt){let On=U[Jt];return On===void 0&&(On=new bf,U[Jt]=On),On.getGripSpace()},this.getHand=function(Jt){let On=U[Jt];return On===void 0&&(On=new bf,U[Jt]=On),On.getHandSpace()};function pn(Jt){const On=O.indexOf(Jt.inputSource);if(On===-1)return;const mr=U[On];mr!==void 0&&(mr.update(Jt.inputSource,Jt.frame,d||l),mr.dispatchEvent({type:Jt.type,data:Jt.inputSource}))}function Mt(){r.removeEventListener("select",pn),r.removeEventListener("selectstart",pn),r.removeEventListener("selectend",pn),r.removeEventListener("squeeze",pn),r.removeEventListener("squeezestart",pn),r.removeEventListener("squeezeend",pn),r.removeEventListener("end",Mt),r.removeEventListener("inputsourceschange",Bt);for(let Jt=0;Jt<U.length;Jt++){const On=O[Jt];On!==null&&(O[Jt]=null,U[Jt].disconnect(On))}Re=null,kt=null,e.setRenderTarget(M),C=null,v=null,g=null,r=null,x=null,yr.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Jt){o=Jt,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Jt){c=Jt,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||l},this.setReferenceSpace=function(Jt){d=Jt},this.getBaseLayer=function(){return v!==null?v:C},this.getBinding=function(){return g},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=function(Jt){return Yl(this,null,function*(){if(r=Jt,r!==null){if(M=e.getRenderTarget(),r.addEventListener("select",pn),r.addEventListener("selectstart",pn),r.addEventListener("selectend",pn),r.addEventListener("squeeze",pn),r.addEventListener("squeezestart",pn),r.addEventListener("squeezeend",pn),r.addEventListener("end",Mt),r.addEventListener("inputsourceschange",Bt),A.xrCompatible!==!0&&(yield t.makeXRCompatible()),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const On={antialias:r.renderState.layers===void 0?A.antialias:!0,alpha:!0,depth:A.depth,stencil:A.stencil,framebufferScaleFactor:o};C=new XRWebGLLayer(r,t,On),r.updateRenderState({baseLayer:C}),x=new co(C.framebufferWidth,C.framebufferHeight,{format:Lr,type:Pt,colorSpace:e.outputColorSpace,stencilBuffer:A.stencil})}else{let On=null,mr=null,wr=null;A.depth&&(wr=A.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,On=A.stencil?ti:ei,mr=A.stencil?jn:lt);const it={colorFormat:t.RGBA8,depthFormat:wr,scaleFactor:o};g=new XRWebGLBinding(r,t),v=g.createProjectionLayer(it),r.updateRenderState({layers:[v]}),x=new co(v.textureWidth,v.textureHeight,{format:Lr,type:Pt,depthTexture:new R2(v.textureWidth,v.textureHeight,mr,void 0,void 0,void 0,void 0,void 0,void 0,On),stencilBuffer:A.stencil,colorSpace:e.outputColorSpace,samples:A.antialias?4:0});const _i=e.properties.get(x);_i.__ignoreDepthValues=v.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(f),d=null,l=yield r.requestReferenceSpace(c),yr.setContext(r),yr.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}})},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function Bt(Jt){for(let On=0;On<Jt.removed.length;On++){const mr=Jt.removed[On],wr=O.indexOf(mr);wr>=0&&(O[wr]=null,U[wr].disconnect(mr))}for(let On=0;On<Jt.added.length;On++){const mr=Jt.added[On];let wr=O.indexOf(mr);if(wr===-1){for(let _i=0;_i<U.length;_i++)if(_i>=O.length){O.push(mr),wr=_i;break}else if(O[_i]===null){O[_i]=mr,wr=_i;break}if(wr===-1)break}const it=U[wr];it&&it.connect(mr)}}const Xt=new ce,Nn=new ce;function Pn(Jt,On,mr){Xt.setFromMatrixPosition(On.matrixWorld),Nn.setFromMatrixPosition(mr.matrixWorld);const wr=Xt.distanceTo(Nn),it=On.projectionMatrix.elements,_i=mr.projectionMatrix.elements,bi=it[14]/(it[10]-1),lr=it[14]/(it[10]+1),$r=(it[9]+1)/it[5],Un=(it[9]-1)/it[5],mn=(it[8]-1)/it[0],Vn=(_i[8]+1)/_i[0],Hr=bi*mn,vr=bi*Vn,ci=wr/(-mn+Vn),ui=ci*-mn;On.matrixWorld.decompose(Jt.position,Jt.quaternion,Jt.scale),Jt.translateX(ui),Jt.translateZ(ci),Jt.matrixWorld.compose(Jt.position,Jt.quaternion,Jt.scale),Jt.matrixWorldInverse.copy(Jt.matrixWorld).invert();const ni=bi+ci,Xi=lr+ci,_o=Hr-ui,He=vr+(wr-ui),fe=$r*lr/Xi*ni,Gt=Un*lr/Xi*ni;Jt.projectionMatrix.makePerspective(_o,He,fe,Gt,ni,Xi),Jt.projectionMatrixInverse.copy(Jt.projectionMatrix).invert()}function Ln(Jt,On){On===null?Jt.matrixWorld.copy(Jt.matrix):Jt.matrixWorld.multiplyMatrices(On.matrixWorld,Jt.matrix),Jt.matrixWorldInverse.copy(Jt.matrixWorld).invert()}this.updateCamera=function(Jt){if(r===null)return;j.near=Ve.near=we.near=Jt.near,j.far=Ve.far=we.far=Jt.far,(Re!==j.near||kt!==j.far)&&(r.updateRenderState({depthNear:j.near,depthFar:j.far}),Re=j.near,kt=j.far);const On=Jt.parent,mr=j.cameras;Ln(j,On);for(let wr=0;wr<mr.length;wr++)Ln(mr[wr],On);mr.length===2?Pn(j,we,Ve):j.projectionMatrix.copy(we.projectionMatrix),Bn(Jt,j,On)};function Bn(Jt,On,mr){mr===null?Jt.matrix.copy(On.matrixWorld):(Jt.matrix.copy(mr.matrixWorld),Jt.matrix.invert(),Jt.matrix.multiply(On.matrixWorld)),Jt.matrix.decompose(Jt.position,Jt.quaternion,Jt.scale),Jt.updateMatrixWorld(!0);const wr=Jt.children;for(let it=0,_i=wr.length;it<_i;it++)wr[it].updateMatrixWorld(!0);Jt.projectionMatrix.copy(On.projectionMatrix),Jt.projectionMatrixInverse.copy(On.projectionMatrixInverse),Jt.isPerspectiveCamera&&(Jt.fov=da*2*Math.atan(1/Jt.projectionMatrix.elements[5]),Jt.zoom=1)}this.getCamera=function(){return j},this.getFoveation=function(){if(!(v===null&&C===null))return f},this.setFoveation=function(Jt){f=Jt,v!==null&&(v.fixedFoveation=Jt),C!==null&&C.fixedFoveation!==void 0&&(C.fixedFoveation=Jt)},this.getPlanes=function(){return ne};let Gn=null;function Ir(Jt,On){if(m=On.getViewerPose(d||l),y=On,m!==null){const mr=m.views;C!==null&&(e.setRenderTargetFramebuffer(x,C.framebuffer),e.setRenderTarget(x));let wr=!1;mr.length!==j.cameras.length&&(j.cameras.length=0,wr=!0);for(let it=0;it<mr.length;it++){const _i=mr[it];let bi=null;if(C!==null)bi=C.getViewport(_i);else{const $r=g.getViewSubImage(v,_i);bi=$r.viewport,it===0&&(e.setRenderTargetTextures(x,$r.colorTexture,v.ignoreDepthValues?void 0:$r.depthStencilTexture),e.setRenderTarget(x))}let lr=et[it];lr===void 0&&(lr=new Qo,lr.layers.enable(it),lr.viewport=new Br,et[it]=lr),lr.matrix.fromArray(_i.transform.matrix),lr.matrix.decompose(lr.position,lr.quaternion,lr.scale),lr.projectionMatrix.fromArray(_i.projectionMatrix),lr.projectionMatrixInverse.copy(lr.projectionMatrix).invert(),lr.viewport.set(bi.x,bi.y,bi.width,bi.height),it===0&&(j.matrix.copy(lr.matrix),j.matrix.decompose(j.position,j.quaternion,j.scale)),wr===!0&&j.cameras.push(lr)}}for(let mr=0;mr<U.length;mr++){const wr=O[mr],it=U[mr];wr!==null&&it!==void 0&&it.update(wr,On,d||l)}if(Gn&&Gn(Jt,On),On.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:On.detectedPlanes});let mr=null;for(const wr of ne)On.detectedPlanes.has(wr)||(mr===null&&(mr=[]),mr.push(wr));if(mr!==null)for(const wr of mr)ne.delete(wr),ue.delete(wr),n.dispatchEvent({type:"planeremoved",data:wr});for(const wr of On.detectedPlanes)if(!ne.has(wr))ne.add(wr),ue.set(wr,On.lastChangedTime),n.dispatchEvent({type:"planeadded",data:wr});else{const it=ue.get(wr);wr.lastChangedTime>it&&(ue.set(wr,wr.lastChangedTime),n.dispatchEvent({type:"planechanged",data:wr}))}}y=null}const yr=new Is;yr.setAnimationLoop(Ir),this.setAnimationLoop=function(Jt){Gn=Jt},this.dispose=function(){}}}function p5(a,e){function t(M,x){M.matrixAutoUpdate===!0&&M.updateMatrix(),x.value.copy(M.matrix)}function n(M,x){x.color.getRGB(M.fogColor.value,wa(a)),x.isFog?(M.fogNear.value=x.near,M.fogFar.value=x.far):x.isFogExp2&&(M.fogDensity.value=x.density)}function r(M,x,U,O,ne){x.isMeshBasicMaterial||x.isMeshLambertMaterial?o(M,x):x.isMeshToonMaterial?(o(M,x),g(M,x)):x.isMeshPhongMaterial?(o(M,x),m(M,x)):x.isMeshStandardMaterial?(o(M,x),v(M,x),x.isMeshPhysicalMaterial&&C(M,x,ne)):x.isMeshMatcapMaterial?(o(M,x),y(M,x)):x.isMeshDepthMaterial?o(M,x):x.isMeshDistanceMaterial?(o(M,x),A(M,x)):x.isMeshNormalMaterial?o(M,x):x.isLineBasicMaterial?(l(M,x),x.isLineDashedMaterial&&c(M,x)):x.isPointsMaterial?f(M,x,U,O):x.isSpriteMaterial?d(M,x):x.isShadowMaterial?(M.color.value.copy(x.color),M.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function o(M,x){M.opacity.value=x.opacity,x.color&&M.diffuse.value.copy(x.color),x.emissive&&M.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(M.map.value=x.map,t(x.map,M.mapTransform)),x.alphaMap&&(M.alphaMap.value=x.alphaMap,t(x.alphaMap,M.alphaMapTransform)),x.bumpMap&&(M.bumpMap.value=x.bumpMap,t(x.bumpMap,M.bumpMapTransform),M.bumpScale.value=x.bumpScale,x.side===mt&&(M.bumpScale.value*=-1)),x.normalMap&&(M.normalMap.value=x.normalMap,t(x.normalMap,M.normalMapTransform),M.normalScale.value.copy(x.normalScale),x.side===mt&&M.normalScale.value.negate()),x.displacementMap&&(M.displacementMap.value=x.displacementMap,t(x.displacementMap,M.displacementMapTransform),M.displacementScale.value=x.displacementScale,M.displacementBias.value=x.displacementBias),x.emissiveMap&&(M.emissiveMap.value=x.emissiveMap,t(x.emissiveMap,M.emissiveMapTransform)),x.specularMap&&(M.specularMap.value=x.specularMap,t(x.specularMap,M.specularMapTransform)),x.alphaTest>0&&(M.alphaTest.value=x.alphaTest);const U=e.get(x).envMap;if(U&&(M.envMap.value=U,M.flipEnvMap.value=U.isCubeTexture&&U.isRenderTargetTexture===!1?-1:1,M.reflectivity.value=x.reflectivity,M.ior.value=x.ior,M.refractionRatio.value=x.refractionRatio),x.lightMap){M.lightMap.value=x.lightMap;const O=a.useLegacyLights===!0?Math.PI:1;M.lightMapIntensity.value=x.lightMapIntensity*O,t(x.lightMap,M.lightMapTransform)}x.aoMap&&(M.aoMap.value=x.aoMap,M.aoMapIntensity.value=x.aoMapIntensity,t(x.aoMap,M.aoMapTransform))}function l(M,x){M.diffuse.value.copy(x.color),M.opacity.value=x.opacity,x.map&&(M.map.value=x.map,t(x.map,M.mapTransform))}function c(M,x){M.dashSize.value=x.dashSize,M.totalSize.value=x.dashSize+x.gapSize,M.scale.value=x.scale}function f(M,x,U,O){M.diffuse.value.copy(x.color),M.opacity.value=x.opacity,M.size.value=x.size*U,M.scale.value=O*.5,x.map&&(M.map.value=x.map,t(x.map,M.uvTransform)),x.alphaMap&&(M.alphaMap.value=x.alphaMap),x.alphaTest>0&&(M.alphaTest.value=x.alphaTest)}function d(M,x){M.diffuse.value.copy(x.color),M.opacity.value=x.opacity,M.rotation.value=x.rotation,x.map&&(M.map.value=x.map,t(x.map,M.mapTransform)),x.alphaMap&&(M.alphaMap.value=x.alphaMap),x.alphaTest>0&&(M.alphaTest.value=x.alphaTest)}function m(M,x){M.specular.value.copy(x.specular),M.shininess.value=Math.max(x.shininess,1e-4)}function g(M,x){x.gradientMap&&(M.gradientMap.value=x.gradientMap)}function v(M,x){M.metalness.value=x.metalness,x.metalnessMap&&(M.metalnessMap.value=x.metalnessMap,t(x.metalnessMap,M.metalnessMapTransform)),M.roughness.value=x.roughness,x.roughnessMap&&(M.roughnessMap.value=x.roughnessMap,t(x.roughnessMap,M.roughnessMapTransform)),e.get(x).envMap&&(M.envMapIntensity.value=x.envMapIntensity)}function C(M,x,U){M.ior.value=x.ior,x.sheen>0&&(M.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),M.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(M.sheenColorMap.value=x.sheenColorMap,t(x.sheenColorMap,M.sheenColorMapTransform)),x.sheenRoughnessMap&&(M.sheenRoughnessMap.value=x.sheenRoughnessMap,t(x.sheenRoughnessMap,M.sheenRoughnessMapTransform))),x.clearcoat>0&&(M.clearcoat.value=x.clearcoat,M.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(M.clearcoatMap.value=x.clearcoatMap,t(x.clearcoatMap,M.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(M.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,t(x.clearcoatRoughnessMap,M.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(M.clearcoatNormalMap.value=x.clearcoatNormalMap,t(x.clearcoatNormalMap,M.clearcoatNormalMapTransform),M.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===mt&&M.clearcoatNormalScale.value.negate())),x.iridescence>0&&(M.iridescence.value=x.iridescence,M.iridescenceIOR.value=x.iridescenceIOR,M.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],M.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(M.iridescenceMap.value=x.iridescenceMap,t(x.iridescenceMap,M.iridescenceMapTransform)),x.iridescenceThicknessMap&&(M.iridescenceThicknessMap.value=x.iridescenceThicknessMap,t(x.iridescenceThicknessMap,M.iridescenceThicknessMapTransform))),x.transmission>0&&(M.transmission.value=x.transmission,M.transmissionSamplerMap.value=U.texture,M.transmissionSamplerSize.value.set(U.width,U.height),x.transmissionMap&&(M.transmissionMap.value=x.transmissionMap,t(x.transmissionMap,M.transmissionMapTransform)),M.thickness.value=x.thickness,x.thicknessMap&&(M.thicknessMap.value=x.thicknessMap,t(x.thicknessMap,M.thicknessMapTransform)),M.attenuationDistance.value=x.attenuationDistance,M.attenuationColor.value.copy(x.attenuationColor)),M.specularIntensity.value=x.specularIntensity,M.specularColor.value.copy(x.specularColor),x.specularColorMap&&(M.specularColorMap.value=x.specularColorMap,t(x.specularColorMap,M.specularColorMapTransform)),x.specularIntensityMap&&(M.specularIntensityMap.value=x.specularIntensityMap,t(x.specularIntensityMap,M.specularIntensityMapTransform))}function y(M,x){x.matcap&&(M.matcap.value=x.matcap)}function A(M,x){const U=e.get(x).light;M.referencePosition.value.setFromMatrixPosition(U.matrixWorld),M.nearDistance.value=U.shadow.camera.near,M.farDistance.value=U.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function m5(a,e,t,n){let r={},o={},l=[];const c=t.isWebGL2?a.getParameter(a.MAX_UNIFORM_BUFFER_BINDINGS):0;function f(U,O){const ne=O.program;n.uniformBlockBinding(U,ne)}function d(U,O){let ne=r[U.id];ne===void 0&&(y(U),ne=m(U),r[U.id]=ne,U.addEventListener("dispose",M));const ue=O.program;n.updateUBOMapping(U,ue);const we=e.render.frame;o[U.id]!==we&&(v(U),o[U.id]=we)}function m(U){const O=g();U.__bindingPointIndex=O;const ne=a.createBuffer(),ue=U.__size,we=U.usage;return a.bindBuffer(a.UNIFORM_BUFFER,ne),a.bufferData(a.UNIFORM_BUFFER,ue,we),a.bindBuffer(a.UNIFORM_BUFFER,null),a.bindBufferBase(a.UNIFORM_BUFFER,O,ne),ne}function g(){for(let U=0;U<c;U++)if(l.indexOf(U)===-1)return l.push(U),U;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(U){const O=r[U.id],ne=U.uniforms,ue=U.__cache;a.bindBuffer(a.UNIFORM_BUFFER,O);for(let we=0,Ve=ne.length;we<Ve;we++){const et=ne[we];if(C(et,we,ue)===!0){const j=et.__offset,Re=Array.isArray(et.value)?et.value:[et.value];let kt=0;for(let pn=0;pn<Re.length;pn++){const Mt=Re[pn],Bt=A(Mt);typeof Mt=="number"?(et.__data[0]=Mt,a.bufferSubData(a.UNIFORM_BUFFER,j+kt,et.__data)):Mt.isMatrix3?(et.__data[0]=Mt.elements[0],et.__data[1]=Mt.elements[1],et.__data[2]=Mt.elements[2],et.__data[3]=Mt.elements[0],et.__data[4]=Mt.elements[3],et.__data[5]=Mt.elements[4],et.__data[6]=Mt.elements[5],et.__data[7]=Mt.elements[0],et.__data[8]=Mt.elements[6],et.__data[9]=Mt.elements[7],et.__data[10]=Mt.elements[8],et.__data[11]=Mt.elements[0]):(Mt.toArray(et.__data,kt),kt+=Bt.storage/Float32Array.BYTES_PER_ELEMENT)}a.bufferSubData(a.UNIFORM_BUFFER,j,et.__data)}}a.bindBuffer(a.UNIFORM_BUFFER,null)}function C(U,O,ne){const ue=U.value;if(ne[O]===void 0){if(typeof ue=="number")ne[O]=ue;else{const we=Array.isArray(ue)?ue:[ue],Ve=[];for(let et=0;et<we.length;et++)Ve.push(we[et].clone());ne[O]=Ve}return!0}else if(typeof ue=="number"){if(ne[O]!==ue)return ne[O]=ue,!0}else{const we=Array.isArray(ne[O])?ne[O]:[ne[O]],Ve=Array.isArray(ue)?ue:[ue];for(let et=0;et<we.length;et++){const j=we[et];if(j.equals(Ve[et])===!1)return j.copy(Ve[et]),!0}}return!1}function y(U){const O=U.uniforms;let ne=0;const ue=16;let we=0;for(let Ve=0,et=O.length;Ve<et;Ve++){const j=O[Ve],Re={boundary:0,storage:0},kt=Array.isArray(j.value)?j.value:[j.value];for(let pn=0,Mt=kt.length;pn<Mt;pn++){const Bt=kt[pn],Xt=A(Bt);Re.boundary+=Xt.boundary,Re.storage+=Xt.storage}if(j.__data=new Float32Array(Re.storage/Float32Array.BYTES_PER_ELEMENT),j.__offset=ne,Ve>0){we=ne%ue;const pn=ue-we;we!==0&&pn-Re.boundary<0&&(ne+=ue-we,j.__offset=ne)}ne+=Re.storage}return we=ne%ue,we>0&&(ne+=ue-we),U.__size=ne,U.__cache={},this}function A(U){const O={boundary:0,storage:0};return typeof U=="number"?(O.boundary=4,O.storage=4):U.isVector2?(O.boundary=8,O.storage=8):U.isVector3||U.isColor?(O.boundary=16,O.storage=12):U.isVector4?(O.boundary=16,O.storage=16):U.isMatrix3?(O.boundary=48,O.storage=48):U.isMatrix4?(O.boundary=64,O.storage=64):U.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",U),O}function M(U){const O=U.target;O.removeEventListener("dispose",M);const ne=l.indexOf(O.__bindingPointIndex);l.splice(ne,1),a.deleteBuffer(r[O.id]),delete r[O.id],delete o[O.id]}function x(){for(const U in r)a.deleteBuffer(r[U]);l=[],r={},o={}}return{bind:f,update:d,dispose:x}}function g5(){const a=Ji("canvas");return a.style.display="block",a}class L2{constructor(e={}){const{canvas:t=g5(),context:n=null,depth:r=!0,stencil:o=!0,alpha:l=!1,antialias:c=!1,premultipliedAlpha:f=!0,preserveDrawingBuffer:d=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1}=e;this.isWebGLRenderer=!0;let v;n!==null?v=n.getContextAttributes().alpha:v=l;let C=null,y=null;const A=[],M=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Vr,this.useLegacyLights=!0,this.toneMapping=_t,this.toneMappingExposure=1;const x=this;let U=!1,O=0,ne=0,ue=null,we=-1,Ve=null;const et=new Br,j=new Br;let Re=null,kt=t.width,pn=t.height,Mt=1,Bt=null,Xt=null;const Nn=new Br(0,0,kt,pn),Pn=new Br(0,0,kt,pn);let Ln=!1;const Bn=new Xo;let Gn=!1,Ir=!1,yr=null;const Jt=new li,On=new ce,mr={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function wr(){return ue===null?Mt:1}let it=n;function _i(Ee,It){for(let nn=0;nn<Ee.length;nn++){const bt=Ee[nn],wn=t.getContext(bt,It);if(wn!==null)return wn}return null}try{const Ee={alpha:!0,depth:r,stencil:o,antialias:c,premultipliedAlpha:f,preserveDrawingBuffer:d,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${S}`),t.addEventListener("webglcontextlost",Xr,!1),t.addEventListener("webglcontextrestored",uo,!1),t.addEventListener("webglcontextcreationerror",Io,!1),it===null){const It=["webgl2","webgl","experimental-webgl"];if(x.isWebGL1Renderer===!0&&It.shift(),it=_i(It,Ee),it===null)throw _i(It)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}it.getShaderPrecisionFormat===void 0&&(it.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ee){throw console.error("THREE.WebGLRenderer: "+Ee.message),Ee}let bi,lr,$r,Un,mn,Vn,Hr,vr,ci,ui,ni,Xi,_o,He,fe,Gt,Xn,tr,xr,mi,Or,un,Fr,ri;function fi(){bi=new Md(it),lr=new vd(it,bi,e),bi.init(lr),un=new S2(it,bi,lr),$r=new u5(it,bi,lr),Un=new Ed(it),mn=new qh,Vn=new f5(it,bi,$r,mn,lr,un,Un),Hr=new _d(x),vr=new wd(x),ci=new k1(it,lr),Fr=new md(it,bi,ci,lr),ui=new bd(it,ci,Un,Fr),ni=new Ad(it,ui,ci,Un),xr=new Td(it,lr,Vn),Gt=new Cd(mn),Xi=new Jh(x,Hr,vr,bi,lr,Fr,Gt),_o=new p5(x,mn),He=new e5,fe=new s5(bi,lr),tr=new pd(x,Hr,vr,$r,ni,v,f),Xn=new c5(x,ni,lr),ri=new m5(it,Un,lr,$r),mi=new gd(it,bi,Un,lr),Or=new Sd(it,bi,Un,lr),Un.programs=Xi.programs,x.capabilities=lr,x.extensions=bi,x.properties=mn,x.renderLists=He,x.shadowMap=Xn,x.state=$r,x.info=Un}fi();const zr=new h5(x,it);this.xr=zr,this.getContext=function(){return it},this.getContextAttributes=function(){return it.getContextAttributes()},this.forceContextLoss=function(){const Ee=bi.get("WEBGL_lose_context");Ee&&Ee.loseContext()},this.forceContextRestore=function(){const Ee=bi.get("WEBGL_lose_context");Ee&&Ee.restoreContext()},this.getPixelRatio=function(){return Mt},this.setPixelRatio=function(Ee){Ee!==void 0&&(Mt=Ee,this.setSize(kt,pn,!1))},this.getSize=function(Ee){return Ee.set(kt,pn)},this.setSize=function(Ee,It,nn=!0){if(zr.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}kt=Ee,pn=It,t.width=Math.floor(Ee*Mt),t.height=Math.floor(It*Mt),nn===!0&&(t.style.width=Ee+"px",t.style.height=It+"px"),this.setViewport(0,0,Ee,It)},this.getDrawingBufferSize=function(Ee){return Ee.set(kt*Mt,pn*Mt).floor()},this.setDrawingBufferSize=function(Ee,It,nn){kt=Ee,pn=It,Mt=nn,t.width=Math.floor(Ee*nn),t.height=Math.floor(It*nn),this.setViewport(0,0,Ee,It)},this.getCurrentViewport=function(Ee){return Ee.copy(et)},this.getViewport=function(Ee){return Ee.copy(Nn)},this.setViewport=function(Ee,It,nn,bt){Ee.isVector4?Nn.set(Ee.x,Ee.y,Ee.z,Ee.w):Nn.set(Ee,It,nn,bt),$r.viewport(et.copy(Nn).multiplyScalar(Mt).floor())},this.getScissor=function(Ee){return Ee.copy(Pn)},this.setScissor=function(Ee,It,nn,bt){Ee.isVector4?Pn.set(Ee.x,Ee.y,Ee.z,Ee.w):Pn.set(Ee,It,nn,bt),$r.scissor(j.copy(Pn).multiplyScalar(Mt).floor())},this.getScissorTest=function(){return Ln},this.setScissorTest=function(Ee){$r.setScissorTest(Ln=Ee)},this.setOpaqueSort=function(Ee){Bt=Ee},this.setTransparentSort=function(Ee){Xt=Ee},this.getClearColor=function(Ee){return Ee.copy(tr.getClearColor())},this.setClearColor=function(){tr.setClearColor.apply(tr,arguments)},this.getClearAlpha=function(){return tr.getClearAlpha()},this.setClearAlpha=function(){tr.setClearAlpha.apply(tr,arguments)},this.clear=function(Ee=!0,It=!0,nn=!0){let bt=0;Ee&&(bt|=it.COLOR_BUFFER_BIT),It&&(bt|=it.DEPTH_BUFFER_BIT),nn&&(bt|=it.STENCIL_BUFFER_BIT),it.clear(bt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Xr,!1),t.removeEventListener("webglcontextrestored",uo,!1),t.removeEventListener("webglcontextcreationerror",Io,!1),He.dispose(),fe.dispose(),mn.dispose(),Hr.dispose(),vr.dispose(),ni.dispose(),Fr.dispose(),ri.dispose(),Xi.dispose(),zr.dispose(),zr.removeEventListener("sessionstart",Zr),zr.removeEventListener("sessionend",Ho),yr&&(yr.dispose(),yr=null),zo.stop()};function Xr(Ee){Ee.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),U=!0}function uo(){console.log("THREE.WebGLRenderer: Context Restored."),U=!1;const Ee=Un.autoReset,It=Xn.enabled,nn=Xn.autoUpdate,bt=Xn.needsUpdate,wn=Xn.type;fi(),Un.autoReset=Ee,Xn.enabled=It,Xn.autoUpdate=nn,Xn.needsUpdate=bt,Xn.type=wn}function Io(Ee){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Ee.statusMessage)}function Ms(Ee){const It=Ee.target;It.removeEventListener("dispose",Ms),ct(It)}function ct(Ee){tn(Ee),mn.remove(Ee)}function tn(Ee){const It=mn.get(Ee).programs;It!==void 0&&(It.forEach(function(nn){Xi.releaseProgram(nn)}),Ee.isShaderMaterial&&Xi.releaseShaderCache(Ee))}this.renderBufferDirect=function(Ee,It,nn,bt,wn,ii){It===null&&(It=mr);const di=wn.isMesh&&wn.matrixWorld.determinant()<0,Ii=b7(Ee,It,nn,bt,wn);$r.setMaterial(bt,di);let Wi=nn.index,Qi=1;bt.wireframe===!0&&(Wi=ui.getWireframeAttribute(nn),Qi=2);const eo=nn.drawRange,ro=nn.attributes.position;let Oo=eo.start*Qi,Ba=(eo.start+eo.count)*Qi;ii!==null&&(Oo=Math.max(Oo,ii.start*Qi),Ba=Math.min(Ba,(ii.start+ii.count)*Qi)),Wi!==null?(Oo=Math.max(Oo,0),Ba=Math.min(Ba,Wi.count)):ro!=null&&(Oo=Math.max(Oo,0),Ba=Math.min(Ba,ro.count));const j1=Ba-Oo;if(j1<0||j1===1/0)return;Fr.setup(wn,bt,Ii,nn,Wi);let Kc,Us=mi;if(Wi!==null&&(Kc=ci.get(Wi),Us=Or,Us.setIndex(Kc)),wn.isMesh)bt.wireframe===!0?($r.setLineWidth(bt.wireframeLinewidth*wr()),Us.setMode(it.LINES)):Us.setMode(it.TRIANGLES);else if(wn.isLine){let fo=bt.linewidth;fo===void 0&&(fo=1),$r.setLineWidth(fo*wr()),wn.isLineSegments?Us.setMode(it.LINES):wn.isLineLoop?Us.setMode(it.LINE_LOOP):Us.setMode(it.LINE_STRIP)}else wn.isPoints?Us.setMode(it.POINTS):wn.isSprite&&Us.setMode(it.TRIANGLES);if(wn.isInstancedMesh)Us.renderInstances(Oo,j1,wn.count);else if(nn.isInstancedBufferGeometry){const fo=nn._maxInstanceCount!==void 0?nn._maxInstanceCount:1/0,ld=Math.min(nn.instanceCount,fo);Us.renderInstances(Oo,j1,ld)}else Us.render(Oo,j1)},this.compile=function(Ee,It){function nn(bt,wn,ii){bt.transparent===!0&&bt.side===Lt&&bt.forceSinglePass===!1?(bt.side=mt,bt.needsUpdate=!0,k0(bt,wn,ii),bt.side=xe,bt.needsUpdate=!0,k0(bt,wn,ii),bt.side=Lt):k0(bt,wn,ii)}y=fe.get(Ee),y.init(),M.push(y),Ee.traverseVisible(function(bt){bt.isLight&&bt.layers.test(It.layers)&&(y.pushLight(bt),bt.castShadow&&y.pushShadow(bt))}),y.setupLights(x.useLegacyLights),Ee.traverse(function(bt){const wn=bt.material;if(wn)if(Array.isArray(wn))for(let ii=0;ii<wn.length;ii++){const di=wn[ii];nn(di,Ee,bt)}else nn(wn,Ee,bt)}),M.pop(),y=null};let Kn=null;function Rr(Ee){Kn&&Kn(Ee)}function Zr(){zo.stop()}function Ho(){zo.start()}const zo=new Is;zo.setAnimationLoop(Rr),typeof self!="undefined"&&zo.setContext(self),this.setAnimationLoop=function(Ee){Kn=Ee,zr.setAnimationLoop(Ee),Ee===null?zo.stop():zo.start()},zr.addEventListener("sessionstart",Zr),zr.addEventListener("sessionend",Ho),this.render=function(Ee,It){if(It!==void 0&&It.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(U===!0)return;Ee.matrixWorldAutoUpdate===!0&&Ee.updateMatrixWorld(),It.parent===null&&It.matrixWorldAutoUpdate===!0&&It.updateMatrixWorld(),zr.enabled===!0&&zr.isPresenting===!0&&(zr.cameraAutoUpdate===!0&&zr.updateCamera(It),It=zr.getCamera()),Ee.isScene===!0&&Ee.onBeforeRender(x,Ee,It,ue),y=fe.get(Ee,M.length),y.init(),M.push(y),Jt.multiplyMatrices(It.projectionMatrix,It.matrixWorldInverse),Bn.setFromProjectionMatrix(Jt),Ir=this.localClippingEnabled,Gn=Gt.init(this.clippingPlanes,Ir),C=He.get(Ee,A.length),C.init(),A.push(C),Ea(Ee,It,0,x.sortObjects),C.finish(),x.sortObjects===!0&&C.sort(Bt,Xt),Gn===!0&&Gt.beginShadows();const nn=y.state.shadowsArray;if(Xn.render(nn,Ee,It),Gn===!0&&Gt.endShadows(),this.info.autoReset===!0&&this.info.reset(),tr.render(C,Ee),y.setupLights(x.useLegacyLights),It.isArrayCamera){const bt=It.cameras;for(let wn=0,ii=bt.length;wn<ii;wn++){const di=bt[wn];vc(C,Ee,di,di.viewport)}}else vc(C,Ee,It);ue!==null&&(Vn.updateMultisampleRenderTarget(ue),Vn.updateRenderTargetMipmap(ue)),Ee.isScene===!0&&Ee.onAfterRender(x,Ee,It),Fr.resetDefaultState(),we=-1,Ve=null,M.pop(),M.length>0?y=M[M.length-1]:y=null,A.pop(),A.length>0?C=A[A.length-1]:C=null};function Ea(Ee,It,nn,bt){if(Ee.visible===!1)return;if(Ee.layers.test(It.layers)){if(Ee.isGroup)nn=Ee.renderOrder;else if(Ee.isLOD)Ee.autoUpdate===!0&&Ee.update(It);else if(Ee.isLight)y.pushLight(Ee),Ee.castShadow&&y.pushShadow(Ee);else if(Ee.isSprite){if(!Ee.frustumCulled||Bn.intersectsSprite(Ee)){bt&&On.setFromMatrixPosition(Ee.matrixWorld).applyMatrix4(Jt);const di=ni.update(Ee),Ii=Ee.material;Ii.visible&&C.push(Ee,di,Ii,nn,On.z,null)}}else if((Ee.isMesh||Ee.isLine||Ee.isPoints)&&(!Ee.frustumCulled||Bn.intersectsObject(Ee))){Ee.isSkinnedMesh&&Ee.skeleton.frame!==Un.render.frame&&(Ee.skeleton.update(),Ee.skeleton.frame=Un.render.frame);const di=ni.update(Ee),Ii=Ee.material;if(bt&&(di.boundingSphere===null&&di.computeBoundingSphere(),On.copy(di.boundingSphere.center).applyMatrix4(Ee.matrixWorld).applyMatrix4(Jt)),Array.isArray(Ii)){const Wi=di.groups;for(let Qi=0,eo=Wi.length;Qi<eo;Qi++){const ro=Wi[Qi],Oo=Ii[ro.materialIndex];Oo&&Oo.visible&&C.push(Ee,di,Oo,nn,On.z,ro)}}else Ii.visible&&C.push(Ee,di,Ii,nn,On.z,null)}}const ii=Ee.children;for(let di=0,Ii=ii.length;di<Ii;di++)Ea(ii[di],It,nn,bt)}function vc(Ee,It,nn,bt){const wn=Ee.opaque,ii=Ee.transmissive,di=Ee.transparent;y.setupLightsView(nn),Gn===!0&&Gt.setGlobalState(x.clippingPlanes,nn),ii.length>0&&bs(wn,ii,It,nn),bt&&$r.viewport(et.copy(bt)),wn.length>0&&O1(wn,It,nn),ii.length>0&&O1(ii,It,nn),di.length>0&&O1(di,It,nn),$r.buffers.depth.setTest(!0),$r.buffers.depth.setMask(!0),$r.buffers.color.setMask(!0),$r.setPolygonOffset(!1)}function bs(Ee,It,nn,bt){if(yr===null){const Ii=lr.isWebGL2;yr=new co(1024,1024,{generateMipmaps:!0,type:bi.has("EXT_color_buffer_half_float")?Ge:Pt,minFilter:$e,samples:Ii&&c===!0?4:0})}const wn=x.getRenderTarget();x.setRenderTarget(yr),x.clear();const ii=x.toneMapping;x.toneMapping=_t,O1(Ee,nn,bt),Vn.updateMultisampleRenderTarget(yr),Vn.updateRenderTargetMipmap(yr);let di=!1;for(let Ii=0,Wi=It.length;Ii<Wi;Ii++){const Qi=It[Ii],eo=Qi.object,ro=Qi.geometry,Oo=Qi.material,Ba=Qi.group;if(Oo.side===Lt&&eo.layers.test(bt.layers)){const j1=Oo.side;Oo.side=mt,Oo.needsUpdate=!0,Ml(eo,nn,bt,ro,Oo,Ba),Oo.side=j1,Oo.needsUpdate=!0,di=!0}}di===!0&&(Vn.updateMultisampleRenderTarget(yr),Vn.updateRenderTargetMipmap(yr)),x.setRenderTarget(wn),x.toneMapping=ii}function O1(Ee,It,nn){const bt=It.isScene===!0?It.overrideMaterial:null;for(let wn=0,ii=Ee.length;wn<ii;wn++){const di=Ee[wn],Ii=di.object,Wi=di.geometry,Qi=bt===null?di.material:bt,eo=di.group;Ii.layers.test(nn.layers)&&Ml(Ii,It,nn,Wi,Qi,eo)}}function Ml(Ee,It,nn,bt,wn,ii){Ee.onBeforeRender(x,It,nn,bt,wn,ii),Ee.modelViewMatrix.multiplyMatrices(nn.matrixWorldInverse,Ee.matrixWorld),Ee.normalMatrix.getNormalMatrix(Ee.modelViewMatrix),wn.onBeforeRender(x,It,nn,bt,Ee,ii),wn.transparent===!0&&wn.side===Lt&&wn.forceSinglePass===!1?(wn.side=mt,wn.needsUpdate=!0,x.renderBufferDirect(nn,It,bt,wn,Ee,ii),wn.side=xe,wn.needsUpdate=!0,x.renderBufferDirect(nn,It,bt,wn,Ee,ii),wn.side=Lt):x.renderBufferDirect(nn,It,bt,wn,Ee,ii),Ee.onAfterRender(x,It,nn,bt,wn,ii)}function k0(Ee,It,nn){It.isScene!==!0&&(It=mr);const bt=mn.get(Ee),wn=y.state.lights,ii=y.state.shadowsArray,di=wn.state.version,Ii=Xi.getParameters(Ee,wn.state,ii,It,nn),Wi=Xi.getProgramCacheKey(Ii);let Qi=bt.programs;bt.environment=Ee.isMeshStandardMaterial?It.environment:null,bt.fog=It.fog,bt.envMap=(Ee.isMeshStandardMaterial?vr:Hr).get(Ee.envMap||bt.environment),Qi===void 0&&(Ee.addEventListener("dispose",Ms),Qi=new Map,bt.programs=Qi);let eo=Qi.get(Wi);if(eo!==void 0){if(bt.currentProgram===eo&&bt.lightsStateVersion===di)return uh(Ee,Ii),eo}else Ii.uniforms=Xi.getUniforms(Ee),Ee.onBuild(nn,Ii,x),Ee.onBeforeCompile(Ii,x),eo=Xi.acquireProgram(Ii,Wi),Qi.set(Wi,eo),bt.uniforms=Ii.uniforms;const ro=bt.uniforms;(!Ee.isShaderMaterial&&!Ee.isRawShaderMaterial||Ee.clipping===!0)&&(ro.clippingPlanes=Gt.uniform),uh(Ee,Ii),bt.needsLights=E7(Ee),bt.lightsStateVersion=di,bt.needsLights&&(ro.ambientLightColor.value=wn.state.ambient,ro.lightProbe.value=wn.state.probe,ro.directionalLights.value=wn.state.directional,ro.directionalLightShadows.value=wn.state.directionalShadow,ro.spotLights.value=wn.state.spot,ro.spotLightShadows.value=wn.state.spotShadow,ro.rectAreaLights.value=wn.state.rectArea,ro.ltc_1.value=wn.state.rectAreaLTC1,ro.ltc_2.value=wn.state.rectAreaLTC2,ro.pointLights.value=wn.state.point,ro.pointLightShadows.value=wn.state.pointShadow,ro.hemisphereLights.value=wn.state.hemi,ro.directionalShadowMap.value=wn.state.directionalShadowMap,ro.directionalShadowMatrix.value=wn.state.directionalShadowMatrix,ro.spotShadowMap.value=wn.state.spotShadowMap,ro.spotLightMatrix.value=wn.state.spotLightMatrix,ro.spotLightMap.value=wn.state.spotLightMap,ro.pointShadowMap.value=wn.state.pointShadowMap,ro.pointShadowMatrix.value=wn.state.pointShadowMatrix);const Oo=eo.getUniforms(),Ba=Ru.seqWithValue(Oo.seq,ro);return bt.currentProgram=eo,bt.uniformsList=Ba,eo}function uh(Ee,It){const nn=mn.get(Ee);nn.outputColorSpace=It.outputColorSpace,nn.instancing=It.instancing,nn.skinning=It.skinning,nn.morphTargets=It.morphTargets,nn.morphNormals=It.morphNormals,nn.morphColors=It.morphColors,nn.morphTargetsCount=It.morphTargetsCount,nn.numClippingPlanes=It.numClippingPlanes,nn.numIntersection=It.numClipIntersection,nn.vertexAlphas=It.vertexAlphas,nn.vertexTangents=It.vertexTangents,nn.toneMapping=It.toneMapping}function b7(Ee,It,nn,bt,wn){It.isScene!==!0&&(It=mr),Vn.resetTextureUnits();const ii=It.fog,di=bt.isMeshStandardMaterial?It.environment:null,Ii=ue===null?x.outputColorSpace:ue.isXRRenderTarget===!0?ue.texture.colorSpace:Ko,Wi=(bt.isMeshStandardMaterial?vr:Hr).get(bt.envMap||di),Qi=bt.vertexColors===!0&&!!nn.attributes.color&&nn.attributes.color.itemSize===4,eo=!!bt.normalMap&&!!nn.attributes.tangent,ro=!!nn.morphAttributes.position,Oo=!!nn.morphAttributes.normal,Ba=!!nn.morphAttributes.color,j1=bt.toneMapped?x.toneMapping:_t,Kc=nn.morphAttributes.position||nn.morphAttributes.normal||nn.morphAttributes.color,Us=Kc!==void 0?Kc.length:0,fo=mn.get(bt),ld=y.state.lights;if(Gn===!0&&(Ir===!0||Ee!==Ve)){const m1=Ee===Ve&&bt.id===we;Gt.setState(bt,Ee,m1)}let ta=!1;bt.version===fo.__version?(fo.needsLights&&fo.lightsStateVersion!==ld.state.version||fo.outputColorSpace!==Ii||wn.isInstancedMesh&&fo.instancing===!1||!wn.isInstancedMesh&&fo.instancing===!0||wn.isSkinnedMesh&&fo.skinning===!1||!wn.isSkinnedMesh&&fo.skinning===!0||fo.envMap!==Wi||bt.fog===!0&&fo.fog!==ii||fo.numClippingPlanes!==void 0&&(fo.numClippingPlanes!==Gt.numPlanes||fo.numIntersection!==Gt.numIntersection)||fo.vertexAlphas!==Qi||fo.vertexTangents!==eo||fo.morphTargets!==ro||fo.morphNormals!==Oo||fo.morphColors!==Ba||fo.toneMapping!==j1||lr.isWebGL2===!0&&fo.morphTargetsCount!==Us)&&(ta=!0):(ta=!0,fo.__version=bt.version);let Jc=fo.currentProgram;ta===!0&&(Jc=k0(bt,It,wn));let fh=!1,r0=!1,cd=!1;const Ua=Jc.getUniforms(),qc=fo.uniforms;if($r.useProgram(Jc.program)&&(fh=!0,r0=!0,cd=!0),bt.id!==we&&(we=bt.id,r0=!0),fh||Ve!==Ee){if(Ua.setValue(it,"projectionMatrix",Ee.projectionMatrix),lr.logarithmicDepthBuffer&&Ua.setValue(it,"logDepthBufFC",2/(Math.log(Ee.far+1)/Math.LN2)),Ve!==Ee&&(Ve=Ee,r0=!0,cd=!0),bt.isShaderMaterial||bt.isMeshPhongMaterial||bt.isMeshToonMaterial||bt.isMeshStandardMaterial||bt.envMap){const m1=Ua.map.cameraPosition;m1!==void 0&&m1.setValue(it,On.setFromMatrixPosition(Ee.matrixWorld))}(bt.isMeshPhongMaterial||bt.isMeshToonMaterial||bt.isMeshLambertMaterial||bt.isMeshBasicMaterial||bt.isMeshStandardMaterial||bt.isShaderMaterial)&&Ua.setValue(it,"isOrthographic",Ee.isOrthographicCamera===!0),(bt.isMeshPhongMaterial||bt.isMeshToonMaterial||bt.isMeshLambertMaterial||bt.isMeshBasicMaterial||bt.isMeshStandardMaterial||bt.isShaderMaterial||bt.isShadowMaterial||wn.isSkinnedMesh)&&Ua.setValue(it,"viewMatrix",Ee.matrixWorldInverse)}if(wn.isSkinnedMesh){Ua.setOptional(it,wn,"bindMatrix"),Ua.setOptional(it,wn,"bindMatrixInverse");const m1=wn.skeleton;m1&&(lr.floatVertexTextures?(m1.boneTexture===null&&m1.computeBoneTexture(),Ua.setValue(it,"boneTexture",m1.boneTexture,Vn),Ua.setValue(it,"boneTextureSize",m1.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const ud=nn.morphAttributes;if((ud.position!==void 0||ud.normal!==void 0||ud.color!==void 0&&lr.isWebGL2===!0)&&xr.update(wn,nn,Jc),(r0||fo.receiveShadow!==wn.receiveShadow)&&(fo.receiveShadow=wn.receiveShadow,Ua.setValue(it,"receiveShadow",wn.receiveShadow)),bt.isMeshGouraudMaterial&&bt.envMap!==null&&(qc.envMap.value=Wi,qc.flipEnvMap.value=Wi.isCubeTexture&&Wi.isRenderTargetTexture===!1?-1:1),r0&&(Ua.setValue(it,"toneMappingExposure",x.toneMappingExposure),fo.needsLights&&S7(qc,cd),ii&&bt.fog===!0&&_o.refreshFogUniforms(qc,ii),_o.refreshMaterialUniforms(qc,bt,Mt,pn,yr),Ru.upload(it,fo.uniformsList,qc,Vn)),bt.isShaderMaterial&&bt.uniformsNeedUpdate===!0&&(Ru.upload(it,fo.uniformsList,qc,Vn),bt.uniformsNeedUpdate=!1),bt.isSpriteMaterial&&Ua.setValue(it,"center",wn.center),Ua.setValue(it,"modelViewMatrix",wn.modelViewMatrix),Ua.setValue(it,"normalMatrix",wn.normalMatrix),Ua.setValue(it,"modelMatrix",wn.matrixWorld),bt.isShaderMaterial||bt.isRawShaderMaterial){const m1=bt.uniformsGroups;for(let fd=0,R7=m1.length;fd<R7;fd++)if(lr.isWebGL2){const dh=m1[fd];ri.update(dh,Jc),ri.bind(dh,Jc)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Jc}function S7(Ee,It){Ee.ambientLightColor.needsUpdate=It,Ee.lightProbe.needsUpdate=It,Ee.directionalLights.needsUpdate=It,Ee.directionalLightShadows.needsUpdate=It,Ee.pointLights.needsUpdate=It,Ee.pointLightShadows.needsUpdate=It,Ee.spotLights.needsUpdate=It,Ee.spotLightShadows.needsUpdate=It,Ee.rectAreaLights.needsUpdate=It,Ee.hemisphereLights.needsUpdate=It}function E7(Ee){return Ee.isMeshLambertMaterial||Ee.isMeshToonMaterial||Ee.isMeshPhongMaterial||Ee.isMeshStandardMaterial||Ee.isShadowMaterial||Ee.isShaderMaterial&&Ee.lights===!0}this.getActiveCubeFace=function(){return O},this.getActiveMipmapLevel=function(){return ne},this.getRenderTarget=function(){return ue},this.setRenderTargetTextures=function(Ee,It,nn){mn.get(Ee.texture).__webglTexture=It,mn.get(Ee.depthTexture).__webglTexture=nn;const bt=mn.get(Ee);bt.__hasExternalTextures=!0,bt.__hasExternalTextures&&(bt.__autoAllocateDepthBuffer=nn===void 0,bt.__autoAllocateDepthBuffer||bi.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),bt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Ee,It){const nn=mn.get(Ee);nn.__webglFramebuffer=It,nn.__useDefaultFramebuffer=It===void 0},this.setRenderTarget=function(Ee,It=0,nn=0){ue=Ee,O=It,ne=nn;let bt=!0,wn=null,ii=!1,di=!1;if(Ee){const Wi=mn.get(Ee);Wi.__useDefaultFramebuffer!==void 0?($r.bindFramebuffer(it.FRAMEBUFFER,null),bt=!1):Wi.__webglFramebuffer===void 0?Vn.setupRenderTarget(Ee):Wi.__hasExternalTextures&&Vn.rebindTextures(Ee,mn.get(Ee.texture).__webglTexture,mn.get(Ee.depthTexture).__webglTexture);const Qi=Ee.texture;(Qi.isData3DTexture||Qi.isDataArrayTexture||Qi.isCompressedArrayTexture)&&(di=!0);const eo=mn.get(Ee).__webglFramebuffer;Ee.isWebGLCubeRenderTarget?(wn=eo[It],ii=!0):lr.isWebGL2&&Ee.samples>0&&Vn.useMultisampledRTT(Ee)===!1?wn=mn.get(Ee).__webglMultisampledFramebuffer:wn=eo,et.copy(Ee.viewport),j.copy(Ee.scissor),Re=Ee.scissorTest}else et.copy(Nn).multiplyScalar(Mt).floor(),j.copy(Pn).multiplyScalar(Mt).floor(),Re=Ln;if($r.bindFramebuffer(it.FRAMEBUFFER,wn)&&lr.drawBuffers&&bt&&$r.drawBuffers(Ee,wn),$r.viewport(et),$r.scissor(j),$r.setScissorTest(Re),ii){const Wi=mn.get(Ee.texture);it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_CUBE_MAP_POSITIVE_X+It,Wi.__webglTexture,nn)}else if(di){const Wi=mn.get(Ee.texture),Qi=It||0;it.framebufferTextureLayer(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,Wi.__webglTexture,nn||0,Qi)}we=-1},this.readRenderTargetPixels=function(Ee,It,nn,bt,wn,ii,di){if(!(Ee&&Ee.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ii=mn.get(Ee).__webglFramebuffer;if(Ee.isWebGLCubeRenderTarget&&di!==void 0&&(Ii=Ii[di]),Ii){$r.bindFramebuffer(it.FRAMEBUFFER,Ii);try{const Wi=Ee.texture,Qi=Wi.format,eo=Wi.type;if(Qi!==Lr&&un.convert(Qi)!==it.getParameter(it.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ro=eo===Ge&&(bi.has("EXT_color_buffer_half_float")||lr.isWebGL2&&bi.has("EXT_color_buffer_float"));if(eo!==Pt&&un.convert(eo)!==it.getParameter(it.IMPLEMENTATION_COLOR_READ_TYPE)&&!(eo===oe&&(lr.isWebGL2||bi.has("OES_texture_float")||bi.has("WEBGL_color_buffer_float")))&&!ro){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}It>=0&&It<=Ee.width-bt&&nn>=0&&nn<=Ee.height-wn&&it.readPixels(It,nn,bt,wn,un.convert(Qi),un.convert(eo),ii)}finally{const Wi=ue!==null?mn.get(ue).__webglFramebuffer:null;$r.bindFramebuffer(it.FRAMEBUFFER,Wi)}}},this.copyFramebufferToTexture=function(Ee,It,nn=0){const bt=Math.pow(2,-nn),wn=Math.floor(It.image.width*bt),ii=Math.floor(It.image.height*bt);Vn.setTexture2D(It,0),it.copyTexSubImage2D(it.TEXTURE_2D,nn,0,0,Ee.x,Ee.y,wn,ii),$r.unbindTexture()},this.copyTextureToTexture=function(Ee,It,nn,bt=0){const wn=It.image.width,ii=It.image.height,di=un.convert(nn.format),Ii=un.convert(nn.type);Vn.setTexture2D(nn,0),it.pixelStorei(it.UNPACK_FLIP_Y_WEBGL,nn.flipY),it.pixelStorei(it.UNPACK_PREMULTIPLY_ALPHA_WEBGL,nn.premultiplyAlpha),it.pixelStorei(it.UNPACK_ALIGNMENT,nn.unpackAlignment),It.isDataTexture?it.texSubImage2D(it.TEXTURE_2D,bt,Ee.x,Ee.y,wn,ii,di,Ii,It.image.data):It.isCompressedTexture?it.compressedTexSubImage2D(it.TEXTURE_2D,bt,Ee.x,Ee.y,It.mipmaps[0].width,It.mipmaps[0].height,di,It.mipmaps[0].data):it.texSubImage2D(it.TEXTURE_2D,bt,Ee.x,Ee.y,di,Ii,It.image),bt===0&&nn.generateMipmaps&&it.generateMipmap(it.TEXTURE_2D),$r.unbindTexture()},this.copyTextureToTexture3D=function(Ee,It,nn,bt,wn=0){if(x.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ii=Ee.max.x-Ee.min.x+1,di=Ee.max.y-Ee.min.y+1,Ii=Ee.max.z-Ee.min.z+1,Wi=un.convert(bt.format),Qi=un.convert(bt.type);let eo;if(bt.isData3DTexture)Vn.setTexture3D(bt,0),eo=it.TEXTURE_3D;else if(bt.isDataArrayTexture)Vn.setTexture2DArray(bt,0),eo=it.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}it.pixelStorei(it.UNPACK_FLIP_Y_WEBGL,bt.flipY),it.pixelStorei(it.UNPACK_PREMULTIPLY_ALPHA_WEBGL,bt.premultiplyAlpha),it.pixelStorei(it.UNPACK_ALIGNMENT,bt.unpackAlignment);const ro=it.getParameter(it.UNPACK_ROW_LENGTH),Oo=it.getParameter(it.UNPACK_IMAGE_HEIGHT),Ba=it.getParameter(it.UNPACK_SKIP_PIXELS),j1=it.getParameter(it.UNPACK_SKIP_ROWS),Kc=it.getParameter(it.UNPACK_SKIP_IMAGES),Us=nn.isCompressedTexture?nn.mipmaps[0]:nn.image;it.pixelStorei(it.UNPACK_ROW_LENGTH,Us.width),it.pixelStorei(it.UNPACK_IMAGE_HEIGHT,Us.height),it.pixelStorei(it.UNPACK_SKIP_PIXELS,Ee.min.x),it.pixelStorei(it.UNPACK_SKIP_ROWS,Ee.min.y),it.pixelStorei(it.UNPACK_SKIP_IMAGES,Ee.min.z),nn.isDataTexture||nn.isData3DTexture?it.texSubImage3D(eo,wn,It.x,It.y,It.z,ii,di,Ii,Wi,Qi,Us.data):nn.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),it.compressedTexSubImage3D(eo,wn,It.x,It.y,It.z,ii,di,Ii,Wi,Us.data)):it.texSubImage3D(eo,wn,It.x,It.y,It.z,ii,di,Ii,Wi,Qi,Us),it.pixelStorei(it.UNPACK_ROW_LENGTH,ro),it.pixelStorei(it.UNPACK_IMAGE_HEIGHT,Oo),it.pixelStorei(it.UNPACK_SKIP_PIXELS,Ba),it.pixelStorei(it.UNPACK_SKIP_ROWS,j1),it.pixelStorei(it.UNPACK_SKIP_IMAGES,Kc),wn===0&&bt.generateMipmaps&&it.generateMipmap(eo),$r.unbindTexture()},this.initTexture=function(Ee){Ee.isCubeTexture?Vn.setTextureCube(Ee,0):Ee.isData3DTexture?Vn.setTexture3D(Ee,0):Ee.isDataArrayTexture||Ee.isCompressedArrayTexture?Vn.setTexture2DArray(Ee,0):Vn.setTexture2D(Ee,0),$r.unbindTexture()},this.resetState=function(){O=0,ne=0,ue=null,$r.reset(),Fr.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Vr?oo:fa}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===oo?Vr:Ko}}class T2 extends L2{}T2.prototype.isWebGL1Renderer=!0;class d0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ar(e),this.density=t}clone(){return new d0(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class h0{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new ar(e),this.near=t,this.far=n}clone(){return new h0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class A2 extends ki{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class p0{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=on,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=fs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,o=this.stride;r<o;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const za=new ce;class Nc{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)za.fromBufferAttribute(this,t),za.applyMatrix4(e),this.setXYZ(t,za.x,za.y,za.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)za.fromBufferAttribute(this,t),za.applyNormalMatrix(e),this.setXYZ(t,za.x,za.y,za.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)za.fromBufferAttribute(this,t),za.transformDirection(e),this.setXYZ(t,za.x,za.y,za.z);return this}setX(e,t){return this.normalized&&(t=kr(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=kr(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=kr(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=kr(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=yo(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=yo(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=yo(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=yo(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=kr(t,this.array),n=kr(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=kr(t,this.array),n=kr(n,this.array),r=kr(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=kr(t,this.array),n=kr(n,this.array),r=kr(r,this.array),o=kr(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return new go(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Nc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Sf extends Cs{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ar(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let lu;const Lu=new ce,cu=new ce,uu=new ce,fu=new hn,Tu=new hn,P2=new li,m0=new ce,Au=new ce,g0=new ce,I2=new hn,Ef=new hn,O2=new hn;class D2 extends ki{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",lu===void 0){lu=new xn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new p0(t,5);lu.setIndex([0,1,2,0,2,3]),lu.setAttribute("position",new Nc(n,3,0,!1)),lu.setAttribute("uv",new Nc(n,2,3,!1))}this.geometry=lu,this.material=e!==void 0?e:new Sf,this.center=new hn(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),cu.setFromMatrixScale(this.matrixWorld),P2.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),uu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&cu.multiplyScalar(-uu.z);const n=this.material.rotation;let r,o;n!==0&&(o=Math.cos(n),r=Math.sin(n));const l=this.center;v0(m0.set(-.5,-.5,0),uu,l,cu,r,o),v0(Au.set(.5,-.5,0),uu,l,cu,r,o),v0(g0.set(.5,.5,0),uu,l,cu,r,o),I2.set(0,0),Ef.set(1,0),O2.set(1,1);let c=e.ray.intersectTriangle(m0,Au,g0,!1,Lu);if(c===null&&(v0(Au.set(-.5,.5,0),uu,l,cu,r,o),Ef.set(0,1),c=e.ray.intersectTriangle(m0,g0,Au,!1,Lu),c===null))return;const f=e.ray.origin.distanceTo(Lu);f<e.near||f>e.far||t.push({distance:f,point:Lu.clone(),uv:as.getInterpolation(Lu,m0,Au,g0,I2,Ef,O2,new hn),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function v0(a,e,t,n,r,o){fu.subVectors(a,t).addScalar(.5).multiply(n),r!==void 0?(Tu.x=o*fu.x-r*fu.y,Tu.y=r*fu.x+o*fu.y):Tu.copy(fu),a.copy(e),a.x+=Tu.x,a.y+=Tu.y,a.applyMatrix4(P2)}const C0=new ce,H2=new ce;class z2 extends ki{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const o=t[n];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let o;for(o=0;o<r.length&&!(t<r[o].distance);o++);return r.splice(o,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let o=t[n].distance;if(t[n].object.visible&&(o-=o*t[n].hysteresis),e<o)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){C0.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(C0);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){C0.setFromMatrixPosition(e.matrixWorld),H2.setFromMatrixPosition(this.matrixWorld);const n=C0.distanceTo(H2)/e.zoom;t[0].object.visible=!0;let r,o;for(r=1,o=t.length;r<o;r++){let l=t[r].distance;if(t[r].object.visible&&(l-=l*t[r].hysteresis),n>=l)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<o;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,o=n.length;r<o;r++){const l=n[r];t.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return t}}const N2=new ce,B2=new Br,U2=new Br,v5=new ce,V2=new li,du=new ce;class F2 extends Go{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new li,this.bindMatrixInverse=new li,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new $o),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)du.fromBufferAttribute(t,n),this.applyBoneTransform(n,du),this.boundingBox.expandByPoint(du)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new qs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)du.fromBufferAttribute(t,n),this.applyBoneTransform(n,du),this.boundingSphere.expandByPoint(du)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Br,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;B2.fromBufferAttribute(r.attributes.skinIndex,e),U2.fromBufferAttribute(r.attributes.skinWeight,e),N2.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const l=U2.getComponent(o);if(l!==0){const c=B2.getComponent(o);V2.multiplyMatrices(n.bones[c].matrixWorld,n.boneInverses[c]),t.addScaledVector(v5.copy(N2).applyMatrix4(V2),l)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class Rf extends ki{constructor(){super(),this.isBone=!0,this.type="Bone"}}class hu extends gi{constructor(e=null,t=1,n=1,r,o,l,c,f,d=en,m=en,g,v){super(null,l,c,f,d,m,r,o,g,v),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const k2=new li,C5=new li;class _0{constructor(e=[],t=[]){this.uuid=fs(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new li)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new li;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let o=0,l=e.length;o<l;o++){const c=e[o]?e[o].matrixWorld:C5;k2.multiplyMatrices(c,t[o]),k2.toArray(n,o*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new _0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=r1(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new hu(t,e,e,Lr,oe);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const o=e.bones[n];let l=t[o];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),l=new Rf),this.bones.push(l),this.boneInverses.push(new li().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,o=t.length;r<o;r++){const l=t[r];e.bones.push(l.uuid);const c=n[r];e.boneInverses.push(c.toArray())}return e}}class pu extends go{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const mu=new li,$2=new li,x0=[],W2=new $o,_5=new li,Pu=new Go,Iu=new qs;class Z2 extends Go{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new pu(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,_5)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new $o),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,mu),W2.copy(e.boundingBox).applyMatrix4(mu),this.boundingBox.union(W2)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new qs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,mu),Iu.copy(e.boundingSphere).applyMatrix4(mu),this.boundingSphere.union(Iu)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(Pu.geometry=this.geometry,Pu.material=this.material,Pu.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Iu.copy(this.boundingSphere),Iu.applyMatrix4(n),e.ray.intersectsSphere(Iu)!==!1))for(let o=0;o<r;o++){this.getMatrixAt(o,mu),$2.multiplyMatrices(n,mu),Pu.matrixWorld=$2,Pu.raycast(e,x0);for(let l=0,c=x0.length;l<c;l++){const f=x0[l];f.instanceId=o,f.object=this,t.push(f)}x0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new pu(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Na extends Cs{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ar(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const j2=new ce,G2=new ce,X2=new li,Lf=new _1,y0=new qs;class pc extends ki{constructor(e=new xn,t=new Na){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,o=t.count;r<o;r++)j2.fromBufferAttribute(t,r-1),G2.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=j2.distanceTo(G2);e.setAttribute("lineDistance",new Sr(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,l=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),y0.copy(n.boundingSphere),y0.applyMatrix4(r),y0.radius+=o,e.ray.intersectsSphere(y0)===!1)return;X2.copy(r).invert(),Lf.copy(e.ray).applyMatrix4(X2);const c=o/((this.scale.x+this.scale.y+this.scale.z)/3),f=c*c,d=new ce,m=new ce,g=new ce,v=new ce,C=this.isLineSegments?2:1,y=n.index,M=n.attributes.position;if(y!==null){const x=Math.max(0,l.start),U=Math.min(y.count,l.start+l.count);for(let O=x,ne=U-1;O<ne;O+=C){const ue=y.getX(O),we=y.getX(O+1);if(d.fromBufferAttribute(M,ue),m.fromBufferAttribute(M,we),Lf.distanceSqToSegment(d,m,v,g)>f)continue;v.applyMatrix4(this.matrixWorld);const et=e.ray.origin.distanceTo(v);et<e.near||et>e.far||t.push({distance:et,point:g.clone().applyMatrix4(this.matrixWorld),index:O,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,l.start),U=Math.min(M.count,l.start+l.count);for(let O=x,ne=U-1;O<ne;O+=C){if(d.fromBufferAttribute(M,O),m.fromBufferAttribute(M,O+1),Lf.distanceSqToSegment(d,m,v,g)>f)continue;v.applyMatrix4(this.matrixWorld);const we=e.ray.origin.distanceTo(v);we<e.near||we>e.far||t.push({distance:we,point:g.clone().applyMatrix4(this.matrixWorld),index:O,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=r.length;o<l;o++){const c=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=o}}}}}const Y2=new ce,K2=new ce;class yl extends pc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,o=t.count;r<o;r+=2)Y2.fromBufferAttribute(t,r),K2.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+Y2.distanceTo(K2);e.setAttribute("lineDistance",new Sr(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class J2 extends pc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Tf extends Cs{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ar(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const q2=new li,Af=new _1,w0=new qs,M0=new ce;class Q2 extends ki{constructor(e=new xn,t=new Tf){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Points.threshold,l=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),w0.copy(n.boundingSphere),w0.applyMatrix4(r),w0.radius+=o,e.ray.intersectsSphere(w0)===!1)return;q2.copy(r).invert(),Af.copy(e.ray).applyMatrix4(q2);const c=o/((this.scale.x+this.scale.y+this.scale.z)/3),f=c*c,d=n.index,g=n.attributes.position;if(d!==null){const v=Math.max(0,l.start),C=Math.min(d.count,l.start+l.count);for(let y=v,A=C;y<A;y++){const M=d.getX(y);M0.fromBufferAttribute(g,M),e9(M0,M,f,r,e,t,this)}}else{const v=Math.max(0,l.start),C=Math.min(g.count,l.start+l.count);for(let y=v,A=C;y<A;y++)M0.fromBufferAttribute(g,y),e9(M0,y,f,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=r.length;o<l;o++){const c=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=o}}}}}function e9(a,e,t,n,r,o,l){const c=Af.distanceSqToPoint(a);if(c<t){const f=new ce;Af.closestPointToPoint(a,f),f.applyMatrix4(n);const d=r.ray.origin.distanceTo(f);if(d<r.near||d>r.far)return;o.push({distance:d,distanceToRay:Math.sqrt(c),point:f,index:e,face:null,object:l})}}class x5 extends gi{constructor(e,t,n,r,o,l,c,f,d){super(e,t,n,r,o,l,c,f,d),this.isVideoTexture=!0,this.minFilter=l!==void 0?l:Zn,this.magFilter=o!==void 0?o:Zn,this.generateMipmaps=!1;const m=this;function g(){m.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class y5 extends gi{constructor(e,t,n){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=n,this.magFilter=en,this.minFilter=en,this.generateMipmaps=!1,this.needsUpdate=!0}}class Pf extends gi{constructor(e,t,n,r,o,l,c,f,d,m,g,v){super(null,l,c,f,d,m,r,o,g,v),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class w5 extends Pf{constructor(e,t,n,r,o,l){super(e,t,n,o,l),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=jt}}class M5 extends gi{constructor(e,t,n,r,o,l,c,f,d){super(e,t,n,r,o,l,c,f,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class W1{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),o=0;t.push(0);for(let l=1;l<=e;l++)n=this.getPoint(l/e),o+=n.distanceTo(r),t.push(o),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const o=n.length;let l;t?l=t:l=e*n[o-1];let c=0,f=o-1,d;for(;c<=f;)if(r=Math.floor(c+(f-c)/2),d=n[r]-l,d<0)c=r+1;else if(d>0)f=r-1;else{f=r;break}if(r=f,n[r]===l)return r/(o-1);const m=n[r],v=n[r+1]-m,C=(l-m)/v;return(r+C)/(o-1)}getTangent(e,t){let r=e-1e-4,o=e+1e-4;r<0&&(r=0),o>1&&(o=1);const l=this.getPoint(r),c=this.getPoint(o),f=t||(l.isVector2?new hn:new ce);return f.copy(c).sub(l).normalize(),f}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new ce,r=[],o=[],l=[],c=new ce,f=new li;for(let C=0;C<=e;C++){const y=C/e;r[C]=this.getTangentAt(y,new ce)}o[0]=new ce,l[0]=new ce;let d=Number.MAX_VALUE;const m=Math.abs(r[0].x),g=Math.abs(r[0].y),v=Math.abs(r[0].z);m<=d&&(d=m,n.set(1,0,0)),g<=d&&(d=g,n.set(0,1,0)),v<=d&&n.set(0,0,1),c.crossVectors(r[0],n).normalize(),o[0].crossVectors(r[0],c),l[0].crossVectors(r[0],o[0]);for(let C=1;C<=e;C++){if(o[C]=o[C-1].clone(),l[C]=l[C-1].clone(),c.crossVectors(r[C-1],r[C]),c.length()>Number.EPSILON){c.normalize();const y=Math.acos(Ei(r[C-1].dot(r[C]),-1,1));o[C].applyMatrix4(f.makeRotationAxis(c,y))}l[C].crossVectors(r[C],o[C])}if(t===!0){let C=Math.acos(Ei(o[0].dot(o[e]),-1,1));C/=e,r[0].dot(c.crossVectors(o[0],o[e]))>0&&(C=-C);for(let y=1;y<=e;y++)o[y].applyMatrix4(f.makeRotationAxis(r[y],C*y)),l[y].crossVectors(r[y],o[y])}return{tangents:r,normals:o,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class b0 extends W1{constructor(e=0,t=0,n=1,r=1,o=0,l=Math.PI*2,c=!1,f=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=l,this.aClockwise=c,this.aRotation=f}getPoint(e,t){const n=t||new hn,r=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const l=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(l?o=0:o=r),this.aClockwise===!0&&!l&&(o===r?o=-r:o=o-r);const c=this.aStartAngle+e*o;let f=this.aX+this.xRadius*Math.cos(c),d=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),v=f-this.aX,C=d-this.aY;f=v*m-C*g+this.aX,d=v*g+C*m+this.aY}return n.set(f,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class t9 extends b0{constructor(e,t,n,r,o,l){super(e,t,n,n,r,o,l),this.isArcCurve=!0,this.type="ArcCurve"}}function If(){let a=0,e=0,t=0,n=0;function r(o,l,c,f){a=o,e=c,t=-3*o+3*l-2*c-f,n=2*o-2*l+c+f}return{initCatmullRom:function(o,l,c,f,d){r(l,c,d*(c-o),d*(f-l))},initNonuniformCatmullRom:function(o,l,c,f,d,m,g){let v=(l-o)/d-(c-o)/(d+m)+(c-l)/m,C=(c-l)/m-(f-l)/(m+g)+(f-c)/g;v*=m,C*=m,r(l,c,v,C)},calc:function(o){const l=o*o,c=l*o;return a+e*o+t*l+n*c}}}const S0=new ce,Of=new If,Df=new If,Hf=new If;class n9 extends W1{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new ce){const n=t,r=this.points,o=r.length,l=(o-(this.closed?0:1))*e;let c=Math.floor(l),f=l-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/o)+1)*o:f===0&&c===o-1&&(c=o-2,f=1);let d,m;this.closed||c>0?d=r[(c-1)%o]:(S0.subVectors(r[0],r[1]).add(r[0]),d=S0);const g=r[c%o],v=r[(c+1)%o];if(this.closed||c+2<o?m=r[(c+2)%o]:(S0.subVectors(r[o-1],r[o-2]).add(r[o-1]),m=S0),this.curveType==="centripetal"||this.curveType==="chordal"){const C=this.curveType==="chordal"?.5:.25;let y=Math.pow(d.distanceToSquared(g),C),A=Math.pow(g.distanceToSquared(v),C),M=Math.pow(v.distanceToSquared(m),C);A<1e-4&&(A=1),y<1e-4&&(y=A),M<1e-4&&(M=A),Of.initNonuniformCatmullRom(d.x,g.x,v.x,m.x,y,A,M),Df.initNonuniformCatmullRom(d.y,g.y,v.y,m.y,y,A,M),Hf.initNonuniformCatmullRom(d.z,g.z,v.z,m.z,y,A,M)}else this.curveType==="catmullrom"&&(Of.initCatmullRom(d.x,g.x,v.x,m.x,this.tension),Df.initCatmullRom(d.y,g.y,v.y,m.y,this.tension),Hf.initCatmullRom(d.z,g.z,v.z,m.z,this.tension));return n.set(Of.calc(f),Df.calc(f),Hf.calc(f)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new ce().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function r9(a,e,t,n,r){const o=(n-e)*.5,l=(r-t)*.5,c=a*a,f=a*c;return(2*t-2*n+o+l)*f+(-3*t+3*n-2*o-l)*c+o*a+t}function b5(a,e){const t=1-a;return t*t*e}function S5(a,e){return 2*(1-a)*a*e}function E5(a,e){return a*a*e}function Ou(a,e,t,n){return b5(a,e)+S5(a,t)+E5(a,n)}function R5(a,e){const t=1-a;return t*t*t*e}function L5(a,e){const t=1-a;return 3*t*t*a*e}function T5(a,e){return 3*(1-a)*a*a*e}function A5(a,e){return a*a*a*e}function Du(a,e,t,n,r){return R5(a,e)+L5(a,t)+T5(a,n)+A5(a,r)}class zf extends W1{constructor(e=new hn,t=new hn,n=new hn,r=new hn){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new hn){const n=t,r=this.v0,o=this.v1,l=this.v2,c=this.v3;return n.set(Du(e,r.x,o.x,l.x,c.x),Du(e,r.y,o.y,l.y,c.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class i9 extends W1{constructor(e=new ce,t=new ce,n=new ce,r=new ce){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new ce){const n=t,r=this.v0,o=this.v1,l=this.v2,c=this.v3;return n.set(Du(e,r.x,o.x,l.x,c.x),Du(e,r.y,o.y,l.y,c.y),Du(e,r.z,o.z,l.z,c.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class E0 extends W1{constructor(e=new hn,t=new hn){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new hn){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new hn){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class o9 extends W1{constructor(e=new ce,t=new ce){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ce){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ce){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Nf extends W1{constructor(e=new hn,t=new hn,n=new hn){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new hn){const n=t,r=this.v0,o=this.v1,l=this.v2;return n.set(Ou(e,r.x,o.x,l.x),Ou(e,r.y,o.y,l.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Bf extends W1{constructor(e=new ce,t=new ce,n=new ce){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ce){const n=t,r=this.v0,o=this.v1,l=this.v2;return n.set(Ou(e,r.x,o.x,l.x),Ou(e,r.y,o.y,l.y),Ou(e,r.z,o.z,l.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Uf extends W1{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new hn){const n=t,r=this.points,o=(r.length-1)*e,l=Math.floor(o),c=o-l,f=r[l===0?l:l-1],d=r[l],m=r[l>r.length-2?r.length-1:l+1],g=r[l>r.length-3?r.length-1:l+2];return n.set(r9(c,f.x,d.x,m.x,g.x),r9(c,f.y,d.y,m.y,g.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new hn().fromArray(r))}return this}}var Vf=Object.freeze({__proto__:null,ArcCurve:t9,CatmullRomCurve3:n9,CubicBezierCurve:zf,CubicBezierCurve3:i9,EllipseCurve:b0,LineCurve:E0,LineCurve3:o9,QuadraticBezierCurve:Nf,QuadraticBezierCurve3:Bf,SplineCurve:Uf});class s9 extends W1{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new E0(t,e))}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let o=0;for(;o<r.length;){if(r[o]>=n){const l=r[o]-n,c=this.curves[o],f=c.getLength(),d=f===0?0:1-l/f;return c.getPointAt(d,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,o=this.curves;r<o.length;r++){const l=o[r],c=l.isEllipseCurve?e*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?e*l.points.length:e,f=l.getPoints(c);for(let d=0;d<f.length;d++){const m=f[d];n&&n.equals(m)||(t.push(m),n=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new Vf[r.type]().fromJSON(r))}return this}}class Hu extends s9{constructor(e){super(),this.type="Path",this.currentPoint=new hn,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new E0(this.currentPoint.clone(),new hn(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const o=new Nf(this.currentPoint.clone(),new hn(e,t),new hn(n,r));return this.curves.push(o),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,o,l){const c=new zf(this.currentPoint.clone(),new hn(e,t),new hn(n,r),new hn(o,l));return this.curves.push(c),this.currentPoint.set(o,l),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Uf(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,o,l){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absarc(e+c,t+f,n,r,o,l),this}absarc(e,t,n,r,o,l){return this.absellipse(e,t,n,n,r,o,l),this}ellipse(e,t,n,r,o,l,c,f){const d=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+d,t+m,n,r,o,l,c,f),this}absellipse(e,t,n,r,o,l,c,f){const d=new b0(e,t,n,r,o,l,c,f);if(this.curves.length>0){const g=d.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(d);const m=d.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class gu extends xn{constructor(e=[new hn(0,-.5),new hn(.5,0),new hn(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Ei(r,0,Math.PI*2);const o=[],l=[],c=[],f=[],d=[],m=1/t,g=new ce,v=new hn,C=new ce,y=new ce,A=new ce;let M=0,x=0;for(let U=0;U<=e.length-1;U++)switch(U){case 0:M=e[U+1].x-e[U].x,x=e[U+1].y-e[U].y,C.x=x*1,C.y=-M,C.z=x*0,A.copy(C),C.normalize(),f.push(C.x,C.y,C.z);break;case e.length-1:f.push(A.x,A.y,A.z);break;default:M=e[U+1].x-e[U].x,x=e[U+1].y-e[U].y,C.x=x*1,C.y=-M,C.z=x*0,y.copy(C),C.x+=A.x,C.y+=A.y,C.z+=A.z,C.normalize(),f.push(C.x,C.y,C.z),A.copy(y)}for(let U=0;U<=t;U++){const O=n+U*m*r,ne=Math.sin(O),ue=Math.cos(O);for(let we=0;we<=e.length-1;we++){g.x=e[we].x*ne,g.y=e[we].y,g.z=e[we].x*ue,l.push(g.x,g.y,g.z),v.x=U/t,v.y=we/(e.length-1),c.push(v.x,v.y);const Ve=f[3*we+0]*ne,et=f[3*we+1],j=f[3*we+0]*ue;d.push(Ve,et,j)}}for(let U=0;U<t;U++)for(let O=0;O<e.length-1;O++){const ne=O+U*e.length,ue=ne,we=ne+e.length,Ve=ne+e.length+1,et=ne+1;o.push(ue,we,et),o.push(Ve,et,we)}this.setIndex(o),this.setAttribute("position",new Sr(l,3)),this.setAttribute("uv",new Sr(c,2)),this.setAttribute("normal",new Sr(d,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gu(e.points,e.segments,e.phiStart,e.phiLength)}}class zu extends gu{constructor(e=1,t=1,n=4,r=8){const o=new Hu;o.absarc(0,-t/2,e,Math.PI*1.5,0),o.absarc(0,t/2,e,0,Math.PI*.5),super(o.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new zu(e.radius,e.length,e.capSegments,e.radialSegments)}}class Nu extends xn{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const o=[],l=[],c=[],f=[],d=new ce,m=new hn;l.push(0,0,0),c.push(0,0,1),f.push(.5,.5);for(let g=0,v=3;g<=t;g++,v+=3){const C=n+g/t*r;d.x=e*Math.cos(C),d.y=e*Math.sin(C),l.push(d.x,d.y,d.z),c.push(0,0,1),m.x=(l[v]/e+1)/2,m.y=(l[v+1]/e+1)/2,f.push(m.x,m.y)}for(let g=1;g<=t;g++)o.push(g,g+1,0);this.setIndex(o),this.setAttribute("position",new Sr(l,3)),this.setAttribute("normal",new Sr(c,3)),this.setAttribute("uv",new Sr(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nu(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Bc extends xn{constructor(e=1,t=1,n=1,r=32,o=1,l=!1,c=0,f=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:o,openEnded:l,thetaStart:c,thetaLength:f};const d=this;r=Math.floor(r),o=Math.floor(o);const m=[],g=[],v=[],C=[];let y=0;const A=[],M=n/2;let x=0;U(),l===!1&&(e>0&&O(!0),t>0&&O(!1)),this.setIndex(m),this.setAttribute("position",new Sr(g,3)),this.setAttribute("normal",new Sr(v,3)),this.setAttribute("uv",new Sr(C,2));function U(){const ne=new ce,ue=new ce;let we=0;const Ve=(t-e)/n;for(let et=0;et<=o;et++){const j=[],Re=et/o,kt=Re*(t-e)+e;for(let pn=0;pn<=r;pn++){const Mt=pn/r,Bt=Mt*f+c,Xt=Math.sin(Bt),Nn=Math.cos(Bt);ue.x=kt*Xt,ue.y=-Re*n+M,ue.z=kt*Nn,g.push(ue.x,ue.y,ue.z),ne.set(Xt,Ve,Nn).normalize(),v.push(ne.x,ne.y,ne.z),C.push(Mt,1-Re),j.push(y++)}A.push(j)}for(let et=0;et<r;et++)for(let j=0;j<o;j++){const Re=A[j][et],kt=A[j+1][et],pn=A[j+1][et+1],Mt=A[j][et+1];m.push(Re,kt,Mt),m.push(kt,pn,Mt),we+=6}d.addGroup(x,we,0),x+=we}function O(ne){const ue=y,we=new hn,Ve=new ce;let et=0;const j=ne===!0?e:t,Re=ne===!0?1:-1;for(let pn=1;pn<=r;pn++)g.push(0,M*Re,0),v.push(0,Re,0),C.push(.5,.5),y++;const kt=y;for(let pn=0;pn<=r;pn++){const Bt=pn/r*f+c,Xt=Math.cos(Bt),Nn=Math.sin(Bt);Ve.x=j*Nn,Ve.y=M*Re,Ve.z=j*Xt,g.push(Ve.x,Ve.y,Ve.z),v.push(0,Re,0),we.x=Xt*.5+.5,we.y=Nn*.5*Re+.5,C.push(we.x,we.y),y++}for(let pn=0;pn<r;pn++){const Mt=ue+pn,Bt=kt+pn;ne===!0?m.push(Bt,Bt+1,Mt):m.push(Bt+1,Bt,Mt),et+=3}d.addGroup(x,et,ne===!0?1:2),x+=et}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Bu extends Bc{constructor(e=1,t=1,n=32,r=1,o=!1,l=0,c=Math.PI*2){super(0,e,t,n,r,o,l,c),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:o,thetaStart:l,thetaLength:c}}static fromJSON(e){return new Bu(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class jl extends xn{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const o=[],l=[];c(r),d(n),m(),this.setAttribute("position",new Sr(o,3)),this.setAttribute("normal",new Sr(o.slice(),3)),this.setAttribute("uv",new Sr(l,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function c(U){const O=new ce,ne=new ce,ue=new ce;for(let we=0;we<t.length;we+=3)C(t[we+0],O),C(t[we+1],ne),C(t[we+2],ue),f(O,ne,ue,U)}function f(U,O,ne,ue){const we=ue+1,Ve=[];for(let et=0;et<=we;et++){Ve[et]=[];const j=U.clone().lerp(ne,et/we),Re=O.clone().lerp(ne,et/we),kt=we-et;for(let pn=0;pn<=kt;pn++)pn===0&&et===we?Ve[et][pn]=j:Ve[et][pn]=j.clone().lerp(Re,pn/kt)}for(let et=0;et<we;et++)for(let j=0;j<2*(we-et)-1;j++){const Re=Math.floor(j/2);j%2===0?(v(Ve[et][Re+1]),v(Ve[et+1][Re]),v(Ve[et][Re])):(v(Ve[et][Re+1]),v(Ve[et+1][Re+1]),v(Ve[et+1][Re]))}}function d(U){const O=new ce;for(let ne=0;ne<o.length;ne+=3)O.x=o[ne+0],O.y=o[ne+1],O.z=o[ne+2],O.normalize().multiplyScalar(U),o[ne+0]=O.x,o[ne+1]=O.y,o[ne+2]=O.z}function m(){const U=new ce;for(let O=0;O<o.length;O+=3){U.x=o[O+0],U.y=o[O+1],U.z=o[O+2];const ne=M(U)/2/Math.PI+.5,ue=x(U)/Math.PI+.5;l.push(ne,1-ue)}y(),g()}function g(){for(let U=0;U<l.length;U+=6){const O=l[U+0],ne=l[U+2],ue=l[U+4],we=Math.max(O,ne,ue),Ve=Math.min(O,ne,ue);we>.9&&Ve<.1&&(O<.2&&(l[U+0]+=1),ne<.2&&(l[U+2]+=1),ue<.2&&(l[U+4]+=1))}}function v(U){o.push(U.x,U.y,U.z)}function C(U,O){const ne=U*3;O.x=e[ne+0],O.y=e[ne+1],O.z=e[ne+2]}function y(){const U=new ce,O=new ce,ne=new ce,ue=new ce,we=new hn,Ve=new hn,et=new hn;for(let j=0,Re=0;j<o.length;j+=9,Re+=6){U.set(o[j+0],o[j+1],o[j+2]),O.set(o[j+3],o[j+4],o[j+5]),ne.set(o[j+6],o[j+7],o[j+8]),we.set(l[Re+0],l[Re+1]),Ve.set(l[Re+2],l[Re+3]),et.set(l[Re+4],l[Re+5]),ue.copy(U).add(O).add(ne).divideScalar(3);const kt=M(ue);A(we,Re+0,U,kt),A(Ve,Re+2,O,kt),A(et,Re+4,ne,kt)}}function A(U,O,ne,ue){ue<0&&U.x===1&&(l[O]=U.x-1),ne.x===0&&ne.z===0&&(l[O]=ue/2/Math.PI+.5)}function M(U){return Math.atan2(U.z,-U.x)}function x(U){return Math.atan2(-U.y,Math.sqrt(U.x*U.x+U.z*U.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jl(e.vertices,e.indices,e.radius,e.details)}}class Uu extends jl{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,l,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Uu(e.radius,e.detail)}}const R0=new ce,L0=new ce,Ff=new ce,T0=new as;class a9 extends xn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),o=Math.cos(Ao*t),l=e.getIndex(),c=e.getAttribute("position"),f=l?l.count:c.count,d=[0,0,0],m=["a","b","c"],g=new Array(3),v={},C=[];for(let y=0;y<f;y+=3){l?(d[0]=l.getX(y),d[1]=l.getX(y+1),d[2]=l.getX(y+2)):(d[0]=y,d[1]=y+1,d[2]=y+2);const{a:A,b:M,c:x}=T0;if(A.fromBufferAttribute(c,d[0]),M.fromBufferAttribute(c,d[1]),x.fromBufferAttribute(c,d[2]),T0.getNormal(Ff),g[0]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,g[1]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,g[2]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let U=0;U<3;U++){const O=(U+1)%3,ne=g[U],ue=g[O],we=T0[m[U]],Ve=T0[m[O]],et=`${ne}_${ue}`,j=`${ue}_${ne}`;j in v&&v[j]?(Ff.dot(v[j].normal)<=o&&(C.push(we.x,we.y,we.z),C.push(Ve.x,Ve.y,Ve.z)),v[j]=null):et in v||(v[et]={index0:d[U],index1:d[O],normal:Ff.clone()})}}for(const y in v)if(v[y]){const{index0:A,index1:M}=v[y];R0.fromBufferAttribute(c,A),L0.fromBufferAttribute(c,M),C.push(R0.x,R0.y,R0.z),C.push(L0.x,L0.y,L0.z)}this.setAttribute("position",new Sr(C,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Uc extends Hu{constructor(e){super(e),this.uuid=fs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new Hu().fromJSON(r))}return this}}const P5={triangulate:function(a,e,t=2){const n=e&&e.length,r=n?e[0]*t:a.length;let o=l9(a,0,r,t,!0);const l=[];if(!o||o.next===o.prev)return l;let c,f,d,m,g,v,C;if(n&&(o=z5(a,e,o,t)),a.length>80*t){c=d=a[0],f=m=a[1];for(let y=t;y<r;y+=t)g=a[y],v=a[y+1],g<c&&(c=g),v<f&&(f=v),g>d&&(d=g),v>m&&(m=v);C=Math.max(d-c,m-f),C=C!==0?32767/C:0}return Vu(o,l,t,c,f,C,0),l}};function l9(a,e,t,n,r){let o,l;if(r===G5(a,e,t,n)>0)for(o=e;o<t;o+=n)l=f9(o,a[o],a[o+1],l);else for(o=t-n;o>=e;o-=n)l=f9(o,a[o],a[o+1],l);return l&&A0(l,l.next)&&(ku(l),l=l.next),l}function Vc(a,e){if(!a)return a;e||(e=a);let t=a,n;do if(n=!1,!t.steiner&&(A0(t,t.next)||ls(t.prev,t,t.next)===0)){if(ku(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Vu(a,e,t,n,r,o,l){if(!a)return;!l&&o&&F5(a,n,r,o);let c=a,f,d;for(;a.prev!==a.next;){if(f=a.prev,d=a.next,o?O5(a,n,r,o):I5(a)){e.push(f.i/t|0),e.push(a.i/t|0),e.push(d.i/t|0),ku(a),a=d.next,c=d.next;continue}if(a=d,a===c){l?l===1?(a=D5(Vc(a),e,t),Vu(a,e,t,n,r,o,2)):l===2&&H5(a,e,t,n,r,o):Vu(Vc(a),e,t,n,r,o,1);break}}}function I5(a){const e=a.prev,t=a,n=a.next;if(ls(e,t,n)>=0)return!1;const r=e.x,o=t.x,l=n.x,c=e.y,f=t.y,d=n.y,m=r<o?r<l?r:l:o<l?o:l,g=c<f?c<d?c:d:f<d?f:d,v=r>o?r>l?r:l:o>l?o:l,C=c>f?c>d?c:d:f>d?f:d;let y=n.next;for(;y!==e;){if(y.x>=m&&y.x<=v&&y.y>=g&&y.y<=C&&vu(r,c,o,f,l,d,y.x,y.y)&&ls(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function O5(a,e,t,n){const r=a.prev,o=a,l=a.next;if(ls(r,o,l)>=0)return!1;const c=r.x,f=o.x,d=l.x,m=r.y,g=o.y,v=l.y,C=c<f?c<d?c:d:f<d?f:d,y=m<g?m<v?m:v:g<v?g:v,A=c>f?c>d?c:d:f>d?f:d,M=m>g?m>v?m:v:g>v?g:v,x=kf(C,y,e,t,n),U=kf(A,M,e,t,n);let O=a.prevZ,ne=a.nextZ;for(;O&&O.z>=x&&ne&&ne.z<=U;){if(O.x>=C&&O.x<=A&&O.y>=y&&O.y<=M&&O!==r&&O!==l&&vu(c,m,f,g,d,v,O.x,O.y)&&ls(O.prev,O,O.next)>=0||(O=O.prevZ,ne.x>=C&&ne.x<=A&&ne.y>=y&&ne.y<=M&&ne!==r&&ne!==l&&vu(c,m,f,g,d,v,ne.x,ne.y)&&ls(ne.prev,ne,ne.next)>=0))return!1;ne=ne.nextZ}for(;O&&O.z>=x;){if(O.x>=C&&O.x<=A&&O.y>=y&&O.y<=M&&O!==r&&O!==l&&vu(c,m,f,g,d,v,O.x,O.y)&&ls(O.prev,O,O.next)>=0)return!1;O=O.prevZ}for(;ne&&ne.z<=U;){if(ne.x>=C&&ne.x<=A&&ne.y>=y&&ne.y<=M&&ne!==r&&ne!==l&&vu(c,m,f,g,d,v,ne.x,ne.y)&&ls(ne.prev,ne,ne.next)>=0)return!1;ne=ne.nextZ}return!0}function D5(a,e,t){let n=a;do{const r=n.prev,o=n.next.next;!A0(r,o)&&c9(r,n,n.next,o)&&Fu(r,o)&&Fu(o,r)&&(e.push(r.i/t|0),e.push(n.i/t|0),e.push(o.i/t|0),ku(n),ku(n.next),n=a=o),n=n.next}while(n!==a);return Vc(n)}function H5(a,e,t,n,r,o){let l=a;do{let c=l.next.next;for(;c!==l.prev;){if(l.i!==c.i&&W5(l,c)){let f=u9(l,c);l=Vc(l,l.next),f=Vc(f,f.next),Vu(l,e,t,n,r,o,0),Vu(f,e,t,n,r,o,0);return}c=c.next}l=l.next}while(l!==a)}function z5(a,e,t,n){const r=[];let o,l,c,f,d;for(o=0,l=e.length;o<l;o++)c=e[o]*n,f=o<l-1?e[o+1]*n:a.length,d=l9(a,c,f,n,!1),d===d.next&&(d.steiner=!0),r.push($5(d));for(r.sort(N5),o=0;o<r.length;o++)t=B5(r[o],t);return t}function N5(a,e){return a.x-e.x}function B5(a,e){const t=U5(a,e);if(!t)return e;const n=u9(t,a);return Vc(n,n.next),Vc(t,t.next)}function U5(a,e){let t=e,n=-1/0,r;const o=a.x,l=a.y;do{if(l<=t.y&&l>=t.next.y&&t.next.y!==t.y){const v=t.x+(l-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(v<=o&&v>n&&(n=v,r=t.x<t.next.x?t:t.next,v===o))return r}t=t.next}while(t!==e);if(!r)return null;const c=r,f=r.x,d=r.y;let m=1/0,g;t=r;do o>=t.x&&t.x>=f&&o!==t.x&&vu(l<d?o:n,l,f,d,l<d?n:o,l,t.x,t.y)&&(g=Math.abs(l-t.y)/(o-t.x),Fu(t,a)&&(g<m||g===m&&(t.x>r.x||t.x===r.x&&V5(r,t)))&&(r=t,m=g)),t=t.next;while(t!==c);return r}function V5(a,e){return ls(a.prev,a,e.prev)<0&&ls(e.next,a,a.next)<0}function F5(a,e,t,n){let r=a;do r.z===0&&(r.z=kf(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==a);r.prevZ.nextZ=null,r.prevZ=null,k5(r)}function k5(a){let e,t,n,r,o,l,c,f,d=1;do{for(t=a,a=null,o=null,l=0;t;){for(l++,n=t,c=0,e=0;e<d&&(c++,n=n.nextZ,!!n);e++);for(f=d;c>0||f>0&&n;)c!==0&&(f===0||!n||t.z<=n.z)?(r=t,t=t.nextZ,c--):(r=n,n=n.nextZ,f--),o?o.nextZ=r:a=r,r.prevZ=o,o=r;t=n}o.nextZ=null,d*=2}while(l>1);return a}function kf(a,e,t,n,r){return a=(a-t)*r|0,e=(e-n)*r|0,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,a|e<<1}function $5(a){let e=a,t=a;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==a);return t}function vu(a,e,t,n,r,o,l,c){return(r-l)*(e-c)>=(a-l)*(o-c)&&(a-l)*(n-c)>=(t-l)*(e-c)&&(t-l)*(o-c)>=(r-l)*(n-c)}function W5(a,e){return a.next.i!==e.i&&a.prev.i!==e.i&&!Z5(a,e)&&(Fu(a,e)&&Fu(e,a)&&j5(a,e)&&(ls(a.prev,a,e.prev)||ls(a,e.prev,e))||A0(a,e)&&ls(a.prev,a,a.next)>0&&ls(e.prev,e,e.next)>0)}function ls(a,e,t){return(e.y-a.y)*(t.x-e.x)-(e.x-a.x)*(t.y-e.y)}function A0(a,e){return a.x===e.x&&a.y===e.y}function c9(a,e,t,n){const r=I0(ls(a,e,t)),o=I0(ls(a,e,n)),l=I0(ls(t,n,a)),c=I0(ls(t,n,e));return!!(r!==o&&l!==c||r===0&&P0(a,t,e)||o===0&&P0(a,n,e)||l===0&&P0(t,a,n)||c===0&&P0(t,e,n))}function P0(a,e,t){return e.x<=Math.max(a.x,t.x)&&e.x>=Math.min(a.x,t.x)&&e.y<=Math.max(a.y,t.y)&&e.y>=Math.min(a.y,t.y)}function I0(a){return a>0?1:a<0?-1:0}function Z5(a,e){let t=a;do{if(t.i!==a.i&&t.next.i!==a.i&&t.i!==e.i&&t.next.i!==e.i&&c9(t,t.next,a,e))return!0;t=t.next}while(t!==a);return!1}function Fu(a,e){return ls(a.prev,a,a.next)<0?ls(a,e,a.next)>=0&&ls(a,a.prev,e)>=0:ls(a,e,a.prev)<0||ls(a,a.next,e)<0}function j5(a,e){let t=a,n=!1;const r=(a.x+e.x)/2,o=(a.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&r<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==a);return n}function u9(a,e){const t=new $f(a.i,a.x,a.y),n=new $f(e.i,e.x,e.y),r=a.next,o=e.prev;return a.next=e,e.prev=a,t.next=r,r.prev=t,n.next=t,t.prev=n,o.next=n,n.prev=o,n}function f9(a,e,t,n){const r=new $f(a,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function ku(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function $f(a,e,t){this.i=a,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function G5(a,e,t,n){let r=0;for(let o=e,l=t-n;o<t;o+=n)r+=(a[l]-a[o])*(a[o+1]+a[l+1]),l=o;return r}class wl{static area(e){const t=e.length;let n=0;for(let r=t-1,o=0;o<t;r=o++)n+=e[r].x*e[o].y-e[o].x*e[r].y;return n*.5}static isClockWise(e){return wl.area(e)<0}static triangulateShape(e,t){const n=[],r=[],o=[];d9(e),h9(n,e);let l=e.length;t.forEach(d9);for(let f=0;f<t.length;f++)r.push(l),l+=t[f].length,h9(n,t[f]);const c=P5.triangulate(n,r);for(let f=0;f<c.length;f+=3)o.push(c.slice(f,f+3));return o}}function d9(a){const e=a.length;e>2&&a[e-1].equals(a[0])&&a.pop()}function h9(a,e){for(let t=0;t<e.length;t++)a.push(e[t].x),a.push(e[t].y)}class $u extends xn{constructor(e=new Uc([new hn(.5,.5),new hn(-.5,.5),new hn(-.5,-.5),new hn(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],o=[];for(let c=0,f=e.length;c<f;c++){const d=e[c];l(d)}this.setAttribute("position",new Sr(r,3)),this.setAttribute("uv",new Sr(o,2)),this.computeVertexNormals();function l(c){const f=[],d=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,C=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:C-.1,A=t.bevelOffset!==void 0?t.bevelOffset:0,M=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,U=t.UVGenerator!==void 0?t.UVGenerator:X5;let O,ne=!1,ue,we,Ve,et;x&&(O=x.getSpacedPoints(m),ne=!0,v=!1,ue=x.computeFrenetFrames(m,!1),we=new ce,Ve=new ce,et=new ce),v||(M=0,C=0,y=0,A=0);const j=c.extractPoints(d);let Re=j.shape;const kt=j.holes;if(!wl.isClockWise(Re)){Re=Re.reverse();for(let Un=0,mn=kt.length;Un<mn;Un++){const Vn=kt[Un];wl.isClockWise(Vn)&&(kt[Un]=Vn.reverse())}}const Mt=wl.triangulateShape(Re,kt),Bt=Re;for(let Un=0,mn=kt.length;Un<mn;Un++){const Vn=kt[Un];Re=Re.concat(Vn)}function Xt(Un,mn,Vn){return mn||console.error("THREE.ExtrudeGeometry: vec does not exist"),Un.clone().addScaledVector(mn,Vn)}const Nn=Re.length,Pn=Mt.length;function Ln(Un,mn,Vn){let Hr,vr,ci;const ui=Un.x-mn.x,ni=Un.y-mn.y,Xi=Vn.x-Un.x,_o=Vn.y-Un.y,He=ui*ui+ni*ni,fe=ui*_o-ni*Xi;if(Math.abs(fe)>Number.EPSILON){const Gt=Math.sqrt(He),Xn=Math.sqrt(Xi*Xi+_o*_o),tr=mn.x-ni/Gt,xr=mn.y+ui/Gt,mi=Vn.x-_o/Xn,Or=Vn.y+Xi/Xn,un=((mi-tr)*_o-(Or-xr)*Xi)/(ui*_o-ni*Xi);Hr=tr+ui*un-Un.x,vr=xr+ni*un-Un.y;const Fr=Hr*Hr+vr*vr;if(Fr<=2)return new hn(Hr,vr);ci=Math.sqrt(Fr/2)}else{let Gt=!1;ui>Number.EPSILON?Xi>Number.EPSILON&&(Gt=!0):ui<-Number.EPSILON?Xi<-Number.EPSILON&&(Gt=!0):Math.sign(ni)===Math.sign(_o)&&(Gt=!0),Gt?(Hr=-ni,vr=ui,ci=Math.sqrt(He)):(Hr=ui,vr=ni,ci=Math.sqrt(He/2))}return new hn(Hr/ci,vr/ci)}const Bn=[];for(let Un=0,mn=Bt.length,Vn=mn-1,Hr=Un+1;Un<mn;Un++,Vn++,Hr++)Vn===mn&&(Vn=0),Hr===mn&&(Hr=0),Bn[Un]=Ln(Bt[Un],Bt[Vn],Bt[Hr]);const Gn=[];let Ir,yr=Bn.concat();for(let Un=0,mn=kt.length;Un<mn;Un++){const Vn=kt[Un];Ir=[];for(let Hr=0,vr=Vn.length,ci=vr-1,ui=Hr+1;Hr<vr;Hr++,ci++,ui++)ci===vr&&(ci=0),ui===vr&&(ui=0),Ir[Hr]=Ln(Vn[Hr],Vn[ci],Vn[ui]);Gn.push(Ir),yr=yr.concat(Ir)}for(let Un=0;Un<M;Un++){const mn=Un/M,Vn=C*Math.cos(mn*Math.PI/2),Hr=y*Math.sin(mn*Math.PI/2)+A;for(let vr=0,ci=Bt.length;vr<ci;vr++){const ui=Xt(Bt[vr],Bn[vr],Hr);it(ui.x,ui.y,-Vn)}for(let vr=0,ci=kt.length;vr<ci;vr++){const ui=kt[vr];Ir=Gn[vr];for(let ni=0,Xi=ui.length;ni<Xi;ni++){const _o=Xt(ui[ni],Ir[ni],Hr);it(_o.x,_o.y,-Vn)}}}const Jt=y+A;for(let Un=0;Un<Nn;Un++){const mn=v?Xt(Re[Un],yr[Un],Jt):Re[Un];ne?(Ve.copy(ue.normals[0]).multiplyScalar(mn.x),we.copy(ue.binormals[0]).multiplyScalar(mn.y),et.copy(O[0]).add(Ve).add(we),it(et.x,et.y,et.z)):it(mn.x,mn.y,0)}for(let Un=1;Un<=m;Un++)for(let mn=0;mn<Nn;mn++){const Vn=v?Xt(Re[mn],yr[mn],Jt):Re[mn];ne?(Ve.copy(ue.normals[Un]).multiplyScalar(Vn.x),we.copy(ue.binormals[Un]).multiplyScalar(Vn.y),et.copy(O[Un]).add(Ve).add(we),it(et.x,et.y,et.z)):it(Vn.x,Vn.y,g/m*Un)}for(let Un=M-1;Un>=0;Un--){const mn=Un/M,Vn=C*Math.cos(mn*Math.PI/2),Hr=y*Math.sin(mn*Math.PI/2)+A;for(let vr=0,ci=Bt.length;vr<ci;vr++){const ui=Xt(Bt[vr],Bn[vr],Hr);it(ui.x,ui.y,g+Vn)}for(let vr=0,ci=kt.length;vr<ci;vr++){const ui=kt[vr];Ir=Gn[vr];for(let ni=0,Xi=ui.length;ni<Xi;ni++){const _o=Xt(ui[ni],Ir[ni],Hr);ne?it(_o.x,_o.y+O[m-1].y,O[m-1].x+Vn):it(_o.x,_o.y,g+Vn)}}}On(),mr();function On(){const Un=r.length/3;if(v){let mn=0,Vn=Nn*mn;for(let Hr=0;Hr<Pn;Hr++){const vr=Mt[Hr];_i(vr[2]+Vn,vr[1]+Vn,vr[0]+Vn)}mn=m+M*2,Vn=Nn*mn;for(let Hr=0;Hr<Pn;Hr++){const vr=Mt[Hr];_i(vr[0]+Vn,vr[1]+Vn,vr[2]+Vn)}}else{for(let mn=0;mn<Pn;mn++){const Vn=Mt[mn];_i(Vn[2],Vn[1],Vn[0])}for(let mn=0;mn<Pn;mn++){const Vn=Mt[mn];_i(Vn[0]+Nn*m,Vn[1]+Nn*m,Vn[2]+Nn*m)}}n.addGroup(Un,r.length/3-Un,0)}function mr(){const Un=r.length/3;let mn=0;wr(Bt,mn),mn+=Bt.length;for(let Vn=0,Hr=kt.length;Vn<Hr;Vn++){const vr=kt[Vn];wr(vr,mn),mn+=vr.length}n.addGroup(Un,r.length/3-Un,1)}function wr(Un,mn){let Vn=Un.length;for(;--Vn>=0;){const Hr=Vn;let vr=Vn-1;vr<0&&(vr=Un.length-1);for(let ci=0,ui=m+M*2;ci<ui;ci++){const ni=Nn*ci,Xi=Nn*(ci+1),_o=mn+Hr+ni,He=mn+vr+ni,fe=mn+vr+Xi,Gt=mn+Hr+Xi;bi(_o,He,fe,Gt)}}}function it(Un,mn,Vn){f.push(Un),f.push(mn),f.push(Vn)}function _i(Un,mn,Vn){lr(Un),lr(mn),lr(Vn);const Hr=r.length/3,vr=U.generateTopUV(n,r,Hr-3,Hr-2,Hr-1);$r(vr[0]),$r(vr[1]),$r(vr[2])}function bi(Un,mn,Vn,Hr){lr(Un),lr(mn),lr(Hr),lr(mn),lr(Vn),lr(Hr);const vr=r.length/3,ci=U.generateSideWallUV(n,r,vr-6,vr-3,vr-2,vr-1);$r(ci[0]),$r(ci[1]),$r(ci[3]),$r(ci[1]),$r(ci[2]),$r(ci[3])}function lr(Un){r.push(f[Un*3+0]),r.push(f[Un*3+1]),r.push(f[Un*3+2])}function $r(Un){o.push(Un.x),o.push(Un.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return Y5(t,n,e)}static fromJSON(e,t){const n=[];for(let o=0,l=e.shapes.length;o<l;o++){const c=t[e.shapes[o]];n.push(c)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Vf[r.type]().fromJSON(r)),new $u(n,e.options)}}const X5={generateTopUV:function(a,e,t,n,r){const o=e[t*3],l=e[t*3+1],c=e[n*3],f=e[n*3+1],d=e[r*3],m=e[r*3+1];return[new hn(o,l),new hn(c,f),new hn(d,m)]},generateSideWallUV:function(a,e,t,n,r,o){const l=e[t*3],c=e[t*3+1],f=e[t*3+2],d=e[n*3],m=e[n*3+1],g=e[n*3+2],v=e[r*3],C=e[r*3+1],y=e[r*3+2],A=e[o*3],M=e[o*3+1],x=e[o*3+2];return Math.abs(c-m)<Math.abs(l-d)?[new hn(l,1-f),new hn(d,1-g),new hn(v,1-y),new hn(A,1-x)]:[new hn(c,1-f),new hn(m,1-g),new hn(C,1-y),new hn(M,1-x)]}};function Y5(a,e,t){if(t.shapes=[],Array.isArray(a))for(let n=0,r=a.length;n<r;n++){const o=a[n];t.shapes.push(o.uuid)}else t.shapes.push(a.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Wu extends jl{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Wu(e.radius,e.detail)}}class Cu extends jl{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Cu(e.radius,e.detail)}}class Zu extends xn{constructor(e=.5,t=1,n=32,r=1,o=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:l},n=Math.max(3,n),r=Math.max(1,r);const c=[],f=[],d=[],m=[];let g=e;const v=(t-e)/r,C=new ce,y=new hn;for(let A=0;A<=r;A++){for(let M=0;M<=n;M++){const x=o+M/n*l;C.x=g*Math.cos(x),C.y=g*Math.sin(x),f.push(C.x,C.y,C.z),d.push(0,0,1),y.x=(C.x/t+1)/2,y.y=(C.y/t+1)/2,m.push(y.x,y.y)}g+=v}for(let A=0;A<r;A++){const M=A*(n+1);for(let x=0;x<n;x++){const U=x+M,O=U,ne=U+n+1,ue=U+n+2,we=U+1;c.push(O,ne,we),c.push(ne,ue,we)}}this.setIndex(c),this.setAttribute("position",new Sr(f,3)),this.setAttribute("normal",new Sr(d,3)),this.setAttribute("uv",new Sr(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zu(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ju extends xn{constructor(e=new Uc([new hn(0,.5),new hn(-.5,-.5),new hn(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],o=[],l=[];let c=0,f=0;if(Array.isArray(e)===!1)d(e);else for(let m=0;m<e.length;m++)d(e[m]),this.addGroup(c,f,m),c+=f,f=0;this.setIndex(n),this.setAttribute("position",new Sr(r,3)),this.setAttribute("normal",new Sr(o,3)),this.setAttribute("uv",new Sr(l,2));function d(m){const g=r.length/3,v=m.extractPoints(t);let C=v.shape;const y=v.holes;wl.isClockWise(C)===!1&&(C=C.reverse());for(let M=0,x=y.length;M<x;M++){const U=y[M];wl.isClockWise(U)===!0&&(y[M]=U.reverse())}const A=wl.triangulateShape(C,y);for(let M=0,x=y.length;M<x;M++){const U=y[M];C=C.concat(U)}for(let M=0,x=C.length;M<x;M++){const U=C[M];r.push(U.x,U.y,0),o.push(0,0,1),l.push(U.x,U.y)}for(let M=0,x=A.length;M<x;M++){const U=A[M],O=U[0]+g,ne=U[1]+g,ue=U[2]+g;n.push(O,ne,ue),f+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return K5(t,e)}static fromJSON(e,t){const n=[];for(let r=0,o=e.shapes.length;r<o;r++){const l=t[e.shapes[r]];n.push(l)}return new ju(n,e.curveSegments)}}function K5(a,e){if(e.shapes=[],Array.isArray(a))for(let t=0,n=a.length;t<n;t++){const r=a[t];e.shapes.push(r.uuid)}else e.shapes.push(a.uuid);return e}class _u extends xn{constructor(e=1,t=32,n=16,r=0,o=Math.PI*2,l=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:o,thetaStart:l,thetaLength:c},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const f=Math.min(l+c,Math.PI);let d=0;const m=[],g=new ce,v=new ce,C=[],y=[],A=[],M=[];for(let x=0;x<=n;x++){const U=[],O=x/n;let ne=0;x===0&&l===0?ne=.5/t:x===n&&f===Math.PI&&(ne=-.5/t);for(let ue=0;ue<=t;ue++){const we=ue/t;g.x=-e*Math.cos(r+we*o)*Math.sin(l+O*c),g.y=e*Math.cos(l+O*c),g.z=e*Math.sin(r+we*o)*Math.sin(l+O*c),y.push(g.x,g.y,g.z),v.copy(g).normalize(),A.push(v.x,v.y,v.z),M.push(we+ne,1-O),U.push(d++)}m.push(U)}for(let x=0;x<n;x++)for(let U=0;U<t;U++){const O=m[x][U+1],ne=m[x][U],ue=m[x+1][U],we=m[x+1][U+1];(x!==0||l>0)&&C.push(O,ne,we),(x!==n-1||f<Math.PI)&&C.push(ne,ue,we)}this.setIndex(C),this.setAttribute("position",new Sr(y,3)),this.setAttribute("normal",new Sr(A,3)),this.setAttribute("uv",new Sr(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _u(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Gu extends jl{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Gu(e.radius,e.detail)}}class Xu extends xn{constructor(e=1,t=.4,n=12,r=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:o},n=Math.floor(n),r=Math.floor(r);const l=[],c=[],f=[],d=[],m=new ce,g=new ce,v=new ce;for(let C=0;C<=n;C++)for(let y=0;y<=r;y++){const A=y/r*o,M=C/n*Math.PI*2;g.x=(e+t*Math.cos(M))*Math.cos(A),g.y=(e+t*Math.cos(M))*Math.sin(A),g.z=t*Math.sin(M),c.push(g.x,g.y,g.z),m.x=e*Math.cos(A),m.y=e*Math.sin(A),v.subVectors(g,m).normalize(),f.push(v.x,v.y,v.z),d.push(y/r),d.push(C/n)}for(let C=1;C<=n;C++)for(let y=1;y<=r;y++){const A=(r+1)*C+y-1,M=(r+1)*(C-1)+y-1,x=(r+1)*(C-1)+y,U=(r+1)*C+y;l.push(A,M,U),l.push(M,x,U)}this.setIndex(l),this.setAttribute("position",new Sr(c,3)),this.setAttribute("normal",new Sr(f,3)),this.setAttribute("uv",new Sr(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xu(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Yu extends xn{constructor(e=1,t=.4,n=64,r=8,o=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:o,q:l},n=Math.floor(n),r=Math.floor(r);const c=[],f=[],d=[],m=[],g=new ce,v=new ce,C=new ce,y=new ce,A=new ce,M=new ce,x=new ce;for(let O=0;O<=n;++O){const ne=O/n*o*Math.PI*2;U(ne,o,l,e,C),U(ne+.01,o,l,e,y),M.subVectors(y,C),x.addVectors(y,C),A.crossVectors(M,x),x.crossVectors(A,M),A.normalize(),x.normalize();for(let ue=0;ue<=r;++ue){const we=ue/r*Math.PI*2,Ve=-t*Math.cos(we),et=t*Math.sin(we);g.x=C.x+(Ve*x.x+et*A.x),g.y=C.y+(Ve*x.y+et*A.y),g.z=C.z+(Ve*x.z+et*A.z),f.push(g.x,g.y,g.z),v.subVectors(g,C).normalize(),d.push(v.x,v.y,v.z),m.push(O/n),m.push(ue/r)}}for(let O=1;O<=n;O++)for(let ne=1;ne<=r;ne++){const ue=(r+1)*(O-1)+(ne-1),we=(r+1)*O+(ne-1),Ve=(r+1)*O+ne,et=(r+1)*(O-1)+ne;c.push(ue,we,et),c.push(we,Ve,et)}this.setIndex(c),this.setAttribute("position",new Sr(f,3)),this.setAttribute("normal",new Sr(d,3)),this.setAttribute("uv",new Sr(m,2));function U(O,ne,ue,we,Ve){const et=Math.cos(O),j=Math.sin(O),Re=ue/ne*O,kt=Math.cos(Re);Ve.x=we*(2+kt)*.5*et,Ve.y=we*(2+kt)*j*.5,Ve.z=we*Math.sin(Re)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yu(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Ku extends xn{constructor(e=new Bf(new ce(-1,-1,0),new ce(-1,1,0),new ce(1,1,0)),t=64,n=1,r=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:o};const l=e.computeFrenetFrames(t,o);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const c=new ce,f=new ce,d=new hn;let m=new ce;const g=[],v=[],C=[],y=[];A(),this.setIndex(y),this.setAttribute("position",new Sr(g,3)),this.setAttribute("normal",new Sr(v,3)),this.setAttribute("uv",new Sr(C,2));function A(){for(let O=0;O<t;O++)M(O);M(o===!1?t:0),U(),x()}function M(O){m=e.getPointAt(O/t,m);const ne=l.normals[O],ue=l.binormals[O];for(let we=0;we<=r;we++){const Ve=we/r*Math.PI*2,et=Math.sin(Ve),j=-Math.cos(Ve);f.x=j*ne.x+et*ue.x,f.y=j*ne.y+et*ue.y,f.z=j*ne.z+et*ue.z,f.normalize(),v.push(f.x,f.y,f.z),c.x=m.x+n*f.x,c.y=m.y+n*f.y,c.z=m.z+n*f.z,g.push(c.x,c.y,c.z)}}function x(){for(let O=1;O<=t;O++)for(let ne=1;ne<=r;ne++){const ue=(r+1)*(O-1)+(ne-1),we=(r+1)*O+(ne-1),Ve=(r+1)*O+ne,et=(r+1)*(O-1)+ne;y.push(ue,we,et),y.push(we,Ve,et)}}function U(){for(let O=0;O<=t;O++)for(let ne=0;ne<=r;ne++)d.x=O/t,d.y=ne/r,C.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Ku(new Vf[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class p9 extends xn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new ce,o=new ce;if(e.index!==null){const l=e.attributes.position,c=e.index;let f=e.groups;f.length===0&&(f=[{start:0,count:c.count,materialIndex:0}]);for(let d=0,m=f.length;d<m;++d){const g=f[d],v=g.start,C=g.count;for(let y=v,A=v+C;y<A;y+=3)for(let M=0;M<3;M++){const x=c.getX(y+M),U=c.getX(y+(M+1)%3);r.fromBufferAttribute(l,x),o.fromBufferAttribute(l,U),m9(r,o,n)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}}else{const l=e.attributes.position;for(let c=0,f=l.count/3;c<f;c++)for(let d=0;d<3;d++){const m=3*c+d,g=3*c+(d+1)%3;r.fromBufferAttribute(l,m),o.fromBufferAttribute(l,g),m9(r,o,n)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new Sr(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function m9(a,e,t){const n=`${a.x},${a.y},${a.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${a.x},${a.y},${a.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var g9=Object.freeze({__proto__:null,BoxGeometry:Qa,CapsuleGeometry:zu,CircleGeometry:Nu,ConeGeometry:Bu,CylinderGeometry:Bc,DodecahedronGeometry:Uu,EdgesGeometry:a9,ExtrudeGeometry:$u,IcosahedronGeometry:Wu,LatheGeometry:gu,OctahedronGeometry:Cu,PlaneGeometry:Lo,PolyhedronGeometry:jl,RingGeometry:Zu,ShapeGeometry:ju,SphereGeometry:_u,TetrahedronGeometry:Gu,TorusGeometry:Xu,TorusKnotGeometry:Yu,TubeGeometry:Ku,WireframeGeometry:p9});class v9 extends Cs{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ar(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class C9 extends Qs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Wf extends Cs{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ar(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ar(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kr,this.normalScale=new hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _9 extends Wf{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new hn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ei(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ar(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ar(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ar(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class x9 extends Cs{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ar(16777215),this.specular=new ar(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ar(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kr,this.normalScale=new hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Te,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class y9 extends Cs{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ar(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ar(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kr,this.normalScale=new hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class w9 extends Cs{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kr,this.normalScale=new hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class M9 extends Cs{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ar(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ar(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kr,this.normalScale=new hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Te,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class b9 extends Cs{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ar(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kr,this.normalScale=new hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class S9 extends Na{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function I1(a,e,t){return Zf(a)?new a.constructor(a.subarray(e,t!==void 0?t:a.length)):a.slice(e,t)}function Fc(a,e,t){return!a||!t&&a.constructor===e?a:typeof e.BYTES_PER_ELEMENT=="number"?new e(a):Array.prototype.slice.call(a)}function Zf(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function E9(a){function e(r,o){return a[r]-a[o]}const t=a.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function jf(a,e,t){const n=a.length,r=new a.constructor(n);for(let o=0,l=0;l!==n;++o){const c=t[o]*e;for(let f=0;f!==e;++f)r[l++]=a[c+f]}return r}function Gf(a,e,t,n){let r=1,o=a[0];for(;o!==void 0&&o[n]===void 0;)o=a[r++];if(o===void 0)return;let l=o[n];if(l!==void 0)if(Array.isArray(l))do l=o[n],l!==void 0&&(e.push(o.time),t.push.apply(t,l)),o=a[r++];while(o!==void 0);else if(l.toArray!==void 0)do l=o[n],l!==void 0&&(e.push(o.time),l.toArray(t,t.length)),o=a[r++];while(o!==void 0);else do l=o[n],l!==void 0&&(e.push(o.time),t.push(l)),o=a[r++];while(o!==void 0)}function J5(a,e,t,n,r=30){const o=a.clone();o.name=e;const l=[];for(let f=0;f<o.tracks.length;++f){const d=o.tracks[f],m=d.getValueSize(),g=[],v=[];for(let C=0;C<d.times.length;++C){const y=d.times[C]*r;if(!(y<t||y>=n)){g.push(d.times[C]);for(let A=0;A<m;++A)v.push(d.values[C*m+A])}}g.length!==0&&(d.times=Fc(g,d.times.constructor),d.values=Fc(v,d.values.constructor),l.push(d))}o.tracks=l;let c=1/0;for(let f=0;f<o.tracks.length;++f)c>o.tracks[f].times[0]&&(c=o.tracks[f].times[0]);for(let f=0;f<o.tracks.length;++f)o.tracks[f].shift(-1*c);return o.resetDuration(),o}function q5(a,e=0,t=a,n=30){n<=0&&(n=30);const r=t.tracks.length,o=e/n;for(let l=0;l<r;++l){const c=t.tracks[l],f=c.ValueTypeName;if(f==="bool"||f==="string")continue;const d=a.tracks.find(function(x){return x.name===c.name&&x.ValueTypeName===f});if(d===void 0)continue;let m=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let v=0;const C=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=C/3);const y=c.times.length-1;let A;if(o<=c.times[0]){const x=m,U=g-m;A=I1(c.values,x,U)}else if(o>=c.times[y]){const x=y*g+m,U=x+g-m;A=I1(c.values,x,U)}else{const x=c.createInterpolant(),U=m,O=g-m;x.evaluate(o),A=I1(x.resultBuffer,U,O)}f==="quaternion"&&new mo().fromArray(A).normalize().conjugate().toArray(A);const M=d.times.length;for(let x=0;x<M;++x){const U=x*C+v;if(f==="quaternion")mo.multiplyQuaternionsFlat(d.values,U,A,0,d.values,U);else{const O=C-v*2;for(let ne=0;ne<O;++ne)d.values[U+ne]-=A[ne]}}}return a.blendMode=Fo,a}const Q5={arraySlice:I1,convertArray:Fc,isTypedArray:Zf,getKeyframeOrder:E9,sortedArray:jf,flattenJSON:Gf,subclip:J5,makeClipAdditive:q5};class Ju{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],o=t[n-1];e:{t:{let l;n:{r:if(!(e<r)){for(let c=n+2;;){if(r===void 0){if(e<o)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===c)break;if(o=r,r=t[++n],e<r)break t}l=t.length;break n}if(!(e>=o)){const c=t[1];e<c&&(n=2,o=c);for(let f=n-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===f)break;if(r=o,o=t[--n-1],e>=o)break t}l=n,n=0;break n}break e}for(;n<l;){const c=n+l>>>1;e<t[c]?l=c:n=c+1}if(r=t[n],o=t[n-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,o,r)}return this.interpolate_(n,o,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=e*r;for(let l=0;l!==r;++l)t[l]=n[o+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class R9 extends Ju{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:xo,endingEnd:xo}}intervalChanged_(e,t,n){const r=this.parameterPositions;let o=e-2,l=e+1,c=r[o],f=r[l];if(c===void 0)switch(this.getSettings_().endingStart){case Ai:o=e,c=2*t-n;break;case Ss:o=r.length-2,c=t+r[o]-r[o+1];break;default:o=e,c=n}if(f===void 0)switch(this.getSettings_().endingEnd){case Ai:l=e,f=2*n-t;break;case Ss:l=1,f=n+r[1]-r[0];break;default:l=e-1,f=t}const d=(n-t)*.5,m=this.valueSize;this._weightPrev=d/(t-c),this._weightNext=d/(f-n),this._offsetPrev=o*m,this._offsetNext=l*m}interpolate_(e,t,n,r){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,f=e*c,d=f-c,m=this._offsetPrev,g=this._offsetNext,v=this._weightPrev,C=this._weightNext,y=(n-t)/(r-t),A=y*y,M=A*y,x=-v*M+2*v*A-v*y,U=(1+v)*M+(-1.5-2*v)*A+(-.5+v)*y+1,O=(-1-C)*M+(1.5+C)*A+.5*y,ne=C*M-C*A;for(let ue=0;ue!==c;++ue)o[ue]=x*l[m+ue]+U*l[d+ue]+O*l[f+ue]+ne*l[g+ue];return o}}class Xf extends Ju{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,f=e*c,d=f-c,m=(n-t)/(r-t),g=1-m;for(let v=0;v!==c;++v)o[v]=l[d+v]*g+l[f+v]*m;return o}}class L9 extends Ju{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Z1{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Fc(t,this.TimeBufferType),this.values=Fc(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Fc(e.times,Array),values:Fc(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new L9(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Xf(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new R9(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Fi:t=this.InterpolantFactoryMethodDiscrete;break;case Ti:t=this.InterpolantFactoryMethodLinear;break;case hi:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Fi;case this.InterpolantFactoryMethodLinear:return Ti;case this.InterpolantFactoryMethodSmooth:return hi}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let o=0,l=r-1;for(;o!==r&&n[o]<e;)++o;for(;l!==-1&&n[l]>t;)--l;if(++l,o!==0||l!==r){o>=l&&(l=Math.max(l,1),o=l-1);const c=this.getValueSize();this.times=I1(n,o,l),this.values=I1(this.values,o*c,l*c)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,o=n.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let c=0;c!==o;c++){const f=n[c];if(typeof f=="number"&&isNaN(f)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,f),e=!1;break}if(l!==null&&l>f){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,f,l),e=!1;break}l=f}if(r!==void 0&&Zf(r))for(let c=0,f=r.length;c!==f;++c){const d=r[c];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,d),e=!1;break}}return e}optimize(){const e=I1(this.times),t=I1(this.values),n=this.getValueSize(),r=this.getInterpolation()===hi,o=e.length-1;let l=1;for(let c=1;c<o;++c){let f=!1;const d=e[c],m=e[c+1];if(d!==m&&(c!==1||d!==e[0]))if(r)f=!0;else{const g=c*n,v=g-n,C=g+n;for(let y=0;y!==n;++y){const A=t[g+y];if(A!==t[v+y]||A!==t[C+y]){f=!0;break}}}if(f){if(c!==l){e[l]=e[c];const g=c*n,v=l*n;for(let C=0;C!==n;++C)t[v+C]=t[g+C]}++l}}if(o>0){e[l]=e[o];for(let c=o*n,f=l*n,d=0;d!==n;++d)t[f+d]=t[c+d];++l}return l!==e.length?(this.times=I1(e,0,l),this.values=I1(t,0,l*n)):(this.times=e,this.values=t),this}clone(){const e=I1(this.times,0),t=I1(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Z1.prototype.TimeBufferType=Float32Array,Z1.prototype.ValueBufferType=Float32Array,Z1.prototype.DefaultInterpolation=Ti;class kc extends Z1{}kc.prototype.ValueTypeName="bool",kc.prototype.ValueBufferType=Array,kc.prototype.DefaultInterpolation=Fi,kc.prototype.InterpolantFactoryMethodLinear=void 0,kc.prototype.InterpolantFactoryMethodSmooth=void 0;class Yf extends Z1{}Yf.prototype.ValueTypeName="color";class qu extends Z1{}qu.prototype.ValueTypeName="number";class T9 extends Ju{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,f=(n-t)/(r-t);let d=e*c;for(let m=d+c;d!==m;d+=4)mo.slerpFlat(o,0,l,d-c,l,d,f);return o}}class xu extends Z1{InterpolantFactoryMethodLinear(e){return new T9(this.times,this.values,this.getValueSize(),e)}}xu.prototype.ValueTypeName="quaternion",xu.prototype.DefaultInterpolation=Ti,xu.prototype.InterpolantFactoryMethodSmooth=void 0;class $c extends Z1{}$c.prototype.ValueTypeName="string",$c.prototype.ValueBufferType=Array,$c.prototype.DefaultInterpolation=Fi,$c.prototype.InterpolantFactoryMethodLinear=void 0,$c.prototype.InterpolantFactoryMethodSmooth=void 0;class Qu extends Z1{}Qu.prototype.ValueTypeName="vector";class e0{constructor(e,t=-1,n,r=vs){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=fs(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let l=0,c=n.length;l!==c;++l)t.push(t3(n[l]).scale(r));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,l=n.length;o!==l;++o)t.push(Z1.toJSON(n[o]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const o=t.length,l=[];for(let c=0;c<o;c++){let f=[],d=[];f.push((c+o-1)%o,c,(c+1)%o),d.push(0,1,0);const m=E9(f);f=jf(f,1,m),d=jf(d,1,m),!r&&f[0]===0&&(f.push(o),d.push(d[0])),l.push(new qu(".morphTargetInfluences["+t[c].name+"]",f,d).scale(1/n))}return new this(e,-1,l)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},o=/^([\w-]*?)([\d]+)$/;for(let c=0,f=e.length;c<f;c++){const d=e[c],m=d.name.match(o);if(m&&m.length>1){const g=m[1];let v=r[g];v||(r[g]=v=[]),v.push(d)}}const l=[];for(const c in r)l.push(this.CreateFromMorphTargetSequence(c,r[c],t,n));return l}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(g,v,C,y,A){if(C.length!==0){const M=[],x=[];Gf(C,M,x,y),M.length!==0&&A.push(new g(v,M,x))}},r=[],o=e.name||"default",l=e.fps||30,c=e.blendMode;let f=e.length||-1;const d=e.hierarchy||[];for(let g=0;g<d.length;g++){const v=d[g].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const C={};let y;for(y=0;y<v.length;y++)if(v[y].morphTargets)for(let A=0;A<v[y].morphTargets.length;A++)C[v[y].morphTargets[A]]=-1;for(const A in C){const M=[],x=[];for(let U=0;U!==v[y].morphTargets.length;++U){const O=v[y];M.push(O.time),x.push(O.morphTarget===A?1:0)}r.push(new qu(".morphTargetInfluence["+A+"]",M,x))}f=C.length*l}else{const C=".bones["+t[g].name+"]";n(Qu,C+".position",v,"pos",r),n(xu,C+".quaternion",v,"rot",r),n(Qu,C+".scale",v,"scl",r)}}return r.length===0?null:new this(o,f,r,c)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const o=this.tracks[n];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function e3(a){switch(a.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return qu;case"vector":case"vector2":case"vector3":case"vector4":return Qu;case"color":return Yf;case"quaternion":return xu;case"bool":case"boolean":return kc;case"string":return $c}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+a)}function t3(a){if(a.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=e3(a.type);if(a.times===void 0){const t=[],n=[];Gf(a.keys,t,n,"value"),a.times=t,a.values=n}return e.parse!==void 0?e.parse(a):new e(a.name,a.times,a.values,a.interpolation)}const Wc={enabled:!1,files:{},add:function(a,e){this.enabled!==!1&&(this.files[a]=e)},get:function(a){if(this.enabled!==!1)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};class Kf{constructor(e,t,n){const r=this;let o=!1,l=0,c=0,f;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(m){c++,o===!1&&r.onStart!==void 0&&r.onStart(m,l,c),o=!0},this.itemEnd=function(m){l++,r.onProgress!==void 0&&r.onProgress(m,l,c),l===c&&(o=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return f?f(m):m},this.setURLModifier=function(m){return f=m,this},this.addHandler=function(m,g){return d.push(m,g),this},this.removeHandler=function(m){const g=d.indexOf(m);return g!==-1&&d.splice(g,2),this},this.getHandler=function(m){for(let g=0,v=d.length;g<v;g+=2){const C=d[g],y=d[g+1];if(C.global&&(C.lastIndex=0),C.test(m))return y}return null}}}const A9=new Kf;class p1{constructor(e){this.manager=e!==void 0?e:A9,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,o){n.load(e,r,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Gl={};class n3 extends Error{constructor(e,t){super(e),this.response=t}}class Xl extends p1{constructor(e){super(e)}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Wc.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(Gl[e]!==void 0){Gl[e].push({onLoad:t,onProgress:n,onError:r});return}Gl[e]=[],Gl[e].push({onLoad:t,onProgress:n,onError:r});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),c=this.mimeType,f=this.responseType;fetch(l).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||d.body===void 0||d.body.getReader===void 0)return d;const m=Gl[e],g=d.body.getReader(),v=d.headers.get("Content-Length")||d.headers.get("X-File-Size"),C=v?parseInt(v):0,y=C!==0;let A=0;const M=new ReadableStream({start(x){U();function U(){g.read().then(({done:O,value:ne})=>{if(O)x.close();else{A+=ne.byteLength;const ue=new ProgressEvent("progress",{lengthComputable:y,loaded:A,total:C});for(let we=0,Ve=m.length;we<Ve;we++){const et=m[we];et.onProgress&&et.onProgress(ue)}x.enqueue(ne),U()}})}}});return new Response(M)}else throw new n3(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(f){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(m=>new DOMParser().parseFromString(m,c));case"json":return d.json();default:if(c===void 0)return d.text();{const g=/charset="?([^;"\s]*)"?/i.exec(c),v=g&&g[1]?g[1].toLowerCase():void 0,C=new TextDecoder(v);return d.arrayBuffer().then(y=>C.decode(y))}}}).then(d=>{Wc.add(e,d);const m=Gl[e];delete Gl[e];for(let g=0,v=m.length;g<v;g++){const C=m[g];C.onLoad&&C.onLoad(d)}}).catch(d=>{const m=Gl[e];if(m===void 0)throw this.manager.itemError(e),d;delete Gl[e];for(let g=0,v=m.length;g<v;g++){const C=m[g];C.onError&&C.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class r3 extends p1{constructor(e){super(e)}load(e,t,n,r){const o=this,l=new Xl(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{t(o.parse(JSON.parse(c)))}catch(f){r?r(f):console.error(f),o.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=e0.parse(e[n]);t.push(r)}return t}}class i3 extends p1{constructor(e){super(e)}load(e,t,n,r){const o=this,l=[],c=new Pf,f=new Xl(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(o.withCredentials);let d=0;function m(g){f.load(e[g],function(v){const C=o.parse(v,!0);l[g]={width:C.width,height:C.height,format:C.format,mipmaps:C.mipmaps},d+=1,d===6&&(C.mipmapCount===1&&(c.minFilter=Zn),c.image=l,c.format=C.format,c.needsUpdate=!0,t&&t(c))},n,r)}if(Array.isArray(e))for(let g=0,v=e.length;g<v;++g)m(g);else f.load(e,function(g){const v=o.parse(g,!0);if(v.isCubemap){const C=v.mipmaps.length/v.mipmapCount;for(let y=0;y<C;y++){l[y]={mipmaps:[]};for(let A=0;A<v.mipmapCount;A++)l[y].mipmaps.push(v.mipmaps[y*v.mipmapCount+A]),l[y].format=v.format,l[y].width=v.width,l[y].height=v.height}c.image=l}else c.image.width=v.width,c.image.height=v.height,c.mipmaps=v.mipmaps;v.mipmapCount===1&&(c.minFilter=Zn),c.format=v.format,c.needsUpdate=!0,t&&t(c)},n,r);return c}}class t0 extends p1{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=Wc.get(e);if(l!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l;const c=Ji("img");function f(){m(),Wc.add(e,this),t&&t(this),o.manager.itemEnd(e)}function d(g){m(),r&&r(g),o.manager.itemError(e),o.manager.itemEnd(e)}function m(){c.removeEventListener("load",f,!1),c.removeEventListener("error",d,!1)}return c.addEventListener("load",f,!1),c.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),o.manager.itemStart(e),c.src=e,c}}class o3 extends p1{constructor(e){super(e)}load(e,t,n,r){const o=new T1,l=new t0(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let c=0;function f(d){l.load(e[d],function(m){o.images[d]=m,c++,c===6&&(o.needsUpdate=!0,t&&t(o))},void 0,r)}for(let d=0;d<e.length;++d)f(d);return o}}class s3 extends p1{constructor(e){super(e)}load(e,t,n,r){const o=this,l=new hu,c=new Xl(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(o.withCredentials),c.load(e,function(f){const d=o.parse(f);d&&(d.image!==void 0?l.image=d.image:d.data!==void 0&&(l.image.width=d.width,l.image.height=d.height,l.image.data=d.data),l.wrapS=d.wrapS!==void 0?d.wrapS:jt,l.wrapT=d.wrapT!==void 0?d.wrapT:jt,l.magFilter=d.magFilter!==void 0?d.magFilter:Zn,l.minFilter=d.minFilter!==void 0?d.minFilter:Zn,l.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0?l.colorSpace=d.colorSpace:d.encoding!==void 0&&(l.encoding=d.encoding),d.flipY!==void 0&&(l.flipY=d.flipY),d.format!==void 0&&(l.format=d.format),d.type!==void 0&&(l.type=d.type),d.mipmaps!==void 0&&(l.mipmaps=d.mipmaps,l.minFilter=$e),d.mipmapCount===1&&(l.minFilter=Zn),d.generateMipmaps!==void 0&&(l.generateMipmaps=d.generateMipmaps),l.needsUpdate=!0,t&&t(l,d))},n,r),l}}class a3 extends p1{constructor(e){super(e)}load(e,t,n,r){const o=new gi,l=new t0(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(c){o.image=c,o.needsUpdate=!0,t!==void 0&&t(o)},n,r),o}}class mc extends ki{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ar(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class P9 extends mc{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(ki.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ar(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Jf=new li,I9=new ce,O9=new ce;class qf{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new hn(512,512),this.map=null,this.mapPass=null,this.matrix=new li,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Xo,this._frameExtents=new hn(1,1),this._viewportCount=1,this._viewports=[new Br(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;I9.setFromMatrixPosition(e.matrixWorld),t.position.copy(I9),O9.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(O9),t.updateMatrixWorld(),Jf.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Jf),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Jf)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class l3 extends qf{constructor(){super(new Qo(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=da*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(n!==t.fov||r!==t.aspect||o!==t.far)&&(t.fov=n,t.aspect=r,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class D9 extends mc{constructor(e,t,n=0,r=Math.PI/3,o=0,l=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ki.DEFAULT_UP),this.updateMatrix(),this.target=new ki,this.distance=n,this.angle=r,this.penumbra=o,this.decay=l,this.map=null,this.shadow=new l3}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const H9=new li,n0=new ce,Qf=new ce;class c3 extends qf{constructor(){super(new Qo(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new hn(4,2),this._viewportCount=6,this._viewports=[new Br(2,1,1,1),new Br(0,1,1,1),new Br(3,1,1,1),new Br(1,1,1,1),new Br(3,0,1,1),new Br(1,0,1,1)],this._cubeDirections=[new ce(1,0,0),new ce(-1,0,0),new ce(0,0,1),new ce(0,0,-1),new ce(0,1,0),new ce(0,-1,0)],this._cubeUps=[new ce(0,1,0),new ce(0,1,0),new ce(0,1,0),new ce(0,1,0),new ce(0,0,1),new ce(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,o=e.distance||n.far;o!==n.far&&(n.far=o,n.updateProjectionMatrix()),n0.setFromMatrixPosition(e.matrixWorld),n.position.copy(n0),Qf.copy(n.position),Qf.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Qf),n.updateMatrixWorld(),r.makeTranslation(-n0.x,-n0.y,-n0.z),H9.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(H9)}}class z9 extends mc{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new c3}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class u3 extends qf{constructor(){super(new bu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class N9 extends mc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ki.DEFAULT_UP),this.updateMatrix(),this.target=new ki,this.shadow=new u3}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class B9 extends mc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class U9 extends mc{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class V9{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ce)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,o=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.282095),t.addScaledVector(l[1],.488603*r),t.addScaledVector(l[2],.488603*o),t.addScaledVector(l[3],.488603*n),t.addScaledVector(l[4],1.092548*(n*r)),t.addScaledVector(l[5],1.092548*(r*o)),t.addScaledVector(l[6],.315392*(3*o*o-1)),t.addScaledVector(l[7],1.092548*(n*o)),t.addScaledVector(l[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,o=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.886227),t.addScaledVector(l[1],2*.511664*r),t.addScaledVector(l[2],2*.511664*o),t.addScaledVector(l[3],2*.511664*n),t.addScaledVector(l[4],2*.429043*n*r),t.addScaledVector(l[5],2*.429043*r*o),t.addScaledVector(l[6],.743125*o*o-.247708),t.addScaledVector(l[7],2*.429043*n*o),t.addScaledVector(l[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,o=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*o,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*n*o,t[8]=.546274*(n*n-r*r)}}class O0 extends mc{constructor(e=new V9,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class D0 extends p1{constructor(e){super(e),this.textures={}}load(e,t,n,r){const o=this,l=new Xl(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(c){try{t(o.parse(JSON.parse(c)))}catch(f){r?r(f):console.error(f),o.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const r=D0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new ar().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const l=e.uniforms[o];switch(r.uniforms[o]={},l.type){case"t":r.uniforms[o].value=n(l.value);break;case"c":r.uniforms[o].value=new ar().setHex(l.value);break;case"v2":r.uniforms[o].value=new hn().fromArray(l.value);break;case"v3":r.uniforms[o].value=new ce().fromArray(l.value);break;case"v4":r.uniforms[o].value=new Br().fromArray(l.value);break;case"m3":r.uniforms[o].value=new Jr().fromArray(l.value);break;case"m4":r.uniforms[o].value=new li().fromArray(l.value);break;default:r.uniforms[o].value=l.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)r.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),r.normalScale=new hn().fromArray(o)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new hn().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:v9,SpriteMaterial:Sf,RawShaderMaterial:C9,ShaderMaterial:Qs,PointsMaterial:Tf,MeshPhysicalMaterial:_9,MeshStandardMaterial:Wf,MeshPhongMaterial:x9,MeshToonMaterial:y9,MeshNormalMaterial:w9,MeshLambertMaterial:M9,MeshDepthMaterial:wf,MeshDistanceMaterial:Mf,MeshBasicMaterial:qa,MeshMatcapMaterial:b9,LineDashedMaterial:S9,LineBasicMaterial:Na,Material:Cs};return new t[e]}}class ed{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class F9 extends xn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class k9 extends p1{constructor(e){super(e)}load(e,t,n,r){const o=this,l=new Xl(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(c){try{t(o.parse(JSON.parse(c)))}catch(f){r?r(f):console.error(f),o.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(C,y){if(t[y]!==void 0)return t[y];const M=C.interleavedBuffers[y],x=o(C,M.buffer),U=wi(M.type,x),O=new p0(U,M.stride);return O.uuid=M.uuid,t[y]=O,O}function o(C,y){if(n[y]!==void 0)return n[y];const M=C.arrayBuffers[y],x=new Uint32Array(M).buffer;return n[y]=x,x}const l=e.isInstancedBufferGeometry?new F9:new xn,c=e.data.index;if(c!==void 0){const C=wi(c.type,c.array);l.setIndex(new go(C,1))}const f=e.data.attributes;for(const C in f){const y=f[C];let A;if(y.isInterleavedBufferAttribute){const M=r(e.data,y.data);A=new Nc(M,y.itemSize,y.offset,y.normalized)}else{const M=wi(y.type,y.array),x=y.isInstancedBufferAttribute?pu:go;A=new x(M,y.itemSize,y.normalized)}y.name!==void 0&&(A.name=y.name),y.usage!==void 0&&A.setUsage(y.usage),y.updateRange!==void 0&&(A.updateRange.offset=y.updateRange.offset,A.updateRange.count=y.updateRange.count),l.setAttribute(C,A)}const d=e.data.morphAttributes;if(d)for(const C in d){const y=d[C],A=[];for(let M=0,x=y.length;M<x;M++){const U=y[M];let O;if(U.isInterleavedBufferAttribute){const ne=r(e.data,U.data);O=new Nc(ne,U.itemSize,U.offset,U.normalized)}else{const ne=wi(U.type,U.array);O=new go(ne,U.itemSize,U.normalized)}U.name!==void 0&&(O.name=U.name),A.push(O)}l.morphAttributes[C]=A}e.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let C=0,y=g.length;C!==y;++C){const A=g[C];l.addGroup(A.start,A.count,A.materialIndex)}const v=e.data.boundingSphere;if(v!==void 0){const C=new ce;v.center!==void 0&&C.fromArray(v.center),l.boundingSphere=new qs(C,v.radius)}return e.name&&(l.name=e.name),e.userData&&(l.userData=e.userData),l}}class f3 extends p1{constructor(e){super(e)}load(e,t,n,r){const o=this,l=this.path===""?ed.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const c=new Xl(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(f){let d=null;try{d=JSON.parse(f)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const m=d.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(d,t)},n,r)}loadAsync(e,t){return Yl(this,null,function*(){const n=this,r=this.path===""?ed.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const o=new Xl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const l=yield o.loadAsync(e,t),c=JSON.parse(l),f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return yield n.parseAsync(c)})}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,r),l=this.parseImages(e.images,function(){t!==void 0&&t(d)}),c=this.parseTextures(e.textures,l),f=this.parseMaterials(e.materials,c),d=this.parseObject(e.object,o,f,c,n),m=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,m),t!==void 0){let g=!1;for(const v in l)if(l[v].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(d)}return d}parseAsync(e){return Yl(this,null,function*(){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),o=yield this.parseImagesAsync(e.images),l=this.parseTextures(e.textures,o),c=this.parseMaterials(e.materials,l),f=this.parseObject(e.object,r,c,l,t),d=this.parseSkeletons(e.skeletons,f);return this.bindSkeletons(f,d),f})}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const o=new Uc().fromJSON(e[n]);t[o.uuid]=o}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(o){o.isBone&&(r[o.uuid]=o)}),e!==void 0)for(let o=0,l=e.length;o<l;o++){const c=new _0().fromJSON(e[o],r);n[c.uuid]=c}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new k9;for(let o=0,l=e.length;o<l;o++){let c;const f=e[o];switch(f.type){case"BufferGeometry":case"InstancedBufferGeometry":c=r.parse(f);break;default:f.type in g9?c=g9[f.type].fromJSON(f,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${f.type}"`)}c.uuid=f.uuid,f.name!==void 0&&(c.name=f.name),f.userData!==void 0&&(c.userData=f.userData),n[f.uuid]=c}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const o=new D0;o.setTextures(t);for(let l=0,c=e.length;l<c;l++){const f=e[l];n[f.uuid]===void 0&&(n[f.uuid]=o.parse(f)),r[f.uuid]=n[f.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],o=e0.parse(r);t[o.uuid]=o}return t}parseImages(e,t){const n=this,r={};let o;function l(f){return n.manager.itemStart(f),o.load(f,function(){n.manager.itemEnd(f)},void 0,function(){n.manager.itemError(f),n.manager.itemEnd(f)})}function c(f){if(typeof f=="string"){const d=f,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;return l(m)}else return f.data?{data:wi(f.type,f.data),width:f.width,height:f.height}:null}if(e!==void 0&&e.length>0){const f=new Kf(t);o=new t0(f),o.setCrossOrigin(this.crossOrigin);for(let d=0,m=e.length;d<m;d++){const g=e[d],v=g.url;if(Array.isArray(v)){const C=[];for(let y=0,A=v.length;y<A;y++){const M=v[y],x=c(M);x!==null&&(x instanceof HTMLImageElement?C.push(x):C.push(new hu(x.data,x.width,x.height)))}r[g.uuid]=new Pa(C)}else{const C=c(g.url);r[g.uuid]=new Pa(C)}}}return r}parseImagesAsync(e){return Yl(this,null,function*(){const t=this,n={};let r;function o(l){return Yl(this,null,function*(){if(typeof l=="string"){const c=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:t.resourcePath+c;return yield r.loadAsync(f)}else return l.data?{data:wi(l.type,l.data),width:l.width,height:l.height}:null})}if(e!==void 0&&e.length>0){r=new t0(this.manager),r.setCrossOrigin(this.crossOrigin);for(let l=0,c=e.length;l<c;l++){const f=e[l],d=f.url;if(Array.isArray(d)){const m=[];for(let g=0,v=d.length;g<v;g++){const C=d[g],y=yield o(C);y!==null&&(y instanceof HTMLImageElement?m.push(y):m.push(new hu(y.data,y.width,y.height)))}n[f.uuid]=new Pa(m)}else{const m=yield o(f.url);n[f.uuid]=new Pa(m)}}}return n})}parseTextures(e,t){function n(o,l){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),l[o])}const r={};if(e!==void 0)for(let o=0,l=e.length;o<l;o++){const c=e[o];c.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),t[c.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",c.image);const f=t[c.image],d=f.data;let m;Array.isArray(d)?(m=new T1,d.length===6&&(m.needsUpdate=!0)):(d&&d.data?m=new hu:m=new gi,d&&(m.needsUpdate=!0)),m.source=f,m.uuid=c.uuid,c.name!==void 0&&(m.name=c.name),c.mapping!==void 0&&(m.mapping=n(c.mapping,d3)),c.channel!==void 0&&(m.channel=c.channel),c.offset!==void 0&&m.offset.fromArray(c.offset),c.repeat!==void 0&&m.repeat.fromArray(c.repeat),c.center!==void 0&&m.center.fromArray(c.center),c.rotation!==void 0&&(m.rotation=c.rotation),c.wrap!==void 0&&(m.wrapS=n(c.wrap[0],$9),m.wrapT=n(c.wrap[1],$9)),c.format!==void 0&&(m.format=c.format),c.internalFormat!==void 0&&(m.internalFormat=c.internalFormat),c.type!==void 0&&(m.type=c.type),c.colorSpace!==void 0&&(m.colorSpace=c.colorSpace),c.encoding!==void 0&&(m.encoding=c.encoding),c.minFilter!==void 0&&(m.minFilter=n(c.minFilter,W9)),c.magFilter!==void 0&&(m.magFilter=n(c.magFilter,W9)),c.anisotropy!==void 0&&(m.anisotropy=c.anisotropy),c.flipY!==void 0&&(m.flipY=c.flipY),c.generateMipmaps!==void 0&&(m.generateMipmaps=c.generateMipmaps),c.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=c.premultiplyAlpha),c.unpackAlignment!==void 0&&(m.unpackAlignment=c.unpackAlignment),c.userData!==void 0&&(m.userData=c.userData),r[c.uuid]=m}return r}parseObject(e,t,n,r,o){let l;function c(v){return t[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),t[v]}function f(v){if(v!==void 0){if(Array.isArray(v)){const C=[];for(let y=0,A=v.length;y<A;y++){const M=v[y];n[M]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",M),C.push(n[M])}return C}return n[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),n[v]}}function d(v){return r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),r[v]}let m,g;switch(e.type){case"Scene":l=new A2,e.background!==void 0&&(Number.isInteger(e.background)?l.background=new ar(e.background):l.background=d(e.background)),e.environment!==void 0&&(l.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?l.fog=new h0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(l.fog=new d0(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(l.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":l=new Qo(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(l.focus=e.focus),e.zoom!==void 0&&(l.zoom=e.zoom),e.filmGauge!==void 0&&(l.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(l.filmOffset=e.filmOffset),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"OrthographicCamera":l=new bu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(l.zoom=e.zoom),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"AmbientLight":l=new B9(e.color,e.intensity);break;case"DirectionalLight":l=new N9(e.color,e.intensity);break;case"PointLight":l=new z9(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":l=new U9(e.color,e.intensity,e.width,e.height);break;case"SpotLight":l=new D9(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":l=new P9(e.color,e.groundColor,e.intensity);break;case"LightProbe":l=new O0().fromJSON(e);break;case"SkinnedMesh":m=c(e.geometry),g=f(e.material),l=new F2(m,g),e.bindMode!==void 0&&(l.bindMode=e.bindMode),e.bindMatrix!==void 0&&l.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(l.skeleton=e.skeleton);break;case"Mesh":m=c(e.geometry),g=f(e.material),l=new Go(m,g);break;case"InstancedMesh":m=c(e.geometry),g=f(e.material);const v=e.count,C=e.instanceMatrix,y=e.instanceColor;l=new Z2(m,g,v),l.instanceMatrix=new pu(new Float32Array(C.array),16),y!==void 0&&(l.instanceColor=new pu(new Float32Array(y.array),y.itemSize));break;case"LOD":l=new z2;break;case"Line":l=new pc(c(e.geometry),f(e.material));break;case"LineLoop":l=new J2(c(e.geometry),f(e.material));break;case"LineSegments":l=new yl(c(e.geometry),f(e.material));break;case"PointCloud":case"Points":l=new Q2(c(e.geometry),f(e.material));break;case"Sprite":l=new D2(f(e.material));break;case"Group":l=new au;break;case"Bone":l=new Rf;break;default:l=new ki}if(l.uuid=e.uuid,e.name!==void 0&&(l.name=e.name),e.matrix!==void 0?(l.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=e.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(e.position!==void 0&&l.position.fromArray(e.position),e.rotation!==void 0&&l.rotation.fromArray(e.rotation),e.quaternion!==void 0&&l.quaternion.fromArray(e.quaternion),e.scale!==void 0&&l.scale.fromArray(e.scale)),e.up!==void 0&&l.up.fromArray(e.up),e.castShadow!==void 0&&(l.castShadow=e.castShadow),e.receiveShadow!==void 0&&(l.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(l.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(l.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(l.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(l.visible=e.visible),e.frustumCulled!==void 0&&(l.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(l.renderOrder=e.renderOrder),e.userData!==void 0&&(l.userData=e.userData),e.layers!==void 0&&(l.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let C=0;C<v.length;C++)l.add(this.parseObject(v[C],t,n,r,o))}if(e.animations!==void 0){const v=e.animations;for(let C=0;C<v.length;C++){const y=v[C];l.animations.push(o[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(l.autoUpdate=e.autoUpdate);const v=e.levels;for(let C=0;C<v.length;C++){const y=v[C],A=l.getObjectByProperty("uuid",y.object);A!==void 0&&l.addLevel(A,y.distance,y.hysteresis)}}return l}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}}const d3={UVMapping:Qt,CubeReflectionMapping:In,CubeRefractionMapping:sn,EquirectangularReflectionMapping:dn,EquirectangularRefractionMapping:Cr,CubeUVReflectionMapping:oi},$9={RepeatWrapping:Tt,ClampToEdgeWrapping:jt,MirroredRepeatWrapping:_n},W9={NearestFilter:en,NearestMipmapNearestFilter:Mn,NearestMipmapLinearFilter:rr,LinearFilter:Zn,LinearMipmapNearestFilter:ve,LinearMipmapLinearFilter:$e};class h3 extends p1{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=Wc.get(e);if(l!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l;const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",c.headers=this.requestHeader,fetch(e,c).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(f){Wc.add(e,f),t&&t(f),o.manager.itemEnd(e)}).catch(function(f){r&&r(f),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}let H0;class td{static getContext(){return H0===void 0&&(H0=new(window.AudioContext||window.webkitAudioContext)),H0}static setContext(e){H0=e}}class p3 extends p1{constructor(e){super(e)}load(e,t,n,r){const o=this,l=new Xl(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(f){try{const d=f.slice(0);td.getContext().decodeAudioData(d,function(g){t(g)},c)}catch(d){c(d)}},n,r);function c(f){r?r(f):console.error(f),o.manager.itemError(e)}}}class m3 extends O0{constructor(e,t,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;const r=new ar().set(e),o=new ar().set(t),l=new ce(r.r,r.g,r.b),c=new ce(o.r,o.g,o.b),f=Math.sqrt(Math.PI),d=f*Math.sqrt(.75);this.sh.coefficients[0].copy(l).add(c).multiplyScalar(f),this.sh.coefficients[1].copy(l).sub(c).multiplyScalar(d)}}class g3 extends O0{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const n=new ar().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const Z9=new li,j9=new li,Zc=new li;class v3{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Qo,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Qo,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Zc.copy(e.projectionMatrix);const r=t.eyeSep/2,o=r*t.near/t.focus,l=t.near*Math.tan(Ao*t.fov*.5)/t.zoom;let c,f;j9.elements[12]=-r,Z9.elements[12]=r,c=-l*t.aspect+o,f=l*t.aspect+o,Zc.elements[0]=2*t.near/(f-c),Zc.elements[8]=(f+c)/(f-c),this.cameraL.projectionMatrix.copy(Zc),c=-l*t.aspect-o,f=l*t.aspect-o,Zc.elements[0]=2*t.near/(f-c),Zc.elements[8]=(f+c)/(f-c),this.cameraR.projectionMatrix.copy(Zc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(j9),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Z9)}}class G9{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=X9(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=X9();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function X9(){return(typeof performance=="undefined"?Date:performance).now()}const jc=new ce,Y9=new mo,C3=new ce,Gc=new ce;class _3 extends ki{constructor(){super(),this.type="AudioListener",this.context=td.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new G9}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(jc,Y9,C3),Gc.set(0,0,-1).applyQuaternion(Y9),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(jc.x,r),t.positionY.linearRampToValueAtTime(jc.y,r),t.positionZ.linearRampToValueAtTime(jc.z,r),t.forwardX.linearRampToValueAtTime(Gc.x,r),t.forwardY.linearRampToValueAtTime(Gc.y,r),t.forwardZ.linearRampToValueAtTime(Gc.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(jc.x,jc.y,jc.z),t.setOrientation(Gc.x,Gc.y,Gc.z,n.x,n.y,n.z)}}class K9 extends ki{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Xc=new ce,J9=new mo,x3=new ce,Yc=new ce;class y3 extends K9{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Xc,J9,x3),Yc.set(0,0,1).applyQuaternion(J9);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Xc.x,n),t.positionY.linearRampToValueAtTime(Xc.y,n),t.positionZ.linearRampToValueAtTime(Xc.z,n),t.orientationX.linearRampToValueAtTime(Yc.x,n),t.orientationY.linearRampToValueAtTime(Yc.y,n),t.orientationZ.linearRampToValueAtTime(Yc.z,n)}else t.setPosition(Xc.x,Xc.y,Xc.z),t.setOrientation(Yc.x,Yc.y,Yc.z)}}class w3{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class q9{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,o,l;switch(t){case"quaternion":r=this._slerp,o=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,o=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,o=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=o,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,o=e*r+r;let l=this.cumulativeWeight;if(l===0){for(let c=0;c!==r;++c)n[o+c]=n[c];l=t}else{l+=t;const c=t/l;this._mixBufferRegion(n,o,0,c,r)}this.cumulativeWeight=l}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,o=this.cumulativeWeight,l=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const f=t*this._origIndex;this._mixBufferRegion(n,r,f,1-o,t)}l>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let f=t,d=t+t;f!==d;++f)if(n[f]!==n[f+t]){c.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let o=n,l=r;o!==l;++o)t[o]=t[r+o%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,o){if(r>=.5)for(let l=0;l!==o;++l)e[t+l]=e[n+l]}_slerp(e,t,n,r){mo.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,o){const l=this._workIndex*o;mo.multiplyQuaternionsFlat(e,l,e,t,e,n),mo.slerpFlat(e,t,e,t,e,l,r)}_lerp(e,t,n,r,o){const l=1-r;for(let c=0;c!==o;++c){const f=t+c;e[f]=e[f]*l+e[n+c]*r}}_lerpAdditive(e,t,n,r,o){for(let l=0;l!==o;++l){const c=t+l;e[c]=e[c]+e[n+l]*r}}}const nd="\\[\\]\\.:\\/",M3=new RegExp("["+nd+"]","g"),rd="[^"+nd+"]",b3="[^"+nd.replace("\\.","")+"]",S3=/((?:WC+[\/:])*)/.source.replace("WC",rd),E3=/(WCOD+)?/.source.replace("WCOD",b3),R3=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",rd),L3=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",rd),T3=new RegExp("^"+S3+E3+R3+L3+"$"),A3=["material","materials","bones","map"];class P3{constructor(e,t,n){const r=n||vo.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=n.length;r!==o;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class vo{constructor(e,t,n){this.path=t,this.parsedPath=n||vo.parseTrackName(t),this.node=vo.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new vo.Composite(e,t,n):new vo(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(M3,"")}static parseTrackName(e){const t=T3.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const o=n.nodeName.substring(r+1);A3.indexOf(o)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=o)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(o){for(let l=0;l<o.length;l++){const c=o[l];if(c.name===t||c.uuid===t)return c;const f=n(c.children);if(f)return f}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let o=t.propertyIndex;if(e||(e=vo.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let d=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===d){d=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const l=e[r];if(l===void 0){const d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+r+" but it wasn't found.",e);return}let c=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?c=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let f=this.BindingType.Direct;if(o!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}f=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else l.fromArray!==void 0&&l.toArray!==void 0?(f=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(f=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=r;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}vo.Composite=P3,vo.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},vo.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},vo.prototype.GetterByBindingType=[vo.prototype._getValue_direct,vo.prototype._getValue_array,vo.prototype._getValue_arrayElement,vo.prototype._getValue_toArray],vo.prototype.SetterByBindingTypeAndVersioning=[[vo.prototype._setValue_direct,vo.prototype._setValue_direct_setNeedsUpdate,vo.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vo.prototype._setValue_array,vo.prototype._setValue_array_setNeedsUpdate,vo.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vo.prototype._setValue_arrayElement,vo.prototype._setValue_arrayElement_setNeedsUpdate,vo.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vo.prototype._setValue_fromArray,vo.prototype._setValue_fromArray_setNeedsUpdate,vo.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class I3{constructor(){this.isAnimationObjectGroup=!0,this.uuid=fs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,o=this._bindings,l=o.length;let c,f=e.length,d=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const v=arguments[m],C=v.uuid;let y=t[C];if(y===void 0){y=f++,t[C]=y,e.push(v);for(let A=0,M=l;A!==M;++A)o[A].push(new vo(v,n[A],r[A]))}else if(y<d){c=e[y];const A=--d,M=e[A];t[M.uuid]=y,e[y]=M,t[C]=A,e[A]=v;for(let x=0,U=l;x!==U;++x){const O=o[x],ne=O[A];let ue=O[y];O[y]=ne,ue===void 0&&(ue=new vo(v,n[x],r[x])),O[A]=ue}}else e[y]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_;for(let l=0,c=arguments.length;l!==c;++l){const f=arguments[l],d=f.uuid,m=t[d];if(m!==void 0&&m>=o){const g=o++,v=e[g];t[v.uuid]=m,e[m]=v,t[d]=g,e[g]=f;for(let C=0,y=r;C!==y;++C){const A=n[C],M=A[g],x=A[m];A[m]=M,A[g]=x}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_,l=e.length;for(let c=0,f=arguments.length;c!==f;++c){const d=arguments[c],m=d.uuid,g=t[m];if(g!==void 0)if(delete t[m],g<o){const v=--o,C=e[v],y=--l,A=e[y];t[C.uuid]=g,e[g]=C,t[A.uuid]=v,e[v]=A,e.pop();for(let M=0,x=r;M!==x;++M){const U=n[M],O=U[v],ne=U[y];U[g]=O,U[v]=ne,U.pop()}}else{const v=--l,C=e[v];v>0&&(t[C.uuid]=g),e[g]=C,e.pop();for(let y=0,A=r;y!==A;++y){const M=n[y];M[g]=M[v],M.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const o=this._bindings;if(r!==void 0)return o[r];const l=this._paths,c=this._parsedPaths,f=this._objects,d=f.length,m=this.nCachedObjects_,g=new Array(d);r=o.length,n[e]=r,l.push(e),c.push(t),o.push(g);for(let v=m,C=f.length;v!==C;++v){const y=f[v];g[v]=new vo(y,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,o=this._parsedPaths,l=this._bindings,c=l.length-1,f=l[c],d=e[c];t[d]=n,l[n]=f,l.pop(),o[n]=o[c],o.pop(),r[n]=r[c],r.pop()}}}class Q9{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const o=t.tracks,l=o.length,c=new Array(l),f={endingStart:xo,endingEnd:xo};for(let d=0;d!==l;++d){const m=o[d].createInterpolant(null);c[d]=m,m.settings=f}this._interpolantSettings=f,this._interpolants=c,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Di,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const r=this._clip.duration,o=e._clip.duration,l=o/r,c=r/o;e.warp(1,l,t),this.warp(c,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,o=r.time,l=this.timeScale;let c=this._timeScaleInterpolant;c===null&&(c=r._lendControlInterpolant(),this._timeScaleInterpolant=c);const f=c.parameterPositions,d=c.sampleValues;return f[0]=o,f[1]=o+n,d[0]=e/l,d[1]=t/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const f=(e-o)*n;f<0||n===0?t=0:(this._startTime=null,t=n*f)}t*=this._updateTimeScale(e);const l=this._updateTime(t),c=this._updateWeight(e);if(c>0){const f=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case Fo:for(let m=0,g=f.length;m!==g;++m)f[m].evaluate(l),d[m].accumulateAdditive(c);break;case vs:default:for(let m=0,g=f.length;m!==g;++m)f[m].evaluate(l),d[m].accumulate(r,c)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,o=this._loopCount;const l=n===Co;if(e===0)return o===-1?r:l&&(o&1)===1?t-r:r;if(n===Ki){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),r>=t||r<0){const c=Math.floor(r/t);r-=t*c,o+=Math.abs(c);const f=this.repetitions-o;if(f<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(f===1){const d=e<0;this._setEndings(d,!d,l)}else this._setEndings(!1,!1,l);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=r;if(l&&(o&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Ai,r.endingEnd=Ai):(e?r.endingStart=this.zeroSlopeAtStart?Ai:xo:r.endingStart=Ss,t?r.endingEnd=this.zeroSlopeAtEnd?Ai:xo:r.endingEnd=Ss)}_scheduleFading(e,t,n){const r=this._mixer,o=r.time;let l=this._weightInterpolant;l===null&&(l=r._lendControlInterpolant(),this._weightInterpolant=l);const c=l.parameterPositions,f=l.sampleValues;return c[0]=o,f[0]=t,c[1]=o+e,f[1]=n,this}}const O3=new Float32Array(1);class D3 extends Bi{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,o=r.length,l=e._propertyBindings,c=e._interpolants,f=n.uuid,d=this._bindingsByRootAndName;let m=d[f];m===void 0&&(m={},d[f]=m);for(let g=0;g!==o;++g){const v=r[g],C=v.name;let y=m[C];if(y!==void 0)++y.referenceCount,l[g]=y;else{if(y=l[g],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,f,C));continue}const A=t&&t._propertyBindings[g].binding.parsedPath;y=new q9(vo.create(n,C,A),v.ValueTypeName,v.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,f,C),l[g]=y}c[g].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,o=this._actionsByClip[r];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,o=this._actionsByClip;let l=o[t];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=l;else{const c=l.knownActions;e._byClipCacheIndex=c.length,c.push(e)}e._cacheIndex=r.length,r.push(e),l.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,l=this._actionsByClip,c=l[o],f=c.knownActions,d=f[f.length-1],m=e._byClipCacheIndex;d._byClipCacheIndex=m,f[m]=d,f.pop(),e._byClipCacheIndex=null;const g=c.actionByRoot,v=(e._localRoot||this._root).uuid;delete g[v],f.length===0&&delete l[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,o=this._bindings;let l=r[t];l===void 0&&(l={},r[t]=l),l[n]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,o=n.path,l=this._bindingsByRootAndName,c=l[r],f=t[t.length-1],d=e._cacheIndex;f._cacheIndex=d,t[d]=f,t.pop(),delete c[o],Object.keys(c).length===0&&delete l[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new Xf(new Float32Array(2),new Float32Array(2),1,O3),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,o=t[r];e.__cacheIndex=r,t[r]=e,o.__cacheIndex=n,t[n]=o}clipAction(e,t,n){const r=t||this._root,o=r.uuid;let l=typeof e=="string"?e0.findByName(r,e):e;const c=l!==null?l.uuid:e,f=this._actionsByClip[c];let d=null;if(n===void 0&&(l!==null?n=l.blendMode:n=vs),f!==void 0){const g=f.actionByRoot[o];if(g!==void 0&&g.blendMode===n)return g;d=f.knownActions[0],l===null&&(l=d._clip)}if(l===null)return null;const m=new Q9(this,l,t,n);return this._bindAction(m,d),this._addInactiveAction(m,c,o),m}existingAction(e,t){const n=t||this._root,r=n.uuid,o=typeof e=="string"?e0.findByName(n,e):e,l=o?o.uuid:e,c=this._actionsByClip[l];return c!==void 0&&c.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,o=Math.sign(e),l=this._accuIndex^=1;for(let d=0;d!==n;++d)t[d]._update(r,e,o,l);const c=this._bindings,f=this._nActiveBindings;for(let d=0;d!==f;++d)c[d].apply(l);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,o=r[n];if(o!==void 0){const l=o.knownActions;for(let c=0,f=l.length;c!==f;++c){const d=l[c];this._deactivateAction(d);const m=d._cacheIndex,g=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,g._cacheIndex=m,t[m]=g,t.pop(),this._removeInactiveBindingsForAction(d)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const l in n){const c=n[l].actionByRoot,f=c[t];f!==void 0&&(this._deactivateAction(f),this._removeInactiveAction(f))}const r=this._bindingsByRootAndName,o=r[t];if(o!==void 0)for(const l in o){const c=o[l];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class id{constructor(e){this.value=e}clone(){return new id(this.value.clone===void 0?this.value:this.value.clone())}}let H3=0;class z3 extends Bi{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:H3++}),this.name="",this.usage=on,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}clone(){return new this.constructor().copy(this)}}class N3 extends p0{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class B3{constructor(e,t,n,r,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class U3{constructor(e,t,n=0,r=1/0){this.ray=new _1(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new el,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return od(e,this,n,t),n.sort(eh),n}intersectObjects(e,t=!0,n=[]){for(let r=0,o=e.length;r<o;r++)od(e[r],this,n,t);return n.sort(eh),n}}function eh(a,e){return a.distance-e.distance}function od(a,e,t,n){if(a.layers.test(e.layers)&&a.raycast(e,t),n===!0){const r=a.children;for(let o=0,l=r.length;o<l;o++)od(r[o],e,t,!0)}}class V3{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Ei(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class F3{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}const th=new hn;class k3{constructor(e=new hn(1/0,1/0),t=new hn(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=th.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,th).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const nh=new ce,z0=new ce;class $3{constructor(e=new ce,t=new ce){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){nh.subVectors(e,this.start),z0.subVectors(this.end,this.start);const n=z0.dot(z0);let o=z0.dot(nh)/n;return t&&(o=Ei(o,0,1)),o}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const rh=new ce;class W3 extends ki{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new xn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,c=1,f=32;l<f;l++,c++){const d=l/f*Math.PI*2,m=c/f*Math.PI*2;r.push(Math.cos(d),Math.sin(d),1,Math.cos(m),Math.sin(m),1)}n.setAttribute("position",new Sr(r,3));const o=new Na({fog:!1,toneMapped:!1});this.cone=new yl(n,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),rh.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(rh),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const gc=new ce,N0=new li,sd=new li;class Z3 extends yl{constructor(e){const t=ih(e),n=new xn,r=[],o=[],l=new ar(0,0,1),c=new ar(0,1,0);for(let d=0;d<t.length;d++){const m=t[d];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),o.push(l.r,l.g,l.b),o.push(c.r,c.g,c.b))}n.setAttribute("position",new Sr(r,3)),n.setAttribute("color",new Sr(o,3));const f=new Na({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,f),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");sd.copy(this.root.matrixWorld).invert();for(let o=0,l=0;o<t.length;o++){const c=t[o];c.parent&&c.parent.isBone&&(N0.multiplyMatrices(sd,c.matrixWorld),gc.setFromMatrixPosition(N0),r.setXYZ(l,gc.x,gc.y,gc.z),N0.multiplyMatrices(sd,c.parent.matrixWorld),gc.setFromMatrixPosition(N0),r.setXYZ(l+1,gc.x,gc.y,gc.z),l+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function ih(a){const e=[];a.isBone===!0&&e.push(a);for(let t=0;t<a.children.length;t++)e.push.apply(e,ih(a.children[t]));return e}class j3 extends Go{constructor(e,t,n){const r=new _u(t,4,2),o=new qa({wireframe:!0,fog:!1,toneMapped:!1});super(r,o),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const G3=new ce,oh=new ar,sh=new ar;class X3 extends ki{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new Cu(t);r.rotateY(Math.PI*.5),this.material=new qa({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=r.getAttribute("position"),l=new Float32Array(o.count*3);r.setAttribute("color",new go(l,3)),this.add(new Go(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");oh.copy(this.light.color),sh.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const o=n<r/2?oh:sh;t.setXYZ(n,o.r,o.g,o.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(G3.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Y3 extends yl{constructor(e=10,t=10,n=4473924,r=8947848){n=new ar(n),r=new ar(r);const o=t/2,l=e/t,c=e/2,f=[],d=[];for(let v=0,C=0,y=-c;v<=t;v++,y+=l){f.push(-c,0,y,c,0,y),f.push(y,0,-c,y,0,c);const A=v===o?n:r;A.toArray(d,C),C+=3,A.toArray(d,C),C+=3,A.toArray(d,C),C+=3,A.toArray(d,C),C+=3}const m=new xn;m.setAttribute("position",new Sr(f,3)),m.setAttribute("color",new Sr(d,3));const g=new Na({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class K3 extends yl{constructor(e=10,t=16,n=8,r=64,o=4473924,l=8947848){o=new ar(o),l=new ar(l);const c=[],f=[];if(t>1)for(let g=0;g<t;g++){const v=g/t*(Math.PI*2),C=Math.sin(v)*e,y=Math.cos(v)*e;c.push(0,0,0),c.push(C,0,y);const A=g&1?o:l;f.push(A.r,A.g,A.b),f.push(A.r,A.g,A.b)}for(let g=0;g<n;g++){const v=g&1?o:l,C=e-e/n*g;for(let y=0;y<r;y++){let A=y/r*(Math.PI*2),M=Math.sin(A)*C,x=Math.cos(A)*C;c.push(M,0,x),f.push(v.r,v.g,v.b),A=(y+1)/r*(Math.PI*2),M=Math.sin(A)*C,x=Math.cos(A)*C,c.push(M,0,x),f.push(v.r,v.g,v.b)}}const d=new xn;d.setAttribute("position",new Sr(c,3)),d.setAttribute("color",new Sr(f,3));const m=new Na({vertexColors:!0,toneMapped:!1});super(d,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const ah=new ce,B0=new ce,lh=new ce;class J3 extends ki{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new xn;r.setAttribute("position",new Sr([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new Na({fog:!1,toneMapped:!1});this.lightPlane=new pc(r,o),this.add(this.lightPlane),r=new xn,r.setAttribute("position",new Sr([0,0,0,0,0,1],3)),this.targetLine=new pc(r,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),ah.setFromMatrixPosition(this.light.matrixWorld),B0.setFromMatrixPosition(this.light.target.matrixWorld),lh.subVectors(B0,ah),this.lightPlane.lookAt(B0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(B0),this.targetLine.scale.z=lh.length()}}const U0=new ce,ms=new u1;class q3 extends yl{constructor(e){const t=new xn,n=new Na({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],o=[],l={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(y,A){f(y),f(A)}function f(y){r.push(0,0,0),o.push(0,0,0),l[y]===void 0&&(l[y]=[]),l[y].push(r.length/3-1)}t.setAttribute("position",new Sr(r,3)),t.setAttribute("color",new Sr(o,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const d=new ar(16755200),m=new ar(16711680),g=new ar(43775),v=new ar(16777215),C=new ar(3355443);this.setColors(d,m,g,v,C)}setColors(e,t,n,r,o){const c=this.geometry.getAttribute("color");c.setXYZ(0,e.r,e.g,e.b),c.setXYZ(1,e.r,e.g,e.b),c.setXYZ(2,e.r,e.g,e.b),c.setXYZ(3,e.r,e.g,e.b),c.setXYZ(4,e.r,e.g,e.b),c.setXYZ(5,e.r,e.g,e.b),c.setXYZ(6,e.r,e.g,e.b),c.setXYZ(7,e.r,e.g,e.b),c.setXYZ(8,e.r,e.g,e.b),c.setXYZ(9,e.r,e.g,e.b),c.setXYZ(10,e.r,e.g,e.b),c.setXYZ(11,e.r,e.g,e.b),c.setXYZ(12,e.r,e.g,e.b),c.setXYZ(13,e.r,e.g,e.b),c.setXYZ(14,e.r,e.g,e.b),c.setXYZ(15,e.r,e.g,e.b),c.setXYZ(16,e.r,e.g,e.b),c.setXYZ(17,e.r,e.g,e.b),c.setXYZ(18,e.r,e.g,e.b),c.setXYZ(19,e.r,e.g,e.b),c.setXYZ(20,e.r,e.g,e.b),c.setXYZ(21,e.r,e.g,e.b),c.setXYZ(22,e.r,e.g,e.b),c.setXYZ(23,e.r,e.g,e.b),c.setXYZ(24,t.r,t.g,t.b),c.setXYZ(25,t.r,t.g,t.b),c.setXYZ(26,t.r,t.g,t.b),c.setXYZ(27,t.r,t.g,t.b),c.setXYZ(28,t.r,t.g,t.b),c.setXYZ(29,t.r,t.g,t.b),c.setXYZ(30,t.r,t.g,t.b),c.setXYZ(31,t.r,t.g,t.b),c.setXYZ(32,n.r,n.g,n.b),c.setXYZ(33,n.r,n.g,n.b),c.setXYZ(34,n.r,n.g,n.b),c.setXYZ(35,n.r,n.g,n.b),c.setXYZ(36,n.r,n.g,n.b),c.setXYZ(37,n.r,n.g,n.b),c.setXYZ(38,r.r,r.g,r.b),c.setXYZ(39,r.r,r.g,r.b),c.setXYZ(40,o.r,o.g,o.b),c.setXYZ(41,o.r,o.g,o.b),c.setXYZ(42,o.r,o.g,o.b),c.setXYZ(43,o.r,o.g,o.b),c.setXYZ(44,o.r,o.g,o.b),c.setXYZ(45,o.r,o.g,o.b),c.setXYZ(46,o.r,o.g,o.b),c.setXYZ(47,o.r,o.g,o.b),c.setXYZ(48,o.r,o.g,o.b),c.setXYZ(49,o.r,o.g,o.b),c.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;ms.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ws("c",t,e,ms,0,0,-1),ws("t",t,e,ms,0,0,1),ws("n1",t,e,ms,-n,-r,-1),ws("n2",t,e,ms,n,-r,-1),ws("n3",t,e,ms,-n,r,-1),ws("n4",t,e,ms,n,r,-1),ws("f1",t,e,ms,-n,-r,1),ws("f2",t,e,ms,n,-r,1),ws("f3",t,e,ms,-n,r,1),ws("f4",t,e,ms,n,r,1),ws("u1",t,e,ms,n*.7,r*1.1,-1),ws("u2",t,e,ms,-n*.7,r*1.1,-1),ws("u3",t,e,ms,0,r*2,-1),ws("cf1",t,e,ms,-n,0,1),ws("cf2",t,e,ms,n,0,1),ws("cf3",t,e,ms,0,-r,1),ws("cf4",t,e,ms,0,r,1),ws("cn1",t,e,ms,-n,0,-1),ws("cn2",t,e,ms,n,0,-1),ws("cn3",t,e,ms,0,-r,-1),ws("cn4",t,e,ms,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ws(a,e,t,n,r,o,l){U0.set(r,o,l).unproject(n);const c=e[a];if(c!==void 0){const f=t.getAttribute("position");for(let d=0,m=c.length;d<m;d++)f.setXYZ(c[d],U0.x,U0.y,U0.z)}}const V0=new $o;class Q3 extends yl{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),o=new xn;o.setIndex(new go(n,1)),o.setAttribute("position",new go(r,3)),super(o,new Na({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&V0.setFromObject(this.object),V0.isEmpty())return;const t=V0.min,n=V0.max,r=this.geometry.attributes.position,o=r.array;o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=t.x,o[4]=n.y,o[5]=n.z,o[6]=t.x,o[7]=t.y,o[8]=n.z,o[9]=n.x,o[10]=t.y,o[11]=n.z,o[12]=n.x,o[13]=n.y,o[14]=t.z,o[15]=t.x,o[16]=n.y,o[17]=t.z,o[18]=t.x,o[19]=t.y,o[20]=t.z,o[21]=n.x,o[22]=t.y,o[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class e7 extends yl{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new xn;o.setIndex(new go(n,1)),o.setAttribute("position",new Sr(r,3)),super(o,new Na({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class t7 extends pc{constructor(e,t=1,n=16776960){const r=n,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new xn;l.setAttribute("position",new Sr(o,3)),l.computeBoundingSphere(),super(l,new Na({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const c=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],f=new xn;f.setAttribute("position",new Sr(c,3)),f.computeBoundingSphere(),this.add(new Go(f,new qa({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const ch=new ce;let F0,ad;class n7 extends ki{constructor(e=new ce(0,0,1),t=new ce(0,0,0),n=1,r=16776960,o=n*.2,l=o*.2){super(),this.type="ArrowHelper",F0===void 0&&(F0=new xn,F0.setAttribute("position",new Sr([0,0,0,0,1,0],3)),ad=new Bc(0,.5,1,5,1),ad.translate(0,-.5,0)),this.position.copy(t),this.line=new pc(F0,new Na({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Go(ad,new qa({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,o,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{ch.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(ch,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class r7 extends yl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new xn;r.setAttribute("position",new Sr(t,3)),r.setAttribute("color",new Sr(n,3));const o=new Na({vertexColors:!0,toneMapped:!1});super(r,o),this.type="AxesHelper"}setColors(e,t,n){const r=new ar,o=this.geometry.attributes.color.array;return r.set(e),r.toArray(o,0),r.toArray(o,3),r.set(t),r.toArray(o,6),r.toArray(o,9),r.set(n),r.toArray(o,12),r.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class i7{constructor(){this.type="ShapePath",this.color=new ar,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Hu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,o,l){return this.currentPath.bezierCurveTo(e,t,n,r,o,l),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const U=[];for(let O=0,ne=x.length;O<ne;O++){const ue=x[O],we=new Uc;we.curves=ue.curves,U.push(we)}return U}function n(x,U){const O=U.length;let ne=!1;for(let ue=O-1,we=0;we<O;ue=we++){let Ve=U[ue],et=U[we],j=et.x-Ve.x,Re=et.y-Ve.y;if(Math.abs(Re)>Number.EPSILON){if(Re<0&&(Ve=U[we],j=-j,et=U[ue],Re=-Re),x.y<Ve.y||x.y>et.y)continue;if(x.y===Ve.y){if(x.x===Ve.x)return!0}else{const kt=Re*(x.x-Ve.x)-j*(x.y-Ve.y);if(kt===0)return!0;if(kt<0)continue;ne=!ne}}else{if(x.y!==Ve.y)continue;if(et.x<=x.x&&x.x<=Ve.x||Ve.x<=x.x&&x.x<=et.x)return!0}}return ne}const r=wl.isClockWise,o=this.subPaths;if(o.length===0)return[];let l,c,f;const d=[];if(o.length===1)return c=o[0],f=new Uc,f.curves=c.curves,d.push(f),d;let m=!r(o[0].getPoints());m=e?!m:m;const g=[],v=[];let C=[],y=0,A;v[y]=void 0,C[y]=[];for(let x=0,U=o.length;x<U;x++)c=o[x],A=c.getPoints(),l=r(A),l=e?!l:l,l?(!m&&v[y]&&y++,v[y]={s:new Uc,p:A},v[y].s.curves=c.curves,m&&y++,C[y]=[]):C[y].push({h:c,p:A[0]});if(!v[0])return t(o);if(v.length>1){let x=!1,U=0;for(let O=0,ne=v.length;O<ne;O++)g[O]=[];for(let O=0,ne=v.length;O<ne;O++){const ue=C[O];for(let we=0;we<ue.length;we++){const Ve=ue[we];let et=!0;for(let j=0;j<v.length;j++)n(Ve.p,v[j].p)&&(O!==j&&U++,et?(et=!1,g[j].push(Ve)):x=!0);et&&g[O].push(Ve)}}U>0&&x===!1&&(C=g)}let M;for(let x=0,U=v.length;x<U;x++){f=v[x].s,d.push(f),M=C[x];for(let O=0,ne=M.length;O<ne;O++)f.holes.push(M[O].h)}return d}}class o7 extends Qa{constructor(e,t,n,r,o,l){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,n,r,o,l)}}class s7 extends zu{constructor(e,t,n,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,n,r)}}class a7 extends Nu{constructor(e,t,n,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,n,r)}}class l7 extends Bu{constructor(e,t,n,r,o,l,c){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,n,r,o,l,c)}}class c7 extends Bc{constructor(e,t,n,r,o,l,c,f){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,n,r,o,l,c,f)}}class u7 extends Uu{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class f7 extends $u{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class d7 extends Wu{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class h7 extends gu{constructor(e,t,n,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,n,r)}}class p7 extends Cu{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class m7 extends Lo{constructor(e,t,n,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,n,r)}}class g7 extends jl{constructor(e,t,n,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,n,r)}}class v7 extends Zu{constructor(e,t,n,r,o,l){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,n,r,o,l)}}class C7 extends ju{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class _7 extends _u{constructor(e,t,n,r,o,l,c){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,n,r,o,l,c)}}class x7 extends Gu{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class y7 extends Xu{constructor(e,t,n,r,o){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,n,r,o)}}class w7 extends Yu{constructor(e,t,n,r,o,l){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,n,r,o,l)}}class M7 extends Ku{constructor(e,t,n,r,o){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,n,r,o)}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:S}})),typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=S)},42295:function(qt,je,G){"use strict";G.d(je,{Ue:function(){return de},oR:function(){return qe}});var S=G(67475),B=G(50959),D=G(7231);const{useSyncExternalStoreWithSelector:Ne}=D;function qe(he,Be=he.getState,at){const xe=Ne(he.subscribe,he.getState,he.getServerState||he.getState,Be,at);return(0,B.useDebugValue)(xe),xe}const xt=he=>{typeof he!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const Be=typeof he=="function"?(0,S.M)(he):he,at=(xe,mt)=>qe(Be,xe,mt);return Object.assign(at,Be),at},de=he=>he?xt(he):xt;var Ot=he=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),de(he))},67475:function(qt,je,G){"use strict";G.d(je,{M:function(){return B}});const S=Ne=>{let qe;const xt=new Set,de=(xe,mt)=>{const Lt=typeof xe=="function"?xe(qe):xe;if(!Object.is(Lt,qe)){const ee=qe;qe=(mt!=null?mt:typeof Lt!="object")?Lt:Object.assign({},qe,Lt),xt.forEach(Hn=>Hn(qe,ee))}},Ot=()=>qe,at={setState:de,getState:Ot,subscribe:xe=>(xt.add(xe),()=>xt.delete(xe)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),xt.clear()}};return qe=Ne(de,Ot,at),at},B=Ne=>Ne?S(Ne):S;var D=Ne=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'."),B(Ne))}}]);
}());