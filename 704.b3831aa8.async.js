!(function(){var W3=Object.defineProperty,G3=Object.defineProperties;var X3=Object.getOwnPropertyDescriptors;var R0=Object.getOwnPropertySymbols;var u5=Object.prototype.hasOwnProperty,f5=Object.prototype.propertyIsEnumerable;var A0=Math.pow,Gf=(Jt,Qe,K)=>Qe in Jt?W3(Jt,Qe,{enumerable:!0,configurable:!0,writable:!0,value:K}):Jt[Qe]=K,tn=(Jt,Qe)=>{for(var K in Qe||(Qe={}))u5.call(Qe,K)&&Gf(Jt,K,Qe[K]);if(R0)for(var K of R0(Qe))f5.call(Qe,K)&&Gf(Jt,K,Qe[K]);return Jt},Ar=(Jt,Qe)=>G3(Jt,X3(Qe));var Eo=(Jt,Qe)=>{var K={};for(var A in Jt)u5.call(Jt,A)&&Qe.indexOf(A)<0&&(K[A]=Jt[A]);if(Jt!=null&&R0)for(var A of R0(Jt))Qe.indexOf(A)<0&&f5.call(Jt,A)&&(K[A]=Jt[A]);return K};var d5=(Jt,Qe,K)=>(Gf(Jt,typeof Qe!="symbol"?Qe+"":Qe,K),K);var Pl=(Jt,Qe,K)=>new Promise((A,x)=>{var g=k=>{try{T(K.next(k))}catch(z){x(z)}},_=k=>{try{T(K.throw(k))}catch(z){x(z)}},T=k=>k.done?A(k.value):Promise.resolve(k.value).then(g,_);T((K=K.apply(Jt,Qe)).next())});(self.webpackChunkkitchen_color_studio=self.webpackChunkkitchen_color_studio||[]).push([[704],{28771:function(Jt,Qe,K){"use strict";K.d(Qe,{Z:function(){return z}});var A=K(185),x=K(50959),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM304 240a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"database",theme:"outlined"},_=g,T=K(20363),k=function(le,oe){return x.createElement(T.Z,(0,A.Z)((0,A.Z)({},le),{},{ref:oe,icon:_}))};k.displayName="DatabaseOutlined";var z=x.forwardRef(k)},96208:function(Jt,Qe,K){"use strict";K.d(Qe,{Z:function(){return z}});var A=K(185),x=K(50959),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"},_=g,T=K(20363),k=function(le,oe){return x.createElement(T.Z,(0,A.Z)((0,A.Z)({},le),{},{ref:oe,icon:_}))};k.displayName="DeleteFilled";var z=x.forwardRef(k)},51771:function(Jt,Qe,K){"use strict";var A=K(185),x=K(50959),g=K(28343),_=K(20363),T=function(z,Y){return x.createElement(_.Z,(0,A.Z)((0,A.Z)({},z),{},{ref:Y,icon:g.Z}))};T.displayName="DeleteOutlined",Qe.Z=x.forwardRef(T)},76663:function(Jt,Qe,K){"use strict";var A=K(185),x=K(50959),g=K(65662),_=K(20363),T=function(z,Y){return x.createElement(_.Z,(0,A.Z)((0,A.Z)({},z),{},{ref:Y,icon:g.Z}))};T.displayName="DownOutlined",Qe.Z=x.forwardRef(T)},15077:function(Jt,Qe,K){"use strict";var A=K(185),x=K(50959),g=K(34843),_=K(20363),T=function(z,Y){return x.createElement(_.Z,(0,A.Z)((0,A.Z)({},z),{},{ref:Y,icon:g.Z}))};T.displayName="DownloadOutlined",Qe.Z=x.forwardRef(T)},13730:function(Jt,Qe,K){"use strict";K.d(Qe,{Z:function(){return z}});var A=K(185),x=K(50959),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 305H624V192c0-17.7-14.3-32-32-32H184v-40c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v784c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V640h248v113c0 17.7 14.3 32 32 32h416c17.7 0 32-14.3 32-32V337c0-17.7-14.3-32-32-32zM184 568V232h368v336H184zm656 145H504v-73h112c4.4 0 8-3.6 8-8V377h216v336z"}}]},name:"flag",theme:"outlined"},_=g,T=K(20363),k=function(le,oe){return x.createElement(T.Z,(0,A.Z)((0,A.Z)({},le),{},{ref:oe,icon:_}))};k.displayName="FlagOutlined";var z=x.forwardRef(k)},54818:function(Jt,Qe,K){"use strict";var A=K(185),x=K(50959),g=K(95379),_=K(20363),T=function(z,Y){return x.createElement(_.Z,(0,A.Z)((0,A.Z)({},z),{},{ref:Y,icon:g.Z}))};T.displayName="LeftOutlined",Qe.Z=x.forwardRef(T)},96430:function(Jt,Qe,K){"use strict";var A=K(185),x=K(50959),g=K(38907),_=K(20363),T=function(z,Y){return x.createElement(_.Z,(0,A.Z)((0,A.Z)({},z),{},{ref:Y,icon:g.Z}))};T.displayName="PlusOutlined",Qe.Z=x.forwardRef(T)},48601:function(Jt,Qe,K){"use strict";var A=K(185),x=K(50959),g=K(75006),_=K(20363),T=function(z,Y){return x.createElement(_.Z,(0,A.Z)((0,A.Z)({},z),{},{ref:Y,icon:g.Z}))};T.displayName="ReloadOutlined",Qe.Z=x.forwardRef(T)},24886:function(Jt,Qe,K){"use strict";var A=K(185),x=K(50959),g=K(84646),_=K(20363),T=function(z,Y){return x.createElement(_.Z,(0,A.Z)((0,A.Z)({},z),{},{ref:Y,icon:g.Z}))};T.displayName="RightOutlined",Qe.Z=x.forwardRef(T)},43562:function(Jt,Qe,K){"use strict";K.d(Qe,{Z:function(){return z}});var A=K(185),x=K(50959),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},_=g,T=K(20363),k=function(le,oe){return x.createElement(T.Z,(0,A.Z)((0,A.Z)({},le),{},{ref:oe,icon:_}))};k.displayName="RollbackOutlined";var z=x.forwardRef(k)},842:function(Jt,Qe,K){"use strict";K.d(Qe,{Z:function(){return z}});var A=K(185),x=K(50959),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},_=g,T=K(20363),k=function(le,oe){return x.createElement(T.Z,(0,A.Z)((0,A.Z)({},le),{},{ref:oe,icon:_}))};k.displayName="SaveOutlined";var z=x.forwardRef(k)},20802:function(Jt,Qe,K){"use strict";K.d(Qe,{Z:function(){return z}});var A=K(185),x=K(50959),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},_=g,T=K(20363),k=function(le,oe){return x.createElement(T.Z,(0,A.Z)((0,A.Z)({},le),{},{ref:oe,icon:_}))};k.displayName="TableOutlined";var z=x.forwardRef(k)},57018:function(Jt,Qe,K){"use strict";var A=K(185),x=K(50959),g=K(64540),_=K(20363),T=function(z,Y){return x.createElement(_.Z,(0,A.Z)((0,A.Z)({},z),{},{ref:Y,icon:g.Z}))};T.displayName="UpOutlined",Qe.Z=x.forwardRef(T)},99949:function(Jt,Qe,K){"use strict";K.d(Qe,{Z:function(){return z}});var A=K(185),x=K(50959),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},_=g,T=K(20363),k=function(le,oe){return x.createElement(T.Z,(0,A.Z)((0,A.Z)({},le),{},{ref:oe,icon:_}))};k.displayName="UploadOutlined";var z=x.forwardRef(k)},98570:function(Jt,Qe,K){"use strict";K.d(Qe,{H:function(){return ve}});var A=K(185),x=K(66441),g=K(13730),_=K(28771),T=K(20802),k=K(43562),z=K(18559),Y=K(50513),le=K(59892),oe=K(17417),be=K(59749),Se=K(52380),F=K(27346),it=K(83349),st=K(50959),nn=K(58882),ht=K.n(nn),Rt=K(84817),O=K(93251),Ye=K(75157),pt=K(12270),zt=K(58583),Ot=K(84772),Be,Ue,ft,bt,j=(0,Ot.kc)(function(Ce,xe){var de=Ce.token,X=Ce.stylish,ee=Ce.cx,Pe=Ce.css;return{container:ee(xe,Pe(Be||(Be=(0,zt.Z)([`
          `,`
        `])),X.textInfo)),empty:ee("".concat(xe,"-empty"),Pe(Ue||(Ue=(0,zt.Z)([`
          padding: 8px;
          background: `,`;
          border-radius: 4px;
          .studio-empty-normal {
            margin: 12px 0;
          }
        `])),de.colorFillQuaternary)),json:ee("".concat(xe,"-json"),Pe(ft||(ft=(0,zt.Z)([`
          border-radius: 4px;

          .react-json-view {
            background: none !important;
          }
        `])))),table:Pe(bt||(bt=(0,zt.Z)([`
        .studio-table-cell {
          padding: 4px !important;
        }
      `])))}}),ye=K(11527),ge=function(xe){var de=xe.data,X=xe.collapsed,ee=xe.onVisibleChange,Pe=xe.className,Q=xe.renderEmpty,Le=xe.onEmptyClick,Ee=xe.showType,ke=Ee===void 0?!0:Ee,qe=xe.extra,rt=xe.emptyAction,tt=xe.style,St=xe.columns,at=xe.onResetClick,Mt=xe.prefixCls,Et=(0,Ye.k2)("data-previewer",Mt),Ct=(0,pt.r)(),We=Ct.isDarkMode,Ve=j(Et),gt=Ve.styles,$t=Ve.cx,Gt=(0,O.Z)(!1,{value:X,onChange:ee}),Yt=(0,x.Z)(Gt,2),yn=Yt[0],rn=Yt[1],sn=(0,st.useState)(0),Mn=(0,x.Z)(sn,2),xt=Mn[0],he=Mn[1],Me=(0,st.useState)("object"),Oe=(0,x.Z)(Me,2),Ke=Oe[0],Xe=Oe[1],Nt=(0,ye.jsx)(Rt.D,{align:"center",children:(0,ye.jsxs)(Rt.D,{gap:12,width:"fit-content",align:"center",children:[(0,ye.jsx)("div",{children:"\u6CA1\u6709\u6570\u636E\uFF1F\u6765\u8BD5\u8BD5 Demo \u5427"}),(0,ye.jsxs)(Rt.D,{direction:"horizontal",gap:8,children:[(0,ye.jsx)(le.ZP,{icon:(0,ye.jsx)(g.Z,{}),type:"primary",ghost:!0,size:"small",onClick:Le,children:"\u7ACB\u5373\u5C1D\u8BD5"}),rt]})]})}),Qt=(0,st.useMemo)(function(){return(0,ye.jsxs)(Rt.D,{direction:"horizontal",align:"center",children:[(0,ye.jsx)(Rt.D,{children:(0,ye.jsx)(z.Z,{title:"\u663E\u793A\u4E3A".concat(Ke==="table"?"\u5BF9\u8C61":"\u8868\u683C"),placement:"bottom",icon:Ke==="table"?(0,ye.jsx)(_.Z,{}):(0,ye.jsx)(T.Z,{}),onClick:function(){Xe(Ke==="object"?"table":"object")}})}),(0,ye.jsx)(oe.Z,{type:"vertical",dashed:!0,style:{margin:"0 4px"}}),(0,ye.jsxs)(Rt.D,{horizontal:!0,gap:4,children:[(0,ye.jsx)(be.Z,{title:"\u5373\u5C06\u91CD\u7F6E\u5217\u914D\u7F6E\u4E0E\u8868\u683C\u6570\u636E\uFF0C\u5176\u4F59\u914D\u7F6E\uFF08\u5206\u9875\u5668\u3001\u5DE5\u5177\u680F\u7B49\uFF09\u4FDD\u6301\u4E0D\u53D8\u3002\u786E\u5B9A\u91CD\u7F6E\u5417\uFF1F",placement:"left",onConfirm:at,children:(0,ye.jsx)(z.Z,{title:"\u91CD\u7F6E\u6570\u636E",placement:"bottom",icon:(0,ye.jsx)(k.Z,{})})}),qe?(0,ye.jsx)(ye.Fragment,{children:qe}):null]})]})},[Ke,at,qe]);return(0,ye.jsx)("div",{className:$t(Pe,gt.container),style:tt,children:de?(0,ye.jsx)(Y.Z,{title:"\u6570\u636E\u9884\u89C8",expand:!yn,onExpandChange:function(Pn){rn(!Pn)},extra:function(Pn){return Pn?Qt:null},children:(0,ye.jsx)(Rt.D,{children:Ke==="object"?(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(Rt.D,{style:{overflow:"scroll",maxHeight:200,marginBottom:8},className:gt.json,children:(0,ye.jsx)(ht(),{name:"\u7B2C".concat(xt+1,"\u6761\u6570\u636E"),collapseStringsAfterLength:22,enableClipboard:!1,src:de[xt],displayDataTypes:ke,theme:We?"railscasts":void 0})}),(0,ye.jsx)(oe.Z,{style:{margin:"12px 0"},dashed:!0}),(0,ye.jsx)(Rt.D,{align:"flex-end",children:(0,ye.jsx)(F.Z,{current:xt+1,showTotal:function(Pn){return"\u5171 ".concat(Pn," \u6761\u6570\u636E")},onChange:function(Pn){he(Pn-1)},total:de.length,size:"small",pageSize:1})})]}):(0,ye.jsx)(it.Z,{dataSource:de,size:"small",bordered:!0,className:gt.table,pagination:!1,columns:St&&St.map(function(Dn){return(0,A.Z)((0,A.Z)({},Dn),{},{ellipsis:!0})})})})}):(0,ye.jsx)("div",{className:gt.empty,children:(0,ye.jsx)(Se.Z,{image:Se.Z.PRESENTED_IMAGE_SIMPLE,description:Q?Q(Nt):Nt})})})},ve=ge},3061:function(Jt,Qe,K){"use strict";K.d(Qe,{_:function(){return jr}});var A=K(50959),x=K(75157),g=K(185),_=K(45389),T=K(66441),k=K(10422),z=function(){var I=function(U,m){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,w){C.__proto__=w}||function(C,w){for(var L in w)Object.prototype.hasOwnProperty.call(w,L)&&(C[L]=w[L])},I(U,m)};return function(U,m){I(U,m);function C(){this.constructor=U}U.prototype=m===null?Object.create(m):(C.prototype=m.prototype,new C)}}(),Y=function(){return Y=Object.assign||function(I){for(var U,m=1,C=arguments.length;m<C;m++){U=arguments[m];for(var w in U)Object.prototype.hasOwnProperty.call(U,w)&&(I[w]=U[w])}return I},Y.apply(this,arguments)},le={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},oe={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},be={width:"20px",height:"20px",position:"absolute"},Se={top:Y(Y({},le),{top:"-5px"}),right:Y(Y({},oe),{left:void 0,right:"-5px"}),bottom:Y(Y({},le),{top:void 0,bottom:"-5px"}),left:Y(Y({},oe),{left:"-5px"}),topRight:Y(Y({},be),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Y(Y({},be),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Y(Y({},be),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Y(Y({},be),{left:"-10px",top:"-10px",cursor:"nw-resize"})},F=function(I){z(U,I);function U(){var m=I!==null&&I.apply(this,arguments)||this;return m.onMouseDown=function(C){m.props.onResizeStart(C,m.props.direction)},m.onTouchStart=function(C){m.props.onResizeStart(C,m.props.direction)},m}return U.prototype.render=function(){return A.createElement("div",{className:this.props.className||"",style:Y(Y({position:"absolute",userSelect:"none"},Se[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},U}(A.PureComponent),it=function(){var I=function(U,m){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,w){C.__proto__=w}||function(C,w){for(var L in w)Object.prototype.hasOwnProperty.call(w,L)&&(C[L]=w[L])},I(U,m)};return function(U,m){I(U,m);function C(){this.constructor=U}U.prototype=m===null?Object.create(m):(C.prototype=m.prototype,new C)}}(),st=function(){return st=Object.assign||function(I){for(var U,m=1,C=arguments.length;m<C;m++){U=arguments[m];for(var w in U)Object.prototype.hasOwnProperty.call(U,w)&&(I[w]=U[w])}return I},st.apply(this,arguments)},nn={width:"auto",height:"auto"},ht=function(I,U,m){return Math.max(Math.min(I,m),U)},Rt=function(I,U){return Math.round(I/U)*U},O=function(I,U){return new RegExp(I,"i").test(U)},Ye=function(I){return Boolean(I.touches&&I.touches.length)},pt=function(I){return Boolean((I.clientX||I.clientX===0)&&(I.clientY||I.clientY===0))},zt=function(I,U,m){m===void 0&&(m=0);var C=U.reduce(function(L,V,se){return Math.abs(V-I)<Math.abs(U[L]-I)?se:L},0),w=Math.abs(U[C]-I);return m===0||w<m?U[C]:I},Ot=function(I){return I=I.toString(),I==="auto"||I.endsWith("px")||I.endsWith("%")||I.endsWith("vh")||I.endsWith("vw")||I.endsWith("vmax")||I.endsWith("vmin")?I:I+"px"},Be=function(I,U,m,C){if(I&&typeof I=="string"){if(I.endsWith("px"))return Number(I.replace("px",""));if(I.endsWith("%")){var w=Number(I.replace("%",""))/100;return U*w}if(I.endsWith("vw")){var w=Number(I.replace("vw",""))/100;return m*w}if(I.endsWith("vh")){var w=Number(I.replace("vh",""))/100;return C*w}}return I},Ue=function(I,U,m,C,w,L,V){return C=Be(C,I.width,U,m),w=Be(w,I.height,U,m),L=Be(L,I.width,U,m),V=Be(V,I.height,U,m),{maxWidth:typeof C=="undefined"?void 0:Number(C),maxHeight:typeof w=="undefined"?void 0:Number(w),minWidth:typeof L=="undefined"?void 0:Number(L),minHeight:typeof V=="undefined"?void 0:Number(V)}},ft=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],bt="__resizable_base__",j=function(I){it(U,I);function U(m){var C=I.call(this,m)||this;return C.ratio=1,C.resizable=null,C.parentLeft=0,C.parentTop=0,C.resizableLeft=0,C.resizableRight=0,C.resizableTop=0,C.resizableBottom=0,C.targetLeft=0,C.targetTop=0,C.appendBase=function(){if(!C.resizable||!C.window)return null;var w=C.parentNode;if(!w)return null;var L=C.window.document.createElement("div");return L.style.width="100%",L.style.height="100%",L.style.position="absolute",L.style.transform="scale(0, 0)",L.style.left="0",L.style.flex="0 0 100%",L.classList?L.classList.add(bt):L.className+=bt,w.appendChild(L),L},C.removeBase=function(w){var L=C.parentNode;L&&L.removeChild(w)},C.ref=function(w){w&&(C.resizable=w)},C.state={isResizing:!1,width:typeof(C.propsSize&&C.propsSize.width)=="undefined"?"auto":C.propsSize&&C.propsSize.width,height:typeof(C.propsSize&&C.propsSize.height)=="undefined"?"auto":C.propsSize&&C.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},C.onResizeStart=C.onResizeStart.bind(C),C.onMouseMove=C.onMouseMove.bind(C),C.onMouseUp=C.onMouseUp.bind(C),C}return Object.defineProperty(U.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||nn},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"size",{get:function(){var m=0,C=0;if(this.resizable&&this.window){var w=this.resizable.offsetWidth,L=this.resizable.offsetHeight,V=this.resizable.style.position;V!=="relative"&&(this.resizable.style.position="relative"),m=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:w,C=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:L,this.resizable.style.position=V}return{width:m,height:C}},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"sizeStyle",{get:function(){var m=this,C=this.props.size,w=function(se){if(typeof m.state[se]=="undefined"||m.state[se]==="auto")return"auto";if(m.propsSize&&m.propsSize[se]&&m.propsSize[se].toString().endsWith("%")){if(m.state[se].toString().endsWith("%"))return m.state[se].toString();var N=m.getParentSize(),Z=Number(m.state[se].toString().replace("px","")),P=Z/N[se]*100;return P+"%"}return Ot(m.state[se])},L=C&&typeof C.width!="undefined"&&!this.state.isResizing?Ot(C.width):w("width"),V=C&&typeof C.height!="undefined"&&!this.state.isResizing?Ot(C.height):w("height");return{width:L,height:V}},enumerable:!1,configurable:!0}),U.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var m=this.appendBase();if(!m)return{width:0,height:0};var C=!1,w=this.parentNode.style.flexWrap;w!=="wrap"&&(C=!0,this.parentNode.style.flexWrap="wrap"),m.style.position="relative",m.style.minWidth="100%",m.style.minHeight="100%";var L={width:m.offsetWidth,height:m.offsetHeight};return C&&(this.parentNode.style.flexWrap=w),this.removeBase(m),L},U.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},U.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},U.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var m=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:m.flexBasis!=="auto"?m.flexBasis:void 0})}},U.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},U.prototype.createSizeForCssProperty=function(m,C){var w=this.propsSize&&this.propsSize[C];return this.state[C]==="auto"&&this.state.original[C]===m&&(typeof w=="undefined"||w==="auto")?"auto":m},U.prototype.calculateNewMaxFromBoundary=function(m,C){var w=this.props.boundsByDirection,L=this.state.direction,V=w&&O("left",L),se=w&&O("top",L),N,Z;if(this.props.bounds==="parent"){var P=this.parentNode;P&&(N=V?this.resizableRight-this.parentLeft:P.offsetWidth+(this.parentLeft-this.resizableLeft),Z=se?this.resizableBottom-this.parentTop:P.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(N=V?this.resizableRight:this.window.innerWidth-this.resizableLeft,Z=se?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(N=V?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),Z=se?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return N&&Number.isFinite(N)&&(m=m&&m<N?m:N),Z&&Number.isFinite(Z)&&(C=C&&C<Z?C:Z),{maxWidth:m,maxHeight:C}},U.prototype.calculateNewSizeFromDirection=function(m,C){var w=this.props.scale||1,L=this.props.resizeRatio||1,V=this.state,se=V.direction,N=V.original,Z=this.props,P=Z.lockAspectRatio,$=Z.lockAspectRatioExtraHeight,Ne=Z.lockAspectRatioExtraWidth,Ge=N.width,ct=N.height,Ft=$||0,Dt=Ne||0;return O("right",se)&&(Ge=N.width+(m-N.x)*L/w,P&&(ct=(Ge-Dt)/this.ratio+Ft)),O("left",se)&&(Ge=N.width-(m-N.x)*L/w,P&&(ct=(Ge-Dt)/this.ratio+Ft)),O("bottom",se)&&(ct=N.height+(C-N.y)*L/w,P&&(Ge=(ct-Ft)*this.ratio+Dt)),O("top",se)&&(ct=N.height-(C-N.y)*L/w,P&&(Ge=(ct-Ft)*this.ratio+Dt)),{newWidth:Ge,newHeight:ct}},U.prototype.calculateNewSizeFromAspectRatio=function(m,C,w,L){var V=this.props,se=V.lockAspectRatio,N=V.lockAspectRatioExtraHeight,Z=V.lockAspectRatioExtraWidth,P=typeof L.width=="undefined"?10:L.width,$=typeof w.width=="undefined"||w.width<0?m:w.width,Ne=typeof L.height=="undefined"?10:L.height,Ge=typeof w.height=="undefined"||w.height<0?C:w.height,ct=N||0,Ft=Z||0;if(se){var Dt=(Ne-ct)*this.ratio+Ft,dt=(Ge-ct)*this.ratio+Ft,mt=(P-Ft)/this.ratio+ct,ut=($-Ft)/this.ratio+ct,Zt=Math.max(P,Dt),Sn=Math.min($,dt),xn=Math.max(Ne,mt),Fn=Math.min(Ge,ut);m=ht(m,Zt,Sn),C=ht(C,xn,Fn)}else m=ht(m,P,$),C=ht(C,Ne,Ge);return{newWidth:m,newHeight:C}},U.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var m=this.parentNode;if(m){var C=m.getBoundingClientRect();this.parentLeft=C.left,this.parentTop=C.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var w=this.props.bounds.getBoundingClientRect();this.targetLeft=w.left,this.targetTop=w.top}if(this.resizable){var L=this.resizable.getBoundingClientRect(),V=L.left,se=L.top,N=L.right,Z=L.bottom;this.resizableLeft=V,this.resizableRight=N,this.resizableTop=se,this.resizableBottom=Z}},U.prototype.onResizeStart=function(m,C){if(!(!this.resizable||!this.window)){var w=0,L=0;if(m.nativeEvent&&pt(m.nativeEvent)?(w=m.nativeEvent.clientX,L=m.nativeEvent.clientY):m.nativeEvent&&Ye(m.nativeEvent)&&(w=m.nativeEvent.touches[0].clientX,L=m.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var V=this.props.onResizeStart(m,C,this.resizable);if(V===!1)return}this.props.size&&(typeof this.props.size.height!="undefined"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width!="undefined"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var se,N=this.window.getComputedStyle(this.resizable);if(N.flexBasis!=="auto"){var Z=this.parentNode;if(Z){var P=this.window.getComputedStyle(Z).flexDirection;this.flexDir=P.startsWith("row")?"row":"column",se=N.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var $={original:{x:w,y:L,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:st(st({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(m.target).cursor||"auto"}),direction:C,flexBasis:se};this.setState($)}},U.prototype.onMouseMove=function(m){var C=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&Ye(m))try{m.preventDefault(),m.stopPropagation()}catch(Hr){}var w=this.props,L=w.maxWidth,V=w.maxHeight,se=w.minWidth,N=w.minHeight,Z=Ye(m)?m.touches[0].clientX:m.clientX,P=Ye(m)?m.touches[0].clientY:m.clientY,$=this.state,Ne=$.direction,Ge=$.original,ct=$.width,Ft=$.height,Dt=this.getParentSize(),dt=Ue(Dt,this.window.innerWidth,this.window.innerHeight,L,V,se,N);L=dt.maxWidth,V=dt.maxHeight,se=dt.minWidth,N=dt.minHeight;var mt=this.calculateNewSizeFromDirection(Z,P),ut=mt.newHeight,Zt=mt.newWidth,Sn=this.calculateNewMaxFromBoundary(L,V);this.props.snap&&this.props.snap.x&&(Zt=zt(Zt,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(ut=zt(ut,this.props.snap.y,this.props.snapGap));var xn=this.calculateNewSizeFromAspectRatio(Zt,ut,{width:Sn.maxWidth,height:Sn.maxHeight},{width:se,height:N});if(Zt=xn.newWidth,ut=xn.newHeight,this.props.grid){var Fn=Rt(Zt,this.props.grid[0]),An=Rt(ut,this.props.grid[1]),zn=this.props.snapGap||0;Zt=zn===0||Math.abs(Fn-Zt)<=zn?Fn:Zt,ut=zn===0||Math.abs(An-ut)<=zn?An:ut}var Jn={width:Zt-Ge.width,height:ut-Ge.height};if(ct&&typeof ct=="string"){if(ct.endsWith("%")){var fn=Zt/Dt.width*100;Zt=fn+"%"}else if(ct.endsWith("vw")){var Vn=Zt/this.window.innerWidth*100;Zt=Vn+"vw"}else if(ct.endsWith("vh")){var lr=Zt/this.window.innerHeight*100;Zt=lr+"vh"}}if(Ft&&typeof Ft=="string"){if(Ft.endsWith("%")){var fn=ut/Dt.height*100;ut=fn+"%"}else if(Ft.endsWith("vw")){var Vn=ut/this.window.innerWidth*100;ut=Vn+"vw"}else if(Ft.endsWith("vh")){var lr=ut/this.window.innerHeight*100;ut=lr+"vh"}}var yr={width:this.createSizeForCssProperty(Zt,"width"),height:this.createSizeForCssProperty(ut,"height")};this.flexDir==="row"?yr.flexBasis=yr.width:this.flexDir==="column"&&(yr.flexBasis=yr.height),(0,k.flushSync)(function(){C.setState(yr)}),this.props.onResize&&this.props.onResize(m,Ne,this.resizable,Jn)}},U.prototype.onMouseUp=function(m){var C=this.state,w=C.isResizing,L=C.direction,V=C.original;if(!(!w||!this.resizable)){var se={width:this.size.width-V.width,height:this.size.height-V.height};this.props.onResizeStop&&this.props.onResizeStop(m,L,this.resizable,se),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:st(st({},this.state.backgroundStyle),{cursor:"auto"})})}},U.prototype.updateSize=function(m){this.setState({width:m.width,height:m.height})},U.prototype.renderResizer=function(){var m=this,C=this.props,w=C.enable,L=C.handleStyles,V=C.handleClasses,se=C.handleWrapperStyle,N=C.handleWrapperClass,Z=C.handleComponent;if(!w)return null;var P=Object.keys(w).map(function($){return w[$]!==!1?A.createElement(F,{key:$,direction:$,onResizeStart:m.onResizeStart,replaceStyles:L&&L[$],className:V&&V[$]},Z&&Z[$]?Z[$]:null):null});return A.createElement("div",{className:N,style:se},P)},U.prototype.render=function(){var m=this,C=Object.keys(this.props).reduce(function(V,se){return ft.indexOf(se)!==-1||(V[se]=m.props[se]),V},{}),w=st(st(st({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(w.flexBasis=this.state.flexBasis);var L=this.props.as||"div";return A.createElement(L,st({ref:this.ref,style:w,className:this.props.className},C),this.state.isResizing&&A.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},U.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},U}(A.PureComponent),ye=K(96522),ge=K(93251),ve=K(76663),Ce=K(57018),xe=K(54818),de=K(24886),X=K(58583),ee=K(84772),Pe,Q,Le,Ee,ke,qe,rt,tt,St,at,Mt,Et,Ct,We=(0,ee.kc)(function(I,U){var m=I.token,C=(0,ee.iv)(Pe||(Pe=(0,X.Z)([`
    position: relative;
    &::before {
      position: absolute;
      z-index: 50;
      transition: all 0.3s ease-in-out;
      content: '';
    }

    &:hover,
    &:active {
      &::before {
        background: `,`;
      }
    }
  `])),m.colorPrimary),w=(0,ee.iv)(Q||(Q=(0,X.Z)([`
    position: absolute;
    opacity: 0;
    z-index: 1001;
    transition: opacity 0.1s;

    border-radius: 4px;
    cursor: pointer;
    background: `,`;
    border-width: 1px;
    border-style: solid;
    color: `,`;
    border-color: `,`;

    &:hover {
      color: `,`;
      background: `,`;
    }
  `])),m.colorBgElevated,m.colorTextTertiary,m.colorBorder,m.colorTextSecondary,m.colorFillQuaternary),L=17,V=40,se=16;return{container:(0,ee.cx)(U,(0,ee.iv)(Le||(Le=(0,X.Z)([`
        flex-shrink: 0;
        position: relative;
        border: 0 solid `,`;

        &:hover {
          .`,`-toggle {
            opacity: 1;
          }
        }
      `])),m.colorSplit,U)),toggleLeft:(0,ee.cx)("".concat(U,"-toggle"),"".concat(U,"-toggle-left"),w,(0,ee.iv)(Ee||(Ee=(0,X.Z)([`
        width: `,`px;
        height: `,`px;
        left: -`,`px;
        top: 50%;
        margin-top: -20px;
        border-radius: 4px 0 0 4px;
        border-right-width: 0;
      `])),se,V,L)),toggleRight:(0,ee.cx)("".concat(U,"-toggle"),"".concat(U,"-toggle-right"),w,(0,ee.iv)(ke||(ke=(0,X.Z)([`
        width: `,`px;
        height: `,`px;
        right: -`,`px;
        top: 50%;
        margin-top: -20px;
        border-radius: 0 4px 4px 0;
        border-left-width: 0;
      `])),se,V,L)),toggleTop:(0,ee.cx)("".concat(U,"-toggle"),"".concat(U,"-toggle-top"),w,(0,ee.iv)(qe||(qe=(0,X.Z)([`
        height: `,`px;
        width: `,`px;
        top: -`,`px;
        left: 50%;
        margin-left: -20px;
        border-radius: 4px 4px 0 0;
        border-bottom-width: 0;
      `])),se,V,L)),toggleBottom:(0,ee.cx)("".concat(U,"-toggle"),"".concat(U,"-toggle-bottom"),w,(0,ee.iv)(rt||(rt=(0,X.Z)([`
        height: 16px;
        width: `,`px;
        bottom: -`,`px;
        left: 50%;
        margin-left: -20px;
        border-radius: 0 0 4px 4px;
        border-top-width: 0;
      `])),V,L)),fixed:(0,ee.cx)("".concat(U,"-fixed"),(0,ee.iv)(tt||(tt=(0,X.Z)([`
        background: `,`;
        overflow: hidden;
      `])),m.colorBgContainer)),float:(0,ee.cx)("".concat(U,"-float"),(0,ee.iv)(St||(St=(0,X.Z)([`
        overflow: hidden;
        border-radius: 8px;
        background: `,`;
        box-shadow: `,`;
        z-index: 2000;
      `])),m.colorBgElevated,m.boxShadowSecondary)),leftHandle:(0,ee.cx)((0,ee.iv)(at||(at=(0,X.Z)([`
        `,`;

        &::before {
          left: 50%;
          width: 2px;
          height: 100%;
        }
      `])),C),"".concat(U,"-left-handle")),rightHandle:(0,ee.cx)((0,ee.iv)(Mt||(Mt=(0,X.Z)([`
        `,`;
        &::before {
          right: 50%;
          width: 2px;
          height: 100%;
        }
      `])),C),"".concat(U,"-right-handle")),topHandle:(0,ee.cx)("".concat(U,"-top-handle"),(0,ee.iv)(Et||(Et=(0,X.Z)([`
        `,`;

        &::before {
          top: 50%;
          height: 2px;
          width: 100%;
        }
      `])),C)),bottomHandle:(0,ee.cx)("".concat(U,"-bottom-handle"),(0,ee.iv)(Ct||(Ct=(0,X.Z)([`
        `,`;

        &::before {
          bottom: 50%;
          height: 2px;
          width: 100%;
        }
      `])),C))}}),Ve=K(11527),gt=150,$t=400,Gt=function(U){switch(U){case"bottom":return"top";case"top":return"bottom";case"right":return"left";case"left":return"right"}},Yt=(0,A.memo)(function(I){var U=I.children,m=I.placement,C=m===void 0?"right":m,w=I.resize,L=I.style,V=I.size,se=I.defaultSize,N=I.minWidth,Z=I.minHeight,P=I.prefixCls,$=I.onSizeChange,Ne=I.onSizeDragging,Ge=I.expandable,ct=Ge===void 0?!0:Ge,Ft=I.isExpand,Dt=I.onExpandChange,dt=I.className,mt=(0,x.k2)("draggable-panel",P),ut=C==="top"||C==="bottom",Zt=We(mt),Sn=Zt.styles,xn=Zt.cx,Fn=(0,ge.Z)(!0,{value:Ft,onChange:Dt}),An=(0,T.Z)(Fn,2),zn=An[0],Jn=An[1],fn=w!==!1&&zn,Vn=(0,A.useMemo)(function(){return fn?(0,_.Z)({},Gt(C),Sn["".concat(Gt(C),"Handle")]):{}},[fn,C]),lr=(0,g.Z)((0,_.Z)({top:!1,bottom:!1,right:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},Gt(C),!0),w),yr=(0,A.useMemo)(function(){return ut?(0,g.Z)({width:"100%",height:gt},se):(0,g.Z)({width:$t,height:"100%"},se)},[ut]),Hr=zn?{minWidth:typeof N=="number"?Math.max(N,0):280,minHeight:typeof Z=="number"?Math.max(Z,0):void 0,defaultSize:yr,size:V,style:L}:{minWidth:0,minHeight:0,size:{width:0,height:0}},wi=(0,A.useMemo)(function(){switch(C){case"top":return{className:"Bottom",Arrow:ve.Z};case"bottom":return{className:"Top",Arrow:Ce.Z};case"right":return{className:"Left",Arrow:xe.Z};case"left":return{className:"Right",Arrow:de.Z}}},[Sn,C]),ni=wi.Arrow,ri=wi.className;return(0,Ve.jsxs)("div",{className:xn(Sn.container,dt),style:(0,_.Z)({},"border".concat(ri,"Width"),1),children:[ct&&(0,Ve.jsx)(ye.Z,{className:xn(Sn["toggle".concat(ri)]),onClick:function(){Jn(!zn)},style:{opacity:zn?void 0:1},children:(0,Ve.jsx)(ni,{rotate:zn?180:0})}),(0,Ve.jsx)(j,(0,g.Z)((0,g.Z)({},Hr),{},{className:Sn.fixed,enable:fn?lr:void 0,handleClasses:Vn,onResizeStop:function(_i,Er,Tr,yi){$==null||$(yi,{width:Tr.style.width,height:Tr.style.height})},onResize:function(_i,Er,Tr,yi){Ne==null||Ne(yi,{width:Tr.style.width,height:Tr.style.height})},children:U}))]})}),yn=K(74901),rn=K.n(yn),sn=function(){var I=function(U,m){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,w){C.__proto__=w}||function(C,w){for(var L in w)Object.prototype.hasOwnProperty.call(w,L)&&(C[L]=w[L])},I(U,m)};return function(U,m){I(U,m);function C(){this.constructor=U}U.prototype=m===null?Object.create(m):(C.prototype=m.prototype,new C)}}(),Mn=function(){return Mn=Object.assign||function(I){for(var U,m=1,C=arguments.length;m<C;m++){U=arguments[m];for(var w in U)Object.prototype.hasOwnProperty.call(U,w)&&(I[w]=U[w])}return I},Mn.apply(this,arguments)},xt={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},he=function(I){sn(U,I);function U(){var m=I!==null&&I.apply(this,arguments)||this;return m.onMouseDown=function(C){m.props.onResizeStart(C,m.props.direction)},m.onTouchStart=function(C){m.props.onResizeStart(C,m.props.direction)},m}return U.prototype.render=function(){return A.createElement("div",{className:this.props.className||"",style:Mn(Mn({position:"absolute",userSelect:"none"},xt[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},U}(A.PureComponent),Me=K(69978),Oe=K.n(Me),Ke=function(){var I=function(U,m){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,w){C.__proto__=w}||function(C,w){for(var L in w)Object.prototype.hasOwnProperty.call(w,L)&&(C[L]=w[L])},I(U,m)};return function(U,m){I(U,m);function C(){this.constructor=U}U.prototype=m===null?Object.create(m):(C.prototype=m.prototype,new C)}}(),Xe=function(){return Xe=Object.assign||function(I){for(var U,m=1,C=arguments.length;m<C;m++){U=arguments[m];for(var w in U)Object.prototype.hasOwnProperty.call(U,w)&&(I[w]=U[w])}return I},Xe.apply(this,arguments)},Nt={width:"auto",height:"auto"},Qt=Oe()(function(I,U,m){return Math.max(Math.min(I,m),U)}),Dn=Oe()(function(I,U){return Math.round(I/U)*U}),Pn=Oe()(function(I,U){return new RegExp(I,"i").test(U)}),me=function(I){return Boolean(I.touches&&I.touches.length)},Je=function(I){return Boolean((I.clientX||I.clientX===0)&&(I.clientY||I.clientY===0))},nt=Oe()(function(I,U,m){m===void 0&&(m=0);var C=U.reduce(function(L,V,se){return Math.abs(V-I)<Math.abs(U[L]-I)?se:L},0),w=Math.abs(U[C]-I);return m===0||w<m?U[C]:I}),et=Oe()(function(I,U){return I.substr(I.length-U.length,U.length)===U}),Ut=Oe()(function(I){return I=I.toString(),I==="auto"||et(I,"px")||et(I,"%")||et(I,"vh")||et(I,"vw")||et(I,"vmax")||et(I,"vmin")?I:I+"px"}),pn=function(I,U,m,C){if(I&&typeof I=="string"){if(et(I,"px"))return Number(I.replace("px",""));if(et(I,"%")){var w=Number(I.replace("%",""))/100;return U*w}if(et(I,"vw")){var w=Number(I.replace("vw",""))/100;return m*w}if(et(I,"vh")){var w=Number(I.replace("vh",""))/100;return C*w}}return I},an=Oe()(function(I,U,m,C,w,L,V){return C=pn(C,I.width,U,m),w=pn(w,I.height,U,m),L=pn(L,I.width,U,m),V=pn(V,I.height,U,m),{maxWidth:typeof C=="undefined"?void 0:Number(C),maxHeight:typeof w=="undefined"?void 0:Number(w),minWidth:typeof L=="undefined"?void 0:Number(L),minHeight:typeof V=="undefined"?void 0:Number(V)}}),Vt=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],pe="__resizable_base__",De=function(I){Ke(U,I);function U(m){var C=I.call(this,m)||this;return C.ratio=1,C.resizable=null,C.parentLeft=0,C.parentTop=0,C.resizableLeft=0,C.resizableRight=0,C.resizableTop=0,C.resizableBottom=0,C.targetLeft=0,C.targetTop=0,C.appendBase=function(){if(!C.resizable||!C.window)return null;var w=C.parentNode;if(!w)return null;var L=C.window.document.createElement("div");return L.style.width="100%",L.style.height="100%",L.style.position="absolute",L.style.transform="scale(0, 0)",L.style.left="0",L.style.flex="0 0 100%",L.classList?L.classList.add(pe):L.className+=pe,w.appendChild(L),L},C.removeBase=function(w){var L=C.parentNode;L&&L.removeChild(w)},C.ref=function(w){w&&(C.resizable=w)},C.state={isResizing:!1,width:typeof(C.propsSize&&C.propsSize.width)=="undefined"?"auto":C.propsSize&&C.propsSize.width,height:typeof(C.propsSize&&C.propsSize.height)=="undefined"?"auto":C.propsSize&&C.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},C.onResizeStart=C.onResizeStart.bind(C),C.onMouseMove=C.onMouseMove.bind(C),C.onMouseUp=C.onMouseUp.bind(C),C}return Object.defineProperty(U.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||Nt},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"size",{get:function(){var m=0,C=0;if(this.resizable&&this.window){var w=this.resizable.offsetWidth,L=this.resizable.offsetHeight,V=this.resizable.style.position;V!=="relative"&&(this.resizable.style.position="relative"),m=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:w,C=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:L,this.resizable.style.position=V}return{width:m,height:C}},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"sizeStyle",{get:function(){var m=this,C=this.props.size,w=function(se){if(typeof m.state[se]=="undefined"||m.state[se]==="auto")return"auto";if(m.propsSize&&m.propsSize[se]&&et(m.propsSize[se].toString(),"%")){if(et(m.state[se].toString(),"%"))return m.state[se].toString();var N=m.getParentSize(),Z=Number(m.state[se].toString().replace("px","")),P=Z/N[se]*100;return P+"%"}return Ut(m.state[se])},L=C&&typeof C.width!="undefined"&&!this.state.isResizing?Ut(C.width):w("width"),V=C&&typeof C.height!="undefined"&&!this.state.isResizing?Ut(C.height):w("height");return{width:L,height:V}},enumerable:!1,configurable:!0}),U.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var m=this.appendBase();if(!m)return{width:0,height:0};var C=!1,w=this.parentNode.style.flexWrap;w!=="wrap"&&(C=!0,this.parentNode.style.flexWrap="wrap"),m.style.position="relative",m.style.minWidth="100%",m.style.minHeight="100%";var L={width:m.offsetWidth,height:m.offsetHeight};return C&&(this.parentNode.style.flexWrap=w),this.removeBase(m),L},U.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},U.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},U.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var m=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:m.flexBasis!=="auto"?m.flexBasis:void 0})}},U.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},U.prototype.createSizeForCssProperty=function(m,C){var w=this.propsSize&&this.propsSize[C];return this.state[C]==="auto"&&this.state.original[C]===m&&(typeof w=="undefined"||w==="auto")?"auto":m},U.prototype.calculateNewMaxFromBoundary=function(m,C){var w=this.props.boundsByDirection,L=this.state.direction,V=w&&Pn("left",L),se=w&&Pn("top",L),N,Z;if(this.props.bounds==="parent"){var P=this.parentNode;P&&(N=V?this.resizableRight-this.parentLeft:P.offsetWidth+(this.parentLeft-this.resizableLeft),Z=se?this.resizableBottom-this.parentTop:P.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(N=V?this.resizableRight:this.window.innerWidth-this.resizableLeft,Z=se?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(N=V?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),Z=se?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return N&&Number.isFinite(N)&&(m=m&&m<N?m:N),Z&&Number.isFinite(Z)&&(C=C&&C<Z?C:Z),{maxWidth:m,maxHeight:C}},U.prototype.calculateNewSizeFromDirection=function(m,C){var w=this.props.scale||1,L=this.props.resizeRatio||1,V=this.state,se=V.direction,N=V.original,Z=this.props,P=Z.lockAspectRatio,$=Z.lockAspectRatioExtraHeight,Ne=Z.lockAspectRatioExtraWidth,Ge=N.width,ct=N.height,Ft=$||0,Dt=Ne||0;return Pn("right",se)&&(Ge=N.width+(m-N.x)*L/w,P&&(ct=(Ge-Dt)/this.ratio+Ft)),Pn("left",se)&&(Ge=N.width-(m-N.x)*L/w,P&&(ct=(Ge-Dt)/this.ratio+Ft)),Pn("bottom",se)&&(ct=N.height+(C-N.y)*L/w,P&&(Ge=(ct-Ft)*this.ratio+Dt)),Pn("top",se)&&(ct=N.height-(C-N.y)*L/w,P&&(Ge=(ct-Ft)*this.ratio+Dt)),{newWidth:Ge,newHeight:ct}},U.prototype.calculateNewSizeFromAspectRatio=function(m,C,w,L){var V=this.props,se=V.lockAspectRatio,N=V.lockAspectRatioExtraHeight,Z=V.lockAspectRatioExtraWidth,P=typeof L.width=="undefined"?10:L.width,$=typeof w.width=="undefined"||w.width<0?m:w.width,Ne=typeof L.height=="undefined"?10:L.height,Ge=typeof w.height=="undefined"||w.height<0?C:w.height,ct=N||0,Ft=Z||0;if(se){var Dt=(Ne-ct)*this.ratio+Ft,dt=(Ge-ct)*this.ratio+Ft,mt=(P-Ft)/this.ratio+ct,ut=($-Ft)/this.ratio+ct,Zt=Math.max(P,Dt),Sn=Math.min($,dt),xn=Math.max(Ne,mt),Fn=Math.min(Ge,ut);m=Qt(m,Zt,Sn),C=Qt(C,xn,Fn)}else m=Qt(m,P,$),C=Qt(C,Ne,Ge);return{newWidth:m,newHeight:C}},U.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var m=this.parentNode;if(m){var C=m.getBoundingClientRect();this.parentLeft=C.left,this.parentTop=C.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var w=this.props.bounds.getBoundingClientRect();this.targetLeft=w.left,this.targetTop=w.top}if(this.resizable){var L=this.resizable.getBoundingClientRect(),V=L.left,se=L.top,N=L.right,Z=L.bottom;this.resizableLeft=V,this.resizableRight=N,this.resizableTop=se,this.resizableBottom=Z}},U.prototype.onResizeStart=function(m,C){if(!(!this.resizable||!this.window)){var w=0,L=0;if(m.nativeEvent&&Je(m.nativeEvent)?(w=m.nativeEvent.clientX,L=m.nativeEvent.clientY):m.nativeEvent&&me(m.nativeEvent)&&(w=m.nativeEvent.touches[0].clientX,L=m.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var V=this.props.onResizeStart(m,C,this.resizable);if(V===!1)return}this.props.size&&(typeof this.props.size.height!="undefined"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width!="undefined"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var se,N=this.window.getComputedStyle(this.resizable);if(N.flexBasis!=="auto"){var Z=this.parentNode;if(Z){var P=this.window.getComputedStyle(Z).flexDirection;this.flexDir=P.startsWith("row")?"row":"column",se=N.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var $={original:{x:w,y:L,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Xe(Xe({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(m.target).cursor||"auto"}),direction:C,flexBasis:se};this.setState($)}},U.prototype.onMouseMove=function(m){if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&me(m))try{m.preventDefault(),m.stopPropagation()}catch(yr){}var C=this.props,w=C.maxWidth,L=C.maxHeight,V=C.minWidth,se=C.minHeight,N=me(m)?m.touches[0].clientX:m.clientX,Z=me(m)?m.touches[0].clientY:m.clientY,P=this.state,$=P.direction,Ne=P.original,Ge=P.width,ct=P.height,Ft=this.getParentSize(),Dt=an(Ft,this.window.innerWidth,this.window.innerHeight,w,L,V,se);w=Dt.maxWidth,L=Dt.maxHeight,V=Dt.minWidth,se=Dt.minHeight;var dt=this.calculateNewSizeFromDirection(N,Z),mt=dt.newHeight,ut=dt.newWidth,Zt=this.calculateNewMaxFromBoundary(w,L);this.props.snap&&this.props.snap.x&&(ut=nt(ut,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(mt=nt(mt,this.props.snap.y,this.props.snapGap));var Sn=this.calculateNewSizeFromAspectRatio(ut,mt,{width:Zt.maxWidth,height:Zt.maxHeight},{width:V,height:se});if(ut=Sn.newWidth,mt=Sn.newHeight,this.props.grid){var xn=Dn(ut,this.props.grid[0]),Fn=Dn(mt,this.props.grid[1]),An=this.props.snapGap||0;ut=An===0||Math.abs(xn-ut)<=An?xn:ut,mt=An===0||Math.abs(Fn-mt)<=An?Fn:mt}var zn={width:ut-Ne.width,height:mt-Ne.height};if(Ge&&typeof Ge=="string"){if(et(Ge,"%")){var Jn=ut/Ft.width*100;ut=Jn+"%"}else if(et(Ge,"vw")){var fn=ut/this.window.innerWidth*100;ut=fn+"vw"}else if(et(Ge,"vh")){var Vn=ut/this.window.innerHeight*100;ut=Vn+"vh"}}if(ct&&typeof ct=="string"){if(et(ct,"%")){var Jn=mt/Ft.height*100;mt=Jn+"%"}else if(et(ct,"vw")){var fn=mt/this.window.innerWidth*100;mt=fn+"vw"}else if(et(ct,"vh")){var Vn=mt/this.window.innerHeight*100;mt=Vn+"vh"}}var lr={width:this.createSizeForCssProperty(ut,"width"),height:this.createSizeForCssProperty(mt,"height")};this.flexDir==="row"?lr.flexBasis=lr.width:this.flexDir==="column"&&(lr.flexBasis=lr.height),this.setState(lr),this.props.onResize&&this.props.onResize(m,$,this.resizable,zn)}},U.prototype.onMouseUp=function(m){var C=this.state,w=C.isResizing,L=C.direction,V=C.original;if(!(!w||!this.resizable)){var se={width:this.size.width-V.width,height:this.size.height-V.height};this.props.onResizeStop&&this.props.onResizeStop(m,L,this.resizable,se),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Xe(Xe({},this.state.backgroundStyle),{cursor:"auto"})})}},U.prototype.updateSize=function(m){this.setState({width:m.width,height:m.height})},U.prototype.renderResizer=function(){var m=this,C=this.props,w=C.enable,L=C.handleStyles,V=C.handleClasses,se=C.handleWrapperStyle,N=C.handleWrapperClass,Z=C.handleComponent;if(!w)return null;var P=Object.keys(w).map(function($){return w[$]!==!1?A.createElement(he,{key:$,direction:$,onResizeStart:m.onResizeStart,replaceStyles:L&&L[$],className:V&&V[$]},Z&&Z[$]?Z[$]:null):null});return A.createElement("div",{className:N,style:se},P)},U.prototype.render=function(){var m=this,C=Object.keys(this.props).reduce(function(V,se){return Vt.indexOf(se)!==-1||(V[se]=m.props[se]),V},{}),w=Xe(Xe(Xe({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(w.flexBasis=this.state.flexBasis);var L=this.props.as||"div";return A.createElement(L,Xe({ref:this.ref,style:w,className:this.props.className},C),this.state.isResizing&&A.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},U.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},U}(A.PureComponent);var lt=function(I,U){return lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,C){m.__proto__=C}||function(m,C){for(var w in C)C.hasOwnProperty(w)&&(m[w]=C[w])},lt(I,U)};function Tt(I,U){lt(I,U);function m(){this.constructor=I}I.prototype=U===null?Object.create(U):(m.prototype=U.prototype,new m)}var Wt=function(){return Wt=Object.assign||function(U){for(var m,C=1,w=arguments.length;C<w;C++){m=arguments[C];for(var L in m)Object.prototype.hasOwnProperty.call(m,L)&&(U[L]=m[L])}return U},Wt.apply(this,arguments)};function Cn(I,U){var m={};for(var C in I)Object.prototype.hasOwnProperty.call(I,C)&&U.indexOf(C)<0&&(m[C]=I[C]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,C=Object.getOwnPropertySymbols(I);w<C.length;w++)U.indexOf(C[w])<0&&Object.prototype.propertyIsEnumerable.call(I,C[w])&&(m[C[w]]=I[C[w]]);return m}var Bn=rn(),Gn={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},vr=function(I){return{bottom:I,bottomLeft:I,bottomRight:I,left:I,right:I,top:I,topLeft:I,topRight:I}},Mr=function(I){Tt(U,I);function U(m){var C=I.call(this,m)||this;return C.resizingPosition={x:0,y:0},C.offsetFromParent={left:0,top:0},C.resizableElement={current:null},C.originalPosition={x:0,y:0},C.refDraggable=function(w){w&&(C.draggable=w)},C.refResizable=function(w){w&&(C.resizable=w,C.resizableElement.current=w.resizable)},C.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:m.maxWidth,maxHeight:m.maxHeight},C.onResizeStart=C.onResizeStart.bind(C),C.onResize=C.onResize.bind(C),C.onResizeStop=C.onResizeStop.bind(C),C.onDragStart=C.onDragStart.bind(C),C.onDrag=C.onDrag.bind(C),C.onDragStop=C.onDragStop.bind(C),C.getMaxSizesFromProps=C.getMaxSizesFromProps.bind(C),C}return U.prototype.componentDidMount=function(){this.updateOffsetFromParent();var m=this.offsetFromParent,C=m.left,w=m.top,L=this.getDraggablePosition(),V=L.x,se=L.y;this.draggable.setState({x:V-C,y:se-w}),this.forceUpdate()},U.prototype.getDraggablePosition=function(){var m=this.draggable.state,C=m.x,w=m.y;return{x:C,y:w}},U.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},U.prototype.getParentSize=function(){return this.resizable.getParentSize()},U.prototype.getMaxSizesFromProps=function(){var m=typeof this.props.maxWidth=="undefined"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,C=typeof this.props.maxHeight=="undefined"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:m,maxHeight:C}},U.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},U.prototype.getOffsetHeight=function(m){var C=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/C;case"body":return document.body.offsetHeight/C;default:return m.offsetHeight}},U.prototype.getOffsetWidth=function(m){var C=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/C;case"body":return document.body.offsetWidth/C;default:return m.offsetWidth}},U.prototype.onDragStart=function(m,C){this.props.onDragStart&&this.props.onDragStart(m,C);var w=this.getDraggablePosition();if(this.originalPosition=w,!!this.props.bounds){var L=this.getParent(),V=this.props.scale,se;if(this.props.bounds==="parent")se=L;else if(this.props.bounds==="body"){var N=L.getBoundingClientRect(),Z=N.left,P=N.top,$=document.body.getBoundingClientRect(),Ne=-(Z-L.offsetLeft*V-$.left)/V,Ge=-(P-L.offsetTop*V-$.top)/V,ct=(document.body.offsetWidth-this.resizable.size.width*V)/V+Ne,Ft=(document.body.offsetHeight-this.resizable.size.height*V)/V+Ge;return this.setState({bounds:{top:Ge,right:ct,bottom:Ft,left:Ne}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var Dt=L.getBoundingClientRect(),dt=Dt.left,mt=Dt.top,ut=-(dt-L.offsetLeft*V)/V,Zt=-(mt-L.offsetTop*V)/V,ct=(window.innerWidth-this.resizable.size.width*V)/V+ut,Ft=(window.innerHeight-this.resizable.size.height*V)/V+Zt;return this.setState({bounds:{top:Zt,right:ct,bottom:Ft,left:ut}})}else typeof this.props.bounds=="string"?se=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(se=this.props.bounds);if(!(!(se instanceof HTMLElement)||!(L instanceof HTMLElement))){var Sn=se.getBoundingClientRect(),xn=Sn.left,Fn=Sn.top,An=L.getBoundingClientRect(),zn=An.left,Jn=An.top,fn=(xn-zn)/V,Vn=Fn-Jn;if(this.resizable){this.updateOffsetFromParent();var lr=this.offsetFromParent;this.setState({bounds:{top:Vn-lr.top,right:fn+(se.offsetWidth-this.resizable.size.width)-lr.left/V,bottom:Vn+(se.offsetHeight-this.resizable.size.height)-lr.top,left:fn-lr.left/V}})}}}},U.prototype.onDrag=function(m,C){if(this.props.onDrag){var w=this.offsetFromParent,L=w.left,V=w.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(m,Wt(Wt({},C),{x:C.x-L,y:C.y-V}));if(this.props.dragAxis==="x")return this.props.onDrag(m,Wt(Wt({},C),{x:C.x+L,y:this.originalPosition.y+V,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(m,Wt(Wt({},C),{x:this.originalPosition.x+L,y:C.y+V,deltaX:0}))}},U.prototype.onDragStop=function(m,C){if(this.props.onDragStop){var w=this.offsetFromParent,L=w.left,V=w.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(m,Wt(Wt({},C),{x:C.x+L,y:C.y+V}));if(this.props.dragAxis==="x")return this.props.onDragStop(m,Wt(Wt({},C),{x:C.x+L,y:this.originalPosition.y+V,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(m,Wt(Wt({},C),{x:this.originalPosition.x+L,y:C.y+V,deltaX:0}))}},U.prototype.onResizeStart=function(m,C,w){m.stopPropagation(),this.setState({resizing:!0});var L=this.props.scale,V=this.offsetFromParent,se=this.getDraggablePosition();if(this.resizingPosition={x:se.x+V.left,y:se.y+V.top},this.originalPosition=se,this.props.bounds){var N=this.getParent(),Z=void 0;this.props.bounds==="parent"?Z=N:this.props.bounds==="body"?Z=document.body:this.props.bounds==="window"?Z=window:typeof this.props.bounds=="string"?Z=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(Z=this.props.bounds);var P=this.getSelfElement();if(P instanceof Element&&(Z instanceof HTMLElement||Z===window)&&N instanceof HTMLElement){var $=this.getMaxSizesFromProps(),Ne=$.maxWidth,Ge=$.maxHeight,ct=this.getParentSize();if(Ne&&typeof Ne=="string")if(Ne.endsWith("%")){var Ft=Number(Ne.replace("%",""))/100;Ne=ct.width*Ft}else Ne.endsWith("px")&&(Ne=Number(Ne.replace("px","")));if(Ge&&typeof Ge=="string")if(Ge.endsWith("%")){var Ft=Number(Ge.replace("%",""))/100;Ge=ct.width*Ft}else Ge.endsWith("px")&&(Ge=Number(Ge.replace("px","")));var Dt=P.getBoundingClientRect(),dt=Dt.left,mt=Dt.top,ut=this.props.bounds==="window"?{left:0,top:0}:Z.getBoundingClientRect(),Zt=ut.left,Sn=ut.top,xn=this.getOffsetWidth(Z),Fn=this.getOffsetHeight(Z),An=C.toLowerCase().endsWith("left"),zn=C.toLowerCase().endsWith("right"),Jn=C.startsWith("top"),fn=C.startsWith("bottom");if((An||Jn)&&this.resizable){var Vn=(dt-Zt)/L+this.resizable.size.width;this.setState({maxWidth:Vn>Number(Ne)?Ne:Vn})}if(zn||this.props.lockAspectRatio&&!An&&!Jn){var Vn=xn+(Zt-dt)/L;this.setState({maxWidth:Vn>Number(Ne)?Ne:Vn})}if((Jn||An)&&this.resizable){var Vn=(mt-Sn)/L+this.resizable.size.height;this.setState({maxHeight:Vn>Number(Ge)?Ge:Vn})}if(fn||this.props.lockAspectRatio&&!Jn&&!An){var Vn=Fn+(Sn-mt)/L;this.setState({maxHeight:Vn>Number(Ge)?Ge:Vn})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(m,C,w)},U.prototype.onResize=function(m,C,w,L){var V={x:this.originalPosition.x,y:this.originalPosition.y},se=-L.width,N=-L.height,Z=["top","left","topLeft","bottomLeft","topRight"];Z.indexOf(C)!==-1&&(C==="bottomLeft"?V.x+=se:(C==="topRight"||(V.x+=se),V.y+=N)),(V.x!==this.draggable.state.x||V.y!==this.draggable.state.y)&&this.draggable.setState(V),this.updateOffsetFromParent();var P=this.offsetFromParent,$=this.getDraggablePosition().x+P.left,Ne=this.getDraggablePosition().y+P.top;this.resizingPosition={x:$,y:Ne},this.props.onResize&&this.props.onResize(m,C,w,L,{x:$,y:Ne})},U.prototype.onResizeStop=function(m,C,w,L){this.setState({resizing:!1});var V=this.getMaxSizesFromProps(),se=V.maxWidth,N=V.maxHeight;this.setState({maxWidth:se,maxHeight:N}),this.props.onResizeStop&&this.props.onResizeStop(m,C,w,L,this.resizingPosition)},U.prototype.updateSize=function(m){this.resizable&&this.resizable.updateSize({width:m.width,height:m.height})},U.prototype.updatePosition=function(m){this.draggable.setState(m)},U.prototype.updateOffsetFromParent=function(){var m=this.props.scale,C=this.getParent(),w=this.getSelfElement();if(!C||w===null)return{top:0,left:0};var L=C.getBoundingClientRect(),V=L.left,se=L.top,N=w.getBoundingClientRect(),Z=this.getDraggablePosition(),P=C.scrollLeft,$=C.scrollTop;this.offsetFromParent={left:N.left-V+P-Z.x*m,top:N.top-se+$-Z.y*m}},U.prototype.render=function(){var m=this.props,C=m.disableDragging,w=m.style,L=m.dragHandleClassName,V=m.position,se=m.onMouseDown,N=m.onMouseUp,Z=m.dragAxis,P=m.dragGrid,$=m.bounds,Ne=m.enableUserSelectHack,Ge=m.cancel,ct=m.children,Ft=m.onResizeStart,Dt=m.onResize,dt=m.onResizeStop,mt=m.onDragStart,ut=m.onDrag,Zt=m.onDragStop,Sn=m.resizeHandleStyles,xn=m.resizeHandleClasses,Fn=m.resizeHandleComponent,An=m.enableResizing,zn=m.resizeGrid,Jn=m.resizeHandleWrapperClass,fn=m.resizeHandleWrapperStyle,Vn=m.scale,lr=m.allowAnyClick,yr=Cn(m,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),Hr=this.props.default?Wt({},this.props.default):void 0;delete yr.default;var wi=C||L?{cursor:"auto"}:{cursor:"move"},ni=Wt(Wt(Wt({},Gn),wi),w),ri=this.offsetFromParent,ii=ri.left,_i=ri.top,Er;V&&(Er={x:V.x-ii,y:V.y-_i});var Tr=this.state.resizing?void 0:Er,yi=this.state.resizing?"both":Z;return(0,A.createElement)(Bn,{ref:this.refDraggable,handle:L?".".concat(L):void 0,defaultPosition:Hr,onMouseDown:se,onMouseUp:N,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:yi,disabled:C,grid:P,bounds:$?this.state.bounds:void 0,position:Tr,enableUserSelectHack:Ne,cancel:Ge,scale:Vn,allowAnyClick:lr,nodeRef:this.resizableElement},(0,A.createElement)(De,Wt({},yr,{ref:this.refResizable,defaultSize:Hr,size:this.props.size,enable:typeof An=="boolean"?vr(An):An,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:ni,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:zn,handleWrapperClass:Jn,handleWrapperStyle:fn,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:Sn,handleClasses:xn,handleComponent:Fn,scale:this.props.scale}),ct))},U.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},U}(A.PureComponent),xr=300,mi=400,Pr=(0,A.memo)(function(I){var U=I.children,m=I.direction,C=I.resize,w=I.style,L=I.position,V=I.onPositionChange,se=I.size,N=I.defaultSize,Z=I.defaultPosition,P=I.minWidth,$=P===void 0?280:P,Ne=I.minHeight,Ge=Ne===void 0?200:Ne,ct=I.prefixCls,Ft=I.canResizing,Dt=We(ct),dt=Dt.styles,mt=(0,A.useMemo)(function(){return Ft?{right:dt.rightHandle,left:dt.leftHandle,top:dt.topHandle,bottom:dt.bottomHandle}:{}},[Ft,m]),ut=(0,A.useMemo)(function(){return Ft?C:(0,g.Z)({top:!0,bottom:!0,right:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},C)},[Ft,C]),Zt=(0,g.Z)({width:mi,height:xr},N),Sn=(0,g.Z)({x:100,y:100},Z),xn={minWidth:Math.max($,0),minHeight:Math.max(Ge,0),defaultSize:Zt,size:se,style:w};return(0,Ve.jsx)(Mr,(0,g.Z)((0,g.Z)({position:L,resizeHandleClasses:mt,default:(0,g.Z)((0,g.Z)({},Sn),Zt),onDragStop:function(An,zn){V==null||V({x:zn.x,y:zn.y})},bound:"parent",enableResizing:ut},xn),{},{className:dt.float,children:U}))}),jr=(0,A.memo)(function(I){var U=I.children,m=I.className,C=I.mode,w=I.placement,L=I.resize,V=I.style,se=I.position,N=I.onPositionChange,Z=I.size,P=I.defaultSize,$=I.defaultPosition,Ne=I.minWidth,Ge=I.minHeight,ct=I.prefixCls,Ft=I.onSizeChange,Dt=I.onSizeDragging,dt=I.expandable,mt=dt===void 0?!0:dt,ut=I.isExpand,Zt=I.onExpandChange,Sn=(0,x.k2)("draggable-panel",ct);switch(C){case"fixed":default:return(0,Ve.jsx)(Yt,{prefixCls:Sn,size:Z,defaultSize:P,onSizeDragging:Dt,onSizeChange:Ft,minHeight:Ge,minWidth:Ne,resize:L,onExpandChange:Zt,expandable:mt,isExpand:ut,className:m,placement:w,style:V,children:U});case"float":return(0,Ve.jsx)(Pr,{prefixCls:Sn,defaultPosition:$,position:se,onPositionChange:N,minHeight:Ge,minWidth:Ne,defaultSize:P,size:Z,onSizeDragging:Dt,onSizeChange:Ft,resize:L,canResizing:L!==!1,className:m,style:V,children:U})}})},66317:function(Jt,Qe,K){"use strict";K.d(Qe,{c:function(){return se}});var A=K(185),x=K(75188),g=K(50959),_=K(33355),T=K(28257),k=K(10422),z=K(84341);function Y(N){return Z=>{let{transform:P}=Z;return Ar(tn({},P),{x:Math.ceil(P.x/N)*N,y:Math.ceil(P.y/N)*N})}}const le=N=>{let{transform:Z}=N;return Ar(tn({},Z),{y:0})};function oe(N,Z,P){const $=tn({},N);return Z.top+N.y<=P.top?$.y=P.top-Z.top:Z.bottom+N.y>=P.top+P.height&&($.y=P.top+P.height-Z.bottom),Z.left+N.x<=P.left?$.x=P.left-Z.left:Z.right+N.x>=P.left+P.width&&($.x=P.left+P.width-Z.right),$}const be=N=>{let{containerNodeRect:Z,draggingNodeRect:P,transform:$}=N;return!P||!Z?$:oe($,P,Z)},Se=N=>{let{draggingNodeRect:Z,transform:P,scrollableAncestorRects:$}=N;const Ne=$[0];return!Z||!Ne?P:oe(P,Z,Ne)},F=N=>{let{transform:Z}=N;return Ar(tn({},Z),{x:0})},it=N=>{let{transform:Z,draggingNodeRect:P,windowRect:$}=N;return!P||!$?Z:oe(Z,P,$)},st=N=>{let{activatorEvent:Z,draggingNodeRect:P,transform:$}=N;if(P&&Z){const Ne=getEventCoordinates(Z);if(!Ne)return $;const Ge=Ne.x-P.left,ct=Ne.y-P.top;return Ar(tn({},$),{x:$.x+Ge-P.width/2,y:$.y+ct-P.height/2})}return $};var nn=K(59671),ht=K(5899),Rt=K.n(ht),O=K(84817);function Ye(N,Z){if(Object.is(N,Z))return!0;if(typeof N!="object"||N===null||typeof Z!="object"||Z===null)return!1;if(N instanceof Map&&Z instanceof Map){if(N.size!==Z.size)return!1;for(const[$,Ne]of N)if(!Object.is(Ne,Z.get($)))return!1;return!0}if(N instanceof Set&&Z instanceof Set){if(N.size!==Z.size)return!1;for(const $ of N)if(!Z.has($))return!1;return!0}const P=Object.keys(N);if(P.length!==Object.keys(Z).length)return!1;for(let $=0;$<P.length;$++)if(!Object.prototype.hasOwnProperty.call(Z,P[$])||!Object.is(N[P[$]],Z[P[$]]))return!1;return!0}var pt=(N,Z)=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { shallow } from 'zustand/shallow'`."),Ye(N,Z)),zt=K(75157),Ot=K(84772),Be=K(45389),Ue=K(84875),ft=K.n(Ue),bt=K(96208),j=K(18559),ye=K(11527),ge=(0,ye.jsx)("svg",{viewBox:"0 0 20 20",width:"16",fill:"currentColor",children:(0,ye.jsx)("path",{d:"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z"})}),ve=(0,ye.jsx)("svg",{width:"10",viewBox:"0 0 70 41",fill:"currentColor",children:(0,ye.jsx)("path",{d:"M30.76 39.2402C31.885 40.3638 33.41 40.995 35 40.995C36.59 40.995 38.115 40.3638 39.24 39.2402L68.24 10.2402C69.2998 9.10284 69.8768 7.59846 69.8494 6.04406C69.822 4.48965 69.1923 3.00657 68.093 1.90726C66.9937 0.807959 65.5106 0.178263 63.9562 0.150837C62.4018 0.123411 60.8974 0.700397 59.76 1.76024L35 26.5102L10.24 1.76024C9.10259 0.700397 7.59822 0.123411 6.04381 0.150837C4.4894 0.178263 3.00632 0.807959 1.90702 1.90726C0.807714 3.00657 0.178019 4.48965 0.150593 6.04406C0.123167 7.59846 0.700153 9.10284 1.75999 10.2402L30.76 39.2402Z"})}),Ce=function(Z){return _jsx(ActionIcon,_objectSpread({icon:ve},Z))},xe=function(Z){return(0,ye.jsx)(j.Z,(0,A.Z)({icon:ge},Z))},de=function(Z){return(0,ye.jsx)(j.Z,(0,A.Z)({icon:(0,ye.jsx)(bt.Z,{})},Z))},X=function(Z){return _jsx(ActionIcon,_objectSpread({icon:_jsx(EditFilled,{})},Z))},ee=K(58583),Pe,Q,Le,Ee,ke,qe,rt,tt,St,at,Mt,Et,Ct="0 0 0 calc(1px / var(--scale-x, 1)) rgba(0, 0, 0, 0.05)",We="0 1px calc(3px / var(--scale-x, 1)) 0 rgba(0, 0, 0, 0.15)",Ve="".concat(Ct," ").concat(We),gt=(0,Ot.F4)(Pe||(Pe=(0,ee.Z)([`
	0% {
		box-shadow: var(--box-shadow);
		transform: scale(1);
	}
	100% {
		box-shadow: var(--box-shadow-picked-up);
		transform: scale(var(--scale));
	}
`]))),$t=(0,Ot.F4)(Q||(Q=(0,ee.Z)([`
	0% {
	  opacity: 0;
	}
	100% {
	  opacity: 1;
	}
`]))),Gt=(0,Ot.kc)(function(N,Z){var P=N.css,$=N.cx,Ne=N.token,Ge="".concat(Z);return{item:$("".concat(Z,"-item"),P(Le||(Le=(0,ee.Z)([`
        position: relative;
        display: flex;
        flex-grow: 1;
        align-items: center;
        justify-content: space-between;
        box-sizing: border-box;
        padding: 1px 0;
        color: `,`;
        font-size: 12px;
        white-space: nowrap;
        list-style: none;
        border-radius: 4px;
        outline: none;
        transform: scale(var(--scale, 1));
        transform-origin: 50% 50%;
        transition: box-shadow 200ms cubic-bezier(0.18, 0.67, 0.6, 1.22);
        -webkit-tap-highlight-color: transparent;

        &:focus-visible {
          box-shadow: 0 0 4px 1px #4c9ffe, `,`;
        }

        &:not(.`,`-item-withHandle) {
          cursor: grab;
          -webkit-user-select: none;
          user-select: none;
          touch-action: none;
        }

        &-dragging:not(.`,`-item-dragOverlay) {
          z-index: 0;
          opacity: var(--dragging-opacity, 0.5);

          &:focus {
            box-shadow: `,`;
          }
        }

        &:hover .`,`-item-actions {
          opacity: 1;
        }
      `])),Ne.colorTextSecondary,Ve,Ge,Ge,Ve,Z)),disabled:$("".concat(Z,"-item-disabled"),P(Ee||(Ee=(0,ee.Z)([`
        color: #999;
        background-color: #f1f1f1;
        cursor: not-allowed;
        &:focus {
          box-shadow: 0 0 4px 1px rgba(0, 0, 0, 0.1), `,`;
        }
      `])),Ve)),dragOverlay:$("".concat(Z,"-item-dragOverlay"),P(ke||(ke=(0,ee.Z)([`
        padding: 4px 0;
        background-color: `,`;
        border: none;
        box-shadow: var(--box-shadow-picked-up);
        transform: scale(var(--scale));
        cursor: inherit;
        opacity: 1;

        /* box-shadow: 0 0px 6px 2px @focused-outline-color; */
        animation: `,` 200ms cubic-bezier(0.18, 0.67, 0.6, 1.22);
      `])),Ne.colorBgElevated,gt)),wrapper:$("".concat(Z,"-item-wrapper"),P(qe||(qe=(0,ee.Z)([`
        display: flex;
        box-sizing: border-box;
        transform: translate3d(var(--translate-x, 0), var(--translate-y, 0), 0)
          scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1));
        transform-origin: 0 0;
        touch-action: manipulation;

        &:not(:last-child) {
          margin-bottom: 2px;
        }
      `])))),wrapperFadeIn:$("".concat(Z,"-item-wrapper-fadeIn"),P(rt||(rt=(0,ee.Z)([`
        animation: `,` 500ms ease;
      `])),$t)),wrapperdragOverlay:$("".concat(Z,"-item-wrapper-dragOverlay"),P(tt||(tt=(0,ee.Z)([`
        --scale: 1.05;
        --box-shadow: `,`;
        --box-shadow-picked-up: `,`, -1px 0 15px 0 rgba(82, 82, 82, 0.01),
          0 15px 15px 0 rgba(82, 82, 82, 0.25);

        z-index: 999;
      `])),Ve,Ct)),actions:$("".concat(Z,"-item-actions"),P(St||(St=(0,ee.Z)([`
        z-index: 10;
        color: hsla(0, 0, 0, 0.45);
        opacity: 0;
      `])))),actionsLeft:$("".concat(Z,"-item-actions-left"),P(at||(at=(0,ee.Z)([`
        position: absolute;
        top: 0;
        left: 0;

        .studio-btn.studio-btn-sm.studio-btn-icon-only {
          width: 14px;
          height: 24px;
          > svg {
            width: 14px;
          }
        }
      `])))),actionsRight:$("".concat(Z,"-item-actions-right"),P(Mt||(Mt=(0,ee.Z)([`
        position: absolute;
        top: 1px;
        right: 1px;
        align-self: flex-end;
        overflow: hidden;
        border-radius: 1px;
        // \u91C7\u7528\u80CC\u666F\u6A21\u7CCA\u6765\u89E3\u51B3\u591A\u79CD\u80CC\u666F\u8272\u4E0B\u8986\u76D6\u5185\u5BB9\u7684\u95EE\u9898 TODO\uFF1AFireFox \u517C\u5BB9
        backdrop-filter: blur(5px);
        //background-image: linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, @bg-2 10%, @bg-2 100%);

        .tech-studio-actionicon-icon {
          height: 22px;
        }
      `])))),content:$("".concat(Z,"-item-content"),P(Et||(Et=(0,ee.Z)([`
        position: relative;
        width: 100%;
      `]))))}}),Yt=["color","dragOverlay","dragging","disabled","fadeIn","handle","index","listeners","onRemove","hideRemove","compact","children","sorting","style","transition","transform","id","className","actions","prefixCls"],yn=(0,g.memo)((0,g.forwardRef)(function(N,Z){var P,$,Ne=N.color,Ge=N.dragOverlay,ct=N.dragging,Ft=N.disabled,Dt=N.fadeIn,dt=N.handle,mt=dt===void 0?!0:dt,ut=N.index,Zt=N.listeners,Sn=N.onRemove,xn=N.hideRemove,Fn=xn===void 0?!1:xn,An=N.compact,zn=An===void 0?!1:An,Jn=N.children,fn=N.sorting,Vn=N.style,lr=N.transition,yr=N.transform,Hr=N.id,wi=N.className,ni=N.actions,ri=N.prefixCls,ii=(0,x.Z)(N,Yt),_i=Gt(ri),Er=_i.styles,Tr=ft()("".concat(ri,"-item"));return(0,g.useEffect)(function(){if(Ge)return document.body.style.cursor="grabbing",function(){document.body.style.cursor=""}},[Ge]),(0,ye.jsx)("li",{className:ft()(Er.wrapper,wi,(P={},(0,Be.Z)(P,Er.wrapperFadeIn,Dt),(0,Be.Z)(P,"".concat(Tr,"-wrapper-sorting"),fn),(0,Be.Z)(P,Er.wrapperdragOverlay,Ge),P)),style:{transition:lr,"--translate-x":yr?"".concat(Math.round(yr.x),"px"):void 0,"--translate-y":yr?"".concat(Math.round(yr.y),"px"):void 0,"--scale-x":yr!=null&&yr.scaleX?"".concat(yr.scaleX):void 0,"--scale-y":yr!=null&&yr.scaleY?"".concat(yr.scaleY):void 0,"--index":ut,"--color":Ne},"data-testid":"list-item",ref:Z,children:(0,ye.jsx)("div",(0,A.Z)((0,A.Z)((0,A.Z)({className:ft()(Er.item,($={},(0,Be.Z)($,"".concat(Tr,"-dragging"),ct),(0,Be.Z)($,"".concat(Tr,"-withHandle"),mt),(0,Be.Z)($,Er.dragOverlay,Ge),(0,Be.Z)($,Er.disabled,Ft),(0,Be.Z)($,"".concat(Tr,"-discolorabled"),Ne),$)),style:(0,A.Z)((0,A.Z)({},Vn),{},{backgroundColor:zn?void 0:"hsl(0, 0%, 98%)"}),"data-cypress":"draggable-item"},mt?void 0:Zt),ii),{},{tabIndex:mt?void 0:0,children:(0,ye.jsxs)(O.D,{className:Er.content,direction:"horizontal",align:"center",children:[(0,ye.jsx)(O.D,{className:ft()(Er.actionsLeft,Er.actions),direction:"horizontal",children:mt?(0,ye.jsx)(xe,(0,A.Z)({tabIndex:-1,cursor:"grab","data-cypress":"draggable-handle",style:zn?void 0:{position:"absolute",left:"-13px"}},Zt)):null}),Jn,(0,ye.jsxs)(O.D,{className:ft()(Er.actions,zn?Er.actionsRight:void 0),direction:"horizontal",children:[ni,Fn?null:(0,ye.jsx)(de,{tabIndex:-1,onClick:Sn,style:{height:22}})]})]})}))},Hr)})),rn=yn,sn=K(34961),Mn=function(Z){return{activeId:Z.activeId,compact:Z.compact,renderContent:Z.renderContent,getActiveIndex:Z.getActiveIndex}},xt=function(Z){var P=Z.prefixCls,$=(0,sn.oR)(Mn,Ye),Ne=$.activeId,Ge=$.compact,ct=$.renderContent,Ft=$.getActiveIndex,Dt=(0,sn.oR)(function(mt){return mt.value},Rt()),dt=Ft();return(0,ye.jsx)(T.y9,{adjustScale:!1,dropAnimation:(0,A.Z)((0,A.Z)({},T.RJ),{},{sideEffects:(0,T.Ai)({styles:{active:{opacity:"0.5"}}})}),children:Ne?(0,ye.jsx)(rn,{id:Ne,dragOverlay:!0,prefixCls:P,compact:Ge,children:ct(Dt[dt],dt)}):null})},he=(0,g.memo)(xt),Me=K(66441),Oe=(0,Ot.kc)(function(N,Z){var P=Z.prefixCls,$=Z.horizontal;return{container:(0,Ot.cx)("".concat(P,"-container"),(0,Ot.iv)({listStyle:"none",display:"grid",gridAutoRows:"max-content",gridGap:"2px",gridTemplateColumns:"repeat(var(--columns, 1), 1fr)",width:"100%",margin:"0",padding:"0",borderRadius:"4px",transition:"background-color 350ms ease",gridAutoFlow:$?"column":void 0}))}}),Ke=(0,g.forwardRef)(function(N,Z){var P=N.children,$=N.columns,Ne=$===void 0?1:$,Ge=N.horizontal,ct=N.style,Ft=N.className,Dt=N.prefixCls,dt=Oe({prefixCls:Dt,horizontal:Ge}),mt=dt.styles,ut=ft()(mt.container,Ft);return(0,ye.jsx)("ul",{ref:Z,style:(0,A.Z)((0,A.Z)({},ct),{},{"--columns":Ne}),className:ut,children:P})}),Xe=Ke;function Nt(N){var Z=N.disabled,P=N.id,$=N.index,Ne=N.actions,Ge=N.onRemove,ct=N.useDragOverlay,Ft=ct===void 0?!0:ct,Dt=N.children,dt=N.prefixCls,mt=N.hideRemove,ut=mt===void 0?!1:mt,Zt=N.compact,Sn=Zt===void 0?!1:Zt,xn=(0,nn.nB)({id:P,disabled:Z}),Fn=xn.attributes,An=xn.isDragging,zn=xn.isSorting,Jn=xn.listeners,fn=xn.setNodeRef,Vn=xn.transform,lr=xn.transition;return(0,ye.jsx)(rn,(0,A.Z)((0,A.Z)({ref:fn,id:P,disabled:Z,dragging:An,sorting:zn,compact:Sn,hideRemove:ut,index:$,actions:Ne,onRemove:Ge?function(){return Ge($)}:void 0,transform:Vn,transition:!Ft&&An?"none":lr,listeners:Jn,"data-index":$,"data-id":P,dragOverlay:!Ft&&An,prefixCls:dt},Fn),{},{children:Dt}),P)}var Qt=K(96430),Dn=K(59892),Pn=K(52380),me=K(33134),Je,nt,et,Ut,pn,an,Vt,pe,De,lt,Tt,Wt=function(Z){var P=Z.token,$=Z.css,Ne=$(Je||(Je=(0,ee.Z)([`
    cursor: pointer;
    transition: 150ms background-color ease-in-out;
    &:hover {
      background: `,`;
    }
  `])),P.colorFillQuaternary),Ge=$(nt||(nt=(0,ee.Z)([`
    color: `,`;
    background-color: `,`;
    border-color: transparent;
  `])),P.colorText,P.colorFillTertiary),ct=$(et||(et=(0,ee.Z)([`
    color: `,` !important;
    background-color: `,` !important;
    border-color: `,` !important;
    box-shadow: none;
  `])),P.colorText,P.colorFillQuaternary,P.colorPrimary),Ft=$(Ut||(Ut=(0,ee.Z)([`
    color: `,`;
    background: `,`;
    border-color: transparent;
  `])),P.colorTextSecondary,P.colorFillQuaternary);return{defaultButton:$(pn||(pn=(0,ee.Z)([`
      `,`;

      &:hover {
        color: `,` !important;
        background: `,` !important;
        border-color: transparent !important;
      }
      &:focus {
        `,`;
        border-color: `,` !important;
      }
    `])),Ft,P.colorText,P.colorFillSecondary,Ft,P.colorPrimary),textInfo:$(an||(an=(0,ee.Z)([`
      color: `,`;
      &:hover {
        color: `,`;
      }
    `])),P.colorTextSecondary,P.colorText),textDefault:$(Vt||(Vt=(0,ee.Z)([`
      color: `,`;
    `])),P.colorTextSecondary),containerBgHover:$(pe||(pe=(0,ee.Z)([`
      cursor: pointer;
      transition: 150ms background-color ease-in-out;

      &:hover {
        background: `,`;
      }
    `])),P.colorFillQuaternary),containerBgL2:$(De||(De=(0,ee.Z)([`
      `,`;
      border-radius: 4px;
      background: `,`;

      &:hover {
        background: `,`;
      }
    `])),Ne,P.colorFillQuaternary,P.colorFillTertiary),controlContainerFocused:ct,controlContainer:$(lt||(lt=(0,ee.Z)([`
      &:hover {
        `,`
      }
      &:focus {
        `,`
      }
    `])),Ge,ct),backgroundBlur:$(Tt||(Tt=(0,ee.Z)([`
      background: `,`;
      backdrop-filter: blur(10px);
    `])),(0,me.DZ)(.4)(P.colorBgElevated))}},Cn,Bn=(0,Ot.kc)(function(N,Z){var P=N.token,$=N.css,Ne=Wt(N);return{btnAdd:(0,Ot.cx)("".concat(Z,"-btn-add"),$(Cn||(Cn=(0,ee.Z)([`
        height: 24px;
        padding-block: 2px;
        margin-top: `,`px;
      `])),P.marginXXS),Ne.defaultButton)}}),Gn=function(Z){return{renderContent:Z.renderContent,compact:Z.compact,hideRemove:Z.hideRemove,creatorButtonProps:Z.creatorButtonProps,dispatchListData:Z.dispatchListData}},vr=function(Z){var P=Z.prefixCls,$=(0,sn.oR)(Gn,Ye),Ne=$.dispatchListData,Ge=$.renderContent,ct=$.compact,Ft=$.hideRemove,Dt=(0,sn.oR)(function(ni){return[ni.value,ni.keyManager,ni.creatorButtonProps,ni.actions]},Rt()),dt=(0,Me.Z)(Dt,4),mt=dt[0],ut=dt[1],Zt=dt[2],Sn=dt[3],xn=Zt||{},Fn=xn.record,An=xn.creatorButtonText,zn=An===void 0?"\u6DFB\u52A0\u4E00\u5217":An,Jn=xn.showInList,fn=Jn===void 0?!0:Jn,Vn=xn.showInEmpty,lr=Vn===void 0?!0:Vn,yr=Bn(P),Hr=yr.styles,wi=function(ri){var ii=ri.empty,_i=ii===void 0?!1:ii;return(0,ye.jsx)(Dn.ZP,{block:!_i,size:"small",className:Hr.btnAdd,onClick:function(){var Tr=(0,A.Z)({},Fn&&typeof Fn=="function"?Fn(mt.length):Fn);Ne({type:"addItem",item:Tr})},icon:(0,ye.jsx)(Qt.Z,{}),children:zn})};return(0,ye.jsx)(ye.Fragment,{children:Array.isArray(mt)&&mt.length===0?(0,ye.jsx)(ye.Fragment,{children:(0,ye.jsx)(Pn.Z,{image:Pn.Z.PRESENTED_IMAGE_SIMPLE,children:lr===!1?null:(0,ye.jsx)(wi,{empty:!0})})}):(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(Xe,{prefixCls:P,children:mt.map(function(ni,ri){return(0,ye.jsx)(Nt,{id:ut.keys[ri],index:ri,compact:ct,hideRemove:Ft,onRemove:function(){return Ne({type:"removeItem",index:ri})},actions:typeof Sn=="function"?Sn(ni,ri):Sn,useDragOverlay:!0,prefixCls:P,children:Ge==null?void 0:Ge(ni,ri)},ut.keys[ri])})}),fn===!1?null:(0,ye.jsx)(wi,{})]})})},Mr=(0,g.memo)(vr),xr={strategy:T.uN.Always},mi=function(Z){return{handleDragStart:Z.handleDragStart,handleDragCancel:Z.handleDragCancel,handleDragEnd:Z.handleDragEnd,renderHeader:Z.renderHeader}},Pr=function(Z){var P=Z.className,$=Z.style,Ne=Z.prefixCls,Ge=(0,sn.oR)(mi,Ye),ct=Ge.handleDragStart,Ft=Ge.handleDragCancel,Dt=Ge.handleDragEnd,dt=Ge.renderHeader,mt=(0,sn.oR)(function(xn){return xn.keyManager},Rt()),ut=(0,zt.k2)("sortable-list",Ne),Zt=(0,T.Dy)((0,T.VT)(T.MA),(0,T.VT)(T.LO),(0,T.VT)(T.Lg,{coordinateGetter:nn.is})),Sn=(0,g.useMemo)(function(){return(0,k.createPortal)((0,ye.jsx)(he,{prefixCls:ut}),document.body)},[]);return(0,ye.jsx)(O.D,{className:(0,Ot.cx)(P,ut),style:$,children:(0,ye.jsx)(T.LB,{sensors:Zt,collisionDetection:T.pE,onDragStart:ct,onDragEnd:Dt,measuring:{droppable:xr},onDragCancel:Ft,modifiers:[F,it],children:(0,ye.jsxs)(nn.Fo,{items:mt.keys.map(function(xn){return{id:xn}}),strategy:nn.qw,children:[dt==null?void 0:dt(),(0,ye.jsx)(Mr,{prefixCls:ut}),Sn]})})})},jr=Pr,I=function(Z){var P=Z.children,$=Z.showDevtools,Ne=!0,Ge=(0,ye.jsx)(ye.Fragment,{children:P});try{(0,sn.AC)()}catch(ct){Ne=!1}return Ne?Ge:(0,ye.jsx)(sn.zt,{createStore:function(){return(0,sn.MT)($)},children:Ge})},U=K(18846),m=function(Z){return function(P,$){var Ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[$],Ge=arguments.length>3?arguments[3]:void 0,ct=Ge!=null?Ge:Z.setState;(0,g.useEffect)(function(){typeof $!="undefined"&&ct((0,Be.Z)({},P,$))},Ne)}},C=K(39181),w=(0,g.forwardRef)(function(N,Z){var P=N.creatorButtonProps,$=N.initialValues,Ne=N.value,Ge=N.onChange,ct=N.renderContent,Ft=N.renderHeader,Dt=N.actions,dt=N.compact,mt=N.hideRemove,ut=(0,sn.AC)(),Zt=m(ut),Sn=function(An,zn){var Jn=ut.getState(),fn=Jn.keyManager,Vn=(0,U.Uy)(fn,function(lr){return An[zn].forEach(function(yr,Hr){var wi=lr.keys[Hr];wi===void 0&&(lr.keys[Hr]=lr.id,lr.id+=1)}),lr});ut.setState((0,Be.Z)({keyManager:Vn},zn,An[zn]))};Zt("value",$,[]),Zt("onChange",Ge),Zt("creatorButtonProps",P),Zt("renderContent",ct),Zt("renderHeader",Ft),Zt("actions",Dt),Zt("compact",dt),Zt("hideRemove",mt),Zt("initialValues",$,[$],function(Fn){Sn(Fn,"initialValues")}),Zt("value",Ne,[Ne],function(Fn){return Sn(Fn,"value")});var xn=(0,C.t)();return(0,g.useImperativeHandle)(Z,function(){return xn}),null}),L=w,V=["SHOW_STORE_IN_DEVTOOLS","className","style"],se=(0,g.memo)((0,g.forwardRef)(function(N,Z){var P=N.SHOW_STORE_IN_DEVTOOLS,$=N.className,Ne=N.style,Ge=(0,x.Z)(N,V);return(0,ye.jsx)(_.iV,{children:(0,ye.jsxs)(I,{showDevtools:P,children:[(0,ye.jsx)(jr,{style:Ne,className:$}),(0,ye.jsx)(L,(0,A.Z)((0,A.Z)({},Ge),{},{ref:Z}))]})})}))},39181:function(Jt,Qe,K){"use strict";K.d(Qe,{t:function(){return g}});var A=K(28062),x=K(34961),g=function(){var T=(0,x.AC)(),k=(0,A.Z)(function(){return T.getState().activeId}),z=(0,A.Z)(function(){return T.getState().value}),Y=function(Se,F){return T.getState().dispatchListData({type:"addItem",item:Se,index:F})},le=function(Se){return T.getState().dispatchListData({type:"removeItem",index:Se})},oe=function(Se,F){return T.getState().dispatchListData({type:"updateItem",item:Se,index:F})};return{getActiveId:k,getValue:z,addItem:Y,removeItem:le,updateItem:oe}}},34961:function(Jt,Qe,K){"use strict";K.d(Qe,{zt:function(){return at},MT:function(){return qe},oR:function(){return tt},AC:function(){return St}});const A=Mt=>{let Et;const Ct=new Set,We=(Yt,yn)=>{const rn=typeof Yt=="function"?Yt(Et):Yt;if(!Object.is(rn,Et)){const sn=Et;Et=(yn!=null?yn:typeof rn!="object")?rn:Object.assign({},Et,rn),Ct.forEach(Mn=>Mn(Et,sn))}},Ve=()=>Et,Gt={setState:We,getState:Ve,subscribe:Yt=>(Ct.add(Yt),()=>Ct.delete(Yt)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),Ct.clear()}};return Et=Mt(We,Ve,Gt),Gt},x=Mt=>Mt?A(Mt):A;var g=Mt=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'."),x(Mt)),_=K(50959),T=K(7231);const{useSyncExternalStoreWithSelector:k}=T;function z(Mt,Et=Mt.getState,Ct){const We=k(Mt.subscribe,Mt.getState,Mt.getServerState||Mt.getState,Et,Ct);return(0,_.useDebugValue)(We),We}const Y=Mt=>{typeof Mt!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const Et=typeof Mt=="function"?x(Mt):Mt,Ct=(We,Ve)=>z(Et,We,Ve);return Object.assign(Ct,Et),Ct},le=Mt=>Mt?Y(Mt):Y;var oe=Mt=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),le(Mt)),be=function(){var Et=(0,_.createContext)(void 0),Ct=function($t){var Gt=$t.createStore,Yt=$t.children,yn=(0,_.useRef)();return yn.current||(yn.current=Gt()),(0,_.createElement)(Et.Provider,{value:yn.current},Yt)},We=function($t,Gt){var Yt=(0,_.useContext)(Et);if(!Yt)throw new Error("Seems like you have not used zustand provider as an ancestor.");return z(Yt,$t,Gt)},Ve=function(){var $t=(0,_.useContext)(Et);if(!$t)throw new Error("Seems like you have not used zustand provider as an ancestor.");return $t};return{Provider:Ct,useStore:We,useStoreApi:Ve}};const Se=(Mt,Et)=>(Ct,We,Ve)=>(Ve.dispatch=gt=>(Ct($t=>Mt($t,gt),!1,gt),gt),Ve.dispatchFromDevtools=!0,tn({dispatch:(...gt)=>Ve.dispatch(...gt)},Et)),F=null,it=new Map,st=Mt=>{const Et=it.get(Mt);return Et?Object.fromEntries(Object.entries(Et.stores).map(([Ct,We])=>[Ct,We.getState()])):{}},nn=(Mt,Et,Ct)=>{if(Mt===void 0)return{type:"untracked",connection:Et.connect(Ct)};const We=it.get(Ct.name);if(We)return tn({type:"tracked",store:Mt},We);const Ve={connection:Et.connect(Ct),stores:{}};return it.set(Ct.name,Ve),tn({type:"tracked",store:Mt},Ve)},Rt=(Mt,Et={})=>(Ct,We,Ve)=>{const Me=Et,{enabled:gt,anonymousActionType:$t,store:Gt}=Me,Yt=Eo(Me,["enabled","anonymousActionType","store"]);let yn;try{yn=(gt!=null?gt:void 0!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(Ke){}if(!yn)return gt&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),Mt(Ct,We,Ve);const Oe=nn(Gt,yn,Yt),{connection:rn}=Oe,sn=Eo(Oe,["connection"]);let Mn=!0;Ve.setState=(Ke,Xe,Nt)=>{const Qt=Ct(Ke,Xe);if(!Mn)return Qt;const Dn=Nt===void 0?{type:$t||"anonymous"}:typeof Nt=="string"?{type:Nt}:Nt;return Gt===void 0?(rn==null||rn.send(Dn,We()),Qt):(rn==null||rn.send(Ar(tn({},Dn),{type:`${Gt}/${Dn.type}`}),Ar(tn({},st(Yt.name)),{[Gt]:Ve.getState()})),Qt)};const xt=(...Ke)=>{const Xe=Mn;Mn=!1,Ct(...Ke),Mn=Xe},he=Mt(Ve.setState,We,Ve);if(sn.type==="untracked"?rn==null||rn.init(he):(sn.stores[sn.store]=Ve,rn==null||rn.init(Object.fromEntries(Object.entries(sn.stores).map(([Ke,Xe])=>[Ke,Ke===sn.store?he:Xe.getState()])))),Ve.dispatchFromDevtools&&typeof Ve.dispatch=="function"){let Ke=!1;const Xe=Ve.dispatch;Ve.dispatch=(...Nt)=>{Nt[0].type==="__setState"&&!Ke&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),Ke=!0),Xe(...Nt)}}return rn.subscribe(Ke=>{var Xe;switch(Ke.type){case"ACTION":if(typeof Ke.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return O(Ke.payload,Nt=>{if(Nt.type==="__setState"){if(Gt===void 0){xt(Nt.state);return}Object.keys(Nt.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const Qt=Nt.state[Gt];if(Qt==null)return;JSON.stringify(Ve.getState())!==JSON.stringify(Qt)&&xt(Qt);return}Ve.dispatchFromDevtools&&typeof Ve.dispatch=="function"&&Ve.dispatch(Nt)});case"DISPATCH":switch(Ke.payload.type){case"RESET":return xt(he),Gt===void 0?rn==null?void 0:rn.init(Ve.getState()):rn==null?void 0:rn.init(st(Yt.name));case"COMMIT":if(Gt===void 0){rn==null||rn.init(Ve.getState());return}return rn==null?void 0:rn.init(st(Yt.name));case"ROLLBACK":return O(Ke.state,Nt=>{if(Gt===void 0){xt(Nt),rn==null||rn.init(Ve.getState());return}xt(Nt[Gt]),rn==null||rn.init(st(Yt.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return O(Ke.state,Nt=>{if(Gt===void 0){xt(Nt);return}JSON.stringify(Ve.getState())!==JSON.stringify(Nt[Gt])&&xt(Nt[Gt])});case"IMPORT_STATE":{const{nextLiftedState:Nt}=Ke.payload,Qt=(Xe=Nt.computedStates.slice(-1)[0])==null?void 0:Xe.state;if(!Qt)return;xt(Gt===void 0?Qt:Qt[Gt]),rn==null||rn.send(null,Nt);return}case"PAUSE_RECORDING":return Mn=!Mn}return}}),he},O=(Mt,Et)=>{let Ct;try{Ct=JSON.parse(Mt)}catch(We){console.error("[zustand devtools middleware] Could not parse the received json",We)}Ct!==void 0&&Et(Ct)},Ye=Mt=>(Et,Ct,We)=>{const Ve=We.subscribe;return We.subscribe=($t,Gt,Yt)=>{let yn=$t;if(Gt){const rn=(Yt==null?void 0:Yt.equalityFn)||Object.is;let sn=$t(We.getState());yn=Mn=>{const xt=$t(Mn);if(!rn(sn,xt)){const he=sn;Gt(sn=xt,he)}},Yt!=null&&Yt.fireImmediately&&Gt(sn,sn)}return Ve(yn)},Mt(Et,Ct,We)},pt=null,zt=(Mt,Et)=>(...Ct)=>Object.assign({},Mt,Et(...Ct));function Ot(Mt,Et){let Ct;try{Ct=Mt()}catch(Ve){return}return{getItem:Ve=>{var gt;const $t=Yt=>Yt===null?null:JSON.parse(Yt,Et==null?void 0:Et.reviver),Gt=(gt=Ct.getItem(Ve))!=null?gt:null;return Gt instanceof Promise?Gt.then($t):$t(Gt)},setItem:(Ve,gt)=>Ct.setItem(Ve,JSON.stringify(gt,Et==null?void 0:Et.replacer)),removeItem:Ve=>Ct.removeItem(Ve)}}const Be=Mt=>Et=>{try{const Ct=Mt(Et);return Ct instanceof Promise?Ct:{then(We){return Be(We)(Ct)},catch(We){return this}}}catch(Ct){return{then(We){return this},catch(We){return Be(We)(Ct)}}}},Ue=(Mt,Et)=>(Ct,We,Ve)=>{let gt=tn({getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:Oe=>Oe,version:0,merge:(Oe,Ke)=>tn(tn({},Ke),Oe)},Et),$t=!1;const Gt=new Set,Yt=new Set;let yn;try{yn=gt.getStorage()}catch(Oe){}if(!yn)return Mt((...Oe)=>{console.warn(`[zustand persist middleware] Unable to update item '${gt.name}', the given storage is currently unavailable.`),Ct(...Oe)},We,Ve);const rn=Be(gt.serialize),sn=()=>{const Oe=gt.partialize(tn({},We()));let Ke;const Xe=rn({state:Oe,version:gt.version}).then(Nt=>yn.setItem(gt.name,Nt)).catch(Nt=>{Ke=Nt});if(Ke)throw Ke;return Xe},Mn=Ve.setState;Ve.setState=(Oe,Ke)=>{Mn(Oe,Ke),sn()};const xt=Mt((...Oe)=>{Ct(...Oe),sn()},We,Ve);let he;const Me=()=>{var Oe;if(!yn)return;$t=!1,Gt.forEach(Xe=>Xe(We()));const Ke=((Oe=gt.onRehydrateStorage)==null?void 0:Oe.call(gt,We()))||void 0;return Be(yn.getItem.bind(yn))(gt.name).then(Xe=>{if(Xe)return gt.deserialize(Xe)}).then(Xe=>{if(Xe)if(typeof Xe.version=="number"&&Xe.version!==gt.version){if(gt.migrate)return gt.migrate(Xe.state,Xe.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return Xe.state}).then(Xe=>{var Nt;return he=gt.merge(Xe,(Nt=We())!=null?Nt:xt),Ct(he,!0),sn()}).then(()=>{Ke==null||Ke(he,void 0),$t=!0,Yt.forEach(Xe=>Xe(he))}).catch(Xe=>{Ke==null||Ke(void 0,Xe)})};return Ve.persist={setOptions:Oe=>{gt=tn(tn({},gt),Oe),Oe.getStorage&&(yn=Oe.getStorage())},clearStorage:()=>{yn==null||yn.removeItem(gt.name)},getOptions:()=>gt,rehydrate:()=>Me(),hasHydrated:()=>$t,onHydrate:Oe=>(Gt.add(Oe),()=>{Gt.delete(Oe)}),onFinishHydration:Oe=>(Yt.add(Oe),()=>{Yt.delete(Oe)})},Me(),he||xt},ft=(Mt,Et)=>(Ct,We,Ve)=>{let gt=tn({storage:Ot(()=>localStorage),partialize:Me=>Me,version:0,merge:(Me,Oe)=>tn(tn({},Oe),Me)},Et),$t=!1;const Gt=new Set,Yt=new Set;let yn=gt.storage;if(!yn)return Mt((...Me)=>{console.warn(`[zustand persist middleware] Unable to update item '${gt.name}', the given storage is currently unavailable.`),Ct(...Me)},We,Ve);const rn=()=>{const Me=gt.partialize(tn({},We()));return yn.setItem(gt.name,{state:Me,version:gt.version})},sn=Ve.setState;Ve.setState=(Me,Oe)=>{sn(Me,Oe),rn()};const Mn=Mt((...Me)=>{Ct(...Me),rn()},We,Ve);let xt;const he=()=>{var Me,Oe;if(!yn)return;$t=!1,Gt.forEach(Xe=>{var Nt;return Xe((Nt=We())!=null?Nt:Mn)});const Ke=((Oe=gt.onRehydrateStorage)==null?void 0:Oe.call(gt,(Me=We())!=null?Me:Mn))||void 0;return Be(yn.getItem.bind(yn))(gt.name).then(Xe=>{if(Xe)if(typeof Xe.version=="number"&&Xe.version!==gt.version){if(gt.migrate)return gt.migrate(Xe.state,Xe.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return Xe.state}).then(Xe=>{var Nt;return xt=gt.merge(Xe,(Nt=We())!=null?Nt:Mn),Ct(xt,!0),rn()}).then(()=>{Ke==null||Ke(xt,void 0),xt=We(),$t=!0,Yt.forEach(Xe=>Xe(xt))}).catch(Xe=>{Ke==null||Ke(void 0,Xe)})};return Ve.persist={setOptions:Me=>{gt=tn(tn({},gt),Me),Me.storage&&(yn=Me.storage)},clearStorage:()=>{yn==null||yn.removeItem(gt.name)},getOptions:()=>gt,rehydrate:()=>he(),hasHydrated:()=>$t,onHydrate:Me=>(Gt.add(Me),()=>{Gt.delete(Me)}),onFinishHydration:Me=>(Yt.add(Me),()=>{Yt.delete(Me)})},gt.skipHydration||he(),xt||Mn},bt=(Mt,Et)=>"getStorage"in Et||"serialize"in Et||"deserialize"in Et?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Ue(Mt,Et)):ft(Mt,Et),j=null;var ye=function(Et){return function(Ct,We){var Ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[We],gt=arguments.length>3?arguments[3]:void 0,$t=Et();useEffect(function(){typeof We!="undefined"&&(gt?gt(We):$t.setState(_defineProperty({},Ct,We)))},Ve)}},ge=function(Et){return Et?Rt:function(Ct){return Ct}},ve=K(185),Ce=K(5899),xe=K.n(Ce),de={activeId:null,value:[],keyManager:{keys:[],id:1},compact:!1,hideRemove:!1,onChange:void 0,renderHeader:void 0,renderContent:void 0,actions:[]},X=K(59671),ee=K(18846),Pe=K(72266),Q=K.n(Pe),Le=function(Et,Ct,We){switch(We.type){case"moveItem":var Ve=We.activeId,gt=We.targetId,$t=Ve?Ct.keys.indexOf(Ve):-1,Gt=gt?Ct.keys.indexOf(gt):-1;return $t===Gt||$t<0||$t>=Et.length||Gt<0||Gt>=Et.length?void 0:{data:(0,ee.Uy)(Et,function(Mn){var xt=(0,X.Rp)(Mn,$t,Gt);return xt}),manager:(0,ee.Uy)(Ct,function(Mn){return Mn.keys=(0,X.Rp)(Mn.keys,$t,Gt),Mn})};case"removeItem":var Yt=new Set(Array.isArray(We.index)?We.index:[We.index]);return Yt.size<=0?void 0:{data:(0,ee.Uy)(Et,function(Mn){var xt=Mn.filter(function(he,Me){return!Yt.has(Me)});return xt}),manager:(0,ee.Uy)(Ct,function(Mn){return Mn.keys=Mn.keys.filter(function(xt,he){return!Yt.has(he)}),Mn})};case"addItem":var yn=We.item,rn=We.index,sn=rn===void 0?Et.length:rn;return{data:(0,ee.Uy)(Et,function(Mn){return Mn.splice(sn,0,yn),Mn}),manager:(0,ee.Uy)(Ct,function(Mn){return Mn.keys.splice(sn,0,Mn.id),Mn.id+=1,Mn})};case"updateItem":return{data:(0,ee.Uy)(Et,function(Mn){var xt=We.item,he=We.index;return Mn[he]=Q()(Mn[he],xt),Mn}),manager:(0,ee.Uy)(Ct,function(Mn){return Mn})}}},Ee=function(Et,Ct){return(0,ve.Z)((0,ve.Z)({},de),{},{handleDragStart:function(Ve){var gt=Ve.active.id;gt&&Et({activeId:gt})},handleDragEnd:function(Ve){var gt=Ve.over,$t=Ve.active,Gt=Ct(),Yt=Gt.dispatchListData;gt&&Yt({type:"moveItem",activeId:$t.id,targetId:gt.id}),Et({activeId:null})},handleDragCancel:function(){Et({activeId:null})},dispatchListData:function(Ve){var gt=Ct(),$t=gt.value,Gt=gt.onChange,Yt=gt.keyManager,yn=Le($t,Yt,Ve)||{},rn=yn.data,sn=yn.manager;if(rn){if(xe()($t,rn))return;Et({value:rn}),Gt&&Gt(rn)}sn&&Et({keyManager:sn})},getActiveIndex:function(){var Ve=Ct(),gt=Ve.keyManager,$t=Ve.activeId,Gt=$t?gt.keys.indexOf($t):-1;return Gt}})},ke=Ee,qe=function(Et){return le(ge(Et)(ke,{name:"SortableList"}))},rt=be(),tt=rt.useStore,St=rt.useStoreApi,at=rt.Provider},28257:function(Jt,Qe,K){"use strict";K.d(Qe,{LB:function(){return _i},y9:function(){return Ai},g4:function(){return Pn},Lg:function(){return nt},uN:function(){return Pr},MA:function(){return lt},LO:function(){return Wt},pE:function(){return bt},ey:function(){return j},RJ:function(){return Ji},Ai:function(){return qo},VK:function(){return Ee},_8:function(){return Ue},hI:function(){return St},Cj:function(){return di},O1:function(){return lo},Zj:function(){return Lo},VT:function(){return ht},Dy:function(){return Rt}});var A=K(50959),x=K(10422),g=K(84341);const _={display:"none"};function T(B){let{id:J,value:Re}=B;return A.createElement("div",{id:J,style:_},Re)}const k={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function z(B){let{id:J,announcement:Re}=B;return A.createElement("div",{id:J,style:k,role:"status","aria-live":"assertive","aria-atomic":!0},Re)}function Y(){const[B,J]=(0,A.useState)("");return{announce:(0,A.useCallback)(ot=>{ot!=null&&J(ot)},[]),announcement:B}}const le=(0,A.createContext)(null);function oe(B){const J=(0,A.useContext)(le);(0,A.useEffect)(()=>{if(!J)throw new Error("useDndMonitor must be used within a children of <DndContext>");return J(B)},[B,J])}function be(){const[B]=(0,A.useState)(()=>new Set),J=(0,A.useCallback)(ot=>(B.add(ot),()=>B.delete(ot)),[B]);return[(0,A.useCallback)(ot=>{let{type:It,event:Lt}=ot;B.forEach(W=>{var we;return(we=W[It])==null?void 0:we.call(W,Lt)})},[B]),J]}const Se={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},F={onDragStart(B){let{active:J}=B;return"Picked up draggable item "+J.id+"."},onDragOver(B){let{active:J,over:Re}=B;return Re?"Draggable item "+J.id+" was moved over droppable area "+Re.id+".":"Draggable item "+J.id+" is no longer over a droppable area."},onDragEnd(B){let{active:J,over:Re}=B;return Re?"Draggable item "+J.id+" was dropped over droppable area "+Re.id:"Draggable item "+J.id+" was dropped."},onDragCancel(B){let{active:J}=B;return"Dragging was cancelled. Draggable item "+J.id+" was dropped."}};function it(B){let{announcements:J=F,container:Re,hiddenTextDescribedById:ot,screenReaderInstructions:It=Se}=B;const{announce:Lt,announcement:W}=Y(),we=(0,g.Ld)("DndLiveRegion"),[D,re]=(0,A.useState)(!1);if((0,A.useEffect)(()=>{re(!0)},[]),oe((0,A.useMemo)(()=>({onDragStart(_t){let{active:mn}=_t;Lt(J.onDragStart({active:mn}))},onDragMove(_t){let{active:mn,over:On}=_t;J.onDragMove&&Lt(J.onDragMove({active:mn,over:On}))},onDragOver(_t){let{active:mn,over:On}=_t;Lt(J.onDragOver({active:mn,over:On}))},onDragEnd(_t){let{active:mn,over:On}=_t;Lt(J.onDragEnd({active:mn,over:On}))},onDragCancel(_t){let{active:mn,over:On}=_t;Lt(J.onDragCancel({active:mn,over:On}))}}),[Lt,J])),!D)return null;const $e=A.createElement(A.Fragment,null,A.createElement(T,{id:ot,value:It.draggable}),A.createElement(z,{id:we,announcement:W}));return Re?(0,x.createPortal)($e,Re):$e}var st;(function(B){B.DragStart="dragStart",B.DragMove="dragMove",B.DragEnd="dragEnd",B.DragCancel="dragCancel",B.DragOver="dragOver",B.RegisterDroppable="registerDroppable",B.SetDroppableDisabled="setDroppableDisabled",B.UnregisterDroppable="unregisterDroppable"})(st||(st={}));function nn(){}function ht(B,J){return(0,A.useMemo)(()=>({sensor:B,options:J!=null?J:{}}),[B,J])}function Rt(){for(var B=arguments.length,J=new Array(B),Re=0;Re<B;Re++)J[Re]=arguments[Re];return(0,A.useMemo)(()=>[...J].filter(ot=>ot!=null),[...J])}const O=Object.freeze({x:0,y:0});function Ye(B,J){return Math.sqrt(Math.pow(B.x-J.x,2)+Math.pow(B.y-J.y,2))}function pt(B,J){const Re=(0,g.DC)(B);if(!Re)return"0 0";const ot={x:(Re.x-J.left)/J.width*100,y:(Re.y-J.top)/J.height*100};return ot.x+"% "+ot.y+"%"}function zt(B,J){let{data:{value:Re}}=B,{data:{value:ot}}=J;return Re-ot}function Ot(B,J){let{data:{value:Re}}=B,{data:{value:ot}}=J;return ot-Re}function Be(B){let{left:J,top:Re,height:ot,width:It}=B;return[{x:J,y:Re},{x:J+It,y:Re},{x:J,y:Re+ot},{x:J+It,y:Re+ot}]}function Ue(B,J){if(!B||B.length===0)return null;const[Re]=B;return J?Re[J]:Re}function ft(B,J,Re){return J===void 0&&(J=B.left),Re===void 0&&(Re=B.top),{x:J+B.width*.5,y:Re+B.height*.5}}const bt=B=>{let{collisionRect:J,droppableRects:Re,droppableContainers:ot}=B;const It=ft(J,J.left,J.top),Lt=[];for(const W of ot){const{id:we}=W,D=Re.get(we);if(D){const re=Ye(ft(D),It);Lt.push({id:we,data:{droppableContainer:W,value:re}})}}return Lt.sort(zt)},j=B=>{let{collisionRect:J,droppableRects:Re,droppableContainers:ot}=B;const It=Be(J),Lt=[];for(const W of ot){const{id:we}=W,D=Re.get(we);if(D){const re=Be(D),$e=It.reduce((mn,On,Un)=>mn+Ye(re[Un],On),0),_t=Number(($e/4).toFixed(4));Lt.push({id:we,data:{droppableContainer:W,value:_t}})}}return Lt.sort(zt)};function ye(B,J){const Re=Math.max(J.top,B.top),ot=Math.max(J.left,B.left),It=Math.min(J.left+J.width,B.left+B.width),Lt=Math.min(J.top+J.height,B.top+B.height),W=It-ot,we=Lt-Re;if(ot<It&&Re<Lt){const D=J.width*J.height,re=B.width*B.height,$e=W*we,_t=$e/(D+re-$e);return Number(_t.toFixed(4))}return 0}const ge=B=>{let{collisionRect:J,droppableRects:Re,droppableContainers:ot}=B;const It=[];for(const Lt of ot){const{id:W}=Lt,we=Re.get(W);if(we){const D=ye(we,J);D>0&&It.push({id:W,data:{droppableContainer:Lt,value:D}})}}return It.sort(Ot)};function ve(B,J){const{top:Re,left:ot,bottom:It,right:Lt}=J;return Re<=B.y&&B.y<=It&&ot<=B.x&&B.x<=Lt}const Ce=B=>{let{droppableContainers:J,droppableRects:Re,pointerCoordinates:ot}=B;if(!ot)return[];const It=[];for(const Lt of J){const{id:W}=Lt,we=Re.get(W);if(we&&ve(ot,we)){const re=Be(we).reduce((_t,mn)=>_t+Ye(ot,mn),0),$e=Number((re/4).toFixed(4));It.push({id:W,data:{droppableContainer:Lt,value:$e}})}}return It.sort(zt)};function xe(B,J,Re){return Ar(tn({},B),{scaleX:J&&Re?J.width/Re.width:1,scaleY:J&&Re?J.height/Re.height:1})}function de(B,J){return B&&J?{x:B.left-J.left,y:B.top-J.top}:O}function X(B){return function(Re){for(var ot=arguments.length,It=new Array(ot>1?ot-1:0),Lt=1;Lt<ot;Lt++)It[Lt-1]=arguments[Lt];return It.reduce((W,we)=>Ar(tn({},W),{top:W.top+B*we.y,bottom:W.bottom+B*we.y,left:W.left+B*we.x,right:W.right+B*we.x}),tn({},Re))}}const ee=X(1);function Pe(B){if(B.startsWith("matrix3d(")){const J=B.slice(9,-1).split(/, /);return{x:+J[12],y:+J[13],scaleX:+J[0],scaleY:+J[5]}}else if(B.startsWith("matrix(")){const J=B.slice(7,-1).split(/, /);return{x:+J[4],y:+J[5],scaleX:+J[0],scaleY:+J[3]}}return null}function Q(B,J,Re){const ot=Pe(J);if(!ot)return B;const{scaleX:It,scaleY:Lt,x:W,y:we}=ot,D=B.left-W-(1-It)*parseFloat(Re),re=B.top-we-(1-Lt)*parseFloat(Re.slice(Re.indexOf(" ")+1)),$e=It?B.width/It:B.width,_t=Lt?B.height/Lt:B.height;return{width:$e,height:_t,top:re,right:D+$e,bottom:re+_t,left:D}}const Le={ignoreTransform:!1};function Ee(B,J){J===void 0&&(J=Le);let Re=B.getBoundingClientRect();if(J.ignoreTransform){const{transform:re,transformOrigin:$e}=(0,g.Jj)(B).getComputedStyle(B);re&&(Re=Q(Re,re,$e))}const{top:ot,left:It,width:Lt,height:W,bottom:we,right:D}=Re;return{top:ot,left:It,width:Lt,height:W,bottom:we,right:D}}function ke(B){return Ee(B,{ignoreTransform:!0})}function qe(B){const J=B.innerWidth,Re=B.innerHeight;return{top:0,left:0,right:J,bottom:Re,width:J,height:Re}}function rt(B,J){return J===void 0&&(J=(0,g.Jj)(B).getComputedStyle(B)),J.position==="fixed"}function tt(B,J){J===void 0&&(J=(0,g.Jj)(B).getComputedStyle(B));const Re=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(It=>{const Lt=J[It];return typeof Lt=="string"?Re.test(Lt):!1})}function St(B,J){const Re=[];function ot(It){if(J!=null&&Re.length>=J||!It)return Re;if((0,g.qk)(It)&&It.scrollingElement!=null&&!Re.includes(It.scrollingElement))return Re.push(It.scrollingElement),Re;if(!(0,g.Re)(It)||(0,g.vZ)(It)||Re.includes(It))return Re;const Lt=(0,g.Jj)(B).getComputedStyle(It);return It!==B&&tt(It,Lt)&&Re.push(It),rt(It,Lt)?Re:ot(It.parentNode)}return B?ot(B):Re}function at(B){const[J]=St(B,1);return J!=null?J:null}function Mt(B){return!g.Nq||!B?null:(0,g.FJ)(B)?B:(0,g.UG)(B)?(0,g.qk)(B)||B===(0,g.r3)(B).scrollingElement?window:(0,g.Re)(B)?B:null:null}function Et(B){return(0,g.FJ)(B)?B.scrollX:B.scrollLeft}function Ct(B){return(0,g.FJ)(B)?B.scrollY:B.scrollTop}function We(B){return{x:Et(B),y:Ct(B)}}var Ve;(function(B){B[B.Forward=1]="Forward",B[B.Backward=-1]="Backward"})(Ve||(Ve={}));function gt(B){return!g.Nq||!B?!1:B===document.scrollingElement}function $t(B){const J={x:0,y:0},Re=gt(B)?{height:window.innerHeight,width:window.innerWidth}:{height:B.clientHeight,width:B.clientWidth},ot={x:B.scrollWidth-Re.width,y:B.scrollHeight-Re.height},It=B.scrollTop<=J.y,Lt=B.scrollLeft<=J.x,W=B.scrollTop>=ot.y,we=B.scrollLeft>=ot.x;return{isTop:It,isLeft:Lt,isBottom:W,isRight:we,maxScroll:ot,minScroll:J}}const Gt={x:.2,y:.2};function Yt(B,J,Re,ot,It){let{top:Lt,left:W,right:we,bottom:D}=Re;ot===void 0&&(ot=10),It===void 0&&(It=Gt);const{isTop:re,isBottom:$e,isLeft:_t,isRight:mn}=$t(B),On={x:0,y:0},Un={x:0,y:0},_n={height:J.height*It.y,width:J.width*It.x};return!re&&Lt<=J.top+_n.height?(On.y=Ve.Backward,Un.y=ot*Math.abs((J.top+_n.height-Lt)/_n.height)):!$e&&D>=J.bottom-_n.height&&(On.y=Ve.Forward,Un.y=ot*Math.abs((J.bottom-_n.height-D)/_n.height)),!mn&&we>=J.right-_n.width?(On.x=Ve.Forward,Un.x=ot*Math.abs((J.right-_n.width-we)/_n.width)):!_t&&W<=J.left+_n.width&&(On.x=Ve.Backward,Un.x=ot*Math.abs((J.left+_n.width-W)/_n.width)),{direction:On,speed:Un}}function yn(B){if(B===document.scrollingElement){const{innerWidth:Lt,innerHeight:W}=window;return{top:0,left:0,right:Lt,bottom:W,width:Lt,height:W}}const{top:J,left:Re,right:ot,bottom:It}=B.getBoundingClientRect();return{top:J,left:Re,right:ot,bottom:It,width:B.clientWidth,height:B.clientHeight}}function rn(B){return B.reduce((J,Re)=>(0,g.IH)(J,We(Re)),O)}function sn(B){return B.reduce((J,Re)=>J+Et(Re),0)}function Mn(B){return B.reduce((J,Re)=>J+Ct(Re),0)}function xt(B,J){if(J===void 0&&(J=Ee),!B)return;const{top:Re,left:ot,bottom:It,right:Lt}=J(B);at(B)&&(It<=0||Lt<=0||Re>=window.innerHeight||ot>=window.innerWidth)&&B.scrollIntoView({block:"center",inline:"center"})}const he=[["x",["left","right"],sn],["y",["top","bottom"],Mn]];class Me{constructor(J,Re){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const ot=St(Re),It=rn(ot);this.rect=tn({},J),this.width=J.width,this.height=J.height;for(const[Lt,W,we]of he)for(const D of W)Object.defineProperty(this,D,{get:()=>{const re=we(ot),$e=It[Lt]-re;return this.rect[D]+$e},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Oe{constructor(J){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(Re=>{var ot;return(ot=this.target)==null?void 0:ot.removeEventListener(...Re)})},this.target=J}add(J,Re,ot){var It;(It=this.target)==null||It.addEventListener(J,Re,ot),this.listeners.push([J,Re,ot])}}function Ke(B){const{EventTarget:J}=(0,g.Jj)(B);return B instanceof J?B:(0,g.r3)(B)}function Xe(B,J){const Re=Math.abs(B.x),ot=Math.abs(B.y);return typeof J=="number"?Math.sqrt(A0(Re,2)+A0(ot,2))>J:"x"in J&&"y"in J?Re>J.x&&ot>J.y:"x"in J?Re>J.x:"y"in J?ot>J.y:!1}var Nt;(function(B){B.Click="click",B.DragStart="dragstart",B.Keydown="keydown",B.ContextMenu="contextmenu",B.Resize="resize",B.SelectionChange="selectionchange",B.VisibilityChange="visibilitychange"})(Nt||(Nt={}));function Qt(B){B.preventDefault()}function Dn(B){B.stopPropagation()}var Pn;(function(B){B.Space="Space",B.Down="ArrowDown",B.Right="ArrowRight",B.Left="ArrowLeft",B.Up="ArrowUp",B.Esc="Escape",B.Enter="Enter"})(Pn||(Pn={}));const me={start:[Pn.Space,Pn.Enter],cancel:[Pn.Esc],end:[Pn.Space,Pn.Enter]},Je=(B,J)=>{let{currentCoordinates:Re}=J;switch(B.code){case Pn.Right:return Ar(tn({},Re),{x:Re.x+25});case Pn.Left:return Ar(tn({},Re),{x:Re.x-25});case Pn.Down:return Ar(tn({},Re),{y:Re.y+25});case Pn.Up:return Ar(tn({},Re),{y:Re.y-25})}};class nt{constructor(J){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=J;const{event:{target:Re}}=J;this.props=J,this.listeners=new Oe((0,g.r3)(Re)),this.windowListeners=new Oe((0,g.Jj)(Re)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Nt.Resize,this.handleCancel),this.windowListeners.add(Nt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Nt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:J,onStart:Re}=this.props,ot=J.node.current;ot&&xt(ot),Re(O)}handleKeyDown(J){if((0,g.vd)(J)){const{active:Re,context:ot,options:It}=this.props,{keyboardCodes:Lt=me,coordinateGetter:W=Je,scrollBehavior:we="smooth"}=It,{code:D}=J;if(Lt.end.includes(D)){this.handleEnd(J);return}if(Lt.cancel.includes(D)){this.handleCancel(J);return}const{collisionRect:re}=ot.current,$e=re?{x:re.left,y:re.top}:O;this.referenceCoordinates||(this.referenceCoordinates=$e);const _t=W(J,{active:Re,context:ot.current,currentCoordinates:$e});if(_t){const mn=(0,g.$X)(_t,$e),On={x:0,y:0},{scrollableAncestors:Un}=ot.current;for(const _n of Un){const $n=J.code,{isTop:hr,isRight:nr,isLeft:Cr,isBottom:Xr,maxScroll:Or,minScroll:Fr}=$t(_n),Lr=yn(_n),Vr={x:Math.min($n===Pn.Right?Lr.right-Lr.width/2:Lr.right,Math.max($n===Pn.Right?Lr.left:Lr.left+Lr.width/2,_t.x)),y:Math.min($n===Pn.Down?Lr.bottom-Lr.height/2:Lr.bottom,Math.max($n===Pn.Down?Lr.top:Lr.top+Lr.height/2,_t.y))},Ir=$n===Pn.Right&&!nr||$n===Pn.Left&&!Cr,Ii=$n===Pn.Down&&!Xr||$n===Pn.Up&&!hr;if(Ir&&Vr.x!==_t.x){const gi=_n.scrollLeft+mn.x,Hi=$n===Pn.Right&&gi<=Or.x||$n===Pn.Left&&gi>=Fr.x;if(Hi&&!mn.y){_n.scrollTo({left:gi,behavior:we});return}Hi?On.x=_n.scrollLeft-gi:On.x=$n===Pn.Right?_n.scrollLeft-Or.x:_n.scrollLeft-Fr.x,On.x&&_n.scrollBy({left:-On.x,behavior:we});break}else if(Ii&&Vr.y!==_t.y){const gi=_n.scrollTop+mn.y,Hi=$n===Pn.Down&&gi<=Or.y||$n===Pn.Up&&gi>=Fr.y;if(Hi&&!mn.x){_n.scrollTo({top:gi,behavior:we});return}Hi?On.y=_n.scrollTop-gi:On.y=$n===Pn.Down?_n.scrollTop-Or.y:_n.scrollTop-Fr.y,On.y&&_n.scrollBy({top:-On.y,behavior:we});break}}this.handleMove(J,(0,g.IH)((0,g.$X)(_t,this.referenceCoordinates),On))}}}handleMove(J,Re){const{onMove:ot}=this.props;J.preventDefault(),ot(Re)}handleEnd(J){const{onEnd:Re}=this.props;J.preventDefault(),this.detach(),Re()}handleCancel(J){const{onCancel:Re}=this.props;J.preventDefault(),this.detach(),Re()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}nt.activators=[{eventName:"onKeyDown",handler:(B,J,Re)=>{let{keyboardCodes:ot=me,onActivation:It}=J,{active:Lt}=Re;const{code:W}=B.nativeEvent;if(ot.start.includes(W)){const we=Lt.activatorNode.current;return we&&B.target!==we?!1:(B.preventDefault(),It==null||It({event:B.nativeEvent}),!0)}return!1}}];function et(B){return Boolean(B&&"distance"in B)}function Ut(B){return Boolean(B&&"delay"in B)}class pn{constructor(J,Re,ot){var It;ot===void 0&&(ot=Ke(J.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=J,this.events=Re;const{event:Lt}=J,{target:W}=Lt;this.props=J,this.events=Re,this.document=(0,g.r3)(W),this.documentListeners=new Oe(this.document),this.listeners=new Oe(ot),this.windowListeners=new Oe((0,g.Jj)(W)),this.initialCoordinates=(It=(0,g.DC)(Lt))!=null?It:O,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:J,props:{options:{activationConstraint:Re}}}=this;if(this.listeners.add(J.move.name,this.handleMove,{passive:!1}),this.listeners.add(J.end.name,this.handleEnd),this.windowListeners.add(Nt.Resize,this.handleCancel),this.windowListeners.add(Nt.DragStart,Qt),this.windowListeners.add(Nt.VisibilityChange,this.handleCancel),this.windowListeners.add(Nt.ContextMenu,Qt),this.documentListeners.add(Nt.Keydown,this.handleKeydown),Re){if(et(Re))return;if(Ut(Re)){this.timeoutId=setTimeout(this.handleStart,Re.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:J}=this,{onStart:Re}=this.props;J&&(this.activated=!0,this.documentListeners.add(Nt.Click,Dn,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Nt.SelectionChange,this.removeTextSelection),Re(J))}handleMove(J){var Re;const{activated:ot,initialCoordinates:It,props:Lt}=this,{onMove:W,options:{activationConstraint:we}}=Lt;if(!It)return;const D=(Re=(0,g.DC)(J))!=null?Re:O,re=(0,g.$X)(It,D);if(!ot&&we){if(Ut(we))return Xe(re,we.tolerance)?this.handleCancel():void 0;if(et(we))return we.tolerance!=null&&Xe(re,we.tolerance)?this.handleCancel():Xe(re,we.distance)?this.handleStart():void 0}J.cancelable&&J.preventDefault(),W(D)}handleEnd(){const{onEnd:J}=this.props;this.detach(),J()}handleCancel(){const{onCancel:J}=this.props;this.detach(),J()}handleKeydown(J){J.code===Pn.Esc&&this.handleCancel()}removeTextSelection(){var J;(J=this.document.getSelection())==null||J.removeAllRanges()}}const an={move:{name:"pointermove"},end:{name:"pointerup"}};class Vt extends pn{constructor(J){const{event:Re}=J,ot=(0,g.r3)(Re.target);super(J,an,ot)}}Vt.activators=[{eventName:"onPointerDown",handler:(B,J)=>{let{nativeEvent:Re}=B,{onActivation:ot}=J;return!Re.isPrimary||Re.button!==0?!1:(ot==null||ot({event:Re}),!0)}}];const pe={move:{name:"mousemove"},end:{name:"mouseup"}};var De;(function(B){B[B.RightClick=2]="RightClick"})(De||(De={}));class lt extends pn{constructor(J){super(J,pe,(0,g.r3)(J.event.target))}}lt.activators=[{eventName:"onMouseDown",handler:(B,J)=>{let{nativeEvent:Re}=B,{onActivation:ot}=J;return Re.button===De.RightClick?!1:(ot==null||ot({event:Re}),!0)}}];const Tt={move:{name:"touchmove"},end:{name:"touchend"}};class Wt extends pn{constructor(J){super(J,Tt)}static setup(){return window.addEventListener(Tt.move.name,J,{capture:!1,passive:!1}),function(){window.removeEventListener(Tt.move.name,J)};function J(){}}}Wt.activators=[{eventName:"onTouchStart",handler:(B,J)=>{let{nativeEvent:Re}=B,{onActivation:ot}=J;const{touches:It}=Re;return It.length>1?!1:(ot==null||ot({event:Re}),!0)}}];var Cn;(function(B){B[B.Pointer=0]="Pointer",B[B.DraggableRect=1]="DraggableRect"})(Cn||(Cn={}));var Bn;(function(B){B[B.TreeOrder=0]="TreeOrder",B[B.ReversedTreeOrder=1]="ReversedTreeOrder"})(Bn||(Bn={}));function Gn(B){let{acceleration:J,activator:Re=Cn.Pointer,canScroll:ot,draggingRect:It,enabled:Lt,interval:W=5,order:we=Bn.TreeOrder,pointerCoordinates:D,scrollableAncestors:re,scrollableAncestorRects:$e,delta:_t,threshold:mn}=B;const On=Mr({delta:_t,disabled:!Lt}),[Un,_n]=(0,g.Yz)(),$n=(0,A.useRef)({x:0,y:0}),hr=(0,A.useRef)({x:0,y:0}),nr=(0,A.useMemo)(()=>{switch(Re){case Cn.Pointer:return D?{top:D.y,bottom:D.y,left:D.x,right:D.x}:null;case Cn.DraggableRect:return It}},[Re,It,D]),Cr=(0,A.useRef)(null),Xr=(0,A.useCallback)(()=>{const Fr=Cr.current;if(!Fr)return;const Lr=$n.current.x*hr.current.x,Vr=$n.current.y*hr.current.y;Fr.scrollBy(Lr,Vr)},[]),Or=(0,A.useMemo)(()=>we===Bn.TreeOrder?[...re].reverse():re,[we,re]);(0,A.useEffect)(()=>{if(!Lt||!re.length||!nr){_n();return}for(const Fr of Or){if((ot==null?void 0:ot(Fr))===!1)continue;const Lr=re.indexOf(Fr),Vr=$e[Lr];if(!Vr)continue;const{direction:Ir,speed:Ii}=Yt(Fr,Vr,nr,J,mn);for(const gi of["x","y"])On[gi][Ir[gi]]||(Ii[gi]=0,Ir[gi]=0);if(Ii.x>0||Ii.y>0){_n(),Cr.current=Fr,Un(Xr,W),$n.current=Ii,hr.current=Ir;return}}$n.current={x:0,y:0},hr.current={x:0,y:0},_n()},[J,Xr,ot,_n,Lt,W,JSON.stringify(nr),JSON.stringify(On),Un,re,Or,$e,JSON.stringify(mn)])}const vr={x:{[Ve.Backward]:!1,[Ve.Forward]:!1},y:{[Ve.Backward]:!1,[Ve.Forward]:!1}};function Mr(B){let{delta:J,disabled:Re}=B;const ot=(0,g.D9)(J);return(0,g.Gj)(It=>{if(Re||!ot||!It)return vr;const Lt={x:Math.sign(J.x-ot.x),y:Math.sign(J.y-ot.y)};return{x:{[Ve.Backward]:It.x[Ve.Backward]||Lt.x===-1,[Ve.Forward]:It.x[Ve.Forward]||Lt.x===1},y:{[Ve.Backward]:It.y[Ve.Backward]||Lt.y===-1,[Ve.Forward]:It.y[Ve.Forward]||Lt.y===1}}},[Re,J,ot])}function xr(B,J){const Re=J!==null?B.get(J):void 0,ot=Re?Re.node.current:null;return(0,g.Gj)(It=>{var Lt;return J===null?null:(Lt=ot!=null?ot:It)!=null?Lt:null},[ot,J])}function mi(B,J){return(0,A.useMemo)(()=>B.reduce((Re,ot)=>{const{sensor:It}=ot,Lt=It.activators.map(W=>({eventName:W.eventName,handler:J(W.handler,ot)}));return[...Re,...Lt]},[]),[B,J])}var Pr;(function(B){B[B.Always=0]="Always",B[B.BeforeDragging=1]="BeforeDragging",B[B.WhileDragging=2]="WhileDragging"})(Pr||(Pr={}));var jr;(function(B){B.Optimized="optimized"})(jr||(jr={}));const I=new Map;function U(B,J){let{dragging:Re,dependencies:ot,config:It}=J;const[Lt,W]=(0,A.useState)(null),{frequency:we,measure:D,strategy:re}=It,$e=(0,A.useRef)(B),_t=$n(),mn=(0,g.Ey)(_t),On=(0,A.useCallback)(function(hr){hr===void 0&&(hr=[]),!mn.current&&W(nr=>nr===null?hr:nr.concat(hr.filter(Cr=>!nr.includes(Cr))))},[mn]),Un=(0,A.useRef)(null),_n=(0,g.Gj)(hr=>{if(_t&&!Re)return I;if(!hr||hr===I||$e.current!==B||Lt!=null){const nr=new Map;for(let Cr of B){if(!Cr)continue;if(Lt&&Lt.length>0&&!Lt.includes(Cr.id)&&Cr.rect.current){nr.set(Cr.id,Cr.rect.current);continue}const Xr=Cr.node.current,Or=Xr?new Me(D(Xr),Xr):null;Cr.rect.current=Or,Or&&nr.set(Cr.id,Or)}return nr}return hr},[B,Lt,Re,_t,D]);return(0,A.useEffect)(()=>{$e.current=B},[B]),(0,A.useEffect)(()=>{_t||On()},[Re,_t]),(0,A.useEffect)(()=>{Lt&&Lt.length>0&&W(null)},[JSON.stringify(Lt)]),(0,A.useEffect)(()=>{_t||typeof we!="number"||Un.current!==null||(Un.current=setTimeout(()=>{On(),Un.current=null},we))},[we,_t,On,...ot]),{droppableRects:_n,measureDroppableContainers:On,measuringScheduled:Lt!=null};function $n(){switch(re){case Pr.Always:return!1;case Pr.BeforeDragging:return Re;default:return!Re}}}function m(B,J){return(0,g.Gj)(Re=>B?Re||(typeof J=="function"?J(B):B):null,[J,B])}function C(B,J){return m(B,J)}function w(B){let{callback:J,disabled:Re}=B;const ot=(0,g.zX)(J),It=(0,A.useMemo)(()=>{if(Re||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:Lt}=window;return new Lt(ot)},[ot,Re]);return(0,A.useEffect)(()=>()=>It==null?void 0:It.disconnect(),[It]),It}function L(B){let{callback:J,disabled:Re}=B;const ot=(0,g.zX)(J),It=(0,A.useMemo)(()=>{if(Re||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:Lt}=window;return new Lt(ot)},[Re]);return(0,A.useEffect)(()=>()=>It==null?void 0:It.disconnect(),[It]),It}function V(B){return new Me(Ee(B),B)}function se(B,J,Re){J===void 0&&(J=V);const[ot,It]=(0,A.useReducer)(we,null),Lt=w({callback(D){if(B)for(const re of D){const{type:$e,target:_t}=re;if($e==="childList"&&_t instanceof HTMLElement&&_t.contains(B)){It();break}}}}),W=L({callback:It});return(0,g.LI)(()=>{It(),B?(W==null||W.observe(B),Lt==null||Lt.observe(document.body,{childList:!0,subtree:!0})):(W==null||W.disconnect(),Lt==null||Lt.disconnect())},[B]),ot;function we(D){if(!B)return null;if(B.isConnected===!1){var re;return(re=D!=null?D:Re)!=null?re:null}const $e=J(B);return JSON.stringify(D)===JSON.stringify($e)?D:$e}}function N(B){const J=m(B);return de(B,J)}const Z=[];function P(B){const J=(0,A.useRef)(B),Re=(0,g.Gj)(ot=>B?ot&&ot!==Z&&B&&J.current&&B.parentNode===J.current.parentNode?ot:St(B):Z,[B]);return(0,A.useEffect)(()=>{J.current=B},[B]),Re}function $(B){const[J,Re]=(0,A.useState)(null),ot=(0,A.useRef)(B),It=(0,A.useCallback)(Lt=>{const W=Mt(Lt.target);W&&Re(we=>we?(we.set(W,We(W)),new Map(we)):null)},[]);return(0,A.useEffect)(()=>{const Lt=ot.current;if(B!==Lt){W(Lt);const we=B.map(D=>{const re=Mt(D);return re?(re.addEventListener("scroll",It,{passive:!0}),[re,We(re)]):null}).filter(D=>D!=null);Re(we.length?new Map(we):null),ot.current=B}return()=>{W(B),W(Lt)};function W(we){we.forEach(D=>{const re=Mt(D);re==null||re.removeEventListener("scroll",It)})}},[It,B]),(0,A.useMemo)(()=>B.length?J?Array.from(J.values()).reduce((Lt,W)=>(0,g.IH)(Lt,W),O):rn(B):O,[B,J])}function Ne(B,J){J===void 0&&(J=[]);const Re=(0,A.useRef)(null);return(0,A.useEffect)(()=>{Re.current=null},J),(0,A.useEffect)(()=>{const ot=B!==O;ot&&!Re.current&&(Re.current=B),!ot&&Re.current&&(Re.current=null)},[B]),Re.current?(0,g.$X)(B,Re.current):O}function Ge(B){(0,A.useEffect)(()=>{if(!g.Nq)return;const J=B.map(Re=>{let{sensor:ot}=Re;return ot.setup==null?void 0:ot.setup()});return()=>{for(const Re of J)Re==null||Re()}},B.map(J=>{let{sensor:Re}=J;return Re}))}function ct(B,J){return(0,A.useMemo)(()=>B.reduce((Re,ot)=>{let{eventName:It,handler:Lt}=ot;return Re[It]=W=>{Lt(W,J)},Re},{}),[B,J])}function Ft(B){return(0,A.useMemo)(()=>B?qe(B):null,[B])}const Dt=[];function dt(B,J){J===void 0&&(J=Ee);const[Re]=B,ot=Ft(Re?(0,g.Jj)(Re):null),[It,Lt]=(0,A.useReducer)(we,Dt),W=L({callback:Lt});return B.length>0&&It===Dt&&Lt(),(0,g.LI)(()=>{B.length?B.forEach(D=>W==null?void 0:W.observe(D)):(W==null||W.disconnect(),Lt())},[B]),It;function we(){return B.length?B.map(D=>gt(D)?ot:new Me(J(D),D)):Dt}}function mt(B){if(!B)return null;if(B.children.length>1)return B;const J=B.children[0];return(0,g.Re)(J)?J:B}function ut(B){let{measure:J}=B;const[Re,ot]=(0,A.useState)(null),It=(0,A.useCallback)(re=>{for(const{target:$e}of re)if((0,g.Re)($e)){ot(_t=>{const mn=J($e);return _t?Ar(tn({},_t),{width:mn.width,height:mn.height}):mn});break}},[J]),Lt=L({callback:It}),W=(0,A.useCallback)(re=>{const $e=mt(re);Lt==null||Lt.disconnect(),$e&&(Lt==null||Lt.observe($e)),ot($e?J($e):null)},[J,Lt]),[we,D]=(0,g.wm)(W);return(0,A.useMemo)(()=>({nodeRef:we,rect:Re,setRef:D}),[Re,we,D])}const Zt=[{sensor:Vt,options:{}},{sensor:nt,options:{}}],Sn={current:{}},xn={draggable:{measure:ke},droppable:{measure:ke,strategy:Pr.WhileDragging,frequency:jr.Optimized},dragOverlay:{measure:Ee}};class Fn extends Map{get(J){var Re;return J!=null&&(Re=super.get(J))!=null?Re:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(J=>{let{disabled:Re}=J;return!Re})}getNodeFor(J){var Re,ot;return(Re=(ot=this.get(J))==null?void 0:ot.node.current)!=null?Re:void 0}}const An={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Fn,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:nn},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:xn,measureDroppableContainers:nn,windowRect:null,measuringScheduled:!1},zn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:nn,draggableNodes:new Map,over:null,measureDroppableContainers:nn},Jn=(0,A.createContext)(zn),fn=(0,A.createContext)(An);function Vn(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Fn}}}function lr(B,J){switch(J.type){case st.DragStart:return Ar(tn({},B),{draggable:Ar(tn({},B.draggable),{initialCoordinates:J.initialCoordinates,active:J.active})});case st.DragMove:return B.draggable.active?Ar(tn({},B),{draggable:Ar(tn({},B.draggable),{translate:{x:J.coordinates.x-B.draggable.initialCoordinates.x,y:J.coordinates.y-B.draggable.initialCoordinates.y}})}):B;case st.DragEnd:case st.DragCancel:return Ar(tn({},B),{draggable:Ar(tn({},B.draggable),{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case st.RegisterDroppable:{const{element:Re}=J,{id:ot}=Re,It=new Fn(B.droppable.containers);return It.set(ot,Re),Ar(tn({},B),{droppable:Ar(tn({},B.droppable),{containers:It})})}case st.SetDroppableDisabled:{const{id:Re,key:ot,disabled:It}=J,Lt=B.droppable.containers.get(Re);if(!Lt||ot!==Lt.key)return B;const W=new Fn(B.droppable.containers);return W.set(Re,Ar(tn({},Lt),{disabled:It})),Ar(tn({},B),{droppable:Ar(tn({},B.droppable),{containers:W})})}case st.UnregisterDroppable:{const{id:Re,key:ot}=J,It=B.droppable.containers.get(Re);if(!It||ot!==It.key)return B;const Lt=new Fn(B.droppable.containers);return Lt.delete(Re),Ar(tn({},B),{droppable:Ar(tn({},B.droppable),{containers:Lt})})}default:return B}}function yr(B){let{disabled:J}=B;const{active:Re,activatorEvent:ot,draggableNodes:It}=(0,A.useContext)(Jn),Lt=(0,g.D9)(ot),W=(0,g.D9)(Re==null?void 0:Re.id);return(0,A.useEffect)(()=>{if(!J&&!ot&&Lt&&W!=null){if(!(0,g.vd)(Lt)||document.activeElement===Lt.target)return;const we=It.get(W);if(!we)return;const{activatorNode:D,node:re}=we;if(!D.current&&!re.current)return;requestAnimationFrame(()=>{for(const $e of[D.current,re.current]){if(!$e)continue;const _t=(0,g.so)($e);if(_t){_t.focus();break}}})}},[ot,J,It,W,Lt]),null}function Hr(B,J){let It=J,{transform:Re}=It,ot=Eo(It,["transform"]);return B!=null&&B.length?B.reduce((Lt,W)=>W(tn({transform:Lt},ot)),Re):Re}function wi(B){return(0,A.useMemo)(()=>({draggable:tn(tn({},xn.draggable),B==null?void 0:B.draggable),droppable:tn(tn({},xn.droppable),B==null?void 0:B.droppable),dragOverlay:tn(tn({},xn.dragOverlay),B==null?void 0:B.dragOverlay)}),[B==null?void 0:B.draggable,B==null?void 0:B.droppable,B==null?void 0:B.dragOverlay])}function ni(B){let{activeNode:J,measure:Re,initialRect:ot,config:It=!0}=B;const Lt=(0,A.useRef)(!1),{x:W,y:we}=typeof It=="boolean"?{x:It,y:It}:It;(0,g.LI)(()=>{if(!W&&!we||!J){Lt.current=!1;return}if(Lt.current||!ot)return;const re=J==null?void 0:J.node.current;if(!re||re.isConnected===!1)return;const $e=Re(re),_t=de($e,ot);if(W||(_t.x=0),we||(_t.y=0),Lt.current=!0,Math.abs(_t.x)>0||Math.abs(_t.y)>0){const mn=at(re);mn&&mn.scrollBy({top:_t.y,left:_t.x})}},[J,W,we,ot,Re])}const ri=(0,A.createContext)(Ar(tn({},O),{scaleX:1,scaleY:1}));var ii;(function(B){B[B.Uninitialized=0]="Uninitialized",B[B.Initializing=1]="Initializing",B[B.Initialized=2]="Initialized"})(ii||(ii={}));const _i=(0,A.memo)(function(J){var Re,ot,It,Lt;let Qs=J,{id:W,accessibility:we,autoScroll:D=!0,children:re,sensors:$e=Zt,collisionDetection:_t=ge,measuring:mn,modifiers:On}=Qs,Un=Eo(Qs,["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"]);const _n=(0,A.useReducer)(lr,void 0,Vn),[$n,hr]=_n,[nr,Cr]=be(),[Xr,Or]=(0,A.useState)(ii.Uninitialized),Fr=Xr===ii.Initialized,{draggable:{active:Lr,nodes:Vr,translate:Ir},droppable:{containers:Ii}}=$n,gi=Lr?Vr.get(Lr):null,Hi=(0,A.useRef)({initial:null,translated:null}),xi=(0,A.useMemo)(()=>{var $i;return Lr!=null?{id:Lr,data:($i=gi==null?void 0:gi.data)!=null?$i:Sn,rect:Hi}:null},[Lr,gi]),oi=(0,A.useRef)(null),[la,h1]=(0,A.useState)(null),[co,ko]=(0,A.useState)(null),ks=(0,g.Ey)(Un,Object.values(Un)),Qa=(0,g.Ld)("DndDescribedBy",W),Ma=(0,A.useMemo)(()=>Ii.getEnabled(),[Ii]),Us=wi(mn),{droppableRects:qs,measureDroppableContainers:ca,measuringScheduled:Sa}=U(Ma,{dragging:Fr,dependencies:[Ir.x,Ir.y],config:Us.droppable}),Qo=xr(Vr,Lr),p1=(0,A.useMemo)(()=>co?(0,g.DC)(co):null,[co]),m1=po(),ua=C(Qo,Us.draggable.measure);ni({activeNode:Lr?Vr.get(Lr):null,config:m1.layoutShiftCompensation,initialRect:ua,measure:Us.draggable.measure});const uo=se(Qo,Us.draggable.measure,ua),ss=se(Qo?Qo.parentElement:null),gs=(0,A.useRef)({activatorEvent:null,active:null,activeNode:Qo,collisionRect:null,collisions:null,droppableRects:qs,draggableNodes:Vr,draggingNode:null,draggingNodeRect:null,droppableContainers:Ii,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ea=Ii.getNodeFor((Re=gs.current.over)==null?void 0:Re.id),ro=ut({measure:Us.dragOverlay.measure}),Ao=(ot=ro.nodeRef.current)!=null?ot:Qo,dn=Fr?(It=ro.rect)!=null?It:uo:null,Fi=Boolean(ro.nodeRef.current&&ro.rect),as=N(Fi?null:uo),Ts=Ft(Ao?(0,g.Jj)(Ao):null),zo=P(Fr?Ea!=null?Ea:Qo:null),vs=dt(zo),es=Hr(On,{transform:{x:Ir.x-as.x,y:Ir.y-as.y,scaleX:1,scaleY:1},activatorEvent:co,active:xi,activeNodeRect:uo,containerNodeRect:ss,draggingNodeRect:dn,over:gs.current.over,overlayNodeRect:ro.rect,scrollableAncestors:zo,scrollableAncestorRects:vs,windowRect:Ts}),fo=p1?(0,g.IH)(p1,Ir):null,wo=$(zo),si=Ne(wo),fa=Ne(wo,[uo]),li=(0,g.IH)(es,si),ho=dn?ee(dn,es):null,Ps=xi&&ho?_t({active:xi,collisionRect:ho,droppableRects:qs,droppableContainers:Ma,pointerCoordinates:fo}):null,da=Ue(Ps,"id"),[Uo,rr]=(0,A.useState)(null),Cs=Fi?es:(0,g.IH)(es,fa),$s=xe(Cs,(Lt=Uo==null?void 0:Uo.rect)!=null?Lt:null,uo),_s=(0,A.useCallback)(($i,Ti)=>{let{sensor:mo,options:$o}=Ti;if(oi.current==null)return;const ci=Vr.get(oi.current);if(!ci)return;const Ae=$i.nativeEvent,go=new mo({active:oi.current,activeNode:ci,event:Ae,options:$o,context:gs,onStart(Qi){const ai=oi.current;if(ai==null)return;const Ho=Vr.get(ai);if(!Ho)return;const{onDragStart:Zs}=ks.current,ls={active:{id:ai,data:Ho.data,rect:Hi}};(0,x.unstable_batchedUpdates)(()=>{Zs==null||Zs(ls),Or(ii.Initializing),hr({type:st.DragStart,initialCoordinates:Qi,active:ai}),nr({type:"onDragStart",event:ls})})},onMove(Qi){hr({type:st.DragMove,coordinates:Qi})},onEnd:js(st.DragEnd),onCancel:js(st.DragCancel)});(0,x.unstable_batchedUpdates)(()=>{h1(go),ko($i.nativeEvent)});function js(Qi){return function(){return Pl(this,null,function*(){const{active:Ho,collisions:Zs,over:ls,scrollAdjustedTranslate:ys}=gs.current;let ji=null;if(Ho&&ys){const{cancelDrop:vo}=ks.current;ji={activatorEvent:Ae,active:Ho,collisions:Zs,delta:ys,over:ls},Qi===st.DragEnd&&typeof vo=="function"&&(yield Promise.resolve(vo(ji)))&&(Qi=st.DragCancel)}oi.current=null,(0,x.unstable_batchedUpdates)(()=>{hr({type:Qi}),Or(ii.Uninitialized),rr(null),h1(null),ko(null);const vo=Qi===st.DragEnd?"onDragEnd":"onDragCancel";if(ji){const Ci=ks.current[vo];Ci==null||Ci(ji),nr({type:vo,event:ji})}})})}}},[Vr]),Js=(0,A.useCallback)(($i,Ti)=>(mo,$o)=>{const ci=mo.nativeEvent,Ae=Vr.get($o);if(oi.current!==null||!Ae||ci.dndKit||ci.defaultPrevented)return;const go={active:Ae};$i(mo,Ti.options,go)===!0&&(ci.dndKit={capturedBy:Ti.sensor},oi.current=$o,_s(mo,Ti))},[Vr,_s]),La=mi($e,Js);Ge($e),(0,g.LI)(()=>{uo&&Xr===ii.Initializing&&Or(ii.Initialized)},[uo,Xr]),(0,A.useEffect)(()=>{const{onDragMove:$i}=ks.current,{active:Ti,activatorEvent:mo,collisions:$o,over:ci}=gs.current;if(!Ti||!mo)return;const Ae={active:Ti,activatorEvent:mo,collisions:$o,delta:{x:li.x,y:li.y},over:ci};(0,x.unstable_batchedUpdates)(()=>{$i==null||$i(Ae),nr({type:"onDragMove",event:Ae})})},[li.x,li.y]),(0,A.useEffect)(()=>{const{active:$i,activatorEvent:Ti,collisions:mo,droppableContainers:$o,scrollAdjustedTranslate:ci}=gs.current;if(!$i||oi.current==null||!Ti||!ci)return;const{onDragOver:Ae}=ks.current,go=$o.get(da),js=go&&go.rect.current?{id:go.id,rect:go.rect.current,data:go.data,disabled:go.disabled}:null,Qi={active:$i,activatorEvent:Ti,collisions:mo,delta:{x:ci.x,y:ci.y},over:js};(0,x.unstable_batchedUpdates)(()=>{rr(js),Ae==null||Ae(Qi),nr({type:"onDragOver",event:Qi})})},[da]),(0,g.LI)(()=>{gs.current={activatorEvent:co,active:xi,activeNode:Qo,collisionRect:ho,collisions:Ps,droppableRects:qs,draggableNodes:Vr,draggingNode:Ao,draggingNodeRect:dn,droppableContainers:Ii,over:Uo,scrollableAncestors:zo,scrollAdjustedTranslate:li},Hi.current={initial:dn,translated:ho}},[xi,Qo,Ps,ho,Vr,Ao,dn,qs,Ii,Uo,zo,li]),Gn(Ar(tn({},m1),{delta:Ir,draggingRect:ho,pointerCoordinates:fo,scrollableAncestors:zo,scrollableAncestorRects:vs}));const Gi=(0,A.useMemo)(()=>({active:xi,activeNode:Qo,activeNodeRect:uo,activatorEvent:co,collisions:Ps,containerNodeRect:ss,dragOverlay:ro,draggableNodes:Vr,droppableContainers:Ii,droppableRects:qs,over:Uo,measureDroppableContainers:ca,scrollableAncestors:zo,scrollableAncestorRects:vs,measuringConfiguration:Us,measuringScheduled:Sa,windowRect:Ts}),[xi,Qo,uo,co,Ps,ss,ro,Vr,Ii,qs,Uo,ca,zo,vs,Us,Sa,Ts]),vi=(0,A.useMemo)(()=>({activatorEvent:co,activators:La,active:xi,activeNodeRect:uo,ariaDescribedById:{draggable:Qa},dispatch:hr,draggableNodes:Vr,over:Uo,measureDroppableContainers:ca}),[co,La,xi,uo,hr,Qa,Vr,Uo,ca]);return A.createElement(le.Provider,{value:Cr},A.createElement(Jn.Provider,{value:vi},A.createElement(fn.Provider,{value:Gi},A.createElement(ri.Provider,{value:$s},re)),A.createElement(yr,{disabled:(we==null?void 0:we.restoreFocus)===!1})),A.createElement(it,Ar(tn({},we),{hiddenTextDescribedById:Qa})));function po(){const $i=(la==null?void 0:la.autoScrollEnabled)===!1,Ti=typeof D=="object"?D.enabled===!1:D===!1,mo=Fr&&!$i&&!Ti;return typeof D=="object"?Ar(tn({},D),{enabled:mo}):{enabled:mo}}}),Er=(0,A.createContext)(null),Tr="button",yi="Droppable";function lo(B){let{id:J,data:Re,disabled:ot=!1,attributes:It}=B;const Lt=(0,g.Ld)(yi),{activators:W,activatorEvent:we,active:D,activeNodeRect:re,ariaDescribedById:$e,draggableNodes:_t,over:mn}=(0,A.useContext)(Jn),{role:On=Tr,roleDescription:Un="draggable",tabIndex:_n=0}=It!=null?It:{},$n=(D==null?void 0:D.id)===J,hr=(0,A.useContext)($n?ri:Er),[nr,Cr]=(0,g.wm)(),[Xr,Or]=(0,g.wm)(),Fr=ct(W,J),Lr=(0,g.Ey)(Re);(0,g.LI)(()=>(_t.set(J,{id:J,key:Lt,node:nr,activatorNode:Xr,data:Lr}),()=>{const Ir=_t.get(J);Ir&&Ir.key===Lt&&_t.delete(J)}),[_t,J]);const Vr=(0,A.useMemo)(()=>({role:On,tabIndex:_n,"aria-disabled":ot,"aria-pressed":$n&&On===Tr?!0:void 0,"aria-roledescription":Un,"aria-describedby":$e.draggable}),[ot,On,_n,$n,Un,$e.draggable]);return{active:D,activatorEvent:we,activeNodeRect:re,attributes:Vr,isDragging:$n,listeners:ot?void 0:Fr,node:nr,over:mn,setNodeRef:Cr,setActivatorNodeRef:Or,transform:hr}}function di(){return(0,A.useContext)(fn)}const Yo="Droppable",Ko={timeout:25};function Lo(B){let{data:J,disabled:Re=!1,id:ot,resizeObserverConfig:It}=B;const Lt=(0,g.Ld)(Yo),{active:W,dispatch:we,over:D,measureDroppableContainers:re}=(0,A.useContext)(Jn),$e=(0,A.useRef)({disabled:Re}),_t=(0,A.useRef)(!1),mn=(0,A.useRef)(null),On=(0,A.useRef)(null),{disabled:Un,updateMeasurementsFor:_n,timeout:$n}=tn(tn({},Ko),It),hr=(0,g.Ey)(_n!=null?_n:ot),nr=(0,A.useCallback)(()=>{if(!_t.current){_t.current=!0;return}On.current!=null&&clearTimeout(On.current),On.current=setTimeout(()=>{re(Array.isArray(hr.current)?hr.current:[hr.current]),On.current=null},$n)},[$n]),Cr=L({callback:nr,disabled:Un||!W}),Xr=(0,A.useCallback)((Vr,Ir)=>{Cr&&(Ir&&(Cr.unobserve(Ir),_t.current=!1),Vr&&Cr.observe(Vr))},[Cr]),[Or,Fr]=(0,g.wm)(Xr),Lr=(0,g.Ey)(J);return(0,A.useEffect)(()=>{!Cr||!Or.current||(Cr.disconnect(),_t.current=!1,Cr.observe(Or.current))},[Or,Cr]),(0,g.LI)(()=>(we({type:st.RegisterDroppable,element:{id:ot,key:Lt,disabled:Re,node:Or,rect:mn,data:Lr}}),()=>we({type:st.UnregisterDroppable,key:Lt,id:ot})),[ot]),(0,A.useEffect)(()=>{Re!==$e.current.disabled&&(we({type:st.SetDroppableDisabled,id:ot,key:Lt,disabled:Re}),$e.current.disabled=Re)},[ot,Lt,Re,we]),{active:W,rect:mn,isOver:(D==null?void 0:D.id)===ot,node:Or,over:D,setNodeRef:Fr}}function Ns(B){let{animation:J,children:Re}=B;const[ot,It]=(0,A.useState)(null),[Lt,W]=(0,A.useState)(null),we=(0,g.D9)(Re);return!Re&&!ot&&we&&It(we),(0,g.LI)(()=>{if(!Lt)return;const D=ot==null?void 0:ot.key,re=ot==null?void 0:ot.props.id;if(D==null||re==null){It(null);return}Promise.resolve(J(re,Lt)).then(()=>{It(null)})},[J,ot,Lt]),A.createElement(A.Fragment,null,Re,ot?(0,A.cloneElement)(ot,{ref:W}):null)}const Fo={x:0,y:0,scaleX:1,scaleY:1};function bi(B){let{children:J}=B;return A.createElement(Jn.Provider,{value:zn},A.createElement(ri.Provider,{value:Fo},J))}const Fs={position:"fixed",touchAction:"none"},Do=B=>(0,g.vd)(B)?"transform 250ms ease":void 0,Wi=(0,A.forwardRef)((B,J)=>{let{as:Re,activatorEvent:ot,adjustScale:It,children:Lt,className:W,rect:we,style:D,transform:re,transition:$e=Do}=B;if(!we)return null;const _t=It?re:Ar(tn({},re),{scaleX:1,scaleY:1}),mn=tn(Ar(tn({},Fs),{width:we.width,height:we.height,top:we.top,left:we.left,transform:g.ux.Transform.toString(_t),transformOrigin:It&&ot?pt(ot,we):void 0,transition:typeof $e=="function"?$e(ot):$e}),D);return A.createElement(Re,{className:W,style:mn,ref:J},Lt)}),qo=B=>J=>{let{active:Re,dragOverlay:ot}=J;const It={},{styles:Lt,className:W}=B;if(Lt!=null&&Lt.active)for(const[we,D]of Object.entries(Lt.active))D!==void 0&&(It[we]=Re.node.style.getPropertyValue(we),Re.node.style.setProperty(we,D));if(Lt!=null&&Lt.dragOverlay)for(const[we,D]of Object.entries(Lt.dragOverlay))D!==void 0&&ot.node.style.setProperty(we,D);return W!=null&&W.active&&Re.node.classList.add(W.active),W!=null&&W.dragOverlay&&ot.node.classList.add(W.dragOverlay),function(){for(const[D,re]of Object.entries(It))Re.node.style.setProperty(D,re);W!=null&&W.active&&Re.node.classList.remove(W.active)}},Ji={duration:250,easing:"ease",keyframes:B=>{let{transform:{initial:J,final:Re}}=B;return[{transform:g.ux.Transform.toString(J)},{transform:g.ux.Transform.toString(Re)}]},sideEffects:qo({styles:{active:{opacity:"0"}}})};function Ro(B){let{config:J,draggableNodes:Re,droppableContainers:ot,measuringConfiguration:It}=B;return(0,g.zX)((Lt,W)=>{if(J===null)return;const we=Re.get(Lt);if(!we)return;const D=we.node.current;if(!D)return;const re=mt(W);if(!re)return;const{transform:$e}=(0,g.Jj)(W).getComputedStyle(W),_t=Pe($e);if(!_t)return;const mn=typeof J=="function"?J:ps(J);return xt(D,It.draggable.measure),mn({active:{id:Lt,data:we.data,node:D,rect:It.draggable.measure(D)},draggableNodes:Re,dragOverlay:{node:W,rect:It.dragOverlay.measure(re)},droppableContainers:ot,measuringConfiguration:It,transform:_t})})}function ps(B){const{duration:J,easing:Re,sideEffects:ot,keyframes:It}=tn(tn({},Ji),B);return Lt=>{let nr=Lt,{active:W,dragOverlay:we,transform:D}=nr,re=Eo(nr,["active","dragOverlay","transform"]);if(!J)return;const $e={x:we.rect.left-W.rect.left,y:we.rect.top-W.rect.top},_t={scaleX:D.scaleX!==1?W.rect.width*D.scaleX/we.rect.width:1,scaleY:D.scaleY!==1?W.rect.height*D.scaleY/we.rect.height:1},mn=tn({x:D.x-$e.x,y:D.y-$e.y},_t),On=It(Ar(tn({},re),{active:W,dragOverlay:we,transform:{initial:D,final:mn}})),[Un]=On,_n=On[On.length-1];if(JSON.stringify(Un)===JSON.stringify(_n))return;const $n=ot==null?void 0:ot(tn({active:W,dragOverlay:we},re)),hr=we.node.animate(On,{duration:J,easing:Re,fill:"forwards"});return new Promise(Cr=>{hr.onfinish=()=>{$n==null||$n(),Cr()}})}}let ms=0;function Jo(B){return(0,A.useMemo)(()=>{if(B!=null)return ms++,ms},[B])}const Ai=A.memo(B=>{let{adjustScale:J=!1,children:Re,dropAnimation:ot,style:It,transition:Lt,modifiers:W,wrapperElement:we="div",className:D,zIndex:re=999}=B;const{activatorEvent:$e,active:_t,activeNodeRect:mn,containerNodeRect:On,draggableNodes:Un,droppableContainers:_n,dragOverlay:$n,over:hr,measuringConfiguration:nr,scrollableAncestors:Cr,scrollableAncestorRects:Xr,windowRect:Or}=di(),Fr=(0,A.useContext)(ri),Lr=Jo(_t==null?void 0:_t.id),Vr=Hr(W,{activatorEvent:$e,active:_t,activeNodeRect:mn,containerNodeRect:On,draggingNodeRect:$n.rect,over:hr,overlayNodeRect:$n.rect,scrollableAncestors:Cr,scrollableAncestorRects:Xr,transform:Fr,windowRect:Or}),Ir=m(mn),Ii=Ro({config:ot,draggableNodes:Un,droppableContainers:_n,measuringConfiguration:nr}),gi=Ir?$n.setRef:void 0;return A.createElement(bi,null,A.createElement(Ns,{animation:Ii},_t&&Lr?A.createElement(Wi,{key:Lr,id:_t.id,ref:gi,as:we,activatorEvent:$e,adjustScale:J,className:D,transition:Lt,rect:Ir,style:tn({zIndex:re},It),transform:Vr},Re):null))})},59671:function(Jt,Qe,K){"use strict";K.d(Qe,{Fo:function(){return Ye},Rp:function(){return _},is:function(){return Ce},nB:function(){return j},qw:function(){return nn}});var A=K(50959),x=K(28257),g=K(84341);function _(X,ee,Pe){const Q=X.slice();return Q.splice(Pe<0?Q.length+Pe:Pe,0,Q.splice(ee,1)[0]),Q}function T(X,ee,Pe){const Q=X.slice();return Q[ee]=X[Pe],Q[Pe]=X[ee],Q}function k(X,ee){return X.reduce((Pe,Q,Le)=>{const Ee=ee.get(Q);return Ee&&(Pe[Le]=Ee),Pe},Array(X.length))}function z(X){return X!==null&&X>=0}function Y(X,ee){if(X===ee)return!0;if(X.length!==ee.length)return!1;for(let Pe=0;Pe<X.length;Pe++)if(X[Pe]!==ee[Pe])return!1;return!0}function le(X){return typeof X=="boolean"?{draggable:X,droppable:X}:X}const oe={scaleX:1,scaleY:1},be=X=>{var ee;let{rects:Pe,activeNodeRect:Q,activeIndex:Le,overIndex:Ee,index:ke}=X;const qe=(ee=Pe[Le])!=null?ee:Q;if(!qe)return null;const rt=Se(Pe,ke,Le);if(ke===Le){const tt=Pe[Ee];return tt?tn({x:Le<Ee?tt.left+tt.width-(qe.left+qe.width):tt.left-qe.left,y:0},oe):null}return ke>Le&&ke<=Ee?tn({x:-qe.width-rt,y:0},oe):ke<Le&&ke>=Ee?tn({x:qe.width+rt,y:0},oe):tn({x:0,y:0},oe)};function Se(X,ee,Pe){const Q=X[ee],Le=X[ee-1],Ee=X[ee+1];return!Q||!Le&&!Ee?0:Pe<ee?Le?Q.left-(Le.left+Le.width):Ee.left-(Q.left+Q.width):Ee?Ee.left-(Q.left+Q.width):Q.left-(Le.left+Le.width)}const F=X=>{let{rects:ee,activeIndex:Pe,overIndex:Q,index:Le}=X;const Ee=_(ee,Q,Pe),ke=ee[Le],qe=Ee[Le];return!qe||!ke?null:{x:qe.left-ke.left,y:qe.top-ke.top,scaleX:qe.width/ke.width,scaleY:qe.height/ke.height}},it=X=>{let{activeIndex:ee,index:Pe,rects:Q,overIndex:Le}=X,Ee,ke;return Pe===ee&&(Ee=Q[Pe],ke=Q[Le]),Pe===Le&&(Ee=Q[Pe],ke=Q[ee]),!ke||!Ee?null:{x:ke.left-Ee.left,y:ke.top-Ee.top,scaleX:ke.width/Ee.width,scaleY:ke.height/Ee.height}},st={scaleX:1,scaleY:1},nn=X=>{var ee;let{activeIndex:Pe,activeNodeRect:Q,index:Le,rects:Ee,overIndex:ke}=X;const qe=(ee=Ee[Pe])!=null?ee:Q;if(!qe)return null;if(Le===Pe){const tt=Ee[ke];return tt?tn({x:0,y:Pe<ke?tt.top+tt.height-(qe.top+qe.height):tt.top-qe.top},st):null}const rt=ht(Ee,Le,Pe);return Le>Pe&&Le<=ke?tn({x:0,y:-qe.height-rt},st):Le<Pe&&Le>=ke?tn({x:0,y:qe.height+rt},st):tn({x:0,y:0},st)};function ht(X,ee,Pe){const Q=X[ee],Le=X[ee-1],Ee=X[ee+1];return Q?Pe<ee?Le?Q.top-(Le.top+Le.height):Ee?Ee.top-(Q.top+Q.height):0:Ee?Ee.top-(Q.top+Q.height):Le?Q.top-(Le.top+Le.height):0:0}const Rt="Sortable",O=A.createContext({activeIndex:-1,containerId:Rt,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:F,disabled:{draggable:!1,droppable:!1}});function Ye(X){let{children:ee,id:Pe,items:Q,strategy:Le=F,disabled:Ee=!1}=X;const{active:ke,dragOverlay:qe,droppableRects:rt,over:tt,measureDroppableContainers:St}=(0,x.Cj)(),at=(0,g.Ld)(Rt,Pe),Mt=Boolean(qe.rect!==null),Et=(0,A.useMemo)(()=>Q.map(rn=>typeof rn=="object"&&"id"in rn?rn.id:rn),[Q]),Ct=ke!=null,We=ke?Et.indexOf(ke.id):-1,Ve=tt?Et.indexOf(tt.id):-1,gt=(0,A.useRef)(Et),$t=!Y(Et,gt.current),Gt=Ve!==-1&&We===-1||$t,Yt=le(Ee);(0,g.LI)(()=>{$t&&Ct&&St(Et)},[$t,Et,Ct,St]),(0,A.useEffect)(()=>{gt.current=Et},[Et]);const yn=(0,A.useMemo)(()=>({activeIndex:We,containerId:at,disabled:Yt,disableTransforms:Gt,items:Et,overIndex:Ve,useDragOverlay:Mt,sortedRects:k(Et,rt),strategy:Le}),[We,at,Yt.draggable,Yt.droppable,Gt,Et,Ve,rt,Mt,Le]);return A.createElement(O.Provider,{value:yn},ee)}const pt=X=>{let{id:ee,items:Pe,activeIndex:Q,overIndex:Le}=X;return _(Pe,Q,Le).indexOf(ee)},zt=X=>{let{containerId:ee,isSorting:Pe,wasDragging:Q,index:Le,items:Ee,newIndex:ke,previousItems:qe,previousContainerId:rt,transition:tt}=X;return!tt||!Q||qe!==Ee&&Le===ke?!1:Pe?!0:ke!==Le&&ee===rt},Ot={duration:200,easing:"ease"},Be="transform",Ue=g.ux.Transition.toString({property:Be,duration:0,easing:"linear"}),ft={roleDescription:"sortable"};function bt(X){let{disabled:ee,index:Pe,node:Q,rect:Le}=X;const[Ee,ke]=(0,A.useState)(null),qe=(0,A.useRef)(Pe);return(0,g.LI)(()=>{if(!ee&&Pe!==qe.current&&Q.current){const rt=Le.current;if(rt){const tt=(0,x.VK)(Q.current,{ignoreTransform:!0}),St={x:rt.left-tt.left,y:rt.top-tt.top,scaleX:rt.width/tt.width,scaleY:rt.height/tt.height};(St.x||St.y)&&ke(St)}}Pe!==qe.current&&(qe.current=Pe)},[ee,Pe,Q,Le]),(0,A.useEffect)(()=>{Ee&&ke(null)},[Ee]),Ee}function j(X){let{animateLayoutChanges:ee=zt,attributes:Pe,disabled:Q,data:Le,getNewIndex:Ee=pt,id:ke,strategy:qe,resizeObserverConfig:rt,transition:tt=Ot}=X;const{items:St,containerId:at,activeIndex:Mt,disabled:Et,disableTransforms:Ct,sortedRects:We,overIndex:Ve,useDragOverlay:gt,strategy:$t}=(0,A.useContext)(O),Gt=ye(Q,Et),Yt=St.indexOf(ke),yn=(0,A.useMemo)(()=>tn({sortable:{containerId:at,index:Yt,items:St}},Le),[at,Le,Yt,St]),rn=(0,A.useMemo)(()=>St.slice(St.indexOf(ke)),[St,ke]),{rect:sn,node:Mn,isOver:xt,setNodeRef:he}=(0,x.Zj)({id:ke,data:yn,disabled:Gt.droppable,resizeObserverConfig:tn({updateMeasurementsFor:rn},rt)}),{active:Me,activatorEvent:Oe,activeNodeRect:Ke,attributes:Xe,setNodeRef:Nt,listeners:Qt,isDragging:Dn,over:Pn,setActivatorNodeRef:me,transform:Je}=(0,x.O1)({id:ke,data:yn,attributes:tn(tn({},ft),Pe),disabled:Gt.draggable}),nt=(0,g.HB)(he,Nt),et=Boolean(Me),Ut=et&&!Ct&&z(Mt)&&z(Ve),pn=!gt&&Dn,an=pn&&Ut?Je:null,Vt=qe!=null?qe:$t,pe=Ut?an!=null?an:Vt({rects:We,activeNodeRect:Ke,activeIndex:Mt,overIndex:Ve,index:Yt}):null,De=z(Mt)&&z(Ve)?Ee({id:ke,items:St,activeIndex:Mt,overIndex:Ve}):Yt,lt=Me==null?void 0:Me.id,Tt=(0,A.useRef)({activeId:lt,items:St,newIndex:De,containerId:at}),Wt=St!==Tt.current.items,Cn=ee({active:Me,containerId:at,isDragging:Dn,isSorting:et,id:ke,index:Yt,items:St,newIndex:Tt.current.newIndex,previousItems:Tt.current.items,previousContainerId:Tt.current.containerId,transition:tt,wasDragging:Tt.current.activeId!=null}),Bn=bt({disabled:!Cn,index:Yt,node:Mn,rect:sn});return(0,A.useEffect)(()=>{et&&Tt.current.newIndex!==De&&(Tt.current.newIndex=De),at!==Tt.current.containerId&&(Tt.current.containerId=at),St!==Tt.current.items&&(Tt.current.items=St)},[et,De,at,St]),(0,A.useEffect)(()=>{if(lt===Tt.current.activeId)return;if(lt&&!Tt.current.activeId){Tt.current.activeId=lt;return}const vr=setTimeout(()=>{Tt.current.activeId=lt},50);return()=>clearTimeout(vr)},[lt]),{active:Me,activeIndex:Mt,attributes:Xe,data:yn,rect:sn,index:Yt,newIndex:De,items:St,isOver:xt,isSorting:et,isDragging:Dn,listeners:Qt,node:Mn,overIndex:Ve,over:Pn,setNodeRef:nt,setActivatorNodeRef:me,setDroppableNodeRef:he,setDraggableNodeRef:Nt,transform:Bn!=null?Bn:pe,transition:Gn()};function Gn(){if(Bn||Wt&&Tt.current.newIndex===Yt)return Ue;if(!(pn&&!(0,g.vd)(Oe)||!tt)&&(et||Cn))return g.ux.Transition.toString(Ar(tn({},tt),{property:Be}))}}function ye(X,ee){var Pe,Q;return typeof X=="boolean"?{draggable:X,droppable:!1}:{draggable:(Pe=X==null?void 0:X.draggable)!=null?Pe:ee.draggable,droppable:(Q=X==null?void 0:X.droppable)!=null?Q:ee.droppable}}function ge(X){if(!X)return!1;const ee=X.data.current;return!!(ee&&"sortable"in ee&&typeof ee.sortable=="object"&&"containerId"in ee.sortable&&"items"in ee.sortable&&"index"in ee.sortable)}const ve=[x.g4.Down,x.g4.Right,x.g4.Up,x.g4.Left],Ce=(X,ee)=>{let{context:{active:Pe,collisionRect:Q,droppableRects:Le,droppableContainers:Ee,over:ke,scrollableAncestors:qe}}=ee;if(ve.includes(X.code)){if(X.preventDefault(),!Pe||!Q)return;const rt=[];Ee.getEnabled().forEach(at=>{if(!at||at!=null&&at.disabled)return;const Mt=Le.get(at.id);if(Mt)switch(X.code){case x.g4.Down:Q.top<Mt.top&&rt.push(at);break;case x.g4.Up:Q.top>Mt.top&&rt.push(at);break;case x.g4.Left:Q.left>Mt.left&&rt.push(at);break;case x.g4.Right:Q.left<Mt.left&&rt.push(at);break}});const tt=(0,x.ey)({active:Pe,collisionRect:Q,droppableRects:Le,droppableContainers:rt,pointerCoordinates:null});let St=(0,x._8)(tt,"id");if(St===(ke==null?void 0:ke.id)&&tt.length>1&&(St=tt[1].id),St!=null){const at=Ee.get(Pe.id),Mt=Ee.get(St),Et=Mt?Le.get(Mt.id):null,Ct=Mt==null?void 0:Mt.node.current;if(Ct&&Et&&at&&Mt){const Ve=(0,x.hI)(Ct).some((rn,sn)=>qe[sn]!==rn),gt=xe(at,Mt),$t=de(at,Mt),Gt=Ve||!gt?{x:0,y:0}:{x:$t?Q.width-Et.width:0,y:$t?Q.height-Et.height:0},Yt={x:Et.left,y:Et.top};return Gt.x&&Gt.y?Yt:(0,g.$X)(Yt,Gt)}}}};function xe(X,ee){return!ge(X)||!ge(ee)?!1:X.data.current.sortable.containerId===ee.data.current.sortable.containerId}function de(X,ee){return!ge(X)||!ge(ee)||!xe(X,ee)?!1:X.data.current.sortable.index<ee.data.current.sortable.index}},84341:function(Jt,Qe,K){"use strict";K.d(Qe,{$X:function(){return zt},D9:function(){return ht},DC:function(){return ft},Ey:function(){return it},FJ:function(){return _},Gj:function(){return st},HB:function(){return x},IH:function(){return pt},Jj:function(){return k},LI:function(){return be},Ld:function(){return O},Nq:function(){return g},Re:function(){return Y},UG:function(){return T},Yz:function(){return F},qk:function(){return z},r3:function(){return oe},so:function(){return ye},ux:function(){return bt},vZ:function(){return le},vd:function(){return Be},wm:function(){return nn},zX:function(){return Se}});var A=K(50959);function x(){for(var ge=arguments.length,ve=new Array(ge),Ce=0;Ce<ge;Ce++)ve[Ce]=arguments[Ce];return(0,A.useMemo)(()=>xe=>{ve.forEach(de=>de(xe))},ve)}const g=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function _(ge){const ve=Object.prototype.toString.call(ge);return ve==="[object Window]"||ve==="[object global]"}function T(ge){return"nodeType"in ge}function k(ge){var ve,Ce;return ge?_(ge)?ge:T(ge)&&(ve=(Ce=ge.ownerDocument)==null?void 0:Ce.defaultView)!=null?ve:window:window}function z(ge){const{Document:ve}=k(ge);return ge instanceof ve}function Y(ge){return _(ge)?!1:ge instanceof k(ge).HTMLElement}function le(ge){return ge instanceof k(ge).SVGElement}function oe(ge){return ge?_(ge)?ge.document:T(ge)?z(ge)?ge:Y(ge)?ge.ownerDocument:document:document:document}const be=g?A.useLayoutEffect:A.useEffect;function Se(ge){const ve=(0,A.useRef)(ge);return be(()=>{ve.current=ge}),(0,A.useCallback)(function(){for(var Ce=arguments.length,xe=new Array(Ce),de=0;de<Ce;de++)xe[de]=arguments[de];return ve.current==null?void 0:ve.current(...xe)},[])}function F(){const ge=(0,A.useRef)(null),ve=(0,A.useCallback)((xe,de)=>{ge.current=setInterval(xe,de)},[]),Ce=(0,A.useCallback)(()=>{ge.current!==null&&(clearInterval(ge.current),ge.current=null)},[]);return[ve,Ce]}function it(ge,ve){ve===void 0&&(ve=[ge]);const Ce=(0,A.useRef)(ge);return be(()=>{Ce.current!==ge&&(Ce.current=ge)},ve),Ce}function st(ge,ve){const Ce=(0,A.useRef)();return(0,A.useMemo)(()=>{const xe=ge(Ce.current);return Ce.current=xe,xe},[...ve])}function nn(ge){const ve=Se(ge),Ce=(0,A.useRef)(null),xe=(0,A.useCallback)(de=>{de!==Ce.current&&(ve==null||ve(de,Ce.current)),Ce.current=de},[]);return[Ce,xe]}function ht(ge){const ve=(0,A.useRef)();return(0,A.useEffect)(()=>{ve.current=ge},[ge]),ve.current}let Rt={};function O(ge,ve){return(0,A.useMemo)(()=>{if(ve)return ve;const Ce=Rt[ge]==null?0:Rt[ge]+1;return Rt[ge]=Ce,ge+"-"+Ce},[ge,ve])}function Ye(ge){return function(ve){for(var Ce=arguments.length,xe=new Array(Ce>1?Ce-1:0),de=1;de<Ce;de++)xe[de-1]=arguments[de];return xe.reduce((X,ee)=>{const Pe=Object.entries(ee);for(const[Q,Le]of Pe){const Ee=X[Q];Ee!=null&&(X[Q]=Ee+ge*Le)}return X},tn({},ve))}}const pt=Ye(1),zt=Ye(-1);function Ot(ge){return"clientX"in ge&&"clientY"in ge}function Be(ge){if(!ge)return!1;const{KeyboardEvent:ve}=k(ge.target);return ve&&ge instanceof ve}function Ue(ge){if(!ge)return!1;const{TouchEvent:ve}=k(ge.target);return ve&&ge instanceof ve}function ft(ge){if(Ue(ge)){if(ge.touches&&ge.touches.length){const{clientX:ve,clientY:Ce}=ge.touches[0];return{x:ve,y:Ce}}else if(ge.changedTouches&&ge.changedTouches.length){const{clientX:ve,clientY:Ce}=ge.changedTouches[0];return{x:ve,y:Ce}}}return Ot(ge)?{x:ge.clientX,y:ge.clientY}:null}const bt=Object.freeze({Translate:{toString(ge){if(!ge)return;const{x:ve,y:Ce}=ge;return"translate3d("+(ve?Math.round(ve):0)+"px, "+(Ce?Math.round(Ce):0)+"px, 0)"}},Scale:{toString(ge){if(!ge)return;const{scaleX:ve,scaleY:Ce}=ge;return"scaleX("+ve+") scaleY("+Ce+")"}},Transform:{toString(ge){if(ge)return[bt.Translate.toString(ge),bt.Scale.toString(ge)].join(" ")}},Transition:{toString(ge){let{property:ve,duration:Ce,easing:xe}=ge;return ve+" "+Ce+"ms "+xe}}}),j="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ye(ge){return ge.matches(j)?ge:ge.querySelector(j)}},76089:function(Jt,Qe,K){"use strict";K.d(Qe,{W:function(){return xt}});var A=K(88338),x=K(46191),g=K(50959),_=K(10422),T=K(42669);const k=he=>z([he])[he],z=he=>useStoreContext().useStore(({data:Ke})=>he.reduce((Xe,Nt)=>Ke[Nt]&&"value"in Ke[Nt]?Object.assign(Xe,{[Nt]:Ke[Nt].value}):Xe,{}),shallow),Y={Row:A.R,Label:A.L,Portal:A.P,Overlay:A.O,String:A.a8,Number:A.a9,Boolean:A.aa,Select:A.ab,Vector:A.a,InnerLabel:A.ac};var le=K(94440);function oe(he,Me,Oe){return Me in he?Object.defineProperty(he,Me,{value:Oe,enumerable:!0,configurable:!0,writable:!0}):he[Me]=Oe,he}function be(he,Me){var Oe=Object.keys(he);if(Object.getOwnPropertySymbols){var Ke=Object.getOwnPropertySymbols(he);Me&&(Ke=Ke.filter(function(Xe){return Object.getOwnPropertyDescriptor(he,Xe).enumerable})),Oe.push.apply(Oe,Ke)}return Oe}function Se(he){for(var Me=1;Me<arguments.length;Me++){var Oe=arguments[Me]!=null?arguments[Me]:{};Me%2?be(Object(Oe),!0).forEach(function(Ke){oe(he,Ke,Oe[Ke])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(Oe)):be(Object(Oe)).forEach(function(Ke){Object.defineProperty(he,Ke,Object.getOwnPropertyDescriptor(Oe,Ke))})}return he}function F(){return F=Object.assign||function(he){for(var Me=1;Me<arguments.length;Me++){var Oe=arguments[Me];for(var Ke in Oe)Object.prototype.hasOwnProperty.call(Oe,Ke)&&(he[Ke]=Oe[Ke])}return he},F.apply(this,arguments)}const it=()=>(0,g.useCallback)((he,Me)=>Me*he,[]),st=()=>(0,g.useCallback)((he,Me)=>he/Me,[]),nn=4,ht=.001,Rt=1e-7,O=10,Ye=11,pt=1/(Ye-1),zt=(he,Me)=>1-3*Me+3*he,Ot=(he,Me)=>3*Me-6*he,Be=he=>3*he,Ue=(he,Me,Oe)=>((zt(Me,Oe)*he+Ot(Me,Oe))*he+Be(Me))*he,ft=(he,Me,Oe)=>3*zt(Me,Oe)*he*he+2*Ot(Me,Oe)*he+Be(Me),bt=(he,Me,Oe,Ke,Xe)=>{let Nt,Qt,Dn=0;do Qt=Me+(Oe-Me)/2,Nt=Ue(Qt,Ke,Xe)-he,Nt>0?Oe=Qt:Me=Qt;while(Math.abs(Nt)>Rt&&++Dn<O);return Qt},j=(he,Me,Oe,Ke)=>{for(let Xe=0;Xe<nn;++Xe){const Nt=ft(Me,Oe,Ke);if(Nt===0)return Me;const Qt=Ue(Me,Oe,Ke)-he;Me-=Qt/Nt}return Me},ye=he=>he,ge=(he,Me,Oe,Ke)=>{if(!(0<=he&&he<=1&&0<=Oe&&Oe<=1))throw new Error("bezier x values must be in [0, 1] range");if(he===Me&&Oe===Ke)return ye;const Xe=new Float32Array(Ye);for(let Qt=0;Qt<Ye;++Qt)Xe[Qt]=Ue(Qt*pt,he,Oe);const Nt=Qt=>{let Dn=0,Pn=1,me=Ye-1;for(;Pn!==me&&Xe[Pn]<=Qt;++Pn)Dn+=pt;--Pn;const Je=(Qt-Xe[Pn])/(Xe[Pn+1]-Xe[Pn]),nt=Dn+Je*pt,et=ft(nt,he,Oe);return et>=ht?j(Qt,nt,he,Oe):et===0?nt:bt(Qt,Dn,Dn+pt,he,Oe)};return Qt=>Qt===0||Qt===1?Qt:Ue(Nt(Qt),Me,Ke)},ve=(0,A.s)("svg",{width:"100%",height:"$controlWidth",marginTop:"$rowGap",overflow:"visible",zIndex:100,"> path":{stroke:"$highlight3",strokeWidth:2},g:{color:"$accent1","&:hover":{color:"$accent3"},"&:active":{color:"$vivid1"}},circle:{fill:"currentColor",strokeWidth:10,stroke:"transparent",cursor:"pointer"},"> line":{stroke:"$highlight1",strokeWidth:2},"> g > line":{stroke:"currentColor"},variants:{withPreview:{true:{marginBottom:0},false:{marginBottom:"$rowGap"}}}}),Ce=he=>(0,A.ah)({"0%":{opacity:0},"10%":{opacity:.8},"100%":{opacity:he}}),xe=(0,A.ah)({"0%":{transform:"translateX(5%)"},"100%":{transform:"translateX(95%)"}}),de=(0,A.s)("svg",{width:"100%",overflow:"visible",height:6,"> circle":{fill:"$vivid1",cy:"50%",animation:`${Ce(.3)} 1000ms both`,"&:first-of-type":{animationName:Ce(.7)},"&:last-of-type":{animationName:xe}}}),X=(0,A.s)("div",{userSelect:"none",$flexCenter:"",height:14,width:14,borderRadius:7,marginRight:"$sm",cursor:"pointer",fontSize:"0.8em",variants:{graph:{true:{backgroundColor:"$elevation1"}}}}),ee=(0,A.s)("div",{display:"grid",gridTemplateColumns:"auto 1fr",alignItems:"center"}),Pe=4;function Q({sx:he,sy:Me,cx:Oe,cy:Ke}){const Xe=Math.atan2(Ke-Me,Oe-he),Nt=Oe-Pe*Math.cos(Xe),Qt=Ke-Pe*Math.sin(Xe);return g.createElement("line",{x1:Nt,y1:Qt,x2:he,y2:Me})}function Le({displayValue:he,onUpdate:Me,withPreview:Oe}){const Ke=it(),Xe=st(),[Nt,{width:Qt,height:Dn}]=(0,le.Z)(),Pn=(0,g.useRef)(null),me=(0,g.useRef)(null),Je=(0,g.useRef)(null),nt=(0,g.useRef)(),et=(0,A.e)(({xy:[vr,Mr],event:xr,first:mi,memo:Pr})=>{mi&&(nt.current=Pn.current.getBoundingClientRect(),Pr=[me.current,Je.current].indexOf(xr.target),Pr<0&&(Pr=vr-nt.current.left<Qt/2?0:1),Pr*=2);const jr=vr-nt.current.left,I=Mr-nt.current.top;return Me(U=>{const m=[...U];return m[Pr]=Xe(jr,Qt),m[Pr+1]=1-Xe(I,Dn),m}),Pr}),{x1:Ut,y1:pn,x2:an,y2:Vt}=he,{sx:pe,sy:De,ex:lt,ey:Tt,cx1:Wt,cy1:Cn,cx2:Bn,cy2:Gn}=(0,g.useMemo)(()=>({sx:Ke(0,Qt),sy:Ke(1,Dn),ex:Ke(1,Qt),ey:Ke(0,Dn),cx1:Ke(Ut,Qt),cy1:Ke(1-pn,Dn),cx2:Ke(an,Qt),cy2:Ke(1-Vt,Dn)}),[Ke,Ut,pn,an,Vt,Qt,Dn]);return g.createElement(ve,F({ref:(0,A.af)([Pn,Nt])},et(),{withPreview:Oe}),g.createElement("line",{x1:pe,y1:De,x2:lt,y2:Tt}),g.createElement("path",{fill:"none",d:`M${pe},${De} C${Wt},${Cn} ${Bn},${Gn} ${lt},${Tt}`,strokeLinecap:"round"}),g.createElement("g",null,g.createElement(Q,{sx:pe,sy:De,cx:Wt,cy:Cn}),g.createElement("circle",{ref:me,cx:Wt,cy:Cn,r:Pe})),g.createElement("g",null,g.createElement(Q,{sx:lt,sy:Tt,cx:Bn,cy:Gn}),g.createElement("circle",{ref:Je,cx:Bn,cy:Gn,r:Pe})))}const Ee=g.memo(({value:he})=>{const[,Me]=(0,g.useReducer)(Ke=>Ke+1,0),Oe=Array(21).fill(0).map((Ke,Xe)=>5+he.evaluate(Xe/20)*90);return g.createElement(de,{onClick:Me},Oe.map((Ke,Xe)=>g.createElement("circle",{key:Xe+Date.now(),r:3,cx:`${Ke}%`,style:{animationDelay:`${Xe*50}ms`}})),g.createElement("circle",{key:Date.now()-1,r:3,style:{animationTimingFunction:`cubic-bezier(${he.join(",")})`,animationDuration:`${Oe.length*50}ms`}}))});function ke({value:he}){const[Me,Oe]=(0,g.useState)(he),Ke=(0,g.useMemo)(()=>(0,A.U)(Xe=>Oe(Xe),250),[]);return(0,g.useEffect)(()=>void Ke(he),[he,Ke]),g.createElement(Ee,{value:Me})}function qe(he,Me){if(he==null)return{};var Oe={},Ke=Object.keys(he),Xe,Nt;for(Nt=0;Nt<Ke.length;Nt++)Xe=Ke[Nt],!(Me.indexOf(Xe)>=0)&&(Oe[Xe]=he[Xe]);return Oe}function rt(he,Me){if(he==null)return{};var Oe=qe(he,Me),Ke,Xe;if(Object.getOwnPropertySymbols){var Nt=Object.getOwnPropertySymbols(he);for(Xe=0;Xe<Nt.length;Xe++)Ke=Nt[Xe],!(Me.indexOf(Ke)>=0)&&Object.prototype.propertyIsEnumerable.call(he,Ke)&&(Oe[Ke]=he[Ke])}return Oe}const tt=["handles"],St={min:0,max:1,step:.01},at={step:.01},Mt={graph:!0,preview:!0},Et={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],"in-out-sine":[.45,.05,.55,.95],"in-out-quadratic":[.46,.03,.52,.96],"in-out-cubic":[.65,.05,.36,1],"fast-out-slow-in":[.4,0,.2,1],"in-out-back":[.68,-.55,.27,1.55]},Ct=(he=[.25,.1,.25,1])=>{let Me=typeof he=="object"&&"handles"in he?he:{handles:he},{handles:Oe}=Me,Ke=rt(Me,tt);Oe=typeof Oe=="string"?Et[Oe]:Oe;const Xe={x1:St,y1:at,x2:St,y2:at},{value:Nt,settings:Qt}=(0,A.am)(Oe,Xe,["x1","y1","x2","y2"]),Dn=Nt;return Dn.evaluate=ge(...Nt),Dn.cssEasing=`cubic-bezier(${Nt.join(",")})`,{value:Dn,settings:Se(Se(Se({},Qt),Mt),Ke)}},We=(he,Me,Oe)=>{const Ke=(0,A.ak)(he,Me,Oe),Xe=Ke;return Xe.evaluate=ge(...Ke),Xe.cssEasing=`cubic-bezier(${Ke.join(",")})`,Xe},{Label:Ve,Row:gt,Vector:$t,Select:Gt}=Y,Yt=["custom",...Object.keys(Et)],yn=[!1,...Object.values(Et).map(he=>he.toString())],rn={keys:Yt,values:yn};function sn({value:he,onUpdate:Me}){const Oe=(0,g.useMemo)(()=>yn.find(Qt=>Qt===he.toString())||!1,[he]),Ke={type:"SELECT",value:Oe,settings:rn},Xe=Qt=>Qt&&Me(Qt.split(",")),Nt=(0,A.A)(Se(Se({},Ke),{},{setValue:Xe}));return g.createElement(Gt,{value:Oe,displayValue:Nt.displayValue,onUpdate:Nt.onUpdate,settings:rn})}function Mn(){const{label:he,value:Me,displayValue:Oe,settings:Ke,onUpdate:Xe,setSettings:Nt}=(0,A.u)(),{graph:Qt,preview:Dn}=Ke;return g.createElement(g.Fragment,null,g.createElement(gt,{input:!0},g.createElement(Ve,null,he),g.createElement(ee,null,g.createElement(X,{graph:Qt,onClick:()=>Nt({graph:!Qt})},"\u{1D453}"),g.createElement(sn,{value:Me,onUpdate:Xe}))),Qt&&g.createElement(Le,{displayValue:Oe,onUpdate:Xe,withPreview:Dn}),Dn&&g.createElement(gt,null,g.createElement(ke,{value:Me})),Qt&&g.createElement(gt,null,g.createElement($t,{value:Oe,settings:Ke,onUpdate:Xe,innerLabelTrim:2})))}const xt=(0,A.ag)({normalize:Ct,sanitize:We,format:(he,Me)=>(0,A.al)(he,Me),component:Mn})},961:function(Jt,Qe,K){"use strict";K.d(Qe,{AS7:function(){return K0},EGi:function(){return yn},L52:function(){return xs},Nn4:function(){return G0},QlJ:function(){return ul},RgI:function(){return P1},TOI:function(){return Wi},VZf:function(){return Q0},Wwj:function(){return ot},dNJ:function(){return Fo},dYt:function(){return Y0},h6i:function(){return Be},hNW:function(){return oc},rlr:function(){return b1},tK:function(){return tt},vfO:function(){return Yf},zkR:function(){return gl}});var A=K(50959);function x(te,fe){if(te==null)return{};var ne={},ae=Object.keys(te),ue,ac;for(ac=0;ac<ae.length;ac++)ue=ae[ac],!(fe.indexOf(ue)>=0)&&(ne[ue]=te[ue]);return ne}var g=null,_=null,T=null,k=null,z=null,Y=null,le=null,oe=null,be=null,Se=null,F=null,it=null,st=null,nn=null,ht=null,Rt=null,O=null,Ye=null,pt=null,zt=null,Ot=["color"],Be=(0,A.forwardRef)(function(te,fe){var ne=te.color,ae=ne===void 0?"currentColor":ne,ue=x(te,Ot);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ue,{ref:fe}),(0,A.createElement)("path",{d:"M8.8914 2.1937C9.1158 2.35464 9.16725 2.66701 9.00631 2.89141L2.47388 12H13.5C13.7761 12 14 12.2239 14 12.5C14 12.7762 13.7761 13 13.5 13H1.5C1.31254 13 1.14082 12.8952 1.0552 12.7284C0.969578 12.5616 0.984438 12.361 1.09369 12.2086L8.19369 2.30862C8.35462 2.08422 8.667 2.03277 8.8914 2.1937ZM11.1 6.50001C11.1 6.22387 11.3238 6.00001 11.6 6.00001C11.8761 6.00001 12.1 6.22387 12.1 6.50001C12.1 6.77615 11.8761 7.00001 11.6 7.00001C11.3238 7.00001 11.1 6.77615 11.1 6.50001ZM10.4 4.00001C10.1239 4.00001 9.90003 4.22387 9.90003 4.50001C9.90003 4.77615 10.1239 5.00001 10.4 5.00001C10.6762 5.00001 10.9 4.77615 10.9 4.50001C10.9 4.22387 10.6762 4.00001 10.4 4.00001ZM12.1 8.50001C12.1 8.22387 12.3238 8.00001 12.6 8.00001C12.8761 8.00001 13.1 8.22387 13.1 8.50001C13.1 8.77615 12.8761 9.00001 12.6 9.00001C12.3238 9.00001 12.1 8.77615 12.1 8.50001ZM13.4 10C13.1239 10 12.9 10.2239 12.9 10.5C12.9 10.7761 13.1239 11 13.4 11C13.6762 11 13.9 10.7761 13.9 10.5C13.9 10.2239 13.6762 10 13.4 10Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}))}),Ue=null,ft=null,bt=null,j=null,ye=null,ge=null,ve=null,Ce=null,xe=null,de=null,X=null,ee=null,Pe=null,Q=null,Le=null,Ee=null,ke=null,qe=null,rt=["color"],tt=(0,A.forwardRef)(function(te,fe){var ne=te.color,ae=ne===void 0?"currentColor":ne,ue=x(te,rt);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ue,{ref:fe}),(0,A.createElement)("path",{d:"M2.5 2H12.5C12.7761 2 13 2.22386 13 2.5V12.5C13 12.7761 12.7761 13 12.5 13H2.5C2.22386 13 2 12.7761 2 12.5V2.5C2 2.22386 2.22386 2 2.5 2ZM1 2.5C1 1.67157 1.67157 1 2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5ZM7.5 4C7.77614 4 8 3.77614 8 3.5C8 3.22386 7.77614 3 7.5 3C7.22386 3 7 3.22386 7 3.5C7 3.77614 7.22386 4 7.5 4ZM8 5.5C8 5.77614 7.77614 6 7.5 6C7.22386 6 7 5.77614 7 5.5C7 5.22386 7.22386 5 7.5 5C7.77614 5 8 5.22386 8 5.5ZM7.5 8C7.77614 8 8 7.77614 8 7.5C8 7.22386 7.77614 7 7.5 7C7.22386 7 7 7.22386 7 7.5C7 7.77614 7.22386 8 7.5 8ZM10 7.5C10 7.77614 9.77614 8 9.5 8C9.22386 8 9 7.77614 9 7.5C9 7.22386 9.22386 7 9.5 7C9.77614 7 10 7.22386 10 7.5ZM11.5 8C11.7761 8 12 7.77614 12 7.5C12 7.22386 11.7761 7 11.5 7C11.2239 7 11 7.22386 11 7.5C11 7.77614 11.2239 8 11.5 8Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}))}),St=null,at=null,Mt=null,Et=null,Ct=null,We=null,Ve=null,gt=null,$t=null,Gt=null,Yt=["color"],yn=(0,A.forwardRef)(function(te,fe){var ne=te.color,ae=ne===void 0?"currentColor":ne,ue=x(te,Yt);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ue,{ref:fe}),(0,A.createElement)("path",{d:"M3 9C3 6.5 4.5 4.25 7.5 1.5C10.5 4.25 12 6.5 12 9C12 11.4853 9.98528 13.5 7.5 13.5C5.01472 13.5 3 11.4853 3 9ZM10.9524 8.30307C9.67347 7.82121 8.2879 8.46208 6.98956 9.06259C5.9327 9.55142 4.93365 10.0135 4.09695 9.82153C4.03357 9.55804 4 9.28294 4 9C4 7.11203 5.02686 5.27195 7.5 2.87357C9.66837 4.97639 10.725 6.65004 10.9524 8.30307Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}))}),rn=null,sn=null,Mn=null,xt=null,he=null,Me=null,Oe=null,Ke=null,Xe=null,Nt=null,Qt=null,Dn=null,Pn=null,me=null,Je=null,nt=null,et=null,Ut=null,pn=null,an=null,Vt=null,pe=null,De=null,lt=null,Tt=null,Wt=null,Cn=null,Bn=null,Gn=null,vr=null,Mr=null,xr=null,mi=null,Pr=null,jr=null,I=null,U=null,m=null,C=null,w=null,L=null,V=null,se=null,N=null,Z=null,P=null,$=null,Ne=null,Ge=null,ct=null,Ft=null,Dt=null,dt=null,mt=null,ut=null,Zt=null,Sn=null,xn=null,Fn=null,An=null,zn=null,Jn=null,fn=null,Vn=null,lr=null,yr=null,Hr=null,wi=null,ni=null,ri=null,ii=null,_i=null,Er=null,Tr=null,yi=null,lo=null,di=null,Yo=null,Ko=null,Lo=null,Ns=["color"],Fo=(0,A.forwardRef)(function(te,fe){var ne=te.color,ae=ne===void 0?"currentColor":ne,ue=x(te,Ns);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ue,{ref:fe}),(0,A.createElement)("path",{d:"M9.96424 2.68571C10.0668 2.42931 9.94209 2.13833 9.6857 2.03577C9.4293 1.93322 9.13832 2.05792 9.03576 2.31432L5.03576 12.3143C4.9332 12.5707 5.05791 12.8617 5.3143 12.9642C5.5707 13.0668 5.86168 12.9421 5.96424 12.6857L9.96424 2.68571ZM3.85355 5.14646C4.04882 5.34172 4.04882 5.6583 3.85355 5.85356L2.20711 7.50001L3.85355 9.14646C4.04882 9.34172 4.04882 9.6583 3.85355 9.85356C3.65829 10.0488 3.34171 10.0488 3.14645 9.85356L1.14645 7.85356C0.951184 7.6583 0.951184 7.34172 1.14645 7.14646L3.14645 5.14646C3.34171 4.9512 3.65829 4.9512 3.85355 5.14646ZM11.1464 5.14646C11.3417 4.9512 11.6583 4.9512 11.8536 5.14646L13.8536 7.14646C14.0488 7.34172 14.0488 7.6583 13.8536 7.85356L11.8536 9.85356C11.6583 10.0488 11.3417 10.0488 11.1464 9.85356C10.9512 9.6583 10.9512 9.34172 11.1464 9.14646L12.7929 7.50001L11.1464 5.85356C10.9512 5.6583 10.9512 5.34172 11.1464 5.14646Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}))}),bi=null,Fs=null,Do=["color"],Wi=(0,A.forwardRef)(function(te,fe){var ne=te.color,ae=ne===void 0?"currentColor":ne,ue=x(te,Do);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ue,{ref:fe}),(0,A.createElement)("path",{d:"M0.877075 7.49985C0.877075 3.84216 3.84222 0.877014 7.49991 0.877014C11.1576 0.877014 14.1227 3.84216 14.1227 7.49985C14.1227 11.1575 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1575 0.877075 7.49985ZM3.78135 3.21565C4.68298 2.43239 5.83429 1.92904 7.09998 1.84089V6.53429L3.78135 3.21565ZM3.21567 3.78134C2.43242 4.68298 1.92909 5.83428 1.84095 7.09997H6.5343L3.21567 3.78134ZM6.5343 7.89997H1.84097C1.92916 9.16562 2.43253 10.3169 3.21579 11.2185L6.5343 7.89997ZM3.78149 11.7842C4.6831 12.5673 5.83435 13.0707 7.09998 13.1588V8.46566L3.78149 11.7842ZM7.89998 8.46566V13.1588C9.16559 13.0706 10.3168 12.5673 11.2184 11.7841L7.89998 8.46566ZM11.7841 11.2184C12.5673 10.3168 13.0707 9.16558 13.1588 7.89997H8.46567L11.7841 11.2184ZM8.46567 7.09997H13.1589C13.0707 5.83432 12.5674 4.68305 11.7842 3.78143L8.46567 7.09997ZM11.2185 3.21573C10.3169 2.43246 9.16565 1.92909 7.89998 1.8409V6.53429L11.2185 3.21573Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}))}),qo=null,Yr=null,Ji=null,Ro=null,ps=null,ms=null,Jo=null,Ai=null,B=null,J=null,Re=["color"],ot=(0,A.forwardRef)(function(te,fe){var ne=te.color,ae=ne===void 0?"currentColor":ne,ue=x(te,Re);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ue,{ref:fe}),(0,A.createElement)("path",{d:"M7.85367 1.48956C7.65841 1.29429 7.34182 1.29429 7.14656 1.48956L1.48971 7.14641C1.29445 7.34167 1.29445 7.65825 1.48971 7.85352L7.14656 13.5104C7.34182 13.7056 7.65841 13.7056 7.85367 13.5104L13.5105 7.85352C13.7058 7.65825 13.7058 7.34167 13.5105 7.14641L7.85367 1.48956ZM7.5 2.55033L2.55037 7.49996L7.5 12.4496V2.55033Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}))}),It=null,Lt=null,W=null,we=null,D=null,re=null,$e=null,_t=null,mn=null,On=null,Un=null,_n=null,$n=null,hr=null,nr=null,Cr=null,Xr=null,Or=null,Fr=null,Lr=null,Vr=null,Ir=null,Ii=null,gi=null,Hi=null,xi=null,oi=null,la=null,h1=null,co=null,ko=null,ks=null,Qa=null,Ma=null,Us=null,qs=null,ca=null,Sa=null,Qo=null,p1=null,m1=null,ua=null,uo=null,ss=null,gs=null,Ea=null,ro=null,Ao=null,dn=null,Fi=null,as=null,Ts=null,zo=null,vs=null,es=null,fo=null,wo=null,si=null,fa=null,li=null,ho=null,Ps=null,da=null,Uo=null,rr=null,Cs=null,$s=null,_s=null,Js=null,La=null,Gi=null,vi=null,po=null,Qs=null,$i=null,Ti=null,mo=null,$o=null,ci=null,Ae=null,go=null,js=null,Qi=null,ai=null,Ho=null,Zs=null,ls=null,ys=null,ji=null,vo=null,Ci=null,Xi=null,Yi=null,Ra=null,ha=null,Os=null,Ol=null,Vo=null,F1=null,e1=null,g1=null,jo=null,bo=null,ea=null,Aa=null,Is=null,k1=null,v1=null,U1=null,t1=null,kr=null,Ta=null,cs=null,C1=null,Il=["color"],xs=(0,A.forwardRef)(function(te,fe){var ne=te.color,ae=ne===void 0?"currentColor":ne,ue=x(te,Il);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ue,{ref:fe}),(0,A.createElement)("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}))}),Pa=null,Zo=null,n1=null,Dl=null,Oa=null,_1=null,Oc=null,$1=null,Ia=null,Ws=null,j1=null,r1=null,Eu=null,Lu=null,zl=null,Hl=null,Vl=null,Ic=null,y1=null,Ei=null,Ds=null,ta=null,x1=null,zs=null,i1=null,Da=null,Bl=null,Z1=null,W1=null,G1=null,eo=null,Dc=null,io=null,ws=null,Zi=null,za=null,Oi=null,w1=null,Bo=null,Ru=null,Au=null,Wo=null,Go=null,X1=null,zc=null,cr=null,Hc=null,Vc=null,ts=null,Y1=null,pa=null,ns=null,o1=null,to=null,Dr=null,Nl=null,na=["color"],b1=(0,A.forwardRef)(function(te,fe){var ne=te.color,ae=ne===void 0?"currentColor":ne,ue=x(te,na);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ue,{ref:fe}),(0,A.createElement)("path",{d:"M12.3536 13.3536C12.1583 13.5488 11.8417 13.5488 11.6465 13.3536L6.39645 8.10355C6.36478 8.07188 6.33824 8.03702 6.31685 8H5.00002C4.78719 8 4.59769 7.86528 4.52777 7.66426L2.12777 0.764277C2.05268 0.548387 2.13355 0.309061 2.3242 0.182972C2.51486 0.0568819 2.76674 0.0761337 2.93602 0.229734L8.336 5.12972C8.44044 5.22449 8.50001 5.35897 8.50001 5.5V5.81684C8.53702 5.83824 8.57189 5.86478 8.60356 5.89645L13.8536 11.1464C14.0488 11.3417 14.0488 11.6583 13.8536 11.8536L12.3536 13.3536ZM8.25 6.95711L7.45711 7.75L12 12.2929L12.7929 11.5L8.25 6.95711ZM3.71669 2.28845L5.35549 7H6.2929L7.50001 5.79289V5.72146L3.71669 2.28845Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}))}),ra=null,Hs=null,ia=null,M1=null,K1=null,Vs=null,q1=null,J1=null,Ha=null,Gs=null,Q1=null,Xn=null,s1=null,a1=null,Mo=null,Tu=null,Xs=null,us=null,ma=null,To=null,Fl=null,Bc=null,Nc=null,Bs=null,S1=null,Co=null,ga=null,Va=null,el=null,va=null,Fc=null,kl=null,kc=null,Uc=null,oa=null,Ba=null,Na=null,Fa=null,E1=null,tl=null,Ys=null,L1=null,Ul=null,$l=null,jl=null,$c=null,Zl=null,Pu=null,nl=null,Wl=null,no=null,Kr=null,oo=null,so=null,Po=null,fs=null,l1=null,_o=null,R1=null,c1=null,rl=null,Gl=null,A1=null,rs=null,Xl=null,Yl=null,u1=null,il=null,Kl=null,Ca=null,ol=null,_a=null,sl=null,T1=null,ql=null,al=null,ll=null,Xo=null,ya=null,bs=null,cl=null,is=null,jc=null,Jl=null,Ql=null,Ou=null,xa=null,Zc=null,Wc=null,ec=null,ka=null,Gc=null,tc=["color"],ul=(0,A.forwardRef)(function(te,fe){var ne=te.color,ae=ne===void 0?"currentColor":ne,ue=x(te,tc);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ue,{ref:fe}),(0,A.createElement)("path",{d:"M7.5 1.5C4.5 4.25 3 6.5 3 9C3 11.4853 5.01472 13.5 7.5 13.5C9.98528 13.5 12 11.4853 12 9C12 6.5 10.5 4.25 7.5 1.5ZM11 9C11 7.11203 9.97315 5.27195 7.5 2.87357C5.02686 5.27195 4 7.11203 4 9C4 10.933 5.567 12.5 7.5 12.5C9.433 12.5 11 10.933 11 9Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}))}),fl=null,Iu=null,Du=null,Xc=null,Yc=null,Ua=null,zu=null,$a=null,Kc=null,os=null,Hu=null,qc=null,Vu=null,Bu=null,Jc=null,Qc=null,Nu=null,Ms=null,nc=null,Fu=null,sa=["color"],P1=(0,A.forwardRef)(function(te,fe){var ne=te.color,ae=ne===void 0?"currentColor":ne,ue=x(te,sa);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ue,{ref:fe}),(0,A.createElement)("path",{d:"M13.5 13.95C13.7485 13.95 13.95 13.7485 13.95 13.5C13.95 13.2514 13.7485 13.05 13.5 13.05L1.49995 13.05C1.25142 13.05 1.04995 13.2514 1.04995 13.5C1.04995 13.7485 1.25142 13.95 1.49995 13.95L13.5 13.95ZM11.0681 7.5683C11.2439 7.39257 11.2439 7.10764 11.0681 6.93191C10.8924 6.75617 10.6075 6.75617 10.4317 6.93191L7.94993 9.41371L7.94993 1.49998C7.94993 1.25146 7.74846 1.04998 7.49993 1.04998C7.2514 1.04998 7.04993 1.25146 7.04993 1.49998L7.04993 9.41371L4.56813 6.93191C4.39239 6.75617 4.10746 6.75617 3.93173 6.93191C3.75599 7.10764 3.75599 7.39257 3.93173 7.5683L7.18173 10.8183C7.35746 10.994 7.64239 10.994 7.81812 10.8183L11.0681 7.5683Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}))}),ja=null,dl=null,rc=null,ic=null,eu=["color"],oc=(0,A.forwardRef)(function(te,fe){var ne=te.color,ae=ne===void 0?"currentColor":ne,ue=x(te,eu);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ue,{ref:fe}),(0,A.createElement)("path",{d:"M1.50005 1.05005C1.25152 1.05005 1.05005 1.25152 1.05005 1.50005C1.05005 1.74858 1.25152 1.95005 1.50005 1.95005L13.5 1.95005C13.7486 1.95005 13.95 1.74858 13.95 1.50005C13.95 1.25152 13.7486 1.05005 13.5 1.05005H1.50005ZM3.93188 7.43169C3.75614 7.60743 3.75614 7.89236 3.93188 8.06809C4.10761 8.24383 4.39254 8.24383 4.56827 8.06809L7.05007 5.58629V13.5C7.05007 13.7485 7.25155 13.95 7.50007 13.95C7.7486 13.95 7.95007 13.7485 7.95007 13.5L7.95007 5.58629L10.4319 8.06809C10.6076 8.24383 10.8925 8.24383 11.0683 8.06809C11.244 7.89235 11.244 7.60743 11.0683 7.43169L7.81827 4.18169C7.64254 4.00596 7.35761 4.00596 7.18188 4.18169L3.93188 7.43169Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}))}),tu=null,nu=null,ru=null,sc=null,ku=null,Uu=null,i=null,s=null,u=null,h=null,M=null,H=null,He=null,wt=null,en=null,Hn=null,ar=null,Br=null,wr=null,Di=null,pr=null,No=null,Ss=null,kt=null,At=null,Xt=null,ir=null,mr=null,qr=null,Ur=null,Mi=null,Oo=null,Si=null,Za=null,T0=null,h5=null,p5=null,m5=null,g5=null,v5=null,C5=null,_5=null,Xf=["color"],Yf=(0,A.forwardRef)(function(te,fe){var ne=te.color,ae=ne===void 0?"currentColor":ne,ue=x(te,Xf);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ue,{ref:fe}),(0,A.createElement)("path",{opacity:".05",d:"M6.78296 13.376C8.73904 9.95284 8.73904 5.04719 6.78296 1.62405L7.21708 1.37598C9.261 4.95283 9.261 10.0472 7.21708 13.624L6.78296 13.376Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{opacity:".1",d:"M7.28204 13.4775C9.23929 9.99523 9.23929 5.00475 7.28204 1.52248L7.71791 1.2775C9.76067 4.9119 9.76067 10.0881 7.71791 13.7225L7.28204 13.4775Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{opacity:".15",d:"M7.82098 13.5064C9.72502 9.99523 9.72636 5.01411 7.82492 1.50084L8.26465 1.26285C10.2465 4.92466 10.2451 10.085 8.26052 13.7448L7.82098 13.5064Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{opacity:".2",d:"M8.41284 13.429C10.1952 9.92842 10.1957 5.07537 8.41435 1.57402L8.85999 1.34729C10.7139 4.99113 10.7133 10.0128 8.85841 13.6559L8.41284 13.429Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{opacity:".25",d:"M9.02441 13.2956C10.6567 9.8379 10.6586 5.17715 9.03005 1.71656L9.48245 1.50366C11.1745 5.09919 11.1726 9.91629 9.47657 13.5091L9.02441 13.2956Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{opacity:".3",d:"M9.66809 13.0655C11.1097 9.69572 11.1107 5.3121 9.67088 1.94095L10.1307 1.74457C11.6241 5.24121 11.6231 9.76683 10.1278 13.2622L9.66809 13.0655Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{opacity:".35",d:"M10.331 12.7456C11.5551 9.52073 11.5564 5.49103 10.3347 2.26444L10.8024 2.0874C12.0672 5.42815 12.0659 9.58394 10.7985 12.9231L10.331 12.7456Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{opacity:".4",d:"M11.0155 12.2986C11.9938 9.29744 11.9948 5.71296 11.0184 2.71067L11.4939 2.55603C12.503 5.6589 12.502 9.35178 11.4909 12.4535L11.0155 12.2986Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{opacity:".45",d:"M11.7214 11.668C12.4254 9.01303 12.4262 5.99691 11.7237 3.34116L12.2071 3.21329C12.9318 5.95292 12.931 9.05728 12.2047 11.7961L11.7214 11.668Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{opacity:".5",d:"M12.4432 10.752C12.8524 8.63762 12.8523 6.36089 12.4429 4.2466L12.9338 4.15155C13.3553 6.32861 13.3554 8.66985 12.9341 10.847L12.4432 10.752Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{d:"M0.877075 7.49988C0.877075 3.84219 3.84222 0.877045 7.49991 0.877045C11.1576 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1575 0.877075 7.49988ZM7.49991 1.82704C4.36689 1.82704 1.82708 4.36686 1.82708 7.49988C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49988C13.1727 4.36686 10.6329 1.82704 7.49991 1.82704Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}))}),y5=null,x5=null,w5=null,b5=null,M5=null,S5=null,E5=null,L5=null,R5=null,A5=null,T5=null,P5=null,ui=null,qn=null,aa=null,Kf=null,qf=null,Jf=null,Qf=null,ed=null,td=null,iu=null,hl=null,P0=null,O1=null,$u=null,O0=null,ju=null,I1=null,pl=null,I0=null,Zu=null,nd=null,D0=null,ou=null,rd=null,z0=null,H0=null,Wu=null,id=null,od=null,sd=null,ad=null,ld=null,cd=null,ud=null,Gu=null,fd=null,dd=null,V0=null,B0=null,N0=null,F0=null,k0=null,U0=null,$0=null,j0=null,Z0=null,ml=null,ds=null,hs=null,su=null,hd=null,pd=null,md=null,gd=null,vd=null,Cd=null,_d=null,yd=null,xd=null,wd=null,bd=null,Md=null,Sd=null,Ed=null,Ld=null,Rd=null,Ad=null,Td=null,Pd=null,Od=null,Id=null,Dd=null,zd=null,Hd=null,Vd=null,Bd=null,Nd=null,Fd=null,kd=null,Ud=null,$d=null,jd=null,W0=["color"],G0=(0,A.forwardRef)(function(te,fe){var ne=te.color,ae=ne===void 0?"currentColor":ne,ue=x(te,W0);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ue,{ref:fe}),(0,A.createElement)("path",{d:"M4.5 2C3.11929 2 2 3.11929 2 4.5C2 5.88072 3.11929 7 4.5 7C5.88072 7 7 5.88072 7 4.5C7 3.11929 5.88072 2 4.5 2ZM3 4.5C3 3.67157 3.67157 3 4.5 3C5.32843 3 6 3.67157 6 4.5C6 5.32843 5.32843 6 4.5 6C3.67157 6 3 5.32843 3 4.5ZM10.5 2C9.11929 2 8 3.11929 8 4.5C8 5.88072 9.11929 7 10.5 7C11.8807 7 13 5.88072 13 4.5C13 3.11929 11.8807 2 10.5 2ZM9 4.5C9 3.67157 9.67157 3 10.5 3C11.3284 3 12 3.67157 12 4.5C12 5.32843 11.3284 6 10.5 6C9.67157 6 9 5.32843 9 4.5ZM2 10.5C2 9.11929 3.11929 8 4.5 8C5.88072 8 7 9.11929 7 10.5C7 11.8807 5.88072 13 4.5 13C3.11929 13 2 11.8807 2 10.5ZM4.5 9C3.67157 9 3 9.67157 3 10.5C3 11.3284 3.67157 12 4.5 12C5.32843 12 6 11.3284 6 10.5C6 9.67157 5.32843 9 4.5 9ZM10.5 8C9.11929 8 8 9.11929 8 10.5C8 11.8807 9.11929 13 10.5 13C11.8807 13 13 11.8807 13 10.5C13 9.11929 11.8807 8 10.5 8ZM9 10.5C9 9.67157 9.67157 9 10.5 9C11.3284 9 12 9.67157 12 10.5C12 11.3284 11.3284 12 10.5 12C9.67157 12 9 11.3284 9 10.5Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}))}),Zd=null,Wd=null,Gd=null,Xd=null,X0=["color"],Y0=(0,A.forwardRef)(function(te,fe){var ne=te.color,ae=ne===void 0?"currentColor":ne,ue=x(te,X0);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ue,{ref:fe}),(0,A.createElement)("path",{d:"M0.849976 1.74998C0.849976 1.25292 1.25292 0.849976 1.74998 0.849976H3.24998C3.74703 0.849976 4.14998 1.25292 4.14998 1.74998V2.04998H10.85V1.74998C10.85 1.25292 11.2529 0.849976 11.75 0.849976H13.25C13.747 0.849976 14.15 1.25292 14.15 1.74998V3.24998C14.15 3.74703 13.747 4.14998 13.25 4.14998H12.95V10.85H13.25C13.747 10.85 14.15 11.2529 14.15 11.75V13.25C14.15 13.747 13.747 14.15 13.25 14.15H11.75C11.2529 14.15 10.85 13.747 10.85 13.25V12.95H4.14998V13.25C4.14998 13.747 3.74703 14.15 3.24998 14.15H1.74998C1.25292 14.15 0.849976 13.747 0.849976 13.25V11.75C0.849976 11.2529 1.25292 10.85 1.74998 10.85H2.04998V4.14998H1.74998C1.25292 4.14998 0.849976 3.74703 0.849976 3.24998V1.74998ZM2.94998 4.14998V10.85H3.24998C3.74703 10.85 4.14998 11.2529 4.14998 11.75V12.05H10.85V11.75C10.85 11.2529 11.2529 10.85 11.75 10.85H12.05V4.14998H11.75C11.2529 4.14998 10.85 3.74703 10.85 3.24998V2.94998H4.14998V3.24998C4.14998 3.74703 3.74703 4.14998 3.24998 4.14998H2.94998ZM2.34998 1.74998H1.74998V2.34998V2.64998V3.24998H2.34998H2.64998H3.24998V2.64998V2.34998V1.74998H2.64998H2.34998ZM5.09998 5.99998C5.09998 5.50292 5.50292 5.09998 5.99998 5.09998H6.99998C7.49703 5.09998 7.89998 5.50292 7.89998 5.99998V6.99998C7.89998 7.03591 7.89787 7.07134 7.89378 7.10618C7.92861 7.10208 7.96405 7.09998 7.99998 7.09998H8.99998C9.49703 7.09998 9.89998 7.50292 9.89998 7.99998V8.99998C9.89998 9.49703 9.49703 9.89998 8.99998 9.89998H7.99998C7.50292 9.89998 7.09998 9.49703 7.09998 8.99998V7.99998C7.09998 7.96405 7.10208 7.92861 7.10618 7.89378C7.07134 7.89787 7.03591 7.89998 6.99998 7.89998H5.99998C5.50292 7.89998 5.09998 7.49703 5.09998 6.99998V5.99998ZM6.09998 5.99998H5.99998V6.09998V6.89998V6.99998H6.09998H6.89998H6.99998V6.89998V6.09998V5.99998H6.89998H6.09998ZM7.99998 7.99998H8.09998H8.89998H8.99998V8.09998V8.89998V8.99998H8.89998H8.09998H7.99998V8.89998V8.09998V7.99998ZM2.64998 11.75H2.34998H1.74998V12.35V12.65V13.25H2.34998H2.64998H3.24998V12.65V12.35V11.75H2.64998ZM11.75 1.74998H12.35H12.65H13.25V2.34998V2.64998V3.24998H12.65H12.35H11.75V2.64998V2.34998V1.74998ZM12.65 11.75H12.35H11.75V12.35V12.65V13.25H12.35H12.65H13.25V12.65V12.35V11.75H12.65Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}))}),Yd=null,Kd=null,qd=null,Xu=null,Yu=["color"],K0=(0,A.forwardRef)(function(te,fe){var ne=te.color,ae=ne===void 0?"currentColor":ne,ue=x(te,Yu);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ue,{ref:fe}),(0,A.createElement)("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:ae}))}),au=null,q0=null,J0=["color"],Q0=(0,A.forwardRef)(function(te,fe){var ne=te.color,ae=ne===void 0?"currentColor":ne,ue=x(te,J0);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ue,{ref:fe}),(0,A.createElement)("path",{d:"M6 11L6 4L10.5 7.5L6 11Z",fill:ae}))}),Jd=null,ef=null,Qd=null,e2=null,t2=null,n2=null,tf=["color"],gl=(0,A.forwardRef)(function(te,fe){var ne=te.color,ae=ne===void 0?"currentColor":ne,ue=x(te,tf);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ue,{ref:fe}),(0,A.createElement)("path",{d:"M1.90321 7.29677C1.90321 10.341 4.11041 12.4147 6.58893 12.8439C6.87255 12.893 7.06266 13.1627 7.01355 13.4464C6.96444 13.73 6.69471 13.9201 6.41109 13.871C3.49942 13.3668 0.86084 10.9127 0.86084 7.29677C0.860839 5.76009 1.55996 4.55245 2.37639 3.63377C2.96124 2.97568 3.63034 2.44135 4.16846 2.03202L2.53205 2.03202C2.25591 2.03202 2.03205 1.80816 2.03205 1.53202C2.03205 1.25588 2.25591 1.03202 2.53205 1.03202L5.53205 1.03202C5.80819 1.03202 6.03205 1.25588 6.03205 1.53202L6.03205 4.53202C6.03205 4.80816 5.80819 5.03202 5.53205 5.03202C5.25591 5.03202 5.03205 4.80816 5.03205 4.53202L5.03205 2.68645L5.03054 2.68759L5.03045 2.68766L5.03044 2.68767L5.03043 2.68767C4.45896 3.11868 3.76059 3.64538 3.15554 4.3262C2.44102 5.13021 1.90321 6.10154 1.90321 7.29677ZM13.0109 7.70321C13.0109 4.69115 10.8505 2.6296 8.40384 2.17029C8.12093 2.11718 7.93465 1.84479 7.98776 1.56188C8.04087 1.27898 8.31326 1.0927 8.59616 1.14581C11.4704 1.68541 14.0532 4.12605 14.0532 7.70321C14.0532 9.23988 13.3541 10.4475 12.5377 11.3662C11.9528 12.0243 11.2837 12.5586 10.7456 12.968L12.3821 12.968C12.6582 12.968 12.8821 13.1918 12.8821 13.468C12.8821 13.7441 12.6582 13.968 12.3821 13.968L9.38205 13.968C9.10591 13.968 8.88205 13.7441 8.88205 13.468L8.88205 10.468C8.88205 10.1918 9.10591 9.96796 9.38205 9.96796C9.65819 9.96796 9.88205 10.1918 9.88205 10.468L9.88205 12.3135L9.88362 12.3123C10.4551 11.8813 11.1535 11.3546 11.7585 10.6738C12.4731 9.86976 13.0109 8.89844 13.0109 7.70321Z",fill:ae,fillRule:"evenodd",clipRule:"evenodd"}))}),nf=null,rf=null,r2=null,Ku=null,i2=null,o2=null,s2=null,of=null,a2=null,sf=null,af=null,l2=null,c2=null,u2=null,f2=null,d2=null,h2=null,p2=null,m2=null,g2=null,v2=null,C2=null,_2=null,lf=null},36838:function(Jt,Qe,K){"use strict";K.d(Qe,{qA:function(){return Rt}});var A=K(72564),x=K(50959),g=K(65366),_=K(26553);const T=O=>O&&O.isCubeTexture;class k extends _.Mesh{constructor(Ye,pt){var zt,Ot;const Be=T(Ye),ft=((zt=Be?(Ot=Ye.image[0])===null||Ot===void 0?void 0:Ot.width:Ye.image.width)!=null?zt:1024)/4,bt=Math.floor(Math.log2(ft)),j=Math.pow(2,bt),ye=3*Math.max(j,16*7),ge=4*j,ve=[Be?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/ye}`,`#define CUBEUV_TEXEL_HEIGHT ${1/ge}`,`#define CUBEUV_MAX_MIP ${bt}.0`],Ce=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,xe=ve.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,de={map:{value:Ye},height:{value:(pt==null?void 0:pt.height)||15},radius:{value:(pt==null?void 0:pt.radius)||100}},X=new _.IcosahedronGeometry(1,16),ee=new _.ShaderMaterial({uniforms:de,fragmentShader:xe,vertexShader:Ce,side:_.DoubleSide});super(X,ee)}set radius(Ye){this.material.uniforms.radius.value=Ye}get radius(){return this.material.uniforms.radius.value}set height(Ye){this.material.uniforms.height.value=Ye}get height(){return this.material.uniforms.height.value}}class z extends _.DataTextureLoader{constructor(Ye){super(Ye),this.type=_.HalfFloatType}parse(Ye){const ft=function(Q,Le){switch(Q){case 1:console.error("THREE.RGBELoader Read Error: "+(Le||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(Le||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(Le||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(Le||""))}return-1},ge=`
`,ve=function(Q,Le,Ee){Le=Le||1024;let qe=Q.pos,rt=-1,tt=0,St="",at=String.fromCharCode.apply(null,new Uint16Array(Q.subarray(qe,qe+128)));for(;0>(rt=at.indexOf(ge))&&tt<Le&&qe<Q.byteLength;)St+=at,tt+=at.length,qe+=128,at+=String.fromCharCode.apply(null,new Uint16Array(Q.subarray(qe,qe+128)));return-1<rt?(Ee!==!1&&(Q.pos+=tt+rt+1),St+at.slice(0,rt)):!1},Ce=function(Q){const Le=/^#\?(\S+)/,Ee=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,ke=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,qe=/^\s*FORMAT=(\S+)\s*$/,rt=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,tt={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let St,at;if(Q.pos>=Q.byteLength||!(St=ve(Q)))return ft(1,"no header found");if(!(at=St.match(Le)))return ft(3,"bad initial token");for(tt.valid|=1,tt.programtype=at[1],tt.string+=St+`
`;St=ve(Q),St!==!1;){if(tt.string+=St+`
`,St.charAt(0)==="#"){tt.comments+=St+`
`;continue}if((at=St.match(Ee))&&(tt.gamma=parseFloat(at[1])),(at=St.match(ke))&&(tt.exposure=parseFloat(at[1])),(at=St.match(qe))&&(tt.valid|=2,tt.format=at[1]),(at=St.match(rt))&&(tt.valid|=4,tt.height=parseInt(at[1],10),tt.width=parseInt(at[2],10)),tt.valid&2&&tt.valid&4)break}return tt.valid&2?tt.valid&4?tt:ft(3,"missing image size specifier"):ft(3,"missing format specifier")},xe=function(Q,Le,Ee){const ke=Le;if(ke<8||ke>32767||Q[0]!==2||Q[1]!==2||Q[2]&128)return new Uint8Array(Q);if(ke!==(Q[2]<<8|Q[3]))return ft(3,"wrong scanline width");const qe=new Uint8Array(4*Le*Ee);if(!qe.length)return ft(4,"unable to allocate buffer space");let rt=0,tt=0;const St=4*ke,at=new Uint8Array(4),Mt=new Uint8Array(St);let Et=Ee;for(;Et>0&&tt<Q.byteLength;){if(tt+4>Q.byteLength)return ft(1);if(at[0]=Q[tt++],at[1]=Q[tt++],at[2]=Q[tt++],at[3]=Q[tt++],at[0]!=2||at[1]!=2||(at[2]<<8|at[3])!=ke)return ft(3,"bad rgbe scanline format");let Ct=0,We;for(;Ct<St&&tt<Q.byteLength;){We=Q[tt++];const gt=We>128;if(gt&&(We-=128),We===0||Ct+We>St)return ft(3,"bad scanline data");if(gt){const $t=Q[tt++];for(let Gt=0;Gt<We;Gt++)Mt[Ct++]=$t}else Mt.set(Q.subarray(tt,tt+We),Ct),Ct+=We,tt+=We}const Ve=ke;for(let gt=0;gt<Ve;gt++){let $t=0;qe[rt]=Mt[gt+$t],$t+=ke,qe[rt+1]=Mt[gt+$t],$t+=ke,qe[rt+2]=Mt[gt+$t],$t+=ke,qe[rt+3]=Mt[gt+$t],rt+=4}Et--}return qe},de=function(Q,Le,Ee,ke){const qe=Q[Le+3],rt=Math.pow(2,qe-128)/255;Ee[ke+0]=Q[Le+0]*rt,Ee[ke+1]=Q[Le+1]*rt,Ee[ke+2]=Q[Le+2]*rt,Ee[ke+3]=1},X=function(Q,Le,Ee,ke){const qe=Q[Le+3],rt=Math.pow(2,qe-128)/255;Ee[ke+0]=_.DataUtils.toHalfFloat(Math.min(Q[Le+0]*rt,65504)),Ee[ke+1]=_.DataUtils.toHalfFloat(Math.min(Q[Le+1]*rt,65504)),Ee[ke+2]=_.DataUtils.toHalfFloat(Math.min(Q[Le+2]*rt,65504)),Ee[ke+3]=_.DataUtils.toHalfFloat(1)},ee=new Uint8Array(Ye);ee.pos=0;const Pe=Ce(ee);if(Pe!==-1){const Q=Pe.width,Le=Pe.height,Ee=xe(ee.subarray(ee.pos),Q,Le);if(Ee!==-1){let ke,qe,rt;switch(this.type){case _.FloatType:rt=Ee.length/4;const tt=new Float32Array(rt*4);for(let at=0;at<rt;at++)de(Ee,at*4,tt,at*4);ke=tt,qe=_.FloatType;break;case _.HalfFloatType:rt=Ee.length/4;const St=new Uint16Array(rt*4);for(let at=0;at<rt;at++)X(Ee,at*4,St,at*4);ke=St,qe=_.HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:Q,height:Le,data:ke,header:Pe.string,gamma:Pe.gamma,exposure:Pe.exposure,type:qe}}}return null}setDataType(Ye){return this.type=Ye,this}load(Ye,pt,zt,Ot){function Be(Ue,ft){switch(Ue.type){case _.FloatType:case _.HalfFloatType:Ue.encoding=_.LinearEncoding,Ue.minFilter=_.LinearFilter,Ue.magFilter=_.LinearFilter,Ue.generateMipmaps=!1,Ue.flipY=!0;break}pt&&pt(Ue,ft)}return super.load(Ye,Be,zt,Ot)}}const Y={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},le="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/";function oe({files:O=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:Ye="",preset:pt=void 0,encoding:zt=void 0,extensions:Ot}={}){if(pt){if(!(pt in Y))throw new Error("Preset must be one of: "+Object.keys(Y).join(", "));O=Y[pt],Ye=le}const Be=Array.isArray(O),Ue=Be?_.CubeTextureLoader:z,ft=(0,g.D)(Ue,Be?[O]:O,j=>{j.setPath(Ye),Ot&&Ot(j)}),bt=Be?ft[0]:ft;return bt.mapping=Be?_.CubeReflectionMapping:_.EquirectangularReflectionMapping,bt.encoding=(zt!=null?zt:Be)?_.sRGBEncoding:_.LinearEncoding,bt}const be=O=>O.current&&O.current.isScene,Se=O=>be(O)?O.current:O;function F(O,Ye,pt,zt,Ot=0){const Be=Se(Ye||pt),Ue=Be.background,ft=Be.environment,bt=Be.backgroundBlurriness||0;return O!=="only"&&(Be.environment=zt),O&&(Be.background=zt),O&&Be.backgroundBlurriness!==void 0&&(Be.backgroundBlurriness=Ot),()=>{O!=="only"&&(Be.environment=ft),O&&(Be.background=Ue),O&&Be.backgroundBlurriness!==void 0&&(Be.backgroundBlurriness=bt)}}function it({scene:O,background:Ye=!1,blur:pt,map:zt}){const Ot=(0,g.z)(Be=>Be.scene);return x.useLayoutEffect(()=>{if(zt)return F(Ye,O,Ot,zt,pt)},[Ot,O,zt,Ye,pt]),null}function st(Ot){var Be=Ot,{background:O=!1,scene:Ye,blur:pt}=Be,zt=Eo(Be,["background","scene","blur"]);const Ue=oe(zt),ft=(0,g.z)(bt=>bt.scene);return x.useLayoutEffect(()=>F(O,Ye,ft,Ue,pt),[Ue,O,Ye,ft,pt]),null}function nn({children:O,near:Ye=1,far:pt=1e3,resolution:zt=256,frames:Ot=1,map:Be,background:Ue=!1,blur:ft,scene:bt,files:j,path:ye,preset:ge=void 0,extensions:ve}){const Ce=(0,g.z)(Q=>Q.gl),xe=(0,g.z)(Q=>Q.scene),de=x.useRef(null),[X]=x.useState(()=>new _.Scene),ee=x.useMemo(()=>{const Q=new _.WebGLCubeRenderTarget(zt);return Q.texture.type=_.HalfFloatType,Q},[zt]);x.useLayoutEffect(()=>(Ot===1&&de.current.update(Ce,X),F(Ue,bt,xe,ee.texture,ft)),[O,X,ee.texture,bt,xe,Ue,Ot,Ce]);let Pe=1;return(0,g.A)(()=>{(Ot===1/0||Pe<Ot)&&(de.current.update(Ce,X),Pe++)}),x.createElement(x.Fragment,null,(0,g.g)(x.createElement(x.Fragment,null,O,x.createElement("cubeCamera",{ref:de,args:[Ye,pt,ee]}),j||ge?x.createElement(st,{background:!0,files:j,preset:ge,path:ye,extensions:ve}):Be?x.createElement(it,{background:!0,map:Be,extensions:ve}):null),X))}function ht(O){var Ye,pt,zt,Ot;const Be=oe(O),Ue=O.map||Be;x.useMemo(()=>(0,g.e)({GroundProjectedEnvImpl:k}),[]);const ft=x.useMemo(()=>[Ue],[Ue]),bt=(Ye=O.ground)==null?void 0:Ye.height,j=(pt=O.ground)==null?void 0:pt.radius,ye=(zt=(Ot=O.ground)==null?void 0:Ot.scale)!==null&&zt!==void 0?zt:1e3;return x.createElement(x.Fragment,null,x.createElement(it,(0,A.Z)({},O,{map:Ue})),x.createElement("groundProjectedEnvImpl",{args:ft,scale:ye,height:bt,radius:j}))}function Rt(O){return O.ground?x.createElement(ht,O):O.map?x.createElement(it,O):O.children?x.createElement(nn,O):x.createElement(st,O)}},18926:function(Jt,Qe,K){"use strict";K.d(Qe,{z:function(){return le}});var A=K(72564),x=K(65366),g=K(50959),_=K(45389),T=K(26553);const k=(oe,be)=>(oe%be+be)%be;class z extends T.EventDispatcher{constructor(be,Se){super(),(0,_.Z)(this,"object",void 0),(0,_.Z)(this,"domElement",void 0),(0,_.Z)(this,"enabled",!0),(0,_.Z)(this,"target",new T.Vector3),(0,_.Z)(this,"minDistance",0),(0,_.Z)(this,"maxDistance",1/0),(0,_.Z)(this,"minZoom",0),(0,_.Z)(this,"maxZoom",1/0),(0,_.Z)(this,"minPolarAngle",0),(0,_.Z)(this,"maxPolarAngle",Math.PI),(0,_.Z)(this,"minAzimuthAngle",-1/0),(0,_.Z)(this,"maxAzimuthAngle",1/0),(0,_.Z)(this,"enableDamping",!1),(0,_.Z)(this,"dampingFactor",.05),(0,_.Z)(this,"enableZoom",!0),(0,_.Z)(this,"zoomSpeed",1),(0,_.Z)(this,"enableRotate",!0),(0,_.Z)(this,"rotateSpeed",1),(0,_.Z)(this,"enablePan",!0),(0,_.Z)(this,"panSpeed",1),(0,_.Z)(this,"screenSpacePanning",!0),(0,_.Z)(this,"keyPanSpeed",7),(0,_.Z)(this,"autoRotate",!1),(0,_.Z)(this,"autoRotateSpeed",2),(0,_.Z)(this,"reverseOrbit",!1),(0,_.Z)(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),(0,_.Z)(this,"mouseButtons",{LEFT:T.MOUSE.ROTATE,MIDDLE:T.MOUSE.DOLLY,RIGHT:T.MOUSE.PAN}),(0,_.Z)(this,"touches",{ONE:T.TOUCH.ROTATE,TWO:T.TOUCH.DOLLY_PAN}),(0,_.Z)(this,"target0",void 0),(0,_.Z)(this,"position0",void 0),(0,_.Z)(this,"zoom0",void 0),(0,_.Z)(this,"_domElementKeyEvents",null),(0,_.Z)(this,"getPolarAngle",void 0),(0,_.Z)(this,"getAzimuthalAngle",void 0),(0,_.Z)(this,"setPolarAngle",void 0),(0,_.Z)(this,"setAzimuthalAngle",void 0),(0,_.Z)(this,"getDistance",void 0),(0,_.Z)(this,"listenToKeyEvents",void 0),(0,_.Z)(this,"saveState",void 0),(0,_.Z)(this,"reset",void 0),(0,_.Z)(this,"update",void 0),(0,_.Z)(this,"connect",void 0),(0,_.Z)(this,"dispose",void 0),this.object=be,this.domElement=Se,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof T.PerspectiveCamera?this.object.zoom:1,this.getPolarAngle=()=>Ye.phi,this.getAzimuthalAngle=()=>Ye.theta,this.setPolarAngle=pe=>{let De=k(pe,2*Math.PI),lt=Ye.phi;lt<0&&(lt+=2*Math.PI),De<0&&(De+=2*Math.PI);let Tt=Math.abs(De-lt);2*Math.PI-Tt<Tt&&(De<lt?De+=2*Math.PI:lt+=2*Math.PI),pt.phi=De-lt,F.update()},this.setAzimuthalAngle=pe=>{let De=k(pe,2*Math.PI),lt=Ye.theta;lt<0&&(lt+=2*Math.PI),De<0&&(De+=2*Math.PI);let Tt=Math.abs(De-lt);2*Math.PI-Tt<Tt&&(De<lt?De+=2*Math.PI:lt+=2*Math.PI),pt.theta=De-lt,F.update()},this.getDistance=()=>F.object.position.distanceTo(F.target),this.listenToKeyEvents=pe=>{pe.addEventListener("keydown",me),this._domElementKeyEvents=pe},this.saveState=()=>{F.target0.copy(F.target),F.position0.copy(F.object.position),F.zoom0=F.object instanceof T.PerspectiveCamera?F.object.zoom:1},this.reset=()=>{F.target.copy(F.target0),F.object.position.copy(F.position0),F.object instanceof T.PerspectiveCamera&&(F.object.zoom=F.zoom0,F.object.updateProjectionMatrix()),F.dispatchEvent(it),F.update(),Rt=ht.NONE},this.update=(()=>{const pe=new T.Vector3,De=new T.Quaternion().setFromUnitVectors(be.up,new T.Vector3(0,1,0)),lt=De.clone().invert(),Tt=new T.Vector3,Wt=new T.Quaternion,Cn=2*Math.PI;return function(){const Gn=F.object.position;pe.copy(Gn).sub(F.target),pe.applyQuaternion(De),Ye.setFromVector3(pe),F.autoRotate&&Rt===ht.NONE&&Q(ee()),F.enableDamping?(Ye.theta+=pt.theta*F.dampingFactor,Ye.phi+=pt.phi*F.dampingFactor):(Ye.theta+=pt.theta,Ye.phi+=pt.phi);let vr=F.minAzimuthAngle,Mr=F.maxAzimuthAngle;return isFinite(vr)&&isFinite(Mr)&&(vr<-Math.PI?vr+=Cn:vr>Math.PI&&(vr-=Cn),Mr<-Math.PI?Mr+=Cn:Mr>Math.PI&&(Mr-=Cn),vr<=Mr?Ye.theta=Math.max(vr,Math.min(Mr,Ye.theta)):Ye.theta=Ye.theta>(vr+Mr)/2?Math.max(vr,Ye.theta):Math.min(Mr,Ye.theta)),Ye.phi=Math.max(F.minPolarAngle,Math.min(F.maxPolarAngle,Ye.phi)),Ye.makeSafe(),Ye.radius*=zt,Ye.radius=Math.max(F.minDistance,Math.min(F.maxDistance,Ye.radius)),F.enableDamping===!0?F.target.addScaledVector(Ot,F.dampingFactor):F.target.add(Ot),pe.setFromSpherical(Ye),pe.applyQuaternion(lt),Gn.copy(F.target).add(pe),F.object.lookAt(F.target),F.enableDamping===!0?(pt.theta*=1-F.dampingFactor,pt.phi*=1-F.dampingFactor,Ot.multiplyScalar(1-F.dampingFactor)):(pt.set(0,0,0),Ot.set(0,0,0)),zt=1,Be||Tt.distanceToSquared(F.object.position)>O||8*(1-Wt.dot(F.object.quaternion))>O?(F.dispatchEvent(it),Tt.copy(F.object.position),Wt.copy(F.object.quaternion),Be=!1,!0):!1}})(),this.connect=pe=>{pe===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),F.domElement=pe,F.domElement.style.touchAction="none",F.domElement.addEventListener("contextmenu",et),F.domElement.addEventListener("pointerdown",Oe),F.domElement.addEventListener("pointercancel",Nt),F.domElement.addEventListener("wheel",Pn)},this.dispose=()=>{var pe,De,lt,Tt,Wt,Cn;(pe=F.domElement)===null||pe===void 0||pe.removeEventListener("contextmenu",et),(De=F.domElement)===null||De===void 0||De.removeEventListener("pointerdown",Oe),(lt=F.domElement)===null||lt===void 0||lt.removeEventListener("pointercancel",Nt),(Tt=F.domElement)===null||Tt===void 0||Tt.removeEventListener("wheel",Pn),(Wt=F.domElement)===null||Wt===void 0||Wt.ownerDocument.removeEventListener("pointermove",Ke),(Cn=F.domElement)===null||Cn===void 0||Cn.ownerDocument.removeEventListener("pointerup",Xe),F._domElementKeyEvents!==null&&F._domElementKeyEvents.removeEventListener("keydown",me)};const F=this,it={type:"change"},st={type:"start"},nn={type:"end"},ht={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let Rt=ht.NONE;const O=1e-6,Ye=new T.Spherical,pt=new T.Spherical;let zt=1;const Ot=new T.Vector3;let Be=!1;const Ue=new T.Vector2,ft=new T.Vector2,bt=new T.Vector2,j=new T.Vector2,ye=new T.Vector2,ge=new T.Vector2,ve=new T.Vector2,Ce=new T.Vector2,xe=new T.Vector2,de=[],X={};function ee(){return 2*Math.PI/60/60*F.autoRotateSpeed}function Pe(){return Math.pow(.95,F.zoomSpeed)}function Q(pe){F.reverseOrbit?pt.theta+=pe:pt.theta-=pe}function Le(pe){F.reverseOrbit?pt.phi+=pe:pt.phi-=pe}const Ee=(()=>{const pe=new T.Vector3;return function(lt,Tt){pe.setFromMatrixColumn(Tt,0),pe.multiplyScalar(-lt),Ot.add(pe)}})(),ke=(()=>{const pe=new T.Vector3;return function(lt,Tt){F.screenSpacePanning===!0?pe.setFromMatrixColumn(Tt,1):(pe.setFromMatrixColumn(Tt,0),pe.crossVectors(F.object.up,pe)),pe.multiplyScalar(lt),Ot.add(pe)}})(),qe=(()=>{const pe=new T.Vector3;return function(lt,Tt){const Wt=F.domElement;if(Wt&&F.object instanceof T.PerspectiveCamera&&F.object.isPerspectiveCamera){const Cn=F.object.position;pe.copy(Cn).sub(F.target);let Bn=pe.length();Bn*=Math.tan(F.object.fov/2*Math.PI/180),Ee(2*lt*Bn/Wt.clientHeight,F.object.matrix),ke(2*Tt*Bn/Wt.clientHeight,F.object.matrix)}else Wt&&F.object instanceof T.OrthographicCamera&&F.object.isOrthographicCamera?(Ee(lt*(F.object.right-F.object.left)/F.object.zoom/Wt.clientWidth,F.object.matrix),ke(Tt*(F.object.top-F.object.bottom)/F.object.zoom/Wt.clientHeight,F.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),F.enablePan=!1)}})();function rt(pe){F.object instanceof T.PerspectiveCamera&&F.object.isPerspectiveCamera?zt/=pe:F.object instanceof T.OrthographicCamera&&F.object.isOrthographicCamera?(F.object.zoom=Math.max(F.minZoom,Math.min(F.maxZoom,F.object.zoom*pe)),F.object.updateProjectionMatrix(),Be=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),F.enableZoom=!1)}function tt(pe){F.object instanceof T.PerspectiveCamera&&F.object.isPerspectiveCamera?zt*=pe:F.object instanceof T.OrthographicCamera&&F.object.isOrthographicCamera?(F.object.zoom=Math.max(F.minZoom,Math.min(F.maxZoom,F.object.zoom/pe)),F.object.updateProjectionMatrix(),Be=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),F.enableZoom=!1)}function St(pe){Ue.set(pe.clientX,pe.clientY)}function at(pe){ve.set(pe.clientX,pe.clientY)}function Mt(pe){j.set(pe.clientX,pe.clientY)}function Et(pe){ft.set(pe.clientX,pe.clientY),bt.subVectors(ft,Ue).multiplyScalar(F.rotateSpeed);const De=F.domElement;De&&(Q(2*Math.PI*bt.x/De.clientHeight),Le(2*Math.PI*bt.y/De.clientHeight)),Ue.copy(ft),F.update()}function Ct(pe){Ce.set(pe.clientX,pe.clientY),xe.subVectors(Ce,ve),xe.y>0?rt(Pe()):xe.y<0&&tt(Pe()),ve.copy(Ce),F.update()}function We(pe){ye.set(pe.clientX,pe.clientY),ge.subVectors(ye,j).multiplyScalar(F.panSpeed),qe(ge.x,ge.y),j.copy(ye),F.update()}function Ve(pe){pe.deltaY<0?tt(Pe()):pe.deltaY>0&&rt(Pe()),F.update()}function gt(pe){let De=!1;switch(pe.code){case F.keys.UP:qe(0,F.keyPanSpeed),De=!0;break;case F.keys.BOTTOM:qe(0,-F.keyPanSpeed),De=!0;break;case F.keys.LEFT:qe(F.keyPanSpeed,0),De=!0;break;case F.keys.RIGHT:qe(-F.keyPanSpeed,0),De=!0;break}De&&(pe.preventDefault(),F.update())}function $t(){if(de.length==1)Ue.set(de[0].pageX,de[0].pageY);else{const pe=.5*(de[0].pageX+de[1].pageX),De=.5*(de[0].pageY+de[1].pageY);Ue.set(pe,De)}}function Gt(){if(de.length==1)j.set(de[0].pageX,de[0].pageY);else{const pe=.5*(de[0].pageX+de[1].pageX),De=.5*(de[0].pageY+de[1].pageY);j.set(pe,De)}}function Yt(){const pe=de[0].pageX-de[1].pageX,De=de[0].pageY-de[1].pageY,lt=Math.sqrt(pe*pe+De*De);ve.set(0,lt)}function yn(){F.enableZoom&&Yt(),F.enablePan&&Gt()}function rn(){F.enableZoom&&Yt(),F.enableRotate&&$t()}function sn(pe){if(de.length==1)ft.set(pe.pageX,pe.pageY);else{const lt=Vt(pe),Tt=.5*(pe.pageX+lt.x),Wt=.5*(pe.pageY+lt.y);ft.set(Tt,Wt)}bt.subVectors(ft,Ue).multiplyScalar(F.rotateSpeed);const De=F.domElement;De&&(Q(2*Math.PI*bt.x/De.clientHeight),Le(2*Math.PI*bt.y/De.clientHeight)),Ue.copy(ft)}function Mn(pe){if(de.length==1)ye.set(pe.pageX,pe.pageY);else{const De=Vt(pe),lt=.5*(pe.pageX+De.x),Tt=.5*(pe.pageY+De.y);ye.set(lt,Tt)}ge.subVectors(ye,j).multiplyScalar(F.panSpeed),qe(ge.x,ge.y),j.copy(ye)}function xt(pe){const De=Vt(pe),lt=pe.pageX-De.x,Tt=pe.pageY-De.y,Wt=Math.sqrt(lt*lt+Tt*Tt);Ce.set(0,Wt),xe.set(0,Math.pow(Ce.y/ve.y,F.zoomSpeed)),rt(xe.y),ve.copy(Ce)}function he(pe){F.enableZoom&&xt(pe),F.enablePan&&Mn(pe)}function Me(pe){F.enableZoom&&xt(pe),F.enableRotate&&sn(pe)}function Oe(pe){if(F.enabled!==!1){if(de.length===0){var De,lt;(De=F.domElement)===null||De===void 0||De.ownerDocument.addEventListener("pointermove",Ke),(lt=F.domElement)===null||lt===void 0||lt.ownerDocument.addEventListener("pointerup",Xe)}Ut(pe),pe.pointerType==="touch"?Je(pe):Qt(pe)}}function Ke(pe){F.enabled!==!1&&(pe.pointerType==="touch"?nt(pe):Dn(pe))}function Xe(pe){if(pn(pe),de.length===0){var De,lt,Tt;(De=F.domElement)===null||De===void 0||De.releasePointerCapture(pe.pointerId),(lt=F.domElement)===null||lt===void 0||lt.ownerDocument.removeEventListener("pointermove",Ke),(Tt=F.domElement)===null||Tt===void 0||Tt.ownerDocument.removeEventListener("pointerup",Xe)}F.dispatchEvent(nn),Rt=ht.NONE}function Nt(pe){pn(pe)}function Qt(pe){let De;switch(pe.button){case 0:De=F.mouseButtons.LEFT;break;case 1:De=F.mouseButtons.MIDDLE;break;case 2:De=F.mouseButtons.RIGHT;break;default:De=-1}switch(De){case T.MOUSE.DOLLY:if(F.enableZoom===!1)return;at(pe),Rt=ht.DOLLY;break;case T.MOUSE.ROTATE:if(pe.ctrlKey||pe.metaKey||pe.shiftKey){if(F.enablePan===!1)return;Mt(pe),Rt=ht.PAN}else{if(F.enableRotate===!1)return;St(pe),Rt=ht.ROTATE}break;case T.MOUSE.PAN:if(pe.ctrlKey||pe.metaKey||pe.shiftKey){if(F.enableRotate===!1)return;St(pe),Rt=ht.ROTATE}else{if(F.enablePan===!1)return;Mt(pe),Rt=ht.PAN}break;default:Rt=ht.NONE}Rt!==ht.NONE&&F.dispatchEvent(st)}function Dn(pe){if(F.enabled!==!1)switch(Rt){case ht.ROTATE:if(F.enableRotate===!1)return;Et(pe);break;case ht.DOLLY:if(F.enableZoom===!1)return;Ct(pe);break;case ht.PAN:if(F.enablePan===!1)return;We(pe);break}}function Pn(pe){F.enabled===!1||F.enableZoom===!1||Rt!==ht.NONE&&Rt!==ht.ROTATE||(pe.preventDefault(),F.dispatchEvent(st),Ve(pe),F.dispatchEvent(nn))}function me(pe){F.enabled===!1||F.enablePan===!1||gt(pe)}function Je(pe){switch(an(pe),de.length){case 1:switch(F.touches.ONE){case T.TOUCH.ROTATE:if(F.enableRotate===!1)return;$t(),Rt=ht.TOUCH_ROTATE;break;case T.TOUCH.PAN:if(F.enablePan===!1)return;Gt(),Rt=ht.TOUCH_PAN;break;default:Rt=ht.NONE}break;case 2:switch(F.touches.TWO){case T.TOUCH.DOLLY_PAN:if(F.enableZoom===!1&&F.enablePan===!1)return;yn(),Rt=ht.TOUCH_DOLLY_PAN;break;case T.TOUCH.DOLLY_ROTATE:if(F.enableZoom===!1&&F.enableRotate===!1)return;rn(),Rt=ht.TOUCH_DOLLY_ROTATE;break;default:Rt=ht.NONE}break;default:Rt=ht.NONE}Rt!==ht.NONE&&F.dispatchEvent(st)}function nt(pe){switch(an(pe),Rt){case ht.TOUCH_ROTATE:if(F.enableRotate===!1)return;sn(pe),F.update();break;case ht.TOUCH_PAN:if(F.enablePan===!1)return;Mn(pe),F.update();break;case ht.TOUCH_DOLLY_PAN:if(F.enableZoom===!1&&F.enablePan===!1)return;he(pe),F.update();break;case ht.TOUCH_DOLLY_ROTATE:if(F.enableZoom===!1&&F.enableRotate===!1)return;Me(pe),F.update();break;default:Rt=ht.NONE}}function et(pe){F.enabled!==!1&&pe.preventDefault()}function Ut(pe){de.push(pe)}function pn(pe){delete X[pe.pointerId];for(let De=0;De<de.length;De++)if(de[De].pointerId==pe.pointerId){de.splice(De,1);return}}function an(pe){let De=X[pe.pointerId];De===void 0&&(De=new T.Vector2,X[pe.pointerId]=De),De.set(pe.pageX,pe.pageY)}function Vt(pe){const De=pe.pointerId===de[0].pointerId?de[1]:de[0];return X[De.pointerId]}Se!==void 0&&this.connect(Se),this.update()}}class Y extends null{constructor(be,Se){super(be,Se),this.screenSpacePanning=!1,this.mouseButtons.LEFT=MOUSE.PAN,this.mouseButtons.RIGHT=MOUSE.ROTATE,this.touches.ONE=TOUCH.PAN,this.touches.TWO=TOUCH.DOLLY_ROTATE}}const le=g.forwardRef((Ye,O)=>{var pt=Ye,{makeDefault:oe,camera:be,regress:Se,domElement:F,enableDamping:it=!0,onChange:st,onStart:nn,onEnd:ht}=pt,Rt=Eo(pt,["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"]);const zt=(0,x.z)(xe=>xe.invalidate),Ot=(0,x.z)(xe=>xe.camera),Be=(0,x.z)(xe=>xe.gl),Ue=(0,x.z)(xe=>xe.events),ft=(0,x.z)(xe=>xe.setEvents),bt=(0,x.z)(xe=>xe.set),j=(0,x.z)(xe=>xe.get),ye=(0,x.z)(xe=>xe.performance),ge=be||Ot,ve=F||Ue.connected||Be.domElement,Ce=g.useMemo(()=>new z(ge),[ge]);return(0,x.A)(()=>{Ce.enabled&&Ce.update()},-1),g.useEffect(()=>(Ce.connect(ve),()=>void Ce.dispose()),[ve,Se,Ce,zt]),g.useEffect(()=>{const xe=ee=>{zt(),Se&&ye.regress(),st&&st(ee)},de=ee=>{nn&&nn(ee)},X=ee=>{ht&&ht(ee)};return Ce.addEventListener("change",xe),Ce.addEventListener("start",de),Ce.addEventListener("end",X),()=>{Ce.removeEventListener("start",de),Ce.removeEventListener("end",X),Ce.removeEventListener("change",xe)}},[st,nn,ht,Ce,zt,ft]),g.useEffect(()=>{if(oe){const xe=j().controls;return bt({controls:Ce}),()=>bt({controls:xe})}},[oe,Ce]),g.createElement("primitive",(0,A.Z)({ref:O,object:Ce,enableDamping:it},Rt))})},99658:function(Jt,Qe,K){"use strict";K.d(Qe,{H:function(){return ft}});var A=K(72564),x=K(50959),g=K(36838),_=K(26553),T=K(65366);const k={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},z={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `},Y=x.forwardRef((ke,Ee)=>{var qe=ke,{scale:bt=10,frames:j=1/0,opacity:ye=1,width:ge=1,height:ve=1,blur:Ce=1,far:xe=10,resolution:de=512,smooth:X=!0,color:ee="#000000",depthWrite:Pe=!1,renderOrder:Q}=qe,Le=Eo(qe,["scale","frames","opacity","width","height","blur","far","resolution","smooth","color","depthWrite","renderOrder"]);const rt=x.useRef(null),tt=(0,T.z)(sn=>sn.scene),St=(0,T.z)(sn=>sn.gl),at=x.useRef(null);ge=ge*(Array.isArray(bt)?bt[0]:bt||1),ve=ve*(Array.isArray(bt)?bt[1]:bt||1);const[Mt,Et,Ct,We,Ve,gt,$t]=x.useMemo(()=>{const sn=new _.WebGLRenderTarget(de,de),Mn=new _.WebGLRenderTarget(de,de);Mn.texture.generateMipmaps=sn.texture.generateMipmaps=!1;const xt=new _.PlaneGeometry(ge,ve).rotateX(Math.PI/2),he=new _.Mesh(xt),Me=new _.MeshDepthMaterial;Me.depthTest=Me.depthWrite=!1,Me.onBeforeCompile=Xe=>{Xe.uniforms=Ar(tn({},Xe.uniforms),{ucolor:{value:new _.Color(ee)}}),Xe.fragmentShader=Xe.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),Xe.fragmentShader=Xe.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const Oe=new _.ShaderMaterial(k),Ke=new _.ShaderMaterial(z);return Ke.depthTest=Oe.depthTest=!1,[sn,xt,Me,he,Oe,Ke,Mn]},[de,ge,ve,bt,ee]),Gt=sn=>{We.visible=!0,We.material=Ve,Ve.uniforms.tDiffuse.value=Mt.texture,Ve.uniforms.h.value=sn*1/256,St.setRenderTarget($t),St.render(We,at.current),We.material=gt,gt.uniforms.tDiffuse.value=$t.texture,gt.uniforms.v.value=sn*1/256,St.setRenderTarget(Mt),St.render(We,at.current),We.visible=!1};let Yt=0,yn,rn;return(0,T.A)(()=>{at.current&&(j===1/0||Yt<j)&&(Yt++,yn=tt.background,rn=tt.overrideMaterial,rt.current.visible=!1,tt.background=null,tt.overrideMaterial=Ct,St.setRenderTarget(Mt),St.render(tt,at.current),Gt(Ce),X&&Gt(Ce*.4),St.setRenderTarget(null),rt.current.visible=!0,tt.overrideMaterial=rn,tt.background=yn)}),x.useImperativeHandle(Ee,()=>rt.current,[]),x.createElement("group",(0,A.Z)({"rotation-x":Math.PI/2},Le,{ref:rt}),x.createElement("mesh",{renderOrder:Q,geometry:Et,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},x.createElement("meshBasicMaterial",{transparent:!0,map:Mt.texture,opacity:ye,depthWrite:Pe})),x.createElement("orthographicCamera",{ref:at,args:[-ge/2,ge/2,ve/2,-ve/2,0,xe]}))}),le=x.forwardRef(function(tt,rt){var St=tt,{children:j,disable:ye,disableX:ge,disableY:ve,disableZ:Ce,left:xe,right:de,top:X,bottom:ee,front:Pe,back:Q,onCentered:Le,precise:Ee=!0,cacheKey:ke=0}=St,qe=Eo(St,["children","disable","disableX","disableY","disableZ","left","right","top","bottom","front","back","onCentered","precise","cacheKey"]);const at=x.useRef(null),Mt=x.useRef(null),Et=x.useRef(null);return x.useLayoutEffect(()=>{Mt.current.matrixWorld.identity();const Ct=new _.Box3().setFromObject(Et.current,Ee),We=new _.Vector3,Ve=new _.Sphere,gt=Ct.max.x-Ct.min.x,$t=Ct.max.y-Ct.min.y,Gt=Ct.max.z-Ct.min.z;Ct.getCenter(We),Ct.getBoundingSphere(Ve);const Yt=X?$t/2:ee?-$t/2:0,yn=xe?-gt/2:de?gt/2:0,rn=Pe?Gt/2:Q?-Gt/2:0;Mt.current.position.set(ye||ge?0:-We.x+yn,ye||ve?0:-We.y+Yt,ye||Ce?0:-We.z+rn),typeof Le!="undefined"&&Le({parent:at.current.parent,container:at.current,width:gt,height:$t,depth:Gt,boundingBox:Ct,boundingSphere:Ve,center:We,verticalAlignment:Yt,horizontalAlignment:yn,depthAlignment:rn})},[ke,Le,X,xe,Pe,ye,ge,ve,Ce,Ee,de,ee,Q]),x.useImperativeHandle(rt,()=>at.current,[]),x.createElement("group",(0,A.Z)({ref:at},qe),x.createElement("group",{ref:Mt},x.createElement("group",{ref:Et},j)))});function oe(bt,j,ye,ge){const ve=class extends _.ShaderMaterial{constructor(xe={}){const de=Object.entries(bt);super({uniforms:de.reduce((X,[ee,Pe])=>{const Q=_.UniformsUtils.clone({[ee]:{value:Pe}});return tn(tn({},X),Q)},{}),vertexShader:j,fragmentShader:ye});d5(this,"key","");de.forEach(([X])=>Object.defineProperty(this,X,{get:()=>this.uniforms[X].value,set:ee=>this.uniforms[X].value=ee})),Object.assign(this,xe),ge&&ge(this)}};return ve.key=_.MathUtils.generateUUID(),ve}const be=oe({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }");function Se(bt){return bt.isLight}function F(bt){return!!bt.geometry}const it=x.createContext(null),st=oe({color:new _.Color,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <encodings_fragment>
   }`),nn=x.forwardRef((ke,Ee)=>{var qe=ke,{children:bt,temporal:j,frames:ye=40,limit:ge=1/0,blend:ve=20,scale:Ce=10,opacity:xe=1,alphaTest:de=.75,color:X="black",colorBlend:ee=2,resolution:Pe=1024,toneMapped:Q=!0}=qe,Le=Eo(qe,["children","temporal","frames","limit","blend","scale","opacity","alphaTest","color","colorBlend","resolution","toneMapped"]);(0,T.e)({SoftShadowMaterial:st});const rt=(0,T.z)(Ve=>Ve.gl),tt=(0,T.z)(Ve=>Ve.scene),St=(0,T.z)(Ve=>Ve.camera),at=(0,T.z)(Ve=>Ve.invalidate),Mt=x.useRef(null),Et=x.useRef(null),[Ct]=x.useState(()=>new Rt(rt,tt,Pe));x.useLayoutEffect(()=>{Ct.configure(Mt.current)},[]);const We=x.useMemo(()=>({lights:new Map,temporal:!!j,frames:Math.max(2,ye),blend:Math.max(2,ye===1/0?ve:ye),count:0,getMesh:()=>Mt.current,reset:()=>{Ct.clear();const Ve=Mt.current.material;Ve.opacity=0,Ve.alphaTest=0,We.count=0},update:(Ve=1)=>{const gt=Mt.current.material;We.temporal?(gt.opacity=Math.min(xe,gt.opacity+xe/We.blend),gt.alphaTest=Math.min(de,gt.alphaTest+de/We.blend)):(gt.opacity=xe,gt.alphaTest=de),Et.current.visible=!0,Ct.prepare();for(let $t=0;$t<Ve;$t++)We.lights.forEach(Gt=>Gt.update()),Ct.update(St,We.blend);Et.current.visible=!1,Ct.finish()}}),[Ct,St,tt,j,ye,ve,xe,de]);return x.useLayoutEffect(()=>{We.reset(),!We.temporal&&We.frames!==1/0&&We.update(We.blend)}),x.useImperativeHandle(Ee,()=>We,[We]),(0,T.A)(()=>{(We.temporal||We.frames===1/0)&&We.count<We.frames&&We.count<ge&&(at(),We.update(),We.count++)}),x.createElement("group",Le,x.createElement("group",{traverse:()=>null,ref:Et},x.createElement(it.Provider,{value:We},bt)),x.createElement("mesh",{receiveShadow:!0,ref:Mt,scale:Ce,rotation:[-Math.PI/2,0,0]},x.createElement("planeGeometry",null),x.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:Q,color:X,blend:ee,map:Ct.progressiveLightMap2.texture})))}),ht=x.forwardRef((ke,Ee)=>{var qe=ke,{castShadow:bt=!0,bias:j=.001,mapSize:ye=512,size:ge=5,near:ve=.5,far:Ce=500,frames:xe=1,position:de=[0,0,0],radius:X=1,amount:ee=8,intensity:Pe=1,ambient:Q=.5}=qe,Le=Eo(qe,["castShadow","bias","mapSize","size","near","far","frames","position","radius","amount","intensity","ambient"]);const rt=x.useRef(null),tt=new _.Vector3(...de).length(),St=x.useContext(it),at=x.useCallback(()=>{let Et;if(rt.current)for(let Ct=0;Ct<rt.current.children.length;Ct++)if(Et=rt.current.children[Ct],Math.random()>Q)Et.position.set(de[0]+_.MathUtils.randFloatSpread(X),de[1]+_.MathUtils.randFloatSpread(X),de[2]+_.MathUtils.randFloatSpread(X));else{let We=Math.acos(2*Math.random()-1)-Math.PI/2,Ve=2*Math.PI*Math.random();Et.position.set(Math.cos(We)*Math.cos(Ve)*tt,Math.abs(Math.cos(We)*Math.sin(Ve)*tt),Math.sin(We)*tt)}},[X,Q,tt,...de]),Mt=x.useMemo(()=>({update:at}),[at]);return x.useImperativeHandle(Ee,()=>Mt,[Mt]),x.useLayoutEffect(()=>{const Et=rt.current;return St&&St.lights.set(Et.uuid,Mt),()=>void St.lights.delete(Et.uuid)},[St,Mt]),x.createElement("group",(0,A.Z)({ref:rt},Le),Array.from({length:ee},(Et,Ct)=>x.createElement("directionalLight",{key:Ct,castShadow:bt,"shadow-bias":j,"shadow-mapSize":[ye,ye],intensity:Pe/ee},x.createElement("orthographicCamera",{attach:"shadow-camera",args:[-ge,ge,ge,-ge,ve,Ce]}))))});class Rt{constructor(j,ye,ge=1024){this.renderer=j,this.res=ge,this.scene=ye,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new _.Color,this.clearAlpha=0;const ve=/(Android|iPad|iPhone|iPod)/g.test(navigator.userAgent)?_.HalfFloatType:_.FloatType;this.progressiveLightMap1=new _.WebGLRenderTarget(this.res,this.res,{type:ve}),this.progressiveLightMap2=new _.WebGLRenderTarget(this.res,this.res,{type:ve}),this.discardMat=new be,this.targetMat=new _.MeshLambertMaterial({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=Ce=>{Ce.vertexShader=`varying vec2 vUv;
`+Ce.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";const xe=Ce.fragmentShader.indexOf("void main() {");Ce.fragmentShader=`varying vec2 vUv;
`+Ce.fragmentShader.slice(0,xe)+`uniform sampler2D previousShadowMap;
	uniform float averagingWindow;
`+Ce.fragmentShader.slice(xe-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,Ce.uniforms.previousShadowMap=this.previousShadowMap,Ce.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(j=>{F(j)?this.meshes.push({object:j,material:j.material}):Se(j)&&this.lights.push({object:j,intensity:j.intensity})})}prepare(){this.lights.forEach(j=>j.object.intensity=0),this.meshes.forEach(j=>j.object.material=this.discardMat)}finish(){this.lights.forEach(j=>j.object.intensity=j.intensity),this.meshes.forEach(j=>j.object.material=j.material)}configure(j){this.object=j}update(j,ye=100){if(!this.object)return;this.averagingWindow.value=ye,this.object.material=this.targetMat;const ge=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,ve=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,Ce=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(ge),this.previousShadowMap.value=ve.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,j),this.renderer.setRenderTarget(null),this.scene.background=Ce}}const O=bt=>bt&&bt.isOrthographicCamera,Ye=bt=>bt&&bt.isBox3,pt=x.createContext(null);function zt({children:bt,damping:j=6,fit:ye,clip:ge,observe:ve,margin:Ce=1.2,eps:xe=.01,onFit:de}){const X=x.useRef(null),{camera:ee,invalidate:Pe,size:Q,controls:Le}=(0,T.z)(),Ee=Le,ke=x.useRef(de);ke.current=de;function qe(Ct,We){return Math.abs(Ct.x-We.x)<xe&&Math.abs(Ct.y-We.y)<xe&&Math.abs(Ct.z-We.z)<xe}function rt(Ct,We,Ve,gt){Ct.x=_.MathUtils.damp(Ct.x,We.x,Ve,gt),Ct.y=_.MathUtils.damp(Ct.y,We.y,Ve,gt),Ct.z=_.MathUtils.damp(Ct.z,We.z,Ve,gt)}const[tt]=x.useState(()=>({animating:!1,focus:new _.Vector3,camera:new _.Vector3,zoom:1})),[St]=x.useState(()=>({focus:new _.Vector3,camera:new _.Vector3,zoom:1})),[at]=x.useState(()=>new _.Box3),Mt=x.useMemo(()=>{function Ct(){const We=at.getSize(new _.Vector3),Ve=at.getCenter(new _.Vector3),gt=Math.max(We.x,We.y,We.z),$t=O(ee)?gt*4:gt/(2*Math.atan(Math.PI*ee.fov/360)),Gt=O(ee)?gt*4:$t/ee.aspect,Yt=Ce*Math.max($t,Gt);return{box:at,size:We,center:Ve,distance:Yt}}return{getSize:Ct,refresh(We){if(Ye(We))at.copy(We);else{const Ve=We||X.current;Ve.updateWorldMatrix(!0,!0),at.setFromObject(Ve)}if(at.isEmpty()){const Ve=ee.position.length()||10;at.setFromCenterAndSize(new _.Vector3,new _.Vector3(Ve,Ve,Ve))}if((Ee==null?void 0:Ee.constructor.name)==="OrthographicTrackballControls"){const{distance:Ve}=Ct(),gt=ee.position.clone().sub(Ee.target).normalize().multiplyScalar(Ve),$t=Ee.target.clone().add(gt);ee.position.copy($t)}return this},clip(){const{distance:We}=Ct();return Ee&&(Ee.maxDistance=We*10),ee.near=We/100,ee.far=We*100,ee.updateProjectionMatrix(),Ee&&Ee.update(),Pe(),this},to({position:We,target:Ve}){tt.camera.copy(ee.position);const{center:gt}=Ct();return St.camera.set(...We),Ve?St.focus.set(...Ve):St.focus.copy(gt),j?tt.animating=!0:ee.position.set(...We),this},fit(){tt.camera.copy(ee.position),Ee&&tt.focus.copy(Ee.target);const{center:We,distance:Ve}=Ct(),gt=We.clone().sub(ee.position).normalize().multiplyScalar(Ve);if(St.camera.copy(We).sub(gt),St.focus.copy(We),O(ee)){tt.zoom=ee.zoom;let $t=0,Gt=0;const Yt=[new _.Vector3(at.min.x,at.min.y,at.min.z),new _.Vector3(at.min.x,at.max.y,at.min.z),new _.Vector3(at.min.x,at.min.y,at.max.z),new _.Vector3(at.min.x,at.max.y,at.max.z),new _.Vector3(at.max.x,at.max.y,at.max.z),new _.Vector3(at.max.x,at.max.y,at.min.z),new _.Vector3(at.max.x,at.min.y,at.max.z),new _.Vector3(at.max.x,at.min.y,at.min.z)];We.applyMatrix4(ee.matrixWorldInverse);for(const sn of Yt)sn.applyMatrix4(ee.matrixWorldInverse),$t=Math.max($t,Math.abs(sn.y-We.y)),Gt=Math.max(Gt,Math.abs(sn.x-We.x));$t*=2,Gt*=2;const yn=(ee.top-ee.bottom)/$t,rn=(ee.right-ee.left)/Gt;St.zoom=Math.min(yn,rn)/Ce,j||(ee.zoom=St.zoom,ee.updateProjectionMatrix())}return j?tt.animating=!0:(ee.position.copy(St.camera),ee.lookAt(St.focus),Ee&&(Ee.target.copy(St.focus),Ee.update())),ke.current&&ke.current(this.getSize()),Pe(),this}}},[at,ee,Ee,Ce,j,Pe]);x.useLayoutEffect(()=>{if(Ee){const Ct=()=>tt.animating=!1;return Ee.addEventListener("start",Ct),()=>Ee.removeEventListener("start",Ct)}},[Ee]);const Et=x.useRef(0);return x.useLayoutEffect(()=>{(ve||Et.current++===0)&&(Mt.refresh(),ye&&Mt.fit(),ge&&Mt.clip())},[Q,ge,ye,ve,ee,Ee]),(0,T.A)((Ct,We)=>{if(tt.animating){if(rt(tt.focus,St.focus,j,We),rt(tt.camera,St.camera,j,We),tt.zoom=_.MathUtils.damp(tt.zoom,St.zoom,j,We),ee.position.copy(tt.camera),O(ee)&&(ee.zoom=tt.zoom,ee.updateProjectionMatrix()),Ee?(Ee.target.copy(tt.focus),Ee.update()):ee.lookAt(tt.focus),Pe(),O(ee)&&!(Math.abs(tt.zoom-St.zoom)<xe)||!O(ee)&&!qe(tt.camera,St.camera)||Ee&&!qe(tt.focus,St.focus))return;tt.animating=!1}}),x.createElement("group",{ref:X},x.createElement(pt.Provider,{value:Mt},bt))}function Ot(){return x.useContext(pt)}const Be={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function Ue({radius:bt,adjustCamera:j}){const ye=Ot();return x.useEffect(()=>{j&&ye.refresh().clip().fit()},[bt,j]),null}function ft(X){var ee=X,{children:bt,center:j,adjustCamera:ye=!0,intensity:ge=.5,shadows:ve="contact",environment:Ce="city",preset:xe="rembrandt"}=ee,de=Eo(ee,["children","center","adjustCamera","intensity","shadows","environment","preset"]);var Pe,Q,Le,Ee,ke,qe,rt,tt;const St=typeof xe=="string"?Be[xe]:xe,[{radius:at,height:Mt},Et]=x.useState({radius:0,width:0,height:0,depth:0}),Ct=(Pe=ve==null?void 0:ve.bias)!==null&&Pe!==void 0?Pe:-1e-4,We=(Q=ve==null?void 0:ve.normalBias)!==null&&Q!==void 0?Q:0,Ve=(Le=ve==null?void 0:ve.size)!==null&&Le!==void 0?Le:1024,gt=(Ee=ve==null?void 0:ve.offset)!==null&&Ee!==void 0?Ee:0,$t=ve==="contact"||(ve==null?void 0:ve.type)==="contact",Gt=ve==="accumulative"||(ve==null?void 0:ve.type)==="accumulative",Yt=tn({},typeof ve=="object"?ve:{}),yn=Ce?typeof Ce=="string"?{preset:Ce}:Ce:null,rn=x.useCallback(sn=>{const{width:Mn,height:xt,depth:he,boundingSphere:Me}=sn;Et({radius:Me.radius,width:Mn,height:xt,depth:he}),j!=null&&j.onCentered&&j.onCentered(sn)},[]);return x.createElement(x.Fragment,null,x.createElement("ambientLight",{intensity:ge/3}),x.createElement("spotLight",{penumbra:1,position:[St.main[0]*at,St.main[1]*at,St.main[2]*at],intensity:ge*2,castShadow:!!ve,"shadow-bias":Ct,"shadow-normalBias":We,"shadow-mapSize":Ve}),x.createElement("pointLight",{position:[St.fill[0]*at,St.fill[1]*at,St.fill[2]*at],intensity:ge}),x.createElement(zt,(0,A.Z)({fit:!!ye,clip:!!ye,margin:Number(ye),observe:!0},de),x.createElement(Ue,{radius:at,adjustCamera:ye}),x.createElement(le,(0,A.Z)({},j,{position:[0,gt/2,0],onCentered:rn}),bt)),x.createElement("group",{position:[0,-Mt/2-gt/2,0]},$t&&x.createElement(Y,(0,A.Z)({scale:at*4,far:at,blur:2},Yt)),Gt&&x.createElement(nn,(0,A.Z)({temporal:!0,frames:100,alphaTest:.9,toneMapped:!0,scale:at*4},Yt),x.createElement(ht,{amount:(ke=Yt.amount)!==null&&ke!==void 0?ke:8,radius:(qe=Yt.radius)!==null&&qe!==void 0?qe:at,ambient:(rt=Yt.ambient)!==null&&rt!==void 0?rt:.5,intensity:(tt=Yt.intensity)!==null&&tt!==void 0?tt:1,position:[St.main[0]*at,St.main[1]*at,St.main[2]*at],size:at*4,bias:-Ct,mapSize:Ve}))),Ce&&x.createElement(g.qA,yn))}},65366:function(Jt,Qe,K){"use strict";K.d(Qe,{A:function(){return et},B:function(){return bt},D:function(){return an},E:function(){return j},a:function(){return Ue},b:function(){return Gn},c:function(){return Ve},d:function(){return xr},e:function(){return ht},g:function(){return mi},i:function(){return Be},u:function(){return ft},z:function(){return nt}});var A=K(26553),x=K(50959),g=K(85259),_=K(31171),T=K(97427),k=K.n(T),z=K(65297);function Y(I,U,m=(C,w)=>C===w){if(I===U)return!0;if(!I||!U)return!1;const C=I.length;if(U.length!==C)return!1;for(let w=0;w<C;w++)if(!m(I[w],U[w]))return!1;return!0}const le=[];function oe(I,U,m=!1,C={}){for(const L of le)if(Y(U,L.keys,L.equal)){if(m)return;if(Object.prototype.hasOwnProperty.call(L,"error"))throw L.error;if(Object.prototype.hasOwnProperty.call(L,"response"))return L.response;if(!m)throw L.promise}const w={keys:U,equal:C.equal,promise:I(...U).then(L=>w.response=L).then(()=>{C.lifespan&&C.lifespan>0&&setTimeout(()=>{const L=le.indexOf(w);L!==-1&&le.splice(L,1)},C.lifespan)}).catch(L=>w.error=L)};if(le.push(w),!m)throw w.promise}const be=(I,U,m)=>oe(I,U,!1,m),Se=(I,U,m)=>void oe(I,U,!0,m),F=I=>{var U;return(U=le.find(m=>Y(I,m.keys,m.equal)))==null?void 0:U.response},it=I=>{if(I===void 0||I.length===0)le.splice(0,le.length);else{const U=le.find(m=>Y(I,m.keys,m.equal));if(U){const m=le.indexOf(U);m!==-1&&le.splice(m,1)}}};var st=Object.freeze({__proto__:null});const nn={},ht=I=>void Object.assign(nn,I);function Rt(I,U){function m(P,Ft,ct){var Dt=Ft,{args:$=[],attach:Ne}=Dt,Ge=Eo(Dt,["args","attach"]);let dt=`${P[0].toUpperCase()}${P.slice(1)}`,mt;if(P==="primitive"){if(Ge.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const ut=Ge.object;mt=Pe(ut,{type:P,root:ct,attach:Ne,primitive:!0})}else{const ut=nn[dt];if(!ut)throw new Error(`R3F: ${dt} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray($))throw new Error("R3F: The args prop must be an array!");mt=Pe(new ut(...$),{type:P,root:ct,attach:Ne,memoizedProps:{args:$}})}return mt.__r3f.attach===void 0&&(mt instanceof A.BufferGeometry?mt.__r3f.attach="geometry":mt instanceof A.Material&&(mt.__r3f.attach="material")),dt!=="inject"&&rt(mt,Ge),mt}function C(P,$){let Ne=!1;if($){var Ge,ct;(Ge=$.__r3f)!=null&&Ge.attach?Ee(P,$,$.__r3f.attach):$.isObject3D&&P.isObject3D&&(P.add($),Ne=!0),Ne||(ct=P.__r3f)==null||ct.objects.push($),$.__r3f||Pe($,{}),$.__r3f.parent=P,St($),tt($)}}function w(P,$,Ne){let Ge=!1;if($){var ct,Ft;if((ct=$.__r3f)!=null&&ct.attach)Ee(P,$,$.__r3f.attach);else if($.isObject3D&&P.isObject3D){$.parent=P,$.dispatchEvent({type:"added"});const Dt=P.children.filter(mt=>mt!==$),dt=Dt.indexOf(Ne);P.children=[...Dt.slice(0,dt),$,...Dt.slice(dt)],Ge=!0}Ge||(Ft=P.__r3f)==null||Ft.objects.push($),$.__r3f||Pe($,{}),$.__r3f.parent=P,St($),tt($)}}function L(P,$,Ne=!1){P&&[...P].forEach(Ge=>V($,Ge,Ne))}function V(P,$,Ne){if($){var Ge,ct,Ft;if($.__r3f&&($.__r3f.parent=null),(Ge=P.__r3f)!=null&&Ge.objects&&(P.__r3f.objects=P.__r3f.objects.filter(Zt=>Zt!==$)),(ct=$.__r3f)!=null&&ct.attach)ke(P,$,$.__r3f.attach);else if($.isObject3D&&P.isObject3D){var Dt;P.remove($),(Dt=$.__r3f)!=null&&Dt.root&&We($.__r3f.root,$)}const mt=(Ft=$.__r3f)==null?void 0:Ft.primitive,ut=Ne===void 0?$.dispose!==null&&!mt:Ne;if(!mt){var dt;L((dt=$.__r3f)==null?void 0:dt.objects,$,ut),L($.children,$,ut)}$.__r3f&&(delete $.__r3f.root,delete $.__r3f.objects,delete $.__r3f.handlers,delete $.__r3f.memoizedProps,mt||delete $.__r3f),ut&&$.dispose&&$.type!=="Scene"&&(0,z.unstable_scheduleCallback)(z.unstable_IdlePriority,()=>{try{$.dispose()}catch(Zt){}}),tt(P)}}function se(P,$,Ne,Ge){var ct;const Ft=(ct=P.__r3f)==null?void 0:ct.parent;if(!Ft)return;const Dt=m($,Ne,P.__r3f.root);if(P.children){for(const dt of P.children)dt.__r3f&&C(Dt,dt);P.children=P.children.filter(dt=>!dt.__r3f)}P.__r3f.objects.forEach(dt=>C(Dt,dt)),P.__r3f.objects=[],P.__r3f.autoRemovedBeforeAppend||V(Ft,P),Dt.parent&&(Dt.__r3f.autoRemovedBeforeAppend=!0),C(Ft,Dt),Dt.raycast&&Dt.__r3f.eventCount&&Dt.__r3f.root.getState().internal.interaction.push(Dt),[Ge,Ge.alternate].forEach(dt=>{dt!==null&&(dt.stateNode=Dt,dt.ref&&(typeof dt.ref=="function"?dt.ref(Dt):dt.ref.current=Dt))})}const N=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:k()({createInstance:m,removeChild:V,appendChild:C,appendInitialChild:C,insertBefore:w,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(P,$)=>{if(!$)return;const Ne=P.getState().scene;Ne.__r3f&&(Ne.__r3f.root=P,C(Ne,$))},removeChildFromContainer:(P,$)=>{$&&V(P.getState().scene,$)},insertInContainerBefore:(P,$,Ne)=>{if(!$||!Ne)return;const Ge=P.getState().scene;Ge.__r3f&&w(Ge,$,Ne)},getRootHostContext:()=>null,getChildHostContext:P=>P,finalizeInitialChildren(P){var $;const Ne=($=P==null?void 0:P.__r3f)!=null?$:{};return Boolean(Ne.handlers)},prepareUpdate(P,$,Ne,Ge){if(P.__r3f.primitive&&Ge.object&&Ge.object!==P)return[!0];{const ct=Ge,{args:Dt=[],children:dt}=ct,mt=Eo(ct,["args","children"]),Ft=Ne,{args:ut=[],children:Zt}=Ft,Sn=Eo(Ft,["args","children"]);if(!Array.isArray(Dt))throw new Error("R3F: the args prop must be an array!");if(Dt.some((Fn,An)=>Fn!==ut[An]))return[!0];const xn=qe(P,mt,Sn,!0);return xn.changes.length?[!1,xn]:null}},commitUpdate(P,[$,Ne],Ge,ct,Ft,Dt){$?se(P,Ge,Ft,Dt):rt(P,Ne)},commitMount(P,$,Ne,Ge){var ct;const Ft=(ct=P.__r3f)!=null?ct:{};P.raycast&&Ft.handlers&&Ft.eventCount&&P.__r3f.root.getState().internal.interaction.push(P)},getPublicInstance:P=>P,prepareForCommit:()=>null,preparePortalMount:P=>Pe(P.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(P){var $;const{attach:Ne,parent:Ge}=($=P.__r3f)!=null?$:{};Ne&&Ge&&ke(Ge,P,Ne),P.isObject3D&&(P.visible=!1),tt(P)},unhideInstance(P,$){var Ne;const{attach:Ge,parent:ct}=(Ne=P.__r3f)!=null?Ne:{};Ge&&ct&&Ee(ct,P,Ge),(P.isObject3D&&$.visible==null||$.visible)&&(P.visible=!0),tt(P)},createTextInstance:N,hideTextInstance:N,unhideTextInstance:N,getCurrentEventPriority:()=>U?U():g.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance!="undefined"&&de.fun(performance.now)?performance.now:de.fun(Date.now)?Date.now:()=>0,scheduleTimeout:de.fun(setTimeout)?setTimeout:void 0,cancelTimeout:de.fun(clearTimeout)?clearTimeout:void 0}),applyProps:rt}}var O,Ye;const pt=I=>"colorSpace"in I||"outputColorSpace"in I,zt=()=>{var I;return(I=nn.ColorManagement)!=null?I:null},Ot=I=>I&&I.isOrthographicCamera,Be=I=>I&&I.hasOwnProperty("current"),Ue=typeof window!="undefined"&&((O=window.document)!=null&&O.createElement||((Ye=window.navigator)==null?void 0:Ye.product)==="ReactNative")?x.useLayoutEffect:x.useEffect;function ft(I){const U=x.useRef(I);return Ue(()=>void(U.current=I),[I]),U}function bt({set:I}){return Ue(()=>(I(new Promise(()=>null)),()=>I(!1)),[I]),null}class j extends x.Component{constructor(...U){super(...U),this.state={error:!1}}componentDidCatch(U){this.props.set(U)}render(){return this.state.error?null:this.props.children}}j.getDerivedStateFromError=()=>({error:!0});const ye="__default",ge=new Map,ve=I=>I&&!!I.memoized&&!!I.changes;function Ce(I){var U;const m=typeof window!="undefined"?(U=window.devicePixelRatio)!=null?U:2:1;return Array.isArray(I)?Math.min(Math.max(I[0],m),I[1]):I}const xe=I=>{var U;return(U=I.__r3f)==null?void 0:U.root.getState()},de={obj:I=>I===Object(I)&&!de.arr(I)&&typeof I!="function",fun:I=>typeof I=="function",str:I=>typeof I=="string",num:I=>typeof I=="number",boo:I=>typeof I=="boolean",und:I=>I===void 0,arr:I=>Array.isArray(I),equ(I,U,{arrays:m="shallow",objects:C="reference",strict:w=!0}={}){if(typeof I!=typeof U||!!I!=!!U)return!1;if(de.str(I)||de.num(I))return I===U;const L=de.obj(I);if(L&&C==="reference")return I===U;const V=de.arr(I);if(V&&m==="reference")return I===U;if((V||L)&&I===U)return!0;let se;for(se in I)if(!(se in U))return!1;if(L&&m==="shallow"&&C==="shallow"){for(se in w?U:I)if(!de.equ(I[se],U[se],{strict:w,objects:"reference"}))return!1}else for(se in w?U:I)if(I[se]!==U[se])return!1;if(de.und(se)){if(V&&I.length===0&&U.length===0||L&&Object.keys(I).length===0&&Object.keys(U).length===0)return!0;if(I!==U)return!1}return!0}};function X(I){const U={nodes:{},materials:{}};return I&&I.traverse(m=>{m.name&&(U.nodes[m.name]=m),m.material&&!U.materials[m.material.name]&&(U.materials[m.material.name]=m.material)}),U}function ee(I){I.dispose&&I.type!=="Scene"&&I.dispose();for(const U in I)U.dispose==null||U.dispose(),delete I[U]}function Pe(I,U){const m=I;return(U!=null&&U.primitive||!m.__r3f)&&(m.__r3f=tn({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},U)),I}function Q(I,U){let m=I;if(U.includes("-")){const C=U.split("-"),w=C.pop();return m=C.reduce((L,V)=>L[V],I),{target:m,key:w}}else return{target:m,key:U}}const Le=/-\d+$/;function Ee(I,U,m){if(de.str(m)){if(Le.test(m)){const L=m.replace(Le,""),{target:V,key:se}=Q(I,L);Array.isArray(V[se])||(V[se]=[])}const{target:C,key:w}=Q(I,m);U.__r3f.previousAttach=C[w],C[w]=U}else U.__r3f.previousAttach=m(I,U)}function ke(I,U,m){var C,w;if(de.str(m)){const{target:L,key:V}=Q(I,m),se=U.__r3f.previousAttach;se===void 0?delete L[V]:L[V]=se}else(C=U.__r3f)==null||C.previousAttach==null||C.previousAttach(I,U);(w=U.__r3f)==null||delete w.previousAttach}function qe(I,P,Ne={},Z=!1){var $=P,{children:U,key:m,ref:C}=$,w=Eo($,["children","key","ref"]);var Ge=Ne,{children:L,key:V,ref:se}=Ge,N=Eo(Ge,["children","key","ref"]);var ct;const Ft=(ct=I==null?void 0:I.__r3f)!=null?ct:{},Dt=Object.entries(w),dt=[];if(Z){const ut=Object.keys(N);for(let Zt=0;Zt<ut.length;Zt++)w.hasOwnProperty(ut[Zt])||Dt.unshift([ut[Zt],ye+"remove"])}Dt.forEach(([ut,Zt])=>{var Sn;if((Sn=I.__r3f)!=null&&Sn.primitive&&ut==="object"||de.equ(Zt,N[ut]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(ut))return dt.push([ut,Zt,!0,[]]);let xn=[];ut.includes("-")&&(xn=ut.split("-")),dt.push([ut,Zt,!1,xn]);for(const Fn in w){const An=w[Fn];Fn.startsWith(`${ut}-`)&&dt.push([Fn,An,!1,Fn.split("-")])}});const mt=tn({},w);return Ft.memoizedProps&&Ft.memoizedProps.args&&(mt.args=Ft.memoizedProps.args),Ft.memoizedProps&&Ft.memoizedProps.attach&&(mt.attach=Ft.memoizedProps.attach),{memoized:mt,changes:dt}}function rt(I,U){var m,C,w;const L=(m=I.__r3f)!=null?m:{},V=L.root,se=(C=V==null||V.getState==null?void 0:V.getState())!=null?C:{},{memoized:N,changes:Z}=ve(U)?U:qe(I,U),P=L.eventCount;I.__r3f&&(I.__r3f.memoizedProps=N);for(let Ne=0;Ne<Z.length;Ne++){let[Ge,ct,Ft,Dt]=Z[Ne];if(pt(I)){const Zt="srgb",Sn="srgb-linear";Ge==="encoding"?(Ge="colorSpace",ct=ct===3001?Zt:Sn):Ge==="outputEncoding"&&(Ge="outputColorSpace",ct=ct===3001?Zt:Sn)}let dt=I,mt=dt[Ge];if(Dt.length&&(mt=Dt.reduce((ut,Zt)=>ut[Zt],I),!(mt&&mt.set))){const[ut,...Zt]=Dt.reverse();dt=Zt.reverse().reduce((Sn,xn)=>Sn[xn],I),Ge=ut}if(ct===ye+"remove")if(dt.constructor){let ut=ge.get(dt.constructor);ut||(ut=new dt.constructor,ge.set(dt.constructor,ut)),ct=ut[Ge]}else ct=0;if(Ft)ct?L.handlers[Ge]=ct:delete L.handlers[Ge],L.eventCount=Object.keys(L.handlers).length;else if(mt&&mt.set&&(mt.copy||mt instanceof A.Layers)){if(Array.isArray(ct))mt.fromArray?mt.fromArray(ct):mt.set(...ct);else if(mt.copy&&ct&&ct.constructor&&mt.constructor===ct.constructor)mt.copy(ct);else if(ct!==void 0){const ut=mt instanceof A.Color;!ut&&mt.setScalar?mt.setScalar(ct):mt instanceof A.Layers&&ct instanceof A.Layers?mt.mask=ct.mask:mt.set(ct),!zt()&&!se.linear&&ut&&mt.convertSRGBToLinear()}}else if(dt[Ge]=ct,dt[Ge]instanceof A.Texture&&dt[Ge].format===A.RGBAFormat&&dt[Ge].type===A.UnsignedByteType){const ut=dt[Ge];pt(ut)&&pt(se.gl)?ut.colorSpace=se.gl.outputColorSpace:ut.encoding=se.gl.outputEncoding}tt(I)}if(L.parent&&se.internal&&I.raycast&&P!==L.eventCount){const Ne=se.internal.interaction.indexOf(I);Ne>-1&&se.internal.interaction.splice(Ne,1),L.eventCount&&se.internal.interaction.push(I)}return!(Z.length===1&&Z[0][0]==="onUpdate")&&Z.length&&(w=I.__r3f)!=null&&w.parent&&St(I),I}function tt(I){var U,m;const C=(U=I.__r3f)==null||(m=U.root)==null||m.getState==null?void 0:m.getState();C&&C.internal.frames===0&&C.invalidate()}function St(I){I.onUpdate==null||I.onUpdate(I)}function at(I,U){I.manual||(Ot(I)?(I.left=U.width/-2,I.right=U.width/2,I.top=U.height/2,I.bottom=U.height/-2):I.aspect=U.width/U.height,I.updateProjectionMatrix(),I.updateMatrixWorld())}function Mt(I){return(I.eventObject||I.object).uuid+"/"+I.index+I.instanceId}function Et(){var I;const U=typeof self!="undefined"&&self||typeof window!="undefined"&&window;if(!U)return g.DefaultEventPriority;switch((I=U.event)==null?void 0:I.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return g.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return g.ContinuousEventPriority;default:return g.DefaultEventPriority}}function Ct(I,U,m,C){const w=m.get(U);w&&(m.delete(U),m.size===0&&(I.delete(C),w.target.releasePointerCapture(C)))}function We(I,U){const{internal:m}=I.getState();m.interaction=m.interaction.filter(C=>C!==U),m.initialHits=m.initialHits.filter(C=>C!==U),m.hovered.forEach((C,w)=>{(C.eventObject===U||C.object===U)&&m.hovered.delete(w)}),m.capturedMap.forEach((C,w)=>{Ct(m.capturedMap,U,C,w)})}function Ve(I){function U(N){const{internal:Z}=I.getState(),P=N.offsetX-Z.initialClick[0],$=N.offsetY-Z.initialClick[1];return Math.round(Math.sqrt(P*P+$*$))}function m(N){return N.filter(Z=>["Move","Over","Enter","Out","Leave"].some(P=>{var $;return($=Z.__r3f)==null?void 0:$.handlers["onPointer"+P]}))}function C(N,Z){const P=I.getState(),$=new Set,Ne=[],Ge=Z?Z(P.internal.interaction):P.internal.interaction;for(let dt=0;dt<Ge.length;dt++){const mt=xe(Ge[dt]);mt&&(mt.raycaster.camera=void 0)}P.previousRoot||P.events.compute==null||P.events.compute(N,P);function ct(dt){const mt=xe(dt);if(!mt||!mt.events.enabled||mt.raycaster.camera===null)return[];if(mt.raycaster.camera===void 0){var ut;mt.events.compute==null||mt.events.compute(N,mt,(ut=mt.previousRoot)==null?void 0:ut.getState()),mt.raycaster.camera===void 0&&(mt.raycaster.camera=null)}return mt.raycaster.camera?mt.raycaster.intersectObject(dt,!0):[]}let Ft=Ge.flatMap(ct).sort((dt,mt)=>{const ut=xe(dt.object),Zt=xe(mt.object);return!ut||!Zt?dt.distance-mt.distance:Zt.events.priority-ut.events.priority||dt.distance-mt.distance}).filter(dt=>{const mt=Mt(dt);return $.has(mt)?!1:($.add(mt),!0)});P.events.filter&&(Ft=P.events.filter(Ft,P));for(const dt of Ft){let mt=dt.object;for(;mt;){var Dt;(Dt=mt.__r3f)!=null&&Dt.eventCount&&Ne.push(Ar(tn({},dt),{eventObject:mt})),mt=mt.parent}}if("pointerId"in N&&P.internal.capturedMap.has(N.pointerId))for(let dt of P.internal.capturedMap.get(N.pointerId).values())$.has(Mt(dt.intersection))||Ne.push(dt.intersection);return Ne}function w(N,Z,P,$){const Ne=I.getState();if(N.length){const Ge={stopped:!1};for(const ct of N){const Ft=xe(ct.object)||Ne,{raycaster:Dt,pointer:dt,camera:mt,internal:ut}=Ft,Zt=new A.Vector3(dt.x,dt.y,0).unproject(mt),Sn=Jn=>{var fn,Vn;return(fn=(Vn=ut.capturedMap.get(Jn))==null?void 0:Vn.has(ct.eventObject))!=null?fn:!1},xn=Jn=>{const fn={intersection:ct,target:Z.target};ut.capturedMap.has(Jn)?ut.capturedMap.get(Jn).set(ct.eventObject,fn):ut.capturedMap.set(Jn,new Map([[ct.eventObject,fn]])),Z.target.setPointerCapture(Jn)},Fn=Jn=>{const fn=ut.capturedMap.get(Jn);fn&&Ct(ut.capturedMap,ct.eventObject,fn,Jn)};let An={};for(let Jn in Z){let fn=Z[Jn];typeof fn!="function"&&(An[Jn]=fn)}let zn=Ar(tn(tn({},ct),An),{pointer:dt,intersections:N,stopped:Ge.stopped,delta:P,unprojectedPoint:Zt,ray:Dt.ray,camera:mt,stopPropagation(){const Jn="pointerId"in Z&&ut.capturedMap.get(Z.pointerId);if((!Jn||Jn.has(ct.eventObject))&&(zn.stopped=Ge.stopped=!0,ut.hovered.size&&Array.from(ut.hovered.values()).find(fn=>fn.eventObject===ct.eventObject))){const fn=N.slice(0,N.indexOf(ct));L([...fn,ct])}},target:{hasPointerCapture:Sn,setPointerCapture:xn,releasePointerCapture:Fn},currentTarget:{hasPointerCapture:Sn,setPointerCapture:xn,releasePointerCapture:Fn},nativeEvent:Z});if($(zn),Ge.stopped===!0)break}}return N}function L(N){const{internal:Z}=I.getState();for(const P of Z.hovered.values())if(!N.length||!N.find($=>$.object===P.object&&$.index===P.index&&$.instanceId===P.instanceId)){const Ne=P.eventObject.__r3f,Ge=Ne==null?void 0:Ne.handlers;if(Z.hovered.delete(Mt(P)),Ne!=null&&Ne.eventCount){const ct=Ar(tn({},P),{intersections:N});Ge.onPointerOut==null||Ge.onPointerOut(ct),Ge.onPointerLeave==null||Ge.onPointerLeave(ct)}}}function V(N,Z){for(let P=0;P<Z.length;P++){const $=Z[P].__r3f;$==null||$.handlers.onPointerMissed==null||$.handlers.onPointerMissed(N)}}function se(N){switch(N){case"onPointerLeave":case"onPointerCancel":return()=>L([]);case"onLostPointerCapture":return Z=>{const{internal:P}=I.getState();"pointerId"in Z&&P.capturedMap.has(Z.pointerId)&&requestAnimationFrame(()=>{P.capturedMap.has(Z.pointerId)&&(P.capturedMap.delete(Z.pointerId),L([]))})}}return function(P){const{onPointerMissed:$,internal:Ne}=I.getState();Ne.lastEvent.current=P;const Ge=N==="onPointerMove",ct=N==="onClick"||N==="onContextMenu"||N==="onDoubleClick",Dt=C(P,Ge?m:void 0),dt=ct?U(P):0;N==="onPointerDown"&&(Ne.initialClick=[P.offsetX,P.offsetY],Ne.initialHits=Dt.map(ut=>ut.eventObject)),ct&&!Dt.length&&dt<=2&&(V(P,Ne.interaction),$&&$(P)),Ge&&L(Dt);function mt(ut){const Zt=ut.eventObject,Sn=Zt.__r3f,xn=Sn==null?void 0:Sn.handlers;if(Sn!=null&&Sn.eventCount)if(Ge){if(xn.onPointerOver||xn.onPointerEnter||xn.onPointerOut||xn.onPointerLeave){const Fn=Mt(ut),An=Ne.hovered.get(Fn);An?An.stopped&&ut.stopPropagation():(Ne.hovered.set(Fn,ut),xn.onPointerOver==null||xn.onPointerOver(ut),xn.onPointerEnter==null||xn.onPointerEnter(ut))}xn.onPointerMove==null||xn.onPointerMove(ut)}else{const Fn=xn[N];Fn?(!ct||Ne.initialHits.includes(Zt))&&(V(P,Ne.interaction.filter(An=>!Ne.initialHits.includes(An))),Fn(ut)):ct&&Ne.initialHits.includes(Zt)&&V(P,Ne.interaction.filter(An=>!Ne.initialHits.includes(An)))}}w(Dt,P,dt,mt)}}return{handlePointer:se}}const gt=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],$t=I=>!!(I!=null&&I.render),Gt=x.createContext(null),Yt=(I,U)=>{const m=(0,_.Z)((se,N)=>{const Z=new A.Vector3,P=new A.Vector3,$=new A.Vector3;function Ne(dt=N().camera,mt=P,ut=N().size){const{width:Zt,height:Sn,top:xn,left:Fn}=ut,An=Zt/Sn;mt instanceof A.Vector3?$.copy(mt):$.set(...mt);const zn=dt.getWorldPosition(Z).distanceTo($);if(Ot(dt))return{width:Zt/dt.zoom,height:Sn/dt.zoom,top:xn,left:Fn,factor:1,distance:zn,aspect:An};{const Jn=dt.fov*Math.PI/180,fn=2*Math.tan(Jn/2)*zn,Vn=fn*(Zt/Sn);return{width:Vn,height:fn,top:xn,left:Fn,factor:Zt/Vn,distance:zn,aspect:An}}}let Ge;const ct=dt=>se(mt=>({performance:Ar(tn({},mt.performance),{current:dt})})),Ft=new A.Vector2;return{set:se,get:N,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(dt=1)=>I(N(),dt),advance:(dt,mt)=>U(dt,mt,N()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new A.Clock,pointer:Ft,mouse:Ft,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const dt=N();Ge&&clearTimeout(Ge),dt.performance.current!==dt.performance.min&&ct(dt.performance.min),Ge=setTimeout(()=>ct(N().performance.max),dt.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:Ne},setEvents:dt=>se(mt=>Ar(tn({},mt),{events:tn(tn({},mt.events),dt)})),setSize:(dt,mt,ut,Zt,Sn)=>{const xn=N().camera,Fn={width:dt,height:mt,top:Zt||0,left:Sn||0,updateStyle:ut};se(An=>({size:Fn,viewport:tn(tn({},An.viewport),Ne(xn,P,Fn))}))},setDpr:dt=>se(mt=>{const ut=Ce(dt);return{viewport:Ar(tn({},mt.viewport),{dpr:ut,initialDpr:mt.viewport.initialDpr||ut})}}),setFrameloop:(dt="always")=>{const mt=N().clock;mt.stop(),mt.elapsedTime=0,dt!=="never"&&(mt.start(),mt.elapsedTime=0),se(()=>({frameloop:dt}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:x.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(dt,mt,ut)=>{const Zt=N().internal;return Zt.priority=Zt.priority+(mt>0?1:0),Zt.subscribers.push({ref:dt,priority:mt,store:ut}),Zt.subscribers=Zt.subscribers.sort((Sn,xn)=>Sn.priority-xn.priority),()=>{const Sn=N().internal;Sn!=null&&Sn.subscribers&&(Sn.priority=Sn.priority-(mt>0?1:0),Sn.subscribers=Sn.subscribers.filter(xn=>xn.ref!==dt))}}}}}),C=m.getState();let w=C.size,L=C.viewport.dpr,V=C.camera;return m.subscribe(()=>{const{camera:se,size:N,viewport:Z,gl:P,set:$}=m.getState();if(N!==w||Z.dpr!==L){var Ne;w=N,L=Z.dpr,at(se,N),P.setPixelRatio(Z.dpr);const Ge=(Ne=N.updateStyle)!=null?Ne:typeof HTMLCanvasElement!="undefined"&&P.domElement instanceof HTMLCanvasElement;P.setSize(N.width,N.height,Ge)}se!==V&&(V=se,$(Ge=>({viewport:tn(tn({},Ge.viewport),Ge.viewport.getCurrentViewport(se))})))}),m.subscribe(se=>I(se)),m};function yn(I,U){const m={callback:I};return U.add(m),()=>void U.delete(m)}let rn,sn=new Set,Mn=new Set,xt=new Set;const he=I=>yn(I,sn),Me=I=>yn(I,Mn),Oe=I=>yn(I,xt);function Ke(I,U){if(I.size)for(const{callback:m}of I.values())m(U)}function Xe(I,U){switch(I){case"before":return Ke(sn,U);case"after":return Ke(Mn,U);case"tail":return Ke(xt,U)}}let Nt,Qt;function Dn(I,U,m){let C=U.clock.getDelta();for(U.frameloop==="never"&&typeof I=="number"&&(C=I-U.clock.elapsedTime,U.clock.oldTime=U.clock.elapsedTime,U.clock.elapsedTime=I),Nt=U.internal.subscribers,rn=0;rn<Nt.length;rn++)Qt=Nt[rn],Qt.ref.current(Qt.store.getState(),C,m);return!U.internal.priority&&U.gl.render&&U.gl.render(U.scene,U.camera),U.internal.frames=Math.max(0,U.internal.frames-1),U.frameloop==="always"?1:U.internal.frames}function Pn(I){let U=!1,m,C,w;function L(N){C=requestAnimationFrame(L),U=!0,m=0,Xe("before",N);for(const P of I.values()){var Z;w=P.store.getState(),w.internal.active&&(w.frameloop==="always"||w.internal.frames>0)&&!((Z=w.gl.xr)!=null&&Z.isPresenting)&&(m+=Dn(N,w))}if(Xe("after",N),m===0)return Xe("tail",N),U=!1,cancelAnimationFrame(C)}function V(N,Z=1){var P;if(!N)return I.forEach($=>V($.store.getState()),Z);(P=N.gl.xr)!=null&&P.isPresenting||!N.internal.active||N.frameloop==="never"||(N.internal.frames=Math.min(60,N.internal.frames+Z),U||(U=!0,requestAnimationFrame(L)))}function se(N,Z=!0,P,$){if(Z&&Xe("before",N),P)Dn(N,P,$);else for(const Ne of I.values())Dn(N,Ne.store.getState());Z&&Xe("after",N)}return{loop:L,invalidate:V,advance:se}}function me(I){const U=React.useRef(null);return Ue(()=>void(U.current=I.current.__r3f),[I]),U}function Je(){const I=x.useContext(Gt);if(!I)throw new Error("R3F: Hooks can only be used within the Canvas component!");return I}function nt(I=m=>m,U){return Je()(I,U)}function et(I,U=0){const m=Je(),C=m.getState().internal.subscribe,w=ft(I);return Ue(()=>C(w,U,m),[U,C,m]),null}function Ut(I){return React.useMemo(()=>X(I),[I])}function pn(I,U){return function(m,...C){const w=new m;return I&&I(w),Promise.all(C.map(L=>new Promise((V,se)=>w.load(L,N=>{N.scene&&Object.assign(N,X(N.scene)),V(N)},U,N=>se(new Error(`Could not load ${L}: ${N.message})`))))))}}function an(I,U,m,C){const w=Array.isArray(U)?U:[U],L=be(pn(m,C),[I,...w],{equal:de.equ});return Array.isArray(U)?L:L[0]}an.preload=function(I,U,m){const C=Array.isArray(U)?U:[U];return Se(pn(m),[I,...C])},an.clear=function(I,U){const m=Array.isArray(U)?U:[U];return it([I,...m])};const Vt=new Map,{invalidate:pe,advance:De}=Pn(Vt),{reconciler:lt,applyProps:Tt}=Rt(Vt,Et),Wt={objects:"shallow",strict:!1},Cn=(I,U)=>{const m=typeof I=="function"?I(U):I;return $t(m)?m:new A.WebGLRenderer(tn({powerPreference:"high-performance",canvas:U,antialias:!0,alpha:!0},I))};function Bn(I,U){if(U)return U;if(typeof HTMLCanvasElement!="undefined"&&I instanceof HTMLCanvasElement&&I.parentElement){const{width:m,height:C,top:w,left:L}=I.parentElement.getBoundingClientRect();return{width:m,height:C,top:w,left:L}}else if(typeof OffscreenCanvas!="undefined"&&I instanceof OffscreenCanvas)return{width:I.width,height:I.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function Gn(I){const U=Vt.get(I),m=U==null?void 0:U.fiber,C=U==null?void 0:U.store;U&&console.warn("R3F.createRoot should only be called once!");const w=typeof reportError=="function"?reportError:console.error,L=C||Yt(pe,De),V=m||lt.createContainer(L,g.ConcurrentRoot,null,!1,null,"",w,null);U||Vt.set(I,{fiber:V,store:L});let se,N=!1,Z;return{configure(P={}){let{gl:$,size:Ne,scene:Ge,events:ct,onCreated:Ft,shadows:Dt=!1,linear:dt=!1,flat:mt=!1,legacy:ut=!1,orthographic:Zt=!1,frameloop:Sn="always",dpr:xn=[1,2],performance:Fn,raycaster:An,camera:zn,onPointerMissed:Jn}=P,fn=L.getState(),Vn=fn.gl;fn.gl||fn.set({gl:Vn=Cn($,I)});let lr=fn.raycaster;lr||fn.set({raycaster:lr=new A.Raycaster});const Er=An||{},{params:yr}=Er,Hr=Eo(Er,["params"]);if(de.equ(Hr,lr,Wt)||Tt(lr,tn({},Hr)),de.equ(yr,lr.params,Wt)||Tt(lr,{params:tn(tn({},lr.params),yr)}),!fn.camera||fn.camera===Z&&!de.equ(Z,zn,Wt)){Z=zn;const Tr=zn instanceof A.Camera,yi=Tr?zn:Zt?new A.OrthographicCamera(0,0,0,0,.1,1e3):new A.PerspectiveCamera(75,0,.1,1e3);Tr||(yi.position.z=5,zn&&Tt(yi,zn),!fn.camera&&!(zn!=null&&zn.rotation)&&yi.lookAt(0,0,0)),fn.set({camera:yi})}if(!fn.scene){let Tr;Ge instanceof A.Scene?Tr=Ge:(Tr=new A.Scene,Ge&&Tt(Tr,Ge)),fn.set({scene:Pe(Tr)})}if(!fn.xr){const Tr=(di,Yo)=>{const Ko=L.getState();Ko.frameloop!=="never"&&De(di,!0,Ko,Yo)},yi=()=>{const di=L.getState();di.gl.xr.enabled=di.gl.xr.isPresenting,di.gl.xr.setAnimationLoop(di.gl.xr.isPresenting?Tr:null),di.gl.xr.isPresenting||pe(di)},lo={connect(){const di=L.getState().gl;di.xr.addEventListener("sessionstart",yi),di.xr.addEventListener("sessionend",yi)},disconnect(){const di=L.getState().gl;di.xr.removeEventListener("sessionstart",yi),di.xr.removeEventListener("sessionend",yi)}};Vn.xr&&lo.connect(),fn.set({xr:lo})}if(Vn.shadowMap){const Tr=Vn.shadowMap.enabled,yi=Vn.shadowMap.type;if(Vn.shadowMap.enabled=!!Dt,de.boo(Dt))Vn.shadowMap.type=A.PCFSoftShadowMap;else if(de.str(Dt)){var wi;const lo={basic:A.BasicShadowMap,percentage:A.PCFShadowMap,soft:A.PCFSoftShadowMap,variance:A.VSMShadowMap};Vn.shadowMap.type=(wi=lo[Dt])!=null?wi:A.PCFSoftShadowMap}else de.obj(Dt)&&Object.assign(Vn.shadowMap,Dt);(Tr!==Vn.shadowMap.enabled||yi!==Vn.shadowMap.type)&&(Vn.shadowMap.needsUpdate=!0)}const ni=zt();ni&&("enabled"in ni?ni.enabled=!ut:"legacyMode"in ni&&(ni.legacyMode=ut)),Tt(Vn,{outputEncoding:dt?3e3:3001,toneMapping:mt?A.NoToneMapping:A.ACESFilmicToneMapping}),fn.legacy!==ut&&fn.set(()=>({legacy:ut})),fn.linear!==dt&&fn.set(()=>({linear:dt})),fn.flat!==mt&&fn.set(()=>({flat:mt})),$&&!de.fun($)&&!$t($)&&!de.equ($,Vn,Wt)&&Tt(Vn,$),ct&&!fn.events.handlers&&fn.set({events:ct(L)});const _i=Bn(I,Ne);return de.equ(_i,fn.size,Wt)||fn.setSize(_i.width,_i.height,_i.updateStyle,_i.top,_i.left),xn&&fn.viewport.dpr!==Ce(xn)&&fn.setDpr(xn),fn.frameloop!==Sn&&fn.setFrameloop(Sn),fn.onPointerMissed||fn.set({onPointerMissed:Jn}),Fn&&!de.equ(Fn,fn.performance,Wt)&&fn.set(Tr=>({performance:tn(tn({},Tr.performance),Fn)})),se=Ft,N=!0,this},render(P){return N||this.configure(),lt.updateContainer(x.createElement(Mr,{store:L,children:P,onCreated:se,rootElement:I}),V,null,()=>{}),L},unmount(){xr(I)}}}function vr(I,U,m){console.warn("R3F.render is no longer supported in React 18. Use createRoot instead!");const C=Gn(U);return C.configure(m),C.render(I)}function Mr({store:I,children:U,onCreated:m,rootElement:C}){return Ue(()=>{const w=I.getState();w.set(L=>({internal:Ar(tn({},L.internal),{active:!0})})),m&&m(w),I.getState().events.connected||w.events.connect==null||w.events.connect(C)},[]),x.createElement(Gt.Provider,{value:I},U)}function xr(I,U){const m=Vt.get(I),C=m==null?void 0:m.fiber;if(C){const w=m==null?void 0:m.store.getState();w&&(w.internal.active=!1),lt.updateContainer(null,C,null,()=>{w&&setTimeout(()=>{try{var L,V,se,N;w.events.disconnect==null||w.events.disconnect(),(L=w.gl)==null||(V=L.renderLists)==null||V.dispose==null||V.dispose(),(se=w.gl)==null||se.forceContextLoss==null||se.forceContextLoss(),(N=w.gl)!=null&&N.xr&&w.xr.disconnect(),ee(w),Vt.delete(I),U&&U(I)}catch(Z){}},500)})}}function mi(I,U,m){return x.createElement(Pr,{key:U.uuid,children:I,container:U,state:m})}function Pr({state:I={},children:U,container:m}){const $=I,{events:C,size:w}=$,L=Eo($,["events","size"]),V=Je(),[se]=x.useState(()=>new A.Raycaster),[N]=x.useState(()=>new A.Vector2),Z=x.useCallback((Ne,Ge)=>{const ct=tn({},Ne);Object.keys(Ne).forEach(Dt=>{(gt.includes(Dt)||Ne[Dt]!==Ge[Dt]&&Ge[Dt])&&delete ct[Dt]});let Ft;if(Ge&&w){const Dt=Ge.camera;Ft=Ne.viewport.getCurrentViewport(Dt,new A.Vector3,w),Dt!==Ne.camera&&at(Dt,w)}return tn(Ar(tn({},ct),{scene:m,raycaster:se,pointer:N,mouse:N,previousRoot:V,events:tn(tn(tn({},Ne.events),Ge==null?void 0:Ge.events),C),size:tn(tn({},Ne.size),w),viewport:tn(tn({},Ne.viewport),Ft)}),L)},[I]),[P]=x.useState(()=>{const Ne=V.getState();return(0,_.Z)((ct,Ft)=>Ar(tn(Ar(tn({},Ne),{scene:m,raycaster:se,pointer:N,mouse:N,previousRoot:V,events:tn(tn({},Ne.events),C),size:tn(tn({},Ne.size),w)}),L),{set:ct,get:Ft,setEvents:Dt=>ct(dt=>Ar(tn({},dt),{events:tn(tn({},dt.events),Dt)}))}))});return x.useEffect(()=>{const Ne=V.subscribe(Ge=>P.setState(ct=>Z(Ge,ct)));return()=>{Ne(),P.destroy()}},[]),x.useEffect(()=>{P.setState(Ne=>Z(V.getState(),Ne))},[Z]),x.createElement(x.Fragment,null,lt.createPortal(x.createElement(Gt.Provider,{value:P},U),P,null))}lt.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:x.version});const jr=x.unstable_act},49664:function(Jt,Qe,K){"use strict";K.d(Qe,{Xz:function(){return xe}});var A=K(65366),x=K(72564),g=K(50959),_=K(26553),T=K(94440),k=Object.defineProperty,z=Object.defineProperties,Y=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable,Se=(de,X,ee)=>X in de?k(de,X,{enumerable:!0,configurable:!0,writable:!0,value:ee}):de[X]=ee,F=(de,X)=>{for(var ee in X||(X={}))oe.call(X,ee)&&Se(de,ee,X[ee]);if(le)for(var ee of le(X))be.call(X,ee)&&Se(de,ee,X[ee]);return de},it=(de,X)=>z(de,Y(X));function st(de,X,ee){if(!de)return;if(ee(de)===!0)return de;let Pe=X?de.return:de.child;for(;Pe;){const Q=st(Pe,X,ee);if(Q)return Q;Pe=X?null:Pe.sibling}}function nn(de){try{return Object.defineProperties(de,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch(X){return de}}const ht=nn(g.createContext(null));class Rt extends g.Component{render(){return g.createElement(ht.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:O,ReactCurrentDispatcher:Ye}=g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function pt(){const de=g.useContext(ht);if(de===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const X=g.useId();return g.useMemo(()=>{for(const Pe of[O==null?void 0:O.current,de,de==null?void 0:de.alternate]){if(!Pe)continue;const Q=st(Pe,!1,Le=>{let Ee=Le.memoizedState;for(;Ee;){if(Ee.memoizedState===X)return!0;Ee=Ee.next}});if(Q)return Q}},[de,X])}function zt(){const de=pt(),X=React.useMemo(()=>st(de,!0,ee=>{var Pe;return((Pe=ee.stateNode)==null?void 0:Pe.containerInfo)!=null}),[de]);return X==null?void 0:X.stateNode.containerInfo}function Ot(de){const X=pt(),ee=React.useRef();return React.useLayoutEffect(()=>{var Pe;ee.current=(Pe=st(X,!1,Q=>typeof Q.type=="string"&&(de===void 0||Q.type===de)))==null?void 0:Pe.stateNode},[X]),ee}function Be(de){const X=pt(),ee=React.useRef();return React.useLayoutEffect(()=>{var Pe;ee.current=(Pe=st(X,!0,Q=>typeof Q.type=="string"&&(de===void 0||Q.type===de)))==null?void 0:Pe.stateNode},[X]),ee}function Ue(){var de,X;const ee=pt(),[Pe]=g.useState(()=>new Map);Pe.clear();let Q=ee;for(;Q;){const Le=(de=Q.type)==null?void 0:de._context;Le&&Le!==ht&&!Pe.has(Le)&&Pe.set(Le,(X=Ye==null?void 0:Ye.current)==null?void 0:X.readContext(nn(Le))),Q=Q.return}return Pe}function ft(){const de=Ue();return g.useMemo(()=>Array.from(de.keys()).reduce((X,ee)=>Pe=>g.createElement(X,null,g.createElement(ee.Provider,it(F({},Pe),{value:de.get(ee)}))),X=>g.createElement(Rt,F({},X))),[de])}var bt=K(85259),j=K(97427),ye=K(65297);const ge={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ve(de){const{handlePointer:X}=(0,A.c)(de);return{priority:1,enabled:!0,compute(ee,Pe,Q){Pe.pointer.set(ee.offsetX/Pe.size.width*2-1,-(ee.offsetY/Pe.size.height)*2+1),Pe.raycaster.setFromCamera(Pe.pointer,Pe.camera)},connected:void 0,handlers:Object.keys(ge).reduce((ee,Pe)=>Ar(tn({},ee),{[Pe]:X(Pe)}),{}),update:()=>{var ee;const{events:Pe,internal:Q}=de.getState();(ee=Q.lastEvent)!=null&&ee.current&&Pe.handlers&&Pe.handlers.onPointerMove(Q.lastEvent.current)},connect:ee=>{var Pe;const{set:Q,events:Le}=de.getState();Le.disconnect==null||Le.disconnect(),Q(Ee=>({events:Ar(tn({},Ee.events),{connected:ee})})),Object.entries((Pe=Le.handlers)!=null?Pe:[]).forEach(([Ee,ke])=>{const[qe,rt]=ge[Ee];ee.addEventListener(qe,ke,{passive:rt})})},disconnect:()=>{const{set:ee,events:Pe}=de.getState();if(Pe.connected){var Q;Object.entries((Q=Pe.handlers)!=null?Q:[]).forEach(([Le,Ee])=>{if(Pe&&Pe.connected instanceof HTMLElement){const[ke]=ge[Le];Pe.connected.removeEventListener(ke,Ee)}}),ee(Le=>({events:Ar(tn({},Le.events),{connected:void 0})}))}}}}const Ce=g.forwardRef(function(rn,yn){var sn=rn,{children:X,fallback:ee,resize:Pe,style:Q,gl:Le,events:Ee=ve,eventSource:ke,eventPrefix:qe,shadows:rt,linear:tt,flat:St,legacy:at,orthographic:Mt,frameloop:Et,dpr:Ct,performance:We,raycaster:Ve,camera:gt,onPointerMissed:$t,onCreated:Gt}=sn,Yt=Eo(sn,["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"]);g.useMemo(()=>(0,A.e)(_),[]);const Mn=ft(),[xt,he]=(0,T.Z)(tn({scroll:!0,debounce:{scroll:50,resize:0}},Pe)),Me=g.useRef(null),Oe=g.useRef(null);g.useImperativeHandle(yn,()=>Me.current);const Ke=(0,A.u)($t),[Xe,Nt]=g.useState(!1),[Qt,Dn]=g.useState(!1);if(Xe)throw Xe;if(Qt)throw Qt;const Pn=g.useRef(null);(0,A.a)(()=>{const Je=Me.current;he.width>0&&he.height>0&&Je&&(Pn.current||(Pn.current=(0,A.b)(Je)),Pn.current.configure({gl:Le,events:Ee,shadows:rt,linear:tt,flat:St,legacy:at,orthographic:Mt,frameloop:Et,dpr:Ct,performance:We,raycaster:Ve,camera:gt,size:he,onPointerMissed:(...nt)=>Ke.current==null?void 0:Ke.current(...nt),onCreated:nt=>{nt.events.connect==null||nt.events.connect(ke?(0,A.i)(ke)?ke.current:ke:Oe.current),qe&&nt.setEvents({compute:(et,Ut)=>{const pn=et[qe+"X"],an=et[qe+"Y"];Ut.pointer.set(pn/Ut.size.width*2-1,-(an/Ut.size.height)*2+1),Ut.raycaster.setFromCamera(Ut.pointer,Ut.camera)}}),Gt==null||Gt(nt)}}),Pn.current.render(g.createElement(Mn,null,g.createElement(A.E,{set:Dn},g.createElement(g.Suspense,{fallback:g.createElement(A.B,{set:Nt})},X)))))}),g.useEffect(()=>{const Je=Me.current;if(Je)return()=>(0,A.d)(Je)},[]);const me=ke?"none":"auto";return g.createElement("div",(0,x.Z)({ref:Oe,style:tn({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:me},Q)},Yt),g.createElement("div",{ref:xt,style:{width:"100%",height:"100%"}},g.createElement("canvas",{ref:Me,style:{display:"block"}},ee)))}),xe=g.forwardRef(function(X,ee){return g.createElement(Rt,null,g.createElement(Ce,(0,x.Z)({},X,{ref:ee})))})},31048:function(Jt,Qe,K){"use strict";var A=K(45389),x=K(75188),g=K(43957),_=K(40846),T=K(11527),k=["children"];function z(le,oe){var be=Object.keys(le);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(le);oe&&(Se=Se.filter(function(F){return Object.getOwnPropertyDescriptor(le,F).enumerable})),be.push.apply(be,Se)}return be}function Y(le){for(var oe=1;oe<arguments.length;oe++){var be=arguments[oe]!=null?arguments[oe]:{};oe%2?z(Object(be),!0).forEach(function(Se){(0,A.Z)(le,Se,be[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(be)):z(Object(be)).forEach(function(Se){Object.defineProperty(le,Se,Object.getOwnPropertyDescriptor(be,Se))})}return le}Qe.Z=function(le){var oe=le.children,be=(0,x.Z)(le,k);return(0,T.jsx)(_.f,Y(Y({},be),{},{children:(0,T.jsx)(g.Z,{children:oe})}))}},7798:function(Jt,Qe,K){"use strict";K.d(Qe,{Z:function(){return oe}});var A=K(40513),x=K(50959),g=K(28062),_=K(18621),T=K(49937);function k(be){function Se(F,it){it===void 0&&(it={});var st,nn=it.onError,ht=nn===void 0?function(Ue){console.error(Ue)}:nn;try{st=be()}catch(Ue){ht(Ue)}var Rt=function(Ue){return it!=null&&it.serializer?it==null?void 0:it.serializer(Ue):JSON.stringify(Ue)},O=function(Ue){return it!=null&&it.deserializer?it==null?void 0:it.deserializer(Ue):JSON.parse(Ue)};function Ye(){try{var Ue=st==null?void 0:st.getItem(F);if(Ue)return O(Ue)}catch(ft){ht(ft)}return(0,T.mf)(it==null?void 0:it.defaultValue)?it==null?void 0:it.defaultValue():it==null?void 0:it.defaultValue}var pt=(0,A.CR)((0,x.useState)(function(){return Ye()}),2),zt=pt[0],Ot=pt[1];(0,_.Z)(function(){Ot(Ye())},[F]);var Be=function(Ue){var ft=(0,T.mf)(Ue)?Ue(zt):Ue;if(Ot(ft),(0,T.G7)(ft))st==null||st.removeItem(F);else try{st==null||st.setItem(F,Rt(ft))}catch(bt){console.error(bt)}};return[zt,(0,g.Z)(Be)]}return Se}var z=!!(typeof window!="undefined"&&window.document&&window.document.createElement),Y=z,le=k(function(){return Y?localStorage:void 0}),oe=le},28062:function(Jt,Qe,K){"use strict";var A=K(50959),x=K(49937),g=K(70510);function _(T){g.Z&&((0,x.mf)(T)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof T)));var k=(0,A.useRef)(T);k.current=(0,A.useMemo)(function(){return T},[T]);var z=(0,A.useRef)();return z.current||(z.current=function(){for(var Y=[],le=0;le<arguments.length;le++)Y[le]=arguments[le];return k.current.apply(this,Y)}),z.current}Qe.Z=_},18621:function(Jt,Qe,K){"use strict";K.d(Qe,{Z:function(){return _}});var A=K(50959),x=function(T){return function(k,z){var Y=(0,A.useRef)(!1);T(function(){return function(){Y.current=!1}},[]),T(function(){if(!Y.current)Y.current=!0;else return k()},z)}},g=null,_=x(A.useEffect)},49937:function(Jt,Qe,K){"use strict";K.d(Qe,{G7:function(){return k},mf:function(){return x}});var A=function(z){return z!==null&&typeof z=="object"},x=function(z){return typeof z=="function"},g=function(z){return typeof z=="string"},_=function(z){return typeof z=="boolean"},T=function(z){return typeof z=="number"},k=function(z){return typeof z=="undefined"}},70510:function(Jt,Qe){"use strict";var K=!1;Qe.Z=K},45924:function(Jt,Qe,K){"use strict";K.r(Qe),K.d(Qe,{clsx:function(){return x}});function A(g){var _,T,k="";if(typeof g=="string"||typeof g=="number")k+=g;else if(typeof g=="object")if(Array.isArray(g))for(_=0;_<g.length;_++)g[_]&&(T=A(g[_]))&&(k&&(k+=" "),k+=T);else for(_ in g)g[_]&&(k&&(k+=" "),k+=_);return k}function x(){for(var g,_,T=0,k="";T<arguments.length;)(g=arguments[T++])&&(_=A(g))&&(k&&(k+=" "),k+=_);return k}Qe.default=x},31110:function(Jt){function Qe(K,A,x){var g,_,T,k,z;A==null&&(A=100);function Y(){var oe=Date.now()-k;oe<A&&oe>=0?g=setTimeout(Y,A-oe):(g=null,x||(z=K.apply(T,_),T=_=null))}var le=function(){T=this,_=arguments,k=Date.now();var oe=x&&!g;return g||(g=setTimeout(Y,A)),oe&&(z=K.apply(T,_),T=_=null),z};return le.clear=function(){g&&(clearTimeout(g),g=null)},le.flush=function(){g&&(z=K.apply(T,_),T=_=null,clearTimeout(g),g=null)},le}Qe.debounce=Qe,Jt.exports=Qe},69978:function(Jt){function Qe(oe,be){var Se=be&&be.cache?be.cache:le,F=be&&be.serializer?be.serializer:z,it=be&&be.strategy?be.strategy:_;return it(oe,{cache:Se,serializer:F})}function K(oe){return oe==null||typeof oe=="number"||typeof oe=="boolean"}function A(oe,be,Se,F){var it=K(F)?F:Se(F),st=be.get(it);return typeof st=="undefined"&&(st=oe.call(this,F),be.set(it,st)),st}function x(oe,be,Se){var F=Array.prototype.slice.call(arguments,3),it=Se(F),st=be.get(it);return typeof st=="undefined"&&(st=oe.apply(this,F),be.set(it,st)),st}function g(oe,be,Se,F,it){return Se.bind(be,oe,F,it)}function _(oe,be){var Se=oe.length===1?A:x;return g(oe,this,Se,be.cache.create(),be.serializer)}function T(oe,be){var Se=x;return g(oe,this,Se,be.cache.create(),be.serializer)}function k(oe,be){var Se=A;return g(oe,this,Se,be.cache.create(),be.serializer)}function z(){return JSON.stringify(arguments)}function Y(){this.cache=Object.create(null)}Y.prototype.has=function(oe){return oe in this.cache},Y.prototype.get=function(oe){return this.cache[oe]},Y.prototype.set=function(oe,be){this.cache[oe]=be};var le={create:function(){return new Y}};Jt.exports=Qe,Jt.exports.strategies={variadic:T,monadic:k}},5899:function(Jt,Qe,K){Jt=K.nmd(Jt);var A=200,x="__lodash_hash_undefined__",g=1,_=2,T=9007199254740991,k="[object Arguments]",z="[object Array]",Y="[object AsyncFunction]",le="[object Boolean]",oe="[object Date]",be="[object Error]",Se="[object Function]",F="[object GeneratorFunction]",it="[object Map]",st="[object Number]",nn="[object Null]",ht="[object Object]",Rt="[object Promise]",O="[object Proxy]",Ye="[object RegExp]",pt="[object Set]",zt="[object String]",Ot="[object Symbol]",Be="[object Undefined]",Ue="[object WeakMap]",ft="[object ArrayBuffer]",bt="[object DataView]",j="[object Float32Array]",ye="[object Float64Array]",ge="[object Int8Array]",ve="[object Int16Array]",Ce="[object Int32Array]",xe="[object Uint8Array]",de="[object Uint8ClampedArray]",X="[object Uint16Array]",ee="[object Uint32Array]",Pe=/[\\^$.*+?()[\]{}|]/g,Q=/^\[object .+?Constructor\]$/,Le=/^(?:0|[1-9]\d*)$/,Ee={};Ee[j]=Ee[ye]=Ee[ge]=Ee[ve]=Ee[Ce]=Ee[xe]=Ee[de]=Ee[X]=Ee[ee]=!0,Ee[k]=Ee[z]=Ee[ft]=Ee[le]=Ee[bt]=Ee[oe]=Ee[be]=Ee[Se]=Ee[it]=Ee[st]=Ee[ht]=Ee[Ye]=Ee[pt]=Ee[zt]=Ee[Ue]=!1;var ke=typeof K.g=="object"&&K.g&&K.g.Object===Object&&K.g,qe=typeof self=="object"&&self&&self.Object===Object&&self,rt=ke||qe||Function("return this")(),tt=Qe&&!Qe.nodeType&&Qe,St=tt&&!0&&Jt&&!Jt.nodeType&&Jt,at=St&&St.exports===tt,Mt=at&&ke.process,Et=function(){try{return Mt&&Mt.binding&&Mt.binding("util")}catch(W){}}(),Ct=Et&&Et.isTypedArray;function We(W,we){for(var D=-1,re=W==null?0:W.length,$e=0,_t=[];++D<re;){var mn=W[D];we(mn,D,W)&&(_t[$e++]=mn)}return _t}function Ve(W,we){for(var D=-1,re=we.length,$e=W.length;++D<re;)W[$e+D]=we[D];return W}function gt(W,we){for(var D=-1,re=W==null?0:W.length;++D<re;)if(we(W[D],D,W))return!0;return!1}function $t(W,we){for(var D=-1,re=Array(W);++D<W;)re[D]=we(D);return re}function Gt(W){return function(we){return W(we)}}function Yt(W,we){return W.has(we)}function yn(W,we){return W==null?void 0:W[we]}function rn(W){var we=-1,D=Array(W.size);return W.forEach(function(re,$e){D[++we]=[$e,re]}),D}function sn(W,we){return function(D){return W(we(D))}}function Mn(W){var we=-1,D=Array(W.size);return W.forEach(function(re){D[++we]=re}),D}var xt=Array.prototype,he=Function.prototype,Me=Object.prototype,Oe=rt["__core-js_shared__"],Ke=he.toString,Xe=Me.hasOwnProperty,Nt=function(){var W=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||"");return W?"Symbol(src)_1."+W:""}(),Qt=Me.toString,Dn=RegExp("^"+Ke.call(Xe).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pn=at?rt.Buffer:void 0,me=rt.Symbol,Je=rt.Uint8Array,nt=Me.propertyIsEnumerable,et=xt.splice,Ut=me?me.toStringTag:void 0,pn=Object.getOwnPropertySymbols,an=Pn?Pn.isBuffer:void 0,Vt=sn(Object.keys,Object),pe=di(rt,"DataView"),De=di(rt,"Map"),lt=di(rt,"Promise"),Tt=di(rt,"Set"),Wt=di(rt,"WeakMap"),Cn=di(Object,"create"),Bn=Wi(pe),Gn=Wi(De),vr=Wi(lt),Mr=Wi(Tt),xr=Wi(Wt),mi=me?me.prototype:void 0,Pr=mi?mi.valueOf:void 0;function jr(W){var we=-1,D=W==null?0:W.length;for(this.clear();++we<D;){var re=W[we];this.set(re[0],re[1])}}function I(){this.__data__=Cn?Cn(null):{},this.size=0}function U(W){var we=this.has(W)&&delete this.__data__[W];return this.size-=we?1:0,we}function m(W){var we=this.__data__;if(Cn){var D=we[W];return D===x?void 0:D}return Xe.call(we,W)?we[W]:void 0}function C(W){var we=this.__data__;return Cn?we[W]!==void 0:Xe.call(we,W)}function w(W,we){var D=this.__data__;return this.size+=this.has(W)?0:1,D[W]=Cn&&we===void 0?x:we,this}jr.prototype.clear=I,jr.prototype.delete=U,jr.prototype.get=m,jr.prototype.has=C,jr.prototype.set=w;function L(W){var we=-1,D=W==null?0:W.length;for(this.clear();++we<D;){var re=W[we];this.set(re[0],re[1])}}function V(){this.__data__=[],this.size=0}function se(W){var we=this.__data__,D=fn(we,W);if(D<0)return!1;var re=we.length-1;return D==re?we.pop():et.call(we,D,1),--this.size,!0}function N(W){var we=this.__data__,D=fn(we,W);return D<0?void 0:we[D][1]}function Z(W){return fn(this.__data__,W)>-1}function P(W,we){var D=this.__data__,re=fn(D,W);return re<0?(++this.size,D.push([W,we])):D[re][1]=we,this}L.prototype.clear=V,L.prototype.delete=se,L.prototype.get=N,L.prototype.has=Z,L.prototype.set=P;function $(W){var we=-1,D=W==null?0:W.length;for(this.clear();++we<D;){var re=W[we];this.set(re[0],re[1])}}function Ne(){this.size=0,this.__data__={hash:new jr,map:new(De||L),string:new jr}}function Ge(W){var we=lo(this,W).delete(W);return this.size-=we?1:0,we}function ct(W){return lo(this,W).get(W)}function Ft(W){return lo(this,W).has(W)}function Dt(W,we){var D=lo(this,W),re=D.size;return D.set(W,we),this.size+=D.size==re?0:1,this}$.prototype.clear=Ne,$.prototype.delete=Ge,$.prototype.get=ct,$.prototype.has=Ft,$.prototype.set=Dt;function dt(W){var we=-1,D=W==null?0:W.length;for(this.__data__=new $;++we<D;)this.add(W[we])}function mt(W){return this.__data__.set(W,x),this}function ut(W){return this.__data__.has(W)}dt.prototype.add=dt.prototype.push=mt,dt.prototype.has=ut;function Zt(W){var we=this.__data__=new L(W);this.size=we.size}function Sn(){this.__data__=new L,this.size=0}function xn(W){var we=this.__data__,D=we.delete(W);return this.size=we.size,D}function Fn(W){return this.__data__.get(W)}function An(W){return this.__data__.has(W)}function zn(W,we){var D=this.__data__;if(D instanceof L){var re=D.__data__;if(!De||re.length<A-1)return re.push([W,we]),this.size=++D.size,this;D=this.__data__=new $(re)}return D.set(W,we),this.size=D.size,this}Zt.prototype.clear=Sn,Zt.prototype.delete=xn,Zt.prototype.get=Fn,Zt.prototype.has=An,Zt.prototype.set=zn;function Jn(W,we){var D=Ji(W),re=!D&&Yr(W),$e=!D&&!re&&ps(W),_t=!D&&!re&&!$e&&Re(W),mn=D||re||$e||_t,On=mn?$t(W.length,String):[],Un=On.length;for(var _n in W)(we||Xe.call(W,_n))&&!(mn&&(_n=="length"||$e&&(_n=="offset"||_n=="parent")||_t&&(_n=="buffer"||_n=="byteLength"||_n=="byteOffset")||Ns(_n,Un)))&&On.push(_n);return On}function fn(W,we){for(var D=W.length;D--;)if(qo(W[D][0],we))return D;return-1}function Vn(W,we,D){var re=we(W);return Ji(W)?re:Ve(re,D(W))}function lr(W){return W==null?W===void 0?Be:nn:Ut&&Ut in Object(W)?Yo(W):Do(W)}function yr(W){return J(W)&&lr(W)==k}function Hr(W,we,D,re,$e){return W===we?!0:W==null||we==null||!J(W)&&!J(we)?W!==W&&we!==we:wi(W,we,D,re,Hr,$e)}function wi(W,we,D,re,$e,_t){var mn=Ji(W),On=Ji(we),Un=mn?z:Lo(W),_n=On?z:Lo(we);Un=Un==k?ht:Un,_n=_n==k?ht:_n;var $n=Un==ht,hr=_n==ht,nr=Un==_n;if(nr&&ps(W)){if(!ps(we))return!1;mn=!0,$n=!1}if(nr&&!$n)return _t||(_t=new Zt),mn||Re(W)?_i(W,we,D,re,$e,_t):Er(W,we,Un,D,re,$e,_t);if(!(D&g)){var Cr=$n&&Xe.call(W,"__wrapped__"),Xr=hr&&Xe.call(we,"__wrapped__");if(Cr||Xr){var Or=Cr?W.value():W,Fr=Xr?we.value():we;return _t||(_t=new Zt),$e(Or,Fr,D,re,_t)}}return nr?(_t||(_t=new Zt),Tr(W,we,D,re,$e,_t)):!1}function ni(W){if(!B(W)||bi(W))return!1;var we=Jo(W)?Dn:Q;return we.test(Wi(W))}function ri(W){return J(W)&&Ai(W.length)&&!!Ee[lr(W)]}function ii(W){if(!Fs(W))return Vt(W);var we=[];for(var D in Object(W))Xe.call(W,D)&&D!="constructor"&&we.push(D);return we}function _i(W,we,D,re,$e,_t){var mn=D&g,On=W.length,Un=we.length;if(On!=Un&&!(mn&&Un>On))return!1;var _n=_t.get(W);if(_n&&_t.get(we))return _n==we;var $n=-1,hr=!0,nr=D&_?new dt:void 0;for(_t.set(W,we),_t.set(we,W);++$n<On;){var Cr=W[$n],Xr=we[$n];if(re)var Or=mn?re(Xr,Cr,$n,we,W,_t):re(Cr,Xr,$n,W,we,_t);if(Or!==void 0){if(Or)continue;hr=!1;break}if(nr){if(!gt(we,function(Fr,Lr){if(!Yt(nr,Lr)&&(Cr===Fr||$e(Cr,Fr,D,re,_t)))return nr.push(Lr)})){hr=!1;break}}else if(!(Cr===Xr||$e(Cr,Xr,D,re,_t))){hr=!1;break}}return _t.delete(W),_t.delete(we),hr}function Er(W,we,D,re,$e,_t,mn){switch(D){case bt:if(W.byteLength!=we.byteLength||W.byteOffset!=we.byteOffset)return!1;W=W.buffer,we=we.buffer;case ft:return!(W.byteLength!=we.byteLength||!_t(new Je(W),new Je(we)));case le:case oe:case st:return qo(+W,+we);case be:return W.name==we.name&&W.message==we.message;case Ye:case zt:return W==we+"";case it:var On=rn;case pt:var Un=re&g;if(On||(On=Mn),W.size!=we.size&&!Un)return!1;var _n=mn.get(W);if(_n)return _n==we;re|=_,mn.set(W,we);var $n=_i(On(W),On(we),re,$e,_t,mn);return mn.delete(W),$n;case Ot:if(Pr)return Pr.call(W)==Pr.call(we)}return!1}function Tr(W,we,D,re,$e,_t){var mn=D&g,On=yi(W),Un=On.length,_n=yi(we),$n=_n.length;if(Un!=$n&&!mn)return!1;for(var hr=Un;hr--;){var nr=On[hr];if(!(mn?nr in we:Xe.call(we,nr)))return!1}var Cr=_t.get(W);if(Cr&&_t.get(we))return Cr==we;var Xr=!0;_t.set(W,we),_t.set(we,W);for(var Or=mn;++hr<Un;){nr=On[hr];var Fr=W[nr],Lr=we[nr];if(re)var Vr=mn?re(Lr,Fr,nr,we,W,_t):re(Fr,Lr,nr,W,we,_t);if(!(Vr===void 0?Fr===Lr||$e(Fr,Lr,D,re,_t):Vr)){Xr=!1;break}Or||(Or=nr=="constructor")}if(Xr&&!Or){var Ir=W.constructor,Ii=we.constructor;Ir!=Ii&&"constructor"in W&&"constructor"in we&&!(typeof Ir=="function"&&Ir instanceof Ir&&typeof Ii=="function"&&Ii instanceof Ii)&&(Xr=!1)}return _t.delete(W),_t.delete(we),Xr}function yi(W){return Vn(W,ot,Ko)}function lo(W,we){var D=W.__data__;return Fo(we)?D[typeof we=="string"?"string":"hash"]:D.map}function di(W,we){var D=yn(W,we);return ni(D)?D:void 0}function Yo(W){var we=Xe.call(W,Ut),D=W[Ut];try{W[Ut]=void 0;var re=!0}catch(_t){}var $e=Qt.call(W);return re&&(we?W[Ut]=D:delete W[Ut]),$e}var Ko=pn?function(W){return W==null?[]:(W=Object(W),We(pn(W),function(we){return nt.call(W,we)}))}:It,Lo=lr;(pe&&Lo(new pe(new ArrayBuffer(1)))!=bt||De&&Lo(new De)!=it||lt&&Lo(lt.resolve())!=Rt||Tt&&Lo(new Tt)!=pt||Wt&&Lo(new Wt)!=Ue)&&(Lo=function(W){var we=lr(W),D=we==ht?W.constructor:void 0,re=D?Wi(D):"";if(re)switch(re){case Bn:return bt;case Gn:return it;case vr:return Rt;case Mr:return pt;case xr:return Ue}return we});function Ns(W,we){return we=we==null?T:we,!!we&&(typeof W=="number"||Le.test(W))&&W>-1&&W%1==0&&W<we}function Fo(W){var we=typeof W;return we=="string"||we=="number"||we=="symbol"||we=="boolean"?W!=="__proto__":W===null}function bi(W){return!!Nt&&Nt in W}function Fs(W){var we=W&&W.constructor,D=typeof we=="function"&&we.prototype||Me;return W===D}function Do(W){return Qt.call(W)}function Wi(W){if(W!=null){try{return Ke.call(W)}catch(we){}try{return W+""}catch(we){}}return""}function qo(W,we){return W===we||W!==W&&we!==we}var Yr=yr(function(){return arguments}())?yr:function(W){return J(W)&&Xe.call(W,"callee")&&!nt.call(W,"callee")},Ji=Array.isArray;function Ro(W){return W!=null&&Ai(W.length)&&!Jo(W)}var ps=an||Lt;function ms(W,we){return Hr(W,we)}function Jo(W){if(!B(W))return!1;var we=lr(W);return we==Se||we==F||we==Y||we==O}function Ai(W){return typeof W=="number"&&W>-1&&W%1==0&&W<=T}function B(W){var we=typeof W;return W!=null&&(we=="object"||we=="function")}function J(W){return W!=null&&typeof W=="object"}var Re=Ct?Gt(Ct):ri;function ot(W){return Ro(W)?Jn(W):ii(W)}function It(){return[]}function Lt(){return!1}Jt.exports=ms},72266:function(Jt,Qe,K){Jt=K.nmd(Jt);var A=200,x="__lodash_hash_undefined__",g=800,_=16,T=9007199254740991,k="[object Arguments]",z="[object Array]",Y="[object AsyncFunction]",le="[object Boolean]",oe="[object Date]",be="[object Error]",Se="[object Function]",F="[object GeneratorFunction]",it="[object Map]",st="[object Number]",nn="[object Null]",ht="[object Object]",Rt="[object Proxy]",O="[object RegExp]",Ye="[object Set]",pt="[object String]",zt="[object Undefined]",Ot="[object WeakMap]",Be="[object ArrayBuffer]",Ue="[object DataView]",ft="[object Float32Array]",bt="[object Float64Array]",j="[object Int8Array]",ye="[object Int16Array]",ge="[object Int32Array]",ve="[object Uint8Array]",Ce="[object Uint8ClampedArray]",xe="[object Uint16Array]",de="[object Uint32Array]",X=/[\\^$.*+?()[\]{}|]/g,ee=/^\[object .+?Constructor\]$/,Pe=/^(?:0|[1-9]\d*)$/,Q={};Q[ft]=Q[bt]=Q[j]=Q[ye]=Q[ge]=Q[ve]=Q[Ce]=Q[xe]=Q[de]=!0,Q[k]=Q[z]=Q[Be]=Q[le]=Q[Ue]=Q[oe]=Q[be]=Q[Se]=Q[it]=Q[st]=Q[ht]=Q[O]=Q[Ye]=Q[pt]=Q[Ot]=!1;var Le=typeof K.g=="object"&&K.g&&K.g.Object===Object&&K.g,Ee=typeof self=="object"&&self&&self.Object===Object&&self,ke=Le||Ee||Function("return this")(),qe=Qe&&!Qe.nodeType&&Qe,rt=qe&&!0&&Jt&&!Jt.nodeType&&Jt,tt=rt&&rt.exports===qe,St=tt&&Le.process,at=function(){try{var D=rt&&rt.require&&rt.require("util").types;return D||St&&St.binding&&St.binding("util")}catch(re){}}(),Mt=at&&at.isTypedArray;function Et(D,re,$e){switch($e.length){case 0:return D.call(re);case 1:return D.call(re,$e[0]);case 2:return D.call(re,$e[0],$e[1]);case 3:return D.call(re,$e[0],$e[1],$e[2])}return D.apply(re,$e)}function Ct(D,re){for(var $e=-1,_t=Array(D);++$e<D;)_t[$e]=re($e);return _t}function We(D){return function(re){return D(re)}}function Ve(D,re){return D==null?void 0:D[re]}function gt(D,re){return function($e){return D(re($e))}}var $t=Array.prototype,Gt=Function.prototype,Yt=Object.prototype,yn=ke["__core-js_shared__"],rn=Gt.toString,sn=Yt.hasOwnProperty,Mn=function(){var D=/[^.]+$/.exec(yn&&yn.keys&&yn.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}(),xt=Yt.toString,he=rn.call(Object),Me=RegExp("^"+rn.call(sn).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oe=tt?ke.Buffer:void 0,Ke=ke.Symbol,Xe=ke.Uint8Array,Nt=Oe?Oe.allocUnsafe:void 0,Qt=gt(Object.getPrototypeOf,Object),Dn=Object.create,Pn=Yt.propertyIsEnumerable,me=$t.splice,Je=Ke?Ke.toStringTag:void 0,nt=function(){try{var D=ri(Object,"defineProperty");return D({},"",{}),D}catch(re){}}(),et=Oe?Oe.isBuffer:void 0,Ut=Math.max,pn=Date.now,an=ri(ke,"Map"),Vt=ri(Object,"create"),pe=function(){function D(){}return function(re){if(!Jo(re))return{};if(Dn)return Dn(re);D.prototype=re;var $e=new D;return D.prototype=void 0,$e}}();function De(D){var re=-1,$e=D==null?0:D.length;for(this.clear();++re<$e;){var _t=D[re];this.set(_t[0],_t[1])}}function lt(){this.__data__=Vt?Vt(null):{},this.size=0}function Tt(D){var re=this.has(D)&&delete this.__data__[D];return this.size-=re?1:0,re}function Wt(D){var re=this.__data__;if(Vt){var $e=re[D];return $e===x?void 0:$e}return sn.call(re,D)?re[D]:void 0}function Cn(D){var re=this.__data__;return Vt?re[D]!==void 0:sn.call(re,D)}function Bn(D,re){var $e=this.__data__;return this.size+=this.has(D)?0:1,$e[D]=Vt&&re===void 0?x:re,this}De.prototype.clear=lt,De.prototype.delete=Tt,De.prototype.get=Wt,De.prototype.has=Cn,De.prototype.set=Bn;function Gn(D){var re=-1,$e=D==null?0:D.length;for(this.clear();++re<$e;){var _t=D[re];this.set(_t[0],_t[1])}}function vr(){this.__data__=[],this.size=0}function Mr(D){var re=this.__data__,$e=ct(re,D);if($e<0)return!1;var _t=re.length-1;return $e==_t?re.pop():me.call(re,$e,1),--this.size,!0}function xr(D){var re=this.__data__,$e=ct(re,D);return $e<0?void 0:re[$e][1]}function mi(D){return ct(this.__data__,D)>-1}function Pr(D,re){var $e=this.__data__,_t=ct($e,D);return _t<0?(++this.size,$e.push([D,re])):$e[_t][1]=re,this}Gn.prototype.clear=vr,Gn.prototype.delete=Mr,Gn.prototype.get=xr,Gn.prototype.has=mi,Gn.prototype.set=Pr;function jr(D){var re=-1,$e=D==null?0:D.length;for(this.clear();++re<$e;){var _t=D[re];this.set(_t[0],_t[1])}}function I(){this.size=0,this.__data__={hash:new De,map:new(an||Gn),string:new De}}function U(D){var re=ni(this,D).delete(D);return this.size-=re?1:0,re}function m(D){return ni(this,D).get(D)}function C(D){return ni(this,D).has(D)}function w(D,re){var $e=ni(this,D),_t=$e.size;return $e.set(D,re),this.size+=$e.size==_t?0:1,this}jr.prototype.clear=I,jr.prototype.delete=U,jr.prototype.get=m,jr.prototype.has=C,jr.prototype.set=w;function L(D){var re=this.__data__=new Gn(D);this.size=re.size}function V(){this.__data__=new Gn,this.size=0}function se(D){var re=this.__data__,$e=re.delete(D);return this.size=re.size,$e}function N(D){return this.__data__.get(D)}function Z(D){return this.__data__.has(D)}function P(D,re){var $e=this.__data__;if($e instanceof Gn){var _t=$e.__data__;if(!an||_t.length<A-1)return _t.push([D,re]),this.size=++$e.size,this;$e=this.__data__=new jr(_t)}return $e.set(D,re),this.size=$e.size,this}L.prototype.clear=V,L.prototype.delete=se,L.prototype.get=N,L.prototype.has=Z,L.prototype.set=P;function $(D,re){var $e=qo(D),_t=!$e&&Wi(D),mn=!$e&&!_t&&Ro(D),On=!$e&&!_t&&!mn&&J(D),Un=$e||_t||mn||On,_n=Un?Ct(D.length,String):[],$n=_n.length;for(var hr in D)(re||sn.call(D,hr))&&!(Un&&(hr=="length"||mn&&(hr=="offset"||hr=="parent")||On&&(hr=="buffer"||hr=="byteLength"||hr=="byteOffset")||Er(hr,$n)))&&_n.push(hr);return _n}function Ne(D,re,$e){($e!==void 0&&!Do(D[re],$e)||$e===void 0&&!(re in D))&&Ft(D,re,$e)}function Ge(D,re,$e){var _t=D[re];(!(sn.call(D,re)&&Do(_t,$e))||$e===void 0&&!(re in D))&&Ft(D,re,$e)}function ct(D,re){for(var $e=D.length;$e--;)if(Do(D[$e][0],re))return $e;return-1}function Ft(D,re,$e){re=="__proto__"&&nt?nt(D,re,{configurable:!0,enumerable:!0,value:$e,writable:!0}):D[re]=$e}var Dt=wi();function dt(D){return D==null?D===void 0?zt:nn:Je&&Je in Object(D)?ii(D):Ko(D)}function mt(D){return Ai(D)&&dt(D)==k}function ut(D){if(!Jo(D)||lo(D))return!1;var re=ps(D)?Me:ee;return re.test(Fs(D))}function Zt(D){return Ai(D)&&ms(D.length)&&!!Q[dt(D)]}function Sn(D){if(!Jo(D))return Yo(D);var re=di(D),$e=[];for(var _t in D)_t=="constructor"&&(re||!sn.call(D,_t))||$e.push(_t);return $e}function xn(D,re,$e,_t,mn){D!==re&&Dt(re,function(On,Un){if(mn||(mn=new L),Jo(On))Fn(D,re,Un,$e,xn,_t,mn);else{var _n=_t?_t(Ns(D,Un),On,Un+"",D,re,mn):void 0;_n===void 0&&(_n=On),Ne(D,Un,_n)}},ot)}function Fn(D,re,$e,_t,mn,On,Un){var _n=Ns(D,$e),$n=Ns(re,$e),hr=Un.get($n);if(hr){Ne(D,$e,hr);return}var nr=On?On(_n,$n,$e+"",D,re,Un):void 0,Cr=nr===void 0;if(Cr){var Xr=qo($n),Or=!Xr&&Ro($n),Fr=!Xr&&!Or&&J($n);nr=$n,Xr||Or||Fr?qo(_n)?nr=_n:Ji(_n)?nr=lr(_n):Or?(Cr=!1,nr=Jn($n,!0)):Fr?(Cr=!1,nr=Vn($n,!0)):nr=[]:B($n)||Wi($n)?(nr=_n,Wi(_n)?nr=Re(_n):(!Jo(_n)||ps(_n))&&(nr=_i($n))):Cr=!1}Cr&&(Un.set($n,nr),mn(nr,$n,_t,On,Un),Un.delete($n)),Ne(D,$e,nr)}function An(D,re){return Fo(Lo(D,re,W),D+"")}var zn=nt?function(D,re){return nt(D,"toString",{configurable:!0,enumerable:!1,value:Lt(re),writable:!0})}:W;function Jn(D,re){if(re)return D.slice();var $e=D.length,_t=Nt?Nt($e):new D.constructor($e);return D.copy(_t),_t}function fn(D){var re=new D.constructor(D.byteLength);return new Xe(re).set(new Xe(D)),re}function Vn(D,re){var $e=re?fn(D.buffer):D.buffer;return new D.constructor($e,D.byteOffset,D.length)}function lr(D,re){var $e=-1,_t=D.length;for(re||(re=Array(_t));++$e<_t;)re[$e]=D[$e];return re}function yr(D,re,$e,_t){var mn=!$e;$e||($e={});for(var On=-1,Un=re.length;++On<Un;){var _n=re[On],$n=_t?_t($e[_n],D[_n],_n,$e,D):void 0;$n===void 0&&($n=D[_n]),mn?Ft($e,_n,$n):Ge($e,_n,$n)}return $e}function Hr(D){return An(function(re,$e){var _t=-1,mn=$e.length,On=mn>1?$e[mn-1]:void 0,Un=mn>2?$e[2]:void 0;for(On=D.length>3&&typeof On=="function"?(mn--,On):void 0,Un&&Tr($e[0],$e[1],Un)&&(On=mn<3?void 0:On,mn=1),re=Object(re);++_t<mn;){var _n=$e[_t];_n&&D(re,_n,_t,On)}return re})}function wi(D){return function(re,$e,_t){for(var mn=-1,On=Object(re),Un=_t(re),_n=Un.length;_n--;){var $n=Un[D?_n:++mn];if($e(On[$n],$n,On)===!1)break}return re}}function ni(D,re){var $e=D.__data__;return yi(re)?$e[typeof re=="string"?"string":"hash"]:$e.map}function ri(D,re){var $e=Ve(D,re);return ut($e)?$e:void 0}function ii(D){var re=sn.call(D,Je),$e=D[Je];try{D[Je]=void 0;var _t=!0}catch(On){}var mn=xt.call(D);return _t&&(re?D[Je]=$e:delete D[Je]),mn}function _i(D){return typeof D.constructor=="function"&&!di(D)?pe(Qt(D)):{}}function Er(D,re){var $e=typeof D;return re=re==null?T:re,!!re&&($e=="number"||$e!="symbol"&&Pe.test(D))&&D>-1&&D%1==0&&D<re}function Tr(D,re,$e){if(!Jo($e))return!1;var _t=typeof re;return(_t=="number"?Yr($e)&&Er(re,$e.length):_t=="string"&&re in $e)?Do($e[re],D):!1}function yi(D){var re=typeof D;return re=="string"||re=="number"||re=="symbol"||re=="boolean"?D!=="__proto__":D===null}function lo(D){return!!Mn&&Mn in D}function di(D){var re=D&&D.constructor,$e=typeof re=="function"&&re.prototype||Yt;return D===$e}function Yo(D){var re=[];if(D!=null)for(var $e in Object(D))re.push($e);return re}function Ko(D){return xt.call(D)}function Lo(D,re,$e){return re=Ut(re===void 0?D.length-1:re,0),function(){for(var _t=arguments,mn=-1,On=Ut(_t.length-re,0),Un=Array(On);++mn<On;)Un[mn]=_t[re+mn];mn=-1;for(var _n=Array(re+1);++mn<re;)_n[mn]=_t[mn];return _n[re]=$e(Un),Et(D,this,_n)}}function Ns(D,re){if(!(re==="constructor"&&typeof D[re]=="function")&&re!="__proto__")return D[re]}var Fo=bi(zn);function bi(D){var re=0,$e=0;return function(){var _t=pn(),mn=_-(_t-$e);if($e=_t,mn>0){if(++re>=g)return arguments[0]}else re=0;return D.apply(void 0,arguments)}}function Fs(D){if(D!=null){try{return rn.call(D)}catch(re){}try{return D+""}catch(re){}}return""}function Do(D,re){return D===re||D!==D&&re!==re}var Wi=mt(function(){return arguments}())?mt:function(D){return Ai(D)&&sn.call(D,"callee")&&!Pn.call(D,"callee")},qo=Array.isArray;function Yr(D){return D!=null&&ms(D.length)&&!ps(D)}function Ji(D){return Ai(D)&&Yr(D)}var Ro=et||we;function ps(D){if(!Jo(D))return!1;var re=dt(D);return re==Se||re==F||re==Y||re==Rt}function ms(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=T}function Jo(D){var re=typeof D;return D!=null&&(re=="object"||re=="function")}function Ai(D){return D!=null&&typeof D=="object"}function B(D){if(!Ai(D)||dt(D)!=ht)return!1;var re=Qt(D);if(re===null)return!0;var $e=sn.call(re,"constructor")&&re.constructor;return typeof $e=="function"&&$e instanceof $e&&rn.call($e)==he}var J=Mt?We(Mt):Zt;function Re(D){return yr(D,ot(D))}function ot(D){return Yr(D)?$(D,!0):Sn(D)}var It=Hr(function(D,re,$e){xn(D,re,$e)});function Lt(D){return function(){return D}}function W(D){return D}function we(){return!1}Jt.exports=It},44929:function(Jt,Qe,K){"use strict";function A(Q){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Le){return typeof Le}:function(Le){return Le&&typeof Symbol=="function"&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le},A(Q)}Object.defineProperty(Qe,"__esModule",{value:!0}),Object.defineProperty(Qe,"DraggableCore",{enumerable:!0,get:function(){return le.default}}),Qe.default=void 0;var x=it(K(50959)),g=Se(K(40507)),_=Se(K(10422)),T=Se(K(45924)),k=K(3767),z=K(21476),Y=K(89323),le=Se(K(67703)),oe=Se(K(21261)),be=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function Se(Q){return Q&&Q.__esModule?Q:{default:Q}}function F(Q){if(typeof WeakMap!="function")return null;var Le=new WeakMap,Ee=new WeakMap;return(F=function(qe){return qe?Ee:Le})(Q)}function it(Q,Le){if(!Le&&Q&&Q.__esModule)return Q;if(Q===null||A(Q)!=="object"&&typeof Q!="function")return{default:Q};var Ee=F(Le);if(Ee&&Ee.has(Q))return Ee.get(Q);var ke={},qe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var rt in Q)if(rt!=="default"&&Object.prototype.hasOwnProperty.call(Q,rt)){var tt=qe?Object.getOwnPropertyDescriptor(Q,rt):null;tt&&(tt.get||tt.set)?Object.defineProperty(ke,rt,tt):ke[rt]=Q[rt]}return ke.default=Q,Ee&&Ee.set(Q,ke),ke}function st(){return st=Object.assign||function(Q){for(var Le=1;Le<arguments.length;Le++){var Ee=arguments[Le];for(var ke in Ee)Object.prototype.hasOwnProperty.call(Ee,ke)&&(Q[ke]=Ee[ke])}return Q},st.apply(this,arguments)}function nn(Q,Le){if(Q==null)return{};var Ee=ht(Q,Le),ke,qe;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(Q);for(qe=0;qe<rt.length;qe++)ke=rt[qe],!(Le.indexOf(ke)>=0)&&Object.prototype.propertyIsEnumerable.call(Q,ke)&&(Ee[ke]=Q[ke])}return Ee}function ht(Q,Le){if(Q==null)return{};var Ee={},ke=Object.keys(Q),qe,rt;for(rt=0;rt<ke.length;rt++)qe=ke[rt],!(Le.indexOf(qe)>=0)&&(Ee[qe]=Q[qe]);return Ee}function Rt(Q,Le){var Ee=Object.keys(Q);if(Object.getOwnPropertySymbols){var ke=Object.getOwnPropertySymbols(Q);Le&&(ke=ke.filter(function(qe){return Object.getOwnPropertyDescriptor(Q,qe).enumerable})),Ee.push.apply(Ee,ke)}return Ee}function O(Q){for(var Le=1;Le<arguments.length;Le++){var Ee=arguments[Le]!=null?arguments[Le]:{};Le%2?Rt(Object(Ee),!0).forEach(function(ke){ee(Q,ke,Ee[ke])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(Ee)):Rt(Object(Ee)).forEach(function(ke){Object.defineProperty(Q,ke,Object.getOwnPropertyDescriptor(Ee,ke))})}return Q}function Ye(Q,Le){return Ue(Q)||Be(Q,Le)||zt(Q,Le)||pt()}function pt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zt(Q,Le){if(Q){if(typeof Q=="string")return Ot(Q,Le);var Ee=Object.prototype.toString.call(Q).slice(8,-1);if(Ee==="Object"&&Q.constructor&&(Ee=Q.constructor.name),Ee==="Map"||Ee==="Set")return Array.from(Q);if(Ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ee))return Ot(Q,Le)}}function Ot(Q,Le){(Le==null||Le>Q.length)&&(Le=Q.length);for(var Ee=0,ke=new Array(Le);Ee<Le;Ee++)ke[Ee]=Q[Ee];return ke}function Be(Q,Le){var Ee=Q==null?null:typeof Symbol!="undefined"&&Q[Symbol.iterator]||Q["@@iterator"];if(Ee!=null){var ke=[],qe=!0,rt=!1,tt,St;try{for(Ee=Ee.call(Q);!(qe=(tt=Ee.next()).done)&&(ke.push(tt.value),!(Le&&ke.length===Le));qe=!0);}catch(at){rt=!0,St=at}finally{try{!qe&&Ee.return!=null&&Ee.return()}finally{if(rt)throw St}}return ke}}function Ue(Q){if(Array.isArray(Q))return Q}function ft(Q,Le){if(!(Q instanceof Le))throw new TypeError("Cannot call a class as a function")}function bt(Q,Le){for(var Ee=0;Ee<Le.length;Ee++){var ke=Le[Ee];ke.enumerable=ke.enumerable||!1,ke.configurable=!0,"value"in ke&&(ke.writable=!0),Object.defineProperty(Q,ke.key,ke)}}function j(Q,Le,Ee){return Le&&bt(Q.prototype,Le),Ee&&bt(Q,Ee),Object.defineProperty(Q,"prototype",{writable:!1}),Q}function ye(Q,Le){if(typeof Le!="function"&&Le!==null)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(Le&&Le.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),Object.defineProperty(Q,"prototype",{writable:!1}),Le&&ge(Q,Le)}function ge(Q,Le){return ge=Object.setPrototypeOf||function(ke,qe){return ke.__proto__=qe,ke},ge(Q,Le)}function ve(Q){var Le=de();return function(){var ke=X(Q),qe;if(Le){var rt=X(this).constructor;qe=Reflect.construct(ke,arguments,rt)}else qe=ke.apply(this,arguments);return Ce(this,qe)}}function Ce(Q,Le){if(Le&&(A(Le)==="object"||typeof Le=="function"))return Le;if(Le!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xe(Q)}function xe(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function de(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Q){return!1}}function X(Q){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(Ee){return Ee.__proto__||Object.getPrototypeOf(Ee)},X(Q)}function ee(Q,Le,Ee){return Le in Q?Object.defineProperty(Q,Le,{value:Ee,enumerable:!0,configurable:!0,writable:!0}):Q[Le]=Ee,Q}var Pe=function(Q){ye(Ee,Q);var Le=ve(Ee);function Ee(ke){var qe;return ft(this,Ee),qe=Le.call(this,ke),ee(xe(qe),"onDragStart",function(rt,tt){(0,oe.default)("Draggable: onDragStart: %j",tt);var St=qe.props.onStart(rt,(0,z.createDraggableData)(xe(qe),tt));if(St===!1)return!1;qe.setState({dragging:!0,dragged:!0})}),ee(xe(qe),"onDrag",function(rt,tt){if(!qe.state.dragging)return!1;(0,oe.default)("Draggable: onDrag: %j",tt);var St=(0,z.createDraggableData)(xe(qe),tt),at={x:St.x,y:St.y};if(qe.props.bounds){var Mt=at.x,Et=at.y;at.x+=qe.state.slackX,at.y+=qe.state.slackY;var Ct=(0,z.getBoundPosition)(xe(qe),at.x,at.y),We=Ye(Ct,2),Ve=We[0],gt=We[1];at.x=Ve,at.y=gt,at.slackX=qe.state.slackX+(Mt-at.x),at.slackY=qe.state.slackY+(Et-at.y),St.x=at.x,St.y=at.y,St.deltaX=at.x-qe.state.x,St.deltaY=at.y-qe.state.y}var $t=qe.props.onDrag(rt,St);if($t===!1)return!1;qe.setState(at)}),ee(xe(qe),"onDragStop",function(rt,tt){if(!qe.state.dragging)return!1;var St=qe.props.onStop(rt,(0,z.createDraggableData)(xe(qe),tt));if(St===!1)return!1;(0,oe.default)("Draggable: onDragStop: %j",tt);var at={dragging:!1,slackX:0,slackY:0},Mt=Boolean(qe.props.position);if(Mt){var Et=qe.props.position,Ct=Et.x,We=Et.y;at.x=Ct,at.y=We}qe.setState(at)}),qe.state={dragging:!1,dragged:!1,x:ke.position?ke.position.x:ke.defaultPosition.x,y:ke.position?ke.position.y:ke.defaultPosition.y,prevPropsPosition:O({},ke.position),slackX:0,slackY:0,isElementSVG:!1},ke.position&&!(ke.onDrag||ke.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),qe}return j(Ee,[{key:"componentDidMount",value:function(){typeof window.SVGElement!="undefined"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var qe,rt,tt;return(qe=(rt=this.props)===null||rt===void 0||(tt=rt.nodeRef)===null||tt===void 0?void 0:tt.current)!==null&&qe!==void 0?qe:_.default.findDOMNode(this)}},{key:"render",value:function(){var qe,rt=this.props,tt=rt.axis,St=rt.bounds,at=rt.children,Mt=rt.defaultPosition,Et=rt.defaultClassName,Ct=rt.defaultClassNameDragging,We=rt.defaultClassNameDragged,Ve=rt.position,gt=rt.positionOffset,$t=rt.scale,Gt=nn(rt,be),Yt={},yn=null,rn=Boolean(Ve),sn=!rn||this.state.dragging,Mn=Ve||Mt,xt={x:(0,z.canDragX)(this)&&sn?this.state.x:Mn.x,y:(0,z.canDragY)(this)&&sn?this.state.y:Mn.y};this.state.isElementSVG?yn=(0,k.createSVGTransform)(xt,gt):Yt=(0,k.createCSSTransform)(xt,gt);var he=(0,T.default)(at.props.className||"",Et,(qe={},ee(qe,Ct,this.state.dragging),ee(qe,We,this.state.dragged),qe));return x.createElement(le.default,st({},Gt,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),x.cloneElement(x.Children.only(at),{className:he,style:O(O({},at.props.style),Yt),transform:yn}))}}],[{key:"getDerivedStateFromProps",value:function(qe,rt){var tt=qe.position,St=rt.prevPropsPosition;return tt&&(!St||tt.x!==St.x||tt.y!==St.y)?((0,oe.default)("Draggable: getDerivedStateFromProps %j",{position:tt,prevPropsPosition:St}),{x:tt.x,y:tt.y,prevPropsPosition:O({},tt)}):null}}]),Ee}(x.Component);Qe.default=Pe,ee(Pe,"displayName","Draggable"),ee(Pe,"propTypes",O(O({},le.default.propTypes),{},{axis:g.default.oneOf(["both","x","y","none"]),bounds:g.default.oneOfType([g.default.shape({left:g.default.number,right:g.default.number,top:g.default.number,bottom:g.default.number}),g.default.string,g.default.oneOf([!1])]),defaultClassName:g.default.string,defaultClassNameDragging:g.default.string,defaultClassNameDragged:g.default.string,defaultPosition:g.default.shape({x:g.default.number,y:g.default.number}),positionOffset:g.default.shape({x:g.default.oneOfType([g.default.number,g.default.string]),y:g.default.oneOfType([g.default.number,g.default.string])}),position:g.default.shape({x:g.default.number,y:g.default.number}),className:Y.dontSetMe,style:Y.dontSetMe,transform:Y.dontSetMe})),ee(Pe,"defaultProps",O(O({},le.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},67703:function(Jt,Qe,K){"use strict";function A(Ce){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe},A(Ce)}Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=void 0;var x=be(K(50959)),g=le(K(40507)),_=le(K(10422)),T=K(3767),k=K(21476),z=K(89323),Y=le(K(21261));function le(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}function oe(Ce){if(typeof WeakMap!="function")return null;var xe=new WeakMap,de=new WeakMap;return(oe=function(ee){return ee?de:xe})(Ce)}function be(Ce,xe){if(!xe&&Ce&&Ce.__esModule)return Ce;if(Ce===null||A(Ce)!=="object"&&typeof Ce!="function")return{default:Ce};var de=oe(xe);if(de&&de.has(Ce))return de.get(Ce);var X={},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Pe in Ce)if(Pe!=="default"&&Object.prototype.hasOwnProperty.call(Ce,Pe)){var Q=ee?Object.getOwnPropertyDescriptor(Ce,Pe):null;Q&&(Q.get||Q.set)?Object.defineProperty(X,Pe,Q):X[Pe]=Ce[Pe]}return X.default=Ce,de&&de.set(Ce,X),X}function Se(Ce,xe){return ht(Ce)||nn(Ce,xe)||it(Ce,xe)||F()}function F(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function it(Ce,xe){if(Ce){if(typeof Ce=="string")return st(Ce,xe);var de=Object.prototype.toString.call(Ce).slice(8,-1);if(de==="Object"&&Ce.constructor&&(de=Ce.constructor.name),de==="Map"||de==="Set")return Array.from(Ce);if(de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return st(Ce,xe)}}function st(Ce,xe){(xe==null||xe>Ce.length)&&(xe=Ce.length);for(var de=0,X=new Array(xe);de<xe;de++)X[de]=Ce[de];return X}function nn(Ce,xe){var de=Ce==null?null:typeof Symbol!="undefined"&&Ce[Symbol.iterator]||Ce["@@iterator"];if(de!=null){var X=[],ee=!0,Pe=!1,Q,Le;try{for(de=de.call(Ce);!(ee=(Q=de.next()).done)&&(X.push(Q.value),!(xe&&X.length===xe));ee=!0);}catch(Ee){Pe=!0,Le=Ee}finally{try{!ee&&de.return!=null&&de.return()}finally{if(Pe)throw Le}}return X}}function ht(Ce){if(Array.isArray(Ce))return Ce}function Rt(Ce,xe){if(!(Ce instanceof xe))throw new TypeError("Cannot call a class as a function")}function O(Ce,xe){for(var de=0;de<xe.length;de++){var X=xe[de];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(Ce,X.key,X)}}function Ye(Ce,xe,de){return xe&&O(Ce.prototype,xe),de&&O(Ce,de),Object.defineProperty(Ce,"prototype",{writable:!1}),Ce}function pt(Ce,xe){if(typeof xe!="function"&&xe!==null)throw new TypeError("Super expression must either be null or a function");Ce.prototype=Object.create(xe&&xe.prototype,{constructor:{value:Ce,writable:!0,configurable:!0}}),Object.defineProperty(Ce,"prototype",{writable:!1}),xe&&zt(Ce,xe)}function zt(Ce,xe){return zt=Object.setPrototypeOf||function(X,ee){return X.__proto__=ee,X},zt(Ce,xe)}function Ot(Ce){var xe=ft();return function(){var X=bt(Ce),ee;if(xe){var Pe=bt(this).constructor;ee=Reflect.construct(X,arguments,Pe)}else ee=X.apply(this,arguments);return Be(this,ee)}}function Be(Ce,xe){if(xe&&(A(xe)==="object"||typeof xe=="function"))return xe;if(xe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ue(Ce)}function Ue(Ce){if(Ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ce}function ft(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ce){return!1}}function bt(Ce){return bt=Object.setPrototypeOf?Object.getPrototypeOf:function(de){return de.__proto__||Object.getPrototypeOf(de)},bt(Ce)}function j(Ce,xe,de){return xe in Ce?Object.defineProperty(Ce,xe,{value:de,enumerable:!0,configurable:!0,writable:!0}):Ce[xe]=de,Ce}var ye={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ge=ye.mouse,ve=function(Ce){pt(de,Ce);var xe=Ot(de);function de(){var X;Rt(this,de);for(var ee=arguments.length,Pe=new Array(ee),Q=0;Q<ee;Q++)Pe[Q]=arguments[Q];return X=xe.call.apply(xe,[this].concat(Pe)),j(Ue(X),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),j(Ue(X),"mounted",!1),j(Ue(X),"handleDragStart",function(Le){if(X.props.onMouseDown(Le),!X.props.allowAnyClick&&typeof Le.button=="number"&&Le.button!==0)return!1;var Ee=X.findDOMNode();if(!Ee||!Ee.ownerDocument||!Ee.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var ke=Ee.ownerDocument;if(!(X.props.disabled||!(Le.target instanceof ke.defaultView.Node)||X.props.handle&&!(0,T.matchesSelectorAndParentsTo)(Le.target,X.props.handle,Ee)||X.props.cancel&&(0,T.matchesSelectorAndParentsTo)(Le.target,X.props.cancel,Ee))){Le.type==="touchstart"&&Le.preventDefault();var qe=(0,T.getTouchIdentifier)(Le);X.setState({touchIdentifier:qe});var rt=(0,k.getControlPosition)(Le,qe,Ue(X));if(rt!=null){var tt=rt.x,St=rt.y,at=(0,k.createCoreData)(Ue(X),tt,St);(0,Y.default)("DraggableCore: handleDragStart: %j",at),(0,Y.default)("calling",X.props.onStart);var Mt=X.props.onStart(Le,at);Mt===!1||X.mounted===!1||(X.props.enableUserSelectHack&&(0,T.addUserSelectStyles)(ke),X.setState({dragging:!0,lastX:tt,lastY:St}),(0,T.addEvent)(ke,ge.move,X.handleDrag),(0,T.addEvent)(ke,ge.stop,X.handleDragStop))}}}),j(Ue(X),"handleDrag",function(Le){var Ee=(0,k.getControlPosition)(Le,X.state.touchIdentifier,Ue(X));if(Ee!=null){var ke=Ee.x,qe=Ee.y;if(Array.isArray(X.props.grid)){var rt=ke-X.state.lastX,tt=qe-X.state.lastY,St=(0,k.snapToGrid)(X.props.grid,rt,tt),at=Se(St,2);if(rt=at[0],tt=at[1],!rt&&!tt)return;ke=X.state.lastX+rt,qe=X.state.lastY+tt}var Mt=(0,k.createCoreData)(Ue(X),ke,qe);(0,Y.default)("DraggableCore: handleDrag: %j",Mt);var Et=X.props.onDrag(Le,Mt);if(Et===!1||X.mounted===!1){try{X.handleDragStop(new MouseEvent("mouseup"))}catch(We){var Ct=document.createEvent("MouseEvents");Ct.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),X.handleDragStop(Ct)}return}X.setState({lastX:ke,lastY:qe})}}),j(Ue(X),"handleDragStop",function(Le){if(X.state.dragging){var Ee=(0,k.getControlPosition)(Le,X.state.touchIdentifier,Ue(X));if(Ee!=null){var ke=Ee.x,qe=Ee.y;if(Array.isArray(X.props.grid)){var rt=ke-X.state.lastX||0,tt=qe-X.state.lastY||0,St=(0,k.snapToGrid)(X.props.grid,rt,tt),at=Se(St,2);rt=at[0],tt=at[1],ke=X.state.lastX+rt,qe=X.state.lastY+tt}var Mt=(0,k.createCoreData)(Ue(X),ke,qe),Et=X.props.onStop(Le,Mt);if(Et===!1||X.mounted===!1)return!1;var Ct=X.findDOMNode();Ct&&X.props.enableUserSelectHack&&(0,T.removeUserSelectStyles)(Ct.ownerDocument),(0,Y.default)("DraggableCore: handleDragStop: %j",Mt),X.setState({dragging:!1,lastX:NaN,lastY:NaN}),Ct&&((0,Y.default)("DraggableCore: Removing handlers"),(0,T.removeEvent)(Ct.ownerDocument,ge.move,X.handleDrag),(0,T.removeEvent)(Ct.ownerDocument,ge.stop,X.handleDragStop))}}}),j(Ue(X),"onMouseDown",function(Le){return ge=ye.mouse,X.handleDragStart(Le)}),j(Ue(X),"onMouseUp",function(Le){return ge=ye.mouse,X.handleDragStop(Le)}),j(Ue(X),"onTouchStart",function(Le){return ge=ye.touch,X.handleDragStart(Le)}),j(Ue(X),"onTouchEnd",function(Le){return ge=ye.touch,X.handleDragStop(Le)}),X}return Ye(de,[{key:"componentDidMount",value:function(){this.mounted=!0;var ee=this.findDOMNode();ee&&(0,T.addEvent)(ee,ye.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var ee=this.findDOMNode();if(ee){var Pe=ee.ownerDocument;(0,T.removeEvent)(Pe,ye.mouse.move,this.handleDrag),(0,T.removeEvent)(Pe,ye.touch.move,this.handleDrag),(0,T.removeEvent)(Pe,ye.mouse.stop,this.handleDragStop),(0,T.removeEvent)(Pe,ye.touch.stop,this.handleDragStop),(0,T.removeEvent)(ee,ye.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,T.removeUserSelectStyles)(Pe)}}},{key:"findDOMNode",value:function(){var ee,Pe,Q;return(ee=this.props)!==null&&ee!==void 0&&ee.nodeRef?(Pe=this.props)===null||Pe===void 0||(Q=Pe.nodeRef)===null||Q===void 0?void 0:Q.current:_.default.findDOMNode(this)}},{key:"render",value:function(){return x.cloneElement(x.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),de}(x.Component);Qe.default=ve,j(ve,"displayName","DraggableCore"),j(ve,"propTypes",{allowAnyClick:g.default.bool,disabled:g.default.bool,enableUserSelectHack:g.default.bool,offsetParent:function(xe,de){if(xe[de]&&xe[de].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:g.default.arrayOf(g.default.number),handle:g.default.string,cancel:g.default.string,nodeRef:g.default.object,onStart:g.default.func,onDrag:g.default.func,onStop:g.default.func,onMouseDown:g.default.func,scale:g.default.number,className:z.dontSetMe,style:z.dontSetMe,transform:z.dontSetMe}),j(ve,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},74901:function(Jt,Qe,K){"use strict";var A=K(44929),x=A.default,g=A.DraggableCore;Jt.exports=x,Jt.exports.default=x,Jt.exports.DraggableCore=g},3767:function(Jt,Qe,K){"use strict";function A(j){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ye){return typeof ye}:function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},A(j)}Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.addClassName=ft,Qe.addEvent=Se,Qe.addUserSelectStyles=Be,Qe.createCSSTransform=O,Qe.createSVGTransform=Ye,Qe.getTouch=zt,Qe.getTouchIdentifier=Ot,Qe.getTranslation=pt,Qe.innerHeight=nn,Qe.innerWidth=ht,Qe.matchesSelector=oe,Qe.matchesSelectorAndParentsTo=be,Qe.offsetXYFromParent=Rt,Qe.outerHeight=it,Qe.outerWidth=st,Qe.removeClassName=bt,Qe.removeEvent=F,Qe.removeUserSelectStyles=Ue;var x=K(89323),g=T(K(14642));function _(j){if(typeof WeakMap!="function")return null;var ye=new WeakMap,ge=new WeakMap;return(_=function(Ce){return Ce?ge:ye})(j)}function T(j,ye){if(!ye&&j&&j.__esModule)return j;if(j===null||A(j)!=="object"&&typeof j!="function")return{default:j};var ge=_(ye);if(ge&&ge.has(j))return ge.get(j);var ve={},Ce=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var xe in j)if(xe!=="default"&&Object.prototype.hasOwnProperty.call(j,xe)){var de=Ce?Object.getOwnPropertyDescriptor(j,xe):null;de&&(de.get||de.set)?Object.defineProperty(ve,xe,de):ve[xe]=j[xe]}return ve.default=j,ge&&ge.set(j,ve),ve}function k(j,ye){var ge=Object.keys(j);if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(j);ye&&(ve=ve.filter(function(Ce){return Object.getOwnPropertyDescriptor(j,Ce).enumerable})),ge.push.apply(ge,ve)}return ge}function z(j){for(var ye=1;ye<arguments.length;ye++){var ge=arguments[ye]!=null?arguments[ye]:{};ye%2?k(Object(ge),!0).forEach(function(ve){Y(j,ve,ge[ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(ge)):k(Object(ge)).forEach(function(ve){Object.defineProperty(j,ve,Object.getOwnPropertyDescriptor(ge,ve))})}return j}function Y(j,ye,ge){return ye in j?Object.defineProperty(j,ye,{value:ge,enumerable:!0,configurable:!0,writable:!0}):j[ye]=ge,j}var le="";function oe(j,ye){return le||(le=(0,x.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(ge){return(0,x.isFunction)(j[ge])})),(0,x.isFunction)(j[le])?j[le](ye):!1}function be(j,ye,ge){var ve=j;do{if(oe(ve,ye))return!0;if(ve===ge)return!1;ve=ve.parentNode}while(ve);return!1}function Se(j,ye,ge,ve){if(j){var Ce=z({capture:!0},ve);j.addEventListener?j.addEventListener(ye,ge,Ce):j.attachEvent?j.attachEvent("on"+ye,ge):j["on"+ye]=ge}}function F(j,ye,ge,ve){if(j){var Ce=z({capture:!0},ve);j.removeEventListener?j.removeEventListener(ye,ge,Ce):j.detachEvent?j.detachEvent("on"+ye,ge):j["on"+ye]=null}}function it(j){var ye=j.clientHeight,ge=j.ownerDocument.defaultView.getComputedStyle(j);return ye+=(0,x.int)(ge.borderTopWidth),ye+=(0,x.int)(ge.borderBottomWidth),ye}function st(j){var ye=j.clientWidth,ge=j.ownerDocument.defaultView.getComputedStyle(j);return ye+=(0,x.int)(ge.borderLeftWidth),ye+=(0,x.int)(ge.borderRightWidth),ye}function nn(j){var ye=j.clientHeight,ge=j.ownerDocument.defaultView.getComputedStyle(j);return ye-=(0,x.int)(ge.paddingTop),ye-=(0,x.int)(ge.paddingBottom),ye}function ht(j){var ye=j.clientWidth,ge=j.ownerDocument.defaultView.getComputedStyle(j);return ye-=(0,x.int)(ge.paddingLeft),ye-=(0,x.int)(ge.paddingRight),ye}function Rt(j,ye,ge){var ve=ye===ye.ownerDocument.body,Ce=ve?{left:0,top:0}:ye.getBoundingClientRect(),xe=(j.clientX+ye.scrollLeft-Ce.left)/ge,de=(j.clientY+ye.scrollTop-Ce.top)/ge;return{x:xe,y:de}}function O(j,ye){var ge=pt(j,ye,"px");return Y({},(0,g.browserPrefixToKey)("transform",g.default),ge)}function Ye(j,ye){var ge=pt(j,ye,"");return ge}function pt(j,ye,ge){var ve=j.x,Ce=j.y,xe="translate(".concat(ve).concat(ge,",").concat(Ce).concat(ge,")");if(ye){var de="".concat(typeof ye.x=="string"?ye.x:ye.x+ge),X="".concat(typeof ye.y=="string"?ye.y:ye.y+ge);xe="translate(".concat(de,", ").concat(X,")")+xe}return xe}function zt(j,ye){return j.targetTouches&&(0,x.findInArray)(j.targetTouches,function(ge){return ye===ge.identifier})||j.changedTouches&&(0,x.findInArray)(j.changedTouches,function(ge){return ye===ge.identifier})}function Ot(j){if(j.targetTouches&&j.targetTouches[0])return j.targetTouches[0].identifier;if(j.changedTouches&&j.changedTouches[0])return j.changedTouches[0].identifier}function Be(j){if(j){var ye=j.getElementById("react-draggable-style-el");ye||(ye=j.createElement("style"),ye.type="text/css",ye.id="react-draggable-style-el",ye.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,ye.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,j.getElementsByTagName("head")[0].appendChild(ye)),j.body&&ft(j.body,"react-draggable-transparent-selection")}}function Ue(j){if(j)try{if(j.body&&bt(j.body,"react-draggable-transparent-selection"),j.selection)j.selection.empty();else{var ye=(j.defaultView||window).getSelection();ye&&ye.type!=="Caret"&&ye.removeAllRanges()}}catch(ge){}}function ft(j,ye){j.classList?j.classList.add(ye):j.className.match(new RegExp("(?:^|\\s)".concat(ye,"(?!\\S)")))||(j.className+=" ".concat(ye))}function bt(j,ye){j.classList?j.classList.remove(ye):j.className=j.className.replace(new RegExp("(?:^|\\s)".concat(ye,"(?!\\S)"),"g"),"")}},14642:function(Jt,Qe){"use strict";Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.browserPrefixToKey=x,Qe.browserPrefixToStyle=g,Qe.default=void 0,Qe.getPrefix=A;var K=["Moz","Webkit","O","ms"];function A(){var k,z,Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window=="undefined")return"";var le=(k=window.document)===null||k===void 0||(z=k.documentElement)===null||z===void 0?void 0:z.style;if(!le||Y in le)return"";for(var oe=0;oe<K.length;oe++)if(x(Y,K[oe])in le)return K[oe];return""}function x(k,z){return z?"".concat(z).concat(_(k)):k}function g(k,z){return z?"-".concat(z.toLowerCase(),"-").concat(k):k}function _(k){for(var z="",Y=!0,le=0;le<k.length;le++)Y?(z+=k[le].toUpperCase(),Y=!1):k[le]==="-"?Y=!0:z+=k[le];return z}var T=A();Qe.default=T},21261:function(Jt,Qe){"use strict";Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=K;function K(){var A}},21476:function(Jt,Qe,K){"use strict";Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.canDragX=T,Qe.canDragY=k,Qe.createCoreData=Y,Qe.createDraggableData=le,Qe.getBoundPosition=g,Qe.getControlPosition=z,Qe.snapToGrid=_;var A=K(89323),x=K(3767);function g(Se,F,it){if(!Se.props.bounds)return[F,it];var st=Se.props.bounds;st=typeof st=="string"?st:oe(st);var nn=be(Se);if(typeof st=="string"){var ht=nn.ownerDocument,Rt=ht.defaultView,O;if(st==="parent"?O=nn.parentNode:O=ht.querySelector(st),!(O instanceof Rt.HTMLElement))throw new Error('Bounds selector "'+st+'" could not find an element.');var Ye=O,pt=Rt.getComputedStyle(nn),zt=Rt.getComputedStyle(Ye);st={left:-nn.offsetLeft+(0,A.int)(zt.paddingLeft)+(0,A.int)(pt.marginLeft),top:-nn.offsetTop+(0,A.int)(zt.paddingTop)+(0,A.int)(pt.marginTop),right:(0,x.innerWidth)(Ye)-(0,x.outerWidth)(nn)-nn.offsetLeft+(0,A.int)(zt.paddingRight)-(0,A.int)(pt.marginRight),bottom:(0,x.innerHeight)(Ye)-(0,x.outerHeight)(nn)-nn.offsetTop+(0,A.int)(zt.paddingBottom)-(0,A.int)(pt.marginBottom)}}return(0,A.isNum)(st.right)&&(F=Math.min(F,st.right)),(0,A.isNum)(st.bottom)&&(it=Math.min(it,st.bottom)),(0,A.isNum)(st.left)&&(F=Math.max(F,st.left)),(0,A.isNum)(st.top)&&(it=Math.max(it,st.top)),[F,it]}function _(Se,F,it){var st=Math.round(F/Se[0])*Se[0],nn=Math.round(it/Se[1])*Se[1];return[st,nn]}function T(Se){return Se.props.axis==="both"||Se.props.axis==="x"}function k(Se){return Se.props.axis==="both"||Se.props.axis==="y"}function z(Se,F,it){var st=typeof F=="number"?(0,x.getTouch)(Se,F):null;if(typeof F=="number"&&!st)return null;var nn=be(it),ht=it.props.offsetParent||nn.offsetParent||nn.ownerDocument.body;return(0,x.offsetXYFromParent)(st||Se,ht,it.props.scale)}function Y(Se,F,it){var st=Se.state,nn=!(0,A.isNum)(st.lastX),ht=be(Se);return nn?{node:ht,deltaX:0,deltaY:0,lastX:F,lastY:it,x:F,y:it}:{node:ht,deltaX:F-st.lastX,deltaY:it-st.lastY,lastX:st.lastX,lastY:st.lastY,x:F,y:it}}function le(Se,F){var it=Se.props.scale;return{node:F.node,x:Se.state.x+F.deltaX/it,y:Se.state.y+F.deltaY/it,deltaX:F.deltaX/it,deltaY:F.deltaY/it,lastX:Se.state.x,lastY:Se.state.y}}function oe(Se){return{left:Se.left,top:Se.top,right:Se.right,bottom:Se.bottom}}function be(Se){var F=Se.findDOMNode();if(!F)throw new Error("<DraggableCore>: Unmounted during event!");return F}},89323:function(Jt,Qe){"use strict";Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.dontSetMe=_,Qe.findInArray=K,Qe.int=g,Qe.isFunction=A,Qe.isNum=x;function K(T,k){for(var z=0,Y=T.length;z<Y;z++)if(k.apply(k,[T[z],z,T]))return T[z]}function A(T){return typeof T=="function"||Object.prototype.toString.call(T)==="[object Function]"}function x(T){return typeof T=="number"&&!isNaN(T)}function g(T){return parseInt(T,10)}function _(T,k,z){if(T[k])return new Error("Invalid prop ".concat(k," passed to ").concat(z," - do not set this, set it on the child."))}},58882:function(Jt,Qe,K){(function(A,x){Jt.exports=x(K(50959))})(this,function(A){return function(x){var g={};function _(T){if(g[T])return g[T].exports;var k=g[T]={i:T,l:!1,exports:{}};return x[T].call(k.exports,k,k.exports,_),k.l=!0,k.exports}return _.m=x,_.c=g,_.d=function(T,k,z){_.o(T,k)||Object.defineProperty(T,k,{enumerable:!0,get:z})},_.r=function(T){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(T,"__esModule",{value:!0})},_.t=function(T,k){if(1&k&&(T=_(T)),8&k||4&k&&typeof T=="object"&&T&&T.__esModule)return T;var z=Object.create(null);if(_.r(z),Object.defineProperty(z,"default",{enumerable:!0,value:T}),2&k&&typeof T!="string")for(var Y in T)_.d(z,Y,function(le){return T[le]}.bind(null,Y));return z},_.n=function(T){var k=T&&T.__esModule?function(){return T.default}:function(){return T};return _.d(k,"a",k),k},_.o=function(T,k){return Object.prototype.hasOwnProperty.call(T,k)},_.p="",_(_.s=48)}([function(x,g){x.exports=A},function(x,g){var _=x.exports={version:"2.6.12"};typeof __e=="number"&&(__e=_)},function(x,g,_){var T=_(26)("wks"),k=_(17),z=_(3).Symbol,Y=typeof z=="function";(x.exports=function(le){return T[le]||(T[le]=Y&&z[le]||(Y?z:k)("Symbol."+le))}).store=T},function(x,g){var _=x.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=_)},function(x,g,_){x.exports=!_(8)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(x,g){var _={}.hasOwnProperty;x.exports=function(T,k){return _.call(T,k)}},function(x,g,_){var T=_(7),k=_(16);x.exports=_(4)?function(z,Y,le){return T.f(z,Y,k(1,le))}:function(z,Y,le){return z[Y]=le,z}},function(x,g,_){var T=_(10),k=_(35),z=_(23),Y=Object.defineProperty;g.f=_(4)?Object.defineProperty:function(le,oe,be){if(T(le),oe=z(oe,!0),T(be),k)try{return Y(le,oe,be)}catch(Se){}if("get"in be||"set"in be)throw TypeError("Accessors not supported!");return"value"in be&&(le[oe]=be.value),le}},function(x,g){x.exports=function(_){try{return!!_()}catch(T){return!0}}},function(x,g,_){var T=_(40),k=_(22);x.exports=function(z){return T(k(z))}},function(x,g,_){var T=_(11);x.exports=function(k){if(!T(k))throw TypeError(k+" is not an object!");return k}},function(x,g){x.exports=function(_){return typeof _=="object"?_!==null:typeof _=="function"}},function(x,g){x.exports={}},function(x,g,_){var T=_(39),k=_(27);x.exports=Object.keys||function(z){return T(z,k)}},function(x,g){x.exports=!0},function(x,g,_){var T=_(3),k=_(1),z=_(53),Y=_(6),le=_(5),oe=function(be,Se,F){var it,st,nn,ht=be&oe.F,Rt=be&oe.G,O=be&oe.S,Ye=be&oe.P,pt=be&oe.B,zt=be&oe.W,Ot=Rt?k:k[Se]||(k[Se]={}),Be=Ot.prototype,Ue=Rt?T:O?T[Se]:(T[Se]||{}).prototype;for(it in Rt&&(F=Se),F)(st=!ht&&Ue&&Ue[it]!==void 0)&&le(Ot,it)||(nn=st?Ue[it]:F[it],Ot[it]=Rt&&typeof Ue[it]!="function"?F[it]:pt&&st?z(nn,T):zt&&Ue[it]==nn?function(ft){var bt=function(j,ye,ge){if(this instanceof ft){switch(arguments.length){case 0:return new ft;case 1:return new ft(j);case 2:return new ft(j,ye)}return new ft(j,ye,ge)}return ft.apply(this,arguments)};return bt.prototype=ft.prototype,bt}(nn):Ye&&typeof nn=="function"?z(Function.call,nn):nn,Ye&&((Ot.virtual||(Ot.virtual={}))[it]=nn,be&oe.R&&Be&&!Be[it]&&Y(Be,it,nn)))};oe.F=1,oe.G=2,oe.S=4,oe.P=8,oe.B=16,oe.W=32,oe.U=64,oe.R=128,x.exports=oe},function(x,g){x.exports=function(_,T){return{enumerable:!(1&_),configurable:!(2&_),writable:!(4&_),value:T}}},function(x,g){var _=0,T=Math.random();x.exports=function(k){return"Symbol(".concat(k===void 0?"":k,")_",(++_+T).toString(36))}},function(x,g,_){var T=_(22);x.exports=function(k){return Object(T(k))}},function(x,g){g.f={}.propertyIsEnumerable},function(x,g,_){"use strict";var T=_(52)(!0);_(34)(String,"String",function(k){this._t=String(k),this._i=0},function(){var k,z=this._t,Y=this._i;return Y>=z.length?{value:void 0,done:!0}:(k=T(z,Y),this._i+=k.length,{value:k,done:!1})})},function(x,g){var _=Math.ceil,T=Math.floor;x.exports=function(k){return isNaN(k=+k)?0:(k>0?T:_)(k)}},function(x,g){x.exports=function(_){if(_==null)throw TypeError("Can't call method on  "+_);return _}},function(x,g,_){var T=_(11);x.exports=function(k,z){if(!T(k))return k;var Y,le;if(z&&typeof(Y=k.toString)=="function"&&!T(le=Y.call(k))||typeof(Y=k.valueOf)=="function"&&!T(le=Y.call(k))||!z&&typeof(Y=k.toString)=="function"&&!T(le=Y.call(k)))return le;throw TypeError("Can't convert object to primitive value")}},function(x,g){var _={}.toString;x.exports=function(T){return _.call(T).slice(8,-1)}},function(x,g,_){var T=_(26)("keys"),k=_(17);x.exports=function(z){return T[z]||(T[z]=k(z))}},function(x,g,_){var T=_(1),k=_(3),z=k["__core-js_shared__"]||(k["__core-js_shared__"]={});(x.exports=function(Y,le){return z[Y]||(z[Y]=le!==void 0?le:{})})("versions",[]).push({version:T.version,mode:_(14)?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},function(x,g){x.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(x,g,_){var T=_(7).f,k=_(5),z=_(2)("toStringTag");x.exports=function(Y,le,oe){Y&&!k(Y=oe?Y:Y.prototype,z)&&T(Y,z,{configurable:!0,value:le})}},function(x,g,_){_(62);for(var T=_(3),k=_(6),z=_(12),Y=_(2)("toStringTag"),le="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),oe=0;oe<le.length;oe++){var be=le[oe],Se=T[be],F=Se&&Se.prototype;F&&!F[Y]&&k(F,Y,be),z[be]=z.Array}},function(x,g,_){g.f=_(2)},function(x,g,_){var T=_(3),k=_(1),z=_(14),Y=_(30),le=_(7).f;x.exports=function(oe){var be=k.Symbol||(k.Symbol=z?{}:T.Symbol||{});oe.charAt(0)=="_"||oe in be||le(be,oe,{value:Y.f(oe)})}},function(x,g){g.f=Object.getOwnPropertySymbols},function(x,g){x.exports=function(_,T,k){return Math.min(Math.max(_,T),k)}},function(x,g,_){"use strict";var T=_(14),k=_(15),z=_(37),Y=_(6),le=_(12),oe=_(55),be=_(28),Se=_(61),F=_(2)("iterator"),it=!([].keys&&"next"in[].keys()),st=function(){return this};x.exports=function(nn,ht,Rt,O,Ye,pt,zt){oe(Rt,ht,O);var Ot,Be,Ue,ft=function(X){if(!it&&X in ge)return ge[X];switch(X){case"keys":case"values":return function(){return new Rt(this,X)}}return function(){return new Rt(this,X)}},bt=ht+" Iterator",j=Ye=="values",ye=!1,ge=nn.prototype,ve=ge[F]||ge["@@iterator"]||Ye&&ge[Ye],Ce=ve||ft(Ye),xe=Ye?j?ft("entries"):Ce:void 0,de=ht=="Array"&&ge.entries||ve;if(de&&(Ue=Se(de.call(new nn)))!==Object.prototype&&Ue.next&&(be(Ue,bt,!0),T||typeof Ue[F]=="function"||Y(Ue,F,st)),j&&ve&&ve.name!=="values"&&(ye=!0,Ce=function(){return ve.call(this)}),T&&!zt||!it&&!ye&&ge[F]||Y(ge,F,Ce),le[ht]=Ce,le[bt]=st,Ye)if(Ot={values:j?Ce:ft("values"),keys:pt?Ce:ft("keys"),entries:xe},zt)for(Be in Ot)Be in ge||z(ge,Be,Ot[Be]);else k(k.P+k.F*(it||ye),ht,Ot);return Ot}},function(x,g,_){x.exports=!_(4)&&!_(8)(function(){return Object.defineProperty(_(36)("div"),"a",{get:function(){return 7}}).a!=7})},function(x,g,_){var T=_(11),k=_(3).document,z=T(k)&&T(k.createElement);x.exports=function(Y){return z?k.createElement(Y):{}}},function(x,g,_){x.exports=_(6)},function(x,g,_){var T=_(10),k=_(56),z=_(27),Y=_(25)("IE_PROTO"),le=function(){},oe=function(){var be,Se=_(36)("iframe"),F=z.length;for(Se.style.display="none",_(60).appendChild(Se),Se.src="javascript:",(be=Se.contentWindow.document).open(),be.write("<script>document.F=Object<\/script>"),be.close(),oe=be.F;F--;)delete oe.prototype[z[F]];return oe()};x.exports=Object.create||function(be,Se){var F;return be!==null?(le.prototype=T(be),F=new le,le.prototype=null,F[Y]=be):F=oe(),Se===void 0?F:k(F,Se)}},function(x,g,_){var T=_(5),k=_(9),z=_(57)(!1),Y=_(25)("IE_PROTO");x.exports=function(le,oe){var be,Se=k(le),F=0,it=[];for(be in Se)be!=Y&&T(Se,be)&&it.push(be);for(;oe.length>F;)T(Se,be=oe[F++])&&(~z(it,be)||it.push(be));return it}},function(x,g,_){var T=_(24);x.exports=Object("z").propertyIsEnumerable(0)?Object:function(k){return T(k)=="String"?k.split(""):Object(k)}},function(x,g,_){var T=_(39),k=_(27).concat("length","prototype");g.f=Object.getOwnPropertyNames||function(z){return T(z,k)}},function(x,g,_){var T=_(24),k=_(2)("toStringTag"),z=T(function(){return arguments}())=="Arguments";x.exports=function(Y){var le,oe,be;return Y===void 0?"Undefined":Y===null?"Null":typeof(oe=function(Se,F){try{return Se[F]}catch(it){}}(le=Object(Y),k))=="string"?oe:z?T(le):(be=T(le))=="Object"&&typeof le.callee=="function"?"Arguments":be}},function(x,g){var _;_=function(){return this}();try{_=_||new Function("return this")()}catch(T){typeof window=="object"&&(_=window)}x.exports=_},function(x,g){var _=/-?\d+(\.\d+)?%?/g;x.exports=function(T){return T.match(_)}},function(x,g,_){"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.getBase16Theme=g.createStyling=g.invertTheme=void 0;var T=st(_(49)),k=st(_(76)),z=st(_(81)),Y=st(_(89)),le=st(_(93)),oe=function(Be){if(Be&&Be.__esModule)return Be;var Ue={};if(Be!=null)for(var ft in Be)Object.prototype.hasOwnProperty.call(Be,ft)&&(Ue[ft]=Be[ft]);return Ue.default=Be,Ue}(_(94)),be=st(_(132)),Se=st(_(133)),F=st(_(138)),it=_(139);function st(Be){return Be&&Be.__esModule?Be:{default:Be}}var nn=oe.default,ht=(0,Y.default)(nn),Rt=(0,F.default)(Se.default,it.rgb2yuv,function(Be){var Ue,ft=(0,z.default)(Be,3),bt=ft[0],j=ft[1],ye=ft[2];return[(Ue=bt,Ue<.25?1:Ue<.5?.9-Ue:1.1-Ue),j,ye]},it.yuv2rgb,be.default),O=function(Be){return function(Ue){return{className:[Ue.className,Be.className].filter(Boolean).join(" "),style:(0,k.default)({},Ue.style||{},Be.style||{})}}},Ye=function(Be,Ue){var ft=(0,Y.default)(Ue);for(var bt in Be)ft.indexOf(bt)===-1&&ft.push(bt);return ft.reduce(function(j,ye){return j[ye]=function(ge,ve){if(ge===void 0)return ve;if(ve===void 0)return ge;var Ce=ge===void 0?"undefined":(0,T.default)(ge),xe=ve===void 0?"undefined":(0,T.default)(ve);switch(Ce){case"string":switch(xe){case"string":return[ve,ge].filter(Boolean).join(" ");case"object":return O({className:ge,style:ve});case"function":return function(de){for(var X=arguments.length,ee=Array(X>1?X-1:0),Pe=1;Pe<X;Pe++)ee[Pe-1]=arguments[Pe];return O({className:ge})(ve.apply(void 0,[de].concat(ee)))}}case"object":switch(xe){case"string":return O({className:ve,style:ge});case"object":return(0,k.default)({},ve,ge);case"function":return function(de){for(var X=arguments.length,ee=Array(X>1?X-1:0),Pe=1;Pe<X;Pe++)ee[Pe-1]=arguments[Pe];return O({style:ge})(ve.apply(void 0,[de].concat(ee)))}}case"function":switch(xe){case"string":return function(de){for(var X=arguments.length,ee=Array(X>1?X-1:0),Pe=1;Pe<X;Pe++)ee[Pe-1]=arguments[Pe];return ge.apply(void 0,[O(de)({className:ve})].concat(ee))};case"object":return function(de){for(var X=arguments.length,ee=Array(X>1?X-1:0),Pe=1;Pe<X;Pe++)ee[Pe-1]=arguments[Pe];return ge.apply(void 0,[O(de)({style:ve})].concat(ee))};case"function":return function(de){for(var X=arguments.length,ee=Array(X>1?X-1:0),Pe=1;Pe<X;Pe++)ee[Pe-1]=arguments[Pe];return ge.apply(void 0,[ve.apply(void 0,[de].concat(ee))].concat(ee))}}}}(Be[ye],Ue[ye]),j},{})},pt=function(Be,Ue){for(var ft=arguments.length,bt=Array(ft>2?ft-2:0),j=2;j<ft;j++)bt[j-2]=arguments[j];if(Ue===null)return Be;Array.isArray(Ue)||(Ue=[Ue]);var ye=Ue.map(function(ve){return Be[ve]}).filter(Boolean),ge=ye.reduce(function(ve,Ce){return typeof Ce=="string"?ve.className=[ve.className,Ce].filter(Boolean).join(" "):(Ce===void 0?"undefined":(0,T.default)(Ce))==="object"?ve.style=(0,k.default)({},ve.style,Ce):typeof Ce=="function"&&(ve=(0,k.default)({},ve,Ce.apply(void 0,[ve].concat(bt)))),ve},{className:"",style:{}});return ge.className||delete ge.className,(0,Y.default)(ge.style).length===0&&delete ge.style,ge},zt=g.invertTheme=function(Be){return(0,Y.default)(Be).reduce(function(Ue,ft){return Ue[ft]=/^base/.test(ft)?Rt(Be[ft]):ft==="scheme"?Be[ft]+":inverted":Be[ft],Ue},{})},Ot=(g.createStyling=(0,le.default)(function(Be){for(var Ue=arguments.length,ft=Array(Ue>3?Ue-3:0),bt=3;bt<Ue;bt++)ft[bt-3]=arguments[bt];var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ge=j.defaultBase16,ve=ge===void 0?nn:ge,Ce=j.base16Themes,xe=Ce===void 0?null:Ce,de=Ot(ye,xe);de&&(ye=(0,k.default)({},de,ye));var X=ht.reduce(function(Le,Ee){return Le[Ee]=ye[Ee]||ve[Ee],Le},{}),ee=(0,Y.default)(ye).reduce(function(Le,Ee){return ht.indexOf(Ee)===-1&&(Le[Ee]=ye[Ee]),Le},{}),Pe=Be(X),Q=Ye(ee,Pe);return(0,le.default)(pt,2).apply(void 0,[Q].concat(ft))},3),g.getBase16Theme=function(Be,Ue){if(Be&&Be.extend&&(Be=Be.extend),typeof Be=="string"){var ft=Be.split(":"),bt=(0,z.default)(ft,2),j=bt[0],ye=bt[1];Be=(Ue||{})[j]||oe[j],ye==="inverted"&&(Be=zt(Be))}return Be&&Be.hasOwnProperty("base00")?Be:void 0})},function(x,g,_){"use strict";var T,k=typeof Reflect=="object"?Reflect:null,z=k&&typeof k.apply=="function"?k.apply:function(O,Ye,pt){return Function.prototype.apply.call(O,Ye,pt)};T=k&&typeof k.ownKeys=="function"?k.ownKeys:Object.getOwnPropertySymbols?function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:function(O){return Object.getOwnPropertyNames(O)};var Y=Number.isNaN||function(O){return O!=O};function le(){le.init.call(this)}x.exports=le,x.exports.once=function(O,Ye){return new Promise(function(pt,zt){function Ot(){Be!==void 0&&O.removeListener("error",Be),pt([].slice.call(arguments))}var Be;Ye!=="error"&&(Be=function(Ue){O.removeListener(Ye,Ot),zt(Ue)},O.once("error",Be)),O.once(Ye,Ot)})},le.EventEmitter=le,le.prototype._events=void 0,le.prototype._eventsCount=0,le.prototype._maxListeners=void 0;var oe=10;function be(O){if(typeof O!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof O)}function Se(O){return O._maxListeners===void 0?le.defaultMaxListeners:O._maxListeners}function F(O,Ye,pt,zt){var Ot,Be,Ue,ft;if(be(pt),(Be=O._events)===void 0?(Be=O._events=Object.create(null),O._eventsCount=0):(Be.newListener!==void 0&&(O.emit("newListener",Ye,pt.listener?pt.listener:pt),Be=O._events),Ue=Be[Ye]),Ue===void 0)Ue=Be[Ye]=pt,++O._eventsCount;else if(typeof Ue=="function"?Ue=Be[Ye]=zt?[pt,Ue]:[Ue,pt]:zt?Ue.unshift(pt):Ue.push(pt),(Ot=Se(O))>0&&Ue.length>Ot&&!Ue.warned){Ue.warned=!0;var bt=new Error("Possible EventEmitter memory leak detected. "+Ue.length+" "+String(Ye)+" listeners added. Use emitter.setMaxListeners() to increase limit");bt.name="MaxListenersExceededWarning",bt.emitter=O,bt.type=Ye,bt.count=Ue.length,ft=bt,console&&console.warn&&console.warn(ft)}return O}function it(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function st(O,Ye,pt){var zt={fired:!1,wrapFn:void 0,target:O,type:Ye,listener:pt},Ot=it.bind(zt);return Ot.listener=pt,zt.wrapFn=Ot,Ot}function nn(O,Ye,pt){var zt=O._events;if(zt===void 0)return[];var Ot=zt[Ye];return Ot===void 0?[]:typeof Ot=="function"?pt?[Ot.listener||Ot]:[Ot]:pt?function(Be){for(var Ue=new Array(Be.length),ft=0;ft<Ue.length;++ft)Ue[ft]=Be[ft].listener||Be[ft];return Ue}(Ot):Rt(Ot,Ot.length)}function ht(O){var Ye=this._events;if(Ye!==void 0){var pt=Ye[O];if(typeof pt=="function")return 1;if(pt!==void 0)return pt.length}return 0}function Rt(O,Ye){for(var pt=new Array(Ye),zt=0;zt<Ye;++zt)pt[zt]=O[zt];return pt}Object.defineProperty(le,"defaultMaxListeners",{enumerable:!0,get:function(){return oe},set:function(O){if(typeof O!="number"||O<0||Y(O))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+O+".");oe=O}}),le.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},le.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||Y(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this},le.prototype.getMaxListeners=function(){return Se(this)},le.prototype.emit=function(O){for(var Ye=[],pt=1;pt<arguments.length;pt++)Ye.push(arguments[pt]);var zt=O==="error",Ot=this._events;if(Ot!==void 0)zt=zt&&Ot.error===void 0;else if(!zt)return!1;if(zt){var Be;if(Ye.length>0&&(Be=Ye[0]),Be instanceof Error)throw Be;var Ue=new Error("Unhandled error."+(Be?" ("+Be.message+")":""));throw Ue.context=Be,Ue}var ft=Ot[O];if(ft===void 0)return!1;if(typeof ft=="function")z(ft,this,Ye);else{var bt=ft.length,j=Rt(ft,bt);for(pt=0;pt<bt;++pt)z(j[pt],this,Ye)}return!0},le.prototype.addListener=function(O,Ye){return F(this,O,Ye,!1)},le.prototype.on=le.prototype.addListener,le.prototype.prependListener=function(O,Ye){return F(this,O,Ye,!0)},le.prototype.once=function(O,Ye){return be(Ye),this.on(O,st(this,O,Ye)),this},le.prototype.prependOnceListener=function(O,Ye){return be(Ye),this.prependListener(O,st(this,O,Ye)),this},le.prototype.removeListener=function(O,Ye){var pt,zt,Ot,Be,Ue;if(be(Ye),(zt=this._events)===void 0)return this;if((pt=zt[O])===void 0)return this;if(pt===Ye||pt.listener===Ye)--this._eventsCount==0?this._events=Object.create(null):(delete zt[O],zt.removeListener&&this.emit("removeListener",O,pt.listener||Ye));else if(typeof pt!="function"){for(Ot=-1,Be=pt.length-1;Be>=0;Be--)if(pt[Be]===Ye||pt[Be].listener===Ye){Ue=pt[Be].listener,Ot=Be;break}if(Ot<0)return this;Ot===0?pt.shift():function(ft,bt){for(;bt+1<ft.length;bt++)ft[bt]=ft[bt+1];ft.pop()}(pt,Ot),pt.length===1&&(zt[O]=pt[0]),zt.removeListener!==void 0&&this.emit("removeListener",O,Ue||Ye)}return this},le.prototype.off=le.prototype.removeListener,le.prototype.removeAllListeners=function(O){var Ye,pt,zt;if((pt=this._events)===void 0)return this;if(pt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):pt[O]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete pt[O]),this;if(arguments.length===0){var Ot,Be=Object.keys(pt);for(zt=0;zt<Be.length;++zt)(Ot=Be[zt])!=="removeListener"&&this.removeAllListeners(Ot);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(Ye=pt[O])=="function")this.removeListener(O,Ye);else if(Ye!==void 0)for(zt=Ye.length-1;zt>=0;zt--)this.removeListener(O,Ye[zt]);return this},le.prototype.listeners=function(O){return nn(this,O,!0)},le.prototype.rawListeners=function(O){return nn(this,O,!1)},le.listenerCount=function(O,Ye){return typeof O.listenerCount=="function"?O.listenerCount(Ye):ht.call(O,Ye)},le.prototype.listenerCount=ht,le.prototype.eventNames=function(){return this._eventsCount>0?T(this._events):[]}},function(x,g,_){x.exports.Dispatcher=_(140)},function(x,g,_){x.exports=_(142)},function(x,g,_){"use strict";g.__esModule=!0;var T=Y(_(50)),k=Y(_(65)),z=typeof k.default=="function"&&typeof T.default=="symbol"?function(le){return typeof le}:function(le){return le&&typeof k.default=="function"&&le.constructor===k.default&&le!==k.default.prototype?"symbol":typeof le};function Y(le){return le&&le.__esModule?le:{default:le}}g.default=typeof k.default=="function"&&z(T.default)==="symbol"?function(le){return le===void 0?"undefined":z(le)}:function(le){return le&&typeof k.default=="function"&&le.constructor===k.default&&le!==k.default.prototype?"symbol":le===void 0?"undefined":z(le)}},function(x,g,_){x.exports={default:_(51),__esModule:!0}},function(x,g,_){_(20),_(29),x.exports=_(30).f("iterator")},function(x,g,_){var T=_(21),k=_(22);x.exports=function(z){return function(Y,le){var oe,be,Se=String(k(Y)),F=T(le),it=Se.length;return F<0||F>=it?z?"":void 0:(oe=Se.charCodeAt(F))<55296||oe>56319||F+1===it||(be=Se.charCodeAt(F+1))<56320||be>57343?z?Se.charAt(F):oe:z?Se.slice(F,F+2):be-56320+(oe-55296<<10)+65536}}},function(x,g,_){var T=_(54);x.exports=function(k,z,Y){if(T(k),z===void 0)return k;switch(Y){case 1:return function(le){return k.call(z,le)};case 2:return function(le,oe){return k.call(z,le,oe)};case 3:return function(le,oe,be){return k.call(z,le,oe,be)}}return function(){return k.apply(z,arguments)}}},function(x,g){x.exports=function(_){if(typeof _!="function")throw TypeError(_+" is not a function!");return _}},function(x,g,_){"use strict";var T=_(38),k=_(16),z=_(28),Y={};_(6)(Y,_(2)("iterator"),function(){return this}),x.exports=function(le,oe,be){le.prototype=T(Y,{next:k(1,be)}),z(le,oe+" Iterator")}},function(x,g,_){var T=_(7),k=_(10),z=_(13);x.exports=_(4)?Object.defineProperties:function(Y,le){k(Y);for(var oe,be=z(le),Se=be.length,F=0;Se>F;)T.f(Y,oe=be[F++],le[oe]);return Y}},function(x,g,_){var T=_(9),k=_(58),z=_(59);x.exports=function(Y){return function(le,oe,be){var Se,F=T(le),it=k(F.length),st=z(be,it);if(Y&&oe!=oe){for(;it>st;)if((Se=F[st++])!=Se)return!0}else for(;it>st;st++)if((Y||st in F)&&F[st]===oe)return Y||st||0;return!Y&&-1}}},function(x,g,_){var T=_(21),k=Math.min;x.exports=function(z){return z>0?k(T(z),9007199254740991):0}},function(x,g,_){var T=_(21),k=Math.max,z=Math.min;x.exports=function(Y,le){return(Y=T(Y))<0?k(Y+le,0):z(Y,le)}},function(x,g,_){var T=_(3).document;x.exports=T&&T.documentElement},function(x,g,_){var T=_(5),k=_(18),z=_(25)("IE_PROTO"),Y=Object.prototype;x.exports=Object.getPrototypeOf||function(le){return le=k(le),T(le,z)?le[z]:typeof le.constructor=="function"&&le instanceof le.constructor?le.constructor.prototype:le instanceof Object?Y:null}},function(x,g,_){"use strict";var T=_(63),k=_(64),z=_(12),Y=_(9);x.exports=_(34)(Array,"Array",function(le,oe){this._t=Y(le),this._i=0,this._k=oe},function(){var le=this._t,oe=this._k,be=this._i++;return!le||be>=le.length?(this._t=void 0,k(1)):k(0,oe=="keys"?be:oe=="values"?le[be]:[be,le[be]])},"values"),z.Arguments=z.Array,T("keys"),T("values"),T("entries")},function(x,g){x.exports=function(){}},function(x,g){x.exports=function(_,T){return{value:T,done:!!_}}},function(x,g,_){x.exports={default:_(66),__esModule:!0}},function(x,g,_){_(67),_(73),_(74),_(75),x.exports=_(1).Symbol},function(x,g,_){"use strict";var T=_(3),k=_(5),z=_(4),Y=_(15),le=_(37),oe=_(68).KEY,be=_(8),Se=_(26),F=_(28),it=_(17),st=_(2),nn=_(30),ht=_(31),Rt=_(69),O=_(70),Ye=_(10),pt=_(11),zt=_(18),Ot=_(9),Be=_(23),Ue=_(16),ft=_(38),bt=_(71),j=_(72),ye=_(32),ge=_(7),ve=_(13),Ce=j.f,xe=ge.f,de=bt.f,X=T.Symbol,ee=T.JSON,Pe=ee&&ee.stringify,Q=st("_hidden"),Le=st("toPrimitive"),Ee={}.propertyIsEnumerable,ke=Se("symbol-registry"),qe=Se("symbols"),rt=Se("op-symbols"),tt=Object.prototype,St=typeof X=="function"&&!!ye.f,at=T.QObject,Mt=!at||!at.prototype||!at.prototype.findChild,Et=z&&be(function(){return ft(xe({},"a",{get:function(){return xe(this,"a",{value:7}).a}})).a!=7})?function(Me,Oe,Ke){var Xe=Ce(tt,Oe);Xe&&delete tt[Oe],xe(Me,Oe,Ke),Xe&&Me!==tt&&xe(tt,Oe,Xe)}:xe,Ct=function(Me){var Oe=qe[Me]=ft(X.prototype);return Oe._k=Me,Oe},We=St&&typeof X.iterator=="symbol"?function(Me){return typeof Me=="symbol"}:function(Me){return Me instanceof X},Ve=function(Me,Oe,Ke){return Me===tt&&Ve(rt,Oe,Ke),Ye(Me),Oe=Be(Oe,!0),Ye(Ke),k(qe,Oe)?(Ke.enumerable?(k(Me,Q)&&Me[Q][Oe]&&(Me[Q][Oe]=!1),Ke=ft(Ke,{enumerable:Ue(0,!1)})):(k(Me,Q)||xe(Me,Q,Ue(1,{})),Me[Q][Oe]=!0),Et(Me,Oe,Ke)):xe(Me,Oe,Ke)},gt=function(Me,Oe){Ye(Me);for(var Ke,Xe=Rt(Oe=Ot(Oe)),Nt=0,Qt=Xe.length;Qt>Nt;)Ve(Me,Ke=Xe[Nt++],Oe[Ke]);return Me},$t=function(Me){var Oe=Ee.call(this,Me=Be(Me,!0));return!(this===tt&&k(qe,Me)&&!k(rt,Me))&&(!(Oe||!k(this,Me)||!k(qe,Me)||k(this,Q)&&this[Q][Me])||Oe)},Gt=function(Me,Oe){if(Me=Ot(Me),Oe=Be(Oe,!0),Me!==tt||!k(qe,Oe)||k(rt,Oe)){var Ke=Ce(Me,Oe);return!Ke||!k(qe,Oe)||k(Me,Q)&&Me[Q][Oe]||(Ke.enumerable=!0),Ke}},Yt=function(Me){for(var Oe,Ke=de(Ot(Me)),Xe=[],Nt=0;Ke.length>Nt;)k(qe,Oe=Ke[Nt++])||Oe==Q||Oe==oe||Xe.push(Oe);return Xe},yn=function(Me){for(var Oe,Ke=Me===tt,Xe=de(Ke?rt:Ot(Me)),Nt=[],Qt=0;Xe.length>Qt;)!k(qe,Oe=Xe[Qt++])||Ke&&!k(tt,Oe)||Nt.push(qe[Oe]);return Nt};St||(le((X=function(){if(this instanceof X)throw TypeError("Symbol is not a constructor!");var Me=it(arguments.length>0?arguments[0]:void 0),Oe=function(Ke){this===tt&&Oe.call(rt,Ke),k(this,Q)&&k(this[Q],Me)&&(this[Q][Me]=!1),Et(this,Me,Ue(1,Ke))};return z&&Mt&&Et(tt,Me,{configurable:!0,set:Oe}),Ct(Me)}).prototype,"toString",function(){return this._k}),j.f=Gt,ge.f=Ve,_(41).f=bt.f=Yt,_(19).f=$t,ye.f=yn,z&&!_(14)&&le(tt,"propertyIsEnumerable",$t,!0),nn.f=function(Me){return Ct(st(Me))}),Y(Y.G+Y.W+Y.F*!St,{Symbol:X});for(var rn="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),sn=0;rn.length>sn;)st(rn[sn++]);for(var Mn=ve(st.store),xt=0;Mn.length>xt;)ht(Mn[xt++]);Y(Y.S+Y.F*!St,"Symbol",{for:function(Me){return k(ke,Me+="")?ke[Me]:ke[Me]=X(Me)},keyFor:function(Me){if(!We(Me))throw TypeError(Me+" is not a symbol!");for(var Oe in ke)if(ke[Oe]===Me)return Oe},useSetter:function(){Mt=!0},useSimple:function(){Mt=!1}}),Y(Y.S+Y.F*!St,"Object",{create:function(Me,Oe){return Oe===void 0?ft(Me):gt(ft(Me),Oe)},defineProperty:Ve,defineProperties:gt,getOwnPropertyDescriptor:Gt,getOwnPropertyNames:Yt,getOwnPropertySymbols:yn});var he=be(function(){ye.f(1)});Y(Y.S+Y.F*he,"Object",{getOwnPropertySymbols:function(Me){return ye.f(zt(Me))}}),ee&&Y(Y.S+Y.F*(!St||be(function(){var Me=X();return Pe([Me])!="[null]"||Pe({a:Me})!="{}"||Pe(Object(Me))!="{}"})),"JSON",{stringify:function(Me){for(var Oe,Ke,Xe=[Me],Nt=1;arguments.length>Nt;)Xe.push(arguments[Nt++]);if(Ke=Oe=Xe[1],(pt(Oe)||Me!==void 0)&&!We(Me))return O(Oe)||(Oe=function(Qt,Dn){if(typeof Ke=="function"&&(Dn=Ke.call(this,Qt,Dn)),!We(Dn))return Dn}),Xe[1]=Oe,Pe.apply(ee,Xe)}}),X.prototype[Le]||_(6)(X.prototype,Le,X.prototype.valueOf),F(X,"Symbol"),F(Math,"Math",!0),F(T.JSON,"JSON",!0)},function(x,g,_){var T=_(17)("meta"),k=_(11),z=_(5),Y=_(7).f,le=0,oe=Object.isExtensible||function(){return!0},be=!_(8)(function(){return oe(Object.preventExtensions({}))}),Se=function(it){Y(it,T,{value:{i:"O"+ ++le,w:{}}})},F=x.exports={KEY:T,NEED:!1,fastKey:function(it,st){if(!k(it))return typeof it=="symbol"?it:(typeof it=="string"?"S":"P")+it;if(!z(it,T)){if(!oe(it))return"F";if(!st)return"E";Se(it)}return it[T].i},getWeak:function(it,st){if(!z(it,T)){if(!oe(it))return!0;if(!st)return!1;Se(it)}return it[T].w},onFreeze:function(it){return be&&F.NEED&&oe(it)&&!z(it,T)&&Se(it),it}}},function(x,g,_){var T=_(13),k=_(32),z=_(19);x.exports=function(Y){var le=T(Y),oe=k.f;if(oe)for(var be,Se=oe(Y),F=z.f,it=0;Se.length>it;)F.call(Y,be=Se[it++])&&le.push(be);return le}},function(x,g,_){var T=_(24);x.exports=Array.isArray||function(k){return T(k)=="Array"}},function(x,g,_){var T=_(9),k=_(41).f,z={}.toString,Y=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];x.exports.f=function(le){return Y&&z.call(le)=="[object Window]"?function(oe){try{return k(oe)}catch(be){return Y.slice()}}(le):k(T(le))}},function(x,g,_){var T=_(19),k=_(16),z=_(9),Y=_(23),le=_(5),oe=_(35),be=Object.getOwnPropertyDescriptor;g.f=_(4)?be:function(Se,F){if(Se=z(Se),F=Y(F,!0),oe)try{return be(Se,F)}catch(it){}if(le(Se,F))return k(!T.f.call(Se,F),Se[F])}},function(x,g){},function(x,g,_){_(31)("asyncIterator")},function(x,g,_){_(31)("observable")},function(x,g,_){"use strict";g.__esModule=!0;var T,k=_(77),z=(T=k)&&T.__esModule?T:{default:T};g.default=z.default||function(Y){for(var le=1;le<arguments.length;le++){var oe=arguments[le];for(var be in oe)Object.prototype.hasOwnProperty.call(oe,be)&&(Y[be]=oe[be])}return Y}},function(x,g,_){x.exports={default:_(78),__esModule:!0}},function(x,g,_){_(79),x.exports=_(1).Object.assign},function(x,g,_){var T=_(15);T(T.S+T.F,"Object",{assign:_(80)})},function(x,g,_){"use strict";var T=_(4),k=_(13),z=_(32),Y=_(19),le=_(18),oe=_(40),be=Object.assign;x.exports=!be||_(8)(function(){var Se={},F={},it=Symbol(),st="abcdefghijklmnopqrst";return Se[it]=7,st.split("").forEach(function(nn){F[nn]=nn}),be({},Se)[it]!=7||Object.keys(be({},F)).join("")!=st})?function(Se,F){for(var it=le(Se),st=arguments.length,nn=1,ht=z.f,Rt=Y.f;st>nn;)for(var O,Ye=oe(arguments[nn++]),pt=ht?k(Ye).concat(ht(Ye)):k(Ye),zt=pt.length,Ot=0;zt>Ot;)O=pt[Ot++],T&&!Rt.call(Ye,O)||(it[O]=Ye[O]);return it}:be},function(x,g,_){"use strict";g.__esModule=!0;var T=z(_(82)),k=z(_(85));function z(Y){return Y&&Y.__esModule?Y:{default:Y}}g.default=function(Y,le){if(Array.isArray(Y))return Y;if((0,T.default)(Object(Y)))return function(oe,be){var Se=[],F=!0,it=!1,st=void 0;try{for(var nn,ht=(0,k.default)(oe);!(F=(nn=ht.next()).done)&&(Se.push(nn.value),!be||Se.length!==be);F=!0);}catch(Rt){it=!0,st=Rt}finally{try{!F&&ht.return&&ht.return()}finally{if(it)throw st}}return Se}(Y,le);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(x,g,_){x.exports={default:_(83),__esModule:!0}},function(x,g,_){_(29),_(20),x.exports=_(84)},function(x,g,_){var T=_(42),k=_(2)("iterator"),z=_(12);x.exports=_(1).isIterable=function(Y){var le=Object(Y);return le[k]!==void 0||"@@iterator"in le||z.hasOwnProperty(T(le))}},function(x,g,_){x.exports={default:_(86),__esModule:!0}},function(x,g,_){_(29),_(20),x.exports=_(87)},function(x,g,_){var T=_(10),k=_(88);x.exports=_(1).getIterator=function(z){var Y=k(z);if(typeof Y!="function")throw TypeError(z+" is not iterable!");return T(Y.call(z))}},function(x,g,_){var T=_(42),k=_(2)("iterator"),z=_(12);x.exports=_(1).getIteratorMethod=function(Y){if(Y!=null)return Y[k]||Y["@@iterator"]||z[T(Y)]}},function(x,g,_){x.exports={default:_(90),__esModule:!0}},function(x,g,_){_(91),x.exports=_(1).Object.keys},function(x,g,_){var T=_(18),k=_(13);_(92)("keys",function(){return function(z){return k(T(z))}})},function(x,g,_){var T=_(15),k=_(1),z=_(8);x.exports=function(Y,le){var oe=(k.Object||{})[Y]||Object[Y],be={};be[Y]=le(oe),T(T.S+T.F*z(function(){oe(1)}),"Object",be)}},function(x,g,_){(function(T){var k=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],z=/^\s+|\s+$/g,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,oe=/,? & /,be=/^[-+]0x[0-9a-f]+$/i,Se=/^0b[01]+$/i,F=/^\[object .+?Constructor\]$/,it=/^0o[0-7]+$/i,st=/^(?:0|[1-9]\d*)$/,nn=parseInt,ht=typeof T=="object"&&T&&T.Object===Object&&T,Rt=typeof self=="object"&&self&&self.Object===Object&&self,O=ht||Rt||Function("return this")();function Ye(xt,he,Me){switch(Me.length){case 0:return xt.call(he);case 1:return xt.call(he,Me[0]);case 2:return xt.call(he,Me[0],Me[1]);case 3:return xt.call(he,Me[0],Me[1],Me[2])}return xt.apply(he,Me)}function pt(xt,he){return!!(xt&&xt.length)&&function(Me,Oe,Ke){if(Oe!=Oe)return function(Qt,Dn,Pn,me){for(var Je=Qt.length,nt=Pn+(me?1:-1);me?nt--:++nt<Je;)if(Dn(Qt[nt],nt,Qt))return nt;return-1}(Me,zt,Ke);for(var Xe=Ke-1,Nt=Me.length;++Xe<Nt;)if(Me[Xe]===Oe)return Xe;return-1}(xt,he,0)>-1}function zt(xt){return xt!=xt}function Ot(xt,he){for(var Me=xt.length,Oe=0;Me--;)xt[Me]===he&&Oe++;return Oe}function Be(xt,he){for(var Me=-1,Oe=xt.length,Ke=0,Xe=[];++Me<Oe;){var Nt=xt[Me];Nt!==he&&Nt!=="__lodash_placeholder__"||(xt[Me]="__lodash_placeholder__",Xe[Ke++]=Me)}return Xe}var Ue,ft,bt,j=Function.prototype,ye=Object.prototype,ge=O["__core-js_shared__"],ve=(Ue=/[^.]+$/.exec(ge&&ge.keys&&ge.keys.IE_PROTO||""))?"Symbol(src)_1."+Ue:"",Ce=j.toString,xe=ye.hasOwnProperty,de=ye.toString,X=RegExp("^"+Ce.call(xe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=Object.create,Pe=Math.max,Q=Math.min,Le=(ft=Ct(Object,"defineProperty"),(bt=Ct.name)&&bt.length>2?ft:void 0);function Ee(xt){return rn(xt)?ee(xt):{}}function ke(xt){return!(!rn(xt)||function(he){return!!ve&&ve in he}(xt))&&(function(he){var Me=rn(he)?de.call(he):"";return Me=="[object Function]"||Me=="[object GeneratorFunction]"}(xt)||function(he){var Me=!1;if(he!=null&&typeof he.toString!="function")try{Me=!!(he+"")}catch(Oe){}return Me}(xt)?X:F).test(function(he){if(he!=null){try{return Ce.call(he)}catch(Me){}try{return he+""}catch(Me){}}return""}(xt))}function qe(xt,he,Me,Oe){for(var Ke=-1,Xe=xt.length,Nt=Me.length,Qt=-1,Dn=he.length,Pn=Pe(Xe-Nt,0),me=Array(Dn+Pn),Je=!Oe;++Qt<Dn;)me[Qt]=he[Qt];for(;++Ke<Nt;)(Je||Ke<Xe)&&(me[Me[Ke]]=xt[Ke]);for(;Pn--;)me[Qt++]=xt[Ke++];return me}function rt(xt,he,Me,Oe){for(var Ke=-1,Xe=xt.length,Nt=-1,Qt=Me.length,Dn=-1,Pn=he.length,me=Pe(Xe-Qt,0),Je=Array(me+Pn),nt=!Oe;++Ke<me;)Je[Ke]=xt[Ke];for(var et=Ke;++Dn<Pn;)Je[et+Dn]=he[Dn];for(;++Nt<Qt;)(nt||Ke<Xe)&&(Je[et+Me[Nt]]=xt[Ke++]);return Je}function tt(xt){return function(){var he=arguments;switch(he.length){case 0:return new xt;case 1:return new xt(he[0]);case 2:return new xt(he[0],he[1]);case 3:return new xt(he[0],he[1],he[2]);case 4:return new xt(he[0],he[1],he[2],he[3]);case 5:return new xt(he[0],he[1],he[2],he[3],he[4]);case 6:return new xt(he[0],he[1],he[2],he[3],he[4],he[5]);case 7:return new xt(he[0],he[1],he[2],he[3],he[4],he[5],he[6])}var Me=Ee(xt.prototype),Oe=xt.apply(Me,he);return rn(Oe)?Oe:Me}}function St(xt,he,Me,Oe,Ke,Xe,Nt,Qt,Dn,Pn){var me=128&he,Je=1&he,nt=2&he,et=24&he,Ut=512&he,pn=nt?void 0:tt(xt);return function an(){for(var Vt=arguments.length,pe=Array(Vt),De=Vt;De--;)pe[De]=arguments[De];if(et)var lt=Et(an),Tt=Ot(pe,lt);if(Oe&&(pe=qe(pe,Oe,Ke,et)),Xe&&(pe=rt(pe,Xe,Nt,et)),Vt-=Tt,et&&Vt<Pn){var Wt=Be(pe,lt);return at(xt,he,St,an.placeholder,Me,pe,Wt,Qt,Dn,Pn-Vt)}var Cn=Je?Me:this,Bn=nt?Cn[xt]:xt;return Vt=pe.length,Qt?pe=$t(pe,Qt):Ut&&Vt>1&&pe.reverse(),me&&Dn<Vt&&(pe.length=Dn),this&&this!==O&&this instanceof an&&(Bn=pn||tt(Bn)),Bn.apply(Cn,pe)}}function at(xt,he,Me,Oe,Ke,Xe,Nt,Qt,Dn,Pn){var me=8&he;he|=me?32:64,4&(he&=~(me?64:32))||(he&=-4);var Je=Me(xt,he,Ke,me?Xe:void 0,me?Nt:void 0,me?void 0:Xe,me?void 0:Nt,Qt,Dn,Pn);return Je.placeholder=Oe,Gt(Je,xt,he)}function Mt(xt,he,Me,Oe,Ke,Xe,Nt,Qt){var Dn=2&he;if(!Dn&&typeof xt!="function")throw new TypeError("Expected a function");var Pn=Oe?Oe.length:0;if(Pn||(he&=-97,Oe=Ke=void 0),Nt=Nt===void 0?Nt:Pe(Mn(Nt),0),Qt=Qt===void 0?Qt:Mn(Qt),Pn-=Ke?Ke.length:0,64&he){var me=Oe,Je=Ke;Oe=Ke=void 0}var nt=[xt,he,Me,Oe,Ke,me,Je,Xe,Nt,Qt];if(xt=nt[0],he=nt[1],Me=nt[2],Oe=nt[3],Ke=nt[4],!(Qt=nt[9]=nt[9]==null?Dn?0:xt.length:Pe(nt[9]-Pn,0))&&24&he&&(he&=-25),he&&he!=1)et=he==8||he==16?function(Ut,pn,an){var Vt=tt(Ut);return function pe(){for(var De=arguments.length,lt=Array(De),Tt=De,Wt=Et(pe);Tt--;)lt[Tt]=arguments[Tt];var Cn=De<3&&lt[0]!==Wt&&lt[De-1]!==Wt?[]:Be(lt,Wt);if((De-=Cn.length)<an)return at(Ut,pn,St,pe.placeholder,void 0,lt,Cn,void 0,void 0,an-De);var Bn=this&&this!==O&&this instanceof pe?Vt:Ut;return Ye(Bn,this,lt)}}(xt,he,Qt):he!=32&&he!=33||Ke.length?St.apply(void 0,nt):function(Ut,pn,an,Vt){var pe=1&pn,De=tt(Ut);return function lt(){for(var Tt=-1,Wt=arguments.length,Cn=-1,Bn=Vt.length,Gn=Array(Bn+Wt),vr=this&&this!==O&&this instanceof lt?De:Ut;++Cn<Bn;)Gn[Cn]=Vt[Cn];for(;Wt--;)Gn[Cn++]=arguments[++Tt];return Ye(vr,pe?an:this,Gn)}}(xt,he,Me,Oe);else var et=function(Ut,pn,an){var Vt=1&pn,pe=tt(Ut);return function De(){var lt=this&&this!==O&&this instanceof De?pe:Ut;return lt.apply(Vt?an:this,arguments)}}(xt,he,Me);return Gt(et,xt,he)}function Et(xt){return xt.placeholder}function Ct(xt,he){var Me=function(Oe,Ke){return Oe==null?void 0:Oe[Ke]}(xt,he);return ke(Me)?Me:void 0}function We(xt){var he=xt.match(le);return he?he[1].split(oe):[]}function Ve(xt,he){var Me=he.length,Oe=Me-1;return he[Oe]=(Me>1?"& ":"")+he[Oe],he=he.join(Me>2?", ":" "),xt.replace(Y,`{
/* [wrapped with `+he+`] */
`)}function gt(xt,he){return!!(he=he==null?9007199254740991:he)&&(typeof xt=="number"||st.test(xt))&&xt>-1&&xt%1==0&&xt<he}function $t(xt,he){for(var Me=xt.length,Oe=Q(he.length,Me),Ke=function(Nt,Qt){var Dn=-1,Pn=Nt.length;for(Qt||(Qt=Array(Pn));++Dn<Pn;)Qt[Dn]=Nt[Dn];return Qt}(xt);Oe--;){var Xe=he[Oe];xt[Oe]=gt(Xe,Me)?Ke[Xe]:void 0}return xt}var Gt=Le?function(xt,he,Me){var Oe,Ke=he+"";return Le(xt,"toString",{configurable:!0,enumerable:!1,value:(Oe=Ve(Ke,Yt(We(Ke),Me)),function(){return Oe})})}:function(xt){return xt};function Yt(xt,he){return function(Me,Oe){for(var Ke=-1,Xe=Me?Me.length:0;++Ke<Xe&&Oe(Me[Ke],Ke,Me)!==!1;);}(k,function(Me){var Oe="_."+Me[0];he&Me[1]&&!pt(xt,Oe)&&xt.push(Oe)}),xt.sort()}function yn(xt,he,Me){var Oe=Mt(xt,8,void 0,void 0,void 0,void 0,void 0,he=Me?void 0:he);return Oe.placeholder=yn.placeholder,Oe}function rn(xt){var he=typeof xt;return!!xt&&(he=="object"||he=="function")}function sn(xt){return xt?(xt=function(he){if(typeof he=="number")return he;if(function(Ke){return typeof Ke=="symbol"||function(Xe){return!!Xe&&typeof Xe=="object"}(Ke)&&de.call(Ke)=="[object Symbol]"}(he))return NaN;if(rn(he)){var Me=typeof he.valueOf=="function"?he.valueOf():he;he=rn(Me)?Me+"":Me}if(typeof he!="string")return he===0?he:+he;he=he.replace(z,"");var Oe=Se.test(he);return Oe||it.test(he)?nn(he.slice(2),Oe?2:8):be.test(he)?NaN:+he}(xt))===1/0||xt===-1/0?17976931348623157e292*(xt<0?-1:1):xt==xt?xt:0:xt===0?xt:0}function Mn(xt){var he=sn(xt),Me=he%1;return he==he?Me?he-Me:he:0}yn.placeholder={},x.exports=yn}).call(this,_(43))},function(x,g,_){"use strict";function T(rt){return rt&&rt.__esModule?rt.default:rt}g.__esModule=!0;var k=_(95);g.threezerotwofour=T(k);var z=_(96);g.apathy=T(z);var Y=_(97);g.ashes=T(Y);var le=_(98);g.atelierDune=T(le);var oe=_(99);g.atelierForest=T(oe);var be=_(100);g.atelierHeath=T(be);var Se=_(101);g.atelierLakeside=T(Se);var F=_(102);g.atelierSeaside=T(F);var it=_(103);g.bespin=T(it);var st=_(104);g.brewer=T(st);var nn=_(105);g.bright=T(nn);var ht=_(106);g.chalk=T(ht);var Rt=_(107);g.codeschool=T(Rt);var O=_(108);g.colors=T(O);var Ye=_(109);g.default=T(Ye);var pt=_(110);g.eighties=T(pt);var zt=_(111);g.embers=T(zt);var Ot=_(112);g.flat=T(Ot);var Be=_(113);g.google=T(Be);var Ue=_(114);g.grayscale=T(Ue);var ft=_(115);g.greenscreen=T(ft);var bt=_(116);g.harmonic=T(bt);var j=_(117);g.hopscotch=T(j);var ye=_(118);g.isotope=T(ye);var ge=_(119);g.marrakesh=T(ge);var ve=_(120);g.mocha=T(ve);var Ce=_(121);g.monokai=T(Ce);var xe=_(122);g.ocean=T(xe);var de=_(123);g.paraiso=T(de);var X=_(124);g.pop=T(X);var ee=_(125);g.railscasts=T(ee);var Pe=_(126);g.shapeshifter=T(Pe);var Q=_(127);g.solarized=T(Q);var Le=_(128);g.summerfruit=T(Le);var Ee=_(129);g.tomorrow=T(Ee);var ke=_(130);g.tube=T(ke);var qe=_(131);g.twilight=T(qe)},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"brewer",author:"timoth\xE9e poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},x.exports=g.default},function(x,g,_){"use strict";g.__esModule=!0,g.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},x.exports=g.default},function(x,g,_){var T=_(33);function k(z){var Y=Math.round(T(z,0,255)).toString(16);return Y.length==1?"0"+Y:Y}x.exports=function(z){var Y=z.length===4?k(255*z[3]):"";return"#"+k(z[0])+k(z[1])+k(z[2])+Y}},function(x,g,_){var T=_(134),k=_(135),z=_(136),Y=_(137),le={"#":k,hsl:function(be){var Se=T(be),F=Y(Se);return Se.length===4&&F.push(Se[3]),F},rgb:z};function oe(be){for(var Se in le)if(be.indexOf(Se)===0)return le[Se](be)}oe.rgb=z,oe.hsl=T,oe.hex=k,x.exports=oe},function(x,g,_){var T=_(44),k=_(33);function z(Y,le){switch(Y=parseFloat(Y),le){case 0:return k(Y,0,360);case 1:case 2:return k(Y,0,100);case 3:return k(Y,0,1)}}x.exports=function(Y){return T(Y).map(z)}},function(x,g){x.exports=function(_){_.length!==4&&_.length!==5||(_=function(z){for(var Y="#",le=1;le<z.length;le++){var oe=z.charAt(le);Y+=oe+oe}return Y}(_));var T=[parseInt(_.substring(1,3),16),parseInt(_.substring(3,5),16),parseInt(_.substring(5,7),16)];if(_.length===9){var k=parseFloat((parseInt(_.substring(7,9),16)/255).toFixed(2));T.push(k)}return T}},function(x,g,_){var T=_(44),k=_(33);function z(Y,le){return le<3?Y.indexOf("%")!=-1?Math.round(255*k(parseInt(Y,10),0,100)/100):k(parseInt(Y,10),0,255):k(parseFloat(Y),0,1)}x.exports=function(Y){return T(Y).map(z)}},function(x,g){x.exports=function(_){var T,k,z,Y,le,oe=_[0]/360,be=_[1]/100,Se=_[2]/100;if(be==0)return[le=255*Se,le,le];T=2*Se-(k=Se<.5?Se*(1+be):Se+be-Se*be),Y=[0,0,0];for(var F=0;F<3;F++)(z=oe+1/3*-(F-1))<0&&z++,z>1&&z--,le=6*z<1?T+6*(k-T)*z:2*z<1?k:3*z<2?T+(k-T)*(2/3-z)*6:T,Y[F]=255*le;return Y}},function(x,g,_){(function(T){var k=typeof T=="object"&&T&&T.Object===Object&&T,z=typeof self=="object"&&self&&self.Object===Object&&self,Y=k||z||Function("return this")();function le(Be,Ue,ft){switch(ft.length){case 0:return Be.call(Ue);case 1:return Be.call(Ue,ft[0]);case 2:return Be.call(Ue,ft[0],ft[1]);case 3:return Be.call(Ue,ft[0],ft[1],ft[2])}return Be.apply(Ue,ft)}function oe(Be,Ue){for(var ft=-1,bt=Ue.length,j=Be.length;++ft<bt;)Be[j+ft]=Ue[ft];return Be}var be=Object.prototype,Se=be.hasOwnProperty,F=be.toString,it=Y.Symbol,st=be.propertyIsEnumerable,nn=it?it.isConcatSpreadable:void 0,ht=Math.max;function Rt(Be){return O(Be)||function(Ue){return function(ft){return function(bt){return!!bt&&typeof bt=="object"}(ft)&&function(bt){return bt!=null&&function(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=9007199254740991}(bt.length)&&!function(j){var ye=function(ge){var ve=typeof ge;return!!ge&&(ve=="object"||ve=="function")}(j)?F.call(j):"";return ye=="[object Function]"||ye=="[object GeneratorFunction]"}(bt)}(ft)}(Ue)&&Se.call(Ue,"callee")&&(!st.call(Ue,"callee")||F.call(Ue)=="[object Arguments]")}(Be)||!!(nn&&Be&&Be[nn])}var O=Array.isArray,Ye,pt,zt,Ot=(pt=function(Be){var Ue=(Be=function bt(j,ye,ge,ve,Ce){var xe=-1,de=j.length;for(ge||(ge=Rt),Ce||(Ce=[]);++xe<de;){var X=j[xe];ye>0&&ge(X)?ye>1?bt(X,ye-1,ge,ve,Ce):oe(Ce,X):ve||(Ce[Ce.length]=X)}return Ce}(Be,1)).length,ft=Ue;for(Ye&&Be.reverse();ft--;)if(typeof Be[ft]!="function")throw new TypeError("Expected a function");return function(){for(var bt=0,j=Ue?Be[bt].apply(this,arguments):arguments[0];++bt<Ue;)j=Be[bt].call(this,j);return j}},zt=ht(zt===void 0?pt.length-1:zt,0),function(){for(var Be=arguments,Ue=-1,ft=ht(Be.length-zt,0),bt=Array(ft);++Ue<ft;)bt[Ue]=Be[zt+Ue];Ue=-1;for(var j=Array(zt+1);++Ue<zt;)j[Ue]=Be[Ue];return j[zt]=bt,le(pt,this,j)});x.exports=Ot}).call(this,_(43))},function(x,g,_){"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.yuv2rgb=function(T){var k,z,Y,le=T[0],oe=T[1],be=T[2];return k=1*le+0*oe+1.13983*be,z=1*le+-.39465*oe+-.5806*be,Y=1*le+2.02311*oe+0*be,k=Math.min(Math.max(0,k),1),z=Math.min(Math.max(0,z),1),Y=Math.min(Math.max(0,Y),1),[255*k,255*z,255*Y]},g.rgb2yuv=function(T){var k=T[0]/255,z=T[1]/255,Y=T[2]/255;return[.299*k+.587*z+.114*Y,-.14713*k+-.28886*z+.436*Y,.615*k+-.51499*z+-.10001*Y]}},function(x,g,_){"use strict";function T(Y,le,oe){return le in Y?Object.defineProperty(Y,le,{value:oe,enumerable:!0,configurable:!0,writable:!0}):Y[le]=oe,Y}var k=_(141),z=function(){function Y(){T(this,"_callbacks",void 0),T(this,"_isDispatching",void 0),T(this,"_isHandled",void 0),T(this,"_isPending",void 0),T(this,"_lastID",void 0),T(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var le=Y.prototype;return le.register=function(oe){var be="ID_"+this._lastID++;return this._callbacks[be]=oe,be},le.unregister=function(oe){this._callbacks[oe]||k(!1),delete this._callbacks[oe]},le.waitFor=function(oe){this._isDispatching||k(!1);for(var be=0;be<oe.length;be++){var Se=oe[be];this._isPending[Se]?this._isHandled[Se]||k(!1):(this._callbacks[Se]||k(!1),this._invokeCallback(Se))}},le.dispatch=function(oe){this._isDispatching&&k(!1),this._startDispatching(oe);try{for(var be in this._callbacks)this._isPending[be]||this._invokeCallback(be)}finally{this._stopDispatching()}},le.isDispatching=function(){return this._isDispatching},le._invokeCallback=function(oe){this._isPending[oe]=!0,this._callbacks[oe](this._pendingPayload),this._isHandled[oe]=!0},le._startDispatching=function(oe){for(var be in this._callbacks)this._isPending[be]=!1,this._isHandled[be]=!1;this._pendingPayload=oe,this._isDispatching=!0},le._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},Y}();x.exports=z},function(x,g,_){"use strict";var T=function(k){};x.exports=function(k,z){for(var Y=arguments.length,le=new Array(Y>2?Y-2:0),oe=2;oe<Y;oe++)le[oe-2]=arguments[oe];if(T(z),!k){var be;if(z===void 0)be=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var Se=0;(be=new Error(z.replace(/%s/g,function(){return String(le[Se++])}))).name="Invariant Violation"}throw be.framesToPop=1,be}}},function(x,g,_){"use strict";function T(m,C,w){return C in m?Object.defineProperty(m,C,{value:w,enumerable:!0,configurable:!0,writable:!0}):m[C]=w,m}function k(m,C){var w=Object.keys(m);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(m);C&&(L=L.filter(function(V){return Object.getOwnPropertyDescriptor(m,V).enumerable})),w.push.apply(w,L)}return w}function z(m){for(var C=1;C<arguments.length;C++){var w=arguments[C]!=null?arguments[C]:{};C%2?k(Object(w),!0).forEach(function(L){T(m,L,w[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(w)):k(Object(w)).forEach(function(L){Object.defineProperty(m,L,Object.getOwnPropertyDescriptor(w,L))})}return m}function Y(m,C){if(!(m instanceof C))throw new TypeError("Cannot call a class as a function")}function le(m,C){for(var w=0;w<C.length;w++){var L=C[w];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(m,L.key,L)}}function oe(m,C,w){return C&&le(m.prototype,C),w&&le(m,w),m}function be(m,C){return(be=Object.setPrototypeOf||function(w,L){return w.__proto__=L,w})(m,C)}function Se(m,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(C&&C.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),C&&be(m,C)}function F(m){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)})(m)}function it(m){return(it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(m)}function st(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function nn(m,C){return!C||it(C)!=="object"&&typeof C!="function"?st(m):C}function ht(m){var C=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}();return function(){var w,L=F(m);if(C){var V=F(this).constructor;w=Reflect.construct(L,arguments,V)}else w=L.apply(this,arguments);return nn(this,w)}}_.r(g);var Rt=_(0),O=_.n(Rt);function Ye(){var m=this.constructor.getDerivedStateFromProps(this.props,this.state);m!=null&&this.setState(m)}function pt(m){this.setState(function(C){var w=this.constructor.getDerivedStateFromProps(m,C);return w!=null?w:null}.bind(this))}function zt(m,C){try{var w=this.props,L=this.state;this.props=m,this.state=C,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(w,L)}finally{this.props=w,this.state=L}}function Ot(m){var C=m.prototype;if(!C||!C.isReactComponent)throw new Error("Can only polyfill class components");if(typeof m.getDerivedStateFromProps!="function"&&typeof C.getSnapshotBeforeUpdate!="function")return m;var w=null,L=null,V=null;if(typeof C.componentWillMount=="function"?w="componentWillMount":typeof C.UNSAFE_componentWillMount=="function"&&(w="UNSAFE_componentWillMount"),typeof C.componentWillReceiveProps=="function"?L="componentWillReceiveProps":typeof C.UNSAFE_componentWillReceiveProps=="function"&&(L="UNSAFE_componentWillReceiveProps"),typeof C.componentWillUpdate=="function"?V="componentWillUpdate":typeof C.UNSAFE_componentWillUpdate=="function"&&(V="UNSAFE_componentWillUpdate"),w!==null||L!==null||V!==null){var se=m.displayName||m.name,N=typeof m.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+se+" uses "+N+" but also contains the following legacy lifecycles:"+(w!==null?`
  `+w:"")+(L!==null?`
  `+L:"")+(V!==null?`
  `+V:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof m.getDerivedStateFromProps=="function"&&(C.componentWillMount=Ye,C.componentWillReceiveProps=pt),typeof C.getSnapshotBeforeUpdate=="function"){if(typeof C.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");C.componentWillUpdate=zt;var Z=C.componentDidUpdate;C.componentDidUpdate=function(P,$,Ne){var Ge=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:Ne;Z.call(this,P,$,Ge)}}return m}function Be(m,C){if(m==null)return{};var w,L,V=function(N,Z){if(N==null)return{};var P,$,Ne={},Ge=Object.keys(N);for($=0;$<Ge.length;$++)P=Ge[$],Z.indexOf(P)>=0||(Ne[P]=N[P]);return Ne}(m,C);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(m);for(L=0;L<se.length;L++)w=se[L],C.indexOf(w)>=0||Object.prototype.propertyIsEnumerable.call(m,w)&&(V[w]=m[w])}return V}function Ue(m){var C=function(w){return{}.toString.call(w).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(m);return C==="number"&&(C=isNaN(m)?"nan":(0|m)!=m?"float":"integer"),C}Ye.__suppressDeprecationWarning=!0,pt.__suppressDeprecationWarning=!0,zt.__suppressDeprecationWarning=!0;var ft={scheme:"rjv-default",author:"mac gainor",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},bt={scheme:"rjv-grey",author:"mac gainor",base00:"rgba(1, 1, 1, 0)",base01:"rgba(1, 1, 1, 0.1)",base02:"rgba(0, 0, 0, 0.2)",base03:"rgba(1, 1, 1, 0.3)",base04:"rgba(0, 0, 0, 0.4)",base05:"rgba(1, 1, 1, 0.5)",base06:"rgba(1, 1, 1, 0.6)",base07:"rgba(1, 1, 1, 0.7)",base08:"rgba(1, 1, 1, 0.8)",base09:"rgba(1, 1, 1, 0.8)",base0A:"rgba(1, 1, 1, 0.8)",base0B:"rgba(1, 1, 1, 0.8)",base0C:"rgba(1, 1, 1, 0.8)",base0D:"rgba(1, 1, 1, 0.8)",base0E:"rgba(1, 1, 1, 0.8)",base0F:"rgba(1, 1, 1, 0.8)"},j={white:"#fff",black:"#000",transparent:"rgba(1, 1, 1, 0)",globalFontFamily:"monospace",globalCursor:"default",indentBlockWidth:"5px",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyBorderRadius:"3px",keyColonWeight:"bold",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:"5px",keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",keyValPaddingHover:"3px 5px 3px 4px",pushedContentMarginLeft:"6px",variableValuePaddingRight:"6px",nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 2px",nullBorderRadius:"3px",nanFontSize:"11px",nanFontWeight:"bold",nanPadding:"1px 2px",nanBorderRadius:"3px",undefinedFontSize:"11px",undefinedFontWeight:"bold",undefinedPadding:"1px 2px",undefinedBorderRadius:"3px",dataTypeFontSize:"11px",dataTypeMarginRight:"4px",datatypeOpacity:"0.8",objectSizeBorderRadius:"3px",objectSizeFontStyle:"italic",objectSizeMargin:"0px 6px 0px 0px",clipboardCursor:"pointer",clipboardCheckMarginLeft:"-12px",metaDataPadding:"0px 0px 0px 10px",arrayGroupMetaPadding:"0px 0px 0px 4px",iconContainerWidth:"17px",tooltipPadding:"4px",editInputMinWidth:"130px",editInputBorderRadius:"2px",editInputPadding:"5px",editInputMarginRight:"4px",editInputFontFamily:"monospace",iconCursor:"pointer",iconFontSize:"15px",iconPaddingRight:"1px",dateValueMarginLeft:"2px",iconMarginRight:"3px",detectedRowPaddingTop:"3px",addKeyCoverBackground:"rgba(255, 255, 255, 0.3)",addKeyCoverPosition:"absolute",addKeyCoverPositionPx:"0px",addKeyModalWidth:"200px",addKeyModalMargin:"auto",addKeyModalPadding:"10px",addKeyModalRadius:"3px"},ye=_(45),ge=function(m){var C=function(w){return{backgroundColor:w.base00,ellipsisColor:w.base09,braceColor:w.base07,expandedIcon:w.base0D,collapsedIcon:w.base0E,keyColor:w.base07,arrayKeyColor:w.base0C,objectSize:w.base04,copyToClipboard:w.base0F,copyToClipboardCheck:w.base0D,objectBorder:w.base02,dataTypes:{boolean:w.base0E,date:w.base0D,float:w.base0B,function:w.base0D,integer:w.base0F,string:w.base09,nan:w.base08,null:w.base0A,undefined:w.base05,regexp:w.base0A,background:w.base02},editVariable:{editIcon:w.base0E,cancelIcon:w.base09,removeIcon:w.base09,addIcon:w.base0E,checkIcon:w.base0E,background:w.base01,color:w.base0A,border:w.base07},addKeyModal:{background:w.base05,border:w.base04,color:w.base0A,labelColor:w.base01},validationFailure:{background:w.base09,iconColor:w.base01,fontColor:w.base01}}}(m);return{"app-container":{fontFamily:j.globalFontFamily,cursor:j.globalCursor,backgroundColor:C.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:C.ellipsisColor,fontSize:j.ellipsisFontSize,lineHeight:j.ellipsisLineHeight,cursor:j.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:j.braceCursor,fontWeight:j.braceFontWeight,color:C.braceColor},"expanded-icon":{color:C.expandedIcon},"collapsed-icon":{color:C.collapsedIcon},colon:{display:"inline-block",margin:j.keyMargin,color:C.keyColor,verticalAlign:"top"},objectKeyVal:function(w,L){return{style:z({paddingTop:j.keyValPaddingTop,paddingRight:j.keyValPaddingRight,paddingBottom:j.keyValPaddingBottom,borderLeft:j.keyValBorderLeft+" "+C.objectBorder,":hover":{paddingLeft:L.paddingLeft-1+"px",borderLeft:j.keyValBorderHover+" "+C.objectBorder}},L)}},"object-key-val-no-border":{padding:j.keyValPadding},"pushed-content":{marginLeft:j.pushedContentMarginLeft},variableValue:function(w,L){return{style:z({display:"inline-block",paddingRight:j.variableValuePaddingRight,position:"relative"},L)}},"object-name":{display:"inline-block",color:C.keyColor,letterSpacing:j.keyLetterSpacing,fontStyle:j.keyFontStyle,verticalAlign:j.keyVerticalAlign,opacity:j.keyOpacity,":hover":{opacity:j.keyOpacityHover}},"array-key":{display:"inline-block",color:C.arrayKeyColor,letterSpacing:j.keyLetterSpacing,fontStyle:j.keyFontStyle,verticalAlign:j.keyVerticalAlign,opacity:j.keyOpacity,":hover":{opacity:j.keyOpacityHover}},"object-size":{color:C.objectSize,borderRadius:j.objectSizeBorderRadius,fontStyle:j.objectSizeFontStyle,margin:j.objectSizeMargin,cursor:"default"},"data-type-label":{fontSize:j.dataTypeFontSize,marginRight:j.dataTypeMarginRight,opacity:j.datatypeOpacity},boolean:{display:"inline-block",color:C.dataTypes.boolean},date:{display:"inline-block",color:C.dataTypes.date},"date-value":{marginLeft:j.dateValueMarginLeft},float:{display:"inline-block",color:C.dataTypes.float},function:{display:"inline-block",color:C.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},"function-value":{fontStyle:"italic"},integer:{display:"inline-block",color:C.dataTypes.integer},string:{display:"inline-block",color:C.dataTypes.string},nan:{display:"inline-block",color:C.dataTypes.nan,fontSize:j.nanFontSize,fontWeight:j.nanFontWeight,backgroundColor:C.dataTypes.background,padding:j.nanPadding,borderRadius:j.nanBorderRadius},null:{display:"inline-block",color:C.dataTypes.null,fontSize:j.nullFontSize,fontWeight:j.nullFontWeight,backgroundColor:C.dataTypes.background,padding:j.nullPadding,borderRadius:j.nullBorderRadius},undefined:{display:"inline-block",color:C.dataTypes.undefined,fontSize:j.undefinedFontSize,padding:j.undefinedPadding,borderRadius:j.undefinedBorderRadius,backgroundColor:C.dataTypes.background},regexp:{display:"inline-block",color:C.dataTypes.regexp},"copy-to-clipboard":{cursor:j.clipboardCursor},"copy-icon":{color:C.copyToClipboard,fontSize:j.iconFontSize,marginRight:j.iconMarginRight,verticalAlign:"top"},"copy-icon-copied":{color:C.copyToClipboardCheck,marginLeft:j.clipboardCheckMarginLeft},"array-group-meta-data":{display:"inline-block",padding:j.arrayGroupMetaPadding},"object-meta-data":{display:"inline-block",padding:j.metaDataPadding},"icon-container":{display:"inline-block",width:j.iconContainerWidth},tooltip:{padding:j.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:C.editVariable.removeIcon,cursor:j.iconCursor,fontSize:j.iconFontSize,marginRight:j.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:C.editVariable.addIcon,cursor:j.iconCursor,fontSize:j.iconFontSize,marginRight:j.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:C.editVariable.editIcon,cursor:j.iconCursor,fontSize:j.iconFontSize,marginRight:j.iconMarginRight},"edit-icon-container":{display:"inline-block",verticalAlign:"top"},"check-icon":{display:"inline-block",cursor:j.iconCursor,color:C.editVariable.checkIcon,fontSize:j.iconFontSize,paddingRight:j.iconPaddingRight},"cancel-icon":{display:"inline-block",cursor:j.iconCursor,color:C.editVariable.cancelIcon,fontSize:j.iconFontSize,paddingRight:j.iconPaddingRight},"edit-input":{display:"inline-block",minWidth:j.editInputMinWidth,borderRadius:j.editInputBorderRadius,backgroundColor:C.editVariable.background,color:C.editVariable.color,padding:j.editInputPadding,marginRight:j.editInputMarginRight,fontFamily:j.editInputFontFamily},"detected-row":{paddingTop:j.detectedRowPaddingTop},"key-modal-request":{position:j.addKeyCoverPosition,top:j.addKeyCoverPositionPx,left:j.addKeyCoverPositionPx,right:j.addKeyCoverPositionPx,bottom:j.addKeyCoverPositionPx,backgroundColor:j.addKeyCoverBackground},"key-modal":{width:j.addKeyModalWidth,backgroundColor:C.addKeyModal.background,marginLeft:j.addKeyModalMargin,marginRight:j.addKeyModalMargin,padding:j.addKeyModalPadding,borderRadius:j.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:C.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:C.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:C.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:C.addKeyModal.labelColor,fontSize:j.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:C.editVariable.addIcon,fontSize:j.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:C.ellipsisColor,fontSize:j.ellipsisFontSize,lineHeight:j.ellipsisLineHeight,cursor:j.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:C.validationFailure.fontColor,backgroundColor:C.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:C.validationFailure.iconColor,fontSize:j.iconFontSize,transform:"rotate(45deg)"}}};function ve(m,C,w){return m||console.error("theme has not been set"),function(L){var V=ft;return L!==!1&&L!=="none"||(V=bt),Object(ye.createStyling)(ge,{defaultBase16:V})(L)}(m)(C,w)}var Ce=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props,V=(L.rjvId,L.type_name),se=L.displayDataTypes,N=L.theme;return se?O.a.createElement("span",Object.assign({className:"data-type-label"},ve(N,"data-type-label")),V):null}}]),w}(O.a.PureComponent),xe=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props;return O.a.createElement("div",ve(L.theme,"boolean"),O.a.createElement(Ce,Object.assign({type_name:"bool"},L)),L.value?"true":"false")}}]),w}(O.a.PureComponent),de=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props;return O.a.createElement("div",ve(L.theme,"date"),O.a.createElement(Ce,Object.assign({type_name:"date"},L)),O.a.createElement("span",Object.assign({className:"date-value"},ve(L.theme,"date-value")),L.value.toLocaleTimeString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})))}}]),w}(O.a.PureComponent),X=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props;return O.a.createElement("div",ve(L.theme,"float"),O.a.createElement(Ce,Object.assign({type_name:"float"},L)),this.props.value)}}]),w}(O.a.PureComponent);function ee(m,C){(C==null||C>m.length)&&(C=m.length);for(var w=0,L=new Array(C);w<C;w++)L[w]=m[w];return L}function Pe(m,C){if(m){if(typeof m=="string")return ee(m,C);var w=Object.prototype.toString.call(m).slice(8,-1);return w==="Object"&&m.constructor&&(w=m.constructor.name),w==="Map"||w==="Set"?Array.from(m):w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w)?ee(m,C):void 0}}function Q(m,C){var w;if(typeof Symbol=="undefined"||m[Symbol.iterator]==null){if(Array.isArray(m)||(w=Pe(m))||C&&m&&typeof m.length=="number"){w&&(m=w);var L=0,V=function(){};return{s:V,n:function(){return L>=m.length?{done:!0}:{done:!1,value:m[L++]}},e:function(P){throw P},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var se,N=!0,Z=!1;return{s:function(){w=m[Symbol.iterator]()},n:function(){var P=w.next();return N=P.done,P},e:function(P){Z=!0,se=P},f:function(){try{N||w.return==null||w.return()}finally{if(Z)throw se}}}}function Le(m){return function(C){if(Array.isArray(C))return ee(C)}(m)||function(C){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(C))return Array.from(C)}(m)||Pe(m)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var Ee=_(46),ke=new(_(47)).Dispatcher,qe=new(function(m){Se(w,m);var C=ht(w);function w(){var L;Y(this,w);for(var V=arguments.length,se=new Array(V),N=0;N<V;N++)se[N]=arguments[N];return(L=C.call.apply(C,[this].concat(se))).objects={},L.set=function(Z,P,$,Ne){L.objects[Z]===void 0&&(L.objects[Z]={}),L.objects[Z][P]===void 0&&(L.objects[Z][P]={}),L.objects[Z][P][$]=Ne},L.get=function(Z,P,$,Ne){return L.objects[Z]===void 0||L.objects[Z][P]===void 0||L.objects[Z][P][$]==null?Ne:L.objects[Z][P][$]},L.handleAction=function(Z){var P=Z.rjvId,$=Z.data;switch(Z.name){case"RESET":L.emit("reset-"+P);break;case"VARIABLE_UPDATED":Z.data.updated_src=L.updateSrc(P,$),L.set(P,"action","variable-update",z(z({},$),{},{type:"variable-edited"})),L.emit("variable-update-"+P);break;case"VARIABLE_REMOVED":Z.data.updated_src=L.updateSrc(P,$),L.set(P,"action","variable-update",z(z({},$),{},{type:"variable-removed"})),L.emit("variable-update-"+P);break;case"VARIABLE_ADDED":Z.data.updated_src=L.updateSrc(P,$),L.set(P,"action","variable-update",z(z({},$),{},{type:"variable-added"})),L.emit("variable-update-"+P);break;case"ADD_VARIABLE_KEY_REQUEST":L.set(P,"action","new-key-request",$),L.emit("add-key-request-"+P)}},L.updateSrc=function(Z,P){var $=P.name,Ne=P.namespace,Ge=P.new_value,ct=(P.existing_value,P.variable_removed);Ne.shift();var Ft,Dt=L.get(Z,"global","src"),dt=L.deepCopy(Dt,Le(Ne)),mt=dt,ut=Q(Ne);try{for(ut.s();!(Ft=ut.n()).done;)mt=mt[Ft.value]}catch(Zt){ut.e(Zt)}finally{ut.f()}return ct?Ue(mt)=="array"?mt.splice($,1):delete mt[$]:$!==null?mt[$]=Ge:dt=Ge,L.set(Z,"global","src",dt),dt},L.deepCopy=function(Z,P){var $,Ne=Ue(Z),Ge=P.shift();return Ne=="array"?$=Le(Z):Ne=="object"&&($=z({},Z)),Ge!==void 0&&($[Ge]=L.deepCopy(Z[Ge],P)),$},L}return w}(Ee.EventEmitter));ke.register(qe.handleAction.bind(qe));var rt=qe,tt=function(m){Se(w,m);var C=ht(w);function w(L){var V;return Y(this,w),(V=C.call(this,L)).toggleCollapsed=function(){V.setState({collapsed:!V.state.collapsed},function(){rt.set(V.props.rjvId,V.props.namespace,"collapsed",V.state.collapsed)})},V.getFunctionDisplay=function(se){var N=st(V).props;return se?O.a.createElement("span",null,V.props.value.toString().slice(9,-1).replace(/\{[\s\S]+/,""),O.a.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},O.a.createElement("span",null,"{"),O.a.createElement("span",ve(N.theme,"ellipsis"),"..."),O.a.createElement("span",null,"}"))):V.props.value.toString().slice(9,-1)},V.state={collapsed:rt.get(L.rjvId,L.namespace,"collapsed",!0)},V}return oe(w,[{key:"render",value:function(){var L=this.props,V=this.state.collapsed;return O.a.createElement("div",ve(L.theme,"function"),O.a.createElement(Ce,Object.assign({type_name:"function"},L)),O.a.createElement("span",Object.assign({},ve(L.theme,"function-value"),{className:"rjv-function-container",onClick:this.toggleCollapsed}),this.getFunctionDisplay(V)))}}]),w}(O.a.PureComponent),St=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){return O.a.createElement("div",ve(this.props.theme,"nan"),"NaN")}}]),w}(O.a.PureComponent),at=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){return O.a.createElement("div",ve(this.props.theme,"null"),"NULL")}}]),w}(O.a.PureComponent),Mt=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props;return O.a.createElement("div",ve(L.theme,"integer"),O.a.createElement(Ce,Object.assign({type_name:"int"},L)),this.props.value)}}]),w}(O.a.PureComponent),Et=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props;return O.a.createElement("div",ve(L.theme,"regexp"),O.a.createElement(Ce,Object.assign({type_name:"regexp"},L)),this.props.value.toString())}}]),w}(O.a.PureComponent),Ct=function(m){Se(w,m);var C=ht(w);function w(L){var V;return Y(this,w),(V=C.call(this,L)).toggleCollapsed=function(){V.setState({collapsed:!V.state.collapsed},function(){rt.set(V.props.rjvId,V.props.namespace,"collapsed",V.state.collapsed)})},V.state={collapsed:rt.get(L.rjvId,L.namespace,"collapsed",!0)},V}return oe(w,[{key:"render",value:function(){this.state.collapsed;var L=this.props,V=L.collapseStringsAfterLength,se=L.theme,N=L.value,Z={style:{cursor:"default"}};return Ue(V)==="integer"&&N.length>V&&(Z.style.cursor="pointer",this.state.collapsed&&(N=O.a.createElement("span",null,N.substring(0,V),O.a.createElement("span",ve(se,"ellipsis")," ...")))),O.a.createElement("div",ve(se,"string"),O.a.createElement(Ce,Object.assign({type_name:"string"},L)),O.a.createElement("span",Object.assign({className:"string-value"},Z,{onClick:this.toggleCollapsed}),'"',N,'"'))}}]),w}(O.a.PureComponent),We=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){return O.a.createElement("div",ve(this.props.theme,"undefined"),"undefined")}}]),w}(O.a.PureComponent);function Ve(){return(Ve=Object.assign||function(m){for(var C=1;C<arguments.length;C++){var w=arguments[C];for(var L in w)Object.prototype.hasOwnProperty.call(w,L)&&(m[L]=w[L])}return m}).apply(this,arguments)}var gt=Rt.useLayoutEffect,$t=function(m){var C=Object(Rt.useRef)(m);return gt(function(){C.current=m}),C},Gt=function(m,C){typeof m!="function"?m.current=C:m(C)},Yt=function(m,C){var w=Object(Rt.useRef)();return Object(Rt.useCallback)(function(L){m.current=L,w.current&&Gt(w.current,null),w.current=C,C&&Gt(C,L)},[C])},yn={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},rn=function(m){Object.keys(yn).forEach(function(C){m.style.setProperty(C,yn[C],"important")})},sn=null,Mn=function(){},xt=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],he=!!document.documentElement.currentStyle,Me=function(m,C){var w=m.cacheMeasurements,L=m.maxRows,V=m.minRows,se=m.onChange,N=se===void 0?Mn:se,Z=m.onHeightChange,P=Z===void 0?Mn:Z,$=function(ut,Zt){if(ut==null)return{};var Sn,xn,Fn={},An=Object.keys(ut);for(xn=0;xn<An.length;xn++)Sn=An[xn],Zt.indexOf(Sn)>=0||(Fn[Sn]=ut[Sn]);return Fn}(m,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),Ne,Ge=$.value!==void 0,ct=Object(Rt.useRef)(null),Ft=Yt(ct,C),Dt=Object(Rt.useRef)(0),dt=Object(Rt.useRef)(),mt=function(){var ut=ct.current,Zt=w&&dt.current?dt.current:function(An){var zn=window.getComputedStyle(An);if(zn===null)return null;var Jn,fn=(Jn=zn,xt.reduce(function(lr,yr){return lr[yr]=Jn[yr],lr},{})),Vn=fn.boxSizing;return Vn===""?null:(he&&Vn==="border-box"&&(fn.width=parseFloat(fn.width)+parseFloat(fn.borderRightWidth)+parseFloat(fn.borderLeftWidth)+parseFloat(fn.paddingRight)+parseFloat(fn.paddingLeft)+"px"),{sizingStyle:fn,paddingSize:parseFloat(fn.paddingBottom)+parseFloat(fn.paddingTop),borderSize:parseFloat(fn.borderBottomWidth)+parseFloat(fn.borderTopWidth)})}(ut);if(Zt){dt.current=Zt;var Sn=function(An,zn,Jn,fn){Jn===void 0&&(Jn=1),fn===void 0&&(fn=1/0),sn||((sn=document.createElement("textarea")).setAttribute("tab-index","-1"),sn.setAttribute("aria-hidden","true"),rn(sn)),sn.parentNode===null&&document.body.appendChild(sn);var Vn=An.paddingSize,lr=An.borderSize,yr=An.sizingStyle,Hr=yr.boxSizing;Object.keys(yr).forEach(function(_i){var Er=_i;sn.style[Er]=yr[Er]}),rn(sn),sn.value=zn;var wi=function(_i,Er){var Tr=_i.scrollHeight;return Er.sizingStyle.boxSizing==="border-box"?Tr+Er.borderSize:Tr-Er.paddingSize}(sn,An);sn.value="x";var ni=sn.scrollHeight-Vn,ri=ni*Jn;Hr==="border-box"&&(ri=ri+Vn+lr),wi=Math.max(ri,wi);var ii=ni*fn;return Hr==="border-box"&&(ii=ii+Vn+lr),[wi=Math.min(ii,wi),ni]}(Zt,ut.value||ut.placeholder||"x",V,L),xn=Sn[0],Fn=Sn[1];Dt.current!==xn&&(Dt.current=xn,ut.style.setProperty("height",xn+"px","important"),P(xn,{rowHeight:Fn}))}};return Object(Rt.useLayoutEffect)(mt),Ne=$t(mt),Object(Rt.useLayoutEffect)(function(){var ut=function(Zt){Ne.current(Zt)};return window.addEventListener("resize",ut),function(){window.removeEventListener("resize",ut)}},[]),Object(Rt.createElement)("textarea",Ve({},$,{onChange:function(ut){Ge||mt(),N(ut)},ref:Ft}))},Oe=Object(Rt.forwardRef)(Me);function Ke(m){m=m.trim();try{if((m=JSON.stringify(JSON.parse(m)))[0]==="[")return Xe("array",JSON.parse(m));if(m[0]==="{")return Xe("object",JSON.parse(m));if(m.match(/\-?\d+\.\d+/)&&m.match(/\-?\d+\.\d+/)[0]===m)return Xe("float",parseFloat(m));if(m.match(/\-?\d+e-\d+/)&&m.match(/\-?\d+e-\d+/)[0]===m)return Xe("float",Number(m));if(m.match(/\-?\d+/)&&m.match(/\-?\d+/)[0]===m)return Xe("integer",parseInt(m));if(m.match(/\-?\d+e\+\d+/)&&m.match(/\-?\d+e\+\d+/)[0]===m)return Xe("integer",Number(m))}catch(C){}switch(m=m.toLowerCase()){case"undefined":return Xe("undefined",void 0);case"nan":return Xe("nan",NaN);case"null":return Xe("null",null);case"true":return Xe("boolean",!0);case"false":return Xe("boolean",!1);default:if(m=Date.parse(m))return Xe("date",new Date(m))}return Xe(!1,null)}function Xe(m,C){return{type:m,value:C}}var Nt=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props,V=L.style,se=Be(L,["style"]);return O.a.createElement("span",se,O.a.createElement("svg",Object.assign({},pe(V),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),O.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),w}(O.a.PureComponent),Qt=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props,V=L.style,se=Be(L,["style"]);return O.a.createElement("span",se,O.a.createElement("svg",Object.assign({},pe(V),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),O.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),w}(O.a.PureComponent),Dn=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props,V=L.style,se=Be(L,["style"]),N=pe(V).style;return O.a.createElement("span",se,O.a.createElement("svg",{fill:N.color,width:N.height,height:N.width,style:N,viewBox:"0 0 1792 1792"},O.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),w}(O.a.PureComponent),Pn=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props,V=L.style,se=Be(L,["style"]),N=pe(V).style;return O.a.createElement("span",se,O.a.createElement("svg",{fill:N.color,width:N.height,height:N.width,style:N,viewBox:"0 0 1792 1792"},O.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),w}(O.a.PureComponent),me=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props,V=L.style,se=Be(L,["style"]);return O.a.createElement("span",se,O.a.createElement("svg",{style:z(z({},pe(V).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},O.a.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),w}(O.a.PureComponent),Je=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props,V=L.style,se=Be(L,["style"]);return O.a.createElement("span",se,O.a.createElement("svg",{style:z(z({},pe(V).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},O.a.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),w}(O.a.PureComponent),nt=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props,V=L.style,se=Be(L,["style"]);return O.a.createElement("span",se,O.a.createElement("svg",Object.assign({},pe(V),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),O.a.createElement("g",null,O.a.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),w}(O.a.PureComponent),et=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props,V=L.style,se=Be(L,["style"]);return O.a.createElement("span",se,O.a.createElement("svg",Object.assign({},pe(V),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),O.a.createElement("g",null,O.a.createElement("path",{d:"m28.6 25q0-0.5-0.4-1l-4-4 4-4q0.4-0.5 0.4-1 0-0.6-0.4-1.1l-2-2q-0.4-0.4-1-0.4-0.6 0-1 0.4l-4.1 4.1-4-4.1q-0.4-0.4-1-0.4-0.6 0-1 0.4l-2 2q-0.5 0.5-0.5 1.1 0 0.5 0.5 1l4 4-4 4q-0.5 0.5-0.5 1 0 0.7 0.5 1.1l2 2q0.4 0.4 1 0.4 0.6 0 1-0.4l4-4.1 4.1 4.1q0.4 0.4 1 0.4 0.6 0 1-0.4l2-2q0.4-0.4 0.4-1z m8.7-5q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),w}(O.a.PureComponent),Ut=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props,V=L.style,se=Be(L,["style"]);return O.a.createElement("span",se,O.a.createElement("svg",Object.assign({},pe(V),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),O.a.createElement("g",null,O.a.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),w}(O.a.PureComponent),pn=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props,V=L.style,se=Be(L,["style"]);return O.a.createElement("span",se,O.a.createElement("svg",Object.assign({},pe(V),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),O.a.createElement("g",null,O.a.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),w}(O.a.PureComponent),an=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props,V=L.style,se=Be(L,["style"]);return O.a.createElement("span",se,O.a.createElement("svg",Object.assign({},pe(V),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),O.a.createElement("g",null,O.a.createElement("path",{d:"m19.8 26.4l2.6-2.6-3.4-3.4-2.6 2.6v1.3h2.2v2.1h1.2z m9.8-16q-0.3-0.4-0.7 0l-7.8 7.8q-0.4 0.4 0 0.7t0.7 0l7.8-7.8q0.4-0.4 0-0.7z m1.8 13.2v4.3q0 2.6-1.9 4.5t-4.5 1.9h-18.6q-2.6 0-4.5-1.9t-1.9-4.5v-18.6q0-2.7 1.9-4.6t4.5-1.8h18.6q1.4 0 2.6 0.5 0.3 0.2 0.4 0.5 0.1 0.4-0.2 0.7l-1.1 1.1q-0.3 0.3-0.7 0.1-0.5-0.1-1-0.1h-18.6q-1.4 0-2.5 1.1t-1 2.5v18.6q0 1.4 1 2.5t2.5 1h18.6q1.5 0 2.5-1t1.1-2.5v-2.9q0-0.2 0.2-0.4l1.4-1.5q0.3-0.3 0.8-0.1t0.4 0.6z m-2.1-16.5l6.4 6.5-15 15h-6.4v-6.5z m9.9 3l-2.1 2-6.4-6.4 2.1-2q0.6-0.7 1.5-0.7t1.5 0.7l3.4 3.4q0.6 0.6 0.6 1.5t-0.6 1.5z"}))))}}]),w}(O.a.PureComponent),Vt=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props,V=L.style,se=Be(L,["style"]);return O.a.createElement("span",se,O.a.createElement("svg",Object.assign({},pe(V),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),O.a.createElement("g",null,O.a.createElement("path",{d:"m31.7 16.4q0-0.6-0.4-1l-2.1-2.1q-0.4-0.4-1-0.4t-1 0.4l-9.1 9.1-5-5q-0.5-0.4-1-0.4t-1 0.4l-2.1 2q-0.4 0.4-0.4 1 0 0.6 0.4 1l8.1 8.1q0.4 0.4 1 0.4 0.6 0 1-0.4l12.2-12.1q0.4-0.4 0.4-1z m5.6 3.6q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),w}(O.a.PureComponent);function pe(m){return m||(m={}),{style:z(z({verticalAlign:"middle"},m),{},{color:m.color?m.color:"#000000",height:"1em",width:"1em"})}}var De=function(m){Se(w,m);var C=ht(w);function w(L){var V;return Y(this,w),(V=C.call(this,L)).copiedTimer=null,V.handleCopy=function(){var se=document.createElement("textarea"),N=V.props,Z=N.clickCallback,P=N.src,$=N.namespace;se.innerHTML=JSON.stringify(V.clipboardValue(P),null,"  "),document.body.appendChild(se),se.select(),document.execCommand("copy"),document.body.removeChild(se),V.copiedTimer=setTimeout(function(){V.setState({copied:!1})},5500),V.setState({copied:!0},function(){typeof Z=="function"&&Z({src:P,namespace:$,name:$[$.length-1]})})},V.getClippyIcon=function(){var se=V.props.theme;return V.state.copied?O.a.createElement("span",null,O.a.createElement(nt,Object.assign({className:"copy-icon"},ve(se,"copy-icon"))),O.a.createElement("span",ve(se,"copy-icon-copied"),"\u2714")):O.a.createElement(nt,Object.assign({className:"copy-icon"},ve(se,"copy-icon")))},V.clipboardValue=function(se){switch(Ue(se)){case"function":case"regexp":return se.toString();default:return se}},V.state={copied:!1},V}return oe(w,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"render",value:function(){var L=this.props,V=(L.src,L.theme),se=L.hidden,N=L.rowHovered,Z=ve(V,"copy-to-clipboard").style,P="inline";return se&&(P="none"),O.a.createElement("span",{className:"copy-to-clipboard-container",title:"Copy to clipboard",style:{verticalAlign:"top",display:N?"inline-block":"none"}},O.a.createElement("span",{style:z(z({},Z),{},{display:P}),onClick:this.handleCopy},this.getClippyIcon()))}}]),w}(O.a.PureComponent),lt=function(m){Se(w,m);var C=ht(w);function w(L){var V;return Y(this,w),(V=C.call(this,L)).getEditIcon=function(){var se=V.props,N=se.variable,Z=se.theme;return O.a.createElement("div",{className:"click-to-edit",style:{verticalAlign:"top",display:V.state.hovered?"inline-block":"none"}},O.a.createElement(an,Object.assign({className:"click-to-edit-icon"},ve(Z,"editVarIcon"),{onClick:function(){V.prepopInput(N)}})))},V.prepopInput=function(se){if(V.props.onEdit!==!1){var N=function(P){var $;switch(Ue(P)){case"undefined":$="undefined";break;case"nan":$="NaN";break;case"string":$=P;break;case"date":case"function":case"regexp":$=P.toString();break;default:try{$=JSON.stringify(P,null,"  ")}catch(Ne){$=""}}return $}(se.value),Z=Ke(N);V.setState({editMode:!0,editValue:N,parsedInput:{type:Z.type,value:Z.value}})}},V.getRemoveIcon=function(){var se=V.props,N=se.variable,Z=se.namespace,P=se.theme,$=se.rjvId;return O.a.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top",display:V.state.hovered?"inline-block":"none"}},O.a.createElement(et,Object.assign({className:"click-to-remove-icon"},ve(P,"removeVarIcon"),{onClick:function(){ke.dispatch({name:"VARIABLE_REMOVED",rjvId:$,data:{name:N.name,namespace:Z,existing_value:N.value,variable_removed:!0}})}})))},V.getValue=function(se,N){var Z=!N&&se.type,P=st(V).props;switch(Z){case!1:return V.getEditInput();case"string":return O.a.createElement(Ct,Object.assign({value:se.value},P));case"integer":return O.a.createElement(Mt,Object.assign({value:se.value},P));case"float":return O.a.createElement(X,Object.assign({value:se.value},P));case"boolean":return O.a.createElement(xe,Object.assign({value:se.value},P));case"function":return O.a.createElement(tt,Object.assign({value:se.value},P));case"null":return O.a.createElement(at,P);case"nan":return O.a.createElement(St,P);case"undefined":return O.a.createElement(We,P);case"date":return O.a.createElement(de,Object.assign({value:se.value},P));case"regexp":return O.a.createElement(Et,Object.assign({value:se.value},P));default:return O.a.createElement("div",{className:"object-value"},JSON.stringify(se.value))}},V.getEditInput=function(){var se=V.props.theme,N=V.state.editValue;return O.a.createElement("div",null,O.a.createElement(Oe,Object.assign({type:"text",inputRef:function(Z){return Z&&Z.focus()},value:N,className:"variable-editor",onChange:function(Z){var P=Z.target.value,$=Ke(P);V.setState({editValue:P,parsedInput:{type:$.type,value:$.value}})},onKeyDown:function(Z){switch(Z.key){case"Escape":V.setState({editMode:!1,editValue:""});break;case"Enter":(Z.ctrlKey||Z.metaKey)&&V.submitEdit(!0)}Z.stopPropagation()},placeholder:"update this value",minRows:2},ve(se,"edit-input"))),O.a.createElement("div",ve(se,"edit-icon-container"),O.a.createElement(et,Object.assign({className:"edit-cancel"},ve(se,"cancel-icon"),{onClick:function(){V.setState({editMode:!1,editValue:""})}})),O.a.createElement(Vt,Object.assign({className:"edit-check string-value"},ve(se,"check-icon"),{onClick:function(){V.submitEdit()}})),O.a.createElement("div",null,V.showDetected())))},V.submitEdit=function(se){var N=V.props,Z=N.variable,P=N.namespace,$=N.rjvId,Ne=V.state,Ge=Ne.editValue,ct=Ne.parsedInput,Ft=Ge;se&&ct.type&&(Ft=ct.value),V.setState({editMode:!1}),ke.dispatch({name:"VARIABLE_UPDATED",rjvId:$,data:{name:Z.name,namespace:P,existing_value:Z.value,new_value:Ft,variable_removed:!1}})},V.showDetected=function(){var se=V.props,N=se.theme,Z=(se.variable,se.namespace,se.rjvId,V.state.parsedInput),P=(Z.type,Z.value,V.getDetectedInput());if(P)return O.a.createElement("div",null,O.a.createElement("div",ve(N,"detected-row"),P,O.a.createElement(Vt,{className:"edit-check detected",style:z({verticalAlign:"top",paddingLeft:"3px"},ve(N,"check-icon").style),onClick:function(){V.submitEdit(!0)}})))},V.getDetectedInput=function(){var se=V.state.parsedInput,N=se.type,Z=se.value,P=st(V).props,$=P.theme;if(N!==!1)switch(N.toLowerCase()){case"object":return O.a.createElement("span",null,O.a.createElement("span",{style:z(z({},ve($,"brace").style),{},{cursor:"default"})},"{"),O.a.createElement("span",{style:z(z({},ve($,"ellipsis").style),{},{cursor:"default"})},"..."),O.a.createElement("span",{style:z(z({},ve($,"brace").style),{},{cursor:"default"})},"}"));case"array":return O.a.createElement("span",null,O.a.createElement("span",{style:z(z({},ve($,"brace").style),{},{cursor:"default"})},"["),O.a.createElement("span",{style:z(z({},ve($,"ellipsis").style),{},{cursor:"default"})},"..."),O.a.createElement("span",{style:z(z({},ve($,"brace").style),{},{cursor:"default"})},"]"));case"string":return O.a.createElement(Ct,Object.assign({value:Z},P));case"integer":return O.a.createElement(Mt,Object.assign({value:Z},P));case"float":return O.a.createElement(X,Object.assign({value:Z},P));case"boolean":return O.a.createElement(xe,Object.assign({value:Z},P));case"function":return O.a.createElement(tt,Object.assign({value:Z},P));case"null":return O.a.createElement(at,P);case"nan":return O.a.createElement(St,P);case"undefined":return O.a.createElement(We,P);case"date":return O.a.createElement(de,Object.assign({value:new Date(Z)},P))}},V.state={editMode:!1,editValue:"",hovered:!1,renameKey:!1,parsedInput:{type:!1,value:null}},V}return oe(w,[{key:"render",value:function(){var L=this,V=this.props,se=V.variable,N=V.singleIndent,Z=V.type,P=V.theme,$=V.namespace,Ne=V.indentWidth,Ge=V.enableClipboard,ct=V.onEdit,Ft=V.onDelete,Dt=V.onSelect,dt=V.displayArrayKey,mt=V.quotesOnKeys,ut=this.state.editMode;return O.a.createElement("div",Object.assign({},ve(P,"objectKeyVal",{paddingLeft:Ne*N}),{onMouseEnter:function(){return L.setState(z(z({},L.state),{},{hovered:!0}))},onMouseLeave:function(){return L.setState(z(z({},L.state),{},{hovered:!1}))},className:"variable-row",key:se.name}),Z=="array"?dt?O.a.createElement("span",Object.assign({},ve(P,"array-key"),{key:se.name+"_"+$}),se.name,O.a.createElement("div",ve(P,"colon"),":")):null:O.a.createElement("span",null,O.a.createElement("span",Object.assign({},ve(P,"object-name"),{className:"object-key",key:se.name+"_"+$}),!!mt&&O.a.createElement("span",{style:{verticalAlign:"top"}},'"'),O.a.createElement("span",{style:{display:"inline-block"}},se.name),!!mt&&O.a.createElement("span",{style:{verticalAlign:"top"}},'"')),O.a.createElement("span",ve(P,"colon"),":")),O.a.createElement("div",Object.assign({className:"variable-value",onClick:Dt===!1&&ct===!1?null:function(Zt){var Sn=Le($);(Zt.ctrlKey||Zt.metaKey)&&ct!==!1?L.prepopInput(se):Dt!==!1&&(Sn.shift(),Dt(z(z({},se),{},{namespace:Sn})))}},ve(P,"variableValue",{cursor:Dt===!1?"default":"pointer"})),this.getValue(se,ut)),Ge?O.a.createElement(De,{rowHovered:this.state.hovered,hidden:ut,src:se.value,clickCallback:Ge,theme:P,namespace:[].concat(Le($),[se.name])}):null,ct!==!1&&ut==0?this.getEditIcon():null,Ft!==!1&&ut==0?this.getRemoveIcon():null)}}]),w}(O.a.PureComponent),Tt=function(m){Se(w,m);var C=ht(w);function w(){var L;Y(this,w);for(var V=arguments.length,se=new Array(V),N=0;N<V;N++)se[N]=arguments[N];return(L=C.call.apply(C,[this].concat(se))).getObjectSize=function(){var Z=L.props,P=Z.size,$=Z.theme;if(Z.displayObjectSize)return O.a.createElement("span",Object.assign({className:"object-size"},ve($,"object-size")),P," item",P===1?"":"s")},L.getAddAttribute=function(Z){var P=L.props,$=P.theme,Ne=P.namespace,Ge=P.name,ct=P.src,Ft=P.rjvId,Dt=P.depth;return O.a.createElement("span",{className:"click-to-add",style:{verticalAlign:"top",display:Z?"inline-block":"none"}},O.a.createElement(Ut,Object.assign({className:"click-to-add-icon"},ve($,"addVarIcon"),{onClick:function(){var dt={name:Dt>0?Ge:null,namespace:Ne.splice(0,Ne.length-1),existing_value:ct,variable_removed:!1,key_name:null};Ue(ct)==="object"?ke.dispatch({name:"ADD_VARIABLE_KEY_REQUEST",rjvId:Ft,data:dt}):ke.dispatch({name:"VARIABLE_ADDED",rjvId:Ft,data:z(z({},dt),{},{new_value:[].concat(Le(ct),[null])})})}})))},L.getRemoveObject=function(Z){var P=L.props,$=P.theme,Ne=(P.hover,P.namespace),Ge=P.name,ct=P.src,Ft=P.rjvId;if(Ne.length!==1)return O.a.createElement("span",{className:"click-to-remove",style:{display:Z?"inline-block":"none"}},O.a.createElement(et,Object.assign({className:"click-to-remove-icon"},ve($,"removeVarIcon"),{onClick:function(){ke.dispatch({name:"VARIABLE_REMOVED",rjvId:Ft,data:{name:Ge,namespace:Ne.splice(0,Ne.length-1),existing_value:ct,variable_removed:!0}})}})))},L.render=function(){var Z=L.props,P=Z.theme,$=Z.onDelete,Ne=Z.onAdd,Ge=Z.enableClipboard,ct=Z.src,Ft=Z.namespace,Dt=Z.rowHovered;return O.a.createElement("div",Object.assign({},ve(P,"object-meta-data"),{className:"object-meta-data",onClick:function(dt){dt.stopPropagation()}}),L.getObjectSize(),Ge?O.a.createElement(De,{rowHovered:Dt,clickCallback:Ge,src:ct,theme:P,namespace:Ft}):null,Ne!==!1?L.getAddAttribute(Dt):null,$!==!1?L.getRemoveObject(Dt):null)},L}return w}(O.a.PureComponent);function Wt(m){var C=m.parent_type,w=m.namespace,L=m.quotesOnKeys,V=m.theme,se=m.jsvRoot,N=m.name,Z=m.displayArrayKey,P=m.name?m.name:"";return!se||N!==!1&&N!==null?C=="array"?Z?O.a.createElement("span",Object.assign({},ve(V,"array-key"),{key:w}),O.a.createElement("span",{className:"array-key"},P),O.a.createElement("span",ve(V,"colon"),":")):O.a.createElement("span",null):O.a.createElement("span",Object.assign({},ve(V,"object-name"),{key:w}),O.a.createElement("span",{className:"object-key"},L&&O.a.createElement("span",{style:{verticalAlign:"top"}},'"'),O.a.createElement("span",null,P),L&&O.a.createElement("span",{style:{verticalAlign:"top"}},'"')),O.a.createElement("span",ve(V,"colon"),":")):O.a.createElement("span",null)}function Cn(m){var C=m.theme;switch(m.iconStyle){case"triangle":return O.a.createElement(Je,Object.assign({},ve(C,"expanded-icon"),{className:"expanded-icon"}));case"square":return O.a.createElement(Dn,Object.assign({},ve(C,"expanded-icon"),{className:"expanded-icon"}));default:return O.a.createElement(Nt,Object.assign({},ve(C,"expanded-icon"),{className:"expanded-icon"}))}}function Bn(m){var C=m.theme;switch(m.iconStyle){case"triangle":return O.a.createElement(me,Object.assign({},ve(C,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return O.a.createElement(Pn,Object.assign({},ve(C,"collapsed-icon"),{className:"collapsed-icon"}));default:return O.a.createElement(Qt,Object.assign({},ve(C,"collapsed-icon"),{className:"collapsed-icon"}))}}var Gn=function(m){Se(w,m);var C=ht(w);function w(L){var V;return Y(this,w),(V=C.call(this,L)).toggleCollapsed=function(se){var N=[];for(var Z in V.state.expanded)N.push(V.state.expanded[Z]);N[se]=!N[se],V.setState({expanded:N})},V.state={expanded:[]},V}return oe(w,[{key:"getExpandedIcon",value:function(L){var V=this.props,se=V.theme,N=V.iconStyle;return this.state.expanded[L]?O.a.createElement(Cn,{theme:se,iconStyle:N}):O.a.createElement(Bn,{theme:se,iconStyle:N})}},{key:"render",value:function(){var L=this,V=this.props,se=V.src,N=V.groupArraysAfterLength,Z=(V.depth,V.name),P=V.theme,$=V.jsvRoot,Ne=V.namespace,Ge=(V.parent_type,Be(V,["src","groupArraysAfterLength","depth","name","theme","jsvRoot","namespace","parent_type"])),ct=0,Ft=5*this.props.indentWidth;$||(ct=5*this.props.indentWidth);var Dt=N,dt=Math.ceil(se.length/Dt);return O.a.createElement("div",Object.assign({className:"object-key-val"},ve(P,$?"jsv-root":"objectKeyVal",{paddingLeft:ct})),O.a.createElement(Wt,this.props),O.a.createElement("span",null,O.a.createElement(Tt,Object.assign({size:se.length},this.props))),Le(Array(dt)).map(function(mt,ut){return O.a.createElement("div",Object.assign({key:ut,className:"object-key-val array-group"},ve(P,"objectKeyVal",{marginLeft:6,paddingLeft:Ft})),O.a.createElement("span",ve(P,"brace-row"),O.a.createElement("div",Object.assign({className:"icon-container"},ve(P,"icon-container"),{onClick:function(Zt){L.toggleCollapsed(ut)}}),L.getExpandedIcon(ut)),L.state.expanded[ut]?O.a.createElement(xr,Object.assign({key:Z+ut,depth:0,name:!1,collapsed:!1,groupArraysAfterLength:Dt,index_offset:ut*Dt,src:se.slice(ut*Dt,ut*Dt+Dt),namespace:Ne,type:"array",parent_type:"array_group",theme:P},Ge)):O.a.createElement("span",Object.assign({},ve(P,"brace"),{onClick:function(Zt){L.toggleCollapsed(ut)},className:"array-group-brace"}),"[",O.a.createElement("div",Object.assign({},ve(P,"array-group-meta-data"),{className:"array-group-meta-data"}),O.a.createElement("span",Object.assign({className:"object-size"},ve(P,"object-size")),ut*Dt," - ",ut*Dt+Dt>se.length?se.length:ut*Dt+Dt)),"]")))}))}}]),w}(O.a.PureComponent),vr=function(m){Se(w,m);var C=ht(w);function w(L){var V;Y(this,w),(V=C.call(this,L)).toggleCollapsed=function(){V.setState({expanded:!V.state.expanded},function(){rt.set(V.props.rjvId,V.props.namespace,"expanded",V.state.expanded)})},V.getObjectContent=function(N,Z,P){return O.a.createElement("div",{className:"pushed-content object-container"},O.a.createElement("div",Object.assign({className:"object-content"},ve(V.props.theme,"pushed-content")),V.renderObjectContents(Z,P)))},V.getEllipsis=function(){return V.state.size===0?null:O.a.createElement("div",Object.assign({},ve(V.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:V.toggleCollapsed}),"...")},V.getObjectMetaData=function(N){var Z=V.props,P=(Z.rjvId,Z.theme,V.state),$=P.size,Ne=P.hovered;return O.a.createElement(Tt,Object.assign({rowHovered:Ne,size:$},V.props))},V.renderObjectContents=function(N,Z){var P,$=V.props,Ne=$.depth,Ge=$.parent_type,ct=$.index_offset,Ft=$.groupArraysAfterLength,Dt=$.namespace,dt=V.state.object_type,mt=[],ut=Object.keys(N||{});return V.props.sortKeys&&dt!=="array"&&(ut=ut.sort()),ut.forEach(function(Zt){if(P=new Mr(Zt,N[Zt]),Ge==="array_group"&&ct&&(P.name=parseInt(P.name)+ct),N.hasOwnProperty(Zt))if(P.type==="object")mt.push(O.a.createElement(xr,Object.assign({key:P.name,depth:Ne+1,name:P.name,src:P.value,namespace:Dt.concat(P.name),parent_type:dt},Z)));else if(P.type==="array"){var Sn=xr;Ft&&P.value.length>Ft&&(Sn=Gn),mt.push(O.a.createElement(Sn,Object.assign({key:P.name,depth:Ne+1,name:P.name,src:P.value,namespace:Dt.concat(P.name),type:"array",parent_type:dt},Z)))}else mt.push(O.a.createElement(lt,Object.assign({key:P.name+"_"+Dt,variable:P,singleIndent:5,namespace:Dt,type:V.props.type},Z)))}),mt};var se=w.getState(L);return V.state=z(z({},se),{},{prevProps:{}}),V}return oe(w,[{key:"getBraceStart",value:function(L,V){var se=this,N=this.props,Z=N.src,P=N.theme,$=N.iconStyle;if(N.parent_type==="array_group")return O.a.createElement("span",null,O.a.createElement("span",ve(P,"brace"),L==="array"?"[":"{"),V?this.getObjectMetaData(Z):null);var Ne=V?Cn:Bn;return O.a.createElement("span",null,O.a.createElement("span",Object.assign({onClick:function(Ge){se.toggleCollapsed()}},ve(P,"brace-row")),O.a.createElement("div",Object.assign({className:"icon-container"},ve(P,"icon-container")),O.a.createElement(Ne,{theme:P,iconStyle:$})),O.a.createElement(Wt,this.props),O.a.createElement("span",ve(P,"brace"),L==="array"?"[":"{")),V?this.getObjectMetaData(Z):null)}},{key:"render",value:function(){var L=this,V=this.props,se=V.depth,N=V.src,Z=(V.namespace,V.name,V.type,V.parent_type),P=V.theme,$=V.jsvRoot,Ne=V.iconStyle,Ge=Be(V,["depth","src","namespace","name","type","parent_type","theme","jsvRoot","iconStyle"]),ct=this.state,Ft=ct.object_type,Dt=ct.expanded,dt={};return $||Z==="array_group"?Z==="array_group"&&(dt.borderLeft=0,dt.display="inline"):dt.paddingLeft=5*this.props.indentWidth,O.a.createElement("div",Object.assign({className:"object-key-val",onMouseEnter:function(){return L.setState(z(z({},L.state),{},{hovered:!0}))},onMouseLeave:function(){return L.setState(z(z({},L.state),{},{hovered:!1}))}},ve(P,$?"jsv-root":"objectKeyVal",dt)),this.getBraceStart(Ft,Dt),Dt?this.getObjectContent(se,N,z({theme:P,iconStyle:Ne},Ge)):this.getEllipsis(),O.a.createElement("span",{className:"brace-row"},O.a.createElement("span",{style:z(z({},ve(P,"brace").style),{},{paddingLeft:Dt?"3px":"0px"})},Ft==="array"?"]":"}"),Dt?null:this.getObjectMetaData(N)))}}],[{key:"getDerivedStateFromProps",value:function(L,V){var se=V.prevProps;return L.src!==se.src||L.collapsed!==se.collapsed||L.name!==se.name||L.namespace!==se.namespace||L.rjvId!==se.rjvId?z(z({},w.getState(L)),{},{prevProps:L}):null}}]),w}(O.a.PureComponent);vr.getState=function(m){var C=Object.keys(m.src).length,w=(m.collapsed===!1||m.collapsed!==!0&&m.collapsed>m.depth)&&(!m.shouldCollapse||m.shouldCollapse({name:m.name,src:m.src,type:Ue(m.src),namespace:m.namespace})===!1)&&C!==0;return{expanded:rt.get(m.rjvId,m.namespace,"expanded",w),object_type:m.type==="array"?"array":"object",parent_type:m.type==="array"?"array":"object",size:C,hovered:!1}};var Mr=function m(C,w){Y(this,m),this.name=C,this.value=w,this.type=Ue(w)};Ot(vr);var xr=vr,mi=function(m){Se(w,m);var C=ht(w);function w(){var L;Y(this,w);for(var V=arguments.length,se=new Array(V),N=0;N<V;N++)se[N]=arguments[N];return(L=C.call.apply(C,[this].concat(se))).render=function(){var Z=st(L).props,P=[Z.name],$=xr;return Array.isArray(Z.src)&&Z.groupArraysAfterLength&&Z.src.length>Z.groupArraysAfterLength&&($=Gn),O.a.createElement("div",{className:"pretty-json-container object-container"},O.a.createElement("div",{className:"object-content"},O.a.createElement($,Object.assign({namespace:P,depth:0,jsvRoot:!0},Z))))},L}return w}(O.a.PureComponent),Pr=function(m){Se(w,m);var C=ht(w);function w(L){var V;return Y(this,w),(V=C.call(this,L)).closeModal=function(){ke.dispatch({rjvId:V.props.rjvId,name:"RESET"})},V.submit=function(){V.props.submit(V.state.input)},V.state={input:L.input?L.input:""},V}return oe(w,[{key:"render",value:function(){var L=this,V=this.props,se=V.theme,N=V.rjvId,Z=V.isValid,P=this.state.input,$=Z(P);return O.a.createElement("div",Object.assign({className:"key-modal-request"},ve(se,"key-modal-request"),{onClick:this.closeModal}),O.a.createElement("div",Object.assign({},ve(se,"key-modal"),{onClick:function(Ne){Ne.stopPropagation()}}),O.a.createElement("div",ve(se,"key-modal-label"),"Key Name:"),O.a.createElement("div",{style:{position:"relative"}},O.a.createElement("input",Object.assign({},ve(se,"key-modal-input"),{className:"key-modal-input",ref:function(Ne){return Ne&&Ne.focus()},spellCheck:!1,value:P,placeholder:"...",onChange:function(Ne){L.setState({input:Ne.target.value})},onKeyPress:function(Ne){$&&Ne.key==="Enter"?L.submit():Ne.key==="Escape"&&L.closeModal()}})),$?O.a.createElement(Vt,Object.assign({},ve(se,"key-modal-submit"),{className:"key-modal-submit",onClick:function(Ne){return L.submit()}})):null),O.a.createElement("span",ve(se,"key-modal-cancel"),O.a.createElement(pn,Object.assign({},ve(se,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function(){ke.dispatch({rjvId:N,name:"RESET"})}})))))}}]),w}(O.a.PureComponent),jr=function(m){Se(w,m);var C=ht(w);function w(){var L;Y(this,w);for(var V=arguments.length,se=new Array(V),N=0;N<V;N++)se[N]=arguments[N];return(L=C.call.apply(C,[this].concat(se))).isValid=function(Z){var P=L.props.rjvId,$=rt.get(P,"action","new-key-request");return Z!=""&&Object.keys($.existing_value).indexOf(Z)===-1},L.submit=function(Z){var P=L.props.rjvId,$=rt.get(P,"action","new-key-request");$.new_value=z({},$.existing_value),$.new_value[Z]=L.props.defaultValue,ke.dispatch({name:"VARIABLE_ADDED",rjvId:P,data:$})},L}return oe(w,[{key:"render",value:function(){var L=this.props,V=L.active,se=L.theme,N=L.rjvId;return V?O.a.createElement(Pr,{rjvId:N,theme:se,isValid:this.isValid,submit:this.submit}):null}}]),w}(O.a.PureComponent),I=function(m){Se(w,m);var C=ht(w);function w(){return Y(this,w),C.apply(this,arguments)}return oe(w,[{key:"render",value:function(){var L=this.props,V=L.message,se=L.active,N=L.theme,Z=L.rjvId;return se?O.a.createElement("div",Object.assign({className:"validation-failure"},ve(N,"validation-failure"),{onClick:function(){ke.dispatch({rjvId:Z,name:"RESET"})}}),O.a.createElement("span",ve(N,"validation-failure-label"),V),O.a.createElement(pn,ve(N,"validation-failure-clear"))):null}}]),w}(O.a.PureComponent),U=function(m){Se(w,m);var C=ht(w);function w(L){var V;return Y(this,w),(V=C.call(this,L)).rjvId=Date.now().toString(),V.getListeners=function(){return{reset:V.resetState,"variable-update":V.updateSrc,"add-key-request":V.addKeyRequest}},V.updateSrc=function(){var se,N=rt.get(V.rjvId,"action","variable-update"),Z=N.name,P=N.namespace,$=N.new_value,Ne=N.existing_value,Ge=(N.variable_removed,N.updated_src),ct=N.type,Ft=V.props,Dt=Ft.onEdit,dt=Ft.onDelete,mt=Ft.onAdd,ut={existing_src:V.state.src,new_value:$,updated_src:Ge,name:Z,namespace:P,existing_value:Ne};switch(ct){case"variable-added":se=mt(ut);break;case"variable-edited":se=Dt(ut);break;case"variable-removed":se=dt(ut)}se!==!1?(rt.set(V.rjvId,"global","src",Ge),V.setState({src:Ge})):V.setState({validationFailure:!0})},V.addKeyRequest=function(){V.setState({addKeyRequest:!0})},V.resetState=function(){V.setState({validationFailure:!1,addKeyRequest:!1})},V.state={addKeyRequest:!1,editKeyRequest:!1,validationFailure:!1,src:w.defaultProps.src,name:w.defaultProps.name,theme:w.defaultProps.theme,validationMessage:w.defaultProps.validationMessage,prevSrc:w.defaultProps.src,prevName:w.defaultProps.name,prevTheme:w.defaultProps.theme},V}return oe(w,[{key:"componentDidMount",value:function(){rt.set(this.rjvId,"global","src",this.state.src);var L=this.getListeners();for(var V in L)rt.on(V+"-"+this.rjvId,L[V]);this.setState({addKeyRequest:!1,editKeyRequest:!1})}},{key:"componentDidUpdate",value:function(L,V){V.addKeyRequest!==!1&&this.setState({addKeyRequest:!1}),V.editKeyRequest!==!1&&this.setState({editKeyRequest:!1}),L.src!==this.state.src&&rt.set(this.rjvId,"global","src",this.state.src)}},{key:"componentWillUnmount",value:function(){var L=this.getListeners();for(var V in L)rt.removeListener(V+"-"+this.rjvId,L[V])}},{key:"render",value:function(){var L=this.state,V=L.validationFailure,se=L.validationMessage,N=L.addKeyRequest,Z=L.theme,P=L.src,$=L.name,Ne=this.props,Ge=Ne.style,ct=Ne.defaultValue;return O.a.createElement("div",{className:"react-json-view",style:z(z({},ve(Z,"app-container").style),Ge)},O.a.createElement(I,{message:se,active:V,theme:Z,rjvId:this.rjvId}),O.a.createElement(mi,Object.assign({},this.props,{src:P,name:$,theme:Z,type:Ue(P),rjvId:this.rjvId})),O.a.createElement(jr,{active:N,theme:Z,rjvId:this.rjvId,defaultValue:ct}))}}],[{key:"getDerivedStateFromProps",value:function(L,V){if(L.src!==V.prevSrc||L.name!==V.prevName||L.theme!==V.prevTheme){var se={src:L.src,name:L.name,theme:L.theme,validationMessage:L.validationMessage,prevSrc:L.src,prevName:L.name,prevTheme:L.theme};return w.validateState(se)}return null}}]),w}(O.a.PureComponent);U.defaultProps={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,shouldCollapse:!1,sortKeys:!1,quotesOnKeys:!0,groupArraysAfterLength:100,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error",defaultValue:null,displayArrayKey:!0},U.validateState=function(m){var C={};return Ue(m.theme)!=="object"||function(w){var L=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F"];if(Ue(w)==="object"){for(var V=0;V<L.length;V++)if(!(L[V]in w))return!1;return!0}return!1}(m.theme)||(console.error("react-json-view error:","theme prop must be a theme name or valid base-16 theme object.",'defaulting to "rjv-default" theme'),C.theme="rjv-default"),Ue(m.src)!=="object"&&Ue(m.src)!=="array"&&(console.error("react-json-view error:","src property must be a valid json object"),C.name="ERROR",C.src={message:"src property must be a valid json object"}),z(z({},m),C)},Ot(U),g.default=U}])})},23406:function(Jt,Qe){"use strict";var K;Qe.ConcurrentRoot=1,Qe.ContinuousEventPriority=4,Qe.DefaultEventPriority=16,Qe.DiscreteEventPriority=1,K=536870912,K=0},45658:function(Jt,Qe,K){Jt.exports=function(x){var g={},_=K(50959),T=K(65297),k=Object.assign;function z(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y=_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),oe=Symbol.for("react.portal"),be=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),it=Symbol.for("react.provider"),st=Symbol.for("react.context"),nn=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),Ye=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var pt=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var zt=Symbol.iterator;function Ot(i){return i===null||typeof i!="object"?null:(i=zt&&i[zt]||i["@@iterator"],typeof i=="function"?i:null)}function Be(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case be:return"Fragment";case oe:return"Portal";case F:return"Profiler";case Se:return"StrictMode";case ht:return"Suspense";case Rt:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case st:return(i.displayName||"Context")+".Consumer";case it:return(i._context.displayName||"Context")+".Provider";case nn:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return s=i.displayName||null,s!==null?s:Be(i.type)||"Memo";case Ye:s=i._payload,i=i._init;try{return Be(i(s))}catch(u){}}return null}function Ue(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(s);case 8:return s===Se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ft(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function bt(i){if(ft(i)!==i)throw Error(z(188))}function j(i){var s=i.alternate;if(!s){if(s=ft(i),s===null)throw Error(z(188));return s!==i?null:i}for(var u=i,h=s;;){var M=u.return;if(M===null)break;var H=M.alternate;if(H===null){if(h=M.return,h!==null){u=h;continue}break}if(M.child===H.child){for(H=M.child;H;){if(H===u)return bt(M),i;if(H===h)return bt(M),s;H=H.sibling}throw Error(z(188))}if(u.return!==h.return)u=M,h=H;else{for(var He=!1,wt=M.child;wt;){if(wt===u){He=!0,u=M,h=H;break}if(wt===h){He=!0,h=M,u=H;break}wt=wt.sibling}if(!He){for(wt=H.child;wt;){if(wt===u){He=!0,u=H,h=M;break}if(wt===h){He=!0,h=H,u=M;break}wt=wt.sibling}if(!He)throw Error(z(189))}}if(u.alternate!==h)throw Error(z(190))}if(u.tag!==3)throw Error(z(188));return u.stateNode.current===u?i:s}function ye(i){return i=j(i),i!==null?ge(i):null}function ge(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=ge(i);if(s!==null)return s;i=i.sibling}return null}function ve(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){if(i.tag!==4){var s=ve(i);if(s!==null)return s}i=i.sibling}return null}var Ce=Array.isArray,xe=x.getPublicInstance,de=x.getRootHostContext,X=x.getChildHostContext,ee=x.prepareForCommit,Pe=x.resetAfterCommit,Q=x.createInstance,Le=x.appendInitialChild,Ee=x.finalizeInitialChildren,ke=x.prepareUpdate,qe=x.shouldSetTextContent,rt=x.createTextInstance,tt=x.scheduleTimeout,St=x.cancelTimeout,at=x.noTimeout,Mt=x.isPrimaryRenderer,Et=x.supportsMutation,Ct=x.supportsPersistence,We=x.supportsHydration,Ve=x.getInstanceFromNode,gt=x.preparePortalMount,$t=x.getCurrentEventPriority,Gt=x.detachDeletedInstance,Yt=x.supportsMicrotasks,yn=x.scheduleMicrotask,rn=x.supportsTestSelectors,sn=x.findFiberRoot,Mn=x.getBoundingRect,xt=x.getTextContent,he=x.isHiddenSubtree,Me=x.matchAccessibilityRole,Oe=x.setFocusIfFocusable,Ke=x.setupIntersectionObserver,Xe=x.appendChild,Nt=x.appendChildToContainer,Qt=x.commitTextUpdate,Dn=x.commitMount,Pn=x.commitUpdate,me=x.insertBefore,Je=x.insertInContainerBefore,nt=x.removeChild,et=x.removeChildFromContainer,Ut=x.resetTextContent,pn=x.hideInstance,an=x.hideTextInstance,Vt=x.unhideInstance,pe=x.unhideTextInstance,De=x.clearContainer,lt=x.cloneInstance,Tt=x.createContainerChildSet,Wt=x.appendChildToContainerChildSet,Cn=x.finalizeContainerChildren,Bn=x.replaceContainerChildren,Gn=x.cloneHiddenInstance,vr=x.cloneHiddenTextInstance,Mr=x.canHydrateInstance,xr=x.canHydrateTextInstance,mi=x.canHydrateSuspenseInstance,Pr=x.isSuspenseInstancePending,jr=x.isSuspenseInstanceFallback,I=x.registerSuspenseInstanceRetry,U=x.getNextHydratableSibling,m=x.getFirstHydratableChild,C=x.getFirstHydratableChildWithinContainer,w=x.getFirstHydratableChildWithinSuspenseInstance,L=x.hydrateInstance,V=x.hydrateTextInstance,se=x.hydrateSuspenseInstance,N=x.getNextHydratableInstanceAfterSuspenseInstance,Z=x.commitHydratedContainer,P=x.commitHydratedSuspenseInstance,$=x.clearSuspenseBoundary,Ne=x.clearSuspenseBoundaryFromContainer,Ge=x.shouldDeleteUnhydratedTailInstances,ct=x.didNotMatchHydratedContainerTextInstance,Ft=x.didNotMatchHydratedTextInstance,Dt;function dt(i){if(Dt===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Dt=s&&s[1]||""}return`
`+Dt+i}var mt=!1;function ut(i,s){if(!i||mt)return"";mt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Hn){var h=Hn}Reflect.construct(i,[],s)}else{try{s.call()}catch(Hn){h=Hn}i.call(s.prototype)}else{try{throw Error()}catch(Hn){h=Hn}i()}}catch(Hn){if(Hn&&h&&typeof Hn.stack=="string"){for(var M=Hn.stack.split(`
`),H=h.stack.split(`
`),He=M.length-1,wt=H.length-1;1<=He&&0<=wt&&M[He]!==H[wt];)wt--;for(;1<=He&&0<=wt;He--,wt--)if(M[He]!==H[wt]){if(He!==1||wt!==1)do if(He--,wt--,0>wt||M[He]!==H[wt]){var en=`
`+M[He].replace(" at new "," at ");return i.displayName&&en.includes("<anonymous>")&&(en=en.replace("<anonymous>",i.displayName)),en}while(1<=He&&0<=wt);break}}}finally{mt=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?dt(i):""}var Zt=Object.prototype.hasOwnProperty,Sn=[],xn=-1;function Fn(i){return{current:i}}function An(i){0>xn||(i.current=Sn[xn],Sn[xn]=null,xn--)}function zn(i,s){xn++,Sn[xn]=i.current,i.current=s}var Jn={},fn=Fn(Jn),Vn=Fn(!1),lr=Jn;function yr(i,s){var u=i.type.contextTypes;if(!u)return Jn;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var M={},H;for(H in u)M[H]=s[H];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=M),M}function Hr(i){return i=i.childContextTypes,i!=null}function wi(){An(Vn),An(fn)}function ni(i,s,u){if(fn.current!==Jn)throw Error(z(168));zn(fn,s),zn(Vn,u)}function ri(i,s,u){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var M in h)if(!(M in s))throw Error(z(108,Ue(i)||"Unknown",M));return k({},u,h)}function ii(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Jn,lr=fn.current,zn(fn,i),zn(Vn,Vn.current),!0}function _i(i,s,u){var h=i.stateNode;if(!h)throw Error(z(169));u?(i=ri(i,s,lr),h.__reactInternalMemoizedMergedChildContext=i,An(Vn),An(fn),zn(fn,i)):An(Vn),zn(Vn,u)}var Er=Math.clz32?Math.clz32:lo,Tr=Math.log,yi=Math.LN2;function lo(i){return i>>>=0,i===0?32:31-(Tr(i)/yi|0)|0}var di=64,Yo=4194304;function Ko(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Lo(i,s){var u=i.pendingLanes;if(u===0)return 0;var h=0,M=i.suspendedLanes,H=i.pingedLanes,He=u&268435455;if(He!==0){var wt=He&~M;wt!==0?h=Ko(wt):(H&=He,H!==0&&(h=Ko(H)))}else He=u&~M,He!==0?h=Ko(He):H!==0&&(h=Ko(H));if(h===0)return 0;if(s!==0&&s!==h&&!(s&M)&&(M=h&-h,H=s&-s,M>=H||M===16&&(H&4194240)!==0))return s;if(h&4&&(h|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)u=31-Er(s),M=1<<u,h|=i[u],s&=~M;return h}function Ns(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fo(i,s){for(var u=i.suspendedLanes,h=i.pingedLanes,M=i.expirationTimes,H=i.pendingLanes;0<H;){var He=31-Er(H),wt=1<<He,en=M[He];en===-1?(!(wt&u)||wt&h)&&(M[He]=Ns(wt,s)):en<=s&&(i.expiredLanes|=wt),H&=~wt}}function bi(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Fs(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Do(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Er(s),i[s]=u}function Wi(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var M=31-Er(u),H=1<<M;s[M]=0,h[M]=-1,i[M]=-1,u&=~H}}function qo(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var h=31-Er(u),M=1<<h;M&s|i[h]&s&&(i[h]|=s),u&=~M}}var Yr=0;function Ji(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ro=T.unstable_scheduleCallback,ps=T.unstable_cancelCallback,ms=T.unstable_shouldYield,Jo=T.unstable_requestPaint,Ai=T.unstable_now,B=T.unstable_ImmediatePriority,J=T.unstable_UserBlockingPriority,Re=T.unstable_NormalPriority,ot=T.unstable_IdlePriority,It=null,Lt=null;function W(i){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(It,i,void 0,(i.current.flags&128)===128)}catch(s){}}function we(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var D=typeof Object.is=="function"?Object.is:we,re=null,$e=!1,_t=!1;function mn(i){re===null?re=[i]:re.push(i)}function On(i){$e=!0,mn(i)}function Un(){if(!_t&&re!==null){_t=!0;var i=0,s=Yr;try{var u=re;for(Yr=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}re=null,$e=!1}catch(M){throw re!==null&&(re=re.slice(i+1)),Ro(B,Un),M}finally{Yr=s,_t=!1}}return null}var _n=Y.ReactCurrentBatchConfig;function $n(i,s){if(D(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var M=u[h];if(!Zt.call(s,M)||!D(i[M],s[M]))return!1}return!0}function hr(i){switch(i.tag){case 5:return dt(i.type);case 16:return dt("Lazy");case 13:return dt("Suspense");case 19:return dt("SuspenseList");case 0:case 2:case 15:return i=ut(i.type,!1),i;case 11:return i=ut(i.type.render,!1),i;case 1:return i=ut(i.type,!0),i;default:return""}}function nr(i,s){if(i&&i.defaultProps){s=k({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}var Cr=Fn(null),Xr=null,Or=null,Fr=null;function Lr(){Fr=Or=Xr=null}function Vr(i,s,u){Mt?(zn(Cr,s._currentValue),s._currentValue=u):(zn(Cr,s._currentValue2),s._currentValue2=u)}function Ir(i){var s=Cr.current;An(Cr),Mt?i._currentValue=s:i._currentValue2=s}function Ii(i,s,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===u)break;i=i.return}}function gi(i,s){Xr=i,Fr=Or=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(Wo=!0),i.firstContext=null)}function Hi(i){var s=Mt?i._currentValue:i._currentValue2;if(Fr!==i)if(i={context:i,memoizedValue:s,next:null},Or===null){if(Xr===null)throw Error(z(308));Or=i,Xr.dependencies={lanes:0,firstContext:i}}else Or=Or.next=i;return s}var xi=null,oi=!1;function la(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h1(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function co(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function ko(i,s){var u=i.updateQueue;u!==null&&(u=u.shared,oo!==null&&i.mode&1&&!(Kr&2)?(i=u.interleaved,i===null?(s.next=s,xi===null?xi=[u]:xi.push(u)):(s.next=i.next,i.next=s),u.interleaved=s):(i=u.pending,i===null?s.next=s:(s.next=i.next,i.next=s),u.pending=s))}function ks(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,qo(i,u)}}function Qa(i,s){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var M=null,H=null;if(u=u.firstBaseUpdate,u!==null){do{var He={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};H===null?M=H=He:H=H.next=He,u=u.next}while(u!==null);H===null?M=H=s:H=H.next=s}else M=H=s;u={baseState:h.baseState,firstBaseUpdate:M,lastBaseUpdate:H,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function Ma(i,s,u,h){var M=i.updateQueue;oi=!1;var H=M.firstBaseUpdate,He=M.lastBaseUpdate,wt=M.shared.pending;if(wt!==null){M.shared.pending=null;var en=wt,Hn=en.next;en.next=null,He===null?H=Hn:He.next=Hn,He=en;var ar=i.alternate;ar!==null&&(ar=ar.updateQueue,wt=ar.lastBaseUpdate,wt!==He&&(wt===null?ar.firstBaseUpdate=Hn:wt.next=Hn,ar.lastBaseUpdate=en))}if(H!==null){var Br=M.baseState;He=0,ar=Hn=en=null,wt=H;do{var wr=wt.lane,Di=wt.eventTime;if((h&wr)===wr){ar!==null&&(ar=ar.next={eventTime:Di,lane:0,tag:wt.tag,payload:wt.payload,callback:wt.callback,next:null});e:{var pr=i,No=wt;switch(wr=s,Di=u,No.tag){case 1:if(pr=No.payload,typeof pr=="function"){Br=pr.call(Di,Br,wr);break e}Br=pr;break e;case 3:pr.flags=pr.flags&-65537|128;case 0:if(pr=No.payload,wr=typeof pr=="function"?pr.call(Di,Br,wr):pr,wr==null)break e;Br=k({},Br,wr);break e;case 2:oi=!0}}wt.callback!==null&&wt.lane!==0&&(i.flags|=64,wr=M.effects,wr===null?M.effects=[wt]:wr.push(wt))}else Di={eventTime:Di,lane:wr,tag:wt.tag,payload:wt.payload,callback:wt.callback,next:null},ar===null?(Hn=ar=Di,en=Br):ar=ar.next=Di,He|=wr;if(wt=wt.next,wt===null){if(wt=M.shared.pending,wt===null)break;wr=wt,wt=wr.next,wr.next=null,M.lastBaseUpdate=wr,M.shared.pending=null}}while(1);if(ar===null&&(en=Br),M.baseState=en,M.firstBaseUpdate=Hn,M.lastBaseUpdate=ar,s=M.shared.interleaved,s!==null){M=s;do He|=M.lane,M=M.next;while(M!==s)}else H===null&&(M.shared.lanes=0);c1|=He,i.lanes=He,i.memoizedState=Br}}function Us(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],M=h.callback;if(M!==null){if(h.callback=null,h=u,typeof M!="function")throw Error(z(191,M));M.call(h)}}}var qs=new _.Component().refs;function ca(i,s,u,h){s=i.memoizedState,u=u(h,s),u=u==null?s:k({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Sa={isMounted:function(i){return(i=i._reactInternals)?ft(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var h=Xo(),M=ya(i),H=co(h,M);H.payload=s,u!=null&&(H.callback=u),ko(i,H),s=bs(i,M,h),s!==null&&ks(s,i,M)},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var h=Xo(),M=ya(i),H=co(h,M);H.tag=1,H.payload=s,u!=null&&(H.callback=u),ko(i,H),s=bs(i,M,h),s!==null&&ks(s,i,M)},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Xo(),h=ya(i),M=co(u,h);M.tag=2,s!=null&&(M.callback=s),ko(i,M),s=bs(i,h,u),s!==null&&ks(s,i,h)}};function Qo(i,s,u,h,M,H,He){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,H,He):s.prototype&&s.prototype.isPureReactComponent?!$n(u,h)||!$n(M,H):!0}function p1(i,s,u){var h=!1,M=Jn,H=s.contextType;return typeof H=="object"&&H!==null?H=Hi(H):(M=Hr(s)?lr:fn.current,h=s.contextTypes,H=(h=h!=null)?yr(i,M):Jn),s=new s(u,H),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Sa,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=M,i.__reactInternalMemoizedMaskedChildContext=H),s}function m1(i,s,u,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==i&&Sa.enqueueReplaceState(s,s.state,null)}function ua(i,s,u,h){var M=i.stateNode;M.props=u,M.state=i.memoizedState,M.refs=qs,la(i);var H=s.contextType;typeof H=="object"&&H!==null?M.context=Hi(H):(H=Hr(s)?lr:fn.current,M.context=yr(i,H)),M.state=i.memoizedState,H=s.getDerivedStateFromProps,typeof H=="function"&&(ca(i,s,H,u),M.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(s=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),s!==M.state&&Sa.enqueueReplaceState(M,M.state,null),Ma(i,u,M,h),M.state=i.memoizedState),typeof M.componentDidMount=="function"&&(i.flags|=4194308)}var uo=[],ss=0,gs=null,Ea=0,ro=[],Ao=0,dn=null,Fi=1,as="";function Ts(i,s){uo[ss++]=Ea,uo[ss++]=gs,gs=i,Ea=s}function zo(i,s,u){ro[Ao++]=Fi,ro[Ao++]=as,ro[Ao++]=dn,dn=i;var h=Fi;i=as;var M=32-Er(h)-1;h&=~(1<<M),u+=1;var H=32-Er(s)+M;if(30<H){var He=M-M%5;H=(h&(1<<He)-1).toString(32),h>>=He,M-=He,Fi=1<<32-Er(s)+M|u<<M|h,as=H+i}else Fi=1<<H|u<<M|h,as=i}function vs(i){i.return!==null&&(Ts(i,1),zo(i,1,0))}function es(i){for(;i===gs;)gs=uo[--ss],uo[ss]=null,Ea=uo[--ss],uo[ss]=null;for(;i===dn;)dn=ro[--Ao],ro[Ao]=null,as=ro[--Ao],ro[Ao]=null,Fi=ro[--Ao],ro[Ao]=null}var fo=null,wo=null,si=!1,fa=!1,li=null;function ho(i,s){var u=Ms(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function Ps(i,s){switch(i.tag){case 5:return s=Mr(s,i.type,i.pendingProps),s!==null?(i.stateNode=s,fo=i,wo=m(s),!0):!1;case 6:return s=xr(s,i.pendingProps),s!==null?(i.stateNode=s,fo=i,wo=null,!0):!1;case 13:if(s=mi(s),s!==null){var u=dn!==null?{id:Fi,overflow:as}:null;return i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=Ms(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,fo=i,wo=null,!0}return!1;default:return!1}}function da(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Uo(i){if(si){var s=wo;if(s){var u=s;if(!Ps(i,s)){if(da(i))throw Error(z(418));s=U(u);var h=fo;s&&Ps(i,s)?ho(h,u):(i.flags=i.flags&-4097|2,si=!1,fo=i)}}else{if(da(i))throw Error(z(418));i.flags=i.flags&-4097|2,si=!1,fo=i}}}function rr(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;fo=i}function Cs(i){if(!We||i!==fo)return!1;if(!si)return rr(i),si=!0,!1;if(i.tag!==3&&(i.tag!==5||Ge(i.type)&&!qe(i.type,i.memoizedProps))){var s=wo;if(s){if(da(i)){for(i=wo;i;)i=U(i);throw Error(z(418))}for(;s;)ho(i,s),s=U(s)}}if(rr(i),i.tag===13){if(!We)throw Error(z(316));if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));wo=N(i)}else wo=fo?U(i.stateNode):null;return!0}function $s(){We&&(wo=fo=null,fa=si=!1)}function _s(i){li===null?li=[i]:li.push(i)}function Js(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(z(309));var h=u.stateNode}if(!h)throw Error(z(147,i));var M=h,H=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===H?s.ref:(s=function(He){var wt=M.refs;wt===qs&&(wt=M.refs={}),He===null?delete wt[H]:wt[H]=He},s._stringRef=H,s)}if(typeof i!="string")throw Error(z(284));if(!u._owner)throw Error(z(290,i))}return i}function La(i,s){throw i=Object.prototype.toString.call(s),Error(z(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Gi(i){var s=i._init;return s(i._payload)}function vi(i){function s(kt,At){if(i){var Xt=kt.deletions;Xt===null?(kt.deletions=[At],kt.flags|=16):Xt.push(At)}}function u(kt,At){if(!i)return null;for(;At!==null;)s(kt,At),At=At.sibling;return null}function h(kt,At){for(kt=new Map;At!==null;)At.key!==null?kt.set(At.key,At):kt.set(At.index,At),At=At.sibling;return kt}function M(kt,At){return kt=sa(kt,At),kt.index=0,kt.sibling=null,kt}function H(kt,At,Xt){return kt.index=Xt,i?(Xt=kt.alternate,Xt!==null?(Xt=Xt.index,Xt<At?(kt.flags|=2,At):Xt):(kt.flags|=2,At)):(kt.flags|=1048576,At)}function He(kt){return i&&kt.alternate===null&&(kt.flags|=2),kt}function wt(kt,At,Xt,ir){return At===null||At.tag!==6?(At=rc(Xt,kt.mode,ir),At.return=kt,At):(At=M(At,Xt),At.return=kt,At)}function en(kt,At,Xt,ir){var mr=Xt.type;return mr===be?ar(kt,At,Xt.props.children,ir,Xt.key):At!==null&&(At.elementType===mr||typeof mr=="object"&&mr!==null&&mr.$$typeof===Ye&&Gi(mr)===At.type)?(ir=M(At,Xt.props),ir.ref=Js(kt,At,Xt),ir.return=kt,ir):(ir=P1(Xt.type,Xt.key,Xt.props,null,kt.mode,ir),ir.ref=Js(kt,At,Xt),ir.return=kt,ir)}function Hn(kt,At,Xt,ir){return At===null||At.tag!==4||At.stateNode.containerInfo!==Xt.containerInfo||At.stateNode.implementation!==Xt.implementation?(At=ic(Xt,kt.mode,ir),At.return=kt,At):(At=M(At,Xt.children||[]),At.return=kt,At)}function ar(kt,At,Xt,ir,mr){return At===null||At.tag!==7?(At=ja(Xt,kt.mode,ir,mr),At.return=kt,At):(At=M(At,Xt),At.return=kt,At)}function Br(kt,At,Xt){if(typeof At=="string"&&At!==""||typeof At=="number")return At=rc(""+At,kt.mode,Xt),At.return=kt,At;if(typeof At=="object"&&At!==null){switch(At.$$typeof){case le:return Xt=P1(At.type,At.key,At.props,null,kt.mode,Xt),Xt.ref=Js(kt,null,At),Xt.return=kt,Xt;case oe:return At=ic(At,kt.mode,Xt),At.return=kt,At;case Ye:var ir=At._init;return Br(kt,ir(At._payload),Xt)}if(Ce(At)||Ot(At))return At=ja(At,kt.mode,Xt,null),At.return=kt,At;La(kt,At)}return null}function wr(kt,At,Xt,ir){var mr=At!==null?At.key:null;if(typeof Xt=="string"&&Xt!==""||typeof Xt=="number")return mr!==null?null:wt(kt,At,""+Xt,ir);if(typeof Xt=="object"&&Xt!==null){switch(Xt.$$typeof){case le:return Xt.key===mr?en(kt,At,Xt,ir):null;case oe:return Xt.key===mr?Hn(kt,At,Xt,ir):null;case Ye:return mr=Xt._init,wr(kt,At,mr(Xt._payload),ir)}if(Ce(Xt)||Ot(Xt))return mr!==null?null:ar(kt,At,Xt,ir,null);La(kt,Xt)}return null}function Di(kt,At,Xt,ir,mr){if(typeof ir=="string"&&ir!==""||typeof ir=="number")return kt=kt.get(Xt)||null,wt(At,kt,""+ir,mr);if(typeof ir=="object"&&ir!==null){switch(ir.$$typeof){case le:return kt=kt.get(ir.key===null?Xt:ir.key)||null,en(At,kt,ir,mr);case oe:return kt=kt.get(ir.key===null?Xt:ir.key)||null,Hn(At,kt,ir,mr);case Ye:var qr=ir._init;return Di(kt,At,Xt,qr(ir._payload),mr)}if(Ce(ir)||Ot(ir))return kt=kt.get(Xt)||null,ar(At,kt,ir,mr,null);La(At,ir)}return null}function pr(kt,At,Xt,ir){for(var mr=null,qr=null,Ur=At,Mi=At=0,Oo=null;Ur!==null&&Mi<Xt.length;Mi++){Ur.index>Mi?(Oo=Ur,Ur=null):Oo=Ur.sibling;var Si=wr(kt,Ur,Xt[Mi],ir);if(Si===null){Ur===null&&(Ur=Oo);break}i&&Ur&&Si.alternate===null&&s(kt,Ur),At=H(Si,At,Mi),qr===null?mr=Si:qr.sibling=Si,qr=Si,Ur=Oo}if(Mi===Xt.length)return u(kt,Ur),si&&Ts(kt,Mi),mr;if(Ur===null){for(;Mi<Xt.length;Mi++)Ur=Br(kt,Xt[Mi],ir),Ur!==null&&(At=H(Ur,At,Mi),qr===null?mr=Ur:qr.sibling=Ur,qr=Ur);return si&&Ts(kt,Mi),mr}for(Ur=h(kt,Ur);Mi<Xt.length;Mi++)Oo=Di(Ur,kt,Mi,Xt[Mi],ir),Oo!==null&&(i&&Oo.alternate!==null&&Ur.delete(Oo.key===null?Mi:Oo.key),At=H(Oo,At,Mi),qr===null?mr=Oo:qr.sibling=Oo,qr=Oo);return i&&Ur.forEach(function(Za){return s(kt,Za)}),si&&Ts(kt,Mi),mr}function No(kt,At,Xt,ir){var mr=Ot(Xt);if(typeof mr!="function")throw Error(z(150));if(Xt=mr.call(Xt),Xt==null)throw Error(z(151));for(var qr=mr=null,Ur=At,Mi=At=0,Oo=null,Si=Xt.next();Ur!==null&&!Si.done;Mi++,Si=Xt.next()){Ur.index>Mi?(Oo=Ur,Ur=null):Oo=Ur.sibling;var Za=wr(kt,Ur,Si.value,ir);if(Za===null){Ur===null&&(Ur=Oo);break}i&&Ur&&Za.alternate===null&&s(kt,Ur),At=H(Za,At,Mi),qr===null?mr=Za:qr.sibling=Za,qr=Za,Ur=Oo}if(Si.done)return u(kt,Ur),si&&Ts(kt,Mi),mr;if(Ur===null){for(;!Si.done;Mi++,Si=Xt.next())Si=Br(kt,Si.value,ir),Si!==null&&(At=H(Si,At,Mi),qr===null?mr=Si:qr.sibling=Si,qr=Si);return si&&Ts(kt,Mi),mr}for(Ur=h(kt,Ur);!Si.done;Mi++,Si=Xt.next())Si=Di(Ur,kt,Mi,Si.value,ir),Si!==null&&(i&&Si.alternate!==null&&Ur.delete(Si.key===null?Mi:Si.key),At=H(Si,At,Mi),qr===null?mr=Si:qr.sibling=Si,qr=Si);return i&&Ur.forEach(function(T0){return s(kt,T0)}),si&&Ts(kt,Mi),mr}function Ss(kt,At,Xt,ir){if(typeof Xt=="object"&&Xt!==null&&Xt.type===be&&Xt.key===null&&(Xt=Xt.props.children),typeof Xt=="object"&&Xt!==null){switch(Xt.$$typeof){case le:e:{for(var mr=Xt.key,qr=At;qr!==null;){if(qr.key===mr){if(mr=Xt.type,mr===be){if(qr.tag===7){u(kt,qr.sibling),At=M(qr,Xt.props.children),At.return=kt,kt=At;break e}}else if(qr.elementType===mr||typeof mr=="object"&&mr!==null&&mr.$$typeof===Ye&&Gi(mr)===qr.type){u(kt,qr.sibling),At=M(qr,Xt.props),At.ref=Js(kt,qr,Xt),At.return=kt,kt=At;break e}u(kt,qr);break}else s(kt,qr);qr=qr.sibling}Xt.type===be?(At=ja(Xt.props.children,kt.mode,ir,Xt.key),At.return=kt,kt=At):(ir=P1(Xt.type,Xt.key,Xt.props,null,kt.mode,ir),ir.ref=Js(kt,At,Xt),ir.return=kt,kt=ir)}return He(kt);case oe:e:{for(qr=Xt.key;At!==null;){if(At.key===qr)if(At.tag===4&&At.stateNode.containerInfo===Xt.containerInfo&&At.stateNode.implementation===Xt.implementation){u(kt,At.sibling),At=M(At,Xt.children||[]),At.return=kt,kt=At;break e}else{u(kt,At);break}else s(kt,At);At=At.sibling}At=ic(Xt,kt.mode,ir),At.return=kt,kt=At}return He(kt);case Ye:return qr=Xt._init,Ss(kt,At,qr(Xt._payload),ir)}if(Ce(Xt))return pr(kt,At,Xt,ir);if(Ot(Xt))return No(kt,At,Xt,ir);La(kt,Xt)}return typeof Xt=="string"&&Xt!==""||typeof Xt=="number"?(Xt=""+Xt,At!==null&&At.tag===6?(u(kt,At.sibling),At=M(At,Xt),At.return=kt,kt=At):(u(kt,At),At=rc(Xt,kt.mode,ir),At.return=kt,kt=At),He(kt)):u(kt,At)}return Ss}var po=vi(!0),Qs=vi(!1),$i={},Ti=Fn($i),mo=Fn($i),$o=Fn($i);function ci(i){if(i===$i)throw Error(z(174));return i}function Ae(i,s){zn($o,s),zn(mo,i),zn(Ti,$i),i=de(s),An(Ti),zn(Ti,i)}function go(){An(Ti),An(mo),An($o)}function js(i){var s=ci($o.current),u=ci(Ti.current);s=X(u,i.type,s),u!==s&&(zn(mo,i),zn(Ti,s))}function Qi(i){mo.current===i&&(An(Ti),An(mo))}var ai=Fn(0);function Ho(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Pr(u)||jr(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Zs=[];function ls(){for(var i=0;i<Zs.length;i++){var s=Zs[i];Mt?s._workInProgressVersionPrimary=null:s._workInProgressVersionSecondary=null}Zs.length=0}var ys=Y.ReactCurrentDispatcher,ji=Y.ReactCurrentBatchConfig,vo=0,Ci=null,Xi=null,Yi=null,Ra=!1,ha=!1,Os=0,Ol=0;function Vo(){throw Error(z(321))}function F1(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!D(i[u],s[u]))return!1;return!0}function e1(i,s,u,h,M,H){if(vo=H,Ci=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ys.current=i===null||i.memoizedState===null?Ei:Ds,i=u(h,M),ha){H=0;do{if(ha=!1,Os=0,25<=H)throw Error(z(301));H+=1,Yi=Xi=null,s.updateQueue=null,ys.current=ta,i=u(h,M)}while(ha)}if(ys.current=y1,s=Xi!==null&&Xi.next!==null,vo=0,Yi=Xi=Ci=null,Ra=!1,s)throw Error(z(300));return i}function g1(){var i=Os!==0;return Os=0,i}function jo(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yi===null?Ci.memoizedState=Yi=i:Yi=Yi.next=i,Yi}function bo(){if(Xi===null){var i=Ci.alternate;i=i!==null?i.memoizedState:null}else i=Xi.next;var s=Yi===null?Ci.memoizedState:Yi.next;if(s!==null)Yi=s,Xi=i;else{if(i===null)throw Error(z(310));Xi=i,i={memoizedState:Xi.memoizedState,baseState:Xi.baseState,baseQueue:Xi.baseQueue,queue:Xi.queue,next:null},Yi===null?Ci.memoizedState=Yi=i:Yi=Yi.next=i}return Yi}function ea(i,s){return typeof s=="function"?s(i):s}function Aa(i){var s=bo(),u=s.queue;if(u===null)throw Error(z(311));u.lastRenderedReducer=i;var h=Xi,M=h.baseQueue,H=u.pending;if(H!==null){if(M!==null){var He=M.next;M.next=H.next,H.next=He}h.baseQueue=M=H,u.pending=null}if(M!==null){H=M.next,h=h.baseState;var wt=He=null,en=null,Hn=H;do{var ar=Hn.lane;if((vo&ar)===ar)en!==null&&(en=en.next={lane:0,action:Hn.action,hasEagerState:Hn.hasEagerState,eagerState:Hn.eagerState,next:null}),h=Hn.hasEagerState?Hn.eagerState:i(h,Hn.action);else{var Br={lane:ar,action:Hn.action,hasEagerState:Hn.hasEagerState,eagerState:Hn.eagerState,next:null};en===null?(wt=en=Br,He=h):en=en.next=Br,Ci.lanes|=ar,c1|=ar}Hn=Hn.next}while(Hn!==null&&Hn!==H);en===null?He=h:en.next=wt,D(h,s.memoizedState)||(Wo=!0),s.memoizedState=h,s.baseState=He,s.baseQueue=en,u.lastRenderedState=h}if(i=u.interleaved,i!==null){M=i;do H=M.lane,Ci.lanes|=H,c1|=H,M=M.next;while(M!==i)}else M===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function Is(i){var s=bo(),u=s.queue;if(u===null)throw Error(z(311));u.lastRenderedReducer=i;var h=u.dispatch,M=u.pending,H=s.memoizedState;if(M!==null){u.pending=null;var He=M=M.next;do H=i(H,He.action),He=He.next;while(He!==M);D(H,s.memoizedState)||(Wo=!0),s.memoizedState=H,s.baseQueue===null&&(s.baseState=H),u.lastRenderedState=H}return[H,h]}function k1(){}function v1(i,s){var u=Ci,h=bo(),M=s(),H=!D(h.memoizedState,M);if(H&&(h.memoizedState=M,Wo=!0),h=h.queue,n1(kr.bind(null,u,h,i),[i]),h.getSnapshot!==s||H||Yi!==null&&Yi.memoizedState.tag&1){if(u.flags|=2048,C1(9,t1.bind(null,u,h,M,s),void 0,null),oo===null)throw Error(z(349));vo&30||U1(u,s,M)}return M}function U1(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Ci.updateQueue,s===null?(s={lastEffect:null,stores:null},Ci.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function t1(i,s,u,h){s.value=u,s.getSnapshot=h,Ta(s)&&bs(i,1,-1)}function kr(i,s,u){return u(function(){Ta(s)&&bs(i,1,-1)})}function Ta(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!D(i,u)}catch(h){return!0}}function cs(i){var s=jo();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:i},s.queue=i,i=i.dispatch=Lu.bind(null,Ci,i),[s.memoizedState,i]}function C1(i,s,u,h){return i={tag:i,create:s,destroy:u,deps:h,next:null},s=Ci.updateQueue,s===null?(s={lastEffect:null,stores:null},Ci.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,s.lastEffect=i)),i}function Il(){return bo().memoizedState}function xs(i,s,u,h){var M=jo();Ci.flags|=i,M.memoizedState=C1(1|s,u,void 0,h===void 0?null:h)}function Pa(i,s,u,h){var M=bo();h=h===void 0?null:h;var H=void 0;if(Xi!==null){var He=Xi.memoizedState;if(H=He.destroy,h!==null&&F1(h,He.deps)){M.memoizedState=C1(s,u,H,h);return}}Ci.flags|=i,M.memoizedState=C1(1|s,u,H,h)}function Zo(i,s){return xs(8390656,8,i,s)}function n1(i,s){return Pa(2048,8,i,s)}function Dl(i,s){return Pa(4,2,i,s)}function Oa(i,s){return Pa(4,4,i,s)}function _1(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Oc(i,s,u){return u=u!=null?u.concat([i]):null,Pa(4,4,_1.bind(null,s,i),u)}function $1(){}function Ia(i,s){var u=bo();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&F1(s,h[1])?h[0]:(u.memoizedState=[i,s],i)}function Ws(i,s){var u=bo();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&F1(s,h[1])?h[0]:(i=i(),u.memoizedState=[i,s],i)}function j1(i,s){var u=Yr;Yr=u!==0&&4>u?u:4,i(!0);var h=ji.transition;ji.transition={};try{i(!1),s()}finally{Yr=u,ji.transition=h}}function r1(){return bo().memoizedState}function Eu(i,s,u){var h=ya(i);u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},zl(i)?Hl(s,u):(Vl(i,s,u),u=Xo(),i=bs(i,h,u),i!==null&&Ic(i,s,h))}function Lu(i,s,u){var h=ya(i),M={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(zl(i))Hl(s,M);else{Vl(i,s,M);var H=i.alternate;if(i.lanes===0&&(H===null||H.lanes===0)&&(H=s.lastRenderedReducer,H!==null))try{var He=s.lastRenderedState,wt=H(He,u);if(M.hasEagerState=!0,M.eagerState=wt,D(wt,He))return}catch(en){}finally{}u=Xo(),i=bs(i,h,u),i!==null&&Ic(i,s,h)}}function zl(i){var s=i.alternate;return i===Ci||s!==null&&s===Ci}function Hl(i,s){ha=Ra=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Vl(i,s,u){oo!==null&&i.mode&1&&!(Kr&2)?(i=s.interleaved,i===null?(u.next=u,xi===null?xi=[s]:xi.push(s)):(u.next=i.next,i.next=u),s.interleaved=u):(i=s.pending,i===null?u.next=u:(u.next=i.next,i.next=u),s.pending=u)}function Ic(i,s,u){if(u&4194240){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,qo(i,u)}}var y1={readContext:Hi,useCallback:Vo,useContext:Vo,useEffect:Vo,useImperativeHandle:Vo,useInsertionEffect:Vo,useLayoutEffect:Vo,useMemo:Vo,useReducer:Vo,useRef:Vo,useState:Vo,useDebugValue:Vo,useDeferredValue:Vo,useTransition:Vo,useMutableSource:Vo,useSyncExternalStore:Vo,useId:Vo,unstable_isNewReconciler:!1},Ei={readContext:Hi,useCallback:function(i,s){return jo().memoizedState=[i,s===void 0?null:s],i},useContext:Hi,useEffect:Zo,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,xs(4194308,4,_1.bind(null,s,i),u)},useLayoutEffect:function(i,s){return xs(4194308,4,i,s)},useInsertionEffect:function(i,s){return xs(4,2,i,s)},useMemo:function(i,s){var u=jo();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var h=jo();return s=u!==void 0?u(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=Eu.bind(null,Ci,i),[h.memoizedState,i]},useRef:function(i){var s=jo();return i={current:i},s.memoizedState=i},useState:cs,useDebugValue:$1,useDeferredValue:function(i){var s=cs(i),u=s[0],h=s[1];return Zo(function(){var M=ji.transition;ji.transition={};try{h(i)}finally{ji.transition=M}},[i]),u},useTransition:function(){var i=cs(!1),s=i[0];return i=j1.bind(null,i[1]),jo().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var h=Ci,M=jo();if(si){if(u===void 0)throw Error(z(407));u=u()}else{if(u=s(),oo===null)throw Error(z(349));vo&30||U1(h,s,u)}M.memoizedState=u;var H={value:u,getSnapshot:s};return M.queue=H,Zo(kr.bind(null,h,H,i),[i]),h.flags|=2048,C1(9,t1.bind(null,h,H,u,s),void 0,null),u},useId:function(){var i=jo(),s=oo.identifierPrefix;if(si){var u=as,h=Fi;u=(h&~(1<<32-Er(h)-1)).toString(32)+u,s=":"+s+"R"+u,u=Os++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=Ol++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Ds={readContext:Hi,useCallback:Ia,useContext:Hi,useEffect:n1,useImperativeHandle:Oc,useInsertionEffect:Dl,useLayoutEffect:Oa,useMemo:Ws,useReducer:Aa,useRef:Il,useState:function(){return Aa(ea)},useDebugValue:$1,useDeferredValue:function(i){var s=Aa(ea),u=s[0],h=s[1];return n1(function(){var M=ji.transition;ji.transition={};try{h(i)}finally{ji.transition=M}},[i]),u},useTransition:function(){var i=Aa(ea)[0],s=bo().memoizedState;return[i,s]},useMutableSource:k1,useSyncExternalStore:v1,useId:r1,unstable_isNewReconciler:!1},ta={readContext:Hi,useCallback:Ia,useContext:Hi,useEffect:n1,useImperativeHandle:Oc,useInsertionEffect:Dl,useLayoutEffect:Oa,useMemo:Ws,useReducer:Is,useRef:Il,useState:function(){return Is(ea)},useDebugValue:$1,useDeferredValue:function(i){var s=Is(ea),u=s[0],h=s[1];return n1(function(){var M=ji.transition;ji.transition={};try{h(i)}finally{ji.transition=M}},[i]),u},useTransition:function(){var i=Is(ea)[0],s=bo().memoizedState;return[i,s]},useMutableSource:k1,useSyncExternalStore:v1,useId:r1,unstable_isNewReconciler:!1};function x1(i,s){try{var u="",h=s;do u+=hr(h),h=h.return;while(h);var M=u}catch(H){M=`
Error generating stack: `+H.message+`
`+H.stack}return{value:i,source:s,stack:M}}function zs(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var i1=typeof WeakMap=="function"?WeakMap:Map;function Da(i,s,u){u=co(-1,u),u.tag=3,u.payload={element:null};var h=s.value;return u.callback=function(){il||(il=!0,Kl=h),zs(i,s)},u}function Bl(i,s,u){u=co(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var M=s.value;u.payload=function(){return h(M)},u.callback=function(){zs(i,s)}}var H=i.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(u.callback=function(){zs(i,s),typeof h!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var He=s.stack;this.componentDidCatch(s.value,{componentStack:He!==null?He:""})}),u}function Z1(i,s,u){var h=i.pingCache;if(h===null){h=i.pingCache=new i1;var M=new Set;h.set(s,M)}else M=h.get(s),M===void 0&&(M=new Set,h.set(s,M));M.has(u)||(M.add(u),i=Hu.bind(null,i,s,u),s.then(i,i))}function W1(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function G1(i,s,u,h,M){return i.mode&1?(i.flags|=65536,i.lanes=M,i):(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=co(-1,1),s.tag=2,ko(u,s))),u.lanes|=1),i)}function eo(i){i.flags|=4}function Dc(i,s){if(i!==null&&i.child===s.child)return!0;if(s.flags&16)return!1;for(i=s.child;i!==null;){if(i.flags&12854||i.subtreeFlags&12854)return!1;i=i.sibling}return!0}var io,ws,Zi,za;if(Et)io=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)Le(i,u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},ws=function(){},Zi=function(i,s,u,h,M){if(i=i.memoizedProps,i!==h){var H=s.stateNode,He=ci(Ti.current);u=ke(H,u,i,h,M,He),(s.updateQueue=u)&&eo(s)}},za=function(i,s,u,h){u!==h&&eo(s)};else if(Ct){io=function(i,s,u,h){for(var M=s.child;M!==null;){if(M.tag===5){var H=M.stateNode;u&&h&&(H=Gn(H,M.type,M.memoizedProps,M)),Le(i,H)}else if(M.tag===6)H=M.stateNode,u&&h&&(H=vr(H,M.memoizedProps,M)),Le(i,H);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)H=M.child,H!==null&&(H.return=M),io(i,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===s)break;for(;M.sibling===null;){if(M.return===null||M.return===s)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};var Oi=function(i,s,u,h){for(var M=s.child;M!==null;){if(M.tag===5){var H=M.stateNode;u&&h&&(H=Gn(H,M.type,M.memoizedProps,M)),Wt(i,H)}else if(M.tag===6)H=M.stateNode,u&&h&&(H=vr(H,M.memoizedProps,M)),Wt(i,H);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)H=M.child,H!==null&&(H.return=M),Oi(i,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===s)break;for(;M.sibling===null;){if(M.return===null||M.return===s)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};ws=function(i,s){var u=s.stateNode;if(!Dc(i,s)){i=u.containerInfo;var h=Tt(i);Oi(h,s,!1,!1),u.pendingChildren=h,eo(s),Cn(i,h)}},Zi=function(i,s,u,h,M){var H=i.stateNode,He=i.memoizedProps;if((i=Dc(i,s))&&He===h)s.stateNode=H;else{var wt=s.stateNode,en=ci(Ti.current),Hn=null;He!==h&&(Hn=ke(wt,u,He,h,M,en)),i&&Hn===null?s.stateNode=H:(H=lt(H,Hn,u,He,h,s,i,wt),Ee(H,u,h,M,en)&&eo(s),s.stateNode=H,i?eo(s):io(H,s,!1,!1))}},za=function(i,s,u,h){u!==h?(i=ci($o.current),u=ci(Ti.current),s.stateNode=rt(h,i,u,s),eo(s)):s.stateNode=i.stateNode}}else ws=function(){},Zi=function(){},za=function(){};function w1(i,s){if(!si)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Bo(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(s)for(var M=i.child;M!==null;)u|=M.lanes|M.childLanes,h|=M.subtreeFlags&14680064,h|=M.flags&14680064,M.return=i,M=M.sibling;else for(M=i.child;M!==null;)u|=M.lanes|M.childLanes,h|=M.subtreeFlags,h|=M.flags,M.return=i,M=M.sibling;return i.subtreeFlags|=h,i.childLanes=u,s}function Ru(i,s,u){var h=s.pendingProps;switch(es(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bo(s),null;case 1:return Hr(s.type)&&wi(),Bo(s),null;case 3:return h=s.stateNode,go(),An(Vn),An(fn),ls(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Cs(s)?eo(s):i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,li!==null&&(Ql(li),li=null))),ws(i,s),Bo(s),null;case 5:Qi(s),u=ci($o.current);var M=s.type;if(i!==null&&s.stateNode!=null)Zi(i,s,M,h,u),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(z(166));return Bo(s),null}if(i=ci(Ti.current),Cs(s)){if(!We)throw Error(z(175));i=L(s.stateNode,s.type,s.memoizedProps,u,i,s,!fa),s.updateQueue=i,i!==null&&eo(s)}else{var H=Q(M,h,u,i,s);io(H,s,!1,!1),s.stateNode=H,Ee(H,M,h,u,i)&&eo(s)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Bo(s),null;case 6:if(i&&s.stateNode!=null)za(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(z(166));if(i=ci($o.current),u=ci(Ti.current),Cs(s)){if(!We)throw Error(z(176));if(i=s.stateNode,h=s.memoizedProps,(u=V(i,h,s,!fa))&&(M=fo,M!==null))switch(H=(M.mode&1)!==0,M.tag){case 3:ct(M.stateNode.containerInfo,i,h,H);break;case 5:Ft(M.type,M.memoizedProps,M.stateNode,i,h,H)}u&&eo(s)}else s.stateNode=rt(h,i,u,s)}return Bo(s),null;case 13:if(An(ai),h=s.memoizedState,si&&wo!==null&&s.mode&1&&!(s.flags&128)){for(i=wo;i;)i=U(i);return $s(),s.flags|=98560,s}if(h!==null&&h.dehydrated!==null){if(h=Cs(s),i===null){if(!h)throw Error(z(318));if(!We)throw Error(z(344));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));se(i,s)}else $s(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;return Bo(s),null}return li!==null&&(Ql(li),li=null),s.flags&128?(s.lanes=u,s):(h=h!==null,u=!1,i===null?Cs(s):u=i.memoizedState!==null,h&&!u&&(s.child.flags|=8192,s.mode&1&&(i===null||ai.current&1?_o===0&&(_o=3):ul())),s.updateQueue!==null&&(s.flags|=4),Bo(s),null);case 4:return go(),ws(i,s),i===null&&gt(s.stateNode.containerInfo),Bo(s),null;case 10:return Ir(s.type._context),Bo(s),null;case 17:return Hr(s.type)&&wi(),Bo(s),null;case 19:if(An(ai),M=s.memoizedState,M===null)return Bo(s),null;if(h=(s.flags&128)!==0,H=M.rendering,H===null)if(h)w1(M,!1);else{if(_o!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(H=Ho(i),H!==null){for(s.flags|=128,w1(M,!1),i=H.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),s.subtreeFlags=0,i=u,h=s.child;h!==null;)u=h,M=i,u.flags&=14680066,H=u.alternate,H===null?(u.childLanes=0,u.lanes=M,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=H.childLanes,u.lanes=H.lanes,u.child=H.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=H.memoizedProps,u.memoizedState=H.memoizedState,u.updateQueue=H.updateQueue,u.type=H.type,M=H.dependencies,u.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext}),h=h.sibling;return zn(ai,ai.current&1|2),s.child}i=i.sibling}M.tail!==null&&Ai()>Yl&&(s.flags|=128,h=!0,w1(M,!1),s.lanes=4194304)}else{if(!h)if(i=Ho(H),i!==null){if(s.flags|=128,h=!0,i=i.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),w1(M,!0),M.tail===null&&M.tailMode==="hidden"&&!H.alternate&&!si)return Bo(s),null}else 2*Ai()-M.renderingStartTime>Yl&&u!==1073741824&&(s.flags|=128,h=!0,w1(M,!1),s.lanes=4194304);M.isBackwards?(H.sibling=s.child,s.child=H):(i=M.last,i!==null?i.sibling=H:s.child=H,M.last=H)}return M.tail!==null?(s=M.tail,M.rendering=s,M.tail=s.sibling,M.renderingStartTime=Ai(),s.sibling=null,i=ai.current,zn(ai,h?i&1|2:i&1),s):(Bo(s),null);case 22:case 23:return ec(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?fs&1073741824&&(Bo(s),Et&&s.subtreeFlags&6&&(s.flags|=8192)):Bo(s),null;case 24:return null;case 25:return null}throw Error(z(156,s.tag))}var Au=Y.ReactCurrentOwner,Wo=!1;function Go(i,s,u,h){s.child=i===null?Qs(s,null,u,h):po(s,i.child,u,h)}function X1(i,s,u,h,M){u=u.render;var H=s.ref;return gi(s,M),h=e1(i,s,u,h,H,M),u=g1(),i!==null&&!Wo?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~M,Vs(i,s,M)):(si&&u&&vs(s),s.flags|=1,Go(i,s,h,M),s.child)}function zc(i,s,u,h,M){if(i===null){var H=u.type;return typeof H=="function"&&!nc(H)&&H.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=H,cr(i,s,H,h,M)):(i=P1(u.type,null,h,s,s.mode,M),i.ref=s.ref,i.return=s,s.child=i)}if(H=i.child,!(i.lanes&M)){var He=H.memoizedProps;if(u=u.compare,u=u!==null?u:$n,u(He,h)&&i.ref===s.ref)return Vs(i,s,M)}return s.flags|=1,i=sa(H,h),i.ref=s.ref,i.return=s,s.child=i}function cr(i,s,u,h,M){if(i!==null&&$n(i.memoizedProps,h)&&i.ref===s.ref)if(Wo=!1,(i.lanes&M)!==0)i.flags&131072&&(Wo=!0);else return s.lanes=i.lanes,Vs(i,s,M);return ts(i,s,u,h,M)}function Hc(i,s,u){var h=s.pendingProps,M=h.children,H=i!==null?i.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null},zn(l1,fs),fs|=u;else if(u&1073741824)s.memoizedState={baseLanes:0,cachePool:null},h=H!==null?H.baseLanes:u,zn(l1,fs),fs|=h;else return i=H!==null?H.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null},s.updateQueue=null,zn(l1,fs),fs|=i,null;else H!==null?(h=H.baseLanes|u,s.memoizedState=null):h=u,zn(l1,fs),fs|=h;return Go(i,s,M,u),s.child}function Vc(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function ts(i,s,u,h,M){var H=Hr(u)?lr:fn.current;return H=yr(s,H),gi(s,M),u=e1(i,s,u,h,H,M),h=g1(),i!==null&&!Wo?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~M,Vs(i,s,M)):(si&&h&&vs(s),s.flags|=1,Go(i,s,u,M),s.child)}function Y1(i,s,u,h,M){if(Hr(u)){var H=!0;ii(s)}else H=!1;if(gi(s,M),s.stateNode===null)i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),p1(s,u,h),ua(s,u,h,M),h=!0;else if(i===null){var He=s.stateNode,wt=s.memoizedProps;He.props=wt;var en=He.context,Hn=u.contextType;typeof Hn=="object"&&Hn!==null?Hn=Hi(Hn):(Hn=Hr(u)?lr:fn.current,Hn=yr(s,Hn));var ar=u.getDerivedStateFromProps,Br=typeof ar=="function"||typeof He.getSnapshotBeforeUpdate=="function";Br||typeof He.UNSAFE_componentWillReceiveProps!="function"&&typeof He.componentWillReceiveProps!="function"||(wt!==h||en!==Hn)&&m1(s,He,h,Hn),oi=!1;var wr=s.memoizedState;He.state=wr,Ma(s,h,He,M),en=s.memoizedState,wt!==h||wr!==en||Vn.current||oi?(typeof ar=="function"&&(ca(s,u,ar,h),en=s.memoizedState),(wt=oi||Qo(s,u,wt,h,wr,en,Hn))?(Br||typeof He.UNSAFE_componentWillMount!="function"&&typeof He.componentWillMount!="function"||(typeof He.componentWillMount=="function"&&He.componentWillMount(),typeof He.UNSAFE_componentWillMount=="function"&&He.UNSAFE_componentWillMount()),typeof He.componentDidMount=="function"&&(s.flags|=4194308)):(typeof He.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=en),He.props=h,He.state=en,He.context=Hn,h=wt):(typeof He.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{He=s.stateNode,h1(i,s),wt=s.memoizedProps,Hn=s.type===s.elementType?wt:nr(s.type,wt),He.props=Hn,Br=s.pendingProps,wr=He.context,en=u.contextType,typeof en=="object"&&en!==null?en=Hi(en):(en=Hr(u)?lr:fn.current,en=yr(s,en));var Di=u.getDerivedStateFromProps;(ar=typeof Di=="function"||typeof He.getSnapshotBeforeUpdate=="function")||typeof He.UNSAFE_componentWillReceiveProps!="function"&&typeof He.componentWillReceiveProps!="function"||(wt!==Br||wr!==en)&&m1(s,He,h,en),oi=!1,wr=s.memoizedState,He.state=wr,Ma(s,h,He,M);var pr=s.memoizedState;wt!==Br||wr!==pr||Vn.current||oi?(typeof Di=="function"&&(ca(s,u,Di,h),pr=s.memoizedState),(Hn=oi||Qo(s,u,Hn,h,wr,pr,en)||!1)?(ar||typeof He.UNSAFE_componentWillUpdate!="function"&&typeof He.componentWillUpdate!="function"||(typeof He.componentWillUpdate=="function"&&He.componentWillUpdate(h,pr,en),typeof He.UNSAFE_componentWillUpdate=="function"&&He.UNSAFE_componentWillUpdate(h,pr,en)),typeof He.componentDidUpdate=="function"&&(s.flags|=4),typeof He.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof He.componentDidUpdate!="function"||wt===i.memoizedProps&&wr===i.memoizedState||(s.flags|=4),typeof He.getSnapshotBeforeUpdate!="function"||wt===i.memoizedProps&&wr===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=pr),He.props=h,He.state=pr,He.context=en,h=Hn):(typeof He.componentDidUpdate!="function"||wt===i.memoizedProps&&wr===i.memoizedState||(s.flags|=4),typeof He.getSnapshotBeforeUpdate!="function"||wt===i.memoizedProps&&wr===i.memoizedState||(s.flags|=1024),h=!1)}return pa(i,s,u,h,H,M)}function pa(i,s,u,h,M,H){Vc(i,s);var He=(s.flags&128)!==0;if(!h&&!He)return M&&_i(s,u,!1),Vs(i,s,H);h=s.stateNode,Au.current=s;var wt=He&&typeof u.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&He?(s.child=po(s,i.child,null,H),s.child=po(s,null,wt,H)):Go(i,s,wt,H),s.memoizedState=h.state,M&&_i(s,u,!0),s.child}function ns(i){var s=i.stateNode;s.pendingContext?ni(i,s.pendingContext,s.pendingContext!==s.context):s.context&&ni(i,s.context,!1),Ae(i,s.containerInfo)}function o1(i,s,u,h,M){return $s(),_s(M),s.flags|=256,Go(i,s,u,h),s.child}var to={dehydrated:null,treeContext:null,retryLane:0};function Dr(i){return{baseLanes:i,cachePool:null}}function Nl(i,s,u){var h=s.pendingProps,M=ai.current,H=!1,He=(s.flags&128)!==0,wt;if((wt=He)||(wt=i!==null&&i.memoizedState===null?!1:(M&2)!==0),wt?(H=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(M|=1),zn(ai,M&1),i===null)return Uo(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?jr(i)?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(M=h.children,i=h.fallback,H?(h=s.mode,H=s.child,M={mode:"hidden",children:M},!(h&1)&&H!==null?(H.childLanes=0,H.pendingProps=M):H=dl(M,h,0,null),i=ja(i,h,u,null),H.return=s,i.return=s,H.sibling=i,s.child=H,s.child.memoizedState=Dr(u),s.memoizedState=to,i):na(s,M));if(M=i.memoizedState,M!==null){if(wt=M.dehydrated,wt!==null){if(He)return s.flags&256?(s.flags&=-257,Hs(i,s,u,Error(z(422)))):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(H=h.fallback,M=s.mode,h=dl({mode:"visible",children:h.children},M,0,null),H=ja(H,M,u,null),H.flags|=2,h.return=s,H.return=s,h.sibling=H,s.child=h,s.mode&1&&po(s,i.child,null,u),s.child.memoizedState=Dr(u),s.memoizedState=to,H);if(!(s.mode&1))s=Hs(i,s,u,null);else if(jr(wt))s=Hs(i,s,u,Error(z(419)));else if(h=(u&i.childLanes)!==0,Wo||h){if(h=oo,h!==null){switch(u&-u){case 4:H=2;break;case 16:H=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:H=32;break;case 536870912:H=268435456;break;default:H=0}h=H&(h.suspendedLanes|u)?0:H,h!==0&&h!==M.retryLane&&(M.retryLane=h,bs(i,h,-1))}ul(),s=Hs(i,s,u,Error(z(421)))}else Pr(wt)?(s.flags|=128,s.child=i.child,s=Vu.bind(null,i),I(wt,s),s=null):(u=M.treeContext,We&&(wo=w(wt),fo=s,si=!0,li=null,fa=!1,u!==null&&(ro[Ao++]=Fi,ro[Ao++]=as,ro[Ao++]=dn,Fi=u.id,as=u.overflow,dn=s)),s=na(s,s.pendingProps.children),s.flags|=4096);return s}return H?(h=ra(i,s,h.children,h.fallback,u),H=s.child,M=i.child.memoizedState,H.memoizedState=M===null?Dr(u):{baseLanes:M.baseLanes|u,cachePool:null},H.childLanes=i.childLanes&~u,s.memoizedState=to,h):(u=b1(i,s,h.children,u),s.memoizedState=null,u)}return H?(h=ra(i,s,h.children,h.fallback,u),H=s.child,M=i.child.memoizedState,H.memoizedState=M===null?Dr(u):{baseLanes:M.baseLanes|u,cachePool:null},H.childLanes=i.childLanes&~u,s.memoizedState=to,h):(u=b1(i,s,h.children,u),s.memoizedState=null,u)}function na(i,s){return s=dl({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function b1(i,s,u,h){var M=i.child;return i=M.sibling,u=sa(M,{mode:"visible",children:u}),!(s.mode&1)&&(u.lanes=h),u.return=s,u.sibling=null,i!==null&&(h=s.deletions,h===null?(s.deletions=[i],s.flags|=16):h.push(i)),s.child=u}function ra(i,s,u,h,M){var H=s.mode;i=i.child;var He=i.sibling,wt={mode:"hidden",children:u};return!(H&1)&&s.child!==i?(u=s.child,u.childLanes=0,u.pendingProps=wt,s.deletions=null):(u=sa(i,wt),u.subtreeFlags=i.subtreeFlags&14680064),He!==null?h=sa(He,h):(h=ja(h,H,M,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,h}function Hs(i,s,u,h){return h!==null&&_s(h),po(s,i.child,null,u),i=na(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function ia(i,s,u){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Ii(i.return,s,u)}function M1(i,s,u,h,M){var H=i.memoizedState;H===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:M}:(H.isBackwards=s,H.rendering=null,H.renderingStartTime=0,H.last=h,H.tail=u,H.tailMode=M)}function K1(i,s,u){var h=s.pendingProps,M=h.revealOrder,H=h.tail;if(Go(i,s,h.children,u),h=ai.current,h&2)h=h&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ia(i,u,s);else if(i.tag===19)ia(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(zn(ai,h),!(s.mode&1))s.memoizedState=null;else switch(M){case"forwards":for(u=s.child,M=null;u!==null;)i=u.alternate,i!==null&&Ho(i)===null&&(M=u),u=u.sibling;u=M,u===null?(M=s.child,s.child=null):(M=u.sibling,u.sibling=null),M1(s,!1,M,u,H);break;case"backwards":for(u=null,M=s.child,s.child=null;M!==null;){if(i=M.alternate,i!==null&&Ho(i)===null){s.child=M;break}i=M.sibling,M.sibling=u,u=M,M=i}M1(s,!0,u,null,H);break;case"together":M1(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Vs(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),c1|=s.lanes,!(u&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(z(153));if(s.child!==null){for(i=s.child,u=sa(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=sa(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function q1(i,s,u){switch(s.tag){case 3:ns(s),$s();break;case 5:js(s);break;case 1:Hr(s.type)&&ii(s);break;case 4:Ae(s,s.stateNode.containerInfo);break;case 10:Vr(s,s.type._context,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(zn(ai,ai.current&1),s.flags|=128,null):u&s.child.childLanes?Nl(i,s,u):(zn(ai,ai.current&1),i=Vs(i,s,u),i!==null?i.sibling:null);zn(ai,ai.current&1);break;case 19:if(h=(u&s.childLanes)!==0,i.flags&128){if(h)return K1(i,s,u);s.flags|=128}var M=s.memoizedState;if(M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),zn(ai,ai.current),h)break;return null;case 22:case 23:return s.lanes=0,Hc(i,s,u)}return Vs(i,s,u)}function J1(i,s){switch(es(s),s.tag){case 1:return Hr(s.type)&&wi(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return go(),An(Vn),An(fn),ls(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Qi(s),null;case 13:if(An(ai),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(z(340));$s()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return An(ai),null;case 4:return go(),null;case 10:return Ir(s.type._context),null;case 22:case 23:return ec(),null;case 24:return null;default:return null}}var Ha=!1,Gs=!1,Q1=typeof WeakSet=="function"?WeakSet:Set,Xn=null;function s1(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){os(i,s,h)}else u.current=null}function a1(i,s,u){try{u()}catch(h){os(i,s,h)}}var Mo=!1;function Tu(i,s){for(ee(i.containerInfo),Xn=s;Xn!==null;)if(i=Xn,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,Xn=s;else for(;Xn!==null;){i=Xn;try{var u=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(u!==null){var h=u.memoizedProps,M=u.memoizedState,H=i.stateNode,He=H.getSnapshotBeforeUpdate(i.elementType===i.type?h:nr(i.type,h),M);H.__reactInternalSnapshotBeforeUpdate=He}break;case 3:Et&&De(i.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(wt){os(i,i.return,wt)}if(s=i.sibling,s!==null){s.return=i.return,Xn=s;break}Xn=i.return}return u=Mo,Mo=!1,u}function Xs(i,s,u){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var M=h=h.next;do{if((M.tag&i)===i){var H=M.destroy;M.destroy=void 0,H!==void 0&&a1(s,u,H)}M=M.next}while(M!==h)}}function us(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==s)}}function ma(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=xe(u);break;default:i=u}typeof s=="function"?s(i):s.current=i}}function To(i,s,u){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(It,s)}catch(He){}switch(s.tag){case 0:case 11:case 14:case 15:if(i=s.updateQueue,i!==null&&(i=i.lastEffect,i!==null)){var h=i=i.next;do{var M=h,H=M.destroy;M=M.tag,H!==void 0&&(M&2||M&4)&&a1(s,u,H),h=h.next}while(h!==i)}break;case 1:if(s1(s,u),i=s.stateNode,typeof i.componentWillUnmount=="function")try{i.props=s.memoizedProps,i.state=s.memoizedState,i.componentWillUnmount()}catch(He){os(s,u,He)}break;case 5:s1(s,u);break;case 4:Et?Va(i,s,u):Ct&&Ct&&(s=s.stateNode.containerInfo,u=Tt(s),Bn(s,u))}}function Fl(i,s,u){for(var h=s;;)if(To(i,h,u),h.child===null||Et&&h.tag===4){if(h===s)break;for(;h.sibling===null;){if(h.return===null||h.return===s)return;h=h.return}h.sibling.return=h.return,h=h.sibling}else h.child.return=h,h=h.child}function Bc(i){var s=i.alternate;s!==null&&(i.alternate=null,Bc(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Gt(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Nc(i){return i.tag===5||i.tag===3||i.tag===4}function Bs(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Nc(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function S1(i){if(Et){e:{for(var s=i.return;s!==null;){if(Nc(s))break e;s=s.return}throw Error(z(160))}var u=s;switch(u.tag){case 5:s=u.stateNode,u.flags&32&&(Ut(s),u.flags&=-33),u=Bs(i),ga(i,u,s);break;case 3:case 4:s=u.stateNode.containerInfo,u=Bs(i),Co(i,u,s);break;default:throw Error(z(161))}}}function Co(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?Je(u,i,s):Nt(u,i);else if(h!==4&&(i=i.child,i!==null))for(Co(i,s,u),i=i.sibling;i!==null;)Co(i,s,u),i=i.sibling}function ga(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?me(u,i,s):Xe(u,i);else if(h!==4&&(i=i.child,i!==null))for(ga(i,s,u),i=i.sibling;i!==null;)ga(i,s,u),i=i.sibling}function Va(i,s,u){for(var h=s,M=!1,H,He;;){if(!M){M=h.return;e:for(;;){if(M===null)throw Error(z(160));switch(H=M.stateNode,M.tag){case 5:He=!1;break e;case 3:H=H.containerInfo,He=!0;break e;case 4:H=H.containerInfo,He=!0;break e}M=M.return}M=!0}if(h.tag===5||h.tag===6)Fl(i,h,u),He?et(H,h.stateNode):nt(H,h.stateNode);else if(h.tag===18)He?Ne(H,h.stateNode):$(H,h.stateNode);else if(h.tag===4){if(h.child!==null){H=h.stateNode.containerInfo,He=!0,h.child.return=h,h=h.child;continue}}else if(To(i,h,u),h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break;for(;h.sibling===null;){if(h.return===null||h.return===s)return;h=h.return,h.tag===4&&(M=!1)}h.sibling.return=h.return,h=h.sibling}}function el(i,s){if(Et){switch(s.tag){case 0:case 11:case 14:case 15:Xs(3,s,s.return),us(3,s),Xs(5,s,s.return);return;case 1:return;case 5:var u=s.stateNode;if(u!=null){var h=s.memoizedProps;i=i!==null?i.memoizedProps:h;var M=s.type,H=s.updateQueue;s.updateQueue=null,H!==null&&Pn(u,H,M,i,h,s)}return;case 6:if(s.stateNode===null)throw Error(z(162));u=s.memoizedProps,Qt(s.stateNode,i!==null?i.memoizedProps:u,u);return;case 3:We&&i!==null&&i.memoizedState.isDehydrated&&Z(s.stateNode.containerInfo);return;case 12:return;case 13:va(s);return;case 19:va(s);return;case 17:return}throw Error(z(163))}switch(s.tag){case 0:case 11:case 14:case 15:Xs(3,s,s.return),us(3,s),Xs(5,s,s.return);return;case 12:return;case 13:va(s);return;case 19:va(s);return;case 3:We&&i!==null&&i.memoizedState.isDehydrated&&Z(s.stateNode.containerInfo);break;case 22:case 23:return}e:if(Ct){switch(s.tag){case 1:case 5:case 6:break e;case 3:case 4:s=s.stateNode,Bn(s.containerInfo,s.pendingChildren);break e}throw Error(z(163))}}function va(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Q1),s.forEach(function(h){var M=Bu.bind(null,i,h);u.has(h)||(u.add(h),h.then(M,M))})}}function Fc(i,s){for(Xn=s;Xn!==null;){s=Xn;var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var M=u[h];try{var H=i;Et?Va(H,M,s):Fl(H,M,s);var He=M.alternate;He!==null&&(He.return=null),M.return=null}catch(mr){os(M,s,mr)}}if(u=s.child,s.subtreeFlags&12854&&u!==null)u.return=s,Xn=u;else for(;Xn!==null;){s=Xn;try{var wt=s.flags;if(wt&32&&Et&&Ut(s.stateNode),wt&512){var en=s.alternate;if(en!==null){var Hn=en.ref;Hn!==null&&(typeof Hn=="function"?Hn(null):Hn.current=null)}}if(wt&8192)switch(s.tag){case 13:if(s.memoizedState!==null){var ar=s.alternate;(ar===null||ar.memoizedState===null)&&(Xl=Ai())}break;case 22:var Br=s.memoizedState!==null,wr=s.alternate,Di=wr!==null&&wr.memoizedState!==null;if(u=s,Et){e:if(h=u,M=Br,H=null,Et)for(var pr=h;;){if(pr.tag===5){if(H===null){H=pr;var No=pr.stateNode;M?pn(No):Vt(pr.stateNode,pr.memoizedProps)}}else if(pr.tag===6){if(H===null){var Ss=pr.stateNode;M?an(Ss):pe(Ss,pr.memoizedProps)}}else if((pr.tag!==22&&pr.tag!==23||pr.memoizedState===null||pr===h)&&pr.child!==null){pr.child.return=pr,pr=pr.child;continue}if(pr===h)break;for(;pr.sibling===null;){if(pr.return===null||pr.return===h)break e;H===pr&&(H=null),pr=pr.return}H===pr&&(H=null),pr.sibling.return=pr.return,pr=pr.sibling}}if(Br&&!Di&&u.mode&1){Xn=u;for(var kt=u.child;kt!==null;){for(u=Xn=kt;Xn!==null;){h=Xn;var At=h.child;switch(h.tag){case 0:case 11:case 14:case 15:Xs(4,h,h.return);break;case 1:s1(h,h.return);var Xt=h.stateNode;if(typeof Xt.componentWillUnmount=="function"){var ir=h.return;try{Xt.props=h.memoizedProps,Xt.state=h.memoizedState,Xt.componentWillUnmount()}catch(mr){os(h,ir,mr)}}break;case 5:s1(h,h.return);break;case 22:if(h.memoizedState!==null){oa(u);continue}}At!==null?(At.return=h,Xn=At):oa(u)}kt=kt.sibling}}}switch(wt&4102){case 2:S1(s),s.flags&=-3;break;case 6:S1(s),s.flags&=-3,el(s.alternate,s);break;case 4096:s.flags&=-4097;break;case 4100:s.flags&=-4097,el(s.alternate,s);break;case 4:el(s.alternate,s)}}catch(mr){os(s,s.return,mr)}if(u=s.sibling,u!==null){u.return=s.return,Xn=u;break}Xn=s.return}}}function kl(i,s,u){Xn=i,kc(i,s,u)}function kc(i,s,u){for(var h=(i.mode&1)!==0;Xn!==null;){var M=Xn,H=M.child;if(M.tag===22&&h){var He=M.memoizedState!==null||Ha;if(!He){var wt=M.alternate,en=wt!==null&&wt.memoizedState!==null||Gs;wt=Ha;var Hn=Gs;if(Ha=He,(Gs=en)&&!Hn)for(Xn=M;Xn!==null;)He=Xn,en=He.child,He.tag===22&&He.memoizedState!==null?Ba(M):en!==null?(en.return=He,Xn=en):Ba(M);for(;H!==null;)Xn=H,kc(H,s,u),H=H.sibling;Xn=M,Ha=wt,Gs=Hn}Uc(i,s,u)}else M.subtreeFlags&8772&&H!==null?(H.return=M,Xn=H):Uc(i,s,u)}}function Uc(i){for(;Xn!==null;){var s=Xn;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Gs||us(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Gs)if(u===null)h.componentDidMount();else{var M=s.elementType===s.type?u.memoizedProps:nr(s.type,u.memoizedProps);h.componentDidUpdate(M,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var H=s.updateQueue;H!==null&&Us(s,H,h);break;case 3:var He=s.updateQueue;if(He!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=xe(s.child.stateNode);break;case 1:u=s.child.stateNode}Us(s,He,u)}break;case 5:var wt=s.stateNode;u===null&&s.flags&4&&Dn(wt,s.type,s.memoizedProps,s);break;case 6:break;case 4:break;case 12:break;case 13:if(We&&s.memoizedState===null){var en=s.alternate;if(en!==null){var Hn=en.memoizedState;if(Hn!==null){var ar=Hn.dehydrated;ar!==null&&P(ar)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(z(163))}Gs||s.flags&512&&ma(s)}catch(Br){os(s,s.return,Br)}}if(s===i){Xn=null;break}if(u=s.sibling,u!==null){u.return=s.return,Xn=u;break}Xn=s.return}}function oa(i){for(;Xn!==null;){var s=Xn;if(s===i){Xn=null;break}var u=s.sibling;if(u!==null){u.return=s.return,Xn=u;break}Xn=s.return}}function Ba(i){for(;Xn!==null;){var s=Xn;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{us(4,s)}catch(en){os(s,u,en)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var M=s.return;try{h.componentDidMount()}catch(en){os(s,M,en)}}var H=s.return;try{ma(s)}catch(en){os(s,H,en)}break;case 5:var He=s.return;try{ma(s)}catch(en){os(s,He,en)}}}catch(en){os(s,s.return,en)}if(s===i){Xn=null;break}var wt=s.sibling;if(wt!==null){wt.return=s.return,Xn=wt;break}Xn=s.return}}var Na=0,Fa=1,E1=2,tl=3,Ys=4;if(typeof Symbol=="function"&&Symbol.for){var L1=Symbol.for;Na=L1("selector.component"),Fa=L1("selector.has_pseudo_class"),E1=L1("selector.role"),tl=L1("selector.test_id"),Ys=L1("selector.text")}function Ul(i){var s=Ve(i);if(s!=null){if(typeof s.memoizedProps["data-testname"]!="string")throw Error(z(364));return s}if(i=sn(i),i===null)throw Error(z(362));return i.stateNode.current}function $l(i,s){switch(s.$$typeof){case Na:if(i.type===s.value)return!0;break;case Fa:e:{s=s.value,i=[i,0];for(var u=0;u<i.length;){var h=i[u++],M=i[u++],H=s[M];if(h.tag!==5||!he(h)){for(;H!=null&&$l(h,H);)M++,H=s[M];if(M===s.length){s=!0;break e}else for(h=h.child;h!==null;)i.push(h,M),h=h.sibling}}s=!1}return s;case E1:if(i.tag===5&&Me(i.stateNode,s.value))return!0;break;case Ys:if((i.tag===5||i.tag===6)&&(i=xt(i),i!==null&&0<=i.indexOf(s.value)))return!0;break;case tl:if(i.tag===5&&(i=i.memoizedProps["data-testname"],typeof i=="string"&&i.toLowerCase()===s.value.toLowerCase()))return!0;break;default:throw Error(z(365))}return!1}function jl(i){switch(i.$$typeof){case Na:return"<"+(Be(i.value)||"Unknown")+">";case Fa:return":has("+(jl(i)||"")+")";case E1:return'[role="'+i.value+'"]';case Ys:return'"'+i.value+'"';case tl:return'[data-testname="'+i.value+'"]';default:throw Error(z(365))}}function $c(i,s){var u=[];i=[i,0];for(var h=0;h<i.length;){var M=i[h++],H=i[h++],He=s[H];if(M.tag!==5||!he(M)){for(;He!=null&&$l(M,He);)H++,He=s[H];if(H===s.length)u.push(M);else for(M=M.child;M!==null;)i.push(M,H),M=M.sibling}}return u}function Zl(i,s){if(!rn)throw Error(z(363));i=Ul(i),i=$c(i,s),s=[],i=Array.from(i);for(var u=0;u<i.length;){var h=i[u++];if(h.tag===5)he(h)||s.push(h.stateNode);else for(h=h.child;h!==null;)i.push(h),h=h.sibling}return s}var Pu=Math.ceil,nl=Y.ReactCurrentDispatcher,Wl=Y.ReactCurrentOwner,no=Y.ReactCurrentBatchConfig,Kr=0,oo=null,so=null,Po=0,fs=0,l1=Fn(0),_o=0,R1=null,c1=0,rl=0,Gl=0,A1=null,rs=null,Xl=0,Yl=1/0;function u1(){Yl=Ai()+500}var il=!1,Kl=null,Ca=null,ol=!1,_a=null,sl=0,T1=0,ql=null,al=-1,ll=0;function Xo(){return Kr&6?Ai():al!==-1?al:al=Ai()}function ya(i){return i.mode&1?Kr&2&&Po!==0?Po&-Po:_n.transition!==null?(ll===0&&(i=di,di<<=1,!(di&4194240)&&(di=64),ll=i),ll):(i=Yr,i!==0?i:$t()):1}function bs(i,s,u){if(50<T1)throw T1=0,ql=null,Error(z(185));var h=cl(i,s);return h===null?null:(Do(h,s,u),(!(Kr&2)||h!==oo)&&(h===oo&&(!(Kr&2)&&(rl|=s),_o===4&&xa(h,Po)),is(h,u),s===1&&Kr===0&&!(i.mode&1)&&(u1(),$e&&Un())),h)}function cl(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}function is(i,s){var u=i.callbackNode;Fo(i,s);var h=Lo(i,i===oo?Po:0);if(h===0)u!==null&&ps(u),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(u!=null&&ps(u),s===1)i.tag===0?On(Zc.bind(null,i)):mn(Zc.bind(null,i)),Yt?yn(function(){Kr===0&&Un()}):Ro(B,Un),u=null;else{switch(Ji(h)){case 1:u=B;break;case 4:u=J;break;case 16:u=Re;break;case 536870912:u=ot;break;default:u=Re}u=Qc(u,jc.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function jc(i,s){if(al=-1,ll=0,Kr&6)throw Error(z(327));var u=i.callbackNode;if($a()&&i.callbackNode!==u)return null;var h=Lo(i,i===oo?Po:0);if(h===0)return null;if(h&30||h&i.expiredLanes||s)s=fl(i,h);else{s=h;var M=Kr;Kr|=2;var H=tc();(oo!==i||Po!==s)&&(u1(),ka(i,s));do try{Du();break}catch(wt){Gc(i,wt)}while(1);Lr(),nl.current=H,Kr=M,so!==null?s=0:(oo=null,Po=0,s=_o)}if(s!==0){if(s===2&&(M=bi(i),M!==0&&(h=M,s=Jl(i,M))),s===1)throw u=R1,ka(i,0),xa(i,h),is(i,Ai()),u;if(s===6)xa(i,h);else{if(M=i.current.alternate,!(h&30)&&!Ou(M)&&(s=fl(i,h),s===2&&(H=bi(i),H!==0&&(h=H,s=Jl(i,H))),s===1))throw u=R1,ka(i,0),xa(i,h),is(i,Ai()),u;switch(i.finishedWork=M,i.finishedLanes=h,s){case 0:case 1:throw Error(z(345));case 2:Ua(i,rs);break;case 3:if(xa(i,h),(h&130023424)===h&&(s=Xl+500-Ai(),10<s)){if(Lo(i,0)!==0)break;if(M=i.suspendedLanes,(M&h)!==h){Xo(),i.pingedLanes|=i.suspendedLanes&M;break}i.timeoutHandle=tt(Ua.bind(null,i,rs),s);break}Ua(i,rs);break;case 4:if(xa(i,h),(h&4194240)===h)break;for(s=i.eventTimes,M=-1;0<h;){var He=31-Er(h);H=1<<He,He=s[He],He>M&&(M=He),h&=~H}if(h=M,h=Ai()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Pu(h/1960))-h,10<h){i.timeoutHandle=tt(Ua.bind(null,i,rs),h);break}Ua(i,rs);break;case 5:Ua(i,rs);break;default:throw Error(z(329))}}}return is(i,Ai()),i.callbackNode===u?jc.bind(null,i):null}function Jl(i,s){var u=A1;return i.current.memoizedState.isDehydrated&&(ka(i,s).flags|=256),i=fl(i,s),i!==2&&(s=rs,rs=u,s!==null&&Ql(s)),i}function Ql(i){rs===null?rs=i:rs.push.apply(rs,i)}function Ou(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var M=u[h],H=M.getSnapshot;M=M.value;try{if(!D(H(),M))return!1}catch(He){return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xa(i,s){for(s&=~Gl,s&=~rl,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-Er(s),h=1<<u;i[u]=-1,s&=~h}}function Zc(i){if(Kr&6)throw Error(z(327));$a();var s=Lo(i,0);if(!(s&1))return is(i,Ai()),null;var u=fl(i,s);if(i.tag!==0&&u===2){var h=bi(i);h!==0&&(s=h,u=Jl(i,h))}if(u===1)throw u=R1,ka(i,0),xa(i,s),is(i,Ai()),u;if(u===6)throw Error(z(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Ua(i,rs),is(i,Ai()),null}function Wc(i){_a!==null&&_a.tag===0&&!(Kr&6)&&$a();var s=Kr;Kr|=1;var u=no.transition,h=Yr;try{if(no.transition=null,Yr=1,i)return i()}finally{Yr=h,no.transition=u,Kr=s,!(Kr&6)&&Un()}}function ec(){fs=l1.current,An(l1)}function ka(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==at&&(i.timeoutHandle=at,St(u)),so!==null)for(u=so.return;u!==null;){var h=u;switch(es(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&wi();break;case 3:go(),An(Vn),An(fn),ls();break;case 5:Qi(h);break;case 4:go();break;case 13:An(ai);break;case 19:An(ai);break;case 10:Ir(h.type._context);break;case 22:case 23:ec()}u=u.return}if(oo=i,so=i=sa(i.current,null),Po=fs=s,_o=0,R1=null,Gl=rl=c1=0,rs=A1=null,xi!==null){for(s=0;s<xi.length;s++)if(u=xi[s],h=u.interleaved,h!==null){u.interleaved=null;var M=h.next,H=u.pending;if(H!==null){var He=H.next;H.next=M,h.next=He}u.pending=h}xi=null}return i}function Gc(i,s){do{var u=so;try{if(Lr(),ys.current=y1,Ra){for(var h=Ci.memoizedState;h!==null;){var M=h.queue;M!==null&&(M.pending=null),h=h.next}Ra=!1}if(vo=0,Yi=Xi=Ci=null,ha=!1,Os=0,Wl.current=null,u===null||u.return===null){_o=1,R1=s,so=null;break}e:{var H=i,He=u.return,wt=u,en=s;if(s=Po,wt.flags|=32768,en!==null&&typeof en=="object"&&typeof en.then=="function"){var Hn=en,ar=wt,Br=ar.tag;if(!(ar.mode&1)&&(Br===0||Br===11||Br===15)){var wr=ar.alternate;wr?(ar.updateQueue=wr.updateQueue,ar.memoizedState=wr.memoizedState,ar.lanes=wr.lanes):(ar.updateQueue=null,ar.memoizedState=null)}var Di=W1(He);if(Di!==null){Di.flags&=-257,G1(Di,He,wt,H,s),Di.mode&1&&Z1(H,Hn,s),s=Di,en=Hn;var pr=s.updateQueue;if(pr===null){var No=new Set;No.add(en),s.updateQueue=No}else pr.add(en);break e}else{if(!(s&1)){Z1(H,Hn,s),ul();break e}en=Error(z(426))}}else if(si&&wt.mode&1){var Ss=W1(He);if(Ss!==null){!(Ss.flags&65536)&&(Ss.flags|=256),G1(Ss,He,wt,H,s),_s(en);break e}}H=en,_o!==4&&(_o=2),A1===null?A1=[H]:A1.push(H),en=x1(en,wt),wt=He;do{switch(wt.tag){case 3:wt.flags|=65536,s&=-s,wt.lanes|=s;var kt=Da(wt,en,s);Qa(wt,kt);break e;case 1:H=en;var At=wt.type,Xt=wt.stateNode;if(!(wt.flags&128)&&(typeof At.getDerivedStateFromError=="function"||Xt!==null&&typeof Xt.componentDidCatch=="function"&&(Ca===null||!Ca.has(Xt)))){wt.flags|=65536,s&=-s,wt.lanes|=s;var ir=Bl(wt,H,s);Qa(wt,ir);break e}}wt=wt.return}while(wt!==null)}Yc(u)}catch(mr){s=mr,so===u&&u!==null&&(so=u=u.return);continue}break}while(1)}function tc(){var i=nl.current;return nl.current=y1,i===null?y1:i}function ul(){(_o===0||_o===3||_o===2)&&(_o=4),oo===null||!(c1&268435455)&&!(rl&268435455)||xa(oo,Po)}function fl(i,s){var u=Kr;Kr|=2;var h=tc();oo===i&&Po===s||ka(i,s);do try{Iu();break}catch(M){Gc(i,M)}while(1);if(Lr(),Kr=u,nl.current=h,so!==null)throw Error(z(261));return oo=null,Po=0,_o}function Iu(){for(;so!==null;)Xc(so)}function Du(){for(;so!==null&&!ms();)Xc(so)}function Xc(i){var s=Jc(i.alternate,i,fs);i.memoizedProps=i.pendingProps,s===null?Yc(i):so=s,Wl.current=null}function Yc(i){var s=i;do{var u=s.alternate;if(i=s.return,s.flags&32768){if(u=J1(u,s),u!==null){u.flags&=32767,so=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{_o=6,so=null;return}}else if(u=Ru(u,s,fs),u!==null){so=u;return}if(s=s.sibling,s!==null){so=s;return}so=s=i}while(s!==null);_o===0&&(_o=5)}function Ua(i,s){var u=Yr,h=no.transition;try{no.transition=null,Yr=1,zu(i,s,u)}finally{no.transition=h,Yr=u}return null}function zu(i,s,u){do $a();while(_a!==null);if(Kr&6)throw Error(z(327));var h=i.finishedWork,M=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(z(177));i.callbackNode=null,i.callbackPriority=0;var H=h.lanes|h.childLanes;if(Wi(i,H),i===oo&&(so=oo=null,Po=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||ol||(ol=!0,Qc(Re,function(){return $a(),null})),H=(h.flags&15990)!==0,h.subtreeFlags&15990||H){H=no.transition,no.transition=null;var He=Yr;Yr=1;var wt=Kr;Kr|=4,Wl.current=null,Tu(i,h),Fc(i,h,M),Pe(i.containerInfo),i.current=h,kl(h,i,M),Jo(),Kr=wt,Yr=He,no.transition=H}else i.current=h;if(ol&&(ol=!1,_a=i,sl=M),H=i.pendingLanes,H===0&&(Ca=null),W(h.stateNode,u),is(i,Ai()),s!==null)for(u=i.onRecoverableError,h=0;h<s.length;h++)u(s[h]);if(il)throw il=!1,i=Kl,Kl=null,i;return sl&1&&i.tag!==0&&$a(),H=i.pendingLanes,H&1?i===ql?T1++:(T1=0,ql=i):T1=0,Un(),null}function $a(){if(_a!==null){var i=Ji(sl),s=no.transition,u=Yr;try{if(no.transition=null,Yr=16>i?16:i,_a===null)var h=!1;else{if(i=_a,_a=null,sl=0,Kr&6)throw Error(z(331));var M=Kr;for(Kr|=4,Xn=i.current;Xn!==null;){var H=Xn,He=H.child;if(Xn.flags&16){var wt=H.deletions;if(wt!==null){for(var en=0;en<wt.length;en++){var Hn=wt[en];for(Xn=Hn;Xn!==null;){var ar=Xn;switch(ar.tag){case 0:case 11:case 15:Xs(8,ar,H)}var Br=ar.child;if(Br!==null)Br.return=ar,Xn=Br;else for(;Xn!==null;){ar=Xn;var wr=ar.sibling,Di=ar.return;if(Bc(ar),ar===Hn){Xn=null;break}if(wr!==null){wr.return=Di,Xn=wr;break}Xn=Di}}}var pr=H.alternate;if(pr!==null){var No=pr.child;if(No!==null){pr.child=null;do{var Ss=No.sibling;No.sibling=null,No=Ss}while(No!==null)}}Xn=H}}if(H.subtreeFlags&2064&&He!==null)He.return=H,Xn=He;else e:for(;Xn!==null;){if(H=Xn,H.flags&2048)switch(H.tag){case 0:case 11:case 15:Xs(9,H,H.return)}var kt=H.sibling;if(kt!==null){kt.return=H.return,Xn=kt;break e}Xn=H.return}}var At=i.current;for(Xn=At;Xn!==null;){He=Xn;var Xt=He.child;if(He.subtreeFlags&2064&&Xt!==null)Xt.return=He,Xn=Xt;else e:for(He=At;Xn!==null;){if(wt=Xn,wt.flags&2048)try{switch(wt.tag){case 0:case 11:case 15:us(9,wt)}}catch(mr){os(wt,wt.return,mr)}if(wt===He){Xn=null;break e}var ir=wt.sibling;if(ir!==null){ir.return=wt.return,Xn=ir;break e}Xn=wt.return}}if(Kr=M,Un(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(It,i)}catch(mr){}h=!0}return h}finally{Yr=u,no.transition=s}}return!1}function Kc(i,s,u){s=x1(u,s),s=Da(i,s,1),ko(i,s),s=Xo(),i=cl(i,1),i!==null&&(Do(i,1,s),is(i,s))}function os(i,s,u){if(i.tag===3)Kc(i,i,u);else for(;s!==null;){if(s.tag===3){Kc(s,i,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ca===null||!Ca.has(h))){i=x1(u,i),i=Bl(s,i,1),ko(s,i),i=Xo(),s=cl(s,1),s!==null&&(Do(s,1,i),is(s,i));break}}s=s.return}}function Hu(i,s,u){var h=i.pingCache;h!==null&&h.delete(s),s=Xo(),i.pingedLanes|=i.suspendedLanes&u,oo===i&&(Po&u)===u&&(_o===4||_o===3&&(Po&130023424)===Po&&500>Ai()-Xl?ka(i,0):Gl|=u),is(i,s)}function qc(i,s){s===0&&(i.mode&1?(s=Yo,Yo<<=1,!(Yo&130023424)&&(Yo=4194304)):s=1);var u=Xo();i=cl(i,s),i!==null&&(Do(i,s,u),is(i,u))}function Vu(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),qc(i,u)}function Bu(i,s){var u=0;switch(i.tag){case 13:var h=i.stateNode,M=i.memoizedState;M!==null&&(u=M.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(z(314))}h!==null&&h.delete(s),qc(i,u)}var Jc;Jc=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||Vn.current)Wo=!0;else{if(!(i.lanes&u)&&!(s.flags&128))return Wo=!1,q1(i,s,u);Wo=!!(i.flags&131072)}else Wo=!1,si&&s.flags&1048576&&zo(s,Ea,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),i=s.pendingProps;var M=yr(s,fn.current);gi(s,u),M=e1(null,s,h,i,M,u);var H=g1();return s.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Hr(h)?(H=!0,ii(s)):H=!1,s.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,la(s),M.updater=Sa,s.stateNode=M,M._reactInternals=s,ua(s,h,i,u),s=pa(null,s,h,!0,H,u)):(s.tag=0,si&&H&&vs(s),Go(null,s,M,u),s=s.child),s;case 16:h=s.elementType;e:{switch(i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),i=s.pendingProps,M=h._init,h=M(h._payload),s.type=h,M=s.tag=Fu(h),i=nr(h,i),M){case 0:s=ts(null,s,h,i,u);break e;case 1:s=Y1(null,s,h,i,u);break e;case 11:s=X1(null,s,h,i,u);break e;case 14:s=zc(null,s,h,nr(h.type,i),u);break e}throw Error(z(306,h,""))}return s;case 0:return h=s.type,M=s.pendingProps,M=s.elementType===h?M:nr(h,M),ts(i,s,h,M,u);case 1:return h=s.type,M=s.pendingProps,M=s.elementType===h?M:nr(h,M),Y1(i,s,h,M,u);case 3:e:{if(ns(s),i===null)throw Error(z(387));h=s.pendingProps,H=s.memoizedState,M=H.element,h1(i,s),Ma(s,h,null,u);var He=s.memoizedState;if(h=He.element,We&&H.isDehydrated)if(H={element:h,isDehydrated:!1,cache:He.cache,transitions:He.transitions},s.updateQueue.baseState=H,s.memoizedState=H,s.flags&256){M=Error(z(423)),s=o1(i,s,h,u,M);break e}else if(h!==M){M=Error(z(424)),s=o1(i,s,h,u,M);break e}else for(We&&(wo=C(s.stateNode.containerInfo),fo=s,si=!0,li=null,fa=!1),u=Qs(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if($s(),h===M){s=Vs(i,s,u);break e}Go(i,s,h,u)}s=s.child}return s;case 5:return js(s),i===null&&Uo(s),h=s.type,M=s.pendingProps,H=i!==null?i.memoizedProps:null,He=M.children,qe(h,M)?He=null:H!==null&&qe(h,H)&&(s.flags|=32),Vc(i,s),Go(i,s,He,u),s.child;case 6:return i===null&&Uo(s),null;case 13:return Nl(i,s,u);case 4:return Ae(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=po(s,null,h,u):Go(i,s,h,u),s.child;case 11:return h=s.type,M=s.pendingProps,M=s.elementType===h?M:nr(h,M),X1(i,s,h,M,u);case 7:return Go(i,s,s.pendingProps,u),s.child;case 8:return Go(i,s,s.pendingProps.children,u),s.child;case 12:return Go(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(h=s.type._context,M=s.pendingProps,H=s.memoizedProps,He=M.value,Vr(s,h,He),H!==null)if(D(H.value,He)){if(H.children===M.children&&!Vn.current){s=Vs(i,s,u);break e}}else for(H=s.child,H!==null&&(H.return=s);H!==null;){var wt=H.dependencies;if(wt!==null){He=H.child;for(var en=wt.firstContext;en!==null;){if(en.context===h){if(H.tag===1){en=co(-1,u&-u),en.tag=2;var Hn=H.updateQueue;if(Hn!==null){Hn=Hn.shared;var ar=Hn.pending;ar===null?en.next=en:(en.next=ar.next,ar.next=en),Hn.pending=en}}H.lanes|=u,en=H.alternate,en!==null&&(en.lanes|=u),Ii(H.return,u,s),wt.lanes|=u;break}en=en.next}}else if(H.tag===10)He=H.type===s.type?null:H.child;else if(H.tag===18){if(He=H.return,He===null)throw Error(z(341));He.lanes|=u,wt=He.alternate,wt!==null&&(wt.lanes|=u),Ii(He,u,s),He=H.sibling}else He=H.child;if(He!==null)He.return=H;else for(He=H;He!==null;){if(He===s){He=null;break}if(H=He.sibling,H!==null){H.return=He.return,He=H;break}He=He.return}H=He}Go(i,s,M.children,u),s=s.child}return s;case 9:return M=s.type,h=s.pendingProps.children,gi(s,u),M=Hi(M),h=h(M),s.flags|=1,Go(i,s,h,u),s.child;case 14:return h=s.type,M=nr(h,s.pendingProps),M=nr(h.type,M),zc(i,s,h,M,u);case 15:return cr(i,s,s.type,s.pendingProps,u);case 17:return h=s.type,M=s.pendingProps,M=s.elementType===h?M:nr(h,M),i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),s.tag=1,Hr(h)?(i=!0,ii(s)):i=!1,gi(s,u),p1(s,h,M),ua(s,h,M,u),pa(null,s,h,!0,i,u);case 19:return K1(i,s,u);case 22:return Hc(i,s,u)}throw Error(z(156,s.tag))};function Qc(i,s){return Ro(i,s)}function Nu(i,s,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(i,s,u,h){return new Nu(i,s,u,h)}function nc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Fu(i){if(typeof i=="function")return nc(i)?1:0;if(i!=null){if(i=i.$$typeof,i===nn)return 11;if(i===O)return 14}return 2}function sa(i,s){var u=i.alternate;return u===null?(u=Ms(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function P1(i,s,u,h,M,H){var He=2;if(h=i,typeof i=="function")nc(i)&&(He=1);else if(typeof i=="string")He=5;else e:switch(i){case be:return ja(u.children,M,H,s);case Se:He=8,M|=8;break;case F:return i=Ms(12,u,s,M|2),i.elementType=F,i.lanes=H,i;case ht:return i=Ms(13,u,s,M),i.elementType=ht,i.lanes=H,i;case Rt:return i=Ms(19,u,s,M),i.elementType=Rt,i.lanes=H,i;case pt:return dl(u,M,H,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case it:He=10;break e;case st:He=9;break e;case nn:He=11;break e;case O:He=14;break e;case Ye:He=16,h=null;break e}throw Error(z(130,i==null?i:typeof i,""))}return s=Ms(He,u,s,M),s.elementType=i,s.type=h,s.lanes=H,s}function ja(i,s,u,h){return i=Ms(7,i,h,s),i.lanes=u,i}function dl(i,s,u,h){return i=Ms(22,i,h,s),i.elementType=pt,i.lanes=u,i.stateNode={},i}function rc(i,s,u){return i=Ms(6,i,null,s),i.lanes=u,i}function ic(i,s,u){return s=Ms(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function eu(i,s,u,h,M){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=at,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fs(0),this.expirationTimes=Fs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fs(0),this.identifierPrefix=h,this.onRecoverableError=M,We&&(this.mutableSourceEagerHydrationData=null)}function oc(i,s,u,h,M,H,He,wt,en){return i=new eu(i,s,u,wt,en),s===1?(s=1,H===!0&&(s|=8)):s=0,H=Ms(3,null,null,s),i.current=H,H.stateNode=i,H.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null},la(H),i}function tu(i){if(!i)return Jn;i=i._reactInternals;e:{if(ft(i)!==i||i.tag!==1)throw Error(z(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Hr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(z(171))}if(i.tag===1){var u=i.type;if(Hr(u))return ri(i,u,s)}return s}function nu(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(z(188)):(i=Object.keys(i).join(","),Error(z(268,i)));return i=ye(s),i===null?null:i.stateNode}function ru(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function sc(i,s){ru(i,s),(i=i.alternate)&&ru(i,s)}function ku(i){return i=ye(i),i===null?null:i.stateNode}function Uu(){return null}return g.attemptContinuousHydration=function(i){if(i.tag===13){var s=Xo();bs(i,134217728,s),sc(i,134217728)}},g.attemptHydrationAtCurrentPriority=function(i){if(i.tag===13){var s=Xo(),u=ya(i);bs(i,u,s),sc(i,u)}},g.attemptSynchronousHydration=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=Ko(s.pendingLanes);u!==0&&(qo(s,u|1),is(s,Ai()),!(Kr&6)&&(u1(),Un()))}break;case 13:var h=Xo();Wc(function(){return bs(i,1,h)}),sc(i,1)}},g.batchedUpdates=function(i,s){var u=Kr;Kr|=1;try{return i(s)}finally{Kr=u,Kr===0&&(u1(),$e&&Un())}},g.createComponentSelector=function(i){return{$$typeof:Na,value:i}},g.createContainer=function(i,s,u,h,M,H,He){return oc(i,s,!1,null,u,h,M,H,He)},g.createHasPseudoClassSelector=function(i){return{$$typeof:Fa,value:i}},g.createHydrationContainer=function(i,s,u,h,M,H,He,wt,en){return i=oc(u,h,!0,i,M,H,He,wt,en),i.context=tu(null),u=i.current,h=Xo(),M=ya(u),H=co(h,M),H.callback=s!=null?s:null,ko(u,H),i.current.lanes=M,Do(i,M,h),is(i,h),i},g.createPortal=function(i,s,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:h==null?null:""+h,children:i,containerInfo:s,implementation:u}},g.createRoleSelector=function(i){return{$$typeof:E1,value:i}},g.createTestNameSelector=function(i){return{$$typeof:tl,value:i}},g.createTextSelector=function(i){return{$$typeof:Ys,value:i}},g.deferredUpdates=function(i){var s=Yr,u=no.transition;try{return no.transition=null,Yr=16,i()}finally{Yr=s,no.transition=u}},g.discreteUpdates=function(i,s,u,h,M){var H=Yr,He=no.transition;try{return no.transition=null,Yr=1,i(s,u,h,M)}finally{Yr=H,no.transition=He,Kr===0&&u1()}},g.findAllNodes=Zl,g.findBoundingRects=function(i,s){if(!rn)throw Error(z(363));s=Zl(i,s),i=[];for(var u=0;u<s.length;u++)i.push(Mn(s[u]));for(s=i.length-1;0<s;s--){u=i[s];for(var h=u.x,M=h+u.width,H=u.y,He=H+u.height,wt=s-1;0<=wt;wt--)if(s!==wt){var en=i[wt],Hn=en.x,ar=Hn+en.width,Br=en.y,wr=Br+en.height;if(h>=Hn&&H>=Br&&M<=ar&&He<=wr){i.splice(s,1);break}else if(h!==Hn||u.width!==en.width||wr<H||Br>He){if(!(H!==Br||u.height!==en.height||ar<h||Hn>M)){Hn>h&&(en.width+=Hn-h,en.x=h),ar<M&&(en.width=M-Hn),i.splice(s,1);break}}else{Br>H&&(en.height+=Br-H,en.y=H),wr<He&&(en.height=He-Br),i.splice(s,1);break}}}return i},g.findHostInstance=nu,g.findHostInstanceWithNoPortals=function(i){return i=j(i),i=i!==null?ve(i):null,i===null?null:i.stateNode},g.findHostInstanceWithWarning=function(i){return nu(i)},g.flushControlled=function(i){var s=Kr;Kr|=1;var u=no.transition,h=Yr;try{no.transition=null,Yr=1,i()}finally{Yr=h,no.transition=u,Kr=s,Kr===0&&(u1(),Un())}},g.flushPassiveEffects=$a,g.flushSync=Wc,g.focusWithin=function(i,s){if(!rn)throw Error(z(363));for(i=Ul(i),s=$c(i,s),s=Array.from(s),i=0;i<s.length;){var u=s[i++];if(!he(u)){if(u.tag===5&&Oe(u.stateNode))return!0;for(u=u.child;u!==null;)s.push(u),u=u.sibling}}return!1},g.getCurrentUpdatePriority=function(){return Yr},g.getFindAllNodesFailureDescription=function(i,s){if(!rn)throw Error(z(363));var u=0,h=[];i=[Ul(i),0];for(var M=0;M<i.length;){var H=i[M++],He=i[M++],wt=s[He];if((H.tag!==5||!he(H))&&($l(H,wt)&&(h.push(jl(wt)),He++,He>u&&(u=He)),He<s.length))for(H=H.child;H!==null;)i.push(H,He),H=H.sibling}if(u<s.length){for(i=[];u<s.length;u++)i.push(jl(s[u]));return`findAllNodes was able to match part of the selector:
  `+(h.join(" > ")+`

No matching component was found for:
  `)+i.join(" > ")}return null},g.getPublicRootInstance=function(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return xe(i.child.stateNode);default:return i.child.stateNode}},g.injectIntoDevTools=function(i){if(i={bundleType:i.bundleType,version:i.version,rendererPackageName:i.rendererPackageName,rendererConfig:i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:ku,findFiberByHostInstance:i.findFiberByHostInstance||Uu,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")i=!1;else{var s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(s.isDisabled||!s.supportsFiber)i=!0;else{try{It=s.inject(i),Lt=s}catch(u){}i=!!s.checkDCE}}return i},g.isAlreadyRendering=function(){return!1},g.observeVisibleRects=function(i,s,u,h){if(!rn)throw Error(z(363));i=Zl(i,s);var M=Ke(i,u,h).disconnect;return{disconnect:function(){M()}}},g.registerMutableSourceForHydration=function(i,s){var u=s._getVersion;u=u(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,u]:i.mutableSourceEagerHydrationData.push(s,u)},g.runWithPriority=function(i,s){var u=Yr;try{return Yr=i,s()}finally{Yr=u}},g.shouldError=function(){return null},g.shouldSuspend=function(){return!1},g.updateContainer=function(i,s,u,h){var M=s.current,H=Xo(),He=ya(M);return u=tu(u),s.context===null?s.context=u:s.pendingContext=u,s=co(H,He),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),ko(M,s),i=bs(M,He,H),i!==null&&ks(i,M,He),He},g}},85259:function(Jt,Qe,K){"use strict";Jt.exports=K(23406)},97427:function(Jt,Qe,K){"use strict";Jt.exports=K(45658)},94440:function(Jt,Qe,K){"use strict";K.d(Qe,{Z:function(){return _}});var A=K(50959),x=K(31110),g=K.n(x);function _(oe){let{debounce:be,scroll:Se,polyfill:F,offsetSize:it}=oe===void 0?{debounce:0,scroll:!1,offsetSize:!1}:oe;const st=F||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!st)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[nn,ht]=(0,A.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),Rt=(0,A.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:nn}),O=be?typeof be=="number"?be:be.scroll:null,Ye=be?typeof be=="number"?be:be.resize:null,pt=(0,A.useRef)(!1);(0,A.useEffect)(()=>(pt.current=!0,()=>void(pt.current=!1)));const[zt,Ot,Be]=(0,A.useMemo)(()=>{const j=()=>{if(!Rt.current.element)return;const{left:ye,top:ge,width:ve,height:Ce,bottom:xe,right:de,x:X,y:ee}=Rt.current.element.getBoundingClientRect(),Pe={left:ye,top:ge,width:ve,height:Ce,bottom:xe,right:de,x:X,y:ee};Rt.current.element instanceof HTMLElement&&it&&(Pe.height=Rt.current.element.offsetHeight,Pe.width=Rt.current.element.offsetWidth),Object.freeze(Pe),pt.current&&!le(Rt.current.lastBounds,Pe)&&ht(Rt.current.lastBounds=Pe)};return[j,Ye?g()(j,Ye):j,O?g()(j,O):j]},[ht,it,O,Ye]);function Ue(){Rt.current.scrollContainers&&(Rt.current.scrollContainers.forEach(j=>j.removeEventListener("scroll",Be,!0)),Rt.current.scrollContainers=null),Rt.current.resizeObserver&&(Rt.current.resizeObserver.disconnect(),Rt.current.resizeObserver=null)}function ft(){Rt.current.element&&(Rt.current.resizeObserver=new st(Be),Rt.current.resizeObserver.observe(Rt.current.element),Se&&Rt.current.scrollContainers&&Rt.current.scrollContainers.forEach(j=>j.addEventListener("scroll",Be,{capture:!0,passive:!0})))}const bt=j=>{!j||j===Rt.current.element||(Ue(),Rt.current.element=j,Rt.current.scrollContainers=z(j),ft())};return k(Be,Boolean(Se)),T(Ot),(0,A.useEffect)(()=>{Ue(),ft()},[Se,Be,Ot]),(0,A.useEffect)(()=>Ue,[]),[bt,nn,zt]}function T(oe){(0,A.useEffect)(()=>{const be=oe;return window.addEventListener("resize",be),()=>void window.removeEventListener("resize",be)},[oe])}function k(oe,be){(0,A.useEffect)(()=>{if(be){const Se=oe;return window.addEventListener("scroll",Se,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",Se,!0)}},[oe,be])}function z(oe){const be=[];if(!oe||oe===document.body)return be;const{overflow:Se,overflowX:F,overflowY:it}=window.getComputedStyle(oe);return[Se,F,it].some(st=>st==="auto"||st==="scroll")&&be.push(oe),[...be,...z(oe.parentElement)]}const Y=["x","y","top","bottom","left","right","width","height"],le=(oe,be)=>Y.every(Se=>oe[Se]===be[Se])},70247:function(Jt,Qe){"use strict";function K(xe,de){var X=xe.length;xe.push(de);e:for(;0<X;){var ee=X-1>>>1,Pe=xe[ee];if(0<g(Pe,de))xe[ee]=de,xe[X]=Pe,X=ee;else break e}}function A(xe){return xe.length===0?null:xe[0]}function x(xe){if(xe.length===0)return null;var de=xe[0],X=xe.pop();if(X!==de){xe[0]=X;e:for(var ee=0,Pe=xe.length,Q=Pe>>>1;ee<Q;){var Le=2*(ee+1)-1,Ee=xe[Le],ke=Le+1,qe=xe[ke];if(0>g(Ee,X))ke<Pe&&0>g(qe,Ee)?(xe[ee]=qe,xe[ke]=X,ee=ke):(xe[ee]=Ee,xe[Le]=X,ee=Le);else if(ke<Pe&&0>g(qe,X))xe[ee]=qe,xe[ke]=X,ee=ke;else break e}}return de}function g(xe,de){var X=xe.sortIndex-de.sortIndex;return X!==0?X:xe.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _=performance;Qe.unstable_now=function(){return _.now()}}else{var T=Date,k=T.now();Qe.unstable_now=function(){return T.now()-k}}var z=[],Y=[],le=1,oe=null,be=3,Se=!1,F=!1,it=!1,st=typeof setTimeout=="function"?setTimeout:null,nn=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Rt(xe){for(var de=A(Y);de!==null;){if(de.callback===null)x(Y);else if(de.startTime<=xe)x(Y),de.sortIndex=de.expirationTime,K(z,de);else break;de=A(Y)}}function O(xe){if(it=!1,Rt(xe),!F)if(A(z)!==null)F=!0,ve(Ye);else{var de=A(Y);de!==null&&Ce(O,de.startTime-xe)}}function Ye(xe,de){F=!1,it&&(it=!1,nn(Ot),Ot=-1),Se=!0;var X=be;try{for(Rt(de),oe=A(z);oe!==null&&(!(oe.expirationTime>de)||xe&&!ft());){var ee=oe.callback;if(typeof ee=="function"){oe.callback=null,be=oe.priorityLevel;var Pe=ee(oe.expirationTime<=de);de=Qe.unstable_now(),typeof Pe=="function"?oe.callback=Pe:oe===A(z)&&x(z),Rt(de)}else x(z);oe=A(z)}if(oe!==null)var Q=!0;else{var Le=A(Y);Le!==null&&Ce(O,Le.startTime-de),Q=!1}return Q}finally{oe=null,be=X,Se=!1}}var pt=!1,zt=null,Ot=-1,Be=5,Ue=-1;function ft(){return!(Qe.unstable_now()-Ue<Be)}function bt(){if(zt!==null){var xe=Qe.unstable_now();Ue=xe;var de=!0;try{de=zt(!0,xe)}finally{de?j():(pt=!1,zt=null)}}else pt=!1}var j;if(typeof ht=="function")j=function(){ht(bt)};else if(typeof MessageChannel!="undefined"){var ye=new MessageChannel,ge=ye.port2;ye.port1.onmessage=bt,j=function(){ge.postMessage(null)}}else j=function(){st(bt,0)};function ve(xe){zt=xe,pt||(pt=!0,j())}function Ce(xe,de){Ot=st(function(){xe(Qe.unstable_now())},de)}Qe.unstable_IdlePriority=5,Qe.unstable_ImmediatePriority=1,Qe.unstable_LowPriority=4,Qe.unstable_NormalPriority=3,Qe.unstable_Profiling=null,Qe.unstable_UserBlockingPriority=2,Qe.unstable_cancelCallback=function(xe){xe.callback=null},Qe.unstable_continueExecution=function(){F||Se||(F=!0,ve(Ye))},Qe.unstable_forceFrameRate=function(xe){0>xe||125<xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Be=0<xe?Math.floor(1e3/xe):5},Qe.unstable_getCurrentPriorityLevel=function(){return be},Qe.unstable_getFirstCallbackNode=function(){return A(z)},Qe.unstable_next=function(xe){switch(be){case 1:case 2:case 3:var de=3;break;default:de=be}var X=be;be=de;try{return xe()}finally{be=X}},Qe.unstable_pauseExecution=function(){},Qe.unstable_requestPaint=function(){},Qe.unstable_runWithPriority=function(xe,de){switch(xe){case 1:case 2:case 3:case 4:case 5:break;default:xe=3}var X=be;be=xe;try{return de()}finally{be=X}},Qe.unstable_scheduleCallback=function(xe,de,X){var ee=Qe.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ee+X:ee):X=ee,xe){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=X+Pe,xe={id:le++,callback:de,priorityLevel:xe,startTime:X,expirationTime:Pe,sortIndex:-1},X>ee?(xe.sortIndex=X,K(Y,xe),A(z)===null&&xe===A(Y)&&(it?(nn(Ot),Ot=-1):it=!0,Ce(O,X-ee))):(xe.sortIndex=Pe,K(z,xe),F||Se||(F=!0,ve(Ye))),xe},Qe.unstable_shouldYield=ft,Qe.unstable_wrapCallback=function(xe){var de=be;return function(){var X=be;be=de;try{return xe.apply(this,arguments)}finally{be=X}}}},65297:function(Jt,Qe,K){"use strict";Jt.exports=K(70247)},67839:function(Jt,Qe,K){var A=K(49154),x=K(14614);function g(_,T,k){return x()?(Jt.exports=g=Reflect.construct.bind(),Jt.exports.__esModule=!0,Jt.exports.default=Jt.exports):(Jt.exports=g=function(Y,le,oe){var be=[null];be.push.apply(be,le);var Se=Function.bind.apply(Y,be),F=new Se;return oe&&A(F,oe.prototype),F},Jt.exports.__esModule=!0,Jt.exports.default=Jt.exports),g.apply(null,arguments)}Jt.exports=g,Jt.exports.__esModule=!0,Jt.exports.default=Jt.exports},14614:function(Jt){function Qe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(K){return!1}}Jt.exports=Qe,Jt.exports.__esModule=!0,Jt.exports.default=Jt.exports},49154:function(Jt){function Qe(K,A){return Jt.exports=Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,_){return g.__proto__=_,g},Jt.exports.__esModule=!0,Jt.exports.default=Jt.exports,Qe(K,A)}Jt.exports=Qe,Jt.exports.__esModule=!0,Jt.exports.default=Jt.exports},18846:function(Jt,Qe,K){"use strict";K.d(Qe,{Uy:function(){return Me}});function A(me){for(var Je=arguments.length,nt=Array(Je>1?Je-1:0),et=1;et<Je;et++)nt[et-1]=arguments[et];if(!1)var Ut,pn;throw Error("[Immer] minified error nr: "+me+(nt.length?" "+nt.map(function(an){return"'"+an+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function x(me){return!!me&&!!me[Ve]}function g(me){var Je;return!!me&&(function(nt){if(!nt||typeof nt!="object")return!1;var et=Object.getPrototypeOf(nt);if(et===null)return!0;var Ut=Object.hasOwnProperty.call(et,"constructor")&&et.constructor;return Ut===Object||typeof Ut=="function"&&Function.toString.call(Ut)===Gt}(me)||Array.isArray(me)||!!me[We]||!!(!((Je=me.constructor)===null||Je===void 0)&&Je[We])||be(me)||Se(me))}function _(me){return x(me)||A(23,me),me[Ve].t}function T(me,Je,nt){nt===void 0&&(nt=!1),k(me)===0?(nt?Object.keys:Yt)(me).forEach(function(et){nt&&typeof et=="symbol"||Je(et,me[et],me)}):me.forEach(function(et,Ut){return Je(Ut,et,me)})}function k(me){var Je=me[Ve];return Je?Je.i>3?Je.i-4:Je.i:Array.isArray(me)?1:be(me)?2:Se(me)?3:0}function z(me,Je){return k(me)===2?me.has(Je):Object.prototype.hasOwnProperty.call(me,Je)}function Y(me,Je){return k(me)===2?me.get(Je):me[Je]}function le(me,Je,nt){var et=k(me);et===2?me.set(Je,nt):et===3?me.add(nt):me[Je]=nt}function oe(me,Je){return me===Je?me!==0||1/me==1/Je:me!=me&&Je!=Je}function be(me){return at&&me instanceof Map}function Se(me){return Mt&&me instanceof Set}function F(me){return me.o||me.t}function it(me){if(Array.isArray(me))return Array.prototype.slice.call(me);var Je=yn(me);delete Je[Ve];for(var nt=Yt(Je),et=0;et<nt.length;et++){var Ut=nt[et],pn=Je[Ut];pn.writable===!1&&(pn.writable=!0,pn.configurable=!0),(pn.get||pn.set)&&(Je[Ut]={configurable:!0,writable:!0,enumerable:pn.enumerable,value:me[Ut]})}return Object.create(Object.getPrototypeOf(me),Je)}function st(me,Je){return Je===void 0&&(Je=!1),ht(me)||x(me)||!g(me)||(k(me)>1&&(me.set=me.add=me.clear=me.delete=nn),Object.freeze(me),Je&&T(me,function(nt,et){return st(et,!0)},!0)),me}function nn(){A(2)}function ht(me){return me==null||typeof me!="object"||Object.isFrozen(me)}function Rt(me){var Je=rn[me];return Je||A(18,me),Je}function O(me,Je){rn[me]||(rn[me]=Je)}function Ye(){return tt}function pt(me,Je){Je&&(Rt("Patches"),me.u=[],me.s=[],me.v=Je)}function zt(me){Ot(me),me.p.forEach(Ue),me.p=null}function Ot(me){me===tt&&(tt=me.l)}function Be(me){return tt={p:[],l:tt,h:me,m:!0,_:0}}function Ue(me){var Je=me[Ve];Je.i===0||Je.i===1?Je.j():Je.g=!0}function ft(me,Je){Je._=Je.p.length;var nt=Je.p[0],et=me!==void 0&&me!==nt;return Je.h.O||Rt("ES5").S(Je,me,et),et?(nt[Ve].P&&(zt(Je),A(4)),g(me)&&(me=bt(Je,me),Je.l||ye(Je,me)),Je.u&&Rt("Patches").M(nt[Ve].t,me,Je.u,Je.s)):me=bt(Je,nt,[]),zt(Je),Je.u&&Je.v(Je.u,Je.s),me!==Ct?me:void 0}function bt(me,Je,nt){if(ht(Je))return Je;var et=Je[Ve];if(!et)return T(Je,function(Vt,pe){return j(me,et,Je,Vt,pe,nt)},!0),Je;if(et.A!==me)return Je;if(!et.P)return ye(me,et.t,!0),et.t;if(!et.I){et.I=!0,et.A._--;var Ut=et.i===4||et.i===5?et.o=it(et.k):et.o,pn=Ut,an=!1;et.i===3&&(pn=new Set(Ut),Ut.clear(),an=!0),T(pn,function(Vt,pe){return j(me,et,Ut,Vt,pe,nt,an)}),ye(me,Ut,!1),nt&&me.u&&Rt("Patches").N(et,nt,me.u,me.s)}return et.o}function j(me,Je,nt,et,Ut,pn,an){if(x(Ut)){var Vt=bt(me,Ut,pn&&Je&&Je.i!==3&&!z(Je.R,et)?pn.concat(et):void 0);if(le(nt,et,Vt),!x(Vt))return;me.m=!1}else an&&nt.add(Ut);if(g(Ut)&&!ht(Ut)){if(!me.h.D&&me._<1)return;bt(me,Ut),Je&&Je.A.l||ye(me,Ut)}}function ye(me,Je,nt){nt===void 0&&(nt=!1),!me.l&&me.h.D&&me.m&&st(Je,nt)}function ge(me,Je){var nt=me[Ve];return(nt?F(nt):me)[Je]}function ve(me,Je){if(Je in me)for(var nt=Object.getPrototypeOf(me);nt;){var et=Object.getOwnPropertyDescriptor(nt,Je);if(et)return et;nt=Object.getPrototypeOf(nt)}}function Ce(me){me.P||(me.P=!0,me.l&&Ce(me.l))}function xe(me){me.o||(me.o=it(me.t))}function de(me,Je,nt){var et=be(Je)?Rt("MapSet").F(Je,nt):Se(Je)?Rt("MapSet").T(Je,nt):me.O?function(Ut,pn){var an=Array.isArray(Ut),Vt={i:an?1:0,A:pn?pn.A:Ye(),P:!1,I:!1,R:{},l:pn,t:Ut,k:null,o:null,j:null,C:!1},pe=Vt,De=sn;an&&(pe=[Vt],De=Mn);var lt=Proxy.revocable(pe,De),Tt=lt.revoke,Wt=lt.proxy;return Vt.k=Wt,Vt.j=Tt,Wt}(Je,nt):Rt("ES5").J(Je,nt);return(nt?nt.A:Ye()).p.push(et),et}function X(me){return x(me)||A(22,me),function Je(nt){if(!g(nt))return nt;var et,Ut=nt[Ve],pn=k(nt);if(Ut){if(!Ut.P&&(Ut.i<4||!Rt("ES5").K(Ut)))return Ut.t;Ut.I=!0,et=ee(nt,pn),Ut.I=!1}else et=ee(nt,pn);return T(et,function(an,Vt){Ut&&Y(Ut.t,an)===Vt||le(et,an,Je(Vt))}),pn===3?new Set(et):et}(me)}function ee(me,Je){switch(Je){case 2:return new Map(me);case 3:return Array.from(me)}return it(me)}function Pe(){function me(an,Vt){var pe=pn[an];return pe?pe.enumerable=Vt:pn[an]=pe={configurable:!0,enumerable:Vt,get:function(){var De=this[Ve];return sn.get(De,an)},set:function(De){var lt=this[Ve];sn.set(lt,an,De)}},pe}function Je(an){for(var Vt=an.length-1;Vt>=0;Vt--){var pe=an[Vt][Ve];if(!pe.P)switch(pe.i){case 5:et(pe)&&Ce(pe);break;case 4:nt(pe)&&Ce(pe)}}}function nt(an){for(var Vt=an.t,pe=an.k,De=Yt(pe),lt=De.length-1;lt>=0;lt--){var Tt=De[lt];if(Tt!==Ve){var Wt=Vt[Tt];if(Wt===void 0&&!z(Vt,Tt))return!0;var Cn=pe[Tt],Bn=Cn&&Cn[Ve];if(Bn?Bn.t!==Wt:!oe(Cn,Wt))return!0}}var Gn=!!Vt[Ve];return De.length!==Yt(Vt).length+(Gn?0:1)}function et(an){var Vt=an.k;if(Vt.length!==an.t.length)return!0;var pe=Object.getOwnPropertyDescriptor(Vt,Vt.length-1);if(pe&&!pe.get)return!0;for(var De=0;De<Vt.length;De++)if(!Vt.hasOwnProperty(De))return!0;return!1}function Ut(an){an.g&&A(3,JSON.stringify(F(an)))}var pn={};O("ES5",{J:function(an,Vt){var pe=Array.isArray(an),De=function(Tt,Wt){if(Tt){for(var Cn=Array(Wt.length),Bn=0;Bn<Wt.length;Bn++)Object.defineProperty(Cn,""+Bn,me(Bn,!0));return Cn}var Gn=yn(Wt);delete Gn[Ve];for(var vr=Yt(Gn),Mr=0;Mr<vr.length;Mr++){var xr=vr[Mr];Gn[xr]=me(xr,Tt||!!Gn[xr].enumerable)}return Object.create(Object.getPrototypeOf(Wt),Gn)}(pe,an),lt={i:pe?5:4,A:Vt?Vt.A:Ye(),P:!1,I:!1,R:{},l:Vt,t:an,k:De,o:null,g:!1,C:!1};return Object.defineProperty(De,Ve,{value:lt,writable:!0}),De},S:function(an,Vt,pe){pe?x(Vt)&&Vt[Ve].A===an&&Je(an.p):(an.u&&function De(lt){if(lt&&typeof lt=="object"){var Tt=lt[Ve];if(Tt){var Wt=Tt.t,Cn=Tt.k,Bn=Tt.R,Gn=Tt.i;if(Gn===4)T(Cn,function(Pr){Pr!==Ve&&(Wt[Pr]!==void 0||z(Wt,Pr)?Bn[Pr]||De(Cn[Pr]):(Bn[Pr]=!0,Ce(Tt)))}),T(Wt,function(Pr){Cn[Pr]!==void 0||z(Cn,Pr)||(Bn[Pr]=!1,Ce(Tt))});else if(Gn===5){if(et(Tt)&&(Ce(Tt),Bn.length=!0),Cn.length<Wt.length)for(var vr=Cn.length;vr<Wt.length;vr++)Bn[vr]=!1;else for(var Mr=Wt.length;Mr<Cn.length;Mr++)Bn[Mr]=!0;for(var xr=Math.min(Cn.length,Wt.length),mi=0;mi<xr;mi++)Cn.hasOwnProperty(mi)||(Bn[mi]=!0),Bn[mi]===void 0&&De(Cn[mi])}}}}(an.p[0]),Je(an.p))},K:function(an){return an.i===4?nt(an):et(an)}})}function Q(){function me(et){if(!g(et))return et;if(Array.isArray(et))return et.map(me);if(be(et))return new Map(Array.from(et.entries()).map(function(an){return[an[0],me(an[1])]}));if(Se(et))return new Set(Array.from(et).map(me));var Ut=Object.create(Object.getPrototypeOf(et));for(var pn in et)Ut[pn]=me(et[pn]);return z(et,We)&&(Ut[We]=et[We]),Ut}function Je(et){return x(et)?me(et):et}var nt="add";O("Patches",{$:function(et,Ut){return Ut.forEach(function(pn){for(var an=pn.path,Vt=pn.op,pe=et,De=0;De<an.length-1;De++){var lt=k(pe),Tt=an[De];typeof Tt!="string"&&typeof Tt!="number"&&(Tt=""+Tt),lt!==0&&lt!==1||Tt!=="__proto__"&&Tt!=="constructor"||A(24),typeof pe=="function"&&Tt==="prototype"&&A(24),typeof(pe=Y(pe,Tt))!="object"&&A(15,an.join("/"))}var Wt=k(pe),Cn=me(pn.value),Bn=an[an.length-1];switch(Vt){case"replace":switch(Wt){case 2:return pe.set(Bn,Cn);case 3:A(16);default:return pe[Bn]=Cn}case nt:switch(Wt){case 1:return Bn==="-"?pe.push(Cn):pe.splice(Bn,0,Cn);case 2:return pe.set(Bn,Cn);case 3:return pe.add(Cn);default:return pe[Bn]=Cn}case"remove":switch(Wt){case 1:return pe.splice(Bn,1);case 2:return pe.delete(Bn);case 3:return pe.delete(pn.value);default:return delete pe[Bn]}default:A(17,Vt)}}),et},N:function(et,Ut,pn,an){switch(et.i){case 0:case 4:case 2:return function(Vt,pe,De,lt){var Tt=Vt.t,Wt=Vt.o;T(Vt.R,function(Cn,Bn){var Gn=Y(Tt,Cn),vr=Y(Wt,Cn),Mr=Bn?z(Tt,Cn)?"replace":nt:"remove";if(Gn!==vr||Mr!=="replace"){var xr=pe.concat(Cn);De.push(Mr==="remove"?{op:Mr,path:xr}:{op:Mr,path:xr,value:vr}),lt.push(Mr===nt?{op:"remove",path:xr}:Mr==="remove"?{op:nt,path:xr,value:Je(Gn)}:{op:"replace",path:xr,value:Je(Gn)})}})}(et,Ut,pn,an);case 5:case 1:return function(Vt,pe,De,lt){var Tt=Vt.t,Wt=Vt.R,Cn=Vt.o;if(Cn.length<Tt.length){var Bn=[Cn,Tt];Tt=Bn[0],Cn=Bn[1];var Gn=[lt,De];De=Gn[0],lt=Gn[1]}for(var vr=0;vr<Tt.length;vr++)if(Wt[vr]&&Cn[vr]!==Tt[vr]){var Mr=pe.concat([vr]);De.push({op:"replace",path:Mr,value:Je(Cn[vr])}),lt.push({op:"replace",path:Mr,value:Je(Tt[vr])})}for(var xr=Tt.length;xr<Cn.length;xr++){var mi=pe.concat([xr]);De.push({op:nt,path:mi,value:Je(Cn[xr])})}Tt.length<Cn.length&&lt.push({op:"replace",path:pe.concat(["length"]),value:Tt.length})}(et,Ut,pn,an);case 3:return function(Vt,pe,De,lt){var Tt=Vt.t,Wt=Vt.o,Cn=0;Tt.forEach(function(Bn){if(!Wt.has(Bn)){var Gn=pe.concat([Cn]);De.push({op:"remove",path:Gn,value:Bn}),lt.unshift({op:nt,path:Gn,value:Bn})}Cn++}),Cn=0,Wt.forEach(function(Bn){if(!Tt.has(Bn)){var Gn=pe.concat([Cn]);De.push({op:nt,path:Gn,value:Bn}),lt.unshift({op:"remove",path:Gn,value:Bn})}Cn++})}(et,Ut,pn,an)}},M:function(et,Ut,pn,an){pn.push({op:"replace",path:[],value:Ut===Ct?void 0:Ut}),an.push({op:"replace",path:[],value:et})}})}function Le(){function me(Vt,pe){function De(){this.constructor=Vt}Ut(Vt,pe),Vt.prototype=(De.prototype=pe.prototype,new De)}function Je(Vt){Vt.o||(Vt.R=new Map,Vt.o=new Map(Vt.t))}function nt(Vt){Vt.o||(Vt.o=new Set,Vt.t.forEach(function(pe){if(g(pe)){var De=de(Vt.A.h,pe,Vt);Vt.p.set(pe,De),Vt.o.add(De)}else Vt.o.add(pe)}))}function et(Vt){Vt.g&&A(3,JSON.stringify(F(Vt)))}var Ut=function(Vt,pe){return(Ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(De,lt){De.__proto__=lt}||function(De,lt){for(var Tt in lt)lt.hasOwnProperty(Tt)&&(De[Tt]=lt[Tt])})(Vt,pe)},pn=function(){function Vt(De,lt){return this[Ve]={i:2,l:lt,A:lt?lt.A:Ye(),P:!1,I:!1,o:void 0,R:void 0,t:De,k:this,C:!1,g:!1},this}me(Vt,Map);var pe=Vt.prototype;return Object.defineProperty(pe,"size",{get:function(){return F(this[Ve]).size}}),pe.has=function(De){return F(this[Ve]).has(De)},pe.set=function(De,lt){var Tt=this[Ve];return et(Tt),F(Tt).has(De)&&F(Tt).get(De)===lt||(Je(Tt),Ce(Tt),Tt.R.set(De,!0),Tt.o.set(De,lt),Tt.R.set(De,!0)),this},pe.delete=function(De){if(!this.has(De))return!1;var lt=this[Ve];return et(lt),Je(lt),Ce(lt),lt.t.has(De)?lt.R.set(De,!1):lt.R.delete(De),lt.o.delete(De),!0},pe.clear=function(){var De=this[Ve];et(De),F(De).size&&(Je(De),Ce(De),De.R=new Map,T(De.t,function(lt){De.R.set(lt,!1)}),De.o.clear())},pe.forEach=function(De,lt){var Tt=this;F(this[Ve]).forEach(function(Wt,Cn){De.call(lt,Tt.get(Cn),Cn,Tt)})},pe.get=function(De){var lt=this[Ve];et(lt);var Tt=F(lt).get(De);if(lt.I||!g(Tt)||Tt!==lt.t.get(De))return Tt;var Wt=de(lt.A.h,Tt,lt);return Je(lt),lt.o.set(De,Wt),Wt},pe.keys=function(){return F(this[Ve]).keys()},pe.values=function(){var De,lt=this,Tt=this.keys();return(De={})[gt]=function(){return lt.values()},De.next=function(){var Wt=Tt.next();return Wt.done?Wt:{done:!1,value:lt.get(Wt.value)}},De},pe.entries=function(){var De,lt=this,Tt=this.keys();return(De={})[gt]=function(){return lt.entries()},De.next=function(){var Wt=Tt.next();if(Wt.done)return Wt;var Cn=lt.get(Wt.value);return{done:!1,value:[Wt.value,Cn]}},De},pe[gt]=function(){return this.entries()},Vt}(),an=function(){function Vt(De,lt){return this[Ve]={i:3,l:lt,A:lt?lt.A:Ye(),P:!1,I:!1,o:void 0,t:De,k:this,p:new Map,g:!1,C:!1},this}me(Vt,Set);var pe=Vt.prototype;return Object.defineProperty(pe,"size",{get:function(){return F(this[Ve]).size}}),pe.has=function(De){var lt=this[Ve];return et(lt),lt.o?!!lt.o.has(De)||!(!lt.p.has(De)||!lt.o.has(lt.p.get(De))):lt.t.has(De)},pe.add=function(De){var lt=this[Ve];return et(lt),this.has(De)||(nt(lt),Ce(lt),lt.o.add(De)),this},pe.delete=function(De){if(!this.has(De))return!1;var lt=this[Ve];return et(lt),nt(lt),Ce(lt),lt.o.delete(De)||!!lt.p.has(De)&&lt.o.delete(lt.p.get(De))},pe.clear=function(){var De=this[Ve];et(De),F(De).size&&(nt(De),Ce(De),De.o.clear())},pe.values=function(){var De=this[Ve];return et(De),nt(De),De.o.values()},pe.entries=function(){var De=this[Ve];return et(De),nt(De),De.o.entries()},pe.keys=function(){return this.values()},pe[gt]=function(){return this.values()},pe.forEach=function(De,lt){for(var Tt=this.values(),Wt=Tt.next();!Wt.done;)De.call(lt,Wt.value,Wt.value,this),Wt=Tt.next()},Vt}();O("MapSet",{F:function(Vt,pe){return new pn(Vt,pe)},T:function(Vt,pe){return new an(Vt,pe)}})}function Ee(){Pe(),Le(),Q()}function ke(me){return me}function qe(me){return me}var rt,tt,St=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",at=typeof Map!="undefined",Mt=typeof Set!="undefined",Et=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",Ct=St?Symbol.for("immer-nothing"):((rt={})["immer-nothing"]=!0,rt),We=St?Symbol.for("immer-draftable"):"__$immer_draftable",Ve=St?Symbol.for("immer-state"):"__$immer_state",gt=typeof Symbol!="undefined"&&Symbol.iterator||"@@iterator",$t={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(me){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+me},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(me){return"Cannot apply patch, path doesn't resolve: "+me},16:'Sets cannot have "replace" patches.',17:function(me){return"Unsupported patch operation: "+me},18:function(me){return"The plugin for '"+me+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+me+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(me){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+me+"'"},22:function(me){return"'current' expects a draft, got: "+me},23:function(me){return"'original' expects a draft, got: "+me},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Gt=""+Object.prototype.constructor,Yt=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(me){return Object.getOwnPropertyNames(me).concat(Object.getOwnPropertySymbols(me))}:Object.getOwnPropertyNames,yn=Object.getOwnPropertyDescriptors||function(me){var Je={};return Yt(me).forEach(function(nt){Je[nt]=Object.getOwnPropertyDescriptor(me,nt)}),Je},rn={},sn={get:function(me,Je){if(Je===Ve)return me;var nt=F(me);if(!z(nt,Je))return function(Ut,pn,an){var Vt,pe=ve(pn,an);return pe?"value"in pe?pe.value:(Vt=pe.get)===null||Vt===void 0?void 0:Vt.call(Ut.k):void 0}(me,nt,Je);var et=nt[Je];return me.I||!g(et)?et:et===ge(me.t,Je)?(xe(me),me.o[Je]=de(me.A.h,et,me)):et},has:function(me,Je){return Je in F(me)},ownKeys:function(me){return Reflect.ownKeys(F(me))},set:function(me,Je,nt){var et=ve(F(me),Je);if(et!=null&&et.set)return et.set.call(me.k,nt),!0;if(!me.P){var Ut=ge(F(me),Je),pn=Ut==null?void 0:Ut[Ve];if(pn&&pn.t===nt)return me.o[Je]=nt,me.R[Je]=!1,!0;if(oe(nt,Ut)&&(nt!==void 0||z(me.t,Je)))return!0;xe(me),Ce(me)}return me.o[Je]===nt&&(nt!==void 0||Je in me.o)||Number.isNaN(nt)&&Number.isNaN(me.o[Je])||(me.o[Je]=nt,me.R[Je]=!0),!0},deleteProperty:function(me,Je){return ge(me.t,Je)!==void 0||Je in me.t?(me.R[Je]=!1,xe(me),Ce(me)):delete me.R[Je],me.o&&delete me.o[Je],!0},getOwnPropertyDescriptor:function(me,Je){var nt=F(me),et=Reflect.getOwnPropertyDescriptor(nt,Je);return et&&{writable:!0,configurable:me.i!==1||Je!=="length",enumerable:et.enumerable,value:nt[Je]}},defineProperty:function(){A(11)},getPrototypeOf:function(me){return Object.getPrototypeOf(me.t)},setPrototypeOf:function(){A(12)}},Mn={};T(sn,function(me,Je){Mn[me]=function(){return arguments[0]=arguments[0][0],Je.apply(this,arguments)}}),Mn.deleteProperty=function(me,Je){return Mn.set.call(this,me,Je,void 0)},Mn.set=function(me,Je,nt){return sn.set.call(this,me[0],Je,nt,me[0])};var xt=function(){function me(nt){var et=this;this.O=Et,this.D=!0,this.produce=function(Ut,pn,an){if(typeof Ut=="function"&&typeof pn!="function"){var Vt=pn;pn=Ut;var pe=et;return function(Gn){var vr=this;Gn===void 0&&(Gn=Vt);for(var Mr=arguments.length,xr=Array(Mr>1?Mr-1:0),mi=1;mi<Mr;mi++)xr[mi-1]=arguments[mi];return pe.produce(Gn,function(Pr){var jr;return(jr=pn).call.apply(jr,[vr,Pr].concat(xr))})}}var De;if(typeof pn!="function"&&A(6),an!==void 0&&typeof an!="function"&&A(7),g(Ut)){var lt=Be(et),Tt=de(et,Ut,void 0),Wt=!0;try{De=pn(Tt),Wt=!1}finally{Wt?zt(lt):Ot(lt)}return typeof Promise!="undefined"&&De instanceof Promise?De.then(function(Gn){return pt(lt,an),ft(Gn,lt)},function(Gn){throw zt(lt),Gn}):(pt(lt,an),ft(De,lt))}if(!Ut||typeof Ut!="object"){if((De=pn(Ut))===void 0&&(De=Ut),De===Ct&&(De=void 0),et.D&&st(De,!0),an){var Cn=[],Bn=[];Rt("Patches").M(Ut,De,Cn,Bn),an(Cn,Bn)}return De}A(21,Ut)},this.produceWithPatches=function(Ut,pn){if(typeof Ut=="function")return function(De){for(var lt=arguments.length,Tt=Array(lt>1?lt-1:0),Wt=1;Wt<lt;Wt++)Tt[Wt-1]=arguments[Wt];return et.produceWithPatches(De,function(Cn){return Ut.apply(void 0,[Cn].concat(Tt))})};var an,Vt,pe=et.produce(Ut,pn,function(De,lt){an=De,Vt=lt});return typeof Promise!="undefined"&&pe instanceof Promise?pe.then(function(De){return[De,an,Vt]}):[pe,an,Vt]},typeof(nt==null?void 0:nt.useProxies)=="boolean"&&this.setUseProxies(nt.useProxies),typeof(nt==null?void 0:nt.autoFreeze)=="boolean"&&this.setAutoFreeze(nt.autoFreeze)}var Je=me.prototype;return Je.createDraft=function(nt){g(nt)||A(8),x(nt)&&(nt=X(nt));var et=Be(this),Ut=de(this,nt,void 0);return Ut[Ve].C=!0,Ot(et),Ut},Je.finishDraft=function(nt,et){var Ut=nt&&nt[Ve],pn=Ut.A;return pt(pn,et),ft(void 0,pn)},Je.setAutoFreeze=function(nt){this.D=nt},Je.setUseProxies=function(nt){nt&&!Et&&A(20),this.O=nt},Je.applyPatches=function(nt,et){var Ut;for(Ut=et.length-1;Ut>=0;Ut--){var pn=et[Ut];if(pn.path.length===0&&pn.op==="replace"){nt=pn.value;break}}Ut>-1&&(et=et.slice(Ut+1));var an=Rt("Patches").$;return x(nt)?an(nt,et):this.produce(nt,function(Vt){return an(Vt,et)})},me}(),he=new xt,Me=he.produce,Oe=he.produceWithPatches.bind(he),Ke=he.setAutoFreeze.bind(he),Xe=he.setUseProxies.bind(he),Nt=he.applyPatches.bind(he),Qt=he.createDraft.bind(he),Dn=he.finishDraft.bind(he),Pn=null},51741:function(Jt,Qe,K){"use strict";K.d(Qe,{Z:function(){return Je}});function A(nt,et,Ut,pn){var an=-1,Vt=nt==null?0:nt.length;for(pn&&Vt&&(Ut=nt[++an]);++an<Vt;)Ut=et(Ut,nt[an],an,nt);return Ut}var x=A;function g(nt){return function(et){return nt==null?void 0:nt[et]}}var _=g,T={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},k=_(T),z=k,Y=K(45633),le=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,oe="\\u0300-\\u036f",be="\\ufe20-\\ufe2f",Se="\\u20d0-\\u20ff",F=oe+be+Se,it="["+F+"]",st=RegExp(it,"g");function nn(nt){return nt=(0,Y.Z)(nt),nt&&nt.replace(le,z).replace(st,"")}var ht=nn,Rt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function O(nt){return nt.match(Rt)||[]}var Ye=O,pt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function zt(nt){return pt.test(nt)}var Ot=zt,Be="\\ud800-\\udfff",Ue="\\u0300-\\u036f",ft="\\ufe20-\\ufe2f",bt="\\u20d0-\\u20ff",j=Ue+ft+bt,ye="\\u2700-\\u27bf",ge="a-z\\xdf-\\xf6\\xf8-\\xff",ve="\\xac\\xb1\\xd7\\xf7",Ce="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xe="\\u2000-\\u206f",de=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",X="A-Z\\xc0-\\xd6\\xd8-\\xde",ee="\\ufe0e\\ufe0f",Pe=ve+Ce+xe+de,Q="['\u2019]",Le="["+Pe+"]",Ee="["+j+"]",ke="\\d+",qe="["+ye+"]",rt="["+ge+"]",tt="[^"+Be+Pe+ke+ye+ge+X+"]",St="\\ud83c[\\udffb-\\udfff]",at="(?:"+Ee+"|"+St+")",Mt="[^"+Be+"]",Et="(?:\\ud83c[\\udde6-\\uddff]){2}",Ct="[\\ud800-\\udbff][\\udc00-\\udfff]",We="["+X+"]",Ve="\\u200d",gt="(?:"+rt+"|"+tt+")",$t="(?:"+We+"|"+tt+")",Gt="(?:"+Q+"(?:d|ll|m|re|s|t|ve))?",Yt="(?:"+Q+"(?:D|LL|M|RE|S|T|VE))?",yn=at+"?",rn="["+ee+"]?",sn="(?:"+Ve+"(?:"+[Mt,Et,Ct].join("|")+")"+rn+yn+")*",Mn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",he=rn+yn+sn,Me="(?:"+[qe,Et,Ct].join("|")+")"+he,Oe=RegExp([We+"?"+rt+"+"+Gt+"(?="+[Le,We,"$"].join("|")+")",$t+"+"+Yt+"(?="+[Le,We+gt,"$"].join("|")+")",We+"?"+gt+"+"+Gt,We+"+"+Yt,xt,Mn,ke,Me].join("|"),"g");function Ke(nt){return nt.match(Oe)||[]}var Xe=Ke;function Nt(nt,et,Ut){return nt=(0,Y.Z)(nt),et=Ut?void 0:et,et===void 0?Ot(nt)?Xe(nt):Ye(nt):nt.match(et)||[]}var Qt=Nt,Dn="['\u2019]",Pn=RegExp(Dn,"g");function me(nt){return function(et){return x(Qt(ht(et).replace(Pn,"")),nt,"")}}var Je=me},15861:function(Jt,Qe,K){"use strict";K.d(Qe,{Z:function(){return We}});var A=K(45633);function x(Ve,gt,$t){var Gt=-1,Yt=Ve.length;gt<0&&(gt=-gt>Yt?0:Yt+gt),$t=$t>Yt?Yt:$t,$t<0&&($t+=Yt),Yt=gt>$t?0:$t-gt>>>0,gt>>>=0;for(var yn=Array(Yt);++Gt<Yt;)yn[Gt]=Ve[Gt+gt];return yn}var g=x;function _(Ve,gt,$t){var Gt=Ve.length;return $t=$t===void 0?Gt:$t,!gt&&$t>=Gt?Ve:g(Ve,gt,$t)}var T=_,k="\\ud800-\\udfff",z="\\u0300-\\u036f",Y="\\ufe20-\\ufe2f",le="\\u20d0-\\u20ff",oe=z+Y+le,be="\\ufe0e\\ufe0f",Se="\\u200d",F=RegExp("["+Se+k+oe+be+"]");function it(Ve){return F.test(Ve)}var st=it;function nn(Ve){return Ve.split("")}var ht=nn,Rt="\\ud800-\\udfff",O="\\u0300-\\u036f",Ye="\\ufe20-\\ufe2f",pt="\\u20d0-\\u20ff",zt=O+Ye+pt,Ot="\\ufe0e\\ufe0f",Be="["+Rt+"]",Ue="["+zt+"]",ft="\\ud83c[\\udffb-\\udfff]",bt="(?:"+Ue+"|"+ft+")",j="[^"+Rt+"]",ye="(?:\\ud83c[\\udde6-\\uddff]){2}",ge="[\\ud800-\\udbff][\\udc00-\\udfff]",ve="\\u200d",Ce=bt+"?",xe="["+Ot+"]?",de="(?:"+ve+"(?:"+[j,ye,ge].join("|")+")"+xe+Ce+")*",X=xe+Ce+de,ee="(?:"+[j+Ue+"?",Ue,ye,ge,Be].join("|")+")",Pe=RegExp(ft+"(?="+ft+")|"+ee+X,"g");function Q(Ve){return Ve.match(Pe)||[]}var Le=Q;function Ee(Ve){return st(Ve)?Le(Ve):ht(Ve)}var ke=Ee;function qe(Ve){return function(gt){gt=(0,A.Z)(gt);var $t=st(gt)?ke(gt):void 0,Gt=$t?$t[0]:gt.charAt(0),Yt=$t?T($t,1).join(""):gt.slice(1);return Gt[Ve]()+Yt}}var rt=qe,tt=rt("toUpperCase"),St=tt;function at(Ve){return St((0,A.Z)(Ve).toLowerCase())}var Mt=at,Et=K(51741),Ct=(0,Et.Z)(function(Ve,gt,$t){return gt=gt.toLowerCase(),Ve+($t?Mt(gt):gt)}),We=Ct},23407:function(Jt,Qe,K){"use strict";var A=K(51741),x=(0,A.Z)(function(g,_,T){return g+(T?"-":"")+_.toLowerCase()});Qe.Z=x},45633:function(Jt,Qe,K){"use strict";K.d(Qe,{Z:function(){return nn}});var A=K(66711);function x(ht,Rt){for(var O=-1,Ye=ht==null?0:ht.length,pt=Array(Ye);++O<Ye;)pt[O]=Rt(ht[O],O,ht);return pt}var g=x,_=K(56052),T=K(33918),k=K(13795),z="[object Symbol]";function Y(ht){return typeof ht=="symbol"||(0,k.Z)(ht)&&(0,T.Z)(ht)==z}var le=Y,oe=1/0,be=A.Z?A.Z.prototype:void 0,Se=be?be.toString:void 0;function F(ht){if(typeof ht=="string")return ht;if((0,_.Z)(ht))return g(ht,F)+"";if(le(ht))return Se?Se.call(ht):"";var Rt=ht+"";return Rt=="0"&&1/ht==-oe?"-0":Rt}var it=F;function st(ht){return ht==null?"":it(ht)}var nn=st},26553:function(Jt,Qe,K){"use strict";K.r(Qe),K.d(Qe,{ACESFilmicToneMapping:function(){return Gt},AddEquation:function(){return Ot},AddOperation:function(){return Ct},AdditiveAnimationBlendMode:function(){return Yo},AdditiveBlending:function(){return O},AlphaFormat:function(){return vr},AlwaysDepth:function(){return Ee},AlwaysStencilFunc:function(){return _t},AmbientLight:function(){return z9},AmbientLightProbe:function(){return Hh},AnimationClip:function(){return xu},AnimationLoader:function(){return bh},AnimationMixer:function(){return t3},AnimationObjectGroup:function(){return Jh},AnimationUtils:function(){return Ki},ArcCurve:function(){return J2},ArrayCamera:function(){return w2},ArrowHelper:function(){return x3},Audio:function(){return G9},AudioAnalyser:function(){return Uh},AudioContext:function(){return Vf},AudioListener:function(){return Nh},AudioLoader:function(){return Dh},AxesHelper:function(){return w3},BackSide:function(){return F},BasicDepthPacking:function(){return Fs},BasicShadowMap:function(){return Y},Bone:function(){return pf},BooleanKeyframeTrack:function(){return wl},Box2:function(){return a3},Box3:function(){return Qi},Box3Helper:function(){return _3},BoxBufferGeometry:function(){return us},BoxGeometry:function(){return us},BoxHelper:function(){return C3},BufferAttribute:function(){return Oi},BufferGeometry:function(){return Dr},BufferGeometryLoader:function(){return N9},ByteType:function(){return an},Cache:function(){return Ml},Camera:function(){return S1},CameraHelper:function(){return v3},CanvasTexture:function(){return G5},CapsuleBufferGeometry:function(){return mc},CapsuleGeometry:function(){return mc},CatmullRomCurve3:function(){return Q2},CineonToneMapping:function(){return $t},CircleBufferGeometry:function(){return gc},CircleGeometry:function(){return gc},ClampToEdgeWrapping:function(){return Oe},Clock:function(){return j9},Color:function(){return rr},ColorKeyframeTrack:function(){return Of},ColorManagement:function(){return si},CompressedTexture:function(){return q2},CompressedTextureLoader:function(){return Mh},ConeBufferGeometry:function(){return vc},ConeGeometry:function(){return vc},CubeCamera:function(){return el},CubeReflectionMapping:function(){return rn},CubeRefractionMapping:function(){return sn},CubeTexture:function(){return va},CubeTextureLoader:function(){return Sh},CubeUVReflectionMapping:function(){return he},CubicBezierCurve:function(){return wf},CubicBezierCurve3:function(){return t9},CubicInterpolant:function(){return b9},CullFaceBack:function(){return T},CullFaceFront:function(){return k},CullFaceFrontBack:function(){return z},CullFaceNone:function(){return _},Curve:function(){return wa},CurvePath:function(){return r9},CustomBlending:function(){return zt},CustomToneMapping:function(){return Yt},CylinderBufferGeometry:function(){return z1},CylinderGeometry:function(){return z1},Cylindrical:function(){return s3},Data3DTexture:function(){return Ti},DataArrayTexture:function(){return Qs},DataTexture:function(){return hc},DataTexture2DArray:function(){return N3},DataTexture3D:function(){return F3},DataTextureLoader:function(){return Eh},DataUtils:function(){return O3},DecrementStencilOp:function(){return B},DecrementWrapStencilOp:function(){return Re},DefaultLoadingManager:function(){return E9},DepthFormat:function(){return jr},DepthStencilFormat:function(){return I},DepthTexture:function(){return b2},DirectionalLight:function(){return D9},DirectionalLightHelper:function(){return g3},DiscreteInterpolant:function(){return M9},DodecahedronBufferGeometry:function(){return Cc},DodecahedronGeometry:function(){return Cc},DoubleSide:function(){return it},DstAlphaFactor:function(){return de},DstColorFactor:function(){return ee},DynamicCopyUsage:function(){return Cr},DynamicDrawUsage:function(){return On},DynamicReadUsage:function(){return $n},EdgesGeometry:function(){return i9},EllipseCurve:function(){return c0},EqualDepth:function(){return rt},EqualStencilFunc:function(){return W},EquirectangularReflectionMapping:function(){return Mn},EquirectangularRefractionMapping:function(){return xt},Euler:function(){return Oa},EventDispatcher:function(){return Vr},ExtrudeBufferGeometry:function(){return yc},ExtrudeGeometry:function(){return yc},FileLoader:function(){return d1},FlatShading:function(){return st},Float16BufferAttribute:function(){return zc},Float32BufferAttribute:function(){return cr},Float64BufferAttribute:function(){return Hc},FloatType:function(){return Tt},Fog:function(){return Ju},FogExp2:function(){return qu},Font:function(){return H3},FontLoader:function(){return z3},FramebufferTexture:function(){return W5},FrontSide:function(){return Se},Frustum:function(){return Fa},GLBufferAttribute:function(){return r3},GLSL1:function(){return Or},GLSL3:function(){return Fr},GreaterDepth:function(){return St},GreaterEqualDepth:function(){return tt},GreaterEqualStencilFunc:function(){return $e},GreaterStencilFunc:function(){return D},GridHelper:function(){return p3},Group:function(){return lc},HalfFloatType:function(){return Wt},HemisphereLight:function(){return L9},HemisphereLightHelper:function(){return h3},HemisphereLightProbe:function(){return zh},IcosahedronBufferGeometry:function(){return xc},IcosahedronGeometry:function(){return xc},ImageBitmapLoader:function(){return Ih},ImageLoader:function(){return wu},ImageUtils:function(){return $s},ImmediateRenderObject:function(){return V3},IncrementStencilOp:function(){return Ai},IncrementWrapStencilOp:function(){return J},InstancedBufferAttribute:function(){return pc},InstancedBufferGeometry:function(){return B9},InstancedInterleavedBuffer:function(){return n3},InstancedMesh:function(){return k2},Int16BufferAttribute:function(){return Au},Int32BufferAttribute:function(){return Go},Int8BufferAttribute:function(){return w1},IntType:function(){return De},InterleavedBuffer:function(){return Qu},InterleavedBufferAttribute:function(){return vl},Interpolant:function(){return Cu},InterpolateDiscrete:function(){return ii},InterpolateLinear:function(){return _i},InterpolateSmooth:function(){return Er},InvertStencilOp:function(){return ot},KeepStencilOp:function(){return ms},KeyframeTrack:function(){return ba},LOD:function(){return O2},LatheBufferGeometry:function(){return Cl},LatheGeometry:function(){return Cl},Layers:function(){return _1},LessDepth:function(){return ke},LessEqualDepth:function(){return qe},LessEqualStencilFunc:function(){return we},LessStencilFunc:function(){return Lt},Light:function(){return V1},LightProbe:function(){return C0},Line:function(){return D1},Line3:function(){return l3},LineBasicMaterial:function(){return Ls},LineCurve:function(){return f0},LineCurve3:function(){return n9},LineDashedMaterial:function(){return w9},LineLoop:function(){return G2},LineSegments:function(){return Wa},LinearEncoding:function(){return Fo},LinearFilter:function(){return me},LinearInterpolant:function(){return Pf},LinearMipMapLinearFilter:function(){return Ut},LinearMipMapNearestFilter:function(){return nt},LinearMipmapLinearFilter:function(){return et},LinearMipmapNearestFilter:function(){return Je},LinearSRGBColorSpace:function(){return Ro},LinearToneMapping:function(){return Ve},Loader:function(){return Ks},LoaderUtils:function(){return Hf},LoadingManager:function(){return If},LoopOnce:function(){return wi},LoopPingPong:function(){return ri},LoopRepeat:function(){return ni},LuminanceAlphaFormat:function(){return Pr},LuminanceFormat:function(){return mi},MOUSE:function(){return x},Material:function(){return io},MaterialLoader:function(){return _0},MathUtils:function(){return Ao},Matrix3:function(){return Fi},Matrix4:function(){return kr},MaxEquation:function(){return bt},Mesh:function(){return Mo},MeshBasicMaterial:function(){return ws},MeshDepthMaterial:function(){return cf},MeshDistanceMaterial:function(){return uf},MeshLambertMaterial:function(){return y9},MeshMatcapMaterial:function(){return x9},MeshNormalMaterial:function(){return _9},MeshPhongMaterial:function(){return v9},MeshPhysicalMaterial:function(){return g9},MeshStandardMaterial:function(){return Tf},MeshToonMaterial:function(){return C9},MinEquation:function(){return ft},MirroredRepeatWrapping:function(){return Ke},MixOperation:function(){return Et},MultiplyBlending:function(){return pt},MultiplyOperation:function(){return Mt},NearestFilter:function(){return Xe},NearestMipMapLinearFilter:function(){return Pn},NearestMipMapNearestFilter:function(){return Qt},NearestMipmapLinearFilter:function(){return Dn},NearestMipmapNearestFilter:function(){return Nt},NeverDepth:function(){return Le},NeverStencilFunc:function(){return It},NoBlending:function(){return ht},NoColorSpace:function(){return Yr},NoToneMapping:function(){return We},NormalAnimationBlendMode:function(){return di},NormalBlending:function(){return Rt},NotEqualDepth:function(){return at},NotEqualStencilFunc:function(){return re},NumberKeyframeTrack:function(){return _u},Object3D:function(){return Ei},ObjectLoader:function(){return Ph},ObjectSpaceNormalMap:function(){return qo},OctahedronBufferGeometry:function(){return yl},OctahedronGeometry:function(){return yl},OneFactor:function(){return ye},OneMinusDstAlphaFactor:function(){return X},OneMinusDstColorFactor:function(){return Pe},OneMinusSrcAlphaFactor:function(){return xe},OneMinusSrcColorFactor:function(){return ve},OrthographicCamera:function(){return iu},PCFShadowMap:function(){return le},PCFSoftShadowMap:function(){return oe},PMREMGenerator:function(){return Zu},ParametricGeometry:function(){return I3},Path:function(){return pu},PerspectiveCamera:function(){return Co},Plane:function(){return oa},PlaneBufferGeometry:function(){return Ys},PlaneGeometry:function(){return Ys},PlaneHelper:function(){return y3},PointLight:function(){return I9},PointLightHelper:function(){return f3},Points:function(){return Y2},PointsMaterial:function(){return gf},PolarGridHelper:function(){return m3},PolyhedronBufferGeometry:function(){return Ga},PolyhedronGeometry:function(){return Ga},PositionalAudio:function(){return kh},PropertyBinding:function(){return Li},PropertyMixer:function(){return Y9},QuadraticBezierCurve:function(){return bf},QuadraticBezierCurve3:function(){return Mf},Quaternion:function(){return ci},QuaternionKeyframeTrack:function(){return Rc},QuaternionLinearInterpolant:function(){return S9},REVISION:function(){return A},RGBADepthPacking:function(){return Do},RGBAFormat:function(){return xr},RGBAIntegerFormat:function(){return L},RGBA_ASTC_10x10_Format:function(){return Vn},RGBA_ASTC_10x5_Format:function(){return zn},RGBA_ASTC_10x6_Format:function(){return Jn},RGBA_ASTC_10x8_Format:function(){return fn},RGBA_ASTC_12x10_Format:function(){return lr},RGBA_ASTC_12x12_Format:function(){return yr},RGBA_ASTC_4x4_Format:function(){return dt},RGBA_ASTC_5x4_Format:function(){return mt},RGBA_ASTC_5x5_Format:function(){return ut},RGBA_ASTC_6x5_Format:function(){return Zt},RGBA_ASTC_6x6_Format:function(){return Sn},RGBA_ASTC_8x5_Format:function(){return xn},RGBA_ASTC_8x6_Format:function(){return Fn},RGBA_ASTC_8x8_Format:function(){return An},RGBA_BPTC_Format:function(){return Hr},RGBA_ETC2_EAC_Format:function(){return Dt},RGBA_PVRTC_2BPPV1_Format:function(){return Ge},RGBA_PVRTC_4BPPV1_Format:function(){return Ne},RGBA_S3TC_DXT1_Format:function(){return se},RGBA_S3TC_DXT3_Format:function(){return N},RGBA_S3TC_DXT5_Format:function(){return Z},RGBFormat:function(){return Mr},RGB_ETC1_Format:function(){return ct},RGB_ETC2_Format:function(){return Ft},RGB_PVRTC_2BPPV1_Format:function(){return $},RGB_PVRTC_4BPPV1_Format:function(){return P},RGB_S3TC_DXT1_Format:function(){return V},RGFormat:function(){return C},RGIntegerFormat:function(){return w},RawShaderMaterial:function(){return m9},Ray:function(){return t1},Raycaster:function(){return i3},RectAreaLight:function(){return H9},RedFormat:function(){return U},RedIntegerFormat:function(){return m},ReinhardToneMapping:function(){return gt},RepeatWrapping:function(){return Me},ReplaceStencilOp:function(){return Jo},ReverseSubtractEquation:function(){return Ue},RingBufferGeometry:function(){return wc},RingGeometry:function(){return wc},SRGBColorSpace:function(){return Ji},Scene:function(){return E2},ShaderChunk:function(){return ui},ShaderLib:function(){return aa},ShaderMaterial:function(){return Bs},ShadowMaterial:function(){return p9},Shape:function(){return _l},ShapeBufferGeometry:function(){return bc},ShapeGeometry:function(){return bc},ShapePath:function(){return b3},ShapeUtils:function(){return Xa},ShortType:function(){return Vt},Skeleton:function(){return i0},SkeletonHelper:function(){return u3},SkinnedMesh:function(){return V2},SmoothShading:function(){return nn},Source:function(){return _s},Sphere:function(){return jo},SphereBufferGeometry:function(){return xl},SphereGeometry:function(){return xl},Spherical:function(){return o3},SphericalHarmonics3:function(){return V9},SplineCurve:function(){return Sf},SpotLight:function(){return P9},SpotLightHelper:function(){return c3},Sprite:function(){return T2},SpriteMaterial:function(){return df},SrcAlphaFactor:function(){return Ce},SrcAlphaSaturateFactor:function(){return Q},SrcColorFactor:function(){return ge},StaticCopyUsage:function(){return nr},StaticDrawUsage:function(){return mn},StaticReadUsage:function(){return _n},StereoCamera:function(){return Vh},StreamCopyUsage:function(){return Xr},StreamDrawUsage:function(){return Un},StreamReadUsage:function(){return hr},StringKeyframeTrack:function(){return bl},SubtractEquation:function(){return Be},SubtractiveBlending:function(){return Ye},TOUCH:function(){return g},TangentSpaceNormalMap:function(){return Wi},TetrahedronBufferGeometry:function(){return Mc},TetrahedronGeometry:function(){return Mc},TextGeometry:function(){return D3},Texture:function(){return Gi},TextureLoader:function(){return Lh},TorusBufferGeometry:function(){return Sc},TorusGeometry:function(){return Sc},TorusKnotBufferGeometry:function(){return Ec},TorusKnotGeometry:function(){return Ec},Triangle:function(){return eo},TriangleFanDrawMode:function(){return Ns},TriangleStripDrawMode:function(){return Lo},TrianglesDrawMode:function(){return Ko},TubeBufferGeometry:function(){return Lc},TubeGeometry:function(){return Lc},UVMapping:function(){return yn},Uint16BufferAttribute:function(){return Wo},Uint32BufferAttribute:function(){return X1},Uint8BufferAttribute:function(){return Bo},Uint8ClampedBufferAttribute:function(){return Ru},Uniform:function(){return Ff},UniformsLib:function(){return qn},UniformsUtils:function(){return Fl},UnsignedByteType:function(){return pn},UnsignedInt248Type:function(){return Gn},UnsignedIntType:function(){return lt},UnsignedShort4444Type:function(){return Cn},UnsignedShort5551Type:function(){return Bn},UnsignedShortType:function(){return pe},VSMShadowMap:function(){return be},Vector2:function(){return dn},Vector3:function(){return Ae},Vector4:function(){return vi},VectorKeyframeTrack:function(){return yu},VideoTexture:function(){return Z5},WebGL1Renderer:function(){return S2},WebGL3DRenderTarget:function(){return mo},WebGLArrayRenderTarget:function(){return $i},WebGLCubeRenderTarget:function(){return Fc},WebGLMultipleRenderTargets:function(){return $o},WebGLMultisampleRenderTarget:function(){return B3},WebGLRenderTarget:function(){return po},WebGLRenderer:function(){return M2},WebGLUtils:function(){return x2},WireframeGeometry:function(){return f9},WrapAroundEnding:function(){return lo},ZeroCurvatureEnding:function(){return Tr},ZeroFactor:function(){return j},ZeroSlopeEnding:function(){return yi},ZeroStencilOp:function(){return ps},_SRGBAFormat:function(){return Lr},sRGBEncoding:function(){return bi}});const A="142",x={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},g={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},_=0,T=1,k=2,z=3,Y=0,le=1,oe=2,be=3,Se=0,F=1,it=2,st=1,nn=2,ht=0,Rt=1,O=2,Ye=3,pt=4,zt=5,Ot=100,Be=101,Ue=102,ft=103,bt=104,j=200,ye=201,ge=202,ve=203,Ce=204,xe=205,de=206,X=207,ee=208,Pe=209,Q=210,Le=0,Ee=1,ke=2,qe=3,rt=4,tt=5,St=6,at=7,Mt=0,Et=1,Ct=2,We=0,Ve=1,gt=2,$t=3,Gt=4,Yt=5,yn=300,rn=301,sn=302,Mn=303,xt=304,he=306,Me=1e3,Oe=1001,Ke=1002,Xe=1003,Nt=1004,Qt=1004,Dn=1005,Pn=1005,me=1006,Je=1007,nt=1007,et=1008,Ut=1008,pn=1009,an=1010,Vt=1011,pe=1012,De=1013,lt=1014,Tt=1015,Wt=1016,Cn=1017,Bn=1018,Gn=1020,vr=1021,Mr=1022,xr=1023,mi=1024,Pr=1025,jr=1026,I=1027,U=1028,m=1029,C=1030,w=1031,L=1033,V=33776,se=33777,N=33778,Z=33779,P=35840,$=35841,Ne=35842,Ge=35843,ct=36196,Ft=37492,Dt=37496,dt=37808,mt=37809,ut=37810,Zt=37811,Sn=37812,xn=37813,Fn=37814,An=37815,zn=37816,Jn=37817,fn=37818,Vn=37819,lr=37820,yr=37821,Hr=36492,wi=2200,ni=2201,ri=2202,ii=2300,_i=2301,Er=2302,Tr=2400,yi=2401,lo=2402,di=2500,Yo=2501,Ko=0,Lo=1,Ns=2,Fo=3e3,bi=3001,Fs=3200,Do=3201,Wi=0,qo=1,Yr="",Ji="srgb",Ro="srgb-linear",ps=0,ms=7680,Jo=7681,Ai=7682,B=7683,J=34055,Re=34056,ot=5386,It=512,Lt=513,W=514,we=515,D=516,re=517,$e=518,_t=519,mn=35044,On=35048,Un=35040,_n=35045,$n=35049,hr=35041,nr=35046,Cr=35050,Xr=35042,Or="100",Fr="300 es",Lr=1035;class Vr{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let o=0,a=r.length;o<a;o++)r[o].call(this,e);e.target=null}}}const Ir=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Ii=1234567;const gi=Math.PI/180,Hi=180/Math.PI;function xi(){const c=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Ir[c&255]+Ir[c>>8&255]+Ir[c>>16&255]+Ir[c>>24&255]+"-"+Ir[e&255]+Ir[e>>8&255]+"-"+Ir[e>>16&15|64]+Ir[e>>24&255]+"-"+Ir[t&63|128]+Ir[t>>8&255]+"-"+Ir[t>>16&255]+Ir[t>>24&255]+Ir[n&255]+Ir[n>>8&255]+Ir[n>>16&255]+Ir[n>>24&255]).toLowerCase()}function oi(c,e,t){return Math.max(e,Math.min(t,c))}function la(c,e){return(c%e+e)%e}function h1(c,e,t,n,r){return n+(c-e)*(r-n)/(t-e)}function co(c,e,t){return c!==e?(t-c)/(e-c):0}function ko(c,e,t){return(1-t)*c+t*e}function ks(c,e,t,n){return ko(c,e,1-Math.exp(-t*n))}function Qa(c,e=1){return e-Math.abs(la(c,e*2)-e)}function Ma(c,e,t){return c<=e?0:c>=t?1:(c=(c-e)/(t-e),c*c*(3-2*c))}function Us(c,e,t){return c<=e?0:c>=t?1:(c=(c-e)/(t-e),c*c*c*(c*(c*6-15)+10))}function qs(c,e){return c+Math.floor(Math.random()*(e-c+1))}function ca(c,e){return c+Math.random()*(e-c)}function Sa(c){return c*(.5-Math.random())}function Qo(c){c!==void 0&&(Ii=c);let e=Ii+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function p1(c){return c*gi}function m1(c){return c*Hi}function ua(c){return(c&c-1)===0&&c!==0}function uo(c){return Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))}function ss(c){return Math.pow(2,Math.floor(Math.log(c)/Math.LN2))}function gs(c,e,t,n,r){const o=Math.cos,a=Math.sin,l=o(t/2),f=a(t/2),d=o((e+n)/2),p=a((e+n)/2),v=o((e-n)/2),y=a((e-n)/2),b=o((n-e)/2),R=a((n-e)/2);switch(r){case"XYX":c.set(l*p,f*v,f*y,l*d);break;case"YZY":c.set(f*y,l*p,f*v,l*d);break;case"ZXZ":c.set(f*v,f*y,l*p,l*d);break;case"XZX":c.set(l*p,f*R,f*b,l*d);break;case"YXY":c.set(f*b,l*p,f*R,l*d);break;case"ZYZ":c.set(f*R,f*b,l*p,l*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ea(c,e){switch(e.constructor){case Float32Array:return c;case Uint16Array:return c/65535;case Uint8Array:return c/255;case Int16Array:return Math.max(c/32767,-1);case Int8Array:return Math.max(c/127,-1);default:throw new Error("Invalid component type.")}}function ro(c,e){switch(e.constructor){case Float32Array:return c;case Uint16Array:return Math.round(c*65535);case Uint8Array:return Math.round(c*255);case Int16Array:return Math.round(c*32767);case Int8Array:return Math.round(c*127);default:throw new Error("Invalid component type.")}}var Ao=Object.freeze({__proto__:null,DEG2RAD:gi,RAD2DEG:Hi,generateUUID:xi,clamp:oi,euclideanModulo:la,mapLinear:h1,inverseLerp:co,lerp:ko,damp:ks,pingpong:Qa,smoothstep:Ma,smootherstep:Us,randInt:qs,randFloat:ca,randFloatSpread:Sa,seededRandom:Qo,degToRad:p1,radToDeg:m1,isPowerOfTwo:ua,ceilPowerOfTwo:uo,floorPowerOfTwo:ss,setQuaternionFromProperEuler:gs,normalize:ro,denormalize:Ea});class dn{constructor(e=0,t=0){dn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),o=this.x-e.x,a=this.y-e.y;return this.x=o*n-a*r+e.x,this.y=o*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Fi{constructor(){Fi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,r,o,a,l,f,d){const p=this.elements;return p[0]=e,p[1]=r,p[2]=l,p[3]=t,p[4]=o,p[5]=f,p[6]=n,p[7]=a,p[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,a=n[0],l=n[3],f=n[6],d=n[1],p=n[4],v=n[7],y=n[2],b=n[5],R=n[8],S=r[0],E=r[3],G=r[6],q=r[1],_e=r[4],ie=r[7],Ie=r[2],Fe=r[5],vt=r[8];return o[0]=a*S+l*q+f*Ie,o[3]=a*E+l*_e+f*Fe,o[6]=a*G+l*ie+f*vt,o[1]=d*S+p*q+v*Ie,o[4]=d*E+p*_e+v*Fe,o[7]=d*G+p*ie+v*vt,o[2]=y*S+b*q+R*Ie,o[5]=y*E+b*_e+R*Fe,o[8]=y*G+b*ie+R*vt,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],a=e[4],l=e[5],f=e[6],d=e[7],p=e[8];return t*a*p-t*l*d-n*o*p+n*l*f+r*o*d-r*a*f}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],a=e[4],l=e[5],f=e[6],d=e[7],p=e[8],v=p*a-l*d,y=l*f-p*o,b=d*o-a*f,R=t*v+n*y+r*b;if(R===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/R;return e[0]=v*S,e[1]=(r*d-p*n)*S,e[2]=(l*n-r*a)*S,e[3]=y*S,e[4]=(p*t-r*f)*S,e[5]=(r*o-l*t)*S,e[6]=b*S,e[7]=(n*f-d*t)*S,e[8]=(a*t-n*o)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,o,a,l){const f=Math.cos(o),d=Math.sin(o);return this.set(n*f,n*d,-n*(f*a+d*l)+a+e,-r*d,r*f,-r*(-d*a+f*l)+l+t,0,0,1),this}scale(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),r=this.elements,o=r[0],a=r[3],l=r[6],f=r[1],d=r[4],p=r[7];return r[0]=t*o+n*f,r[3]=t*a+n*d,r[6]=t*l+n*p,r[1]=-n*o+t*f,r[4]=-n*a+t*d,r[7]=-n*l+t*p,this}translate(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function as(c){for(let e=c.length-1;e>=0;--e)if(c[e]>65535)return!0;return!1}const Ts={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function zo(c,e){return new Ts[c](e)}function vs(c){return document.createElementNS("http://www.w3.org/1999/xhtml",c)}function es(c){return c<.04045?c*.0773993808:Math.pow(c*.9478672986+.0521327014,2.4)}function fo(c){return c<.0031308?c*12.92:1.055*Math.pow(c,.41666)-.055}const wo={[Ji]:{[Ro]:es},[Ro]:{[Ji]:fo}},si={legacyMode:!0,get workingColorSpace(){return Ro},set workingColorSpace(c){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(c,e,t){if(this.legacyMode||e===t||!e||!t)return c;if(wo[e]&&wo[e][t]!==void 0){const n=wo[e][t];return c.r=n(c.r),c.g=n(c.g),c.b=n(c.b),c}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(c,e){return this.convert(c,this.workingColorSpace,e)},toWorkingColorSpace:function(c,e){return this.convert(c,e,this.workingColorSpace)}},fa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},li={r:0,g:0,b:0},ho={h:0,s:0,l:0},Ps={h:0,s:0,l:0};function da(c,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?c+(e-c)*6*t:t<1/2?e:t<2/3?c+(e-c)*6*(2/3-t):c}function Uo(c,e){return e.r=c.r,e.g=c.g,e.b=c.b,e}class rr{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ji){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,si.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=Ro){return this.r=e,this.g=t,this.b=n,si.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=Ro){if(e=la(e,1),t=oi(t,0,1),n=oi(n,0,1),t===0)this.r=this.g=this.b=n;else{const o=n<=.5?n*(1+t):n+t-n*t,a=2*n-o;this.r=da(a,o,e+1/3),this.g=da(a,o,e),this.b=da(a,o,e-1/3)}return si.toWorkingColorSpace(this,r),this}setStyle(e,t=Ji){function n(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let o;const a=r[1],l=r[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(o[1],10))/255,this.g=Math.min(255,parseInt(o[2],10))/255,this.b=Math.min(255,parseInt(o[3],10))/255,si.toWorkingColorSpace(this,t),n(o[4]),this;if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(o[1],10))/100,this.g=Math.min(100,parseInt(o[2],10))/100,this.b=Math.min(100,parseInt(o[3],10))/100,si.toWorkingColorSpace(this,t),n(o[4]),this;break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l)){const f=parseFloat(o[1])/360,d=parseInt(o[2],10)/100,p=parseInt(o[3],10)/100;return n(o[4]),this.setHSL(f,d,p,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=r[1],a=o.length;if(a===3)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,si.toWorkingColorSpace(this,t),this;if(a===6)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,si.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Ji){const n=fa[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=es(e.r),this.g=es(e.g),this.b=es(e.b),this}copyLinearToSRGB(e){return this.r=fo(e.r),this.g=fo(e.g),this.b=fo(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ji){return si.fromWorkingColorSpace(Uo(this,li),e),oi(li.r*255,0,255)<<16^oi(li.g*255,0,255)<<8^oi(li.b*255,0,255)<<0}getHexString(e=Ji){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ro){si.fromWorkingColorSpace(Uo(this,li),t);const n=li.r,r=li.g,o=li.b,a=Math.max(n,r,o),l=Math.min(n,r,o);let f,d;const p=(l+a)/2;if(l===a)f=0,d=0;else{const v=a-l;switch(d=p<=.5?v/(a+l):v/(2-a-l),a){case n:f=(r-o)/v+(r<o?6:0);break;case r:f=(o-n)/v+2;break;case o:f=(n-r)/v+4;break}f/=6}return e.h=f,e.s=d,e.l=p,e}getRGB(e,t=Ro){return si.fromWorkingColorSpace(Uo(this,li),t),e.r=li.r,e.g=li.g,e.b=li.b,e}getStyle(e=Ji){return si.fromWorkingColorSpace(Uo(this,li),e),e!==Ji?`color(${e} ${li.r} ${li.g} ${li.b})`:`rgb(${li.r*255|0},${li.g*255|0},${li.b*255|0})`}offsetHSL(e,t,n){return this.getHSL(ho),ho.h+=e,ho.s+=t,ho.l+=n,this.setHSL(ho.h,ho.s,ho.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(ho),e.getHSL(Ps);const n=ko(ho.h,Ps.h,t),r=ko(ho.s,Ps.s,t),o=ko(ho.l,Ps.l,t);return this.setHSL(n,r,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}rr.NAMES=fa;let Cs;class $s{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Cs===void 0&&(Cs=vs("canvas")),Cs.width=e.width,Cs.height=e.height;const n=Cs.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Cs}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const t=vs("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),o=r.data;for(let a=0;a<o.length;a++)o[a]=es(o[a]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(es(t[n]/255)*255):t[n]=es(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class _s{constructor(e=null){this.isSource=!0,this.uuid=xi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let o;if(Array.isArray(r)){o=[];for(let a=0,l=r.length;a<l;a++)r[a].isDataTexture?o.push(Js(r[a].image)):o.push(Js(r[a]))}else o=Js(r);n.url=o}return t||(e.images[this.uuid]=n),n}}function Js(c){return typeof HTMLImageElement!="undefined"&&c instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&c instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&c instanceof ImageBitmap?$s.getDataURL(c):c.data?{data:Array.from(c.data),width:c.width,height:c.height,type:c.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let La=0;class Gi extends Vr{constructor(e=Gi.DEFAULT_IMAGE,t=Gi.DEFAULT_MAPPING,n=Oe,r=Oe,o=me,a=et,l=xr,f=pn,d=1,p=Fo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:La++}),this.uuid=xi(),this.name="",this.source=new _s(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=r,this.magFilter=o,this.minFilter=a,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=f,this.offset=new dn(0,0),this.repeat=new dn(1,1),this.center=new dn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Fi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=p,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==yn)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Me:e.x=e.x-Math.floor(e.x);break;case Oe:e.x=e.x<0?0:1;break;case Ke:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Me:e.y=e.y-Math.floor(e.y);break;case Oe:e.y=e.y<0?0:1;break;case Ke:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Gi.DEFAULT_IMAGE=null,Gi.DEFAULT_MAPPING=yn;class vi{constructor(e=0,t=0,n=0,r=1){vi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*o,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*o,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*o,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,o;const f=e.elements,d=f[0],p=f[4],v=f[8],y=f[1],b=f[5],R=f[9],S=f[2],E=f[6],G=f[10];if(Math.abs(p-y)<.01&&Math.abs(v-S)<.01&&Math.abs(R-E)<.01){if(Math.abs(p+y)<.1&&Math.abs(v+S)<.1&&Math.abs(R+E)<.1&&Math.abs(d+b+G-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const _e=(d+1)/2,ie=(b+1)/2,Ie=(G+1)/2,Fe=(p+y)/4,vt=(v+S)/4,ce=(R+E)/4;return _e>ie&&_e>Ie?_e<.01?(n=0,r=.707106781,o=.707106781):(n=Math.sqrt(_e),r=Fe/n,o=vt/n):ie>Ie?ie<.01?(n=.707106781,r=0,o=.707106781):(r=Math.sqrt(ie),n=Fe/r,o=ce/r):Ie<.01?(n=.707106781,r=.707106781,o=0):(o=Math.sqrt(Ie),n=vt/o,r=ce/o),this.set(n,r,o,t),this}let q=Math.sqrt((E-R)*(E-R)+(v-S)*(v-S)+(y-p)*(y-p));return Math.abs(q)<.001&&(q=1),this.x=(E-R)/q,this.y=(v-S)/q,this.z=(y-p)/q,this.w=Math.acos((d+b+G-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class po extends Vr{constructor(e,t,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new vi(0,0,e,t),this.scissorTest=!1,this.viewport=new vi(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new Gi(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:me,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null,this.samples=n.samples!==void 0?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new _s(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Qs extends Gi{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Xe,this.minFilter=Xe,this.wrapR=Oe,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class $i extends po{constructor(e,t,n){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Qs(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Ti extends Gi{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Xe,this.minFilter=Xe,this.wrapR=Oe,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class mo extends po{constructor(e,t,n){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new Ti(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class $o extends po{constructor(e,t,n,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let a=0;a<n;a++)this.texture[a]=o.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,o=this.texture.length;r<o;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class ci{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerp(e,t,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}static slerpFlat(e,t,n,r,o,a,l){let f=n[r+0],d=n[r+1],p=n[r+2],v=n[r+3];const y=o[a+0],b=o[a+1],R=o[a+2],S=o[a+3];if(l===0){e[t+0]=f,e[t+1]=d,e[t+2]=p,e[t+3]=v;return}if(l===1){e[t+0]=y,e[t+1]=b,e[t+2]=R,e[t+3]=S;return}if(v!==S||f!==y||d!==b||p!==R){let E=1-l;const G=f*y+d*b+p*R+v*S,q=G>=0?1:-1,_e=1-G*G;if(_e>Number.EPSILON){const Ie=Math.sqrt(_e),Fe=Math.atan2(Ie,G*q);E=Math.sin(E*Fe)/Ie,l=Math.sin(l*Fe)/Ie}const ie=l*q;if(f=f*E+y*ie,d=d*E+b*ie,p=p*E+R*ie,v=v*E+S*ie,E===1-l){const Ie=1/Math.sqrt(f*f+d*d+p*p+v*v);f*=Ie,d*=Ie,p*=Ie,v*=Ie}}e[t]=f,e[t+1]=d,e[t+2]=p,e[t+3]=v}static multiplyQuaternionsFlat(e,t,n,r,o,a){const l=n[r],f=n[r+1],d=n[r+2],p=n[r+3],v=o[a],y=o[a+1],b=o[a+2],R=o[a+3];return e[t]=l*R+p*v+f*b-d*y,e[t+1]=f*R+p*y+d*v-l*b,e[t+2]=d*R+p*b+l*y-f*v,e[t+3]=p*R-l*v-f*y-d*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,r=e._y,o=e._z,a=e._order,l=Math.cos,f=Math.sin,d=l(n/2),p=l(r/2),v=l(o/2),y=f(n/2),b=f(r/2),R=f(o/2);switch(a){case"XYZ":this._x=y*p*v+d*b*R,this._y=d*b*v-y*p*R,this._z=d*p*R+y*b*v,this._w=d*p*v-y*b*R;break;case"YXZ":this._x=y*p*v+d*b*R,this._y=d*b*v-y*p*R,this._z=d*p*R-y*b*v,this._w=d*p*v+y*b*R;break;case"ZXY":this._x=y*p*v-d*b*R,this._y=d*b*v+y*p*R,this._z=d*p*R+y*b*v,this._w=d*p*v-y*b*R;break;case"ZYX":this._x=y*p*v-d*b*R,this._y=d*b*v+y*p*R,this._z=d*p*R-y*b*v,this._w=d*p*v+y*b*R;break;case"YZX":this._x=y*p*v+d*b*R,this._y=d*b*v+y*p*R,this._z=d*p*R-y*b*v,this._w=d*p*v-y*b*R;break;case"XZY":this._x=y*p*v-d*b*R,this._y=d*b*v-y*p*R,this._z=d*p*R+y*b*v,this._w=d*p*v+y*b*R;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],o=t[8],a=t[1],l=t[5],f=t[9],d=t[2],p=t[6],v=t[10],y=n+l+v;if(y>0){const b=.5/Math.sqrt(y+1);this._w=.25/b,this._x=(p-f)*b,this._y=(o-d)*b,this._z=(a-r)*b}else if(n>l&&n>v){const b=2*Math.sqrt(1+n-l-v);this._w=(p-f)/b,this._x=.25*b,this._y=(r+a)/b,this._z=(o+d)/b}else if(l>v){const b=2*Math.sqrt(1+l-n-v);this._w=(o-d)/b,this._x=(r+a)/b,this._y=.25*b,this._z=(f+p)/b}else{const b=2*Math.sqrt(1+v-n-l);this._w=(a-r)/b,this._x=(o+d)/b,this._y=(f+p)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(oi(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,o=e._z,a=e._w,l=t._x,f=t._y,d=t._z,p=t._w;return this._x=n*p+a*l+r*d-o*f,this._y=r*p+a*f+o*l-n*d,this._z=o*p+a*d+n*f-r*l,this._w=a*p-n*l-r*f-o*d,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,o=this._z,a=this._w;let l=a*e._w+n*e._x+r*e._y+o*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=n,this._y=r,this._z=o,this;const f=1-l*l;if(f<=Number.EPSILON){const b=1-t;return this._w=b*a+t*this._w,this._x=b*n+t*this._x,this._y=b*r+t*this._y,this._z=b*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const d=Math.sqrt(f),p=Math.atan2(d,l),v=Math.sin((1-t)*p)/d,y=Math.sin(t*p)/d;return this._w=a*v+this._w*y,this._x=n*v+this._x*y,this._y=r*v+this._y*y,this._z=o*v+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(o),n*Math.cos(o),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ae{constructor(e=0,t=0,n=0){Ae.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(js.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(js.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[3]*n+o[6]*r,this.y=o[1]*t+o[4]*n+o[7]*r,this.z=o[2]*t+o[5]*n+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=e.elements,a=1/(o[3]*t+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*t+o[4]*n+o[8]*r+o[12])*a,this.y=(o[1]*t+o[5]*n+o[9]*r+o[13])*a,this.z=(o[2]*t+o[6]*n+o[10]*r+o[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,o=e.x,a=e.y,l=e.z,f=e.w,d=f*t+a*r-l*n,p=f*n+l*t-o*r,v=f*r+o*n-a*t,y=-o*t-a*n-l*r;return this.x=d*f+y*-o+p*-l-v*-a,this.y=p*f+y*-a+v*-o-d*-l,this.z=v*f+y*-l+d*-a-p*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r,this.y=o[1]*t+o[5]*n+o[9]*r,this.z=o[2]*t+o[6]*n+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,o=e.z,a=t.x,l=t.y,f=t.z;return this.x=r*f-o*l,this.y=o*a-n*f,this.z=n*l-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return go.copy(this).projectOnVector(e),this.sub(go)}reflect(e){return this.sub(go.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(oi(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-A0(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const go=new Ae,js=new ci;class Qi{constructor(e=new Ae(1/0,1/0,1/0),t=new Ae(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,r=1/0,o=-1/0,a=-1/0,l=-1/0;for(let f=0,d=e.length;f<d;f+=3){const p=e[f],v=e[f+1],y=e[f+2];p<t&&(t=p),v<n&&(n=v),y<r&&(r=y),p>o&&(o=p),v>a&&(a=v),y>l&&(l=y)}return this.min.set(t,n,r),this.max.set(o,a,l),this}setFromBufferAttribute(e){let t=1/0,n=1/0,r=1/0,o=-1/0,a=-1/0,l=-1/0;for(let f=0,d=e.count;f<d;f++){const p=e.getX(f),v=e.getY(f),y=e.getZ(f);p<t&&(t=p),v<n&&(n=v),y<r&&(r=y),p>o&&(o=p),v>a&&(a=v),y>l&&(l=y)}return this.min.set(t,n,r),this.max.set(o,a,l),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Ho.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0)if(t&&n.attributes!=null&&n.attributes.position!==void 0){const o=n.attributes.position;for(let a=0,l=o.count;a<l;a++)Ho.fromBufferAttribute(o,a).applyMatrix4(e.matrixWorld),this.expandByPoint(Ho)}else n.boundingBox===null&&n.computeBoundingBox(),Zs.copy(n.boundingBox),Zs.applyMatrix4(e.matrixWorld),this.union(Zs);const r=e.children;for(let o=0,a=r.length;o<a;o++)this.expandByObject(r[o],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ho),Ho.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Yi),Ra.subVectors(this.max,Yi),ls.subVectors(e.a,Yi),ys.subVectors(e.b,Yi),ji.subVectors(e.c,Yi),vo.subVectors(ys,ls),Ci.subVectors(ji,ys),Xi.subVectors(ls,ji);let t=[0,-vo.z,vo.y,0,-Ci.z,Ci.y,0,-Xi.z,Xi.y,vo.z,0,-vo.x,Ci.z,0,-Ci.x,Xi.z,0,-Xi.x,-vo.y,vo.x,0,-Ci.y,Ci.x,0,-Xi.y,Xi.x,0];return!Ol(t,ls,ys,ji,Ra)||(t=[1,0,0,0,1,0,0,0,1],!Ol(t,ls,ys,ji,Ra))?!1:(ha.crossVectors(vo,Ci),t=[ha.x,ha.y,ha.z],Ol(t,ls,ys,ji,Ra))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Ho.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Ho).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ai[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ai[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ai[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ai[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ai[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ai[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ai[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ai[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ai),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ai=[new Ae,new Ae,new Ae,new Ae,new Ae,new Ae,new Ae,new Ae],Ho=new Ae,Zs=new Qi,ls=new Ae,ys=new Ae,ji=new Ae,vo=new Ae,Ci=new Ae,Xi=new Ae,Yi=new Ae,Ra=new Ae,ha=new Ae,Os=new Ae;function Ol(c,e,t,n,r){for(let o=0,a=c.length-3;o<=a;o+=3){Os.fromArray(c,o);const l=r.x*Math.abs(Os.x)+r.y*Math.abs(Os.y)+r.z*Math.abs(Os.z),f=e.dot(Os),d=t.dot(Os),p=n.dot(Os);if(Math.max(-Math.max(f,d,p),Math.min(f,d,p))>l)return!1}return!0}const Vo=new Qi,F1=new Ae,e1=new Ae,g1=new Ae;class jo{constructor(e=new Ae,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):Vo.setFromPoints(e).getCenter(n);let r=0;for(let o=0,a=e.length;o<a;o++)r=Math.max(r,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){g1.subVectors(e,this.center);const t=g1.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.add(g1.multiplyScalar(r/n)),this.radius+=r}return this}union(e){return this.center.equals(e.center)===!0?e1.set(0,0,1).multiplyScalar(e.radius):e1.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(F1.copy(e.center).add(e1)),this.expandByPoint(F1.copy(e.center).sub(e1)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const bo=new Ae,ea=new Ae,Aa=new Ae,Is=new Ae,k1=new Ae,v1=new Ae,U1=new Ae;class t1{constructor(e=new Ae,t=new Ae(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,bo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=bo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(bo.copy(this.direction).multiplyScalar(t).add(this.origin),bo.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){ea.copy(e).add(t).multiplyScalar(.5),Aa.copy(t).sub(e).normalize(),Is.copy(this.origin).sub(ea);const o=e.distanceTo(t)*.5,a=-this.direction.dot(Aa),l=Is.dot(this.direction),f=-Is.dot(Aa),d=Is.lengthSq(),p=Math.abs(1-a*a);let v,y,b,R;if(p>0)if(v=a*f-l,y=a*l-f,R=o*p,v>=0)if(y>=-R)if(y<=R){const S=1/p;v*=S,y*=S,b=v*(v+a*y+2*l)+y*(a*v+y+2*f)+d}else y=o,v=Math.max(0,-(a*y+l)),b=-v*v+y*(y+2*f)+d;else y=-o,v=Math.max(0,-(a*y+l)),b=-v*v+y*(y+2*f)+d;else y<=-R?(v=Math.max(0,-(-a*o+l)),y=v>0?-o:Math.min(Math.max(-o,-f),o),b=-v*v+y*(y+2*f)+d):y<=R?(v=0,y=Math.min(Math.max(-o,-f),o),b=y*(y+2*f)+d):(v=Math.max(0,-(a*o+l)),y=v>0?o:Math.min(Math.max(-o,-f),o),b=-v*v+y*(y+2*f)+d);else y=a>0?-o:o,v=Math.max(0,-(a*y+l)),b=-v*v+y*(y+2*f)+d;return n&&n.copy(this.direction).multiplyScalar(v).add(this.origin),r&&r.copy(Aa).multiplyScalar(y).add(ea),b}intersectSphere(e,t){bo.subVectors(e.center,this.origin);const n=bo.dot(this.direction),r=bo.dot(bo)-n*n,o=e.radius*e.radius;if(r>o)return null;const a=Math.sqrt(o-r),l=n-a,f=n+a;return l<0&&f<0?null:l<0?this.at(f,t):this.at(l,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,o,a,l,f;const d=1/this.direction.x,p=1/this.direction.y,v=1/this.direction.z,y=this.origin;return d>=0?(n=(e.min.x-y.x)*d,r=(e.max.x-y.x)*d):(n=(e.max.x-y.x)*d,r=(e.min.x-y.x)*d),p>=0?(o=(e.min.y-y.y)*p,a=(e.max.y-y.y)*p):(o=(e.max.y-y.y)*p,a=(e.min.y-y.y)*p),n>a||o>r||((o>n||n!==n)&&(n=o),(a<r||r!==r)&&(r=a),v>=0?(l=(e.min.z-y.z)*v,f=(e.max.z-y.z)*v):(l=(e.max.z-y.z)*v,f=(e.min.z-y.z)*v),n>f||l>r)||((l>n||n!==n)&&(n=l),(f<r||r!==r)&&(r=f),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,bo)!==null}intersectTriangle(e,t,n,r,o){k1.subVectors(t,e),v1.subVectors(n,e),U1.crossVectors(k1,v1);let a=this.direction.dot(U1),l;if(a>0){if(r)return null;l=1}else if(a<0)l=-1,a=-a;else return null;Is.subVectors(this.origin,e);const f=l*this.direction.dot(v1.crossVectors(Is,v1));if(f<0)return null;const d=l*this.direction.dot(k1.cross(Is));if(d<0||f+d>a)return null;const p=-l*Is.dot(U1);return p<0?null:this.at(p/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class kr{constructor(){kr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,r,o,a,l,f,d,p,v,y,b,R,S,E){const G=this.elements;return G[0]=e,G[4]=t,G[8]=n,G[12]=r,G[1]=o,G[5]=a,G[9]=l,G[13]=f,G[2]=d,G[6]=p,G[10]=v,G[14]=y,G[3]=b,G[7]=R,G[11]=S,G[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new kr().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Ta.setFromMatrixColumn(e,0).length(),o=1/Ta.setFromMatrixColumn(e,1).length(),a=1/Ta.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,r=e.y,o=e.z,a=Math.cos(n),l=Math.sin(n),f=Math.cos(r),d=Math.sin(r),p=Math.cos(o),v=Math.sin(o);if(e.order==="XYZ"){const y=a*p,b=a*v,R=l*p,S=l*v;t[0]=f*p,t[4]=-f*v,t[8]=d,t[1]=b+R*d,t[5]=y-S*d,t[9]=-l*f,t[2]=S-y*d,t[6]=R+b*d,t[10]=a*f}else if(e.order==="YXZ"){const y=f*p,b=f*v,R=d*p,S=d*v;t[0]=y+S*l,t[4]=R*l-b,t[8]=a*d,t[1]=a*v,t[5]=a*p,t[9]=-l,t[2]=b*l-R,t[6]=S+y*l,t[10]=a*f}else if(e.order==="ZXY"){const y=f*p,b=f*v,R=d*p,S=d*v;t[0]=y-S*l,t[4]=-a*v,t[8]=R+b*l,t[1]=b+R*l,t[5]=a*p,t[9]=S-y*l,t[2]=-a*d,t[6]=l,t[10]=a*f}else if(e.order==="ZYX"){const y=a*p,b=a*v,R=l*p,S=l*v;t[0]=f*p,t[4]=R*d-b,t[8]=y*d+S,t[1]=f*v,t[5]=S*d+y,t[9]=b*d-R,t[2]=-d,t[6]=l*f,t[10]=a*f}else if(e.order==="YZX"){const y=a*f,b=a*d,R=l*f,S=l*d;t[0]=f*p,t[4]=S-y*v,t[8]=R*v+b,t[1]=v,t[5]=a*p,t[9]=-l*p,t[2]=-d*p,t[6]=b*v+R,t[10]=y-S*v}else if(e.order==="XZY"){const y=a*f,b=a*d,R=l*f,S=l*d;t[0]=f*p,t[4]=-v,t[8]=d*p,t[1]=y*v+S,t[5]=a*p,t[9]=b*v-R,t[2]=R*v-b,t[6]=l*p,t[10]=S*v+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(C1,e,Il)}lookAt(e,t,n){const r=this.elements;return Zo.subVectors(e,t),Zo.lengthSq()===0&&(Zo.z=1),Zo.normalize(),xs.crossVectors(n,Zo),xs.lengthSq()===0&&(Math.abs(n.z)===1?Zo.x+=1e-4:Zo.z+=1e-4,Zo.normalize(),xs.crossVectors(n,Zo)),xs.normalize(),Pa.crossVectors(Zo,xs),r[0]=xs.x,r[4]=Pa.x,r[8]=Zo.x,r[1]=xs.y,r[5]=Pa.y,r[9]=Zo.y,r[2]=xs.z,r[6]=Pa.z,r[10]=Zo.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,a=n[0],l=n[4],f=n[8],d=n[12],p=n[1],v=n[5],y=n[9],b=n[13],R=n[2],S=n[6],E=n[10],G=n[14],q=n[3],_e=n[7],ie=n[11],Ie=n[15],Fe=r[0],vt=r[4],ce=r[8],je=r[12],Pt=r[1],Ht=r[5],En=r[9],jn=r[13],Bt=r[2],gn=r[6],qt=r[10],Ln=r[14],Tn=r[3],on=r[7],hn=r[11],kn=r[15];return o[0]=a*Fe+l*Pt+f*Bt+d*Tn,o[4]=a*vt+l*Ht+f*gn+d*on,o[8]=a*ce+l*En+f*qt+d*hn,o[12]=a*je+l*jn+f*Ln+d*kn,o[1]=p*Fe+v*Pt+y*Bt+b*Tn,o[5]=p*vt+v*Ht+y*gn+b*on,o[9]=p*ce+v*En+y*qt+b*hn,o[13]=p*je+v*jn+y*Ln+b*kn,o[2]=R*Fe+S*Pt+E*Bt+G*Tn,o[6]=R*vt+S*Ht+E*gn+G*on,o[10]=R*ce+S*En+E*qt+G*hn,o[14]=R*je+S*jn+E*Ln+G*kn,o[3]=q*Fe+_e*Pt+ie*Bt+Ie*Tn,o[7]=q*vt+_e*Ht+ie*gn+Ie*on,o[11]=q*ce+_e*En+ie*qt+Ie*hn,o[15]=q*je+_e*jn+ie*Ln+Ie*kn,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],o=e[12],a=e[1],l=e[5],f=e[9],d=e[13],p=e[2],v=e[6],y=e[10],b=e[14],R=e[3],S=e[7],E=e[11],G=e[15];return R*(+o*f*v-r*d*v-o*l*y+n*d*y+r*l*b-n*f*b)+S*(+t*f*b-t*d*y+o*a*y-r*a*b+r*d*p-o*f*p)+E*(+t*d*v-t*l*b-o*a*v+n*a*b+o*l*p-n*d*p)+G*(-r*l*p-t*f*v+t*l*y+r*a*v-n*a*y+n*f*p)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],a=e[4],l=e[5],f=e[6],d=e[7],p=e[8],v=e[9],y=e[10],b=e[11],R=e[12],S=e[13],E=e[14],G=e[15],q=v*E*d-S*y*d+S*f*b-l*E*b-v*f*G+l*y*G,_e=R*y*d-p*E*d-R*f*b+a*E*b+p*f*G-a*y*G,ie=p*S*d-R*v*d+R*l*b-a*S*b-p*l*G+a*v*G,Ie=R*v*f-p*S*f-R*l*y+a*S*y+p*l*E-a*v*E,Fe=t*q+n*_e+r*ie+o*Ie;if(Fe===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const vt=1/Fe;return e[0]=q*vt,e[1]=(S*y*o-v*E*o-S*r*b+n*E*b+v*r*G-n*y*G)*vt,e[2]=(l*E*o-S*f*o+S*r*d-n*E*d-l*r*G+n*f*G)*vt,e[3]=(v*f*o-l*y*o-v*r*d+n*y*d+l*r*b-n*f*b)*vt,e[4]=_e*vt,e[5]=(p*E*o-R*y*o+R*r*b-t*E*b-p*r*G+t*y*G)*vt,e[6]=(R*f*o-a*E*o-R*r*d+t*E*d+a*r*G-t*f*G)*vt,e[7]=(a*y*o-p*f*o+p*r*d-t*y*d-a*r*b+t*f*b)*vt,e[8]=ie*vt,e[9]=(R*v*o-p*S*o-R*n*b+t*S*b+p*n*G-t*v*G)*vt,e[10]=(a*S*o-R*l*o+R*n*d-t*S*d-a*n*G+t*l*G)*vt,e[11]=(p*l*o-a*v*o-p*n*d+t*v*d+a*n*b-t*l*b)*vt,e[12]=Ie*vt,e[13]=(p*S*r-R*v*r+R*n*y-t*S*y-p*n*E+t*v*E)*vt,e[14]=(R*l*r-a*S*r-R*n*f+t*S*f+a*n*E-t*l*E)*vt,e[15]=(a*v*r-p*l*r+p*n*f-t*v*f-a*n*y+t*l*y)*vt,this}scale(e){const t=this.elements,n=e.x,r=e.y,o=e.z;return t[0]*=n,t[4]*=r,t[8]*=o,t[1]*=n,t[5]*=r,t[9]*=o,t[2]*=n,t[6]*=r,t[10]*=o,t[3]*=n,t[7]*=r,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),o=1-n,a=e.x,l=e.y,f=e.z,d=o*a,p=o*l;return this.set(d*a+n,d*l-r*f,d*f+r*l,0,d*l+r*f,p*l+n,p*f-r*a,0,d*f-r*l,p*f+r*a,o*f*f+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,o,a){return this.set(1,n,o,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,o=t._x,a=t._y,l=t._z,f=t._w,d=o+o,p=a+a,v=l+l,y=o*d,b=o*p,R=o*v,S=a*p,E=a*v,G=l*v,q=f*d,_e=f*p,ie=f*v,Ie=n.x,Fe=n.y,vt=n.z;return r[0]=(1-(S+G))*Ie,r[1]=(b+ie)*Ie,r[2]=(R-_e)*Ie,r[3]=0,r[4]=(b-ie)*Fe,r[5]=(1-(y+G))*Fe,r[6]=(E+q)*Fe,r[7]=0,r[8]=(R+_e)*vt,r[9]=(E-q)*vt,r[10]=(1-(y+S))*vt,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let o=Ta.set(r[0],r[1],r[2]).length();const a=Ta.set(r[4],r[5],r[6]).length(),l=Ta.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],cs.copy(this);const d=1/o,p=1/a,v=1/l;return cs.elements[0]*=d,cs.elements[1]*=d,cs.elements[2]*=d,cs.elements[4]*=p,cs.elements[5]*=p,cs.elements[6]*=p,cs.elements[8]*=v,cs.elements[9]*=v,cs.elements[10]*=v,t.setFromRotationMatrix(cs),n.x=o,n.y=a,n.z=l,this}makePerspective(e,t,n,r,o,a){a===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const l=this.elements,f=2*o/(t-e),d=2*o/(n-r),p=(t+e)/(t-e),v=(n+r)/(n-r),y=-(a+o)/(a-o),b=-2*a*o/(a-o);return l[0]=f,l[4]=0,l[8]=p,l[12]=0,l[1]=0,l[5]=d,l[9]=v,l[13]=0,l[2]=0,l[6]=0,l[10]=y,l[14]=b,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,r,o,a){const l=this.elements,f=1/(t-e),d=1/(n-r),p=1/(a-o),v=(t+e)*f,y=(n+r)*d,b=(a+o)*p;return l[0]=2*f,l[4]=0,l[8]=0,l[12]=-v,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-y,l[2]=0,l[6]=0,l[10]=-2*p,l[14]=-b,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Ta=new Ae,cs=new kr,C1=new Ae(0,0,0),Il=new Ae(1,1,1),xs=new Ae,Pa=new Ae,Zo=new Ae,n1=new kr,Dl=new ci;class Oa{constructor(e=0,t=0,n=0,r=Oa.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,o=r[0],a=r[4],l=r[8],f=r[1],d=r[5],p=r[9],v=r[2],y=r[6],b=r[10];switch(t){case"XYZ":this._y=Math.asin(oi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-p,b),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(y,d),this._z=0);break;case"YXZ":this._x=Math.asin(-oi(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(l,b),this._z=Math.atan2(f,d)):(this._y=Math.atan2(-v,o),this._z=0);break;case"ZXY":this._x=Math.asin(oi(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-v,b),this._z=Math.atan2(-a,d)):(this._y=0,this._z=Math.atan2(f,o));break;case"ZYX":this._y=Math.asin(-oi(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(y,b),this._z=Math.atan2(f,o)):(this._x=0,this._z=Math.atan2(-a,d));break;case"YZX":this._z=Math.asin(oi(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-p,d),this._y=Math.atan2(-v,o)):(this._x=0,this._y=Math.atan2(l,b));break;case"XZY":this._z=Math.asin(-oi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(y,d),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-p,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return n1.makeRotationFromQuaternion(e),this.setFromRotationMatrix(n1,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Dl.setFromEuler(this),this.setFromQuaternion(Dl,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Oa.DefaultOrder="XYZ",Oa.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class _1{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Oc=0;const $1=new Ae,Ia=new ci,Ws=new kr,j1=new Ae,r1=new Ae,Eu=new Ae,Lu=new ci,zl=new Ae(1,0,0),Hl=new Ae(0,1,0),Vl=new Ae(0,0,1),Ic={type:"added"},y1={type:"removed"};class Ei extends Vr{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Oc++}),this.uuid=xi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ei.DefaultUp.clone();const e=new Ae,t=new Oa,n=new ci,r=new Ae(1,1,1);function o(){n.setFromEuler(t,!1)}function a(){t.setFromQuaternion(n,void 0,!1)}t._onChange(o),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new kr},normalMatrix:{value:new Fi}}),this.matrix=new kr,this.matrixWorld=new kr,this.matrixAutoUpdate=Ei.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new _1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Ia.setFromAxisAngle(e,t),this.quaternion.multiply(Ia),this}rotateOnWorldAxis(e,t){return Ia.setFromAxisAngle(e,t),this.quaternion.premultiply(Ia),this}rotateX(e){return this.rotateOnAxis(zl,e)}rotateY(e){return this.rotateOnAxis(Hl,e)}rotateZ(e){return this.rotateOnAxis(Vl,e)}translateOnAxis(e,t){return $1.copy(e).applyQuaternion(this.quaternion),this.position.add($1.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(zl,e)}translateY(e){return this.translateOnAxis(Hl,e)}translateZ(e){return this.translateOnAxis(Vl,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Ws.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?j1.copy(e):j1.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),r1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ws.lookAt(r1,j1,this.up):Ws.lookAt(j1,r1,this.up),this.quaternion.setFromRotationMatrix(Ws),r&&(Ws.extractRotation(r.matrixWorld),Ia.setFromRotationMatrix(Ws),this.quaternion.premultiply(Ia.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Ic)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(y1)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(y1)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ws.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ws.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ws),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const a=this.children[n].getObjectByProperty(e,t);if(a!==void 0)return a}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(r1,e,Eu),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(r1,Lu,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let o=0,a=r.length;o<a;o++)r[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function o(l,f){return l[f.uuid]===void 0&&(l[f.uuid]=f.toJSON(e)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const f=l.shapes;if(Array.isArray(f))for(let d=0,p=f.length;d<p;d++){const v=f[d];o(e.shapes,v)}else o(e.shapes,f)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let f=0,d=this.material.length;f<d;f++)l.push(o(e.materials,this.material[f]));r.material=l}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const f=this.animations[l];r.animations.push(o(e.animations,f))}}if(t){const l=a(e.geometries),f=a(e.materials),d=a(e.textures),p=a(e.images),v=a(e.shapes),y=a(e.skeletons),b=a(e.animations),R=a(e.nodes);l.length>0&&(n.geometries=l),f.length>0&&(n.materials=f),d.length>0&&(n.textures=d),p.length>0&&(n.images=p),v.length>0&&(n.shapes=v),y.length>0&&(n.skeletons=y),b.length>0&&(n.animations=b),R.length>0&&(n.nodes=R)}return n.object=r,n;function a(l){const f=[];for(const d in l){const p=l[d];delete p.metadata,f.push(p)}return f}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}Ei.DefaultUp=new Ae(0,1,0),Ei.DefaultMatrixAutoUpdate=!0;const Ds=new Ae,ta=new Ae,x1=new Ae,zs=new Ae,i1=new Ae,Da=new Ae,Bl=new Ae,Z1=new Ae,W1=new Ae,G1=new Ae;class eo{constructor(e=new Ae,t=new Ae,n=new Ae){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Ds.subVectors(e,t),r.cross(Ds);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,t,n,r,o){Ds.subVectors(r,t),ta.subVectors(n,t),x1.subVectors(e,t);const a=Ds.dot(Ds),l=Ds.dot(ta),f=Ds.dot(x1),d=ta.dot(ta),p=ta.dot(x1),v=a*d-l*l;if(v===0)return o.set(-2,-1,-1);const y=1/v,b=(d*f-l*p)*y,R=(a*p-l*f)*y;return o.set(1-b-R,R,b)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,zs),zs.x>=0&&zs.y>=0&&zs.x+zs.y<=1}static getUV(e,t,n,r,o,a,l,f){return this.getBarycoord(e,t,n,r,zs),f.set(0,0),f.addScaledVector(o,zs.x),f.addScaledVector(a,zs.y),f.addScaledVector(l,zs.z),f}static isFrontFacing(e,t,n,r){return Ds.subVectors(n,t),ta.subVectors(e,t),Ds.cross(ta).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ds.subVectors(this.c,this.b),ta.subVectors(this.a,this.b),Ds.cross(ta).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return eo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return eo.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,o){return eo.getUV(e,this.a,this.b,this.c,t,n,r,o)}containsPoint(e){return eo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return eo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,o=this.c;let a,l;i1.subVectors(r,n),Da.subVectors(o,n),Z1.subVectors(e,n);const f=i1.dot(Z1),d=Da.dot(Z1);if(f<=0&&d<=0)return t.copy(n);W1.subVectors(e,r);const p=i1.dot(W1),v=Da.dot(W1);if(p>=0&&v<=p)return t.copy(r);const y=f*v-p*d;if(y<=0&&f>=0&&p<=0)return a=f/(f-p),t.copy(n).addScaledVector(i1,a);G1.subVectors(e,o);const b=i1.dot(G1),R=Da.dot(G1);if(R>=0&&b<=R)return t.copy(o);const S=b*d-f*R;if(S<=0&&d>=0&&R<=0)return l=d/(d-R),t.copy(n).addScaledVector(Da,l);const E=p*R-b*v;if(E<=0&&v-p>=0&&b-R>=0)return Bl.subVectors(o,r),l=(v-p)/(v-p+(b-R)),t.copy(r).addScaledVector(Bl,l);const G=1/(E+S+y);return a=S*G,l=y*G,t.copy(n).addScaledVector(i1,a).addScaledVector(Da,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Dc=0;class io extends Vr{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Dc++}),this.uuid=xi(),this.name="",this.type="Material",this.blending=Rt,this.side=Se,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Ce,this.blendDst=xe,this.blendEquation=Ot,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=qe,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=_t,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ms,this.stencilZFail=ms,this.stencilZPass=ms,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===st;continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Rt&&(n.blending=this.blending),this.side!==Se&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function r(o){const a=[];for(const l in o){const f=o[l];delete f.metadata,a.push(f)}return a}if(t){const o=r(e.textures),a=r(e.images);o.length>0&&(n.textures=o),a.length>0&&(n.images=a)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let o=0;o!==r;++o)n[o]=t[o].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ws extends io{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new rr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Mt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Zi=new Ae,za=new dn;class Oi{constructor(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.usage=mn,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let n=0;for(let r=0,o=e.length;r<o;r++){let a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new rr),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this}copyVector2sArray(e){const t=this.array;let n=0;for(let r=0,o=e.length;r<o;r++){let a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new dn),t[n++]=a.x,t[n++]=a.y}return this}copyVector3sArray(e){const t=this.array;let n=0;for(let r=0,o=e.length;r<o;r++){let a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new Ae),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this}copyVector4sArray(e){const t=this.array;let n=0;for(let r=0,o=e.length;r<o;r++){let a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new vi),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)za.fromBufferAttribute(this,t),za.applyMatrix3(e),this.setXY(t,za.x,za.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Zi.fromBufferAttribute(this,t),Zi.applyMatrix3(e),this.setXYZ(t,Zi.x,Zi.y,Zi.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Zi.fromBufferAttribute(this,t),Zi.applyMatrix4(e),this.setXYZ(t,Zi.x,Zi.y,Zi.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Zi.fromBufferAttribute(this,t),Zi.applyNormalMatrix(e),this.setXYZ(t,Zi.x,Zi.y,Zi.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Zi.fromBufferAttribute(this,t),Zi.transformDirection(e),this.setXYZ(t,Zi.x,Zi.y,Zi.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==mn&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class w1 extends Oi{constructor(e,t,n){super(new Int8Array(e),t,n)}}class Bo extends Oi{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class Ru extends Oi{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class Au extends Oi{constructor(e,t,n){super(new Int16Array(e),t,n)}}class Wo extends Oi{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Go extends Oi{constructor(e,t,n){super(new Int32Array(e),t,n)}}class X1 extends Oi{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class zc extends Oi{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}}class cr extends Oi{constructor(e,t,n){super(new Float32Array(e),t,n)}}class Hc extends Oi{constructor(e,t,n){super(new Float64Array(e),t,n)}}let Vc=0;const ts=new kr,Y1=new Ei,pa=new Ae,ns=new Qi,o1=new Qi,to=new Ae;class Dr extends Vr{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Vc++}),this.uuid=xi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(as(e)?X1:Wo)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const o=new Fi().getNormalMatrix(e);n.applyNormalMatrix(o),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ts.makeRotationFromQuaternion(e),this.applyMatrix4(ts),this}rotateX(e){return ts.makeRotationX(e),this.applyMatrix4(ts),this}rotateY(e){return ts.makeRotationY(e),this.applyMatrix4(ts),this}rotateZ(e){return ts.makeRotationZ(e),this.applyMatrix4(ts),this}translate(e,t,n){return ts.makeTranslation(e,t,n),this.applyMatrix4(ts),this}scale(e,t,n){return ts.makeScale(e,t,n),this.applyMatrix4(ts),this}lookAt(e){return Y1.lookAt(e),Y1.updateMatrix(),this.applyMatrix4(Y1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(pa).negate(),this.translate(pa.x,pa.y,pa.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const o=e[n];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new cr(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Qi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Ae(-1/0,-1/0,-1/0),new Ae(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const o=t[n];ns.setFromBufferAttribute(o),this.morphTargetsRelative?(to.addVectors(this.boundingBox.min,ns.min),this.boundingBox.expandByPoint(to),to.addVectors(this.boundingBox.max,ns.max),this.boundingBox.expandByPoint(to)):(this.boundingBox.expandByPoint(ns.min),this.boundingBox.expandByPoint(ns.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new jo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Ae,1/0);return}if(e){const n=this.boundingSphere.center;if(ns.setFromBufferAttribute(e),t)for(let o=0,a=t.length;o<a;o++){const l=t[o];o1.setFromBufferAttribute(l),this.morphTargetsRelative?(to.addVectors(ns.min,o1.min),ns.expandByPoint(to),to.addVectors(ns.max,o1.max),ns.expandByPoint(to)):(ns.expandByPoint(o1.min),ns.expandByPoint(o1.max))}ns.getCenter(n);let r=0;for(let o=0,a=e.count;o<a;o++)to.fromBufferAttribute(e,o),r=Math.max(r,n.distanceToSquared(to));if(t)for(let o=0,a=t.length;o<a;o++){const l=t[o],f=this.morphTargetsRelative;for(let d=0,p=l.count;d<p;d++)to.fromBufferAttribute(l,d),f&&(pa.fromBufferAttribute(e,d),to.add(pa)),r=Math.max(r,n.distanceToSquared(to))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.array,r=t.position.array,o=t.normal.array,a=t.uv.array,l=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Oi(new Float32Array(4*l),4));const f=this.getAttribute("tangent").array,d=[],p=[];for(let Pt=0;Pt<l;Pt++)d[Pt]=new Ae,p[Pt]=new Ae;const v=new Ae,y=new Ae,b=new Ae,R=new dn,S=new dn,E=new dn,G=new Ae,q=new Ae;function _e(Pt,Ht,En){v.fromArray(r,Pt*3),y.fromArray(r,Ht*3),b.fromArray(r,En*3),R.fromArray(a,Pt*2),S.fromArray(a,Ht*2),E.fromArray(a,En*2),y.sub(v),b.sub(v),S.sub(R),E.sub(R);const jn=1/(S.x*E.y-E.x*S.y);isFinite(jn)&&(G.copy(y).multiplyScalar(E.y).addScaledVector(b,-S.y).multiplyScalar(jn),q.copy(b).multiplyScalar(S.x).addScaledVector(y,-E.x).multiplyScalar(jn),d[Pt].add(G),d[Ht].add(G),d[En].add(G),p[Pt].add(q),p[Ht].add(q),p[En].add(q))}let ie=this.groups;ie.length===0&&(ie=[{start:0,count:n.length}]);for(let Pt=0,Ht=ie.length;Pt<Ht;++Pt){const En=ie[Pt],jn=En.start,Bt=En.count;for(let gn=jn,qt=jn+Bt;gn<qt;gn+=3)_e(n[gn+0],n[gn+1],n[gn+2])}const Ie=new Ae,Fe=new Ae,vt=new Ae,ce=new Ae;function je(Pt){vt.fromArray(o,Pt*3),ce.copy(vt);const Ht=d[Pt];Ie.copy(Ht),Ie.sub(vt.multiplyScalar(vt.dot(Ht))).normalize(),Fe.crossVectors(ce,Ht);const jn=Fe.dot(p[Pt])<0?-1:1;f[Pt*4]=Ie.x,f[Pt*4+1]=Ie.y,f[Pt*4+2]=Ie.z,f[Pt*4+3]=jn}for(let Pt=0,Ht=ie.length;Pt<Ht;++Pt){const En=ie[Pt],jn=En.start,Bt=En.count;for(let gn=jn,qt=jn+Bt;gn<qt;gn+=3)je(n[gn+0]),je(n[gn+1]),je(n[gn+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Oi(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let y=0,b=n.count;y<b;y++)n.setXYZ(y,0,0,0);const r=new Ae,o=new Ae,a=new Ae,l=new Ae,f=new Ae,d=new Ae,p=new Ae,v=new Ae;if(e)for(let y=0,b=e.count;y<b;y+=3){const R=e.getX(y+0),S=e.getX(y+1),E=e.getX(y+2);r.fromBufferAttribute(t,R),o.fromBufferAttribute(t,S),a.fromBufferAttribute(t,E),p.subVectors(a,o),v.subVectors(r,o),p.cross(v),l.fromBufferAttribute(n,R),f.fromBufferAttribute(n,S),d.fromBufferAttribute(n,E),l.add(p),f.add(p),d.add(p),n.setXYZ(R,l.x,l.y,l.z),n.setXYZ(S,f.x,f.y,f.z),n.setXYZ(E,d.x,d.y,d.z)}else for(let y=0,b=t.count;y<b;y+=3)r.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),a.fromBufferAttribute(t,y+2),p.subVectors(a,o),v.subVectors(r,o),p.cross(v),n.setXYZ(y+0,p.x,p.y,p.z),n.setXYZ(y+1,p.x,p.y,p.z),n.setXYZ(y+2,p.x,p.y,p.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(e.attributes[r]===void 0)continue;const a=n[r].array,l=e.attributes[r],f=l.array,d=l.itemSize*t,p=Math.min(f.length,a.length-d);for(let v=0,y=d;v<p;v++,y++)a[y]=f[v]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)to.fromBufferAttribute(e,t),to.normalize(),e.setXYZ(t,to.x,to.y,to.z)}toNonIndexed(){function e(l,f){const d=l.array,p=l.itemSize,v=l.normalized,y=new d.constructor(f.length*p);let b=0,R=0;for(let S=0,E=f.length;S<E;S++){l.isInterleavedBufferAttribute?b=f[S]*l.data.stride+l.offset:b=f[S]*p;for(let G=0;G<p;G++)y[R++]=d[b++]}return new Oi(y,p,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Dr,n=this.index.array,r=this.attributes;for(const l in r){const f=r[l],d=e(f,n);t.setAttribute(l,d)}const o=this.morphAttributes;for(const l in o){const f=[],d=o[l];for(let p=0,v=d.length;p<v;p++){const y=d[p],b=e(y,n);f.push(b)}t.morphAttributes[l]=f}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,f=a.length;l<f;l++){const d=a[l];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const d in f)f[d]!==void 0&&(e[d]=f[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const f in n){const d=n[f];e.data.attributes[f]=d.toJSON(e.data)}const r={};let o=!1;for(const f in this.morphAttributes){const d=this.morphAttributes[f],p=[];for(let v=0,y=d.length;v<y;v++){const b=d[v];p.push(b.toJSON(e.data))}p.length>0&&(r[f]=p,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const r=e.attributes;for(const d in r){const p=r[d];this.setAttribute(d,p.clone(t))}const o=e.morphAttributes;for(const d in o){const p=[],v=o[d];for(let y=0,b=v.length;y<b;y++)p.push(v[y].clone(t));this.morphAttributes[d]=p}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let d=0,p=a.length;d<p;d++){const v=a[d];this.addGroup(v.start,v.count,v.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const f=e.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const Nl=new kr,na=new t1,b1=new jo,ra=new Ae,Hs=new Ae,ia=new Ae,M1=new Ae,K1=new Ae,Vs=new Ae,q1=new Ae,J1=new Ae,Ha=new Ae,Gs=new dn,Q1=new dn,Xn=new dn,s1=new Ae,a1=new Ae;class Mo extends Ei{constructor(e=new Dr,t=new ws){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const l=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}raycast(e,t){const n=this.geometry,r=this.material,o=this.matrixWorld;if(r===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),b1.copy(n.boundingSphere),b1.applyMatrix4(o),e.ray.intersectsSphere(b1)===!1)||(Nl.copy(o).invert(),na.copy(e.ray).applyMatrix4(Nl),n.boundingBox!==null&&na.intersectsBox(n.boundingBox)===!1))return;let a;const l=n.index,f=n.attributes.position,d=n.morphAttributes.position,p=n.morphTargetsRelative,v=n.attributes.uv,y=n.attributes.uv2,b=n.groups,R=n.drawRange;if(l!==null)if(Array.isArray(r))for(let S=0,E=b.length;S<E;S++){const G=b[S],q=r[G.materialIndex],_e=Math.max(G.start,R.start),ie=Math.min(l.count,Math.min(G.start+G.count,R.start+R.count));for(let Ie=_e,Fe=ie;Ie<Fe;Ie+=3){const vt=l.getX(Ie),ce=l.getX(Ie+1),je=l.getX(Ie+2);a=Xs(this,q,e,na,f,d,p,v,y,vt,ce,je),a&&(a.faceIndex=Math.floor(Ie/3),a.face.materialIndex=G.materialIndex,t.push(a))}}else{const S=Math.max(0,R.start),E=Math.min(l.count,R.start+R.count);for(let G=S,q=E;G<q;G+=3){const _e=l.getX(G),ie=l.getX(G+1),Ie=l.getX(G+2);a=Xs(this,r,e,na,f,d,p,v,y,_e,ie,Ie),a&&(a.faceIndex=Math.floor(G/3),t.push(a))}}else if(f!==void 0)if(Array.isArray(r))for(let S=0,E=b.length;S<E;S++){const G=b[S],q=r[G.materialIndex],_e=Math.max(G.start,R.start),ie=Math.min(f.count,Math.min(G.start+G.count,R.start+R.count));for(let Ie=_e,Fe=ie;Ie<Fe;Ie+=3){const vt=Ie,ce=Ie+1,je=Ie+2;a=Xs(this,q,e,na,f,d,p,v,y,vt,ce,je),a&&(a.faceIndex=Math.floor(Ie/3),a.face.materialIndex=G.materialIndex,t.push(a))}}else{const S=Math.max(0,R.start),E=Math.min(f.count,R.start+R.count);for(let G=S,q=E;G<q;G+=3){const _e=G,ie=G+1,Ie=G+2;a=Xs(this,r,e,na,f,d,p,v,y,_e,ie,Ie),a&&(a.faceIndex=Math.floor(G/3),t.push(a))}}}}function Tu(c,e,t,n,r,o,a,l){let f;if(e.side===F?f=n.intersectTriangle(a,o,r,!0,l):f=n.intersectTriangle(r,o,a,e.side!==it,l),f===null)return null;a1.copy(l),a1.applyMatrix4(c.matrixWorld);const d=t.ray.origin.distanceTo(a1);return d<t.near||d>t.far?null:{distance:d,point:a1.clone(),object:c}}function Xs(c,e,t,n,r,o,a,l,f,d,p,v){ra.fromBufferAttribute(r,d),Hs.fromBufferAttribute(r,p),ia.fromBufferAttribute(r,v);const y=c.morphTargetInfluences;if(o&&y){q1.set(0,0,0),J1.set(0,0,0),Ha.set(0,0,0);for(let R=0,S=o.length;R<S;R++){const E=y[R],G=o[R];E!==0&&(M1.fromBufferAttribute(G,d),K1.fromBufferAttribute(G,p),Vs.fromBufferAttribute(G,v),a?(q1.addScaledVector(M1,E),J1.addScaledVector(K1,E),Ha.addScaledVector(Vs,E)):(q1.addScaledVector(M1.sub(ra),E),J1.addScaledVector(K1.sub(Hs),E),Ha.addScaledVector(Vs.sub(ia),E)))}ra.add(q1),Hs.add(J1),ia.add(Ha)}c.isSkinnedMesh&&(c.boneTransform(d,ra),c.boneTransform(p,Hs),c.boneTransform(v,ia));const b=Tu(c,e,t,n,ra,Hs,ia,s1);if(b){l&&(Gs.fromBufferAttribute(l,d),Q1.fromBufferAttribute(l,p),Xn.fromBufferAttribute(l,v),b.uv=eo.getUV(s1,ra,Hs,ia,Gs,Q1,Xn,new dn)),f&&(Gs.fromBufferAttribute(f,d),Q1.fromBufferAttribute(f,p),Xn.fromBufferAttribute(f,v),b.uv2=eo.getUV(s1,ra,Hs,ia,Gs,Q1,Xn,new dn));const R={a:d,b:p,c:v,normal:new Ae,materialIndex:0};eo.getNormal(ra,Hs,ia,R.normal),b.face=R}return b}class us extends Dr{constructor(e=1,t=1,n=1,r=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:o,depthSegments:a};const l=this;r=Math.floor(r),o=Math.floor(o),a=Math.floor(a);const f=[],d=[],p=[],v=[];let y=0,b=0;R("z","y","x",-1,-1,n,t,e,a,o,0),R("z","y","x",1,-1,n,t,-e,a,o,1),R("x","z","y",1,1,e,n,t,r,a,2),R("x","z","y",1,-1,e,n,-t,r,a,3),R("x","y","z",1,-1,e,t,n,r,o,4),R("x","y","z",-1,-1,e,t,-n,r,o,5),this.setIndex(f),this.setAttribute("position",new cr(d,3)),this.setAttribute("normal",new cr(p,3)),this.setAttribute("uv",new cr(v,2));function R(S,E,G,q,_e,ie,Ie,Fe,vt,ce,je){const Pt=ie/vt,Ht=Ie/ce,En=ie/2,jn=Ie/2,Bt=Fe/2,gn=vt+1,qt=ce+1;let Ln=0,Tn=0;const on=new Ae;for(let hn=0;hn<qt;hn++){const kn=hn*Ht-jn;for(let In=0;In<gn;In++){const Qn=In*Pt-En;on[S]=Qn*q,on[E]=kn*_e,on[G]=Bt,d.push(on.x,on.y,on.z),on[S]=0,on[E]=0,on[G]=Fe>0?1:-1,p.push(on.x,on.y,on.z),v.push(In/vt),v.push(1-hn/ce),Ln+=1}}for(let hn=0;hn<ce;hn++)for(let kn=0;kn<vt;kn++){const In=y+kn+gn*hn,Qn=y+kn+gn*(hn+1),gr=y+(kn+1)+gn*(hn+1),Sr=y+(kn+1)+gn*hn;f.push(In,Qn,Sr),f.push(Qn,gr,Sr),Tn+=6}l.addGroup(b,Tn,je),b+=Tn,y+=Ln}}static fromJSON(e){return new us(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ma(c){const e={};for(const t in c){e[t]={};for(const n in c[t]){const r=c[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function To(c){const e={};for(let t=0;t<c.length;t++){const n=ma(c[t]);for(const r in n)e[r]=n[r]}return e}const Fl={clone:ma,merge:To};var Bc=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Nc=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Bs extends io{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=Bc,this.fragmentShader=Nc,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ma(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class S1 extends Ei{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new kr,this.projectionMatrix=new kr,this.projectionMatrixInverse=new kr}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Co extends S1{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Hi*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(gi*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Hi*2*Math.atan(Math.tan(gi*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,o,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(gi*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,o=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const f=a.fullWidth,d=a.fullHeight;o+=a.offsetX*r/f,t-=a.offsetY*n/d,r*=a.width/f,n*=a.height/d}const l=this.filmOffset;l!==0&&(o+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const ga=90,Va=1;class el extends Ei{constructor(e,t,n){if(super(),this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;const r=new Co(ga,Va,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Ae(1,0,0)),this.add(r);const o=new Co(ga,Va,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new Ae(-1,0,0)),this.add(o);const a=new Co(ga,Va,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new Ae(0,1,0)),this.add(a);const l=new Co(ga,Va,e,t);l.layers=this.layers,l.up.set(0,0,-1),l.lookAt(new Ae(0,-1,0)),this.add(l);const f=new Co(ga,Va,e,t);f.layers=this.layers,f.up.set(0,-1,0),f.lookAt(new Ae(0,0,1)),this.add(f);const d=new Co(ga,Va,e,t);d.layers=this.layers,d.up.set(0,-1,0),d.lookAt(new Ae(0,0,-1)),this.add(d)}update(e,t){this.parent===null&&this.updateMatrixWorld();const n=this.renderTarget,[r,o,a,l,f,d]=this.children,p=e.getRenderTarget(),v=e.toneMapping,y=e.xr.enabled;e.toneMapping=We,e.xr.enabled=!1;const b=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,o),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,l),e.setRenderTarget(n,4),e.render(t,f),n.texture.generateMipmaps=b,e.setRenderTarget(n,5),e.render(t,d),e.setRenderTarget(p),e.toneMapping=v,e.xr.enabled=y,n.texture.needsPMREMUpdate=!0}}class va extends Gi{constructor(e,t,n,r,o,a,l,f,d,p){e=e!==void 0?e:[],t=t!==void 0?t:rn,super(e,t,n,r,o,a,l,f,d,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Fc extends po{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new va(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:me}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new us(5,5,5),o=new Bs({name:"CubemapFromEquirect",uniforms:ma(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:F,blending:ht});o.uniforms.tEquirect.value=t;const a=new Mo(r,o),l=t.minFilter;return t.minFilter===et&&(t.minFilter=me),new el(1,10,this).update(e,a),t.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,n,r){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(o)}}const kl=new Ae,kc=new Ae,Uc=new Fi;class oa{constructor(e=new Ae(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=kl.subVectors(n,t).cross(kc.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(kl),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:t.copy(n).multiplyScalar(o).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Uc.getNormalMatrix(e),r=this.coplanarPoint(kl).applyMatrix4(e),o=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ba=new jo,Na=new Ae;class Fa{constructor(e=new oa,t=new oa,n=new oa,r=new oa,o=new oa,a=new oa){this.planes=[e,t,n,r,o,a]}set(e,t,n,r,o,a){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(n),l[3].copy(r),l[4].copy(o),l[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],o=n[1],a=n[2],l=n[3],f=n[4],d=n[5],p=n[6],v=n[7],y=n[8],b=n[9],R=n[10],S=n[11],E=n[12],G=n[13],q=n[14],_e=n[15];return t[0].setComponents(l-r,v-f,S-y,_e-E).normalize(),t[1].setComponents(l+r,v+f,S+y,_e+E).normalize(),t[2].setComponents(l+o,v+d,S+b,_e+G).normalize(),t[3].setComponents(l-o,v-d,S-b,_e-G).normalize(),t[4].setComponents(l-a,v-p,S-R,_e-q).normalize(),t[5].setComponents(l+a,v+p,S+R,_e+q).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Ba.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ba)}intersectsSprite(e){return Ba.center.set(0,0,0),Ba.radius=.7071067811865476,Ba.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ba)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Na.x=r.normal.x>0?e.max.x:e.min.x,Na.y=r.normal.y>0?e.max.y:e.min.y,Na.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Na)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function E1(){let c=null,e=!1,t=null,n=null;function r(o,a){t(o,a),n=c.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=c.requestAnimationFrame(r),e=!0)},stop:function(){c.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){c=o}}}function tl(c,e){const t=e.isWebGL2,n=new WeakMap;function r(d,p){const v=d.array,y=d.usage,b=c.createBuffer();c.bindBuffer(p,b),c.bufferData(p,v,y),d.onUploadCallback();let R;if(v instanceof Float32Array)R=5126;else if(v instanceof Uint16Array)if(d.isFloat16BufferAttribute)if(t)R=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else R=5123;else if(v instanceof Int16Array)R=5122;else if(v instanceof Uint32Array)R=5125;else if(v instanceof Int32Array)R=5124;else if(v instanceof Int8Array)R=5120;else if(v instanceof Uint8Array)R=5121;else if(v instanceof Uint8ClampedArray)R=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+v);return{buffer:b,type:R,bytesPerElement:v.BYTES_PER_ELEMENT,version:d.version}}function o(d,p,v){const y=p.array,b=p.updateRange;c.bindBuffer(v,d),b.count===-1?c.bufferSubData(v,0,y):(t?c.bufferSubData(v,b.offset*y.BYTES_PER_ELEMENT,y,b.offset,b.count):c.bufferSubData(v,b.offset*y.BYTES_PER_ELEMENT,y.subarray(b.offset,b.offset+b.count)),b.count=-1)}function a(d){return d.isInterleavedBufferAttribute&&(d=d.data),n.get(d)}function l(d){d.isInterleavedBufferAttribute&&(d=d.data);const p=n.get(d);p&&(c.deleteBuffer(p.buffer),n.delete(d))}function f(d,p){if(d.isGLBufferAttribute){const y=n.get(d);(!y||y.version<d.version)&&n.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version});return}d.isInterleavedBufferAttribute&&(d=d.data);const v=n.get(d);v===void 0?n.set(d,r(d,p)):v.version<d.version&&(o(v.buffer,d,p),v.version=d.version)}return{get:a,remove:l,update:f}}class Ys extends Dr{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const o=e/2,a=t/2,l=Math.floor(n),f=Math.floor(r),d=l+1,p=f+1,v=e/l,y=t/f,b=[],R=[],S=[],E=[];for(let G=0;G<p;G++){const q=G*y-a;for(let _e=0;_e<d;_e++){const ie=_e*v-o;R.push(ie,-q,0),S.push(0,0,1),E.push(_e/l),E.push(1-G/f)}}for(let G=0;G<f;G++)for(let q=0;q<l;q++){const _e=q+d*G,ie=q+d*(G+1),Ie=q+1+d*(G+1),Fe=q+1+d*G;b.push(_e,ie,Fe),b.push(ie,Ie,Fe)}this.setIndex(b),this.setAttribute("position",new cr(R,3)),this.setAttribute("normal",new cr(S,3)),this.setAttribute("uv",new cr(E,2))}static fromJSON(e){return new Ys(e.width,e.height,e.widthSegments,e.heightSegments)}}var L1=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Ul=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,$l=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,jl=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,$c=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Zl=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Pu="vec3 transformed = vec3( position );",nl=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Wl=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,no=`#ifdef USE_IRIDESCENCE
const mat3 XYZ_TO_REC709 = mat3(
    3.2404542, -0.9692660,  0.0556434,
   -1.5371385,  1.8760108, -0.2040259,
   -0.4985314,  0.0415560,  1.0572252
);
vec3 Fresnel0ToIor( vec3 fresnel0 ) {
   vec3 sqrtF0 = sqrt( fresnel0 );
   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
}
vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
}
float IorToFresnel0( float transmittedIor, float incidentIor ) {
   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
}
vec3 evalSensitivity( float OPD, vec3 shift ) {
   float phase = 2.0 * PI * OPD * 1.0e-9;
   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );
   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );
   xyz /= 1.0685e-7;
   vec3 srgb = XYZ_TO_REC709 * xyz;
   return srgb;
}
vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
   vec3 I;
   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
   float cosTheta2Sq = 1.0 - sinTheta2Sq;
   if ( cosTheta2Sq < 0.0 ) {
       return vec3( 1.0 );
   }
   float cosTheta2 = sqrt( cosTheta2Sq );
   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
   float R12 = F_Schlick( R0, 1.0, cosTheta1 );
   float R21 = R12;
   float T121 = 1.0 - R12;
   float phi12 = 0.0;
   if ( iridescenceIOR < outsideIOR ) phi12 = PI;
   float phi21 = PI - phi12;
   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
   vec3 phi23 = vec3( 0.0 );
   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;
   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;
   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;
   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
   vec3 phi = vec3( phi21 ) + phi23;
   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
   vec3 r123 = sqrt( R123 );
   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
   vec3 C0 = R12 + Rs;
   I = C0;
   vec3 Cm = Rs - T121;
   for ( int m = 1; m <= 2; ++m ) {
       Cm *= r123;
       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
       I += Cm * Sm;
   }
   return max( I, vec3( 0.0 ) );
}
#endif`,Kr=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,oo=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,so=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Po=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,fs=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,l1=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,_o=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,R1=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,c1=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,rl=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Gl=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,A1=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,rs=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Xl=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Yl=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,u1=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,il="gl_FragColor = linearToOutputTexel( gl_FragColor );",Kl=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Ca=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,ol=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,_a=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,sl=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,T1=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ql=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,al=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,ll=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Xo=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,ya=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,bs=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,cl=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,is=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,jc=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Jl=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Ql=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Ou=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,xa=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Zc=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Wc=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,ec=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,ka=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
float dotNVi = saturate( dot( normal, geometry.viewDir ) );
if ( material.iridescenceThickness == 0.0 ) {
	material.iridescence = 0.0;
} else {
	material.iridescence = saturate( material.iridescence );
}
if ( material.iridescence > 0.0 ) {
	material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
	material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Gc=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,tc=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,ul=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,fl=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Iu=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Du=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Xc=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Yc=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Ua=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,zu=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,$a=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Kc=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,os=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Hu=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,qc=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Vu=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Bu=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,Jc=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Qc=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Nu=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Ms=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,nc=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Fu=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,sa=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,P1=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,ja=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,dl=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,rc=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,ic=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,eu=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,oc=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,tu=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,nu=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,ru=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,sc=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,ku=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Uu=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,i=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,s=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,u=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,h=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,M=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,H=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,He=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,wt=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,en=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Hn=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,ar=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Br=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,wr=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Di=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,pr=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,No=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Ss=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,kt=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ui={alphamap_fragment:L1,alphamap_pars_fragment:Ul,alphatest_fragment:$l,alphatest_pars_fragment:jl,aomap_fragment:$c,aomap_pars_fragment:Zl,begin_vertex:Pu,beginnormal_vertex:nl,bsdfs:Wl,iridescence_fragment:no,bumpmap_pars_fragment:Kr,clipping_planes_fragment:oo,clipping_planes_pars_fragment:so,clipping_planes_pars_vertex:Po,clipping_planes_vertex:fs,color_fragment:l1,color_pars_fragment:_o,color_pars_vertex:R1,color_vertex:c1,common:rl,cube_uv_reflection_fragment:Gl,defaultnormal_vertex:A1,displacementmap_pars_vertex:rs,displacementmap_vertex:Xl,emissivemap_fragment:Yl,emissivemap_pars_fragment:u1,encodings_fragment:il,encodings_pars_fragment:Kl,envmap_fragment:Ca,envmap_common_pars_fragment:ol,envmap_pars_fragment:_a,envmap_pars_vertex:sl,envmap_physical_pars_fragment:Jl,envmap_vertex:T1,fog_vertex:ql,fog_pars_vertex:al,fog_fragment:ll,fog_pars_fragment:Xo,gradientmap_pars_fragment:ya,lightmap_fragment:bs,lightmap_pars_fragment:cl,lights_lambert_vertex:is,lights_pars_begin:jc,lights_toon_fragment:Ql,lights_toon_pars_fragment:Ou,lights_phong_fragment:xa,lights_phong_pars_fragment:Zc,lights_physical_fragment:Wc,lights_physical_pars_fragment:ec,lights_fragment_begin:ka,lights_fragment_maps:Gc,lights_fragment_end:tc,logdepthbuf_fragment:ul,logdepthbuf_pars_fragment:fl,logdepthbuf_pars_vertex:Iu,logdepthbuf_vertex:Du,map_fragment:Xc,map_pars_fragment:Yc,map_particle_fragment:Ua,map_particle_pars_fragment:zu,metalnessmap_fragment:$a,metalnessmap_pars_fragment:Kc,morphcolor_vertex:os,morphnormal_vertex:Hu,morphtarget_pars_vertex:qc,morphtarget_vertex:Vu,normal_fragment_begin:Bu,normal_fragment_maps:Jc,normal_pars_fragment:Qc,normal_pars_vertex:Nu,normal_vertex:Ms,normalmap_pars_fragment:nc,clearcoat_normal_fragment_begin:Fu,clearcoat_normal_fragment_maps:sa,clearcoat_pars_fragment:P1,iridescence_pars_fragment:ja,output_fragment:dl,packing:rc,premultiplied_alpha_fragment:ic,project_vertex:eu,dithering_fragment:oc,dithering_pars_fragment:tu,roughnessmap_fragment:nu,roughnessmap_pars_fragment:ru,shadowmap_pars_fragment:sc,shadowmap_pars_vertex:ku,shadowmap_vertex:Uu,shadowmask_pars_fragment:i,skinbase_vertex:s,skinning_pars_vertex:u,skinning_vertex:h,skinnormal_vertex:M,specularmap_fragment:H,specularmap_pars_fragment:He,tonemapping_fragment:wt,tonemapping_pars_fragment:en,transmission_fragment:Hn,transmission_pars_fragment:ar,uv_pars_fragment:Br,uv_pars_vertex:wr,uv_vertex:Di,uv2_pars_fragment:pr,uv2_pars_vertex:No,uv2_vertex:Ss,worldpos_vertex:kt,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`},qn={common:{diffuse:{value:new rr(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Fi},uv2Transform:{value:new Fi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new dn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new rr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new rr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Fi}},sprite:{diffuse:{value:new rr(16777215)},opacity:{value:1},center:{value:new dn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Fi}}},aa={basic:{uniforms:To([qn.common,qn.specularmap,qn.envmap,qn.aomap,qn.lightmap,qn.fog]),vertexShader:ui.meshbasic_vert,fragmentShader:ui.meshbasic_frag},lambert:{uniforms:To([qn.common,qn.specularmap,qn.envmap,qn.aomap,qn.lightmap,qn.emissivemap,qn.fog,qn.lights,{emissive:{value:new rr(0)}}]),vertexShader:ui.meshlambert_vert,fragmentShader:ui.meshlambert_frag},phong:{uniforms:To([qn.common,qn.specularmap,qn.envmap,qn.aomap,qn.lightmap,qn.emissivemap,qn.bumpmap,qn.normalmap,qn.displacementmap,qn.fog,qn.lights,{emissive:{value:new rr(0)},specular:{value:new rr(1118481)},shininess:{value:30}}]),vertexShader:ui.meshphong_vert,fragmentShader:ui.meshphong_frag},standard:{uniforms:To([qn.common,qn.envmap,qn.aomap,qn.lightmap,qn.emissivemap,qn.bumpmap,qn.normalmap,qn.displacementmap,qn.roughnessmap,qn.metalnessmap,qn.fog,qn.lights,{emissive:{value:new rr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ui.meshphysical_vert,fragmentShader:ui.meshphysical_frag},toon:{uniforms:To([qn.common,qn.aomap,qn.lightmap,qn.emissivemap,qn.bumpmap,qn.normalmap,qn.displacementmap,qn.gradientmap,qn.fog,qn.lights,{emissive:{value:new rr(0)}}]),vertexShader:ui.meshtoon_vert,fragmentShader:ui.meshtoon_frag},matcap:{uniforms:To([qn.common,qn.bumpmap,qn.normalmap,qn.displacementmap,qn.fog,{matcap:{value:null}}]),vertexShader:ui.meshmatcap_vert,fragmentShader:ui.meshmatcap_frag},points:{uniforms:To([qn.points,qn.fog]),vertexShader:ui.points_vert,fragmentShader:ui.points_frag},dashed:{uniforms:To([qn.common,qn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ui.linedashed_vert,fragmentShader:ui.linedashed_frag},depth:{uniforms:To([qn.common,qn.displacementmap]),vertexShader:ui.depth_vert,fragmentShader:ui.depth_frag},normal:{uniforms:To([qn.common,qn.bumpmap,qn.normalmap,qn.displacementmap,{opacity:{value:1}}]),vertexShader:ui.meshnormal_vert,fragmentShader:ui.meshnormal_frag},sprite:{uniforms:To([qn.sprite,qn.fog]),vertexShader:ui.sprite_vert,fragmentShader:ui.sprite_frag},background:{uniforms:{uvTransform:{value:new Fi},t2D:{value:null}},vertexShader:ui.background_vert,fragmentShader:ui.background_frag},cube:{uniforms:To([qn.envmap,{opacity:{value:1}}]),vertexShader:ui.cube_vert,fragmentShader:ui.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ui.equirect_vert,fragmentShader:ui.equirect_frag},distanceRGBA:{uniforms:To([qn.common,qn.displacementmap,{referencePosition:{value:new Ae},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ui.distanceRGBA_vert,fragmentShader:ui.distanceRGBA_frag},shadow:{uniforms:To([qn.lights,qn.fog,{color:{value:new rr(0)},opacity:{value:1}}]),vertexShader:ui.shadow_vert,fragmentShader:ui.shadow_frag}};aa.physical={uniforms:To([aa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new dn(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new rr(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new dn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new rr(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new rr(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ui.meshphysical_vert,fragmentShader:ui.meshphysical_frag};function Kf(c,e,t,n,r,o){const a=new rr(0);let l=r===!0?0:1,f,d,p=null,v=0,y=null;function b(S,E){let G=!1,q=E.isScene===!0?E.background:null;q&&q.isTexture&&(q=e.get(q));const _e=c.xr,ie=_e.getSession&&_e.getSession();ie&&ie.environmentBlendMode==="additive"&&(q=null),q===null?R(a,l):q&&q.isColor&&(R(q,1),G=!0),(c.autoClear||G)&&c.clear(c.autoClearColor,c.autoClearDepth,c.autoClearStencil),q&&(q.isCubeTexture||q.mapping===he)?(d===void 0&&(d=new Mo(new us(1,1,1),new Bs({name:"BackgroundCubeMaterial",uniforms:ma(aa.cube.uniforms),vertexShader:aa.cube.vertexShader,fragmentShader:aa.cube.fragmentShader,side:F,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(Ie,Fe,vt){this.matrixWorld.copyPosition(vt.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(d)),d.material.uniforms.envMap.value=q,d.material.uniforms.flipEnvMap.value=q.isCubeTexture&&q.isRenderTargetTexture===!1?-1:1,(p!==q||v!==q.version||y!==c.toneMapping)&&(d.material.needsUpdate=!0,p=q,v=q.version,y=c.toneMapping),d.layers.enableAll(),S.unshift(d,d.geometry,d.material,0,0,null)):q&&q.isTexture&&(f===void 0&&(f=new Mo(new Ys(2,2),new Bs({name:"BackgroundMaterial",uniforms:ma(aa.background.uniforms),vertexShader:aa.background.vertexShader,fragmentShader:aa.background.fragmentShader,side:Se,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(f)),f.material.uniforms.t2D.value=q,q.matrixAutoUpdate===!0&&q.updateMatrix(),f.material.uniforms.uvTransform.value.copy(q.matrix),(p!==q||v!==q.version||y!==c.toneMapping)&&(f.material.needsUpdate=!0,p=q,v=q.version,y=c.toneMapping),f.layers.enableAll(),S.unshift(f,f.geometry,f.material,0,0,null))}function R(S,E){t.buffers.color.setClear(S.r,S.g,S.b,E,o)}return{getClearColor:function(){return a},setClearColor:function(S,E=1){a.set(S),l=E,R(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(S){l=S,R(a,l)},render:b}}function qf(c,e,t,n){const r=c.getParameter(34921),o=n.isWebGL2?null:e.get("OES_vertex_array_object"),a=n.isWebGL2||o!==null,l={},f=E(null);let d=f,p=!1;function v(Bt,gn,qt,Ln,Tn){let on=!1;if(a){const hn=S(Ln,qt,gn);d!==hn&&(d=hn,b(d.object)),on=G(Bt,Ln,qt,Tn),on&&q(Bt,Ln,qt,Tn)}else{const hn=gn.wireframe===!0;(d.geometry!==Ln.id||d.program!==qt.id||d.wireframe!==hn)&&(d.geometry=Ln.id,d.program=qt.id,d.wireframe=hn,on=!0)}Tn!==null&&t.update(Tn,34963),(on||p)&&(p=!1,ce(Bt,gn,qt,Ln),Tn!==null&&c.bindBuffer(34963,t.get(Tn).buffer))}function y(){return n.isWebGL2?c.createVertexArray():o.createVertexArrayOES()}function b(Bt){return n.isWebGL2?c.bindVertexArray(Bt):o.bindVertexArrayOES(Bt)}function R(Bt){return n.isWebGL2?c.deleteVertexArray(Bt):o.deleteVertexArrayOES(Bt)}function S(Bt,gn,qt){const Ln=qt.wireframe===!0;let Tn=l[Bt.id];Tn===void 0&&(Tn={},l[Bt.id]=Tn);let on=Tn[gn.id];on===void 0&&(on={},Tn[gn.id]=on);let hn=on[Ln];return hn===void 0&&(hn=E(y()),on[Ln]=hn),hn}function E(Bt){const gn=[],qt=[],Ln=[];for(let Tn=0;Tn<r;Tn++)gn[Tn]=0,qt[Tn]=0,Ln[Tn]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:gn,enabledAttributes:qt,attributeDivisors:Ln,object:Bt,attributes:{},index:null}}function G(Bt,gn,qt,Ln){const Tn=d.attributes,on=gn.attributes;let hn=0;const kn=qt.getAttributes();for(const In in kn)if(kn[In].location>=0){const gr=Tn[In];let Sr=on[In];if(Sr===void 0&&(In==="instanceMatrix"&&Bt.instanceMatrix&&(Sr=Bt.instanceMatrix),In==="instanceColor"&&Bt.instanceColor&&(Sr=Bt.instanceColor)),gr===void 0||gr.attribute!==Sr||Sr&&gr.data!==Sr.data)return!0;hn++}return d.attributesNum!==hn||d.index!==Ln}function q(Bt,gn,qt,Ln){const Tn={},on=gn.attributes;let hn=0;const kn=qt.getAttributes();for(const In in kn)if(kn[In].location>=0){let gr=on[In];gr===void 0&&(In==="instanceMatrix"&&Bt.instanceMatrix&&(gr=Bt.instanceMatrix),In==="instanceColor"&&Bt.instanceColor&&(gr=Bt.instanceColor));const Sr={};Sr.attribute=gr,gr&&gr.data&&(Sr.data=gr.data),Tn[In]=Sr,hn++}d.attributes=Tn,d.attributesNum=hn,d.index=Ln}function _e(){const Bt=d.newAttributes;for(let gn=0,qt=Bt.length;gn<qt;gn++)Bt[gn]=0}function ie(Bt){Ie(Bt,0)}function Ie(Bt,gn){const qt=d.newAttributes,Ln=d.enabledAttributes,Tn=d.attributeDivisors;qt[Bt]=1,Ln[Bt]===0&&(c.enableVertexAttribArray(Bt),Ln[Bt]=1),Tn[Bt]!==gn&&((n.isWebGL2?c:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Bt,gn),Tn[Bt]=gn)}function Fe(){const Bt=d.newAttributes,gn=d.enabledAttributes;for(let qt=0,Ln=gn.length;qt<Ln;qt++)gn[qt]!==Bt[qt]&&(c.disableVertexAttribArray(qt),gn[qt]=0)}function vt(Bt,gn,qt,Ln,Tn,on){n.isWebGL2===!0&&(qt===5124||qt===5125)?c.vertexAttribIPointer(Bt,gn,qt,Tn,on):c.vertexAttribPointer(Bt,gn,qt,Ln,Tn,on)}function ce(Bt,gn,qt,Ln){if(n.isWebGL2===!1&&(Bt.isInstancedMesh||Ln.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_e();const Tn=Ln.attributes,on=qt.getAttributes(),hn=gn.defaultAttributeValues;for(const kn in on){const In=on[kn];if(In.location>=0){let Qn=Tn[kn];if(Qn===void 0&&(kn==="instanceMatrix"&&Bt.instanceMatrix&&(Qn=Bt.instanceMatrix),kn==="instanceColor"&&Bt.instanceColor&&(Qn=Bt.instanceColor)),Qn!==void 0){const gr=Qn.normalized,Sr=Qn.itemSize,vn=t.get(Qn);if(vn===void 0)continue;const ki=vn.buffer,Qr=vn.type,Jr=vn.bytesPerElement;if(Qn.isInterleavedBufferAttribute){const er=Qn.data,hi=er.stride,Rn=Qn.offset;if(er.isInstancedInterleavedBuffer){for(let wn=0;wn<In.locationSize;wn++)Ie(In.location+wn,er.meshPerAttribute);Bt.isInstancedMesh!==!0&&Ln._maxInstanceCount===void 0&&(Ln._maxInstanceCount=er.meshPerAttribute*er.count)}else for(let wn=0;wn<In.locationSize;wn++)ie(In.location+wn);c.bindBuffer(34962,ki);for(let wn=0;wn<In.locationSize;wn++)vt(In.location+wn,Sr/In.locationSize,Qr,gr,hi*Jr,(Rn+Sr/In.locationSize*wn)*Jr)}else{if(Qn.isInstancedBufferAttribute){for(let er=0;er<In.locationSize;er++)Ie(In.location+er,Qn.meshPerAttribute);Bt.isInstancedMesh!==!0&&Ln._maxInstanceCount===void 0&&(Ln._maxInstanceCount=Qn.meshPerAttribute*Qn.count)}else for(let er=0;er<In.locationSize;er++)ie(In.location+er);c.bindBuffer(34962,ki);for(let er=0;er<In.locationSize;er++)vt(In.location+er,Sr/In.locationSize,Qr,gr,Sr*Jr,Sr/In.locationSize*er*Jr)}}else if(hn!==void 0){const gr=hn[kn];if(gr!==void 0)switch(gr.length){case 2:c.vertexAttrib2fv(In.location,gr);break;case 3:c.vertexAttrib3fv(In.location,gr);break;case 4:c.vertexAttrib4fv(In.location,gr);break;default:c.vertexAttrib1fv(In.location,gr)}}}}Fe()}function je(){En();for(const Bt in l){const gn=l[Bt];for(const qt in gn){const Ln=gn[qt];for(const Tn in Ln)R(Ln[Tn].object),delete Ln[Tn];delete gn[qt]}delete l[Bt]}}function Pt(Bt){if(l[Bt.id]===void 0)return;const gn=l[Bt.id];for(const qt in gn){const Ln=gn[qt];for(const Tn in Ln)R(Ln[Tn].object),delete Ln[Tn];delete gn[qt]}delete l[Bt.id]}function Ht(Bt){for(const gn in l){const qt=l[gn];if(qt[Bt.id]===void 0)continue;const Ln=qt[Bt.id];for(const Tn in Ln)R(Ln[Tn].object),delete Ln[Tn];delete qt[Bt.id]}}function En(){jn(),p=!0,d!==f&&(d=f,b(d.object))}function jn(){f.geometry=null,f.program=null,f.wireframe=!1}return{setup:v,reset:En,resetDefaultState:jn,dispose:je,releaseStatesOfGeometry:Pt,releaseStatesOfProgram:Ht,initAttributes:_e,enableAttribute:ie,disableUnusedAttributes:Fe}}function Jf(c,e,t,n){const r=n.isWebGL2;let o;function a(d){o=d}function l(d,p){c.drawArrays(o,d,p),t.update(p,o,1)}function f(d,p,v){if(v===0)return;let y,b;if(r)y=c,b="drawArraysInstanced";else if(y=e.get("ANGLE_instanced_arrays"),b="drawArraysInstancedANGLE",y===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[b](o,d,p,v),t.update(p,o,v)}this.setMode=a,this.render=l,this.renderInstances=f}function Qf(c,e,t){let n;function r(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const vt=e.get("EXT_texture_filter_anisotropic");n=c.getParameter(vt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function o(vt){if(vt==="highp"){if(c.getShaderPrecisionFormat(35633,36338).precision>0&&c.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";vt="mediump"}return vt==="mediump"&&c.getShaderPrecisionFormat(35633,36337).precision>0&&c.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext!="undefined"&&c instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&c instanceof WebGL2ComputeRenderingContext;let l=t.precision!==void 0?t.precision:"highp";const f=o(l);f!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",f,"instead."),l=f);const d=a||e.has("WEBGL_draw_buffers"),p=t.logarithmicDepthBuffer===!0,v=c.getParameter(34930),y=c.getParameter(35660),b=c.getParameter(3379),R=c.getParameter(34076),S=c.getParameter(34921),E=c.getParameter(36347),G=c.getParameter(36348),q=c.getParameter(36349),_e=y>0,ie=a||e.has("OES_texture_float"),Ie=_e&&ie,Fe=a?c.getParameter(36183):0;return{isWebGL2:a,drawBuffers:d,getMaxAnisotropy:r,getMaxPrecision:o,precision:l,logarithmicDepthBuffer:p,maxTextures:v,maxVertexTextures:y,maxTextureSize:b,maxCubemapSize:R,maxAttributes:S,maxVertexUniforms:E,maxVaryings:G,maxFragmentUniforms:q,vertexTextures:_e,floatFragmentTextures:ie,floatVertexTextures:Ie,maxSamples:Fe}}function ed(c){const e=this;let t=null,n=0,r=!1,o=!1;const a=new oa,l=new Fi,f={value:null,needsUpdate:!1};this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(v,y,b){const R=v.length!==0||y||n!==0||r;return r=y,t=p(v,b,0),n=v.length,R},this.beginShadows=function(){o=!0,p(null)},this.endShadows=function(){o=!1,d()},this.setState=function(v,y,b){const R=v.clippingPlanes,S=v.clipIntersection,E=v.clipShadows,G=c.get(v);if(!r||R===null||R.length===0||o&&!E)o?p(null):d();else{const q=o?0:n,_e=q*4;let ie=G.clippingState||null;f.value=ie,ie=p(R,y,_e,b);for(let Ie=0;Ie!==_e;++Ie)ie[Ie]=t[Ie];G.clippingState=ie,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=q}};function d(){f.value!==t&&(f.value=t,f.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function p(v,y,b,R){const S=v!==null?v.length:0;let E=null;if(S!==0){if(E=f.value,R!==!0||E===null){const G=b+S*4,q=y.matrixWorldInverse;l.getNormalMatrix(q),(E===null||E.length<G)&&(E=new Float32Array(G));for(let _e=0,ie=b;_e!==S;++_e,ie+=4)a.copy(v[_e]).applyMatrix4(q,l),a.normal.toArray(E,ie),E[ie+3]=a.constant}f.value=E,f.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,E}}function td(c){let e=new WeakMap;function t(a,l){return l===Mn?a.mapping=rn:l===xt&&(a.mapping=sn),a}function n(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const l=a.mapping;if(l===Mn||l===xt)if(e.has(a)){const f=e.get(a).texture;return t(f,a.mapping)}else{const f=a.image;if(f&&f.height>0){const d=new Fc(f.height/2);return d.fromEquirectangularTexture(c,a),e.set(a,d),a.addEventListener("dispose",r),t(d.texture,a.mapping)}else return null}}return a}function r(a){const l=a.target;l.removeEventListener("dispose",r);const f=e.get(l);f!==void 0&&(e.delete(l),f.dispose())}function o(){e=new WeakMap}return{get:n,dispose:o}}class iu extends S1{constructor(e=-1,t=1,n=1,r=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=n-e,a=n+e,l=r+t,f=r-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=d*this.view.offsetX,a=o+d*this.view.width,l-=p*this.view.offsetY,f=l-p*this.view.height}this.projectionMatrix.makeOrthographic(o,a,l,f,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const hl=4,P0=[.125,.215,.35,.446,.526,.582],O1=20,$u=new iu,O0=new rr;let ju=null;const I1=(1+Math.sqrt(5))/2,pl=1/I1,I0=[new Ae(1,1,1),new Ae(-1,1,1),new Ae(1,1,-1),new Ae(-1,1,-1),new Ae(0,I1,pl),new Ae(0,I1,-pl),new Ae(pl,0,I1),new Ae(-pl,0,I1),new Ae(I1,pl,0),new Ae(-I1,pl,0)];class Zu{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){ju=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,n,r,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=H0(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=z0(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(ju),e.scissorTest=!1,ou(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===rn||e.mapping===sn?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),ju=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:me,minFilter:me,generateMipmaps:!1,type:Wt,format:xr,encoding:Fo,depthBuffer:!1},r=D0(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=D0(e,t,n);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=nd(o)),this._blurMaterial=rd(o,e,t)}return r}_compileMaterial(e){const t=new Mo(this._lodPlanes[0],e);this._renderer.compile(t,$u)}_sceneToCubeUV(e,t,n,r){const l=new Co(90,1,t,n),f=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],p=this._renderer,v=p.autoClear,y=p.toneMapping;p.getClearColor(O0),p.toneMapping=We,p.autoClear=!1;const b=new ws({name:"PMREM.Background",side:F,depthWrite:!1,depthTest:!1}),R=new Mo(new us,b);let S=!1;const E=e.background;E?E.isColor&&(b.color.copy(E),e.background=null,S=!0):(b.color.copy(O0),S=!0);for(let G=0;G<6;G++){const q=G%3;q===0?(l.up.set(0,f[G],0),l.lookAt(d[G],0,0)):q===1?(l.up.set(0,0,f[G]),l.lookAt(0,d[G],0)):(l.up.set(0,f[G],0),l.lookAt(0,0,d[G]));const _e=this._cubeSize;ou(r,q*_e,G>2?_e:0,_e,_e),p.setRenderTarget(r),S&&p.render(R,l),p.render(e,l)}R.geometry.dispose(),R.material.dispose(),p.toneMapping=y,p.autoClear=v,e.background=E}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===rn||e.mapping===sn;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=H0()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=z0());const o=r?this._cubemapMaterial:this._equirectMaterial,a=new Mo(this._lodPlanes[0],o),l=o.uniforms;l.envMap.value=e;const f=this._cubeSize;ou(t,0,0,3*f,2*f),n.setRenderTarget(t),n.render(a,$u)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=I0[(r-1)%I0.length];this._blur(e,r-1,r,o,a)}t.autoClear=n}_blur(e,t,n,r,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",o),this._halfBlur(a,e,n,n,r,"longitudinal",o)}_halfBlur(e,t,n,r,o,a,l){const f=this._renderer,d=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,v=new Mo(this._lodPlanes[r],d),y=d.uniforms,b=this._sizeLods[n]-1,R=isFinite(o)?Math.PI/(2*b):2*Math.PI/(2*O1-1),S=o/R,E=isFinite(o)?1+Math.floor(p*S):O1;E>O1&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${O1}`);const G=[];let q=0;for(let vt=0;vt<O1;++vt){const ce=vt/S,je=Math.exp(-ce*ce/2);G.push(je),vt===0?q+=je:vt<E&&(q+=2*je)}for(let vt=0;vt<G.length;vt++)G[vt]=G[vt]/q;y.envMap.value=e.texture,y.samples.value=E,y.weights.value=G,y.latitudinal.value=a==="latitudinal",l&&(y.poleAxis.value=l);const{_lodMax:_e}=this;y.dTheta.value=R,y.mipInt.value=_e-n;const ie=this._sizeLods[r],Ie=3*ie*(r>_e-hl?r-_e+hl:0),Fe=4*(this._cubeSize-ie);ou(t,Ie,Fe,3*ie,2*ie),f.setRenderTarget(t),f.render(v,$u)}}function nd(c){const e=[],t=[],n=[];let r=c;const o=c-hl+1+P0.length;for(let a=0;a<o;a++){const l=Math.pow(2,r);t.push(l);let f=1/l;a>c-hl?f=P0[a-c+hl-1]:a===0&&(f=0),n.push(f);const d=1/(l-2),p=-d,v=1+d,y=[p,p,v,p,v,v,p,p,v,v,p,v],b=6,R=6,S=3,E=2,G=1,q=new Float32Array(S*R*b),_e=new Float32Array(E*R*b),ie=new Float32Array(G*R*b);for(let Fe=0;Fe<b;Fe++){const vt=Fe%3*2/3-1,ce=Fe>2?0:-1,je=[vt,ce,0,vt+2/3,ce,0,vt+2/3,ce+1,0,vt,ce,0,vt+2/3,ce+1,0,vt,ce+1,0];q.set(je,S*R*Fe),_e.set(y,E*R*Fe);const Pt=[Fe,Fe,Fe,Fe,Fe,Fe];ie.set(Pt,G*R*Fe)}const Ie=new Dr;Ie.setAttribute("position",new Oi(q,S)),Ie.setAttribute("uv",new Oi(_e,E)),Ie.setAttribute("faceIndex",new Oi(ie,G)),e.push(Ie),r>hl&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function D0(c,e,t){const n=new po(c,e,t);return n.texture.mapping=he,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function ou(c,e,t,n,r){c.viewport.set(e,t,n,r),c.scissor.set(e,t,n,r)}function rd(c,e,t){const n=new Float32Array(O1),r=new Ae(0,1,0);return new Bs({name:"SphericalGaussianBlur",defines:{n:O1,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${c}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:Wu(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ht,depthTest:!1,depthWrite:!1})}function z0(){return new Bs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Wu(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ht,depthTest:!1,depthWrite:!1})}function H0(){return new Bs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Wu(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ht,depthTest:!1,depthWrite:!1})}function Wu(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function id(c){let e=new WeakMap,t=null;function n(l){if(l&&l.isTexture){const f=l.mapping,d=f===Mn||f===xt,p=f===rn||f===sn;if(d||p)if(l.isRenderTargetTexture&&l.needsPMREMUpdate===!0){l.needsPMREMUpdate=!1;let v=e.get(l);return t===null&&(t=new Zu(c)),v=d?t.fromEquirectangular(l,v):t.fromCubemap(l,v),e.set(l,v),v.texture}else{if(e.has(l))return e.get(l).texture;{const v=l.image;if(d&&v&&v.height>0||p&&v&&r(v)){t===null&&(t=new Zu(c));const y=d?t.fromEquirectangular(l):t.fromCubemap(l);return e.set(l,y),l.addEventListener("dispose",o),y.texture}else return null}}}return l}function r(l){let f=0;const d=6;for(let p=0;p<d;p++)l[p]!==void 0&&f++;return f===d}function o(l){const f=l.target;f.removeEventListener("dispose",o);const d=e.get(f);d!==void 0&&(e.delete(f),d.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:a}}function od(c){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=c.getExtension("WEBGL_depth_texture")||c.getExtension("MOZ_WEBGL_depth_texture")||c.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=c.getExtension("WEBGL_compressed_texture_s3tc")||c.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=c.getExtension("WEBGL_compressed_texture_pvrtc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=c.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const r=t(n);return r===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function sd(c,e,t,n){const r={},o=new WeakMap;function a(v){const y=v.target;y.index!==null&&e.remove(y.index);for(const R in y.attributes)e.remove(y.attributes[R]);y.removeEventListener("dispose",a),delete r[y.id];const b=o.get(y);b&&(e.remove(b),o.delete(y)),n.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function l(v,y){return r[y.id]===!0||(y.addEventListener("dispose",a),r[y.id]=!0,t.memory.geometries++),y}function f(v){const y=v.attributes;for(const R in y)e.update(y[R],34962);const b=v.morphAttributes;for(const R in b){const S=b[R];for(let E=0,G=S.length;E<G;E++)e.update(S[E],34962)}}function d(v){const y=[],b=v.index,R=v.attributes.position;let S=0;if(b!==null){const q=b.array;S=b.version;for(let _e=0,ie=q.length;_e<ie;_e+=3){const Ie=q[_e+0],Fe=q[_e+1],vt=q[_e+2];y.push(Ie,Fe,Fe,vt,vt,Ie)}}else{const q=R.array;S=R.version;for(let _e=0,ie=q.length/3-1;_e<ie;_e+=3){const Ie=_e+0,Fe=_e+1,vt=_e+2;y.push(Ie,Fe,Fe,vt,vt,Ie)}}const E=new(as(y)?X1:Wo)(y,1);E.version=S;const G=o.get(v);G&&e.remove(G),o.set(v,E)}function p(v){const y=o.get(v);if(y){const b=v.index;b!==null&&y.version<b.version&&d(v)}else d(v);return o.get(v)}return{get:l,update:f,getWireframeAttribute:p}}function ad(c,e,t,n){const r=n.isWebGL2;let o;function a(y){o=y}let l,f;function d(y){l=y.type,f=y.bytesPerElement}function p(y,b){c.drawElements(o,b,l,y*f),t.update(b,o,1)}function v(y,b,R){if(R===0)return;let S,E;if(r)S=c,E="drawElementsInstanced";else if(S=e.get("ANGLE_instanced_arrays"),E="drawElementsInstancedANGLE",S===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}S[E](o,b,l,y*f,R),t.update(b,o,R)}this.setMode=a,this.setIndex=d,this.render=p,this.renderInstances=v}function ld(c){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(o,a,l){switch(t.calls++,a){case 4:t.triangles+=l*(o/3);break;case 1:t.lines+=l*(o/2);break;case 3:t.lines+=l*(o-1);break;case 2:t.lines+=l*o;break;case 0:t.points+=l*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function cd(c,e){return c[0]-e[0]}function ud(c,e){return Math.abs(e[1])-Math.abs(c[1])}function Gu(c,e){let t=1;const n=e.isInterleavedBufferAttribute?e.data.array:e.array;n instanceof Int8Array?t=127:n instanceof Uint8Array?t=255:n instanceof Uint16Array?t=65535:n instanceof Int16Array?t=32767:n instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",n),c.divideScalar(t)}function fd(c,e,t){const n={},r=new Float32Array(8),o=new WeakMap,a=new vi,l=[];for(let d=0;d<8;d++)l[d]=[d,0];function f(d,p,v,y){const b=d.morphTargetInfluences;if(e.isWebGL2===!0){const R=p.morphAttributes.position||p.morphAttributes.normal||p.morphAttributes.color,S=R!==void 0?R.length:0;let E=o.get(p);if(E===void 0||E.count!==S){let gn=function(){jn.dispose(),o.delete(p),p.removeEventListener("dispose",gn)};E!==void 0&&E.texture.dispose();const _e=p.morphAttributes.position!==void 0,ie=p.morphAttributes.normal!==void 0,Ie=p.morphAttributes.color!==void 0,Fe=p.morphAttributes.position||[],vt=p.morphAttributes.normal||[],ce=p.morphAttributes.color||[];let je=0;_e===!0&&(je=1),ie===!0&&(je=2),Ie===!0&&(je=3);let Pt=p.attributes.position.count*je,Ht=1;Pt>e.maxTextureSize&&(Ht=Math.ceil(Pt/e.maxTextureSize),Pt=e.maxTextureSize);const En=new Float32Array(Pt*Ht*4*S),jn=new Qs(En,Pt,Ht,S);jn.type=Tt,jn.needsUpdate=!0;const Bt=je*4;for(let qt=0;qt<S;qt++){const Ln=Fe[qt],Tn=vt[qt],on=ce[qt],hn=Pt*Ht*4*qt;for(let kn=0;kn<Ln.count;kn++){const In=kn*Bt;_e===!0&&(a.fromBufferAttribute(Ln,kn),Ln.normalized===!0&&Gu(a,Ln),En[hn+In+0]=a.x,En[hn+In+1]=a.y,En[hn+In+2]=a.z,En[hn+In+3]=0),ie===!0&&(a.fromBufferAttribute(Tn,kn),Tn.normalized===!0&&Gu(a,Tn),En[hn+In+4]=a.x,En[hn+In+5]=a.y,En[hn+In+6]=a.z,En[hn+In+7]=0),Ie===!0&&(a.fromBufferAttribute(on,kn),on.normalized===!0&&Gu(a,on),En[hn+In+8]=a.x,En[hn+In+9]=a.y,En[hn+In+10]=a.z,En[hn+In+11]=on.itemSize===4?a.w:1)}}E={count:S,texture:jn,size:new dn(Pt,Ht)},o.set(p,E),p.addEventListener("dispose",gn)}let G=0;for(let _e=0;_e<b.length;_e++)G+=b[_e];const q=p.morphTargetsRelative?1:1-G;y.getUniforms().setValue(c,"morphTargetBaseInfluence",q),y.getUniforms().setValue(c,"morphTargetInfluences",b),y.getUniforms().setValue(c,"morphTargetsTexture",E.texture,t),y.getUniforms().setValue(c,"morphTargetsTextureSize",E.size)}else{const R=b===void 0?0:b.length;let S=n[p.id];if(S===void 0||S.length!==R){S=[];for(let ie=0;ie<R;ie++)S[ie]=[ie,0];n[p.id]=S}for(let ie=0;ie<R;ie++){const Ie=S[ie];Ie[0]=ie,Ie[1]=b[ie]}S.sort(ud);for(let ie=0;ie<8;ie++)ie<R&&S[ie][1]?(l[ie][0]=S[ie][0],l[ie][1]=S[ie][1]):(l[ie][0]=Number.MAX_SAFE_INTEGER,l[ie][1]=0);l.sort(cd);const E=p.morphAttributes.position,G=p.morphAttributes.normal;let q=0;for(let ie=0;ie<8;ie++){const Ie=l[ie],Fe=Ie[0],vt=Ie[1];Fe!==Number.MAX_SAFE_INTEGER&&vt?(E&&p.getAttribute("morphTarget"+ie)!==E[Fe]&&p.setAttribute("morphTarget"+ie,E[Fe]),G&&p.getAttribute("morphNormal"+ie)!==G[Fe]&&p.setAttribute("morphNormal"+ie,G[Fe]),r[ie]=vt,q+=vt):(E&&p.hasAttribute("morphTarget"+ie)===!0&&p.deleteAttribute("morphTarget"+ie),G&&p.hasAttribute("morphNormal"+ie)===!0&&p.deleteAttribute("morphNormal"+ie),r[ie]=0)}const _e=p.morphTargetsRelative?1:1-q;y.getUniforms().setValue(c,"morphTargetBaseInfluence",_e),y.getUniforms().setValue(c,"morphTargetInfluences",r)}}return{update:f}}function dd(c,e,t,n){let r=new WeakMap;function o(f){const d=n.render.frame,p=f.geometry,v=e.get(f,p);return r.get(v)!==d&&(e.update(v),r.set(v,d)),f.isInstancedMesh&&(f.hasEventListener("dispose",l)===!1&&f.addEventListener("dispose",l),t.update(f.instanceMatrix,34962),f.instanceColor!==null&&t.update(f.instanceColor,34962)),v}function a(){r=new WeakMap}function l(f){const d=f.target;d.removeEventListener("dispose",l),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:o,dispose:a}}const V0=new Gi,B0=new Qs,N0=new Ti,F0=new va,k0=[],U0=[],$0=new Float32Array(16),j0=new Float32Array(9),Z0=new Float32Array(4);function ml(c,e,t){const n=c[0];if(n<=0||n>0)return c;const r=e*t;let o=k0[r];if(o===void 0&&(o=new Float32Array(r),k0[r]=o),e!==0){n.toArray(o,0);for(let a=1,l=0;a!==e;++a)l+=t,c[a].toArray(o,l)}return o}function ds(c,e){if(c.length!==e.length)return!1;for(let t=0,n=c.length;t<n;t++)if(c[t]!==e[t])return!1;return!0}function hs(c,e){for(let t=0,n=e.length;t<n;t++)c[t]=e[t]}function su(c,e){let t=U0[e];t===void 0&&(t=new Int32Array(e),U0[e]=t);for(let n=0;n!==e;++n)t[n]=c.allocateTextureUnit();return t}function hd(c,e){const t=this.cache;t[0]!==e&&(c.uniform1f(this.addr,e),t[0]=e)}function pd(c,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(c.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ds(t,e))return;c.uniform2fv(this.addr,e),hs(t,e)}}function md(c,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(c.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(c.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ds(t,e))return;c.uniform3fv(this.addr,e),hs(t,e)}}function gd(c,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(c.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ds(t,e))return;c.uniform4fv(this.addr,e),hs(t,e)}}function vd(c,e){const t=this.cache,n=e.elements;if(n===void 0){if(ds(t,e))return;c.uniformMatrix2fv(this.addr,!1,e),hs(t,e)}else{if(ds(t,n))return;Z0.set(n),c.uniformMatrix2fv(this.addr,!1,Z0),hs(t,n)}}function Cd(c,e){const t=this.cache,n=e.elements;if(n===void 0){if(ds(t,e))return;c.uniformMatrix3fv(this.addr,!1,e),hs(t,e)}else{if(ds(t,n))return;j0.set(n),c.uniformMatrix3fv(this.addr,!1,j0),hs(t,n)}}function _d(c,e){const t=this.cache,n=e.elements;if(n===void 0){if(ds(t,e))return;c.uniformMatrix4fv(this.addr,!1,e),hs(t,e)}else{if(ds(t,n))return;$0.set(n),c.uniformMatrix4fv(this.addr,!1,$0),hs(t,n)}}function yd(c,e){const t=this.cache;t[0]!==e&&(c.uniform1i(this.addr,e),t[0]=e)}function xd(c,e){const t=this.cache;ds(t,e)||(c.uniform2iv(this.addr,e),hs(t,e))}function wd(c,e){const t=this.cache;ds(t,e)||(c.uniform3iv(this.addr,e),hs(t,e))}function bd(c,e){const t=this.cache;ds(t,e)||(c.uniform4iv(this.addr,e),hs(t,e))}function Md(c,e){const t=this.cache;t[0]!==e&&(c.uniform1ui(this.addr,e),t[0]=e)}function Sd(c,e){const t=this.cache;ds(t,e)||(c.uniform2uiv(this.addr,e),hs(t,e))}function Ed(c,e){const t=this.cache;ds(t,e)||(c.uniform3uiv(this.addr,e),hs(t,e))}function Ld(c,e){const t=this.cache;ds(t,e)||(c.uniform4uiv(this.addr,e),hs(t,e))}function Rd(c,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(c.uniform1i(this.addr,r),n[0]=r),t.setTexture2D(e||V0,r)}function Ad(c,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(c.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||N0,r)}function Td(c,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(c.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||F0,r)}function Pd(c,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(c.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||B0,r)}function Od(c){switch(c){case 5126:return hd;case 35664:return pd;case 35665:return md;case 35666:return gd;case 35674:return vd;case 35675:return Cd;case 35676:return _d;case 5124:case 35670:return yd;case 35667:case 35671:return xd;case 35668:case 35672:return wd;case 35669:case 35673:return bd;case 5125:return Md;case 36294:return Sd;case 36295:return Ed;case 36296:return Ld;case 35678:case 36198:case 36298:case 36306:case 35682:return Rd;case 35679:case 36299:case 36307:return Ad;case 35680:case 36300:case 36308:case 36293:return Td;case 36289:case 36303:case 36311:case 36292:return Pd}}function Id(c,e){c.uniform1fv(this.addr,e)}function Dd(c,e){const t=ml(e,this.size,2);c.uniform2fv(this.addr,t)}function zd(c,e){const t=ml(e,this.size,3);c.uniform3fv(this.addr,t)}function Hd(c,e){const t=ml(e,this.size,4);c.uniform4fv(this.addr,t)}function Vd(c,e){const t=ml(e,this.size,4);c.uniformMatrix2fv(this.addr,!1,t)}function Bd(c,e){const t=ml(e,this.size,9);c.uniformMatrix3fv(this.addr,!1,t)}function Nd(c,e){const t=ml(e,this.size,16);c.uniformMatrix4fv(this.addr,!1,t)}function Fd(c,e){c.uniform1iv(this.addr,e)}function kd(c,e){c.uniform2iv(this.addr,e)}function Ud(c,e){c.uniform3iv(this.addr,e)}function $d(c,e){c.uniform4iv(this.addr,e)}function jd(c,e){c.uniform1uiv(this.addr,e)}function W0(c,e){c.uniform2uiv(this.addr,e)}function G0(c,e){c.uniform3uiv(this.addr,e)}function Zd(c,e){c.uniform4uiv(this.addr,e)}function Wd(c,e,t){const n=e.length,r=su(t,n);c.uniform1iv(this.addr,r);for(let o=0;o!==n;++o)t.setTexture2D(e[o]||V0,r[o])}function Gd(c,e,t){const n=e.length,r=su(t,n);c.uniform1iv(this.addr,r);for(let o=0;o!==n;++o)t.setTexture3D(e[o]||N0,r[o])}function Xd(c,e,t){const n=e.length,r=su(t,n);c.uniform1iv(this.addr,r);for(let o=0;o!==n;++o)t.setTextureCube(e[o]||F0,r[o])}function X0(c,e,t){const n=e.length,r=su(t,n);c.uniform1iv(this.addr,r);for(let o=0;o!==n;++o)t.setTexture2DArray(e[o]||B0,r[o])}function Y0(c){switch(c){case 5126:return Id;case 35664:return Dd;case 35665:return zd;case 35666:return Hd;case 35674:return Vd;case 35675:return Bd;case 35676:return Nd;case 5124:case 35670:return Fd;case 35667:case 35671:return kd;case 35668:case 35672:return Ud;case 35669:case 35673:return $d;case 5125:return jd;case 36294:return W0;case 36295:return G0;case 36296:return Zd;case 35678:case 36198:case 36298:case 36306:case 35682:return Wd;case 35679:case 36299:case 36307:return Gd;case 35680:case 36300:case 36308:case 36293:return Xd;case 36289:case 36303:case 36311:case 36292:return X0}}class Yd{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=Od(t.type)}}class Kd{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=Y0(t.type)}}class qd{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let o=0,a=r.length;o!==a;++o){const l=r[o];l.setValue(e,t[l.id],n)}}}const Xu=/(\w+)(\])?(\[|\.)?/g;function Yu(c,e){c.seq.push(e),c.map[e.id]=e}function K0(c,e,t){const n=c.name,r=n.length;for(Xu.lastIndex=0;;){const o=Xu.exec(n),a=Xu.lastIndex;let l=o[1];const f=o[2]==="]",d=o[3];if(f&&(l=l|0),d===void 0||d==="["&&a+2===r){Yu(t,d===void 0?new Yd(l,c,e):new Kd(l,c,e));break}else{let v=t.map[l];v===void 0&&(v=new qd(l),Yu(t,v)),t=v}}}class au{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){const o=e.getActiveUniform(t,r),a=e.getUniformLocation(t,o.name);K0(o,a,this)}}setValue(e,t,n,r){const o=this.map[t];o!==void 0&&o.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let o=0,a=t.length;o!==a;++o){const l=t[o],f=n[l.id];f.needsUpdate!==!1&&l.setValue(e,f.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,o=e.length;r!==o;++r){const a=e[r];a.id in t&&n.push(a)}return n}}function q0(c,e,t){const n=c.createShader(e);return c.shaderSource(n,t),c.compileShader(n),n}let J0=0;function Q0(c,e){const t=c.split(`
`),n=[],r=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let a=r;a<o;a++){const l=a+1;n.push(`${l===e?">":" "} ${l}: ${t[a]}`)}return n.join(`
`)}function Jd(c){switch(c){case Fo:return["Linear","( value )"];case bi:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",c),["Linear","( value )"]}}function ef(c,e,t){const n=c.getShaderParameter(e,35713),r=c.getShaderInfoLog(e).trim();if(n&&r==="")return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const a=parseInt(o[1]);return t.toUpperCase()+`

`+r+`

`+Q0(c.getShaderSource(e),a)}else return r}function Qd(c,e){const t=Jd(e);return"vec4 "+c+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function e2(c,e){let t;switch(e){case Ve:t="Linear";break;case gt:t="Reinhard";break;case $t:t="OptimizedCineon";break;case Gt:t="ACESFilmic";break;case Yt:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+c+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function t2(c){return[c.extensionDerivatives||c.envMapCubeUVHeight||c.bumpMap||c.tangentSpaceNormalMap||c.clearcoatNormalMap||c.flatShading||c.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(c.extensionFragDepth||c.logarithmicDepthBuffer)&&c.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",c.extensionDrawBuffers&&c.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(c.extensionShaderTextureLOD||c.envMap||c.transmission)&&c.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(gl).join(`
`)}function n2(c){const e=[];for(const t in c){const n=c[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function tf(c,e){const t={},n=c.getProgramParameter(e,35721);for(let r=0;r<n;r++){const o=c.getActiveAttrib(e,r),a=o.name;let l=1;o.type===35674&&(l=2),o.type===35675&&(l=3),o.type===35676&&(l=4),t[a]={type:o.type,location:c.getAttribLocation(e,a),locationSize:l}}return t}function gl(c){return c!==""}function nf(c,e){return c.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function rf(c,e){return c.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const r2=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ku(c){return c.replace(r2,i2)}function i2(c,e){const t=ui[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return Ku(t)}const o2=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,s2=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function of(c){return c.replace(s2,sf).replace(o2,a2)}function a2(c,e,t,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),sf(c,e,t,n)}function sf(c,e,t,n){let r="";for(let o=parseInt(e);o<parseInt(t);o++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function af(c){let e="precision "+c.precision+` float;
precision `+c.precision+" int;";return c.precision==="highp"?e+=`
#define HIGH_PRECISION`:c.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:c.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function l2(c){let e="SHADOWMAP_TYPE_BASIC";return c.shadowMapType===le?e="SHADOWMAP_TYPE_PCF":c.shadowMapType===oe?e="SHADOWMAP_TYPE_PCF_SOFT":c.shadowMapType===be&&(e="SHADOWMAP_TYPE_VSM"),e}function c2(c){let e="ENVMAP_TYPE_CUBE";if(c.envMap)switch(c.envMapMode){case rn:case sn:e="ENVMAP_TYPE_CUBE";break;case he:e="ENVMAP_TYPE_CUBE_UV";break}return e}function u2(c){let e="ENVMAP_MODE_REFLECTION";if(c.envMap)switch(c.envMapMode){case sn:e="ENVMAP_MODE_REFRACTION";break}return e}function f2(c){let e="ENVMAP_BLENDING_NONE";if(c.envMap)switch(c.combine){case Mt:e="ENVMAP_BLENDING_MULTIPLY";break;case Et:e="ENVMAP_BLENDING_MIX";break;case Ct:e="ENVMAP_BLENDING_ADD";break}return e}function d2(c){const e=c.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function h2(c,e,t,n){const r=c.getContext(),o=t.defines;let a=t.vertexShader,l=t.fragmentShader;const f=l2(t),d=c2(t),p=u2(t),v=f2(t),y=d2(t),b=t.isWebGL2?"":t2(t),R=n2(o),S=r.createProgram();let E,G,q=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(E=[R].filter(gl).join(`
`),E.length>0&&(E+=`
`),G=[b,R].filter(gl).join(`
`),G.length>0&&(G+=`
`)):(E=[af(t),"#define SHADER_NAME "+t.shaderName,R,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(gl).join(`
`),G=[b,af(t),"#define SHADER_NAME "+t.shaderName,R,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+p:"",t.envMap?"#define "+v:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==We?"#define TONE_MAPPING":"",t.toneMapping!==We?ui.tonemapping_pars_fragment:"",t.toneMapping!==We?e2("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ui.encodings_pars_fragment,Qd("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(gl).join(`
`)),a=Ku(a),a=nf(a,t),a=rf(a,t),l=Ku(l),l=nf(l,t),l=rf(l,t),a=of(a),l=of(l),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(q=`#version 300 es
`,E=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,G=["#define varying in",t.glslVersion===Fr?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Fr?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+G);const _e=q+E+a,ie=q+G+l,Ie=q0(r,35633,_e),Fe=q0(r,35632,ie);if(r.attachShader(S,Ie),r.attachShader(S,Fe),t.index0AttributeName!==void 0?r.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(S,0,"position"),r.linkProgram(S),c.debug.checkShaderErrors){const je=r.getProgramInfoLog(S).trim(),Pt=r.getShaderInfoLog(Ie).trim(),Ht=r.getShaderInfoLog(Fe).trim();let En=!0,jn=!0;if(r.getProgramParameter(S,35714)===!1){En=!1;const Bt=ef(r,Ie,"vertex"),gn=ef(r,Fe,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(S,35715)+`

Program Info Log: `+je+`
`+Bt+`
`+gn)}else je!==""?console.warn("THREE.WebGLProgram: Program Info Log:",je):(Pt===""||Ht==="")&&(jn=!1);jn&&(this.diagnostics={runnable:En,programLog:je,vertexShader:{log:Pt,prefix:E},fragmentShader:{log:Ht,prefix:G}})}r.deleteShader(Ie),r.deleteShader(Fe);let vt;this.getUniforms=function(){return vt===void 0&&(vt=new au(r,S)),vt};let ce;return this.getAttributes=function(){return ce===void 0&&(ce=tf(r,S)),ce},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(S),this.program=void 0},this.name=t.shaderName,this.id=J0++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=Ie,this.fragmentShader=Fe,this}let p2=0;class m2{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),o=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(t.has(e)===!1){const n=new g2(e);t.set(e,n)}return t.get(e)}}class g2{constructor(e){this.id=p2++,this.code=e,this.usedTimes=0}}function v2(c,e,t,n,r,o,a){const l=new _1,f=new m2,d=[],p=r.isWebGL2,v=r.logarithmicDepthBuffer,y=r.vertexTextures;let b=r.precision;const R={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(ce,je,Pt,Ht,En){const jn=Ht.fog,Bt=En.geometry,gn=ce.isMeshStandardMaterial?Ht.environment:null,qt=(ce.isMeshStandardMaterial?t:e).get(ce.envMap||gn),Ln=qt&&qt.mapping===he?qt.image.height:null,Tn=R[ce.type];ce.precision!==null&&(b=r.getMaxPrecision(ce.precision),b!==ce.precision&&console.warn("THREE.WebGLProgram.getParameters:",ce.precision,"not supported, using",b,"instead."));const on=Bt.morphAttributes.position||Bt.morphAttributes.normal||Bt.morphAttributes.color,hn=on!==void 0?on.length:0;let kn=0;Bt.morphAttributes.position!==void 0&&(kn=1),Bt.morphAttributes.normal!==void 0&&(kn=2),Bt.morphAttributes.color!==void 0&&(kn=3);let In,Qn,gr,Sr;if(Tn){const hi=aa[Tn];In=hi.vertexShader,Qn=hi.fragmentShader}else In=ce.vertexShader,Qn=ce.fragmentShader,f.update(ce),gr=f.getVertexShaderID(ce),Sr=f.getFragmentShaderID(ce);const vn=c.getRenderTarget(),ki=ce.alphaTest>0,Qr=ce.clearcoat>0,Jr=ce.iridescence>0;return{isWebGL2:p,shaderID:Tn,shaderName:ce.type,vertexShader:In,fragmentShader:Qn,defines:ce.defines,customVertexShaderID:gr,customFragmentShaderID:Sr,isRawShaderMaterial:ce.isRawShaderMaterial===!0,glslVersion:ce.glslVersion,precision:b,instancing:En.isInstancedMesh===!0,instancingColor:En.isInstancedMesh===!0&&En.instanceColor!==null,supportsVertexTextures:y,outputEncoding:vn===null?c.outputEncoding:vn.isXRRenderTarget===!0?vn.texture.encoding:Fo,map:!!ce.map,matcap:!!ce.matcap,envMap:!!qt,envMapMode:qt&&qt.mapping,envMapCubeUVHeight:Ln,lightMap:!!ce.lightMap,aoMap:!!ce.aoMap,emissiveMap:!!ce.emissiveMap,bumpMap:!!ce.bumpMap,normalMap:!!ce.normalMap,objectSpaceNormalMap:ce.normalMapType===qo,tangentSpaceNormalMap:ce.normalMapType===Wi,decodeVideoTexture:!!ce.map&&ce.map.isVideoTexture===!0&&ce.map.encoding===bi,clearcoat:Qr,clearcoatMap:Qr&&!!ce.clearcoatMap,clearcoatRoughnessMap:Qr&&!!ce.clearcoatRoughnessMap,clearcoatNormalMap:Qr&&!!ce.clearcoatNormalMap,iridescence:Jr,iridescenceMap:Jr&&!!ce.iridescenceMap,iridescenceThicknessMap:Jr&&!!ce.iridescenceThicknessMap,displacementMap:!!ce.displacementMap,roughnessMap:!!ce.roughnessMap,metalnessMap:!!ce.metalnessMap,specularMap:!!ce.specularMap,specularIntensityMap:!!ce.specularIntensityMap,specularColorMap:!!ce.specularColorMap,opaque:ce.transparent===!1&&ce.blending===Rt,alphaMap:!!ce.alphaMap,alphaTest:ki,gradientMap:!!ce.gradientMap,sheen:ce.sheen>0,sheenColorMap:!!ce.sheenColorMap,sheenRoughnessMap:!!ce.sheenRoughnessMap,transmission:ce.transmission>0,transmissionMap:!!ce.transmissionMap,thicknessMap:!!ce.thicknessMap,combine:ce.combine,vertexTangents:!!ce.normalMap&&!!Bt.attributes.tangent,vertexColors:ce.vertexColors,vertexAlphas:ce.vertexColors===!0&&!!Bt.attributes.color&&Bt.attributes.color.itemSize===4,vertexUvs:!!ce.map||!!ce.bumpMap||!!ce.normalMap||!!ce.specularMap||!!ce.alphaMap||!!ce.emissiveMap||!!ce.roughnessMap||!!ce.metalnessMap||!!ce.clearcoatMap||!!ce.clearcoatRoughnessMap||!!ce.clearcoatNormalMap||!!ce.iridescenceMap||!!ce.iridescenceThicknessMap||!!ce.displacementMap||!!ce.transmissionMap||!!ce.thicknessMap||!!ce.specularIntensityMap||!!ce.specularColorMap||!!ce.sheenColorMap||!!ce.sheenRoughnessMap,uvsVertexOnly:!(ce.map||ce.bumpMap||ce.normalMap||ce.specularMap||ce.alphaMap||ce.emissiveMap||ce.roughnessMap||ce.metalnessMap||ce.clearcoatNormalMap||ce.iridescenceMap||ce.iridescenceThicknessMap||ce.transmission>0||ce.transmissionMap||ce.thicknessMap||ce.specularIntensityMap||ce.specularColorMap||ce.sheen>0||ce.sheenColorMap||ce.sheenRoughnessMap)&&!!ce.displacementMap,fog:!!jn,useFog:ce.fog===!0,fogExp2:jn&&jn.isFogExp2,flatShading:!!ce.flatShading,sizeAttenuation:ce.sizeAttenuation,logarithmicDepthBuffer:v,skinning:En.isSkinnedMesh===!0,morphTargets:Bt.morphAttributes.position!==void 0,morphNormals:Bt.morphAttributes.normal!==void 0,morphColors:Bt.morphAttributes.color!==void 0,morphTargetsCount:hn,morphTextureStride:kn,numDirLights:je.directional.length,numPointLights:je.point.length,numSpotLights:je.spot.length,numRectAreaLights:je.rectArea.length,numHemiLights:je.hemi.length,numDirLightShadows:je.directionalShadowMap.length,numPointLightShadows:je.pointShadowMap.length,numSpotLightShadows:je.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:ce.dithering,shadowMapEnabled:c.shadowMap.enabled&&Pt.length>0,shadowMapType:c.shadowMap.type,toneMapping:ce.toneMapped?c.toneMapping:We,physicallyCorrectLights:c.physicallyCorrectLights,premultipliedAlpha:ce.premultipliedAlpha,doubleSided:ce.side===it,flipSided:ce.side===F,useDepthPacking:!!ce.depthPacking,depthPacking:ce.depthPacking||0,index0AttributeName:ce.index0AttributeName,extensionDerivatives:ce.extensions&&ce.extensions.derivatives,extensionFragDepth:ce.extensions&&ce.extensions.fragDepth,extensionDrawBuffers:ce.extensions&&ce.extensions.drawBuffers,extensionShaderTextureLOD:ce.extensions&&ce.extensions.shaderTextureLOD,rendererExtensionFragDepth:p||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:p||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:p||n.has("EXT_shader_texture_lod"),customProgramCacheKey:ce.customProgramCacheKey()}}function E(ce){const je=[];if(ce.shaderID?je.push(ce.shaderID):(je.push(ce.customVertexShaderID),je.push(ce.customFragmentShaderID)),ce.defines!==void 0)for(const Pt in ce.defines)je.push(Pt),je.push(ce.defines[Pt]);return ce.isRawShaderMaterial===!1&&(G(je,ce),q(je,ce),je.push(c.outputEncoding)),je.push(ce.customProgramCacheKey),je.join()}function G(ce,je){ce.push(je.precision),ce.push(je.outputEncoding),ce.push(je.envMapMode),ce.push(je.envMapCubeUVHeight),ce.push(je.combine),ce.push(je.vertexUvs),ce.push(je.fogExp2),ce.push(je.sizeAttenuation),ce.push(je.morphTargetsCount),ce.push(je.morphAttributeCount),ce.push(je.numDirLights),ce.push(je.numPointLights),ce.push(je.numSpotLights),ce.push(je.numHemiLights),ce.push(je.numRectAreaLights),ce.push(je.numDirLightShadows),ce.push(je.numPointLightShadows),ce.push(je.numSpotLightShadows),ce.push(je.shadowMapType),ce.push(je.toneMapping),ce.push(je.numClippingPlanes),ce.push(je.numClipIntersection),ce.push(je.depthPacking)}function q(ce,je){l.disableAll(),je.isWebGL2&&l.enable(0),je.supportsVertexTextures&&l.enable(1),je.instancing&&l.enable(2),je.instancingColor&&l.enable(3),je.map&&l.enable(4),je.matcap&&l.enable(5),je.envMap&&l.enable(6),je.lightMap&&l.enable(7),je.aoMap&&l.enable(8),je.emissiveMap&&l.enable(9),je.bumpMap&&l.enable(10),je.normalMap&&l.enable(11),je.objectSpaceNormalMap&&l.enable(12),je.tangentSpaceNormalMap&&l.enable(13),je.clearcoat&&l.enable(14),je.clearcoatMap&&l.enable(15),je.clearcoatRoughnessMap&&l.enable(16),je.clearcoatNormalMap&&l.enable(17),je.iridescence&&l.enable(18),je.iridescenceMap&&l.enable(19),je.iridescenceThicknessMap&&l.enable(20),je.displacementMap&&l.enable(21),je.specularMap&&l.enable(22),je.roughnessMap&&l.enable(23),je.metalnessMap&&l.enable(24),je.gradientMap&&l.enable(25),je.alphaMap&&l.enable(26),je.alphaTest&&l.enable(27),je.vertexColors&&l.enable(28),je.vertexAlphas&&l.enable(29),je.vertexUvs&&l.enable(30),je.vertexTangents&&l.enable(31),je.uvsVertexOnly&&l.enable(32),je.fog&&l.enable(33),ce.push(l.mask),l.disableAll(),je.useFog&&l.enable(0),je.flatShading&&l.enable(1),je.logarithmicDepthBuffer&&l.enable(2),je.skinning&&l.enable(3),je.morphTargets&&l.enable(4),je.morphNormals&&l.enable(5),je.morphColors&&l.enable(6),je.premultipliedAlpha&&l.enable(7),je.shadowMapEnabled&&l.enable(8),je.physicallyCorrectLights&&l.enable(9),je.doubleSided&&l.enable(10),je.flipSided&&l.enable(11),je.useDepthPacking&&l.enable(12),je.dithering&&l.enable(13),je.specularIntensityMap&&l.enable(14),je.specularColorMap&&l.enable(15),je.transmission&&l.enable(16),je.transmissionMap&&l.enable(17),je.thicknessMap&&l.enable(18),je.sheen&&l.enable(19),je.sheenColorMap&&l.enable(20),je.sheenRoughnessMap&&l.enable(21),je.decodeVideoTexture&&l.enable(22),je.opaque&&l.enable(23),ce.push(l.mask)}function _e(ce){const je=R[ce.type];let Pt;if(je){const Ht=aa[je];Pt=Fl.clone(Ht.uniforms)}else Pt=ce.uniforms;return Pt}function ie(ce,je){let Pt;for(let Ht=0,En=d.length;Ht<En;Ht++){const jn=d[Ht];if(jn.cacheKey===je){Pt=jn,++Pt.usedTimes;break}}return Pt===void 0&&(Pt=new h2(c,je,ce,o),d.push(Pt)),Pt}function Ie(ce){if(--ce.usedTimes===0){const je=d.indexOf(ce);d[je]=d[d.length-1],d.pop(),ce.destroy()}}function Fe(ce){f.remove(ce)}function vt(){f.dispose()}return{getParameters:S,getProgramCacheKey:E,getUniforms:_e,acquireProgram:ie,releaseProgram:Ie,releaseShaderCache:Fe,programs:d,dispose:vt}}function C2(){let c=new WeakMap;function e(o){let a=c.get(o);return a===void 0&&(a={},c.set(o,a)),a}function t(o){c.delete(o)}function n(o,a,l){c.get(o)[a]=l}function r(){c=new WeakMap}return{get:e,remove:t,update:n,dispose:r}}function _2(c,e){return c.groupOrder!==e.groupOrder?c.groupOrder-e.groupOrder:c.renderOrder!==e.renderOrder?c.renderOrder-e.renderOrder:c.material.id!==e.material.id?c.material.id-e.material.id:c.z!==e.z?c.z-e.z:c.id-e.id}function lf(c,e){return c.groupOrder!==e.groupOrder?c.groupOrder-e.groupOrder:c.renderOrder!==e.renderOrder?c.renderOrder-e.renderOrder:c.z!==e.z?e.z-c.z:c.id-e.id}function te(){const c=[];let e=0;const t=[],n=[],r=[];function o(){e=0,t.length=0,n.length=0,r.length=0}function a(v,y,b,R,S,E){let G=c[e];return G===void 0?(G={id:v.id,object:v,geometry:y,material:b,groupOrder:R,renderOrder:v.renderOrder,z:S,group:E},c[e]=G):(G.id=v.id,G.object=v,G.geometry=y,G.material=b,G.groupOrder=R,G.renderOrder=v.renderOrder,G.z=S,G.group=E),e++,G}function l(v,y,b,R,S,E){const G=a(v,y,b,R,S,E);b.transmission>0?n.push(G):b.transparent===!0?r.push(G):t.push(G)}function f(v,y,b,R,S,E){const G=a(v,y,b,R,S,E);b.transmission>0?n.unshift(G):b.transparent===!0?r.unshift(G):t.unshift(G)}function d(v,y){t.length>1&&t.sort(v||_2),n.length>1&&n.sort(y||lf),r.length>1&&r.sort(y||lf)}function p(){for(let v=e,y=c.length;v<y;v++){const b=c[v];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:t,transmissive:n,transparent:r,init:o,push:l,unshift:f,finish:p,sort:d}}function fe(){let c=new WeakMap;function e(n,r){let o;return c.has(n)===!1?(o=new te,c.set(n,[o])):r>=c.get(n).length?(o=new te,c.get(n).push(o)):o=c.get(n)[r],o}function t(){c=new WeakMap}return{get:e,dispose:t}}function ne(){const c={};return{get:function(e){if(c[e.id]!==void 0)return c[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Ae,color:new rr};break;case"SpotLight":t={position:new Ae,direction:new Ae,color:new rr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Ae,color:new rr,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Ae,skyColor:new rr,groundColor:new rr};break;case"RectAreaLight":t={color:new rr,position:new Ae,halfWidth:new Ae,halfHeight:new Ae};break}return c[e.id]=t,t}}}function ae(){const c={};return{get:function(e){if(c[e.id]!==void 0)return c[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dn};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dn};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dn,shadowCameraNear:1,shadowCameraFar:1e3};break}return c[e.id]=t,t}}}let ue=0;function ac(c,e){return(e.castShadow?1:0)-(c.castShadow?1:0)}function O5(c,e){const t=new ne,n=ae(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let p=0;p<9;p++)r.probe.push(new Ae);const o=new Ae,a=new kr,l=new kr;function f(p,v){let y=0,b=0,R=0;for(let je=0;je<9;je++)r.probe[je].set(0,0,0);let S=0,E=0,G=0,q=0,_e=0,ie=0,Ie=0,Fe=0;p.sort(ac);const vt=v!==!0?Math.PI:1;for(let je=0,Pt=p.length;je<Pt;je++){const Ht=p[je],En=Ht.color,jn=Ht.intensity,Bt=Ht.distance,gn=Ht.shadow&&Ht.shadow.map?Ht.shadow.map.texture:null;if(Ht.isAmbientLight)y+=En.r*jn*vt,b+=En.g*jn*vt,R+=En.b*jn*vt;else if(Ht.isLightProbe)for(let qt=0;qt<9;qt++)r.probe[qt].addScaledVector(Ht.sh.coefficients[qt],jn);else if(Ht.isDirectionalLight){const qt=t.get(Ht);if(qt.color.copy(Ht.color).multiplyScalar(Ht.intensity*vt),Ht.castShadow){const Ln=Ht.shadow,Tn=n.get(Ht);Tn.shadowBias=Ln.bias,Tn.shadowNormalBias=Ln.normalBias,Tn.shadowRadius=Ln.radius,Tn.shadowMapSize=Ln.mapSize,r.directionalShadow[S]=Tn,r.directionalShadowMap[S]=gn,r.directionalShadowMatrix[S]=Ht.shadow.matrix,ie++}r.directional[S]=qt,S++}else if(Ht.isSpotLight){const qt=t.get(Ht);if(qt.position.setFromMatrixPosition(Ht.matrixWorld),qt.color.copy(En).multiplyScalar(jn*vt),qt.distance=Bt,qt.coneCos=Math.cos(Ht.angle),qt.penumbraCos=Math.cos(Ht.angle*(1-Ht.penumbra)),qt.decay=Ht.decay,Ht.castShadow){const Ln=Ht.shadow,Tn=n.get(Ht);Tn.shadowBias=Ln.bias,Tn.shadowNormalBias=Ln.normalBias,Tn.shadowRadius=Ln.radius,Tn.shadowMapSize=Ln.mapSize,r.spotShadow[G]=Tn,r.spotShadowMap[G]=gn,r.spotShadowMatrix[G]=Ht.shadow.matrix,Fe++}r.spot[G]=qt,G++}else if(Ht.isRectAreaLight){const qt=t.get(Ht);qt.color.copy(En).multiplyScalar(jn),qt.halfWidth.set(Ht.width*.5,0,0),qt.halfHeight.set(0,Ht.height*.5,0),r.rectArea[q]=qt,q++}else if(Ht.isPointLight){const qt=t.get(Ht);if(qt.color.copy(Ht.color).multiplyScalar(Ht.intensity*vt),qt.distance=Ht.distance,qt.decay=Ht.decay,Ht.castShadow){const Ln=Ht.shadow,Tn=n.get(Ht);Tn.shadowBias=Ln.bias,Tn.shadowNormalBias=Ln.normalBias,Tn.shadowRadius=Ln.radius,Tn.shadowMapSize=Ln.mapSize,Tn.shadowCameraNear=Ln.camera.near,Tn.shadowCameraFar=Ln.camera.far,r.pointShadow[E]=Tn,r.pointShadowMap[E]=gn,r.pointShadowMatrix[E]=Ht.shadow.matrix,Ie++}r.point[E]=qt,E++}else if(Ht.isHemisphereLight){const qt=t.get(Ht);qt.skyColor.copy(Ht.color).multiplyScalar(jn*vt),qt.groundColor.copy(Ht.groundColor).multiplyScalar(jn*vt),r.hemi[_e]=qt,_e++}}q>0&&(e.isWebGL2||c.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=qn.LTC_FLOAT_1,r.rectAreaLTC2=qn.LTC_FLOAT_2):c.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=qn.LTC_HALF_1,r.rectAreaLTC2=qn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=y,r.ambient[1]=b,r.ambient[2]=R;const ce=r.hash;(ce.directionalLength!==S||ce.pointLength!==E||ce.spotLength!==G||ce.rectAreaLength!==q||ce.hemiLength!==_e||ce.numDirectionalShadows!==ie||ce.numPointShadows!==Ie||ce.numSpotShadows!==Fe)&&(r.directional.length=S,r.spot.length=G,r.rectArea.length=q,r.point.length=E,r.hemi.length=_e,r.directionalShadow.length=ie,r.directionalShadowMap.length=ie,r.pointShadow.length=Ie,r.pointShadowMap.length=Ie,r.spotShadow.length=Fe,r.spotShadowMap.length=Fe,r.directionalShadowMatrix.length=ie,r.pointShadowMatrix.length=Ie,r.spotShadowMatrix.length=Fe,ce.directionalLength=S,ce.pointLength=E,ce.spotLength=G,ce.rectAreaLength=q,ce.hemiLength=_e,ce.numDirectionalShadows=ie,ce.numPointShadows=Ie,ce.numSpotShadows=Fe,r.version=ue++)}function d(p,v){let y=0,b=0,R=0,S=0,E=0;const G=v.matrixWorldInverse;for(let q=0,_e=p.length;q<_e;q++){const ie=p[q];if(ie.isDirectionalLight){const Ie=r.directional[y];Ie.direction.setFromMatrixPosition(ie.matrixWorld),o.setFromMatrixPosition(ie.target.matrixWorld),Ie.direction.sub(o),Ie.direction.transformDirection(G),y++}else if(ie.isSpotLight){const Ie=r.spot[R];Ie.position.setFromMatrixPosition(ie.matrixWorld),Ie.position.applyMatrix4(G),Ie.direction.setFromMatrixPosition(ie.matrixWorld),o.setFromMatrixPosition(ie.target.matrixWorld),Ie.direction.sub(o),Ie.direction.transformDirection(G),R++}else if(ie.isRectAreaLight){const Ie=r.rectArea[S];Ie.position.setFromMatrixPosition(ie.matrixWorld),Ie.position.applyMatrix4(G),l.identity(),a.copy(ie.matrixWorld),a.premultiply(G),l.extractRotation(a),Ie.halfWidth.set(ie.width*.5,0,0),Ie.halfHeight.set(0,ie.height*.5,0),Ie.halfWidth.applyMatrix4(l),Ie.halfHeight.applyMatrix4(l),S++}else if(ie.isPointLight){const Ie=r.point[b];Ie.position.setFromMatrixPosition(ie.matrixWorld),Ie.position.applyMatrix4(G),b++}else if(ie.isHemisphereLight){const Ie=r.hemi[E];Ie.direction.setFromMatrixPosition(ie.matrixWorld),Ie.direction.transformDirection(G),E++}}}return{setup:f,setupView:d,state:r}}function y2(c,e){const t=new O5(c,e),n=[],r=[];function o(){n.length=0,r.length=0}function a(v){n.push(v)}function l(v){r.push(v)}function f(v){t.setup(n,v)}function d(v){t.setupView(n,v)}return{init:o,state:{lightsArray:n,shadowsArray:r,lights:t},setupLights:f,setupLightsView:d,pushLight:a,pushShadow:l}}function I5(c,e){let t=new WeakMap;function n(o,a=0){let l;return t.has(o)===!1?(l=new y2(c,e),t.set(o,[l])):a>=t.get(o).length?(l=new y2(c,e),t.get(o).push(l)):l=t.get(o)[a],l}function r(){t=new WeakMap}return{get:n,dispose:r}}class cf extends io{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Fs,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class uf extends io{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Ae,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const D5=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,z5=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function H5(c,e,t){let n=new Fa;const r=new dn,o=new dn,a=new vi,l=new cf({depthPacking:Do}),f=new uf,d={},p=t.maxTextureSize,v={0:F,1:Se,2:it},y=new Bs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new dn},radius:{value:4}},vertexShader:D5,fragmentShader:z5}),b=y.clone();b.defines.HORIZONTAL_PASS=1;const R=new Dr;R.setAttribute("position",new Oi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Mo(R,y),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=le,this.render=function(ie,Ie,Fe){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||ie.length===0)return;const vt=c.getRenderTarget(),ce=c.getActiveCubeFace(),je=c.getActiveMipmapLevel(),Pt=c.state;Pt.setBlending(ht),Pt.buffers.color.setClear(1,1,1,1),Pt.buffers.depth.setTest(!0),Pt.setScissorTest(!1);for(let Ht=0,En=ie.length;Ht<En;Ht++){const jn=ie[Ht],Bt=jn.shadow;if(Bt===void 0){console.warn("THREE.WebGLShadowMap:",jn,"has no shadow.");continue}if(Bt.autoUpdate===!1&&Bt.needsUpdate===!1)continue;r.copy(Bt.mapSize);const gn=Bt.getFrameExtents();if(r.multiply(gn),o.copy(Bt.mapSize),(r.x>p||r.y>p)&&(r.x>p&&(o.x=Math.floor(p/gn.x),r.x=o.x*gn.x,Bt.mapSize.x=o.x),r.y>p&&(o.y=Math.floor(p/gn.y),r.y=o.y*gn.y,Bt.mapSize.y=o.y)),Bt.map===null){const Ln=this.type!==be?{minFilter:Xe,magFilter:Xe}:{};Bt.map=new po(r.x,r.y,Ln),Bt.map.texture.name=jn.name+".shadowMap",Bt.camera.updateProjectionMatrix()}c.setRenderTarget(Bt.map),c.clear();const qt=Bt.getViewportCount();for(let Ln=0;Ln<qt;Ln++){const Tn=Bt.getViewport(Ln);a.set(o.x*Tn.x,o.y*Tn.y,o.x*Tn.z,o.y*Tn.w),Pt.viewport(a),Bt.updateMatrices(jn,Ln),n=Bt.getFrustum(),_e(Ie,Fe,Bt.camera,jn,this.type)}Bt.isPointLightShadow!==!0&&this.type===be&&G(Bt,Fe),Bt.needsUpdate=!1}E.needsUpdate=!1,c.setRenderTarget(vt,ce,je)};function G(ie,Ie){const Fe=e.update(S);y.defines.VSM_SAMPLES!==ie.blurSamples&&(y.defines.VSM_SAMPLES=ie.blurSamples,b.defines.VSM_SAMPLES=ie.blurSamples,y.needsUpdate=!0,b.needsUpdate=!0),ie.mapPass===null&&(ie.mapPass=new po(r.x,r.y)),y.uniforms.shadow_pass.value=ie.map.texture,y.uniforms.resolution.value=ie.mapSize,y.uniforms.radius.value=ie.radius,c.setRenderTarget(ie.mapPass),c.clear(),c.renderBufferDirect(Ie,null,Fe,y,S,null),b.uniforms.shadow_pass.value=ie.mapPass.texture,b.uniforms.resolution.value=ie.mapSize,b.uniforms.radius.value=ie.radius,c.setRenderTarget(ie.map),c.clear(),c.renderBufferDirect(Ie,null,Fe,b,S,null)}function q(ie,Ie,Fe,vt,ce,je){let Pt=null;const Ht=Fe.isPointLight===!0?ie.customDistanceMaterial:ie.customDepthMaterial;if(Ht!==void 0?Pt=Ht:Pt=Fe.isPointLight===!0?f:l,c.localClippingEnabled&&Ie.clipShadows===!0&&Array.isArray(Ie.clippingPlanes)&&Ie.clippingPlanes.length!==0||Ie.displacementMap&&Ie.displacementScale!==0||Ie.alphaMap&&Ie.alphaTest>0){const En=Pt.uuid,jn=Ie.uuid;let Bt=d[En];Bt===void 0&&(Bt={},d[En]=Bt);let gn=Bt[jn];gn===void 0&&(gn=Pt.clone(),Bt[jn]=gn),Pt=gn}return Pt.visible=Ie.visible,Pt.wireframe=Ie.wireframe,je===be?Pt.side=Ie.shadowSide!==null?Ie.shadowSide:Ie.side:Pt.side=Ie.shadowSide!==null?Ie.shadowSide:v[Ie.side],Pt.alphaMap=Ie.alphaMap,Pt.alphaTest=Ie.alphaTest,Pt.clipShadows=Ie.clipShadows,Pt.clippingPlanes=Ie.clippingPlanes,Pt.clipIntersection=Ie.clipIntersection,Pt.displacementMap=Ie.displacementMap,Pt.displacementScale=Ie.displacementScale,Pt.displacementBias=Ie.displacementBias,Pt.wireframeLinewidth=Ie.wireframeLinewidth,Pt.linewidth=Ie.linewidth,Fe.isPointLight===!0&&Pt.isMeshDistanceMaterial===!0&&(Pt.referencePosition.setFromMatrixPosition(Fe.matrixWorld),Pt.nearDistance=vt,Pt.farDistance=ce),Pt}function _e(ie,Ie,Fe,vt,ce){if(ie.visible===!1)return;if(ie.layers.test(Ie.layers)&&(ie.isMesh||ie.isLine||ie.isPoints)&&(ie.castShadow||ie.receiveShadow&&ce===be)&&(!ie.frustumCulled||n.intersectsObject(ie))){ie.modelViewMatrix.multiplyMatrices(Fe.matrixWorldInverse,ie.matrixWorld);const Ht=e.update(ie),En=ie.material;if(Array.isArray(En)){const jn=Ht.groups;for(let Bt=0,gn=jn.length;Bt<gn;Bt++){const qt=jn[Bt],Ln=En[qt.materialIndex];if(Ln&&Ln.visible){const Tn=q(ie,Ln,vt,Fe.near,Fe.far,ce);c.renderBufferDirect(Fe,null,Ht,Tn,ie,qt)}}}else if(En.visible){const jn=q(ie,En,vt,Fe.near,Fe.far,ce);c.renderBufferDirect(Fe,null,Ht,jn,ie,null)}}const Pt=ie.children;for(let Ht=0,En=Pt.length;Ht<En;Ht++)_e(Pt[Ht],Ie,Fe,vt,ce)}}function V5(c,e,t){const n=t.isWebGL2;function r(){let yt=!1;const tr=new vi;let Kn=null;const Nr=new vi(0,0,0,0);return{setMask:function(dr){Kn!==dr&&!yt&&(c.colorMask(dr,dr,dr,dr),Kn=dr)},setLocked:function(dr){yt=dr},setClear:function(dr,Wr,Zn,Gr,Vi){Vi===!0&&(dr*=Gr,Wr*=Gr,Zn*=Gr),tr.set(dr,Wr,Zn,Gr),Nr.equals(tr)===!1&&(c.clearColor(dr,Wr,Zn,Gr),Nr.copy(tr))},reset:function(){yt=!1,Kn=null,Nr.set(-1,0,0,0)}}}function o(){let yt=!1,tr=null,Kn=null,Nr=null;return{setTest:function(dr){dr?Sr(2929):vn(2929)},setMask:function(dr){tr!==dr&&!yt&&(c.depthMask(dr),tr=dr)},setFunc:function(dr){if(Kn!==dr){if(dr)switch(dr){case Le:c.depthFunc(512);break;case Ee:c.depthFunc(519);break;case ke:c.depthFunc(513);break;case qe:c.depthFunc(515);break;case rt:c.depthFunc(514);break;case tt:c.depthFunc(518);break;case St:c.depthFunc(516);break;case at:c.depthFunc(517);break;default:c.depthFunc(515)}else c.depthFunc(515);Kn=dr}},setLocked:function(dr){yt=dr},setClear:function(dr){Nr!==dr&&(c.clearDepth(dr),Nr=dr)},reset:function(){yt=!1,tr=null,Kn=null,Nr=null}}}function a(){let yt=!1,tr=null,Kn=null,Nr=null,dr=null,Wr=null,Zn=null,Gr=null,Vi=null;return{setTest:function(Bi){yt||(Bi?Sr(2960):vn(2960))},setMask:function(Bi){tr!==Bi&&!yt&&(c.stencilMask(Bi),tr=Bi)},setFunc:function(Bi,Rs,Ya){(Kn!==Bi||Nr!==Rs||dr!==Ya)&&(c.stencilFunc(Bi,Rs,Ya),Kn=Bi,Nr=Rs,dr=Ya)},setOp:function(Bi,Rs,Ya){(Wr!==Bi||Zn!==Rs||Gr!==Ya)&&(c.stencilOp(Bi,Rs,Ya),Wr=Bi,Zn=Rs,Gr=Ya)},setLocked:function(Bi){yt=Bi},setClear:function(Bi){Vi!==Bi&&(c.clearStencil(Bi),Vi=Bi)},reset:function(){yt=!1,tr=null,Kn=null,Nr=null,dr=null,Wr=null,Zn=null,Gr=null,Vi=null}}}const l=new r,f=new o,d=new a;let p={},v={},y=new WeakMap,b=[],R=null,S=!1,E=null,G=null,q=null,_e=null,ie=null,Ie=null,Fe=null,vt=!1,ce=null,je=null,Pt=null,Ht=null,En=null;const jn=c.getParameter(35661);let Bt=!1,gn=0;const qt=c.getParameter(7938);qt.indexOf("WebGL")!==-1?(gn=parseFloat(/^WebGL (\d)/.exec(qt)[1]),Bt=gn>=1):qt.indexOf("OpenGL ES")!==-1&&(gn=parseFloat(/^OpenGL ES (\d)/.exec(qt)[1]),Bt=gn>=2);let Ln=null,Tn={};const on=c.getParameter(3088),hn=c.getParameter(2978),kn=new vi().fromArray(on),In=new vi().fromArray(hn);function Qn(yt,tr,Kn){const Nr=new Uint8Array(4),dr=c.createTexture();c.bindTexture(yt,dr),c.texParameteri(yt,10241,9728),c.texParameteri(yt,10240,9728);for(let Wr=0;Wr<Kn;Wr++)c.texImage2D(tr+Wr,0,6408,1,1,0,6408,5121,Nr);return dr}const gr={};gr[3553]=Qn(3553,3553,1),gr[34067]=Qn(34067,34069,6),l.setClear(0,0,0,1),f.setClear(1),d.setClear(0),Sr(2929),f.setFunc(qe),Yn(!1),_r(T),Sr(2884),Rn(ht);function Sr(yt){p[yt]!==!0&&(c.enable(yt),p[yt]=!0)}function vn(yt){p[yt]!==!1&&(c.disable(yt),p[yt]=!1)}function ki(yt,tr){return v[yt]!==tr?(c.bindFramebuffer(yt,tr),v[yt]=tr,n&&(yt===36009&&(v[36160]=tr),yt===36160&&(v[36009]=tr)),!0):!1}function Qr(yt,tr){let Kn=b,Nr=!1;if(yt)if(Kn=y.get(tr),Kn===void 0&&(Kn=[],y.set(tr,Kn)),yt.isWebGLMultipleRenderTargets){const dr=yt.texture;if(Kn.length!==dr.length||Kn[0]!==36064){for(let Wr=0,Zn=dr.length;Wr<Zn;Wr++)Kn[Wr]=36064+Wr;Kn.length=dr.length,Nr=!0}}else Kn[0]!==36064&&(Kn[0]=36064,Nr=!0);else Kn[0]!==1029&&(Kn[0]=1029,Nr=!0);Nr&&(t.isWebGL2?c.drawBuffers(Kn):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Kn))}function Jr(yt){return R!==yt?(c.useProgram(yt),R=yt,!0):!1}const er={[Ot]:32774,[Be]:32778,[Ue]:32779};if(n)er[ft]=32775,er[bt]=32776;else{const yt=e.get("EXT_blend_minmax");yt!==null&&(er[ft]=yt.MIN_EXT,er[bt]=yt.MAX_EXT)}const hi={[j]:0,[ye]:1,[ge]:768,[Ce]:770,[Q]:776,[ee]:774,[de]:772,[ve]:769,[xe]:771,[Pe]:775,[X]:773};function Rn(yt,tr,Kn,Nr,dr,Wr,Zn,Gr){if(yt===ht){S===!0&&(vn(3042),S=!1);return}if(S===!1&&(Sr(3042),S=!0),yt!==zt){if(yt!==E||Gr!==vt){if((G!==Ot||ie!==Ot)&&(c.blendEquation(32774),G=Ot,ie=Ot),Gr)switch(yt){case Rt:c.blendFuncSeparate(1,771,1,771);break;case O:c.blendFunc(1,1);break;case Ye:c.blendFuncSeparate(0,769,0,1);break;case pt:c.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",yt);break}else switch(yt){case Rt:c.blendFuncSeparate(770,771,1,771);break;case O:c.blendFunc(770,1);break;case Ye:c.blendFuncSeparate(0,769,0,1);break;case pt:c.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",yt);break}q=null,_e=null,Ie=null,Fe=null,E=yt,vt=Gr}return}dr=dr||tr,Wr=Wr||Kn,Zn=Zn||Nr,(tr!==G||dr!==ie)&&(c.blendEquationSeparate(er[tr],er[dr]),G=tr,ie=dr),(Kn!==q||Nr!==_e||Wr!==Ie||Zn!==Fe)&&(c.blendFuncSeparate(hi[Kn],hi[Nr],hi[Wr],hi[Zn]),q=Kn,_e=Nr,Ie=Wr,Fe=Zn),E=yt,vt=null}function wn(yt,tr){yt.side===it?vn(2884):Sr(2884);let Kn=yt.side===F;tr&&(Kn=!Kn),Yn(Kn),yt.blending===Rt&&yt.transparent===!1?Rn(ht):Rn(yt.blending,yt.blendEquation,yt.blendSrc,yt.blendDst,yt.blendEquationAlpha,yt.blendSrcAlpha,yt.blendDstAlpha,yt.premultipliedAlpha),f.setFunc(yt.depthFunc),f.setTest(yt.depthTest),f.setMask(yt.depthWrite),l.setMask(yt.colorWrite);const Nr=yt.stencilWrite;d.setTest(Nr),Nr&&(d.setMask(yt.stencilWriteMask),d.setFunc(yt.stencilFunc,yt.stencilRef,yt.stencilFuncMask),d.setOp(yt.stencilFail,yt.stencilZFail,yt.stencilZPass)),ei(yt.polygonOffset,yt.polygonOffsetFactor,yt.polygonOffsetUnits),yt.alphaToCoverage===!0?Sr(32926):vn(32926)}function Yn(yt){ce!==yt&&(yt?c.frontFace(2304):c.frontFace(2305),ce=yt)}function _r(yt){yt!==_?(Sr(2884),yt!==je&&(yt===T?c.cullFace(1029):yt===k?c.cullFace(1028):c.cullFace(1032))):vn(2884),je=yt}function or(yt){yt!==Pt&&(Bt&&c.lineWidth(yt),Pt=yt)}function ei(yt,tr,Kn){yt?(Sr(32823),(Ht!==tr||En!==Kn)&&(c.polygonOffset(tr,Kn),Ht=tr,En=Kn)):vn(32823)}function zr(yt){yt?Sr(3089):vn(3089)}function Rr(yt){yt===void 0&&(yt=33984+jn-1),Ln!==yt&&(c.activeTexture(yt),Ln=yt)}function qi(yt,tr){Ln===null&&Rr();let Kn=Tn[Ln];Kn===void 0&&(Kn={type:void 0,texture:void 0},Tn[Ln]=Kn),(Kn.type!==yt||Kn.texture!==tr)&&(c.bindTexture(yt,tr||gr[yt]),Kn.type=yt,Kn.texture=tr)}function Ui(){const yt=Tn[Ln];yt!==void 0&&yt.type!==void 0&&(c.bindTexture(yt.type,null),yt.type=void 0,yt.texture=void 0)}function Ze(){try{c.compressedTexImage2D.apply(c,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function Te(){try{c.texSubImage2D.apply(c,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function ln(){try{c.texSubImage3D.apply(c,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function Nn(){try{c.compressedTexSubImage2D.apply(c,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function Wn(){try{c.texStorage2D.apply(c,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function sr(){try{c.texStorage3D.apply(c,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function Zr(){try{c.texImage2D.apply(c,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function cn(){try{c.texImage3D.apply(c,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function br(yt){kn.equals(yt)===!1&&(c.scissor(yt.x,yt.y,yt.z,yt.w),kn.copy(yt))}function fr(yt){In.equals(yt)===!1&&(c.viewport(yt.x,yt.y,yt.z,yt.w),In.copy(yt))}function ur(){c.disable(3042),c.disable(2884),c.disable(2929),c.disable(32823),c.disable(3089),c.disable(2960),c.disable(32926),c.blendEquation(32774),c.blendFunc(1,0),c.blendFuncSeparate(1,0,1,0),c.colorMask(!0,!0,!0,!0),c.clearColor(0,0,0,0),c.depthMask(!0),c.depthFunc(513),c.clearDepth(1),c.stencilMask(4294967295),c.stencilFunc(519,0,4294967295),c.stencilOp(7680,7680,7680),c.clearStencil(0),c.cullFace(1029),c.frontFace(2305),c.polygonOffset(0,0),c.activeTexture(33984),c.bindFramebuffer(36160,null),n===!0&&(c.bindFramebuffer(36009,null),c.bindFramebuffer(36008,null)),c.useProgram(null),c.lineWidth(1),c.scissor(0,0,c.canvas.width,c.canvas.height),c.viewport(0,0,c.canvas.width,c.canvas.height),p={},Ln=null,Tn={},v={},y=new WeakMap,b=[],R=null,S=!1,E=null,G=null,q=null,_e=null,ie=null,Ie=null,Fe=null,vt=!1,ce=null,je=null,Pt=null,Ht=null,En=null,kn.set(0,0,c.canvas.width,c.canvas.height),In.set(0,0,c.canvas.width,c.canvas.height),l.reset(),f.reset(),d.reset()}return{buffers:{color:l,depth:f,stencil:d},enable:Sr,disable:vn,bindFramebuffer:ki,drawBuffers:Qr,useProgram:Jr,setBlending:Rn,setMaterial:wn,setFlipSided:Yn,setCullFace:_r,setLineWidth:or,setPolygonOffset:ei,setScissorTest:zr,activeTexture:Rr,bindTexture:qi,unbindTexture:Ui,compressedTexImage2D:Ze,texImage2D:Zr,texImage3D:cn,texStorage2D:Wn,texStorage3D:sr,texSubImage2D:Te,texSubImage3D:ln,compressedTexSubImage2D:Nn,scissor:br,viewport:fr,reset:ur}}function B5(c,e,t,n,r,o,a){const l=r.isWebGL2,f=r.maxTextures,d=r.maxCubemapSize,p=r.maxTextureSize,v=r.maxSamples,y=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,b=/OculusBrowser/g.test(navigator.userAgent),R=new WeakMap;let S;const E=new WeakMap;let G=!1;try{G=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(Ze){}function q(Ze,Te){return G?new OffscreenCanvas(Ze,Te):vs("canvas")}function _e(Ze,Te,ln,Nn){let Wn=1;if((Ze.width>Nn||Ze.height>Nn)&&(Wn=Nn/Math.max(Ze.width,Ze.height)),Wn<1||Te===!0)if(typeof HTMLImageElement!="undefined"&&Ze instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&Ze instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&Ze instanceof ImageBitmap){const sr=Te?ss:Math.floor,Zr=sr(Wn*Ze.width),cn=sr(Wn*Ze.height);S===void 0&&(S=q(Zr,cn));const br=ln?q(Zr,cn):S;return br.width=Zr,br.height=cn,br.getContext("2d").drawImage(Ze,0,0,Zr,cn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ze.width+"x"+Ze.height+") to ("+Zr+"x"+cn+")."),br}else return"data"in Ze&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ze.width+"x"+Ze.height+")."),Ze;return Ze}function ie(Ze){return ua(Ze.width)&&ua(Ze.height)}function Ie(Ze){return l?!1:Ze.wrapS!==Oe||Ze.wrapT!==Oe||Ze.minFilter!==Xe&&Ze.minFilter!==me}function Fe(Ze,Te){return Ze.generateMipmaps&&Te&&Ze.minFilter!==Xe&&Ze.minFilter!==me}function vt(Ze){c.generateMipmap(Ze)}function ce(Ze,Te,ln,Nn,Wn=!1){if(l===!1)return Te;if(Ze!==null){if(c[Ze]!==void 0)return c[Ze];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Ze+"'")}let sr=Te;return Te===6403&&(ln===5126&&(sr=33326),ln===5131&&(sr=33325),ln===5121&&(sr=33321)),Te===33319&&(ln===5126&&(sr=33328),ln===5131&&(sr=33327),ln===5121&&(sr=33323)),Te===6408&&(ln===5126&&(sr=34836),ln===5131&&(sr=34842),ln===5121&&(sr=Nn===bi&&Wn===!1?35907:32856),ln===32819&&(sr=32854),ln===32820&&(sr=32855)),(sr===33325||sr===33326||sr===33327||sr===33328||sr===34842||sr===34836)&&e.get("EXT_color_buffer_float"),sr}function je(Ze,Te,ln){return Fe(Ze,ln)===!0||Ze.isFramebufferTexture&&Ze.minFilter!==Xe&&Ze.minFilter!==me?Math.log2(Math.max(Te.width,Te.height))+1:Ze.mipmaps!==void 0&&Ze.mipmaps.length>0?Ze.mipmaps.length:Ze.isCompressedTexture&&Array.isArray(Ze.image)?Te.mipmaps.length:1}function Pt(Ze){return Ze===Xe||Ze===Nt||Ze===Dn?9728:9729}function Ht(Ze){const Te=Ze.target;Te.removeEventListener("dispose",Ht),jn(Te),Te.isVideoTexture&&R.delete(Te)}function En(Ze){const Te=Ze.target;Te.removeEventListener("dispose",En),gn(Te)}function jn(Ze){const Te=n.get(Ze);if(Te.__webglInit===void 0)return;const ln=Ze.source,Nn=E.get(ln);if(Nn){const Wn=Nn[Te.__cacheKey];Wn.usedTimes--,Wn.usedTimes===0&&Bt(Ze),Object.keys(Nn).length===0&&E.delete(ln)}n.remove(Ze)}function Bt(Ze){const Te=n.get(Ze);c.deleteTexture(Te.__webglTexture);const ln=Ze.source,Nn=E.get(ln);delete Nn[Te.__cacheKey],a.memory.textures--}function gn(Ze){const Te=Ze.texture,ln=n.get(Ze),Nn=n.get(Te);if(Nn.__webglTexture!==void 0&&(c.deleteTexture(Nn.__webglTexture),a.memory.textures--),Ze.depthTexture&&Ze.depthTexture.dispose(),Ze.isWebGLCubeRenderTarget)for(let Wn=0;Wn<6;Wn++)c.deleteFramebuffer(ln.__webglFramebuffer[Wn]),ln.__webglDepthbuffer&&c.deleteRenderbuffer(ln.__webglDepthbuffer[Wn]);else{if(c.deleteFramebuffer(ln.__webglFramebuffer),ln.__webglDepthbuffer&&c.deleteRenderbuffer(ln.__webglDepthbuffer),ln.__webglMultisampledFramebuffer&&c.deleteFramebuffer(ln.__webglMultisampledFramebuffer),ln.__webglColorRenderbuffer)for(let Wn=0;Wn<ln.__webglColorRenderbuffer.length;Wn++)ln.__webglColorRenderbuffer[Wn]&&c.deleteRenderbuffer(ln.__webglColorRenderbuffer[Wn]);ln.__webglDepthRenderbuffer&&c.deleteRenderbuffer(ln.__webglDepthRenderbuffer)}if(Ze.isWebGLMultipleRenderTargets)for(let Wn=0,sr=Te.length;Wn<sr;Wn++){const Zr=n.get(Te[Wn]);Zr.__webglTexture&&(c.deleteTexture(Zr.__webglTexture),a.memory.textures--),n.remove(Te[Wn])}n.remove(Te),n.remove(Ze)}let qt=0;function Ln(){qt=0}function Tn(){const Ze=qt;return Ze>=f&&console.warn("THREE.WebGLTextures: Trying to use "+Ze+" texture units while this GPU supports only "+f),qt+=1,Ze}function on(Ze){const Te=[];return Te.push(Ze.wrapS),Te.push(Ze.wrapT),Te.push(Ze.magFilter),Te.push(Ze.minFilter),Te.push(Ze.anisotropy),Te.push(Ze.internalFormat),Te.push(Ze.format),Te.push(Ze.type),Te.push(Ze.generateMipmaps),Te.push(Ze.premultiplyAlpha),Te.push(Ze.flipY),Te.push(Ze.unpackAlignment),Te.push(Ze.encoding),Te.join()}function hn(Ze,Te){const ln=n.get(Ze);if(Ze.isVideoTexture&&qi(Ze),Ze.isRenderTargetTexture===!1&&Ze.version>0&&ln.__version!==Ze.version){const Nn=Ze.image;if(Nn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Nn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Qr(ln,Ze,Te);return}}t.activeTexture(33984+Te),t.bindTexture(3553,ln.__webglTexture)}function kn(Ze,Te){const ln=n.get(Ze);if(Ze.version>0&&ln.__version!==Ze.version){Qr(ln,Ze,Te);return}t.activeTexture(33984+Te),t.bindTexture(35866,ln.__webglTexture)}function In(Ze,Te){const ln=n.get(Ze);if(Ze.version>0&&ln.__version!==Ze.version){Qr(ln,Ze,Te);return}t.activeTexture(33984+Te),t.bindTexture(32879,ln.__webglTexture)}function Qn(Ze,Te){const ln=n.get(Ze);if(Ze.version>0&&ln.__version!==Ze.version){Jr(ln,Ze,Te);return}t.activeTexture(33984+Te),t.bindTexture(34067,ln.__webglTexture)}const gr={[Me]:10497,[Oe]:33071,[Ke]:33648},Sr={[Xe]:9728,[Nt]:9984,[Dn]:9986,[me]:9729,[Je]:9985,[et]:9987};function vn(Ze,Te,ln){if(ln?(c.texParameteri(Ze,10242,gr[Te.wrapS]),c.texParameteri(Ze,10243,gr[Te.wrapT]),(Ze===32879||Ze===35866)&&c.texParameteri(Ze,32882,gr[Te.wrapR]),c.texParameteri(Ze,10240,Sr[Te.magFilter]),c.texParameteri(Ze,10241,Sr[Te.minFilter])):(c.texParameteri(Ze,10242,33071),c.texParameteri(Ze,10243,33071),(Ze===32879||Ze===35866)&&c.texParameteri(Ze,32882,33071),(Te.wrapS!==Oe||Te.wrapT!==Oe)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),c.texParameteri(Ze,10240,Pt(Te.magFilter)),c.texParameteri(Ze,10241,Pt(Te.minFilter)),Te.minFilter!==Xe&&Te.minFilter!==me&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Nn=e.get("EXT_texture_filter_anisotropic");if(Te.type===Tt&&e.has("OES_texture_float_linear")===!1||l===!1&&Te.type===Wt&&e.has("OES_texture_half_float_linear")===!1)return;(Te.anisotropy>1||n.get(Te).__currentAnisotropy)&&(c.texParameterf(Ze,Nn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Te.anisotropy,r.getMaxAnisotropy())),n.get(Te).__currentAnisotropy=Te.anisotropy)}}function ki(Ze,Te){let ln=!1;Ze.__webglInit===void 0&&(Ze.__webglInit=!0,Te.addEventListener("dispose",Ht));const Nn=Te.source;let Wn=E.get(Nn);Wn===void 0&&(Wn={},E.set(Nn,Wn));const sr=on(Te);if(sr!==Ze.__cacheKey){Wn[sr]===void 0&&(Wn[sr]={texture:c.createTexture(),usedTimes:0},a.memory.textures++,ln=!0),Wn[sr].usedTimes++;const Zr=Wn[Ze.__cacheKey];Zr!==void 0&&(Wn[Ze.__cacheKey].usedTimes--,Zr.usedTimes===0&&Bt(Te)),Ze.__cacheKey=sr,Ze.__webglTexture=Wn[sr].texture}return ln}function Qr(Ze,Te,ln){let Nn=3553;Te.isDataArrayTexture&&(Nn=35866),Te.isData3DTexture&&(Nn=32879);const Wn=ki(Ze,Te),sr=Te.source;if(t.activeTexture(33984+ln),t.bindTexture(Nn,Ze.__webglTexture),sr.version!==sr.__currentVersion||Wn===!0){c.pixelStorei(37440,Te.flipY),c.pixelStorei(37441,Te.premultiplyAlpha),c.pixelStorei(3317,Te.unpackAlignment),c.pixelStorei(37443,0);const Zr=Ie(Te)&&ie(Te.image)===!1;let cn=_e(Te.image,Zr,!1,p);cn=Ui(Te,cn);const br=ie(cn)||l,fr=o.convert(Te.format,Te.encoding);let ur=o.convert(Te.type),yt=ce(Te.internalFormat,fr,ur,Te.encoding,Te.isVideoTexture);vn(Nn,Te,br);let tr;const Kn=Te.mipmaps,Nr=l&&Te.isVideoTexture!==!0,dr=sr.__currentVersion===void 0||Wn===!0,Wr=je(Te,cn,br);if(Te.isDepthTexture)yt=6402,l?Te.type===Tt?yt=36012:Te.type===lt?yt=33190:Te.type===Gn?yt=35056:yt=33189:Te.type===Tt&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Te.format===jr&&yt===6402&&Te.type!==pe&&Te.type!==lt&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Te.type=lt,ur=o.convert(Te.type)),Te.format===I&&yt===6402&&(yt=34041,Te.type!==Gn&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Te.type=Gn,ur=o.convert(Te.type))),dr&&(Nr?t.texStorage2D(3553,1,yt,cn.width,cn.height):t.texImage2D(3553,0,yt,cn.width,cn.height,0,fr,ur,null));else if(Te.isDataTexture)if(Kn.length>0&&br){Nr&&dr&&t.texStorage2D(3553,Wr,yt,Kn[0].width,Kn[0].height);for(let Zn=0,Gr=Kn.length;Zn<Gr;Zn++)tr=Kn[Zn],Nr?t.texSubImage2D(3553,Zn,0,0,tr.width,tr.height,fr,ur,tr.data):t.texImage2D(3553,Zn,yt,tr.width,tr.height,0,fr,ur,tr.data);Te.generateMipmaps=!1}else Nr?(dr&&t.texStorage2D(3553,Wr,yt,cn.width,cn.height),t.texSubImage2D(3553,0,0,0,cn.width,cn.height,fr,ur,cn.data)):t.texImage2D(3553,0,yt,cn.width,cn.height,0,fr,ur,cn.data);else if(Te.isCompressedTexture){Nr&&dr&&t.texStorage2D(3553,Wr,yt,Kn[0].width,Kn[0].height);for(let Zn=0,Gr=Kn.length;Zn<Gr;Zn++)tr=Kn[Zn],Te.format!==xr?fr!==null?Nr?t.compressedTexSubImage2D(3553,Zn,0,0,tr.width,tr.height,fr,tr.data):t.compressedTexImage2D(3553,Zn,yt,tr.width,tr.height,0,tr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Nr?t.texSubImage2D(3553,Zn,0,0,tr.width,tr.height,fr,ur,tr.data):t.texImage2D(3553,Zn,yt,tr.width,tr.height,0,fr,ur,tr.data)}else if(Te.isDataArrayTexture)Nr?(dr&&t.texStorage3D(35866,Wr,yt,cn.width,cn.height,cn.depth),t.texSubImage3D(35866,0,0,0,0,cn.width,cn.height,cn.depth,fr,ur,cn.data)):t.texImage3D(35866,0,yt,cn.width,cn.height,cn.depth,0,fr,ur,cn.data);else if(Te.isData3DTexture)Nr?(dr&&t.texStorage3D(32879,Wr,yt,cn.width,cn.height,cn.depth),t.texSubImage3D(32879,0,0,0,0,cn.width,cn.height,cn.depth,fr,ur,cn.data)):t.texImage3D(32879,0,yt,cn.width,cn.height,cn.depth,0,fr,ur,cn.data);else if(Te.isFramebufferTexture){if(dr)if(Nr)t.texStorage2D(3553,Wr,yt,cn.width,cn.height);else{let Zn=cn.width,Gr=cn.height;for(let Vi=0;Vi<Wr;Vi++)t.texImage2D(3553,Vi,yt,Zn,Gr,0,fr,ur,null),Zn>>=1,Gr>>=1}}else if(Kn.length>0&&br){Nr&&dr&&t.texStorage2D(3553,Wr,yt,Kn[0].width,Kn[0].height);for(let Zn=0,Gr=Kn.length;Zn<Gr;Zn++)tr=Kn[Zn],Nr?t.texSubImage2D(3553,Zn,0,0,fr,ur,tr):t.texImage2D(3553,Zn,yt,fr,ur,tr);Te.generateMipmaps=!1}else Nr?(dr&&t.texStorage2D(3553,Wr,yt,cn.width,cn.height),t.texSubImage2D(3553,0,0,0,fr,ur,cn)):t.texImage2D(3553,0,yt,fr,ur,cn);Fe(Te,br)&&vt(Nn),sr.__currentVersion=sr.version,Te.onUpdate&&Te.onUpdate(Te)}Ze.__version=Te.version}function Jr(Ze,Te,ln){if(Te.image.length!==6)return;const Nn=ki(Ze,Te),Wn=Te.source;if(t.activeTexture(33984+ln),t.bindTexture(34067,Ze.__webglTexture),Wn.version!==Wn.__currentVersion||Nn===!0){c.pixelStorei(37440,Te.flipY),c.pixelStorei(37441,Te.premultiplyAlpha),c.pixelStorei(3317,Te.unpackAlignment),c.pixelStorei(37443,0);const sr=Te.isCompressedTexture||Te.image[0].isCompressedTexture,Zr=Te.image[0]&&Te.image[0].isDataTexture,cn=[];for(let Zn=0;Zn<6;Zn++)!sr&&!Zr?cn[Zn]=_e(Te.image[Zn],!1,!0,d):cn[Zn]=Zr?Te.image[Zn].image:Te.image[Zn],cn[Zn]=Ui(Te,cn[Zn]);const br=cn[0],fr=ie(br)||l,ur=o.convert(Te.format,Te.encoding),yt=o.convert(Te.type),tr=ce(Te.internalFormat,ur,yt,Te.encoding),Kn=l&&Te.isVideoTexture!==!0,Nr=Wn.__currentVersion===void 0||Nn===!0;let dr=je(Te,br,fr);vn(34067,Te,fr);let Wr;if(sr){Kn&&Nr&&t.texStorage2D(34067,dr,tr,br.width,br.height);for(let Zn=0;Zn<6;Zn++){Wr=cn[Zn].mipmaps;for(let Gr=0;Gr<Wr.length;Gr++){const Vi=Wr[Gr];Te.format!==xr?ur!==null?Kn?t.compressedTexSubImage2D(34069+Zn,Gr,0,0,Vi.width,Vi.height,ur,Vi.data):t.compressedTexImage2D(34069+Zn,Gr,tr,Vi.width,Vi.height,0,Vi.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Kn?t.texSubImage2D(34069+Zn,Gr,0,0,Vi.width,Vi.height,ur,yt,Vi.data):t.texImage2D(34069+Zn,Gr,tr,Vi.width,Vi.height,0,ur,yt,Vi.data)}}}else{Wr=Te.mipmaps,Kn&&Nr&&(Wr.length>0&&dr++,t.texStorage2D(34067,dr,tr,cn[0].width,cn[0].height));for(let Zn=0;Zn<6;Zn++)if(Zr){Kn?t.texSubImage2D(34069+Zn,0,0,0,cn[Zn].width,cn[Zn].height,ur,yt,cn[Zn].data):t.texImage2D(34069+Zn,0,tr,cn[Zn].width,cn[Zn].height,0,ur,yt,cn[Zn].data);for(let Gr=0;Gr<Wr.length;Gr++){const Bi=Wr[Gr].image[Zn].image;Kn?t.texSubImage2D(34069+Zn,Gr+1,0,0,Bi.width,Bi.height,ur,yt,Bi.data):t.texImage2D(34069+Zn,Gr+1,tr,Bi.width,Bi.height,0,ur,yt,Bi.data)}}else{Kn?t.texSubImage2D(34069+Zn,0,0,0,ur,yt,cn[Zn]):t.texImage2D(34069+Zn,0,tr,ur,yt,cn[Zn]);for(let Gr=0;Gr<Wr.length;Gr++){const Vi=Wr[Gr];Kn?t.texSubImage2D(34069+Zn,Gr+1,0,0,ur,yt,Vi.image[Zn]):t.texImage2D(34069+Zn,Gr+1,tr,ur,yt,Vi.image[Zn])}}}Fe(Te,fr)&&vt(34067),Wn.__currentVersion=Wn.version,Te.onUpdate&&Te.onUpdate(Te)}Ze.__version=Te.version}function er(Ze,Te,ln,Nn,Wn){const sr=o.convert(ln.format,ln.encoding),Zr=o.convert(ln.type),cn=ce(ln.internalFormat,sr,Zr,ln.encoding);n.get(Te).__hasExternalTextures||(Wn===32879||Wn===35866?t.texImage3D(Wn,0,cn,Te.width,Te.height,Te.depth,0,sr,Zr,null):t.texImage2D(Wn,0,cn,Te.width,Te.height,0,sr,Zr,null)),t.bindFramebuffer(36160,Ze),Rr(Te)?y.framebufferTexture2DMultisampleEXT(36160,Nn,Wn,n.get(ln).__webglTexture,0,zr(Te)):c.framebufferTexture2D(36160,Nn,Wn,n.get(ln).__webglTexture,0),t.bindFramebuffer(36160,null)}function hi(Ze,Te,ln){if(c.bindRenderbuffer(36161,Ze),Te.depthBuffer&&!Te.stencilBuffer){let Nn=33189;if(ln||Rr(Te)){const Wn=Te.depthTexture;Wn&&Wn.isDepthTexture&&(Wn.type===Tt?Nn=36012:Wn.type===lt&&(Nn=33190));const sr=zr(Te);Rr(Te)?y.renderbufferStorageMultisampleEXT(36161,sr,Nn,Te.width,Te.height):c.renderbufferStorageMultisample(36161,sr,Nn,Te.width,Te.height)}else c.renderbufferStorage(36161,Nn,Te.width,Te.height);c.framebufferRenderbuffer(36160,36096,36161,Ze)}else if(Te.depthBuffer&&Te.stencilBuffer){const Nn=zr(Te);ln&&Rr(Te)===!1?c.renderbufferStorageMultisample(36161,Nn,35056,Te.width,Te.height):Rr(Te)?y.renderbufferStorageMultisampleEXT(36161,Nn,35056,Te.width,Te.height):c.renderbufferStorage(36161,34041,Te.width,Te.height),c.framebufferRenderbuffer(36160,33306,36161,Ze)}else{const Nn=Te.isWebGLMultipleRenderTargets===!0?Te.texture:[Te.texture];for(let Wn=0;Wn<Nn.length;Wn++){const sr=Nn[Wn],Zr=o.convert(sr.format,sr.encoding),cn=o.convert(sr.type),br=ce(sr.internalFormat,Zr,cn,sr.encoding),fr=zr(Te);ln&&Rr(Te)===!1?c.renderbufferStorageMultisample(36161,fr,br,Te.width,Te.height):Rr(Te)?y.renderbufferStorageMultisampleEXT(36161,fr,br,Te.width,Te.height):c.renderbufferStorage(36161,br,Te.width,Te.height)}}c.bindRenderbuffer(36161,null)}function Rn(Ze,Te){if(Te&&Te.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,Ze),!(Te.depthTexture&&Te.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(Te.depthTexture).__webglTexture||Te.depthTexture.image.width!==Te.width||Te.depthTexture.image.height!==Te.height)&&(Te.depthTexture.image.width=Te.width,Te.depthTexture.image.height=Te.height,Te.depthTexture.needsUpdate=!0),hn(Te.depthTexture,0);const Nn=n.get(Te.depthTexture).__webglTexture,Wn=zr(Te);if(Te.depthTexture.format===jr)Rr(Te)?y.framebufferTexture2DMultisampleEXT(36160,36096,3553,Nn,0,Wn):c.framebufferTexture2D(36160,36096,3553,Nn,0);else if(Te.depthTexture.format===I)Rr(Te)?y.framebufferTexture2DMultisampleEXT(36160,33306,3553,Nn,0,Wn):c.framebufferTexture2D(36160,33306,3553,Nn,0);else throw new Error("Unknown depthTexture format")}function wn(Ze){const Te=n.get(Ze),ln=Ze.isWebGLCubeRenderTarget===!0;if(Ze.depthTexture&&!Te.__autoAllocateDepthBuffer){if(ln)throw new Error("target.depthTexture not supported in Cube render targets");Rn(Te.__webglFramebuffer,Ze)}else if(ln){Te.__webglDepthbuffer=[];for(let Nn=0;Nn<6;Nn++)t.bindFramebuffer(36160,Te.__webglFramebuffer[Nn]),Te.__webglDepthbuffer[Nn]=c.createRenderbuffer(),hi(Te.__webglDepthbuffer[Nn],Ze,!1)}else t.bindFramebuffer(36160,Te.__webglFramebuffer),Te.__webglDepthbuffer=c.createRenderbuffer(),hi(Te.__webglDepthbuffer,Ze,!1);t.bindFramebuffer(36160,null)}function Yn(Ze,Te,ln){const Nn=n.get(Ze);Te!==void 0&&er(Nn.__webglFramebuffer,Ze,Ze.texture,36064,3553),ln!==void 0&&wn(Ze)}function _r(Ze){const Te=Ze.texture,ln=n.get(Ze),Nn=n.get(Te);Ze.addEventListener("dispose",En),Ze.isWebGLMultipleRenderTargets!==!0&&(Nn.__webglTexture===void 0&&(Nn.__webglTexture=c.createTexture()),Nn.__version=Te.version,a.memory.textures++);const Wn=Ze.isWebGLCubeRenderTarget===!0,sr=Ze.isWebGLMultipleRenderTargets===!0,Zr=ie(Ze)||l;if(Wn){ln.__webglFramebuffer=[];for(let cn=0;cn<6;cn++)ln.__webglFramebuffer[cn]=c.createFramebuffer()}else{if(ln.__webglFramebuffer=c.createFramebuffer(),sr)if(r.drawBuffers){const cn=Ze.texture;for(let br=0,fr=cn.length;br<fr;br++){const ur=n.get(cn[br]);ur.__webglTexture===void 0&&(ur.__webglTexture=c.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&Ze.samples>0&&Rr(Ze)===!1){const cn=sr?Te:[Te];ln.__webglMultisampledFramebuffer=c.createFramebuffer(),ln.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,ln.__webglMultisampledFramebuffer);for(let br=0;br<cn.length;br++){const fr=cn[br];ln.__webglColorRenderbuffer[br]=c.createRenderbuffer(),c.bindRenderbuffer(36161,ln.__webglColorRenderbuffer[br]);const ur=o.convert(fr.format,fr.encoding),yt=o.convert(fr.type),tr=ce(fr.internalFormat,ur,yt,fr.encoding),Kn=zr(Ze);c.renderbufferStorageMultisample(36161,Kn,tr,Ze.width,Ze.height),c.framebufferRenderbuffer(36160,36064+br,36161,ln.__webglColorRenderbuffer[br])}c.bindRenderbuffer(36161,null),Ze.depthBuffer&&(ln.__webglDepthRenderbuffer=c.createRenderbuffer(),hi(ln.__webglDepthRenderbuffer,Ze,!0)),t.bindFramebuffer(36160,null)}}if(Wn){t.bindTexture(34067,Nn.__webglTexture),vn(34067,Te,Zr);for(let cn=0;cn<6;cn++)er(ln.__webglFramebuffer[cn],Ze,Te,36064,34069+cn);Fe(Te,Zr)&&vt(34067),t.unbindTexture()}else if(sr){const cn=Ze.texture;for(let br=0,fr=cn.length;br<fr;br++){const ur=cn[br],yt=n.get(ur);t.bindTexture(3553,yt.__webglTexture),vn(3553,ur,Zr),er(ln.__webglFramebuffer,Ze,ur,36064+br,3553),Fe(ur,Zr)&&vt(3553)}t.unbindTexture()}else{let cn=3553;(Ze.isWebGL3DRenderTarget||Ze.isWebGLArrayRenderTarget)&&(l?cn=Ze.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(cn,Nn.__webglTexture),vn(cn,Te,Zr),er(ln.__webglFramebuffer,Ze,Te,36064,cn),Fe(Te,Zr)&&vt(cn),t.unbindTexture()}Ze.depthBuffer&&wn(Ze)}function or(Ze){const Te=ie(Ze)||l,ln=Ze.isWebGLMultipleRenderTargets===!0?Ze.texture:[Ze.texture];for(let Nn=0,Wn=ln.length;Nn<Wn;Nn++){const sr=ln[Nn];if(Fe(sr,Te)){const Zr=Ze.isWebGLCubeRenderTarget?34067:3553,cn=n.get(sr).__webglTexture;t.bindTexture(Zr,cn),vt(Zr),t.unbindTexture()}}}function ei(Ze){if(l&&Ze.samples>0&&Rr(Ze)===!1){const Te=Ze.isWebGLMultipleRenderTargets?Ze.texture:[Ze.texture],ln=Ze.width,Nn=Ze.height;let Wn=16384;const sr=[],Zr=Ze.stencilBuffer?33306:36096,cn=n.get(Ze),br=Ze.isWebGLMultipleRenderTargets===!0;if(br)for(let fr=0;fr<Te.length;fr++)t.bindFramebuffer(36160,cn.__webglMultisampledFramebuffer),c.framebufferRenderbuffer(36160,36064+fr,36161,null),t.bindFramebuffer(36160,cn.__webglFramebuffer),c.framebufferTexture2D(36009,36064+fr,3553,null,0);t.bindFramebuffer(36008,cn.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,cn.__webglFramebuffer);for(let fr=0;fr<Te.length;fr++){sr.push(36064+fr),Ze.depthBuffer&&sr.push(Zr);const ur=cn.__ignoreDepthValues!==void 0?cn.__ignoreDepthValues:!1;if(ur===!1&&(Ze.depthBuffer&&(Wn|=256),Ze.stencilBuffer&&(Wn|=1024)),br&&c.framebufferRenderbuffer(36008,36064,36161,cn.__webglColorRenderbuffer[fr]),ur===!0&&(c.invalidateFramebuffer(36008,[Zr]),c.invalidateFramebuffer(36009,[Zr])),br){const yt=n.get(Te[fr]).__webglTexture;c.framebufferTexture2D(36009,36064,3553,yt,0)}c.blitFramebuffer(0,0,ln,Nn,0,0,ln,Nn,Wn,9728),b&&c.invalidateFramebuffer(36008,sr)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),br)for(let fr=0;fr<Te.length;fr++){t.bindFramebuffer(36160,cn.__webglMultisampledFramebuffer),c.framebufferRenderbuffer(36160,36064+fr,36161,cn.__webglColorRenderbuffer[fr]);const ur=n.get(Te[fr]).__webglTexture;t.bindFramebuffer(36160,cn.__webglFramebuffer),c.framebufferTexture2D(36009,36064+fr,3553,ur,0)}t.bindFramebuffer(36009,cn.__webglMultisampledFramebuffer)}}function zr(Ze){return Math.min(v,Ze.samples)}function Rr(Ze){const Te=n.get(Ze);return l&&Ze.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Te.__useRenderToTexture!==!1}function qi(Ze){const Te=a.render.frame;R.get(Ze)!==Te&&(R.set(Ze,Te),Ze.update())}function Ui(Ze,Te){const ln=Ze.encoding,Nn=Ze.format,Wn=Ze.type;return Ze.isCompressedTexture===!0||Ze.isVideoTexture===!0||Ze.format===Lr||ln!==Fo&&(ln===bi?l===!1?e.has("EXT_sRGB")===!0&&Nn===xr?(Ze.format=Lr,Ze.minFilter=me,Ze.generateMipmaps=!1):Te=$s.sRGBToLinear(Te):(Nn!==xr||Wn!==pn)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ln)),Te}this.allocateTextureUnit=Tn,this.resetTextureUnits=Ln,this.setTexture2D=hn,this.setTexture2DArray=kn,this.setTexture3D=In,this.setTextureCube=Qn,this.rebindTextures=Yn,this.setupRenderTarget=_r,this.updateRenderTargetMipmap=or,this.updateMultisampleRenderTarget=ei,this.setupDepthRenderbuffer=wn,this.setupFrameBufferTexture=er,this.useMultisampledRTT=Rr}function x2(c,e,t){const n=t.isWebGL2;function r(o,a=null){let l;if(o===pn)return 5121;if(o===Cn)return 32819;if(o===Bn)return 32820;if(o===an)return 5120;if(o===Vt)return 5122;if(o===pe)return 5123;if(o===De)return 5124;if(o===lt)return 5125;if(o===Tt)return 5126;if(o===Wt)return n?5131:(l=e.get("OES_texture_half_float"),l!==null?l.HALF_FLOAT_OES:null);if(o===vr)return 6406;if(o===xr)return 6408;if(o===mi)return 6409;if(o===Pr)return 6410;if(o===jr)return 6402;if(o===I)return 34041;if(o===U)return 6403;if(o===Mr)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(o===Lr)return l=e.get("EXT_sRGB"),l!==null?l.SRGB_ALPHA_EXT:null;if(o===m)return 36244;if(o===C)return 33319;if(o===w)return 33320;if(o===L)return 36249;if(o===V||o===se||o===N||o===Z)if(a===bi)if(l=e.get("WEBGL_compressed_texture_s3tc_srgb"),l!==null){if(o===V)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===se)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===N)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===Z)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(l=e.get("WEBGL_compressed_texture_s3tc"),l!==null){if(o===V)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===se)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===N)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===Z)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===P||o===$||o===Ne||o===Ge)if(l=e.get("WEBGL_compressed_texture_pvrtc"),l!==null){if(o===P)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===$)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===Ne)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===Ge)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===ct)return l=e.get("WEBGL_compressed_texture_etc1"),l!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===Ft||o===Dt)if(l=e.get("WEBGL_compressed_texture_etc"),l!==null){if(o===Ft)return a===bi?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(o===Dt)return a===bi?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===dt||o===mt||o===ut||o===Zt||o===Sn||o===xn||o===Fn||o===An||o===zn||o===Jn||o===fn||o===Vn||o===lr||o===yr)if(l=e.get("WEBGL_compressed_texture_astc"),l!==null){if(o===dt)return a===bi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===mt)return a===bi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===ut)return a===bi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===Zt)return a===bi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===Sn)return a===bi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===xn)return a===bi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===Fn)return a===bi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===An)return a===bi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===zn)return a===bi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===Jn)return a===bi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===fn)return a===bi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===Vn)return a===bi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===lr)return a===bi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===yr)return a===bi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===Hr)if(l=e.get("EXT_texture_compression_bptc"),l!==null){if(o===Hr)return a===bi?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return o===Gn?n?34042:(l=e.get("WEBGL_depth_texture"),l!==null?l.UNSIGNED_INT_24_8_WEBGL:null):c[o]!==void 0?c[o]:null}return{convert:r}}class w2 extends Co{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class lc extends Ei{constructor(){super(),this.isGroup=!0,this.type="Group"}}const N5={type:"move"};class ff{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new lc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new lc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ae,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ae),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new lc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ae,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ae),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,o=null,a=null;const l=this._targetRay,f=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(d&&e.hand){a=!0;for(const S of e.hand.values()){const E=t.getJointPose(S,n);if(d.joints[S.jointName]===void 0){const q=new lc;q.matrixAutoUpdate=!1,q.visible=!1,d.joints[S.jointName]=q,d.add(q)}const G=d.joints[S.jointName];E!==null&&(G.matrix.fromArray(E.transform.matrix),G.matrix.decompose(G.position,G.rotation,G.scale),G.jointRadius=E.radius),G.visible=E!==null}const p=d.joints["index-finger-tip"],v=d.joints["thumb-tip"],y=p.position.distanceTo(v.position),b=.02,R=.005;d.inputState.pinching&&y>b+R?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&y<=b-R&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else f!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,n),o!==null&&(f.matrix.fromArray(o.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),o.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(o.linearVelocity)):f.hasLinearVelocity=!1,o.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(o.angularVelocity)):f.hasAngularVelocity=!1));l!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&o!==null&&(r=o),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(N5)))}return l!==null&&(l.visible=r!==null),f!==null&&(f.visible=o!==null),d!==null&&(d.visible=a!==null),this}}class b2 extends Gi{constructor(e,t,n,r,o,a,l,f,d,p){if(p=p!==void 0?p:jr,p!==jr&&p!==I)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&p===jr&&(n=lt),n===void 0&&p===I&&(n=Gn),super(null,r,o,a,l,f,p,n,d),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=l!==void 0?l:Xe,this.minFilter=f!==void 0?f:Xe,this.flipY=!1,this.generateMipmaps=!1}}class F5 extends Vr{constructor(e,t){super();const n=this;let r=null,o=1,a=null,l="local-floor",f=null,d=null,p=null,v=null,y=null,b=null;const R=t.getContextAttributes();let S=null,E=null;const G=[],q=[],_e=new Co;_e.layers.enable(1),_e.viewport=new vi;const ie=new Co;ie.layers.enable(2),ie.viewport=new vi;const Ie=[_e,ie],Fe=new w2;Fe.layers.enable(1),Fe.layers.enable(2);let vt=null,ce=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(on){let hn=G[on];return hn===void 0&&(hn=new ff,G[on]=hn),hn.getTargetRaySpace()},this.getControllerGrip=function(on){let hn=G[on];return hn===void 0&&(hn=new ff,G[on]=hn),hn.getGripSpace()},this.getHand=function(on){let hn=G[on];return hn===void 0&&(hn=new ff,G[on]=hn),hn.getHandSpace()};function je(on){const hn=q.indexOf(on.inputSource);if(hn===-1)return;const kn=G[hn];kn!==void 0&&kn.dispatchEvent({type:on.type,data:on.inputSource})}function Pt(){r.removeEventListener("select",je),r.removeEventListener("selectstart",je),r.removeEventListener("selectend",je),r.removeEventListener("squeeze",je),r.removeEventListener("squeezestart",je),r.removeEventListener("squeezeend",je),r.removeEventListener("end",Pt),r.removeEventListener("inputsourceschange",Ht);for(let on=0;on<G.length;on++){const hn=q[on];hn!==null&&(q[on]=null,G[on].disconnect(hn))}vt=null,ce=null,e.setRenderTarget(S),y=null,v=null,p=null,r=null,E=null,Tn.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(on){o=on,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(on){l=on,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||a},this.setReferenceSpace=function(on){f=on},this.getBaseLayer=function(){return v!==null?v:y},this.getBinding=function(){return p},this.getFrame=function(){return b},this.getSession=function(){return r},this.setSession=function(on){return Pl(this,null,function*(){if(r=on,r!==null){if(S=e.getRenderTarget(),r.addEventListener("select",je),r.addEventListener("selectstart",je),r.addEventListener("selectend",je),r.addEventListener("squeeze",je),r.addEventListener("squeezestart",je),r.addEventListener("squeezeend",je),r.addEventListener("end",Pt),r.addEventListener("inputsourceschange",Ht),R.xrCompatible!==!0&&(yield t.makeXRCompatible()),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const hn={antialias:r.renderState.layers===void 0?R.antialias:!0,alpha:R.alpha,depth:R.depth,stencil:R.stencil,framebufferScaleFactor:o};y=new XRWebGLLayer(r,t,hn),r.updateRenderState({baseLayer:y}),E=new po(y.framebufferWidth,y.framebufferHeight,{format:xr,type:pn,encoding:e.outputEncoding})}else{let hn=null,kn=null,In=null;R.depth&&(In=R.stencil?35056:33190,hn=R.stencil?I:jr,kn=R.stencil?Gn:lt);const Qn={colorFormat:32856,depthFormat:In,scaleFactor:o};p=new XRWebGLBinding(r,t),v=p.createProjectionLayer(Qn),r.updateRenderState({layers:[v]}),E=new po(v.textureWidth,v.textureHeight,{format:xr,type:pn,depthTexture:new b2(v.textureWidth,v.textureHeight,kn,void 0,void 0,void 0,void 0,void 0,void 0,hn),stencilBuffer:R.stencil,encoding:e.outputEncoding,samples:R.antialias?4:0});const gr=e.properties.get(E);gr.__ignoreDepthValues=v.ignoreDepthValues}E.isXRRenderTarget=!0,this.setFoveation(1),f=null,a=yield r.requestReferenceSpace(l),Tn.setContext(r),Tn.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}})};function Ht(on){for(let hn=0;hn<on.removed.length;hn++){const kn=on.removed[hn],In=q.indexOf(kn);In>=0&&(q[In]=null,G[In].dispatchEvent({type:"disconnected",data:kn}))}for(let hn=0;hn<on.added.length;hn++){const kn=on.added[hn];let In=q.indexOf(kn);if(In===-1){for(let gr=0;gr<G.length;gr++)if(gr>=q.length){q.push(kn),In=gr;break}else if(q[gr]===null){q[gr]=kn,In=gr;break}if(In===-1)break}const Qn=G[In];Qn&&Qn.dispatchEvent({type:"connected",data:kn})}}const En=new Ae,jn=new Ae;function Bt(on,hn,kn){En.setFromMatrixPosition(hn.matrixWorld),jn.setFromMatrixPosition(kn.matrixWorld);const In=En.distanceTo(jn),Qn=hn.projectionMatrix.elements,gr=kn.projectionMatrix.elements,Sr=Qn[14]/(Qn[10]-1),vn=Qn[14]/(Qn[10]+1),ki=(Qn[9]+1)/Qn[5],Qr=(Qn[9]-1)/Qn[5],Jr=(Qn[8]-1)/Qn[0],er=(gr[8]+1)/gr[0],hi=Sr*Jr,Rn=Sr*er,wn=In/(-Jr+er),Yn=wn*-Jr;hn.matrixWorld.decompose(on.position,on.quaternion,on.scale),on.translateX(Yn),on.translateZ(wn),on.matrixWorld.compose(on.position,on.quaternion,on.scale),on.matrixWorldInverse.copy(on.matrixWorld).invert();const _r=Sr+wn,or=vn+wn,ei=hi-Yn,zr=Rn+(In-Yn),Rr=ki*vn/or*_r,qi=Qr*vn/or*_r;on.projectionMatrix.makePerspective(ei,zr,Rr,qi,_r,or)}function gn(on,hn){hn===null?on.matrixWorld.copy(on.matrix):on.matrixWorld.multiplyMatrices(hn.matrixWorld,on.matrix),on.matrixWorldInverse.copy(on.matrixWorld).invert()}this.updateCamera=function(on){if(r===null)return;Fe.near=ie.near=_e.near=on.near,Fe.far=ie.far=_e.far=on.far,(vt!==Fe.near||ce!==Fe.far)&&(r.updateRenderState({depthNear:Fe.near,depthFar:Fe.far}),vt=Fe.near,ce=Fe.far);const hn=on.parent,kn=Fe.cameras;gn(Fe,hn);for(let Qn=0;Qn<kn.length;Qn++)gn(kn[Qn],hn);Fe.matrixWorld.decompose(Fe.position,Fe.quaternion,Fe.scale),on.position.copy(Fe.position),on.quaternion.copy(Fe.quaternion),on.scale.copy(Fe.scale),on.matrix.copy(Fe.matrix),on.matrixWorld.copy(Fe.matrixWorld);const In=on.children;for(let Qn=0,gr=In.length;Qn<gr;Qn++)In[Qn].updateMatrixWorld(!0);kn.length===2?Bt(Fe,_e,ie):Fe.projectionMatrix.copy(_e.projectionMatrix)},this.getCamera=function(){return Fe},this.getFoveation=function(){if(v!==null)return v.fixedFoveation;if(y!==null)return y.fixedFoveation},this.setFoveation=function(on){v!==null&&(v.fixedFoveation=on),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=on)};let qt=null;function Ln(on,hn){if(d=hn.getViewerPose(f||a),b=hn,d!==null){const kn=d.views;y!==null&&(e.setRenderTargetFramebuffer(E,y.framebuffer),e.setRenderTarget(E));let In=!1;kn.length!==Fe.cameras.length&&(Fe.cameras.length=0,In=!0);for(let Qn=0;Qn<kn.length;Qn++){const gr=kn[Qn];let Sr=null;if(y!==null)Sr=y.getViewport(gr);else{const ki=p.getViewSubImage(v,gr);Sr=ki.viewport,Qn===0&&(e.setRenderTargetTextures(E,ki.colorTexture,v.ignoreDepthValues?void 0:ki.depthStencilTexture),e.setRenderTarget(E))}let vn=Ie[Qn];vn===void 0&&(vn=new Co,vn.layers.enable(Qn),vn.viewport=new vi,Ie[Qn]=vn),vn.matrix.fromArray(gr.transform.matrix),vn.projectionMatrix.fromArray(gr.projectionMatrix),vn.viewport.set(Sr.x,Sr.y,Sr.width,Sr.height),Qn===0&&Fe.matrix.copy(vn.matrix),In===!0&&Fe.cameras.push(vn)}}for(let kn=0;kn<G.length;kn++){const In=q[kn],Qn=G[kn];In!==null&&Qn!==void 0&&Qn.update(In,hn,f||a)}qt&&qt(on,hn),b=null}const Tn=new E1;Tn.setAnimationLoop(Ln),this.setAnimationLoop=function(on){qt=on},this.dispose=function(){}}}function k5(c,e){function t(S,E){S.fogColor.value.copy(E.color),E.isFog?(S.fogNear.value=E.near,S.fogFar.value=E.far):E.isFogExp2&&(S.fogDensity.value=E.density)}function n(S,E,G,q,_e){E.isMeshBasicMaterial||E.isMeshLambertMaterial?r(S,E):E.isMeshToonMaterial?(r(S,E),p(S,E)):E.isMeshPhongMaterial?(r(S,E),d(S,E)):E.isMeshStandardMaterial?(r(S,E),v(S,E),E.isMeshPhysicalMaterial&&y(S,E,_e)):E.isMeshMatcapMaterial?(r(S,E),b(S,E)):E.isMeshDepthMaterial?r(S,E):E.isMeshDistanceMaterial?(r(S,E),R(S,E)):E.isMeshNormalMaterial?r(S,E):E.isLineBasicMaterial?(o(S,E),E.isLineDashedMaterial&&a(S,E)):E.isPointsMaterial?l(S,E,G,q):E.isSpriteMaterial?f(S,E):E.isShadowMaterial?(S.color.value.copy(E.color),S.opacity.value=E.opacity):E.isShaderMaterial&&(E.uniformsNeedUpdate=!1)}function r(S,E){S.opacity.value=E.opacity,E.color&&S.diffuse.value.copy(E.color),E.emissive&&S.emissive.value.copy(E.emissive).multiplyScalar(E.emissiveIntensity),E.map&&(S.map.value=E.map),E.alphaMap&&(S.alphaMap.value=E.alphaMap),E.bumpMap&&(S.bumpMap.value=E.bumpMap,S.bumpScale.value=E.bumpScale,E.side===F&&(S.bumpScale.value*=-1)),E.displacementMap&&(S.displacementMap.value=E.displacementMap,S.displacementScale.value=E.displacementScale,S.displacementBias.value=E.displacementBias),E.emissiveMap&&(S.emissiveMap.value=E.emissiveMap),E.normalMap&&(S.normalMap.value=E.normalMap,S.normalScale.value.copy(E.normalScale),E.side===F&&S.normalScale.value.negate()),E.specularMap&&(S.specularMap.value=E.specularMap),E.alphaTest>0&&(S.alphaTest.value=E.alphaTest);const G=e.get(E).envMap;if(G&&(S.envMap.value=G,S.flipEnvMap.value=G.isCubeTexture&&G.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=E.reflectivity,S.ior.value=E.ior,S.refractionRatio.value=E.refractionRatio),E.lightMap){S.lightMap.value=E.lightMap;const ie=c.physicallyCorrectLights!==!0?Math.PI:1;S.lightMapIntensity.value=E.lightMapIntensity*ie}E.aoMap&&(S.aoMap.value=E.aoMap,S.aoMapIntensity.value=E.aoMapIntensity);let q;E.map?q=E.map:E.specularMap?q=E.specularMap:E.displacementMap?q=E.displacementMap:E.normalMap?q=E.normalMap:E.bumpMap?q=E.bumpMap:E.roughnessMap?q=E.roughnessMap:E.metalnessMap?q=E.metalnessMap:E.alphaMap?q=E.alphaMap:E.emissiveMap?q=E.emissiveMap:E.clearcoatMap?q=E.clearcoatMap:E.clearcoatNormalMap?q=E.clearcoatNormalMap:E.clearcoatRoughnessMap?q=E.clearcoatRoughnessMap:E.iridescenceMap?q=E.iridescenceMap:E.iridescenceThicknessMap?q=E.iridescenceThicknessMap:E.specularIntensityMap?q=E.specularIntensityMap:E.specularColorMap?q=E.specularColorMap:E.transmissionMap?q=E.transmissionMap:E.thicknessMap?q=E.thicknessMap:E.sheenColorMap?q=E.sheenColorMap:E.sheenRoughnessMap&&(q=E.sheenRoughnessMap),q!==void 0&&(q.isWebGLRenderTarget&&(q=q.texture),q.matrixAutoUpdate===!0&&q.updateMatrix(),S.uvTransform.value.copy(q.matrix));let _e;E.aoMap?_e=E.aoMap:E.lightMap&&(_e=E.lightMap),_e!==void 0&&(_e.isWebGLRenderTarget&&(_e=_e.texture),_e.matrixAutoUpdate===!0&&_e.updateMatrix(),S.uv2Transform.value.copy(_e.matrix))}function o(S,E){S.diffuse.value.copy(E.color),S.opacity.value=E.opacity}function a(S,E){S.dashSize.value=E.dashSize,S.totalSize.value=E.dashSize+E.gapSize,S.scale.value=E.scale}function l(S,E,G,q){S.diffuse.value.copy(E.color),S.opacity.value=E.opacity,S.size.value=E.size*G,S.scale.value=q*.5,E.map&&(S.map.value=E.map),E.alphaMap&&(S.alphaMap.value=E.alphaMap),E.alphaTest>0&&(S.alphaTest.value=E.alphaTest);let _e;E.map?_e=E.map:E.alphaMap&&(_e=E.alphaMap),_e!==void 0&&(_e.matrixAutoUpdate===!0&&_e.updateMatrix(),S.uvTransform.value.copy(_e.matrix))}function f(S,E){S.diffuse.value.copy(E.color),S.opacity.value=E.opacity,S.rotation.value=E.rotation,E.map&&(S.map.value=E.map),E.alphaMap&&(S.alphaMap.value=E.alphaMap),E.alphaTest>0&&(S.alphaTest.value=E.alphaTest);let G;E.map?G=E.map:E.alphaMap&&(G=E.alphaMap),G!==void 0&&(G.matrixAutoUpdate===!0&&G.updateMatrix(),S.uvTransform.value.copy(G.matrix))}function d(S,E){S.specular.value.copy(E.specular),S.shininess.value=Math.max(E.shininess,1e-4)}function p(S,E){E.gradientMap&&(S.gradientMap.value=E.gradientMap)}function v(S,E){S.roughness.value=E.roughness,S.metalness.value=E.metalness,E.roughnessMap&&(S.roughnessMap.value=E.roughnessMap),E.metalnessMap&&(S.metalnessMap.value=E.metalnessMap),e.get(E).envMap&&(S.envMapIntensity.value=E.envMapIntensity)}function y(S,E,G){S.ior.value=E.ior,E.sheen>0&&(S.sheenColor.value.copy(E.sheenColor).multiplyScalar(E.sheen),S.sheenRoughness.value=E.sheenRoughness,E.sheenColorMap&&(S.sheenColorMap.value=E.sheenColorMap),E.sheenRoughnessMap&&(S.sheenRoughnessMap.value=E.sheenRoughnessMap)),E.clearcoat>0&&(S.clearcoat.value=E.clearcoat,S.clearcoatRoughness.value=E.clearcoatRoughness,E.clearcoatMap&&(S.clearcoatMap.value=E.clearcoatMap),E.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=E.clearcoatRoughnessMap),E.clearcoatNormalMap&&(S.clearcoatNormalScale.value.copy(E.clearcoatNormalScale),S.clearcoatNormalMap.value=E.clearcoatNormalMap,E.side===F&&S.clearcoatNormalScale.value.negate())),E.iridescence>0&&(S.iridescence.value=E.iridescence,S.iridescenceIOR.value=E.iridescenceIOR,S.iridescenceThicknessMinimum.value=E.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=E.iridescenceThicknessRange[1],E.iridescenceMap&&(S.iridescenceMap.value=E.iridescenceMap),E.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=E.iridescenceThicknessMap)),E.transmission>0&&(S.transmission.value=E.transmission,S.transmissionSamplerMap.value=G.texture,S.transmissionSamplerSize.value.set(G.width,G.height),E.transmissionMap&&(S.transmissionMap.value=E.transmissionMap),S.thickness.value=E.thickness,E.thicknessMap&&(S.thicknessMap.value=E.thicknessMap),S.attenuationDistance.value=E.attenuationDistance,S.attenuationColor.value.copy(E.attenuationColor)),S.specularIntensity.value=E.specularIntensity,S.specularColor.value.copy(E.specularColor),E.specularIntensityMap&&(S.specularIntensityMap.value=E.specularIntensityMap),E.specularColorMap&&(S.specularColorMap.value=E.specularColorMap)}function b(S,E){E.matcap&&(S.matcap.value=E.matcap)}function R(S,E){S.referencePosition.value.copy(E.referencePosition),S.nearDistance.value=E.nearDistance,S.farDistance.value=E.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function U5(){const c=vs("canvas");return c.style.display="block",c}function M2(c={}){this.isWebGLRenderer=!0;const e=c.canvas!==void 0?c.canvas:U5(),t=c.context!==void 0?c.context:null,n=c.depth!==void 0?c.depth:!0,r=c.stencil!==void 0?c.stencil:!0,o=c.antialias!==void 0?c.antialias:!1,a=c.premultipliedAlpha!==void 0?c.premultipliedAlpha:!0,l=c.preserveDrawingBuffer!==void 0?c.preserveDrawingBuffer:!1,f=c.powerPreference!==void 0?c.powerPreference:"default",d=c.failIfMajorPerformanceCaveat!==void 0?c.failIfMajorPerformanceCaveat:!1;let p;t!==null?p=t.getContextAttributes().alpha:p=c.alpha!==void 0?c.alpha:!1;let v=null,y=null;const b=[],R=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Fo,this.physicallyCorrectLights=!1,this.toneMapping=We,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const S=this;let E=!1,G=0,q=0,_e=null,ie=-1,Ie=null;const Fe=new vi,vt=new vi;let ce=null,je=e.width,Pt=e.height,Ht=1,En=null,jn=null;const Bt=new vi(0,0,je,Pt),gn=new vi(0,0,je,Pt);let qt=!1;const Ln=new Fa;let Tn=!1,on=!1,hn=null;const kn=new kr,In=new dn,Qn=new Ae,gr={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Sr(){return _e===null?Ht:1}let vn=t;function ki(ze,jt){for(let un=0;un<ze.length;un++){const Kt=ze[un],bn=e.getContext(Kt,jt);if(bn!==null)return bn}return null}try{const ze={alpha:!0,depth:n,stencil:r,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:f,failIfMajorPerformanceCaveat:d};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${A}`),e.addEventListener("webglcontextlost",yt,!1),e.addEventListener("webglcontextrestored",tr,!1),e.addEventListener("webglcontextcreationerror",Kn,!1),vn===null){const jt=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&jt.shift(),vn=ki(jt,ze),vn===null)throw ki(jt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}vn.getShaderPrecisionFormat===void 0&&(vn.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ze){throw console.error("THREE.WebGLRenderer: "+ze.message),ze}let Qr,Jr,er,hi,Rn,wn,Yn,_r,or,ei,zr,Rr,qi,Ui,Ze,Te,ln,Nn,Wn,sr,Zr,cn,br;function fr(){Qr=new od(vn),Jr=new Qf(vn,Qr,c),Qr.init(Jr),cn=new x2(vn,Qr,Jr),er=new V5(vn,Qr,Jr),hi=new ld,Rn=new C2,wn=new B5(vn,Qr,er,Rn,Jr,cn,hi),Yn=new td(S),_r=new id(S),or=new tl(vn,Jr),br=new qf(vn,Qr,or,Jr),ei=new sd(vn,or,hi,br),zr=new dd(vn,ei,or,hi),Wn=new fd(vn,Jr,wn),Te=new ed(Rn),Rr=new v2(S,Yn,_r,Qr,Jr,br,Te),qi=new k5(S,Rn),Ui=new fe,Ze=new I5(Qr,Jr),Nn=new Kf(S,Yn,er,zr,p,a),ln=new H5(S,zr,Jr),sr=new Jf(vn,Qr,hi,Jr),Zr=new ad(vn,Qr,hi,Jr),hi.programs=Rr.programs,S.capabilities=Jr,S.extensions=Qr,S.properties=Rn,S.renderLists=Ui,S.shadowMap=ln,S.state=er,S.info=hi}fr();const ur=new F5(S,vn);this.xr=ur,this.getContext=function(){return vn},this.getContextAttributes=function(){return vn.getContextAttributes()},this.forceContextLoss=function(){const ze=Qr.get("WEBGL_lose_context");ze&&ze.loseContext()},this.forceContextRestore=function(){const ze=Qr.get("WEBGL_lose_context");ze&&ze.restoreContext()},this.getPixelRatio=function(){return Ht},this.setPixelRatio=function(ze){ze!==void 0&&(Ht=ze,this.setSize(je,Pt,!1))},this.getSize=function(ze){return ze.set(je,Pt)},this.setSize=function(ze,jt,un){if(ur.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}je=ze,Pt=jt,e.width=Math.floor(ze*Ht),e.height=Math.floor(jt*Ht),un!==!1&&(e.style.width=ze+"px",e.style.height=jt+"px"),this.setViewport(0,0,ze,jt)},this.getDrawingBufferSize=function(ze){return ze.set(je*Ht,Pt*Ht).floor()},this.setDrawingBufferSize=function(ze,jt,un){je=ze,Pt=jt,Ht=un,e.width=Math.floor(ze*un),e.height=Math.floor(jt*un),this.setViewport(0,0,ze,jt)},this.getCurrentViewport=function(ze){return ze.copy(Fe)},this.getViewport=function(ze){return ze.copy(Bt)},this.setViewport=function(ze,jt,un,Kt){ze.isVector4?Bt.set(ze.x,ze.y,ze.z,ze.w):Bt.set(ze,jt,un,Kt),er.viewport(Fe.copy(Bt).multiplyScalar(Ht).floor())},this.getScissor=function(ze){return ze.copy(gn)},this.setScissor=function(ze,jt,un,Kt){ze.isVector4?gn.set(ze.x,ze.y,ze.z,ze.w):gn.set(ze,jt,un,Kt),er.scissor(vt.copy(gn).multiplyScalar(Ht).floor())},this.getScissorTest=function(){return qt},this.setScissorTest=function(ze){er.setScissorTest(qt=ze)},this.setOpaqueSort=function(ze){En=ze},this.setTransparentSort=function(ze){jn=ze},this.getClearColor=function(ze){return ze.copy(Nn.getClearColor())},this.setClearColor=function(){Nn.setClearColor.apply(Nn,arguments)},this.getClearAlpha=function(){return Nn.getClearAlpha()},this.setClearAlpha=function(){Nn.setClearAlpha.apply(Nn,arguments)},this.clear=function(ze=!0,jt=!0,un=!0){let Kt=0;ze&&(Kt|=16384),jt&&(Kt|=256),un&&(Kt|=1024),vn.clear(Kt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",yt,!1),e.removeEventListener("webglcontextrestored",tr,!1),e.removeEventListener("webglcontextcreationerror",Kn,!1),Ui.dispose(),Ze.dispose(),Rn.dispose(),Yn.dispose(),_r.dispose(),zr.dispose(),br.dispose(),Rr.dispose(),ur.dispose(),ur.removeEventListener("sessionstart",Vi),ur.removeEventListener("sessionend",Bi),hn&&(hn.dispose(),hn=null),Rs.stop()};function yt(ze){ze.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function tr(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const ze=hi.autoReset,jt=ln.enabled,un=ln.autoUpdate,Kt=ln.needsUpdate,bn=ln.type;fr(),hi.autoReset=ze,ln.enabled=jt,ln.autoUpdate=un,ln.needsUpdate=Kt,ln.type=bn}function Kn(ze){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ze.statusMessage)}function Nr(ze){const jt=ze.target;jt.removeEventListener("dispose",Nr),dr(jt)}function dr(ze){Wr(ze),Rn.remove(ze)}function Wr(ze){const jt=Rn.get(ze).programs;jt!==void 0&&(jt.forEach(function(un){Rr.releaseProgram(un)}),ze.isShaderMaterial&&Rr.releaseShaderCache(ze))}this.renderBufferDirect=function(ze,jt,un,Kt,bn,$r){jt===null&&(jt=gr);const ti=bn.isMesh&&bn.matrixWorld.determinant()<0,pi=$3(ze,jt,un,Kt,bn);er.setMaterial(Kt,ti);let fi=un.index;const Ni=un.attributes.position;if(fi===null){if(Ni===void 0||Ni.count===0)return}else if(fi.count===0)return;let Ri=1;Kt.wireframe===!0&&(fi=ei.getWireframeAttribute(un),Ri=2),br.setup(bn,Kt,pi,un,fi);let Pi,xo=sr;fi!==null&&(Pi=or.get(fi),xo=Zr,xo.setIndex(Pi));const Tl=fi!==null?fi.count:Ni.count,Ac=un.drawRange.start*Ri,Tc=un.drawRange.count*Ri,Ka=$r!==null?$r.start*Ri:0,zi=$r!==null?$r.count*Ri:1/0,Pc=Math.max(Ac,Ka),Io=Math.min(Tl,Ac+Tc,Ka+zi)-1,qa=Math.max(0,Io-Pc+1);if(qa!==0){if(bn.isMesh)Kt.wireframe===!0?(er.setLineWidth(Kt.wireframeLinewidth*Sr()),xo.setMode(1)):xo.setMode(4);else if(bn.isLine){let N1=Kt.linewidth;N1===void 0&&(N1=1),er.setLineWidth(N1*Sr()),bn.isLineSegments?xo.setMode(1):bn.isLineLoop?xo.setMode(2):xo.setMode(3)}else bn.isPoints?xo.setMode(0):bn.isSprite&&xo.setMode(4);if(bn.isInstancedMesh)xo.renderInstances(Pc,qa,bn.count);else if(un.isInstancedBufferGeometry){const N1=Math.min(un.instanceCount,un._maxInstanceCount);xo.renderInstances(Pc,qa,N1)}else xo.render(Pc,qa)}},this.compile=function(ze,jt){y=Ze.get(ze),y.init(),R.push(y),ze.traverseVisible(function(un){un.isLight&&un.layers.test(jt.layers)&&(y.pushLight(un),un.castShadow&&y.pushShadow(un))}),y.setupLights(S.physicallyCorrectLights),ze.traverse(function(un){const Kt=un.material;if(Kt)if(Array.isArray(Kt))for(let bn=0;bn<Kt.length;bn++){const $r=Kt[bn];jf($r,ze,un)}else jf(Kt,ze,un)}),R.pop(),y=null};let Zn=null;function Gr(ze){Zn&&Zn(ze)}function Vi(){Rs.stop()}function Bi(){Rs.start()}const Rs=new E1;Rs.setAnimationLoop(Gr),typeof self!="undefined"&&Rs.setContext(self),this.setAnimationLoop=function(ze){Zn=ze,ur.setAnimationLoop(ze),ze===null?Rs.stop():Rs.start()},ur.addEventListener("sessionstart",Vi),ur.addEventListener("sessionend",Bi),this.render=function(ze,jt){if(jt!==void 0&&jt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;ze.autoUpdate===!0&&ze.updateMatrixWorld(),jt.parent===null&&jt.updateMatrixWorld(),ur.enabled===!0&&ur.isPresenting===!0&&(ur.cameraAutoUpdate===!0&&ur.updateCamera(jt),jt=ur.getCamera()),ze.isScene===!0&&ze.onBeforeRender(S,ze,jt,_e),y=Ze.get(ze,R.length),y.init(),R.push(y),kn.multiplyMatrices(jt.projectionMatrix,jt.matrixWorldInverse),Ln.setFromProjectionMatrix(kn),on=this.localClippingEnabled,Tn=Te.init(this.clippingPlanes,on,jt),v=Ui.get(ze,b.length),v.init(),b.push(v),Ya(ze,jt,0,S.sortObjects),v.finish(),S.sortObjects===!0&&v.sort(En,jn),Tn===!0&&Te.beginShadows();const un=y.state.shadowsArray;if(ln.render(un,ze,jt),Tn===!0&&Te.endShadows(),this.info.autoReset===!0&&this.info.reset(),Nn.render(v,ze),y.setupLights(S.physicallyCorrectLights),jt.isArrayCamera){const Kt=jt.cameras;for(let bn=0,$r=Kt.length;bn<$r;bn++){const ti=Kt[bn];l5(v,ze,ti,ti.viewport)}}else l5(v,ze,jt);_e!==null&&(wn.updateMultisampleRenderTarget(_e),wn.updateRenderTargetMipmap(_e)),ze.isScene===!0&&ze.onAfterRender(S,ze,jt),br.resetDefaultState(),ie=-1,Ie=null,R.pop(),R.length>0?y=R[R.length-1]:y=null,b.pop(),b.length>0?v=b[b.length-1]:v=null};function Ya(ze,jt,un,Kt){if(ze.visible===!1)return;if(ze.layers.test(jt.layers)){if(ze.isGroup)un=ze.renderOrder;else if(ze.isLOD)ze.autoUpdate===!0&&ze.update(jt);else if(ze.isLight)y.pushLight(ze),ze.castShadow&&y.pushShadow(ze);else if(ze.isSprite){if(!ze.frustumCulled||Ln.intersectsSprite(ze)){Kt&&Qn.setFromMatrixPosition(ze.matrixWorld).applyMatrix4(kn);const ti=zr.update(ze),pi=ze.material;pi.visible&&v.push(ze,ti,pi,un,Qn.z,null)}}else if((ze.isMesh||ze.isLine||ze.isPoints)&&(ze.isSkinnedMesh&&ze.skeleton.frame!==hi.render.frame&&(ze.skeleton.update(),ze.skeleton.frame=hi.render.frame),!ze.frustumCulled||Ln.intersectsObject(ze))){Kt&&Qn.setFromMatrixPosition(ze.matrixWorld).applyMatrix4(kn);const ti=zr.update(ze),pi=ze.material;if(Array.isArray(pi)){const fi=ti.groups;for(let Ni=0,Ri=fi.length;Ni<Ri;Ni++){const Pi=fi[Ni],xo=pi[Pi.materialIndex];xo&&xo.visible&&v.push(ze,ti,xo,un,Qn.z,Pi)}}else pi.visible&&v.push(ze,ti,pi,un,Qn.z,null)}}const $r=ze.children;for(let ti=0,pi=$r.length;ti<pi;ti++)Ya($r[ti],jt,un,Kt)}function l5(ze,jt,un,Kt){const bn=ze.opaque,$r=ze.transmissive,ti=ze.transparent;y.setupLightsView(un),$r.length>0&&k3(bn,jt,un),Kt&&er.viewport(Fe.copy(Kt)),bn.length>0&&L0(bn,jt,un),$r.length>0&&L0($r,jt,un),ti.length>0&&L0(ti,jt,un),er.buffers.depth.setTest(!0),er.buffers.depth.setMask(!0),er.buffers.color.setMask(!0),er.setPolygonOffset(!1)}function k3(ze,jt,un){const Kt=Jr.isWebGL2;hn===null&&(hn=new po(1,1,{generateMipmaps:!0,type:Qr.has("EXT_color_buffer_half_float")?Wt:pn,minFilter:et,samples:Kt&&o===!0?4:0})),S.getDrawingBufferSize(In),Kt?hn.setSize(In.x,In.y):hn.setSize(ss(In.x),ss(In.y));const bn=S.getRenderTarget();S.setRenderTarget(hn),S.clear();const $r=S.toneMapping;S.toneMapping=We,L0(ze,jt,un),S.toneMapping=$r,wn.updateMultisampleRenderTarget(hn),wn.updateRenderTargetMipmap(hn),S.setRenderTarget(bn)}function L0(ze,jt,un){const Kt=jt.isScene===!0?jt.overrideMaterial:null;for(let bn=0,$r=ze.length;bn<$r;bn++){const ti=ze[bn],pi=ti.object,fi=ti.geometry,Ni=Kt===null?ti.material:Kt,Ri=ti.group;pi.layers.test(un.layers)&&U3(pi,jt,un,fi,Ni,Ri)}}function U3(ze,jt,un,Kt,bn,$r){ze.onBeforeRender(S,jt,un,Kt,bn,$r),ze.modelViewMatrix.multiplyMatrices(un.matrixWorldInverse,ze.matrixWorld),ze.normalMatrix.getNormalMatrix(ze.modelViewMatrix),bn.onBeforeRender(S,jt,un,Kt,ze,$r),bn.transparent===!0&&bn.side===it?(bn.side=F,bn.needsUpdate=!0,S.renderBufferDirect(un,jt,Kt,bn,ze,$r),bn.side=Se,bn.needsUpdate=!0,S.renderBufferDirect(un,jt,Kt,bn,ze,$r),bn.side=it):S.renderBufferDirect(un,jt,Kt,bn,ze,$r),ze.onAfterRender(S,jt,un,Kt,bn,$r)}function jf(ze,jt,un){jt.isScene!==!0&&(jt=gr);const Kt=Rn.get(ze),bn=y.state.lights,$r=y.state.shadowsArray,ti=bn.state.version,pi=Rr.getParameters(ze,bn.state,$r,jt,un),fi=Rr.getProgramCacheKey(pi);let Ni=Kt.programs;Kt.environment=ze.isMeshStandardMaterial?jt.environment:null,Kt.fog=jt.fog,Kt.envMap=(ze.isMeshStandardMaterial?_r:Yn).get(ze.envMap||Kt.environment),Ni===void 0&&(ze.addEventListener("dispose",Nr),Ni=new Map,Kt.programs=Ni);let Ri=Ni.get(fi);if(Ri!==void 0){if(Kt.currentProgram===Ri&&Kt.lightsStateVersion===ti)return c5(ze,pi),Ri}else pi.uniforms=Rr.getUniforms(ze),ze.onBuild(un,pi,S),ze.onBeforeCompile(pi,S),Ri=Rr.acquireProgram(pi,fi),Ni.set(fi,Ri),Kt.uniforms=pi.uniforms;const Pi=Kt.uniforms;(!ze.isShaderMaterial&&!ze.isRawShaderMaterial||ze.clipping===!0)&&(Pi.clippingPlanes=Te.uniform),c5(ze,pi),Kt.needsLights=Z3(ze),Kt.lightsStateVersion=ti,Kt.needsLights&&(Pi.ambientLightColor.value=bn.state.ambient,Pi.lightProbe.value=bn.state.probe,Pi.directionalLights.value=bn.state.directional,Pi.directionalLightShadows.value=bn.state.directionalShadow,Pi.spotLights.value=bn.state.spot,Pi.spotLightShadows.value=bn.state.spotShadow,Pi.rectAreaLights.value=bn.state.rectArea,Pi.ltc_1.value=bn.state.rectAreaLTC1,Pi.ltc_2.value=bn.state.rectAreaLTC2,Pi.pointLights.value=bn.state.point,Pi.pointLightShadows.value=bn.state.pointShadow,Pi.hemisphereLights.value=bn.state.hemi,Pi.directionalShadowMap.value=bn.state.directionalShadowMap,Pi.directionalShadowMatrix.value=bn.state.directionalShadowMatrix,Pi.spotShadowMap.value=bn.state.spotShadowMap,Pi.spotShadowMatrix.value=bn.state.spotShadowMatrix,Pi.pointShadowMap.value=bn.state.pointShadowMap,Pi.pointShadowMatrix.value=bn.state.pointShadowMatrix);const xo=Ri.getUniforms(),Tl=au.seqWithValue(xo.seq,Pi);return Kt.currentProgram=Ri,Kt.uniformsList=Tl,Ri}function c5(ze,jt){const un=Rn.get(ze);un.outputEncoding=jt.outputEncoding,un.instancing=jt.instancing,un.skinning=jt.skinning,un.morphTargets=jt.morphTargets,un.morphNormals=jt.morphNormals,un.morphColors=jt.morphColors,un.morphTargetsCount=jt.morphTargetsCount,un.numClippingPlanes=jt.numClippingPlanes,un.numIntersection=jt.numClipIntersection,un.vertexAlphas=jt.vertexAlphas,un.vertexTangents=jt.vertexTangents,un.toneMapping=jt.toneMapping}function $3(ze,jt,un,Kt,bn){jt.isScene!==!0&&(jt=gr),wn.resetTextureUnits();const $r=jt.fog,ti=Kt.isMeshStandardMaterial?jt.environment:null,pi=_e===null?S.outputEncoding:_e.isXRRenderTarget===!0?_e.texture.encoding:Fo,fi=(Kt.isMeshStandardMaterial?_r:Yn).get(Kt.envMap||ti),Ni=Kt.vertexColors===!0&&!!un.attributes.color&&un.attributes.color.itemSize===4,Ri=!!Kt.normalMap&&!!un.attributes.tangent,Pi=!!un.morphAttributes.position,xo=!!un.morphAttributes.normal,Tl=!!un.morphAttributes.color,Ac=Kt.toneMapped?S.toneMapping:We,Tc=un.morphAttributes.position||un.morphAttributes.normal||un.morphAttributes.color,Ka=Tc!==void 0?Tc.length:0,zi=Rn.get(Kt),Pc=y.state.lights;if(Tn===!0&&(on===!0||ze!==Ie)){const Ja=ze===Ie&&Kt.id===ie;Te.setState(Kt,ze,Ja)}let Io=!1;Kt.version===zi.__version?(zi.needsLights&&zi.lightsStateVersion!==Pc.state.version||zi.outputEncoding!==pi||bn.isInstancedMesh&&zi.instancing===!1||!bn.isInstancedMesh&&zi.instancing===!0||bn.isSkinnedMesh&&zi.skinning===!1||!bn.isSkinnedMesh&&zi.skinning===!0||zi.envMap!==fi||Kt.fog===!0&&zi.fog!==$r||zi.numClippingPlanes!==void 0&&(zi.numClippingPlanes!==Te.numPlanes||zi.numIntersection!==Te.numIntersection)||zi.vertexAlphas!==Ni||zi.vertexTangents!==Ri||zi.morphTargets!==Pi||zi.morphNormals!==xo||zi.morphColors!==Tl||zi.toneMapping!==Ac||Jr.isWebGL2===!0&&zi.morphTargetsCount!==Ka)&&(Io=!0):(Io=!0,zi.__version=Kt.version);let qa=zi.currentProgram;Io===!0&&(qa=jf(Kt,jt,bn));let N1=!1,Mu=!1,Zf=!1;const As=qa.getUniforms(),Su=zi.uniforms;if(er.useProgram(qa.program)&&(N1=!0,Mu=!0,Zf=!0),Kt.id!==ie&&(ie=Kt.id,Mu=!0),N1||Ie!==ze){if(As.setValue(vn,"projectionMatrix",ze.projectionMatrix),Jr.logarithmicDepthBuffer&&As.setValue(vn,"logDepthBufFC",2/(Math.log(ze.far+1)/Math.LN2)),Ie!==ze&&(Ie=ze,Mu=!0,Zf=!0),Kt.isShaderMaterial||Kt.isMeshPhongMaterial||Kt.isMeshToonMaterial||Kt.isMeshStandardMaterial||Kt.envMap){const Ja=As.map.cameraPosition;Ja!==void 0&&Ja.setValue(vn,Qn.setFromMatrixPosition(ze.matrixWorld))}(Kt.isMeshPhongMaterial||Kt.isMeshToonMaterial||Kt.isMeshLambertMaterial||Kt.isMeshBasicMaterial||Kt.isMeshStandardMaterial||Kt.isShaderMaterial)&&As.setValue(vn,"isOrthographic",ze.isOrthographicCamera===!0),(Kt.isMeshPhongMaterial||Kt.isMeshToonMaterial||Kt.isMeshLambertMaterial||Kt.isMeshBasicMaterial||Kt.isMeshStandardMaterial||Kt.isShaderMaterial||Kt.isShadowMaterial||bn.isSkinnedMesh)&&As.setValue(vn,"viewMatrix",ze.matrixWorldInverse)}if(bn.isSkinnedMesh){As.setOptional(vn,bn,"bindMatrix"),As.setOptional(vn,bn,"bindMatrixInverse");const Ja=bn.skeleton;Ja&&(Jr.floatVertexTextures?(Ja.boneTexture===null&&Ja.computeBoneTexture(),As.setValue(vn,"boneTexture",Ja.boneTexture,wn),As.setValue(vn,"boneTextureSize",Ja.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Wf=un.morphAttributes;return(Wf.position!==void 0||Wf.normal!==void 0||Wf.color!==void 0&&Jr.isWebGL2===!0)&&Wn.update(bn,un,Kt,qa),(Mu||zi.receiveShadow!==bn.receiveShadow)&&(zi.receiveShadow=bn.receiveShadow,As.setValue(vn,"receiveShadow",bn.receiveShadow)),Mu&&(As.setValue(vn,"toneMappingExposure",S.toneMappingExposure),zi.needsLights&&j3(Su,Zf),$r&&Kt.fog===!0&&qi.refreshFogUniforms(Su,$r),qi.refreshMaterialUniforms(Su,Kt,Ht,Pt,hn),au.upload(vn,zi.uniformsList,Su,wn)),Kt.isShaderMaterial&&Kt.uniformsNeedUpdate===!0&&(au.upload(vn,zi.uniformsList,Su,wn),Kt.uniformsNeedUpdate=!1),Kt.isSpriteMaterial&&As.setValue(vn,"center",bn.center),As.setValue(vn,"modelViewMatrix",bn.modelViewMatrix),As.setValue(vn,"normalMatrix",bn.normalMatrix),As.setValue(vn,"modelMatrix",bn.matrixWorld),qa}function j3(ze,jt){ze.ambientLightColor.needsUpdate=jt,ze.lightProbe.needsUpdate=jt,ze.directionalLights.needsUpdate=jt,ze.directionalLightShadows.needsUpdate=jt,ze.pointLights.needsUpdate=jt,ze.pointLightShadows.needsUpdate=jt,ze.spotLights.needsUpdate=jt,ze.spotLightShadows.needsUpdate=jt,ze.rectAreaLights.needsUpdate=jt,ze.hemisphereLights.needsUpdate=jt}function Z3(ze){return ze.isMeshLambertMaterial||ze.isMeshToonMaterial||ze.isMeshPhongMaterial||ze.isMeshStandardMaterial||ze.isShadowMaterial||ze.isShaderMaterial&&ze.lights===!0}this.getActiveCubeFace=function(){return G},this.getActiveMipmapLevel=function(){return q},this.getRenderTarget=function(){return _e},this.setRenderTargetTextures=function(ze,jt,un){Rn.get(ze.texture).__webglTexture=jt,Rn.get(ze.depthTexture).__webglTexture=un;const Kt=Rn.get(ze);Kt.__hasExternalTextures=!0,Kt.__hasExternalTextures&&(Kt.__autoAllocateDepthBuffer=un===void 0,Kt.__autoAllocateDepthBuffer||Qr.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Kt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ze,jt){const un=Rn.get(ze);un.__webglFramebuffer=jt,un.__useDefaultFramebuffer=jt===void 0},this.setRenderTarget=function(ze,jt=0,un=0){_e=ze,G=jt,q=un;let Kt=!0;if(ze){const fi=Rn.get(ze);fi.__useDefaultFramebuffer!==void 0?(er.bindFramebuffer(36160,null),Kt=!1):fi.__webglFramebuffer===void 0?wn.setupRenderTarget(ze):fi.__hasExternalTextures&&wn.rebindTextures(ze,Rn.get(ze.texture).__webglTexture,Rn.get(ze.depthTexture).__webglTexture)}let bn=null,$r=!1,ti=!1;if(ze){const fi=ze.texture;(fi.isData3DTexture||fi.isDataArrayTexture)&&(ti=!0);const Ni=Rn.get(ze).__webglFramebuffer;ze.isWebGLCubeRenderTarget?(bn=Ni[jt],$r=!0):Jr.isWebGL2&&ze.samples>0&&wn.useMultisampledRTT(ze)===!1?bn=Rn.get(ze).__webglMultisampledFramebuffer:bn=Ni,Fe.copy(ze.viewport),vt.copy(ze.scissor),ce=ze.scissorTest}else Fe.copy(Bt).multiplyScalar(Ht).floor(),vt.copy(gn).multiplyScalar(Ht).floor(),ce=qt;if(er.bindFramebuffer(36160,bn)&&Jr.drawBuffers&&Kt&&er.drawBuffers(ze,bn),er.viewport(Fe),er.scissor(vt),er.setScissorTest(ce),$r){const fi=Rn.get(ze.texture);vn.framebufferTexture2D(36160,36064,34069+jt,fi.__webglTexture,un)}else if(ti){const fi=Rn.get(ze.texture),Ni=jt||0;vn.framebufferTextureLayer(36160,36064,fi.__webglTexture,un||0,Ni)}ie=-1},this.readRenderTargetPixels=function(ze,jt,un,Kt,bn,$r,ti){if(!(ze&&ze.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let pi=Rn.get(ze).__webglFramebuffer;if(ze.isWebGLCubeRenderTarget&&ti!==void 0&&(pi=pi[ti]),pi){er.bindFramebuffer(36160,pi);try{const fi=ze.texture,Ni=fi.format,Ri=fi.type;if(Ni!==xr&&cn.convert(Ni)!==vn.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Pi=Ri===Wt&&(Qr.has("EXT_color_buffer_half_float")||Jr.isWebGL2&&Qr.has("EXT_color_buffer_float"));if(Ri!==pn&&cn.convert(Ri)!==vn.getParameter(35738)&&!(Ri===Tt&&(Jr.isWebGL2||Qr.has("OES_texture_float")||Qr.has("WEBGL_color_buffer_float")))&&!Pi){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}jt>=0&&jt<=ze.width-Kt&&un>=0&&un<=ze.height-bn&&vn.readPixels(jt,un,Kt,bn,cn.convert(Ni),cn.convert(Ri),$r)}finally{const fi=_e!==null?Rn.get(_e).__webglFramebuffer:null;er.bindFramebuffer(36160,fi)}}},this.copyFramebufferToTexture=function(ze,jt,un=0){const Kt=Math.pow(2,-un),bn=Math.floor(jt.image.width*Kt),$r=Math.floor(jt.image.height*Kt);wn.setTexture2D(jt,0),vn.copyTexSubImage2D(3553,un,0,0,ze.x,ze.y,bn,$r),er.unbindTexture()},this.copyTextureToTexture=function(ze,jt,un,Kt=0){const bn=jt.image.width,$r=jt.image.height,ti=cn.convert(un.format),pi=cn.convert(un.type);wn.setTexture2D(un,0),vn.pixelStorei(37440,un.flipY),vn.pixelStorei(37441,un.premultiplyAlpha),vn.pixelStorei(3317,un.unpackAlignment),jt.isDataTexture?vn.texSubImage2D(3553,Kt,ze.x,ze.y,bn,$r,ti,pi,jt.image.data):jt.isCompressedTexture?vn.compressedTexSubImage2D(3553,Kt,ze.x,ze.y,jt.mipmaps[0].width,jt.mipmaps[0].height,ti,jt.mipmaps[0].data):vn.texSubImage2D(3553,Kt,ze.x,ze.y,ti,pi,jt.image),Kt===0&&un.generateMipmaps&&vn.generateMipmap(3553),er.unbindTexture()},this.copyTextureToTexture3D=function(ze,jt,un,Kt,bn=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const $r=ze.max.x-ze.min.x+1,ti=ze.max.y-ze.min.y+1,pi=ze.max.z-ze.min.z+1,fi=cn.convert(Kt.format),Ni=cn.convert(Kt.type);let Ri;if(Kt.isData3DTexture)wn.setTexture3D(Kt,0),Ri=32879;else if(Kt.isDataArrayTexture)wn.setTexture2DArray(Kt,0),Ri=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}vn.pixelStorei(37440,Kt.flipY),vn.pixelStorei(37441,Kt.premultiplyAlpha),vn.pixelStorei(3317,Kt.unpackAlignment);const Pi=vn.getParameter(3314),xo=vn.getParameter(32878),Tl=vn.getParameter(3316),Ac=vn.getParameter(3315),Tc=vn.getParameter(32877),Ka=un.isCompressedTexture?un.mipmaps[0]:un.image;vn.pixelStorei(3314,Ka.width),vn.pixelStorei(32878,Ka.height),vn.pixelStorei(3316,ze.min.x),vn.pixelStorei(3315,ze.min.y),vn.pixelStorei(32877,ze.min.z),un.isDataTexture||un.isData3DTexture?vn.texSubImage3D(Ri,bn,jt.x,jt.y,jt.z,$r,ti,pi,fi,Ni,Ka.data):un.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),vn.compressedTexSubImage3D(Ri,bn,jt.x,jt.y,jt.z,$r,ti,pi,fi,Ka.data)):vn.texSubImage3D(Ri,bn,jt.x,jt.y,jt.z,$r,ti,pi,fi,Ni,Ka),vn.pixelStorei(3314,Pi),vn.pixelStorei(32878,xo),vn.pixelStorei(3316,Tl),vn.pixelStorei(3315,Ac),vn.pixelStorei(32877,Tc),bn===0&&Kt.generateMipmaps&&vn.generateMipmap(Ri),er.unbindTexture()},this.initTexture=function(ze){ze.isCubeTexture?wn.setTextureCube(ze,0):ze.isData3DTexture?wn.setTexture3D(ze,0):ze.isDataArrayTexture?wn.setTexture2DArray(ze,0):wn.setTexture2D(ze,0),er.unbindTexture()},this.resetState=function(){G=0,q=0,_e=null,er.reset(),br.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class S2 extends M2{}S2.prototype.isWebGL1Renderer=!0;class qu{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new rr(e),this.density=t}clone(){return new qu(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Ju{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new rr(e),this.near=t,this.far=n}clone(){return new Ju(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class E2 extends Ei{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}class Qu{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=mn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=xi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,o=this.stride;r<o;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Es=new Ae;class vl{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Es.fromBufferAttribute(this,t),Es.applyMatrix4(e),this.setXYZ(t,Es.x,Es.y,Es.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Es.fromBufferAttribute(this,t),Es.applyNormalMatrix(e),this.setXYZ(t,Es.x,Es.y,Es.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Es.fromBufferAttribute(this,t),Es.transformDirection(e),this.setXYZ(t,Es.x,Es.y,Es.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return new Oi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new vl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class df extends io{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new rr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let cc;const lu=new Ae,uc=new Ae,fc=new Ae,dc=new dn,cu=new dn,L2=new kr,e0=new Ae,uu=new Ae,t0=new Ae,R2=new dn,hf=new dn,A2=new dn;class T2 extends Ei{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",cc===void 0){cc=new Dr;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Qu(t,5);cc.setIndex([0,1,2,0,2,3]),cc.setAttribute("position",new vl(n,3,0,!1)),cc.setAttribute("uv",new vl(n,2,3,!1))}this.geometry=cc,this.material=e!==void 0?e:new df,this.center=new dn(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),uc.setFromMatrixScale(this.matrixWorld),L2.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),fc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&uc.multiplyScalar(-fc.z);const n=this.material.rotation;let r,o;n!==0&&(o=Math.cos(n),r=Math.sin(n));const a=this.center;n0(e0.set(-.5,-.5,0),fc,a,uc,r,o),n0(uu.set(.5,-.5,0),fc,a,uc,r,o),n0(t0.set(.5,.5,0),fc,a,uc,r,o),R2.set(0,0),hf.set(1,0),A2.set(1,1);let l=e.ray.intersectTriangle(e0,uu,t0,!1,lu);if(l===null&&(n0(uu.set(-.5,.5,0),fc,a,uc,r,o),hf.set(0,1),l=e.ray.intersectTriangle(e0,t0,uu,!1,lu),l===null))return;const f=e.ray.origin.distanceTo(lu);f<e.near||f>e.far||t.push({distance:f,point:lu.clone(),uv:eo.getUV(lu,e0,uu,t0,R2,hf,A2,new dn),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function n0(c,e,t,n,r,o){dc.subVectors(c,t).addScalar(.5).multiply(n),r!==void 0?(cu.x=o*dc.x-r*dc.y,cu.y=r*dc.x+o*dc.y):cu.copy(dc),c.copy(e),c.x+=cu.x,c.y+=cu.y,c.applyMatrix4(L2)}const r0=new Ae,P2=new Ae;class O2 extends Ei{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const o=t[n];this.addLevel(o.object.clone(),o.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const n=this.levels;let r;for(r=0;r<n.length&&!(t<n[r].distance);r++);return n.splice(r,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){r0.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(r0);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){r0.setFromMatrixPosition(e.matrixWorld),P2.setFromMatrixPosition(this.matrixWorld);const n=r0.distanceTo(P2)/e.zoom;t[0].object.visible=!0;let r,o;for(r=1,o=t.length;r<o&&n>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(this._currentLevel=r-1;r<o;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,o=n.length;r<o;r++){const a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}const I2=new Ae,D2=new vi,z2=new vi,$5=new Ae,H2=new kr;class V2 extends Mo{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new kr,this.bindMatrixInverse=new kr}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new vi,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,r=this.geometry;D2.fromBufferAttribute(r.attributes.skinIndex,e),z2.fromBufferAttribute(r.attributes.skinWeight,e),I2.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const a=z2.getComponent(o);if(a!==0){const l=D2.getComponent(o);H2.multiplyMatrices(n.bones[l].matrixWorld,n.boneInverses[l]),t.addScaledVector($5.copy(I2).applyMatrix4(H2),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class pf extends Ei{constructor(){super(),this.isBone=!0,this.type="Bone"}}class hc extends Gi{constructor(e=null,t=1,n=1,r,o,a,l,f,d=Xe,p=Xe,v,y){super(null,a,l,f,d,p,r,o,v,y),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const B2=new kr,j5=new kr;class i0{constructor(e=[],t=[]){this.uuid=xi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new kr)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new kr;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const l=e[o]?e[o].matrixWorld:j5;B2.multiplyMatrices(l,t[o]),B2.toArray(n,o*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new i0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=uo(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new hc(t,e,e,xr,Tt);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const o=e.bones[n];let a=t[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new pf),this.bones.push(a),this.boneInverses.push(new kr().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,o=t.length;r<o;r++){const a=t[r];e.bones.push(a.uuid);const l=n[r];e.boneInverses.push(l.toArray())}return e}}class pc extends Oi{constructor(e,t,n,r=1){typeof n=="number"&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const N2=new kr,F2=new kr,o0=[],fu=new Mo;class k2 extends Mo{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new pc(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(fu.geometry=this.geometry,fu.material=this.material,fu.material!==void 0)for(let o=0;o<r;o++){this.getMatrixAt(o,N2),F2.multiplyMatrices(n,N2),fu.matrixWorld=F2,fu.raycast(e,o0);for(let a=0,l=o0.length;a<l;a++){const f=o0[a];f.instanceId=o,f.object=this,t.push(f)}o0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new pc(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ls extends io{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new rr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const U2=new Ae,$2=new Ae,j2=new kr,mf=new t1,s0=new jo;class D1 extends Ei{constructor(e=new Dr,t=new Ls){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,o=t.count;r<o;r++)U2.fromBufferAttribute(t,r-1),$2.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=U2.distanceTo($2);e.setAttribute("lineDistance",new cr(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),s0.copy(n.boundingSphere),s0.applyMatrix4(r),s0.radius+=o,e.ray.intersectsSphere(s0)===!1)return;j2.copy(r).invert(),mf.copy(e.ray).applyMatrix4(j2);const l=o/((this.scale.x+this.scale.y+this.scale.z)/3),f=l*l,d=new Ae,p=new Ae,v=new Ae,y=new Ae,b=this.isLineSegments?2:1,R=n.index,E=n.attributes.position;if(R!==null){const G=Math.max(0,a.start),q=Math.min(R.count,a.start+a.count);for(let _e=G,ie=q-1;_e<ie;_e+=b){const Ie=R.getX(_e),Fe=R.getX(_e+1);if(d.fromBufferAttribute(E,Ie),p.fromBufferAttribute(E,Fe),mf.distanceSqToSegment(d,p,y,v)>f)continue;y.applyMatrix4(this.matrixWorld);const ce=e.ray.origin.distanceTo(y);ce<e.near||ce>e.far||t.push({distance:ce,point:v.clone().applyMatrix4(this.matrixWorld),index:_e,face:null,faceIndex:null,object:this})}}else{const G=Math.max(0,a.start),q=Math.min(E.count,a.start+a.count);for(let _e=G,ie=q-1;_e<ie;_e+=b){if(d.fromBufferAttribute(E,_e),p.fromBufferAttribute(E,_e+1),mf.distanceSqToSegment(d,p,y,v)>f)continue;y.applyMatrix4(this.matrixWorld);const Fe=e.ray.origin.distanceTo(y);Fe<e.near||Fe>e.far||t.push({distance:Fe,point:v.clone().applyMatrix4(this.matrixWorld),index:_e,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const l=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}}const Z2=new Ae,W2=new Ae;class Wa extends D1{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,o=t.count;r<o;r+=2)Z2.fromBufferAttribute(t,r),W2.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+Z2.distanceTo(W2);e.setAttribute("lineDistance",new cr(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class G2 extends D1{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class gf extends io{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new rr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const X2=new kr,vf=new t1,a0=new jo,l0=new Ae;class Y2 extends Ei{constructor(e=new Dr,t=new gf){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Points.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),a0.copy(n.boundingSphere),a0.applyMatrix4(r),a0.radius+=o,e.ray.intersectsSphere(a0)===!1)return;X2.copy(r).invert(),vf.copy(e.ray).applyMatrix4(X2);const l=o/((this.scale.x+this.scale.y+this.scale.z)/3),f=l*l,d=n.index,v=n.attributes.position;if(d!==null){const y=Math.max(0,a.start),b=Math.min(d.count,a.start+a.count);for(let R=y,S=b;R<S;R++){const E=d.getX(R);l0.fromBufferAttribute(v,E),K2(l0,E,f,r,e,t,this)}}else{const y=Math.max(0,a.start),b=Math.min(v.count,a.start+a.count);for(let R=y,S=b;R<S;R++)l0.fromBufferAttribute(v,R),K2(l0,R,f,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const l=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}}function K2(c,e,t,n,r,o,a){const l=vf.distanceSqToPoint(c);if(l<t){const f=new Ae;vf.closestPointToPoint(c,f),f.applyMatrix4(n);const d=r.ray.origin.distanceTo(f);if(d<r.near||d>r.far)return;o.push({distance:d,distanceToRay:Math.sqrt(l),point:f,index:e,face:null,object:a})}}class Z5 extends Gi{constructor(e,t,n,r,o,a,l,f,d){super(e,t,n,r,o,a,l,f,d),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:me,this.magFilter=o!==void 0?o:me,this.generateMipmaps=!1;const p=this;function v(){p.needsUpdate=!0,e.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(v)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class W5 extends Gi{constructor(e,t,n){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=n,this.magFilter=Xe,this.minFilter=Xe,this.generateMipmaps=!1,this.needsUpdate=!0}}class q2 extends Gi{constructor(e,t,n,r,o,a,l,f,d,p,v,y){super(null,a,l,f,d,p,r,o,v,y),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class G5 extends Gi{constructor(e,t,n,r,o,a,l,f,d){super(e,t,n,r,o,a,l,f,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class wa{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),o=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),o+=n.distanceTo(r),t.push(o),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const o=n.length;let a;t?a=t:a=e*n[o-1];let l=0,f=o-1,d;for(;l<=f;)if(r=Math.floor(l+(f-l)/2),d=n[r]-a,d<0)l=r+1;else if(d>0)f=r-1;else{f=r;break}if(r=f,n[r]===a)return r/(o-1);const p=n[r],y=n[r+1]-p,b=(a-p)/y;return(r+b)/(o-1)}getTangent(e,t){let r=e-1e-4,o=e+1e-4;r<0&&(r=0),o>1&&(o=1);const a=this.getPoint(r),l=this.getPoint(o),f=t||(a.isVector2?new dn:new Ae);return f.copy(l).sub(a).normalize(),f}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new Ae,r=[],o=[],a=[],l=new Ae,f=new kr;for(let b=0;b<=e;b++){const R=b/e;r[b]=this.getTangentAt(R,new Ae)}o[0]=new Ae,a[0]=new Ae;let d=Number.MAX_VALUE;const p=Math.abs(r[0].x),v=Math.abs(r[0].y),y=Math.abs(r[0].z);p<=d&&(d=p,n.set(1,0,0)),v<=d&&(d=v,n.set(0,1,0)),y<=d&&n.set(0,0,1),l.crossVectors(r[0],n).normalize(),o[0].crossVectors(r[0],l),a[0].crossVectors(r[0],o[0]);for(let b=1;b<=e;b++){if(o[b]=o[b-1].clone(),a[b]=a[b-1].clone(),l.crossVectors(r[b-1],r[b]),l.length()>Number.EPSILON){l.normalize();const R=Math.acos(oi(r[b-1].dot(r[b]),-1,1));o[b].applyMatrix4(f.makeRotationAxis(l,R))}a[b].crossVectors(r[b],o[b])}if(t===!0){let b=Math.acos(oi(o[0].dot(o[e]),-1,1));b/=e,r[0].dot(l.crossVectors(o[0],o[e]))>0&&(b=-b);for(let R=1;R<=e;R++)o[R].applyMatrix4(f.makeRotationAxis(r[R],b*R)),a[R].crossVectors(r[R],o[R])}return{tangents:r,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class c0 extends wa{constructor(e=0,t=0,n=1,r=1,o=0,a=Math.PI*2,l=!1,f=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=l,this.aRotation=f}getPoint(e,t){const n=t||new dn,r=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(a?o=0:o=r),this.aClockwise===!0&&!a&&(o===r?o=-r:o=o-r);const l=this.aStartAngle+e*o;let f=this.aX+this.xRadius*Math.cos(l),d=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const p=Math.cos(this.aRotation),v=Math.sin(this.aRotation),y=f-this.aX,b=d-this.aY;f=y*p-b*v+this.aX,d=y*v+b*p+this.aY}return n.set(f,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class J2 extends c0{constructor(e,t,n,r,o,a){super(e,t,n,n,r,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function Cf(){let c=0,e=0,t=0,n=0;function r(o,a,l,f){c=o,e=l,t=-3*o+3*a-2*l-f,n=2*o-2*a+l+f}return{initCatmullRom:function(o,a,l,f,d){r(a,l,d*(l-o),d*(f-a))},initNonuniformCatmullRom:function(o,a,l,f,d,p,v){let y=(a-o)/d-(l-o)/(d+p)+(l-a)/p,b=(l-a)/p-(f-a)/(p+v)+(f-l)/v;y*=p,b*=p,r(a,l,y,b)},calc:function(o){const a=o*o,l=a*o;return c+e*o+t*a+n*l}}}const u0=new Ae,_f=new Cf,yf=new Cf,xf=new Cf;class Q2 extends wa{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new Ae){const n=t,r=this.points,o=r.length,a=(o-(this.closed?0:1))*e;let l=Math.floor(a),f=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/o)+1)*o:f===0&&l===o-1&&(l=o-2,f=1);let d,p;this.closed||l>0?d=r[(l-1)%o]:(u0.subVectors(r[0],r[1]).add(r[0]),d=u0);const v=r[l%o],y=r[(l+1)%o];if(this.closed||l+2<o?p=r[(l+2)%o]:(u0.subVectors(r[o-1],r[o-2]).add(r[o-1]),p=u0),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let R=Math.pow(d.distanceToSquared(v),b),S=Math.pow(v.distanceToSquared(y),b),E=Math.pow(y.distanceToSquared(p),b);S<1e-4&&(S=1),R<1e-4&&(R=S),E<1e-4&&(E=S),_f.initNonuniformCatmullRom(d.x,v.x,y.x,p.x,R,S,E),yf.initNonuniformCatmullRom(d.y,v.y,y.y,p.y,R,S,E),xf.initNonuniformCatmullRom(d.z,v.z,y.z,p.z,R,S,E)}else this.curveType==="catmullrom"&&(_f.initCatmullRom(d.x,v.x,y.x,p.x,this.tension),yf.initCatmullRom(d.y,v.y,y.y,p.y,this.tension),xf.initCatmullRom(d.z,v.z,y.z,p.z,this.tension));return n.set(_f.calc(f),yf.calc(f),xf.calc(f)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new Ae().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function e9(c,e,t,n,r){const o=(n-e)*.5,a=(r-t)*.5,l=c*c,f=c*l;return(2*t-2*n+o+a)*f+(-3*t+3*n-2*o-a)*l+o*c+t}function X5(c,e){const t=1-c;return t*t*e}function Y5(c,e){return 2*(1-c)*c*e}function K5(c,e){return c*c*e}function du(c,e,t,n){return X5(c,e)+Y5(c,t)+K5(c,n)}function q5(c,e){const t=1-c;return t*t*t*e}function J5(c,e){const t=1-c;return 3*t*t*c*e}function Q5(c,e){return 3*(1-c)*c*c*e}function eh(c,e){return c*c*c*e}function hu(c,e,t,n,r){return q5(c,e)+J5(c,t)+Q5(c,n)+eh(c,r)}class wf extends wa{constructor(e=new dn,t=new dn,n=new dn,r=new dn){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new dn){const n=t,r=this.v0,o=this.v1,a=this.v2,l=this.v3;return n.set(hu(e,r.x,o.x,a.x,l.x),hu(e,r.y,o.y,a.y,l.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class t9 extends wa{constructor(e=new Ae,t=new Ae,n=new Ae,r=new Ae){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Ae){const n=t,r=this.v0,o=this.v1,a=this.v2,l=this.v3;return n.set(hu(e,r.x,o.x,a.x,l.x),hu(e,r.y,o.y,a.y,l.y),hu(e,r.z,o.z,a.z,l.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class f0 extends wa{constructor(e=new dn,t=new dn){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new dn){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const n=t||new dn;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class n9 extends wa{constructor(e=new Ae,t=new Ae){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Ae){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bf extends wa{constructor(e=new dn,t=new dn,n=new dn){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new dn){const n=t,r=this.v0,o=this.v1,a=this.v2;return n.set(du(e,r.x,o.x,a.x),du(e,r.y,o.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Mf extends wa{constructor(e=new Ae,t=new Ae,n=new Ae){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ae){const n=t,r=this.v0,o=this.v1,a=this.v2;return n.set(du(e,r.x,o.x,a.x),du(e,r.y,o.y,a.y),du(e,r.z,o.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Sf extends wa{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new dn){const n=t,r=this.points,o=(r.length-1)*e,a=Math.floor(o),l=o-a,f=r[a===0?a:a-1],d=r[a],p=r[a>r.length-2?r.length-1:a+1],v=r[a>r.length-3?r.length-1:a+2];return n.set(e9(l,f.x,d.x,p.x,v.x),e9(l,f.y,d.y,p.y,v.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new dn().fromArray(r))}return this}}var Ef=Object.freeze({__proto__:null,ArcCurve:J2,CatmullRomCurve3:Q2,CubicBezierCurve:wf,CubicBezierCurve3:t9,EllipseCurve:c0,LineCurve:f0,LineCurve3:n9,QuadraticBezierCurve:bf,QuadraticBezierCurve3:Mf,SplineCurve:Sf});class r9 extends wa{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new f0(t,e))}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let o=0;for(;o<r.length;){if(r[o]>=n){const a=r[o]-n,l=this.curves[o],f=l.getLength(),d=f===0?0:1-a/f;return l.getPointAt(d,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,o=this.curves;r<o.length;r++){const a=o[r],l=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,f=a.getPoints(l);for(let d=0;d<f.length;d++){const p=f[d];n&&n.equals(p)||(t.push(p),n=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new Ef[r.type]().fromJSON(r))}return this}}class pu extends r9{constructor(e){super(),this.type="Path",this.currentPoint=new dn,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new f0(this.currentPoint.clone(),new dn(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const o=new bf(this.currentPoint.clone(),new dn(e,t),new dn(n,r));return this.curves.push(o),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,o,a){const l=new wf(this.currentPoint.clone(),new dn(e,t),new dn(n,r),new dn(o,a));return this.curves.push(l),this.currentPoint.set(o,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Sf(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,o,a){const l=this.currentPoint.x,f=this.currentPoint.y;return this.absarc(e+l,t+f,n,r,o,a),this}absarc(e,t,n,r,o,a){return this.absellipse(e,t,n,n,r,o,a),this}ellipse(e,t,n,r,o,a,l,f){const d=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+d,t+p,n,r,o,a,l,f),this}absellipse(e,t,n,r,o,a,l,f){const d=new c0(e,t,n,r,o,a,l,f);if(this.curves.length>0){const v=d.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(d);const p=d.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Cl extends Dr{constructor(e=[new dn(0,.5),new dn(.5,0),new dn(0,-.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=oi(r,0,Math.PI*2);const o=[],a=[],l=[],f=[],d=[],p=1/t,v=new Ae,y=new dn,b=new Ae,R=new Ae,S=new Ae;let E=0,G=0;for(let q=0;q<=e.length-1;q++)switch(q){case 0:E=e[q+1].x-e[q].x,G=e[q+1].y-e[q].y,b.x=G*1,b.y=-E,b.z=G*0,S.copy(b),b.normalize(),f.push(b.x,b.y,b.z);break;case e.length-1:f.push(S.x,S.y,S.z);break;default:E=e[q+1].x-e[q].x,G=e[q+1].y-e[q].y,b.x=G*1,b.y=-E,b.z=G*0,R.copy(b),b.x+=S.x,b.y+=S.y,b.z+=S.z,b.normalize(),f.push(b.x,b.y,b.z),S.copy(R)}for(let q=0;q<=t;q++){const _e=n+q*p*r,ie=Math.sin(_e),Ie=Math.cos(_e);for(let Fe=0;Fe<=e.length-1;Fe++){v.x=e[Fe].x*ie,v.y=e[Fe].y,v.z=e[Fe].x*Ie,a.push(v.x,v.y,v.z),y.x=q/t,y.y=Fe/(e.length-1),l.push(y.x,y.y);const vt=f[3*Fe+0]*ie,ce=f[3*Fe+1],je=f[3*Fe+0]*Ie;d.push(vt,ce,je)}}for(let q=0;q<t;q++)for(let _e=0;_e<e.length-1;_e++){const ie=_e+q*e.length,Ie=ie,Fe=ie+e.length,vt=ie+e.length+1,ce=ie+1;o.push(Ie,Fe,ce),o.push(vt,ce,Fe)}this.setIndex(o),this.setAttribute("position",new cr(a,3)),this.setAttribute("uv",new cr(l,2)),this.setAttribute("normal",new cr(d,3))}static fromJSON(e){return new Cl(e.points,e.segments,e.phiStart,e.phiLength)}}class mc extends Cl{constructor(e=1,t=1,n=4,r=8){const o=new pu;o.absarc(0,-t/2,e,Math.PI*1.5,0),o.absarc(0,t/2,e,0,Math.PI*.5),super(o.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new mc(e.radius,e.length,e.capSegments,e.radialSegments)}}class gc extends Dr{constructor(e=1,t=8,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const o=[],a=[],l=[],f=[],d=new Ae,p=new dn;a.push(0,0,0),l.push(0,0,1),f.push(.5,.5);for(let v=0,y=3;v<=t;v++,y+=3){const b=n+v/t*r;d.x=e*Math.cos(b),d.y=e*Math.sin(b),a.push(d.x,d.y,d.z),l.push(0,0,1),p.x=(a[y]/e+1)/2,p.y=(a[y+1]/e+1)/2,f.push(p.x,p.y)}for(let v=1;v<=t;v++)o.push(v,v+1,0);this.setIndex(o),this.setAttribute("position",new cr(a,3)),this.setAttribute("normal",new cr(l,3)),this.setAttribute("uv",new cr(f,2))}static fromJSON(e){return new gc(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class z1 extends Dr{constructor(e=1,t=1,n=1,r=8,o=1,a=!1,l=0,f=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:l,thetaLength:f};const d=this;r=Math.floor(r),o=Math.floor(o);const p=[],v=[],y=[],b=[];let R=0;const S=[],E=n/2;let G=0;q(),a===!1&&(e>0&&_e(!0),t>0&&_e(!1)),this.setIndex(p),this.setAttribute("position",new cr(v,3)),this.setAttribute("normal",new cr(y,3)),this.setAttribute("uv",new cr(b,2));function q(){const ie=new Ae,Ie=new Ae;let Fe=0;const vt=(t-e)/n;for(let ce=0;ce<=o;ce++){const je=[],Pt=ce/o,Ht=Pt*(t-e)+e;for(let En=0;En<=r;En++){const jn=En/r,Bt=jn*f+l,gn=Math.sin(Bt),qt=Math.cos(Bt);Ie.x=Ht*gn,Ie.y=-Pt*n+E,Ie.z=Ht*qt,v.push(Ie.x,Ie.y,Ie.z),ie.set(gn,vt,qt).normalize(),y.push(ie.x,ie.y,ie.z),b.push(jn,1-Pt),je.push(R++)}S.push(je)}for(let ce=0;ce<r;ce++)for(let je=0;je<o;je++){const Pt=S[je][ce],Ht=S[je+1][ce],En=S[je+1][ce+1],jn=S[je][ce+1];p.push(Pt,Ht,jn),p.push(Ht,En,jn),Fe+=6}d.addGroup(G,Fe,0),G+=Fe}function _e(ie){const Ie=R,Fe=new dn,vt=new Ae;let ce=0;const je=ie===!0?e:t,Pt=ie===!0?1:-1;for(let En=1;En<=r;En++)v.push(0,E*Pt,0),y.push(0,Pt,0),b.push(.5,.5),R++;const Ht=R;for(let En=0;En<=r;En++){const Bt=En/r*f+l,gn=Math.cos(Bt),qt=Math.sin(Bt);vt.x=je*qt,vt.y=E*Pt,vt.z=je*gn,v.push(vt.x,vt.y,vt.z),y.push(0,Pt,0),Fe.x=gn*.5+.5,Fe.y=qt*.5*Pt+.5,b.push(Fe.x,Fe.y),R++}for(let En=0;En<r;En++){const jn=Ie+En,Bt=Ht+En;ie===!0?p.push(Bt,Bt+1,jn):p.push(Bt+1,Bt,jn),ce+=3}d.addGroup(G,ce,ie===!0?1:2),G+=ce}}static fromJSON(e){return new z1(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class vc extends z1{constructor(e=1,t=1,n=8,r=1,o=!1,a=0,l=Math.PI*2){super(0,e,t,n,r,o,a,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:l}}static fromJSON(e){return new vc(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ga extends Dr{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const o=[],a=[];l(r),d(n),p(),this.setAttribute("position",new cr(o,3)),this.setAttribute("normal",new cr(o.slice(),3)),this.setAttribute("uv",new cr(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(q){const _e=new Ae,ie=new Ae,Ie=new Ae;for(let Fe=0;Fe<t.length;Fe+=3)b(t[Fe+0],_e),b(t[Fe+1],ie),b(t[Fe+2],Ie),f(_e,ie,Ie,q)}function f(q,_e,ie,Ie){const Fe=Ie+1,vt=[];for(let ce=0;ce<=Fe;ce++){vt[ce]=[];const je=q.clone().lerp(ie,ce/Fe),Pt=_e.clone().lerp(ie,ce/Fe),Ht=Fe-ce;for(let En=0;En<=Ht;En++)En===0&&ce===Fe?vt[ce][En]=je:vt[ce][En]=je.clone().lerp(Pt,En/Ht)}for(let ce=0;ce<Fe;ce++)for(let je=0;je<2*(Fe-ce)-1;je++){const Pt=Math.floor(je/2);je%2===0?(y(vt[ce][Pt+1]),y(vt[ce+1][Pt]),y(vt[ce][Pt])):(y(vt[ce][Pt+1]),y(vt[ce+1][Pt+1]),y(vt[ce+1][Pt]))}}function d(q){const _e=new Ae;for(let ie=0;ie<o.length;ie+=3)_e.x=o[ie+0],_e.y=o[ie+1],_e.z=o[ie+2],_e.normalize().multiplyScalar(q),o[ie+0]=_e.x,o[ie+1]=_e.y,o[ie+2]=_e.z}function p(){const q=new Ae;for(let _e=0;_e<o.length;_e+=3){q.x=o[_e+0],q.y=o[_e+1],q.z=o[_e+2];const ie=E(q)/2/Math.PI+.5,Ie=G(q)/Math.PI+.5;a.push(ie,1-Ie)}R(),v()}function v(){for(let q=0;q<a.length;q+=6){const _e=a[q+0],ie=a[q+2],Ie=a[q+4],Fe=Math.max(_e,ie,Ie),vt=Math.min(_e,ie,Ie);Fe>.9&&vt<.1&&(_e<.2&&(a[q+0]+=1),ie<.2&&(a[q+2]+=1),Ie<.2&&(a[q+4]+=1))}}function y(q){o.push(q.x,q.y,q.z)}function b(q,_e){const ie=q*3;_e.x=e[ie+0],_e.y=e[ie+1],_e.z=e[ie+2]}function R(){const q=new Ae,_e=new Ae,ie=new Ae,Ie=new Ae,Fe=new dn,vt=new dn,ce=new dn;for(let je=0,Pt=0;je<o.length;je+=9,Pt+=6){q.set(o[je+0],o[je+1],o[je+2]),_e.set(o[je+3],o[je+4],o[je+5]),ie.set(o[je+6],o[je+7],o[je+8]),Fe.set(a[Pt+0],a[Pt+1]),vt.set(a[Pt+2],a[Pt+3]),ce.set(a[Pt+4],a[Pt+5]),Ie.copy(q).add(_e).add(ie).divideScalar(3);const Ht=E(Ie);S(Fe,Pt+0,q,Ht),S(vt,Pt+2,_e,Ht),S(ce,Pt+4,ie,Ht)}}function S(q,_e,ie,Ie){Ie<0&&q.x===1&&(a[_e]=q.x-1),ie.x===0&&ie.z===0&&(a[_e]=Ie/2/Math.PI+.5)}function E(q){return Math.atan2(q.z,-q.x)}function G(q){return Math.atan2(-q.y,Math.sqrt(q.x*q.x+q.z*q.z))}}static fromJSON(e){return new Ga(e.vertices,e.indices,e.radius,e.details)}}class Cc extends Ga{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Cc(e.radius,e.detail)}}const d0=new Ae,h0=new Ae,Lf=new Ae,p0=new eo;class i9 extends Dr{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),o=Math.cos(gi*t),a=e.getIndex(),l=e.getAttribute("position"),f=a?a.count:l.count,d=[0,0,0],p=["a","b","c"],v=new Array(3),y={},b=[];for(let R=0;R<f;R+=3){a?(d[0]=a.getX(R),d[1]=a.getX(R+1),d[2]=a.getX(R+2)):(d[0]=R,d[1]=R+1,d[2]=R+2);const{a:S,b:E,c:G}=p0;if(S.fromBufferAttribute(l,d[0]),E.fromBufferAttribute(l,d[1]),G.fromBufferAttribute(l,d[2]),p0.getNormal(Lf),v[0]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,v[1]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,v[2]=`${Math.round(G.x*r)},${Math.round(G.y*r)},${Math.round(G.z*r)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let q=0;q<3;q++){const _e=(q+1)%3,ie=v[q],Ie=v[_e],Fe=p0[p[q]],vt=p0[p[_e]],ce=`${ie}_${Ie}`,je=`${Ie}_${ie}`;je in y&&y[je]?(Lf.dot(y[je].normal)<=o&&(b.push(Fe.x,Fe.y,Fe.z),b.push(vt.x,vt.y,vt.z)),y[je]=null):ce in y||(y[ce]={index0:d[q],index1:d[_e],normal:Lf.clone()})}}for(const R in y)if(y[R]){const{index0:S,index1:E}=y[R];d0.fromBufferAttribute(l,S),h0.fromBufferAttribute(l,E),b.push(d0.x,d0.y,d0.z),b.push(h0.x,h0.y,h0.z)}this.setAttribute("position",new cr(b,3))}}}class _l extends pu{constructor(e){super(e),this.uuid=xi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new pu().fromJSON(r))}return this}}const th={triangulate:function(c,e,t=2){const n=e&&e.length,r=n?e[0]*t:c.length;let o=o9(c,0,r,t,!0);const a=[];if(!o||o.next===o.prev)return a;let l,f,d,p,v,y,b;if(n&&(o=sh(c,e,o,t)),c.length>80*t){l=d=c[0],f=p=c[1];for(let R=t;R<r;R+=t)v=c[R],y=c[R+1],v<l&&(l=v),y<f&&(f=y),v>d&&(d=v),y>p&&(p=y);b=Math.max(d-l,p-f),b=b!==0?1/b:0}return mu(o,a,t,l,f,b),a}};function o9(c,e,t,n,r){let o,a;if(r===vh(c,e,t,n)>0)for(o=e;o<t;o+=n)a=l9(o,c[o],c[o+1],a);else for(o=t-n;o>=e;o-=n)a=l9(o,c[o],c[o+1],a);return a&&m0(a,a.next)&&(vu(a),a=a.next),a}function H1(c,e){if(!c)return c;e||(e=c);let t=c,n;do if(n=!1,!t.steiner&&(m0(t,t.next)||ao(t.prev,t,t.next)===0)){if(vu(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function mu(c,e,t,n,r,o,a){if(!c)return;!a&&o&&fh(c,n,r,o);let l=c,f,d;for(;c.prev!==c.next;){if(f=c.prev,d=c.next,o?rh(c,n,r,o):nh(c)){e.push(f.i/t),e.push(c.i/t),e.push(d.i/t),vu(c),c=d.next,l=d.next;continue}if(c=d,c===l){a?a===1?(c=ih(H1(c),e,t),mu(c,e,t,n,r,o,2)):a===2&&oh(c,e,t,n,r,o):mu(H1(c),e,t,n,r,o,1);break}}}function nh(c){const e=c.prev,t=c,n=c.next;if(ao(e,t,n)>=0)return!1;let r=c.next.next;for(;r!==c.prev;){if(_c(e.x,e.y,t.x,t.y,n.x,n.y,r.x,r.y)&&ao(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function rh(c,e,t,n){const r=c.prev,o=c,a=c.next;if(ao(r,o,a)>=0)return!1;const l=r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,f=r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,d=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,p=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,v=Rf(l,f,e,t,n),y=Rf(d,p,e,t,n);let b=c.prevZ,R=c.nextZ;for(;b&&b.z>=v&&R&&R.z<=y;){if(b!==c.prev&&b!==c.next&&_c(r.x,r.y,o.x,o.y,a.x,a.y,b.x,b.y)&&ao(b.prev,b,b.next)>=0||(b=b.prevZ,R!==c.prev&&R!==c.next&&_c(r.x,r.y,o.x,o.y,a.x,a.y,R.x,R.y)&&ao(R.prev,R,R.next)>=0))return!1;R=R.nextZ}for(;b&&b.z>=v;){if(b!==c.prev&&b!==c.next&&_c(r.x,r.y,o.x,o.y,a.x,a.y,b.x,b.y)&&ao(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;R&&R.z<=y;){if(R!==c.prev&&R!==c.next&&_c(r.x,r.y,o.x,o.y,a.x,a.y,R.x,R.y)&&ao(R.prev,R,R.next)>=0)return!1;R=R.nextZ}return!0}function ih(c,e,t){let n=c;do{const r=n.prev,o=n.next.next;!m0(r,o)&&s9(r,n,n.next,o)&&gu(r,o)&&gu(o,r)&&(e.push(r.i/t),e.push(n.i/t),e.push(o.i/t),vu(n),vu(n.next),n=c=o),n=n.next}while(n!==c);return H1(n)}function oh(c,e,t,n,r,o){let a=c;do{let l=a.next.next;for(;l!==a.prev;){if(a.i!==l.i&&ph(a,l)){let f=a9(a,l);a=H1(a,a.next),f=H1(f,f.next),mu(a,e,t,n,r,o),mu(f,e,t,n,r,o);return}l=l.next}a=a.next}while(a!==c)}function sh(c,e,t,n){const r=[];let o,a,l,f,d;for(o=0,a=e.length;o<a;o++)l=e[o]*n,f=o<a-1?e[o+1]*n:c.length,d=o9(c,l,f,n,!1),d===d.next&&(d.steiner=!0),r.push(hh(d));for(r.sort(ah),o=0;o<r.length;o++)lh(r[o],t),t=H1(t,t.next);return t}function ah(c,e){return c.x-e.x}function lh(c,e){if(e=ch(c,e),e){const t=a9(e,c);H1(e,e.next),H1(t,t.next)}}function ch(c,e){let t=e;const n=c.x,r=c.y;let o=-1/0,a;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const y=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(y<=n&&y>o){if(o=y,y===n){if(r===t.y)return t;if(r===t.next.y)return t.next}a=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!a)return null;if(n===o)return a;const l=a,f=a.x,d=a.y;let p=1/0,v;t=a;do n>=t.x&&t.x>=f&&n!==t.x&&_c(r<d?n:o,r,f,d,r<d?o:n,r,t.x,t.y)&&(v=Math.abs(r-t.y)/(n-t.x),gu(t,c)&&(v<p||v===p&&(t.x>a.x||t.x===a.x&&uh(a,t)))&&(a=t,p=v)),t=t.next;while(t!==l);return a}function uh(c,e){return ao(c.prev,c,e.prev)<0&&ao(e.next,c,c.next)<0}function fh(c,e,t,n){let r=c;do r.z===null&&(r.z=Rf(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==c);r.prevZ.nextZ=null,r.prevZ=null,dh(r)}function dh(c){let e,t,n,r,o,a,l,f,d=1;do{for(t=c,c=null,o=null,a=0;t;){for(a++,n=t,l=0,e=0;e<d&&(l++,n=n.nextZ,!!n);e++);for(f=d;l>0||f>0&&n;)l!==0&&(f===0||!n||t.z<=n.z)?(r=t,t=t.nextZ,l--):(r=n,n=n.nextZ,f--),o?o.nextZ=r:c=r,r.prevZ=o,o=r;t=n}o.nextZ=null,d*=2}while(a>1);return c}function Rf(c,e,t,n,r){return c=32767*(c-t)*r,e=32767*(e-n)*r,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,c|e<<1}function hh(c){let e=c,t=c;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==c);return t}function _c(c,e,t,n,r,o,a,l){return(r-a)*(e-l)-(c-a)*(o-l)>=0&&(c-a)*(n-l)-(t-a)*(e-l)>=0&&(t-a)*(o-l)-(r-a)*(n-l)>=0}function ph(c,e){return c.next.i!==e.i&&c.prev.i!==e.i&&!mh(c,e)&&(gu(c,e)&&gu(e,c)&&gh(c,e)&&(ao(c.prev,c,e.prev)||ao(c,e.prev,e))||m0(c,e)&&ao(c.prev,c,c.next)>0&&ao(e.prev,e,e.next)>0)}function ao(c,e,t){return(e.y-c.y)*(t.x-e.x)-(e.x-c.x)*(t.y-e.y)}function m0(c,e){return c.x===e.x&&c.y===e.y}function s9(c,e,t,n){const r=v0(ao(c,e,t)),o=v0(ao(c,e,n)),a=v0(ao(t,n,c)),l=v0(ao(t,n,e));return!!(r!==o&&a!==l||r===0&&g0(c,t,e)||o===0&&g0(c,n,e)||a===0&&g0(t,c,n)||l===0&&g0(t,e,n))}function g0(c,e,t){return e.x<=Math.max(c.x,t.x)&&e.x>=Math.min(c.x,t.x)&&e.y<=Math.max(c.y,t.y)&&e.y>=Math.min(c.y,t.y)}function v0(c){return c>0?1:c<0?-1:0}function mh(c,e){let t=c;do{if(t.i!==c.i&&t.next.i!==c.i&&t.i!==e.i&&t.next.i!==e.i&&s9(t,t.next,c,e))return!0;t=t.next}while(t!==c);return!1}function gu(c,e){return ao(c.prev,c,c.next)<0?ao(c,e,c.next)>=0&&ao(c,c.prev,e)>=0:ao(c,e,c.prev)<0||ao(c,c.next,e)<0}function gh(c,e){let t=c,n=!1;const r=(c.x+e.x)/2,o=(c.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&r<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==c);return n}function a9(c,e){const t=new Af(c.i,c.x,c.y),n=new Af(e.i,e.x,e.y),r=c.next,o=e.prev;return c.next=e,e.prev=c,t.next=r,r.prev=t,n.next=t,t.prev=n,o.next=n,n.prev=o,n}function l9(c,e,t,n){const r=new Af(c,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function vu(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function Af(c,e,t){this.i=c,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function vh(c,e,t,n){let r=0;for(let o=e,a=t-n;o<t;o+=n)r+=(c[a]-c[o])*(c[o+1]+c[a+1]),a=o;return r}class Xa{static area(e){const t=e.length;let n=0;for(let r=t-1,o=0;o<t;r=o++)n+=e[r].x*e[o].y-e[o].x*e[r].y;return n*.5}static isClockWise(e){return Xa.area(e)<0}static triangulateShape(e,t){const n=[],r=[],o=[];c9(e),u9(n,e);let a=e.length;t.forEach(c9);for(let f=0;f<t.length;f++)r.push(a),a+=t[f].length,u9(n,t[f]);const l=th.triangulate(n,r);for(let f=0;f<l.length;f+=3)o.push(l.slice(f,f+3));return o}}function c9(c){const e=c.length;e>2&&c[e-1].equals(c[0])&&c.pop()}function u9(c,e){for(let t=0;t<e.length;t++)c.push(e[t].x),c.push(e[t].y)}class yc extends Dr{constructor(e=new _l([new dn(.5,.5),new dn(-.5,.5),new dn(-.5,-.5),new dn(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],o=[];for(let l=0,f=e.length;l<f;l++){const d=e[l];a(d)}this.setAttribute("position",new cr(r,3)),this.setAttribute("uv",new cr(o,2)),this.computeVertexNormals();function a(l){const f=[],d=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1;let v=t.depth!==void 0?t.depth:1,y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,b=t.bevelThickness!==void 0?t.bevelThickness:.2,R=t.bevelSize!==void 0?t.bevelSize:b-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,E=t.bevelSegments!==void 0?t.bevelSegments:3;const G=t.extrudePath,q=t.UVGenerator!==void 0?t.UVGenerator:Ch;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),v=t.amount);let _e,ie=!1,Ie,Fe,vt,ce;G&&(_e=G.getSpacedPoints(p),ie=!0,y=!1,Ie=G.computeFrenetFrames(p,!1),Fe=new Ae,vt=new Ae,ce=new Ae),y||(E=0,b=0,R=0,S=0);const je=l.extractPoints(d);let Pt=je.shape;const Ht=je.holes;if(!Xa.isClockWise(Pt)){Pt=Pt.reverse();for(let Rn=0,wn=Ht.length;Rn<wn;Rn++){const Yn=Ht[Rn];Xa.isClockWise(Yn)&&(Ht[Rn]=Yn.reverse())}}const jn=Xa.triangulateShape(Pt,Ht),Bt=Pt;for(let Rn=0,wn=Ht.length;Rn<wn;Rn++){const Yn=Ht[Rn];Pt=Pt.concat(Yn)}function gn(Rn,wn,Yn){return wn||console.error("THREE.ExtrudeGeometry: vec does not exist"),wn.clone().multiplyScalar(Yn).add(Rn)}const qt=Pt.length,Ln=jn.length;function Tn(Rn,wn,Yn){let _r,or,ei;const zr=Rn.x-wn.x,Rr=Rn.y-wn.y,qi=Yn.x-Rn.x,Ui=Yn.y-Rn.y,Ze=zr*zr+Rr*Rr,Te=zr*Ui-Rr*qi;if(Math.abs(Te)>Number.EPSILON){const ln=Math.sqrt(Ze),Nn=Math.sqrt(qi*qi+Ui*Ui),Wn=wn.x-Rr/ln,sr=wn.y+zr/ln,Zr=Yn.x-Ui/Nn,cn=Yn.y+qi/Nn,br=((Zr-Wn)*Ui-(cn-sr)*qi)/(zr*Ui-Rr*qi);_r=Wn+zr*br-Rn.x,or=sr+Rr*br-Rn.y;const fr=_r*_r+or*or;if(fr<=2)return new dn(_r,or);ei=Math.sqrt(fr/2)}else{let ln=!1;zr>Number.EPSILON?qi>Number.EPSILON&&(ln=!0):zr<-Number.EPSILON?qi<-Number.EPSILON&&(ln=!0):Math.sign(Rr)===Math.sign(Ui)&&(ln=!0),ln?(_r=-Rr,or=zr,ei=Math.sqrt(Ze)):(_r=zr,or=Rr,ei=Math.sqrt(Ze/2))}return new dn(_r/ei,or/ei)}const on=[];for(let Rn=0,wn=Bt.length,Yn=wn-1,_r=Rn+1;Rn<wn;Rn++,Yn++,_r++)Yn===wn&&(Yn=0),_r===wn&&(_r=0),on[Rn]=Tn(Bt[Rn],Bt[Yn],Bt[_r]);const hn=[];let kn,In=on.concat();for(let Rn=0,wn=Ht.length;Rn<wn;Rn++){const Yn=Ht[Rn];kn=[];for(let _r=0,or=Yn.length,ei=or-1,zr=_r+1;_r<or;_r++,ei++,zr++)ei===or&&(ei=0),zr===or&&(zr=0),kn[_r]=Tn(Yn[_r],Yn[ei],Yn[zr]);hn.push(kn),In=In.concat(kn)}for(let Rn=0;Rn<E;Rn++){const wn=Rn/E,Yn=b*Math.cos(wn*Math.PI/2),_r=R*Math.sin(wn*Math.PI/2)+S;for(let or=0,ei=Bt.length;or<ei;or++){const zr=gn(Bt[or],on[or],_r);ki(zr.x,zr.y,-Yn)}for(let or=0,ei=Ht.length;or<ei;or++){const zr=Ht[or];kn=hn[or];for(let Rr=0,qi=zr.length;Rr<qi;Rr++){const Ui=gn(zr[Rr],kn[Rr],_r);ki(Ui.x,Ui.y,-Yn)}}}const Qn=R+S;for(let Rn=0;Rn<qt;Rn++){const wn=y?gn(Pt[Rn],In[Rn],Qn):Pt[Rn];ie?(vt.copy(Ie.normals[0]).multiplyScalar(wn.x),Fe.copy(Ie.binormals[0]).multiplyScalar(wn.y),ce.copy(_e[0]).add(vt).add(Fe),ki(ce.x,ce.y,ce.z)):ki(wn.x,wn.y,0)}for(let Rn=1;Rn<=p;Rn++)for(let wn=0;wn<qt;wn++){const Yn=y?gn(Pt[wn],In[wn],Qn):Pt[wn];ie?(vt.copy(Ie.normals[Rn]).multiplyScalar(Yn.x),Fe.copy(Ie.binormals[Rn]).multiplyScalar(Yn.y),ce.copy(_e[Rn]).add(vt).add(Fe),ki(ce.x,ce.y,ce.z)):ki(Yn.x,Yn.y,v/p*Rn)}for(let Rn=E-1;Rn>=0;Rn--){const wn=Rn/E,Yn=b*Math.cos(wn*Math.PI/2),_r=R*Math.sin(wn*Math.PI/2)+S;for(let or=0,ei=Bt.length;or<ei;or++){const zr=gn(Bt[or],on[or],_r);ki(zr.x,zr.y,v+Yn)}for(let or=0,ei=Ht.length;or<ei;or++){const zr=Ht[or];kn=hn[or];for(let Rr=0,qi=zr.length;Rr<qi;Rr++){const Ui=gn(zr[Rr],kn[Rr],_r);ie?ki(Ui.x,Ui.y+_e[p-1].y,_e[p-1].x+Yn):ki(Ui.x,Ui.y,v+Yn)}}}gr(),Sr();function gr(){const Rn=r.length/3;if(y){let wn=0,Yn=qt*wn;for(let _r=0;_r<Ln;_r++){const or=jn[_r];Qr(or[2]+Yn,or[1]+Yn,or[0]+Yn)}wn=p+E*2,Yn=qt*wn;for(let _r=0;_r<Ln;_r++){const or=jn[_r];Qr(or[0]+Yn,or[1]+Yn,or[2]+Yn)}}else{for(let wn=0;wn<Ln;wn++){const Yn=jn[wn];Qr(Yn[2],Yn[1],Yn[0])}for(let wn=0;wn<Ln;wn++){const Yn=jn[wn];Qr(Yn[0]+qt*p,Yn[1]+qt*p,Yn[2]+qt*p)}}n.addGroup(Rn,r.length/3-Rn,0)}function Sr(){const Rn=r.length/3;let wn=0;vn(Bt,wn),wn+=Bt.length;for(let Yn=0,_r=Ht.length;Yn<_r;Yn++){const or=Ht[Yn];vn(or,wn),wn+=or.length}n.addGroup(Rn,r.length/3-Rn,1)}function vn(Rn,wn){let Yn=Rn.length;for(;--Yn>=0;){const _r=Yn;let or=Yn-1;or<0&&(or=Rn.length-1);for(let ei=0,zr=p+E*2;ei<zr;ei++){const Rr=qt*ei,qi=qt*(ei+1),Ui=wn+_r+Rr,Ze=wn+or+Rr,Te=wn+or+qi,ln=wn+_r+qi;Jr(Ui,Ze,Te,ln)}}}function ki(Rn,wn,Yn){f.push(Rn),f.push(wn),f.push(Yn)}function Qr(Rn,wn,Yn){er(Rn),er(wn),er(Yn);const _r=r.length/3,or=q.generateTopUV(n,r,_r-3,_r-2,_r-1);hi(or[0]),hi(or[1]),hi(or[2])}function Jr(Rn,wn,Yn,_r){er(Rn),er(wn),er(_r),er(wn),er(Yn),er(_r);const or=r.length/3,ei=q.generateSideWallUV(n,r,or-6,or-3,or-2,or-1);hi(ei[0]),hi(ei[1]),hi(ei[3]),hi(ei[1]),hi(ei[2]),hi(ei[3])}function er(Rn){r.push(f[Rn*3+0]),r.push(f[Rn*3+1]),r.push(f[Rn*3+2])}function hi(Rn){o.push(Rn.x),o.push(Rn.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return _h(t,n,e)}static fromJSON(e,t){const n=[];for(let o=0,a=e.shapes.length;o<a;o++){const l=t[e.shapes[o]];n.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Ef[r.type]().fromJSON(r)),new yc(n,e.options)}}const Ch={generateTopUV:function(c,e,t,n,r){const o=e[t*3],a=e[t*3+1],l=e[n*3],f=e[n*3+1],d=e[r*3],p=e[r*3+1];return[new dn(o,a),new dn(l,f),new dn(d,p)]},generateSideWallUV:function(c,e,t,n,r,o){const a=e[t*3],l=e[t*3+1],f=e[t*3+2],d=e[n*3],p=e[n*3+1],v=e[n*3+2],y=e[r*3],b=e[r*3+1],R=e[r*3+2],S=e[o*3],E=e[o*3+1],G=e[o*3+2];return Math.abs(l-p)<Math.abs(a-d)?[new dn(a,1-f),new dn(d,1-v),new dn(y,1-R),new dn(S,1-G)]:[new dn(l,1-f),new dn(p,1-v),new dn(b,1-R),new dn(E,1-G)]}};function _h(c,e,t){if(t.shapes=[],Array.isArray(c))for(let n=0,r=c.length;n<r;n++){const o=c[n];t.shapes.push(o.uuid)}else t.shapes.push(c.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class xc extends Ga{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new xc(e.radius,e.detail)}}class yl extends Ga{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new yl(e.radius,e.detail)}}class wc extends Dr{constructor(e=.5,t=1,n=8,r=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:a},n=Math.max(3,n),r=Math.max(1,r);const l=[],f=[],d=[],p=[];let v=e;const y=(t-e)/r,b=new Ae,R=new dn;for(let S=0;S<=r;S++){for(let E=0;E<=n;E++){const G=o+E/n*a;b.x=v*Math.cos(G),b.y=v*Math.sin(G),f.push(b.x,b.y,b.z),d.push(0,0,1),R.x=(b.x/t+1)/2,R.y=(b.y/t+1)/2,p.push(R.x,R.y)}v+=y}for(let S=0;S<r;S++){const E=S*(n+1);for(let G=0;G<n;G++){const q=G+E,_e=q,ie=q+n+1,Ie=q+n+2,Fe=q+1;l.push(_e,ie,Fe),l.push(ie,Ie,Fe)}}this.setIndex(l),this.setAttribute("position",new cr(f,3)),this.setAttribute("normal",new cr(d,3)),this.setAttribute("uv",new cr(p,2))}static fromJSON(e){return new wc(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class bc extends Dr{constructor(e=new _l([new dn(0,.5),new dn(-.5,-.5),new dn(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],o=[],a=[];let l=0,f=0;if(Array.isArray(e)===!1)d(e);else for(let p=0;p<e.length;p++)d(e[p]),this.addGroup(l,f,p),l+=f,f=0;this.setIndex(n),this.setAttribute("position",new cr(r,3)),this.setAttribute("normal",new cr(o,3)),this.setAttribute("uv",new cr(a,2));function d(p){const v=r.length/3,y=p.extractPoints(t);let b=y.shape;const R=y.holes;Xa.isClockWise(b)===!1&&(b=b.reverse());for(let E=0,G=R.length;E<G;E++){const q=R[E];Xa.isClockWise(q)===!0&&(R[E]=q.reverse())}const S=Xa.triangulateShape(b,R);for(let E=0,G=R.length;E<G;E++){const q=R[E];b=b.concat(q)}for(let E=0,G=b.length;E<G;E++){const q=b[E];r.push(q.x,q.y,0),o.push(0,0,1),a.push(q.x,q.y)}for(let E=0,G=S.length;E<G;E++){const q=S[E],_e=q[0]+v,ie=q[1]+v,Ie=q[2]+v;n.push(_e,ie,Ie),f+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return yh(t,e)}static fromJSON(e,t){const n=[];for(let r=0,o=e.shapes.length;r<o;r++){const a=t[e.shapes[r]];n.push(a)}return new bc(n,e.curveSegments)}}function yh(c,e){if(e.shapes=[],Array.isArray(c))for(let t=0,n=c.length;t<n;t++){const r=c[t];e.shapes.push(r.uuid)}else e.shapes.push(c.uuid);return e}class xl extends Dr{constructor(e=1,t=32,n=16,r=0,o=Math.PI*2,a=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:o,thetaStart:a,thetaLength:l},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const f=Math.min(a+l,Math.PI);let d=0;const p=[],v=new Ae,y=new Ae,b=[],R=[],S=[],E=[];for(let G=0;G<=n;G++){const q=[],_e=G/n;let ie=0;G==0&&a==0?ie=.5/t:G==n&&f==Math.PI&&(ie=-.5/t);for(let Ie=0;Ie<=t;Ie++){const Fe=Ie/t;v.x=-e*Math.cos(r+Fe*o)*Math.sin(a+_e*l),v.y=e*Math.cos(a+_e*l),v.z=e*Math.sin(r+Fe*o)*Math.sin(a+_e*l),R.push(v.x,v.y,v.z),y.copy(v).normalize(),S.push(y.x,y.y,y.z),E.push(Fe+ie,1-_e),q.push(d++)}p.push(q)}for(let G=0;G<n;G++)for(let q=0;q<t;q++){const _e=p[G][q+1],ie=p[G][q],Ie=p[G+1][q],Fe=p[G+1][q+1];(G!==0||a>0)&&b.push(_e,ie,Fe),(G!==n-1||f<Math.PI)&&b.push(ie,Ie,Fe)}this.setIndex(b),this.setAttribute("position",new cr(R,3)),this.setAttribute("normal",new cr(S,3)),this.setAttribute("uv",new cr(E,2))}static fromJSON(e){return new xl(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Mc extends Ga{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Mc(e.radius,e.detail)}}class Sc extends Dr{constructor(e=1,t=.4,n=8,r=6,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:o},n=Math.floor(n),r=Math.floor(r);const a=[],l=[],f=[],d=[],p=new Ae,v=new Ae,y=new Ae;for(let b=0;b<=n;b++)for(let R=0;R<=r;R++){const S=R/r*o,E=b/n*Math.PI*2;v.x=(e+t*Math.cos(E))*Math.cos(S),v.y=(e+t*Math.cos(E))*Math.sin(S),v.z=t*Math.sin(E),l.push(v.x,v.y,v.z),p.x=e*Math.cos(S),p.y=e*Math.sin(S),y.subVectors(v,p).normalize(),f.push(y.x,y.y,y.z),d.push(R/r),d.push(b/n)}for(let b=1;b<=n;b++)for(let R=1;R<=r;R++){const S=(r+1)*b+R-1,E=(r+1)*(b-1)+R-1,G=(r+1)*(b-1)+R,q=(r+1)*b+R;a.push(S,E,q),a.push(E,G,q)}this.setIndex(a),this.setAttribute("position",new cr(l,3)),this.setAttribute("normal",new cr(f,3)),this.setAttribute("uv",new cr(d,2))}static fromJSON(e){return new Sc(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Ec extends Dr{constructor(e=1,t=.4,n=64,r=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:o,q:a},n=Math.floor(n),r=Math.floor(r);const l=[],f=[],d=[],p=[],v=new Ae,y=new Ae,b=new Ae,R=new Ae,S=new Ae,E=new Ae,G=new Ae;for(let _e=0;_e<=n;++_e){const ie=_e/n*o*Math.PI*2;q(ie,o,a,e,b),q(ie+.01,o,a,e,R),E.subVectors(R,b),G.addVectors(R,b),S.crossVectors(E,G),G.crossVectors(S,E),S.normalize(),G.normalize();for(let Ie=0;Ie<=r;++Ie){const Fe=Ie/r*Math.PI*2,vt=-t*Math.cos(Fe),ce=t*Math.sin(Fe);v.x=b.x+(vt*G.x+ce*S.x),v.y=b.y+(vt*G.y+ce*S.y),v.z=b.z+(vt*G.z+ce*S.z),f.push(v.x,v.y,v.z),y.subVectors(v,b).normalize(),d.push(y.x,y.y,y.z),p.push(_e/n),p.push(Ie/r)}}for(let _e=1;_e<=n;_e++)for(let ie=1;ie<=r;ie++){const Ie=(r+1)*(_e-1)+(ie-1),Fe=(r+1)*_e+(ie-1),vt=(r+1)*_e+ie,ce=(r+1)*(_e-1)+ie;l.push(Ie,Fe,ce),l.push(Fe,vt,ce)}this.setIndex(l),this.setAttribute("position",new cr(f,3)),this.setAttribute("normal",new cr(d,3)),this.setAttribute("uv",new cr(p,2));function q(_e,ie,Ie,Fe,vt){const ce=Math.cos(_e),je=Math.sin(_e),Pt=Ie/ie*_e,Ht=Math.cos(Pt);vt.x=Fe*(2+Ht)*.5*ce,vt.y=Fe*(2+Ht)*je*.5,vt.z=Fe*Math.sin(Pt)*.5}}static fromJSON(e){return new Ec(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Lc extends Dr{constructor(e=new Mf(new Ae(-1,-1,0),new Ae(-1,1,0),new Ae(1,1,0)),t=64,n=1,r=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:o};const a=e.computeFrenetFrames(t,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const l=new Ae,f=new Ae,d=new dn;let p=new Ae;const v=[],y=[],b=[],R=[];S(),this.setIndex(R),this.setAttribute("position",new cr(v,3)),this.setAttribute("normal",new cr(y,3)),this.setAttribute("uv",new cr(b,2));function S(){for(let _e=0;_e<t;_e++)E(_e);E(o===!1?t:0),q(),G()}function E(_e){p=e.getPointAt(_e/t,p);const ie=a.normals[_e],Ie=a.binormals[_e];for(let Fe=0;Fe<=r;Fe++){const vt=Fe/r*Math.PI*2,ce=Math.sin(vt),je=-Math.cos(vt);f.x=je*ie.x+ce*Ie.x,f.y=je*ie.y+ce*Ie.y,f.z=je*ie.z+ce*Ie.z,f.normalize(),y.push(f.x,f.y,f.z),l.x=p.x+n*f.x,l.y=p.y+n*f.y,l.z=p.z+n*f.z,v.push(l.x,l.y,l.z)}}function G(){for(let _e=1;_e<=t;_e++)for(let ie=1;ie<=r;ie++){const Ie=(r+1)*(_e-1)+(ie-1),Fe=(r+1)*_e+(ie-1),vt=(r+1)*_e+ie,ce=(r+1)*(_e-1)+ie;R.push(Ie,Fe,ce),R.push(Fe,vt,ce)}}function q(){for(let _e=0;_e<=t;_e++)for(let ie=0;ie<=r;ie++)d.x=_e/t,d.y=ie/r,b.push(d.x,d.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Lc(new Ef[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class f9 extends Dr{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new Ae,o=new Ae;if(e.index!==null){const a=e.attributes.position,l=e.index;let f=e.groups;f.length===0&&(f=[{start:0,count:l.count,materialIndex:0}]);for(let d=0,p=f.length;d<p;++d){const v=f[d],y=v.start,b=v.count;for(let R=y,S=y+b;R<S;R+=3)for(let E=0;E<3;E++){const G=l.getX(R+E),q=l.getX(R+(E+1)%3);r.fromBufferAttribute(a,G),o.fromBufferAttribute(a,q),d9(r,o,n)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let l=0,f=a.count/3;l<f;l++)for(let d=0;d<3;d++){const p=3*l+d,v=3*l+(d+1)%3;r.fromBufferAttribute(a,p),o.fromBufferAttribute(a,v),d9(r,o,n)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new cr(t,3))}}}function d9(c,e,t){const n=`${c.x},${c.y},${c.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${c.x},${c.y},${c.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var h9=Object.freeze({__proto__:null,BoxGeometry:us,BoxBufferGeometry:us,CapsuleGeometry:mc,CapsuleBufferGeometry:mc,CircleGeometry:gc,CircleBufferGeometry:gc,ConeGeometry:vc,ConeBufferGeometry:vc,CylinderGeometry:z1,CylinderBufferGeometry:z1,DodecahedronGeometry:Cc,DodecahedronBufferGeometry:Cc,EdgesGeometry:i9,ExtrudeGeometry:yc,ExtrudeBufferGeometry:yc,IcosahedronGeometry:xc,IcosahedronBufferGeometry:xc,LatheGeometry:Cl,LatheBufferGeometry:Cl,OctahedronGeometry:yl,OctahedronBufferGeometry:yl,PlaneGeometry:Ys,PlaneBufferGeometry:Ys,PolyhedronGeometry:Ga,PolyhedronBufferGeometry:Ga,RingGeometry:wc,RingBufferGeometry:wc,ShapeGeometry:bc,ShapeBufferGeometry:bc,SphereGeometry:xl,SphereBufferGeometry:xl,TetrahedronGeometry:Mc,TetrahedronBufferGeometry:Mc,TorusGeometry:Sc,TorusBufferGeometry:Sc,TorusKnotGeometry:Ec,TorusKnotBufferGeometry:Ec,TubeGeometry:Lc,TubeBufferGeometry:Lc,WireframeGeometry:f9});class p9 extends io{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new rr(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class m9 extends Bs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Tf extends io{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new rr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wi,this.normalScale=new dn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class g9 extends Tf{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new dn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return oi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new rr(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new rr(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new rr(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class v9 extends io{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new rr(16777215),this.specular=new rr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wi,this.normalScale=new dn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Mt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class C9 extends io{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new rr(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wi,this.normalScale=new dn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class _9 extends io{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wi,this.normalScale=new dn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class y9 extends io{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new rr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Mt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class x9 extends io{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new rr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wi,this.normalScale=new dn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class w9 extends Ls{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}const Ki={arraySlice:function(c,e,t){return Ki.isTypedArray(c)?new c.constructor(c.subarray(e,t!==void 0?t:c.length)):c.slice(e,t)},convertArray:function(c,e,t){return!c||!t&&c.constructor===e?c:typeof e.BYTES_PER_ELEMENT=="number"?new e(c):Array.prototype.slice.call(c)},isTypedArray:function(c){return ArrayBuffer.isView(c)&&!(c instanceof DataView)},getKeyframeOrder:function(c){function e(r,o){return c[r]-c[o]}const t=c.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n},sortedArray:function(c,e,t){const n=c.length,r=new c.constructor(n);for(let o=0,a=0;a!==n;++o){const l=t[o]*e;for(let f=0;f!==e;++f)r[a++]=c[l+f]}return r},flattenJSON:function(c,e,t,n){let r=1,o=c[0];for(;o!==void 0&&o[n]===void 0;)o=c[r++];if(o===void 0)return;let a=o[n];if(a!==void 0)if(Array.isArray(a))do a=o[n],a!==void 0&&(e.push(o.time),t.push.apply(t,a)),o=c[r++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[n],a!==void 0&&(e.push(o.time),a.toArray(t,t.length)),o=c[r++];while(o!==void 0);else do a=o[n],a!==void 0&&(e.push(o.time),t.push(a)),o=c[r++];while(o!==void 0)},subclip:function(c,e,t,n,r=30){const o=c.clone();o.name=e;const a=[];for(let f=0;f<o.tracks.length;++f){const d=o.tracks[f],p=d.getValueSize(),v=[],y=[];for(let b=0;b<d.times.length;++b){const R=d.times[b]*r;if(!(R<t||R>=n)){v.push(d.times[b]);for(let S=0;S<p;++S)y.push(d.values[b*p+S])}}v.length!==0&&(d.times=Ki.convertArray(v,d.times.constructor),d.values=Ki.convertArray(y,d.values.constructor),a.push(d))}o.tracks=a;let l=1/0;for(let f=0;f<o.tracks.length;++f)l>o.tracks[f].times[0]&&(l=o.tracks[f].times[0]);for(let f=0;f<o.tracks.length;++f)o.tracks[f].shift(-1*l);return o.resetDuration(),o},makeClipAdditive:function(c,e=0,t=c,n=30){n<=0&&(n=30);const r=t.tracks.length,o=e/n;for(let a=0;a<r;++a){const l=t.tracks[a],f=l.ValueTypeName;if(f==="bool"||f==="string")continue;const d=c.tracks.find(function(G){return G.name===l.name&&G.ValueTypeName===f});if(d===void 0)continue;let p=0;const v=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=v/3);let y=0;const b=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=b/3);const R=l.times.length-1;let S;if(o<=l.times[0]){const G=p,q=v-p;S=Ki.arraySlice(l.values,G,q)}else if(o>=l.times[R]){const G=R*v+p,q=G+v-p;S=Ki.arraySlice(l.values,G,q)}else{const G=l.createInterpolant(),q=p,_e=v-p;G.evaluate(o),S=Ki.arraySlice(G.resultBuffer,q,_e)}f==="quaternion"&&new ci().fromArray(S).normalize().conjugate().toArray(S);const E=d.times.length;for(let G=0;G<E;++G){const q=G*b+y;if(f==="quaternion")ci.multiplyQuaternionsFlat(d.values,q,S,0,d.values,q);else{const _e=b-y*2;for(let ie=0;ie<_e;++ie)d.values[q+ie]-=S[ie]}}}return c.blendMode=Yo,c}};class Cu{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],o=t[n-1];e:{t:{let a;n:{r:if(!(e<r)){for(let l=n+2;;){if(r===void 0){if(e<o)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===l)break;if(o=r,r=t[++n],e<r)break t}a=t.length;break n}if(!(e>=o)){const l=t[1];e<l&&(n=2,o=l);for(let f=n-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===f)break;if(r=o,o=t[--n-1],e>=o)break t}a=n,n=0;break n}break e}for(;n<a;){const l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],o=t[n-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,o,r)}return this.interpolate_(n,o,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=e*r;for(let a=0;a!==r;++a)t[a]=n[o+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class b9 extends Cu{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Tr,endingEnd:Tr}}intervalChanged_(e,t,n){const r=this.parameterPositions;let o=e-2,a=e+1,l=r[o],f=r[a];if(l===void 0)switch(this.getSettings_().endingStart){case yi:o=e,l=2*t-n;break;case lo:o=r.length-2,l=t+r[o]-r[o+1];break;default:o=e,l=n}if(f===void 0)switch(this.getSettings_().endingEnd){case yi:a=e,f=2*n-t;break;case lo:a=1,f=n+r[1]-r[0];break;default:a=e-1,f=t}const d=(n-t)*.5,p=this.valueSize;this._weightPrev=d/(t-l),this._weightNext=d/(f-n),this._offsetPrev=o*p,this._offsetNext=a*p}interpolate_(e,t,n,r){const o=this.resultBuffer,a=this.sampleValues,l=this.valueSize,f=e*l,d=f-l,p=this._offsetPrev,v=this._offsetNext,y=this._weightPrev,b=this._weightNext,R=(n-t)/(r-t),S=R*R,E=S*R,G=-y*E+2*y*S-y*R,q=(1+y)*E+(-1.5-2*y)*S+(-.5+y)*R+1,_e=(-1-b)*E+(1.5+b)*S+.5*R,ie=b*E-b*S;for(let Ie=0;Ie!==l;++Ie)o[Ie]=G*a[p+Ie]+q*a[d+Ie]+_e*a[f+Ie]+ie*a[v+Ie];return o}}class Pf extends Cu{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const o=this.resultBuffer,a=this.sampleValues,l=this.valueSize,f=e*l,d=f-l,p=(n-t)/(r-t),v=1-p;for(let y=0;y!==l;++y)o[y]=a[d+y]*v+a[f+y]*p;return o}}class M9 extends Cu{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class ba{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ki.convertArray(t,this.TimeBufferType),this.values=Ki.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Ki.convertArray(e.times,Array),values:Ki.convertArray(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new M9(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Pf(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new b9(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ii:t=this.InterpolantFactoryMethodDiscrete;break;case _i:t=this.InterpolantFactoryMethodLinear;break;case Er:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ii;case this.InterpolantFactoryMethodLinear:return _i;case this.InterpolantFactoryMethodSmooth:return Er}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let o=0,a=r-1;for(;o!==r&&n[o]<e;)++o;for(;a!==-1&&n[a]>t;)--a;if(++a,o!==0||a!==r){o>=a&&(a=Math.max(a,1),o=a-1);const l=this.getValueSize();this.times=Ki.arraySlice(n,o,a),this.values=Ki.arraySlice(this.values,o*l,a*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,o=n.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let l=0;l!==o;l++){const f=n[l];if(typeof f=="number"&&isNaN(f)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,f),e=!1;break}if(a!==null&&a>f){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,f,a),e=!1;break}a=f}if(r!==void 0&&Ki.isTypedArray(r))for(let l=0,f=r.length;l!==f;++l){const d=r[l];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,d),e=!1;break}}return e}optimize(){const e=Ki.arraySlice(this.times),t=Ki.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===Er,o=e.length-1;let a=1;for(let l=1;l<o;++l){let f=!1;const d=e[l],p=e[l+1];if(d!==p&&(l!==1||d!==e[0]))if(r)f=!0;else{const v=l*n,y=v-n,b=v+n;for(let R=0;R!==n;++R){const S=t[v+R];if(S!==t[y+R]||S!==t[b+R]){f=!0;break}}}if(f){if(l!==a){e[a]=e[l];const v=l*n,y=a*n;for(let b=0;b!==n;++b)t[y+b]=t[v+b]}++a}}if(o>0){e[a]=e[o];for(let l=o*n,f=a*n,d=0;d!==n;++d)t[f+d]=t[l+d];++a}return a!==e.length?(this.times=Ki.arraySlice(e,0,a),this.values=Ki.arraySlice(t,0,a*n)):(this.times=e,this.values=t),this}clone(){const e=Ki.arraySlice(this.times,0),t=Ki.arraySlice(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}ba.prototype.TimeBufferType=Float32Array,ba.prototype.ValueBufferType=Float32Array,ba.prototype.DefaultInterpolation=_i;class wl extends ba{}wl.prototype.ValueTypeName="bool",wl.prototype.ValueBufferType=Array,wl.prototype.DefaultInterpolation=ii,wl.prototype.InterpolantFactoryMethodLinear=void 0,wl.prototype.InterpolantFactoryMethodSmooth=void 0;class Of extends ba{}Of.prototype.ValueTypeName="color";class _u extends ba{}_u.prototype.ValueTypeName="number";class S9 extends Cu{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const o=this.resultBuffer,a=this.sampleValues,l=this.valueSize,f=(n-t)/(r-t);let d=e*l;for(let p=d+l;d!==p;d+=4)ci.slerpFlat(o,0,a,d-l,a,d,f);return o}}class Rc extends ba{InterpolantFactoryMethodLinear(e){return new S9(this.times,this.values,this.getValueSize(),e)}}Rc.prototype.ValueTypeName="quaternion",Rc.prototype.DefaultInterpolation=_i,Rc.prototype.InterpolantFactoryMethodSmooth=void 0;class bl extends ba{}bl.prototype.ValueTypeName="string",bl.prototype.ValueBufferType=Array,bl.prototype.DefaultInterpolation=ii,bl.prototype.InterpolantFactoryMethodLinear=void 0,bl.prototype.InterpolantFactoryMethodSmooth=void 0;class yu extends ba{}yu.prototype.ValueTypeName="vector";class xu{constructor(e,t=-1,n,r=di){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=xi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let a=0,l=n.length;a!==l;++a)t.push(wh(n[a]).scale(r));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=n.length;o!==a;++o)t.push(ba.toJSON(n[o]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const o=t.length,a=[];for(let l=0;l<o;l++){let f=[],d=[];f.push((l+o-1)%o,l,(l+1)%o),d.push(0,1,0);const p=Ki.getKeyframeOrder(f);f=Ki.sortedArray(f,1,p),d=Ki.sortedArray(d,1,p),!r&&f[0]===0&&(f.push(o),d.push(d[0])),a.push(new _u(".morphTargetInfluences["+t[l].name+"]",f,d).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},o=/^([\w-]*?)([\d]+)$/;for(let l=0,f=e.length;l<f;l++){const d=e[l],p=d.name.match(o);if(p&&p.length>1){const v=p[1];let y=r[v];y||(r[v]=y=[]),y.push(d)}}const a=[];for(const l in r)a.push(this.CreateFromMorphTargetSequence(l,r[l],t,n));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(v,y,b,R,S){if(b.length!==0){const E=[],G=[];Ki.flattenJSON(b,E,G,R),E.length!==0&&S.push(new v(y,E,G))}},r=[],o=e.name||"default",a=e.fps||30,l=e.blendMode;let f=e.length||-1;const d=e.hierarchy||[];for(let v=0;v<d.length;v++){const y=d[v].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const b={};let R;for(R=0;R<y.length;R++)if(y[R].morphTargets)for(let S=0;S<y[R].morphTargets.length;S++)b[y[R].morphTargets[S]]=-1;for(const S in b){const E=[],G=[];for(let q=0;q!==y[R].morphTargets.length;++q){const _e=y[R];E.push(_e.time),G.push(_e.morphTarget===S?1:0)}r.push(new _u(".morphTargetInfluence["+S+"]",E,G))}f=b.length*a}else{const b=".bones["+t[v].name+"]";n(yu,b+".position",y,"pos",r),n(Rc,b+".quaternion",y,"rot",r),n(yu,b+".scale",y,"scl",r)}}return r.length===0?null:new this(o,f,r,l)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const o=this.tracks[n];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function xh(c){switch(c.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return _u;case"vector":case"vector2":case"vector3":case"vector4":return yu;case"color":return Of;case"quaternion":return Rc;case"bool":case"boolean":return wl;case"string":return bl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+c)}function wh(c){if(c.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=xh(c.type);if(c.times===void 0){const t=[],n=[];Ki.flattenJSON(c.keys,t,n,"value"),c.times=t,c.values=n}return e.parse!==void 0?e.parse(c):new e(c.name,c.times,c.values,c.interpolation)}const Ml={enabled:!1,files:{},add:function(c,e){this.enabled!==!1&&(this.files[c]=e)},get:function(c){if(this.enabled!==!1)return this.files[c]},remove:function(c){delete this.files[c]},clear:function(){this.files={}}};class If{constructor(e,t,n){const r=this;let o=!1,a=0,l=0,f;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(p){l++,o===!1&&r.onStart!==void 0&&r.onStart(p,a,l),o=!0},this.itemEnd=function(p){a++,r.onProgress!==void 0&&r.onProgress(p,a,l),a===l&&(o=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(p){r.onError!==void 0&&r.onError(p)},this.resolveURL=function(p){return f?f(p):p},this.setURLModifier=function(p){return f=p,this},this.addHandler=function(p,v){return d.push(p,v),this},this.removeHandler=function(p){const v=d.indexOf(p);return v!==-1&&d.splice(v,2),this},this.getHandler=function(p){for(let v=0,y=d.length;v<y;v+=2){const b=d[v],R=d[v+1];if(b.global&&(b.lastIndex=0),b.test(p))return R}return null}}}const E9=new If;class Ks{constructor(e){this.manager=e!==void 0?e:E9,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,o){n.load(e,r,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const f1={};class d1 extends Ks{constructor(e){super(e)}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Ml.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(f1[e]!==void 0){f1[e].push({onLoad:t,onProgress:n,onError:r});return}f1[e]=[],f1[e].push({onLoad:t,onProgress:n,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,f=this.responseType;fetch(a).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||d.body===void 0||d.body.getReader===void 0)return d;const p=f1[e],v=d.body.getReader(),y=d.headers.get("Content-Length"),b=y?parseInt(y):0,R=b!==0;let S=0;const E=new ReadableStream({start(G){q();function q(){v.read().then(({done:_e,value:ie})=>{if(_e)G.close();else{S+=ie.byteLength;const Ie=new ProgressEvent("progress",{lengthComputable:R,loaded:S,total:b});for(let Fe=0,vt=p.length;Fe<vt;Fe++){const ce=p[Fe];ce.onProgress&&ce.onProgress(Ie)}G.enqueue(ie),q()}})}}});return new Response(E)}else throw Error(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`)}).then(d=>{switch(f){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(p=>new DOMParser().parseFromString(p,l));case"json":return d.json();default:if(l===void 0)return d.text();{const v=/charset="?([^;"\s]*)"?/i.exec(l),y=v&&v[1]?v[1].toLowerCase():void 0,b=new TextDecoder(y);return d.arrayBuffer().then(R=>b.decode(R))}}}).then(d=>{Ml.add(e,d);const p=f1[e];delete f1[e];for(let v=0,y=p.length;v<y;v++){const b=p[v];b.onLoad&&b.onLoad(d)}}).catch(d=>{const p=f1[e];if(p===void 0)throw this.manager.itemError(e),d;delete f1[e];for(let v=0,y=p.length;v<y;v++){const b=p[v];b.onError&&b.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class bh extends Ks{constructor(e){super(e)}load(e,t,n,r){const o=this,a=new d1(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{t(o.parse(JSON.parse(l)))}catch(f){r?r(f):console.error(f),o.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=xu.parse(e[n]);t.push(r)}return t}}class Mh extends Ks{constructor(e){super(e)}load(e,t,n,r){const o=this,a=[],l=new q2,f=new d1(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(o.withCredentials);let d=0;function p(v){f.load(e[v],function(y){const b=o.parse(y,!0);a[v]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},d+=1,d===6&&(b.mipmapCount===1&&(l.minFilter=me),l.image=a,l.format=b.format,l.needsUpdate=!0,t&&t(l))},n,r)}if(Array.isArray(e))for(let v=0,y=e.length;v<y;++v)p(v);else f.load(e,function(v){const y=o.parse(v,!0);if(y.isCubemap){const b=y.mipmaps.length/y.mipmapCount;for(let R=0;R<b;R++){a[R]={mipmaps:[]};for(let S=0;S<y.mipmapCount;S++)a[R].mipmaps.push(y.mipmaps[R*y.mipmapCount+S]),a[R].format=y.format,a[R].width=y.width,a[R].height=y.height}l.image=a}else l.image.width=y.width,l.image.height=y.height,l.mipmaps=y.mipmaps;y.mipmapCount===1&&(l.minFilter=me),l.format=y.format,l.needsUpdate=!0,t&&t(l)},n,r);return l}}class wu extends Ks{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Ml.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(a),o.manager.itemEnd(e)},0),a;const l=vs("img");function f(){p(),Ml.add(e,this),t&&t(this),o.manager.itemEnd(e)}function d(v){p(),r&&r(v),o.manager.itemError(e),o.manager.itemEnd(e)}function p(){l.removeEventListener("load",f,!1),l.removeEventListener("error",d,!1)}return l.addEventListener("load",f,!1),l.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),o.manager.itemStart(e),l.src=e,l}}class Sh extends Ks{constructor(e){super(e)}load(e,t,n,r){const o=new va,a=new wu(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let l=0;function f(d){a.load(e[d],function(p){o.images[d]=p,l++,l===6&&(o.needsUpdate=!0,t&&t(o))},void 0,r)}for(let d=0;d<e.length;++d)f(d);return o}}class Eh extends Ks{constructor(e){super(e)}load(e,t,n,r){const o=this,a=new hc,l=new d1(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(o.withCredentials),l.load(e,function(f){const d=o.parse(f);d&&(d.image!==void 0?a.image=d.image:d.data!==void 0&&(a.image.width=d.width,a.image.height=d.height,a.image.data=d.data),a.wrapS=d.wrapS!==void 0?d.wrapS:Oe,a.wrapT=d.wrapT!==void 0?d.wrapT:Oe,a.magFilter=d.magFilter!==void 0?d.magFilter:me,a.minFilter=d.minFilter!==void 0?d.minFilter:me,a.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.encoding!==void 0&&(a.encoding=d.encoding),d.flipY!==void 0&&(a.flipY=d.flipY),d.format!==void 0&&(a.format=d.format),d.type!==void 0&&(a.type=d.type),d.mipmaps!==void 0&&(a.mipmaps=d.mipmaps,a.minFilter=et),d.mipmapCount===1&&(a.minFilter=me),d.generateMipmaps!==void 0&&(a.generateMipmaps=d.generateMipmaps),a.needsUpdate=!0,t&&t(a,d))},n,r),a}}class Lh extends Ks{constructor(e){super(e)}load(e,t,n,r){const o=new Gi,a=new wu(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(l){o.image=l,o.needsUpdate=!0,t!==void 0&&t(o)},n,r),o}}class V1 extends Ei{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new rr(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class L9 extends V1{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ei.DefaultUp),this.updateMatrix(),this.groundColor=new rr(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const R9=new kr,A9=new Ae,T9=new Ae;class Df{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new dn(512,512),this.map=null,this.mapPass=null,this.matrix=new kr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Fa,this._frameExtents=new dn(1,1),this._viewportCount=1,this._viewports=[new vi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;A9.setFromMatrixPosition(e.matrixWorld),t.position.copy(A9),T9.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(T9),t.updateMatrixWorld(),R9.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(R9),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Rh extends Df{constructor(){super(new Co(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=Hi*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(n!==t.fov||r!==t.aspect||o!==t.far)&&(t.fov=n,t.aspect=r,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class P9 extends V1{constructor(e,t,n=0,r=Math.PI/3,o=0,a=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ei.DefaultUp),this.updateMatrix(),this.target=new Ei,this.distance=n,this.angle=r,this.penumbra=o,this.decay=a,this.shadow=new Rh}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const O9=new kr,bu=new Ae,zf=new Ae;class Ah extends Df{constructor(){super(new Co(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new dn(4,2),this._viewportCount=6,this._viewports=[new vi(2,1,1,1),new vi(0,1,1,1),new vi(3,1,1,1),new vi(1,1,1,1),new vi(3,0,1,1),new vi(1,0,1,1)],this._cubeDirections=[new Ae(1,0,0),new Ae(-1,0,0),new Ae(0,0,1),new Ae(0,0,-1),new Ae(0,1,0),new Ae(0,-1,0)],this._cubeUps=[new Ae(0,1,0),new Ae(0,1,0),new Ae(0,1,0),new Ae(0,1,0),new Ae(0,0,1),new Ae(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,o=e.distance||n.far;o!==n.far&&(n.far=o,n.updateProjectionMatrix()),bu.setFromMatrixPosition(e.matrixWorld),n.position.copy(bu),zf.copy(n.position),zf.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(zf),n.updateMatrixWorld(),r.makeTranslation(-bu.x,-bu.y,-bu.z),O9.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(O9)}}class I9 extends V1{constructor(e,t,n=0,r=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new Ah}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Th extends Df{constructor(){super(new iu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class D9 extends V1{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ei.DefaultUp),this.updateMatrix(),this.target=new Ei,this.shadow=new Th}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class z9 extends V1{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class H9 extends V1{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class V9{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ae)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,o=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*o),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],1.092548*(n*r)),t.addScaledVector(a[5],1.092548*(r*o)),t.addScaledVector(a[6],.315392*(3*o*o-1)),t.addScaledVector(a[7],1.092548*(n*o)),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,o=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*o),t.addScaledVector(a[3],2*.511664*n),t.addScaledVector(a[4],2*.429043*n*r),t.addScaledVector(a[5],2*.429043*r*o),t.addScaledVector(a[6],.743125*o*o-.247708),t.addScaledVector(a[7],2*.429043*n*o),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,o=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*o,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*n*o,t[8]=.546274*(n*n-r*r)}}class C0 extends V1{constructor(e=new V9,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class _0 extends Ks{constructor(e){super(e),this.textures={}}load(e,t,n,r){const o=this,a=new d1(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(l){try{t(o.parse(JSON.parse(l)))}catch(f){r?r(f):console.error(f),o.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const r=_0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new rr().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(r.uniforms[o]={},a.type){case"t":r.uniforms[o].value=n(a.value);break;case"c":r.uniforms[o].value=new rr().setHex(a.value);break;case"v2":r.uniforms[o].value=new dn().fromArray(a.value);break;case"v3":r.uniforms[o].value=new Ae().fromArray(a.value);break;case"v4":r.uniforms[o].value=new vi().fromArray(a.value);break;case"m3":r.uniforms[o].value=new Fi().fromArray(a.value);break;case"m4":r.uniforms[o].value=new kr().fromArray(a.value);break;default:r.uniforms[o].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const o in e.extensions)r.extensions[o]=e.extensions[o];if(e.shading!==void 0&&(r.flatShading=e.shading===1),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),r.normalScale=new dn().fromArray(o)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new dn().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:p9,SpriteMaterial:df,RawShaderMaterial:m9,ShaderMaterial:Bs,PointsMaterial:gf,MeshPhysicalMaterial:g9,MeshStandardMaterial:Tf,MeshPhongMaterial:v9,MeshToonMaterial:C9,MeshNormalMaterial:_9,MeshLambertMaterial:y9,MeshDepthMaterial:cf,MeshDistanceMaterial:uf,MeshBasicMaterial:ws,MeshMatcapMaterial:x9,LineDashedMaterial:w9,LineBasicMaterial:Ls,Material:io};return new t[e]}}class Hf{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class B9 extends Dr{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class N9 extends Ks{constructor(e){super(e)}load(e,t,n,r){const o=this,a=new d1(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(l){try{t(o.parse(JSON.parse(l)))}catch(f){r?r(f):console.error(f),o.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(b,R){if(t[R]!==void 0)return t[R];const E=b.interleavedBuffers[R],G=o(b,E.buffer),q=zo(E.type,G),_e=new Qu(q,E.stride);return _e.uuid=E.uuid,t[R]=_e,_e}function o(b,R){if(n[R]!==void 0)return n[R];const E=b.arrayBuffers[R],G=new Uint32Array(E).buffer;return n[R]=G,G}const a=e.isInstancedBufferGeometry?new B9:new Dr,l=e.data.index;if(l!==void 0){const b=zo(l.type,l.array);a.setIndex(new Oi(b,1))}const f=e.data.attributes;for(const b in f){const R=f[b];let S;if(R.isInterleavedBufferAttribute){const E=r(e.data,R.data);S=new vl(E,R.itemSize,R.offset,R.normalized)}else{const E=zo(R.type,R.array),G=R.isInstancedBufferAttribute?pc:Oi;S=new G(E,R.itemSize,R.normalized)}R.name!==void 0&&(S.name=R.name),R.usage!==void 0&&S.setUsage(R.usage),R.updateRange!==void 0&&(S.updateRange.offset=R.updateRange.offset,S.updateRange.count=R.updateRange.count),a.setAttribute(b,S)}const d=e.data.morphAttributes;if(d)for(const b in d){const R=d[b],S=[];for(let E=0,G=R.length;E<G;E++){const q=R[E];let _e;if(q.isInterleavedBufferAttribute){const ie=r(e.data,q.data);_e=new vl(ie,q.itemSize,q.offset,q.normalized)}else{const ie=zo(q.type,q.array);_e=new Oi(ie,q.itemSize,q.normalized)}q.name!==void 0&&(_e.name=q.name),S.push(_e)}a.morphAttributes[b]=S}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const v=e.data.groups||e.data.drawcalls||e.data.offsets;if(v!==void 0)for(let b=0,R=v.length;b!==R;++b){const S=v[b];a.addGroup(S.start,S.count,S.materialIndex)}const y=e.data.boundingSphere;if(y!==void 0){const b=new Ae;y.center!==void 0&&b.fromArray(y.center),a.boundingSphere=new jo(b,y.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class Ph extends Ks{constructor(e){super(e)}load(e,t,n,r){const o=this,a=this.path===""?Hf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const l=new d1(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(f){let d=null;try{d=JSON.parse(f)}catch(v){r!==void 0&&r(v),console.error("THREE:ObjectLoader: Can't parse "+e+".",v.message);return}const p=d.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(d,t)},n,r)}loadAsync(e,t){return Pl(this,null,function*(){const n=this,r=this.path===""?Hf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const o=new d1(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=yield o.loadAsync(e,t),l=JSON.parse(a),f=l.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return yield n.parseAsync(l)})}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(d)}),l=this.parseTextures(e.textures,a),f=this.parseMaterials(e.materials,l),d=this.parseObject(e.object,o,f,l,n),p=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,p),t!==void 0){let v=!1;for(const y in a)if(a[y].data instanceof HTMLImageElement){v=!0;break}v===!1&&t(d)}return d}parseAsync(e){return Pl(this,null,function*(){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),o=yield this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),f=this.parseObject(e.object,r,l,a,t),d=this.parseSkeletons(e.skeletons,f);return this.bindSkeletons(f,d),f})}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const o=new _l().fromJSON(e[n]);t[o.uuid]=o}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(o){o.isBone&&(r[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const l=new i0().fromJSON(e[o],r);n[l.uuid]=l}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new N9;for(let o=0,a=e.length;o<a;o++){let l;const f=e[o];switch(f.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(f);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:f.type in h9?l=h9[f.type].fromJSON(f,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${f.type}"`)}l.uuid=f.uuid,f.name!==void 0&&(l.name=f.name),l.isBufferGeometry===!0&&f.userData!==void 0&&(l.userData=f.userData),n[f.uuid]=l}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const o=new _0;o.setTextures(t);for(let a=0,l=e.length;a<l;a++){const f=e[a];if(f.type==="MultiMaterial"){const d=[];for(let p=0;p<f.materials.length;p++){const v=f.materials[p];n[v.uuid]===void 0&&(n[v.uuid]=o.parse(v)),d.push(n[v.uuid])}r[f.uuid]=d}else n[f.uuid]===void 0&&(n[f.uuid]=o.parse(f)),r[f.uuid]=n[f.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],o=xu.parse(r);t[o.uuid]=o}return t}parseImages(e,t){const n=this,r={};let o;function a(f){return n.manager.itemStart(f),o.load(f,function(){n.manager.itemEnd(f)},void 0,function(){n.manager.itemError(f),n.manager.itemEnd(f)})}function l(f){if(typeof f=="string"){const d=f,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;return a(p)}else return f.data?{data:zo(f.type,f.data),width:f.width,height:f.height}:null}if(e!==void 0&&e.length>0){const f=new If(t);o=new wu(f),o.setCrossOrigin(this.crossOrigin);for(let d=0,p=e.length;d<p;d++){const v=e[d],y=v.url;if(Array.isArray(y)){const b=[];for(let R=0,S=y.length;R<S;R++){const E=y[R],G=l(E);G!==null&&(G instanceof HTMLImageElement?b.push(G):b.push(new hc(G.data,G.width,G.height)))}r[v.uuid]=new _s(b)}else{const b=l(v.url);r[v.uuid]=new _s(b)}}}return r}parseImagesAsync(e){return Pl(this,null,function*(){const t=this,n={};let r;function o(a){return Pl(this,null,function*(){if(typeof a=="string"){const l=a,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return yield r.loadAsync(f)}else return a.data?{data:zo(a.type,a.data),width:a.width,height:a.height}:null})}if(e!==void 0&&e.length>0){r=new wu(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,l=e.length;a<l;a++){const f=e[a],d=f.url;if(Array.isArray(d)){const p=[];for(let v=0,y=d.length;v<y;v++){const b=d[v],R=yield o(b);R!==null&&(R instanceof HTMLImageElement?p.push(R):p.push(new hc(R.data,R.width,R.height)))}n[f.uuid]=new _s(p)}else{const p=yield o(f.url);n[f.uuid]=new _s(p)}}}return n})}parseTextures(e,t){function n(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const r={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const l=e[o];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const f=t[l.image],d=f.data;let p;Array.isArray(d)?(p=new va,d.length===6&&(p.needsUpdate=!0)):(d&&d.data?p=new hc:p=new Gi,d&&(p.needsUpdate=!0)),p.source=f,p.uuid=l.uuid,l.name!==void 0&&(p.name=l.name),l.mapping!==void 0&&(p.mapping=n(l.mapping,Oh)),l.offset!==void 0&&p.offset.fromArray(l.offset),l.repeat!==void 0&&p.repeat.fromArray(l.repeat),l.center!==void 0&&p.center.fromArray(l.center),l.rotation!==void 0&&(p.rotation=l.rotation),l.wrap!==void 0&&(p.wrapS=n(l.wrap[0],F9),p.wrapT=n(l.wrap[1],F9)),l.format!==void 0&&(p.format=l.format),l.type!==void 0&&(p.type=l.type),l.encoding!==void 0&&(p.encoding=l.encoding),l.minFilter!==void 0&&(p.minFilter=n(l.minFilter,k9)),l.magFilter!==void 0&&(p.magFilter=n(l.magFilter,k9)),l.anisotropy!==void 0&&(p.anisotropy=l.anisotropy),l.flipY!==void 0&&(p.flipY=l.flipY),l.premultiplyAlpha!==void 0&&(p.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(p.unpackAlignment=l.unpackAlignment),l.userData!==void 0&&(p.userData=l.userData),r[l.uuid]=p}return r}parseObject(e,t,n,r,o){let a;function l(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function f(y){if(y!==void 0){if(Array.isArray(y)){const b=[];for(let R=0,S=y.length;R<S;R++){const E=y[R];n[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),b.push(n[E])}return b}return n[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),n[y]}}function d(y){return r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),r[y]}let p,v;switch(e.type){case"Scene":a=new E2,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new rr(e.background):a.background=d(e.background)),e.environment!==void 0&&(a.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new Ju(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new qu(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":a=new Co(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new iu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new z9(e.color,e.intensity);break;case"DirectionalLight":a=new D9(e.color,e.intensity);break;case"PointLight":a=new I9(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new H9(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new P9(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new L9(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new C0().fromJSON(e);break;case"SkinnedMesh":p=l(e.geometry),v=f(e.material),a=new V2(p,v),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":p=l(e.geometry),v=f(e.material),a=new Mo(p,v);break;case"InstancedMesh":p=l(e.geometry),v=f(e.material);const y=e.count,b=e.instanceMatrix,R=e.instanceColor;a=new k2(p,v,y),a.instanceMatrix=new pc(new Float32Array(b.array),16),R!==void 0&&(a.instanceColor=new pc(new Float32Array(R.array),R.itemSize));break;case"LOD":a=new O2;break;case"Line":a=new D1(l(e.geometry),f(e.material));break;case"LineLoop":a=new G2(l(e.geometry),f(e.material));break;case"LineSegments":a=new Wa(l(e.geometry),f(e.material));break;case"PointCloud":case"Points":a=new Y2(l(e.geometry),f(e.material));break;case"Sprite":a=new T2(f(e.material));break;case"Group":a=new lc;break;case"Bone":a=new pf;break;default:a=new Ei}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let b=0;b<y.length;b++)a.add(this.parseObject(y[b],t,n,r,o))}if(e.animations!==void 0){const y=e.animations;for(let b=0;b<y.length;b++){const R=y[b];a.animations.push(o[R])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const y=e.levels;for(let b=0;b<y.length;b++){const R=y[b],S=a.getObjectByProperty("uuid",R.object);S!==void 0&&a.addLevel(S,R.distance)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const Oh={UVMapping:yn,CubeReflectionMapping:rn,CubeRefractionMapping:sn,EquirectangularReflectionMapping:Mn,EquirectangularRefractionMapping:xt,CubeUVReflectionMapping:he},F9={RepeatWrapping:Me,ClampToEdgeWrapping:Oe,MirroredRepeatWrapping:Ke},k9={NearestFilter:Xe,NearestMipmapNearestFilter:Nt,NearestMipmapLinearFilter:Dn,LinearFilter:me,LinearMipmapNearestFilter:Je,LinearMipmapLinearFilter:et};class Ih extends Ks{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Ml.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(a),o.manager.itemEnd(e)},0),a;const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,fetch(e,l).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(f){Ml.add(e,f),t&&t(f),o.manager.itemEnd(e)}).catch(function(f){r&&r(f),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}let y0;const Vf={getContext:function(){return y0===void 0&&(y0=new(window.AudioContext||window.webkitAudioContext)),y0},setContext:function(c){y0=c}};class Dh extends Ks{constructor(e){super(e)}load(e,t,n,r){const o=this,a=new d1(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const f=l.slice(0);Vf.getContext().decodeAudioData(f,function(p){t(p)})}catch(f){r?r(f):console.error(f),o.manager.itemError(e)}},n,r)}}class zh extends C0{constructor(e,t,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;const r=new rr().set(e),o=new rr().set(t),a=new Ae(r.r,r.g,r.b),l=new Ae(o.r,o.g,o.b),f=Math.sqrt(Math.PI),d=f*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(l).multiplyScalar(f),this.sh.coefficients[1].copy(a).sub(l).multiplyScalar(d)}}class Hh extends C0{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const n=new rr().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const U9=new kr,$9=new kr,Sl=new kr;class Vh{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Co,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Co,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Sl.copy(e.projectionMatrix);const r=t.eyeSep/2,o=r*t.near/t.focus,a=t.near*Math.tan(gi*t.fov*.5)/t.zoom;let l,f;$9.elements[12]=-r,U9.elements[12]=r,l=-a*t.aspect+o,f=a*t.aspect+o,Sl.elements[0]=2*t.near/(f-l),Sl.elements[8]=(f+l)/(f-l),this.cameraL.projectionMatrix.copy(Sl),l=-a*t.aspect-o,f=a*t.aspect-o,Sl.elements[0]=2*t.near/(f-l),Sl.elements[8]=(f+l)/(f-l),this.cameraR.projectionMatrix.copy(Sl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply($9),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(U9)}}class j9{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Z9(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Z9();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Z9(){return(typeof performance=="undefined"?Date:performance).now()}const El=new Ae,W9=new ci,Bh=new Ae,Ll=new Ae;class Nh extends Ei{constructor(){super(),this.type="AudioListener",this.context=Vf.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new j9}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(El,W9,Bh),Ll.set(0,0,-1).applyQuaternion(W9),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(El.x,r),t.positionY.linearRampToValueAtTime(El.y,r),t.positionZ.linearRampToValueAtTime(El.z,r),t.forwardX.linearRampToValueAtTime(Ll.x,r),t.forwardY.linearRampToValueAtTime(Ll.y,r),t.forwardZ.linearRampToValueAtTime(Ll.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(El.x,El.y,El.z),t.setOrientation(Ll.x,Ll.y,Ll.z,n.x,n.y,n.z)}}class G9 extends Ei{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Rl=new Ae,X9=new ci,Fh=new Ae,Al=new Ae;class kh extends G9{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Rl,X9,Fh),Al.set(0,0,1).applyQuaternion(X9);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Rl.x,n),t.positionY.linearRampToValueAtTime(Rl.y,n),t.positionZ.linearRampToValueAtTime(Rl.z,n),t.orientationX.linearRampToValueAtTime(Al.x,n),t.orientationY.linearRampToValueAtTime(Al.y,n),t.orientationZ.linearRampToValueAtTime(Al.z,n)}else t.setPosition(Rl.x,Rl.y,Rl.z),t.setOrientation(Al.x,Al.y,Al.z)}}class Uh{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class Y9{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,o,a;switch(t){case"quaternion":r=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,o=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let l=0;l!==r;++l)n[o+l]=n[l];a=t}else{a+=t;const l=t/a;this._mixBufferRegion(n,o,0,l,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const f=t*this._origIndex;this._mixBufferRegion(n,r,f,1-o,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let f=t,d=t+t;f!==d;++f)if(n[f]!==n[f+t]){l.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let o=n,a=r;o!==a;++o)t[o]=t[r+o%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,o){if(r>=.5)for(let a=0;a!==o;++a)e[t+a]=e[n+a]}_slerp(e,t,n,r){ci.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,o){const a=this._workIndex*o;ci.multiplyQuaternionsFlat(e,a,e,t,e,n),ci.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,n,r,o){const a=1-r;for(let l=0;l!==o;++l){const f=t+l;e[f]=e[f]*a+e[n+l]*r}}_lerpAdditive(e,t,n,r,o){for(let a=0;a!==o;++a){const l=t+a;e[l]=e[l]+e[n+a]*r}}}const Bf="\\[\\]\\.:\\/",$h=new RegExp("["+Bf+"]","g"),Nf="[^"+Bf+"]",jh="[^"+Bf.replace("\\.","")+"]",Zh=/((?:WC+[\/:])*)/.source.replace("WC",Nf),Wh=/(WCOD+)?/.source.replace("WCOD",jh),Gh=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Nf),Xh=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Nf),Yh=new RegExp("^"+Zh+Wh+Gh+Xh+"$"),Kh=["material","materials","bones"];class qh{constructor(e,t,n){const r=n||Li.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=n.length;r!==o;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Li{constructor(e,t,n){this.path=t,this.parsedPath=n||Li.parseTrackName(t),this.node=Li.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Li.Composite(e,t,n):new Li(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace($h,"")}static parseTrackName(e){const t=Yh.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const o=n.nodeName.substring(r+1);Kh.indexOf(o)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=o)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===t||l.uuid===t)return l;const f=n(l.children);if(f)return f}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let o=t.propertyIndex;if(e||(e=Li.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let d=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===d){d=p;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const a=e[r];if(a===void 0){const d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+r+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let f=this.BindingType.Direct;if(o!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}f=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(f=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(f=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Li.Composite=qh,Li.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Li.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Li.prototype.GetterByBindingType=[Li.prototype._getValue_direct,Li.prototype._getValue_array,Li.prototype._getValue_arrayElement,Li.prototype._getValue_toArray],Li.prototype.SetterByBindingTypeAndVersioning=[[Li.prototype._setValue_direct,Li.prototype._setValue_direct_setNeedsUpdate,Li.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Li.prototype._setValue_array,Li.prototype._setValue_array_setNeedsUpdate,Li.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Li.prototype._setValue_arrayElement,Li.prototype._setValue_arrayElement_setNeedsUpdate,Li.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Li.prototype._setValue_fromArray,Li.prototype._setValue_fromArray_setNeedsUpdate,Li.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Jh{constructor(){this.isAnimationObjectGroup=!0,this.uuid=xi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,o=this._bindings,a=o.length;let l,f=e.length,d=this.nCachedObjects_;for(let p=0,v=arguments.length;p!==v;++p){const y=arguments[p],b=y.uuid;let R=t[b];if(R===void 0){R=f++,t[b]=R,e.push(y);for(let S=0,E=a;S!==E;++S)o[S].push(new Li(y,n[S],r[S]))}else if(R<d){l=e[R];const S=--d,E=e[S];t[E.uuid]=R,e[R]=E,t[b]=S,e[S]=y;for(let G=0,q=a;G!==q;++G){const _e=o[G],ie=_e[S];let Ie=_e[R];_e[R]=ie,Ie===void 0&&(Ie=new Li(y,n[G],r[G])),_e[S]=Ie}}else e[R]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_;for(let a=0,l=arguments.length;a!==l;++a){const f=arguments[a],d=f.uuid,p=t[d];if(p!==void 0&&p>=o){const v=o++,y=e[v];t[y.uuid]=p,e[p]=y,t[d]=v,e[v]=f;for(let b=0,R=r;b!==R;++b){const S=n[b],E=S[v],G=S[p];S[p]=E,S[v]=G}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_,a=e.length;for(let l=0,f=arguments.length;l!==f;++l){const d=arguments[l],p=d.uuid,v=t[p];if(v!==void 0)if(delete t[p],v<o){const y=--o,b=e[y],R=--a,S=e[R];t[b.uuid]=v,e[v]=b,t[S.uuid]=y,e[y]=S,e.pop();for(let E=0,G=r;E!==G;++E){const q=n[E],_e=q[y],ie=q[R];q[v]=_e,q[y]=ie,q.pop()}}else{const y=--a,b=e[y];y>0&&(t[b.uuid]=v),e[v]=b,e.pop();for(let R=0,S=r;R!==S;++R){const E=n[R];E[v]=E[y],E.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const o=this._bindings;if(r!==void 0)return o[r];const a=this._paths,l=this._parsedPaths,f=this._objects,d=f.length,p=this.nCachedObjects_,v=new Array(d);r=o.length,n[e]=r,a.push(e),l.push(t),o.push(v);for(let y=p,b=f.length;y!==b;++y){const R=f[y];v[y]=new Li(R,e,t)}return v}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,o=this._parsedPaths,a=this._bindings,l=a.length-1,f=a[l],d=e[l];t[d]=n,a[n]=f,a.pop(),o[n]=o[l],o.pop(),r[n]=r[l],r.pop()}}}class Qh{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const o=t.tracks,a=o.length,l=new Array(a),f={endingStart:Tr,endingEnd:Tr};for(let d=0;d!==a;++d){const p=o[d].createInterpolant(null);l[d]=p,p.settings=f}this._interpolantSettings=f,this._interpolants=l,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ni,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const r=this._clip.duration,o=e._clip.duration,a=o/r,l=r/o;e.warp(1,a,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,o=r.time,a=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const f=l.parameterPositions,d=l.sampleValues;return f[0]=o,f[1]=o+n,d[0]=e/a,d[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const f=(e-o)*n;if(f<0||n===0)return;this._startTime=null,t=n*f}t*=this._updateTimeScale(e);const a=this._updateTime(t),l=this._updateWeight(e);if(l>0){const f=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case Yo:for(let p=0,v=f.length;p!==v;++p)f[p].evaluate(a),d[p].accumulateAdditive(l);break;case di:default:for(let p=0,v=f.length;p!==v;++p)f[p].evaluate(a),d[p].accumulate(r,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,o=this._loopCount;const a=n===ri;if(e===0)return o===-1?r:a&&(o&1)===1?t-r:r;if(n===wi){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const l=Math.floor(r/t);r-=t*l,o+=Math.abs(l);const f=this.repetitions-o;if(f<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(f===1){const d=e<0;this._setEndings(d,!d,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(a&&(o&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=yi,r.endingEnd=yi):(e?r.endingStart=this.zeroSlopeAtStart?yi:Tr:r.endingStart=lo,t?r.endingEnd=this.zeroSlopeAtEnd?yi:Tr:r.endingEnd=lo)}_scheduleFading(e,t,n){const r=this._mixer,o=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const l=a.parameterPositions,f=a.sampleValues;return l[0]=o,f[0]=t,l[1]=o+e,f[1]=n,this}}const e3=new Float32Array(1);class t3 extends Vr{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,o=r.length,a=e._propertyBindings,l=e._interpolants,f=n.uuid,d=this._bindingsByRootAndName;let p=d[f];p===void 0&&(p={},d[f]=p);for(let v=0;v!==o;++v){const y=r[v],b=y.name;let R=p[b];if(R!==void 0)++R.referenceCount,a[v]=R;else{if(R=a[v],R!==void 0){R._cacheIndex===null&&(++R.referenceCount,this._addInactiveBinding(R,f,b));continue}const S=t&&t._propertyBindings[v].binding.parsedPath;R=new Y9(Li.create(n,b,S),y.ValueTypeName,y.getValueSize()),++R.referenceCount,this._addInactiveBinding(R,f,b),a[v]=R}l[v].resultBuffer=R.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,o=this._actionsByClip[r];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,o=this._actionsByClip;let a=o[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=a;else{const l=a.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,l=a[o],f=l.knownActions,d=f[f.length-1],p=e._byClipCacheIndex;d._byClipCacheIndex=p,f[p]=d,f.pop(),e._byClipCacheIndex=null;const v=l.actionByRoot,y=(e._localRoot||this._root).uuid;delete v[y],f.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,o=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[n]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,o=n.path,a=this._bindingsByRootAndName,l=a[r],f=t[t.length-1],d=e._cacheIndex;f._cacheIndex=d,t[d]=f,t.pop(),delete l[o],Object.keys(l).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new Pf(new Float32Array(2),new Float32Array(2),1,e3),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,o=t[r];e.__cacheIndex=r,t[r]=e,o.__cacheIndex=n,t[n]=o}clipAction(e,t,n){const r=t||this._root,o=r.uuid;let a=typeof e=="string"?xu.findByName(r,e):e;const l=a!==null?a.uuid:e,f=this._actionsByClip[l];let d=null;if(n===void 0&&(a!==null?n=a.blendMode:n=di),f!==void 0){const v=f.actionByRoot[o];if(v!==void 0&&v.blendMode===n)return v;d=f.knownActions[0],a===null&&(a=d._clip)}if(a===null)return null;const p=new Qh(this,a,t,n);return this._bindAction(p,d),this._addInactiveAction(p,l,o),p}existingAction(e,t){const n=t||this._root,r=n.uuid,o=typeof e=="string"?xu.findByName(n,e):e,a=o?o.uuid:e,l=this._actionsByClip[a];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let d=0;d!==n;++d)t[d]._update(r,e,o,a);const l=this._bindings,f=this._nActiveBindings;for(let d=0;d!==f;++d)l[d].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,o=r[n];if(o!==void 0){const a=o.knownActions;for(let l=0,f=a.length;l!==f;++l){const d=a[l];this._deactivateAction(d);const p=d._cacheIndex,v=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,v._cacheIndex=p,t[p]=v,t.pop(),this._removeInactiveBindingsForAction(d)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const a in n){const l=n[a].actionByRoot,f=l[t];f!==void 0&&(this._deactivateAction(f),this._removeInactiveAction(f))}const r=this._bindingsByRootAndName,o=r[t];if(o!==void 0)for(const a in o){const l=o[a];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class Ff{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new Ff(this.value.clone===void 0?this.value:this.value.clone())}}class n3 extends Qu{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class r3{constructor(e,t,n,r,o){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class i3{constructor(e,t,n=0,r=1/0){this.ray=new t1(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new _1,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return kf(e,this,n,t),n.sort(K9),n}intersectObjects(e,t=!0,n=[]){for(let r=0,o=e.length;r<o;r++)kf(e[r],this,n,t);return n.sort(K9),n}}function K9(c,e){return c.distance-e.distance}function kf(c,e,t,n){if(c.layers.test(e.layers)&&c.raycast(e,t),n===!0){const r=c.children;for(let o=0,a=r.length;o<a;o++)kf(r[o],e,t,!0)}}class o3{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(oi(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class s3{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}const q9=new dn;class a3{constructor(e=new dn(1/0,1/0),t=new dn(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=q9.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return q9.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const J9=new Ae,x0=new Ae;class l3{constructor(e=new Ae,t=new Ae){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){J9.subVectors(e,this.start),x0.subVectors(this.end,this.start);const n=x0.dot(x0);let o=x0.dot(J9)/n;return t&&(o=oi(o,0,1)),o}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Q9=new Ae;class c3 extends Ei{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const n=new Dr,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,l=1,f=32;a<f;a++,l++){const d=a/f*Math.PI*2,p=l/f*Math.PI*2;r.push(Math.cos(d),Math.sin(d),1,Math.cos(p),Math.sin(p),1)}n.setAttribute("position",new cr(r,3));const o=new Ls({fog:!1,toneMapped:!1});this.cone=new Wa(n,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Q9.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Q9),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const B1=new Ae,w0=new kr,Uf=new kr;class u3 extends Wa{constructor(e){const t=e5(e),n=new Dr,r=[],o=[],a=new rr(0,0,1),l=new rr(0,1,0);for(let d=0;d<t.length;d++){const p=t[d];p.parent&&p.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),o.push(a.r,a.g,a.b),o.push(l.r,l.g,l.b))}n.setAttribute("position",new cr(r,3)),n.setAttribute("color",new cr(o,3));const f=new Ls({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,f),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");Uf.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<t.length;o++){const l=t[o];l.parent&&l.parent.isBone&&(w0.multiplyMatrices(Uf,l.matrixWorld),B1.setFromMatrixPosition(w0),r.setXYZ(a,B1.x,B1.y,B1.z),w0.multiplyMatrices(Uf,l.parent.matrixWorld),B1.setFromMatrixPosition(w0),r.setXYZ(a+1,B1.x,B1.y,B1.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function e5(c){const e=[];c.isBone===!0&&e.push(c);for(let t=0;t<c.children.length;t++)e.push.apply(e,e5(c.children[t]));return e}class f3 extends Mo{constructor(e,t,n){const r=new xl(t,4,2),o=new ws({wireframe:!0,fog:!1,toneMapped:!1});super(r,o),this.light=e,this.light.updateMatrixWorld(),this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const d3=new Ae,t5=new rr,n5=new rr;class h3 extends Ei{constructor(e,t,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const r=new yl(t);r.rotateY(Math.PI*.5),this.material=new ws({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=r.getAttribute("position"),a=new Float32Array(o.count*3);r.setAttribute("color",new Oi(a,3)),this.add(new Mo(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");t5.copy(this.light.color),n5.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const o=n<r/2?t5:n5;t.setXYZ(n,o.r,o.g,o.b)}t.needsUpdate=!0}e.lookAt(d3.setFromMatrixPosition(this.light.matrixWorld).negate())}}class p3 extends Wa{constructor(e=10,t=10,n=4473924,r=8947848){n=new rr(n),r=new rr(r);const o=t/2,a=e/t,l=e/2,f=[],d=[];for(let y=0,b=0,R=-l;y<=t;y++,R+=a){f.push(-l,0,R,l,0,R),f.push(R,0,-l,R,0,l);const S=y===o?n:r;S.toArray(d,b),b+=3,S.toArray(d,b),b+=3,S.toArray(d,b),b+=3,S.toArray(d,b),b+=3}const p=new Dr;p.setAttribute("position",new cr(f,3)),p.setAttribute("color",new cr(d,3));const v=new Ls({vertexColors:!0,toneMapped:!1});super(p,v),this.type="GridHelper"}}class m3 extends Wa{constructor(e=10,t=16,n=8,r=64,o=4473924,a=8947848){o=new rr(o),a=new rr(a);const l=[],f=[];for(let v=0;v<=t;v++){const y=v/t*(Math.PI*2),b=Math.sin(y)*e,R=Math.cos(y)*e;l.push(0,0,0),l.push(b,0,R);const S=v&1?o:a;f.push(S.r,S.g,S.b),f.push(S.r,S.g,S.b)}for(let v=0;v<=n;v++){const y=v&1?o:a,b=e-e/n*v;for(let R=0;R<r;R++){let S=R/r*(Math.PI*2),E=Math.sin(S)*b,G=Math.cos(S)*b;l.push(E,0,G),f.push(y.r,y.g,y.b),S=(R+1)/r*(Math.PI*2),E=Math.sin(S)*b,G=Math.cos(S)*b,l.push(E,0,G),f.push(y.r,y.g,y.b)}}const d=new Dr;d.setAttribute("position",new cr(l,3)),d.setAttribute("color",new cr(f,3));const p=new Ls({vertexColors:!0,toneMapped:!1});super(d,p),this.type="PolarGridHelper"}}const r5=new Ae,b0=new Ae,i5=new Ae;class g3 extends Ei{constructor(e,t,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,t===void 0&&(t=1);let r=new Dr;r.setAttribute("position",new cr([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new Ls({fog:!1,toneMapped:!1});this.lightPlane=new D1(r,o),this.add(this.lightPlane),r=new Dr,r.setAttribute("position",new cr([0,0,0,0,0,1],3)),this.targetLine=new D1(r,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){r5.setFromMatrixPosition(this.light.matrixWorld),b0.setFromMatrixPosition(this.light.target.matrixWorld),i5.subVectors(b0,r5),this.lightPlane.lookAt(b0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(b0),this.targetLine.scale.z=i5.length()}}const M0=new Ae,yo=new S1;class v3 extends Wa{constructor(e){const t=new Dr,n=new Ls({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],o=[],a={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(R,S){f(R),f(S)}function f(R){r.push(0,0,0),o.push(0,0,0),a[R]===void 0&&(a[R]=[]),a[R].push(r.length/3-1)}t.setAttribute("position",new cr(r,3)),t.setAttribute("color",new cr(o,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const d=new rr(16755200),p=new rr(16711680),v=new rr(43775),y=new rr(16777215),b=new rr(3355443);this.setColors(d,p,v,y,b)}setColors(e,t,n,r,o){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,n.r,n.g,n.b),l.setXYZ(33,n.r,n.g,n.b),l.setXYZ(34,n.r,n.g,n.b),l.setXYZ(35,n.r,n.g,n.b),l.setXYZ(36,n.r,n.g,n.b),l.setXYZ(37,n.r,n.g,n.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,o.r,o.g,o.b),l.setXYZ(41,o.r,o.g,o.b),l.setXYZ(42,o.r,o.g,o.b),l.setXYZ(43,o.r,o.g,o.b),l.setXYZ(44,o.r,o.g,o.b),l.setXYZ(45,o.r,o.g,o.b),l.setXYZ(46,o.r,o.g,o.b),l.setXYZ(47,o.r,o.g,o.b),l.setXYZ(48,o.r,o.g,o.b),l.setXYZ(49,o.r,o.g,o.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;yo.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),So("c",t,e,yo,0,0,-1),So("t",t,e,yo,0,0,1),So("n1",t,e,yo,-n,-r,-1),So("n2",t,e,yo,n,-r,-1),So("n3",t,e,yo,-n,r,-1),So("n4",t,e,yo,n,r,-1),So("f1",t,e,yo,-n,-r,1),So("f2",t,e,yo,n,-r,1),So("f3",t,e,yo,-n,r,1),So("f4",t,e,yo,n,r,1),So("u1",t,e,yo,n*.7,r*1.1,-1),So("u2",t,e,yo,-n*.7,r*1.1,-1),So("u3",t,e,yo,0,r*2,-1),So("cf1",t,e,yo,-n,0,1),So("cf2",t,e,yo,n,0,1),So("cf3",t,e,yo,0,-r,1),So("cf4",t,e,yo,0,r,1),So("cn1",t,e,yo,-n,0,-1),So("cn2",t,e,yo,n,0,-1),So("cn3",t,e,yo,0,-r,-1),So("cn4",t,e,yo,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function So(c,e,t,n,r,o,a){M0.set(r,o,a).unproject(n);const l=e[c];if(l!==void 0){const f=t.getAttribute("position");for(let d=0,p=l.length;d<p;d++)f.setXYZ(l[d],M0.x,M0.y,M0.z)}}const S0=new Qi;class C3 extends Wa{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),o=new Dr;o.setIndex(new Oi(n,1)),o.setAttribute("position",new Oi(r,3)),super(o,new Ls({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&S0.setFromObject(this.object),S0.isEmpty())return;const t=S0.min,n=S0.max,r=this.geometry.attributes.position,o=r.array;o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=t.x,o[4]=n.y,o[5]=n.z,o[6]=t.x,o[7]=t.y,o[8]=n.z,o[9]=n.x,o[10]=t.y,o[11]=n.z,o[12]=n.x,o[13]=n.y,o[14]=t.z,o[15]=t.x,o[16]=n.y,o[17]=t.z,o[18]=t.x,o[19]=t.y,o[20]=t.z,o[21]=n.x,o[22]=t.y,o[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}}class _3 extends Wa{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Dr;o.setIndex(new Oi(n,1)),o.setAttribute("position",new cr(r,3)),super(o,new Ls({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class y3 extends D1{constructor(e,t=1,n=16776960){const r=n,o=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],a=new Dr;a.setAttribute("position",new cr(o,3)),a.computeBoundingSphere(),super(a,new Ls({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],f=new Dr;f.setAttribute("position",new cr(l,3)),f.computeBoundingSphere(),this.add(new Mo(f,new ws({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?F:Se,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const o5=new Ae;let E0,$f;class x3 extends Ei{constructor(e=new Ae(0,0,1),t=new Ae(0,0,0),n=1,r=16776960,o=n*.2,a=o*.2){super(),this.type="ArrowHelper",E0===void 0&&(E0=new Dr,E0.setAttribute("position",new cr([0,0,0,0,1,0],3)),$f=new z1(0,.5,1,5,1),$f.translate(0,-.5,0)),this.position.copy(t),this.line=new D1(E0,new Ls({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mo($f,new ws({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{o5.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(o5,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class w3 extends Wa{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Dr;r.setAttribute("position",new cr(t,3)),r.setAttribute("color",new cr(n,3));const o=new Ls({vertexColors:!0,toneMapped:!1});super(r,o),this.type="AxesHelper"}setColors(e,t,n){const r=new rr,o=this.geometry.attributes.color.array;return r.set(e),r.toArray(o,0),r.toArray(o,3),r.set(t),r.toArray(o,6),r.toArray(o,9),r.set(n),r.toArray(o,12),r.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class b3{constructor(){this.type="ShapePath",this.color=new rr,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new pu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,o,a){return this.currentPath.bezierCurveTo(e,t,n,r,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function n(q){const _e=[];for(let ie=0,Ie=q.length;ie<Ie;ie++){const Fe=q[ie],vt=new _l;vt.curves=Fe.curves,_e.push(vt)}return _e}function r(q,_e){const ie=_e.length;let Ie=!1;for(let Fe=ie-1,vt=0;vt<ie;Fe=vt++){let ce=_e[Fe],je=_e[vt],Pt=je.x-ce.x,Ht=je.y-ce.y;if(Math.abs(Ht)>Number.EPSILON){if(Ht<0&&(ce=_e[vt],Pt=-Pt,je=_e[Fe],Ht=-Ht),q.y<ce.y||q.y>je.y)continue;if(q.y===ce.y){if(q.x===ce.x)return!0}else{const En=Ht*(q.x-ce.x)-Pt*(q.y-ce.y);if(En===0)return!0;if(En<0)continue;Ie=!Ie}}else{if(q.y!==ce.y)continue;if(je.x<=q.x&&q.x<=ce.x||ce.x<=q.x&&q.x<=je.x)return!0}}return Ie}const o=Xa.isClockWise,a=this.subPaths;if(a.length===0)return[];if(t===!0)return n(a);let l,f,d;const p=[];if(a.length===1)return f=a[0],d=new _l,d.curves=f.curves,p.push(d),p;let v=!o(a[0].getPoints());v=e?!v:v;const y=[],b=[];let R=[],S=0,E;b[S]=void 0,R[S]=[];for(let q=0,_e=a.length;q<_e;q++)f=a[q],E=f.getPoints(),l=o(E),l=e?!l:l,l?(!v&&b[S]&&S++,b[S]={s:new _l,p:E},b[S].s.curves=f.curves,v&&S++,R[S]=[]):R[S].push({h:f,p:E[0]});if(!b[0])return n(a);if(b.length>1){let q=!1,_e=0;for(let ie=0,Ie=b.length;ie<Ie;ie++)y[ie]=[];for(let ie=0,Ie=b.length;ie<Ie;ie++){const Fe=R[ie];for(let vt=0;vt<Fe.length;vt++){const ce=Fe[vt];let je=!0;for(let Pt=0;Pt<b.length;Pt++)r(ce.p,b[Pt].p)&&(ie!==Pt&&_e++,je?(je=!1,y[Pt].push(ce)):q=!0);je&&y[ie].push(ce)}}_e>0&&q===!1&&(R=y)}let G;for(let q=0,_e=b.length;q<_e;q++){d=b[q].s,p.push(d),G=R[q];for(let ie=0,Ie=G.length;ie<Ie;ie++)d.holes.push(G[ie].h)}return p}}const{floatView:s5,uint32View:a5,baseTable:M3,shiftTable:S3,mantissaTable:E3,exponentTable:L3,offsetTable:R3}=A3();function A3(){const c=new ArrayBuffer(4),e=new Float32Array(c),t=new Uint32Array(c),n=new Uint32Array(512),r=new Uint32Array(512);for(let f=0;f<256;++f){const d=f-127;d<-27?(n[f]=0,n[f|256]=32768,r[f]=24,r[f|256]=24):d<-14?(n[f]=1024>>-d-14,n[f|256]=1024>>-d-14|32768,r[f]=-d-1,r[f|256]=-d-1):d<=15?(n[f]=d+15<<10,n[f|256]=d+15<<10|32768,r[f]=13,r[f|256]=13):d<128?(n[f]=31744,n[f|256]=64512,r[f]=24,r[f|256]=24):(n[f]=31744,n[f|256]=64512,r[f]=13,r[f|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),l=new Uint32Array(64);for(let f=1;f<1024;++f){let d=f<<13,p=0;for(;!(d&8388608);)d<<=1,p-=8388608;d&=-8388609,p+=947912704,o[f]=d|p}for(let f=1024;f<2048;++f)o[f]=939524096+(f-1024<<13);for(let f=1;f<31;++f)a[f]=f<<23;a[31]=1199570944,a[32]=2147483648;for(let f=33;f<63;++f)a[f]=2147483648+(f-32<<23);a[63]=3347054592;for(let f=1;f<64;++f)f!==32&&(l[f]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:o,exponentTable:a,offsetTable:l}}function T3(c){Math.abs(c)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),c=oi(c,-65504,65504),s5[0]=c;const e=a5[0],t=e>>23&511;return M3[t]+((e&8388607)>>S3[t])}function P3(c){const e=c>>10;return a5[0]=E3[R3[e]+(c&1023)]+L3[e],s5[0]}var O3=Object.freeze({__proto__:null,toHalfFloat:T3,fromHalfFloat:P3});class I3 extends Dr{constructor(){console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),super()}}class D3 extends Dr{constructor(){console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),super()}}function z3(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function H3(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function V3(){console.error("THREE.ImmediateRenderObject has been removed.")}class B3 extends po{constructor(e,t,n){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,n),this.samples=4}}class N3 extends Qs{constructor(e,t,n,r){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,n,r)}}class F3 extends Ti{constructor(e,t,n,r){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,n,r)}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:A}})),typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=A)}}]);
}());