!(function(){var Zh=Object.defineProperty,Wh=Object.defineProperties;var Gh=Object.getOwnPropertyDescriptors;var Ru=Object.getOwnPropertySymbols;var u5=Object.prototype.hasOwnProperty,f5=Object.prototype.propertyIsEnumerable;var Au=Math.pow,c5=(qt,et,W)=>et in qt?Zh(qt,et,{enumerable:!0,configurable:!0,writable:!0,value:W}):qt[et]=W,rn=(qt,et)=>{for(var W in et||(et={}))u5.call(et,W)&&c5(qt,W,et[W]);if(Ru)for(var W of Ru(et))f5.call(et,W)&&c5(qt,W,et[W]);return qt},Or=(qt,et)=>Wh(qt,Gh(et));var Bo=(qt,et)=>{var W={};for(var A in qt)u5.call(qt,A)&&et.indexOf(A)<0&&(W[A]=qt[A]);if(qt!=null&&Ru)for(var A of Ru(qt))et.indexOf(A)<0&&f5.call(qt,A)&&(W[A]=qt[A]);return W};var Pl=(qt,et,W)=>new Promise((A,b)=>{var v=k=>{try{T(W.next(k))}catch(D){b(D)}},y=k=>{try{T(W.throw(k))}catch(D){b(D)}},T=k=>k.done?A(k.value):Promise.resolve(k.value).then(v,y);T((W=W.apply(qt,et)).next())});(self.webpackChunkkitchen_color_studio=self.webpackChunkkitchen_color_studio||[]).push([[46],{28771:function(qt,et,W){"use strict";W.d(et,{Z:function(){return D}});var A=W(185),b=W(50959),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM304 240a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"database",theme:"outlined"},y=v,T=W(20363),k=function(K,ne){return b.createElement(T.Z,(0,A.Z)((0,A.Z)({},K),{},{ref:ne,icon:y}))};k.displayName="DatabaseOutlined";var D=b.forwardRef(k)},96208:function(qt,et,W){"use strict";W.d(et,{Z:function(){return D}});var A=W(185),b=W(50959),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"},y=v,T=W(20363),k=function(K,ne){return b.createElement(T.Z,(0,A.Z)((0,A.Z)({},K),{},{ref:ne,icon:y}))};k.displayName="DeleteFilled";var D=b.forwardRef(k)},51771:function(qt,et,W){"use strict";var A=W(185),b=W(50959),v=W(28343),y=W(20363),T=function(D,j){return b.createElement(y.Z,(0,A.Z)((0,A.Z)({},D),{},{ref:j,icon:v.Z}))};T.displayName="DeleteOutlined",et.Z=b.forwardRef(T)},76663:function(qt,et,W){"use strict";var A=W(185),b=W(50959),v=W(65662),y=W(20363),T=function(D,j){return b.createElement(y.Z,(0,A.Z)((0,A.Z)({},D),{},{ref:j,icon:v.Z}))};T.displayName="DownOutlined",et.Z=b.forwardRef(T)},15077:function(qt,et,W){"use strict";var A=W(185),b=W(50959),v=W(34843),y=W(20363),T=function(D,j){return b.createElement(y.Z,(0,A.Z)((0,A.Z)({},D),{},{ref:j,icon:v.Z}))};T.displayName="DownloadOutlined",et.Z=b.forwardRef(T)},13730:function(qt,et,W){"use strict";W.d(et,{Z:function(){return D}});var A=W(185),b=W(50959),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 305H624V192c0-17.7-14.3-32-32-32H184v-40c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v784c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V640h248v113c0 17.7 14.3 32 32 32h416c17.7 0 32-14.3 32-32V337c0-17.7-14.3-32-32-32zM184 568V232h368v336H184zm656 145H504v-73h112c4.4 0 8-3.6 8-8V377h216v336z"}}]},name:"flag",theme:"outlined"},y=v,T=W(20363),k=function(K,ne){return b.createElement(T.Z,(0,A.Z)((0,A.Z)({},K),{},{ref:ne,icon:y}))};k.displayName="FlagOutlined";var D=b.forwardRef(k)},54818:function(qt,et,W){"use strict";var A=W(185),b=W(50959),v=W(95379),y=W(20363),T=function(D,j){return b.createElement(y.Z,(0,A.Z)((0,A.Z)({},D),{},{ref:j,icon:v.Z}))};T.displayName="LeftOutlined",et.Z=b.forwardRef(T)},96430:function(qt,et,W){"use strict";var A=W(185),b=W(50959),v=W(38907),y=W(20363),T=function(D,j){return b.createElement(y.Z,(0,A.Z)((0,A.Z)({},D),{},{ref:j,icon:v.Z}))};T.displayName="PlusOutlined",et.Z=b.forwardRef(T)},48601:function(qt,et,W){"use strict";var A=W(185),b=W(50959),v=W(75006),y=W(20363),T=function(D,j){return b.createElement(y.Z,(0,A.Z)((0,A.Z)({},D),{},{ref:j,icon:v.Z}))};T.displayName="ReloadOutlined",et.Z=b.forwardRef(T)},24886:function(qt,et,W){"use strict";var A=W(185),b=W(50959),v=W(84646),y=W(20363),T=function(D,j){return b.createElement(y.Z,(0,A.Z)((0,A.Z)({},D),{},{ref:j,icon:v.Z}))};T.displayName="RightOutlined",et.Z=b.forwardRef(T)},43562:function(qt,et,W){"use strict";W.d(et,{Z:function(){return D}});var A=W(185),b=W(50959),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},y=v,T=W(20363),k=function(K,ne){return b.createElement(T.Z,(0,A.Z)((0,A.Z)({},K),{},{ref:ne,icon:y}))};k.displayName="RollbackOutlined";var D=b.forwardRef(k)},842:function(qt,et,W){"use strict";W.d(et,{Z:function(){return D}});var A=W(185),b=W(50959),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},y=v,T=W(20363),k=function(K,ne){return b.createElement(T.Z,(0,A.Z)((0,A.Z)({},K),{},{ref:ne,icon:y}))};k.displayName="SaveOutlined";var D=b.forwardRef(k)},20802:function(qt,et,W){"use strict";W.d(et,{Z:function(){return D}});var A=W(185),b=W(50959),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},y=v,T=W(20363),k=function(K,ne){return b.createElement(T.Z,(0,A.Z)((0,A.Z)({},K),{},{ref:ne,icon:y}))};k.displayName="TableOutlined";var D=b.forwardRef(k)},57018:function(qt,et,W){"use strict";var A=W(185),b=W(50959),v=W(64540),y=W(20363),T=function(D,j){return b.createElement(y.Z,(0,A.Z)((0,A.Z)({},D),{},{ref:j,icon:v.Z}))};T.displayName="UpOutlined",et.Z=b.forwardRef(T)},99949:function(qt,et,W){"use strict";W.d(et,{Z:function(){return D}});var A=W(185),b=W(50959),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},y=v,T=W(20363),k=function(K,ne){return b.createElement(T.Z,(0,A.Z)((0,A.Z)({},K),{},{ref:ne,icon:y}))};k.displayName="UploadOutlined";var D=b.forwardRef(k)},98570:function(qt,et,W){"use strict";W.d(et,{H:function(){return Me}});var A=W(185),b=W(66441),v=W(13730),y=W(28771),T=W(20802),k=W(43562),D=W(18559),j=W(50513),K=W(59892),ne=W(17417),he=W(59749),xe=W(52380),B=W(27346),Ke=W(83349),We=W(50959),Bt=W(58882),at=W.n(Bt),ut=W(84817),H=W(93251),lt=W(75157),wt=W(12270),Nt=W(58583),Dt=W(84772),Ue,Xe,it,Ft,X=(0,Dt.kc)(function(_e,Re){var $e=_e.token,le=_e.stylish,He=_e.cx,rt=_e.css;return{container:He(Re,rt(Ue||(Ue=(0,Nt.Z)([`
          `,`
        `])),le.textInfo)),empty:He("".concat(Re,"-empty"),rt(Xe||(Xe=(0,Nt.Z)([`
          padding: 8px;
          background: `,`;
          border-radius: 4px;
          .studio-empty-normal {
            margin: 12px 0;
          }
        `])),$e.colorFillQuaternary)),json:He("".concat(Re,"-json"),rt(it||(it=(0,Nt.Z)([`
          border-radius: 4px;

          .react-json-view {
            background: none !important;
          }
        `])))),table:rt(Ft||(Ft=(0,Nt.Z)([`
        .studio-table-cell {
          padding: 4px !important;
        }
      `])))}}),be=W(11527),ye=function(Re){var $e=Re.data,le=Re.collapsed,He=Re.onVisibleChange,rt=Re.className,ce=Re.renderEmpty,Te=Re.onEmptyClick,Ve=Re.showType,Ge=Ve===void 0?!0:Ve,ot=Re.extra,ht=Re.emptyAction,bt=Re.style,Vt=Re.columns,Kt=Re.onResetClick,Tt=Re.prefixCls,Mt=(0,lt.k2)("data-previewer",Tt),Ht=(0,wt.r)(),St=Ht.isDarkMode,Qe=X(Mt),Et=Qe.styles,tn=Qe.cx,un=(0,H.Z)(!1,{value:le,onChange:He}),nn=(0,b.Z)(un,2),pn=nn[0],Rt=nn[1],jt=(0,We.useState)(0),hn=(0,b.Z)(jt,2),tt=hn[0],ie=hn[1],fe=(0,We.useState)("object"),me=(0,b.Z)(fe,2),ke=me[0],Ie=me[1],At=(0,be.jsx)(ut.D,{align:"center",children:(0,be.jsxs)(ut.D,{gap:12,width:"fit-content",align:"center",children:[(0,be.jsx)("div",{children:"\u6CA1\u6709\u6570\u636E\uFF1F\u6765\u8BD5\u8BD5 Demo \u5427"}),(0,be.jsxs)(ut.D,{direction:"horizontal",gap:8,children:[(0,be.jsx)(K.ZP,{icon:(0,be.jsx)(v.Z,{}),type:"primary",ghost:!0,size:"small",onClick:Te,children:"\u7ACB\u5373\u5C1D\u8BD5"}),ht]})]})}),Jt=(0,We.useMemo)(function(){return(0,be.jsxs)(ut.D,{direction:"horizontal",align:"center",children:[(0,be.jsx)(ut.D,{children:(0,be.jsx)(D.Z,{title:"\u663E\u793A\u4E3A".concat(ke==="table"?"\u5BF9\u8C61":"\u8868\u683C"),placement:"bottom",icon:ke==="table"?(0,be.jsx)(y.Z,{}):(0,be.jsx)(T.Z,{}),onClick:function(){Ie(ke==="object"?"table":"object")}})}),(0,be.jsx)(ne.Z,{type:"vertical",dashed:!0,style:{margin:"0 4px"}}),(0,be.jsxs)(ut.D,{horizontal:!0,gap:4,children:[(0,be.jsx)(he.Z,{title:"\u5373\u5C06\u91CD\u7F6E\u5217\u914D\u7F6E\u4E0E\u8868\u683C\u6570\u636E\uFF0C\u5176\u4F59\u914D\u7F6E\uFF08\u5206\u9875\u5668\u3001\u5DE5\u5177\u680F\u7B49\uFF09\u4FDD\u6301\u4E0D\u53D8\u3002\u786E\u5B9A\u91CD\u7F6E\u5417\uFF1F",placement:"left",onConfirm:Kt,children:(0,be.jsx)(D.Z,{title:"\u91CD\u7F6E\u6570\u636E",placement:"bottom",icon:(0,be.jsx)(k.Z,{})})}),ot?(0,be.jsx)(be.Fragment,{children:ot}):null]})]})},[ke,Kt,ot]);return(0,be.jsx)("div",{className:tn(rt,Et.container),style:bt,children:$e?(0,be.jsx)(j.Z,{title:"\u6570\u636E\u9884\u89C8",expand:!pn,onExpandChange:function(Ln){Rt(!Ln)},extra:function(Ln){return Ln?Jt:null},children:(0,be.jsx)(ut.D,{children:ke==="object"?(0,be.jsxs)(be.Fragment,{children:[(0,be.jsx)(ut.D,{style:{overflow:"scroll",maxHeight:200,marginBottom:8},className:Et.json,children:(0,be.jsx)(at(),{name:"\u7B2C".concat(tt+1,"\u6761\u6570\u636E"),collapseStringsAfterLength:22,enableClipboard:!1,src:$e[tt],displayDataTypes:Ge,theme:St?"railscasts":void 0})}),(0,be.jsx)(ne.Z,{style:{margin:"12px 0"},dashed:!0}),(0,be.jsx)(ut.D,{align:"flex-end",children:(0,be.jsx)(B.Z,{current:tt+1,showTotal:function(Ln){return"\u5171 ".concat(Ln," \u6761\u6570\u636E")},onChange:function(Ln){ie(Ln-1)},total:$e.length,size:"small",pageSize:1})})]}):(0,be.jsx)(Ke.Z,{dataSource:$e,size:"small",bordered:!0,className:Et.table,pagination:!1,columns:Vt&&Vt.map(function(Vn){return(0,A.Z)((0,A.Z)({},Vn),{},{ellipsis:!0})})})})}):(0,be.jsx)("div",{className:Et.empty,children:(0,be.jsx)(xe.Z,{image:xe.Z.PRESENTED_IMAGE_SIMPLE,description:ce?ce(At):At})})})},Me=ye},3061:function(qt,et,W){"use strict";W.d(et,{_:function(){return Bn}});var A=W(50959),b=W(75157),v=W(185),y=W(45389),T=W(66441),k=W(10422),D=function(){var ve=function(we,g){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,x){p.__proto__=x}||function(p,x){for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&(p[S]=x[S])},ve(we,g)};return function(we,g){ve(we,g);function p(){this.constructor=we}we.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}(),j=function(){return j=Object.assign||function(ve){for(var we,g=1,p=arguments.length;g<p;g++){we=arguments[g];for(var x in we)Object.prototype.hasOwnProperty.call(we,x)&&(ve[x]=we[x])}return ve},j.apply(this,arguments)},K={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},ne={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},he={width:"20px",height:"20px",position:"absolute"},xe={top:j(j({},K),{top:"-5px"}),right:j(j({},ne),{left:void 0,right:"-5px"}),bottom:j(j({},K),{top:void 0,bottom:"-5px"}),left:j(j({},ne),{left:"-5px"}),topRight:j(j({},he),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:j(j({},he),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:j(j({},he),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:j(j({},he),{left:"-10px",top:"-10px",cursor:"nw-resize"})},B=function(ve){D(we,ve);function we(){var g=ve!==null&&ve.apply(this,arguments)||this;return g.onMouseDown=function(p){g.props.onResizeStart(p,g.props.direction)},g.onTouchStart=function(p){g.props.onResizeStart(p,g.props.direction)},g}return we.prototype.render=function(){return A.createElement("div",{className:this.props.className||"",style:j(j({position:"absolute",userSelect:"none"},xe[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},we}(A.PureComponent),Ke=function(){var ve=function(we,g){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,x){p.__proto__=x}||function(p,x){for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&(p[S]=x[S])},ve(we,g)};return function(we,g){ve(we,g);function p(){this.constructor=we}we.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}(),We=function(){return We=Object.assign||function(ve){for(var we,g=1,p=arguments.length;g<p;g++){we=arguments[g];for(var x in we)Object.prototype.hasOwnProperty.call(we,x)&&(ve[x]=we[x])}return ve},We.apply(this,arguments)},Bt={width:"auto",height:"auto"},at=function(ve,we,g){return Math.max(Math.min(ve,g),we)},ut=function(ve,we){return Math.round(ve/we)*we},H=function(ve,we){return new RegExp(ve,"i").test(we)},lt=function(ve){return Boolean(ve.touches&&ve.touches.length)},wt=function(ve){return Boolean((ve.clientX||ve.clientX===0)&&(ve.clientY||ve.clientY===0))},Nt=function(ve,we,g){g===void 0&&(g=0);var p=we.reduce(function(S,O,q){return Math.abs(O-ve)<Math.abs(we[S]-ve)?q:S},0),x=Math.abs(we[p]-ve);return g===0||x<g?we[p]:ve},Dt=function(ve){return ve=ve.toString(),ve==="auto"||ve.endsWith("px")||ve.endsWith("%")||ve.endsWith("vh")||ve.endsWith("vw")||ve.endsWith("vmax")||ve.endsWith("vmin")?ve:ve+"px"},Ue=function(ve,we,g,p){if(ve&&typeof ve=="string"){if(ve.endsWith("px"))return Number(ve.replace("px",""));if(ve.endsWith("%")){var x=Number(ve.replace("%",""))/100;return we*x}if(ve.endsWith("vw")){var x=Number(ve.replace("vw",""))/100;return g*x}if(ve.endsWith("vh")){var x=Number(ve.replace("vh",""))/100;return p*x}}return ve},Xe=function(ve,we,g,p,x,S,O){return p=Ue(p,ve.width,we,g),x=Ue(x,ve.height,we,g),S=Ue(S,ve.width,we,g),O=Ue(O,ve.height,we,g),{maxWidth:typeof p=="undefined"?void 0:Number(p),maxHeight:typeof x=="undefined"?void 0:Number(x),minWidth:typeof S=="undefined"?void 0:Number(S),minHeight:typeof O=="undefined"?void 0:Number(O)}},it=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Ft="__resizable_base__",X=function(ve){Ke(we,ve);function we(g){var p=ve.call(this,g)||this;return p.ratio=1,p.resizable=null,p.parentLeft=0,p.parentTop=0,p.resizableLeft=0,p.resizableRight=0,p.resizableTop=0,p.resizableBottom=0,p.targetLeft=0,p.targetTop=0,p.appendBase=function(){if(!p.resizable||!p.window)return null;var x=p.parentNode;if(!x)return null;var S=p.window.document.createElement("div");return S.style.width="100%",S.style.height="100%",S.style.position="absolute",S.style.transform="scale(0, 0)",S.style.left="0",S.style.flex="0 0 100%",S.classList?S.classList.add(Ft):S.className+=Ft,x.appendChild(S),S},p.removeBase=function(x){var S=p.parentNode;S&&S.removeChild(x)},p.ref=function(x){x&&(p.resizable=x)},p.state={isResizing:!1,width:typeof(p.propsSize&&p.propsSize.width)=="undefined"?"auto":p.propsSize&&p.propsSize.width,height:typeof(p.propsSize&&p.propsSize.height)=="undefined"?"auto":p.propsSize&&p.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},p.onResizeStart=p.onResizeStart.bind(p),p.onMouseMove=p.onMouseMove.bind(p),p.onMouseUp=p.onMouseUp.bind(p),p}return Object.defineProperty(we.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(we.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(we.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||Bt},enumerable:!1,configurable:!0}),Object.defineProperty(we.prototype,"size",{get:function(){var g=0,p=0;if(this.resizable&&this.window){var x=this.resizable.offsetWidth,S=this.resizable.offsetHeight,O=this.resizable.style.position;O!=="relative"&&(this.resizable.style.position="relative"),g=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:x,p=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:S,this.resizable.style.position=O}return{width:g,height:p}},enumerable:!1,configurable:!0}),Object.defineProperty(we.prototype,"sizeStyle",{get:function(){var g=this,p=this.props.size,x=function(q){if(typeof g.state[q]=="undefined"||g.state[q]==="auto")return"auto";if(g.propsSize&&g.propsSize[q]&&g.propsSize[q].toString().endsWith("%")){if(g.state[q].toString().endsWith("%"))return g.state[q].toString();var N=g.getParentSize(),V=Number(g.state[q].toString().replace("px","")),F=V/N[q]*100;return F+"%"}return Dt(g.state[q])},S=p&&typeof p.width!="undefined"&&!this.state.isResizing?Dt(p.width):x("width"),O=p&&typeof p.height!="undefined"&&!this.state.isResizing?Dt(p.height):x("height");return{width:S,height:O}},enumerable:!1,configurable:!0}),we.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var g=this.appendBase();if(!g)return{width:0,height:0};var p=!1,x=this.parentNode.style.flexWrap;x!=="wrap"&&(p=!0,this.parentNode.style.flexWrap="wrap"),g.style.position="relative",g.style.minWidth="100%",g.style.minHeight="100%";var S={width:g.offsetWidth,height:g.offsetHeight};return p&&(this.parentNode.style.flexWrap=x),this.removeBase(g),S},we.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},we.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},we.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var g=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:g.flexBasis!=="auto"?g.flexBasis:void 0})}},we.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},we.prototype.createSizeForCssProperty=function(g,p){var x=this.propsSize&&this.propsSize[p];return this.state[p]==="auto"&&this.state.original[p]===g&&(typeof x=="undefined"||x==="auto")?"auto":g},we.prototype.calculateNewMaxFromBoundary=function(g,p){var x=this.props.boundsByDirection,S=this.state.direction,O=x&&H("left",S),q=x&&H("top",S),N,V;if(this.props.bounds==="parent"){var F=this.parentNode;F&&(N=O?this.resizableRight-this.parentLeft:F.offsetWidth+(this.parentLeft-this.resizableLeft),V=q?this.resizableBottom-this.parentTop:F.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(N=O?this.resizableRight:this.window.innerWidth-this.resizableLeft,V=q?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(N=O?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),V=q?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return N&&Number.isFinite(N)&&(g=g&&g<N?g:N),V&&Number.isFinite(V)&&(p=p&&p<V?p:V),{maxWidth:g,maxHeight:p}},we.prototype.calculateNewSizeFromDirection=function(g,p){var x=this.props.scale||1,S=this.props.resizeRatio||1,O=this.state,q=O.direction,N=O.original,V=this.props,F=V.lockAspectRatio,Y=V.lockAspectRatioExtraHeight,Je=V.lockAspectRatioExtraWidth,pt=N.width,Pt=N.height,en=Y||0,dn=Je||0;return H("right",q)&&(pt=N.width+(g-N.x)*S/x,F&&(Pt=(pt-dn)/this.ratio+en)),H("left",q)&&(pt=N.width-(g-N.x)*S/x,F&&(Pt=(pt-dn)/this.ratio+en)),H("bottom",q)&&(Pt=N.height+(p-N.y)*S/x,F&&(pt=(Pt-en)*this.ratio+dn)),H("top",q)&&(Pt=N.height-(p-N.y)*S/x,F&&(pt=(Pt-en)*this.ratio+dn)),{newWidth:pt,newHeight:Pt}},we.prototype.calculateNewSizeFromAspectRatio=function(g,p,x,S){var O=this.props,q=O.lockAspectRatio,N=O.lockAspectRatioExtraHeight,V=O.lockAspectRatioExtraWidth,F=typeof S.width=="undefined"?10:S.width,Y=typeof x.width=="undefined"||x.width<0?g:x.width,Je=typeof S.height=="undefined"?10:S.height,pt=typeof x.height=="undefined"||x.height<0?p:x.height,Pt=N||0,en=V||0;if(q){var dn=(Je-Pt)*this.ratio+en,Mn=(pt-Pt)*this.ratio+en,Cn=(F-en)/this.ratio+Pt,Ut=(Y-en)/this.ratio+Pt,Rn=Math.max(F,dn),lr=Math.min(Y,Mn),Hn=Math.max(Je,Cn),Jn=Math.min(pt,Ut);g=at(g,Rn,lr),p=at(p,Hn,Jn)}else g=at(g,F,Y),p=at(p,Je,pt);return{newWidth:g,newHeight:p}},we.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var g=this.parentNode;if(g){var p=g.getBoundingClientRect();this.parentLeft=p.left,this.parentTop=p.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var x=this.props.bounds.getBoundingClientRect();this.targetLeft=x.left,this.targetTop=x.top}if(this.resizable){var S=this.resizable.getBoundingClientRect(),O=S.left,q=S.top,N=S.right,V=S.bottom;this.resizableLeft=O,this.resizableRight=N,this.resizableTop=q,this.resizableBottom=V}},we.prototype.onResizeStart=function(g,p){if(!(!this.resizable||!this.window)){var x=0,S=0;if(g.nativeEvent&&wt(g.nativeEvent)?(x=g.nativeEvent.clientX,S=g.nativeEvent.clientY):g.nativeEvent&&lt(g.nativeEvent)&&(x=g.nativeEvent.touches[0].clientX,S=g.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var O=this.props.onResizeStart(g,p,this.resizable);if(O===!1)return}this.props.size&&(typeof this.props.size.height!="undefined"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width!="undefined"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var q,N=this.window.getComputedStyle(this.resizable);if(N.flexBasis!=="auto"){var V=this.parentNode;if(V){var F=this.window.getComputedStyle(V).flexDirection;this.flexDir=F.startsWith("row")?"row":"column",q=N.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var Y={original:{x,y:S,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:We(We({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(g.target).cursor||"auto"}),direction:p,flexBasis:q};this.setState(Y)}},we.prototype.onMouseMove=function(g){var p=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&lt(g))try{g.preventDefault(),g.stopPropagation()}catch(Er){}var x=this.props,S=x.maxWidth,O=x.maxHeight,q=x.minWidth,N=x.minHeight,V=lt(g)?g.touches[0].clientX:g.clientX,F=lt(g)?g.touches[0].clientY:g.clientY,Y=this.state,Je=Y.direction,pt=Y.original,Pt=Y.width,en=Y.height,dn=this.getParentSize(),Mn=Xe(dn,this.window.innerWidth,this.window.innerHeight,S,O,q,N);S=Mn.maxWidth,O=Mn.maxHeight,q=Mn.minWidth,N=Mn.minHeight;var Cn=this.calculateNewSizeFromDirection(V,F),Ut=Cn.newHeight,Rn=Cn.newWidth,lr=this.calculateNewMaxFromBoundary(S,O);this.props.snap&&this.props.snap.x&&(Rn=Nt(Rn,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(Ut=Nt(Ut,this.props.snap.y,this.props.snapGap));var Hn=this.calculateNewSizeFromAspectRatio(Rn,Ut,{width:lr.maxWidth,height:lr.maxHeight},{width:q,height:N});if(Rn=Hn.newWidth,Ut=Hn.newHeight,this.props.grid){var Jn=ut(Rn,this.props.grid[0]),Nn=ut(Ut,this.props.grid[1]),Yn=this.props.snapGap||0;Rn=Yn===0||Math.abs(Jn-Rn)<=Yn?Jn:Rn,Ut=Yn===0||Math.abs(Nn-Ut)<=Yn?Nn:Ut}var br={width:Rn-pt.width,height:Ut-pt.height};if(Pt&&typeof Pt=="string"){if(Pt.endsWith("%")){var Qn=Rn/dn.width*100;Rn=Qn+"%"}else if(Pt.endsWith("vw")){var cr=Rn/this.window.innerWidth*100;Rn=cr+"vw"}else if(Pt.endsWith("vh")){var vr=Rn/this.window.innerHeight*100;Rn=vr+"vh"}}if(en&&typeof en=="string"){if(en.endsWith("%")){var Qn=Ut/dn.height*100;Ut=Qn+"%"}else if(en.endsWith("vw")){var cr=Ut/this.window.innerWidth*100;Ut=cr+"vw"}else if(en.endsWith("vh")){var vr=Ut/this.window.innerHeight*100;Ut=vr+"vh"}}var mr={width:this.createSizeForCssProperty(Rn,"width"),height:this.createSizeForCssProperty(Ut,"height")};this.flexDir==="row"?mr.flexBasis=mr.width:this.flexDir==="column"&&(mr.flexBasis=mr.height),(0,k.flushSync)(function(){p.setState(mr)}),this.props.onResize&&this.props.onResize(g,Je,this.resizable,br)}},we.prototype.onMouseUp=function(g){var p=this.state,x=p.isResizing,S=p.direction,O=p.original;if(!(!x||!this.resizable)){var q={width:this.size.width-O.width,height:this.size.height-O.height};this.props.onResizeStop&&this.props.onResizeStop(g,S,this.resizable,q),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:We(We({},this.state.backgroundStyle),{cursor:"auto"})})}},we.prototype.updateSize=function(g){this.setState({width:g.width,height:g.height})},we.prototype.renderResizer=function(){var g=this,p=this.props,x=p.enable,S=p.handleStyles,O=p.handleClasses,q=p.handleWrapperStyle,N=p.handleWrapperClass,V=p.handleComponent;if(!x)return null;var F=Object.keys(x).map(function(Y){return x[Y]!==!1?A.createElement(B,{key:Y,direction:Y,onResizeStart:g.onResizeStart,replaceStyles:S&&S[Y],className:O&&O[Y]},V&&V[Y]?V[Y]:null):null});return A.createElement("div",{className:N,style:q},F)},we.prototype.render=function(){var g=this,p=Object.keys(this.props).reduce(function(O,q){return it.indexOf(q)!==-1||(O[q]=g.props[q]),O},{}),x=We(We(We({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(x.flexBasis=this.state.flexBasis);var S=this.props.as||"div";return A.createElement(S,We({ref:this.ref,style:x,className:this.props.className},p),this.state.isResizing&&A.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},we.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},we}(A.PureComponent),be=W(96522),ye=W(93251),Me=W(76663),_e=W(57018),Re=W(54818),$e=W(24886),le=W(58583),He=W(84772),rt,ce,Te,Ve,Ge,ot,ht,bt,Vt,Kt,Tt,Mt,Ht,St=(0,He.kc)(function(ve,we){var g=ve.token,p=(0,He.iv)(rt||(rt=(0,le.Z)([`
    position: relative;
    &::before {
      position: absolute;
      z-index: 50;
      transition: all 0.3s ease-in-out;
      content: '';
    }

    &:hover,
    &:active {
      &::before {
        background: `,`;
      }
    }
  `])),g.colorPrimary),x=(0,He.iv)(ce||(ce=(0,le.Z)([`
    position: absolute;
    opacity: 0;
    z-index: 1001;
    transition: opacity 0.1s;

    border-radius: 4px;
    cursor: pointer;
    background: `,`;
    border-width: 1px;
    border-style: solid;
    color: `,`;
    border-color: `,`;

    &:hover {
      color: `,`;
      background: `,`;
    }
  `])),g.colorBgElevated,g.colorTextTertiary,g.colorBorder,g.colorTextSecondary,g.colorFillQuaternary),S=17,O=40,q=16;return{container:(0,He.cx)(we,(0,He.iv)(Te||(Te=(0,le.Z)([`
        flex-shrink: 0;
        position: relative;
        border: 0 solid `,`;

        &:hover {
          .`,`-toggle {
            opacity: 1;
          }
        }
      `])),g.colorSplit,we)),toggleLeft:(0,He.cx)("".concat(we,"-toggle"),"".concat(we,"-toggle-left"),x,(0,He.iv)(Ve||(Ve=(0,le.Z)([`
        width: `,`px;
        height: `,`px;
        left: -`,`px;
        top: 50%;
        margin-top: -20px;
        border-radius: 4px 0 0 4px;
        border-right-width: 0;
      `])),q,O,S)),toggleRight:(0,He.cx)("".concat(we,"-toggle"),"".concat(we,"-toggle-right"),x,(0,He.iv)(Ge||(Ge=(0,le.Z)([`
        width: `,`px;
        height: `,`px;
        right: -`,`px;
        top: 50%;
        margin-top: -20px;
        border-radius: 0 4px 4px 0;
        border-left-width: 0;
      `])),q,O,S)),toggleTop:(0,He.cx)("".concat(we,"-toggle"),"".concat(we,"-toggle-top"),x,(0,He.iv)(ot||(ot=(0,le.Z)([`
        height: `,`px;
        width: `,`px;
        top: -`,`px;
        left: 50%;
        margin-left: -20px;
        border-radius: 4px 4px 0 0;
        border-bottom-width: 0;
      `])),q,O,S)),toggleBottom:(0,He.cx)("".concat(we,"-toggle"),"".concat(we,"-toggle-bottom"),x,(0,He.iv)(ht||(ht=(0,le.Z)([`
        height: 16px;
        width: `,`px;
        bottom: -`,`px;
        left: 50%;
        margin-left: -20px;
        border-radius: 0 0 4px 4px;
        border-top-width: 0;
      `])),O,S)),fixed:(0,He.cx)("".concat(we,"-fixed"),(0,He.iv)(bt||(bt=(0,le.Z)([`
        background: `,`;
        overflow: hidden;
      `])),g.colorBgContainer)),float:(0,He.cx)("".concat(we,"-float"),(0,He.iv)(Vt||(Vt=(0,le.Z)([`
        overflow: hidden;
        border-radius: 8px;
        background: `,`;
        box-shadow: `,`;
        z-index: 2000;
      `])),g.colorBgElevated,g.boxShadowSecondary)),leftHandle:(0,He.cx)((0,He.iv)(Kt||(Kt=(0,le.Z)([`
        `,`;

        &::before {
          left: 50%;
          width: 2px;
          height: 100%;
        }
      `])),p),"".concat(we,"-left-handle")),rightHandle:(0,He.cx)((0,He.iv)(Tt||(Tt=(0,le.Z)([`
        `,`;
        &::before {
          right: 50%;
          width: 2px;
          height: 100%;
        }
      `])),p),"".concat(we,"-right-handle")),topHandle:(0,He.cx)("".concat(we,"-top-handle"),(0,He.iv)(Mt||(Mt=(0,le.Z)([`
        `,`;

        &::before {
          top: 50%;
          height: 2px;
          width: 100%;
        }
      `])),p)),bottomHandle:(0,He.cx)("".concat(we,"-bottom-handle"),(0,He.iv)(Ht||(Ht=(0,le.Z)([`
        `,`;

        &::before {
          bottom: 50%;
          height: 2px;
          width: 100%;
        }
      `])),p))}}),Qe=W(11527),Et=150,tn=400,un=function(we){switch(we){case"bottom":return"top";case"top":return"bottom";case"right":return"left";case"left":return"right"}},nn=(0,A.memo)(function(ve){var we=ve.children,g=ve.placement,p=g===void 0?"right":g,x=ve.resize,S=ve.style,O=ve.size,q=ve.defaultSize,N=ve.minWidth,V=ve.minHeight,F=ve.prefixCls,Y=ve.onSizeChange,Je=ve.onSizeDragging,pt=ve.expandable,Pt=pt===void 0?!0:pt,en=ve.isExpand,dn=ve.onExpandChange,Mn=ve.className,Cn=(0,b.k2)("draggable-panel",F),Ut=p==="top"||p==="bottom",Rn=St(Cn),lr=Rn.styles,Hn=Rn.cx,Jn=(0,ye.Z)(!0,{value:en,onChange:dn}),Nn=(0,T.Z)(Jn,2),Yn=Nn[0],br=Nn[1],Qn=x!==!1&&Yn,cr=(0,A.useMemo)(function(){return Qn?(0,y.Z)({},un(p),lr["".concat(un(p),"Handle")]):{}},[Qn,p]),vr=(0,v.Z)((0,y.Z)({top:!1,bottom:!1,right:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},un(p),!0),x),mr=(0,A.useMemo)(function(){return Ut?(0,v.Z)({width:"100%",height:Et},q):(0,v.Z)({width:tn,height:"100%"},q)},[Ut]),Er=Yn?{minWidth:typeof N=="number"?Math.max(N,0):280,minHeight:typeof V=="number"?Math.max(V,0):void 0,defaultSize:mr,size:O,style:S}:{minWidth:0,minHeight:0,size:{width:0,height:0}},_i=(0,A.useMemo)(function(){switch(p){case"top":return{className:"Bottom",Arrow:Me.Z};case"bottom":return{className:"Top",Arrow:_e.Z};case"right":return{className:"Left",Arrow:Re.Z};case"left":return{className:"Right",Arrow:$e.Z}}},[lr,p]),Dr=_i.Arrow,ti=_i.className;return(0,Qe.jsxs)("div",{className:Hn(lr.container,Mn),style:(0,y.Z)({},"border".concat(ti,"Width"),1),children:[Pt&&(0,Qe.jsx)(be.Z,{className:Hn(lr["toggle".concat(ti)]),onClick:function(){br(!Yn)},style:{opacity:Yn?void 0:1},children:(0,Qe.jsx)(Dr,{rotate:Yn?180:0})}),(0,Qe.jsx)(X,(0,v.Z)((0,v.Z)({},Er),{},{className:lr.fixed,enable:Qn?vr:void 0,handleClasses:cr,onResizeStop:function(Vi,Ir,vi,to){Y==null||Y(to,{width:vi.style.width,height:vi.style.height})},onResize:function(Vi,Ir,vi,to){Je==null||Je(to,{width:vi.style.width,height:vi.style.height})},children:we}))]})}),pn=W(74901),Rt=W.n(pn),jt=function(){var ve=function(we,g){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,x){p.__proto__=x}||function(p,x){for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&(p[S]=x[S])},ve(we,g)};return function(we,g){ve(we,g);function p(){this.constructor=we}we.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}(),hn=function(){return hn=Object.assign||function(ve){for(var we,g=1,p=arguments.length;g<p;g++){we=arguments[g];for(var x in we)Object.prototype.hasOwnProperty.call(we,x)&&(ve[x]=we[x])}return ve},hn.apply(this,arguments)},tt={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},ie=function(ve){jt(we,ve);function we(){var g=ve!==null&&ve.apply(this,arguments)||this;return g.onMouseDown=function(p){g.props.onResizeStart(p,g.props.direction)},g.onTouchStart=function(p){g.props.onResizeStart(p,g.props.direction)},g}return we.prototype.render=function(){return A.createElement("div",{className:this.props.className||"",style:hn(hn({position:"absolute",userSelect:"none"},tt[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},we}(A.PureComponent),fe=W(69978),me=W.n(fe),ke=function(){var ve=function(we,g){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,x){p.__proto__=x}||function(p,x){for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&(p[S]=x[S])},ve(we,g)};return function(we,g){ve(we,g);function p(){this.constructor=we}we.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}(),Ie=function(){return Ie=Object.assign||function(ve){for(var we,g=1,p=arguments.length;g<p;g++){we=arguments[g];for(var x in we)Object.prototype.hasOwnProperty.call(we,x)&&(ve[x]=we[x])}return ve},Ie.apply(this,arguments)},At={width:"auto",height:"auto"},Jt=me()(function(ve,we,g){return Math.max(Math.min(ve,g),we)}),Vn=me()(function(ve,we){return Math.round(ve/we)*we}),Ln=me()(function(ve,we){return new RegExp(ve,"i").test(we)}),ue=function(ve){return Boolean(ve.touches&&ve.touches.length)},je=function(ve){return Boolean((ve.clientX||ve.clientX===0)&&(ve.clientY||ve.clientY===0))},Ye=me()(function(ve,we,g){g===void 0&&(g=0);var p=we.reduce(function(S,O,q){return Math.abs(O-ve)<Math.abs(we[S]-ve)?q:S},0),x=Math.abs(we[p]-ve);return g===0||x<g?we[p]:ve}),qe=me()(function(ve,we){return ve.substr(ve.length-we.length,we.length)===we}),kt=me()(function(ve){return ve=ve.toString(),ve==="auto"||qe(ve,"px")||qe(ve,"%")||qe(ve,"vh")||qe(ve,"vw")||qe(ve,"vmax")||qe(ve,"vmin")?ve:ve+"px"}),vn=function(ve,we,g,p){if(ve&&typeof ve=="string"){if(qe(ve,"px"))return Number(ve.replace("px",""));if(qe(ve,"%")){var x=Number(ve.replace("%",""))/100;return we*x}if(qe(ve,"vw")){var x=Number(ve.replace("vw",""))/100;return g*x}if(qe(ve,"vh")){var x=Number(ve.replace("vh",""))/100;return p*x}}return ve},sn=me()(function(ve,we,g,p,x,S,O){return p=vn(p,ve.width,we,g),x=vn(x,ve.height,we,g),S=vn(S,ve.width,we,g),O=vn(O,ve.height,we,g),{maxWidth:typeof p=="undefined"?void 0:Number(p),maxHeight:typeof x=="undefined"?void 0:Number(x),minWidth:typeof S=="undefined"?void 0:Number(S),minHeight:typeof O=="undefined"?void 0:Number(O)}}),It=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],de="__resizable_base__",Oe=function(ve){ke(we,ve);function we(g){var p=ve.call(this,g)||this;return p.ratio=1,p.resizable=null,p.parentLeft=0,p.parentTop=0,p.resizableLeft=0,p.resizableRight=0,p.resizableTop=0,p.resizableBottom=0,p.targetLeft=0,p.targetTop=0,p.appendBase=function(){if(!p.resizable||!p.window)return null;var x=p.parentNode;if(!x)return null;var S=p.window.document.createElement("div");return S.style.width="100%",S.style.height="100%",S.style.position="absolute",S.style.transform="scale(0, 0)",S.style.left="0",S.style.flex="0 0 100%",S.classList?S.classList.add(de):S.className+=de,x.appendChild(S),S},p.removeBase=function(x){var S=p.parentNode;S&&S.removeChild(x)},p.ref=function(x){x&&(p.resizable=x)},p.state={isResizing:!1,width:typeof(p.propsSize&&p.propsSize.width)=="undefined"?"auto":p.propsSize&&p.propsSize.width,height:typeof(p.propsSize&&p.propsSize.height)=="undefined"?"auto":p.propsSize&&p.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},p.onResizeStart=p.onResizeStart.bind(p),p.onMouseMove=p.onMouseMove.bind(p),p.onMouseUp=p.onMouseUp.bind(p),p}return Object.defineProperty(we.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(we.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(we.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||At},enumerable:!1,configurable:!0}),Object.defineProperty(we.prototype,"size",{get:function(){var g=0,p=0;if(this.resizable&&this.window){var x=this.resizable.offsetWidth,S=this.resizable.offsetHeight,O=this.resizable.style.position;O!=="relative"&&(this.resizable.style.position="relative"),g=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:x,p=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:S,this.resizable.style.position=O}return{width:g,height:p}},enumerable:!1,configurable:!0}),Object.defineProperty(we.prototype,"sizeStyle",{get:function(){var g=this,p=this.props.size,x=function(q){if(typeof g.state[q]=="undefined"||g.state[q]==="auto")return"auto";if(g.propsSize&&g.propsSize[q]&&qe(g.propsSize[q].toString(),"%")){if(qe(g.state[q].toString(),"%"))return g.state[q].toString();var N=g.getParentSize(),V=Number(g.state[q].toString().replace("px","")),F=V/N[q]*100;return F+"%"}return kt(g.state[q])},S=p&&typeof p.width!="undefined"&&!this.state.isResizing?kt(p.width):x("width"),O=p&&typeof p.height!="undefined"&&!this.state.isResizing?kt(p.height):x("height");return{width:S,height:O}},enumerable:!1,configurable:!0}),we.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var g=this.appendBase();if(!g)return{width:0,height:0};var p=!1,x=this.parentNode.style.flexWrap;x!=="wrap"&&(p=!0,this.parentNode.style.flexWrap="wrap"),g.style.position="relative",g.style.minWidth="100%",g.style.minHeight="100%";var S={width:g.offsetWidth,height:g.offsetHeight};return p&&(this.parentNode.style.flexWrap=x),this.removeBase(g),S},we.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},we.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},we.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var g=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:g.flexBasis!=="auto"?g.flexBasis:void 0})}},we.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},we.prototype.createSizeForCssProperty=function(g,p){var x=this.propsSize&&this.propsSize[p];return this.state[p]==="auto"&&this.state.original[p]===g&&(typeof x=="undefined"||x==="auto")?"auto":g},we.prototype.calculateNewMaxFromBoundary=function(g,p){var x=this.props.boundsByDirection,S=this.state.direction,O=x&&Ln("left",S),q=x&&Ln("top",S),N,V;if(this.props.bounds==="parent"){var F=this.parentNode;F&&(N=O?this.resizableRight-this.parentLeft:F.offsetWidth+(this.parentLeft-this.resizableLeft),V=q?this.resizableBottom-this.parentTop:F.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(N=O?this.resizableRight:this.window.innerWidth-this.resizableLeft,V=q?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(N=O?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),V=q?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return N&&Number.isFinite(N)&&(g=g&&g<N?g:N),V&&Number.isFinite(V)&&(p=p&&p<V?p:V),{maxWidth:g,maxHeight:p}},we.prototype.calculateNewSizeFromDirection=function(g,p){var x=this.props.scale||1,S=this.props.resizeRatio||1,O=this.state,q=O.direction,N=O.original,V=this.props,F=V.lockAspectRatio,Y=V.lockAspectRatioExtraHeight,Je=V.lockAspectRatioExtraWidth,pt=N.width,Pt=N.height,en=Y||0,dn=Je||0;return Ln("right",q)&&(pt=N.width+(g-N.x)*S/x,F&&(Pt=(pt-dn)/this.ratio+en)),Ln("left",q)&&(pt=N.width-(g-N.x)*S/x,F&&(Pt=(pt-dn)/this.ratio+en)),Ln("bottom",q)&&(Pt=N.height+(p-N.y)*S/x,F&&(pt=(Pt-en)*this.ratio+dn)),Ln("top",q)&&(Pt=N.height-(p-N.y)*S/x,F&&(pt=(Pt-en)*this.ratio+dn)),{newWidth:pt,newHeight:Pt}},we.prototype.calculateNewSizeFromAspectRatio=function(g,p,x,S){var O=this.props,q=O.lockAspectRatio,N=O.lockAspectRatioExtraHeight,V=O.lockAspectRatioExtraWidth,F=typeof S.width=="undefined"?10:S.width,Y=typeof x.width=="undefined"||x.width<0?g:x.width,Je=typeof S.height=="undefined"?10:S.height,pt=typeof x.height=="undefined"||x.height<0?p:x.height,Pt=N||0,en=V||0;if(q){var dn=(Je-Pt)*this.ratio+en,Mn=(pt-Pt)*this.ratio+en,Cn=(F-en)/this.ratio+Pt,Ut=(Y-en)/this.ratio+Pt,Rn=Math.max(F,dn),lr=Math.min(Y,Mn),Hn=Math.max(Je,Cn),Jn=Math.min(pt,Ut);g=Jt(g,Rn,lr),p=Jt(p,Hn,Jn)}else g=Jt(g,F,Y),p=Jt(p,Je,pt);return{newWidth:g,newHeight:p}},we.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var g=this.parentNode;if(g){var p=g.getBoundingClientRect();this.parentLeft=p.left,this.parentTop=p.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var x=this.props.bounds.getBoundingClientRect();this.targetLeft=x.left,this.targetTop=x.top}if(this.resizable){var S=this.resizable.getBoundingClientRect(),O=S.left,q=S.top,N=S.right,V=S.bottom;this.resizableLeft=O,this.resizableRight=N,this.resizableTop=q,this.resizableBottom=V}},we.prototype.onResizeStart=function(g,p){if(!(!this.resizable||!this.window)){var x=0,S=0;if(g.nativeEvent&&je(g.nativeEvent)?(x=g.nativeEvent.clientX,S=g.nativeEvent.clientY):g.nativeEvent&&ue(g.nativeEvent)&&(x=g.nativeEvent.touches[0].clientX,S=g.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var O=this.props.onResizeStart(g,p,this.resizable);if(O===!1)return}this.props.size&&(typeof this.props.size.height!="undefined"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width!="undefined"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var q,N=this.window.getComputedStyle(this.resizable);if(N.flexBasis!=="auto"){var V=this.parentNode;if(V){var F=this.window.getComputedStyle(V).flexDirection;this.flexDir=F.startsWith("row")?"row":"column",q=N.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var Y={original:{x,y:S,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Ie(Ie({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(g.target).cursor||"auto"}),direction:p,flexBasis:q};this.setState(Y)}},we.prototype.onMouseMove=function(g){if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&ue(g))try{g.preventDefault(),g.stopPropagation()}catch(mr){}var p=this.props,x=p.maxWidth,S=p.maxHeight,O=p.minWidth,q=p.minHeight,N=ue(g)?g.touches[0].clientX:g.clientX,V=ue(g)?g.touches[0].clientY:g.clientY,F=this.state,Y=F.direction,Je=F.original,pt=F.width,Pt=F.height,en=this.getParentSize(),dn=sn(en,this.window.innerWidth,this.window.innerHeight,x,S,O,q);x=dn.maxWidth,S=dn.maxHeight,O=dn.minWidth,q=dn.minHeight;var Mn=this.calculateNewSizeFromDirection(N,V),Cn=Mn.newHeight,Ut=Mn.newWidth,Rn=this.calculateNewMaxFromBoundary(x,S);this.props.snap&&this.props.snap.x&&(Ut=Ye(Ut,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(Cn=Ye(Cn,this.props.snap.y,this.props.snapGap));var lr=this.calculateNewSizeFromAspectRatio(Ut,Cn,{width:Rn.maxWidth,height:Rn.maxHeight},{width:O,height:q});if(Ut=lr.newWidth,Cn=lr.newHeight,this.props.grid){var Hn=Vn(Ut,this.props.grid[0]),Jn=Vn(Cn,this.props.grid[1]),Nn=this.props.snapGap||0;Ut=Nn===0||Math.abs(Hn-Ut)<=Nn?Hn:Ut,Cn=Nn===0||Math.abs(Jn-Cn)<=Nn?Jn:Cn}var Yn={width:Ut-Je.width,height:Cn-Je.height};if(pt&&typeof pt=="string"){if(qe(pt,"%")){var br=Ut/en.width*100;Ut=br+"%"}else if(qe(pt,"vw")){var Qn=Ut/this.window.innerWidth*100;Ut=Qn+"vw"}else if(qe(pt,"vh")){var cr=Ut/this.window.innerHeight*100;Ut=cr+"vh"}}if(Pt&&typeof Pt=="string"){if(qe(Pt,"%")){var br=Cn/en.height*100;Cn=br+"%"}else if(qe(Pt,"vw")){var Qn=Cn/this.window.innerWidth*100;Cn=Qn+"vw"}else if(qe(Pt,"vh")){var cr=Cn/this.window.innerHeight*100;Cn=cr+"vh"}}var vr={width:this.createSizeForCssProperty(Ut,"width"),height:this.createSizeForCssProperty(Cn,"height")};this.flexDir==="row"?vr.flexBasis=vr.width:this.flexDir==="column"&&(vr.flexBasis=vr.height),this.setState(vr),this.props.onResize&&this.props.onResize(g,Y,this.resizable,Yn)}},we.prototype.onMouseUp=function(g){var p=this.state,x=p.isResizing,S=p.direction,O=p.original;if(!(!x||!this.resizable)){var q={width:this.size.width-O.width,height:this.size.height-O.height};this.props.onResizeStop&&this.props.onResizeStop(g,S,this.resizable,q),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Ie(Ie({},this.state.backgroundStyle),{cursor:"auto"})})}},we.prototype.updateSize=function(g){this.setState({width:g.width,height:g.height})},we.prototype.renderResizer=function(){var g=this,p=this.props,x=p.enable,S=p.handleStyles,O=p.handleClasses,q=p.handleWrapperStyle,N=p.handleWrapperClass,V=p.handleComponent;if(!x)return null;var F=Object.keys(x).map(function(Y){return x[Y]!==!1?A.createElement(ie,{key:Y,direction:Y,onResizeStart:g.onResizeStart,replaceStyles:S&&S[Y],className:O&&O[Y]},V&&V[Y]?V[Y]:null):null});return A.createElement("div",{className:N,style:q},F)},we.prototype.render=function(){var g=this,p=Object.keys(this.props).reduce(function(O,q){return It.indexOf(q)!==-1||(O[q]=g.props[q]),O},{}),x=Ie(Ie(Ie({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(x.flexBasis=this.state.flexBasis);var S=this.props.as||"div";return A.createElement(S,Ie({ref:this.ref,style:x,className:this.props.className},p),this.state.isResizing&&A.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},we.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},we}(A.PureComponent);var st=function(ve,we){return st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var x in p)p.hasOwnProperty(x)&&(g[x]=p[x])},st(ve,we)};function _t(ve,we){st(ve,we);function g(){this.constructor=ve}ve.prototype=we===null?Object.create(we):(g.prototype=we.prototype,new g)}var Xt=function(){return Xt=Object.assign||function(we){for(var g,p=1,x=arguments.length;p<x;p++){g=arguments[p];for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(we[S]=g[S])}return we},Xt.apply(this,arguments)};function bn(ve,we){var g={};for(var p in ve)Object.prototype.hasOwnProperty.call(ve,p)&&we.indexOf(p)<0&&(g[p]=ve[p]);if(ve!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,p=Object.getOwnPropertySymbols(ve);x<p.length;x++)we.indexOf(p[x])<0&&Object.prototype.propertyIsEnumerable.call(ve,p[x])&&(g[p[x]]=ve[p[x]]);return g}var $n=Rt(),Ce={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},Ze=function(ve){return{bottom:ve,bottomLeft:ve,bottomRight:ve,left:ve,right:ve,top:ve,topLeft:ve,topRight:ve}},xt=function(ve){_t(we,ve);function we(g){var p=ve.call(this,g)||this;return p.resizingPosition={x:0,y:0},p.offsetFromParent={left:0,top:0},p.resizableElement={current:null},p.originalPosition={x:0,y:0},p.refDraggable=function(x){x&&(p.draggable=x)},p.refResizable=function(x){x&&(p.resizable=x,p.resizableElement.current=x.resizable)},p.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:g.maxWidth,maxHeight:g.maxHeight},p.onResizeStart=p.onResizeStart.bind(p),p.onResize=p.onResize.bind(p),p.onResizeStop=p.onResizeStop.bind(p),p.onDragStart=p.onDragStart.bind(p),p.onDrag=p.onDrag.bind(p),p.onDragStop=p.onDragStop.bind(p),p.getMaxSizesFromProps=p.getMaxSizesFromProps.bind(p),p}return we.prototype.componentDidMount=function(){this.updateOffsetFromParent();var g=this.offsetFromParent,p=g.left,x=g.top,S=this.getDraggablePosition(),O=S.x,q=S.y;this.draggable.setState({x:O-p,y:q-x}),this.forceUpdate()},we.prototype.getDraggablePosition=function(){var g=this.draggable.state,p=g.x,x=g.y;return{x:p,y:x}},we.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},we.prototype.getParentSize=function(){return this.resizable.getParentSize()},we.prototype.getMaxSizesFromProps=function(){var g=typeof this.props.maxWidth=="undefined"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,p=typeof this.props.maxHeight=="undefined"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:g,maxHeight:p}},we.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},we.prototype.getOffsetHeight=function(g){var p=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/p;case"body":return document.body.offsetHeight/p;default:return g.offsetHeight}},we.prototype.getOffsetWidth=function(g){var p=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/p;case"body":return document.body.offsetWidth/p;default:return g.offsetWidth}},we.prototype.onDragStart=function(g,p){this.props.onDragStart&&this.props.onDragStart(g,p);var x=this.getDraggablePosition();if(this.originalPosition=x,!!this.props.bounds){var S=this.getParent(),O=this.props.scale,q;if(this.props.bounds==="parent")q=S;else if(this.props.bounds==="body"){var N=S.getBoundingClientRect(),V=N.left,F=N.top,Y=document.body.getBoundingClientRect(),Je=-(V-S.offsetLeft*O-Y.left)/O,pt=-(F-S.offsetTop*O-Y.top)/O,Pt=(document.body.offsetWidth-this.resizable.size.width*O)/O+Je,en=(document.body.offsetHeight-this.resizable.size.height*O)/O+pt;return this.setState({bounds:{top:pt,right:Pt,bottom:en,left:Je}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var dn=S.getBoundingClientRect(),Mn=dn.left,Cn=dn.top,Ut=-(Mn-S.offsetLeft*O)/O,Rn=-(Cn-S.offsetTop*O)/O,Pt=(window.innerWidth-this.resizable.size.width*O)/O+Ut,en=(window.innerHeight-this.resizable.size.height*O)/O+Rn;return this.setState({bounds:{top:Rn,right:Pt,bottom:en,left:Ut}})}else typeof this.props.bounds=="string"?q=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(q=this.props.bounds);if(!(!(q instanceof HTMLElement)||!(S instanceof HTMLElement))){var lr=q.getBoundingClientRect(),Hn=lr.left,Jn=lr.top,Nn=S.getBoundingClientRect(),Yn=Nn.left,br=Nn.top,Qn=(Hn-Yn)/O,cr=Jn-br;if(this.resizable){this.updateOffsetFromParent();var vr=this.offsetFromParent;this.setState({bounds:{top:cr-vr.top,right:Qn+(q.offsetWidth-this.resizable.size.width)-vr.left/O,bottom:cr+(q.offsetHeight-this.resizable.size.height)-vr.top,left:Qn-vr.left/O}})}}}},we.prototype.onDrag=function(g,p){if(this.props.onDrag){var x=this.offsetFromParent,S=x.left,O=x.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(g,Xt(Xt({},p),{x:p.x-S,y:p.y-O}));if(this.props.dragAxis==="x")return this.props.onDrag(g,Xt(Xt({},p),{x:p.x+S,y:this.originalPosition.y+O,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(g,Xt(Xt({},p),{x:this.originalPosition.x+S,y:p.y+O,deltaX:0}))}},we.prototype.onDragStop=function(g,p){if(this.props.onDragStop){var x=this.offsetFromParent,S=x.left,O=x.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(g,Xt(Xt({},p),{x:p.x+S,y:p.y+O}));if(this.props.dragAxis==="x")return this.props.onDragStop(g,Xt(Xt({},p),{x:p.x+S,y:this.originalPosition.y+O,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(g,Xt(Xt({},p),{x:this.originalPosition.x+S,y:p.y+O,deltaX:0}))}},we.prototype.onResizeStart=function(g,p,x){g.stopPropagation(),this.setState({resizing:!0});var S=this.props.scale,O=this.offsetFromParent,q=this.getDraggablePosition();if(this.resizingPosition={x:q.x+O.left,y:q.y+O.top},this.originalPosition=q,this.props.bounds){var N=this.getParent(),V=void 0;this.props.bounds==="parent"?V=N:this.props.bounds==="body"?V=document.body:this.props.bounds==="window"?V=window:typeof this.props.bounds=="string"?V=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(V=this.props.bounds);var F=this.getSelfElement();if(F instanceof Element&&(V instanceof HTMLElement||V===window)&&N instanceof HTMLElement){var Y=this.getMaxSizesFromProps(),Je=Y.maxWidth,pt=Y.maxHeight,Pt=this.getParentSize();if(Je&&typeof Je=="string")if(Je.endsWith("%")){var en=Number(Je.replace("%",""))/100;Je=Pt.width*en}else Je.endsWith("px")&&(Je=Number(Je.replace("px","")));if(pt&&typeof pt=="string")if(pt.endsWith("%")){var en=Number(pt.replace("%",""))/100;pt=Pt.width*en}else pt.endsWith("px")&&(pt=Number(pt.replace("px","")));var dn=F.getBoundingClientRect(),Mn=dn.left,Cn=dn.top,Ut=this.props.bounds==="window"?{left:0,top:0}:V.getBoundingClientRect(),Rn=Ut.left,lr=Ut.top,Hn=this.getOffsetWidth(V),Jn=this.getOffsetHeight(V),Nn=p.toLowerCase().endsWith("left"),Yn=p.toLowerCase().endsWith("right"),br=p.startsWith("top"),Qn=p.startsWith("bottom");if((Nn||br)&&this.resizable){var cr=(Mn-Rn)/S+this.resizable.size.width;this.setState({maxWidth:cr>Number(Je)?Je:cr})}if(Yn||this.props.lockAspectRatio&&!Nn&&!br){var cr=Hn+(Rn-Mn)/S;this.setState({maxWidth:cr>Number(Je)?Je:cr})}if((br||Nn)&&this.resizable){var cr=(Cn-lr)/S+this.resizable.size.height;this.setState({maxHeight:cr>Number(pt)?pt:cr})}if(Qn||this.props.lockAspectRatio&&!br&&!Nn){var cr=Jn+(lr-Cn)/S;this.setState({maxHeight:cr>Number(pt)?pt:cr})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(g,p,x)},we.prototype.onResize=function(g,p,x,S){var O={x:this.originalPosition.x,y:this.originalPosition.y},q=-S.width,N=-S.height,V=["top","left","topLeft","bottomLeft","topRight"];V.indexOf(p)!==-1&&(p==="bottomLeft"?O.x+=q:(p==="topRight"||(O.x+=q),O.y+=N)),(O.x!==this.draggable.state.x||O.y!==this.draggable.state.y)&&this.draggable.setState(O),this.updateOffsetFromParent();var F=this.offsetFromParent,Y=this.getDraggablePosition().x+F.left,Je=this.getDraggablePosition().y+F.top;this.resizingPosition={x:Y,y:Je},this.props.onResize&&this.props.onResize(g,p,x,S,{x:Y,y:Je})},we.prototype.onResizeStop=function(g,p,x,S){this.setState({resizing:!1});var O=this.getMaxSizesFromProps(),q=O.maxWidth,N=O.maxHeight;this.setState({maxWidth:q,maxHeight:N}),this.props.onResizeStop&&this.props.onResizeStop(g,p,x,S,this.resizingPosition)},we.prototype.updateSize=function(g){this.resizable&&this.resizable.updateSize({width:g.width,height:g.height})},we.prototype.updatePosition=function(g){this.draggable.setState(g)},we.prototype.updateOffsetFromParent=function(){var g=this.props.scale,p=this.getParent(),x=this.getSelfElement();if(!p||x===null)return{top:0,left:0};var S=p.getBoundingClientRect(),O=S.left,q=S.top,N=x.getBoundingClientRect(),V=this.getDraggablePosition(),F=p.scrollLeft,Y=p.scrollTop;this.offsetFromParent={left:N.left-O+F-V.x*g,top:N.top-q+Y-V.y*g}},we.prototype.render=function(){var g=this.props,p=g.disableDragging,x=g.style,S=g.dragHandleClassName,O=g.position,q=g.onMouseDown,N=g.onMouseUp,V=g.dragAxis,F=g.dragGrid,Y=g.bounds,Je=g.enableUserSelectHack,pt=g.cancel,Pt=g.children,en=g.onResizeStart,dn=g.onResize,Mn=g.onResizeStop,Cn=g.onDragStart,Ut=g.onDrag,Rn=g.onDragStop,lr=g.resizeHandleStyles,Hn=g.resizeHandleClasses,Jn=g.resizeHandleComponent,Nn=g.enableResizing,Yn=g.resizeGrid,br=g.resizeHandleWrapperClass,Qn=g.resizeHandleWrapperStyle,cr=g.scale,vr=g.allowAnyClick,mr=bn(g,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),Er=this.props.default?Xt({},this.props.default):void 0;delete mr.default;var _i=p||S?{cursor:"auto"}:{cursor:"move"},Dr=Xt(Xt(Xt({},Ce),_i),x),ti=this.offsetFromParent,Kr=ti.left,Vi=ti.top,Ir;O&&(Ir={x:O.x-Kr,y:O.y-Vi});var vi=this.state.resizing?void 0:Ir,to=this.state.resizing?"both":V;return(0,A.createElement)($n,{ref:this.refDraggable,handle:S?".".concat(S):void 0,defaultPosition:Er,onMouseDown:q,onMouseUp:N,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:to,disabled:p,grid:F,bounds:Y?this.state.bounds:void 0,position:vi,enableUserSelectHack:Je,cancel:pt,scale:cr,allowAnyClick:vr,nodeRef:this.resizableElement},(0,A.createElement)(Oe,Xt({},mr,{ref:this.refResizable,defaultSize:Er,size:this.props.size,enable:typeof Nn=="boolean"?Ze(Nn):Nn,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:Dr,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:Yn,handleWrapperClass:br,handleWrapperStyle:Qn,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:lr,handleClasses:Hn,handleComponent:Jn,scale:this.props.scale}),Pt))},we.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},we}(A.PureComponent),Wt=300,fn=400,_n=(0,A.memo)(function(ve){var we=ve.children,g=ve.direction,p=ve.resize,x=ve.style,S=ve.position,O=ve.onPositionChange,q=ve.size,N=ve.defaultSize,V=ve.defaultPosition,F=ve.minWidth,Y=F===void 0?280:F,Je=ve.minHeight,pt=Je===void 0?200:Je,Pt=ve.prefixCls,en=ve.canResizing,dn=St(Pt),Mn=dn.styles,Cn=(0,A.useMemo)(function(){return en?{right:Mn.rightHandle,left:Mn.leftHandle,top:Mn.topHandle,bottom:Mn.bottomHandle}:{}},[en,g]),Ut=(0,A.useMemo)(function(){return en?p:(0,v.Z)({top:!0,bottom:!0,right:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},p)},[en,p]),Rn=(0,v.Z)({width:fn,height:Wt},N),lr=(0,v.Z)({x:100,y:100},V),Hn={minWidth:Math.max(Y,0),minHeight:Math.max(pt,0),defaultSize:Rn,size:q,style:x};return(0,Qe.jsx)(xt,(0,v.Z)((0,v.Z)({position:S,resizeHandleClasses:Cn,default:(0,v.Z)((0,v.Z)({},lr),Rn),onDragStop:function(Nn,Yn){O==null||O({x:Yn.x,y:Yn.y})},bound:"parent",enableResizing:Ut},Hn),{},{className:Mn.float,children:we}))}),Bn=(0,A.memo)(function(ve){var we=ve.children,g=ve.className,p=ve.mode,x=ve.placement,S=ve.resize,O=ve.style,q=ve.position,N=ve.onPositionChange,V=ve.size,F=ve.defaultSize,Y=ve.defaultPosition,Je=ve.minWidth,pt=ve.minHeight,Pt=ve.prefixCls,en=ve.onSizeChange,dn=ve.onSizeDragging,Mn=ve.expandable,Cn=Mn===void 0?!0:Mn,Ut=ve.isExpand,Rn=ve.onExpandChange,lr=(0,b.k2)("draggable-panel",Pt);switch(p){case"fixed":default:return(0,Qe.jsx)(nn,{prefixCls:lr,size:V,defaultSize:F,onSizeDragging:dn,onSizeChange:en,minHeight:pt,minWidth:Je,resize:S,onExpandChange:Rn,expandable:Cn,isExpand:Ut,className:g,placement:x,style:O,children:we});case"float":return(0,Qe.jsx)(_n,{prefixCls:lr,defaultPosition:Y,position:q,onPositionChange:N,minHeight:pt,minWidth:Je,defaultSize:F,size:V,onSizeDragging:dn,onSizeChange:en,resize:S,canResizing:S!==!1,className:g,style:O,children:we})}})},66317:function(qt,et,W){"use strict";W.d(et,{c:function(){return q}});var A=W(185),b=W(75188),v=W(50959),y=W(33355),T=W(28257),k=W(10422),D=W(84341);function j(N){return V=>{let{transform:F}=V;return Or(rn({},F),{x:Math.ceil(F.x/N)*N,y:Math.ceil(F.y/N)*N})}}const K=N=>{let{transform:V}=N;return Or(rn({},V),{y:0})};function ne(N,V,F){const Y=rn({},N);return V.top+N.y<=F.top?Y.y=F.top-V.top:V.bottom+N.y>=F.top+F.height&&(Y.y=F.top+F.height-V.bottom),V.left+N.x<=F.left?Y.x=F.left-V.left:V.right+N.x>=F.left+F.width&&(Y.x=F.left+F.width-V.right),Y}const he=N=>{let{containerNodeRect:V,draggingNodeRect:F,transform:Y}=N;return!F||!V?Y:ne(Y,F,V)},xe=N=>{let{draggingNodeRect:V,transform:F,scrollableAncestorRects:Y}=N;const Je=Y[0];return!V||!Je?F:ne(F,V,Je)},B=N=>{let{transform:V}=N;return Or(rn({},V),{x:0})},Ke=N=>{let{transform:V,draggingNodeRect:F,windowRect:Y}=N;return!F||!Y?V:ne(V,F,Y)},We=N=>{let{activatorEvent:V,draggingNodeRect:F,transform:Y}=N;if(F&&V){const Je=getEventCoordinates(V);if(!Je)return Y;const pt=Je.x-F.left,Pt=Je.y-F.top;return Or(rn({},Y),{x:Y.x+pt-F.width/2,y:Y.y+Pt-F.height/2})}return Y};var Bt=W(59671),at=W(5899),ut=W.n(at),H=W(84817);function lt(N,V){if(Object.is(N,V))return!0;if(typeof N!="object"||N===null||typeof V!="object"||V===null)return!1;if(N instanceof Map&&V instanceof Map){if(N.size!==V.size)return!1;for(const[Y,Je]of N)if(!Object.is(Je,V.get(Y)))return!1;return!0}if(N instanceof Set&&V instanceof Set){if(N.size!==V.size)return!1;for(const Y of N)if(!V.has(Y))return!1;return!0}const F=Object.keys(N);if(F.length!==Object.keys(V).length)return!1;for(let Y=0;Y<F.length;Y++)if(!Object.prototype.hasOwnProperty.call(V,F[Y])||!Object.is(N[F[Y]],V[F[Y]]))return!1;return!0}var wt=(N,V)=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { shallow } from 'zustand/shallow'`."),lt(N,V)),Nt=W(75157),Dt=W(84772),Ue=W(45389),Xe=W(84875),it=W.n(Xe),Ft=W(96208),X=W(18559),be=W(11527),ye=(0,be.jsx)("svg",{viewBox:"0 0 20 20",width:"16",fill:"currentColor",children:(0,be.jsx)("path",{d:"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z"})}),Me=(0,be.jsx)("svg",{width:"10",viewBox:"0 0 70 41",fill:"currentColor",children:(0,be.jsx)("path",{d:"M30.76 39.2402C31.885 40.3638 33.41 40.995 35 40.995C36.59 40.995 38.115 40.3638 39.24 39.2402L68.24 10.2402C69.2998 9.10284 69.8768 7.59846 69.8494 6.04406C69.822 4.48965 69.1923 3.00657 68.093 1.90726C66.9937 0.807959 65.5106 0.178263 63.9562 0.150837C62.4018 0.123411 60.8974 0.700397 59.76 1.76024L35 26.5102L10.24 1.76024C9.10259 0.700397 7.59822 0.123411 6.04381 0.150837C4.4894 0.178263 3.00632 0.807959 1.90702 1.90726C0.807714 3.00657 0.178019 4.48965 0.150593 6.04406C0.123167 7.59846 0.700153 9.10284 1.75999 10.2402L30.76 39.2402Z"})}),_e=function(V){return _jsx(ActionIcon,_objectSpread({icon:Me},V))},Re=function(V){return(0,be.jsx)(X.Z,(0,A.Z)({icon:ye},V))},$e=function(V){return(0,be.jsx)(X.Z,(0,A.Z)({icon:(0,be.jsx)(Ft.Z,{})},V))},le=function(V){return _jsx(ActionIcon,_objectSpread({icon:_jsx(EditFilled,{})},V))},He=W(58583),rt,ce,Te,Ve,Ge,ot,ht,bt,Vt,Kt,Tt,Mt,Ht="0 0 0 calc(1px / var(--scale-x, 1)) rgba(0, 0, 0, 0.05)",St="0 1px calc(3px / var(--scale-x, 1)) 0 rgba(0, 0, 0, 0.15)",Qe="".concat(Ht," ").concat(St),Et=(0,Dt.F4)(rt||(rt=(0,He.Z)([`
	0% {
		box-shadow: var(--box-shadow);
		transform: scale(1);
	}
	100% {
		box-shadow: var(--box-shadow-picked-up);
		transform: scale(var(--scale));
	}
`]))),tn=(0,Dt.F4)(ce||(ce=(0,He.Z)([`
	0% {
	  opacity: 0;
	}
	100% {
	  opacity: 1;
	}
`]))),un=(0,Dt.kc)(function(N,V){var F=N.css,Y=N.cx,Je=N.token,pt="".concat(V);return{item:Y("".concat(V,"-item"),F(Te||(Te=(0,He.Z)([`
        position: relative;
        display: flex;
        flex-grow: 1;
        align-items: center;
        justify-content: space-between;
        box-sizing: border-box;
        padding: 1px 0;
        color: `,`;
        font-size: 12px;
        white-space: nowrap;
        list-style: none;
        border-radius: 4px;
        outline: none;
        transform: scale(var(--scale, 1));
        transform-origin: 50% 50%;
        transition: box-shadow 200ms cubic-bezier(0.18, 0.67, 0.6, 1.22);
        -webkit-tap-highlight-color: transparent;

        &:focus-visible {
          box-shadow: 0 0 4px 1px #4c9ffe, `,`;
        }

        &:not(.`,`-item-withHandle) {
          cursor: grab;
          -webkit-user-select: none;
          user-select: none;
          touch-action: none;
        }

        &-dragging:not(.`,`-item-dragOverlay) {
          z-index: 0;
          opacity: var(--dragging-opacity, 0.5);

          &:focus {
            box-shadow: `,`;
          }
        }

        &:hover .`,`-item-actions {
          opacity: 1;
        }
      `])),Je.colorTextSecondary,Qe,pt,pt,Qe,V)),disabled:Y("".concat(V,"-item-disabled"),F(Ve||(Ve=(0,He.Z)([`
        color: #999;
        background-color: #f1f1f1;
        cursor: not-allowed;
        &:focus {
          box-shadow: 0 0 4px 1px rgba(0, 0, 0, 0.1), `,`;
        }
      `])),Qe)),dragOverlay:Y("".concat(V,"-item-dragOverlay"),F(Ge||(Ge=(0,He.Z)([`
        padding: 4px 0;
        background-color: `,`;
        border: none;
        box-shadow: var(--box-shadow-picked-up);
        transform: scale(var(--scale));
        cursor: inherit;
        opacity: 1;

        /* box-shadow: 0 0px 6px 2px @focused-outline-color; */
        animation: `,` 200ms cubic-bezier(0.18, 0.67, 0.6, 1.22);
      `])),Je.colorBgElevated,Et)),wrapper:Y("".concat(V,"-item-wrapper"),F(ot||(ot=(0,He.Z)([`
        display: flex;
        box-sizing: border-box;
        transform: translate3d(var(--translate-x, 0), var(--translate-y, 0), 0)
          scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1));
        transform-origin: 0 0;
        touch-action: manipulation;

        &:not(:last-child) {
          margin-bottom: 2px;
        }
      `])))),wrapperFadeIn:Y("".concat(V,"-item-wrapper-fadeIn"),F(ht||(ht=(0,He.Z)([`
        animation: `,` 500ms ease;
      `])),tn)),wrapperdragOverlay:Y("".concat(V,"-item-wrapper-dragOverlay"),F(bt||(bt=(0,He.Z)([`
        --scale: 1.05;
        --box-shadow: `,`;
        --box-shadow-picked-up: `,`, -1px 0 15px 0 rgba(82, 82, 82, 0.01),
          0 15px 15px 0 rgba(82, 82, 82, 0.25);

        z-index: 999;
      `])),Qe,Ht)),actions:Y("".concat(V,"-item-actions"),F(Vt||(Vt=(0,He.Z)([`
        z-index: 10;
        color: hsla(0, 0, 0, 0.45);
        opacity: 0;
      `])))),actionsLeft:Y("".concat(V,"-item-actions-left"),F(Kt||(Kt=(0,He.Z)([`
        position: absolute;
        top: 0;
        left: 0;

        .studio-btn.studio-btn-sm.studio-btn-icon-only {
          width: 14px;
          height: 24px;
          > svg {
            width: 14px;
          }
        }
      `])))),actionsRight:Y("".concat(V,"-item-actions-right"),F(Tt||(Tt=(0,He.Z)([`
        position: absolute;
        top: 1px;
        right: 1px;
        align-self: flex-end;
        overflow: hidden;
        border-radius: 1px;
        // \u91C7\u7528\u80CC\u666F\u6A21\u7CCA\u6765\u89E3\u51B3\u591A\u79CD\u80CC\u666F\u8272\u4E0B\u8986\u76D6\u5185\u5BB9\u7684\u95EE\u9898 TODO\uFF1AFireFox \u517C\u5BB9
        backdrop-filter: blur(5px);
        //background-image: linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, @bg-2 10%, @bg-2 100%);

        .tech-studio-actionicon-icon {
          height: 22px;
        }
      `])))),content:Y("".concat(V,"-item-content"),F(Mt||(Mt=(0,He.Z)([`
        position: relative;
        width: 100%;
      `]))))}}),nn=["color","dragOverlay","dragging","disabled","fadeIn","handle","index","listeners","onRemove","hideRemove","compact","children","sorting","style","transition","transform","id","className","actions","prefixCls"],pn=(0,v.memo)((0,v.forwardRef)(function(N,V){var F,Y,Je=N.color,pt=N.dragOverlay,Pt=N.dragging,en=N.disabled,dn=N.fadeIn,Mn=N.handle,Cn=Mn===void 0?!0:Mn,Ut=N.index,Rn=N.listeners,lr=N.onRemove,Hn=N.hideRemove,Jn=Hn===void 0?!1:Hn,Nn=N.compact,Yn=Nn===void 0?!1:Nn,br=N.children,Qn=N.sorting,cr=N.style,vr=N.transition,mr=N.transform,Er=N.id,_i=N.className,Dr=N.actions,ti=N.prefixCls,Kr=(0,b.Z)(N,nn),Vi=un(ti),Ir=Vi.styles,vi=it()("".concat(ti,"-item"));return(0,v.useEffect)(function(){if(pt)return document.body.style.cursor="grabbing",function(){document.body.style.cursor=""}},[pt]),(0,be.jsx)("li",{className:it()(Ir.wrapper,_i,(F={},(0,Ue.Z)(F,Ir.wrapperFadeIn,dn),(0,Ue.Z)(F,"".concat(vi,"-wrapper-sorting"),Qn),(0,Ue.Z)(F,Ir.wrapperdragOverlay,pt),F)),style:{transition:vr,"--translate-x":mr?"".concat(Math.round(mr.x),"px"):void 0,"--translate-y":mr?"".concat(Math.round(mr.y),"px"):void 0,"--scale-x":mr!=null&&mr.scaleX?"".concat(mr.scaleX):void 0,"--scale-y":mr!=null&&mr.scaleY?"".concat(mr.scaleY):void 0,"--index":Ut,"--color":Je},"data-testid":"list-item",ref:V,children:(0,be.jsx)("div",(0,A.Z)((0,A.Z)((0,A.Z)({className:it()(Ir.item,(Y={},(0,Ue.Z)(Y,"".concat(vi,"-dragging"),Pt),(0,Ue.Z)(Y,"".concat(vi,"-withHandle"),Cn),(0,Ue.Z)(Y,Ir.dragOverlay,pt),(0,Ue.Z)(Y,Ir.disabled,en),(0,Ue.Z)(Y,"".concat(vi,"-discolorabled"),Je),Y)),style:(0,A.Z)((0,A.Z)({},cr),{},{backgroundColor:Yn?void 0:"hsl(0, 0%, 98%)"}),"data-cypress":"draggable-item"},Cn?void 0:Rn),Kr),{},{tabIndex:Cn?void 0:0,children:(0,be.jsxs)(H.D,{className:Ir.content,direction:"horizontal",align:"center",children:[(0,be.jsx)(H.D,{className:it()(Ir.actionsLeft,Ir.actions),direction:"horizontal",children:Cn?(0,be.jsx)(Re,(0,A.Z)({tabIndex:-1,cursor:"grab","data-cypress":"draggable-handle",style:Yn?void 0:{position:"absolute",left:"-13px"}},Rn)):null}),br,(0,be.jsxs)(H.D,{className:it()(Ir.actions,Yn?Ir.actionsRight:void 0),direction:"horizontal",children:[Dr,Jn?null:(0,be.jsx)($e,{tabIndex:-1,onClick:lr,style:{height:22}})]})]})}))},Er)})),Rt=pn,jt=W(34961),hn=function(V){return{activeId:V.activeId,compact:V.compact,renderContent:V.renderContent,getActiveIndex:V.getActiveIndex}},tt=function(V){var F=V.prefixCls,Y=(0,jt.oR)(hn,lt),Je=Y.activeId,pt=Y.compact,Pt=Y.renderContent,en=Y.getActiveIndex,dn=(0,jt.oR)(function(Cn){return Cn.value},ut()),Mn=en();return(0,be.jsx)(T.y9,{adjustScale:!1,dropAnimation:(0,A.Z)((0,A.Z)({},T.RJ),{},{sideEffects:(0,T.Ai)({styles:{active:{opacity:"0.5"}}})}),children:Je?(0,be.jsx)(Rt,{id:Je,dragOverlay:!0,prefixCls:F,compact:pt,children:Pt(dn[Mn],Mn)}):null})},ie=(0,v.memo)(tt),fe=W(66441),me=(0,Dt.kc)(function(N,V){var F=V.prefixCls,Y=V.horizontal;return{container:(0,Dt.cx)("".concat(F,"-container"),(0,Dt.iv)({listStyle:"none",display:"grid",gridAutoRows:"max-content",gridGap:"2px",gridTemplateColumns:"repeat(var(--columns, 1), 1fr)",width:"100%",margin:"0",padding:"0",borderRadius:"4px",transition:"background-color 350ms ease",gridAutoFlow:Y?"column":void 0}))}}),ke=(0,v.forwardRef)(function(N,V){var F=N.children,Y=N.columns,Je=Y===void 0?1:Y,pt=N.horizontal,Pt=N.style,en=N.className,dn=N.prefixCls,Mn=me({prefixCls:dn,horizontal:pt}),Cn=Mn.styles,Ut=it()(Cn.container,en);return(0,be.jsx)("ul",{ref:V,style:(0,A.Z)((0,A.Z)({},Pt),{},{"--columns":Je}),className:Ut,children:F})}),Ie=ke;function At(N){var V=N.disabled,F=N.id,Y=N.index,Je=N.actions,pt=N.onRemove,Pt=N.useDragOverlay,en=Pt===void 0?!0:Pt,dn=N.children,Mn=N.prefixCls,Cn=N.hideRemove,Ut=Cn===void 0?!1:Cn,Rn=N.compact,lr=Rn===void 0?!1:Rn,Hn=(0,Bt.nB)({id:F,disabled:V}),Jn=Hn.attributes,Nn=Hn.isDragging,Yn=Hn.isSorting,br=Hn.listeners,Qn=Hn.setNodeRef,cr=Hn.transform,vr=Hn.transition;return(0,be.jsx)(Rt,(0,A.Z)((0,A.Z)({ref:Qn,id:F,disabled:V,dragging:Nn,sorting:Yn,compact:lr,hideRemove:Ut,index:Y,actions:Je,onRemove:pt?function(){return pt(Y)}:void 0,transform:cr,transition:!en&&Nn?"none":vr,listeners:br,"data-index":Y,"data-id":F,dragOverlay:!en&&Nn,prefixCls:Mn},Jn),{},{children:dn}),F)}var Jt=W(96430),Vn=W(59892),Ln=W(52380),ue=W(33134),je,Ye,qe,kt,vn,sn,It,de,Oe,st,_t,Xt=function(V){var F=V.token,Y=V.css,Je=Y(je||(je=(0,He.Z)([`
    cursor: pointer;
    transition: 150ms background-color ease-in-out;
    &:hover {
      background: `,`;
    }
  `])),F.colorFillQuaternary),pt=Y(Ye||(Ye=(0,He.Z)([`
    color: `,`;
    background-color: `,`;
    border-color: transparent;
  `])),F.colorText,F.colorFillTertiary),Pt=Y(qe||(qe=(0,He.Z)([`
    color: `,` !important;
    background-color: `,` !important;
    border-color: `,` !important;
    box-shadow: none;
  `])),F.colorText,F.colorFillQuaternary,F.colorPrimary),en=Y(kt||(kt=(0,He.Z)([`
    color: `,`;
    background: `,`;
    border-color: transparent;
  `])),F.colorTextSecondary,F.colorFillQuaternary);return{defaultButton:Y(vn||(vn=(0,He.Z)([`
      `,`;

      &:hover {
        color: `,` !important;
        background: `,` !important;
        border-color: transparent !important;
      }
      &:focus {
        `,`;
        border-color: `,` !important;
      }
    `])),en,F.colorText,F.colorFillSecondary,en,F.colorPrimary),textInfo:Y(sn||(sn=(0,He.Z)([`
      color: `,`;
      &:hover {
        color: `,`;
      }
    `])),F.colorTextSecondary,F.colorText),textDefault:Y(It||(It=(0,He.Z)([`
      color: `,`;
    `])),F.colorTextSecondary),containerBgHover:Y(de||(de=(0,He.Z)([`
      cursor: pointer;
      transition: 150ms background-color ease-in-out;

      &:hover {
        background: `,`;
      }
    `])),F.colorFillQuaternary),containerBgL2:Y(Oe||(Oe=(0,He.Z)([`
      `,`;
      border-radius: 4px;
      background: `,`;

      &:hover {
        background: `,`;
      }
    `])),Je,F.colorFillQuaternary,F.colorFillTertiary),controlContainerFocused:Pt,controlContainer:Y(st||(st=(0,He.Z)([`
      &:hover {
        `,`
      }
      &:focus {
        `,`
      }
    `])),pt,Pt),backgroundBlur:Y(_t||(_t=(0,He.Z)([`
      background: `,`;
      backdrop-filter: blur(10px);
    `])),(0,ue.DZ)(.4)(F.colorBgElevated))}},bn,$n=(0,Dt.kc)(function(N,V){var F=N.token,Y=N.css,Je=Xt(N);return{btnAdd:(0,Dt.cx)("".concat(V,"-btn-add"),Y(bn||(bn=(0,He.Z)([`
        height: 24px;
        padding-block: 2px;
        margin-top: `,`px;
      `])),F.marginXXS),Je.defaultButton)}}),Ce=function(V){return{renderContent:V.renderContent,compact:V.compact,hideRemove:V.hideRemove,creatorButtonProps:V.creatorButtonProps,dispatchListData:V.dispatchListData}},Ze=function(V){var F=V.prefixCls,Y=(0,jt.oR)(Ce,lt),Je=Y.dispatchListData,pt=Y.renderContent,Pt=Y.compact,en=Y.hideRemove,dn=(0,jt.oR)(function(Dr){return[Dr.value,Dr.keyManager,Dr.creatorButtonProps,Dr.actions]},ut()),Mn=(0,fe.Z)(dn,4),Cn=Mn[0],Ut=Mn[1],Rn=Mn[2],lr=Mn[3],Hn=Rn||{},Jn=Hn.record,Nn=Hn.creatorButtonText,Yn=Nn===void 0?"\u6DFB\u52A0\u4E00\u5217":Nn,br=Hn.showInList,Qn=br===void 0?!0:br,cr=Hn.showInEmpty,vr=cr===void 0?!0:cr,mr=$n(F),Er=mr.styles,_i=function(ti){var Kr=ti.empty,Vi=Kr===void 0?!1:Kr;return(0,be.jsx)(Vn.ZP,{block:!Vi,size:"small",className:Er.btnAdd,onClick:function(){var vi=(0,A.Z)({},Jn&&typeof Jn=="function"?Jn(Cn.length):Jn);Je({type:"addItem",item:vi})},icon:(0,be.jsx)(Jt.Z,{}),children:Yn})};return(0,be.jsx)(be.Fragment,{children:Array.isArray(Cn)&&Cn.length===0?(0,be.jsx)(be.Fragment,{children:(0,be.jsx)(Ln.Z,{image:Ln.Z.PRESENTED_IMAGE_SIMPLE,children:vr===!1?null:(0,be.jsx)(_i,{empty:!0})})}):(0,be.jsxs)(be.Fragment,{children:[(0,be.jsx)(Ie,{prefixCls:F,children:Cn.map(function(Dr,ti){return(0,be.jsx)(At,{id:Ut.keys[ti],index:ti,compact:Pt,hideRemove:en,onRemove:function(){return Je({type:"removeItem",index:ti})},actions:typeof lr=="function"?lr(Dr,ti):lr,useDragOverlay:!0,prefixCls:F,children:pt==null?void 0:pt(Dr,ti)},Ut.keys[ti])})}),Qn===!1?null:(0,be.jsx)(_i,{})]})})},xt=(0,v.memo)(Ze),Wt={strategy:T.uN.Always},fn=function(V){return{handleDragStart:V.handleDragStart,handleDragCancel:V.handleDragCancel,handleDragEnd:V.handleDragEnd,renderHeader:V.renderHeader}},_n=function(V){var F=V.className,Y=V.style,Je=V.prefixCls,pt=(0,jt.oR)(fn,lt),Pt=pt.handleDragStart,en=pt.handleDragCancel,dn=pt.handleDragEnd,Mn=pt.renderHeader,Cn=(0,jt.oR)(function(Hn){return Hn.keyManager},ut()),Ut=(0,Nt.k2)("sortable-list",Je),Rn=(0,T.Dy)((0,T.VT)(T.MA),(0,T.VT)(T.LO),(0,T.VT)(T.Lg,{coordinateGetter:Bt.is})),lr=(0,v.useMemo)(function(){return(0,k.createPortal)((0,be.jsx)(ie,{prefixCls:Ut}),document.body)},[]);return(0,be.jsx)(H.D,{className:(0,Dt.cx)(F,Ut),style:Y,children:(0,be.jsx)(T.LB,{sensors:Rn,collisionDetection:T.pE,onDragStart:Pt,onDragEnd:dn,measuring:{droppable:Wt},onDragCancel:en,modifiers:[B,Ke],children:(0,be.jsxs)(Bt.Fo,{items:Cn.keys.map(function(Hn){return{id:Hn}}),strategy:Bt.qw,children:[Mn==null?void 0:Mn(),(0,be.jsx)(xt,{prefixCls:Ut}),lr]})})})},Bn=_n,ve=function(V){var F=V.children,Y=V.showDevtools,Je=!0,pt=(0,be.jsx)(be.Fragment,{children:F});try{(0,jt.AC)()}catch(Pt){Je=!1}return Je?pt:(0,be.jsx)(jt.zt,{createStore:function(){return(0,jt.MT)(Y)},children:pt})},we=W(18846),g=function(V){return function(F,Y){var Je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[Y],pt=arguments.length>3?arguments[3]:void 0,Pt=pt!=null?pt:V.setState;(0,v.useEffect)(function(){typeof Y!="undefined"&&Pt((0,Ue.Z)({},F,Y))},Je)}},p=W(39181),x=(0,v.forwardRef)(function(N,V){var F=N.creatorButtonProps,Y=N.initialValues,Je=N.value,pt=N.onChange,Pt=N.renderContent,en=N.renderHeader,dn=N.actions,Mn=N.compact,Cn=N.hideRemove,Ut=(0,jt.AC)(),Rn=g(Ut),lr=function(Nn,Yn){var br=Ut.getState(),Qn=br.keyManager,cr=(0,we.Uy)(Qn,function(vr){return Nn[Yn].forEach(function(mr,Er){var _i=vr.keys[Er];_i===void 0&&(vr.keys[Er]=vr.id,vr.id+=1)}),vr});Ut.setState((0,Ue.Z)({keyManager:cr},Yn,Nn[Yn]))};Rn("value",Y,[]),Rn("onChange",pt),Rn("creatorButtonProps",F),Rn("renderContent",Pt),Rn("renderHeader",en),Rn("actions",dn),Rn("compact",Mn),Rn("hideRemove",Cn),Rn("initialValues",Y,[Y],function(Jn){lr(Jn,"initialValues")}),Rn("value",Je,[Je],function(Jn){return lr(Jn,"value")});var Hn=(0,p.t)();return(0,v.useImperativeHandle)(V,function(){return Hn}),null}),S=x,O=["SHOW_STORE_IN_DEVTOOLS","className","style"],q=(0,v.memo)((0,v.forwardRef)(function(N,V){var F=N.SHOW_STORE_IN_DEVTOOLS,Y=N.className,Je=N.style,pt=(0,b.Z)(N,O);return(0,be.jsx)(y.iV,{children:(0,be.jsxs)(ve,{showDevtools:F,children:[(0,be.jsx)(Bn,{style:Je,className:Y}),(0,be.jsx)(S,(0,A.Z)((0,A.Z)({},pt),{},{ref:V}))]})})}))},39181:function(qt,et,W){"use strict";W.d(et,{t:function(){return v}});var A=W(28062),b=W(34961),v=function(){var T=(0,b.AC)(),k=(0,A.Z)(function(){return T.getState().activeId}),D=(0,A.Z)(function(){return T.getState().value}),j=function(xe,B){return T.getState().dispatchListData({type:"addItem",item:xe,index:B})},K=function(xe){return T.getState().dispatchListData({type:"removeItem",index:xe})},ne=function(xe,B){return T.getState().dispatchListData({type:"updateItem",item:xe,index:B})};return{getActiveId:k,getValue:D,addItem:j,removeItem:K,updateItem:ne}}},34961:function(qt,et,W){"use strict";W.d(et,{zt:function(){return Kt},MT:function(){return ot},oR:function(){return bt},AC:function(){return Vt}});const A=Tt=>{let Mt;const Ht=new Set,St=(nn,pn)=>{const Rt=typeof nn=="function"?nn(Mt):nn;if(!Object.is(Rt,Mt)){const jt=Mt;Mt=(pn!=null?pn:typeof Rt!="object")?Rt:Object.assign({},Mt,Rt),Ht.forEach(hn=>hn(Mt,jt))}},Qe=()=>Mt,un={setState:St,getState:Qe,subscribe:nn=>(Ht.add(nn),()=>Ht.delete(nn)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),Ht.clear()}};return Mt=Tt(St,Qe,un),un},b=Tt=>Tt?A(Tt):A;var v=Tt=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'."),b(Tt)),y=W(50959),T=W(7231);const{useSyncExternalStoreWithSelector:k}=T;function D(Tt,Mt=Tt.getState,Ht){const St=k(Tt.subscribe,Tt.getState,Tt.getServerState||Tt.getState,Mt,Ht);return(0,y.useDebugValue)(St),St}const j=Tt=>{typeof Tt!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const Mt=typeof Tt=="function"?b(Tt):Tt,Ht=(St,Qe)=>D(Mt,St,Qe);return Object.assign(Ht,Mt),Ht},K=Tt=>Tt?j(Tt):j;var ne=Tt=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),K(Tt)),he=function(){var Mt=(0,y.createContext)(void 0),Ht=function(tn){var un=tn.createStore,nn=tn.children,pn=(0,y.useRef)();return pn.current||(pn.current=un()),(0,y.createElement)(Mt.Provider,{value:pn.current},nn)},St=function(tn,un){var nn=(0,y.useContext)(Mt);if(!nn)throw new Error("Seems like you have not used zustand provider as an ancestor.");return D(nn,tn,un)},Qe=function(){var tn=(0,y.useContext)(Mt);if(!tn)throw new Error("Seems like you have not used zustand provider as an ancestor.");return tn};return{Provider:Ht,useStore:St,useStoreApi:Qe}};const xe=(Tt,Mt)=>(Ht,St,Qe)=>(Qe.dispatch=Et=>(Ht(tn=>Tt(tn,Et),!1,Et),Et),Qe.dispatchFromDevtools=!0,rn({dispatch:(...Et)=>Qe.dispatch(...Et)},Mt)),B=null,Ke=new Map,We=Tt=>{const Mt=Ke.get(Tt);return Mt?Object.fromEntries(Object.entries(Mt.stores).map(([Ht,St])=>[Ht,St.getState()])):{}},Bt=(Tt,Mt,Ht)=>{if(Tt===void 0)return{type:"untracked",connection:Mt.connect(Ht)};const St=Ke.get(Ht.name);if(St)return rn({type:"tracked",store:Tt},St);const Qe={connection:Mt.connect(Ht),stores:{}};return Ke.set(Ht.name,Qe),rn({type:"tracked",store:Tt},Qe)},ut=(Tt,Mt={})=>(Ht,St,Qe)=>{const fe=Mt,{enabled:Et,anonymousActionType:tn,store:un}=fe,nn=Bo(fe,["enabled","anonymousActionType","store"]);let pn;try{pn=(Et!=null?Et:void 0!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(ke){}if(!pn)return Et&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),Tt(Ht,St,Qe);const me=Bt(un,pn,nn),{connection:Rt}=me,jt=Bo(me,["connection"]);let hn=!0;Qe.setState=(ke,Ie,At)=>{const Jt=Ht(ke,Ie);if(!hn)return Jt;const Vn=At===void 0?{type:tn||"anonymous"}:typeof At=="string"?{type:At}:At;return un===void 0?(Rt==null||Rt.send(Vn,St()),Jt):(Rt==null||Rt.send(Or(rn({},Vn),{type:`${un}/${Vn.type}`}),Or(rn({},We(nn.name)),{[un]:Qe.getState()})),Jt)};const tt=(...ke)=>{const Ie=hn;hn=!1,Ht(...ke),hn=Ie},ie=Tt(Qe.setState,St,Qe);if(jt.type==="untracked"?Rt==null||Rt.init(ie):(jt.stores[jt.store]=Qe,Rt==null||Rt.init(Object.fromEntries(Object.entries(jt.stores).map(([ke,Ie])=>[ke,ke===jt.store?ie:Ie.getState()])))),Qe.dispatchFromDevtools&&typeof Qe.dispatch=="function"){let ke=!1;const Ie=Qe.dispatch;Qe.dispatch=(...At)=>{At[0].type==="__setState"&&!ke&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),ke=!0),Ie(...At)}}return Rt.subscribe(ke=>{var Ie;switch(ke.type){case"ACTION":if(typeof ke.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return H(ke.payload,At=>{if(At.type==="__setState"){if(un===void 0){tt(At.state);return}Object.keys(At.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const Jt=At.state[un];if(Jt==null)return;JSON.stringify(Qe.getState())!==JSON.stringify(Jt)&&tt(Jt);return}Qe.dispatchFromDevtools&&typeof Qe.dispatch=="function"&&Qe.dispatch(At)});case"DISPATCH":switch(ke.payload.type){case"RESET":return tt(ie),un===void 0?Rt==null?void 0:Rt.init(Qe.getState()):Rt==null?void 0:Rt.init(We(nn.name));case"COMMIT":if(un===void 0){Rt==null||Rt.init(Qe.getState());return}return Rt==null?void 0:Rt.init(We(nn.name));case"ROLLBACK":return H(ke.state,At=>{if(un===void 0){tt(At),Rt==null||Rt.init(Qe.getState());return}tt(At[un]),Rt==null||Rt.init(We(nn.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return H(ke.state,At=>{if(un===void 0){tt(At);return}JSON.stringify(Qe.getState())!==JSON.stringify(At[un])&&tt(At[un])});case"IMPORT_STATE":{const{nextLiftedState:At}=ke.payload,Jt=(Ie=At.computedStates.slice(-1)[0])==null?void 0:Ie.state;if(!Jt)return;tt(un===void 0?Jt:Jt[un]),Rt==null||Rt.send(null,At);return}case"PAUSE_RECORDING":return hn=!hn}return}}),ie},H=(Tt,Mt)=>{let Ht;try{Ht=JSON.parse(Tt)}catch(St){console.error("[zustand devtools middleware] Could not parse the received json",St)}Ht!==void 0&&Mt(Ht)},lt=Tt=>(Mt,Ht,St)=>{const Qe=St.subscribe;return St.subscribe=(tn,un,nn)=>{let pn=tn;if(un){const Rt=(nn==null?void 0:nn.equalityFn)||Object.is;let jt=tn(St.getState());pn=hn=>{const tt=tn(hn);if(!Rt(jt,tt)){const ie=jt;un(jt=tt,ie)}},nn!=null&&nn.fireImmediately&&un(jt,jt)}return Qe(pn)},Tt(Mt,Ht,St)},wt=null,Nt=(Tt,Mt)=>(...Ht)=>Object.assign({},Tt,Mt(...Ht));function Dt(Tt,Mt){let Ht;try{Ht=Tt()}catch(Qe){return}return{getItem:Qe=>{var Et;const tn=nn=>nn===null?null:JSON.parse(nn,Mt==null?void 0:Mt.reviver),un=(Et=Ht.getItem(Qe))!=null?Et:null;return un instanceof Promise?un.then(tn):tn(un)},setItem:(Qe,Et)=>Ht.setItem(Qe,JSON.stringify(Et,Mt==null?void 0:Mt.replacer)),removeItem:Qe=>Ht.removeItem(Qe)}}const Ue=Tt=>Mt=>{try{const Ht=Tt(Mt);return Ht instanceof Promise?Ht:{then(St){return Ue(St)(Ht)},catch(St){return this}}}catch(Ht){return{then(St){return this},catch(St){return Ue(St)(Ht)}}}},Xe=(Tt,Mt)=>(Ht,St,Qe)=>{let Et=rn({getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:me=>me,version:0,merge:(me,ke)=>rn(rn({},ke),me)},Mt),tn=!1;const un=new Set,nn=new Set;let pn;try{pn=Et.getStorage()}catch(me){}if(!pn)return Tt((...me)=>{console.warn(`[zustand persist middleware] Unable to update item '${Et.name}', the given storage is currently unavailable.`),Ht(...me)},St,Qe);const Rt=Ue(Et.serialize),jt=()=>{const me=Et.partialize(rn({},St()));let ke;const Ie=Rt({state:me,version:Et.version}).then(At=>pn.setItem(Et.name,At)).catch(At=>{ke=At});if(ke)throw ke;return Ie},hn=Qe.setState;Qe.setState=(me,ke)=>{hn(me,ke),jt()};const tt=Tt((...me)=>{Ht(...me),jt()},St,Qe);let ie;const fe=()=>{var me;if(!pn)return;tn=!1,un.forEach(Ie=>Ie(St()));const ke=((me=Et.onRehydrateStorage)==null?void 0:me.call(Et,St()))||void 0;return Ue(pn.getItem.bind(pn))(Et.name).then(Ie=>{if(Ie)return Et.deserialize(Ie)}).then(Ie=>{if(Ie)if(typeof Ie.version=="number"&&Ie.version!==Et.version){if(Et.migrate)return Et.migrate(Ie.state,Ie.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return Ie.state}).then(Ie=>{var At;return ie=Et.merge(Ie,(At=St())!=null?At:tt),Ht(ie,!0),jt()}).then(()=>{ke==null||ke(ie,void 0),tn=!0,nn.forEach(Ie=>Ie(ie))}).catch(Ie=>{ke==null||ke(void 0,Ie)})};return Qe.persist={setOptions:me=>{Et=rn(rn({},Et),me),me.getStorage&&(pn=me.getStorage())},clearStorage:()=>{pn==null||pn.removeItem(Et.name)},getOptions:()=>Et,rehydrate:()=>fe(),hasHydrated:()=>tn,onHydrate:me=>(un.add(me),()=>{un.delete(me)}),onFinishHydration:me=>(nn.add(me),()=>{nn.delete(me)})},fe(),ie||tt},it=(Tt,Mt)=>(Ht,St,Qe)=>{let Et=rn({storage:Dt(()=>localStorage),partialize:fe=>fe,version:0,merge:(fe,me)=>rn(rn({},me),fe)},Mt),tn=!1;const un=new Set,nn=new Set;let pn=Et.storage;if(!pn)return Tt((...fe)=>{console.warn(`[zustand persist middleware] Unable to update item '${Et.name}', the given storage is currently unavailable.`),Ht(...fe)},St,Qe);const Rt=()=>{const fe=Et.partialize(rn({},St()));return pn.setItem(Et.name,{state:fe,version:Et.version})},jt=Qe.setState;Qe.setState=(fe,me)=>{jt(fe,me),Rt()};const hn=Tt((...fe)=>{Ht(...fe),Rt()},St,Qe);let tt;const ie=()=>{var fe,me;if(!pn)return;tn=!1,un.forEach(Ie=>{var At;return Ie((At=St())!=null?At:hn)});const ke=((me=Et.onRehydrateStorage)==null?void 0:me.call(Et,(fe=St())!=null?fe:hn))||void 0;return Ue(pn.getItem.bind(pn))(Et.name).then(Ie=>{if(Ie)if(typeof Ie.version=="number"&&Ie.version!==Et.version){if(Et.migrate)return Et.migrate(Ie.state,Ie.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return Ie.state}).then(Ie=>{var At;return tt=Et.merge(Ie,(At=St())!=null?At:hn),Ht(tt,!0),Rt()}).then(()=>{ke==null||ke(tt,void 0),tt=St(),tn=!0,nn.forEach(Ie=>Ie(tt))}).catch(Ie=>{ke==null||ke(void 0,Ie)})};return Qe.persist={setOptions:fe=>{Et=rn(rn({},Et),fe),fe.storage&&(pn=fe.storage)},clearStorage:()=>{pn==null||pn.removeItem(Et.name)},getOptions:()=>Et,rehydrate:()=>ie(),hasHydrated:()=>tn,onHydrate:fe=>(un.add(fe),()=>{un.delete(fe)}),onFinishHydration:fe=>(nn.add(fe),()=>{nn.delete(fe)})},Et.skipHydration||ie(),tt||hn},Ft=(Tt,Mt)=>"getStorage"in Mt||"serialize"in Mt||"deserialize"in Mt?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Xe(Tt,Mt)):it(Tt,Mt),X=null;var be=function(Mt){return function(Ht,St){var Qe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[St],Et=arguments.length>3?arguments[3]:void 0,tn=Mt();useEffect(function(){typeof St!="undefined"&&(Et?Et(St):tn.setState(_defineProperty({},Ht,St)))},Qe)}},ye=function(Mt){return Mt?ut:function(Ht){return Ht}},Me=W(185),_e=W(5899),Re=W.n(_e),$e={activeId:null,value:[],keyManager:{keys:[],id:1},compact:!1,hideRemove:!1,onChange:void 0,renderHeader:void 0,renderContent:void 0,actions:[]},le=W(59671),He=W(18846),rt=W(72266),ce=W.n(rt),Te=function(Mt,Ht,St){switch(St.type){case"moveItem":var Qe=St.activeId,Et=St.targetId,tn=Qe?Ht.keys.indexOf(Qe):-1,un=Et?Ht.keys.indexOf(Et):-1;return tn===un||tn<0||tn>=Mt.length||un<0||un>=Mt.length?void 0:{data:(0,He.Uy)(Mt,function(hn){var tt=(0,le.Rp)(hn,tn,un);return tt}),manager:(0,He.Uy)(Ht,function(hn){return hn.keys=(0,le.Rp)(hn.keys,tn,un),hn})};case"removeItem":var nn=new Set(Array.isArray(St.index)?St.index:[St.index]);return nn.size<=0?void 0:{data:(0,He.Uy)(Mt,function(hn){var tt=hn.filter(function(ie,fe){return!nn.has(fe)});return tt}),manager:(0,He.Uy)(Ht,function(hn){return hn.keys=hn.keys.filter(function(tt,ie){return!nn.has(ie)}),hn})};case"addItem":var pn=St.item,Rt=St.index,jt=Rt===void 0?Mt.length:Rt;return{data:(0,He.Uy)(Mt,function(hn){return hn.splice(jt,0,pn),hn}),manager:(0,He.Uy)(Ht,function(hn){return hn.keys.splice(jt,0,hn.id),hn.id+=1,hn})};case"updateItem":return{data:(0,He.Uy)(Mt,function(hn){var tt=St.item,ie=St.index;return hn[ie]=ce()(hn[ie],tt),hn}),manager:(0,He.Uy)(Ht,function(hn){return hn})}}},Ve=function(Mt,Ht){return(0,Me.Z)((0,Me.Z)({},$e),{},{handleDragStart:function(Qe){var Et=Qe.active.id;Et&&Mt({activeId:Et})},handleDragEnd:function(Qe){var Et=Qe.over,tn=Qe.active,un=Ht(),nn=un.dispatchListData;Et&&nn({type:"moveItem",activeId:tn.id,targetId:Et.id}),Mt({activeId:null})},handleDragCancel:function(){Mt({activeId:null})},dispatchListData:function(Qe){var Et=Ht(),tn=Et.value,un=Et.onChange,nn=Et.keyManager,pn=Te(tn,nn,Qe)||{},Rt=pn.data,jt=pn.manager;if(Rt){if(Re()(tn,Rt))return;Mt({value:Rt}),un&&un(Rt)}jt&&Mt({keyManager:jt})},getActiveIndex:function(){var Qe=Ht(),Et=Qe.keyManager,tn=Qe.activeId,un=tn?Et.keys.indexOf(tn):-1;return un}})},Ge=Ve,ot=function(Mt){return K(ye(Mt)(Ge,{name:"SortableList"}))},ht=he(),bt=ht.useStore,Vt=ht.useStoreApi,Kt=ht.Provider},28257:function(qt,et,W){"use strict";W.d(et,{LB:function(){return Vi},y9:function(){return Ei},g4:function(){return Ln},Lg:function(){return Ye},uN:function(){return _n},MA:function(){return st},LO:function(){return Xt},pE:function(){return Ft},ey:function(){return X},RJ:function(){return Ki},Ai:function(){return Yo},VK:function(){return Ve},_8:function(){return Xe},hI:function(){return Vt},Cj:function(){return no},O1:function(){return Xo},Zj:function(){return So},VT:function(){return at},Dy:function(){return ut}});var A=W(50959),b=W(10422),v=W(84341);const y={display:"none"};function T(z){let{id:G,value:Se}=z;return A.createElement("div",{id:G,style:y},Se)}const k={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function D(z){let{id:G,announcement:Se}=z;return A.createElement("div",{id:G,style:k,role:"status","aria-live":"assertive","aria-atomic":!0},Se)}function j(){const[z,G]=(0,A.useState)("");return{announce:(0,A.useCallback)(nt=>{nt!=null&&G(nt)},[]),announcement:z}}const K=(0,A.createContext)(null);function ne(z){const G=(0,A.useContext)(K);(0,A.useEffect)(()=>{if(!G)throw new Error("useDndMonitor must be used within a children of <DndContext>");return G(z)},[z,G])}function he(){const[z]=(0,A.useState)(()=>new Set),G=(0,A.useCallback)(nt=>(z.add(nt),()=>z.delete(nt)),[z]);return[(0,A.useCallback)(nt=>{let{type:yt,event:gt}=nt;z.forEach($=>{var ge;return(ge=$[yt])==null?void 0:ge.call($,gt)})},[z]),G]}const xe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},B={onDragStart(z){let{active:G}=z;return"Picked up draggable item "+G.id+"."},onDragOver(z){let{active:G,over:Se}=z;return Se?"Draggable item "+G.id+" was moved over droppable area "+Se.id+".":"Draggable item "+G.id+" is no longer over a droppable area."},onDragEnd(z){let{active:G,over:Se}=z;return Se?"Draggable item "+G.id+" was dropped over droppable area "+Se.id:"Draggable item "+G.id+" was dropped."},onDragCancel(z){let{active:G}=z;return"Dragging was cancelled. Draggable item "+G.id+" was dropped."}};function Ke(z){let{announcements:G=B,container:Se,hiddenTextDescribedById:nt,screenReaderInstructions:yt=xe}=z;const{announce:gt,announcement:$}=j(),ge=(0,v.Ld)("DndLiveRegion"),[P,ee]=(0,A.useState)(!1);if((0,A.useEffect)(()=>{ee(!0)},[]),ne((0,A.useMemo)(()=>({onDragStart(ft){let{active:xn}=ft;gt(G.onDragStart({active:xn}))},onDragMove(ft){let{active:xn,over:In}=ft;G.onDragMove&&gt(G.onDragMove({active:xn,over:In}))},onDragOver(ft){let{active:xn,over:In}=ft;gt(G.onDragOver({active:xn,over:In}))},onDragEnd(ft){let{active:xn,over:In}=ft;gt(G.onDragEnd({active:xn,over:In}))},onDragCancel(ft){let{active:xn,over:In}=ft;gt(G.onDragCancel({active:xn,over:In}))}}),[gt,G])),!P)return null;const Be=A.createElement(A.Fragment,null,A.createElement(T,{id:nt,value:yt.draggable}),A.createElement(D,{id:ge,announcement:$}));return Se?(0,b.createPortal)(Be,Se):Be}var We;(function(z){z.DragStart="dragStart",z.DragMove="dragMove",z.DragEnd="dragEnd",z.DragCancel="dragCancel",z.DragOver="dragOver",z.RegisterDroppable="registerDroppable",z.SetDroppableDisabled="setDroppableDisabled",z.UnregisterDroppable="unregisterDroppable"})(We||(We={}));function Bt(){}function at(z,G){return(0,A.useMemo)(()=>({sensor:z,options:G!=null?G:{}}),[z,G])}function ut(){for(var z=arguments.length,G=new Array(z),Se=0;Se<z;Se++)G[Se]=arguments[Se];return(0,A.useMemo)(()=>[...G].filter(nt=>nt!=null),[...G])}const H=Object.freeze({x:0,y:0});function lt(z,G){return Math.sqrt(Math.pow(z.x-G.x,2)+Math.pow(z.y-G.y,2))}function wt(z,G){const Se=(0,v.DC)(z);if(!Se)return"0 0";const nt={x:(Se.x-G.left)/G.width*100,y:(Se.y-G.top)/G.height*100};return nt.x+"% "+nt.y+"%"}function Nt(z,G){let{data:{value:Se}}=z,{data:{value:nt}}=G;return Se-nt}function Dt(z,G){let{data:{value:Se}}=z,{data:{value:nt}}=G;return nt-Se}function Ue(z){let{left:G,top:Se,height:nt,width:yt}=z;return[{x:G,y:Se},{x:G+yt,y:Se},{x:G,y:Se+nt},{x:G+yt,y:Se+nt}]}function Xe(z,G){if(!z||z.length===0)return null;const[Se]=z;return G?Se[G]:Se}function it(z,G,Se){return G===void 0&&(G=z.left),Se===void 0&&(Se=z.top),{x:G+z.width*.5,y:Se+z.height*.5}}const Ft=z=>{let{collisionRect:G,droppableRects:Se,droppableContainers:nt}=z;const yt=it(G,G.left,G.top),gt=[];for(const $ of nt){const{id:ge}=$,P=Se.get(ge);if(P){const ee=lt(it(P),yt);gt.push({id:ge,data:{droppableContainer:$,value:ee}})}}return gt.sort(Nt)},X=z=>{let{collisionRect:G,droppableRects:Se,droppableContainers:nt}=z;const yt=Ue(G),gt=[];for(const $ of nt){const{id:ge}=$,P=Se.get(ge);if(P){const ee=Ue(P),Be=yt.reduce((xn,In,jn)=>xn+lt(ee[jn],In),0),ft=Number((Be/4).toFixed(4));gt.push({id:ge,data:{droppableContainer:$,value:ft}})}}return gt.sort(Nt)};function be(z,G){const Se=Math.max(G.top,z.top),nt=Math.max(G.left,z.left),yt=Math.min(G.left+G.width,z.left+z.width),gt=Math.min(G.top+G.height,z.top+z.height),$=yt-nt,ge=gt-Se;if(nt<yt&&Se<gt){const P=G.width*G.height,ee=z.width*z.height,Be=$*ge,ft=Be/(P+ee-Be);return Number(ft.toFixed(4))}return 0}const ye=z=>{let{collisionRect:G,droppableRects:Se,droppableContainers:nt}=z;const yt=[];for(const gt of nt){const{id:$}=gt,ge=Se.get($);if(ge){const P=be(ge,G);P>0&&yt.push({id:$,data:{droppableContainer:gt,value:P}})}}return yt.sort(Dt)};function Me(z,G){const{top:Se,left:nt,bottom:yt,right:gt}=G;return Se<=z.y&&z.y<=yt&&nt<=z.x&&z.x<=gt}const _e=z=>{let{droppableContainers:G,droppableRects:Se,pointerCoordinates:nt}=z;if(!nt)return[];const yt=[];for(const gt of G){const{id:$}=gt,ge=Se.get($);if(ge&&Me(nt,ge)){const ee=Ue(ge).reduce((ft,xn)=>ft+lt(nt,xn),0),Be=Number((ee/4).toFixed(4));yt.push({id:$,data:{droppableContainer:gt,value:Be}})}}return yt.sort(Nt)};function Re(z,G,Se){return Or(rn({},z),{scaleX:G&&Se?G.width/Se.width:1,scaleY:G&&Se?G.height/Se.height:1})}function $e(z,G){return z&&G?{x:z.left-G.left,y:z.top-G.top}:H}function le(z){return function(Se){for(var nt=arguments.length,yt=new Array(nt>1?nt-1:0),gt=1;gt<nt;gt++)yt[gt-1]=arguments[gt];return yt.reduce(($,ge)=>Or(rn({},$),{top:$.top+z*ge.y,bottom:$.bottom+z*ge.y,left:$.left+z*ge.x,right:$.right+z*ge.x}),rn({},Se))}}const He=le(1);function rt(z){if(z.startsWith("matrix3d(")){const G=z.slice(9,-1).split(/, /);return{x:+G[12],y:+G[13],scaleX:+G[0],scaleY:+G[5]}}else if(z.startsWith("matrix(")){const G=z.slice(7,-1).split(/, /);return{x:+G[4],y:+G[5],scaleX:+G[0],scaleY:+G[3]}}return null}function ce(z,G,Se){const nt=rt(G);if(!nt)return z;const{scaleX:yt,scaleY:gt,x:$,y:ge}=nt,P=z.left-$-(1-yt)*parseFloat(Se),ee=z.top-ge-(1-gt)*parseFloat(Se.slice(Se.indexOf(" ")+1)),Be=yt?z.width/yt:z.width,ft=gt?z.height/gt:z.height;return{width:Be,height:ft,top:ee,right:P+Be,bottom:ee+ft,left:P}}const Te={ignoreTransform:!1};function Ve(z,G){G===void 0&&(G=Te);let Se=z.getBoundingClientRect();if(G.ignoreTransform){const{transform:ee,transformOrigin:Be}=(0,v.Jj)(z).getComputedStyle(z);ee&&(Se=ce(Se,ee,Be))}const{top:nt,left:yt,width:gt,height:$,bottom:ge,right:P}=Se;return{top:nt,left:yt,width:gt,height:$,bottom:ge,right:P}}function Ge(z){return Ve(z,{ignoreTransform:!0})}function ot(z){const G=z.innerWidth,Se=z.innerHeight;return{top:0,left:0,right:G,bottom:Se,width:G,height:Se}}function ht(z,G){return G===void 0&&(G=(0,v.Jj)(z).getComputedStyle(z)),G.position==="fixed"}function bt(z,G){G===void 0&&(G=(0,v.Jj)(z).getComputedStyle(z));const Se=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(yt=>{const gt=G[yt];return typeof gt=="string"?Se.test(gt):!1})}function Vt(z,G){const Se=[];function nt(yt){if(G!=null&&Se.length>=G||!yt)return Se;if((0,v.qk)(yt)&&yt.scrollingElement!=null&&!Se.includes(yt.scrollingElement))return Se.push(yt.scrollingElement),Se;if(!(0,v.Re)(yt)||(0,v.vZ)(yt)||Se.includes(yt))return Se;const gt=(0,v.Jj)(z).getComputedStyle(yt);return yt!==z&&bt(yt,gt)&&Se.push(yt),ht(yt,gt)?Se:nt(yt.parentNode)}return z?nt(z):Se}function Kt(z){const[G]=Vt(z,1);return G!=null?G:null}function Tt(z){return!v.Nq||!z?null:(0,v.FJ)(z)?z:(0,v.UG)(z)?(0,v.qk)(z)||z===(0,v.r3)(z).scrollingElement?window:(0,v.Re)(z)?z:null:null}function Mt(z){return(0,v.FJ)(z)?z.scrollX:z.scrollLeft}function Ht(z){return(0,v.FJ)(z)?z.scrollY:z.scrollTop}function St(z){return{x:Mt(z),y:Ht(z)}}var Qe;(function(z){z[z.Forward=1]="Forward",z[z.Backward=-1]="Backward"})(Qe||(Qe={}));function Et(z){return!v.Nq||!z?!1:z===document.scrollingElement}function tn(z){const G={x:0,y:0},Se=Et(z)?{height:window.innerHeight,width:window.innerWidth}:{height:z.clientHeight,width:z.clientWidth},nt={x:z.scrollWidth-Se.width,y:z.scrollHeight-Se.height},yt=z.scrollTop<=G.y,gt=z.scrollLeft<=G.x,$=z.scrollTop>=nt.y,ge=z.scrollLeft>=nt.x;return{isTop:yt,isLeft:gt,isBottom:$,isRight:ge,maxScroll:nt,minScroll:G}}const un={x:.2,y:.2};function nn(z,G,Se,nt,yt){let{top:gt,left:$,right:ge,bottom:P}=Se;nt===void 0&&(nt=10),yt===void 0&&(yt=un);const{isTop:ee,isBottom:Be,isLeft:ft,isRight:xn}=tn(z),In={x:0,y:0},jn={x:0,y:0},Sn={height:G.height*yt.y,width:G.width*yt.x};return!ee&&gt<=G.top+Sn.height?(In.y=Qe.Backward,jn.y=nt*Math.abs((G.top+Sn.height-gt)/Sn.height)):!Be&&P>=G.bottom-Sn.height&&(In.y=Qe.Forward,jn.y=nt*Math.abs((G.bottom-Sn.height-P)/Sn.height)),!xn&&ge>=G.right-Sn.width?(In.x=Qe.Forward,jn.x=nt*Math.abs((G.right-Sn.width-ge)/Sn.width)):!ft&&$<=G.left+Sn.width&&(In.x=Qe.Backward,jn.x=nt*Math.abs((G.left+Sn.width-$)/Sn.width)),{direction:In,speed:jn}}function pn(z){if(z===document.scrollingElement){const{innerWidth:gt,innerHeight:$}=window;return{top:0,left:0,right:gt,bottom:$,width:gt,height:$}}const{top:G,left:Se,right:nt,bottom:yt}=z.getBoundingClientRect();return{top:G,left:Se,right:nt,bottom:yt,width:z.clientWidth,height:z.clientHeight}}function Rt(z){return z.reduce((G,Se)=>(0,v.IH)(G,St(Se)),H)}function jt(z){return z.reduce((G,Se)=>G+Mt(Se),0)}function hn(z){return z.reduce((G,Se)=>G+Ht(Se),0)}function tt(z,G){if(G===void 0&&(G=Ve),!z)return;const{top:Se,left:nt,bottom:yt,right:gt}=G(z);Kt(z)&&(yt<=0||gt<=0||Se>=window.innerHeight||nt>=window.innerWidth)&&z.scrollIntoView({block:"center",inline:"center"})}const ie=[["x",["left","right"],jt],["y",["top","bottom"],hn]];class fe{constructor(G,Se){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const nt=Vt(Se),yt=Rt(nt);this.rect=rn({},G),this.width=G.width,this.height=G.height;for(const[gt,$,ge]of ie)for(const P of $)Object.defineProperty(this,P,{get:()=>{const ee=ge(nt),Be=yt[gt]-ee;return this.rect[P]+Be},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class me{constructor(G){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(Se=>{var nt;return(nt=this.target)==null?void 0:nt.removeEventListener(...Se)})},this.target=G}add(G,Se,nt){var yt;(yt=this.target)==null||yt.addEventListener(G,Se,nt),this.listeners.push([G,Se,nt])}}function ke(z){const{EventTarget:G}=(0,v.Jj)(z);return z instanceof G?z:(0,v.r3)(z)}function Ie(z,G){const Se=Math.abs(z.x),nt=Math.abs(z.y);return typeof G=="number"?Math.sqrt(Au(Se,2)+Au(nt,2))>G:"x"in G&&"y"in G?Se>G.x&&nt>G.y:"x"in G?Se>G.x:"y"in G?nt>G.y:!1}var At;(function(z){z.Click="click",z.DragStart="dragstart",z.Keydown="keydown",z.ContextMenu="contextmenu",z.Resize="resize",z.SelectionChange="selectionchange",z.VisibilityChange="visibilitychange"})(At||(At={}));function Jt(z){z.preventDefault()}function Vn(z){z.stopPropagation()}var Ln;(function(z){z.Space="Space",z.Down="ArrowDown",z.Right="ArrowRight",z.Left="ArrowLeft",z.Up="ArrowUp",z.Esc="Escape",z.Enter="Enter"})(Ln||(Ln={}));const ue={start:[Ln.Space,Ln.Enter],cancel:[Ln.Esc],end:[Ln.Space,Ln.Enter]},je=(z,G)=>{let{currentCoordinates:Se}=G;switch(z.code){case Ln.Right:return Or(rn({},Se),{x:Se.x+25});case Ln.Left:return Or(rn({},Se),{x:Se.x-25});case Ln.Down:return Or(rn({},Se),{y:Se.y+25});case Ln.Up:return Or(rn({},Se),{y:Se.y-25})}};class Ye{constructor(G){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=G;const{event:{target:Se}}=G;this.props=G,this.listeners=new me((0,v.r3)(Se)),this.windowListeners=new me((0,v.Jj)(Se)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(At.Resize,this.handleCancel),this.windowListeners.add(At.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(At.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:G,onStart:Se}=this.props,nt=G.node.current;nt&&tt(nt),Se(H)}handleKeyDown(G){if((0,v.vd)(G)){const{active:Se,context:nt,options:yt}=this.props,{keyboardCodes:gt=ue,coordinateGetter:$=je,scrollBehavior:ge="smooth"}=yt,{code:P}=G;if(gt.end.includes(P)){this.handleEnd(G);return}if(gt.cancel.includes(P)){this.handleCancel(G);return}const{collisionRect:ee}=nt.current,Be=ee?{x:ee.left,y:ee.top}:H;this.referenceCoordinates||(this.referenceCoordinates=Be);const ft=$(G,{active:Se,context:nt.current,currentCoordinates:Be});if(ft){const xn=(0,v.$X)(ft,Be),In={x:0,y:0},{scrollableAncestors:jn}=nt.current;for(const Sn of jn){const Zn=G.code,{isTop:_r,isRight:or,isLeft:Mr,isBottom:Yr,maxScroll:Hr,minScroll:$r}=tn(Sn),Tr=pn(Sn),Nr={x:Math.min(Zn===Ln.Right?Tr.right-Tr.width/2:Tr.right,Math.max(Zn===Ln.Right?Tr.left:Tr.left+Tr.width/2,ft.x)),y:Math.min(Zn===Ln.Down?Tr.bottom-Tr.height/2:Tr.bottom,Math.max(Zn===Ln.Down?Tr.top:Tr.top+Tr.height/2,ft.y))},zr=Zn===Ln.Right&&!or||Zn===Ln.Left&&!Mr,Ti=Zn===Ln.Down&&!Yr||Zn===Ln.Up&&!_r;if(zr&&Nr.x!==ft.x){const pi=Sn.scrollLeft+xn.x,Di=Zn===Ln.Right&&pi<=Hr.x||Zn===Ln.Left&&pi>=$r.x;if(Di&&!xn.y){Sn.scrollTo({left:pi,behavior:ge});return}Di?In.x=Sn.scrollLeft-pi:In.x=Zn===Ln.Right?Sn.scrollLeft-Hr.x:Sn.scrollLeft-$r.x,In.x&&Sn.scrollBy({left:-In.x,behavior:ge});break}else if(Ti&&Nr.y!==ft.y){const pi=Sn.scrollTop+xn.y,Di=Zn===Ln.Down&&pi<=Hr.y||Zn===Ln.Up&&pi>=$r.y;if(Di&&!xn.x){Sn.scrollTo({top:pi,behavior:ge});return}Di?In.y=Sn.scrollTop-pi:In.y=Zn===Ln.Down?Sn.scrollTop-Hr.y:Sn.scrollTop-$r.y,In.y&&Sn.scrollBy({top:-In.y,behavior:ge});break}}this.handleMove(G,(0,v.IH)((0,v.$X)(ft,this.referenceCoordinates),In))}}}handleMove(G,Se){const{onMove:nt}=this.props;G.preventDefault(),nt(Se)}handleEnd(G){const{onEnd:Se}=this.props;G.preventDefault(),this.detach(),Se()}handleCancel(G){const{onCancel:Se}=this.props;G.preventDefault(),this.detach(),Se()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ye.activators=[{eventName:"onKeyDown",handler:(z,G,Se)=>{let{keyboardCodes:nt=ue,onActivation:yt}=G,{active:gt}=Se;const{code:$}=z.nativeEvent;if(nt.start.includes($)){const ge=gt.activatorNode.current;return ge&&z.target!==ge?!1:(z.preventDefault(),yt==null||yt({event:z.nativeEvent}),!0)}return!1}}];function qe(z){return Boolean(z&&"distance"in z)}function kt(z){return Boolean(z&&"delay"in z)}class vn{constructor(G,Se,nt){var yt;nt===void 0&&(nt=ke(G.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=G,this.events=Se;const{event:gt}=G,{target:$}=gt;this.props=G,this.events=Se,this.document=(0,v.r3)($),this.documentListeners=new me(this.document),this.listeners=new me(nt),this.windowListeners=new me((0,v.Jj)($)),this.initialCoordinates=(yt=(0,v.DC)(gt))!=null?yt:H,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:G,props:{options:{activationConstraint:Se}}}=this;if(this.listeners.add(G.move.name,this.handleMove,{passive:!1}),this.listeners.add(G.end.name,this.handleEnd),this.windowListeners.add(At.Resize,this.handleCancel),this.windowListeners.add(At.DragStart,Jt),this.windowListeners.add(At.VisibilityChange,this.handleCancel),this.windowListeners.add(At.ContextMenu,Jt),this.documentListeners.add(At.Keydown,this.handleKeydown),Se){if(qe(Se))return;if(kt(Se)){this.timeoutId=setTimeout(this.handleStart,Se.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:G}=this,{onStart:Se}=this.props;G&&(this.activated=!0,this.documentListeners.add(At.Click,Vn,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(At.SelectionChange,this.removeTextSelection),Se(G))}handleMove(G){var Se;const{activated:nt,initialCoordinates:yt,props:gt}=this,{onMove:$,options:{activationConstraint:ge}}=gt;if(!yt)return;const P=(Se=(0,v.DC)(G))!=null?Se:H,ee=(0,v.$X)(yt,P);if(!nt&&ge){if(kt(ge))return Ie(ee,ge.tolerance)?this.handleCancel():void 0;if(qe(ge))return ge.tolerance!=null&&Ie(ee,ge.tolerance)?this.handleCancel():Ie(ee,ge.distance)?this.handleStart():void 0}G.cancelable&&G.preventDefault(),$(P)}handleEnd(){const{onEnd:G}=this.props;this.detach(),G()}handleCancel(){const{onCancel:G}=this.props;this.detach(),G()}handleKeydown(G){G.code===Ln.Esc&&this.handleCancel()}removeTextSelection(){var G;(G=this.document.getSelection())==null||G.removeAllRanges()}}const sn={move:{name:"pointermove"},end:{name:"pointerup"}};class It extends vn{constructor(G){const{event:Se}=G,nt=(0,v.r3)(Se.target);super(G,sn,nt)}}It.activators=[{eventName:"onPointerDown",handler:(z,G)=>{let{nativeEvent:Se}=z,{onActivation:nt}=G;return!Se.isPrimary||Se.button!==0?!1:(nt==null||nt({event:Se}),!0)}}];const de={move:{name:"mousemove"},end:{name:"mouseup"}};var Oe;(function(z){z[z.RightClick=2]="RightClick"})(Oe||(Oe={}));class st extends vn{constructor(G){super(G,de,(0,v.r3)(G.event.target))}}st.activators=[{eventName:"onMouseDown",handler:(z,G)=>{let{nativeEvent:Se}=z,{onActivation:nt}=G;return Se.button===Oe.RightClick?!1:(nt==null||nt({event:Se}),!0)}}];const _t={move:{name:"touchmove"},end:{name:"touchend"}};class Xt extends vn{constructor(G){super(G,_t)}static setup(){return window.addEventListener(_t.move.name,G,{capture:!1,passive:!1}),function(){window.removeEventListener(_t.move.name,G)};function G(){}}}Xt.activators=[{eventName:"onTouchStart",handler:(z,G)=>{let{nativeEvent:Se}=z,{onActivation:nt}=G;const{touches:yt}=Se;return yt.length>1?!1:(nt==null||nt({event:Se}),!0)}}];var bn;(function(z){z[z.Pointer=0]="Pointer",z[z.DraggableRect=1]="DraggableRect"})(bn||(bn={}));var $n;(function(z){z[z.TreeOrder=0]="TreeOrder",z[z.ReversedTreeOrder=1]="ReversedTreeOrder"})($n||($n={}));function Ce(z){let{acceleration:G,activator:Se=bn.Pointer,canScroll:nt,draggingRect:yt,enabled:gt,interval:$=5,order:ge=$n.TreeOrder,pointerCoordinates:P,scrollableAncestors:ee,scrollableAncestorRects:Be,delta:ft,threshold:xn}=z;const In=xt({delta:ft,disabled:!gt}),[jn,Sn]=(0,v.Yz)(),Zn=(0,A.useRef)({x:0,y:0}),_r=(0,A.useRef)({x:0,y:0}),or=(0,A.useMemo)(()=>{switch(Se){case bn.Pointer:return P?{top:P.y,bottom:P.y,left:P.x,right:P.x}:null;case bn.DraggableRect:return yt}},[Se,yt,P]),Mr=(0,A.useRef)(null),Yr=(0,A.useCallback)(()=>{const $r=Mr.current;if(!$r)return;const Tr=Zn.current.x*_r.current.x,Nr=Zn.current.y*_r.current.y;$r.scrollBy(Tr,Nr)},[]),Hr=(0,A.useMemo)(()=>ge===$n.TreeOrder?[...ee].reverse():ee,[ge,ee]);(0,A.useEffect)(()=>{if(!gt||!ee.length||!or){Sn();return}for(const $r of Hr){if((nt==null?void 0:nt($r))===!1)continue;const Tr=ee.indexOf($r),Nr=Be[Tr];if(!Nr)continue;const{direction:zr,speed:Ti}=nn($r,Nr,or,G,xn);for(const pi of["x","y"])In[pi][zr[pi]]||(Ti[pi]=0,zr[pi]=0);if(Ti.x>0||Ti.y>0){Sn(),Mr.current=$r,jn(Yr,$),Zn.current=Ti,_r.current=zr;return}}Zn.current={x:0,y:0},_r.current={x:0,y:0},Sn()},[G,Yr,nt,Sn,gt,$,JSON.stringify(or),JSON.stringify(In),jn,ee,Hr,Be,JSON.stringify(xn)])}const Ze={x:{[Qe.Backward]:!1,[Qe.Forward]:!1},y:{[Qe.Backward]:!1,[Qe.Forward]:!1}};function xt(z){let{delta:G,disabled:Se}=z;const nt=(0,v.D9)(G);return(0,v.Gj)(yt=>{if(Se||!nt||!yt)return Ze;const gt={x:Math.sign(G.x-nt.x),y:Math.sign(G.y-nt.y)};return{x:{[Qe.Backward]:yt.x[Qe.Backward]||gt.x===-1,[Qe.Forward]:yt.x[Qe.Forward]||gt.x===1},y:{[Qe.Backward]:yt.y[Qe.Backward]||gt.y===-1,[Qe.Forward]:yt.y[Qe.Forward]||gt.y===1}}},[Se,G,nt])}function Wt(z,G){const Se=G!==null?z.get(G):void 0,nt=Se?Se.node.current:null;return(0,v.Gj)(yt=>{var gt;return G===null?null:(gt=nt!=null?nt:yt)!=null?gt:null},[nt,G])}function fn(z,G){return(0,A.useMemo)(()=>z.reduce((Se,nt)=>{const{sensor:yt}=nt,gt=yt.activators.map($=>({eventName:$.eventName,handler:G($.handler,nt)}));return[...Se,...gt]},[]),[z,G])}var _n;(function(z){z[z.Always=0]="Always",z[z.BeforeDragging=1]="BeforeDragging",z[z.WhileDragging=2]="WhileDragging"})(_n||(_n={}));var Bn;(function(z){z.Optimized="optimized"})(Bn||(Bn={}));const ve=new Map;function we(z,G){let{dragging:Se,dependencies:nt,config:yt}=G;const[gt,$]=(0,A.useState)(null),{frequency:ge,measure:P,strategy:ee}=yt,Be=(0,A.useRef)(z),ft=Zn(),xn=(0,v.Ey)(ft),In=(0,A.useCallback)(function(_r){_r===void 0&&(_r=[]),!xn.current&&$(or=>or===null?_r:or.concat(_r.filter(Mr=>!or.includes(Mr))))},[xn]),jn=(0,A.useRef)(null),Sn=(0,v.Gj)(_r=>{if(ft&&!Se)return ve;if(!_r||_r===ve||Be.current!==z||gt!=null){const or=new Map;for(let Mr of z){if(!Mr)continue;if(gt&&gt.length>0&&!gt.includes(Mr.id)&&Mr.rect.current){or.set(Mr.id,Mr.rect.current);continue}const Yr=Mr.node.current,Hr=Yr?new fe(P(Yr),Yr):null;Mr.rect.current=Hr,Hr&&or.set(Mr.id,Hr)}return or}return _r},[z,gt,Se,ft,P]);return(0,A.useEffect)(()=>{Be.current=z},[z]),(0,A.useEffect)(()=>{ft||In()},[Se,ft]),(0,A.useEffect)(()=>{gt&&gt.length>0&&$(null)},[JSON.stringify(gt)]),(0,A.useEffect)(()=>{ft||typeof ge!="number"||jn.current!==null||(jn.current=setTimeout(()=>{In(),jn.current=null},ge))},[ge,ft,In,...nt]),{droppableRects:Sn,measureDroppableContainers:In,measuringScheduled:gt!=null};function Zn(){switch(ee){case _n.Always:return!1;case _n.BeforeDragging:return Se;default:return!Se}}}function g(z,G){return(0,v.Gj)(Se=>z?Se||(typeof G=="function"?G(z):z):null,[G,z])}function p(z,G){return g(z,G)}function x(z){let{callback:G,disabled:Se}=z;const nt=(0,v.zX)(G),yt=(0,A.useMemo)(()=>{if(Se||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:gt}=window;return new gt(nt)},[nt,Se]);return(0,A.useEffect)(()=>()=>yt==null?void 0:yt.disconnect(),[yt]),yt}function S(z){let{callback:G,disabled:Se}=z;const nt=(0,v.zX)(G),yt=(0,A.useMemo)(()=>{if(Se||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:gt}=window;return new gt(nt)},[Se]);return(0,A.useEffect)(()=>()=>yt==null?void 0:yt.disconnect(),[yt]),yt}function O(z){return new fe(Ve(z),z)}function q(z,G,Se){G===void 0&&(G=O);const[nt,yt]=(0,A.useReducer)(ge,null),gt=x({callback(P){if(z)for(const ee of P){const{type:Be,target:ft}=ee;if(Be==="childList"&&ft instanceof HTMLElement&&ft.contains(z)){yt();break}}}}),$=S({callback:yt});return(0,v.LI)(()=>{yt(),z?($==null||$.observe(z),gt==null||gt.observe(document.body,{childList:!0,subtree:!0})):($==null||$.disconnect(),gt==null||gt.disconnect())},[z]),nt;function ge(P){if(!z)return null;if(z.isConnected===!1){var ee;return(ee=P!=null?P:Se)!=null?ee:null}const Be=G(z);return JSON.stringify(P)===JSON.stringify(Be)?P:Be}}function N(z){const G=g(z);return $e(z,G)}const V=[];function F(z){const G=(0,A.useRef)(z),Se=(0,v.Gj)(nt=>z?nt&&nt!==V&&z&&G.current&&z.parentNode===G.current.parentNode?nt:Vt(z):V,[z]);return(0,A.useEffect)(()=>{G.current=z},[z]),Se}function Y(z){const[G,Se]=(0,A.useState)(null),nt=(0,A.useRef)(z),yt=(0,A.useCallback)(gt=>{const $=Tt(gt.target);$&&Se(ge=>ge?(ge.set($,St($)),new Map(ge)):null)},[]);return(0,A.useEffect)(()=>{const gt=nt.current;if(z!==gt){$(gt);const ge=z.map(P=>{const ee=Tt(P);return ee?(ee.addEventListener("scroll",yt,{passive:!0}),[ee,St(ee)]):null}).filter(P=>P!=null);Se(ge.length?new Map(ge):null),nt.current=z}return()=>{$(z),$(gt)};function $(ge){ge.forEach(P=>{const ee=Tt(P);ee==null||ee.removeEventListener("scroll",yt)})}},[yt,z]),(0,A.useMemo)(()=>z.length?G?Array.from(G.values()).reduce((gt,$)=>(0,v.IH)(gt,$),H):Rt(z):H,[z,G])}function Je(z,G){G===void 0&&(G=[]);const Se=(0,A.useRef)(null);return(0,A.useEffect)(()=>{Se.current=null},G),(0,A.useEffect)(()=>{const nt=z!==H;nt&&!Se.current&&(Se.current=z),!nt&&Se.current&&(Se.current=null)},[z]),Se.current?(0,v.$X)(z,Se.current):H}function pt(z){(0,A.useEffect)(()=>{if(!v.Nq)return;const G=z.map(Se=>{let{sensor:nt}=Se;return nt.setup==null?void 0:nt.setup()});return()=>{for(const Se of G)Se==null||Se()}},z.map(G=>{let{sensor:Se}=G;return Se}))}function Pt(z,G){return(0,A.useMemo)(()=>z.reduce((Se,nt)=>{let{eventName:yt,handler:gt}=nt;return Se[yt]=$=>{gt($,G)},Se},{}),[z,G])}function en(z){return(0,A.useMemo)(()=>z?ot(z):null,[z])}const dn=[];function Mn(z,G){G===void 0&&(G=Ve);const[Se]=z,nt=en(Se?(0,v.Jj)(Se):null),[yt,gt]=(0,A.useReducer)(ge,dn),$=S({callback:gt});return z.length>0&&yt===dn&&gt(),(0,v.LI)(()=>{z.length?z.forEach(P=>$==null?void 0:$.observe(P)):($==null||$.disconnect(),gt())},[z]),yt;function ge(){return z.length?z.map(P=>Et(P)?nt:new fe(G(P),P)):dn}}function Cn(z){if(!z)return null;if(z.children.length>1)return z;const G=z.children[0];return(0,v.Re)(G)?G:z}function Ut(z){let{measure:G}=z;const[Se,nt]=(0,A.useState)(null),yt=(0,A.useCallback)(ee=>{for(const{target:Be}of ee)if((0,v.Re)(Be)){nt(ft=>{const xn=G(Be);return ft?Or(rn({},ft),{width:xn.width,height:xn.height}):xn});break}},[G]),gt=S({callback:yt}),$=(0,A.useCallback)(ee=>{const Be=Cn(ee);gt==null||gt.disconnect(),Be&&(gt==null||gt.observe(Be)),nt(Be?G(Be):null)},[G,gt]),[ge,P]=(0,v.wm)($);return(0,A.useMemo)(()=>({nodeRef:ge,rect:Se,setRef:P}),[Se,ge,P])}const Rn=[{sensor:It,options:{}},{sensor:Ye,options:{}}],lr={current:{}},Hn={draggable:{measure:Ge},droppable:{measure:Ge,strategy:_n.WhileDragging,frequency:Bn.Optimized},dragOverlay:{measure:Ve}};class Jn extends Map{get(G){var Se;return G!=null&&(Se=super.get(G))!=null?Se:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(G=>{let{disabled:Se}=G;return!Se})}getNodeFor(G){var Se,nt;return(Se=(nt=this.get(G))==null?void 0:nt.node.current)!=null?Se:void 0}}const Nn={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Jn,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Bt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Hn,measureDroppableContainers:Bt,windowRect:null,measuringScheduled:!1},Yn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Bt,draggableNodes:new Map,over:null,measureDroppableContainers:Bt},br=(0,A.createContext)(Yn),Qn=(0,A.createContext)(Nn);function cr(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Jn}}}function vr(z,G){switch(G.type){case We.DragStart:return Or(rn({},z),{draggable:Or(rn({},z.draggable),{initialCoordinates:G.initialCoordinates,active:G.active})});case We.DragMove:return z.draggable.active?Or(rn({},z),{draggable:Or(rn({},z.draggable),{translate:{x:G.coordinates.x-z.draggable.initialCoordinates.x,y:G.coordinates.y-z.draggable.initialCoordinates.y}})}):z;case We.DragEnd:case We.DragCancel:return Or(rn({},z),{draggable:Or(rn({},z.draggable),{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case We.RegisterDroppable:{const{element:Se}=G,{id:nt}=Se,yt=new Jn(z.droppable.containers);return yt.set(nt,Se),Or(rn({},z),{droppable:Or(rn({},z.droppable),{containers:yt})})}case We.SetDroppableDisabled:{const{id:Se,key:nt,disabled:yt}=G,gt=z.droppable.containers.get(Se);if(!gt||nt!==gt.key)return z;const $=new Jn(z.droppable.containers);return $.set(Se,Or(rn({},gt),{disabled:yt})),Or(rn({},z),{droppable:Or(rn({},z.droppable),{containers:$})})}case We.UnregisterDroppable:{const{id:Se,key:nt}=G,yt=z.droppable.containers.get(Se);if(!yt||nt!==yt.key)return z;const gt=new Jn(z.droppable.containers);return gt.delete(Se),Or(rn({},z),{droppable:Or(rn({},z.droppable),{containers:gt})})}default:return z}}function mr(z){let{disabled:G}=z;const{active:Se,activatorEvent:nt,draggableNodes:yt}=(0,A.useContext)(br),gt=(0,v.D9)(nt),$=(0,v.D9)(Se==null?void 0:Se.id);return(0,A.useEffect)(()=>{if(!G&&!nt&&gt&&$!=null){if(!(0,v.vd)(gt)||document.activeElement===gt.target)return;const ge=yt.get($);if(!ge)return;const{activatorNode:P,node:ee}=ge;if(!P.current&&!ee.current)return;requestAnimationFrame(()=>{for(const Be of[P.current,ee.current]){if(!Be)continue;const ft=(0,v.so)(Be);if(ft){ft.focus();break}}})}},[nt,G,yt,$,gt]),null}function Er(z,G){let yt=G,{transform:Se}=yt,nt=Bo(yt,["transform"]);return z!=null&&z.length?z.reduce((gt,$)=>$(rn({transform:gt},nt)),Se):Se}function _i(z){return(0,A.useMemo)(()=>({draggable:rn(rn({},Hn.draggable),z==null?void 0:z.draggable),droppable:rn(rn({},Hn.droppable),z==null?void 0:z.droppable),dragOverlay:rn(rn({},Hn.dragOverlay),z==null?void 0:z.dragOverlay)}),[z==null?void 0:z.draggable,z==null?void 0:z.droppable,z==null?void 0:z.dragOverlay])}function Dr(z){let{activeNode:G,measure:Se,initialRect:nt,config:yt=!0}=z;const gt=(0,A.useRef)(!1),{x:$,y:ge}=typeof yt=="boolean"?{x:yt,y:yt}:yt;(0,v.LI)(()=>{if(!$&&!ge||!G){gt.current=!1;return}if(gt.current||!nt)return;const ee=G==null?void 0:G.node.current;if(!ee||ee.isConnected===!1)return;const Be=Se(ee),ft=$e(Be,nt);if($||(ft.x=0),ge||(ft.y=0),gt.current=!0,Math.abs(ft.x)>0||Math.abs(ft.y)>0){const xn=Kt(ee);xn&&xn.scrollBy({top:ft.y,left:ft.x})}},[G,$,ge,nt,Se])}const ti=(0,A.createContext)(Or(rn({},H),{scaleX:1,scaleY:1}));var Kr;(function(z){z[z.Uninitialized=0]="Uninitialized",z[z.Initializing=1]="Initializing",z[z.Initialized=2]="Initialized"})(Kr||(Kr={}));const Vi=(0,A.memo)(function(G){var Se,nt,yt,gt;let Qs=G,{id:$,accessibility:ge,autoScroll:P=!0,children:ee,sensors:Be=Rn,collisionDetection:ft=ye,measuring:xn,modifiers:In}=Qs,jn=Bo(Qs,["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"]);const Sn=(0,A.useReducer)(vr,void 0,cr),[Zn,_r]=Sn,[or,Mr]=he(),[Yr,Hr]=(0,A.useState)(Kr.Uninitialized),$r=Yr===Kr.Initialized,{draggable:{active:Tr,nodes:Nr,translate:zr},droppable:{containers:Ti}}=Zn,pi=Tr?Nr.get(Tr):null,Di=(0,A.useRef)({initial:null,translated:null}),Ci=(0,A.useMemo)(()=>{var ki;return Tr!=null?{id:Tr,data:(ki=pi==null?void 0:pi.data)!=null?ki:lr,rect:Di}:null},[Tr,pi]),oi=(0,A.useRef)(null),[la,h1]=(0,A.useState)(null),[lo,Fo]=(0,A.useState)(null),ks=(0,v.Ey)(jn,Object.values(jn)),Qa=(0,v.Ld)("DndDescribedBy",$),Ma=(0,A.useMemo)(()=>Ti.getEnabled(),[Ti]),$s=_i(xn),{droppableRects:qs,measureDroppableContainers:ca,measuringScheduled:Sa}=we(Ma,{dragging:$r,dependencies:[zr.x,zr.y],config:$s.droppable}),qo=Wt(Nr,Tr),p1=(0,A.useMemo)(()=>lo?(0,v.DC)(lo):null,[lo]),m1=ho(),ua=p(qo,$s.draggable.measure);Dr({activeNode:Tr?Nr.get(Tr):null,config:m1.layoutShiftCompensation,initialRect:ua,measure:$s.draggable.measure});const co=q(qo,$s.draggable.measure,ua),is=q(qo?qo.parentElement:null),ms=(0,A.useRef)({activatorEvent:null,active:null,activeNode:qo,collisionRect:null,collisions:null,droppableRects:qs,draggableNodes:Nr,draggingNode:null,draggingNodeRect:null,droppableContainers:Ti,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ea=Ti.getNodeFor((Se=ms.current.over)==null?void 0:Se.id),ro=Ut({measure:$s.dragOverlay.measure}),Lo=(nt=ro.nodeRef.current)!=null?nt:qo,mn=$r?(yt=ro.rect)!=null?yt:co:null,Bi=Boolean(ro.nodeRef.current&&ro.rect),os=N(Bi?null:co),Ts=en(Lo?(0,v.Jj)(Lo):null),Do=F($r?Ea!=null?Ea:qo:null),gs=Mn(Do),Jo=Er(In,{transform:{x:zr.x-os.x,y:zr.y-os.y,scaleX:1,scaleY:1},activatorEvent:lo,active:Ci,activeNodeRect:co,containerNodeRect:is,draggingNodeRect:mn,over:ms.current.over,overlayNodeRect:ro.rect,scrollableAncestors:Do,scrollableAncestorRects:gs,windowRect:Ts}),uo=p1?(0,v.IH)(p1,zr):null,yo=Y(Do),si=Je(yo),fa=Je(yo,[co]),li=(0,v.IH)(Jo,si),fo=mn?He(mn,Jo):null,Ps=Ci&&fo?ft({active:Ci,collisionRect:fo,droppableRects:qs,droppableContainers:Ma,pointerCoordinates:uo}):null,da=Xe(Ps,"id"),[ko,sr]=(0,A.useState)(null),vs=Bi?Jo:(0,v.IH)(Jo,fa),Us=Re(vs,(gt=ko==null?void 0:ko.rect)!=null?gt:null,co),Cs=(0,A.useCallback)((ki,Li)=>{let{sensor:po,options:$o}=Li;if(oi.current==null)return;const ci=Nr.get(oi.current);if(!ci)return;const Ee=ki.nativeEvent,mo=new po({active:oi.current,activeNode:ci,event:Ee,options:$o,context:ms,onStart(qi){const ai=oi.current;if(ai==null)return;const Io=Nr.get(ai);if(!Io)return;const{onDragStart:Zs}=ks.current,ss={active:{id:ai,data:Io.data,rect:Di}};(0,b.unstable_batchedUpdates)(()=>{Zs==null||Zs(ss),Hr(Kr.Initializing),_r({type:We.DragStart,initialCoordinates:qi,active:ai}),or({type:"onDragStart",event:ss})})},onMove(qi){_r({type:We.DragMove,coordinates:qi})},onEnd:js(We.DragEnd),onCancel:js(We.DragCancel)});(0,b.unstable_batchedUpdates)(()=>{h1(mo),Fo(ki.nativeEvent)});function js(qi){return function(){return Pl(this,null,function*(){const{active:Io,collisions:Zs,over:ss,scrollAdjustedTranslate:_s}=ms.current;let $i=null;if(Io&&_s){const{cancelDrop:go}=ks.current;$i={activatorEvent:Ee,active:Io,collisions:Zs,delta:_s,over:ss},qi===We.DragEnd&&typeof go=="function"&&(yield Promise.resolve(go($i)))&&(qi=We.DragCancel)}oi.current=null,(0,b.unstable_batchedUpdates)(()=>{_r({type:qi}),Hr(Kr.Uninitialized),sr(null),h1(null),Fo(null);const go=qi===We.DragEnd?"onDragEnd":"onDragCancel";if($i){const gi=ks.current[go];gi==null||gi($i),or({type:go,event:$i})}})})}}},[Nr]),Js=(0,A.useCallback)((ki,Li)=>(po,$o)=>{const ci=po.nativeEvent,Ee=Nr.get($o);if(oi.current!==null||!Ee||ci.dndKit||ci.defaultPrevented)return;const mo={active:Ee};ki(po,Li.options,mo)===!0&&(ci.dndKit={capturedBy:Li.sensor},oi.current=$o,Cs(po,Li))},[Nr,Cs]),La=fn(Be,Js);pt(Be),(0,v.LI)(()=>{co&&Yr===Kr.Initializing&&Hr(Kr.Initialized)},[co,Yr]),(0,A.useEffect)(()=>{const{onDragMove:ki}=ks.current,{active:Li,activatorEvent:po,collisions:$o,over:ci}=ms.current;if(!Li||!po)return;const Ee={active:Li,activatorEvent:po,collisions:$o,delta:{x:li.x,y:li.y},over:ci};(0,b.unstable_batchedUpdates)(()=>{ki==null||ki(Ee),or({type:"onDragMove",event:Ee})})},[li.x,li.y]),(0,A.useEffect)(()=>{const{active:ki,activatorEvent:Li,collisions:po,droppableContainers:$o,scrollAdjustedTranslate:ci}=ms.current;if(!ki||oi.current==null||!Li||!ci)return;const{onDragOver:Ee}=ks.current,mo=$o.get(da),js=mo&&mo.rect.current?{id:mo.id,rect:mo.rect.current,data:mo.data,disabled:mo.disabled}:null,qi={active:ki,activatorEvent:Li,collisions:po,delta:{x:ci.x,y:ci.y},over:js};(0,b.unstable_batchedUpdates)(()=>{sr(js),Ee==null||Ee(qi),or({type:"onDragOver",event:qi})})},[da]),(0,v.LI)(()=>{ms.current={activatorEvent:lo,active:Ci,activeNode:qo,collisionRect:fo,collisions:Ps,droppableRects:qs,draggableNodes:Nr,draggingNode:Lo,draggingNodeRect:mn,droppableContainers:Ti,over:ko,scrollableAncestors:Do,scrollAdjustedTranslate:li},Di.current={initial:mn,translated:fo}},[Ci,qo,Ps,fo,Nr,Lo,mn,qs,Ti,ko,Do,li]),Ce(Or(rn({},m1),{delta:zr,draggingRect:fo,pointerCoordinates:uo,scrollableAncestors:Do,scrollableAncestorRects:gs}));const Zi=(0,A.useMemo)(()=>({active:Ci,activeNode:qo,activeNodeRect:co,activatorEvent:lo,collisions:Ps,containerNodeRect:is,dragOverlay:ro,draggableNodes:Nr,droppableContainers:Ti,droppableRects:qs,over:ko,measureDroppableContainers:ca,scrollableAncestors:Do,scrollableAncestorRects:gs,measuringConfiguration:$s,measuringScheduled:Sa,windowRect:Ts}),[Ci,qo,co,lo,Ps,is,ro,Nr,Ti,qs,ko,ca,Do,gs,$s,Sa,Ts]),mi=(0,A.useMemo)(()=>({activatorEvent:lo,activators:La,active:Ci,activeNodeRect:co,ariaDescribedById:{draggable:Qa},dispatch:_r,draggableNodes:Nr,over:ko,measureDroppableContainers:ca}),[lo,La,Ci,co,_r,Qa,Nr,ko,ca]);return A.createElement(K.Provider,{value:Mr},A.createElement(br.Provider,{value:mi},A.createElement(Qn.Provider,{value:Zi},A.createElement(ti.Provider,{value:Us},ee)),A.createElement(mr,{disabled:(ge==null?void 0:ge.restoreFocus)===!1})),A.createElement(Ke,Or(rn({},ge),{hiddenTextDescribedById:Qa})));function ho(){const ki=(la==null?void 0:la.autoScrollEnabled)===!1,Li=typeof P=="object"?P.enabled===!1:P===!1,po=$r&&!ki&&!Li;return typeof P=="object"?Or(rn({},P),{enabled:po}):{enabled:po}}}),Ir=(0,A.createContext)(null),vi="button",to="Droppable";function Xo(z){let{id:G,data:Se,disabled:nt=!1,attributes:yt}=z;const gt=(0,v.Ld)(to),{activators:$,activatorEvent:ge,active:P,activeNodeRect:ee,ariaDescribedById:Be,draggableNodes:ft,over:xn}=(0,A.useContext)(br),{role:In=vi,roleDescription:jn="draggable",tabIndex:Sn=0}=yt!=null?yt:{},Zn=(P==null?void 0:P.id)===G,_r=(0,A.useContext)(Zn?ti:Ir),[or,Mr]=(0,v.wm)(),[Yr,Hr]=(0,v.wm)(),$r=Pt($,G),Tr=(0,v.Ey)(Se);(0,v.LI)(()=>(ft.set(G,{id:G,key:gt,node:or,activatorNode:Yr,data:Tr}),()=>{const zr=ft.get(G);zr&&zr.key===gt&&ft.delete(G)}),[ft,G]);const Nr=(0,A.useMemo)(()=>({role:In,tabIndex:Sn,"aria-disabled":nt,"aria-pressed":Zn&&In===vi?!0:void 0,"aria-roledescription":jn,"aria-describedby":Be.draggable}),[nt,In,Sn,Zn,jn,Be.draggable]);return{active:P,activatorEvent:ge,activeNodeRect:ee,attributes:Nr,isDragging:Zn,listeners:nt?void 0:$r,node:or,over:xn,setNodeRef:Mr,setActivatorNodeRef:Hr,transform:_r}}function no(){return(0,A.useContext)(Qn)}const ds="Droppable",As={timeout:25};function So(z){let{data:G,disabled:Se=!1,id:nt,resizeObserverConfig:yt}=z;const gt=(0,v.Ld)(ds),{active:$,dispatch:ge,over:P,measureDroppableContainers:ee}=(0,A.useContext)(br),Be=(0,A.useRef)({disabled:Se}),ft=(0,A.useRef)(!1),xn=(0,A.useRef)(null),In=(0,A.useRef)(null),{disabled:jn,updateMeasurementsFor:Sn,timeout:Zn}=rn(rn({},As),yt),_r=(0,v.Ey)(Sn!=null?Sn:nt),or=(0,A.useCallback)(()=>{if(!ft.current){ft.current=!0;return}In.current!=null&&clearTimeout(In.current),In.current=setTimeout(()=>{ee(Array.isArray(_r.current)?_r.current:[_r.current]),In.current=null},Zn)},[Zn]),Mr=S({callback:or,disabled:jn||!$}),Yr=(0,A.useCallback)((Nr,zr)=>{Mr&&(zr&&(Mr.unobserve(zr),ft.current=!1),Nr&&Mr.observe(Nr))},[Mr]),[Hr,$r]=(0,v.wm)(Yr),Tr=(0,v.Ey)(G);return(0,A.useEffect)(()=>{!Mr||!Hr.current||(Mr.disconnect(),ft.current=!1,Mr.observe(Hr.current))},[Hr,Mr]),(0,v.LI)(()=>(ge({type:We.RegisterDroppable,element:{id:nt,key:gt,disabled:Se,node:Hr,rect:xn,data:Tr}}),()=>ge({type:We.UnregisterDroppable,key:gt,id:nt})),[nt]),(0,A.useEffect)(()=>{Se!==Be.current.disabled&&(ge({type:We.SetDroppableDisabled,id:nt,key:gt,disabled:Se}),Be.current.disabled=Se)},[nt,gt,Se,ge]),{active:$,rect:xn,isOver:(P==null?void 0:P.id)===nt,node:Hr,over:P,setNodeRef:$r}}function Ns(z){let{animation:G,children:Se}=z;const[nt,yt]=(0,A.useState)(null),[gt,$]=(0,A.useState)(null),ge=(0,v.D9)(Se);return!Se&&!nt&&ge&&yt(ge),(0,v.LI)(()=>{if(!gt)return;const P=nt==null?void 0:nt.key,ee=nt==null?void 0:nt.props.id;if(P==null||ee==null){yt(null);return}Promise.resolve(G(ee,gt)).then(()=>{yt(null)})},[G,nt,gt]),A.createElement(A.Fragment,null,Se,nt?(0,A.cloneElement)(nt,{ref:$}):null)}const No={x:0,y:0,scaleX:1,scaleY:1};function xi(z){let{children:G}=z;return A.createElement(br.Provider,{value:Yn},A.createElement(ti.Provider,{value:No},G))}const Fs={position:"fixed",touchAction:"none"},Oo=z=>(0,v.vd)(z)?"transform 250ms ease":void 0,ji=(0,A.forwardRef)((z,G)=>{let{as:Se,activatorEvent:nt,adjustScale:yt,children:gt,className:$,rect:ge,style:P,transform:ee,transition:Be=Oo}=z;if(!ge)return null;const ft=yt?ee:Or(rn({},ee),{scaleX:1,scaleY:1}),xn=rn(Or(rn({},Fs),{width:ge.width,height:ge.height,top:ge.top,left:ge.left,transform:v.ux.Transform.toString(ft),transformOrigin:yt&&nt?wt(nt,ge):void 0,transition:typeof Be=="function"?Be(nt):Be}),P);return A.createElement(Se,{className:$,style:xn,ref:G},gt)}),Yo=z=>G=>{let{active:Se,dragOverlay:nt}=G;const yt={},{styles:gt,className:$}=z;if(gt!=null&&gt.active)for(const[ge,P]of Object.entries(gt.active))P!==void 0&&(yt[ge]=Se.node.style.getPropertyValue(ge),Se.node.style.setProperty(ge,P));if(gt!=null&&gt.dragOverlay)for(const[ge,P]of Object.entries(gt.dragOverlay))P!==void 0&&nt.node.style.setProperty(ge,P);return $!=null&&$.active&&Se.node.classList.add($.active),$!=null&&$.dragOverlay&&nt.node.classList.add($.dragOverlay),function(){for(const[P,ee]of Object.entries(yt))Se.node.style.setProperty(P,ee);$!=null&&$.active&&Se.node.classList.remove($.active)}},Ki={duration:250,easing:"ease",keyframes:z=>{let{transform:{initial:G,final:Se}}=z;return[{transform:v.ux.Transform.toString(G)},{transform:v.ux.Transform.toString(Se)}]},sideEffects:Yo({styles:{active:{opacity:"0"}}})};function Eo(z){let{config:G,draggableNodes:Se,droppableContainers:nt,measuringConfiguration:yt}=z;return(0,v.zX)((gt,$)=>{if(G===null)return;const ge=Se.get(gt);if(!ge)return;const P=ge.node.current;if(!P)return;const ee=Cn($);if(!ee)return;const{transform:Be}=(0,v.Jj)($).getComputedStyle($),ft=rt(Be);if(!ft)return;const xn=typeof G=="function"?G:hs(G);return tt(P,yt.draggable.measure),xn({active:{id:gt,data:ge.data,node:P,rect:yt.draggable.measure(P)},draggableNodes:Se,dragOverlay:{node:$,rect:yt.dragOverlay.measure(ee)},droppableContainers:nt,measuringConfiguration:yt,transform:ft})})}function hs(z){const{duration:G,easing:Se,sideEffects:nt,keyframes:yt}=rn(rn({},Ki),z);return gt=>{let or=gt,{active:$,dragOverlay:ge,transform:P}=or,ee=Bo(or,["active","dragOverlay","transform"]);if(!G)return;const Be={x:ge.rect.left-$.rect.left,y:ge.rect.top-$.rect.top},ft={scaleX:P.scaleX!==1?$.rect.width*P.scaleX/ge.rect.width:1,scaleY:P.scaleY!==1?$.rect.height*P.scaleY/ge.rect.height:1},xn=rn({x:P.x-Be.x,y:P.y-Be.y},ft),In=yt(Or(rn({},ee),{active:$,dragOverlay:ge,transform:{initial:P,final:xn}})),[jn]=In,Sn=In[In.length-1];if(JSON.stringify(jn)===JSON.stringify(Sn))return;const Zn=nt==null?void 0:nt(rn({active:$,dragOverlay:ge},ee)),_r=ge.node.animate(In,{duration:G,easing:Se,fill:"forwards"});return new Promise(Mr=>{_r.onfinish=()=>{Zn==null||Zn(),Mr()}})}}let ps=0;function Ko(z){return(0,A.useMemo)(()=>{if(z!=null)return ps++,ps},[z])}const Ei=A.memo(z=>{let{adjustScale:G=!1,children:Se,dropAnimation:nt,style:yt,transition:gt,modifiers:$,wrapperElement:ge="div",className:P,zIndex:ee=999}=z;const{activatorEvent:Be,active:ft,activeNodeRect:xn,containerNodeRect:In,draggableNodes:jn,droppableContainers:Sn,dragOverlay:Zn,over:_r,measuringConfiguration:or,scrollableAncestors:Mr,scrollableAncestorRects:Yr,windowRect:Hr}=no(),$r=(0,A.useContext)(ti),Tr=Ko(ft==null?void 0:ft.id),Nr=Er($,{activatorEvent:Be,active:ft,activeNodeRect:xn,containerNodeRect:In,draggingNodeRect:Zn.rect,over:_r,overlayNodeRect:Zn.rect,scrollableAncestors:Mr,scrollableAncestorRects:Yr,transform:$r,windowRect:Hr}),zr=g(xn),Ti=Eo({config:nt,draggableNodes:jn,droppableContainers:Sn,measuringConfiguration:or}),pi=zr?Zn.setRef:void 0;return A.createElement(xi,null,A.createElement(Ns,{animation:Ti},ft&&Tr?A.createElement(ji,{key:Tr,id:ft.id,ref:pi,as:ge,activatorEvent:Be,adjustScale:G,className:P,transition:gt,rect:zr,style:rn({zIndex:ee},yt),transform:Nr},Se):null))})},59671:function(qt,et,W){"use strict";W.d(et,{Fo:function(){return lt},Rp:function(){return y},is:function(){return _e},nB:function(){return X},qw:function(){return Bt}});var A=W(50959),b=W(28257),v=W(84341);function y(le,He,rt){const ce=le.slice();return ce.splice(rt<0?ce.length+rt:rt,0,ce.splice(He,1)[0]),ce}function T(le,He,rt){const ce=le.slice();return ce[He]=le[rt],ce[rt]=le[He],ce}function k(le,He){return le.reduce((rt,ce,Te)=>{const Ve=He.get(ce);return Ve&&(rt[Te]=Ve),rt},Array(le.length))}function D(le){return le!==null&&le>=0}function j(le,He){if(le===He)return!0;if(le.length!==He.length)return!1;for(let rt=0;rt<le.length;rt++)if(le[rt]!==He[rt])return!1;return!0}function K(le){return typeof le=="boolean"?{draggable:le,droppable:le}:le}const ne={scaleX:1,scaleY:1},he=le=>{var He;let{rects:rt,activeNodeRect:ce,activeIndex:Te,overIndex:Ve,index:Ge}=le;const ot=(He=rt[Te])!=null?He:ce;if(!ot)return null;const ht=xe(rt,Ge,Te);if(Ge===Te){const bt=rt[Ve];return bt?rn({x:Te<Ve?bt.left+bt.width-(ot.left+ot.width):bt.left-ot.left,y:0},ne):null}return Ge>Te&&Ge<=Ve?rn({x:-ot.width-ht,y:0},ne):Ge<Te&&Ge>=Ve?rn({x:ot.width+ht,y:0},ne):rn({x:0,y:0},ne)};function xe(le,He,rt){const ce=le[He],Te=le[He-1],Ve=le[He+1];return!ce||!Te&&!Ve?0:rt<He?Te?ce.left-(Te.left+Te.width):Ve.left-(ce.left+ce.width):Ve?Ve.left-(ce.left+ce.width):ce.left-(Te.left+Te.width)}const B=le=>{let{rects:He,activeIndex:rt,overIndex:ce,index:Te}=le;const Ve=y(He,ce,rt),Ge=He[Te],ot=Ve[Te];return!ot||!Ge?null:{x:ot.left-Ge.left,y:ot.top-Ge.top,scaleX:ot.width/Ge.width,scaleY:ot.height/Ge.height}},Ke=le=>{let{activeIndex:He,index:rt,rects:ce,overIndex:Te}=le,Ve,Ge;return rt===He&&(Ve=ce[rt],Ge=ce[Te]),rt===Te&&(Ve=ce[rt],Ge=ce[He]),!Ge||!Ve?null:{x:Ge.left-Ve.left,y:Ge.top-Ve.top,scaleX:Ge.width/Ve.width,scaleY:Ge.height/Ve.height}},We={scaleX:1,scaleY:1},Bt=le=>{var He;let{activeIndex:rt,activeNodeRect:ce,index:Te,rects:Ve,overIndex:Ge}=le;const ot=(He=Ve[rt])!=null?He:ce;if(!ot)return null;if(Te===rt){const bt=Ve[Ge];return bt?rn({x:0,y:rt<Ge?bt.top+bt.height-(ot.top+ot.height):bt.top-ot.top},We):null}const ht=at(Ve,Te,rt);return Te>rt&&Te<=Ge?rn({x:0,y:-ot.height-ht},We):Te<rt&&Te>=Ge?rn({x:0,y:ot.height+ht},We):rn({x:0,y:0},We)};function at(le,He,rt){const ce=le[He],Te=le[He-1],Ve=le[He+1];return ce?rt<He?Te?ce.top-(Te.top+Te.height):Ve?Ve.top-(ce.top+ce.height):0:Ve?Ve.top-(ce.top+ce.height):Te?ce.top-(Te.top+Te.height):0:0}const ut="Sortable",H=A.createContext({activeIndex:-1,containerId:ut,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:B,disabled:{draggable:!1,droppable:!1}});function lt(le){let{children:He,id:rt,items:ce,strategy:Te=B,disabled:Ve=!1}=le;const{active:Ge,dragOverlay:ot,droppableRects:ht,over:bt,measureDroppableContainers:Vt}=(0,b.Cj)(),Kt=(0,v.Ld)(ut,rt),Tt=Boolean(ot.rect!==null),Mt=(0,A.useMemo)(()=>ce.map(Rt=>typeof Rt=="object"&&"id"in Rt?Rt.id:Rt),[ce]),Ht=Ge!=null,St=Ge?Mt.indexOf(Ge.id):-1,Qe=bt?Mt.indexOf(bt.id):-1,Et=(0,A.useRef)(Mt),tn=!j(Mt,Et.current),un=Qe!==-1&&St===-1||tn,nn=K(Ve);(0,v.LI)(()=>{tn&&Ht&&Vt(Mt)},[tn,Mt,Ht,Vt]),(0,A.useEffect)(()=>{Et.current=Mt},[Mt]);const pn=(0,A.useMemo)(()=>({activeIndex:St,containerId:Kt,disabled:nn,disableTransforms:un,items:Mt,overIndex:Qe,useDragOverlay:Tt,sortedRects:k(Mt,ht),strategy:Te}),[St,Kt,nn.draggable,nn.droppable,un,Mt,Qe,ht,Tt,Te]);return A.createElement(H.Provider,{value:pn},He)}const wt=le=>{let{id:He,items:rt,activeIndex:ce,overIndex:Te}=le;return y(rt,ce,Te).indexOf(He)},Nt=le=>{let{containerId:He,isSorting:rt,wasDragging:ce,index:Te,items:Ve,newIndex:Ge,previousItems:ot,previousContainerId:ht,transition:bt}=le;return!bt||!ce||ot!==Ve&&Te===Ge?!1:rt?!0:Ge!==Te&&He===ht},Dt={duration:200,easing:"ease"},Ue="transform",Xe=v.ux.Transition.toString({property:Ue,duration:0,easing:"linear"}),it={roleDescription:"sortable"};function Ft(le){let{disabled:He,index:rt,node:ce,rect:Te}=le;const[Ve,Ge]=(0,A.useState)(null),ot=(0,A.useRef)(rt);return(0,v.LI)(()=>{if(!He&&rt!==ot.current&&ce.current){const ht=Te.current;if(ht){const bt=(0,b.VK)(ce.current,{ignoreTransform:!0}),Vt={x:ht.left-bt.left,y:ht.top-bt.top,scaleX:ht.width/bt.width,scaleY:ht.height/bt.height};(Vt.x||Vt.y)&&Ge(Vt)}}rt!==ot.current&&(ot.current=rt)},[He,rt,ce,Te]),(0,A.useEffect)(()=>{Ve&&Ge(null)},[Ve]),Ve}function X(le){let{animateLayoutChanges:He=Nt,attributes:rt,disabled:ce,data:Te,getNewIndex:Ve=wt,id:Ge,strategy:ot,resizeObserverConfig:ht,transition:bt=Dt}=le;const{items:Vt,containerId:Kt,activeIndex:Tt,disabled:Mt,disableTransforms:Ht,sortedRects:St,overIndex:Qe,useDragOverlay:Et,strategy:tn}=(0,A.useContext)(H),un=be(ce,Mt),nn=Vt.indexOf(Ge),pn=(0,A.useMemo)(()=>rn({sortable:{containerId:Kt,index:nn,items:Vt}},Te),[Kt,Te,nn,Vt]),Rt=(0,A.useMemo)(()=>Vt.slice(Vt.indexOf(Ge)),[Vt,Ge]),{rect:jt,node:hn,isOver:tt,setNodeRef:ie}=(0,b.Zj)({id:Ge,data:pn,disabled:un.droppable,resizeObserverConfig:rn({updateMeasurementsFor:Rt},ht)}),{active:fe,activatorEvent:me,activeNodeRect:ke,attributes:Ie,setNodeRef:At,listeners:Jt,isDragging:Vn,over:Ln,setActivatorNodeRef:ue,transform:je}=(0,b.O1)({id:Ge,data:pn,attributes:rn(rn({},it),rt),disabled:un.draggable}),Ye=(0,v.HB)(ie,At),qe=Boolean(fe),kt=qe&&!Ht&&D(Tt)&&D(Qe),vn=!Et&&Vn,sn=vn&&kt?je:null,It=ot!=null?ot:tn,de=kt?sn!=null?sn:It({rects:St,activeNodeRect:ke,activeIndex:Tt,overIndex:Qe,index:nn}):null,Oe=D(Tt)&&D(Qe)?Ve({id:Ge,items:Vt,activeIndex:Tt,overIndex:Qe}):nn,st=fe==null?void 0:fe.id,_t=(0,A.useRef)({activeId:st,items:Vt,newIndex:Oe,containerId:Kt}),Xt=Vt!==_t.current.items,bn=He({active:fe,containerId:Kt,isDragging:Vn,isSorting:qe,id:Ge,index:nn,items:Vt,newIndex:_t.current.newIndex,previousItems:_t.current.items,previousContainerId:_t.current.containerId,transition:bt,wasDragging:_t.current.activeId!=null}),$n=Ft({disabled:!bn,index:nn,node:hn,rect:jt});return(0,A.useEffect)(()=>{qe&&_t.current.newIndex!==Oe&&(_t.current.newIndex=Oe),Kt!==_t.current.containerId&&(_t.current.containerId=Kt),Vt!==_t.current.items&&(_t.current.items=Vt)},[qe,Oe,Kt,Vt]),(0,A.useEffect)(()=>{if(st===_t.current.activeId)return;if(st&&!_t.current.activeId){_t.current.activeId=st;return}const Ze=setTimeout(()=>{_t.current.activeId=st},50);return()=>clearTimeout(Ze)},[st]),{active:fe,activeIndex:Tt,attributes:Ie,data:pn,rect:jt,index:nn,newIndex:Oe,items:Vt,isOver:tt,isSorting:qe,isDragging:Vn,listeners:Jt,node:hn,overIndex:Qe,over:Ln,setNodeRef:Ye,setActivatorNodeRef:ue,setDroppableNodeRef:ie,setDraggableNodeRef:At,transform:$n!=null?$n:de,transition:Ce()};function Ce(){if($n||Xt&&_t.current.newIndex===nn)return Xe;if(!(vn&&!(0,v.vd)(me)||!bt)&&(qe||bn))return v.ux.Transition.toString(Or(rn({},bt),{property:Ue}))}}function be(le,He){var rt,ce;return typeof le=="boolean"?{draggable:le,droppable:!1}:{draggable:(rt=le==null?void 0:le.draggable)!=null?rt:He.draggable,droppable:(ce=le==null?void 0:le.droppable)!=null?ce:He.droppable}}function ye(le){if(!le)return!1;const He=le.data.current;return!!(He&&"sortable"in He&&typeof He.sortable=="object"&&"containerId"in He.sortable&&"items"in He.sortable&&"index"in He.sortable)}const Me=[b.g4.Down,b.g4.Right,b.g4.Up,b.g4.Left],_e=(le,He)=>{let{context:{active:rt,collisionRect:ce,droppableRects:Te,droppableContainers:Ve,over:Ge,scrollableAncestors:ot}}=He;if(Me.includes(le.code)){if(le.preventDefault(),!rt||!ce)return;const ht=[];Ve.getEnabled().forEach(Kt=>{if(!Kt||Kt!=null&&Kt.disabled)return;const Tt=Te.get(Kt.id);if(Tt)switch(le.code){case b.g4.Down:ce.top<Tt.top&&ht.push(Kt);break;case b.g4.Up:ce.top>Tt.top&&ht.push(Kt);break;case b.g4.Left:ce.left>Tt.left&&ht.push(Kt);break;case b.g4.Right:ce.left<Tt.left&&ht.push(Kt);break}});const bt=(0,b.ey)({active:rt,collisionRect:ce,droppableRects:Te,droppableContainers:ht,pointerCoordinates:null});let Vt=(0,b._8)(bt,"id");if(Vt===(Ge==null?void 0:Ge.id)&&bt.length>1&&(Vt=bt[1].id),Vt!=null){const Kt=Ve.get(rt.id),Tt=Ve.get(Vt),Mt=Tt?Te.get(Tt.id):null,Ht=Tt==null?void 0:Tt.node.current;if(Ht&&Mt&&Kt&&Tt){const Qe=(0,b.hI)(Ht).some((Rt,jt)=>ot[jt]!==Rt),Et=Re(Kt,Tt),tn=$e(Kt,Tt),un=Qe||!Et?{x:0,y:0}:{x:tn?ce.width-Mt.width:0,y:tn?ce.height-Mt.height:0},nn={x:Mt.left,y:Mt.top};return un.x&&un.y?nn:(0,v.$X)(nn,un)}}}};function Re(le,He){return!ye(le)||!ye(He)?!1:le.data.current.sortable.containerId===He.data.current.sortable.containerId}function $e(le,He){return!ye(le)||!ye(He)||!Re(le,He)?!1:le.data.current.sortable.index<He.data.current.sortable.index}},84341:function(qt,et,W){"use strict";W.d(et,{$X:function(){return Nt},D9:function(){return at},DC:function(){return it},Ey:function(){return Ke},FJ:function(){return y},Gj:function(){return We},HB:function(){return b},IH:function(){return wt},Jj:function(){return k},LI:function(){return he},Ld:function(){return H},Nq:function(){return v},Re:function(){return j},UG:function(){return T},Yz:function(){return B},qk:function(){return D},r3:function(){return ne},so:function(){return be},ux:function(){return Ft},vZ:function(){return K},vd:function(){return Ue},wm:function(){return Bt},zX:function(){return xe}});var A=W(50959);function b(){for(var ye=arguments.length,Me=new Array(ye),_e=0;_e<ye;_e++)Me[_e]=arguments[_e];return(0,A.useMemo)(()=>Re=>{Me.forEach($e=>$e(Re))},Me)}const v=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function y(ye){const Me=Object.prototype.toString.call(ye);return Me==="[object Window]"||Me==="[object global]"}function T(ye){return"nodeType"in ye}function k(ye){var Me,_e;return ye?y(ye)?ye:T(ye)&&(Me=(_e=ye.ownerDocument)==null?void 0:_e.defaultView)!=null?Me:window:window}function D(ye){const{Document:Me}=k(ye);return ye instanceof Me}function j(ye){return y(ye)?!1:ye instanceof k(ye).HTMLElement}function K(ye){return ye instanceof k(ye).SVGElement}function ne(ye){return ye?y(ye)?ye.document:T(ye)?D(ye)?ye:j(ye)?ye.ownerDocument:document:document:document}const he=v?A.useLayoutEffect:A.useEffect;function xe(ye){const Me=(0,A.useRef)(ye);return he(()=>{Me.current=ye}),(0,A.useCallback)(function(){for(var _e=arguments.length,Re=new Array(_e),$e=0;$e<_e;$e++)Re[$e]=arguments[$e];return Me.current==null?void 0:Me.current(...Re)},[])}function B(){const ye=(0,A.useRef)(null),Me=(0,A.useCallback)((Re,$e)=>{ye.current=setInterval(Re,$e)},[]),_e=(0,A.useCallback)(()=>{ye.current!==null&&(clearInterval(ye.current),ye.current=null)},[]);return[Me,_e]}function Ke(ye,Me){Me===void 0&&(Me=[ye]);const _e=(0,A.useRef)(ye);return he(()=>{_e.current!==ye&&(_e.current=ye)},Me),_e}function We(ye,Me){const _e=(0,A.useRef)();return(0,A.useMemo)(()=>{const Re=ye(_e.current);return _e.current=Re,Re},[...Me])}function Bt(ye){const Me=xe(ye),_e=(0,A.useRef)(null),Re=(0,A.useCallback)($e=>{$e!==_e.current&&(Me==null||Me($e,_e.current)),_e.current=$e},[]);return[_e,Re]}function at(ye){const Me=(0,A.useRef)();return(0,A.useEffect)(()=>{Me.current=ye},[ye]),Me.current}let ut={};function H(ye,Me){return(0,A.useMemo)(()=>{if(Me)return Me;const _e=ut[ye]==null?0:ut[ye]+1;return ut[ye]=_e,ye+"-"+_e},[ye,Me])}function lt(ye){return function(Me){for(var _e=arguments.length,Re=new Array(_e>1?_e-1:0),$e=1;$e<_e;$e++)Re[$e-1]=arguments[$e];return Re.reduce((le,He)=>{const rt=Object.entries(He);for(const[ce,Te]of rt){const Ve=le[ce];Ve!=null&&(le[ce]=Ve+ye*Te)}return le},rn({},Me))}}const wt=lt(1),Nt=lt(-1);function Dt(ye){return"clientX"in ye&&"clientY"in ye}function Ue(ye){if(!ye)return!1;const{KeyboardEvent:Me}=k(ye.target);return Me&&ye instanceof Me}function Xe(ye){if(!ye)return!1;const{TouchEvent:Me}=k(ye.target);return Me&&ye instanceof Me}function it(ye){if(Xe(ye)){if(ye.touches&&ye.touches.length){const{clientX:Me,clientY:_e}=ye.touches[0];return{x:Me,y:_e}}else if(ye.changedTouches&&ye.changedTouches.length){const{clientX:Me,clientY:_e}=ye.changedTouches[0];return{x:Me,y:_e}}}return Dt(ye)?{x:ye.clientX,y:ye.clientY}:null}const Ft=Object.freeze({Translate:{toString(ye){if(!ye)return;const{x:Me,y:_e}=ye;return"translate3d("+(Me?Math.round(Me):0)+"px, "+(_e?Math.round(_e):0)+"px, 0)"}},Scale:{toString(ye){if(!ye)return;const{scaleX:Me,scaleY:_e}=ye;return"scaleX("+Me+") scaleY("+_e+")"}},Transform:{toString(ye){if(ye)return[Ft.Translate.toString(ye),Ft.Scale.toString(ye)].join(" ")}},Transition:{toString(ye){let{property:Me,duration:_e,easing:Re}=ye;return Me+" "+_e+"ms "+Re}}}),X="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function be(ye){return ye.matches(X)?ye:ye.querySelector(X)}},76089:function(qt,et,W){"use strict";W.d(et,{W:function(){return tt}});var A=W(88338),b=W(46191),v=W(50959),y=W(10422),T=W(42669);const k=ie=>D([ie])[ie],D=ie=>useStoreContext().useStore(({data:ke})=>ie.reduce((Ie,At)=>ke[At]&&"value"in ke[At]?Object.assign(Ie,{[At]:ke[At].value}):Ie,{}),shallow),j={Row:A.R,Label:A.L,Portal:A.P,Overlay:A.O,String:A.a8,Number:A.a9,Boolean:A.aa,Select:A.ab,Vector:A.a,InnerLabel:A.ac};var K=W(94440);function ne(ie,fe,me){return fe in ie?Object.defineProperty(ie,fe,{value:me,enumerable:!0,configurable:!0,writable:!0}):ie[fe]=me,ie}function he(ie,fe){var me=Object.keys(ie);if(Object.getOwnPropertySymbols){var ke=Object.getOwnPropertySymbols(ie);fe&&(ke=ke.filter(function(Ie){return Object.getOwnPropertyDescriptor(ie,Ie).enumerable})),me.push.apply(me,ke)}return me}function xe(ie){for(var fe=1;fe<arguments.length;fe++){var me=arguments[fe]!=null?arguments[fe]:{};fe%2?he(Object(me),!0).forEach(function(ke){ne(ie,ke,me[ke])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(me)):he(Object(me)).forEach(function(ke){Object.defineProperty(ie,ke,Object.getOwnPropertyDescriptor(me,ke))})}return ie}function B(){return B=Object.assign||function(ie){for(var fe=1;fe<arguments.length;fe++){var me=arguments[fe];for(var ke in me)Object.prototype.hasOwnProperty.call(me,ke)&&(ie[ke]=me[ke])}return ie},B.apply(this,arguments)}const Ke=()=>(0,v.useCallback)((ie,fe)=>fe*ie,[]),We=()=>(0,v.useCallback)((ie,fe)=>ie/fe,[]),Bt=4,at=.001,ut=1e-7,H=10,lt=11,wt=1/(lt-1),Nt=(ie,fe)=>1-3*fe+3*ie,Dt=(ie,fe)=>3*fe-6*ie,Ue=ie=>3*ie,Xe=(ie,fe,me)=>((Nt(fe,me)*ie+Dt(fe,me))*ie+Ue(fe))*ie,it=(ie,fe,me)=>3*Nt(fe,me)*ie*ie+2*Dt(fe,me)*ie+Ue(fe),Ft=(ie,fe,me,ke,Ie)=>{let At,Jt,Vn=0;do Jt=fe+(me-fe)/2,At=Xe(Jt,ke,Ie)-ie,At>0?me=Jt:fe=Jt;while(Math.abs(At)>ut&&++Vn<H);return Jt},X=(ie,fe,me,ke)=>{for(let Ie=0;Ie<Bt;++Ie){const At=it(fe,me,ke);if(At===0)return fe;const Jt=Xe(fe,me,ke)-ie;fe-=Jt/At}return fe},be=ie=>ie,ye=(ie,fe,me,ke)=>{if(!(0<=ie&&ie<=1&&0<=me&&me<=1))throw new Error("bezier x values must be in [0, 1] range");if(ie===fe&&me===ke)return be;const Ie=new Float32Array(lt);for(let Jt=0;Jt<lt;++Jt)Ie[Jt]=Xe(Jt*wt,ie,me);const At=Jt=>{let Vn=0,Ln=1,ue=lt-1;for(;Ln!==ue&&Ie[Ln]<=Jt;++Ln)Vn+=wt;--Ln;const je=(Jt-Ie[Ln])/(Ie[Ln+1]-Ie[Ln]),Ye=Vn+je*wt,qe=it(Ye,ie,me);return qe>=at?X(Jt,Ye,ie,me):qe===0?Ye:Ft(Jt,Vn,Vn+wt,ie,me)};return Jt=>Jt===0||Jt===1?Jt:Xe(At(Jt),fe,ke)},Me=(0,A.s)("svg",{width:"100%",height:"$controlWidth",marginTop:"$rowGap",overflow:"visible",zIndex:100,"> path":{stroke:"$highlight3",strokeWidth:2},g:{color:"$accent1","&:hover":{color:"$accent3"},"&:active":{color:"$vivid1"}},circle:{fill:"currentColor",strokeWidth:10,stroke:"transparent",cursor:"pointer"},"> line":{stroke:"$highlight1",strokeWidth:2},"> g > line":{stroke:"currentColor"},variants:{withPreview:{true:{marginBottom:0},false:{marginBottom:"$rowGap"}}}}),_e=ie=>(0,A.ah)({"0%":{opacity:0},"10%":{opacity:.8},"100%":{opacity:ie}}),Re=(0,A.ah)({"0%":{transform:"translateX(5%)"},"100%":{transform:"translateX(95%)"}}),$e=(0,A.s)("svg",{width:"100%",overflow:"visible",height:6,"> circle":{fill:"$vivid1",cy:"50%",animation:`${_e(.3)} 1000ms both`,"&:first-of-type":{animationName:_e(.7)},"&:last-of-type":{animationName:Re}}}),le=(0,A.s)("div",{userSelect:"none",$flexCenter:"",height:14,width:14,borderRadius:7,marginRight:"$sm",cursor:"pointer",fontSize:"0.8em",variants:{graph:{true:{backgroundColor:"$elevation1"}}}}),He=(0,A.s)("div",{display:"grid",gridTemplateColumns:"auto 1fr",alignItems:"center"}),rt=4;function ce({sx:ie,sy:fe,cx:me,cy:ke}){const Ie=Math.atan2(ke-fe,me-ie),At=me-rt*Math.cos(Ie),Jt=ke-rt*Math.sin(Ie);return v.createElement("line",{x1:At,y1:Jt,x2:ie,y2:fe})}function Te({displayValue:ie,onUpdate:fe,withPreview:me}){const ke=Ke(),Ie=We(),[At,{width:Jt,height:Vn}]=(0,K.Z)(),Ln=(0,v.useRef)(null),ue=(0,v.useRef)(null),je=(0,v.useRef)(null),Ye=(0,v.useRef)(),qe=(0,A.e)(({xy:[Ze,xt],event:Wt,first:fn,memo:_n})=>{fn&&(Ye.current=Ln.current.getBoundingClientRect(),_n=[ue.current,je.current].indexOf(Wt.target),_n<0&&(_n=Ze-Ye.current.left<Jt/2?0:1),_n*=2);const Bn=Ze-Ye.current.left,ve=xt-Ye.current.top;return fe(we=>{const g=[...we];return g[_n]=Ie(Bn,Jt),g[_n+1]=1-Ie(ve,Vn),g}),_n}),{x1:kt,y1:vn,x2:sn,y2:It}=ie,{sx:de,sy:Oe,ex:st,ey:_t,cx1:Xt,cy1:bn,cx2:$n,cy2:Ce}=(0,v.useMemo)(()=>({sx:ke(0,Jt),sy:ke(1,Vn),ex:ke(1,Jt),ey:ke(0,Vn),cx1:ke(kt,Jt),cy1:ke(1-vn,Vn),cx2:ke(sn,Jt),cy2:ke(1-It,Vn)}),[ke,kt,vn,sn,It,Jt,Vn]);return v.createElement(Me,B({ref:(0,A.af)([Ln,At])},qe(),{withPreview:me}),v.createElement("line",{x1:de,y1:Oe,x2:st,y2:_t}),v.createElement("path",{fill:"none",d:`M${de},${Oe} C${Xt},${bn} ${$n},${Ce} ${st},${_t}`,strokeLinecap:"round"}),v.createElement("g",null,v.createElement(ce,{sx:de,sy:Oe,cx:Xt,cy:bn}),v.createElement("circle",{ref:ue,cx:Xt,cy:bn,r:rt})),v.createElement("g",null,v.createElement(ce,{sx:st,sy:_t,cx:$n,cy:Ce}),v.createElement("circle",{ref:je,cx:$n,cy:Ce,r:rt})))}const Ve=v.memo(({value:ie})=>{const[,fe]=(0,v.useReducer)(ke=>ke+1,0),me=Array(21).fill(0).map((ke,Ie)=>5+ie.evaluate(Ie/20)*90);return v.createElement($e,{onClick:fe},me.map((ke,Ie)=>v.createElement("circle",{key:Ie+Date.now(),r:3,cx:`${ke}%`,style:{animationDelay:`${Ie*50}ms`}})),v.createElement("circle",{key:Date.now()-1,r:3,style:{animationTimingFunction:`cubic-bezier(${ie.join(",")})`,animationDuration:`${me.length*50}ms`}}))});function Ge({value:ie}){const[fe,me]=(0,v.useState)(ie),ke=(0,v.useMemo)(()=>(0,A.U)(Ie=>me(Ie),250),[]);return(0,v.useEffect)(()=>void ke(ie),[ie,ke]),v.createElement(Ve,{value:fe})}function ot(ie,fe){if(ie==null)return{};var me={},ke=Object.keys(ie),Ie,At;for(At=0;At<ke.length;At++)Ie=ke[At],!(fe.indexOf(Ie)>=0)&&(me[Ie]=ie[Ie]);return me}function ht(ie,fe){if(ie==null)return{};var me=ot(ie,fe),ke,Ie;if(Object.getOwnPropertySymbols){var At=Object.getOwnPropertySymbols(ie);for(Ie=0;Ie<At.length;Ie++)ke=At[Ie],!(fe.indexOf(ke)>=0)&&Object.prototype.propertyIsEnumerable.call(ie,ke)&&(me[ke]=ie[ke])}return me}const bt=["handles"],Vt={min:0,max:1,step:.01},Kt={step:.01},Tt={graph:!0,preview:!0},Mt={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],"in-out-sine":[.45,.05,.55,.95],"in-out-quadratic":[.46,.03,.52,.96],"in-out-cubic":[.65,.05,.36,1],"fast-out-slow-in":[.4,0,.2,1],"in-out-back":[.68,-.55,.27,1.55]},Ht=(ie=[.25,.1,.25,1])=>{let fe=typeof ie=="object"&&"handles"in ie?ie:{handles:ie},{handles:me}=fe,ke=ht(fe,bt);me=typeof me=="string"?Mt[me]:me;const Ie={x1:Vt,y1:Kt,x2:Vt,y2:Kt},{value:At,settings:Jt}=(0,A.am)(me,Ie,["x1","y1","x2","y2"]),Vn=At;return Vn.evaluate=ye(...At),Vn.cssEasing=`cubic-bezier(${At.join(",")})`,{value:Vn,settings:xe(xe(xe({},Jt),Tt),ke)}},St=(ie,fe,me)=>{const ke=(0,A.ak)(ie,fe,me),Ie=ke;return Ie.evaluate=ye(...ke),Ie.cssEasing=`cubic-bezier(${ke.join(",")})`,Ie},{Label:Qe,Row:Et,Vector:tn,Select:un}=j,nn=["custom",...Object.keys(Mt)],pn=[!1,...Object.values(Mt).map(ie=>ie.toString())],Rt={keys:nn,values:pn};function jt({value:ie,onUpdate:fe}){const me=(0,v.useMemo)(()=>pn.find(Jt=>Jt===ie.toString())||!1,[ie]),ke={type:"SELECT",value:me,settings:Rt},Ie=Jt=>Jt&&fe(Jt.split(",")),At=(0,A.A)(xe(xe({},ke),{},{setValue:Ie}));return v.createElement(un,{value:me,displayValue:At.displayValue,onUpdate:At.onUpdate,settings:Rt})}function hn(){const{label:ie,value:fe,displayValue:me,settings:ke,onUpdate:Ie,setSettings:At}=(0,A.u)(),{graph:Jt,preview:Vn}=ke;return v.createElement(v.Fragment,null,v.createElement(Et,{input:!0},v.createElement(Qe,null,ie),v.createElement(He,null,v.createElement(le,{graph:Jt,onClick:()=>At({graph:!Jt})},"\u{1D453}"),v.createElement(jt,{value:fe,onUpdate:Ie}))),Jt&&v.createElement(Te,{displayValue:me,onUpdate:Ie,withPreview:Vn}),Vn&&v.createElement(Et,null,v.createElement(Ge,{value:fe})),Jt&&v.createElement(Et,null,v.createElement(tn,{value:me,settings:ke,onUpdate:Ie,innerLabelTrim:2})))}const tt=(0,A.ag)({normalize:Ht,sanitize:St,format:(ie,fe)=>(0,A.al)(ie,fe),component:hn})},961:function(qt,et,W){"use strict";W.d(et,{AS7:function(){return Ku},EGi:function(){return pn},L52:function(){return xs},Nn4:function(){return Gu},QlJ:function(){return ul},RgI:function(){return P1},TOI:function(){return ji},VZf:function(){return Qu},Wwj:function(){return nt},dNJ:function(){return No},dYt:function(){return Yu},h6i:function(){return Ue},hNW:function(){return oc},rlr:function(){return b1},tK:function(){return bt},vfO:function(){return Xf},zkR:function(){return gl}});var A=W(50959);function b(J,ae){if(J==null)return{};var Q={},re=Object.keys(J),se,ac;for(ac=0;ac<re.length;ac++)se=re[ac],!(ae.indexOf(se)>=0)&&(Q[se]=J[se]);return Q}var v=null,y=null,T=null,k=null,D=null,j=null,K=null,ne=null,he=null,xe=null,B=null,Ke=null,We=null,Bt=null,at=null,ut=null,H=null,lt=null,wt=null,Nt=null,Dt=["color"],Ue=(0,A.forwardRef)(function(J,ae){var Q=J.color,re=Q===void 0?"currentColor":Q,se=b(J,Dt);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,A.createElement)("path",{d:"M8.8914 2.1937C9.1158 2.35464 9.16725 2.66701 9.00631 2.89141L2.47388 12H13.5C13.7761 12 14 12.2239 14 12.5C14 12.7762 13.7761 13 13.5 13H1.5C1.31254 13 1.14082 12.8952 1.0552 12.7284C0.969578 12.5616 0.984438 12.361 1.09369 12.2086L8.19369 2.30862C8.35462 2.08422 8.667 2.03277 8.8914 2.1937ZM11.1 6.50001C11.1 6.22387 11.3238 6.00001 11.6 6.00001C11.8761 6.00001 12.1 6.22387 12.1 6.50001C12.1 6.77615 11.8761 7.00001 11.6 7.00001C11.3238 7.00001 11.1 6.77615 11.1 6.50001ZM10.4 4.00001C10.1239 4.00001 9.90003 4.22387 9.90003 4.50001C9.90003 4.77615 10.1239 5.00001 10.4 5.00001C10.6762 5.00001 10.9 4.77615 10.9 4.50001C10.9 4.22387 10.6762 4.00001 10.4 4.00001ZM12.1 8.50001C12.1 8.22387 12.3238 8.00001 12.6 8.00001C12.8761 8.00001 13.1 8.22387 13.1 8.50001C13.1 8.77615 12.8761 9.00001 12.6 9.00001C12.3238 9.00001 12.1 8.77615 12.1 8.50001ZM13.4 10C13.1239 10 12.9 10.2239 12.9 10.5C12.9 10.7761 13.1239 11 13.4 11C13.6762 11 13.9 10.7761 13.9 10.5C13.9 10.2239 13.6762 10 13.4 10Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),Xe=null,it=null,Ft=null,X=null,be=null,ye=null,Me=null,_e=null,Re=null,$e=null,le=null,He=null,rt=null,ce=null,Te=null,Ve=null,Ge=null,ot=null,ht=["color"],bt=(0,A.forwardRef)(function(J,ae){var Q=J.color,re=Q===void 0?"currentColor":Q,se=b(J,ht);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,A.createElement)("path",{d:"M2.5 2H12.5C12.7761 2 13 2.22386 13 2.5V12.5C13 12.7761 12.7761 13 12.5 13H2.5C2.22386 13 2 12.7761 2 12.5V2.5C2 2.22386 2.22386 2 2.5 2ZM1 2.5C1 1.67157 1.67157 1 2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5ZM7.5 4C7.77614 4 8 3.77614 8 3.5C8 3.22386 7.77614 3 7.5 3C7.22386 3 7 3.22386 7 3.5C7 3.77614 7.22386 4 7.5 4ZM8 5.5C8 5.77614 7.77614 6 7.5 6C7.22386 6 7 5.77614 7 5.5C7 5.22386 7.22386 5 7.5 5C7.77614 5 8 5.22386 8 5.5ZM7.5 8C7.77614 8 8 7.77614 8 7.5C8 7.22386 7.77614 7 7.5 7C7.22386 7 7 7.22386 7 7.5C7 7.77614 7.22386 8 7.5 8ZM10 7.5C10 7.77614 9.77614 8 9.5 8C9.22386 8 9 7.77614 9 7.5C9 7.22386 9.22386 7 9.5 7C9.77614 7 10 7.22386 10 7.5ZM11.5 8C11.7761 8 12 7.77614 12 7.5C12 7.22386 11.7761 7 11.5 7C11.2239 7 11 7.22386 11 7.5C11 7.77614 11.2239 8 11.5 8Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),Vt=null,Kt=null,Tt=null,Mt=null,Ht=null,St=null,Qe=null,Et=null,tn=null,un=null,nn=["color"],pn=(0,A.forwardRef)(function(J,ae){var Q=J.color,re=Q===void 0?"currentColor":Q,se=b(J,nn);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,A.createElement)("path",{d:"M3 9C3 6.5 4.5 4.25 7.5 1.5C10.5 4.25 12 6.5 12 9C12 11.4853 9.98528 13.5 7.5 13.5C5.01472 13.5 3 11.4853 3 9ZM10.9524 8.30307C9.67347 7.82121 8.2879 8.46208 6.98956 9.06259C5.9327 9.55142 4.93365 10.0135 4.09695 9.82153C4.03357 9.55804 4 9.28294 4 9C4 7.11203 5.02686 5.27195 7.5 2.87357C9.66837 4.97639 10.725 6.65004 10.9524 8.30307Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),Rt=null,jt=null,hn=null,tt=null,ie=null,fe=null,me=null,ke=null,Ie=null,At=null,Jt=null,Vn=null,Ln=null,ue=null,je=null,Ye=null,qe=null,kt=null,vn=null,sn=null,It=null,de=null,Oe=null,st=null,_t=null,Xt=null,bn=null,$n=null,Ce=null,Ze=null,xt=null,Wt=null,fn=null,_n=null,Bn=null,ve=null,we=null,g=null,p=null,x=null,S=null,O=null,q=null,N=null,V=null,F=null,Y=null,Je=null,pt=null,Pt=null,en=null,dn=null,Mn=null,Cn=null,Ut=null,Rn=null,lr=null,Hn=null,Jn=null,Nn=null,Yn=null,br=null,Qn=null,cr=null,vr=null,mr=null,Er=null,_i=null,Dr=null,ti=null,Kr=null,Vi=null,Ir=null,vi=null,to=null,Xo=null,no=null,ds=null,As=null,So=null,Ns=["color"],No=(0,A.forwardRef)(function(J,ae){var Q=J.color,re=Q===void 0?"currentColor":Q,se=b(J,Ns);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,A.createElement)("path",{d:"M9.96424 2.68571C10.0668 2.42931 9.94209 2.13833 9.6857 2.03577C9.4293 1.93322 9.13832 2.05792 9.03576 2.31432L5.03576 12.3143C4.9332 12.5707 5.05791 12.8617 5.3143 12.9642C5.5707 13.0668 5.86168 12.9421 5.96424 12.6857L9.96424 2.68571ZM3.85355 5.14646C4.04882 5.34172 4.04882 5.6583 3.85355 5.85356L2.20711 7.50001L3.85355 9.14646C4.04882 9.34172 4.04882 9.6583 3.85355 9.85356C3.65829 10.0488 3.34171 10.0488 3.14645 9.85356L1.14645 7.85356C0.951184 7.6583 0.951184 7.34172 1.14645 7.14646L3.14645 5.14646C3.34171 4.9512 3.65829 4.9512 3.85355 5.14646ZM11.1464 5.14646C11.3417 4.9512 11.6583 4.9512 11.8536 5.14646L13.8536 7.14646C14.0488 7.34172 14.0488 7.6583 13.8536 7.85356L11.8536 9.85356C11.6583 10.0488 11.3417 10.0488 11.1464 9.85356C10.9512 9.6583 10.9512 9.34172 11.1464 9.14646L12.7929 7.50001L11.1464 5.85356C10.9512 5.6583 10.9512 5.34172 11.1464 5.14646Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),xi=null,Fs=null,Oo=["color"],ji=(0,A.forwardRef)(function(J,ae){var Q=J.color,re=Q===void 0?"currentColor":Q,se=b(J,Oo);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,A.createElement)("path",{d:"M0.877075 7.49985C0.877075 3.84216 3.84222 0.877014 7.49991 0.877014C11.1576 0.877014 14.1227 3.84216 14.1227 7.49985C14.1227 11.1575 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1575 0.877075 7.49985ZM3.78135 3.21565C4.68298 2.43239 5.83429 1.92904 7.09998 1.84089V6.53429L3.78135 3.21565ZM3.21567 3.78134C2.43242 4.68298 1.92909 5.83428 1.84095 7.09997H6.5343L3.21567 3.78134ZM6.5343 7.89997H1.84097C1.92916 9.16562 2.43253 10.3169 3.21579 11.2185L6.5343 7.89997ZM3.78149 11.7842C4.6831 12.5673 5.83435 13.0707 7.09998 13.1588V8.46566L3.78149 11.7842ZM7.89998 8.46566V13.1588C9.16559 13.0706 10.3168 12.5673 11.2184 11.7841L7.89998 8.46566ZM11.7841 11.2184C12.5673 10.3168 13.0707 9.16558 13.1588 7.89997H8.46567L11.7841 11.2184ZM8.46567 7.09997H13.1589C13.0707 5.83432 12.5674 4.68305 11.7842 3.78143L8.46567 7.09997ZM11.2185 3.21573C10.3169 2.43246 9.16565 1.92909 7.89998 1.8409V6.53429L11.2185 3.21573Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),Yo=null,qr=null,Ki=null,Eo=null,hs=null,ps=null,Ko=null,Ei=null,z=null,G=null,Se=["color"],nt=(0,A.forwardRef)(function(J,ae){var Q=J.color,re=Q===void 0?"currentColor":Q,se=b(J,Se);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,A.createElement)("path",{d:"M7.85367 1.48956C7.65841 1.29429 7.34182 1.29429 7.14656 1.48956L1.48971 7.14641C1.29445 7.34167 1.29445 7.65825 1.48971 7.85352L7.14656 13.5104C7.34182 13.7056 7.65841 13.7056 7.85367 13.5104L13.5105 7.85352C13.7058 7.65825 13.7058 7.34167 13.5105 7.14641L7.85367 1.48956ZM7.5 2.55033L2.55037 7.49996L7.5 12.4496V2.55033Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),yt=null,gt=null,$=null,ge=null,P=null,ee=null,Be=null,ft=null,xn=null,In=null,jn=null,Sn=null,Zn=null,_r=null,or=null,Mr=null,Yr=null,Hr=null,$r=null,Tr=null,Nr=null,zr=null,Ti=null,pi=null,Di=null,Ci=null,oi=null,la=null,h1=null,lo=null,Fo=null,ks=null,Qa=null,Ma=null,$s=null,qs=null,ca=null,Sa=null,qo=null,p1=null,m1=null,ua=null,co=null,is=null,ms=null,Ea=null,ro=null,Lo=null,mn=null,Bi=null,os=null,Ts=null,Do=null,gs=null,Jo=null,uo=null,yo=null,si=null,fa=null,li=null,fo=null,Ps=null,da=null,ko=null,sr=null,vs=null,Us=null,Cs=null,Js=null,La=null,Zi=null,mi=null,ho=null,Qs=null,ki=null,Li=null,po=null,$o=null,ci=null,Ee=null,mo=null,js=null,qi=null,ai=null,Io=null,Zs=null,ss=null,_s=null,$i=null,go=null,gi=null,Wi=null,Gi=null,Ra=null,ha=null,Os=null,Ol=null,Ho=null,F1=null,e1=null,g1=null,Uo=null,wo=null,ea=null,Aa=null,Ds=null,k1=null,v1=null,$1=null,t1=null,Ur=null,Ta=null,as=null,C1=null,Dl=["color"],xs=(0,A.forwardRef)(function(J,ae){var Q=J.color,re=Q===void 0?"currentColor":Q,se=b(J,Dl);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,A.createElement)("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),Pa=null,jo=null,n1=null,Il=null,Oa=null,_1=null,Oc=null,U1=null,Da=null,Ws=null,j1=null,r1=null,E0=null,L0=null,Hl=null,zl=null,Vl=null,Dc=null,x1=null,bi=null,Is=null,ta=null,y1=null,Hs=null,i1=null,Ia=null,Bl=null,Z1=null,W1=null,G1=null,Ji=null,Ic=null,io=null,ys=null,Ui=null,Ha=null,Ai=null,w1=null,zo=null,R0=null,A0=null,Zo=null,Wo=null,X1=null,Hc=null,hr=null,zc=null,Vc=null,Qo=null,Y1=null,pa=null,es=null,o1=null,Qi=null,Vr=null,Nl=null,na=["color"],b1=(0,A.forwardRef)(function(J,ae){var Q=J.color,re=Q===void 0?"currentColor":Q,se=b(J,na);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,A.createElement)("path",{d:"M12.3536 13.3536C12.1583 13.5488 11.8417 13.5488 11.6465 13.3536L6.39645 8.10355C6.36478 8.07188 6.33824 8.03702 6.31685 8H5.00002C4.78719 8 4.59769 7.86528 4.52777 7.66426L2.12777 0.764277C2.05268 0.548387 2.13355 0.309061 2.3242 0.182972C2.51486 0.0568819 2.76674 0.0761337 2.93602 0.229734L8.336 5.12972C8.44044 5.22449 8.50001 5.35897 8.50001 5.5V5.81684C8.53702 5.83824 8.57189 5.86478 8.60356 5.89645L13.8536 11.1464C14.0488 11.3417 14.0488 11.6583 13.8536 11.8536L12.3536 13.3536ZM8.25 6.95711L7.45711 7.75L12 12.2929L12.7929 11.5L8.25 6.95711ZM3.71669 2.28845L5.35549 7H6.2929L7.50001 5.79289V5.72146L3.71669 2.28845Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),ra=null,zs=null,ia=null,M1=null,K1=null,Vs=null,q1=null,J1=null,za=null,Gs=null,Q1=null,Kn=null,s1=null,a1=null,bo=null,T0=null,Xs=null,ls=null,ma=null,Ro=null,Fl=null,Bc=null,Nc=null,Bs=null,S1=null,vo=null,ga=null,Va=null,el=null,va=null,Fc=null,kl=null,kc=null,$c=null,oa=null,Ba=null,Na=null,Fa=null,E1=null,tl=null,Ys=null,L1=null,$l=null,Ul=null,jl=null,Uc=null,Zl=null,P0=null,nl=null,Wl=null,eo=null,Jr=null,oo=null,so=null,Ao=null,cs=null,l1=null,Co=null,R1=null,c1=null,rl=null,Gl=null,A1=null,ts=null,Xl=null,Yl=null,u1=null,il=null,Kl=null,Ca=null,ol=null,_a=null,sl=null,T1=null,ql=null,al=null,ll=null,Go=null,xa=null,ws=null,cl=null,ns=null,jc=null,Jl=null,Ql=null,O0=null,ya=null,Zc=null,Wc=null,ec=null,ka=null,Gc=null,tc=["color"],ul=(0,A.forwardRef)(function(J,ae){var Q=J.color,re=Q===void 0?"currentColor":Q,se=b(J,tc);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,A.createElement)("path",{d:"M7.5 1.5C4.5 4.25 3 6.5 3 9C3 11.4853 5.01472 13.5 7.5 13.5C9.98528 13.5 12 11.4853 12 9C12 6.5 10.5 4.25 7.5 1.5ZM11 9C11 7.11203 9.97315 5.27195 7.5 2.87357C5.02686 5.27195 4 7.11203 4 9C4 10.933 5.567 12.5 7.5 12.5C9.433 12.5 11 10.933 11 9Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),fl=null,D0=null,I0=null,Xc=null,Yc=null,$a=null,H0=null,Ua=null,Kc=null,rs=null,z0=null,qc=null,V0=null,B0=null,Jc=null,Qc=null,N0=null,bs=null,nc=null,F0=null,sa=["color"],P1=(0,A.forwardRef)(function(J,ae){var Q=J.color,re=Q===void 0?"currentColor":Q,se=b(J,sa);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,A.createElement)("path",{d:"M13.5 13.95C13.7485 13.95 13.95 13.7485 13.95 13.5C13.95 13.2514 13.7485 13.05 13.5 13.05L1.49995 13.05C1.25142 13.05 1.04995 13.2514 1.04995 13.5C1.04995 13.7485 1.25142 13.95 1.49995 13.95L13.5 13.95ZM11.0681 7.5683C11.2439 7.39257 11.2439 7.10764 11.0681 6.93191C10.8924 6.75617 10.6075 6.75617 10.4317 6.93191L7.94993 9.41371L7.94993 1.49998C7.94993 1.25146 7.74846 1.04998 7.49993 1.04998C7.2514 1.04998 7.04993 1.25146 7.04993 1.49998L7.04993 9.41371L4.56813 6.93191C4.39239 6.75617 4.10746 6.75617 3.93173 6.93191C3.75599 7.10764 3.75599 7.39257 3.93173 7.5683L7.18173 10.8183C7.35746 10.994 7.64239 10.994 7.81812 10.8183L11.0681 7.5683Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),ja=null,dl=null,rc=null,ic=null,e0=["color"],oc=(0,A.forwardRef)(function(J,ae){var Q=J.color,re=Q===void 0?"currentColor":Q,se=b(J,e0);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,A.createElement)("path",{d:"M1.50005 1.05005C1.25152 1.05005 1.05005 1.25152 1.05005 1.50005C1.05005 1.74858 1.25152 1.95005 1.50005 1.95005L13.5 1.95005C13.7486 1.95005 13.95 1.74858 13.95 1.50005C13.95 1.25152 13.7486 1.05005 13.5 1.05005H1.50005ZM3.93188 7.43169C3.75614 7.60743 3.75614 7.89236 3.93188 8.06809C4.10761 8.24383 4.39254 8.24383 4.56827 8.06809L7.05007 5.58629V13.5C7.05007 13.7485 7.25155 13.95 7.50007 13.95C7.7486 13.95 7.95007 13.7485 7.95007 13.5L7.95007 5.58629L10.4319 8.06809C10.6076 8.24383 10.8925 8.24383 11.0683 8.06809C11.244 7.89235 11.244 7.60743 11.0683 7.43169L7.81827 4.18169C7.64254 4.00596 7.35761 4.00596 7.18188 4.18169L3.93188 7.43169Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),t0=null,n0=null,r0=null,sc=null,k0=null,$0=null,i=null,s=null,u=null,h=null,M=null,I=null,De=null,mt=null,Qt=null,Fn=null,dr=null,Fr=null,Lr=null,Pi=null,xr=null,Vo=null,Ms=null,zt=null,vt=null,Zt=null,ar=null,yr=null,Qr=null,jr=null,yi=null,To=null,wi=null,Za=null,Tu=null,d5=null,h5=null,p5=null,m5=null,g5=null,v5=null,C5=null,Gf=["color"],Xf=(0,A.forwardRef)(function(J,ae){var Q=J.color,re=Q===void 0?"currentColor":Q,se=b(J,Gf);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,A.createElement)("path",{opacity:".05",d:"M6.78296 13.376C8.73904 9.95284 8.73904 5.04719 6.78296 1.62405L7.21708 1.37598C9.261 4.95283 9.261 10.0472 7.21708 13.624L6.78296 13.376Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{opacity:".1",d:"M7.28204 13.4775C9.23929 9.99523 9.23929 5.00475 7.28204 1.52248L7.71791 1.2775C9.76067 4.9119 9.76067 10.0881 7.71791 13.7225L7.28204 13.4775Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{opacity:".15",d:"M7.82098 13.5064C9.72502 9.99523 9.72636 5.01411 7.82492 1.50084L8.26465 1.26285C10.2465 4.92466 10.2451 10.085 8.26052 13.7448L7.82098 13.5064Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{opacity:".2",d:"M8.41284 13.429C10.1952 9.92842 10.1957 5.07537 8.41435 1.57402L8.85999 1.34729C10.7139 4.99113 10.7133 10.0128 8.85841 13.6559L8.41284 13.429Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{opacity:".25",d:"M9.02441 13.2956C10.6567 9.8379 10.6586 5.17715 9.03005 1.71656L9.48245 1.50366C11.1745 5.09919 11.1726 9.91629 9.47657 13.5091L9.02441 13.2956Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{opacity:".3",d:"M9.66809 13.0655C11.1097 9.69572 11.1107 5.3121 9.67088 1.94095L10.1307 1.74457C11.6241 5.24121 11.6231 9.76683 10.1278 13.2622L9.66809 13.0655Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{opacity:".35",d:"M10.331 12.7456C11.5551 9.52073 11.5564 5.49103 10.3347 2.26444L10.8024 2.0874C12.0672 5.42815 12.0659 9.58394 10.7985 12.9231L10.331 12.7456Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{opacity:".4",d:"M11.0155 12.2986C11.9938 9.29744 11.9948 5.71296 11.0184 2.71067L11.4939 2.55603C12.503 5.6589 12.502 9.35178 11.4909 12.4535L11.0155 12.2986Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{opacity:".45",d:"M11.7214 11.668C12.4254 9.01303 12.4262 5.99691 11.7237 3.34116L12.2071 3.21329C12.9318 5.95292 12.931 9.05728 12.2047 11.7961L11.7214 11.668Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{opacity:".5",d:"M12.4432 10.752C12.8524 8.63762 12.8523 6.36089 12.4429 4.2466L12.9338 4.15155C13.3553 6.32861 13.3554 8.66985 12.9341 10.847L12.4432 10.752Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,A.createElement)("path",{d:"M0.877075 7.49988C0.877075 3.84219 3.84222 0.877045 7.49991 0.877045C11.1576 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1575 0.877075 7.49988ZM7.49991 1.82704C4.36689 1.82704 1.82708 4.36686 1.82708 7.49988C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49988C13.1727 4.36686 10.6329 1.82704 7.49991 1.82704Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),_5=null,x5=null,y5=null,w5=null,b5=null,M5=null,S5=null,E5=null,L5=null,R5=null,A5=null,T5=null,ui=null,tr=null,aa=null,Yf=null,Kf=null,qf=null,Jf=null,Qf=null,e2=null,i0=null,hl=null,Pu=null,O1=null,U0=null,Ou=null,j0=null,D1=null,pl=null,Du=null,Z0=null,t2=null,Iu=null,o0=null,n2=null,Hu=null,zu=null,W0=null,r2=null,i2=null,o2=null,s2=null,a2=null,l2=null,c2=null,G0=null,u2=null,f2=null,Vu=null,Bu=null,Nu=null,Fu=null,ku=null,$u=null,Uu=null,ju=null,Zu=null,ml=null,us=null,fs=null,s0=null,d2=null,h2=null,p2=null,m2=null,g2=null,v2=null,C2=null,_2=null,x2=null,y2=null,w2=null,b2=null,M2=null,S2=null,E2=null,L2=null,R2=null,A2=null,T2=null,P2=null,O2=null,D2=null,I2=null,H2=null,z2=null,V2=null,B2=null,N2=null,F2=null,k2=null,$2=null,U2=null,Wu=["color"],Gu=(0,A.forwardRef)(function(J,ae){var Q=J.color,re=Q===void 0?"currentColor":Q,se=b(J,Wu);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,A.createElement)("path",{d:"M4.5 2C3.11929 2 2 3.11929 2 4.5C2 5.88072 3.11929 7 4.5 7C5.88072 7 7 5.88072 7 4.5C7 3.11929 5.88072 2 4.5 2ZM3 4.5C3 3.67157 3.67157 3 4.5 3C5.32843 3 6 3.67157 6 4.5C6 5.32843 5.32843 6 4.5 6C3.67157 6 3 5.32843 3 4.5ZM10.5 2C9.11929 2 8 3.11929 8 4.5C8 5.88072 9.11929 7 10.5 7C11.8807 7 13 5.88072 13 4.5C13 3.11929 11.8807 2 10.5 2ZM9 4.5C9 3.67157 9.67157 3 10.5 3C11.3284 3 12 3.67157 12 4.5C12 5.32843 11.3284 6 10.5 6C9.67157 6 9 5.32843 9 4.5ZM2 10.5C2 9.11929 3.11929 8 4.5 8C5.88072 8 7 9.11929 7 10.5C7 11.8807 5.88072 13 4.5 13C3.11929 13 2 11.8807 2 10.5ZM4.5 9C3.67157 9 3 9.67157 3 10.5C3 11.3284 3.67157 12 4.5 12C5.32843 12 6 11.3284 6 10.5C6 9.67157 5.32843 9 4.5 9ZM10.5 8C9.11929 8 8 9.11929 8 10.5C8 11.8807 9.11929 13 10.5 13C11.8807 13 13 11.8807 13 10.5C13 9.11929 11.8807 8 10.5 8ZM9 10.5C9 9.67157 9.67157 9 10.5 9C11.3284 9 12 9.67157 12 10.5C12 11.3284 11.3284 12 10.5 12C9.67157 12 9 11.3284 9 10.5Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),j2=null,Z2=null,W2=null,G2=null,Xu=["color"],Yu=(0,A.forwardRef)(function(J,ae){var Q=J.color,re=Q===void 0?"currentColor":Q,se=b(J,Xu);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,A.createElement)("path",{d:"M0.849976 1.74998C0.849976 1.25292 1.25292 0.849976 1.74998 0.849976H3.24998C3.74703 0.849976 4.14998 1.25292 4.14998 1.74998V2.04998H10.85V1.74998C10.85 1.25292 11.2529 0.849976 11.75 0.849976H13.25C13.747 0.849976 14.15 1.25292 14.15 1.74998V3.24998C14.15 3.74703 13.747 4.14998 13.25 4.14998H12.95V10.85H13.25C13.747 10.85 14.15 11.2529 14.15 11.75V13.25C14.15 13.747 13.747 14.15 13.25 14.15H11.75C11.2529 14.15 10.85 13.747 10.85 13.25V12.95H4.14998V13.25C4.14998 13.747 3.74703 14.15 3.24998 14.15H1.74998C1.25292 14.15 0.849976 13.747 0.849976 13.25V11.75C0.849976 11.2529 1.25292 10.85 1.74998 10.85H2.04998V4.14998H1.74998C1.25292 4.14998 0.849976 3.74703 0.849976 3.24998V1.74998ZM2.94998 4.14998V10.85H3.24998C3.74703 10.85 4.14998 11.2529 4.14998 11.75V12.05H10.85V11.75C10.85 11.2529 11.2529 10.85 11.75 10.85H12.05V4.14998H11.75C11.2529 4.14998 10.85 3.74703 10.85 3.24998V2.94998H4.14998V3.24998C4.14998 3.74703 3.74703 4.14998 3.24998 4.14998H2.94998ZM2.34998 1.74998H1.74998V2.34998V2.64998V3.24998H2.34998H2.64998H3.24998V2.64998V2.34998V1.74998H2.64998H2.34998ZM5.09998 5.99998C5.09998 5.50292 5.50292 5.09998 5.99998 5.09998H6.99998C7.49703 5.09998 7.89998 5.50292 7.89998 5.99998V6.99998C7.89998 7.03591 7.89787 7.07134 7.89378 7.10618C7.92861 7.10208 7.96405 7.09998 7.99998 7.09998H8.99998C9.49703 7.09998 9.89998 7.50292 9.89998 7.99998V8.99998C9.89998 9.49703 9.49703 9.89998 8.99998 9.89998H7.99998C7.50292 9.89998 7.09998 9.49703 7.09998 8.99998V7.99998C7.09998 7.96405 7.10208 7.92861 7.10618 7.89378C7.07134 7.89787 7.03591 7.89998 6.99998 7.89998H5.99998C5.50292 7.89998 5.09998 7.49703 5.09998 6.99998V5.99998ZM6.09998 5.99998H5.99998V6.09998V6.89998V6.99998H6.09998H6.89998H6.99998V6.89998V6.09998V5.99998H6.89998H6.09998ZM7.99998 7.99998H8.09998H8.89998H8.99998V8.09998V8.89998V8.99998H8.89998H8.09998H7.99998V8.89998V8.09998V7.99998ZM2.64998 11.75H2.34998H1.74998V12.35V12.65V13.25H2.34998H2.64998H3.24998V12.65V12.35V11.75H2.64998ZM11.75 1.74998H12.35H12.65H13.25V2.34998V2.64998V3.24998H12.65H12.35H11.75V2.64998V2.34998V1.74998ZM12.65 11.75H12.35H11.75V12.35V12.65V13.25H12.35H12.65H13.25V12.65V12.35V11.75H12.65Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),X2=null,Y2=null,K2=null,X0=null,Y0=["color"],Ku=(0,A.forwardRef)(function(J,ae){var Q=J.color,re=Q===void 0?"currentColor":Q,se=b(J,Y0);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,A.createElement)("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:re}))}),a0=null,qu=null,Ju=["color"],Qu=(0,A.forwardRef)(function(J,ae){var Q=J.color,re=Q===void 0?"currentColor":Q,se=b(J,Ju);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,A.createElement)("path",{d:"M6 11L6 4L10.5 7.5L6 11Z",fill:re}))}),q2=null,ef=null,J2=null,Q2=null,ed=null,td=null,tf=["color"],gl=(0,A.forwardRef)(function(J,ae){var Q=J.color,re=Q===void 0?"currentColor":Q,se=b(J,tf);return(0,A.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,A.createElement)("path",{d:"M1.90321 7.29677C1.90321 10.341 4.11041 12.4147 6.58893 12.8439C6.87255 12.893 7.06266 13.1627 7.01355 13.4464C6.96444 13.73 6.69471 13.9201 6.41109 13.871C3.49942 13.3668 0.86084 10.9127 0.86084 7.29677C0.860839 5.76009 1.55996 4.55245 2.37639 3.63377C2.96124 2.97568 3.63034 2.44135 4.16846 2.03202L2.53205 2.03202C2.25591 2.03202 2.03205 1.80816 2.03205 1.53202C2.03205 1.25588 2.25591 1.03202 2.53205 1.03202L5.53205 1.03202C5.80819 1.03202 6.03205 1.25588 6.03205 1.53202L6.03205 4.53202C6.03205 4.80816 5.80819 5.03202 5.53205 5.03202C5.25591 5.03202 5.03205 4.80816 5.03205 4.53202L5.03205 2.68645L5.03054 2.68759L5.03045 2.68766L5.03044 2.68767L5.03043 2.68767C4.45896 3.11868 3.76059 3.64538 3.15554 4.3262C2.44102 5.13021 1.90321 6.10154 1.90321 7.29677ZM13.0109 7.70321C13.0109 4.69115 10.8505 2.6296 8.40384 2.17029C8.12093 2.11718 7.93465 1.84479 7.98776 1.56188C8.04087 1.27898 8.31326 1.0927 8.59616 1.14581C11.4704 1.68541 14.0532 4.12605 14.0532 7.70321C14.0532 9.23988 13.3541 10.4475 12.5377 11.3662C11.9528 12.0243 11.2837 12.5586 10.7456 12.968L12.3821 12.968C12.6582 12.968 12.8821 13.1918 12.8821 13.468C12.8821 13.7441 12.6582 13.968 12.3821 13.968L9.38205 13.968C9.10591 13.968 8.88205 13.7441 8.88205 13.468L8.88205 10.468C8.88205 10.1918 9.10591 9.96796 9.38205 9.96796C9.65819 9.96796 9.88205 10.1918 9.88205 10.468L9.88205 12.3135L9.88362 12.3123C10.4551 11.8813 11.1535 11.3546 11.7585 10.6738C12.4731 9.86976 13.0109 8.89844 13.0109 7.70321Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),nf=null,rf=null,nd=null,K0=null,rd=null,id=null,od=null,of=null,sd=null,sf=null,af=null,ad=null,ld=null,cd=null,ud=null,fd=null,dd=null,hd=null,pd=null,md=null,gd=null,vd=null,Cd=null,lf=null},94207:function(qt,et,W){"use strict";W.d(et,{qA:function(){return rt}});var A=W(72564),b=W(50959),v=W(72531),y=W(26553);class T extends y.DataTextureLoader{constructor(Te){super(Te),this.type=y.HalfFloatType}parse(Te){const Vt=function(Rt,jt){switch(Rt){case 1:console.error("THREE.RGBELoader Read Error: "+(jt||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(jt||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(jt||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(jt||""))}return-1},Ht=`
`,St=function(Rt,jt,hn){jt=jt||1024;let ie=Rt.pos,fe=-1,me=0,ke="",Ie=String.fromCharCode.apply(null,new Uint16Array(Rt.subarray(ie,ie+128)));for(;0>(fe=Ie.indexOf(Ht))&&me<jt&&ie<Rt.byteLength;)ke+=Ie,me+=Ie.length,ie+=128,Ie+=String.fromCharCode.apply(null,new Uint16Array(Rt.subarray(ie,ie+128)));return-1<fe?(hn!==!1&&(Rt.pos+=me+fe+1),ke+Ie.slice(0,fe)):!1},Qe=function(Rt){const jt=/^#\?(\S+)/,hn=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,tt=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,ie=/^\s*FORMAT=(\S+)\s*$/,fe=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,me={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ke,Ie;if(Rt.pos>=Rt.byteLength||!(ke=St(Rt)))return Vt(1,"no header found");if(!(Ie=ke.match(jt)))return Vt(3,"bad initial token");for(me.valid|=1,me.programtype=Ie[1],me.string+=ke+`
`;ke=St(Rt),ke!==!1;){if(me.string+=ke+`
`,ke.charAt(0)==="#"){me.comments+=ke+`
`;continue}if((Ie=ke.match(hn))&&(me.gamma=parseFloat(Ie[1])),(Ie=ke.match(tt))&&(me.exposure=parseFloat(Ie[1])),(Ie=ke.match(ie))&&(me.valid|=2,me.format=Ie[1]),(Ie=ke.match(fe))&&(me.valid|=4,me.height=parseInt(Ie[1],10),me.width=parseInt(Ie[2],10)),me.valid&2&&me.valid&4)break}return me.valid&2?me.valid&4?me:Vt(3,"missing image size specifier"):Vt(3,"missing format specifier")},Et=function(Rt,jt,hn){const tt=jt;if(tt<8||tt>32767||Rt[0]!==2||Rt[1]!==2||Rt[2]&128)return new Uint8Array(Rt);if(tt!==(Rt[2]<<8|Rt[3]))return Vt(3,"wrong scanline width");const ie=new Uint8Array(4*jt*hn);if(!ie.length)return Vt(4,"unable to allocate buffer space");let fe=0,me=0;const ke=4*tt,Ie=new Uint8Array(4),At=new Uint8Array(ke);let Jt=hn;for(;Jt>0&&me<Rt.byteLength;){if(me+4>Rt.byteLength)return Vt(1);if(Ie[0]=Rt[me++],Ie[1]=Rt[me++],Ie[2]=Rt[me++],Ie[3]=Rt[me++],Ie[0]!=2||Ie[1]!=2||(Ie[2]<<8|Ie[3])!=tt)return Vt(3,"bad rgbe scanline format");let Vn=0,Ln;for(;Vn<ke&&me<Rt.byteLength;){Ln=Rt[me++];const je=Ln>128;if(je&&(Ln-=128),Ln===0||Vn+Ln>ke)return Vt(3,"bad scanline data");if(je){const Ye=Rt[me++];for(let qe=0;qe<Ln;qe++)At[Vn++]=Ye}else At.set(Rt.subarray(me,me+Ln),Vn),Vn+=Ln,me+=Ln}const ue=tt;for(let je=0;je<ue;je++){let Ye=0;ie[fe]=At[je+Ye],Ye+=tt,ie[fe+1]=At[je+Ye],Ye+=tt,ie[fe+2]=At[je+Ye],Ye+=tt,ie[fe+3]=At[je+Ye],fe+=4}Jt--}return ie},tn=function(Rt,jt,hn,tt){const ie=Rt[jt+3],fe=Math.pow(2,ie-128)/255;hn[tt+0]=Rt[jt+0]*fe,hn[tt+1]=Rt[jt+1]*fe,hn[tt+2]=Rt[jt+2]*fe,hn[tt+3]=1},un=function(Rt,jt,hn,tt){const ie=Rt[jt+3],fe=Math.pow(2,ie-128)/255;hn[tt+0]=y.DataUtils.toHalfFloat(Math.min(Rt[jt+0]*fe,65504)),hn[tt+1]=y.DataUtils.toHalfFloat(Math.min(Rt[jt+1]*fe,65504)),hn[tt+2]=y.DataUtils.toHalfFloat(Math.min(Rt[jt+2]*fe,65504)),hn[tt+3]=y.DataUtils.toHalfFloat(1)},nn=new Uint8Array(Te);nn.pos=0;const pn=Qe(nn);if(pn!==-1){const Rt=pn.width,jt=pn.height,hn=Et(nn.subarray(nn.pos),Rt,jt);if(hn!==-1){let tt,ie,fe;switch(this.type){case y.FloatType:fe=hn.length/4;const me=new Float32Array(fe*4);for(let Ie=0;Ie<fe;Ie++)tn(hn,Ie*4,me,Ie*4);tt=me,ie=y.FloatType;break;case y.HalfFloatType:fe=hn.length/4;const ke=new Uint16Array(fe*4);for(let Ie=0;Ie<fe;Ie++)un(hn,Ie*4,ke,Ie*4);tt=ke,ie=y.HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:Rt,height:jt,data:tt,header:pn.string,gamma:pn.gamma,exposure:pn.exposure,type:ie}}}return null}setDataType(Te){return this.type=Te,this}load(Te,Ve,Ge,ot){function ht(bt,Vt){switch(bt.type){case y.FloatType:case y.HalfFloatType:bt.encoding=y.LinearEncoding,bt.minFilter=y.LinearFilter,bt.magFilter=y.LinearFilter,bt.generateMipmaps=!1,bt.flipY=!0;break}Ve&&Ve(bt,Vt)}return super.load(Te,ht,Ge,ot)}}const k={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"};var D=`#define GLSLIFY 1
varying vec3 vWorldPosition;void main(){vec4 worldPosition=modelMatrix*vec4(position,1.0);vWorldPosition=worldPosition.xyz;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);}`,j=`#define GLSLIFY 1
#define ENVMAP_TYPE_CUBE_UV
varying vec3 vWorldPosition;uniform float radius;uniform float height;
#ifdef ENVMAP_TYPE_CUBE
uniform samplerCube cubemap;
#else
uniform sampler2D cubemap;
#endif
float diskIntersectWithBackFaceCulling(in vec3 ro,in vec3 rd,vec3 c,vec3 n,float r){float d=dot(rd,n);if(d>0.0)return 1e6;vec3 o=ro-c;float t=-dot(n,o)/d;vec3 q=o+rd*t;return(dot(q,q)<r*r)? t : 1e6;}float sphereIntersect(in vec3 ro,in vec3 rd,in vec3 ce,float ra){vec3 oc=ro-ce;float b=dot(oc,rd);float c=dot(oc,oc)-ra*ra;float h=b*b-c;if(h<0.0)-1.0;h=sqrt(h);return-b+h;}vec3 project(){vec3 p=normalize(vWorldPosition);vec3 camPos=cameraPosition;camPos.y-=height;float intersection=sphereIntersect(camPos,p,vec3(0.),radius);if(intersection>0.){vec3 h=vec3(0.0,-height,0.0);float intersection2=diskIntersectWithBackFaceCulling(camPos,p,h,vec3(0.0,1.0,0.0),radius);p=(camPos+min(intersection,intersection2)*p)/radius;}else{p=vec3(0.0,1.0,0.0);}return p;}
#include <common>
#include <cube_uv_reflection_fragment>
void main(){vec3 projectedWorldPosition=project();
#ifdef ENVMAP_TYPE_CUBE
vec3 outcolor=textureCube(cubemap,projectedWorldPosition).rgb;
#else
vec3 direction=normalize(projectedWorldPosition);vec2 uv=equirectUv(direction);vec3 outcolor=texture2D(cubemap,uv).rgb;
#endif
gl_FragColor=vec4(outcolor,1.0);
#include <tonemapping_fragment>
#include <encodings_fragment>
}`;function K(ce){const Te=ce+"BufferGeometry";return b.forwardRef((bt,ht)=>{var Vt=bt,{args:Ve,children:Ge}=Vt,ot=Bo(Vt,["args","children"]);return b.createElement("mesh",(0,A.Z)({ref:ht},ot),b.createElement(Te,{attach:"geometry",args:Ve}),Ge)})}const ne=K("box"),he=K("circle"),xe=K("cone"),B=K("cylinder"),Ke=K("sphere"),We=K("plane"),Bt=K("tube"),at=K("torus"),ut=K("torusKnot"),H=K("tetrahedron"),lt=K("ring"),wt=K("polyhedron"),Nt=K("icosahedron"),Dt=K("octahedron"),Ue=K("dodecahedron"),Xe=K("extrude"),it=K("lathe"),Ft=K("capsule"),X="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/",be=ce=>ce&&ce.isCubeTexture,ye=ce=>ce.current&&ce.current.isScene,Me=ce=>ye(ce)?ce.current:ce;function _e({scene:ce,background:Te=!1,map:Ve}){const Ge=(0,v.w)(ot=>ot.scene);return b.useLayoutEffect(()=>{if(Ve){const ot=Me(ce||Ge),ht=ot.background,bt=ot.environment;return Te!=="only"&&(ot.environment=Ve),Te&&(ot.background=Ve),()=>{Te!=="only"&&(ot.environment=bt),Te&&(ot.background=ht)}}},[Ge,ce,Ve,Te]),null}function Re({files:ce=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:Te="",preset:Ve=void 0,encoding:Ge=void 0,extensions:ot}){if(Ve){if(!(Ve in k))throw new Error("Preset must be one of: "+Object.keys(k).join(", "));ce=k[Ve],Te=X}const ht=Array.isArray(ce),bt=ht?y.CubeTextureLoader:T,Vt=(0,v.z)(bt,ht?[ce]:ce,Tt=>{Tt.setPath(Te),ot&&ot(Tt)}),Kt=ht?Vt[0]:Vt;return Kt.mapping=ht?y.CubeReflectionMapping:y.EquirectangularReflectionMapping,Kt.encoding=(Ge!=null?Ge:ht)?y.sRGBEncoding:y.LinearEncoding,Kt}function $e(Ge){var ot=Ge,{background:ce=!1,scene:Te}=ot,Ve=Bo(ot,["background","scene"]);const ht=Re(Ve),bt=(0,v.w)(Vt=>Vt.scene);return b.useLayoutEffect(()=>{const Vt=Me(Te||bt),Kt=Vt.background,Tt=Vt.environment;return ce!=="only"&&(Vt.environment=ht),ce&&(Vt.background=ht),()=>{ce!=="only"&&(Vt.environment=Tt),ce&&(Vt.background=Kt)}},[ht,ce,Te,bt]),null}function le({children:ce,near:Te=1,far:Ve=1e3,resolution:Ge=256,frames:ot=1,map:ht,background:bt=!1,scene:Vt,files:Kt,path:Tt,preset:Mt=void 0,extensions:Ht}){const St=(0,v.w)(pn=>pn.gl),Qe=(0,v.w)(pn=>pn.scene),Et=b.useRef(null),[tn]=b.useState(()=>new y.Scene),un=b.useMemo(()=>{const pn=new y.WebGLCubeRenderTarget(Ge);return pn.texture.type=y.HalfFloatType,pn},[Ge]);b.useLayoutEffect(()=>{ot===1&&Et.current.update(St,tn);const pn=Me(Vt||Qe),Rt=pn.background,jt=pn.environment;return bt!=="only"&&(pn.environment=un.texture),bt&&(pn.background=un.texture),()=>{bt!=="only"&&(pn.environment=jt),bt&&(pn.background=Rt)}},[ce,tn,un.texture,Vt,Qe,bt,ot,St]);let nn=1;return(0,v.x)(()=>{(ot===1/0||nn<ot)&&(Et.current.update(St,tn),nn++)}),b.createElement(b.Fragment,null,(0,v.g)(b.createElement(b.Fragment,null,ce,b.createElement("cubeCamera",{ref:Et,args:[Te,Ve,un]}),Kt||Mt?b.createElement($e,{background:!0,files:Kt,preset:Mt,path:Tt,extensions:Ht}):ht?b.createElement(_e,{background:!0,map:ht,extensions:Ht}):null),tn))}function He(ce){var Te,Ve,Ge,ot;const ht=Re(ce),bt=ce.map||ht,Vt=be(bt),Kt=b.useMemo(()=>{var tn,un;const pn=((tn=Vt?(un=bt.image[0])==null?void 0:un.width:bt.image.width)!==null&&tn!==void 0?tn:1024)/4,Rt=Math.floor(Math.log2(pn)),jt=Math.pow(2,Rt),hn=3*Math.max(jt,16*7),tt=4*jt;return[Vt?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/hn}`,`#define CUBEUV_TEXEL_HEIGHT ${1/tt}`,`#define CUBEUV_MAX_MIP ${Rt}.0`,""]},[]),Tt=b.useMemo(()=>Kt.join(`
`)+j,[Kt]),Mt=b.useMemo(()=>({cubemap:{value:null},height:{value:15},radius:{value:60}}),[]),Ht=b.useRef(null),St=(Te=ce.ground)==null?void 0:Te.height,Qe=(Ve=ce.ground)==null?void 0:Ve.radius,Et=(Ge=(ot=ce.ground)==null?void 0:ot.scale)!==null&&Ge!==void 0?Ge:1e3;return b.useEffect(()=>void(St&&(Ht.current.uniforms.height.value=St)),[St]),b.useEffect(()=>void(Qe&&(Ht.current.uniforms.radius.value=Qe)),[Qe]),b.useEffect(()=>void(Ht.current.uniforms.cubemap.value=bt),[bt]),b.createElement(b.Fragment,null,b.createElement(_e,(0,A.Z)({},ce,{map:bt})),b.createElement(Nt,{scale:Et,args:[1,16]},b.createElement("shaderMaterial",{ref:Ht,side:y.BackSide,vertexShader:D,fragmentShader:Tt,uniforms:Mt})))}function rt(ce){return ce.ground?b.createElement(He,ce):ce.map?b.createElement(_e,ce):ce.children?b.createElement(le,ce):b.createElement($e,ce)}},94054:function(qt,et,W){"use strict";W.d(et,{z:function(){return K}});var A=W(72564),b=W(72531),v=W(50959),y=W(45389),T=W(26553);const k=(ne,he)=>(ne%he+he)%he;class D extends T.EventDispatcher{constructor(he,xe){super(),(0,y.Z)(this,"object",void 0),(0,y.Z)(this,"domElement",void 0),(0,y.Z)(this,"enabled",!0),(0,y.Z)(this,"target",new T.Vector3),(0,y.Z)(this,"minDistance",0),(0,y.Z)(this,"maxDistance",1/0),(0,y.Z)(this,"minZoom",0),(0,y.Z)(this,"maxZoom",1/0),(0,y.Z)(this,"minPolarAngle",0),(0,y.Z)(this,"maxPolarAngle",Math.PI),(0,y.Z)(this,"minAzimuthAngle",-1/0),(0,y.Z)(this,"maxAzimuthAngle",1/0),(0,y.Z)(this,"enableDamping",!1),(0,y.Z)(this,"dampingFactor",.05),(0,y.Z)(this,"enableZoom",!0),(0,y.Z)(this,"zoomSpeed",1),(0,y.Z)(this,"enableRotate",!0),(0,y.Z)(this,"rotateSpeed",1),(0,y.Z)(this,"enablePan",!0),(0,y.Z)(this,"panSpeed",1),(0,y.Z)(this,"screenSpacePanning",!0),(0,y.Z)(this,"keyPanSpeed",7),(0,y.Z)(this,"autoRotate",!1),(0,y.Z)(this,"autoRotateSpeed",2),(0,y.Z)(this,"reverseOrbit",!1),(0,y.Z)(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),(0,y.Z)(this,"mouseButtons",{LEFT:T.MOUSE.ROTATE,MIDDLE:T.MOUSE.DOLLY,RIGHT:T.MOUSE.PAN}),(0,y.Z)(this,"touches",{ONE:T.TOUCH.ROTATE,TWO:T.TOUCH.DOLLY_PAN}),(0,y.Z)(this,"target0",void 0),(0,y.Z)(this,"position0",void 0),(0,y.Z)(this,"zoom0",void 0),(0,y.Z)(this,"_domElementKeyEvents",null),(0,y.Z)(this,"getPolarAngle",void 0),(0,y.Z)(this,"getAzimuthalAngle",void 0),(0,y.Z)(this,"setPolarAngle",void 0),(0,y.Z)(this,"setAzimuthalAngle",void 0),(0,y.Z)(this,"getDistance",void 0),(0,y.Z)(this,"listenToKeyEvents",void 0),(0,y.Z)(this,"saveState",void 0),(0,y.Z)(this,"reset",void 0),(0,y.Z)(this,"update",void 0),(0,y.Z)(this,"connect",void 0),(0,y.Z)(this,"dispose",void 0),this.object=he,this.domElement=xe,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof T.PerspectiveCamera?this.object.zoom:1,this.getPolarAngle=()=>lt.phi,this.getAzimuthalAngle=()=>lt.theta,this.setPolarAngle=de=>{let Oe=k(de,2*Math.PI),st=lt.phi;st<0&&(st+=2*Math.PI),Oe<0&&(Oe+=2*Math.PI);let _t=Math.abs(Oe-st);2*Math.PI-_t<_t&&(Oe<st?Oe+=2*Math.PI:st+=2*Math.PI),wt.phi=Oe-st,B.update()},this.setAzimuthalAngle=de=>{let Oe=k(de,2*Math.PI),st=lt.theta;st<0&&(st+=2*Math.PI),Oe<0&&(Oe+=2*Math.PI);let _t=Math.abs(Oe-st);2*Math.PI-_t<_t&&(Oe<st?Oe+=2*Math.PI:st+=2*Math.PI),wt.theta=Oe-st,B.update()},this.getDistance=()=>B.object.position.distanceTo(B.target),this.listenToKeyEvents=de=>{de.addEventListener("keydown",ue),this._domElementKeyEvents=de},this.saveState=()=>{B.target0.copy(B.target),B.position0.copy(B.object.position),B.zoom0=B.object instanceof T.PerspectiveCamera?B.object.zoom:1},this.reset=()=>{B.target.copy(B.target0),B.object.position.copy(B.position0),B.object instanceof T.PerspectiveCamera&&(B.object.zoom=B.zoom0,B.object.updateProjectionMatrix()),B.dispatchEvent(Ke),B.update(),ut=at.NONE},this.update=(()=>{const de=new T.Vector3,Oe=new T.Quaternion().setFromUnitVectors(he.up,new T.Vector3(0,1,0)),st=Oe.clone().invert(),_t=new T.Vector3,Xt=new T.Quaternion,bn=2*Math.PI;return function(){const Ce=B.object.position;de.copy(Ce).sub(B.target),de.applyQuaternion(Oe),lt.setFromVector3(de),B.autoRotate&&ut===at.NONE&&ce(He()),B.enableDamping?(lt.theta+=wt.theta*B.dampingFactor,lt.phi+=wt.phi*B.dampingFactor):(lt.theta+=wt.theta,lt.phi+=wt.phi);let Ze=B.minAzimuthAngle,xt=B.maxAzimuthAngle;return isFinite(Ze)&&isFinite(xt)&&(Ze<-Math.PI?Ze+=bn:Ze>Math.PI&&(Ze-=bn),xt<-Math.PI?xt+=bn:xt>Math.PI&&(xt-=bn),Ze<=xt?lt.theta=Math.max(Ze,Math.min(xt,lt.theta)):lt.theta=lt.theta>(Ze+xt)/2?Math.max(Ze,lt.theta):Math.min(xt,lt.theta)),lt.phi=Math.max(B.minPolarAngle,Math.min(B.maxPolarAngle,lt.phi)),lt.makeSafe(),lt.radius*=Nt,lt.radius=Math.max(B.minDistance,Math.min(B.maxDistance,lt.radius)),B.enableDamping===!0?B.target.addScaledVector(Dt,B.dampingFactor):B.target.add(Dt),de.setFromSpherical(lt),de.applyQuaternion(st),Ce.copy(B.target).add(de),B.object.lookAt(B.target),B.enableDamping===!0?(wt.theta*=1-B.dampingFactor,wt.phi*=1-B.dampingFactor,Dt.multiplyScalar(1-B.dampingFactor)):(wt.set(0,0,0),Dt.set(0,0,0)),Nt=1,Ue||_t.distanceToSquared(B.object.position)>H||8*(1-Xt.dot(B.object.quaternion))>H?(B.dispatchEvent(Ke),_t.copy(B.object.position),Xt.copy(B.object.quaternion),Ue=!1,!0):!1}})(),this.connect=de=>{de===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),B.domElement=de,B.domElement.style.touchAction="none",B.domElement.addEventListener("contextmenu",qe),B.domElement.addEventListener("pointerdown",me),B.domElement.addEventListener("pointercancel",At),B.domElement.addEventListener("wheel",Ln)},this.dispose=()=>{var de,Oe,st,_t,Xt,bn;(de=B.domElement)===null||de===void 0||de.removeEventListener("contextmenu",qe),(Oe=B.domElement)===null||Oe===void 0||Oe.removeEventListener("pointerdown",me),(st=B.domElement)===null||st===void 0||st.removeEventListener("pointercancel",At),(_t=B.domElement)===null||_t===void 0||_t.removeEventListener("wheel",Ln),(Xt=B.domElement)===null||Xt===void 0||Xt.ownerDocument.removeEventListener("pointermove",ke),(bn=B.domElement)===null||bn===void 0||bn.ownerDocument.removeEventListener("pointerup",Ie),B._domElementKeyEvents!==null&&B._domElementKeyEvents.removeEventListener("keydown",ue)};const B=this,Ke={type:"change"},We={type:"start"},Bt={type:"end"},at={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let ut=at.NONE;const H=1e-6,lt=new T.Spherical,wt=new T.Spherical;let Nt=1;const Dt=new T.Vector3;let Ue=!1;const Xe=new T.Vector2,it=new T.Vector2,Ft=new T.Vector2,X=new T.Vector2,be=new T.Vector2,ye=new T.Vector2,Me=new T.Vector2,_e=new T.Vector2,Re=new T.Vector2,$e=[],le={};function He(){return 2*Math.PI/60/60*B.autoRotateSpeed}function rt(){return Math.pow(.95,B.zoomSpeed)}function ce(de){B.reverseOrbit?wt.theta+=de:wt.theta-=de}function Te(de){B.reverseOrbit?wt.phi+=de:wt.phi-=de}const Ve=(()=>{const de=new T.Vector3;return function(st,_t){de.setFromMatrixColumn(_t,0),de.multiplyScalar(-st),Dt.add(de)}})(),Ge=(()=>{const de=new T.Vector3;return function(st,_t){B.screenSpacePanning===!0?de.setFromMatrixColumn(_t,1):(de.setFromMatrixColumn(_t,0),de.crossVectors(B.object.up,de)),de.multiplyScalar(st),Dt.add(de)}})(),ot=(()=>{const de=new T.Vector3;return function(st,_t){const Xt=B.domElement;if(Xt&&B.object instanceof T.PerspectiveCamera&&B.object.isPerspectiveCamera){const bn=B.object.position;de.copy(bn).sub(B.target);let $n=de.length();$n*=Math.tan(B.object.fov/2*Math.PI/180),Ve(2*st*$n/Xt.clientHeight,B.object.matrix),Ge(2*_t*$n/Xt.clientHeight,B.object.matrix)}else Xt&&B.object instanceof T.OrthographicCamera&&B.object.isOrthographicCamera?(Ve(st*(B.object.right-B.object.left)/B.object.zoom/Xt.clientWidth,B.object.matrix),Ge(_t*(B.object.top-B.object.bottom)/B.object.zoom/Xt.clientHeight,B.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),B.enablePan=!1)}})();function ht(de){B.object instanceof T.PerspectiveCamera&&B.object.isPerspectiveCamera?Nt/=de:B.object instanceof T.OrthographicCamera&&B.object.isOrthographicCamera?(B.object.zoom=Math.max(B.minZoom,Math.min(B.maxZoom,B.object.zoom*de)),B.object.updateProjectionMatrix(),Ue=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),B.enableZoom=!1)}function bt(de){B.object instanceof T.PerspectiveCamera&&B.object.isPerspectiveCamera?Nt*=de:B.object instanceof T.OrthographicCamera&&B.object.isOrthographicCamera?(B.object.zoom=Math.max(B.minZoom,Math.min(B.maxZoom,B.object.zoom/de)),B.object.updateProjectionMatrix(),Ue=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),B.enableZoom=!1)}function Vt(de){Xe.set(de.clientX,de.clientY)}function Kt(de){Me.set(de.clientX,de.clientY)}function Tt(de){X.set(de.clientX,de.clientY)}function Mt(de){it.set(de.clientX,de.clientY),Ft.subVectors(it,Xe).multiplyScalar(B.rotateSpeed);const Oe=B.domElement;Oe&&(ce(2*Math.PI*Ft.x/Oe.clientHeight),Te(2*Math.PI*Ft.y/Oe.clientHeight)),Xe.copy(it),B.update()}function Ht(de){_e.set(de.clientX,de.clientY),Re.subVectors(_e,Me),Re.y>0?ht(rt()):Re.y<0&&bt(rt()),Me.copy(_e),B.update()}function St(de){be.set(de.clientX,de.clientY),ye.subVectors(be,X).multiplyScalar(B.panSpeed),ot(ye.x,ye.y),X.copy(be),B.update()}function Qe(de){de.deltaY<0?bt(rt()):de.deltaY>0&&ht(rt()),B.update()}function Et(de){let Oe=!1;switch(de.code){case B.keys.UP:ot(0,B.keyPanSpeed),Oe=!0;break;case B.keys.BOTTOM:ot(0,-B.keyPanSpeed),Oe=!0;break;case B.keys.LEFT:ot(B.keyPanSpeed,0),Oe=!0;break;case B.keys.RIGHT:ot(-B.keyPanSpeed,0),Oe=!0;break}Oe&&(de.preventDefault(),B.update())}function tn(){if($e.length==1)Xe.set($e[0].pageX,$e[0].pageY);else{const de=.5*($e[0].pageX+$e[1].pageX),Oe=.5*($e[0].pageY+$e[1].pageY);Xe.set(de,Oe)}}function un(){if($e.length==1)X.set($e[0].pageX,$e[0].pageY);else{const de=.5*($e[0].pageX+$e[1].pageX),Oe=.5*($e[0].pageY+$e[1].pageY);X.set(de,Oe)}}function nn(){const de=$e[0].pageX-$e[1].pageX,Oe=$e[0].pageY-$e[1].pageY,st=Math.sqrt(de*de+Oe*Oe);Me.set(0,st)}function pn(){B.enableZoom&&nn(),B.enablePan&&un()}function Rt(){B.enableZoom&&nn(),B.enableRotate&&tn()}function jt(de){if($e.length==1)it.set(de.pageX,de.pageY);else{const st=It(de),_t=.5*(de.pageX+st.x),Xt=.5*(de.pageY+st.y);it.set(_t,Xt)}Ft.subVectors(it,Xe).multiplyScalar(B.rotateSpeed);const Oe=B.domElement;Oe&&(ce(2*Math.PI*Ft.x/Oe.clientHeight),Te(2*Math.PI*Ft.y/Oe.clientHeight)),Xe.copy(it)}function hn(de){if($e.length==1)be.set(de.pageX,de.pageY);else{const Oe=It(de),st=.5*(de.pageX+Oe.x),_t=.5*(de.pageY+Oe.y);be.set(st,_t)}ye.subVectors(be,X).multiplyScalar(B.panSpeed),ot(ye.x,ye.y),X.copy(be)}function tt(de){const Oe=It(de),st=de.pageX-Oe.x,_t=de.pageY-Oe.y,Xt=Math.sqrt(st*st+_t*_t);_e.set(0,Xt),Re.set(0,Math.pow(_e.y/Me.y,B.zoomSpeed)),ht(Re.y),Me.copy(_e)}function ie(de){B.enableZoom&&tt(de),B.enablePan&&hn(de)}function fe(de){B.enableZoom&&tt(de),B.enableRotate&&jt(de)}function me(de){if(B.enabled!==!1){if($e.length===0){var Oe,st;(Oe=B.domElement)===null||Oe===void 0||Oe.ownerDocument.addEventListener("pointermove",ke),(st=B.domElement)===null||st===void 0||st.ownerDocument.addEventListener("pointerup",Ie)}kt(de),de.pointerType==="touch"?je(de):Jt(de)}}function ke(de){B.enabled!==!1&&(de.pointerType==="touch"?Ye(de):Vn(de))}function Ie(de){if(vn(de),$e.length===0){var Oe,st,_t;(Oe=B.domElement)===null||Oe===void 0||Oe.releasePointerCapture(de.pointerId),(st=B.domElement)===null||st===void 0||st.ownerDocument.removeEventListener("pointermove",ke),(_t=B.domElement)===null||_t===void 0||_t.ownerDocument.removeEventListener("pointerup",Ie)}B.dispatchEvent(Bt),ut=at.NONE}function At(de){vn(de)}function Jt(de){let Oe;switch(de.button){case 0:Oe=B.mouseButtons.LEFT;break;case 1:Oe=B.mouseButtons.MIDDLE;break;case 2:Oe=B.mouseButtons.RIGHT;break;default:Oe=-1}switch(Oe){case T.MOUSE.DOLLY:if(B.enableZoom===!1)return;Kt(de),ut=at.DOLLY;break;case T.MOUSE.ROTATE:if(de.ctrlKey||de.metaKey||de.shiftKey){if(B.enablePan===!1)return;Tt(de),ut=at.PAN}else{if(B.enableRotate===!1)return;Vt(de),ut=at.ROTATE}break;case T.MOUSE.PAN:if(de.ctrlKey||de.metaKey||de.shiftKey){if(B.enableRotate===!1)return;Vt(de),ut=at.ROTATE}else{if(B.enablePan===!1)return;Tt(de),ut=at.PAN}break;default:ut=at.NONE}ut!==at.NONE&&B.dispatchEvent(We)}function Vn(de){if(B.enabled!==!1)switch(ut){case at.ROTATE:if(B.enableRotate===!1)return;Mt(de);break;case at.DOLLY:if(B.enableZoom===!1)return;Ht(de);break;case at.PAN:if(B.enablePan===!1)return;St(de);break}}function Ln(de){B.enabled===!1||B.enableZoom===!1||ut!==at.NONE&&ut!==at.ROTATE||(de.preventDefault(),B.dispatchEvent(We),Qe(de),B.dispatchEvent(Bt))}function ue(de){B.enabled===!1||B.enablePan===!1||Et(de)}function je(de){switch(sn(de),$e.length){case 1:switch(B.touches.ONE){case T.TOUCH.ROTATE:if(B.enableRotate===!1)return;tn(),ut=at.TOUCH_ROTATE;break;case T.TOUCH.PAN:if(B.enablePan===!1)return;un(),ut=at.TOUCH_PAN;break;default:ut=at.NONE}break;case 2:switch(B.touches.TWO){case T.TOUCH.DOLLY_PAN:if(B.enableZoom===!1&&B.enablePan===!1)return;pn(),ut=at.TOUCH_DOLLY_PAN;break;case T.TOUCH.DOLLY_ROTATE:if(B.enableZoom===!1&&B.enableRotate===!1)return;Rt(),ut=at.TOUCH_DOLLY_ROTATE;break;default:ut=at.NONE}break;default:ut=at.NONE}ut!==at.NONE&&B.dispatchEvent(We)}function Ye(de){switch(sn(de),ut){case at.TOUCH_ROTATE:if(B.enableRotate===!1)return;jt(de),B.update();break;case at.TOUCH_PAN:if(B.enablePan===!1)return;hn(de),B.update();break;case at.TOUCH_DOLLY_PAN:if(B.enableZoom===!1&&B.enablePan===!1)return;ie(de),B.update();break;case at.TOUCH_DOLLY_ROTATE:if(B.enableZoom===!1&&B.enableRotate===!1)return;fe(de),B.update();break;default:ut=at.NONE}}function qe(de){B.enabled!==!1&&de.preventDefault()}function kt(de){$e.push(de)}function vn(de){delete le[de.pointerId];for(let Oe=0;Oe<$e.length;Oe++)if($e[Oe].pointerId==de.pointerId){$e.splice(Oe,1);return}}function sn(de){let Oe=le[de.pointerId];Oe===void 0&&(Oe=new T.Vector2,le[de.pointerId]=Oe),Oe.set(de.pageX,de.pageY)}function It(de){const Oe=de.pointerId===$e[0].pointerId?$e[1]:$e[0];return le[Oe.pointerId]}xe!==void 0&&this.connect(xe),this.update()}}class j extends null{constructor(he,xe){super(he,xe),this.screenSpacePanning=!1,this.mouseButtons.LEFT=MOUSE.PAN,this.mouseButtons.RIGHT=MOUSE.ROTATE,this.touches.ONE=TOUCH.PAN,this.touches.TWO=TOUCH.DOLLY_ROTATE}}const K=v.forwardRef((lt,H)=>{var wt=lt,{makeDefault:ne,camera:he,regress:xe,domElement:B,enableDamping:Ke=!0,onChange:We,onStart:Bt,onEnd:at}=wt,ut=Bo(wt,["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"]);const Nt=(0,b.w)(_e=>_e.invalidate),Dt=(0,b.w)(_e=>_e.camera),Ue=(0,b.w)(_e=>_e.gl),Xe=(0,b.w)(_e=>_e.events),it=(0,b.w)(_e=>_e.set),Ft=(0,b.w)(_e=>_e.get),X=(0,b.w)(_e=>_e.performance),be=he||Dt,ye=B||Xe.connected||Ue.domElement,Me=v.useMemo(()=>new D(be),[be]);return(0,b.x)(()=>{Me.enabled&&Me.update()},-1),v.useEffect(()=>(Me.connect(ye),()=>void Me.dispose()),[ye,xe,Me,Nt]),v.useEffect(()=>{const _e=Re=>{Nt(),xe&&X.regress(),We&&We(Re)};return Me.addEventListener("change",_e),Bt&&Me.addEventListener("start",Bt),at&&Me.addEventListener("end",at),()=>{Bt&&Me.removeEventListener("start",Bt),at&&Me.removeEventListener("end",at),Me.removeEventListener("change",_e)}},[We,Bt,at,Me,Nt]),v.useEffect(()=>{if(ne){const _e=Ft().controls;return it({controls:Me}),()=>it({controls:_e})}},[ne,Me]),v.createElement("primitive",(0,A.Z)({ref:H,object:Me,enableDamping:Ke},ut))})},45328:function(qt,et,W){"use strict";W.d(et,{H:function(){return ne}});var A=W(72564),b=W(50959),v=W(26553),y=W(72531),T=W(94207);const k={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},D={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `},j=b.forwardRef((Xe,Ue)=>{var it=Xe,{scale:he=10,frames:xe=1/0,opacity:B=1,width:Ke=1,height:We=1,blur:Bt=1,far:at=10,resolution:ut=512,smooth:H=!0,color:lt="#000000",depthWrite:wt=!1,renderOrder:Nt}=it,Dt=Bo(it,["scale","frames","opacity","width","height","blur","far","resolution","smooth","color","depthWrite","renderOrder"]);const Ft=(0,y.w)(Te=>Te.scene),X=(0,y.w)(Te=>Te.gl),be=b.useRef(null);Ke=Ke*(Array.isArray(he)?he[0]:he||1),We=We*(Array.isArray(he)?he[1]:he||1);const[ye,Me,_e,Re,$e,le,He]=b.useMemo(()=>{const Te=new v.WebGLRenderTarget(ut,ut),Ve=new v.WebGLRenderTarget(ut,ut);Ve.texture.generateMipmaps=Te.texture.generateMipmaps=!1;const Ge=new v.PlaneBufferGeometry(Ke,We).rotateX(Math.PI/2),ot=new v.Mesh(Ge),ht=new v.MeshDepthMaterial;ht.depthTest=ht.depthWrite=!1,ht.onBeforeCompile=Kt=>{Kt.uniforms=Or(rn({},Kt.uniforms),{ucolor:{value:new v.Color(lt).convertSRGBToLinear()}}),Kt.fragmentShader=Kt.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),Kt.fragmentShader=Kt.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor, ( 1.0 - fragCoordZ ) * 1.0 );")};const bt=new v.ShaderMaterial(k),Vt=new v.ShaderMaterial(D);return Vt.depthTest=bt.depthTest=!1,[Te,Ge,ht,ot,bt,Vt,Ve]},[ut,Ke,We,he,lt]),rt=Te=>{Re.visible=!0,Re.material=$e,$e.uniforms.tDiffuse.value=ye.texture,$e.uniforms.h.value=Te*1/256,X.setRenderTarget(He),X.render(Re,be.current),Re.material=le,le.uniforms.tDiffuse.value=He.texture,le.uniforms.v.value=Te*1/256,X.setRenderTarget(ye),X.render(Re,be.current),Re.visible=!1};let ce=0;return(0,y.x)(()=>{if(be.current&&(xe===1/0||ce<xe)){const Te=Ft.background;Ft.background=null;const Ve=Ft.overrideMaterial;Ft.overrideMaterial=_e,X.setRenderTarget(ye),X.render(Ft,be.current),Ft.overrideMaterial=Ve,rt(Bt),H&&rt(Bt*.4),X.setRenderTarget(null),Ft.background=Te,ce++}}),b.createElement("group",(0,A.Z)({"rotation-x":Math.PI/2},Dt,{ref:Ue}),b.createElement("mesh",{renderOrder:Nt,geometry:Me,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},b.createElement("meshBasicMaterial",{map:ye.texture,"map-encoding":X.outputEncoding,transparent:!0,opacity:B,depthWrite:wt})),b.createElement("orthographicCamera",{ref:be,args:[-Ke/2,Ke/2,We/2,-We/2,0,at]}))}),K={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function ne(wt){var Nt=wt,{children:he,controls:xe,shadows:B=!0,adjustCamera:Ke=!0,environment:We="city",intensity:Bt=1,preset:at="rembrandt",shadowBias:ut=0,contactShadow:H={blur:2,opacity:.5,position:[0,0,0]}}=Nt,lt=Bo(Nt,["children","controls","shadows","adjustCamera","environment","intensity","preset","shadowBias","contactShadow"]);const Dt=K[at],Ue=(0,y.w)(_e=>_e.camera),Xe=(0,y.w)(_e=>_e.controls),it=b.useRef(null),Ft=b.useRef(null),[{radius:X,width:be,height:ye},Me]=b.useState({radius:0,width:0,height:0});return b.useLayoutEffect(()=>{it.current.position.set(0,0,0),it.current.updateWorldMatrix(!0,!0);const _e=new v.Box3().setFromObject(Ft.current),Re=new v.Vector3,$e=new v.Sphere,le=_e.max.y-_e.min.y,He=_e.max.x-_e.min.x;_e.getCenter(Re),_e.getBoundingSphere($e),Me({radius:$e.radius,width:He,height:le}),it.current.position.set(-Re.x,-Re.y+le/2,-Re.z)},[he]),b.useLayoutEffect(()=>{if(Ke){const _e=X/(ye>be?1.5:2.5);Ue.position.set(0,X*.5,X*2.5),Ue.near=.1,Ue.far=Math.max(5e3,X*4),Ue.lookAt(0,_e,0);const Re=Xe||(xe==null?void 0:xe.current);Re&&(Re.target.set(0,_e,0),Re.update())}},[Xe,X,ye,be,Ke]),b.createElement("group",lt,b.createElement("group",{ref:it},b.createElement("group",{ref:Ft},he)),H&&b.createElement(j,(0,A.Z)({scale:X*2,far:X/2},H)),We&&b.createElement(T.qA,{preset:We}),b.createElement("ambientLight",{intensity:Bt/3}),b.createElement("spotLight",{penumbra:1,position:[Dt.main[0]*X,Dt.main[1]*X,Dt.main[2]*X],intensity:Bt*2,castShadow:B,"shadow-bias":ut}),b.createElement("pointLight",{position:[Dt.fill[0]*X,Dt.fill[1]*X,Dt.fill[2]*X],intensity:Bt}))}},72531:function(qt,et,W){"use strict";W.d(et,{B:function(){return lt},E:function(){return wt},a:function(){return de},b:function(){return ut},c:function(){return bt},d:function(){return _t},e:function(){return Kt},g:function(){return Xt},u:function(){return H},w:function(){return At},x:function(){return Jt},z:function(){return ue}});var A=W(26553),b=W(50959),v=W(85259),y=W(31171),T=W(97427),k=W.n(T),D=W(65297);function j(Ce,Ze,xt=(Wt,fn)=>Wt===fn){if(Ce===Ze)return!0;if(!Ce||!Ze)return!1;const Wt=Ce.length;if(Ze.length!==Wt)return!1;for(let fn=0;fn<Wt;fn++)if(!xt(Ce[fn],Ze[fn]))return!1;return!0}const K=[];function ne(Ce,Ze,xt=!1,Wt={}){for(const _n of K)if(j(Ze,_n.keys,_n.equal)){if(xt)return;if(Object.prototype.hasOwnProperty.call(_n,"error"))throw _n.error;if(Object.prototype.hasOwnProperty.call(_n,"response"))return _n.response;if(!xt)throw _n.promise}const fn={keys:Ze,equal:Wt.equal,promise:Ce(...Ze).then(_n=>fn.response=_n).then(()=>{Wt.lifespan&&Wt.lifespan>0&&setTimeout(()=>{const _n=K.indexOf(fn);_n!==-1&&K.splice(_n,1)},Wt.lifespan)}).catch(_n=>fn.error=_n)};if(K.push(fn),!xt)throw fn.promise}const he=(Ce,Ze,xt)=>ne(Ce,Ze,!1,xt),xe=(Ce,Ze,xt)=>void ne(Ce,Ze,!0,xt),B=Ce=>{var Ze;return(Ze=K.find(xt=>j(Ce,xt.keys,xt.equal)))==null?void 0:Ze.response},Ke=Ce=>{if(Ce===void 0||Ce.length===0)K.splice(0,K.length);else{const Ze=K.find(xt=>j(Ce,xt.keys,xt.equal));if(Ze){const xt=K.indexOf(Ze);xt!==-1&&K.splice(xt,1)}}};var We=Object.freeze({__proto__:null});const Bt=Ce=>Ce&&Ce.isOrthographicCamera,ut=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?b.useEffect:b.useLayoutEffect;function H(Ce){const Ze=b.useRef(Ce);return ut(()=>void(Ze.current=Ce),[Ce]),Ze}function lt({set:Ce}){return ut(()=>(Ce(new Promise(()=>null)),()=>Ce(!1)),[Ce]),null}class wt extends b.Component{constructor(...Ze){super(...Ze),this.state={error:!1}}componentDidCatch(Ze){this.props.set(Ze)}render(){return this.state.error?null:this.props.children}}wt.getDerivedStateFromError=()=>({error:!0});const Nt="__default",Dt=Ce=>Ce&&!!Ce.memoized&&!!Ce.changes;function Ue(Ce){return Array.isArray(Ce)?Math.min(Math.max(Ce[0],window.devicePixelRatio),Ce[1]):Ce}const Xe=Ce=>{var Ze;return(Ze=Ce.__r3f)==null?void 0:Ze.root.getState()},it={obj:Ce=>Ce===Object(Ce)&&!it.arr(Ce)&&typeof Ce!="function",fun:Ce=>typeof Ce=="function",str:Ce=>typeof Ce=="string",num:Ce=>typeof Ce=="number",boo:Ce=>typeof Ce=="boolean",und:Ce=>Ce===void 0,arr:Ce=>Array.isArray(Ce),equ(Ce,Ze,{arrays:xt="shallow",objects:Wt="reference",strict:fn=!0}={}){if(typeof Ce!=typeof Ze||!!Ce!=!!Ze)return!1;if(it.str(Ce)||it.num(Ce))return Ce===Ze;const _n=it.obj(Ce);if(_n&&Wt==="reference")return Ce===Ze;const Bn=it.arr(Ce);if(Bn&&xt==="reference")return Ce===Ze;if((Bn||_n)&&Ce===Ze)return!0;let ve;for(ve in Ce)if(!(ve in Ze))return!1;for(ve in fn?Ze:Ce)if(Ce[ve]!==Ze[ve])return!1;if(it.und(ve)){if(Bn&&Ce.length===0&&Ze.length===0||_n&&Object.keys(Ce).length===0&&Object.keys(Ze).length===0)return!0;if(Ce!==Ze)return!1}return!0}};function Ft(Ce){const Ze={nodes:{},materials:{}};return Ce&&Ce.traverse(xt=>{xt.name&&(Ze.nodes[xt.name]=xt),xt.material&&!Ze.materials[xt.material.name]&&(Ze.materials[xt.material.name]=xt.material)}),Ze}function X(Ce){Ce.dispose&&Ce.type!=="Scene"&&Ce.dispose();for(const Ze in Ce)Ze.dispose==null||Ze.dispose(),delete Ce[Ze]}function be(Ce,Ze){const xt=Ce;return(Ze!=null&&Ze.primitive||!xt.__r3f)&&(xt.__r3f=rn({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},Ze)),Ce}function ye(Ce,Ze){let xt=Ce;if(Ze.includes("-")){const Wt=Ze.split("-"),fn=Wt.pop();return xt=Wt.reduce((_n,Bn)=>_n[Bn],Ce),{target:xt,key:fn}}else return{target:xt,key:Ze}}const Me=/-\d+$/;function _e(Ce,Ze,xt){if(it.str(xt)){if(Me.test(xt)){const _n=xt.replace(Me,""),{target:Bn,key:ve}=ye(Ce,_n);Array.isArray(Bn[ve])||(Bn[ve]=[])}const{target:Wt,key:fn}=ye(Ce,xt);Ze.__r3f.previousAttach=Wt[fn],Wt[fn]=Ze}else Ze.__r3f.previousAttach=xt(Ce,Ze)}function Re(Ce,Ze,xt){var Wt,fn;if(it.str(xt)){const{target:_n,key:Bn}=ye(Ce,xt),ve=Ze.__r3f.previousAttach;ve===void 0?delete _n[Bn]:_n[Bn]=ve}else(Wt=Ze.__r3f)==null||Wt.previousAttach==null||Wt.previousAttach(Ce,Ze);(fn=Ze.__r3f)==null||delete fn.previousAttach}function $e(Ce,p,S={},g=!1){var x=p,{children:Ze,key:xt,ref:Wt}=x,fn=Bo(x,["children","key","ref"]);var O=S,{children:_n,key:Bn,ref:ve}=O,we=Bo(O,["children","key","ref"]);var q;const N=(q=Ce==null?void 0:Ce.__r3f)!=null?q:{},V=Object.entries(fn),F=[];if(g){const Je=Object.keys(we);for(let pt=0;pt<Je.length;pt++)fn.hasOwnProperty(Je[pt])||V.unshift([Je[pt],Nt+"remove"])}V.forEach(([Je,pt])=>{var Pt;if((Pt=Ce.__r3f)!=null&&Pt.primitive&&Je==="object"||it.equ(pt,we[Je]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(Je))return F.push([Je,pt,!0,[]]);let en=[];Je.includes("-")&&(en=Je.split("-")),F.push([Je,pt,!1,en])});const Y=rn({},fn);return N.memoizedProps&&N.memoizedProps.args&&(Y.args=N.memoizedProps.args),N.memoizedProps&&N.memoizedProps.attach&&(Y.attach=N.memoizedProps.attach),{memoized:Y,changes:F}}function le(Ce,Ze){var xt,Wt;const fn=(xt=Ce.__r3f)!=null?xt:{},_n=fn.root,Bn=(Wt=_n==null||_n.getState==null?void 0:_n.getState())!=null?Wt:{},{memoized:ve,changes:we}=Dt(Ze)?Ze:$e(Ce,Ze),g=fn.eventCount;if(Ce.__r3f&&(Ce.__r3f.memoizedProps=ve),we.forEach(([p,x,S,O])=>{let q=Ce,N=q[p];if(O.length&&(N=O.reduce((Y,Je)=>Y[Je],Ce),!(N&&N.set))){const[Y,...Je]=O.reverse();q=Je.reverse().reduce((pt,Pt)=>pt[Pt],Ce),p=Y}if(x===Nt+"remove")if(N&&N.constructor){var V;x=new N.constructor(...(V=ve.args)!=null?V:[])}else if(q.constructor){var F;const Y=new q.constructor(...(F=q.__r3f.memoizedProps.args)!=null?F:[]);x=Y[N],Y.dispose&&Y.dispose()}else x=0;if(S)x?fn.handlers[p]=x:delete fn.handlers[p],fn.eventCount=Object.keys(fn.handlers).length;else if(N&&N.set&&(N.copy||N instanceof A.Layers)){if(Array.isArray(x))N.fromArray?N.fromArray(x):N.set(...x);else if(N.copy&&x&&x.constructor&&N.constructor.name===x.constructor.name)N.copy(x);else if(x!==void 0){const Y=N instanceof A.Color;!Y&&N.setScalar?N.setScalar(x):N instanceof A.Layers&&x instanceof A.Layers?N.mask=x.mask:N.set(x),!!0&&!Bn.linear&&Y&&N.convertSRGBToLinear()}}else q[p]=x,!Bn.linear&&q[p]instanceof A.Texture&&(q[p].encoding=A.sRGBEncoding);He(Ce)}),fn.parent&&Bn.internal&&Ce.raycast&&g!==fn.eventCount){const p=Bn.internal.interaction.indexOf(Ce);p>-1&&Bn.internal.interaction.splice(p,1),fn.eventCount&&Bn.internal.interaction.push(Ce)}return we.length&&Ce.parent&&rt(Ce),Ce}function He(Ce){var Ze,xt;const Wt=(Ze=Ce.__r3f)==null||(xt=Ze.root)==null||xt.getState==null?void 0:xt.getState();Wt&&Wt.internal.frames===0&&Wt.invalidate()}function rt(Ce){Ce.onUpdate==null||Ce.onUpdate(Ce)}function ce(Ce,Ze){Ce.manual||(Bt(Ce)?(Ce.left=Ze.width/-2,Ce.right=Ze.width/2,Ce.top=Ze.height/2,Ce.bottom=Ze.height/-2):Ce.aspect=Ze.width/Ze.height,Ce.updateProjectionMatrix(),Ce.updateMatrixWorld())}function Te(Ce,Ze,xt){const Wt=xt.pop(),fn=xt.reduce((_n,Bn)=>_n[Bn],Ce);return fn[Wt]=Ze}function Ve(Ce){return(Ce.eventObject||Ce.object).uuid+"/"+Ce.index+Ce.instanceId}function Ge(){var Ce,Ze;switch((Ce=window)==null||(Ze=Ce.event)==null?void 0:Ze.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return v.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return v.ContinuousEventPriority;default:return v.DefaultEventPriority}}function ot(Ce,Ze,xt,Wt){const fn=xt.get(Ze);fn&&(xt.delete(Ze),xt.size===0&&(Ce.delete(Wt),fn.target.releasePointerCapture(Wt)))}function ht(Ce,Ze){const{internal:xt}=Ce.getState();xt.interaction=xt.interaction.filter(Wt=>Wt!==Ze),xt.initialHits=xt.initialHits.filter(Wt=>Wt!==Ze),xt.hovered.forEach((Wt,fn)=>{(Wt.eventObject===Ze||Wt.object===Ze)&&xt.hovered.delete(fn)}),xt.capturedMap.forEach((Wt,fn)=>{ot(xt.capturedMap,Ze,Wt,fn)})}function bt(Ce){const Ze=new A.Vector3;function xt(g){const{internal:p}=Ce.getState(),x=g.offsetX-p.initialClick[0],S=g.offsetY-p.initialClick[1];return Math.round(Math.sqrt(x*x+S*S))}function Wt(g){return g.filter(p=>["Move","Over","Enter","Out","Leave"].some(x=>{var S;return(S=p.__r3f)==null?void 0:S.handlers["onPointer"+x]}))}function fn(g,p){const x=Ce.getState(),S=new Set,O=[],q=p?p(x.internal.interaction):x.internal.interaction;q.forEach(F=>{const Y=Xe(F);Y&&(Y.raycaster.camera=void 0)}),x.previousRoot||x.events.compute==null||x.events.compute(g,x);let N=q.flatMap(F=>{const Y=Xe(F);if(!Y||!Y.events.enabled||Y.raycaster.camera===null)return[];if(Y.raycaster.camera===void 0){var Je;Y.events.compute==null||Y.events.compute(g,Y,(Je=Y.previousRoot)==null?void 0:Je.getState()),Y.raycaster.camera===void 0&&(Y.raycaster.camera=null)}return Y.raycaster.camera?Y.raycaster.intersectObject(F,!0):[]}).sort((F,Y)=>{const Je=Xe(F.object),pt=Xe(Y.object);return!Je||!pt?0:pt.events.priority-Je.events.priority||F.distance-Y.distance}).filter(F=>{const Y=Ve(F);return S.has(Y)?!1:(S.add(Y),!0)});x.events.filter&&(N=x.events.filter(N,x));for(const F of N){let Y=F.object;for(;Y;){var V;(V=Y.__r3f)!=null&&V.eventCount&&O.push(Or(rn({},F),{eventObject:Y})),Y=Y.parent}}if("pointerId"in g&&x.internal.capturedMap.has(g.pointerId))for(let F of x.internal.capturedMap.get(g.pointerId).values())O.push(F.intersection);return O}function _n(g,p,x,S){const{raycaster:O,pointer:q,camera:N,internal:V}=Ce.getState();if(g.length){const F=Ze.set(q.x,q.y,0).unproject(N),Y={stopped:!1};for(const Je of g){const pt=Cn=>{var Ut,Rn;return(Ut=(Rn=V.capturedMap.get(Cn))==null?void 0:Rn.has(Je.eventObject))!=null?Ut:!1},Pt=Cn=>{const Ut={intersection:Je,target:p.target};V.capturedMap.has(Cn)?V.capturedMap.get(Cn).set(Je.eventObject,Ut):V.capturedMap.set(Cn,new Map([[Je.eventObject,Ut]])),p.target.setPointerCapture(Cn)},en=Cn=>{const Ut=V.capturedMap.get(Cn);Ut&&ot(V.capturedMap,Je.eventObject,Ut,Cn)};let dn={};for(let Cn in p){let Ut=p[Cn];typeof Ut!="function"&&(dn[Cn]=Ut)}let Mn=Or(rn(rn({},Je),dn),{pointer:q,intersections:g,stopped:Y.stopped,delta:x,unprojectedPoint:F,ray:O.ray,camera:N,stopPropagation:()=>{const Cn="pointerId"in p&&V.capturedMap.get(p.pointerId);if((!Cn||Cn.has(Je.eventObject))&&(Mn.stopped=Y.stopped=!0,V.hovered.size&&Array.from(V.hovered.values()).find(Ut=>Ut.eventObject===Je.eventObject))){const Ut=g.slice(0,g.indexOf(Je));Bn([...Ut,Je])}},target:{hasPointerCapture:pt,setPointerCapture:Pt,releasePointerCapture:en},currentTarget:{hasPointerCapture:pt,setPointerCapture:Pt,releasePointerCapture:en},nativeEvent:p});if(S(Mn),Y.stopped===!0)break}}return g}function Bn(g){const{internal:p}=Ce.getState();Array.from(p.hovered.values()).forEach(x=>{if(!g.length||!g.find(S=>S.object===x.object&&S.index===x.index&&S.instanceId===x.instanceId)){const O=x.eventObject.__r3f,q=O==null?void 0:O.handlers;if(p.hovered.delete(Ve(x)),O!=null&&O.eventCount){const N=Or(rn({},x),{intersections:g});q.onPointerOut==null||q.onPointerOut(N),q.onPointerLeave==null||q.onPointerLeave(N)}}})}const ve=g=>{switch(g){case"onPointerLeave":case"onPointerCancel":return()=>Bn([]);case"onLostPointerCapture":return p=>{const{internal:x}=Ce.getState();"pointerId"in p&&!x.capturedMap.has(p.pointerId)&&(x.capturedMap.delete(p.pointerId),Bn([]))}}return p=>{const{onPointerMissed:x,internal:S}=Ce.getState();S.lastEvent.current=p;const O=g==="onPointerMove",q=g==="onClick"||g==="onContextMenu"||g==="onDoubleClick",V=fn(p,O?Wt:void 0),F=q?xt(p):0;g==="onPointerDown"&&(S.initialClick=[p.offsetX,p.offsetY],S.initialHits=V.map(Y=>Y.eventObject)),q&&!V.length&&F<=2&&(we(p,S.interaction),x&&x(p)),O&&Bn(V),_n(V,p,F,Y=>{const Je=Y.eventObject,pt=Je.__r3f,Pt=pt==null?void 0:pt.handlers;if(pt!=null&&pt.eventCount)if(O){if(Pt.onPointerOver||Pt.onPointerEnter||Pt.onPointerOut||Pt.onPointerLeave){const en=Ve(Y),dn=S.hovered.get(en);dn?dn.stopped&&Y.stopPropagation():(S.hovered.set(en,Y),Pt.onPointerOver==null||Pt.onPointerOver(Y),Pt.onPointerEnter==null||Pt.onPointerEnter(Y))}Pt.onPointerMove==null||Pt.onPointerMove(Y)}else{const en=Pt[g];en?(!q||S.initialHits.includes(Je))&&(we(p,S.interaction.filter(dn=>!S.initialHits.includes(dn))),en(Y)):q&&S.initialHits.includes(Je)&&we(p,S.interaction.filter(dn=>!S.initialHits.includes(dn)))}})}};function we(g,p){p.forEach(x=>{var S;return(S=x.__r3f)==null||S.handlers.onPointerMissed==null?void 0:S.handlers.onPointerMissed(g)})}return{handlePointer:ve}}let Vt={},Kt=Ce=>void(Vt=rn(rn({},Vt),Ce));function Tt(Ce,Ze){function xt(g,q,O){var N=q,{args:p=[],attach:x}=N,S=Bo(N,["args","attach"]);let V=`${g[0].toUpperCase()}${g.slice(1)}`,F;if(x===void 0&&(V.endsWith("Geometry")?x="geometry":V.endsWith("Material")&&(x="material")),g==="primitive"){if(S.object===void 0)throw"Primitives without 'object' are invalid!";const Y=S.object;F=be(Y,{type:g,root:O,attach:x,primitive:!0})}else{const Y=Vt[V];if(!Y)throw`${V} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`;if(!Array.isArray(p))throw"The args prop must be an array!";F=be(new Y(...p),{type:g,root:O,attach:x,memoizedProps:{args:p}})}return V!=="inject"&&le(F,S),F}function Wt(g,p){let x=!1;if(p){var S,O;(S=p.__r3f)!=null&&S.attach?_e(g,p,p.__r3f.attach):p.isObject3D&&g.isObject3D&&(g.add(p),x=!0),x||(O=g.__r3f)==null||O.objects.push(p),p.__r3f||be(p,{}),p.__r3f.parent=g,rt(p),He(p)}}function fn(g,p,x){let S=!1;if(p){var O,q;if((O=p.__r3f)!=null&&O.attach)_e(g,p,p.__r3f.attach);else if(p.isObject3D&&g.isObject3D){p.parent=g,p.dispatchEvent({type:"added"});const N=g.children.filter(F=>F!==p),V=N.indexOf(x);g.children=[...N.slice(0,V),p,...N.slice(V)],S=!0}S||(q=g.__r3f)==null||q.objects.push(p),p.__r3f||be(p,{}),p.__r3f.parent=g,rt(p),He(p)}}function _n(g,p,x=!1){g&&[...g].forEach(S=>Bn(p,S,x))}function Bn(g,p,x){if(p){var S,O,q;if(p.__r3f&&(p.__r3f.parent=null),(S=g.__r3f)!=null&&S.objects&&(g.__r3f.objects=g.__r3f.objects.filter(Je=>Je!==p)),(O=p.__r3f)!=null&&O.attach)Re(g,p,p.__r3f.attach);else if(p.isObject3D&&g.isObject3D){var N;g.remove(p),(N=p.__r3f)!=null&&N.root&&ht(p.__r3f.root,p)}const F=(q=p.__r3f)==null?void 0:q.primitive,Y=x===void 0?p.dispose!==null&&!F:x;if(!F){var V;_n((V=p.__r3f)==null?void 0:V.objects,p,Y),_n(p.children,p,Y)}p.__r3f&&(delete p.__r3f.root,delete p.__r3f.objects,delete p.__r3f.handlers,delete p.__r3f.memoizedProps,F||delete p.__r3f),Y&&p.dispose&&p.type!=="Scene"&&(0,D.unstable_scheduleCallback)(D.unstable_IdlePriority,()=>{try{p.dispose()}catch(Je){}}),He(g)}}function ve(g,p,x,S){var O;const q=(O=g.__r3f)==null?void 0:O.parent;if(!q)return;const N=xt(p,x,g.__r3f.root);p!=="primitive"&&g.children&&(g.children.forEach(V=>Wt(N,V)),g.children=[]),g.__r3f.objects.forEach(V=>Wt(N,V)),g.__r3f.objects=[],Bn(q,g),Wt(q,N),N.raycast&&N.__r3f.eventCount&&N.__r3f.root.getState().internal.interaction.push(N),[S,S.alternate].forEach(V=>{V!==null&&(V.stateNode=N,V.ref&&(typeof V.ref=="function"?V.ref(N):V.ref.current=N))})}return{reconciler:k()({createInstance:xt,removeChild:Bn,appendChild:Wt,appendInitialChild:Wt,insertBefore:fn,supportsMicrotask:!0,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,noTimeout:-1,appendChildToContainer:(g,p)=>{const x=g.getState().scene;x.__r3f.root=g,Wt(x,p)},removeChildFromContainer:(g,p)=>Bn(g.getState().scene,p),insertInContainerBefore:(g,p,x)=>fn(g.getState().scene,p,x),getRootHostContext:()=>null,getChildHostContext:g=>g,finalizeInitialChildren(g){var p;return!!((p=g==null?void 0:g.__r3f)!=null?p:{}).handlers},prepareUpdate(g,p,x,S){if(g.__r3f.primitive&&S.object&&S.object!==g)return[!0];{const O=S,{args:N=[],children:V}=O,F=Bo(O,["args","children"]),q=x,{args:Y=[],children:Je}=q,pt=Bo(q,["args","children"]);if(!Array.isArray(N))throw"The args prop must be an array!";if(N.some((en,dn)=>en!==Y[dn]))return[!0];const Pt=$e(g,F,pt,!0);return Pt.changes.length?[!1,Pt]:null}},commitUpdate(g,[p,x],S,O,q,N){p?ve(g,S,q,N):le(g,x)},commitMount(g,p,x,S){var O;const q=(O=g.__r3f)!=null?O:{};g.raycast&&q.handlers&&q.eventCount&&g.__r3f.root.getState().internal.interaction.push(g)},getPublicInstance:g=>g,shouldDeprioritizeSubtree:()=>!1,prepareForCommit:()=>null,preparePortalMount:g=>be(g.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,detachDeletedInstance:()=>{},hideInstance(g){var p;const{attach:x,parent:S}=(p=g==null?void 0:g.__r3f)!=null?p:{};x&&S&&Re(S,g,x),g.isObject3D&&(g.visible=!1),He(g)},unhideInstance(g,p){var x;const{attach:S,parent:O}=(x=g==null?void 0:g.__r3f)!=null?x:{};S&&O&&_e(O,g,S),(g.isObject3D&&p.visible==null||p.visible)&&(g.visible=!0),He(g)},createTextInstance:()=>{},hideTextInstance:()=>{throw new Error("Text is not allowed in the R3F tree.")},unhideTextInstance:()=>{},getCurrentEventPriority:()=>Ze?Ze():v.DefaultEventPriority,now:typeof performance!="undefined"&&it.fun(performance.now)?performance.now:it.fun(Date.now)?Date.now:void 0,scheduleTimeout:it.fun(setTimeout)?setTimeout:void 0,cancelTimeout:it.fun(clearTimeout)?clearTimeout:void 0,setTimeout:it.fun(setTimeout)?setTimeout:void 0,clearTimeout:it.fun(clearTimeout)?clearTimeout:void 0}),applyProps:le}}const Mt=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],Ht=Ce=>!!(Ce!=null&&Ce.render),St=b.createContext(null),Qe=(Ce,Ze)=>{const xt=(0,y.Z)((ve,we)=>{const g=new A.Vector3,p=new A.Vector3,x=new A.Vector3;function S(V=we().camera,F=p,Y=we().size){const{width:Je,height:pt}=Y,Pt=Je/pt;F instanceof A.Vector3?x.copy(F):x.set(...F);const en=V.getWorldPosition(g).distanceTo(x);if(Bt(V))return{width:Je/V.zoom,height:pt/V.zoom,factor:1,distance:en,aspect:Pt};{const dn=V.fov*Math.PI/180,Mn=2*Math.tan(dn/2)*en,Cn=Mn*(Je/pt);return{width:Cn,height:Mn,factor:Je/Cn,distance:en,aspect:Pt}}}let O;const q=V=>ve(F=>({performance:Or(rn({},F.performance),{current:V})})),N=new A.Vector2;return{set:ve,get:we,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(V=1)=>Ce(we(),V),advance:(V,F)=>Ze(V,F,we()),legacy:!1,linear:!1,flat:!1,scene:be(new A.Scene),controls:null,clock:new A.Clock,pointer:N,mouse:N,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const V=we();O&&clearTimeout(O),V.performance.current!==V.performance.min&&q(V.performance.min),O=setTimeout(()=>q(we().performance.max),V.performance.debounce)}},size:{width:0,height:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:S},setEvents:V=>ve(F=>Or(rn({},F),{events:rn(rn({},F.events),V)})),setSize:(V,F,Y)=>{const Je=we().camera,pt={width:V,height:F,updateStyle:Y};ve(Pt=>({size:pt,viewport:rn(rn({},Pt.viewport),S(Je,p,pt))}))},setDpr:V=>ve(F=>{const Y=Ue(V);return{viewport:Or(rn({},F.viewport),{dpr:Y,initialDpr:F.viewport.initialDpr||Y})}}),setFrameloop:(V="always")=>{const F=we().clock;F.stop(),F.elapsedTime=0,V!=="never"&&(F.start(),F.elapsedTime=0),ve(()=>({frameloop:V}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:b.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(V,F,Y)=>{const Je=we().internal;return Je.priority=Je.priority+(F>0?1:0),Je.subscribers.push({ref:V,priority:F,store:Y}),Je.subscribers=Je.subscribers.sort((pt,Pt)=>pt.priority-Pt.priority),()=>{const pt=we().internal;pt!=null&&pt.subscribers&&(pt.priority=pt.priority-(F>0?1:0),pt.subscribers=pt.subscribers.filter(Pt=>Pt.ref!==V))}}}}}),Wt=xt.getState();let fn=Wt.size,_n=Wt.viewport.dpr,Bn=Wt.camera;return xt.subscribe(()=>{const{camera:ve,size:we,viewport:g,gl:p,set:x}=xt.getState();(we!==fn||g.dpr!==_n)&&(fn=we,_n=g.dpr,ce(ve,we),p.setPixelRatio(g.dpr),p.setSize(we.width,we.height,we.updateStyle)),ve!==Bn&&(Bn=ve,x(S=>({viewport:rn(rn({},S.viewport),S.viewport.getCurrentViewport(ve))})))}),xt.subscribe(ve=>Ce(ve)),xt};function Et(Ce,Ze){const xt=Ze.length;return Ze.push(Ce),()=>void Ze.splice(xt,1)}let tn,un=[],nn=[],pn=[];const Rt=Ce=>Et(Ce,un),jt=Ce=>Et(Ce,nn),hn=Ce=>Et(Ce,pn);function tt(Ce,Ze){for(tn=0;tn<Ce.length;tn++)Ce[tn](Ze)}let ie,fe;function me(Ce,Ze,xt){let Wt=Ze.clock.getDelta();for(Ze.frameloop==="never"&&typeof Ce=="number"&&(Wt=Ce-Ze.clock.elapsedTime,Ze.clock.oldTime=Ze.clock.elapsedTime,Ze.clock.elapsedTime=Ce),ie=Ze.internal.subscribers,tn=0;tn<ie.length;tn++)fe=ie[tn],fe.ref.current(fe.store.getState(),Wt,xt);return!Ze.internal.priority&&Ze.gl.render&&Ze.gl.render(Ze.scene,Ze.camera),Ze.internal.frames=Math.max(0,Ze.internal.frames-1),Ze.frameloop==="always"?1:Ze.internal.frames}function ke(Ce){let Ze=!1,xt,Wt,fn;function _n(we){if(Wt=requestAnimationFrame(_n),Ze=!0,xt=0,un.length&&tt(un,we),Ce.forEach(g=>{var p;fn=g.store.getState(),fn.internal.active&&(fn.frameloop==="always"||fn.internal.frames>0)&&!((p=fn.gl.xr)!=null&&p.isPresenting)&&(xt+=me(we,fn))}),nn.length&&tt(nn,we),xt===0)return pn.length&&tt(pn,we),Ze=!1,cancelAnimationFrame(Wt)}function Bn(we,g=1){var p;if(!we)return Ce.forEach(x=>Bn(x.store.getState()),g);(p=we.gl.xr)!=null&&p.isPresenting||!we.internal.active||we.frameloop==="never"||(we.internal.frames=Math.min(60,we.internal.frames+g),Ze||(Ze=!0,requestAnimationFrame(_n)))}function ve(we,g=!0,p,x){g&&tt(un,we),p?me(we,p,x):Ce.forEach(S=>me(we,S.store.getState())),g&&tt(nn,we)}return{loop:_n,invalidate:Bn,advance:ve}}function Ie(){const Ce=b.useContext(St);if(!Ce)throw"R3F hooks can only be used within the Canvas component!";return Ce}function At(Ce=xt=>xt,Ze){return Ie()(Ce,Ze)}function Jt(Ce,Ze=0){const xt=Ie(),Wt=xt.getState().internal.subscribe,fn=H(Ce);return ut(()=>Wt(fn,Ze,xt),[Ze,Wt,xt]),null}function Vn(Ce){return React.useMemo(()=>Ft(Ce),[Ce])}function Ln(Ce,Ze){return function(xt,...Wt){const fn=new xt;return Ce&&Ce(fn),Promise.all(Wt.map(_n=>new Promise((Bn,ve)=>fn.load(_n,we=>{we.scene&&Object.assign(we,Ft(we.scene)),Bn(we)},Ze,we=>ve(`Could not load ${_n}: ${we.message}`)))))}}function ue(Ce,Ze,xt,Wt){const fn=Array.isArray(Ze)?Ze:[Ze],_n=he(Ln(xt,Wt),[Ce,...fn],{equal:it.equ});return Array.isArray(Ze)?_n:_n[0]}ue.preload=function(Ce,Ze,xt){const Wt=Array.isArray(Ze)?Ze:[Ze];return xe(Ln(xt),[Ce,...Wt])},ue.clear=function(Ce,Ze){const xt=Array.isArray(Ze)?Ze:[Ze];return Ke([Ce,...xt])};const je=new Map,{invalidate:Ye,advance:qe}=ke(je),{reconciler:kt,applyProps:vn}=Tt(je,Ge),sn={objects:"shallow",strict:!1},It=(Ce,Ze)=>{const xt=typeof Ce=="function"?Ce(Ze):Ce;return Ht(xt)?xt:new A.WebGLRenderer(rn({powerPreference:"high-performance",canvas:Ze,antialias:!0,alpha:!0},Ce))};function de(Ce){let Ze=je.get(Ce),xt=Ze==null?void 0:Ze.fiber,Wt=Ze==null?void 0:Ze.store;Ze&&console.warn("R3F.createRoot should only be called once!");const fn=typeof reportError=="function"?reportError:console.error,_n=Wt||Qe(Ye,qe),Bn=xt||kt.createContainer(_n,v.ConcurrentRoot,null,!1,null,"",fn,null);Ze||je.set(Ce,{fiber:Bn,store:_n});let ve,we=!1;return{configure(g={}){var p,x,S,O;let{gl:q,size:N,events:V,onCreated:F,shadows:Y=!1,linear:Je=!1,flat:pt=!1,legacy:Pt=!1,orthographic:en=!1,frameloop:dn="always",dpr:Mn=[1,2],performance:Cn,raycaster:Ut,camera:Rn,onPointerMissed:lr}=g,Hn=_n.getState(),Jn=Hn.gl;Hn.gl||Hn.set({gl:Jn=It(q,Ce)});let Nn=Hn.raycaster;Nn||Hn.set({raycaster:Nn=new A.Raycaster});const vr=Ut||{},{params:Yn}=vr,br=Bo(vr,["params"]);if(it.equ(br,Nn,sn)||vn(Nn,rn({},br)),it.equ(Yn,Nn.params,sn)||vn(Nn,{params:rn(rn({},Nn.params),Yn)}),!Hn.camera){const mr=Rn instanceof A.Camera,Er=mr?Rn:en?new A.OrthographicCamera(0,0,0,0,.1,1e3):new A.PerspectiveCamera(75,0,.1,1e3);mr||(Er.position.z=5,Rn&&vn(Er,Rn),Rn!=null&&Rn.rotation||Er.lookAt(0,0,0)),Hn.set({camera:Er})}if(!Hn.xr){const mr=(Dr,ti)=>{const Kr=_n.getState();Kr.frameloop!=="never"&&qe(Dr,!0,Kr,ti)},Er=()=>{const Dr=_n.getState();Dr.gl.xr.enabled=Dr.gl.xr.isPresenting,Dr.gl.xr.setAnimationLoop(Dr.gl.xr.isPresenting?mr:null),Dr.gl.xr.isPresenting||Ye(Dr)},_i={connect(){const Dr=_n.getState().gl;Dr.xr.addEventListener("sessionstart",Er),Dr.xr.addEventListener("sessionend",Er)},disconnect(){const Dr=_n.getState().gl;Dr.xr.removeEventListener("sessionstart",Er),Dr.xr.removeEventListener("sessionend",Er)}};Jn.xr&&_i.connect(),Hn.set({xr:_i})}if(Jn.shadowMap){const mr=it.boo(Y);if(mr&&Jn.shadowMap.enabled!==Y||!it.equ(Y,Jn.shadowMap,sn)){const Er=Jn.shadowMap.enabled;Jn.shadowMap.enabled=!!Y,mr?Jn.shadowMap.type=A.PCFSoftShadowMap:Object.assign(Jn.shadowMap,Y),Er!==Jn.shadowMap.enabled&&(Jn.shadowMap.needsUpdate=!0)}}Te(A,Pt,["ColorManagement","legacyMode"]);const Qn=Je?A.LinearEncoding:A.sRGBEncoding,cr=pt?A.NoToneMapping:A.ACESFilmicToneMapping;return Jn.outputEncoding!==Qn&&(Jn.outputEncoding=Qn),Jn.toneMapping!==cr&&(Jn.toneMapping=cr),Hn.legacy!==Pt&&Hn.set(()=>({legacy:Pt})),Hn.linear!==Je&&Hn.set(()=>({linear:Je})),Hn.flat!==pt&&Hn.set(()=>({flat:pt})),q&&!it.fun(q)&&!Ht(q)&&!it.equ(q,Jn,sn)&&vn(Jn,q),V&&!Hn.events.handlers&&Hn.set({events:V(_n)}),Mn&&Hn.viewport.dpr!==Ue(Mn)&&Hn.setDpr(Mn),N=N||{width:(p=(x=Ce.parentElement)==null?void 0:x.clientWidth)!=null?p:0,height:(S=(O=Ce.parentElement)==null?void 0:O.clientHeight)!=null?S:0},it.equ(N,Hn.size,sn)||Hn.setSize(N.width,N.height,N.updateStyle),Hn.frameloop!==dn&&Hn.setFrameloop(dn),Hn.onPointerMissed||Hn.set({onPointerMissed:lr}),Cn&&!it.equ(Cn,Hn.performance,sn)&&Hn.set(mr=>({performance:rn(rn({},mr.performance),Cn)})),ve=F,we=!0,this},render(g){return we||this.configure(),kt.updateContainer(b.createElement(st,{store:_n,children:g,onCreated:ve,rootElement:Ce}),Bn,null,()=>{}),_n},unmount(){_t(Ce)}}}function Oe(Ce,Ze,xt){console.warn("R3F.render is no longer supported in React 18. Use createRoot instead!");const Wt=de(Ze);return Wt.configure(xt),Wt.render(Ce)}function st({store:Ce,children:Ze,onCreated:xt,rootElement:Wt}){return ut(()=>{const fn=Ce.getState();fn.set(_n=>({internal:Or(rn({},_n.internal),{active:!0})})),xt&&xt(fn),Ce.getState().events.connected||fn.events.connect==null||fn.events.connect(Wt)},[]),b.createElement(St.Provider,{value:Ce},Ze)}function _t(Ce,Ze){const xt=je.get(Ce),Wt=xt==null?void 0:xt.fiber;if(Wt){const fn=xt==null?void 0:xt.store.getState();fn&&(fn.internal.active=!1),kt.updateContainer(null,Wt,null,()=>{fn&&setTimeout(()=>{try{var _n,Bn,ve,we;fn.events.disconnect==null||fn.events.disconnect(),(_n=fn.gl)==null||(Bn=_n.renderLists)==null||Bn.dispose==null||Bn.dispose(),(ve=fn.gl)==null||ve.forceContextLoss==null||ve.forceContextLoss(),(we=fn.gl)!=null&&we.xr&&fn.xr.disconnect(),X(fn),je.delete(Ce),Ze&&Ze(Ce)}catch(g){}},500)})}}function Xt(Ce,Ze,xt){return b.createElement(bn,{key:Ze.uuid,children:Ce,container:Ze,state:xt})}function bn({state:Ce={},children:Ze,container:xt}){const x=Ce,{events:Wt,size:fn}=x,_n=Bo(x,["events","size"]),Bn=Ie(),[ve]=b.useState(()=>new A.Raycaster),[we]=b.useState(()=>new A.Vector2),g=b.useCallback((S,O)=>{const q=rn({},S);Object.keys(S).forEach(V=>{(Mt.includes(V)||S[V]!==O[V])&&delete q[V]});let N;if(O&&fn){const V=O.camera;N=S.viewport.getCurrentViewport(V,new A.Vector3,fn),V!==S.camera&&ce(V,fn)}return rn(Or(rn({},q),{scene:xt,raycaster:ve,pointer:we,mouse:we,previousRoot:Bn,events:rn(rn(rn({},S.events),O==null?void 0:O.events),Wt),size:rn(rn({},S.size),fn),viewport:rn(rn({},S.viewport),N)}),_n)},[Ce]),[p]=b.useState(()=>{const S=Bn.getState();return(0,y.Z)((q,N)=>Or(rn(Or(rn({},S),{scene:xt,raycaster:ve,pointer:we,mouse:we,previousRoot:Bn,events:rn(rn({},S.events),Wt),size:rn(rn({},S.size),fn)}),_n),{set:q,get:N,setEvents:V=>q(F=>Or(rn({},F),{events:rn(rn({},F.events),V)}))}))});return b.useEffect(()=>{const S=Bn.subscribe(O=>p.setState(q=>g(O,q)));return()=>{S(),p.destroy()}},[]),b.useEffect(()=>{p.setState(S=>g(Bn.getState(),S))},[g]),b.createElement(b.Fragment,null,kt.createPortal(b.createElement(St.Provider,{value:p},Ze),p,null))}kt.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:b.version});const $n=b.unstable_act},45798:function(qt,et,W){"use strict";W.d(et,{Xz:function(){return xe}});var A=W(72531),b=W(72564),v=W(50959),y=W(26553),T=W(94440),k=W(85259),D=W(97427),j=W.n(D),K=W(65297);const ne={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function he(B){const{handlePointer:Ke}=(0,A.c)(B);return{priority:1,enabled:!0,compute(We,Bt,at){Bt.pointer.set(We.offsetX/Bt.size.width*2-1,-(We.offsetY/Bt.size.height)*2+1),Bt.raycaster.setFromCamera(Bt.pointer,Bt.camera)},connected:void 0,handlers:Object.keys(ne).reduce((We,Bt)=>Or(rn({},We),{[Bt]:Ke(Bt)}),{}),connect:We=>{var Bt;const{set:at,events:ut}=B.getState();ut.disconnect==null||ut.disconnect(),at(H=>({events:Or(rn({},H.events),{connected:We})})),Object.entries((Bt=ut.handlers)!=null?Bt:[]).forEach(([H,lt])=>{const[wt,Nt]=ne[H];We.addEventListener(wt,lt,{passive:Nt})})},disconnect:()=>{const{set:We,events:Bt}=B.getState();if(Bt.connected){var at;Object.entries((at=Bt.handlers)!=null?at:[]).forEach(([ut,H])=>{if(Bt&&Bt.connected instanceof HTMLElement){const[lt]=ne[ut];Bt.connected.removeEventListener(lt,H)}}),We(ut=>({events:Or(rn({},ut.events),{connected:void 0})}))}}}}const xe=v.forwardRef(function($e,Re){var le=$e,{children:Ke,fallback:We,resize:Bt,style:at,gl:ut,events:H=he,shadows:lt,linear:wt,flat:Nt,legacy:Dt,orthographic:Ue,frameloop:Xe,dpr:it,performance:Ft,raycaster:X,camera:be,onPointerMissed:ye,onCreated:Me}=le,_e=Bo(le,["children","fallback","resize","style","gl","events","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"]);v.useMemo(()=>(0,A.e)(y),[]);const[He,{width:rt,height:ce}]=(0,T.Z)(rn({scroll:!0,debounce:{scroll:50,resize:0}},Bt)),Te=v.useRef(null),Ve=v.useRef(null),[Ge,ot]=v.useState(null);v.useImperativeHandle(Re,()=>Te.current);const ht=(0,A.u)(ye),[bt,Vt]=v.useState(!1),[Kt,Tt]=v.useState(!1);if(bt)throw bt;if(Kt)throw Kt;const Mt=v.useRef(null);return rt>0&&ce>0&&Ge&&(Mt.current||(Mt.current=(0,A.a)(Ge)),Mt.current.configure({gl:ut,events:H,shadows:lt,linear:wt,flat:Nt,legacy:Dt,orthographic:Ue,frameloop:Xe,dpr:it,performance:Ft,raycaster:X,camera:be,size:{width:rt,height:ce},onPointerMissed:(...Ht)=>ht.current==null?void 0:ht.current(...Ht),onCreated:Ht=>{Ht.events.connect==null||Ht.events.connect(Ve.current),Me==null||Me(Ht)}}),Mt.current.render(v.createElement(A.E,{set:Tt},v.createElement(v.Suspense,{fallback:v.createElement(A.B,{set:Vt})},Ke)))),(0,A.b)(()=>{ot(Te.current)},[]),v.useEffect(()=>{if(Ge)return()=>(0,A.d)(Ge)},[Ge]),v.createElement("div",(0,b.Z)({ref:Ve,style:rn({position:"relative",width:"100%",height:"100%",overflow:"hidden"},at)},_e),v.createElement("div",{ref:He,style:{width:"100%",height:"100%"}},v.createElement("canvas",{ref:Te,style:{display:"block"}},We)))})},31048:function(qt,et,W){"use strict";var A=W(45389),b=W(75188),v=W(43957),y=W(40846),T=W(11527),k=["children"];function D(K,ne){var he=Object.keys(K);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(K);ne&&(xe=xe.filter(function(B){return Object.getOwnPropertyDescriptor(K,B).enumerable})),he.push.apply(he,xe)}return he}function j(K){for(var ne=1;ne<arguments.length;ne++){var he=arguments[ne]!=null?arguments[ne]:{};ne%2?D(Object(he),!0).forEach(function(xe){(0,A.Z)(K,xe,he[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(he)):D(Object(he)).forEach(function(xe){Object.defineProperty(K,xe,Object.getOwnPropertyDescriptor(he,xe))})}return K}et.Z=function(K){var ne=K.children,he=(0,b.Z)(K,k);return(0,T.jsx)(y.f,j(j({},he),{},{children:(0,T.jsx)(v.Z,{children:ne})}))}},7798:function(qt,et,W){"use strict";W.d(et,{Z:function(){return ne}});var A=W(40513),b=W(50959),v=W(28062),y=W(18621),T=W(49937);function k(he){function xe(B,Ke){Ke===void 0&&(Ke={});var We,Bt=Ke.onError,at=Bt===void 0?function(Xe){console.error(Xe)}:Bt;try{We=he()}catch(Xe){at(Xe)}var ut=function(Xe){return Ke!=null&&Ke.serializer?Ke==null?void 0:Ke.serializer(Xe):JSON.stringify(Xe)},H=function(Xe){return Ke!=null&&Ke.deserializer?Ke==null?void 0:Ke.deserializer(Xe):JSON.parse(Xe)};function lt(){try{var Xe=We==null?void 0:We.getItem(B);if(Xe)return H(Xe)}catch(it){at(it)}return(0,T.mf)(Ke==null?void 0:Ke.defaultValue)?Ke==null?void 0:Ke.defaultValue():Ke==null?void 0:Ke.defaultValue}var wt=(0,A.CR)((0,b.useState)(function(){return lt()}),2),Nt=wt[0],Dt=wt[1];(0,y.Z)(function(){Dt(lt())},[B]);var Ue=function(Xe){var it=(0,T.mf)(Xe)?Xe(Nt):Xe;if(Dt(it),(0,T.G7)(it))We==null||We.removeItem(B);else try{We==null||We.setItem(B,ut(it))}catch(Ft){console.error(Ft)}};return[Nt,(0,v.Z)(Ue)]}return xe}var D=!!(typeof window!="undefined"&&window.document&&window.document.createElement),j=D,K=k(function(){return j?localStorage:void 0}),ne=K},28062:function(qt,et,W){"use strict";var A=W(50959),b=W(49937),v=W(70510);function y(T){v.Z&&((0,b.mf)(T)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof T)));var k=(0,A.useRef)(T);k.current=(0,A.useMemo)(function(){return T},[T]);var D=(0,A.useRef)();return D.current||(D.current=function(){for(var j=[],K=0;K<arguments.length;K++)j[K]=arguments[K];return k.current.apply(this,j)}),D.current}et.Z=y},18621:function(qt,et,W){"use strict";W.d(et,{Z:function(){return y}});var A=W(50959),b=function(T){return function(k,D){var j=(0,A.useRef)(!1);T(function(){return function(){j.current=!1}},[]),T(function(){if(!j.current)j.current=!0;else return k()},D)}},v=null,y=b(A.useEffect)},49937:function(qt,et,W){"use strict";W.d(et,{G7:function(){return k},mf:function(){return b}});var A=function(D){return D!==null&&typeof D=="object"},b=function(D){return typeof D=="function"},v=function(D){return typeof D=="string"},y=function(D){return typeof D=="boolean"},T=function(D){return typeof D=="number"},k=function(D){return typeof D=="undefined"}},70510:function(qt,et){"use strict";var W=!1;et.Z=W},45924:function(qt,et,W){"use strict";W.r(et),W.d(et,{clsx:function(){return b}});function A(v){var y,T,k="";if(typeof v=="string"||typeof v=="number")k+=v;else if(typeof v=="object")if(Array.isArray(v))for(y=0;y<v.length;y++)v[y]&&(T=A(v[y]))&&(k&&(k+=" "),k+=T);else for(y in v)v[y]&&(k&&(k+=" "),k+=y);return k}function b(){for(var v,y,T=0,k="";T<arguments.length;)(v=arguments[T++])&&(y=A(v))&&(k&&(k+=" "),k+=y);return k}et.default=b},31110:function(qt){function et(W,A,b){var v,y,T,k,D;A==null&&(A=100);function j(){var ne=Date.now()-k;ne<A&&ne>=0?v=setTimeout(j,A-ne):(v=null,b||(D=W.apply(T,y),T=y=null))}var K=function(){T=this,y=arguments,k=Date.now();var ne=b&&!v;return v||(v=setTimeout(j,A)),ne&&(D=W.apply(T,y),T=y=null),D};return K.clear=function(){v&&(clearTimeout(v),v=null)},K.flush=function(){v&&(D=W.apply(T,y),T=y=null,clearTimeout(v),v=null)},K}et.debounce=et,qt.exports=et},69978:function(qt){function et(ne,he){var xe=he&&he.cache?he.cache:K,B=he&&he.serializer?he.serializer:D,Ke=he&&he.strategy?he.strategy:y;return Ke(ne,{cache:xe,serializer:B})}function W(ne){return ne==null||typeof ne=="number"||typeof ne=="boolean"}function A(ne,he,xe,B){var Ke=W(B)?B:xe(B),We=he.get(Ke);return typeof We=="undefined"&&(We=ne.call(this,B),he.set(Ke,We)),We}function b(ne,he,xe){var B=Array.prototype.slice.call(arguments,3),Ke=xe(B),We=he.get(Ke);return typeof We=="undefined"&&(We=ne.apply(this,B),he.set(Ke,We)),We}function v(ne,he,xe,B,Ke){return xe.bind(he,ne,B,Ke)}function y(ne,he){var xe=ne.length===1?A:b;return v(ne,this,xe,he.cache.create(),he.serializer)}function T(ne,he){var xe=b;return v(ne,this,xe,he.cache.create(),he.serializer)}function k(ne,he){var xe=A;return v(ne,this,xe,he.cache.create(),he.serializer)}function D(){return JSON.stringify(arguments)}function j(){this.cache=Object.create(null)}j.prototype.has=function(ne){return ne in this.cache},j.prototype.get=function(ne){return this.cache[ne]},j.prototype.set=function(ne,he){this.cache[ne]=he};var K={create:function(){return new j}};qt.exports=et,qt.exports.strategies={variadic:T,monadic:k}},5899:function(qt,et,W){qt=W.nmd(qt);var A=200,b="__lodash_hash_undefined__",v=1,y=2,T=9007199254740991,k="[object Arguments]",D="[object Array]",j="[object AsyncFunction]",K="[object Boolean]",ne="[object Date]",he="[object Error]",xe="[object Function]",B="[object GeneratorFunction]",Ke="[object Map]",We="[object Number]",Bt="[object Null]",at="[object Object]",ut="[object Promise]",H="[object Proxy]",lt="[object RegExp]",wt="[object Set]",Nt="[object String]",Dt="[object Symbol]",Ue="[object Undefined]",Xe="[object WeakMap]",it="[object ArrayBuffer]",Ft="[object DataView]",X="[object Float32Array]",be="[object Float64Array]",ye="[object Int8Array]",Me="[object Int16Array]",_e="[object Int32Array]",Re="[object Uint8Array]",$e="[object Uint8ClampedArray]",le="[object Uint16Array]",He="[object Uint32Array]",rt=/[\\^$.*+?()[\]{}|]/g,ce=/^\[object .+?Constructor\]$/,Te=/^(?:0|[1-9]\d*)$/,Ve={};Ve[X]=Ve[be]=Ve[ye]=Ve[Me]=Ve[_e]=Ve[Re]=Ve[$e]=Ve[le]=Ve[He]=!0,Ve[k]=Ve[D]=Ve[it]=Ve[K]=Ve[Ft]=Ve[ne]=Ve[he]=Ve[xe]=Ve[Ke]=Ve[We]=Ve[at]=Ve[lt]=Ve[wt]=Ve[Nt]=Ve[Xe]=!1;var Ge=typeof W.g=="object"&&W.g&&W.g.Object===Object&&W.g,ot=typeof self=="object"&&self&&self.Object===Object&&self,ht=Ge||ot||Function("return this")(),bt=et&&!et.nodeType&&et,Vt=bt&&!0&&qt&&!qt.nodeType&&qt,Kt=Vt&&Vt.exports===bt,Tt=Kt&&Ge.process,Mt=function(){try{return Tt&&Tt.binding&&Tt.binding("util")}catch($){}}(),Ht=Mt&&Mt.isTypedArray;function St($,ge){for(var P=-1,ee=$==null?0:$.length,Be=0,ft=[];++P<ee;){var xn=$[P];ge(xn,P,$)&&(ft[Be++]=xn)}return ft}function Qe($,ge){for(var P=-1,ee=ge.length,Be=$.length;++P<ee;)$[Be+P]=ge[P];return $}function Et($,ge){for(var P=-1,ee=$==null?0:$.length;++P<ee;)if(ge($[P],P,$))return!0;return!1}function tn($,ge){for(var P=-1,ee=Array($);++P<$;)ee[P]=ge(P);return ee}function un($){return function(ge){return $(ge)}}function nn($,ge){return $.has(ge)}function pn($,ge){return $==null?void 0:$[ge]}function Rt($){var ge=-1,P=Array($.size);return $.forEach(function(ee,Be){P[++ge]=[Be,ee]}),P}function jt($,ge){return function(P){return $(ge(P))}}function hn($){var ge=-1,P=Array($.size);return $.forEach(function(ee){P[++ge]=ee}),P}var tt=Array.prototype,ie=Function.prototype,fe=Object.prototype,me=ht["__core-js_shared__"],ke=ie.toString,Ie=fe.hasOwnProperty,At=function(){var $=/[^.]+$/.exec(me&&me.keys&&me.keys.IE_PROTO||"");return $?"Symbol(src)_1."+$:""}(),Jt=fe.toString,Vn=RegExp("^"+ke.call(Ie).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ln=Kt?ht.Buffer:void 0,ue=ht.Symbol,je=ht.Uint8Array,Ye=fe.propertyIsEnumerable,qe=tt.splice,kt=ue?ue.toStringTag:void 0,vn=Object.getOwnPropertySymbols,sn=Ln?Ln.isBuffer:void 0,It=jt(Object.keys,Object),de=no(ht,"DataView"),Oe=no(ht,"Map"),st=no(ht,"Promise"),_t=no(ht,"Set"),Xt=no(ht,"WeakMap"),bn=no(Object,"create"),$n=ji(de),Ce=ji(Oe),Ze=ji(st),xt=ji(_t),Wt=ji(Xt),fn=ue?ue.prototype:void 0,_n=fn?fn.valueOf:void 0;function Bn($){var ge=-1,P=$==null?0:$.length;for(this.clear();++ge<P;){var ee=$[ge];this.set(ee[0],ee[1])}}function ve(){this.__data__=bn?bn(null):{},this.size=0}function we($){var ge=this.has($)&&delete this.__data__[$];return this.size-=ge?1:0,ge}function g($){var ge=this.__data__;if(bn){var P=ge[$];return P===b?void 0:P}return Ie.call(ge,$)?ge[$]:void 0}function p($){var ge=this.__data__;return bn?ge[$]!==void 0:Ie.call(ge,$)}function x($,ge){var P=this.__data__;return this.size+=this.has($)?0:1,P[$]=bn&&ge===void 0?b:ge,this}Bn.prototype.clear=ve,Bn.prototype.delete=we,Bn.prototype.get=g,Bn.prototype.has=p,Bn.prototype.set=x;function S($){var ge=-1,P=$==null?0:$.length;for(this.clear();++ge<P;){var ee=$[ge];this.set(ee[0],ee[1])}}function O(){this.__data__=[],this.size=0}function q($){var ge=this.__data__,P=Qn(ge,$);if(P<0)return!1;var ee=ge.length-1;return P==ee?ge.pop():qe.call(ge,P,1),--this.size,!0}function N($){var ge=this.__data__,P=Qn(ge,$);return P<0?void 0:ge[P][1]}function V($){return Qn(this.__data__,$)>-1}function F($,ge){var P=this.__data__,ee=Qn(P,$);return ee<0?(++this.size,P.push([$,ge])):P[ee][1]=ge,this}S.prototype.clear=O,S.prototype.delete=q,S.prototype.get=N,S.prototype.has=V,S.prototype.set=F;function Y($){var ge=-1,P=$==null?0:$.length;for(this.clear();++ge<P;){var ee=$[ge];this.set(ee[0],ee[1])}}function Je(){this.size=0,this.__data__={hash:new Bn,map:new(Oe||S),string:new Bn}}function pt($){var ge=Xo(this,$).delete($);return this.size-=ge?1:0,ge}function Pt($){return Xo(this,$).get($)}function en($){return Xo(this,$).has($)}function dn($,ge){var P=Xo(this,$),ee=P.size;return P.set($,ge),this.size+=P.size==ee?0:1,this}Y.prototype.clear=Je,Y.prototype.delete=pt,Y.prototype.get=Pt,Y.prototype.has=en,Y.prototype.set=dn;function Mn($){var ge=-1,P=$==null?0:$.length;for(this.__data__=new Y;++ge<P;)this.add($[ge])}function Cn($){return this.__data__.set($,b),this}function Ut($){return this.__data__.has($)}Mn.prototype.add=Mn.prototype.push=Cn,Mn.prototype.has=Ut;function Rn($){var ge=this.__data__=new S($);this.size=ge.size}function lr(){this.__data__=new S,this.size=0}function Hn($){var ge=this.__data__,P=ge.delete($);return this.size=ge.size,P}function Jn($){return this.__data__.get($)}function Nn($){return this.__data__.has($)}function Yn($,ge){var P=this.__data__;if(P instanceof S){var ee=P.__data__;if(!Oe||ee.length<A-1)return ee.push([$,ge]),this.size=++P.size,this;P=this.__data__=new Y(ee)}return P.set($,ge),this.size=P.size,this}Rn.prototype.clear=lr,Rn.prototype.delete=Hn,Rn.prototype.get=Jn,Rn.prototype.has=Nn,Rn.prototype.set=Yn;function br($,ge){var P=Ki($),ee=!P&&qr($),Be=!P&&!ee&&hs($),ft=!P&&!ee&&!Be&&Se($),xn=P||ee||Be||ft,In=xn?tn($.length,String):[],jn=In.length;for(var Sn in $)(ge||Ie.call($,Sn))&&!(xn&&(Sn=="length"||Be&&(Sn=="offset"||Sn=="parent")||ft&&(Sn=="buffer"||Sn=="byteLength"||Sn=="byteOffset")||Ns(Sn,jn)))&&In.push(Sn);return In}function Qn($,ge){for(var P=$.length;P--;)if(Yo($[P][0],ge))return P;return-1}function cr($,ge,P){var ee=ge($);return Ki($)?ee:Qe(ee,P($))}function vr($){return $==null?$===void 0?Ue:Bt:kt&&kt in Object($)?ds($):Oo($)}function mr($){return G($)&&vr($)==k}function Er($,ge,P,ee,Be){return $===ge?!0:$==null||ge==null||!G($)&&!G(ge)?$!==$&&ge!==ge:_i($,ge,P,ee,Er,Be)}function _i($,ge,P,ee,Be,ft){var xn=Ki($),In=Ki(ge),jn=xn?D:So($),Sn=In?D:So(ge);jn=jn==k?at:jn,Sn=Sn==k?at:Sn;var Zn=jn==at,_r=Sn==at,or=jn==Sn;if(or&&hs($)){if(!hs(ge))return!1;xn=!0,Zn=!1}if(or&&!Zn)return ft||(ft=new Rn),xn||Se($)?Vi($,ge,P,ee,Be,ft):Ir($,ge,jn,P,ee,Be,ft);if(!(P&v)){var Mr=Zn&&Ie.call($,"__wrapped__"),Yr=_r&&Ie.call(ge,"__wrapped__");if(Mr||Yr){var Hr=Mr?$.value():$,$r=Yr?ge.value():ge;return ft||(ft=new Rn),Be(Hr,$r,P,ee,ft)}}return or?(ft||(ft=new Rn),vi($,ge,P,ee,Be,ft)):!1}function Dr($){if(!z($)||xi($))return!1;var ge=Ko($)?Vn:ce;return ge.test(ji($))}function ti($){return G($)&&Ei($.length)&&!!Ve[vr($)]}function Kr($){if(!Fs($))return It($);var ge=[];for(var P in Object($))Ie.call($,P)&&P!="constructor"&&ge.push(P);return ge}function Vi($,ge,P,ee,Be,ft){var xn=P&v,In=$.length,jn=ge.length;if(In!=jn&&!(xn&&jn>In))return!1;var Sn=ft.get($);if(Sn&&ft.get(ge))return Sn==ge;var Zn=-1,_r=!0,or=P&y?new Mn:void 0;for(ft.set($,ge),ft.set(ge,$);++Zn<In;){var Mr=$[Zn],Yr=ge[Zn];if(ee)var Hr=xn?ee(Yr,Mr,Zn,ge,$,ft):ee(Mr,Yr,Zn,$,ge,ft);if(Hr!==void 0){if(Hr)continue;_r=!1;break}if(or){if(!Et(ge,function($r,Tr){if(!nn(or,Tr)&&(Mr===$r||Be(Mr,$r,P,ee,ft)))return or.push(Tr)})){_r=!1;break}}else if(!(Mr===Yr||Be(Mr,Yr,P,ee,ft))){_r=!1;break}}return ft.delete($),ft.delete(ge),_r}function Ir($,ge,P,ee,Be,ft,xn){switch(P){case Ft:if($.byteLength!=ge.byteLength||$.byteOffset!=ge.byteOffset)return!1;$=$.buffer,ge=ge.buffer;case it:return!($.byteLength!=ge.byteLength||!ft(new je($),new je(ge)));case K:case ne:case We:return Yo(+$,+ge);case he:return $.name==ge.name&&$.message==ge.message;case lt:case Nt:return $==ge+"";case Ke:var In=Rt;case wt:var jn=ee&v;if(In||(In=hn),$.size!=ge.size&&!jn)return!1;var Sn=xn.get($);if(Sn)return Sn==ge;ee|=y,xn.set($,ge);var Zn=Vi(In($),In(ge),ee,Be,ft,xn);return xn.delete($),Zn;case Dt:if(_n)return _n.call($)==_n.call(ge)}return!1}function vi($,ge,P,ee,Be,ft){var xn=P&v,In=to($),jn=In.length,Sn=to(ge),Zn=Sn.length;if(jn!=Zn&&!xn)return!1;for(var _r=jn;_r--;){var or=In[_r];if(!(xn?or in ge:Ie.call(ge,or)))return!1}var Mr=ft.get($);if(Mr&&ft.get(ge))return Mr==ge;var Yr=!0;ft.set($,ge),ft.set(ge,$);for(var Hr=xn;++_r<jn;){or=In[_r];var $r=$[or],Tr=ge[or];if(ee)var Nr=xn?ee(Tr,$r,or,ge,$,ft):ee($r,Tr,or,$,ge,ft);if(!(Nr===void 0?$r===Tr||Be($r,Tr,P,ee,ft):Nr)){Yr=!1;break}Hr||(Hr=or=="constructor")}if(Yr&&!Hr){var zr=$.constructor,Ti=ge.constructor;zr!=Ti&&"constructor"in $&&"constructor"in ge&&!(typeof zr=="function"&&zr instanceof zr&&typeof Ti=="function"&&Ti instanceof Ti)&&(Yr=!1)}return ft.delete($),ft.delete(ge),Yr}function to($){return cr($,nt,As)}function Xo($,ge){var P=$.__data__;return No(ge)?P[typeof ge=="string"?"string":"hash"]:P.map}function no($,ge){var P=pn($,ge);return Dr(P)?P:void 0}function ds($){var ge=Ie.call($,kt),P=$[kt];try{$[kt]=void 0;var ee=!0}catch(ft){}var Be=Jt.call($);return ee&&(ge?$[kt]=P:delete $[kt]),Be}var As=vn?function($){return $==null?[]:($=Object($),St(vn($),function(ge){return Ye.call($,ge)}))}:yt,So=vr;(de&&So(new de(new ArrayBuffer(1)))!=Ft||Oe&&So(new Oe)!=Ke||st&&So(st.resolve())!=ut||_t&&So(new _t)!=wt||Xt&&So(new Xt)!=Xe)&&(So=function($){var ge=vr($),P=ge==at?$.constructor:void 0,ee=P?ji(P):"";if(ee)switch(ee){case $n:return Ft;case Ce:return Ke;case Ze:return ut;case xt:return wt;case Wt:return Xe}return ge});function Ns($,ge){return ge=ge==null?T:ge,!!ge&&(typeof $=="number"||Te.test($))&&$>-1&&$%1==0&&$<ge}function No($){var ge=typeof $;return ge=="string"||ge=="number"||ge=="symbol"||ge=="boolean"?$!=="__proto__":$===null}function xi($){return!!At&&At in $}function Fs($){var ge=$&&$.constructor,P=typeof ge=="function"&&ge.prototype||fe;return $===P}function Oo($){return Jt.call($)}function ji($){if($!=null){try{return ke.call($)}catch(ge){}try{return $+""}catch(ge){}}return""}function Yo($,ge){return $===ge||$!==$&&ge!==ge}var qr=mr(function(){return arguments}())?mr:function($){return G($)&&Ie.call($,"callee")&&!Ye.call($,"callee")},Ki=Array.isArray;function Eo($){return $!=null&&Ei($.length)&&!Ko($)}var hs=sn||gt;function ps($,ge){return Er($,ge)}function Ko($){if(!z($))return!1;var ge=vr($);return ge==xe||ge==B||ge==j||ge==H}function Ei($){return typeof $=="number"&&$>-1&&$%1==0&&$<=T}function z($){var ge=typeof $;return $!=null&&(ge=="object"||ge=="function")}function G($){return $!=null&&typeof $=="object"}var Se=Ht?un(Ht):ti;function nt($){return Eo($)?br($):Kr($)}function yt(){return[]}function gt(){return!1}qt.exports=ps},72266:function(qt,et,W){qt=W.nmd(qt);var A=200,b="__lodash_hash_undefined__",v=800,y=16,T=9007199254740991,k="[object Arguments]",D="[object Array]",j="[object AsyncFunction]",K="[object Boolean]",ne="[object Date]",he="[object Error]",xe="[object Function]",B="[object GeneratorFunction]",Ke="[object Map]",We="[object Number]",Bt="[object Null]",at="[object Object]",ut="[object Proxy]",H="[object RegExp]",lt="[object Set]",wt="[object String]",Nt="[object Undefined]",Dt="[object WeakMap]",Ue="[object ArrayBuffer]",Xe="[object DataView]",it="[object Float32Array]",Ft="[object Float64Array]",X="[object Int8Array]",be="[object Int16Array]",ye="[object Int32Array]",Me="[object Uint8Array]",_e="[object Uint8ClampedArray]",Re="[object Uint16Array]",$e="[object Uint32Array]",le=/[\\^$.*+?()[\]{}|]/g,He=/^\[object .+?Constructor\]$/,rt=/^(?:0|[1-9]\d*)$/,ce={};ce[it]=ce[Ft]=ce[X]=ce[be]=ce[ye]=ce[Me]=ce[_e]=ce[Re]=ce[$e]=!0,ce[k]=ce[D]=ce[Ue]=ce[K]=ce[Xe]=ce[ne]=ce[he]=ce[xe]=ce[Ke]=ce[We]=ce[at]=ce[H]=ce[lt]=ce[wt]=ce[Dt]=!1;var Te=typeof W.g=="object"&&W.g&&W.g.Object===Object&&W.g,Ve=typeof self=="object"&&self&&self.Object===Object&&self,Ge=Te||Ve||Function("return this")(),ot=et&&!et.nodeType&&et,ht=ot&&!0&&qt&&!qt.nodeType&&qt,bt=ht&&ht.exports===ot,Vt=bt&&Te.process,Kt=function(){try{var P=ht&&ht.require&&ht.require("util").types;return P||Vt&&Vt.binding&&Vt.binding("util")}catch(ee){}}(),Tt=Kt&&Kt.isTypedArray;function Mt(P,ee,Be){switch(Be.length){case 0:return P.call(ee);case 1:return P.call(ee,Be[0]);case 2:return P.call(ee,Be[0],Be[1]);case 3:return P.call(ee,Be[0],Be[1],Be[2])}return P.apply(ee,Be)}function Ht(P,ee){for(var Be=-1,ft=Array(P);++Be<P;)ft[Be]=ee(Be);return ft}function St(P){return function(ee){return P(ee)}}function Qe(P,ee){return P==null?void 0:P[ee]}function Et(P,ee){return function(Be){return P(ee(Be))}}var tn=Array.prototype,un=Function.prototype,nn=Object.prototype,pn=Ge["__core-js_shared__"],Rt=un.toString,jt=nn.hasOwnProperty,hn=function(){var P=/[^.]+$/.exec(pn&&pn.keys&&pn.keys.IE_PROTO||"");return P?"Symbol(src)_1."+P:""}(),tt=nn.toString,ie=Rt.call(Object),fe=RegExp("^"+Rt.call(jt).replace(le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=bt?Ge.Buffer:void 0,ke=Ge.Symbol,Ie=Ge.Uint8Array,At=me?me.allocUnsafe:void 0,Jt=Et(Object.getPrototypeOf,Object),Vn=Object.create,Ln=nn.propertyIsEnumerable,ue=tn.splice,je=ke?ke.toStringTag:void 0,Ye=function(){try{var P=ti(Object,"defineProperty");return P({},"",{}),P}catch(ee){}}(),qe=me?me.isBuffer:void 0,kt=Math.max,vn=Date.now,sn=ti(Ge,"Map"),It=ti(Object,"create"),de=function(){function P(){}return function(ee){if(!Ko(ee))return{};if(Vn)return Vn(ee);P.prototype=ee;var Be=new P;return P.prototype=void 0,Be}}();function Oe(P){var ee=-1,Be=P==null?0:P.length;for(this.clear();++ee<Be;){var ft=P[ee];this.set(ft[0],ft[1])}}function st(){this.__data__=It?It(null):{},this.size=0}function _t(P){var ee=this.has(P)&&delete this.__data__[P];return this.size-=ee?1:0,ee}function Xt(P){var ee=this.__data__;if(It){var Be=ee[P];return Be===b?void 0:Be}return jt.call(ee,P)?ee[P]:void 0}function bn(P){var ee=this.__data__;return It?ee[P]!==void 0:jt.call(ee,P)}function $n(P,ee){var Be=this.__data__;return this.size+=this.has(P)?0:1,Be[P]=It&&ee===void 0?b:ee,this}Oe.prototype.clear=st,Oe.prototype.delete=_t,Oe.prototype.get=Xt,Oe.prototype.has=bn,Oe.prototype.set=$n;function Ce(P){var ee=-1,Be=P==null?0:P.length;for(this.clear();++ee<Be;){var ft=P[ee];this.set(ft[0],ft[1])}}function Ze(){this.__data__=[],this.size=0}function xt(P){var ee=this.__data__,Be=Pt(ee,P);if(Be<0)return!1;var ft=ee.length-1;return Be==ft?ee.pop():ue.call(ee,Be,1),--this.size,!0}function Wt(P){var ee=this.__data__,Be=Pt(ee,P);return Be<0?void 0:ee[Be][1]}function fn(P){return Pt(this.__data__,P)>-1}function _n(P,ee){var Be=this.__data__,ft=Pt(Be,P);return ft<0?(++this.size,Be.push([P,ee])):Be[ft][1]=ee,this}Ce.prototype.clear=Ze,Ce.prototype.delete=xt,Ce.prototype.get=Wt,Ce.prototype.has=fn,Ce.prototype.set=_n;function Bn(P){var ee=-1,Be=P==null?0:P.length;for(this.clear();++ee<Be;){var ft=P[ee];this.set(ft[0],ft[1])}}function ve(){this.size=0,this.__data__={hash:new Oe,map:new(sn||Ce),string:new Oe}}function we(P){var ee=Dr(this,P).delete(P);return this.size-=ee?1:0,ee}function g(P){return Dr(this,P).get(P)}function p(P){return Dr(this,P).has(P)}function x(P,ee){var Be=Dr(this,P),ft=Be.size;return Be.set(P,ee),this.size+=Be.size==ft?0:1,this}Bn.prototype.clear=ve,Bn.prototype.delete=we,Bn.prototype.get=g,Bn.prototype.has=p,Bn.prototype.set=x;function S(P){var ee=this.__data__=new Ce(P);this.size=ee.size}function O(){this.__data__=new Ce,this.size=0}function q(P){var ee=this.__data__,Be=ee.delete(P);return this.size=ee.size,Be}function N(P){return this.__data__.get(P)}function V(P){return this.__data__.has(P)}function F(P,ee){var Be=this.__data__;if(Be instanceof Ce){var ft=Be.__data__;if(!sn||ft.length<A-1)return ft.push([P,ee]),this.size=++Be.size,this;Be=this.__data__=new Bn(ft)}return Be.set(P,ee),this.size=Be.size,this}S.prototype.clear=O,S.prototype.delete=q,S.prototype.get=N,S.prototype.has=V,S.prototype.set=F;function Y(P,ee){var Be=Yo(P),ft=!Be&&ji(P),xn=!Be&&!ft&&Eo(P),In=!Be&&!ft&&!xn&&G(P),jn=Be||ft||xn||In,Sn=jn?Ht(P.length,String):[],Zn=Sn.length;for(var _r in P)(ee||jt.call(P,_r))&&!(jn&&(_r=="length"||xn&&(_r=="offset"||_r=="parent")||In&&(_r=="buffer"||_r=="byteLength"||_r=="byteOffset")||Ir(_r,Zn)))&&Sn.push(_r);return Sn}function Je(P,ee,Be){(Be!==void 0&&!Oo(P[ee],Be)||Be===void 0&&!(ee in P))&&en(P,ee,Be)}function pt(P,ee,Be){var ft=P[ee];(!(jt.call(P,ee)&&Oo(ft,Be))||Be===void 0&&!(ee in P))&&en(P,ee,Be)}function Pt(P,ee){for(var Be=P.length;Be--;)if(Oo(P[Be][0],ee))return Be;return-1}function en(P,ee,Be){ee=="__proto__"&&Ye?Ye(P,ee,{configurable:!0,enumerable:!0,value:Be,writable:!0}):P[ee]=Be}var dn=_i();function Mn(P){return P==null?P===void 0?Nt:Bt:je&&je in Object(P)?Kr(P):As(P)}function Cn(P){return Ei(P)&&Mn(P)==k}function Ut(P){if(!Ko(P)||Xo(P))return!1;var ee=hs(P)?fe:He;return ee.test(Fs(P))}function Rn(P){return Ei(P)&&ps(P.length)&&!!ce[Mn(P)]}function lr(P){if(!Ko(P))return ds(P);var ee=no(P),Be=[];for(var ft in P)ft=="constructor"&&(ee||!jt.call(P,ft))||Be.push(ft);return Be}function Hn(P,ee,Be,ft,xn){P!==ee&&dn(ee,function(In,jn){if(xn||(xn=new S),Ko(In))Jn(P,ee,jn,Be,Hn,ft,xn);else{var Sn=ft?ft(Ns(P,jn),In,jn+"",P,ee,xn):void 0;Sn===void 0&&(Sn=In),Je(P,jn,Sn)}},nt)}function Jn(P,ee,Be,ft,xn,In,jn){var Sn=Ns(P,Be),Zn=Ns(ee,Be),_r=jn.get(Zn);if(_r){Je(P,Be,_r);return}var or=In?In(Sn,Zn,Be+"",P,ee,jn):void 0,Mr=or===void 0;if(Mr){var Yr=Yo(Zn),Hr=!Yr&&Eo(Zn),$r=!Yr&&!Hr&&G(Zn);or=Zn,Yr||Hr||$r?Yo(Sn)?or=Sn:Ki(Sn)?or=vr(Sn):Hr?(Mr=!1,or=br(Zn,!0)):$r?(Mr=!1,or=cr(Zn,!0)):or=[]:z(Zn)||ji(Zn)?(or=Sn,ji(Sn)?or=Se(Sn):(!Ko(Sn)||hs(Sn))&&(or=Vi(Zn))):Mr=!1}Mr&&(jn.set(Zn,or),xn(or,Zn,ft,In,jn),jn.delete(Zn)),Je(P,Be,or)}function Nn(P,ee){return No(So(P,ee,$),P+"")}var Yn=Ye?function(P,ee){return Ye(P,"toString",{configurable:!0,enumerable:!1,value:gt(ee),writable:!0})}:$;function br(P,ee){if(ee)return P.slice();var Be=P.length,ft=At?At(Be):new P.constructor(Be);return P.copy(ft),ft}function Qn(P){var ee=new P.constructor(P.byteLength);return new Ie(ee).set(new Ie(P)),ee}function cr(P,ee){var Be=ee?Qn(P.buffer):P.buffer;return new P.constructor(Be,P.byteOffset,P.length)}function vr(P,ee){var Be=-1,ft=P.length;for(ee||(ee=Array(ft));++Be<ft;)ee[Be]=P[Be];return ee}function mr(P,ee,Be,ft){var xn=!Be;Be||(Be={});for(var In=-1,jn=ee.length;++In<jn;){var Sn=ee[In],Zn=ft?ft(Be[Sn],P[Sn],Sn,Be,P):void 0;Zn===void 0&&(Zn=P[Sn]),xn?en(Be,Sn,Zn):pt(Be,Sn,Zn)}return Be}function Er(P){return Nn(function(ee,Be){var ft=-1,xn=Be.length,In=xn>1?Be[xn-1]:void 0,jn=xn>2?Be[2]:void 0;for(In=P.length>3&&typeof In=="function"?(xn--,In):void 0,jn&&vi(Be[0],Be[1],jn)&&(In=xn<3?void 0:In,xn=1),ee=Object(ee);++ft<xn;){var Sn=Be[ft];Sn&&P(ee,Sn,ft,In)}return ee})}function _i(P){return function(ee,Be,ft){for(var xn=-1,In=Object(ee),jn=ft(ee),Sn=jn.length;Sn--;){var Zn=jn[P?Sn:++xn];if(Be(In[Zn],Zn,In)===!1)break}return ee}}function Dr(P,ee){var Be=P.__data__;return to(ee)?Be[typeof ee=="string"?"string":"hash"]:Be.map}function ti(P,ee){var Be=Qe(P,ee);return Ut(Be)?Be:void 0}function Kr(P){var ee=jt.call(P,je),Be=P[je];try{P[je]=void 0;var ft=!0}catch(In){}var xn=tt.call(P);return ft&&(ee?P[je]=Be:delete P[je]),xn}function Vi(P){return typeof P.constructor=="function"&&!no(P)?de(Jt(P)):{}}function Ir(P,ee){var Be=typeof P;return ee=ee==null?T:ee,!!ee&&(Be=="number"||Be!="symbol"&&rt.test(P))&&P>-1&&P%1==0&&P<ee}function vi(P,ee,Be){if(!Ko(Be))return!1;var ft=typeof ee;return(ft=="number"?qr(Be)&&Ir(ee,Be.length):ft=="string"&&ee in Be)?Oo(Be[ee],P):!1}function to(P){var ee=typeof P;return ee=="string"||ee=="number"||ee=="symbol"||ee=="boolean"?P!=="__proto__":P===null}function Xo(P){return!!hn&&hn in P}function no(P){var ee=P&&P.constructor,Be=typeof ee=="function"&&ee.prototype||nn;return P===Be}function ds(P){var ee=[];if(P!=null)for(var Be in Object(P))ee.push(Be);return ee}function As(P){return tt.call(P)}function So(P,ee,Be){return ee=kt(ee===void 0?P.length-1:ee,0),function(){for(var ft=arguments,xn=-1,In=kt(ft.length-ee,0),jn=Array(In);++xn<In;)jn[xn]=ft[ee+xn];xn=-1;for(var Sn=Array(ee+1);++xn<ee;)Sn[xn]=ft[xn];return Sn[ee]=Be(jn),Mt(P,this,Sn)}}function Ns(P,ee){if(!(ee==="constructor"&&typeof P[ee]=="function")&&ee!="__proto__")return P[ee]}var No=xi(Yn);function xi(P){var ee=0,Be=0;return function(){var ft=vn(),xn=y-(ft-Be);if(Be=ft,xn>0){if(++ee>=v)return arguments[0]}else ee=0;return P.apply(void 0,arguments)}}function Fs(P){if(P!=null){try{return Rt.call(P)}catch(ee){}try{return P+""}catch(ee){}}return""}function Oo(P,ee){return P===ee||P!==P&&ee!==ee}var ji=Cn(function(){return arguments}())?Cn:function(P){return Ei(P)&&jt.call(P,"callee")&&!Ln.call(P,"callee")},Yo=Array.isArray;function qr(P){return P!=null&&ps(P.length)&&!hs(P)}function Ki(P){return Ei(P)&&qr(P)}var Eo=qe||ge;function hs(P){if(!Ko(P))return!1;var ee=Mn(P);return ee==xe||ee==B||ee==j||ee==ut}function ps(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=T}function Ko(P){var ee=typeof P;return P!=null&&(ee=="object"||ee=="function")}function Ei(P){return P!=null&&typeof P=="object"}function z(P){if(!Ei(P)||Mn(P)!=at)return!1;var ee=Jt(P);if(ee===null)return!0;var Be=jt.call(ee,"constructor")&&ee.constructor;return typeof Be=="function"&&Be instanceof Be&&Rt.call(Be)==ie}var G=Tt?St(Tt):Rn;function Se(P){return mr(P,nt(P))}function nt(P){return qr(P)?Y(P,!0):lr(P)}var yt=Er(function(P,ee,Be){Hn(P,ee,Be)});function gt(P){return function(){return P}}function $(P){return P}function ge(){return!1}qt.exports=yt},44929:function(qt,et,W){"use strict";function A(ce){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Te){return typeof Te}:function(Te){return Te&&typeof Symbol=="function"&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te},A(ce)}Object.defineProperty(et,"__esModule",{value:!0}),Object.defineProperty(et,"DraggableCore",{enumerable:!0,get:function(){return K.default}}),et.default=void 0;var b=Ke(W(50959)),v=xe(W(40507)),y=xe(W(10422)),T=xe(W(45924)),k=W(3767),D=W(21476),j=W(89323),K=xe(W(67703)),ne=xe(W(21261)),he=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function xe(ce){return ce&&ce.__esModule?ce:{default:ce}}function B(ce){if(typeof WeakMap!="function")return null;var Te=new WeakMap,Ve=new WeakMap;return(B=function(ot){return ot?Ve:Te})(ce)}function Ke(ce,Te){if(!Te&&ce&&ce.__esModule)return ce;if(ce===null||A(ce)!=="object"&&typeof ce!="function")return{default:ce};var Ve=B(Te);if(Ve&&Ve.has(ce))return Ve.get(ce);var Ge={},ot=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ht in ce)if(ht!=="default"&&Object.prototype.hasOwnProperty.call(ce,ht)){var bt=ot?Object.getOwnPropertyDescriptor(ce,ht):null;bt&&(bt.get||bt.set)?Object.defineProperty(Ge,ht,bt):Ge[ht]=ce[ht]}return Ge.default=ce,Ve&&Ve.set(ce,Ge),Ge}function We(){return We=Object.assign||function(ce){for(var Te=1;Te<arguments.length;Te++){var Ve=arguments[Te];for(var Ge in Ve)Object.prototype.hasOwnProperty.call(Ve,Ge)&&(ce[Ge]=Ve[Ge])}return ce},We.apply(this,arguments)}function Bt(ce,Te){if(ce==null)return{};var Ve=at(ce,Te),Ge,ot;if(Object.getOwnPropertySymbols){var ht=Object.getOwnPropertySymbols(ce);for(ot=0;ot<ht.length;ot++)Ge=ht[ot],!(Te.indexOf(Ge)>=0)&&Object.prototype.propertyIsEnumerable.call(ce,Ge)&&(Ve[Ge]=ce[Ge])}return Ve}function at(ce,Te){if(ce==null)return{};var Ve={},Ge=Object.keys(ce),ot,ht;for(ht=0;ht<Ge.length;ht++)ot=Ge[ht],!(Te.indexOf(ot)>=0)&&(Ve[ot]=ce[ot]);return Ve}function ut(ce,Te){var Ve=Object.keys(ce);if(Object.getOwnPropertySymbols){var Ge=Object.getOwnPropertySymbols(ce);Te&&(Ge=Ge.filter(function(ot){return Object.getOwnPropertyDescriptor(ce,ot).enumerable})),Ve.push.apply(Ve,Ge)}return Ve}function H(ce){for(var Te=1;Te<arguments.length;Te++){var Ve=arguments[Te]!=null?arguments[Te]:{};Te%2?ut(Object(Ve),!0).forEach(function(Ge){He(ce,Ge,Ve[Ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(Ve)):ut(Object(Ve)).forEach(function(Ge){Object.defineProperty(ce,Ge,Object.getOwnPropertyDescriptor(Ve,Ge))})}return ce}function lt(ce,Te){return Xe(ce)||Ue(ce,Te)||Nt(ce,Te)||wt()}function wt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nt(ce,Te){if(ce){if(typeof ce=="string")return Dt(ce,Te);var Ve=Object.prototype.toString.call(ce).slice(8,-1);if(Ve==="Object"&&ce.constructor&&(Ve=ce.constructor.name),Ve==="Map"||Ve==="Set")return Array.from(ce);if(Ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve))return Dt(ce,Te)}}function Dt(ce,Te){(Te==null||Te>ce.length)&&(Te=ce.length);for(var Ve=0,Ge=new Array(Te);Ve<Te;Ve++)Ge[Ve]=ce[Ve];return Ge}function Ue(ce,Te){var Ve=ce==null?null:typeof Symbol!="undefined"&&ce[Symbol.iterator]||ce["@@iterator"];if(Ve!=null){var Ge=[],ot=!0,ht=!1,bt,Vt;try{for(Ve=Ve.call(ce);!(ot=(bt=Ve.next()).done)&&(Ge.push(bt.value),!(Te&&Ge.length===Te));ot=!0);}catch(Kt){ht=!0,Vt=Kt}finally{try{!ot&&Ve.return!=null&&Ve.return()}finally{if(ht)throw Vt}}return Ge}}function Xe(ce){if(Array.isArray(ce))return ce}function it(ce,Te){if(!(ce instanceof Te))throw new TypeError("Cannot call a class as a function")}function Ft(ce,Te){for(var Ve=0;Ve<Te.length;Ve++){var Ge=Te[Ve];Ge.enumerable=Ge.enumerable||!1,Ge.configurable=!0,"value"in Ge&&(Ge.writable=!0),Object.defineProperty(ce,Ge.key,Ge)}}function X(ce,Te,Ve){return Te&&Ft(ce.prototype,Te),Ve&&Ft(ce,Ve),Object.defineProperty(ce,"prototype",{writable:!1}),ce}function be(ce,Te){if(typeof Te!="function"&&Te!==null)throw new TypeError("Super expression must either be null or a function");ce.prototype=Object.create(Te&&Te.prototype,{constructor:{value:ce,writable:!0,configurable:!0}}),Object.defineProperty(ce,"prototype",{writable:!1}),Te&&ye(ce,Te)}function ye(ce,Te){return ye=Object.setPrototypeOf||function(Ge,ot){return Ge.__proto__=ot,Ge},ye(ce,Te)}function Me(ce){var Te=$e();return function(){var Ge=le(ce),ot;if(Te){var ht=le(this).constructor;ot=Reflect.construct(Ge,arguments,ht)}else ot=Ge.apply(this,arguments);return _e(this,ot)}}function _e(ce,Te){if(Te&&(A(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Re(ce)}function Re(ce){if(ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce}function $e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ce){return!1}}function le(ce){return le=Object.setPrototypeOf?Object.getPrototypeOf:function(Ve){return Ve.__proto__||Object.getPrototypeOf(Ve)},le(ce)}function He(ce,Te,Ve){return Te in ce?Object.defineProperty(ce,Te,{value:Ve,enumerable:!0,configurable:!0,writable:!0}):ce[Te]=Ve,ce}var rt=function(ce){be(Ve,ce);var Te=Me(Ve);function Ve(Ge){var ot;return it(this,Ve),ot=Te.call(this,Ge),He(Re(ot),"onDragStart",function(ht,bt){(0,ne.default)("Draggable: onDragStart: %j",bt);var Vt=ot.props.onStart(ht,(0,D.createDraggableData)(Re(ot),bt));if(Vt===!1)return!1;ot.setState({dragging:!0,dragged:!0})}),He(Re(ot),"onDrag",function(ht,bt){if(!ot.state.dragging)return!1;(0,ne.default)("Draggable: onDrag: %j",bt);var Vt=(0,D.createDraggableData)(Re(ot),bt),Kt={x:Vt.x,y:Vt.y};if(ot.props.bounds){var Tt=Kt.x,Mt=Kt.y;Kt.x+=ot.state.slackX,Kt.y+=ot.state.slackY;var Ht=(0,D.getBoundPosition)(Re(ot),Kt.x,Kt.y),St=lt(Ht,2),Qe=St[0],Et=St[1];Kt.x=Qe,Kt.y=Et,Kt.slackX=ot.state.slackX+(Tt-Kt.x),Kt.slackY=ot.state.slackY+(Mt-Kt.y),Vt.x=Kt.x,Vt.y=Kt.y,Vt.deltaX=Kt.x-ot.state.x,Vt.deltaY=Kt.y-ot.state.y}var tn=ot.props.onDrag(ht,Vt);if(tn===!1)return!1;ot.setState(Kt)}),He(Re(ot),"onDragStop",function(ht,bt){if(!ot.state.dragging)return!1;var Vt=ot.props.onStop(ht,(0,D.createDraggableData)(Re(ot),bt));if(Vt===!1)return!1;(0,ne.default)("Draggable: onDragStop: %j",bt);var Kt={dragging:!1,slackX:0,slackY:0},Tt=Boolean(ot.props.position);if(Tt){var Mt=ot.props.position,Ht=Mt.x,St=Mt.y;Kt.x=Ht,Kt.y=St}ot.setState(Kt)}),ot.state={dragging:!1,dragged:!1,x:Ge.position?Ge.position.x:Ge.defaultPosition.x,y:Ge.position?Ge.position.y:Ge.defaultPosition.y,prevPropsPosition:H({},Ge.position),slackX:0,slackY:0,isElementSVG:!1},Ge.position&&!(Ge.onDrag||Ge.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),ot}return X(Ve,[{key:"componentDidMount",value:function(){typeof window.SVGElement!="undefined"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var ot,ht,bt;return(ot=(ht=this.props)===null||ht===void 0||(bt=ht.nodeRef)===null||bt===void 0?void 0:bt.current)!==null&&ot!==void 0?ot:y.default.findDOMNode(this)}},{key:"render",value:function(){var ot,ht=this.props,bt=ht.axis,Vt=ht.bounds,Kt=ht.children,Tt=ht.defaultPosition,Mt=ht.defaultClassName,Ht=ht.defaultClassNameDragging,St=ht.defaultClassNameDragged,Qe=ht.position,Et=ht.positionOffset,tn=ht.scale,un=Bt(ht,he),nn={},pn=null,Rt=Boolean(Qe),jt=!Rt||this.state.dragging,hn=Qe||Tt,tt={x:(0,D.canDragX)(this)&&jt?this.state.x:hn.x,y:(0,D.canDragY)(this)&&jt?this.state.y:hn.y};this.state.isElementSVG?pn=(0,k.createSVGTransform)(tt,Et):nn=(0,k.createCSSTransform)(tt,Et);var ie=(0,T.default)(Kt.props.className||"",Mt,(ot={},He(ot,Ht,this.state.dragging),He(ot,St,this.state.dragged),ot));return b.createElement(K.default,We({},un,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),b.cloneElement(b.Children.only(Kt),{className:ie,style:H(H({},Kt.props.style),nn),transform:pn}))}}],[{key:"getDerivedStateFromProps",value:function(ot,ht){var bt=ot.position,Vt=ht.prevPropsPosition;return bt&&(!Vt||bt.x!==Vt.x||bt.y!==Vt.y)?((0,ne.default)("Draggable: getDerivedStateFromProps %j",{position:bt,prevPropsPosition:Vt}),{x:bt.x,y:bt.y,prevPropsPosition:H({},bt)}):null}}]),Ve}(b.Component);et.default=rt,He(rt,"displayName","Draggable"),He(rt,"propTypes",H(H({},K.default.propTypes),{},{axis:v.default.oneOf(["both","x","y","none"]),bounds:v.default.oneOfType([v.default.shape({left:v.default.number,right:v.default.number,top:v.default.number,bottom:v.default.number}),v.default.string,v.default.oneOf([!1])]),defaultClassName:v.default.string,defaultClassNameDragging:v.default.string,defaultClassNameDragged:v.default.string,defaultPosition:v.default.shape({x:v.default.number,y:v.default.number}),positionOffset:v.default.shape({x:v.default.oneOfType([v.default.number,v.default.string]),y:v.default.oneOfType([v.default.number,v.default.string])}),position:v.default.shape({x:v.default.number,y:v.default.number}),className:j.dontSetMe,style:j.dontSetMe,transform:j.dontSetMe})),He(rt,"defaultProps",H(H({},K.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},67703:function(qt,et,W){"use strict";function A(_e){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},A(_e)}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var b=he(W(50959)),v=K(W(40507)),y=K(W(10422)),T=W(3767),k=W(21476),D=W(89323),j=K(W(21261));function K(_e){return _e&&_e.__esModule?_e:{default:_e}}function ne(_e){if(typeof WeakMap!="function")return null;var Re=new WeakMap,$e=new WeakMap;return(ne=function(He){return He?$e:Re})(_e)}function he(_e,Re){if(!Re&&_e&&_e.__esModule)return _e;if(_e===null||A(_e)!=="object"&&typeof _e!="function")return{default:_e};var $e=ne(Re);if($e&&$e.has(_e))return $e.get(_e);var le={},He=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var rt in _e)if(rt!=="default"&&Object.prototype.hasOwnProperty.call(_e,rt)){var ce=He?Object.getOwnPropertyDescriptor(_e,rt):null;ce&&(ce.get||ce.set)?Object.defineProperty(le,rt,ce):le[rt]=_e[rt]}return le.default=_e,$e&&$e.set(_e,le),le}function xe(_e,Re){return at(_e)||Bt(_e,Re)||Ke(_e,Re)||B()}function B(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ke(_e,Re){if(_e){if(typeof _e=="string")return We(_e,Re);var $e=Object.prototype.toString.call(_e).slice(8,-1);if($e==="Object"&&_e.constructor&&($e=_e.constructor.name),$e==="Map"||$e==="Set")return Array.from(_e);if($e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($e))return We(_e,Re)}}function We(_e,Re){(Re==null||Re>_e.length)&&(Re=_e.length);for(var $e=0,le=new Array(Re);$e<Re;$e++)le[$e]=_e[$e];return le}function Bt(_e,Re){var $e=_e==null?null:typeof Symbol!="undefined"&&_e[Symbol.iterator]||_e["@@iterator"];if($e!=null){var le=[],He=!0,rt=!1,ce,Te;try{for($e=$e.call(_e);!(He=(ce=$e.next()).done)&&(le.push(ce.value),!(Re&&le.length===Re));He=!0);}catch(Ve){rt=!0,Te=Ve}finally{try{!He&&$e.return!=null&&$e.return()}finally{if(rt)throw Te}}return le}}function at(_e){if(Array.isArray(_e))return _e}function ut(_e,Re){if(!(_e instanceof Re))throw new TypeError("Cannot call a class as a function")}function H(_e,Re){for(var $e=0;$e<Re.length;$e++){var le=Re[$e];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(_e,le.key,le)}}function lt(_e,Re,$e){return Re&&H(_e.prototype,Re),$e&&H(_e,$e),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function wt(_e,Re){if(typeof Re!="function"&&Re!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create(Re&&Re.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),Re&&Nt(_e,Re)}function Nt(_e,Re){return Nt=Object.setPrototypeOf||function(le,He){return le.__proto__=He,le},Nt(_e,Re)}function Dt(_e){var Re=it();return function(){var le=Ft(_e),He;if(Re){var rt=Ft(this).constructor;He=Reflect.construct(le,arguments,rt)}else He=le.apply(this,arguments);return Ue(this,He)}}function Ue(_e,Re){if(Re&&(A(Re)==="object"||typeof Re=="function"))return Re;if(Re!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xe(_e)}function Xe(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function it(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(_e){return!1}}function Ft(_e){return Ft=Object.setPrototypeOf?Object.getPrototypeOf:function($e){return $e.__proto__||Object.getPrototypeOf($e)},Ft(_e)}function X(_e,Re,$e){return Re in _e?Object.defineProperty(_e,Re,{value:$e,enumerable:!0,configurable:!0,writable:!0}):_e[Re]=$e,_e}var be={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ye=be.mouse,Me=function(_e){wt($e,_e);var Re=Dt($e);function $e(){var le;ut(this,$e);for(var He=arguments.length,rt=new Array(He),ce=0;ce<He;ce++)rt[ce]=arguments[ce];return le=Re.call.apply(Re,[this].concat(rt)),X(Xe(le),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),X(Xe(le),"mounted",!1),X(Xe(le),"handleDragStart",function(Te){if(le.props.onMouseDown(Te),!le.props.allowAnyClick&&typeof Te.button=="number"&&Te.button!==0)return!1;var Ve=le.findDOMNode();if(!Ve||!Ve.ownerDocument||!Ve.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var Ge=Ve.ownerDocument;if(!(le.props.disabled||!(Te.target instanceof Ge.defaultView.Node)||le.props.handle&&!(0,T.matchesSelectorAndParentsTo)(Te.target,le.props.handle,Ve)||le.props.cancel&&(0,T.matchesSelectorAndParentsTo)(Te.target,le.props.cancel,Ve))){Te.type==="touchstart"&&Te.preventDefault();var ot=(0,T.getTouchIdentifier)(Te);le.setState({touchIdentifier:ot});var ht=(0,k.getControlPosition)(Te,ot,Xe(le));if(ht!=null){var bt=ht.x,Vt=ht.y,Kt=(0,k.createCoreData)(Xe(le),bt,Vt);(0,j.default)("DraggableCore: handleDragStart: %j",Kt),(0,j.default)("calling",le.props.onStart);var Tt=le.props.onStart(Te,Kt);Tt===!1||le.mounted===!1||(le.props.enableUserSelectHack&&(0,T.addUserSelectStyles)(Ge),le.setState({dragging:!0,lastX:bt,lastY:Vt}),(0,T.addEvent)(Ge,ye.move,le.handleDrag),(0,T.addEvent)(Ge,ye.stop,le.handleDragStop))}}}),X(Xe(le),"handleDrag",function(Te){var Ve=(0,k.getControlPosition)(Te,le.state.touchIdentifier,Xe(le));if(Ve!=null){var Ge=Ve.x,ot=Ve.y;if(Array.isArray(le.props.grid)){var ht=Ge-le.state.lastX,bt=ot-le.state.lastY,Vt=(0,k.snapToGrid)(le.props.grid,ht,bt),Kt=xe(Vt,2);if(ht=Kt[0],bt=Kt[1],!ht&&!bt)return;Ge=le.state.lastX+ht,ot=le.state.lastY+bt}var Tt=(0,k.createCoreData)(Xe(le),Ge,ot);(0,j.default)("DraggableCore: handleDrag: %j",Tt);var Mt=le.props.onDrag(Te,Tt);if(Mt===!1||le.mounted===!1){try{le.handleDragStop(new MouseEvent("mouseup"))}catch(St){var Ht=document.createEvent("MouseEvents");Ht.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),le.handleDragStop(Ht)}return}le.setState({lastX:Ge,lastY:ot})}}),X(Xe(le),"handleDragStop",function(Te){if(le.state.dragging){var Ve=(0,k.getControlPosition)(Te,le.state.touchIdentifier,Xe(le));if(Ve!=null){var Ge=Ve.x,ot=Ve.y;if(Array.isArray(le.props.grid)){var ht=Ge-le.state.lastX||0,bt=ot-le.state.lastY||0,Vt=(0,k.snapToGrid)(le.props.grid,ht,bt),Kt=xe(Vt,2);ht=Kt[0],bt=Kt[1],Ge=le.state.lastX+ht,ot=le.state.lastY+bt}var Tt=(0,k.createCoreData)(Xe(le),Ge,ot),Mt=le.props.onStop(Te,Tt);if(Mt===!1||le.mounted===!1)return!1;var Ht=le.findDOMNode();Ht&&le.props.enableUserSelectHack&&(0,T.removeUserSelectStyles)(Ht.ownerDocument),(0,j.default)("DraggableCore: handleDragStop: %j",Tt),le.setState({dragging:!1,lastX:NaN,lastY:NaN}),Ht&&((0,j.default)("DraggableCore: Removing handlers"),(0,T.removeEvent)(Ht.ownerDocument,ye.move,le.handleDrag),(0,T.removeEvent)(Ht.ownerDocument,ye.stop,le.handleDragStop))}}}),X(Xe(le),"onMouseDown",function(Te){return ye=be.mouse,le.handleDragStart(Te)}),X(Xe(le),"onMouseUp",function(Te){return ye=be.mouse,le.handleDragStop(Te)}),X(Xe(le),"onTouchStart",function(Te){return ye=be.touch,le.handleDragStart(Te)}),X(Xe(le),"onTouchEnd",function(Te){return ye=be.touch,le.handleDragStop(Te)}),le}return lt($e,[{key:"componentDidMount",value:function(){this.mounted=!0;var He=this.findDOMNode();He&&(0,T.addEvent)(He,be.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var He=this.findDOMNode();if(He){var rt=He.ownerDocument;(0,T.removeEvent)(rt,be.mouse.move,this.handleDrag),(0,T.removeEvent)(rt,be.touch.move,this.handleDrag),(0,T.removeEvent)(rt,be.mouse.stop,this.handleDragStop),(0,T.removeEvent)(rt,be.touch.stop,this.handleDragStop),(0,T.removeEvent)(He,be.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,T.removeUserSelectStyles)(rt)}}},{key:"findDOMNode",value:function(){var He,rt,ce;return(He=this.props)!==null&&He!==void 0&&He.nodeRef?(rt=this.props)===null||rt===void 0||(ce=rt.nodeRef)===null||ce===void 0?void 0:ce.current:y.default.findDOMNode(this)}},{key:"render",value:function(){return b.cloneElement(b.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),$e}(b.Component);et.default=Me,X(Me,"displayName","DraggableCore"),X(Me,"propTypes",{allowAnyClick:v.default.bool,disabled:v.default.bool,enableUserSelectHack:v.default.bool,offsetParent:function(Re,$e){if(Re[$e]&&Re[$e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:v.default.arrayOf(v.default.number),handle:v.default.string,cancel:v.default.string,nodeRef:v.default.object,onStart:v.default.func,onDrag:v.default.func,onStop:v.default.func,onMouseDown:v.default.func,scale:v.default.number,className:D.dontSetMe,style:D.dontSetMe,transform:D.dontSetMe}),X(Me,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},74901:function(qt,et,W){"use strict";var A=W(44929),b=A.default,v=A.DraggableCore;qt.exports=b,qt.exports.default=b,qt.exports.DraggableCore=v},3767:function(qt,et,W){"use strict";function A(X){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(be){return typeof be}:function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be},A(X)}Object.defineProperty(et,"__esModule",{value:!0}),et.addClassName=it,et.addEvent=xe,et.addUserSelectStyles=Ue,et.createCSSTransform=H,et.createSVGTransform=lt,et.getTouch=Nt,et.getTouchIdentifier=Dt,et.getTranslation=wt,et.innerHeight=Bt,et.innerWidth=at,et.matchesSelector=ne,et.matchesSelectorAndParentsTo=he,et.offsetXYFromParent=ut,et.outerHeight=Ke,et.outerWidth=We,et.removeClassName=Ft,et.removeEvent=B,et.removeUserSelectStyles=Xe;var b=W(89323),v=T(W(14642));function y(X){if(typeof WeakMap!="function")return null;var be=new WeakMap,ye=new WeakMap;return(y=function(_e){return _e?ye:be})(X)}function T(X,be){if(!be&&X&&X.__esModule)return X;if(X===null||A(X)!=="object"&&typeof X!="function")return{default:X};var ye=y(be);if(ye&&ye.has(X))return ye.get(X);var Me={},_e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Re in X)if(Re!=="default"&&Object.prototype.hasOwnProperty.call(X,Re)){var $e=_e?Object.getOwnPropertyDescriptor(X,Re):null;$e&&($e.get||$e.set)?Object.defineProperty(Me,Re,$e):Me[Re]=X[Re]}return Me.default=X,ye&&ye.set(X,Me),Me}function k(X,be){var ye=Object.keys(X);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(X);be&&(Me=Me.filter(function(_e){return Object.getOwnPropertyDescriptor(X,_e).enumerable})),ye.push.apply(ye,Me)}return ye}function D(X){for(var be=1;be<arguments.length;be++){var ye=arguments[be]!=null?arguments[be]:{};be%2?k(Object(ye),!0).forEach(function(Me){j(X,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(ye)):k(Object(ye)).forEach(function(Me){Object.defineProperty(X,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return X}function j(X,be,ye){return be in X?Object.defineProperty(X,be,{value:ye,enumerable:!0,configurable:!0,writable:!0}):X[be]=ye,X}var K="";function ne(X,be){return K||(K=(0,b.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(ye){return(0,b.isFunction)(X[ye])})),(0,b.isFunction)(X[K])?X[K](be):!1}function he(X,be,ye){var Me=X;do{if(ne(Me,be))return!0;if(Me===ye)return!1;Me=Me.parentNode}while(Me);return!1}function xe(X,be,ye,Me){if(X){var _e=D({capture:!0},Me);X.addEventListener?X.addEventListener(be,ye,_e):X.attachEvent?X.attachEvent("on"+be,ye):X["on"+be]=ye}}function B(X,be,ye,Me){if(X){var _e=D({capture:!0},Me);X.removeEventListener?X.removeEventListener(be,ye,_e):X.detachEvent?X.detachEvent("on"+be,ye):X["on"+be]=null}}function Ke(X){var be=X.clientHeight,ye=X.ownerDocument.defaultView.getComputedStyle(X);return be+=(0,b.int)(ye.borderTopWidth),be+=(0,b.int)(ye.borderBottomWidth),be}function We(X){var be=X.clientWidth,ye=X.ownerDocument.defaultView.getComputedStyle(X);return be+=(0,b.int)(ye.borderLeftWidth),be+=(0,b.int)(ye.borderRightWidth),be}function Bt(X){var be=X.clientHeight,ye=X.ownerDocument.defaultView.getComputedStyle(X);return be-=(0,b.int)(ye.paddingTop),be-=(0,b.int)(ye.paddingBottom),be}function at(X){var be=X.clientWidth,ye=X.ownerDocument.defaultView.getComputedStyle(X);return be-=(0,b.int)(ye.paddingLeft),be-=(0,b.int)(ye.paddingRight),be}function ut(X,be,ye){var Me=be===be.ownerDocument.body,_e=Me?{left:0,top:0}:be.getBoundingClientRect(),Re=(X.clientX+be.scrollLeft-_e.left)/ye,$e=(X.clientY+be.scrollTop-_e.top)/ye;return{x:Re,y:$e}}function H(X,be){var ye=wt(X,be,"px");return j({},(0,v.browserPrefixToKey)("transform",v.default),ye)}function lt(X,be){var ye=wt(X,be,"");return ye}function wt(X,be,ye){var Me=X.x,_e=X.y,Re="translate(".concat(Me).concat(ye,",").concat(_e).concat(ye,")");if(be){var $e="".concat(typeof be.x=="string"?be.x:be.x+ye),le="".concat(typeof be.y=="string"?be.y:be.y+ye);Re="translate(".concat($e,", ").concat(le,")")+Re}return Re}function Nt(X,be){return X.targetTouches&&(0,b.findInArray)(X.targetTouches,function(ye){return be===ye.identifier})||X.changedTouches&&(0,b.findInArray)(X.changedTouches,function(ye){return be===ye.identifier})}function Dt(X){if(X.targetTouches&&X.targetTouches[0])return X.targetTouches[0].identifier;if(X.changedTouches&&X.changedTouches[0])return X.changedTouches[0].identifier}function Ue(X){if(X){var be=X.getElementById("react-draggable-style-el");be||(be=X.createElement("style"),be.type="text/css",be.id="react-draggable-style-el",be.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,be.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,X.getElementsByTagName("head")[0].appendChild(be)),X.body&&it(X.body,"react-draggable-transparent-selection")}}function Xe(X){if(X)try{if(X.body&&Ft(X.body,"react-draggable-transparent-selection"),X.selection)X.selection.empty();else{var be=(X.defaultView||window).getSelection();be&&be.type!=="Caret"&&be.removeAllRanges()}}catch(ye){}}function it(X,be){X.classList?X.classList.add(be):X.className.match(new RegExp("(?:^|\\s)".concat(be,"(?!\\S)")))||(X.className+=" ".concat(be))}function Ft(X,be){X.classList?X.classList.remove(be):X.className=X.className.replace(new RegExp("(?:^|\\s)".concat(be,"(?!\\S)"),"g"),"")}},14642:function(qt,et){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.browserPrefixToKey=b,et.browserPrefixToStyle=v,et.default=void 0,et.getPrefix=A;var W=["Moz","Webkit","O","ms"];function A(){var k,D,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window=="undefined")return"";var K=(k=window.document)===null||k===void 0||(D=k.documentElement)===null||D===void 0?void 0:D.style;if(!K||j in K)return"";for(var ne=0;ne<W.length;ne++)if(b(j,W[ne])in K)return W[ne];return""}function b(k,D){return D?"".concat(D).concat(y(k)):k}function v(k,D){return D?"-".concat(D.toLowerCase(),"-").concat(k):k}function y(k){for(var D="",j=!0,K=0;K<k.length;K++)j?(D+=k[K].toUpperCase(),j=!1):k[K]==="-"?j=!0:D+=k[K];return D}var T=A();et.default=T},21261:function(qt,et){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.default=W;function W(){var A}},21476:function(qt,et,W){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.canDragX=T,et.canDragY=k,et.createCoreData=j,et.createDraggableData=K,et.getBoundPosition=v,et.getControlPosition=D,et.snapToGrid=y;var A=W(89323),b=W(3767);function v(xe,B,Ke){if(!xe.props.bounds)return[B,Ke];var We=xe.props.bounds;We=typeof We=="string"?We:ne(We);var Bt=he(xe);if(typeof We=="string"){var at=Bt.ownerDocument,ut=at.defaultView,H;if(We==="parent"?H=Bt.parentNode:H=at.querySelector(We),!(H instanceof ut.HTMLElement))throw new Error('Bounds selector "'+We+'" could not find an element.');var lt=H,wt=ut.getComputedStyle(Bt),Nt=ut.getComputedStyle(lt);We={left:-Bt.offsetLeft+(0,A.int)(Nt.paddingLeft)+(0,A.int)(wt.marginLeft),top:-Bt.offsetTop+(0,A.int)(Nt.paddingTop)+(0,A.int)(wt.marginTop),right:(0,b.innerWidth)(lt)-(0,b.outerWidth)(Bt)-Bt.offsetLeft+(0,A.int)(Nt.paddingRight)-(0,A.int)(wt.marginRight),bottom:(0,b.innerHeight)(lt)-(0,b.outerHeight)(Bt)-Bt.offsetTop+(0,A.int)(Nt.paddingBottom)-(0,A.int)(wt.marginBottom)}}return(0,A.isNum)(We.right)&&(B=Math.min(B,We.right)),(0,A.isNum)(We.bottom)&&(Ke=Math.min(Ke,We.bottom)),(0,A.isNum)(We.left)&&(B=Math.max(B,We.left)),(0,A.isNum)(We.top)&&(Ke=Math.max(Ke,We.top)),[B,Ke]}function y(xe,B,Ke){var We=Math.round(B/xe[0])*xe[0],Bt=Math.round(Ke/xe[1])*xe[1];return[We,Bt]}function T(xe){return xe.props.axis==="both"||xe.props.axis==="x"}function k(xe){return xe.props.axis==="both"||xe.props.axis==="y"}function D(xe,B,Ke){var We=typeof B=="number"?(0,b.getTouch)(xe,B):null;if(typeof B=="number"&&!We)return null;var Bt=he(Ke),at=Ke.props.offsetParent||Bt.offsetParent||Bt.ownerDocument.body;return(0,b.offsetXYFromParent)(We||xe,at,Ke.props.scale)}function j(xe,B,Ke){var We=xe.state,Bt=!(0,A.isNum)(We.lastX),at=he(xe);return Bt?{node:at,deltaX:0,deltaY:0,lastX:B,lastY:Ke,x:B,y:Ke}:{node:at,deltaX:B-We.lastX,deltaY:Ke-We.lastY,lastX:We.lastX,lastY:We.lastY,x:B,y:Ke}}function K(xe,B){var Ke=xe.props.scale;return{node:B.node,x:xe.state.x+B.deltaX/Ke,y:xe.state.y+B.deltaY/Ke,deltaX:B.deltaX/Ke,deltaY:B.deltaY/Ke,lastX:xe.state.x,lastY:xe.state.y}}function ne(xe){return{left:xe.left,top:xe.top,right:xe.right,bottom:xe.bottom}}function he(xe){var B=xe.findDOMNode();if(!B)throw new Error("<DraggableCore>: Unmounted during event!");return B}},89323:function(qt,et){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.dontSetMe=y,et.findInArray=W,et.int=v,et.isFunction=A,et.isNum=b;function W(T,k){for(var D=0,j=T.length;D<j;D++)if(k.apply(k,[T[D],D,T]))return T[D]}function A(T){return typeof T=="function"||Object.prototype.toString.call(T)==="[object Function]"}function b(T){return typeof T=="number"&&!isNaN(T)}function v(T){return parseInt(T,10)}function y(T,k,D){if(T[k])return new Error("Invalid prop ".concat(k," passed to ").concat(D," - do not set this, set it on the child."))}},58882:function(qt,et,W){(function(A,b){qt.exports=b(W(50959))})(this,function(A){return function(b){var v={};function y(T){if(v[T])return v[T].exports;var k=v[T]={i:T,l:!1,exports:{}};return b[T].call(k.exports,k,k.exports,y),k.l=!0,k.exports}return y.m=b,y.c=v,y.d=function(T,k,D){y.o(T,k)||Object.defineProperty(T,k,{enumerable:!0,get:D})},y.r=function(T){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(T,"__esModule",{value:!0})},y.t=function(T,k){if(1&k&&(T=y(T)),8&k||4&k&&typeof T=="object"&&T&&T.__esModule)return T;var D=Object.create(null);if(y.r(D),Object.defineProperty(D,"default",{enumerable:!0,value:T}),2&k&&typeof T!="string")for(var j in T)y.d(D,j,function(K){return T[K]}.bind(null,j));return D},y.n=function(T){var k=T&&T.__esModule?function(){return T.default}:function(){return T};return y.d(k,"a",k),k},y.o=function(T,k){return Object.prototype.hasOwnProperty.call(T,k)},y.p="",y(y.s=48)}([function(b,v){b.exports=A},function(b,v){var y=b.exports={version:"2.6.12"};typeof __e=="number"&&(__e=y)},function(b,v,y){var T=y(26)("wks"),k=y(17),D=y(3).Symbol,j=typeof D=="function";(b.exports=function(K){return T[K]||(T[K]=j&&D[K]||(j?D:k)("Symbol."+K))}).store=T},function(b,v){var y=b.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=y)},function(b,v,y){b.exports=!y(8)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(b,v){var y={}.hasOwnProperty;b.exports=function(T,k){return y.call(T,k)}},function(b,v,y){var T=y(7),k=y(16);b.exports=y(4)?function(D,j,K){return T.f(D,j,k(1,K))}:function(D,j,K){return D[j]=K,D}},function(b,v,y){var T=y(10),k=y(35),D=y(23),j=Object.defineProperty;v.f=y(4)?Object.defineProperty:function(K,ne,he){if(T(K),ne=D(ne,!0),T(he),k)try{return j(K,ne,he)}catch(xe){}if("get"in he||"set"in he)throw TypeError("Accessors not supported!");return"value"in he&&(K[ne]=he.value),K}},function(b,v){b.exports=function(y){try{return!!y()}catch(T){return!0}}},function(b,v,y){var T=y(40),k=y(22);b.exports=function(D){return T(k(D))}},function(b,v,y){var T=y(11);b.exports=function(k){if(!T(k))throw TypeError(k+" is not an object!");return k}},function(b,v){b.exports=function(y){return typeof y=="object"?y!==null:typeof y=="function"}},function(b,v){b.exports={}},function(b,v,y){var T=y(39),k=y(27);b.exports=Object.keys||function(D){return T(D,k)}},function(b,v){b.exports=!0},function(b,v,y){var T=y(3),k=y(1),D=y(53),j=y(6),K=y(5),ne=function(he,xe,B){var Ke,We,Bt,at=he&ne.F,ut=he&ne.G,H=he&ne.S,lt=he&ne.P,wt=he&ne.B,Nt=he&ne.W,Dt=ut?k:k[xe]||(k[xe]={}),Ue=Dt.prototype,Xe=ut?T:H?T[xe]:(T[xe]||{}).prototype;for(Ke in ut&&(B=xe),B)(We=!at&&Xe&&Xe[Ke]!==void 0)&&K(Dt,Ke)||(Bt=We?Xe[Ke]:B[Ke],Dt[Ke]=ut&&typeof Xe[Ke]!="function"?B[Ke]:wt&&We?D(Bt,T):Nt&&Xe[Ke]==Bt?function(it){var Ft=function(X,be,ye){if(this instanceof it){switch(arguments.length){case 0:return new it;case 1:return new it(X);case 2:return new it(X,be)}return new it(X,be,ye)}return it.apply(this,arguments)};return Ft.prototype=it.prototype,Ft}(Bt):lt&&typeof Bt=="function"?D(Function.call,Bt):Bt,lt&&((Dt.virtual||(Dt.virtual={}))[Ke]=Bt,he&ne.R&&Ue&&!Ue[Ke]&&j(Ue,Ke,Bt)))};ne.F=1,ne.G=2,ne.S=4,ne.P=8,ne.B=16,ne.W=32,ne.U=64,ne.R=128,b.exports=ne},function(b,v){b.exports=function(y,T){return{enumerable:!(1&y),configurable:!(2&y),writable:!(4&y),value:T}}},function(b,v){var y=0,T=Math.random();b.exports=function(k){return"Symbol(".concat(k===void 0?"":k,")_",(++y+T).toString(36))}},function(b,v,y){var T=y(22);b.exports=function(k){return Object(T(k))}},function(b,v){v.f={}.propertyIsEnumerable},function(b,v,y){"use strict";var T=y(52)(!0);y(34)(String,"String",function(k){this._t=String(k),this._i=0},function(){var k,D=this._t,j=this._i;return j>=D.length?{value:void 0,done:!0}:(k=T(D,j),this._i+=k.length,{value:k,done:!1})})},function(b,v){var y=Math.ceil,T=Math.floor;b.exports=function(k){return isNaN(k=+k)?0:(k>0?T:y)(k)}},function(b,v){b.exports=function(y){if(y==null)throw TypeError("Can't call method on  "+y);return y}},function(b,v,y){var T=y(11);b.exports=function(k,D){if(!T(k))return k;var j,K;if(D&&typeof(j=k.toString)=="function"&&!T(K=j.call(k))||typeof(j=k.valueOf)=="function"&&!T(K=j.call(k))||!D&&typeof(j=k.toString)=="function"&&!T(K=j.call(k)))return K;throw TypeError("Can't convert object to primitive value")}},function(b,v){var y={}.toString;b.exports=function(T){return y.call(T).slice(8,-1)}},function(b,v,y){var T=y(26)("keys"),k=y(17);b.exports=function(D){return T[D]||(T[D]=k(D))}},function(b,v,y){var T=y(1),k=y(3),D=k["__core-js_shared__"]||(k["__core-js_shared__"]={});(b.exports=function(j,K){return D[j]||(D[j]=K!==void 0?K:{})})("versions",[]).push({version:T.version,mode:y(14)?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},function(b,v){b.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(b,v,y){var T=y(7).f,k=y(5),D=y(2)("toStringTag");b.exports=function(j,K,ne){j&&!k(j=ne?j:j.prototype,D)&&T(j,D,{configurable:!0,value:K})}},function(b,v,y){y(62);for(var T=y(3),k=y(6),D=y(12),j=y(2)("toStringTag"),K="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),ne=0;ne<K.length;ne++){var he=K[ne],xe=T[he],B=xe&&xe.prototype;B&&!B[j]&&k(B,j,he),D[he]=D.Array}},function(b,v,y){v.f=y(2)},function(b,v,y){var T=y(3),k=y(1),D=y(14),j=y(30),K=y(7).f;b.exports=function(ne){var he=k.Symbol||(k.Symbol=D?{}:T.Symbol||{});ne.charAt(0)=="_"||ne in he||K(he,ne,{value:j.f(ne)})}},function(b,v){v.f=Object.getOwnPropertySymbols},function(b,v){b.exports=function(y,T,k){return Math.min(Math.max(y,T),k)}},function(b,v,y){"use strict";var T=y(14),k=y(15),D=y(37),j=y(6),K=y(12),ne=y(55),he=y(28),xe=y(61),B=y(2)("iterator"),Ke=!([].keys&&"next"in[].keys()),We=function(){return this};b.exports=function(Bt,at,ut,H,lt,wt,Nt){ne(ut,at,H);var Dt,Ue,Xe,it=function(le){if(!Ke&&le in ye)return ye[le];switch(le){case"keys":case"values":return function(){return new ut(this,le)}}return function(){return new ut(this,le)}},Ft=at+" Iterator",X=lt=="values",be=!1,ye=Bt.prototype,Me=ye[B]||ye["@@iterator"]||lt&&ye[lt],_e=Me||it(lt),Re=lt?X?it("entries"):_e:void 0,$e=at=="Array"&&ye.entries||Me;if($e&&(Xe=xe($e.call(new Bt)))!==Object.prototype&&Xe.next&&(he(Xe,Ft,!0),T||typeof Xe[B]=="function"||j(Xe,B,We)),X&&Me&&Me.name!=="values"&&(be=!0,_e=function(){return Me.call(this)}),T&&!Nt||!Ke&&!be&&ye[B]||j(ye,B,_e),K[at]=_e,K[Ft]=We,lt)if(Dt={values:X?_e:it("values"),keys:wt?_e:it("keys"),entries:Re},Nt)for(Ue in Dt)Ue in ye||D(ye,Ue,Dt[Ue]);else k(k.P+k.F*(Ke||be),at,Dt);return Dt}},function(b,v,y){b.exports=!y(4)&&!y(8)(function(){return Object.defineProperty(y(36)("div"),"a",{get:function(){return 7}}).a!=7})},function(b,v,y){var T=y(11),k=y(3).document,D=T(k)&&T(k.createElement);b.exports=function(j){return D?k.createElement(j):{}}},function(b,v,y){b.exports=y(6)},function(b,v,y){var T=y(10),k=y(56),D=y(27),j=y(25)("IE_PROTO"),K=function(){},ne=function(){var he,xe=y(36)("iframe"),B=D.length;for(xe.style.display="none",y(60).appendChild(xe),xe.src="javascript:",(he=xe.contentWindow.document).open(),he.write("<script>document.F=Object<\/script>"),he.close(),ne=he.F;B--;)delete ne.prototype[D[B]];return ne()};b.exports=Object.create||function(he,xe){var B;return he!==null?(K.prototype=T(he),B=new K,K.prototype=null,B[j]=he):B=ne(),xe===void 0?B:k(B,xe)}},function(b,v,y){var T=y(5),k=y(9),D=y(57)(!1),j=y(25)("IE_PROTO");b.exports=function(K,ne){var he,xe=k(K),B=0,Ke=[];for(he in xe)he!=j&&T(xe,he)&&Ke.push(he);for(;ne.length>B;)T(xe,he=ne[B++])&&(~D(Ke,he)||Ke.push(he));return Ke}},function(b,v,y){var T=y(24);b.exports=Object("z").propertyIsEnumerable(0)?Object:function(k){return T(k)=="String"?k.split(""):Object(k)}},function(b,v,y){var T=y(39),k=y(27).concat("length","prototype");v.f=Object.getOwnPropertyNames||function(D){return T(D,k)}},function(b,v,y){var T=y(24),k=y(2)("toStringTag"),D=T(function(){return arguments}())=="Arguments";b.exports=function(j){var K,ne,he;return j===void 0?"Undefined":j===null?"Null":typeof(ne=function(xe,B){try{return xe[B]}catch(Ke){}}(K=Object(j),k))=="string"?ne:D?T(K):(he=T(K))=="Object"&&typeof K.callee=="function"?"Arguments":he}},function(b,v){var y;y=function(){return this}();try{y=y||new Function("return this")()}catch(T){typeof window=="object"&&(y=window)}b.exports=y},function(b,v){var y=/-?\d+(\.\d+)?%?/g;b.exports=function(T){return T.match(y)}},function(b,v,y){"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.getBase16Theme=v.createStyling=v.invertTheme=void 0;var T=We(y(49)),k=We(y(76)),D=We(y(81)),j=We(y(89)),K=We(y(93)),ne=function(Ue){if(Ue&&Ue.__esModule)return Ue;var Xe={};if(Ue!=null)for(var it in Ue)Object.prototype.hasOwnProperty.call(Ue,it)&&(Xe[it]=Ue[it]);return Xe.default=Ue,Xe}(y(94)),he=We(y(132)),xe=We(y(133)),B=We(y(138)),Ke=y(139);function We(Ue){return Ue&&Ue.__esModule?Ue:{default:Ue}}var Bt=ne.default,at=(0,j.default)(Bt),ut=(0,B.default)(xe.default,Ke.rgb2yuv,function(Ue){var Xe,it=(0,D.default)(Ue,3),Ft=it[0],X=it[1],be=it[2];return[(Xe=Ft,Xe<.25?1:Xe<.5?.9-Xe:1.1-Xe),X,be]},Ke.yuv2rgb,he.default),H=function(Ue){return function(Xe){return{className:[Xe.className,Ue.className].filter(Boolean).join(" "),style:(0,k.default)({},Xe.style||{},Ue.style||{})}}},lt=function(Ue,Xe){var it=(0,j.default)(Xe);for(var Ft in Ue)it.indexOf(Ft)===-1&&it.push(Ft);return it.reduce(function(X,be){return X[be]=function(ye,Me){if(ye===void 0)return Me;if(Me===void 0)return ye;var _e=ye===void 0?"undefined":(0,T.default)(ye),Re=Me===void 0?"undefined":(0,T.default)(Me);switch(_e){case"string":switch(Re){case"string":return[Me,ye].filter(Boolean).join(" ");case"object":return H({className:ye,style:Me});case"function":return function($e){for(var le=arguments.length,He=Array(le>1?le-1:0),rt=1;rt<le;rt++)He[rt-1]=arguments[rt];return H({className:ye})(Me.apply(void 0,[$e].concat(He)))}}case"object":switch(Re){case"string":return H({className:Me,style:ye});case"object":return(0,k.default)({},Me,ye);case"function":return function($e){for(var le=arguments.length,He=Array(le>1?le-1:0),rt=1;rt<le;rt++)He[rt-1]=arguments[rt];return H({style:ye})(Me.apply(void 0,[$e].concat(He)))}}case"function":switch(Re){case"string":return function($e){for(var le=arguments.length,He=Array(le>1?le-1:0),rt=1;rt<le;rt++)He[rt-1]=arguments[rt];return ye.apply(void 0,[H($e)({className:Me})].concat(He))};case"object":return function($e){for(var le=arguments.length,He=Array(le>1?le-1:0),rt=1;rt<le;rt++)He[rt-1]=arguments[rt];return ye.apply(void 0,[H($e)({style:Me})].concat(He))};case"function":return function($e){for(var le=arguments.length,He=Array(le>1?le-1:0),rt=1;rt<le;rt++)He[rt-1]=arguments[rt];return ye.apply(void 0,[Me.apply(void 0,[$e].concat(He))].concat(He))}}}}(Ue[be],Xe[be]),X},{})},wt=function(Ue,Xe){for(var it=arguments.length,Ft=Array(it>2?it-2:0),X=2;X<it;X++)Ft[X-2]=arguments[X];if(Xe===null)return Ue;Array.isArray(Xe)||(Xe=[Xe]);var be=Xe.map(function(Me){return Ue[Me]}).filter(Boolean),ye=be.reduce(function(Me,_e){return typeof _e=="string"?Me.className=[Me.className,_e].filter(Boolean).join(" "):(_e===void 0?"undefined":(0,T.default)(_e))==="object"?Me.style=(0,k.default)({},Me.style,_e):typeof _e=="function"&&(Me=(0,k.default)({},Me,_e.apply(void 0,[Me].concat(Ft)))),Me},{className:"",style:{}});return ye.className||delete ye.className,(0,j.default)(ye.style).length===0&&delete ye.style,ye},Nt=v.invertTheme=function(Ue){return(0,j.default)(Ue).reduce(function(Xe,it){return Xe[it]=/^base/.test(it)?ut(Ue[it]):it==="scheme"?Ue[it]+":inverted":Ue[it],Xe},{})},Dt=(v.createStyling=(0,K.default)(function(Ue){for(var Xe=arguments.length,it=Array(Xe>3?Xe-3:0),Ft=3;Ft<Xe;Ft++)it[Ft-3]=arguments[Ft];var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ye=X.defaultBase16,Me=ye===void 0?Bt:ye,_e=X.base16Themes,Re=_e===void 0?null:_e,$e=Dt(be,Re);$e&&(be=(0,k.default)({},$e,be));var le=at.reduce(function(Te,Ve){return Te[Ve]=be[Ve]||Me[Ve],Te},{}),He=(0,j.default)(be).reduce(function(Te,Ve){return at.indexOf(Ve)===-1&&(Te[Ve]=be[Ve]),Te},{}),rt=Ue(le),ce=lt(He,rt);return(0,K.default)(wt,2).apply(void 0,[ce].concat(it))},3),v.getBase16Theme=function(Ue,Xe){if(Ue&&Ue.extend&&(Ue=Ue.extend),typeof Ue=="string"){var it=Ue.split(":"),Ft=(0,D.default)(it,2),X=Ft[0],be=Ft[1];Ue=(Xe||{})[X]||ne[X],be==="inverted"&&(Ue=Nt(Ue))}return Ue&&Ue.hasOwnProperty("base00")?Ue:void 0})},function(b,v,y){"use strict";var T,k=typeof Reflect=="object"?Reflect:null,D=k&&typeof k.apply=="function"?k.apply:function(H,lt,wt){return Function.prototype.apply.call(H,lt,wt)};T=k&&typeof k.ownKeys=="function"?k.ownKeys:Object.getOwnPropertySymbols?function(H){return Object.getOwnPropertyNames(H).concat(Object.getOwnPropertySymbols(H))}:function(H){return Object.getOwnPropertyNames(H)};var j=Number.isNaN||function(H){return H!=H};function K(){K.init.call(this)}b.exports=K,b.exports.once=function(H,lt){return new Promise(function(wt,Nt){function Dt(){Ue!==void 0&&H.removeListener("error",Ue),wt([].slice.call(arguments))}var Ue;lt!=="error"&&(Ue=function(Xe){H.removeListener(lt,Dt),Nt(Xe)},H.once("error",Ue)),H.once(lt,Dt)})},K.EventEmitter=K,K.prototype._events=void 0,K.prototype._eventsCount=0,K.prototype._maxListeners=void 0;var ne=10;function he(H){if(typeof H!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof H)}function xe(H){return H._maxListeners===void 0?K.defaultMaxListeners:H._maxListeners}function B(H,lt,wt,Nt){var Dt,Ue,Xe,it;if(he(wt),(Ue=H._events)===void 0?(Ue=H._events=Object.create(null),H._eventsCount=0):(Ue.newListener!==void 0&&(H.emit("newListener",lt,wt.listener?wt.listener:wt),Ue=H._events),Xe=Ue[lt]),Xe===void 0)Xe=Ue[lt]=wt,++H._eventsCount;else if(typeof Xe=="function"?Xe=Ue[lt]=Nt?[wt,Xe]:[Xe,wt]:Nt?Xe.unshift(wt):Xe.push(wt),(Dt=xe(H))>0&&Xe.length>Dt&&!Xe.warned){Xe.warned=!0;var Ft=new Error("Possible EventEmitter memory leak detected. "+Xe.length+" "+String(lt)+" listeners added. Use emitter.setMaxListeners() to increase limit");Ft.name="MaxListenersExceededWarning",Ft.emitter=H,Ft.type=lt,Ft.count=Xe.length,it=Ft,console&&console.warn&&console.warn(it)}return H}function Ke(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function We(H,lt,wt){var Nt={fired:!1,wrapFn:void 0,target:H,type:lt,listener:wt},Dt=Ke.bind(Nt);return Dt.listener=wt,Nt.wrapFn=Dt,Dt}function Bt(H,lt,wt){var Nt=H._events;if(Nt===void 0)return[];var Dt=Nt[lt];return Dt===void 0?[]:typeof Dt=="function"?wt?[Dt.listener||Dt]:[Dt]:wt?function(Ue){for(var Xe=new Array(Ue.length),it=0;it<Xe.length;++it)Xe[it]=Ue[it].listener||Ue[it];return Xe}(Dt):ut(Dt,Dt.length)}function at(H){var lt=this._events;if(lt!==void 0){var wt=lt[H];if(typeof wt=="function")return 1;if(wt!==void 0)return wt.length}return 0}function ut(H,lt){for(var wt=new Array(lt),Nt=0;Nt<lt;++Nt)wt[Nt]=H[Nt];return wt}Object.defineProperty(K,"defaultMaxListeners",{enumerable:!0,get:function(){return ne},set:function(H){if(typeof H!="number"||H<0||j(H))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+H+".");ne=H}}),K.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},K.prototype.setMaxListeners=function(H){if(typeof H!="number"||H<0||j(H))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+H+".");return this._maxListeners=H,this},K.prototype.getMaxListeners=function(){return xe(this)},K.prototype.emit=function(H){for(var lt=[],wt=1;wt<arguments.length;wt++)lt.push(arguments[wt]);var Nt=H==="error",Dt=this._events;if(Dt!==void 0)Nt=Nt&&Dt.error===void 0;else if(!Nt)return!1;if(Nt){var Ue;if(lt.length>0&&(Ue=lt[0]),Ue instanceof Error)throw Ue;var Xe=new Error("Unhandled error."+(Ue?" ("+Ue.message+")":""));throw Xe.context=Ue,Xe}var it=Dt[H];if(it===void 0)return!1;if(typeof it=="function")D(it,this,lt);else{var Ft=it.length,X=ut(it,Ft);for(wt=0;wt<Ft;++wt)D(X[wt],this,lt)}return!0},K.prototype.addListener=function(H,lt){return B(this,H,lt,!1)},K.prototype.on=K.prototype.addListener,K.prototype.prependListener=function(H,lt){return B(this,H,lt,!0)},K.prototype.once=function(H,lt){return he(lt),this.on(H,We(this,H,lt)),this},K.prototype.prependOnceListener=function(H,lt){return he(lt),this.prependListener(H,We(this,H,lt)),this},K.prototype.removeListener=function(H,lt){var wt,Nt,Dt,Ue,Xe;if(he(lt),(Nt=this._events)===void 0)return this;if((wt=Nt[H])===void 0)return this;if(wt===lt||wt.listener===lt)--this._eventsCount==0?this._events=Object.create(null):(delete Nt[H],Nt.removeListener&&this.emit("removeListener",H,wt.listener||lt));else if(typeof wt!="function"){for(Dt=-1,Ue=wt.length-1;Ue>=0;Ue--)if(wt[Ue]===lt||wt[Ue].listener===lt){Xe=wt[Ue].listener,Dt=Ue;break}if(Dt<0)return this;Dt===0?wt.shift():function(it,Ft){for(;Ft+1<it.length;Ft++)it[Ft]=it[Ft+1];it.pop()}(wt,Dt),wt.length===1&&(Nt[H]=wt[0]),Nt.removeListener!==void 0&&this.emit("removeListener",H,Xe||lt)}return this},K.prototype.off=K.prototype.removeListener,K.prototype.removeAllListeners=function(H){var lt,wt,Nt;if((wt=this._events)===void 0)return this;if(wt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):wt[H]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete wt[H]),this;if(arguments.length===0){var Dt,Ue=Object.keys(wt);for(Nt=0;Nt<Ue.length;++Nt)(Dt=Ue[Nt])!=="removeListener"&&this.removeAllListeners(Dt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(lt=wt[H])=="function")this.removeListener(H,lt);else if(lt!==void 0)for(Nt=lt.length-1;Nt>=0;Nt--)this.removeListener(H,lt[Nt]);return this},K.prototype.listeners=function(H){return Bt(this,H,!0)},K.prototype.rawListeners=function(H){return Bt(this,H,!1)},K.listenerCount=function(H,lt){return typeof H.listenerCount=="function"?H.listenerCount(lt):at.call(H,lt)},K.prototype.listenerCount=at,K.prototype.eventNames=function(){return this._eventsCount>0?T(this._events):[]}},function(b,v,y){b.exports.Dispatcher=y(140)},function(b,v,y){b.exports=y(142)},function(b,v,y){"use strict";v.__esModule=!0;var T=j(y(50)),k=j(y(65)),D=typeof k.default=="function"&&typeof T.default=="symbol"?function(K){return typeof K}:function(K){return K&&typeof k.default=="function"&&K.constructor===k.default&&K!==k.default.prototype?"symbol":typeof K};function j(K){return K&&K.__esModule?K:{default:K}}v.default=typeof k.default=="function"&&D(T.default)==="symbol"?function(K){return K===void 0?"undefined":D(K)}:function(K){return K&&typeof k.default=="function"&&K.constructor===k.default&&K!==k.default.prototype?"symbol":K===void 0?"undefined":D(K)}},function(b,v,y){b.exports={default:y(51),__esModule:!0}},function(b,v,y){y(20),y(29),b.exports=y(30).f("iterator")},function(b,v,y){var T=y(21),k=y(22);b.exports=function(D){return function(j,K){var ne,he,xe=String(k(j)),B=T(K),Ke=xe.length;return B<0||B>=Ke?D?"":void 0:(ne=xe.charCodeAt(B))<55296||ne>56319||B+1===Ke||(he=xe.charCodeAt(B+1))<56320||he>57343?D?xe.charAt(B):ne:D?xe.slice(B,B+2):he-56320+(ne-55296<<10)+65536}}},function(b,v,y){var T=y(54);b.exports=function(k,D,j){if(T(k),D===void 0)return k;switch(j){case 1:return function(K){return k.call(D,K)};case 2:return function(K,ne){return k.call(D,K,ne)};case 3:return function(K,ne,he){return k.call(D,K,ne,he)}}return function(){return k.apply(D,arguments)}}},function(b,v){b.exports=function(y){if(typeof y!="function")throw TypeError(y+" is not a function!");return y}},function(b,v,y){"use strict";var T=y(38),k=y(16),D=y(28),j={};y(6)(j,y(2)("iterator"),function(){return this}),b.exports=function(K,ne,he){K.prototype=T(j,{next:k(1,he)}),D(K,ne+" Iterator")}},function(b,v,y){var T=y(7),k=y(10),D=y(13);b.exports=y(4)?Object.defineProperties:function(j,K){k(j);for(var ne,he=D(K),xe=he.length,B=0;xe>B;)T.f(j,ne=he[B++],K[ne]);return j}},function(b,v,y){var T=y(9),k=y(58),D=y(59);b.exports=function(j){return function(K,ne,he){var xe,B=T(K),Ke=k(B.length),We=D(he,Ke);if(j&&ne!=ne){for(;Ke>We;)if((xe=B[We++])!=xe)return!0}else for(;Ke>We;We++)if((j||We in B)&&B[We]===ne)return j||We||0;return!j&&-1}}},function(b,v,y){var T=y(21),k=Math.min;b.exports=function(D){return D>0?k(T(D),9007199254740991):0}},function(b,v,y){var T=y(21),k=Math.max,D=Math.min;b.exports=function(j,K){return(j=T(j))<0?k(j+K,0):D(j,K)}},function(b,v,y){var T=y(3).document;b.exports=T&&T.documentElement},function(b,v,y){var T=y(5),k=y(18),D=y(25)("IE_PROTO"),j=Object.prototype;b.exports=Object.getPrototypeOf||function(K){return K=k(K),T(K,D)?K[D]:typeof K.constructor=="function"&&K instanceof K.constructor?K.constructor.prototype:K instanceof Object?j:null}},function(b,v,y){"use strict";var T=y(63),k=y(64),D=y(12),j=y(9);b.exports=y(34)(Array,"Array",function(K,ne){this._t=j(K),this._i=0,this._k=ne},function(){var K=this._t,ne=this._k,he=this._i++;return!K||he>=K.length?(this._t=void 0,k(1)):k(0,ne=="keys"?he:ne=="values"?K[he]:[he,K[he]])},"values"),D.Arguments=D.Array,T("keys"),T("values"),T("entries")},function(b,v){b.exports=function(){}},function(b,v){b.exports=function(y,T){return{value:T,done:!!y}}},function(b,v,y){b.exports={default:y(66),__esModule:!0}},function(b,v,y){y(67),y(73),y(74),y(75),b.exports=y(1).Symbol},function(b,v,y){"use strict";var T=y(3),k=y(5),D=y(4),j=y(15),K=y(37),ne=y(68).KEY,he=y(8),xe=y(26),B=y(28),Ke=y(17),We=y(2),Bt=y(30),at=y(31),ut=y(69),H=y(70),lt=y(10),wt=y(11),Nt=y(18),Dt=y(9),Ue=y(23),Xe=y(16),it=y(38),Ft=y(71),X=y(72),be=y(32),ye=y(7),Me=y(13),_e=X.f,Re=ye.f,$e=Ft.f,le=T.Symbol,He=T.JSON,rt=He&&He.stringify,ce=We("_hidden"),Te=We("toPrimitive"),Ve={}.propertyIsEnumerable,Ge=xe("symbol-registry"),ot=xe("symbols"),ht=xe("op-symbols"),bt=Object.prototype,Vt=typeof le=="function"&&!!be.f,Kt=T.QObject,Tt=!Kt||!Kt.prototype||!Kt.prototype.findChild,Mt=D&&he(function(){return it(Re({},"a",{get:function(){return Re(this,"a",{value:7}).a}})).a!=7})?function(fe,me,ke){var Ie=_e(bt,me);Ie&&delete bt[me],Re(fe,me,ke),Ie&&fe!==bt&&Re(bt,me,Ie)}:Re,Ht=function(fe){var me=ot[fe]=it(le.prototype);return me._k=fe,me},St=Vt&&typeof le.iterator=="symbol"?function(fe){return typeof fe=="symbol"}:function(fe){return fe instanceof le},Qe=function(fe,me,ke){return fe===bt&&Qe(ht,me,ke),lt(fe),me=Ue(me,!0),lt(ke),k(ot,me)?(ke.enumerable?(k(fe,ce)&&fe[ce][me]&&(fe[ce][me]=!1),ke=it(ke,{enumerable:Xe(0,!1)})):(k(fe,ce)||Re(fe,ce,Xe(1,{})),fe[ce][me]=!0),Mt(fe,me,ke)):Re(fe,me,ke)},Et=function(fe,me){lt(fe);for(var ke,Ie=ut(me=Dt(me)),At=0,Jt=Ie.length;Jt>At;)Qe(fe,ke=Ie[At++],me[ke]);return fe},tn=function(fe){var me=Ve.call(this,fe=Ue(fe,!0));return!(this===bt&&k(ot,fe)&&!k(ht,fe))&&(!(me||!k(this,fe)||!k(ot,fe)||k(this,ce)&&this[ce][fe])||me)},un=function(fe,me){if(fe=Dt(fe),me=Ue(me,!0),fe!==bt||!k(ot,me)||k(ht,me)){var ke=_e(fe,me);return!ke||!k(ot,me)||k(fe,ce)&&fe[ce][me]||(ke.enumerable=!0),ke}},nn=function(fe){for(var me,ke=$e(Dt(fe)),Ie=[],At=0;ke.length>At;)k(ot,me=ke[At++])||me==ce||me==ne||Ie.push(me);return Ie},pn=function(fe){for(var me,ke=fe===bt,Ie=$e(ke?ht:Dt(fe)),At=[],Jt=0;Ie.length>Jt;)!k(ot,me=Ie[Jt++])||ke&&!k(bt,me)||At.push(ot[me]);return At};Vt||(K((le=function(){if(this instanceof le)throw TypeError("Symbol is not a constructor!");var fe=Ke(arguments.length>0?arguments[0]:void 0),me=function(ke){this===bt&&me.call(ht,ke),k(this,ce)&&k(this[ce],fe)&&(this[ce][fe]=!1),Mt(this,fe,Xe(1,ke))};return D&&Tt&&Mt(bt,fe,{configurable:!0,set:me}),Ht(fe)}).prototype,"toString",function(){return this._k}),X.f=un,ye.f=Qe,y(41).f=Ft.f=nn,y(19).f=tn,be.f=pn,D&&!y(14)&&K(bt,"propertyIsEnumerable",tn,!0),Bt.f=function(fe){return Ht(We(fe))}),j(j.G+j.W+j.F*!Vt,{Symbol:le});for(var Rt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),jt=0;Rt.length>jt;)We(Rt[jt++]);for(var hn=Me(We.store),tt=0;hn.length>tt;)at(hn[tt++]);j(j.S+j.F*!Vt,"Symbol",{for:function(fe){return k(Ge,fe+="")?Ge[fe]:Ge[fe]=le(fe)},keyFor:function(fe){if(!St(fe))throw TypeError(fe+" is not a symbol!");for(var me in Ge)if(Ge[me]===fe)return me},useSetter:function(){Tt=!0},useSimple:function(){Tt=!1}}),j(j.S+j.F*!Vt,"Object",{create:function(fe,me){return me===void 0?it(fe):Et(it(fe),me)},defineProperty:Qe,defineProperties:Et,getOwnPropertyDescriptor:un,getOwnPropertyNames:nn,getOwnPropertySymbols:pn});var ie=he(function(){be.f(1)});j(j.S+j.F*ie,"Object",{getOwnPropertySymbols:function(fe){return be.f(Nt(fe))}}),He&&j(j.S+j.F*(!Vt||he(function(){var fe=le();return rt([fe])!="[null]"||rt({a:fe})!="{}"||rt(Object(fe))!="{}"})),"JSON",{stringify:function(fe){for(var me,ke,Ie=[fe],At=1;arguments.length>At;)Ie.push(arguments[At++]);if(ke=me=Ie[1],(wt(me)||fe!==void 0)&&!St(fe))return H(me)||(me=function(Jt,Vn){if(typeof ke=="function"&&(Vn=ke.call(this,Jt,Vn)),!St(Vn))return Vn}),Ie[1]=me,rt.apply(He,Ie)}}),le.prototype[Te]||y(6)(le.prototype,Te,le.prototype.valueOf),B(le,"Symbol"),B(Math,"Math",!0),B(T.JSON,"JSON",!0)},function(b,v,y){var T=y(17)("meta"),k=y(11),D=y(5),j=y(7).f,K=0,ne=Object.isExtensible||function(){return!0},he=!y(8)(function(){return ne(Object.preventExtensions({}))}),xe=function(Ke){j(Ke,T,{value:{i:"O"+ ++K,w:{}}})},B=b.exports={KEY:T,NEED:!1,fastKey:function(Ke,We){if(!k(Ke))return typeof Ke=="symbol"?Ke:(typeof Ke=="string"?"S":"P")+Ke;if(!D(Ke,T)){if(!ne(Ke))return"F";if(!We)return"E";xe(Ke)}return Ke[T].i},getWeak:function(Ke,We){if(!D(Ke,T)){if(!ne(Ke))return!0;if(!We)return!1;xe(Ke)}return Ke[T].w},onFreeze:function(Ke){return he&&B.NEED&&ne(Ke)&&!D(Ke,T)&&xe(Ke),Ke}}},function(b,v,y){var T=y(13),k=y(32),D=y(19);b.exports=function(j){var K=T(j),ne=k.f;if(ne)for(var he,xe=ne(j),B=D.f,Ke=0;xe.length>Ke;)B.call(j,he=xe[Ke++])&&K.push(he);return K}},function(b,v,y){var T=y(24);b.exports=Array.isArray||function(k){return T(k)=="Array"}},function(b,v,y){var T=y(9),k=y(41).f,D={}.toString,j=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];b.exports.f=function(K){return j&&D.call(K)=="[object Window]"?function(ne){try{return k(ne)}catch(he){return j.slice()}}(K):k(T(K))}},function(b,v,y){var T=y(19),k=y(16),D=y(9),j=y(23),K=y(5),ne=y(35),he=Object.getOwnPropertyDescriptor;v.f=y(4)?he:function(xe,B){if(xe=D(xe),B=j(B,!0),ne)try{return he(xe,B)}catch(Ke){}if(K(xe,B))return k(!T.f.call(xe,B),xe[B])}},function(b,v){},function(b,v,y){y(31)("asyncIterator")},function(b,v,y){y(31)("observable")},function(b,v,y){"use strict";v.__esModule=!0;var T,k=y(77),D=(T=k)&&T.__esModule?T:{default:T};v.default=D.default||function(j){for(var K=1;K<arguments.length;K++){var ne=arguments[K];for(var he in ne)Object.prototype.hasOwnProperty.call(ne,he)&&(j[he]=ne[he])}return j}},function(b,v,y){b.exports={default:y(78),__esModule:!0}},function(b,v,y){y(79),b.exports=y(1).Object.assign},function(b,v,y){var T=y(15);T(T.S+T.F,"Object",{assign:y(80)})},function(b,v,y){"use strict";var T=y(4),k=y(13),D=y(32),j=y(19),K=y(18),ne=y(40),he=Object.assign;b.exports=!he||y(8)(function(){var xe={},B={},Ke=Symbol(),We="abcdefghijklmnopqrst";return xe[Ke]=7,We.split("").forEach(function(Bt){B[Bt]=Bt}),he({},xe)[Ke]!=7||Object.keys(he({},B)).join("")!=We})?function(xe,B){for(var Ke=K(xe),We=arguments.length,Bt=1,at=D.f,ut=j.f;We>Bt;)for(var H,lt=ne(arguments[Bt++]),wt=at?k(lt).concat(at(lt)):k(lt),Nt=wt.length,Dt=0;Nt>Dt;)H=wt[Dt++],T&&!ut.call(lt,H)||(Ke[H]=lt[H]);return Ke}:he},function(b,v,y){"use strict";v.__esModule=!0;var T=D(y(82)),k=D(y(85));function D(j){return j&&j.__esModule?j:{default:j}}v.default=function(j,K){if(Array.isArray(j))return j;if((0,T.default)(Object(j)))return function(ne,he){var xe=[],B=!0,Ke=!1,We=void 0;try{for(var Bt,at=(0,k.default)(ne);!(B=(Bt=at.next()).done)&&(xe.push(Bt.value),!he||xe.length!==he);B=!0);}catch(ut){Ke=!0,We=ut}finally{try{!B&&at.return&&at.return()}finally{if(Ke)throw We}}return xe}(j,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(b,v,y){b.exports={default:y(83),__esModule:!0}},function(b,v,y){y(29),y(20),b.exports=y(84)},function(b,v,y){var T=y(42),k=y(2)("iterator"),D=y(12);b.exports=y(1).isIterable=function(j){var K=Object(j);return K[k]!==void 0||"@@iterator"in K||D.hasOwnProperty(T(K))}},function(b,v,y){b.exports={default:y(86),__esModule:!0}},function(b,v,y){y(29),y(20),b.exports=y(87)},function(b,v,y){var T=y(10),k=y(88);b.exports=y(1).getIterator=function(D){var j=k(D);if(typeof j!="function")throw TypeError(D+" is not iterable!");return T(j.call(D))}},function(b,v,y){var T=y(42),k=y(2)("iterator"),D=y(12);b.exports=y(1).getIteratorMethod=function(j){if(j!=null)return j[k]||j["@@iterator"]||D[T(j)]}},function(b,v,y){b.exports={default:y(90),__esModule:!0}},function(b,v,y){y(91),b.exports=y(1).Object.keys},function(b,v,y){var T=y(18),k=y(13);y(92)("keys",function(){return function(D){return k(T(D))}})},function(b,v,y){var T=y(15),k=y(1),D=y(8);b.exports=function(j,K){var ne=(k.Object||{})[j]||Object[j],he={};he[j]=K(ne),T(T.S+T.F*D(function(){ne(1)}),"Object",he)}},function(b,v,y){(function(T){var k=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],D=/^\s+|\s+$/g,j=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,K=/\{\n\/\* \[wrapped with (.+)\] \*/,ne=/,? & /,he=/^[-+]0x[0-9a-f]+$/i,xe=/^0b[01]+$/i,B=/^\[object .+?Constructor\]$/,Ke=/^0o[0-7]+$/i,We=/^(?:0|[1-9]\d*)$/,Bt=parseInt,at=typeof T=="object"&&T&&T.Object===Object&&T,ut=typeof self=="object"&&self&&self.Object===Object&&self,H=at||ut||Function("return this")();function lt(tt,ie,fe){switch(fe.length){case 0:return tt.call(ie);case 1:return tt.call(ie,fe[0]);case 2:return tt.call(ie,fe[0],fe[1]);case 3:return tt.call(ie,fe[0],fe[1],fe[2])}return tt.apply(ie,fe)}function wt(tt,ie){return!!(tt&&tt.length)&&function(fe,me,ke){if(me!=me)return function(Jt,Vn,Ln,ue){for(var je=Jt.length,Ye=Ln+(ue?1:-1);ue?Ye--:++Ye<je;)if(Vn(Jt[Ye],Ye,Jt))return Ye;return-1}(fe,Nt,ke);for(var Ie=ke-1,At=fe.length;++Ie<At;)if(fe[Ie]===me)return Ie;return-1}(tt,ie,0)>-1}function Nt(tt){return tt!=tt}function Dt(tt,ie){for(var fe=tt.length,me=0;fe--;)tt[fe]===ie&&me++;return me}function Ue(tt,ie){for(var fe=-1,me=tt.length,ke=0,Ie=[];++fe<me;){var At=tt[fe];At!==ie&&At!=="__lodash_placeholder__"||(tt[fe]="__lodash_placeholder__",Ie[ke++]=fe)}return Ie}var Xe,it,Ft,X=Function.prototype,be=Object.prototype,ye=H["__core-js_shared__"],Me=(Xe=/[^.]+$/.exec(ye&&ye.keys&&ye.keys.IE_PROTO||""))?"Symbol(src)_1."+Xe:"",_e=X.toString,Re=be.hasOwnProperty,$e=be.toString,le=RegExp("^"+_e.call(Re).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=Object.create,rt=Math.max,ce=Math.min,Te=(it=Ht(Object,"defineProperty"),(Ft=Ht.name)&&Ft.length>2?it:void 0);function Ve(tt){return Rt(tt)?He(tt):{}}function Ge(tt){return!(!Rt(tt)||function(ie){return!!Me&&Me in ie}(tt))&&(function(ie){var fe=Rt(ie)?$e.call(ie):"";return fe=="[object Function]"||fe=="[object GeneratorFunction]"}(tt)||function(ie){var fe=!1;if(ie!=null&&typeof ie.toString!="function")try{fe=!!(ie+"")}catch(me){}return fe}(tt)?le:B).test(function(ie){if(ie!=null){try{return _e.call(ie)}catch(fe){}try{return ie+""}catch(fe){}}return""}(tt))}function ot(tt,ie,fe,me){for(var ke=-1,Ie=tt.length,At=fe.length,Jt=-1,Vn=ie.length,Ln=rt(Ie-At,0),ue=Array(Vn+Ln),je=!me;++Jt<Vn;)ue[Jt]=ie[Jt];for(;++ke<At;)(je||ke<Ie)&&(ue[fe[ke]]=tt[ke]);for(;Ln--;)ue[Jt++]=tt[ke++];return ue}function ht(tt,ie,fe,me){for(var ke=-1,Ie=tt.length,At=-1,Jt=fe.length,Vn=-1,Ln=ie.length,ue=rt(Ie-Jt,0),je=Array(ue+Ln),Ye=!me;++ke<ue;)je[ke]=tt[ke];for(var qe=ke;++Vn<Ln;)je[qe+Vn]=ie[Vn];for(;++At<Jt;)(Ye||ke<Ie)&&(je[qe+fe[At]]=tt[ke++]);return je}function bt(tt){return function(){var ie=arguments;switch(ie.length){case 0:return new tt;case 1:return new tt(ie[0]);case 2:return new tt(ie[0],ie[1]);case 3:return new tt(ie[0],ie[1],ie[2]);case 4:return new tt(ie[0],ie[1],ie[2],ie[3]);case 5:return new tt(ie[0],ie[1],ie[2],ie[3],ie[4]);case 6:return new tt(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5]);case 7:return new tt(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5],ie[6])}var fe=Ve(tt.prototype),me=tt.apply(fe,ie);return Rt(me)?me:fe}}function Vt(tt,ie,fe,me,ke,Ie,At,Jt,Vn,Ln){var ue=128&ie,je=1&ie,Ye=2&ie,qe=24&ie,kt=512&ie,vn=Ye?void 0:bt(tt);return function sn(){for(var It=arguments.length,de=Array(It),Oe=It;Oe--;)de[Oe]=arguments[Oe];if(qe)var st=Mt(sn),_t=Dt(de,st);if(me&&(de=ot(de,me,ke,qe)),Ie&&(de=ht(de,Ie,At,qe)),It-=_t,qe&&It<Ln){var Xt=Ue(de,st);return Kt(tt,ie,Vt,sn.placeholder,fe,de,Xt,Jt,Vn,Ln-It)}var bn=je?fe:this,$n=Ye?bn[tt]:tt;return It=de.length,Jt?de=tn(de,Jt):kt&&It>1&&de.reverse(),ue&&Vn<It&&(de.length=Vn),this&&this!==H&&this instanceof sn&&($n=vn||bt($n)),$n.apply(bn,de)}}function Kt(tt,ie,fe,me,ke,Ie,At,Jt,Vn,Ln){var ue=8&ie;ie|=ue?32:64,4&(ie&=~(ue?64:32))||(ie&=-4);var je=fe(tt,ie,ke,ue?Ie:void 0,ue?At:void 0,ue?void 0:Ie,ue?void 0:At,Jt,Vn,Ln);return je.placeholder=me,un(je,tt,ie)}function Tt(tt,ie,fe,me,ke,Ie,At,Jt){var Vn=2&ie;if(!Vn&&typeof tt!="function")throw new TypeError("Expected a function");var Ln=me?me.length:0;if(Ln||(ie&=-97,me=ke=void 0),At=At===void 0?At:rt(hn(At),0),Jt=Jt===void 0?Jt:hn(Jt),Ln-=ke?ke.length:0,64&ie){var ue=me,je=ke;me=ke=void 0}var Ye=[tt,ie,fe,me,ke,ue,je,Ie,At,Jt];if(tt=Ye[0],ie=Ye[1],fe=Ye[2],me=Ye[3],ke=Ye[4],!(Jt=Ye[9]=Ye[9]==null?Vn?0:tt.length:rt(Ye[9]-Ln,0))&&24&ie&&(ie&=-25),ie&&ie!=1)qe=ie==8||ie==16?function(kt,vn,sn){var It=bt(kt);return function de(){for(var Oe=arguments.length,st=Array(Oe),_t=Oe,Xt=Mt(de);_t--;)st[_t]=arguments[_t];var bn=Oe<3&&st[0]!==Xt&&st[Oe-1]!==Xt?[]:Ue(st,Xt);if((Oe-=bn.length)<sn)return Kt(kt,vn,Vt,de.placeholder,void 0,st,bn,void 0,void 0,sn-Oe);var $n=this&&this!==H&&this instanceof de?It:kt;return lt($n,this,st)}}(tt,ie,Jt):ie!=32&&ie!=33||ke.length?Vt.apply(void 0,Ye):function(kt,vn,sn,It){var de=1&vn,Oe=bt(kt);return function st(){for(var _t=-1,Xt=arguments.length,bn=-1,$n=It.length,Ce=Array($n+Xt),Ze=this&&this!==H&&this instanceof st?Oe:kt;++bn<$n;)Ce[bn]=It[bn];for(;Xt--;)Ce[bn++]=arguments[++_t];return lt(Ze,de?sn:this,Ce)}}(tt,ie,fe,me);else var qe=function(kt,vn,sn){var It=1&vn,de=bt(kt);return function Oe(){var st=this&&this!==H&&this instanceof Oe?de:kt;return st.apply(It?sn:this,arguments)}}(tt,ie,fe);return un(qe,tt,ie)}function Mt(tt){return tt.placeholder}function Ht(tt,ie){var fe=function(me,ke){return me==null?void 0:me[ke]}(tt,ie);return Ge(fe)?fe:void 0}function St(tt){var ie=tt.match(K);return ie?ie[1].split(ne):[]}function Qe(tt,ie){var fe=ie.length,me=fe-1;return ie[me]=(fe>1?"& ":"")+ie[me],ie=ie.join(fe>2?", ":" "),tt.replace(j,`{
/* [wrapped with `+ie+`] */
`)}function Et(tt,ie){return!!(ie=ie==null?9007199254740991:ie)&&(typeof tt=="number"||We.test(tt))&&tt>-1&&tt%1==0&&tt<ie}function tn(tt,ie){for(var fe=tt.length,me=ce(ie.length,fe),ke=function(At,Jt){var Vn=-1,Ln=At.length;for(Jt||(Jt=Array(Ln));++Vn<Ln;)Jt[Vn]=At[Vn];return Jt}(tt);me--;){var Ie=ie[me];tt[me]=Et(Ie,fe)?ke[Ie]:void 0}return tt}var un=Te?function(tt,ie,fe){var me,ke=ie+"";return Te(tt,"toString",{configurable:!0,enumerable:!1,value:(me=Qe(ke,nn(St(ke),fe)),function(){return me})})}:function(tt){return tt};function nn(tt,ie){return function(fe,me){for(var ke=-1,Ie=fe?fe.length:0;++ke<Ie&&me(fe[ke],ke,fe)!==!1;);}(k,function(fe){var me="_."+fe[0];ie&fe[1]&&!wt(tt,me)&&tt.push(me)}),tt.sort()}function pn(tt,ie,fe){var me=Tt(tt,8,void 0,void 0,void 0,void 0,void 0,ie=fe?void 0:ie);return me.placeholder=pn.placeholder,me}function Rt(tt){var ie=typeof tt;return!!tt&&(ie=="object"||ie=="function")}function jt(tt){return tt?(tt=function(ie){if(typeof ie=="number")return ie;if(function(ke){return typeof ke=="symbol"||function(Ie){return!!Ie&&typeof Ie=="object"}(ke)&&$e.call(ke)=="[object Symbol]"}(ie))return NaN;if(Rt(ie)){var fe=typeof ie.valueOf=="function"?ie.valueOf():ie;ie=Rt(fe)?fe+"":fe}if(typeof ie!="string")return ie===0?ie:+ie;ie=ie.replace(D,"");var me=xe.test(ie);return me||Ke.test(ie)?Bt(ie.slice(2),me?2:8):he.test(ie)?NaN:+ie}(tt))===1/0||tt===-1/0?17976931348623157e292*(tt<0?-1:1):tt==tt?tt:0:tt===0?tt:0}function hn(tt){var ie=jt(tt),fe=ie%1;return ie==ie?fe?ie-fe:ie:0}pn.placeholder={},b.exports=pn}).call(this,y(43))},function(b,v,y){"use strict";function T(ht){return ht&&ht.__esModule?ht.default:ht}v.__esModule=!0;var k=y(95);v.threezerotwofour=T(k);var D=y(96);v.apathy=T(D);var j=y(97);v.ashes=T(j);var K=y(98);v.atelierDune=T(K);var ne=y(99);v.atelierForest=T(ne);var he=y(100);v.atelierHeath=T(he);var xe=y(101);v.atelierLakeside=T(xe);var B=y(102);v.atelierSeaside=T(B);var Ke=y(103);v.bespin=T(Ke);var We=y(104);v.brewer=T(We);var Bt=y(105);v.bright=T(Bt);var at=y(106);v.chalk=T(at);var ut=y(107);v.codeschool=T(ut);var H=y(108);v.colors=T(H);var lt=y(109);v.default=T(lt);var wt=y(110);v.eighties=T(wt);var Nt=y(111);v.embers=T(Nt);var Dt=y(112);v.flat=T(Dt);var Ue=y(113);v.google=T(Ue);var Xe=y(114);v.grayscale=T(Xe);var it=y(115);v.greenscreen=T(it);var Ft=y(116);v.harmonic=T(Ft);var X=y(117);v.hopscotch=T(X);var be=y(118);v.isotope=T(be);var ye=y(119);v.marrakesh=T(ye);var Me=y(120);v.mocha=T(Me);var _e=y(121);v.monokai=T(_e);var Re=y(122);v.ocean=T(Re);var $e=y(123);v.paraiso=T($e);var le=y(124);v.pop=T(le);var He=y(125);v.railscasts=T(He);var rt=y(126);v.shapeshifter=T(rt);var ce=y(127);v.solarized=T(ce);var Te=y(128);v.summerfruit=T(Te);var Ve=y(129);v.tomorrow=T(Ve);var Ge=y(130);v.tube=T(Ge);var ot=y(131);v.twilight=T(ot)},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"brewer",author:"timoth\xE9e poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},b.exports=v.default},function(b,v,y){"use strict";v.__esModule=!0,v.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},b.exports=v.default},function(b,v,y){var T=y(33);function k(D){var j=Math.round(T(D,0,255)).toString(16);return j.length==1?"0"+j:j}b.exports=function(D){var j=D.length===4?k(255*D[3]):"";return"#"+k(D[0])+k(D[1])+k(D[2])+j}},function(b,v,y){var T=y(134),k=y(135),D=y(136),j=y(137),K={"#":k,hsl:function(he){var xe=T(he),B=j(xe);return xe.length===4&&B.push(xe[3]),B},rgb:D};function ne(he){for(var xe in K)if(he.indexOf(xe)===0)return K[xe](he)}ne.rgb=D,ne.hsl=T,ne.hex=k,b.exports=ne},function(b,v,y){var T=y(44),k=y(33);function D(j,K){switch(j=parseFloat(j),K){case 0:return k(j,0,360);case 1:case 2:return k(j,0,100);case 3:return k(j,0,1)}}b.exports=function(j){return T(j).map(D)}},function(b,v){b.exports=function(y){y.length!==4&&y.length!==5||(y=function(D){for(var j="#",K=1;K<D.length;K++){var ne=D.charAt(K);j+=ne+ne}return j}(y));var T=[parseInt(y.substring(1,3),16),parseInt(y.substring(3,5),16),parseInt(y.substring(5,7),16)];if(y.length===9){var k=parseFloat((parseInt(y.substring(7,9),16)/255).toFixed(2));T.push(k)}return T}},function(b,v,y){var T=y(44),k=y(33);function D(j,K){return K<3?j.indexOf("%")!=-1?Math.round(255*k(parseInt(j,10),0,100)/100):k(parseInt(j,10),0,255):k(parseFloat(j),0,1)}b.exports=function(j){return T(j).map(D)}},function(b,v){b.exports=function(y){var T,k,D,j,K,ne=y[0]/360,he=y[1]/100,xe=y[2]/100;if(he==0)return[K=255*xe,K,K];T=2*xe-(k=xe<.5?xe*(1+he):xe+he-xe*he),j=[0,0,0];for(var B=0;B<3;B++)(D=ne+1/3*-(B-1))<0&&D++,D>1&&D--,K=6*D<1?T+6*(k-T)*D:2*D<1?k:3*D<2?T+(k-T)*(2/3-D)*6:T,j[B]=255*K;return j}},function(b,v,y){(function(T){var k=typeof T=="object"&&T&&T.Object===Object&&T,D=typeof self=="object"&&self&&self.Object===Object&&self,j=k||D||Function("return this")();function K(Ue,Xe,it){switch(it.length){case 0:return Ue.call(Xe);case 1:return Ue.call(Xe,it[0]);case 2:return Ue.call(Xe,it[0],it[1]);case 3:return Ue.call(Xe,it[0],it[1],it[2])}return Ue.apply(Xe,it)}function ne(Ue,Xe){for(var it=-1,Ft=Xe.length,X=Ue.length;++it<Ft;)Ue[X+it]=Xe[it];return Ue}var he=Object.prototype,xe=he.hasOwnProperty,B=he.toString,Ke=j.Symbol,We=he.propertyIsEnumerable,Bt=Ke?Ke.isConcatSpreadable:void 0,at=Math.max;function ut(Ue){return H(Ue)||function(Xe){return function(it){return function(Ft){return!!Ft&&typeof Ft=="object"}(it)&&function(Ft){return Ft!=null&&function(X){return typeof X=="number"&&X>-1&&X%1==0&&X<=9007199254740991}(Ft.length)&&!function(X){var be=function(ye){var Me=typeof ye;return!!ye&&(Me=="object"||Me=="function")}(X)?B.call(X):"";return be=="[object Function]"||be=="[object GeneratorFunction]"}(Ft)}(it)}(Xe)&&xe.call(Xe,"callee")&&(!We.call(Xe,"callee")||B.call(Xe)=="[object Arguments]")}(Ue)||!!(Bt&&Ue&&Ue[Bt])}var H=Array.isArray,lt,wt,Nt,Dt=(wt=function(Ue){var Xe=(Ue=function Ft(X,be,ye,Me,_e){var Re=-1,$e=X.length;for(ye||(ye=ut),_e||(_e=[]);++Re<$e;){var le=X[Re];be>0&&ye(le)?be>1?Ft(le,be-1,ye,Me,_e):ne(_e,le):Me||(_e[_e.length]=le)}return _e}(Ue,1)).length,it=Xe;for(lt&&Ue.reverse();it--;)if(typeof Ue[it]!="function")throw new TypeError("Expected a function");return function(){for(var Ft=0,X=Xe?Ue[Ft].apply(this,arguments):arguments[0];++Ft<Xe;)X=Ue[Ft].call(this,X);return X}},Nt=at(Nt===void 0?wt.length-1:Nt,0),function(){for(var Ue=arguments,Xe=-1,it=at(Ue.length-Nt,0),Ft=Array(it);++Xe<it;)Ft[Xe]=Ue[Nt+Xe];Xe=-1;for(var X=Array(Nt+1);++Xe<Nt;)X[Xe]=Ue[Xe];return X[Nt]=Ft,K(wt,this,X)});b.exports=Dt}).call(this,y(43))},function(b,v,y){"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.yuv2rgb=function(T){var k,D,j,K=T[0],ne=T[1],he=T[2];return k=1*K+0*ne+1.13983*he,D=1*K+-.39465*ne+-.5806*he,j=1*K+2.02311*ne+0*he,k=Math.min(Math.max(0,k),1),D=Math.min(Math.max(0,D),1),j=Math.min(Math.max(0,j),1),[255*k,255*D,255*j]},v.rgb2yuv=function(T){var k=T[0]/255,D=T[1]/255,j=T[2]/255;return[.299*k+.587*D+.114*j,-.14713*k+-.28886*D+.436*j,.615*k+-.51499*D+-.10001*j]}},function(b,v,y){"use strict";function T(j,K,ne){return K in j?Object.defineProperty(j,K,{value:ne,enumerable:!0,configurable:!0,writable:!0}):j[K]=ne,j}var k=y(141),D=function(){function j(){T(this,"_callbacks",void 0),T(this,"_isDispatching",void 0),T(this,"_isHandled",void 0),T(this,"_isPending",void 0),T(this,"_lastID",void 0),T(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var K=j.prototype;return K.register=function(ne){var he="ID_"+this._lastID++;return this._callbacks[he]=ne,he},K.unregister=function(ne){this._callbacks[ne]||k(!1),delete this._callbacks[ne]},K.waitFor=function(ne){this._isDispatching||k(!1);for(var he=0;he<ne.length;he++){var xe=ne[he];this._isPending[xe]?this._isHandled[xe]||k(!1):(this._callbacks[xe]||k(!1),this._invokeCallback(xe))}},K.dispatch=function(ne){this._isDispatching&&k(!1),this._startDispatching(ne);try{for(var he in this._callbacks)this._isPending[he]||this._invokeCallback(he)}finally{this._stopDispatching()}},K.isDispatching=function(){return this._isDispatching},K._invokeCallback=function(ne){this._isPending[ne]=!0,this._callbacks[ne](this._pendingPayload),this._isHandled[ne]=!0},K._startDispatching=function(ne){for(var he in this._callbacks)this._isPending[he]=!1,this._isHandled[he]=!1;this._pendingPayload=ne,this._isDispatching=!0},K._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},j}();b.exports=D},function(b,v,y){"use strict";var T=function(k){};b.exports=function(k,D){for(var j=arguments.length,K=new Array(j>2?j-2:0),ne=2;ne<j;ne++)K[ne-2]=arguments[ne];if(T(D),!k){var he;if(D===void 0)he=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var xe=0;(he=new Error(D.replace(/%s/g,function(){return String(K[xe++])}))).name="Invariant Violation"}throw he.framesToPop=1,he}}},function(b,v,y){"use strict";function T(g,p,x){return p in g?Object.defineProperty(g,p,{value:x,enumerable:!0,configurable:!0,writable:!0}):g[p]=x,g}function k(g,p){var x=Object.keys(g);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(g);p&&(S=S.filter(function(O){return Object.getOwnPropertyDescriptor(g,O).enumerable})),x.push.apply(x,S)}return x}function D(g){for(var p=1;p<arguments.length;p++){var x=arguments[p]!=null?arguments[p]:{};p%2?k(Object(x),!0).forEach(function(S){T(g,S,x[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(x)):k(Object(x)).forEach(function(S){Object.defineProperty(g,S,Object.getOwnPropertyDescriptor(x,S))})}return g}function j(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function K(g,p){for(var x=0;x<p.length;x++){var S=p[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}function ne(g,p,x){return p&&K(g.prototype,p),x&&K(g,x),g}function he(g,p){return(he=Object.setPrototypeOf||function(x,S){return x.__proto__=S,x})(g,p)}function xe(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),p&&he(g,p)}function B(g){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(g)}function Ke(g){return(Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(g)}function We(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function Bt(g,p){return!p||Ke(p)!=="object"&&typeof p!="function"?We(g):p}function at(g){var p=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(x){return!1}}();return function(){var x,S=B(g);if(p){var O=B(this).constructor;x=Reflect.construct(S,arguments,O)}else x=S.apply(this,arguments);return Bt(this,x)}}y.r(v);var ut=y(0),H=y.n(ut);function lt(){var g=this.constructor.getDerivedStateFromProps(this.props,this.state);g!=null&&this.setState(g)}function wt(g){this.setState(function(p){var x=this.constructor.getDerivedStateFromProps(g,p);return x!=null?x:null}.bind(this))}function Nt(g,p){try{var x=this.props,S=this.state;this.props=g,this.state=p,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(x,S)}finally{this.props=x,this.state=S}}function Dt(g){var p=g.prototype;if(!p||!p.isReactComponent)throw new Error("Can only polyfill class components");if(typeof g.getDerivedStateFromProps!="function"&&typeof p.getSnapshotBeforeUpdate!="function")return g;var x=null,S=null,O=null;if(typeof p.componentWillMount=="function"?x="componentWillMount":typeof p.UNSAFE_componentWillMount=="function"&&(x="UNSAFE_componentWillMount"),typeof p.componentWillReceiveProps=="function"?S="componentWillReceiveProps":typeof p.UNSAFE_componentWillReceiveProps=="function"&&(S="UNSAFE_componentWillReceiveProps"),typeof p.componentWillUpdate=="function"?O="componentWillUpdate":typeof p.UNSAFE_componentWillUpdate=="function"&&(O="UNSAFE_componentWillUpdate"),x!==null||S!==null||O!==null){var q=g.displayName||g.name,N=typeof g.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+q+" uses "+N+" but also contains the following legacy lifecycles:"+(x!==null?`
  `+x:"")+(S!==null?`
  `+S:"")+(O!==null?`
  `+O:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof g.getDerivedStateFromProps=="function"&&(p.componentWillMount=lt,p.componentWillReceiveProps=wt),typeof p.getSnapshotBeforeUpdate=="function"){if(typeof p.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");p.componentWillUpdate=Nt;var V=p.componentDidUpdate;p.componentDidUpdate=function(F,Y,Je){var pt=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:Je;V.call(this,F,Y,pt)}}return g}function Ue(g,p){if(g==null)return{};var x,S,O=function(N,V){if(N==null)return{};var F,Y,Je={},pt=Object.keys(N);for(Y=0;Y<pt.length;Y++)F=pt[Y],V.indexOf(F)>=0||(Je[F]=N[F]);return Je}(g,p);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(g);for(S=0;S<q.length;S++)x=q[S],p.indexOf(x)>=0||Object.prototype.propertyIsEnumerable.call(g,x)&&(O[x]=g[x])}return O}function Xe(g){var p=function(x){return{}.toString.call(x).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(g);return p==="number"&&(p=isNaN(g)?"nan":(0|g)!=g?"float":"integer"),p}lt.__suppressDeprecationWarning=!0,wt.__suppressDeprecationWarning=!0,Nt.__suppressDeprecationWarning=!0;var it={scheme:"rjv-default",author:"mac gainor",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},Ft={scheme:"rjv-grey",author:"mac gainor",base00:"rgba(1, 1, 1, 0)",base01:"rgba(1, 1, 1, 0.1)",base02:"rgba(0, 0, 0, 0.2)",base03:"rgba(1, 1, 1, 0.3)",base04:"rgba(0, 0, 0, 0.4)",base05:"rgba(1, 1, 1, 0.5)",base06:"rgba(1, 1, 1, 0.6)",base07:"rgba(1, 1, 1, 0.7)",base08:"rgba(1, 1, 1, 0.8)",base09:"rgba(1, 1, 1, 0.8)",base0A:"rgba(1, 1, 1, 0.8)",base0B:"rgba(1, 1, 1, 0.8)",base0C:"rgba(1, 1, 1, 0.8)",base0D:"rgba(1, 1, 1, 0.8)",base0E:"rgba(1, 1, 1, 0.8)",base0F:"rgba(1, 1, 1, 0.8)"},X={white:"#fff",black:"#000",transparent:"rgba(1, 1, 1, 0)",globalFontFamily:"monospace",globalCursor:"default",indentBlockWidth:"5px",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyBorderRadius:"3px",keyColonWeight:"bold",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:"5px",keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",keyValPaddingHover:"3px 5px 3px 4px",pushedContentMarginLeft:"6px",variableValuePaddingRight:"6px",nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 2px",nullBorderRadius:"3px",nanFontSize:"11px",nanFontWeight:"bold",nanPadding:"1px 2px",nanBorderRadius:"3px",undefinedFontSize:"11px",undefinedFontWeight:"bold",undefinedPadding:"1px 2px",undefinedBorderRadius:"3px",dataTypeFontSize:"11px",dataTypeMarginRight:"4px",datatypeOpacity:"0.8",objectSizeBorderRadius:"3px",objectSizeFontStyle:"italic",objectSizeMargin:"0px 6px 0px 0px",clipboardCursor:"pointer",clipboardCheckMarginLeft:"-12px",metaDataPadding:"0px 0px 0px 10px",arrayGroupMetaPadding:"0px 0px 0px 4px",iconContainerWidth:"17px",tooltipPadding:"4px",editInputMinWidth:"130px",editInputBorderRadius:"2px",editInputPadding:"5px",editInputMarginRight:"4px",editInputFontFamily:"monospace",iconCursor:"pointer",iconFontSize:"15px",iconPaddingRight:"1px",dateValueMarginLeft:"2px",iconMarginRight:"3px",detectedRowPaddingTop:"3px",addKeyCoverBackground:"rgba(255, 255, 255, 0.3)",addKeyCoverPosition:"absolute",addKeyCoverPositionPx:"0px",addKeyModalWidth:"200px",addKeyModalMargin:"auto",addKeyModalPadding:"10px",addKeyModalRadius:"3px"},be=y(45),ye=function(g){var p=function(x){return{backgroundColor:x.base00,ellipsisColor:x.base09,braceColor:x.base07,expandedIcon:x.base0D,collapsedIcon:x.base0E,keyColor:x.base07,arrayKeyColor:x.base0C,objectSize:x.base04,copyToClipboard:x.base0F,copyToClipboardCheck:x.base0D,objectBorder:x.base02,dataTypes:{boolean:x.base0E,date:x.base0D,float:x.base0B,function:x.base0D,integer:x.base0F,string:x.base09,nan:x.base08,null:x.base0A,undefined:x.base05,regexp:x.base0A,background:x.base02},editVariable:{editIcon:x.base0E,cancelIcon:x.base09,removeIcon:x.base09,addIcon:x.base0E,checkIcon:x.base0E,background:x.base01,color:x.base0A,border:x.base07},addKeyModal:{background:x.base05,border:x.base04,color:x.base0A,labelColor:x.base01},validationFailure:{background:x.base09,iconColor:x.base01,fontColor:x.base01}}}(g);return{"app-container":{fontFamily:X.globalFontFamily,cursor:X.globalCursor,backgroundColor:p.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:p.ellipsisColor,fontSize:X.ellipsisFontSize,lineHeight:X.ellipsisLineHeight,cursor:X.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:X.braceCursor,fontWeight:X.braceFontWeight,color:p.braceColor},"expanded-icon":{color:p.expandedIcon},"collapsed-icon":{color:p.collapsedIcon},colon:{display:"inline-block",margin:X.keyMargin,color:p.keyColor,verticalAlign:"top"},objectKeyVal:function(x,S){return{style:D({paddingTop:X.keyValPaddingTop,paddingRight:X.keyValPaddingRight,paddingBottom:X.keyValPaddingBottom,borderLeft:X.keyValBorderLeft+" "+p.objectBorder,":hover":{paddingLeft:S.paddingLeft-1+"px",borderLeft:X.keyValBorderHover+" "+p.objectBorder}},S)}},"object-key-val-no-border":{padding:X.keyValPadding},"pushed-content":{marginLeft:X.pushedContentMarginLeft},variableValue:function(x,S){return{style:D({display:"inline-block",paddingRight:X.variableValuePaddingRight,position:"relative"},S)}},"object-name":{display:"inline-block",color:p.keyColor,letterSpacing:X.keyLetterSpacing,fontStyle:X.keyFontStyle,verticalAlign:X.keyVerticalAlign,opacity:X.keyOpacity,":hover":{opacity:X.keyOpacityHover}},"array-key":{display:"inline-block",color:p.arrayKeyColor,letterSpacing:X.keyLetterSpacing,fontStyle:X.keyFontStyle,verticalAlign:X.keyVerticalAlign,opacity:X.keyOpacity,":hover":{opacity:X.keyOpacityHover}},"object-size":{color:p.objectSize,borderRadius:X.objectSizeBorderRadius,fontStyle:X.objectSizeFontStyle,margin:X.objectSizeMargin,cursor:"default"},"data-type-label":{fontSize:X.dataTypeFontSize,marginRight:X.dataTypeMarginRight,opacity:X.datatypeOpacity},boolean:{display:"inline-block",color:p.dataTypes.boolean},date:{display:"inline-block",color:p.dataTypes.date},"date-value":{marginLeft:X.dateValueMarginLeft},float:{display:"inline-block",color:p.dataTypes.float},function:{display:"inline-block",color:p.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},"function-value":{fontStyle:"italic"},integer:{display:"inline-block",color:p.dataTypes.integer},string:{display:"inline-block",color:p.dataTypes.string},nan:{display:"inline-block",color:p.dataTypes.nan,fontSize:X.nanFontSize,fontWeight:X.nanFontWeight,backgroundColor:p.dataTypes.background,padding:X.nanPadding,borderRadius:X.nanBorderRadius},null:{display:"inline-block",color:p.dataTypes.null,fontSize:X.nullFontSize,fontWeight:X.nullFontWeight,backgroundColor:p.dataTypes.background,padding:X.nullPadding,borderRadius:X.nullBorderRadius},undefined:{display:"inline-block",color:p.dataTypes.undefined,fontSize:X.undefinedFontSize,padding:X.undefinedPadding,borderRadius:X.undefinedBorderRadius,backgroundColor:p.dataTypes.background},regexp:{display:"inline-block",color:p.dataTypes.regexp},"copy-to-clipboard":{cursor:X.clipboardCursor},"copy-icon":{color:p.copyToClipboard,fontSize:X.iconFontSize,marginRight:X.iconMarginRight,verticalAlign:"top"},"copy-icon-copied":{color:p.copyToClipboardCheck,marginLeft:X.clipboardCheckMarginLeft},"array-group-meta-data":{display:"inline-block",padding:X.arrayGroupMetaPadding},"object-meta-data":{display:"inline-block",padding:X.metaDataPadding},"icon-container":{display:"inline-block",width:X.iconContainerWidth},tooltip:{padding:X.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:p.editVariable.removeIcon,cursor:X.iconCursor,fontSize:X.iconFontSize,marginRight:X.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:p.editVariable.addIcon,cursor:X.iconCursor,fontSize:X.iconFontSize,marginRight:X.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:p.editVariable.editIcon,cursor:X.iconCursor,fontSize:X.iconFontSize,marginRight:X.iconMarginRight},"edit-icon-container":{display:"inline-block",verticalAlign:"top"},"check-icon":{display:"inline-block",cursor:X.iconCursor,color:p.editVariable.checkIcon,fontSize:X.iconFontSize,paddingRight:X.iconPaddingRight},"cancel-icon":{display:"inline-block",cursor:X.iconCursor,color:p.editVariable.cancelIcon,fontSize:X.iconFontSize,paddingRight:X.iconPaddingRight},"edit-input":{display:"inline-block",minWidth:X.editInputMinWidth,borderRadius:X.editInputBorderRadius,backgroundColor:p.editVariable.background,color:p.editVariable.color,padding:X.editInputPadding,marginRight:X.editInputMarginRight,fontFamily:X.editInputFontFamily},"detected-row":{paddingTop:X.detectedRowPaddingTop},"key-modal-request":{position:X.addKeyCoverPosition,top:X.addKeyCoverPositionPx,left:X.addKeyCoverPositionPx,right:X.addKeyCoverPositionPx,bottom:X.addKeyCoverPositionPx,backgroundColor:X.addKeyCoverBackground},"key-modal":{width:X.addKeyModalWidth,backgroundColor:p.addKeyModal.background,marginLeft:X.addKeyModalMargin,marginRight:X.addKeyModalMargin,padding:X.addKeyModalPadding,borderRadius:X.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:p.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:p.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:p.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:p.addKeyModal.labelColor,fontSize:X.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:p.editVariable.addIcon,fontSize:X.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:p.ellipsisColor,fontSize:X.ellipsisFontSize,lineHeight:X.ellipsisLineHeight,cursor:X.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:p.validationFailure.fontColor,backgroundColor:p.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:p.validationFailure.iconColor,fontSize:X.iconFontSize,transform:"rotate(45deg)"}}};function Me(g,p,x){return g||console.error("theme has not been set"),function(S){var O=it;return S!==!1&&S!=="none"||(O=Ft),Object(be.createStyling)(ye,{defaultBase16:O})(S)}(g)(p,x)}var _e=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props,O=(S.rjvId,S.type_name),q=S.displayDataTypes,N=S.theme;return q?H.a.createElement("span",Object.assign({className:"data-type-label"},Me(N,"data-type-label")),O):null}}]),x}(H.a.PureComponent),Re=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props;return H.a.createElement("div",Me(S.theme,"boolean"),H.a.createElement(_e,Object.assign({type_name:"bool"},S)),S.value?"true":"false")}}]),x}(H.a.PureComponent),$e=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props;return H.a.createElement("div",Me(S.theme,"date"),H.a.createElement(_e,Object.assign({type_name:"date"},S)),H.a.createElement("span",Object.assign({className:"date-value"},Me(S.theme,"date-value")),S.value.toLocaleTimeString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})))}}]),x}(H.a.PureComponent),le=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props;return H.a.createElement("div",Me(S.theme,"float"),H.a.createElement(_e,Object.assign({type_name:"float"},S)),this.props.value)}}]),x}(H.a.PureComponent);function He(g,p){(p==null||p>g.length)&&(p=g.length);for(var x=0,S=new Array(p);x<p;x++)S[x]=g[x];return S}function rt(g,p){if(g){if(typeof g=="string")return He(g,p);var x=Object.prototype.toString.call(g).slice(8,-1);return x==="Object"&&g.constructor&&(x=g.constructor.name),x==="Map"||x==="Set"?Array.from(g):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?He(g,p):void 0}}function ce(g,p){var x;if(typeof Symbol=="undefined"||g[Symbol.iterator]==null){if(Array.isArray(g)||(x=rt(g))||p&&g&&typeof g.length=="number"){x&&(g=x);var S=0,O=function(){};return{s:O,n:function(){return S>=g.length?{done:!0}:{done:!1,value:g[S++]}},e:function(F){throw F},f:O}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var q,N=!0,V=!1;return{s:function(){x=g[Symbol.iterator]()},n:function(){var F=x.next();return N=F.done,F},e:function(F){V=!0,q=F},f:function(){try{N||x.return==null||x.return()}finally{if(V)throw q}}}}function Te(g){return function(p){if(Array.isArray(p))return He(p)}(g)||function(p){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(p))return Array.from(p)}(g)||rt(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var Ve=y(46),Ge=new(y(47)).Dispatcher,ot=new(function(g){xe(x,g);var p=at(x);function x(){var S;j(this,x);for(var O=arguments.length,q=new Array(O),N=0;N<O;N++)q[N]=arguments[N];return(S=p.call.apply(p,[this].concat(q))).objects={},S.set=function(V,F,Y,Je){S.objects[V]===void 0&&(S.objects[V]={}),S.objects[V][F]===void 0&&(S.objects[V][F]={}),S.objects[V][F][Y]=Je},S.get=function(V,F,Y,Je){return S.objects[V]===void 0||S.objects[V][F]===void 0||S.objects[V][F][Y]==null?Je:S.objects[V][F][Y]},S.handleAction=function(V){var F=V.rjvId,Y=V.data;switch(V.name){case"RESET":S.emit("reset-"+F);break;case"VARIABLE_UPDATED":V.data.updated_src=S.updateSrc(F,Y),S.set(F,"action","variable-update",D(D({},Y),{},{type:"variable-edited"})),S.emit("variable-update-"+F);break;case"VARIABLE_REMOVED":V.data.updated_src=S.updateSrc(F,Y),S.set(F,"action","variable-update",D(D({},Y),{},{type:"variable-removed"})),S.emit("variable-update-"+F);break;case"VARIABLE_ADDED":V.data.updated_src=S.updateSrc(F,Y),S.set(F,"action","variable-update",D(D({},Y),{},{type:"variable-added"})),S.emit("variable-update-"+F);break;case"ADD_VARIABLE_KEY_REQUEST":S.set(F,"action","new-key-request",Y),S.emit("add-key-request-"+F)}},S.updateSrc=function(V,F){var Y=F.name,Je=F.namespace,pt=F.new_value,Pt=(F.existing_value,F.variable_removed);Je.shift();var en,dn=S.get(V,"global","src"),Mn=S.deepCopy(dn,Te(Je)),Cn=Mn,Ut=ce(Je);try{for(Ut.s();!(en=Ut.n()).done;)Cn=Cn[en.value]}catch(Rn){Ut.e(Rn)}finally{Ut.f()}return Pt?Xe(Cn)=="array"?Cn.splice(Y,1):delete Cn[Y]:Y!==null?Cn[Y]=pt:Mn=pt,S.set(V,"global","src",Mn),Mn},S.deepCopy=function(V,F){var Y,Je=Xe(V),pt=F.shift();return Je=="array"?Y=Te(V):Je=="object"&&(Y=D({},V)),pt!==void 0&&(Y[pt]=S.deepCopy(V[pt],F)),Y},S}return x}(Ve.EventEmitter));Ge.register(ot.handleAction.bind(ot));var ht=ot,bt=function(g){xe(x,g);var p=at(x);function x(S){var O;return j(this,x),(O=p.call(this,S)).toggleCollapsed=function(){O.setState({collapsed:!O.state.collapsed},function(){ht.set(O.props.rjvId,O.props.namespace,"collapsed",O.state.collapsed)})},O.getFunctionDisplay=function(q){var N=We(O).props;return q?H.a.createElement("span",null,O.props.value.toString().slice(9,-1).replace(/\{[\s\S]+/,""),H.a.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},H.a.createElement("span",null,"{"),H.a.createElement("span",Me(N.theme,"ellipsis"),"..."),H.a.createElement("span",null,"}"))):O.props.value.toString().slice(9,-1)},O.state={collapsed:ht.get(S.rjvId,S.namespace,"collapsed",!0)},O}return ne(x,[{key:"render",value:function(){var S=this.props,O=this.state.collapsed;return H.a.createElement("div",Me(S.theme,"function"),H.a.createElement(_e,Object.assign({type_name:"function"},S)),H.a.createElement("span",Object.assign({},Me(S.theme,"function-value"),{className:"rjv-function-container",onClick:this.toggleCollapsed}),this.getFunctionDisplay(O)))}}]),x}(H.a.PureComponent),Vt=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){return H.a.createElement("div",Me(this.props.theme,"nan"),"NaN")}}]),x}(H.a.PureComponent),Kt=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){return H.a.createElement("div",Me(this.props.theme,"null"),"NULL")}}]),x}(H.a.PureComponent),Tt=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props;return H.a.createElement("div",Me(S.theme,"integer"),H.a.createElement(_e,Object.assign({type_name:"int"},S)),this.props.value)}}]),x}(H.a.PureComponent),Mt=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props;return H.a.createElement("div",Me(S.theme,"regexp"),H.a.createElement(_e,Object.assign({type_name:"regexp"},S)),this.props.value.toString())}}]),x}(H.a.PureComponent),Ht=function(g){xe(x,g);var p=at(x);function x(S){var O;return j(this,x),(O=p.call(this,S)).toggleCollapsed=function(){O.setState({collapsed:!O.state.collapsed},function(){ht.set(O.props.rjvId,O.props.namespace,"collapsed",O.state.collapsed)})},O.state={collapsed:ht.get(S.rjvId,S.namespace,"collapsed",!0)},O}return ne(x,[{key:"render",value:function(){this.state.collapsed;var S=this.props,O=S.collapseStringsAfterLength,q=S.theme,N=S.value,V={style:{cursor:"default"}};return Xe(O)==="integer"&&N.length>O&&(V.style.cursor="pointer",this.state.collapsed&&(N=H.a.createElement("span",null,N.substring(0,O),H.a.createElement("span",Me(q,"ellipsis")," ...")))),H.a.createElement("div",Me(q,"string"),H.a.createElement(_e,Object.assign({type_name:"string"},S)),H.a.createElement("span",Object.assign({className:"string-value"},V,{onClick:this.toggleCollapsed}),'"',N,'"'))}}]),x}(H.a.PureComponent),St=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){return H.a.createElement("div",Me(this.props.theme,"undefined"),"undefined")}}]),x}(H.a.PureComponent);function Qe(){return(Qe=Object.assign||function(g){for(var p=1;p<arguments.length;p++){var x=arguments[p];for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&(g[S]=x[S])}return g}).apply(this,arguments)}var Et=ut.useLayoutEffect,tn=function(g){var p=Object(ut.useRef)(g);return Et(function(){p.current=g}),p},un=function(g,p){typeof g!="function"?g.current=p:g(p)},nn=function(g,p){var x=Object(ut.useRef)();return Object(ut.useCallback)(function(S){g.current=S,x.current&&un(x.current,null),x.current=p,p&&un(p,S)},[p])},pn={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Rt=function(g){Object.keys(pn).forEach(function(p){g.style.setProperty(p,pn[p],"important")})},jt=null,hn=function(){},tt=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],ie=!!document.documentElement.currentStyle,fe=function(g,p){var x=g.cacheMeasurements,S=g.maxRows,O=g.minRows,q=g.onChange,N=q===void 0?hn:q,V=g.onHeightChange,F=V===void 0?hn:V,Y=function(Ut,Rn){if(Ut==null)return{};var lr,Hn,Jn={},Nn=Object.keys(Ut);for(Hn=0;Hn<Nn.length;Hn++)lr=Nn[Hn],Rn.indexOf(lr)>=0||(Jn[lr]=Ut[lr]);return Jn}(g,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),Je,pt=Y.value!==void 0,Pt=Object(ut.useRef)(null),en=nn(Pt,p),dn=Object(ut.useRef)(0),Mn=Object(ut.useRef)(),Cn=function(){var Ut=Pt.current,Rn=x&&Mn.current?Mn.current:function(Nn){var Yn=window.getComputedStyle(Nn);if(Yn===null)return null;var br,Qn=(br=Yn,tt.reduce(function(vr,mr){return vr[mr]=br[mr],vr},{})),cr=Qn.boxSizing;return cr===""?null:(ie&&cr==="border-box"&&(Qn.width=parseFloat(Qn.width)+parseFloat(Qn.borderRightWidth)+parseFloat(Qn.borderLeftWidth)+parseFloat(Qn.paddingRight)+parseFloat(Qn.paddingLeft)+"px"),{sizingStyle:Qn,paddingSize:parseFloat(Qn.paddingBottom)+parseFloat(Qn.paddingTop),borderSize:parseFloat(Qn.borderBottomWidth)+parseFloat(Qn.borderTopWidth)})}(Ut);if(Rn){Mn.current=Rn;var lr=function(Nn,Yn,br,Qn){br===void 0&&(br=1),Qn===void 0&&(Qn=1/0),jt||((jt=document.createElement("textarea")).setAttribute("tab-index","-1"),jt.setAttribute("aria-hidden","true"),Rt(jt)),jt.parentNode===null&&document.body.appendChild(jt);var cr=Nn.paddingSize,vr=Nn.borderSize,mr=Nn.sizingStyle,Er=mr.boxSizing;Object.keys(mr).forEach(function(Vi){var Ir=Vi;jt.style[Ir]=mr[Ir]}),Rt(jt),jt.value=Yn;var _i=function(Vi,Ir){var vi=Vi.scrollHeight;return Ir.sizingStyle.boxSizing==="border-box"?vi+Ir.borderSize:vi-Ir.paddingSize}(jt,Nn);jt.value="x";var Dr=jt.scrollHeight-cr,ti=Dr*br;Er==="border-box"&&(ti=ti+cr+vr),_i=Math.max(ti,_i);var Kr=Dr*Qn;return Er==="border-box"&&(Kr=Kr+cr+vr),[_i=Math.min(Kr,_i),Dr]}(Rn,Ut.value||Ut.placeholder||"x",O,S),Hn=lr[0],Jn=lr[1];dn.current!==Hn&&(dn.current=Hn,Ut.style.setProperty("height",Hn+"px","important"),F(Hn,{rowHeight:Jn}))}};return Object(ut.useLayoutEffect)(Cn),Je=tn(Cn),Object(ut.useLayoutEffect)(function(){var Ut=function(Rn){Je.current(Rn)};return window.addEventListener("resize",Ut),function(){window.removeEventListener("resize",Ut)}},[]),Object(ut.createElement)("textarea",Qe({},Y,{onChange:function(Ut){pt||Cn(),N(Ut)},ref:en}))},me=Object(ut.forwardRef)(fe);function ke(g){g=g.trim();try{if((g=JSON.stringify(JSON.parse(g)))[0]==="[")return Ie("array",JSON.parse(g));if(g[0]==="{")return Ie("object",JSON.parse(g));if(g.match(/\-?\d+\.\d+/)&&g.match(/\-?\d+\.\d+/)[0]===g)return Ie("float",parseFloat(g));if(g.match(/\-?\d+e-\d+/)&&g.match(/\-?\d+e-\d+/)[0]===g)return Ie("float",Number(g));if(g.match(/\-?\d+/)&&g.match(/\-?\d+/)[0]===g)return Ie("integer",parseInt(g));if(g.match(/\-?\d+e\+\d+/)&&g.match(/\-?\d+e\+\d+/)[0]===g)return Ie("integer",Number(g))}catch(p){}switch(g=g.toLowerCase()){case"undefined":return Ie("undefined",void 0);case"nan":return Ie("nan",NaN);case"null":return Ie("null",null);case"true":return Ie("boolean",!0);case"false":return Ie("boolean",!1);default:if(g=Date.parse(g))return Ie("date",new Date(g))}return Ie(!1,null)}function Ie(g,p){return{type:g,value:p}}var At=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props,O=S.style,q=Ue(S,["style"]);return H.a.createElement("span",q,H.a.createElement("svg",Object.assign({},de(O),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),H.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),x}(H.a.PureComponent),Jt=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props,O=S.style,q=Ue(S,["style"]);return H.a.createElement("span",q,H.a.createElement("svg",Object.assign({},de(O),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),H.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),x}(H.a.PureComponent),Vn=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props,O=S.style,q=Ue(S,["style"]),N=de(O).style;return H.a.createElement("span",q,H.a.createElement("svg",{fill:N.color,width:N.height,height:N.width,style:N,viewBox:"0 0 1792 1792"},H.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),x}(H.a.PureComponent),Ln=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props,O=S.style,q=Ue(S,["style"]),N=de(O).style;return H.a.createElement("span",q,H.a.createElement("svg",{fill:N.color,width:N.height,height:N.width,style:N,viewBox:"0 0 1792 1792"},H.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),x}(H.a.PureComponent),ue=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props,O=S.style,q=Ue(S,["style"]);return H.a.createElement("span",q,H.a.createElement("svg",{style:D(D({},de(O).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},H.a.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),x}(H.a.PureComponent),je=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props,O=S.style,q=Ue(S,["style"]);return H.a.createElement("span",q,H.a.createElement("svg",{style:D(D({},de(O).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},H.a.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),x}(H.a.PureComponent),Ye=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props,O=S.style,q=Ue(S,["style"]);return H.a.createElement("span",q,H.a.createElement("svg",Object.assign({},de(O),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),H.a.createElement("g",null,H.a.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),x}(H.a.PureComponent),qe=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props,O=S.style,q=Ue(S,["style"]);return H.a.createElement("span",q,H.a.createElement("svg",Object.assign({},de(O),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),H.a.createElement("g",null,H.a.createElement("path",{d:"m28.6 25q0-0.5-0.4-1l-4-4 4-4q0.4-0.5 0.4-1 0-0.6-0.4-1.1l-2-2q-0.4-0.4-1-0.4-0.6 0-1 0.4l-4.1 4.1-4-4.1q-0.4-0.4-1-0.4-0.6 0-1 0.4l-2 2q-0.5 0.5-0.5 1.1 0 0.5 0.5 1l4 4-4 4q-0.5 0.5-0.5 1 0 0.7 0.5 1.1l2 2q0.4 0.4 1 0.4 0.6 0 1-0.4l4-4.1 4.1 4.1q0.4 0.4 1 0.4 0.6 0 1-0.4l2-2q0.4-0.4 0.4-1z m8.7-5q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),x}(H.a.PureComponent),kt=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props,O=S.style,q=Ue(S,["style"]);return H.a.createElement("span",q,H.a.createElement("svg",Object.assign({},de(O),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),H.a.createElement("g",null,H.a.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),x}(H.a.PureComponent),vn=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props,O=S.style,q=Ue(S,["style"]);return H.a.createElement("span",q,H.a.createElement("svg",Object.assign({},de(O),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),H.a.createElement("g",null,H.a.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),x}(H.a.PureComponent),sn=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props,O=S.style,q=Ue(S,["style"]);return H.a.createElement("span",q,H.a.createElement("svg",Object.assign({},de(O),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),H.a.createElement("g",null,H.a.createElement("path",{d:"m19.8 26.4l2.6-2.6-3.4-3.4-2.6 2.6v1.3h2.2v2.1h1.2z m9.8-16q-0.3-0.4-0.7 0l-7.8 7.8q-0.4 0.4 0 0.7t0.7 0l7.8-7.8q0.4-0.4 0-0.7z m1.8 13.2v4.3q0 2.6-1.9 4.5t-4.5 1.9h-18.6q-2.6 0-4.5-1.9t-1.9-4.5v-18.6q0-2.7 1.9-4.6t4.5-1.8h18.6q1.4 0 2.6 0.5 0.3 0.2 0.4 0.5 0.1 0.4-0.2 0.7l-1.1 1.1q-0.3 0.3-0.7 0.1-0.5-0.1-1-0.1h-18.6q-1.4 0-2.5 1.1t-1 2.5v18.6q0 1.4 1 2.5t2.5 1h18.6q1.5 0 2.5-1t1.1-2.5v-2.9q0-0.2 0.2-0.4l1.4-1.5q0.3-0.3 0.8-0.1t0.4 0.6z m-2.1-16.5l6.4 6.5-15 15h-6.4v-6.5z m9.9 3l-2.1 2-6.4-6.4 2.1-2q0.6-0.7 1.5-0.7t1.5 0.7l3.4 3.4q0.6 0.6 0.6 1.5t-0.6 1.5z"}))))}}]),x}(H.a.PureComponent),It=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props,O=S.style,q=Ue(S,["style"]);return H.a.createElement("span",q,H.a.createElement("svg",Object.assign({},de(O),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),H.a.createElement("g",null,H.a.createElement("path",{d:"m31.7 16.4q0-0.6-0.4-1l-2.1-2.1q-0.4-0.4-1-0.4t-1 0.4l-9.1 9.1-5-5q-0.5-0.4-1-0.4t-1 0.4l-2.1 2q-0.4 0.4-0.4 1 0 0.6 0.4 1l8.1 8.1q0.4 0.4 1 0.4 0.6 0 1-0.4l12.2-12.1q0.4-0.4 0.4-1z m5.6 3.6q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),x}(H.a.PureComponent);function de(g){return g||(g={}),{style:D(D({verticalAlign:"middle"},g),{},{color:g.color?g.color:"#000000",height:"1em",width:"1em"})}}var Oe=function(g){xe(x,g);var p=at(x);function x(S){var O;return j(this,x),(O=p.call(this,S)).copiedTimer=null,O.handleCopy=function(){var q=document.createElement("textarea"),N=O.props,V=N.clickCallback,F=N.src,Y=N.namespace;q.innerHTML=JSON.stringify(O.clipboardValue(F),null,"  "),document.body.appendChild(q),q.select(),document.execCommand("copy"),document.body.removeChild(q),O.copiedTimer=setTimeout(function(){O.setState({copied:!1})},5500),O.setState({copied:!0},function(){typeof V=="function"&&V({src:F,namespace:Y,name:Y[Y.length-1]})})},O.getClippyIcon=function(){var q=O.props.theme;return O.state.copied?H.a.createElement("span",null,H.a.createElement(Ye,Object.assign({className:"copy-icon"},Me(q,"copy-icon"))),H.a.createElement("span",Me(q,"copy-icon-copied"),"\u2714")):H.a.createElement(Ye,Object.assign({className:"copy-icon"},Me(q,"copy-icon")))},O.clipboardValue=function(q){switch(Xe(q)){case"function":case"regexp":return q.toString();default:return q}},O.state={copied:!1},O}return ne(x,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"render",value:function(){var S=this.props,O=(S.src,S.theme),q=S.hidden,N=S.rowHovered,V=Me(O,"copy-to-clipboard").style,F="inline";return q&&(F="none"),H.a.createElement("span",{className:"copy-to-clipboard-container",title:"Copy to clipboard",style:{verticalAlign:"top",display:N?"inline-block":"none"}},H.a.createElement("span",{style:D(D({},V),{},{display:F}),onClick:this.handleCopy},this.getClippyIcon()))}}]),x}(H.a.PureComponent),st=function(g){xe(x,g);var p=at(x);function x(S){var O;return j(this,x),(O=p.call(this,S)).getEditIcon=function(){var q=O.props,N=q.variable,V=q.theme;return H.a.createElement("div",{className:"click-to-edit",style:{verticalAlign:"top",display:O.state.hovered?"inline-block":"none"}},H.a.createElement(sn,Object.assign({className:"click-to-edit-icon"},Me(V,"editVarIcon"),{onClick:function(){O.prepopInput(N)}})))},O.prepopInput=function(q){if(O.props.onEdit!==!1){var N=function(F){var Y;switch(Xe(F)){case"undefined":Y="undefined";break;case"nan":Y="NaN";break;case"string":Y=F;break;case"date":case"function":case"regexp":Y=F.toString();break;default:try{Y=JSON.stringify(F,null,"  ")}catch(Je){Y=""}}return Y}(q.value),V=ke(N);O.setState({editMode:!0,editValue:N,parsedInput:{type:V.type,value:V.value}})}},O.getRemoveIcon=function(){var q=O.props,N=q.variable,V=q.namespace,F=q.theme,Y=q.rjvId;return H.a.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top",display:O.state.hovered?"inline-block":"none"}},H.a.createElement(qe,Object.assign({className:"click-to-remove-icon"},Me(F,"removeVarIcon"),{onClick:function(){Ge.dispatch({name:"VARIABLE_REMOVED",rjvId:Y,data:{name:N.name,namespace:V,existing_value:N.value,variable_removed:!0}})}})))},O.getValue=function(q,N){var V=!N&&q.type,F=We(O).props;switch(V){case!1:return O.getEditInput();case"string":return H.a.createElement(Ht,Object.assign({value:q.value},F));case"integer":return H.a.createElement(Tt,Object.assign({value:q.value},F));case"float":return H.a.createElement(le,Object.assign({value:q.value},F));case"boolean":return H.a.createElement(Re,Object.assign({value:q.value},F));case"function":return H.a.createElement(bt,Object.assign({value:q.value},F));case"null":return H.a.createElement(Kt,F);case"nan":return H.a.createElement(Vt,F);case"undefined":return H.a.createElement(St,F);case"date":return H.a.createElement($e,Object.assign({value:q.value},F));case"regexp":return H.a.createElement(Mt,Object.assign({value:q.value},F));default:return H.a.createElement("div",{className:"object-value"},JSON.stringify(q.value))}},O.getEditInput=function(){var q=O.props.theme,N=O.state.editValue;return H.a.createElement("div",null,H.a.createElement(me,Object.assign({type:"text",inputRef:function(V){return V&&V.focus()},value:N,className:"variable-editor",onChange:function(V){var F=V.target.value,Y=ke(F);O.setState({editValue:F,parsedInput:{type:Y.type,value:Y.value}})},onKeyDown:function(V){switch(V.key){case"Escape":O.setState({editMode:!1,editValue:""});break;case"Enter":(V.ctrlKey||V.metaKey)&&O.submitEdit(!0)}V.stopPropagation()},placeholder:"update this value",minRows:2},Me(q,"edit-input"))),H.a.createElement("div",Me(q,"edit-icon-container"),H.a.createElement(qe,Object.assign({className:"edit-cancel"},Me(q,"cancel-icon"),{onClick:function(){O.setState({editMode:!1,editValue:""})}})),H.a.createElement(It,Object.assign({className:"edit-check string-value"},Me(q,"check-icon"),{onClick:function(){O.submitEdit()}})),H.a.createElement("div",null,O.showDetected())))},O.submitEdit=function(q){var N=O.props,V=N.variable,F=N.namespace,Y=N.rjvId,Je=O.state,pt=Je.editValue,Pt=Je.parsedInput,en=pt;q&&Pt.type&&(en=Pt.value),O.setState({editMode:!1}),Ge.dispatch({name:"VARIABLE_UPDATED",rjvId:Y,data:{name:V.name,namespace:F,existing_value:V.value,new_value:en,variable_removed:!1}})},O.showDetected=function(){var q=O.props,N=q.theme,V=(q.variable,q.namespace,q.rjvId,O.state.parsedInput),F=(V.type,V.value,O.getDetectedInput());if(F)return H.a.createElement("div",null,H.a.createElement("div",Me(N,"detected-row"),F,H.a.createElement(It,{className:"edit-check detected",style:D({verticalAlign:"top",paddingLeft:"3px"},Me(N,"check-icon").style),onClick:function(){O.submitEdit(!0)}})))},O.getDetectedInput=function(){var q=O.state.parsedInput,N=q.type,V=q.value,F=We(O).props,Y=F.theme;if(N!==!1)switch(N.toLowerCase()){case"object":return H.a.createElement("span",null,H.a.createElement("span",{style:D(D({},Me(Y,"brace").style),{},{cursor:"default"})},"{"),H.a.createElement("span",{style:D(D({},Me(Y,"ellipsis").style),{},{cursor:"default"})},"..."),H.a.createElement("span",{style:D(D({},Me(Y,"brace").style),{},{cursor:"default"})},"}"));case"array":return H.a.createElement("span",null,H.a.createElement("span",{style:D(D({},Me(Y,"brace").style),{},{cursor:"default"})},"["),H.a.createElement("span",{style:D(D({},Me(Y,"ellipsis").style),{},{cursor:"default"})},"..."),H.a.createElement("span",{style:D(D({},Me(Y,"brace").style),{},{cursor:"default"})},"]"));case"string":return H.a.createElement(Ht,Object.assign({value:V},F));case"integer":return H.a.createElement(Tt,Object.assign({value:V},F));case"float":return H.a.createElement(le,Object.assign({value:V},F));case"boolean":return H.a.createElement(Re,Object.assign({value:V},F));case"function":return H.a.createElement(bt,Object.assign({value:V},F));case"null":return H.a.createElement(Kt,F);case"nan":return H.a.createElement(Vt,F);case"undefined":return H.a.createElement(St,F);case"date":return H.a.createElement($e,Object.assign({value:new Date(V)},F))}},O.state={editMode:!1,editValue:"",hovered:!1,renameKey:!1,parsedInput:{type:!1,value:null}},O}return ne(x,[{key:"render",value:function(){var S=this,O=this.props,q=O.variable,N=O.singleIndent,V=O.type,F=O.theme,Y=O.namespace,Je=O.indentWidth,pt=O.enableClipboard,Pt=O.onEdit,en=O.onDelete,dn=O.onSelect,Mn=O.displayArrayKey,Cn=O.quotesOnKeys,Ut=this.state.editMode;return H.a.createElement("div",Object.assign({},Me(F,"objectKeyVal",{paddingLeft:Je*N}),{onMouseEnter:function(){return S.setState(D(D({},S.state),{},{hovered:!0}))},onMouseLeave:function(){return S.setState(D(D({},S.state),{},{hovered:!1}))},className:"variable-row",key:q.name}),V=="array"?Mn?H.a.createElement("span",Object.assign({},Me(F,"array-key"),{key:q.name+"_"+Y}),q.name,H.a.createElement("div",Me(F,"colon"),":")):null:H.a.createElement("span",null,H.a.createElement("span",Object.assign({},Me(F,"object-name"),{className:"object-key",key:q.name+"_"+Y}),!!Cn&&H.a.createElement("span",{style:{verticalAlign:"top"}},'"'),H.a.createElement("span",{style:{display:"inline-block"}},q.name),!!Cn&&H.a.createElement("span",{style:{verticalAlign:"top"}},'"')),H.a.createElement("span",Me(F,"colon"),":")),H.a.createElement("div",Object.assign({className:"variable-value",onClick:dn===!1&&Pt===!1?null:function(Rn){var lr=Te(Y);(Rn.ctrlKey||Rn.metaKey)&&Pt!==!1?S.prepopInput(q):dn!==!1&&(lr.shift(),dn(D(D({},q),{},{namespace:lr})))}},Me(F,"variableValue",{cursor:dn===!1?"default":"pointer"})),this.getValue(q,Ut)),pt?H.a.createElement(Oe,{rowHovered:this.state.hovered,hidden:Ut,src:q.value,clickCallback:pt,theme:F,namespace:[].concat(Te(Y),[q.name])}):null,Pt!==!1&&Ut==0?this.getEditIcon():null,en!==!1&&Ut==0?this.getRemoveIcon():null)}}]),x}(H.a.PureComponent),_t=function(g){xe(x,g);var p=at(x);function x(){var S;j(this,x);for(var O=arguments.length,q=new Array(O),N=0;N<O;N++)q[N]=arguments[N];return(S=p.call.apply(p,[this].concat(q))).getObjectSize=function(){var V=S.props,F=V.size,Y=V.theme;if(V.displayObjectSize)return H.a.createElement("span",Object.assign({className:"object-size"},Me(Y,"object-size")),F," item",F===1?"":"s")},S.getAddAttribute=function(V){var F=S.props,Y=F.theme,Je=F.namespace,pt=F.name,Pt=F.src,en=F.rjvId,dn=F.depth;return H.a.createElement("span",{className:"click-to-add",style:{verticalAlign:"top",display:V?"inline-block":"none"}},H.a.createElement(kt,Object.assign({className:"click-to-add-icon"},Me(Y,"addVarIcon"),{onClick:function(){var Mn={name:dn>0?pt:null,namespace:Je.splice(0,Je.length-1),existing_value:Pt,variable_removed:!1,key_name:null};Xe(Pt)==="object"?Ge.dispatch({name:"ADD_VARIABLE_KEY_REQUEST",rjvId:en,data:Mn}):Ge.dispatch({name:"VARIABLE_ADDED",rjvId:en,data:D(D({},Mn),{},{new_value:[].concat(Te(Pt),[null])})})}})))},S.getRemoveObject=function(V){var F=S.props,Y=F.theme,Je=(F.hover,F.namespace),pt=F.name,Pt=F.src,en=F.rjvId;if(Je.length!==1)return H.a.createElement("span",{className:"click-to-remove",style:{display:V?"inline-block":"none"}},H.a.createElement(qe,Object.assign({className:"click-to-remove-icon"},Me(Y,"removeVarIcon"),{onClick:function(){Ge.dispatch({name:"VARIABLE_REMOVED",rjvId:en,data:{name:pt,namespace:Je.splice(0,Je.length-1),existing_value:Pt,variable_removed:!0}})}})))},S.render=function(){var V=S.props,F=V.theme,Y=V.onDelete,Je=V.onAdd,pt=V.enableClipboard,Pt=V.src,en=V.namespace,dn=V.rowHovered;return H.a.createElement("div",Object.assign({},Me(F,"object-meta-data"),{className:"object-meta-data",onClick:function(Mn){Mn.stopPropagation()}}),S.getObjectSize(),pt?H.a.createElement(Oe,{rowHovered:dn,clickCallback:pt,src:Pt,theme:F,namespace:en}):null,Je!==!1?S.getAddAttribute(dn):null,Y!==!1?S.getRemoveObject(dn):null)},S}return x}(H.a.PureComponent);function Xt(g){var p=g.parent_type,x=g.namespace,S=g.quotesOnKeys,O=g.theme,q=g.jsvRoot,N=g.name,V=g.displayArrayKey,F=g.name?g.name:"";return!q||N!==!1&&N!==null?p=="array"?V?H.a.createElement("span",Object.assign({},Me(O,"array-key"),{key:x}),H.a.createElement("span",{className:"array-key"},F),H.a.createElement("span",Me(O,"colon"),":")):H.a.createElement("span",null):H.a.createElement("span",Object.assign({},Me(O,"object-name"),{key:x}),H.a.createElement("span",{className:"object-key"},S&&H.a.createElement("span",{style:{verticalAlign:"top"}},'"'),H.a.createElement("span",null,F),S&&H.a.createElement("span",{style:{verticalAlign:"top"}},'"')),H.a.createElement("span",Me(O,"colon"),":")):H.a.createElement("span",null)}function bn(g){var p=g.theme;switch(g.iconStyle){case"triangle":return H.a.createElement(je,Object.assign({},Me(p,"expanded-icon"),{className:"expanded-icon"}));case"square":return H.a.createElement(Vn,Object.assign({},Me(p,"expanded-icon"),{className:"expanded-icon"}));default:return H.a.createElement(At,Object.assign({},Me(p,"expanded-icon"),{className:"expanded-icon"}))}}function $n(g){var p=g.theme;switch(g.iconStyle){case"triangle":return H.a.createElement(ue,Object.assign({},Me(p,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return H.a.createElement(Ln,Object.assign({},Me(p,"collapsed-icon"),{className:"collapsed-icon"}));default:return H.a.createElement(Jt,Object.assign({},Me(p,"collapsed-icon"),{className:"collapsed-icon"}))}}var Ce=function(g){xe(x,g);var p=at(x);function x(S){var O;return j(this,x),(O=p.call(this,S)).toggleCollapsed=function(q){var N=[];for(var V in O.state.expanded)N.push(O.state.expanded[V]);N[q]=!N[q],O.setState({expanded:N})},O.state={expanded:[]},O}return ne(x,[{key:"getExpandedIcon",value:function(S){var O=this.props,q=O.theme,N=O.iconStyle;return this.state.expanded[S]?H.a.createElement(bn,{theme:q,iconStyle:N}):H.a.createElement($n,{theme:q,iconStyle:N})}},{key:"render",value:function(){var S=this,O=this.props,q=O.src,N=O.groupArraysAfterLength,V=(O.depth,O.name),F=O.theme,Y=O.jsvRoot,Je=O.namespace,pt=(O.parent_type,Ue(O,["src","groupArraysAfterLength","depth","name","theme","jsvRoot","namespace","parent_type"])),Pt=0,en=5*this.props.indentWidth;Y||(Pt=5*this.props.indentWidth);var dn=N,Mn=Math.ceil(q.length/dn);return H.a.createElement("div",Object.assign({className:"object-key-val"},Me(F,Y?"jsv-root":"objectKeyVal",{paddingLeft:Pt})),H.a.createElement(Xt,this.props),H.a.createElement("span",null,H.a.createElement(_t,Object.assign({size:q.length},this.props))),Te(Array(Mn)).map(function(Cn,Ut){return H.a.createElement("div",Object.assign({key:Ut,className:"object-key-val array-group"},Me(F,"objectKeyVal",{marginLeft:6,paddingLeft:en})),H.a.createElement("span",Me(F,"brace-row"),H.a.createElement("div",Object.assign({className:"icon-container"},Me(F,"icon-container"),{onClick:function(Rn){S.toggleCollapsed(Ut)}}),S.getExpandedIcon(Ut)),S.state.expanded[Ut]?H.a.createElement(Wt,Object.assign({key:V+Ut,depth:0,name:!1,collapsed:!1,groupArraysAfterLength:dn,index_offset:Ut*dn,src:q.slice(Ut*dn,Ut*dn+dn),namespace:Je,type:"array",parent_type:"array_group",theme:F},pt)):H.a.createElement("span",Object.assign({},Me(F,"brace"),{onClick:function(Rn){S.toggleCollapsed(Ut)},className:"array-group-brace"}),"[",H.a.createElement("div",Object.assign({},Me(F,"array-group-meta-data"),{className:"array-group-meta-data"}),H.a.createElement("span",Object.assign({className:"object-size"},Me(F,"object-size")),Ut*dn," - ",Ut*dn+dn>q.length?q.length:Ut*dn+dn)),"]")))}))}}]),x}(H.a.PureComponent),Ze=function(g){xe(x,g);var p=at(x);function x(S){var O;j(this,x),(O=p.call(this,S)).toggleCollapsed=function(){O.setState({expanded:!O.state.expanded},function(){ht.set(O.props.rjvId,O.props.namespace,"expanded",O.state.expanded)})},O.getObjectContent=function(N,V,F){return H.a.createElement("div",{className:"pushed-content object-container"},H.a.createElement("div",Object.assign({className:"object-content"},Me(O.props.theme,"pushed-content")),O.renderObjectContents(V,F)))},O.getEllipsis=function(){return O.state.size===0?null:H.a.createElement("div",Object.assign({},Me(O.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:O.toggleCollapsed}),"...")},O.getObjectMetaData=function(N){var V=O.props,F=(V.rjvId,V.theme,O.state),Y=F.size,Je=F.hovered;return H.a.createElement(_t,Object.assign({rowHovered:Je,size:Y},O.props))},O.renderObjectContents=function(N,V){var F,Y=O.props,Je=Y.depth,pt=Y.parent_type,Pt=Y.index_offset,en=Y.groupArraysAfterLength,dn=Y.namespace,Mn=O.state.object_type,Cn=[],Ut=Object.keys(N||{});return O.props.sortKeys&&Mn!=="array"&&(Ut=Ut.sort()),Ut.forEach(function(Rn){if(F=new xt(Rn,N[Rn]),pt==="array_group"&&Pt&&(F.name=parseInt(F.name)+Pt),N.hasOwnProperty(Rn))if(F.type==="object")Cn.push(H.a.createElement(Wt,Object.assign({key:F.name,depth:Je+1,name:F.name,src:F.value,namespace:dn.concat(F.name),parent_type:Mn},V)));else if(F.type==="array"){var lr=Wt;en&&F.value.length>en&&(lr=Ce),Cn.push(H.a.createElement(lr,Object.assign({key:F.name,depth:Je+1,name:F.name,src:F.value,namespace:dn.concat(F.name),type:"array",parent_type:Mn},V)))}else Cn.push(H.a.createElement(st,Object.assign({key:F.name+"_"+dn,variable:F,singleIndent:5,namespace:dn,type:O.props.type},V)))}),Cn};var q=x.getState(S);return O.state=D(D({},q),{},{prevProps:{}}),O}return ne(x,[{key:"getBraceStart",value:function(S,O){var q=this,N=this.props,V=N.src,F=N.theme,Y=N.iconStyle;if(N.parent_type==="array_group")return H.a.createElement("span",null,H.a.createElement("span",Me(F,"brace"),S==="array"?"[":"{"),O?this.getObjectMetaData(V):null);var Je=O?bn:$n;return H.a.createElement("span",null,H.a.createElement("span",Object.assign({onClick:function(pt){q.toggleCollapsed()}},Me(F,"brace-row")),H.a.createElement("div",Object.assign({className:"icon-container"},Me(F,"icon-container")),H.a.createElement(Je,{theme:F,iconStyle:Y})),H.a.createElement(Xt,this.props),H.a.createElement("span",Me(F,"brace"),S==="array"?"[":"{")),O?this.getObjectMetaData(V):null)}},{key:"render",value:function(){var S=this,O=this.props,q=O.depth,N=O.src,V=(O.namespace,O.name,O.type,O.parent_type),F=O.theme,Y=O.jsvRoot,Je=O.iconStyle,pt=Ue(O,["depth","src","namespace","name","type","parent_type","theme","jsvRoot","iconStyle"]),Pt=this.state,en=Pt.object_type,dn=Pt.expanded,Mn={};return Y||V==="array_group"?V==="array_group"&&(Mn.borderLeft=0,Mn.display="inline"):Mn.paddingLeft=5*this.props.indentWidth,H.a.createElement("div",Object.assign({className:"object-key-val",onMouseEnter:function(){return S.setState(D(D({},S.state),{},{hovered:!0}))},onMouseLeave:function(){return S.setState(D(D({},S.state),{},{hovered:!1}))}},Me(F,Y?"jsv-root":"objectKeyVal",Mn)),this.getBraceStart(en,dn),dn?this.getObjectContent(q,N,D({theme:F,iconStyle:Je},pt)):this.getEllipsis(),H.a.createElement("span",{className:"brace-row"},H.a.createElement("span",{style:D(D({},Me(F,"brace").style),{},{paddingLeft:dn?"3px":"0px"})},en==="array"?"]":"}"),dn?null:this.getObjectMetaData(N)))}}],[{key:"getDerivedStateFromProps",value:function(S,O){var q=O.prevProps;return S.src!==q.src||S.collapsed!==q.collapsed||S.name!==q.name||S.namespace!==q.namespace||S.rjvId!==q.rjvId?D(D({},x.getState(S)),{},{prevProps:S}):null}}]),x}(H.a.PureComponent);Ze.getState=function(g){var p=Object.keys(g.src).length,x=(g.collapsed===!1||g.collapsed!==!0&&g.collapsed>g.depth)&&(!g.shouldCollapse||g.shouldCollapse({name:g.name,src:g.src,type:Xe(g.src),namespace:g.namespace})===!1)&&p!==0;return{expanded:ht.get(g.rjvId,g.namespace,"expanded",x),object_type:g.type==="array"?"array":"object",parent_type:g.type==="array"?"array":"object",size:p,hovered:!1}};var xt=function g(p,x){j(this,g),this.name=p,this.value=x,this.type=Xe(x)};Dt(Ze);var Wt=Ze,fn=function(g){xe(x,g);var p=at(x);function x(){var S;j(this,x);for(var O=arguments.length,q=new Array(O),N=0;N<O;N++)q[N]=arguments[N];return(S=p.call.apply(p,[this].concat(q))).render=function(){var V=We(S).props,F=[V.name],Y=Wt;return Array.isArray(V.src)&&V.groupArraysAfterLength&&V.src.length>V.groupArraysAfterLength&&(Y=Ce),H.a.createElement("div",{className:"pretty-json-container object-container"},H.a.createElement("div",{className:"object-content"},H.a.createElement(Y,Object.assign({namespace:F,depth:0,jsvRoot:!0},V))))},S}return x}(H.a.PureComponent),_n=function(g){xe(x,g);var p=at(x);function x(S){var O;return j(this,x),(O=p.call(this,S)).closeModal=function(){Ge.dispatch({rjvId:O.props.rjvId,name:"RESET"})},O.submit=function(){O.props.submit(O.state.input)},O.state={input:S.input?S.input:""},O}return ne(x,[{key:"render",value:function(){var S=this,O=this.props,q=O.theme,N=O.rjvId,V=O.isValid,F=this.state.input,Y=V(F);return H.a.createElement("div",Object.assign({className:"key-modal-request"},Me(q,"key-modal-request"),{onClick:this.closeModal}),H.a.createElement("div",Object.assign({},Me(q,"key-modal"),{onClick:function(Je){Je.stopPropagation()}}),H.a.createElement("div",Me(q,"key-modal-label"),"Key Name:"),H.a.createElement("div",{style:{position:"relative"}},H.a.createElement("input",Object.assign({},Me(q,"key-modal-input"),{className:"key-modal-input",ref:function(Je){return Je&&Je.focus()},spellCheck:!1,value:F,placeholder:"...",onChange:function(Je){S.setState({input:Je.target.value})},onKeyPress:function(Je){Y&&Je.key==="Enter"?S.submit():Je.key==="Escape"&&S.closeModal()}})),Y?H.a.createElement(It,Object.assign({},Me(q,"key-modal-submit"),{className:"key-modal-submit",onClick:function(Je){return S.submit()}})):null),H.a.createElement("span",Me(q,"key-modal-cancel"),H.a.createElement(vn,Object.assign({},Me(q,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function(){Ge.dispatch({rjvId:N,name:"RESET"})}})))))}}]),x}(H.a.PureComponent),Bn=function(g){xe(x,g);var p=at(x);function x(){var S;j(this,x);for(var O=arguments.length,q=new Array(O),N=0;N<O;N++)q[N]=arguments[N];return(S=p.call.apply(p,[this].concat(q))).isValid=function(V){var F=S.props.rjvId,Y=ht.get(F,"action","new-key-request");return V!=""&&Object.keys(Y.existing_value).indexOf(V)===-1},S.submit=function(V){var F=S.props.rjvId,Y=ht.get(F,"action","new-key-request");Y.new_value=D({},Y.existing_value),Y.new_value[V]=S.props.defaultValue,Ge.dispatch({name:"VARIABLE_ADDED",rjvId:F,data:Y})},S}return ne(x,[{key:"render",value:function(){var S=this.props,O=S.active,q=S.theme,N=S.rjvId;return O?H.a.createElement(_n,{rjvId:N,theme:q,isValid:this.isValid,submit:this.submit}):null}}]),x}(H.a.PureComponent),ve=function(g){xe(x,g);var p=at(x);function x(){return j(this,x),p.apply(this,arguments)}return ne(x,[{key:"render",value:function(){var S=this.props,O=S.message,q=S.active,N=S.theme,V=S.rjvId;return q?H.a.createElement("div",Object.assign({className:"validation-failure"},Me(N,"validation-failure"),{onClick:function(){Ge.dispatch({rjvId:V,name:"RESET"})}}),H.a.createElement("span",Me(N,"validation-failure-label"),O),H.a.createElement(vn,Me(N,"validation-failure-clear"))):null}}]),x}(H.a.PureComponent),we=function(g){xe(x,g);var p=at(x);function x(S){var O;return j(this,x),(O=p.call(this,S)).rjvId=Date.now().toString(),O.getListeners=function(){return{reset:O.resetState,"variable-update":O.updateSrc,"add-key-request":O.addKeyRequest}},O.updateSrc=function(){var q,N=ht.get(O.rjvId,"action","variable-update"),V=N.name,F=N.namespace,Y=N.new_value,Je=N.existing_value,pt=(N.variable_removed,N.updated_src),Pt=N.type,en=O.props,dn=en.onEdit,Mn=en.onDelete,Cn=en.onAdd,Ut={existing_src:O.state.src,new_value:Y,updated_src:pt,name:V,namespace:F,existing_value:Je};switch(Pt){case"variable-added":q=Cn(Ut);break;case"variable-edited":q=dn(Ut);break;case"variable-removed":q=Mn(Ut)}q!==!1?(ht.set(O.rjvId,"global","src",pt),O.setState({src:pt})):O.setState({validationFailure:!0})},O.addKeyRequest=function(){O.setState({addKeyRequest:!0})},O.resetState=function(){O.setState({validationFailure:!1,addKeyRequest:!1})},O.state={addKeyRequest:!1,editKeyRequest:!1,validationFailure:!1,src:x.defaultProps.src,name:x.defaultProps.name,theme:x.defaultProps.theme,validationMessage:x.defaultProps.validationMessage,prevSrc:x.defaultProps.src,prevName:x.defaultProps.name,prevTheme:x.defaultProps.theme},O}return ne(x,[{key:"componentDidMount",value:function(){ht.set(this.rjvId,"global","src",this.state.src);var S=this.getListeners();for(var O in S)ht.on(O+"-"+this.rjvId,S[O]);this.setState({addKeyRequest:!1,editKeyRequest:!1})}},{key:"componentDidUpdate",value:function(S,O){O.addKeyRequest!==!1&&this.setState({addKeyRequest:!1}),O.editKeyRequest!==!1&&this.setState({editKeyRequest:!1}),S.src!==this.state.src&&ht.set(this.rjvId,"global","src",this.state.src)}},{key:"componentWillUnmount",value:function(){var S=this.getListeners();for(var O in S)ht.removeListener(O+"-"+this.rjvId,S[O])}},{key:"render",value:function(){var S=this.state,O=S.validationFailure,q=S.validationMessage,N=S.addKeyRequest,V=S.theme,F=S.src,Y=S.name,Je=this.props,pt=Je.style,Pt=Je.defaultValue;return H.a.createElement("div",{className:"react-json-view",style:D(D({},Me(V,"app-container").style),pt)},H.a.createElement(ve,{message:q,active:O,theme:V,rjvId:this.rjvId}),H.a.createElement(fn,Object.assign({},this.props,{src:F,name:Y,theme:V,type:Xe(F),rjvId:this.rjvId})),H.a.createElement(Bn,{active:N,theme:V,rjvId:this.rjvId,defaultValue:Pt}))}}],[{key:"getDerivedStateFromProps",value:function(S,O){if(S.src!==O.prevSrc||S.name!==O.prevName||S.theme!==O.prevTheme){var q={src:S.src,name:S.name,theme:S.theme,validationMessage:S.validationMessage,prevSrc:S.src,prevName:S.name,prevTheme:S.theme};return x.validateState(q)}return null}}]),x}(H.a.PureComponent);we.defaultProps={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,shouldCollapse:!1,sortKeys:!1,quotesOnKeys:!0,groupArraysAfterLength:100,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error",defaultValue:null,displayArrayKey:!0},we.validateState=function(g){var p={};return Xe(g.theme)!=="object"||function(x){var S=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F"];if(Xe(x)==="object"){for(var O=0;O<S.length;O++)if(!(S[O]in x))return!1;return!0}return!1}(g.theme)||(console.error("react-json-view error:","theme prop must be a theme name or valid base-16 theme object.",'defaulting to "rjv-default" theme'),p.theme="rjv-default"),Xe(g.src)!=="object"&&Xe(g.src)!=="array"&&(console.error("react-json-view error:","src property must be a valid json object"),p.name="ERROR",p.src={message:"src property must be a valid json object"}),D(D({},g),p)},Dt(we),v.default=we}])})},23406:function(qt,et){"use strict";var W;et.ConcurrentRoot=1,et.ContinuousEventPriority=4,et.DefaultEventPriority=16,et.DiscreteEventPriority=1,W=536870912,W=0},45658:function(qt,et,W){qt.exports=function(b){var v={},y=W(50959),T=W(65297),k=Object.assign;function D(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j=y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),ne=Symbol.for("react.portal"),he=Symbol.for("react.fragment"),xe=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Ke=Symbol.for("react.provider"),We=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),lt=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var wt=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Nt=Symbol.iterator;function Dt(i){return i===null||typeof i!="object"?null:(i=Nt&&i[Nt]||i["@@iterator"],typeof i=="function"?i:null)}function Ue(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case he:return"Fragment";case ne:return"Portal";case B:return"Profiler";case xe:return"StrictMode";case at:return"Suspense";case ut:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case We:return(i.displayName||"Context")+".Consumer";case Ke:return(i._context.displayName||"Context")+".Provider";case Bt:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case H:return s=i.displayName||null,s!==null?s:Ue(i.type)||"Memo";case lt:s=i._payload,i=i._init;try{return Ue(i(s))}catch(u){}}return null}function Xe(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(s);case 8:return s===xe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function it(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function Ft(i){if(it(i)!==i)throw Error(D(188))}function X(i){var s=i.alternate;if(!s){if(s=it(i),s===null)throw Error(D(188));return s!==i?null:i}for(var u=i,h=s;;){var M=u.return;if(M===null)break;var I=M.alternate;if(I===null){if(h=M.return,h!==null){u=h;continue}break}if(M.child===I.child){for(I=M.child;I;){if(I===u)return Ft(M),i;if(I===h)return Ft(M),s;I=I.sibling}throw Error(D(188))}if(u.return!==h.return)u=M,h=I;else{for(var De=!1,mt=M.child;mt;){if(mt===u){De=!0,u=M,h=I;break}if(mt===h){De=!0,h=M,u=I;break}mt=mt.sibling}if(!De){for(mt=I.child;mt;){if(mt===u){De=!0,u=I,h=M;break}if(mt===h){De=!0,h=I,u=M;break}mt=mt.sibling}if(!De)throw Error(D(189))}}if(u.alternate!==h)throw Error(D(190))}if(u.tag!==3)throw Error(D(188));return u.stateNode.current===u?i:s}function be(i){return i=X(i),i!==null?ye(i):null}function ye(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=ye(i);if(s!==null)return s;i=i.sibling}return null}function Me(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){if(i.tag!==4){var s=Me(i);if(s!==null)return s}i=i.sibling}return null}var _e=Array.isArray,Re=b.getPublicInstance,$e=b.getRootHostContext,le=b.getChildHostContext,He=b.prepareForCommit,rt=b.resetAfterCommit,ce=b.createInstance,Te=b.appendInitialChild,Ve=b.finalizeInitialChildren,Ge=b.prepareUpdate,ot=b.shouldSetTextContent,ht=b.createTextInstance,bt=b.scheduleTimeout,Vt=b.cancelTimeout,Kt=b.noTimeout,Tt=b.isPrimaryRenderer,Mt=b.supportsMutation,Ht=b.supportsPersistence,St=b.supportsHydration,Qe=b.getInstanceFromNode,Et=b.preparePortalMount,tn=b.getCurrentEventPriority,un=b.detachDeletedInstance,nn=b.supportsMicrotasks,pn=b.scheduleMicrotask,Rt=b.supportsTestSelectors,jt=b.findFiberRoot,hn=b.getBoundingRect,tt=b.getTextContent,ie=b.isHiddenSubtree,fe=b.matchAccessibilityRole,me=b.setFocusIfFocusable,ke=b.setupIntersectionObserver,Ie=b.appendChild,At=b.appendChildToContainer,Jt=b.commitTextUpdate,Vn=b.commitMount,Ln=b.commitUpdate,ue=b.insertBefore,je=b.insertInContainerBefore,Ye=b.removeChild,qe=b.removeChildFromContainer,kt=b.resetTextContent,vn=b.hideInstance,sn=b.hideTextInstance,It=b.unhideInstance,de=b.unhideTextInstance,Oe=b.clearContainer,st=b.cloneInstance,_t=b.createContainerChildSet,Xt=b.appendChildToContainerChildSet,bn=b.finalizeContainerChildren,$n=b.replaceContainerChildren,Ce=b.cloneHiddenInstance,Ze=b.cloneHiddenTextInstance,xt=b.canHydrateInstance,Wt=b.canHydrateTextInstance,fn=b.canHydrateSuspenseInstance,_n=b.isSuspenseInstancePending,Bn=b.isSuspenseInstanceFallback,ve=b.registerSuspenseInstanceRetry,we=b.getNextHydratableSibling,g=b.getFirstHydratableChild,p=b.getFirstHydratableChildWithinContainer,x=b.getFirstHydratableChildWithinSuspenseInstance,S=b.hydrateInstance,O=b.hydrateTextInstance,q=b.hydrateSuspenseInstance,N=b.getNextHydratableInstanceAfterSuspenseInstance,V=b.commitHydratedContainer,F=b.commitHydratedSuspenseInstance,Y=b.clearSuspenseBoundary,Je=b.clearSuspenseBoundaryFromContainer,pt=b.shouldDeleteUnhydratedTailInstances,Pt=b.didNotMatchHydratedContainerTextInstance,en=b.didNotMatchHydratedTextInstance,dn;function Mn(i){if(dn===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);dn=s&&s[1]||""}return`
`+dn+i}var Cn=!1;function Ut(i,s){if(!i||Cn)return"";Cn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Fn){var h=Fn}Reflect.construct(i,[],s)}else{try{s.call()}catch(Fn){h=Fn}i.call(s.prototype)}else{try{throw Error()}catch(Fn){h=Fn}i()}}catch(Fn){if(Fn&&h&&typeof Fn.stack=="string"){for(var M=Fn.stack.split(`
`),I=h.stack.split(`
`),De=M.length-1,mt=I.length-1;1<=De&&0<=mt&&M[De]!==I[mt];)mt--;for(;1<=De&&0<=mt;De--,mt--)if(M[De]!==I[mt]){if(De!==1||mt!==1)do if(De--,mt--,0>mt||M[De]!==I[mt]){var Qt=`
`+M[De].replace(" at new "," at ");return i.displayName&&Qt.includes("<anonymous>")&&(Qt=Qt.replace("<anonymous>",i.displayName)),Qt}while(1<=De&&0<=mt);break}}}finally{Cn=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Mn(i):""}var Rn=Object.prototype.hasOwnProperty,lr=[],Hn=-1;function Jn(i){return{current:i}}function Nn(i){0>Hn||(i.current=lr[Hn],lr[Hn]=null,Hn--)}function Yn(i,s){Hn++,lr[Hn]=i.current,i.current=s}var br={},Qn=Jn(br),cr=Jn(!1),vr=br;function mr(i,s){var u=i.type.contextTypes;if(!u)return br;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var M={},I;for(I in u)M[I]=s[I];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=M),M}function Er(i){return i=i.childContextTypes,i!=null}function _i(){Nn(cr),Nn(Qn)}function Dr(i,s,u){if(Qn.current!==br)throw Error(D(168));Yn(Qn,s),Yn(cr,u)}function ti(i,s,u){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var M in h)if(!(M in s))throw Error(D(108,Xe(i)||"Unknown",M));return k({},u,h)}function Kr(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||br,vr=Qn.current,Yn(Qn,i),Yn(cr,cr.current),!0}function Vi(i,s,u){var h=i.stateNode;if(!h)throw Error(D(169));u?(i=ti(i,s,vr),h.__reactInternalMemoizedMergedChildContext=i,Nn(cr),Nn(Qn),Yn(Qn,i)):Nn(cr),Yn(cr,u)}var Ir=Math.clz32?Math.clz32:Xo,vi=Math.log,to=Math.LN2;function Xo(i){return i>>>=0,i===0?32:31-(vi(i)/to|0)|0}var no=64,ds=4194304;function As(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function So(i,s){var u=i.pendingLanes;if(u===0)return 0;var h=0,M=i.suspendedLanes,I=i.pingedLanes,De=u&268435455;if(De!==0){var mt=De&~M;mt!==0?h=As(mt):(I&=De,I!==0&&(h=As(I)))}else De=u&~M,De!==0?h=As(De):I!==0&&(h=As(I));if(h===0)return 0;if(s!==0&&s!==h&&!(s&M)&&(M=h&-h,I=s&-s,M>=I||M===16&&(I&4194240)!==0))return s;if(h&4&&(h|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)u=31-Ir(s),M=1<<u,h|=i[u],s&=~M;return h}function Ns(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(i,s){for(var u=i.suspendedLanes,h=i.pingedLanes,M=i.expirationTimes,I=i.pendingLanes;0<I;){var De=31-Ir(I),mt=1<<De,Qt=M[De];Qt===-1?(!(mt&u)||mt&h)&&(M[De]=Ns(mt,s)):Qt<=s&&(i.expiredLanes|=mt),I&=~mt}}function xi(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Fs(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Oo(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Ir(s),i[s]=u}function ji(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var M=31-Ir(u),I=1<<M;s[M]=0,h[M]=-1,i[M]=-1,u&=~I}}function Yo(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var h=31-Ir(u),M=1<<h;M&s|i[h]&s&&(i[h]|=s),u&=~M}}var qr=0;function Ki(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Eo=T.unstable_scheduleCallback,hs=T.unstable_cancelCallback,ps=T.unstable_shouldYield,Ko=T.unstable_requestPaint,Ei=T.unstable_now,z=T.unstable_ImmediatePriority,G=T.unstable_UserBlockingPriority,Se=T.unstable_NormalPriority,nt=T.unstable_IdlePriority,yt=null,gt=null;function $(i){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(yt,i,void 0,(i.current.flags&128)===128)}catch(s){}}function ge(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var P=typeof Object.is=="function"?Object.is:ge,ee=null,Be=!1,ft=!1;function xn(i){ee===null?ee=[i]:ee.push(i)}function In(i){Be=!0,xn(i)}function jn(){if(!ft&&ee!==null){ft=!0;var i=0,s=qr;try{var u=ee;for(qr=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}ee=null,Be=!1}catch(M){throw ee!==null&&(ee=ee.slice(i+1)),Eo(z,jn),M}finally{qr=s,ft=!1}}return null}var Sn=j.ReactCurrentBatchConfig;function Zn(i,s){if(P(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var M=u[h];if(!Rn.call(s,M)||!P(i[M],s[M]))return!1}return!0}function _r(i){switch(i.tag){case 5:return Mn(i.type);case 16:return Mn("Lazy");case 13:return Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 2:case 15:return i=Ut(i.type,!1),i;case 11:return i=Ut(i.type.render,!1),i;case 1:return i=Ut(i.type,!0),i;default:return""}}function or(i,s){if(i&&i.defaultProps){s=k({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}var Mr=Jn(null),Yr=null,Hr=null,$r=null;function Tr(){$r=Hr=Yr=null}function Nr(i,s,u){Tt?(Yn(Mr,s._currentValue),s._currentValue=u):(Yn(Mr,s._currentValue2),s._currentValue2=u)}function zr(i){var s=Mr.current;Nn(Mr),Tt?i._currentValue=s:i._currentValue2=s}function Ti(i,s,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===u)break;i=i.return}}function pi(i,s){Yr=i,$r=Hr=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(Zo=!0),i.firstContext=null)}function Di(i){var s=Tt?i._currentValue:i._currentValue2;if($r!==i)if(i={context:i,memoizedValue:s,next:null},Hr===null){if(Yr===null)throw Error(D(308));Hr=i,Yr.dependencies={lanes:0,firstContext:i}}else Hr=Hr.next=i;return s}var Ci=null,oi=!1;function la(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h1(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function lo(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Fo(i,s){var u=i.updateQueue;u!==null&&(u=u.shared,oo!==null&&i.mode&1&&!(Jr&2)?(i=u.interleaved,i===null?(s.next=s,Ci===null?Ci=[u]:Ci.push(u)):(s.next=i.next,i.next=s),u.interleaved=s):(i=u.pending,i===null?s.next=s:(s.next=i.next,i.next=s),u.pending=s))}function ks(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,Yo(i,u)}}function Qa(i,s){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var M=null,I=null;if(u=u.firstBaseUpdate,u!==null){do{var De={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};I===null?M=I=De:I=I.next=De,u=u.next}while(u!==null);I===null?M=I=s:I=I.next=s}else M=I=s;u={baseState:h.baseState,firstBaseUpdate:M,lastBaseUpdate:I,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function Ma(i,s,u,h){var M=i.updateQueue;oi=!1;var I=M.firstBaseUpdate,De=M.lastBaseUpdate,mt=M.shared.pending;if(mt!==null){M.shared.pending=null;var Qt=mt,Fn=Qt.next;Qt.next=null,De===null?I=Fn:De.next=Fn,De=Qt;var dr=i.alternate;dr!==null&&(dr=dr.updateQueue,mt=dr.lastBaseUpdate,mt!==De&&(mt===null?dr.firstBaseUpdate=Fn:mt.next=Fn,dr.lastBaseUpdate=Qt))}if(I!==null){var Fr=M.baseState;De=0,dr=Fn=Qt=null,mt=I;do{var Lr=mt.lane,Pi=mt.eventTime;if((h&Lr)===Lr){dr!==null&&(dr=dr.next={eventTime:Pi,lane:0,tag:mt.tag,payload:mt.payload,callback:mt.callback,next:null});e:{var xr=i,Vo=mt;switch(Lr=s,Pi=u,Vo.tag){case 1:if(xr=Vo.payload,typeof xr=="function"){Fr=xr.call(Pi,Fr,Lr);break e}Fr=xr;break e;case 3:xr.flags=xr.flags&-65537|128;case 0:if(xr=Vo.payload,Lr=typeof xr=="function"?xr.call(Pi,Fr,Lr):xr,Lr==null)break e;Fr=k({},Fr,Lr);break e;case 2:oi=!0}}mt.callback!==null&&mt.lane!==0&&(i.flags|=64,Lr=M.effects,Lr===null?M.effects=[mt]:Lr.push(mt))}else Pi={eventTime:Pi,lane:Lr,tag:mt.tag,payload:mt.payload,callback:mt.callback,next:null},dr===null?(Fn=dr=Pi,Qt=Fr):dr=dr.next=Pi,De|=Lr;if(mt=mt.next,mt===null){if(mt=M.shared.pending,mt===null)break;Lr=mt,mt=Lr.next,Lr.next=null,M.lastBaseUpdate=Lr,M.shared.pending=null}}while(1);if(dr===null&&(Qt=Fr),M.baseState=Qt,M.firstBaseUpdate=Fn,M.lastBaseUpdate=dr,s=M.shared.interleaved,s!==null){M=s;do De|=M.lane,M=M.next;while(M!==s)}else I===null&&(M.shared.lanes=0);c1|=De,i.lanes=De,i.memoizedState=Fr}}function $s(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],M=h.callback;if(M!==null){if(h.callback=null,h=u,typeof M!="function")throw Error(D(191,M));M.call(h)}}}var qs=new y.Component().refs;function ca(i,s,u,h){s=i.memoizedState,u=u(h,s),u=u==null?s:k({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Sa={isMounted:function(i){return(i=i._reactInternals)?it(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var h=Go(),M=xa(i),I=lo(h,M);I.payload=s,u!=null&&(I.callback=u),Fo(i,I),s=ws(i,M,h),s!==null&&ks(s,i,M)},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var h=Go(),M=xa(i),I=lo(h,M);I.tag=1,I.payload=s,u!=null&&(I.callback=u),Fo(i,I),s=ws(i,M,h),s!==null&&ks(s,i,M)},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Go(),h=xa(i),M=lo(u,h);M.tag=2,s!=null&&(M.callback=s),Fo(i,M),s=ws(i,h,u),s!==null&&ks(s,i,h)}};function qo(i,s,u,h,M,I,De){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,I,De):s.prototype&&s.prototype.isPureReactComponent?!Zn(u,h)||!Zn(M,I):!0}function p1(i,s,u){var h=!1,M=br,I=s.contextType;return typeof I=="object"&&I!==null?I=Di(I):(M=Er(s)?vr:Qn.current,h=s.contextTypes,I=(h=h!=null)?mr(i,M):br),s=new s(u,I),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Sa,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=M,i.__reactInternalMemoizedMaskedChildContext=I),s}function m1(i,s,u,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==i&&Sa.enqueueReplaceState(s,s.state,null)}function ua(i,s,u,h){var M=i.stateNode;M.props=u,M.state=i.memoizedState,M.refs=qs,la(i);var I=s.contextType;typeof I=="object"&&I!==null?M.context=Di(I):(I=Er(s)?vr:Qn.current,M.context=mr(i,I)),M.state=i.memoizedState,I=s.getDerivedStateFromProps,typeof I=="function"&&(ca(i,s,I,u),M.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(s=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),s!==M.state&&Sa.enqueueReplaceState(M,M.state,null),Ma(i,u,M,h),M.state=i.memoizedState),typeof M.componentDidMount=="function"&&(i.flags|=4194308)}var co=[],is=0,ms=null,Ea=0,ro=[],Lo=0,mn=null,Bi=1,os="";function Ts(i,s){co[is++]=Ea,co[is++]=ms,ms=i,Ea=s}function Do(i,s,u){ro[Lo++]=Bi,ro[Lo++]=os,ro[Lo++]=mn,mn=i;var h=Bi;i=os;var M=32-Ir(h)-1;h&=~(1<<M),u+=1;var I=32-Ir(s)+M;if(30<I){var De=M-M%5;I=(h&(1<<De)-1).toString(32),h>>=De,M-=De,Bi=1<<32-Ir(s)+M|u<<M|h,os=I+i}else Bi=1<<I|u<<M|h,os=i}function gs(i){i.return!==null&&(Ts(i,1),Do(i,1,0))}function Jo(i){for(;i===ms;)ms=co[--is],co[is]=null,Ea=co[--is],co[is]=null;for(;i===mn;)mn=ro[--Lo],ro[Lo]=null,os=ro[--Lo],ro[Lo]=null,Bi=ro[--Lo],ro[Lo]=null}var uo=null,yo=null,si=!1,fa=!1,li=null;function fo(i,s){var u=bs(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function Ps(i,s){switch(i.tag){case 5:return s=xt(s,i.type,i.pendingProps),s!==null?(i.stateNode=s,uo=i,yo=g(s),!0):!1;case 6:return s=Wt(s,i.pendingProps),s!==null?(i.stateNode=s,uo=i,yo=null,!0):!1;case 13:if(s=fn(s),s!==null){var u=mn!==null?{id:Bi,overflow:os}:null;return i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=bs(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,uo=i,yo=null,!0}return!1;default:return!1}}function da(i){return(i.mode&1)!==0&&(i.flags&128)===0}function ko(i){if(si){var s=yo;if(s){var u=s;if(!Ps(i,s)){if(da(i))throw Error(D(418));s=we(u);var h=uo;s&&Ps(i,s)?fo(h,u):(i.flags=i.flags&-4097|2,si=!1,uo=i)}}else{if(da(i))throw Error(D(418));i.flags=i.flags&-4097|2,si=!1,uo=i}}}function sr(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;uo=i}function vs(i){if(!St||i!==uo)return!1;if(!si)return sr(i),si=!0,!1;if(i.tag!==3&&(i.tag!==5||pt(i.type)&&!ot(i.type,i.memoizedProps))){var s=yo;if(s){if(da(i)){for(i=yo;i;)i=we(i);throw Error(D(418))}for(;s;)fo(i,s),s=we(s)}}if(sr(i),i.tag===13){if(!St)throw Error(D(316));if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));yo=N(i)}else yo=uo?we(i.stateNode):null;return!0}function Us(){St&&(yo=uo=null,fa=si=!1)}function Cs(i){li===null?li=[i]:li.push(i)}function Js(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(D(309));var h=u.stateNode}if(!h)throw Error(D(147,i));var M=h,I=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===I?s.ref:(s=function(De){var mt=M.refs;mt===qs&&(mt=M.refs={}),De===null?delete mt[I]:mt[I]=De},s._stringRef=I,s)}if(typeof i!="string")throw Error(D(284));if(!u._owner)throw Error(D(290,i))}return i}function La(i,s){throw i=Object.prototype.toString.call(s),Error(D(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Zi(i){var s=i._init;return s(i._payload)}function mi(i){function s(zt,vt){if(i){var Zt=zt.deletions;Zt===null?(zt.deletions=[vt],zt.flags|=16):Zt.push(vt)}}function u(zt,vt){if(!i)return null;for(;vt!==null;)s(zt,vt),vt=vt.sibling;return null}function h(zt,vt){for(zt=new Map;vt!==null;)vt.key!==null?zt.set(vt.key,vt):zt.set(vt.index,vt),vt=vt.sibling;return zt}function M(zt,vt){return zt=sa(zt,vt),zt.index=0,zt.sibling=null,zt}function I(zt,vt,Zt){return zt.index=Zt,i?(Zt=zt.alternate,Zt!==null?(Zt=Zt.index,Zt<vt?(zt.flags|=2,vt):Zt):(zt.flags|=2,vt)):(zt.flags|=1048576,vt)}function De(zt){return i&&zt.alternate===null&&(zt.flags|=2),zt}function mt(zt,vt,Zt,ar){return vt===null||vt.tag!==6?(vt=rc(Zt,zt.mode,ar),vt.return=zt,vt):(vt=M(vt,Zt),vt.return=zt,vt)}function Qt(zt,vt,Zt,ar){var yr=Zt.type;return yr===he?dr(zt,vt,Zt.props.children,ar,Zt.key):vt!==null&&(vt.elementType===yr||typeof yr=="object"&&yr!==null&&yr.$$typeof===lt&&Zi(yr)===vt.type)?(ar=M(vt,Zt.props),ar.ref=Js(zt,vt,Zt),ar.return=zt,ar):(ar=P1(Zt.type,Zt.key,Zt.props,null,zt.mode,ar),ar.ref=Js(zt,vt,Zt),ar.return=zt,ar)}function Fn(zt,vt,Zt,ar){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==Zt.containerInfo||vt.stateNode.implementation!==Zt.implementation?(vt=ic(Zt,zt.mode,ar),vt.return=zt,vt):(vt=M(vt,Zt.children||[]),vt.return=zt,vt)}function dr(zt,vt,Zt,ar,yr){return vt===null||vt.tag!==7?(vt=ja(Zt,zt.mode,ar,yr),vt.return=zt,vt):(vt=M(vt,Zt),vt.return=zt,vt)}function Fr(zt,vt,Zt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return vt=rc(""+vt,zt.mode,Zt),vt.return=zt,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case K:return Zt=P1(vt.type,vt.key,vt.props,null,zt.mode,Zt),Zt.ref=Js(zt,null,vt),Zt.return=zt,Zt;case ne:return vt=ic(vt,zt.mode,Zt),vt.return=zt,vt;case lt:var ar=vt._init;return Fr(zt,ar(vt._payload),Zt)}if(_e(vt)||Dt(vt))return vt=ja(vt,zt.mode,Zt,null),vt.return=zt,vt;La(zt,vt)}return null}function Lr(zt,vt,Zt,ar){var yr=vt!==null?vt.key:null;if(typeof Zt=="string"&&Zt!==""||typeof Zt=="number")return yr!==null?null:mt(zt,vt,""+Zt,ar);if(typeof Zt=="object"&&Zt!==null){switch(Zt.$$typeof){case K:return Zt.key===yr?Qt(zt,vt,Zt,ar):null;case ne:return Zt.key===yr?Fn(zt,vt,Zt,ar):null;case lt:return yr=Zt._init,Lr(zt,vt,yr(Zt._payload),ar)}if(_e(Zt)||Dt(Zt))return yr!==null?null:dr(zt,vt,Zt,ar,null);La(zt,Zt)}return null}function Pi(zt,vt,Zt,ar,yr){if(typeof ar=="string"&&ar!==""||typeof ar=="number")return zt=zt.get(Zt)||null,mt(vt,zt,""+ar,yr);if(typeof ar=="object"&&ar!==null){switch(ar.$$typeof){case K:return zt=zt.get(ar.key===null?Zt:ar.key)||null,Qt(vt,zt,ar,yr);case ne:return zt=zt.get(ar.key===null?Zt:ar.key)||null,Fn(vt,zt,ar,yr);case lt:var Qr=ar._init;return Pi(zt,vt,Zt,Qr(ar._payload),yr)}if(_e(ar)||Dt(ar))return zt=zt.get(Zt)||null,dr(vt,zt,ar,yr,null);La(vt,ar)}return null}function xr(zt,vt,Zt,ar){for(var yr=null,Qr=null,jr=vt,yi=vt=0,To=null;jr!==null&&yi<Zt.length;yi++){jr.index>yi?(To=jr,jr=null):To=jr.sibling;var wi=Lr(zt,jr,Zt[yi],ar);if(wi===null){jr===null&&(jr=To);break}i&&jr&&wi.alternate===null&&s(zt,jr),vt=I(wi,vt,yi),Qr===null?yr=wi:Qr.sibling=wi,Qr=wi,jr=To}if(yi===Zt.length)return u(zt,jr),si&&Ts(zt,yi),yr;if(jr===null){for(;yi<Zt.length;yi++)jr=Fr(zt,Zt[yi],ar),jr!==null&&(vt=I(jr,vt,yi),Qr===null?yr=jr:Qr.sibling=jr,Qr=jr);return si&&Ts(zt,yi),yr}for(jr=h(zt,jr);yi<Zt.length;yi++)To=Pi(jr,zt,yi,Zt[yi],ar),To!==null&&(i&&To.alternate!==null&&jr.delete(To.key===null?yi:To.key),vt=I(To,vt,yi),Qr===null?yr=To:Qr.sibling=To,Qr=To);return i&&jr.forEach(function(Za){return s(zt,Za)}),si&&Ts(zt,yi),yr}function Vo(zt,vt,Zt,ar){var yr=Dt(Zt);if(typeof yr!="function")throw Error(D(150));if(Zt=yr.call(Zt),Zt==null)throw Error(D(151));for(var Qr=yr=null,jr=vt,yi=vt=0,To=null,wi=Zt.next();jr!==null&&!wi.done;yi++,wi=Zt.next()){jr.index>yi?(To=jr,jr=null):To=jr.sibling;var Za=Lr(zt,jr,wi.value,ar);if(Za===null){jr===null&&(jr=To);break}i&&jr&&Za.alternate===null&&s(zt,jr),vt=I(Za,vt,yi),Qr===null?yr=Za:Qr.sibling=Za,Qr=Za,jr=To}if(wi.done)return u(zt,jr),si&&Ts(zt,yi),yr;if(jr===null){for(;!wi.done;yi++,wi=Zt.next())wi=Fr(zt,wi.value,ar),wi!==null&&(vt=I(wi,vt,yi),Qr===null?yr=wi:Qr.sibling=wi,Qr=wi);return si&&Ts(zt,yi),yr}for(jr=h(zt,jr);!wi.done;yi++,wi=Zt.next())wi=Pi(jr,zt,yi,wi.value,ar),wi!==null&&(i&&wi.alternate!==null&&jr.delete(wi.key===null?yi:wi.key),vt=I(wi,vt,yi),Qr===null?yr=wi:Qr.sibling=wi,Qr=wi);return i&&jr.forEach(function(Tu){return s(zt,Tu)}),si&&Ts(zt,yi),yr}function Ms(zt,vt,Zt,ar){if(typeof Zt=="object"&&Zt!==null&&Zt.type===he&&Zt.key===null&&(Zt=Zt.props.children),typeof Zt=="object"&&Zt!==null){switch(Zt.$$typeof){case K:e:{for(var yr=Zt.key,Qr=vt;Qr!==null;){if(Qr.key===yr){if(yr=Zt.type,yr===he){if(Qr.tag===7){u(zt,Qr.sibling),vt=M(Qr,Zt.props.children),vt.return=zt,zt=vt;break e}}else if(Qr.elementType===yr||typeof yr=="object"&&yr!==null&&yr.$$typeof===lt&&Zi(yr)===Qr.type){u(zt,Qr.sibling),vt=M(Qr,Zt.props),vt.ref=Js(zt,Qr,Zt),vt.return=zt,zt=vt;break e}u(zt,Qr);break}else s(zt,Qr);Qr=Qr.sibling}Zt.type===he?(vt=ja(Zt.props.children,zt.mode,ar,Zt.key),vt.return=zt,zt=vt):(ar=P1(Zt.type,Zt.key,Zt.props,null,zt.mode,ar),ar.ref=Js(zt,vt,Zt),ar.return=zt,zt=ar)}return De(zt);case ne:e:{for(Qr=Zt.key;vt!==null;){if(vt.key===Qr)if(vt.tag===4&&vt.stateNode.containerInfo===Zt.containerInfo&&vt.stateNode.implementation===Zt.implementation){u(zt,vt.sibling),vt=M(vt,Zt.children||[]),vt.return=zt,zt=vt;break e}else{u(zt,vt);break}else s(zt,vt);vt=vt.sibling}vt=ic(Zt,zt.mode,ar),vt.return=zt,zt=vt}return De(zt);case lt:return Qr=Zt._init,Ms(zt,vt,Qr(Zt._payload),ar)}if(_e(Zt))return xr(zt,vt,Zt,ar);if(Dt(Zt))return Vo(zt,vt,Zt,ar);La(zt,Zt)}return typeof Zt=="string"&&Zt!==""||typeof Zt=="number"?(Zt=""+Zt,vt!==null&&vt.tag===6?(u(zt,vt.sibling),vt=M(vt,Zt),vt.return=zt,zt=vt):(u(zt,vt),vt=rc(Zt,zt.mode,ar),vt.return=zt,zt=vt),De(zt)):u(zt,vt)}return Ms}var ho=mi(!0),Qs=mi(!1),ki={},Li=Jn(ki),po=Jn(ki),$o=Jn(ki);function ci(i){if(i===ki)throw Error(D(174));return i}function Ee(i,s){Yn($o,s),Yn(po,i),Yn(Li,ki),i=$e(s),Nn(Li),Yn(Li,i)}function mo(){Nn(Li),Nn(po),Nn($o)}function js(i){var s=ci($o.current),u=ci(Li.current);s=le(u,i.type,s),u!==s&&(Yn(po,i),Yn(Li,s))}function qi(i){po.current===i&&(Nn(Li),Nn(po))}var ai=Jn(0);function Io(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||_n(u)||Bn(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Zs=[];function ss(){for(var i=0;i<Zs.length;i++){var s=Zs[i];Tt?s._workInProgressVersionPrimary=null:s._workInProgressVersionSecondary=null}Zs.length=0}var _s=j.ReactCurrentDispatcher,$i=j.ReactCurrentBatchConfig,go=0,gi=null,Wi=null,Gi=null,Ra=!1,ha=!1,Os=0,Ol=0;function Ho(){throw Error(D(321))}function F1(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!P(i[u],s[u]))return!1;return!0}function e1(i,s,u,h,M,I){if(go=I,gi=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,_s.current=i===null||i.memoizedState===null?bi:Is,i=u(h,M),ha){I=0;do{if(ha=!1,Os=0,25<=I)throw Error(D(301));I+=1,Gi=Wi=null,s.updateQueue=null,_s.current=ta,i=u(h,M)}while(ha)}if(_s.current=x1,s=Wi!==null&&Wi.next!==null,go=0,Gi=Wi=gi=null,Ra=!1,s)throw Error(D(300));return i}function g1(){var i=Os!==0;return Os=0,i}function Uo(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gi===null?gi.memoizedState=Gi=i:Gi=Gi.next=i,Gi}function wo(){if(Wi===null){var i=gi.alternate;i=i!==null?i.memoizedState:null}else i=Wi.next;var s=Gi===null?gi.memoizedState:Gi.next;if(s!==null)Gi=s,Wi=i;else{if(i===null)throw Error(D(310));Wi=i,i={memoizedState:Wi.memoizedState,baseState:Wi.baseState,baseQueue:Wi.baseQueue,queue:Wi.queue,next:null},Gi===null?gi.memoizedState=Gi=i:Gi=Gi.next=i}return Gi}function ea(i,s){return typeof s=="function"?s(i):s}function Aa(i){var s=wo(),u=s.queue;if(u===null)throw Error(D(311));u.lastRenderedReducer=i;var h=Wi,M=h.baseQueue,I=u.pending;if(I!==null){if(M!==null){var De=M.next;M.next=I.next,I.next=De}h.baseQueue=M=I,u.pending=null}if(M!==null){I=M.next,h=h.baseState;var mt=De=null,Qt=null,Fn=I;do{var dr=Fn.lane;if((go&dr)===dr)Qt!==null&&(Qt=Qt.next={lane:0,action:Fn.action,hasEagerState:Fn.hasEagerState,eagerState:Fn.eagerState,next:null}),h=Fn.hasEagerState?Fn.eagerState:i(h,Fn.action);else{var Fr={lane:dr,action:Fn.action,hasEagerState:Fn.hasEagerState,eagerState:Fn.eagerState,next:null};Qt===null?(mt=Qt=Fr,De=h):Qt=Qt.next=Fr,gi.lanes|=dr,c1|=dr}Fn=Fn.next}while(Fn!==null&&Fn!==I);Qt===null?De=h:Qt.next=mt,P(h,s.memoizedState)||(Zo=!0),s.memoizedState=h,s.baseState=De,s.baseQueue=Qt,u.lastRenderedState=h}if(i=u.interleaved,i!==null){M=i;do I=M.lane,gi.lanes|=I,c1|=I,M=M.next;while(M!==i)}else M===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function Ds(i){var s=wo(),u=s.queue;if(u===null)throw Error(D(311));u.lastRenderedReducer=i;var h=u.dispatch,M=u.pending,I=s.memoizedState;if(M!==null){u.pending=null;var De=M=M.next;do I=i(I,De.action),De=De.next;while(De!==M);P(I,s.memoizedState)||(Zo=!0),s.memoizedState=I,s.baseQueue===null&&(s.baseState=I),u.lastRenderedState=I}return[I,h]}function k1(){}function v1(i,s){var u=gi,h=wo(),M=s(),I=!P(h.memoizedState,M);if(I&&(h.memoizedState=M,Zo=!0),h=h.queue,n1(Ur.bind(null,u,h,i),[i]),h.getSnapshot!==s||I||Gi!==null&&Gi.memoizedState.tag&1){if(u.flags|=2048,C1(9,t1.bind(null,u,h,M,s),void 0,null),oo===null)throw Error(D(349));go&30||$1(u,s,M)}return M}function $1(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=gi.updateQueue,s===null?(s={lastEffect:null,stores:null},gi.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function t1(i,s,u,h){s.value=u,s.getSnapshot=h,Ta(s)&&ws(i,1,-1)}function Ur(i,s,u){return u(function(){Ta(s)&&ws(i,1,-1)})}function Ta(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!P(i,u)}catch(h){return!0}}function as(i){var s=Uo();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:i},s.queue=i,i=i.dispatch=L0.bind(null,gi,i),[s.memoizedState,i]}function C1(i,s,u,h){return i={tag:i,create:s,destroy:u,deps:h,next:null},s=gi.updateQueue,s===null?(s={lastEffect:null,stores:null},gi.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,s.lastEffect=i)),i}function Dl(){return wo().memoizedState}function xs(i,s,u,h){var M=Uo();gi.flags|=i,M.memoizedState=C1(1|s,u,void 0,h===void 0?null:h)}function Pa(i,s,u,h){var M=wo();h=h===void 0?null:h;var I=void 0;if(Wi!==null){var De=Wi.memoizedState;if(I=De.destroy,h!==null&&F1(h,De.deps)){M.memoizedState=C1(s,u,I,h);return}}gi.flags|=i,M.memoizedState=C1(1|s,u,I,h)}function jo(i,s){return xs(8390656,8,i,s)}function n1(i,s){return Pa(2048,8,i,s)}function Il(i,s){return Pa(4,2,i,s)}function Oa(i,s){return Pa(4,4,i,s)}function _1(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Oc(i,s,u){return u=u!=null?u.concat([i]):null,Pa(4,4,_1.bind(null,s,i),u)}function U1(){}function Da(i,s){var u=wo();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&F1(s,h[1])?h[0]:(u.memoizedState=[i,s],i)}function Ws(i,s){var u=wo();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&F1(s,h[1])?h[0]:(i=i(),u.memoizedState=[i,s],i)}function j1(i,s){var u=qr;qr=u!==0&&4>u?u:4,i(!0);var h=$i.transition;$i.transition={};try{i(!1),s()}finally{qr=u,$i.transition=h}}function r1(){return wo().memoizedState}function E0(i,s,u){var h=xa(i);u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Hl(i)?zl(s,u):(Vl(i,s,u),u=Go(),i=ws(i,h,u),i!==null&&Dc(i,s,h))}function L0(i,s,u){var h=xa(i),M={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Hl(i))zl(s,M);else{Vl(i,s,M);var I=i.alternate;if(i.lanes===0&&(I===null||I.lanes===0)&&(I=s.lastRenderedReducer,I!==null))try{var De=s.lastRenderedState,mt=I(De,u);if(M.hasEagerState=!0,M.eagerState=mt,P(mt,De))return}catch(Qt){}finally{}u=Go(),i=ws(i,h,u),i!==null&&Dc(i,s,h)}}function Hl(i){var s=i.alternate;return i===gi||s!==null&&s===gi}function zl(i,s){ha=Ra=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Vl(i,s,u){oo!==null&&i.mode&1&&!(Jr&2)?(i=s.interleaved,i===null?(u.next=u,Ci===null?Ci=[s]:Ci.push(s)):(u.next=i.next,i.next=u),s.interleaved=u):(i=s.pending,i===null?u.next=u:(u.next=i.next,i.next=u),s.pending=u)}function Dc(i,s,u){if(u&4194240){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,Yo(i,u)}}var x1={readContext:Di,useCallback:Ho,useContext:Ho,useEffect:Ho,useImperativeHandle:Ho,useInsertionEffect:Ho,useLayoutEffect:Ho,useMemo:Ho,useReducer:Ho,useRef:Ho,useState:Ho,useDebugValue:Ho,useDeferredValue:Ho,useTransition:Ho,useMutableSource:Ho,useSyncExternalStore:Ho,useId:Ho,unstable_isNewReconciler:!1},bi={readContext:Di,useCallback:function(i,s){return Uo().memoizedState=[i,s===void 0?null:s],i},useContext:Di,useEffect:jo,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,xs(4194308,4,_1.bind(null,s,i),u)},useLayoutEffect:function(i,s){return xs(4194308,4,i,s)},useInsertionEffect:function(i,s){return xs(4,2,i,s)},useMemo:function(i,s){var u=Uo();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var h=Uo();return s=u!==void 0?u(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=E0.bind(null,gi,i),[h.memoizedState,i]},useRef:function(i){var s=Uo();return i={current:i},s.memoizedState=i},useState:as,useDebugValue:U1,useDeferredValue:function(i){var s=as(i),u=s[0],h=s[1];return jo(function(){var M=$i.transition;$i.transition={};try{h(i)}finally{$i.transition=M}},[i]),u},useTransition:function(){var i=as(!1),s=i[0];return i=j1.bind(null,i[1]),Uo().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var h=gi,M=Uo();if(si){if(u===void 0)throw Error(D(407));u=u()}else{if(u=s(),oo===null)throw Error(D(349));go&30||$1(h,s,u)}M.memoizedState=u;var I={value:u,getSnapshot:s};return M.queue=I,jo(Ur.bind(null,h,I,i),[i]),h.flags|=2048,C1(9,t1.bind(null,h,I,u,s),void 0,null),u},useId:function(){var i=Uo(),s=oo.identifierPrefix;if(si){var u=os,h=Bi;u=(h&~(1<<32-Ir(h)-1)).toString(32)+u,s=":"+s+"R"+u,u=Os++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=Ol++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Is={readContext:Di,useCallback:Da,useContext:Di,useEffect:n1,useImperativeHandle:Oc,useInsertionEffect:Il,useLayoutEffect:Oa,useMemo:Ws,useReducer:Aa,useRef:Dl,useState:function(){return Aa(ea)},useDebugValue:U1,useDeferredValue:function(i){var s=Aa(ea),u=s[0],h=s[1];return n1(function(){var M=$i.transition;$i.transition={};try{h(i)}finally{$i.transition=M}},[i]),u},useTransition:function(){var i=Aa(ea)[0],s=wo().memoizedState;return[i,s]},useMutableSource:k1,useSyncExternalStore:v1,useId:r1,unstable_isNewReconciler:!1},ta={readContext:Di,useCallback:Da,useContext:Di,useEffect:n1,useImperativeHandle:Oc,useInsertionEffect:Il,useLayoutEffect:Oa,useMemo:Ws,useReducer:Ds,useRef:Dl,useState:function(){return Ds(ea)},useDebugValue:U1,useDeferredValue:function(i){var s=Ds(ea),u=s[0],h=s[1];return n1(function(){var M=$i.transition;$i.transition={};try{h(i)}finally{$i.transition=M}},[i]),u},useTransition:function(){var i=Ds(ea)[0],s=wo().memoizedState;return[i,s]},useMutableSource:k1,useSyncExternalStore:v1,useId:r1,unstable_isNewReconciler:!1};function y1(i,s){try{var u="",h=s;do u+=_r(h),h=h.return;while(h);var M=u}catch(I){M=`
Error generating stack: `+I.message+`
`+I.stack}return{value:i,source:s,stack:M}}function Hs(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var i1=typeof WeakMap=="function"?WeakMap:Map;function Ia(i,s,u){u=lo(-1,u),u.tag=3,u.payload={element:null};var h=s.value;return u.callback=function(){il||(il=!0,Kl=h),Hs(i,s)},u}function Bl(i,s,u){u=lo(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var M=s.value;u.payload=function(){return h(M)},u.callback=function(){Hs(i,s)}}var I=i.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(u.callback=function(){Hs(i,s),typeof h!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var De=s.stack;this.componentDidCatch(s.value,{componentStack:De!==null?De:""})}),u}function Z1(i,s,u){var h=i.pingCache;if(h===null){h=i.pingCache=new i1;var M=new Set;h.set(s,M)}else M=h.get(s),M===void 0&&(M=new Set,h.set(s,M));M.has(u)||(M.add(u),i=z0.bind(null,i,s,u),s.then(i,i))}function W1(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function G1(i,s,u,h,M){return i.mode&1?(i.flags|=65536,i.lanes=M,i):(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=lo(-1,1),s.tag=2,Fo(u,s))),u.lanes|=1),i)}function Ji(i){i.flags|=4}function Ic(i,s){if(i!==null&&i.child===s.child)return!0;if(s.flags&16)return!1;for(i=s.child;i!==null;){if(i.flags&12854||i.subtreeFlags&12854)return!1;i=i.sibling}return!0}var io,ys,Ui,Ha;if(Mt)io=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)Te(i,u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},ys=function(){},Ui=function(i,s,u,h,M){if(i=i.memoizedProps,i!==h){var I=s.stateNode,De=ci(Li.current);u=Ge(I,u,i,h,M,De),(s.updateQueue=u)&&Ji(s)}},Ha=function(i,s,u,h){u!==h&&Ji(s)};else if(Ht){io=function(i,s,u,h){for(var M=s.child;M!==null;){if(M.tag===5){var I=M.stateNode;u&&h&&(I=Ce(I,M.type,M.memoizedProps,M)),Te(i,I)}else if(M.tag===6)I=M.stateNode,u&&h&&(I=Ze(I,M.memoizedProps,M)),Te(i,I);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)I=M.child,I!==null&&(I.return=M),io(i,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===s)break;for(;M.sibling===null;){if(M.return===null||M.return===s)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};var Ai=function(i,s,u,h){for(var M=s.child;M!==null;){if(M.tag===5){var I=M.stateNode;u&&h&&(I=Ce(I,M.type,M.memoizedProps,M)),Xt(i,I)}else if(M.tag===6)I=M.stateNode,u&&h&&(I=Ze(I,M.memoizedProps,M)),Xt(i,I);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)I=M.child,I!==null&&(I.return=M),Ai(i,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===s)break;for(;M.sibling===null;){if(M.return===null||M.return===s)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};ys=function(i,s){var u=s.stateNode;if(!Ic(i,s)){i=u.containerInfo;var h=_t(i);Ai(h,s,!1,!1),u.pendingChildren=h,Ji(s),bn(i,h)}},Ui=function(i,s,u,h,M){var I=i.stateNode,De=i.memoizedProps;if((i=Ic(i,s))&&De===h)s.stateNode=I;else{var mt=s.stateNode,Qt=ci(Li.current),Fn=null;De!==h&&(Fn=Ge(mt,u,De,h,M,Qt)),i&&Fn===null?s.stateNode=I:(I=st(I,Fn,u,De,h,s,i,mt),Ve(I,u,h,M,Qt)&&Ji(s),s.stateNode=I,i?Ji(s):io(I,s,!1,!1))}},Ha=function(i,s,u,h){u!==h?(i=ci($o.current),u=ci(Li.current),s.stateNode=ht(h,i,u,s),Ji(s)):s.stateNode=i.stateNode}}else ys=function(){},Ui=function(){},Ha=function(){};function w1(i,s){if(!si)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function zo(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(s)for(var M=i.child;M!==null;)u|=M.lanes|M.childLanes,h|=M.subtreeFlags&14680064,h|=M.flags&14680064,M.return=i,M=M.sibling;else for(M=i.child;M!==null;)u|=M.lanes|M.childLanes,h|=M.subtreeFlags,h|=M.flags,M.return=i,M=M.sibling;return i.subtreeFlags|=h,i.childLanes=u,s}function R0(i,s,u){var h=s.pendingProps;switch(Jo(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zo(s),null;case 1:return Er(s.type)&&_i(),zo(s),null;case 3:return h=s.stateNode,mo(),Nn(cr),Nn(Qn),ss(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(vs(s)?Ji(s):i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,li!==null&&(Ql(li),li=null))),ys(i,s),zo(s),null;case 5:qi(s),u=ci($o.current);var M=s.type;if(i!==null&&s.stateNode!=null)Ui(i,s,M,h,u),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(D(166));return zo(s),null}if(i=ci(Li.current),vs(s)){if(!St)throw Error(D(175));i=S(s.stateNode,s.type,s.memoizedProps,u,i,s,!fa),s.updateQueue=i,i!==null&&Ji(s)}else{var I=ce(M,h,u,i,s);io(I,s,!1,!1),s.stateNode=I,Ve(I,M,h,u,i)&&Ji(s)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return zo(s),null;case 6:if(i&&s.stateNode!=null)Ha(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(D(166));if(i=ci($o.current),u=ci(Li.current),vs(s)){if(!St)throw Error(D(176));if(i=s.stateNode,h=s.memoizedProps,(u=O(i,h,s,!fa))&&(M=uo,M!==null))switch(I=(M.mode&1)!==0,M.tag){case 3:Pt(M.stateNode.containerInfo,i,h,I);break;case 5:en(M.type,M.memoizedProps,M.stateNode,i,h,I)}u&&Ji(s)}else s.stateNode=ht(h,i,u,s)}return zo(s),null;case 13:if(Nn(ai),h=s.memoizedState,si&&yo!==null&&s.mode&1&&!(s.flags&128)){for(i=yo;i;)i=we(i);return Us(),s.flags|=98560,s}if(h!==null&&h.dehydrated!==null){if(h=vs(s),i===null){if(!h)throw Error(D(318));if(!St)throw Error(D(344));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));q(i,s)}else Us(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;return zo(s),null}return li!==null&&(Ql(li),li=null),s.flags&128?(s.lanes=u,s):(h=h!==null,u=!1,i===null?vs(s):u=i.memoizedState!==null,h&&!u&&(s.child.flags|=8192,s.mode&1&&(i===null||ai.current&1?Co===0&&(Co=3):ul())),s.updateQueue!==null&&(s.flags|=4),zo(s),null);case 4:return mo(),ys(i,s),i===null&&Et(s.stateNode.containerInfo),zo(s),null;case 10:return zr(s.type._context),zo(s),null;case 17:return Er(s.type)&&_i(),zo(s),null;case 19:if(Nn(ai),M=s.memoizedState,M===null)return zo(s),null;if(h=(s.flags&128)!==0,I=M.rendering,I===null)if(h)w1(M,!1);else{if(Co!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(I=Io(i),I!==null){for(s.flags|=128,w1(M,!1),i=I.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),s.subtreeFlags=0,i=u,h=s.child;h!==null;)u=h,M=i,u.flags&=14680066,I=u.alternate,I===null?(u.childLanes=0,u.lanes=M,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=I.childLanes,u.lanes=I.lanes,u.child=I.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=I.memoizedProps,u.memoizedState=I.memoizedState,u.updateQueue=I.updateQueue,u.type=I.type,M=I.dependencies,u.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext}),h=h.sibling;return Yn(ai,ai.current&1|2),s.child}i=i.sibling}M.tail!==null&&Ei()>Yl&&(s.flags|=128,h=!0,w1(M,!1),s.lanes=4194304)}else{if(!h)if(i=Io(I),i!==null){if(s.flags|=128,h=!0,i=i.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),w1(M,!0),M.tail===null&&M.tailMode==="hidden"&&!I.alternate&&!si)return zo(s),null}else 2*Ei()-M.renderingStartTime>Yl&&u!==1073741824&&(s.flags|=128,h=!0,w1(M,!1),s.lanes=4194304);M.isBackwards?(I.sibling=s.child,s.child=I):(i=M.last,i!==null?i.sibling=I:s.child=I,M.last=I)}return M.tail!==null?(s=M.tail,M.rendering=s,M.tail=s.sibling,M.renderingStartTime=Ei(),s.sibling=null,i=ai.current,Yn(ai,h?i&1|2:i&1),s):(zo(s),null);case 22:case 23:return ec(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?cs&1073741824&&(zo(s),Mt&&s.subtreeFlags&6&&(s.flags|=8192)):zo(s),null;case 24:return null;case 25:return null}throw Error(D(156,s.tag))}var A0=j.ReactCurrentOwner,Zo=!1;function Wo(i,s,u,h){s.child=i===null?Qs(s,null,u,h):ho(s,i.child,u,h)}function X1(i,s,u,h,M){u=u.render;var I=s.ref;return pi(s,M),h=e1(i,s,u,h,I,M),u=g1(),i!==null&&!Zo?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~M,Vs(i,s,M)):(si&&u&&gs(s),s.flags|=1,Wo(i,s,h,M),s.child)}function Hc(i,s,u,h,M){if(i===null){var I=u.type;return typeof I=="function"&&!nc(I)&&I.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=I,hr(i,s,I,h,M)):(i=P1(u.type,null,h,s,s.mode,M),i.ref=s.ref,i.return=s,s.child=i)}if(I=i.child,!(i.lanes&M)){var De=I.memoizedProps;if(u=u.compare,u=u!==null?u:Zn,u(De,h)&&i.ref===s.ref)return Vs(i,s,M)}return s.flags|=1,i=sa(I,h),i.ref=s.ref,i.return=s,s.child=i}function hr(i,s,u,h,M){if(i!==null&&Zn(i.memoizedProps,h)&&i.ref===s.ref)if(Zo=!1,(i.lanes&M)!==0)i.flags&131072&&(Zo=!0);else return s.lanes=i.lanes,Vs(i,s,M);return Qo(i,s,u,h,M)}function zc(i,s,u){var h=s.pendingProps,M=h.children,I=i!==null?i.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null},Yn(l1,cs),cs|=u;else if(u&1073741824)s.memoizedState={baseLanes:0,cachePool:null},h=I!==null?I.baseLanes:u,Yn(l1,cs),cs|=h;else return i=I!==null?I.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null},s.updateQueue=null,Yn(l1,cs),cs|=i,null;else I!==null?(h=I.baseLanes|u,s.memoizedState=null):h=u,Yn(l1,cs),cs|=h;return Wo(i,s,M,u),s.child}function Vc(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function Qo(i,s,u,h,M){var I=Er(u)?vr:Qn.current;return I=mr(s,I),pi(s,M),u=e1(i,s,u,h,I,M),h=g1(),i!==null&&!Zo?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~M,Vs(i,s,M)):(si&&h&&gs(s),s.flags|=1,Wo(i,s,u,M),s.child)}function Y1(i,s,u,h,M){if(Er(u)){var I=!0;Kr(s)}else I=!1;if(pi(s,M),s.stateNode===null)i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),p1(s,u,h),ua(s,u,h,M),h=!0;else if(i===null){var De=s.stateNode,mt=s.memoizedProps;De.props=mt;var Qt=De.context,Fn=u.contextType;typeof Fn=="object"&&Fn!==null?Fn=Di(Fn):(Fn=Er(u)?vr:Qn.current,Fn=mr(s,Fn));var dr=u.getDerivedStateFromProps,Fr=typeof dr=="function"||typeof De.getSnapshotBeforeUpdate=="function";Fr||typeof De.UNSAFE_componentWillReceiveProps!="function"&&typeof De.componentWillReceiveProps!="function"||(mt!==h||Qt!==Fn)&&m1(s,De,h,Fn),oi=!1;var Lr=s.memoizedState;De.state=Lr,Ma(s,h,De,M),Qt=s.memoizedState,mt!==h||Lr!==Qt||cr.current||oi?(typeof dr=="function"&&(ca(s,u,dr,h),Qt=s.memoizedState),(mt=oi||qo(s,u,mt,h,Lr,Qt,Fn))?(Fr||typeof De.UNSAFE_componentWillMount!="function"&&typeof De.componentWillMount!="function"||(typeof De.componentWillMount=="function"&&De.componentWillMount(),typeof De.UNSAFE_componentWillMount=="function"&&De.UNSAFE_componentWillMount()),typeof De.componentDidMount=="function"&&(s.flags|=4194308)):(typeof De.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=Qt),De.props=h,De.state=Qt,De.context=Fn,h=mt):(typeof De.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{De=s.stateNode,h1(i,s),mt=s.memoizedProps,Fn=s.type===s.elementType?mt:or(s.type,mt),De.props=Fn,Fr=s.pendingProps,Lr=De.context,Qt=u.contextType,typeof Qt=="object"&&Qt!==null?Qt=Di(Qt):(Qt=Er(u)?vr:Qn.current,Qt=mr(s,Qt));var Pi=u.getDerivedStateFromProps;(dr=typeof Pi=="function"||typeof De.getSnapshotBeforeUpdate=="function")||typeof De.UNSAFE_componentWillReceiveProps!="function"&&typeof De.componentWillReceiveProps!="function"||(mt!==Fr||Lr!==Qt)&&m1(s,De,h,Qt),oi=!1,Lr=s.memoizedState,De.state=Lr,Ma(s,h,De,M);var xr=s.memoizedState;mt!==Fr||Lr!==xr||cr.current||oi?(typeof Pi=="function"&&(ca(s,u,Pi,h),xr=s.memoizedState),(Fn=oi||qo(s,u,Fn,h,Lr,xr,Qt)||!1)?(dr||typeof De.UNSAFE_componentWillUpdate!="function"&&typeof De.componentWillUpdate!="function"||(typeof De.componentWillUpdate=="function"&&De.componentWillUpdate(h,xr,Qt),typeof De.UNSAFE_componentWillUpdate=="function"&&De.UNSAFE_componentWillUpdate(h,xr,Qt)),typeof De.componentDidUpdate=="function"&&(s.flags|=4),typeof De.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof De.componentDidUpdate!="function"||mt===i.memoizedProps&&Lr===i.memoizedState||(s.flags|=4),typeof De.getSnapshotBeforeUpdate!="function"||mt===i.memoizedProps&&Lr===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=xr),De.props=h,De.state=xr,De.context=Qt,h=Fn):(typeof De.componentDidUpdate!="function"||mt===i.memoizedProps&&Lr===i.memoizedState||(s.flags|=4),typeof De.getSnapshotBeforeUpdate!="function"||mt===i.memoizedProps&&Lr===i.memoizedState||(s.flags|=1024),h=!1)}return pa(i,s,u,h,I,M)}function pa(i,s,u,h,M,I){Vc(i,s);var De=(s.flags&128)!==0;if(!h&&!De)return M&&Vi(s,u,!1),Vs(i,s,I);h=s.stateNode,A0.current=s;var mt=De&&typeof u.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&De?(s.child=ho(s,i.child,null,I),s.child=ho(s,null,mt,I)):Wo(i,s,mt,I),s.memoizedState=h.state,M&&Vi(s,u,!0),s.child}function es(i){var s=i.stateNode;s.pendingContext?Dr(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Dr(i,s.context,!1),Ee(i,s.containerInfo)}function o1(i,s,u,h,M){return Us(),Cs(M),s.flags|=256,Wo(i,s,u,h),s.child}var Qi={dehydrated:null,treeContext:null,retryLane:0};function Vr(i){return{baseLanes:i,cachePool:null}}function Nl(i,s,u){var h=s.pendingProps,M=ai.current,I=!1,De=(s.flags&128)!==0,mt;if((mt=De)||(mt=i!==null&&i.memoizedState===null?!1:(M&2)!==0),mt?(I=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(M|=1),Yn(ai,M&1),i===null)return ko(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?Bn(i)?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(M=h.children,i=h.fallback,I?(h=s.mode,I=s.child,M={mode:"hidden",children:M},!(h&1)&&I!==null?(I.childLanes=0,I.pendingProps=M):I=dl(M,h,0,null),i=ja(i,h,u,null),I.return=s,i.return=s,I.sibling=i,s.child=I,s.child.memoizedState=Vr(u),s.memoizedState=Qi,i):na(s,M));if(M=i.memoizedState,M!==null){if(mt=M.dehydrated,mt!==null){if(De)return s.flags&256?(s.flags&=-257,zs(i,s,u,Error(D(422)))):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(I=h.fallback,M=s.mode,h=dl({mode:"visible",children:h.children},M,0,null),I=ja(I,M,u,null),I.flags|=2,h.return=s,I.return=s,h.sibling=I,s.child=h,s.mode&1&&ho(s,i.child,null,u),s.child.memoizedState=Vr(u),s.memoizedState=Qi,I);if(!(s.mode&1))s=zs(i,s,u,null);else if(Bn(mt))s=zs(i,s,u,Error(D(419)));else if(h=(u&i.childLanes)!==0,Zo||h){if(h=oo,h!==null){switch(u&-u){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}h=I&(h.suspendedLanes|u)?0:I,h!==0&&h!==M.retryLane&&(M.retryLane=h,ws(i,h,-1))}ul(),s=zs(i,s,u,Error(D(421)))}else _n(mt)?(s.flags|=128,s.child=i.child,s=V0.bind(null,i),ve(mt,s),s=null):(u=M.treeContext,St&&(yo=x(mt),uo=s,si=!0,li=null,fa=!1,u!==null&&(ro[Lo++]=Bi,ro[Lo++]=os,ro[Lo++]=mn,Bi=u.id,os=u.overflow,mn=s)),s=na(s,s.pendingProps.children),s.flags|=4096);return s}return I?(h=ra(i,s,h.children,h.fallback,u),I=s.child,M=i.child.memoizedState,I.memoizedState=M===null?Vr(u):{baseLanes:M.baseLanes|u,cachePool:null},I.childLanes=i.childLanes&~u,s.memoizedState=Qi,h):(u=b1(i,s,h.children,u),s.memoizedState=null,u)}return I?(h=ra(i,s,h.children,h.fallback,u),I=s.child,M=i.child.memoizedState,I.memoizedState=M===null?Vr(u):{baseLanes:M.baseLanes|u,cachePool:null},I.childLanes=i.childLanes&~u,s.memoizedState=Qi,h):(u=b1(i,s,h.children,u),s.memoizedState=null,u)}function na(i,s){return s=dl({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function b1(i,s,u,h){var M=i.child;return i=M.sibling,u=sa(M,{mode:"visible",children:u}),!(s.mode&1)&&(u.lanes=h),u.return=s,u.sibling=null,i!==null&&(h=s.deletions,h===null?(s.deletions=[i],s.flags|=16):h.push(i)),s.child=u}function ra(i,s,u,h,M){var I=s.mode;i=i.child;var De=i.sibling,mt={mode:"hidden",children:u};return!(I&1)&&s.child!==i?(u=s.child,u.childLanes=0,u.pendingProps=mt,s.deletions=null):(u=sa(i,mt),u.subtreeFlags=i.subtreeFlags&14680064),De!==null?h=sa(De,h):(h=ja(h,I,M,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,h}function zs(i,s,u,h){return h!==null&&Cs(h),ho(s,i.child,null,u),i=na(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function ia(i,s,u){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Ti(i.return,s,u)}function M1(i,s,u,h,M){var I=i.memoizedState;I===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:M}:(I.isBackwards=s,I.rendering=null,I.renderingStartTime=0,I.last=h,I.tail=u,I.tailMode=M)}function K1(i,s,u){var h=s.pendingProps,M=h.revealOrder,I=h.tail;if(Wo(i,s,h.children,u),h=ai.current,h&2)h=h&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ia(i,u,s);else if(i.tag===19)ia(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Yn(ai,h),!(s.mode&1))s.memoizedState=null;else switch(M){case"forwards":for(u=s.child,M=null;u!==null;)i=u.alternate,i!==null&&Io(i)===null&&(M=u),u=u.sibling;u=M,u===null?(M=s.child,s.child=null):(M=u.sibling,u.sibling=null),M1(s,!1,M,u,I);break;case"backwards":for(u=null,M=s.child,s.child=null;M!==null;){if(i=M.alternate,i!==null&&Io(i)===null){s.child=M;break}i=M.sibling,M.sibling=u,u=M,M=i}M1(s,!0,u,null,I);break;case"together":M1(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Vs(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),c1|=s.lanes,!(u&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(D(153));if(s.child!==null){for(i=s.child,u=sa(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=sa(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function q1(i,s,u){switch(s.tag){case 3:es(s),Us();break;case 5:js(s);break;case 1:Er(s.type)&&Kr(s);break;case 4:Ee(s,s.stateNode.containerInfo);break;case 10:Nr(s,s.type._context,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Yn(ai,ai.current&1),s.flags|=128,null):u&s.child.childLanes?Nl(i,s,u):(Yn(ai,ai.current&1),i=Vs(i,s,u),i!==null?i.sibling:null);Yn(ai,ai.current&1);break;case 19:if(h=(u&s.childLanes)!==0,i.flags&128){if(h)return K1(i,s,u);s.flags|=128}var M=s.memoizedState;if(M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Yn(ai,ai.current),h)break;return null;case 22:case 23:return s.lanes=0,zc(i,s,u)}return Vs(i,s,u)}function J1(i,s){switch(Jo(s),s.tag){case 1:return Er(s.type)&&_i(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return mo(),Nn(cr),Nn(Qn),ss(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return qi(s),null;case 13:if(Nn(ai),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(D(340));Us()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Nn(ai),null;case 4:return mo(),null;case 10:return zr(s.type._context),null;case 22:case 23:return ec(),null;case 24:return null;default:return null}}var za=!1,Gs=!1,Q1=typeof WeakSet=="function"?WeakSet:Set,Kn=null;function s1(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){rs(i,s,h)}else u.current=null}function a1(i,s,u){try{u()}catch(h){rs(i,s,h)}}var bo=!1;function T0(i,s){for(He(i.containerInfo),Kn=s;Kn!==null;)if(i=Kn,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,Kn=s;else for(;Kn!==null;){i=Kn;try{var u=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(u!==null){var h=u.memoizedProps,M=u.memoizedState,I=i.stateNode,De=I.getSnapshotBeforeUpdate(i.elementType===i.type?h:or(i.type,h),M);I.__reactInternalSnapshotBeforeUpdate=De}break;case 3:Mt&&Oe(i.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(mt){rs(i,i.return,mt)}if(s=i.sibling,s!==null){s.return=i.return,Kn=s;break}Kn=i.return}return u=bo,bo=!1,u}function Xs(i,s,u){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var M=h=h.next;do{if((M.tag&i)===i){var I=M.destroy;M.destroy=void 0,I!==void 0&&a1(s,u,I)}M=M.next}while(M!==h)}}function ls(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==s)}}function ma(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=Re(u);break;default:i=u}typeof s=="function"?s(i):s.current=i}}function Ro(i,s,u){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(yt,s)}catch(De){}switch(s.tag){case 0:case 11:case 14:case 15:if(i=s.updateQueue,i!==null&&(i=i.lastEffect,i!==null)){var h=i=i.next;do{var M=h,I=M.destroy;M=M.tag,I!==void 0&&(M&2||M&4)&&a1(s,u,I),h=h.next}while(h!==i)}break;case 1:if(s1(s,u),i=s.stateNode,typeof i.componentWillUnmount=="function")try{i.props=s.memoizedProps,i.state=s.memoizedState,i.componentWillUnmount()}catch(De){rs(s,u,De)}break;case 5:s1(s,u);break;case 4:Mt?Va(i,s,u):Ht&&Ht&&(s=s.stateNode.containerInfo,u=_t(s),$n(s,u))}}function Fl(i,s,u){for(var h=s;;)if(Ro(i,h,u),h.child===null||Mt&&h.tag===4){if(h===s)break;for(;h.sibling===null;){if(h.return===null||h.return===s)return;h=h.return}h.sibling.return=h.return,h=h.sibling}else h.child.return=h,h=h.child}function Bc(i){var s=i.alternate;s!==null&&(i.alternate=null,Bc(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&un(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Nc(i){return i.tag===5||i.tag===3||i.tag===4}function Bs(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Nc(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function S1(i){if(Mt){e:{for(var s=i.return;s!==null;){if(Nc(s))break e;s=s.return}throw Error(D(160))}var u=s;switch(u.tag){case 5:s=u.stateNode,u.flags&32&&(kt(s),u.flags&=-33),u=Bs(i),ga(i,u,s);break;case 3:case 4:s=u.stateNode.containerInfo,u=Bs(i),vo(i,u,s);break;default:throw Error(D(161))}}}function vo(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?je(u,i,s):At(u,i);else if(h!==4&&(i=i.child,i!==null))for(vo(i,s,u),i=i.sibling;i!==null;)vo(i,s,u),i=i.sibling}function ga(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?ue(u,i,s):Ie(u,i);else if(h!==4&&(i=i.child,i!==null))for(ga(i,s,u),i=i.sibling;i!==null;)ga(i,s,u),i=i.sibling}function Va(i,s,u){for(var h=s,M=!1,I,De;;){if(!M){M=h.return;e:for(;;){if(M===null)throw Error(D(160));switch(I=M.stateNode,M.tag){case 5:De=!1;break e;case 3:I=I.containerInfo,De=!0;break e;case 4:I=I.containerInfo,De=!0;break e}M=M.return}M=!0}if(h.tag===5||h.tag===6)Fl(i,h,u),De?qe(I,h.stateNode):Ye(I,h.stateNode);else if(h.tag===18)De?Je(I,h.stateNode):Y(I,h.stateNode);else if(h.tag===4){if(h.child!==null){I=h.stateNode.containerInfo,De=!0,h.child.return=h,h=h.child;continue}}else if(Ro(i,h,u),h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break;for(;h.sibling===null;){if(h.return===null||h.return===s)return;h=h.return,h.tag===4&&(M=!1)}h.sibling.return=h.return,h=h.sibling}}function el(i,s){if(Mt){switch(s.tag){case 0:case 11:case 14:case 15:Xs(3,s,s.return),ls(3,s),Xs(5,s,s.return);return;case 1:return;case 5:var u=s.stateNode;if(u!=null){var h=s.memoizedProps;i=i!==null?i.memoizedProps:h;var M=s.type,I=s.updateQueue;s.updateQueue=null,I!==null&&Ln(u,I,M,i,h,s)}return;case 6:if(s.stateNode===null)throw Error(D(162));u=s.memoizedProps,Jt(s.stateNode,i!==null?i.memoizedProps:u,u);return;case 3:St&&i!==null&&i.memoizedState.isDehydrated&&V(s.stateNode.containerInfo);return;case 12:return;case 13:va(s);return;case 19:va(s);return;case 17:return}throw Error(D(163))}switch(s.tag){case 0:case 11:case 14:case 15:Xs(3,s,s.return),ls(3,s),Xs(5,s,s.return);return;case 12:return;case 13:va(s);return;case 19:va(s);return;case 3:St&&i!==null&&i.memoizedState.isDehydrated&&V(s.stateNode.containerInfo);break;case 22:case 23:return}e:if(Ht){switch(s.tag){case 1:case 5:case 6:break e;case 3:case 4:s=s.stateNode,$n(s.containerInfo,s.pendingChildren);break e}throw Error(D(163))}}function va(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Q1),s.forEach(function(h){var M=B0.bind(null,i,h);u.has(h)||(u.add(h),h.then(M,M))})}}function Fc(i,s){for(Kn=s;Kn!==null;){s=Kn;var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var M=u[h];try{var I=i;Mt?Va(I,M,s):Fl(I,M,s);var De=M.alternate;De!==null&&(De.return=null),M.return=null}catch(yr){rs(M,s,yr)}}if(u=s.child,s.subtreeFlags&12854&&u!==null)u.return=s,Kn=u;else for(;Kn!==null;){s=Kn;try{var mt=s.flags;if(mt&32&&Mt&&kt(s.stateNode),mt&512){var Qt=s.alternate;if(Qt!==null){var Fn=Qt.ref;Fn!==null&&(typeof Fn=="function"?Fn(null):Fn.current=null)}}if(mt&8192)switch(s.tag){case 13:if(s.memoizedState!==null){var dr=s.alternate;(dr===null||dr.memoizedState===null)&&(Xl=Ei())}break;case 22:var Fr=s.memoizedState!==null,Lr=s.alternate,Pi=Lr!==null&&Lr.memoizedState!==null;if(u=s,Mt){e:if(h=u,M=Fr,I=null,Mt)for(var xr=h;;){if(xr.tag===5){if(I===null){I=xr;var Vo=xr.stateNode;M?vn(Vo):It(xr.stateNode,xr.memoizedProps)}}else if(xr.tag===6){if(I===null){var Ms=xr.stateNode;M?sn(Ms):de(Ms,xr.memoizedProps)}}else if((xr.tag!==22&&xr.tag!==23||xr.memoizedState===null||xr===h)&&xr.child!==null){xr.child.return=xr,xr=xr.child;continue}if(xr===h)break;for(;xr.sibling===null;){if(xr.return===null||xr.return===h)break e;I===xr&&(I=null),xr=xr.return}I===xr&&(I=null),xr.sibling.return=xr.return,xr=xr.sibling}}if(Fr&&!Pi&&u.mode&1){Kn=u;for(var zt=u.child;zt!==null;){for(u=Kn=zt;Kn!==null;){h=Kn;var vt=h.child;switch(h.tag){case 0:case 11:case 14:case 15:Xs(4,h,h.return);break;case 1:s1(h,h.return);var Zt=h.stateNode;if(typeof Zt.componentWillUnmount=="function"){var ar=h.return;try{Zt.props=h.memoizedProps,Zt.state=h.memoizedState,Zt.componentWillUnmount()}catch(yr){rs(h,ar,yr)}}break;case 5:s1(h,h.return);break;case 22:if(h.memoizedState!==null){oa(u);continue}}vt!==null?(vt.return=h,Kn=vt):oa(u)}zt=zt.sibling}}}switch(mt&4102){case 2:S1(s),s.flags&=-3;break;case 6:S1(s),s.flags&=-3,el(s.alternate,s);break;case 4096:s.flags&=-4097;break;case 4100:s.flags&=-4097,el(s.alternate,s);break;case 4:el(s.alternate,s)}}catch(yr){rs(s,s.return,yr)}if(u=s.sibling,u!==null){u.return=s.return,Kn=u;break}Kn=s.return}}}function kl(i,s,u){Kn=i,kc(i,s,u)}function kc(i,s,u){for(var h=(i.mode&1)!==0;Kn!==null;){var M=Kn,I=M.child;if(M.tag===22&&h){var De=M.memoizedState!==null||za;if(!De){var mt=M.alternate,Qt=mt!==null&&mt.memoizedState!==null||Gs;mt=za;var Fn=Gs;if(za=De,(Gs=Qt)&&!Fn)for(Kn=M;Kn!==null;)De=Kn,Qt=De.child,De.tag===22&&De.memoizedState!==null?Ba(M):Qt!==null?(Qt.return=De,Kn=Qt):Ba(M);for(;I!==null;)Kn=I,kc(I,s,u),I=I.sibling;Kn=M,za=mt,Gs=Fn}$c(i,s,u)}else M.subtreeFlags&8772&&I!==null?(I.return=M,Kn=I):$c(i,s,u)}}function $c(i){for(;Kn!==null;){var s=Kn;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Gs||ls(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Gs)if(u===null)h.componentDidMount();else{var M=s.elementType===s.type?u.memoizedProps:or(s.type,u.memoizedProps);h.componentDidUpdate(M,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var I=s.updateQueue;I!==null&&$s(s,I,h);break;case 3:var De=s.updateQueue;if(De!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=Re(s.child.stateNode);break;case 1:u=s.child.stateNode}$s(s,De,u)}break;case 5:var mt=s.stateNode;u===null&&s.flags&4&&Vn(mt,s.type,s.memoizedProps,s);break;case 6:break;case 4:break;case 12:break;case 13:if(St&&s.memoizedState===null){var Qt=s.alternate;if(Qt!==null){var Fn=Qt.memoizedState;if(Fn!==null){var dr=Fn.dehydrated;dr!==null&&F(dr)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(D(163))}Gs||s.flags&512&&ma(s)}catch(Fr){rs(s,s.return,Fr)}}if(s===i){Kn=null;break}if(u=s.sibling,u!==null){u.return=s.return,Kn=u;break}Kn=s.return}}function oa(i){for(;Kn!==null;){var s=Kn;if(s===i){Kn=null;break}var u=s.sibling;if(u!==null){u.return=s.return,Kn=u;break}Kn=s.return}}function Ba(i){for(;Kn!==null;){var s=Kn;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{ls(4,s)}catch(Qt){rs(s,u,Qt)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var M=s.return;try{h.componentDidMount()}catch(Qt){rs(s,M,Qt)}}var I=s.return;try{ma(s)}catch(Qt){rs(s,I,Qt)}break;case 5:var De=s.return;try{ma(s)}catch(Qt){rs(s,De,Qt)}}}catch(Qt){rs(s,s.return,Qt)}if(s===i){Kn=null;break}var mt=s.sibling;if(mt!==null){mt.return=s.return,Kn=mt;break}Kn=s.return}}var Na=0,Fa=1,E1=2,tl=3,Ys=4;if(typeof Symbol=="function"&&Symbol.for){var L1=Symbol.for;Na=L1("selector.component"),Fa=L1("selector.has_pseudo_class"),E1=L1("selector.role"),tl=L1("selector.test_id"),Ys=L1("selector.text")}function $l(i){var s=Qe(i);if(s!=null){if(typeof s.memoizedProps["data-testname"]!="string")throw Error(D(364));return s}if(i=jt(i),i===null)throw Error(D(362));return i.stateNode.current}function Ul(i,s){switch(s.$$typeof){case Na:if(i.type===s.value)return!0;break;case Fa:e:{s=s.value,i=[i,0];for(var u=0;u<i.length;){var h=i[u++],M=i[u++],I=s[M];if(h.tag!==5||!ie(h)){for(;I!=null&&Ul(h,I);)M++,I=s[M];if(M===s.length){s=!0;break e}else for(h=h.child;h!==null;)i.push(h,M),h=h.sibling}}s=!1}return s;case E1:if(i.tag===5&&fe(i.stateNode,s.value))return!0;break;case Ys:if((i.tag===5||i.tag===6)&&(i=tt(i),i!==null&&0<=i.indexOf(s.value)))return!0;break;case tl:if(i.tag===5&&(i=i.memoizedProps["data-testname"],typeof i=="string"&&i.toLowerCase()===s.value.toLowerCase()))return!0;break;default:throw Error(D(365))}return!1}function jl(i){switch(i.$$typeof){case Na:return"<"+(Ue(i.value)||"Unknown")+">";case Fa:return":has("+(jl(i)||"")+")";case E1:return'[role="'+i.value+'"]';case Ys:return'"'+i.value+'"';case tl:return'[data-testname="'+i.value+'"]';default:throw Error(D(365))}}function Uc(i,s){var u=[];i=[i,0];for(var h=0;h<i.length;){var M=i[h++],I=i[h++],De=s[I];if(M.tag!==5||!ie(M)){for(;De!=null&&Ul(M,De);)I++,De=s[I];if(I===s.length)u.push(M);else for(M=M.child;M!==null;)i.push(M,I),M=M.sibling}}return u}function Zl(i,s){if(!Rt)throw Error(D(363));i=$l(i),i=Uc(i,s),s=[],i=Array.from(i);for(var u=0;u<i.length;){var h=i[u++];if(h.tag===5)ie(h)||s.push(h.stateNode);else for(h=h.child;h!==null;)i.push(h),h=h.sibling}return s}var P0=Math.ceil,nl=j.ReactCurrentDispatcher,Wl=j.ReactCurrentOwner,eo=j.ReactCurrentBatchConfig,Jr=0,oo=null,so=null,Ao=0,cs=0,l1=Jn(0),Co=0,R1=null,c1=0,rl=0,Gl=0,A1=null,ts=null,Xl=0,Yl=1/0;function u1(){Yl=Ei()+500}var il=!1,Kl=null,Ca=null,ol=!1,_a=null,sl=0,T1=0,ql=null,al=-1,ll=0;function Go(){return Jr&6?Ei():al!==-1?al:al=Ei()}function xa(i){return i.mode&1?Jr&2&&Ao!==0?Ao&-Ao:Sn.transition!==null?(ll===0&&(i=no,no<<=1,!(no&4194240)&&(no=64),ll=i),ll):(i=qr,i!==0?i:tn()):1}function ws(i,s,u){if(50<T1)throw T1=0,ql=null,Error(D(185));var h=cl(i,s);return h===null?null:(Oo(h,s,u),(!(Jr&2)||h!==oo)&&(h===oo&&(!(Jr&2)&&(rl|=s),Co===4&&ya(h,Ao)),ns(h,u),s===1&&Jr===0&&!(i.mode&1)&&(u1(),Be&&jn())),h)}function cl(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}function ns(i,s){var u=i.callbackNode;No(i,s);var h=So(i,i===oo?Ao:0);if(h===0)u!==null&&hs(u),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(u!=null&&hs(u),s===1)i.tag===0?In(Zc.bind(null,i)):xn(Zc.bind(null,i)),nn?pn(function(){Jr===0&&jn()}):Eo(z,jn),u=null;else{switch(Ki(h)){case 1:u=z;break;case 4:u=G;break;case 16:u=Se;break;case 536870912:u=nt;break;default:u=Se}u=Qc(u,jc.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function jc(i,s){if(al=-1,ll=0,Jr&6)throw Error(D(327));var u=i.callbackNode;if(Ua()&&i.callbackNode!==u)return null;var h=So(i,i===oo?Ao:0);if(h===0)return null;if(h&30||h&i.expiredLanes||s)s=fl(i,h);else{s=h;var M=Jr;Jr|=2;var I=tc();(oo!==i||Ao!==s)&&(u1(),ka(i,s));do try{I0();break}catch(mt){Gc(i,mt)}while(1);Tr(),nl.current=I,Jr=M,so!==null?s=0:(oo=null,Ao=0,s=Co)}if(s!==0){if(s===2&&(M=xi(i),M!==0&&(h=M,s=Jl(i,M))),s===1)throw u=R1,ka(i,0),ya(i,h),ns(i,Ei()),u;if(s===6)ya(i,h);else{if(M=i.current.alternate,!(h&30)&&!O0(M)&&(s=fl(i,h),s===2&&(I=xi(i),I!==0&&(h=I,s=Jl(i,I))),s===1))throw u=R1,ka(i,0),ya(i,h),ns(i,Ei()),u;switch(i.finishedWork=M,i.finishedLanes=h,s){case 0:case 1:throw Error(D(345));case 2:$a(i,ts);break;case 3:if(ya(i,h),(h&130023424)===h&&(s=Xl+500-Ei(),10<s)){if(So(i,0)!==0)break;if(M=i.suspendedLanes,(M&h)!==h){Go(),i.pingedLanes|=i.suspendedLanes&M;break}i.timeoutHandle=bt($a.bind(null,i,ts),s);break}$a(i,ts);break;case 4:if(ya(i,h),(h&4194240)===h)break;for(s=i.eventTimes,M=-1;0<h;){var De=31-Ir(h);I=1<<De,De=s[De],De>M&&(M=De),h&=~I}if(h=M,h=Ei()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*P0(h/1960))-h,10<h){i.timeoutHandle=bt($a.bind(null,i,ts),h);break}$a(i,ts);break;case 5:$a(i,ts);break;default:throw Error(D(329))}}}return ns(i,Ei()),i.callbackNode===u?jc.bind(null,i):null}function Jl(i,s){var u=A1;return i.current.memoizedState.isDehydrated&&(ka(i,s).flags|=256),i=fl(i,s),i!==2&&(s=ts,ts=u,s!==null&&Ql(s)),i}function Ql(i){ts===null?ts=i:ts.push.apply(ts,i)}function O0(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var M=u[h],I=M.getSnapshot;M=M.value;try{if(!P(I(),M))return!1}catch(De){return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ya(i,s){for(s&=~Gl,s&=~rl,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-Ir(s),h=1<<u;i[u]=-1,s&=~h}}function Zc(i){if(Jr&6)throw Error(D(327));Ua();var s=So(i,0);if(!(s&1))return ns(i,Ei()),null;var u=fl(i,s);if(i.tag!==0&&u===2){var h=xi(i);h!==0&&(s=h,u=Jl(i,h))}if(u===1)throw u=R1,ka(i,0),ya(i,s),ns(i,Ei()),u;if(u===6)throw Error(D(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,$a(i,ts),ns(i,Ei()),null}function Wc(i){_a!==null&&_a.tag===0&&!(Jr&6)&&Ua();var s=Jr;Jr|=1;var u=eo.transition,h=qr;try{if(eo.transition=null,qr=1,i)return i()}finally{qr=h,eo.transition=u,Jr=s,!(Jr&6)&&jn()}}function ec(){cs=l1.current,Nn(l1)}function ka(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==Kt&&(i.timeoutHandle=Kt,Vt(u)),so!==null)for(u=so.return;u!==null;){var h=u;switch(Jo(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&_i();break;case 3:mo(),Nn(cr),Nn(Qn),ss();break;case 5:qi(h);break;case 4:mo();break;case 13:Nn(ai);break;case 19:Nn(ai);break;case 10:zr(h.type._context);break;case 22:case 23:ec()}u=u.return}if(oo=i,so=i=sa(i.current,null),Ao=cs=s,Co=0,R1=null,Gl=rl=c1=0,ts=A1=null,Ci!==null){for(s=0;s<Ci.length;s++)if(u=Ci[s],h=u.interleaved,h!==null){u.interleaved=null;var M=h.next,I=u.pending;if(I!==null){var De=I.next;I.next=M,h.next=De}u.pending=h}Ci=null}return i}function Gc(i,s){do{var u=so;try{if(Tr(),_s.current=x1,Ra){for(var h=gi.memoizedState;h!==null;){var M=h.queue;M!==null&&(M.pending=null),h=h.next}Ra=!1}if(go=0,Gi=Wi=gi=null,ha=!1,Os=0,Wl.current=null,u===null||u.return===null){Co=1,R1=s,so=null;break}e:{var I=i,De=u.return,mt=u,Qt=s;if(s=Ao,mt.flags|=32768,Qt!==null&&typeof Qt=="object"&&typeof Qt.then=="function"){var Fn=Qt,dr=mt,Fr=dr.tag;if(!(dr.mode&1)&&(Fr===0||Fr===11||Fr===15)){var Lr=dr.alternate;Lr?(dr.updateQueue=Lr.updateQueue,dr.memoizedState=Lr.memoizedState,dr.lanes=Lr.lanes):(dr.updateQueue=null,dr.memoizedState=null)}var Pi=W1(De);if(Pi!==null){Pi.flags&=-257,G1(Pi,De,mt,I,s),Pi.mode&1&&Z1(I,Fn,s),s=Pi,Qt=Fn;var xr=s.updateQueue;if(xr===null){var Vo=new Set;Vo.add(Qt),s.updateQueue=Vo}else xr.add(Qt);break e}else{if(!(s&1)){Z1(I,Fn,s),ul();break e}Qt=Error(D(426))}}else if(si&&mt.mode&1){var Ms=W1(De);if(Ms!==null){!(Ms.flags&65536)&&(Ms.flags|=256),G1(Ms,De,mt,I,s),Cs(Qt);break e}}I=Qt,Co!==4&&(Co=2),A1===null?A1=[I]:A1.push(I),Qt=y1(Qt,mt),mt=De;do{switch(mt.tag){case 3:mt.flags|=65536,s&=-s,mt.lanes|=s;var zt=Ia(mt,Qt,s);Qa(mt,zt);break e;case 1:I=Qt;var vt=mt.type,Zt=mt.stateNode;if(!(mt.flags&128)&&(typeof vt.getDerivedStateFromError=="function"||Zt!==null&&typeof Zt.componentDidCatch=="function"&&(Ca===null||!Ca.has(Zt)))){mt.flags|=65536,s&=-s,mt.lanes|=s;var ar=Bl(mt,I,s);Qa(mt,ar);break e}}mt=mt.return}while(mt!==null)}Yc(u)}catch(yr){s=yr,so===u&&u!==null&&(so=u=u.return);continue}break}while(1)}function tc(){var i=nl.current;return nl.current=x1,i===null?x1:i}function ul(){(Co===0||Co===3||Co===2)&&(Co=4),oo===null||!(c1&268435455)&&!(rl&268435455)||ya(oo,Ao)}function fl(i,s){var u=Jr;Jr|=2;var h=tc();oo===i&&Ao===s||ka(i,s);do try{D0();break}catch(M){Gc(i,M)}while(1);if(Tr(),Jr=u,nl.current=h,so!==null)throw Error(D(261));return oo=null,Ao=0,Co}function D0(){for(;so!==null;)Xc(so)}function I0(){for(;so!==null&&!ps();)Xc(so)}function Xc(i){var s=Jc(i.alternate,i,cs);i.memoizedProps=i.pendingProps,s===null?Yc(i):so=s,Wl.current=null}function Yc(i){var s=i;do{var u=s.alternate;if(i=s.return,s.flags&32768){if(u=J1(u,s),u!==null){u.flags&=32767,so=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Co=6,so=null;return}}else if(u=R0(u,s,cs),u!==null){so=u;return}if(s=s.sibling,s!==null){so=s;return}so=s=i}while(s!==null);Co===0&&(Co=5)}function $a(i,s){var u=qr,h=eo.transition;try{eo.transition=null,qr=1,H0(i,s,u)}finally{eo.transition=h,qr=u}return null}function H0(i,s,u){do Ua();while(_a!==null);if(Jr&6)throw Error(D(327));var h=i.finishedWork,M=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(D(177));i.callbackNode=null,i.callbackPriority=0;var I=h.lanes|h.childLanes;if(ji(i,I),i===oo&&(so=oo=null,Ao=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||ol||(ol=!0,Qc(Se,function(){return Ua(),null})),I=(h.flags&15990)!==0,h.subtreeFlags&15990||I){I=eo.transition,eo.transition=null;var De=qr;qr=1;var mt=Jr;Jr|=4,Wl.current=null,T0(i,h),Fc(i,h,M),rt(i.containerInfo),i.current=h,kl(h,i,M),Ko(),Jr=mt,qr=De,eo.transition=I}else i.current=h;if(ol&&(ol=!1,_a=i,sl=M),I=i.pendingLanes,I===0&&(Ca=null),$(h.stateNode,u),ns(i,Ei()),s!==null)for(u=i.onRecoverableError,h=0;h<s.length;h++)u(s[h]);if(il)throw il=!1,i=Kl,Kl=null,i;return sl&1&&i.tag!==0&&Ua(),I=i.pendingLanes,I&1?i===ql?T1++:(T1=0,ql=i):T1=0,jn(),null}function Ua(){if(_a!==null){var i=Ki(sl),s=eo.transition,u=qr;try{if(eo.transition=null,qr=16>i?16:i,_a===null)var h=!1;else{if(i=_a,_a=null,sl=0,Jr&6)throw Error(D(331));var M=Jr;for(Jr|=4,Kn=i.current;Kn!==null;){var I=Kn,De=I.child;if(Kn.flags&16){var mt=I.deletions;if(mt!==null){for(var Qt=0;Qt<mt.length;Qt++){var Fn=mt[Qt];for(Kn=Fn;Kn!==null;){var dr=Kn;switch(dr.tag){case 0:case 11:case 15:Xs(8,dr,I)}var Fr=dr.child;if(Fr!==null)Fr.return=dr,Kn=Fr;else for(;Kn!==null;){dr=Kn;var Lr=dr.sibling,Pi=dr.return;if(Bc(dr),dr===Fn){Kn=null;break}if(Lr!==null){Lr.return=Pi,Kn=Lr;break}Kn=Pi}}}var xr=I.alternate;if(xr!==null){var Vo=xr.child;if(Vo!==null){xr.child=null;do{var Ms=Vo.sibling;Vo.sibling=null,Vo=Ms}while(Vo!==null)}}Kn=I}}if(I.subtreeFlags&2064&&De!==null)De.return=I,Kn=De;else e:for(;Kn!==null;){if(I=Kn,I.flags&2048)switch(I.tag){case 0:case 11:case 15:Xs(9,I,I.return)}var zt=I.sibling;if(zt!==null){zt.return=I.return,Kn=zt;break e}Kn=I.return}}var vt=i.current;for(Kn=vt;Kn!==null;){De=Kn;var Zt=De.child;if(De.subtreeFlags&2064&&Zt!==null)Zt.return=De,Kn=Zt;else e:for(De=vt;Kn!==null;){if(mt=Kn,mt.flags&2048)try{switch(mt.tag){case 0:case 11:case 15:ls(9,mt)}}catch(yr){rs(mt,mt.return,yr)}if(mt===De){Kn=null;break e}var ar=mt.sibling;if(ar!==null){ar.return=mt.return,Kn=ar;break e}Kn=mt.return}}if(Jr=M,jn(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(yt,i)}catch(yr){}h=!0}return h}finally{qr=u,eo.transition=s}}return!1}function Kc(i,s,u){s=y1(u,s),s=Ia(i,s,1),Fo(i,s),s=Go(),i=cl(i,1),i!==null&&(Oo(i,1,s),ns(i,s))}function rs(i,s,u){if(i.tag===3)Kc(i,i,u);else for(;s!==null;){if(s.tag===3){Kc(s,i,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ca===null||!Ca.has(h))){i=y1(u,i),i=Bl(s,i,1),Fo(s,i),i=Go(),s=cl(s,1),s!==null&&(Oo(s,1,i),ns(s,i));break}}s=s.return}}function z0(i,s,u){var h=i.pingCache;h!==null&&h.delete(s),s=Go(),i.pingedLanes|=i.suspendedLanes&u,oo===i&&(Ao&u)===u&&(Co===4||Co===3&&(Ao&130023424)===Ao&&500>Ei()-Xl?ka(i,0):Gl|=u),ns(i,s)}function qc(i,s){s===0&&(i.mode&1?(s=ds,ds<<=1,!(ds&130023424)&&(ds=4194304)):s=1);var u=Go();i=cl(i,s),i!==null&&(Oo(i,s,u),ns(i,u))}function V0(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),qc(i,u)}function B0(i,s){var u=0;switch(i.tag){case 13:var h=i.stateNode,M=i.memoizedState;M!==null&&(u=M.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(D(314))}h!==null&&h.delete(s),qc(i,u)}var Jc;Jc=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||cr.current)Zo=!0;else{if(!(i.lanes&u)&&!(s.flags&128))return Zo=!1,q1(i,s,u);Zo=!!(i.flags&131072)}else Zo=!1,si&&s.flags&1048576&&Do(s,Ea,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),i=s.pendingProps;var M=mr(s,Qn.current);pi(s,u),M=e1(null,s,h,i,M,u);var I=g1();return s.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Er(h)?(I=!0,Kr(s)):I=!1,s.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,la(s),M.updater=Sa,s.stateNode=M,M._reactInternals=s,ua(s,h,i,u),s=pa(null,s,h,!0,I,u)):(s.tag=0,si&&I&&gs(s),Wo(null,s,M,u),s=s.child),s;case 16:h=s.elementType;e:{switch(i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),i=s.pendingProps,M=h._init,h=M(h._payload),s.type=h,M=s.tag=F0(h),i=or(h,i),M){case 0:s=Qo(null,s,h,i,u);break e;case 1:s=Y1(null,s,h,i,u);break e;case 11:s=X1(null,s,h,i,u);break e;case 14:s=Hc(null,s,h,or(h.type,i),u);break e}throw Error(D(306,h,""))}return s;case 0:return h=s.type,M=s.pendingProps,M=s.elementType===h?M:or(h,M),Qo(i,s,h,M,u);case 1:return h=s.type,M=s.pendingProps,M=s.elementType===h?M:or(h,M),Y1(i,s,h,M,u);case 3:e:{if(es(s),i===null)throw Error(D(387));h=s.pendingProps,I=s.memoizedState,M=I.element,h1(i,s),Ma(s,h,null,u);var De=s.memoizedState;if(h=De.element,St&&I.isDehydrated)if(I={element:h,isDehydrated:!1,cache:De.cache,transitions:De.transitions},s.updateQueue.baseState=I,s.memoizedState=I,s.flags&256){M=Error(D(423)),s=o1(i,s,h,u,M);break e}else if(h!==M){M=Error(D(424)),s=o1(i,s,h,u,M);break e}else for(St&&(yo=p(s.stateNode.containerInfo),uo=s,si=!0,li=null,fa=!1),u=Qs(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Us(),h===M){s=Vs(i,s,u);break e}Wo(i,s,h,u)}s=s.child}return s;case 5:return js(s),i===null&&ko(s),h=s.type,M=s.pendingProps,I=i!==null?i.memoizedProps:null,De=M.children,ot(h,M)?De=null:I!==null&&ot(h,I)&&(s.flags|=32),Vc(i,s),Wo(i,s,De,u),s.child;case 6:return i===null&&ko(s),null;case 13:return Nl(i,s,u);case 4:return Ee(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=ho(s,null,h,u):Wo(i,s,h,u),s.child;case 11:return h=s.type,M=s.pendingProps,M=s.elementType===h?M:or(h,M),X1(i,s,h,M,u);case 7:return Wo(i,s,s.pendingProps,u),s.child;case 8:return Wo(i,s,s.pendingProps.children,u),s.child;case 12:return Wo(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(h=s.type._context,M=s.pendingProps,I=s.memoizedProps,De=M.value,Nr(s,h,De),I!==null)if(P(I.value,De)){if(I.children===M.children&&!cr.current){s=Vs(i,s,u);break e}}else for(I=s.child,I!==null&&(I.return=s);I!==null;){var mt=I.dependencies;if(mt!==null){De=I.child;for(var Qt=mt.firstContext;Qt!==null;){if(Qt.context===h){if(I.tag===1){Qt=lo(-1,u&-u),Qt.tag=2;var Fn=I.updateQueue;if(Fn!==null){Fn=Fn.shared;var dr=Fn.pending;dr===null?Qt.next=Qt:(Qt.next=dr.next,dr.next=Qt),Fn.pending=Qt}}I.lanes|=u,Qt=I.alternate,Qt!==null&&(Qt.lanes|=u),Ti(I.return,u,s),mt.lanes|=u;break}Qt=Qt.next}}else if(I.tag===10)De=I.type===s.type?null:I.child;else if(I.tag===18){if(De=I.return,De===null)throw Error(D(341));De.lanes|=u,mt=De.alternate,mt!==null&&(mt.lanes|=u),Ti(De,u,s),De=I.sibling}else De=I.child;if(De!==null)De.return=I;else for(De=I;De!==null;){if(De===s){De=null;break}if(I=De.sibling,I!==null){I.return=De.return,De=I;break}De=De.return}I=De}Wo(i,s,M.children,u),s=s.child}return s;case 9:return M=s.type,h=s.pendingProps.children,pi(s,u),M=Di(M),h=h(M),s.flags|=1,Wo(i,s,h,u),s.child;case 14:return h=s.type,M=or(h,s.pendingProps),M=or(h.type,M),Hc(i,s,h,M,u);case 15:return hr(i,s,s.type,s.pendingProps,u);case 17:return h=s.type,M=s.pendingProps,M=s.elementType===h?M:or(h,M),i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),s.tag=1,Er(h)?(i=!0,Kr(s)):i=!1,pi(s,u),p1(s,h,M),ua(s,h,M,u),pa(null,s,h,!0,i,u);case 19:return K1(i,s,u);case 22:return zc(i,s,u)}throw Error(D(156,s.tag))};function Qc(i,s){return Eo(i,s)}function N0(i,s,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bs(i,s,u,h){return new N0(i,s,u,h)}function nc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function F0(i){if(typeof i=="function")return nc(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Bt)return 11;if(i===H)return 14}return 2}function sa(i,s){var u=i.alternate;return u===null?(u=bs(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function P1(i,s,u,h,M,I){var De=2;if(h=i,typeof i=="function")nc(i)&&(De=1);else if(typeof i=="string")De=5;else e:switch(i){case he:return ja(u.children,M,I,s);case xe:De=8,M|=8;break;case B:return i=bs(12,u,s,M|2),i.elementType=B,i.lanes=I,i;case at:return i=bs(13,u,s,M),i.elementType=at,i.lanes=I,i;case ut:return i=bs(19,u,s,M),i.elementType=ut,i.lanes=I,i;case wt:return dl(u,M,I,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ke:De=10;break e;case We:De=9;break e;case Bt:De=11;break e;case H:De=14;break e;case lt:De=16,h=null;break e}throw Error(D(130,i==null?i:typeof i,""))}return s=bs(De,u,s,M),s.elementType=i,s.type=h,s.lanes=I,s}function ja(i,s,u,h){return i=bs(7,i,h,s),i.lanes=u,i}function dl(i,s,u,h){return i=bs(22,i,h,s),i.elementType=wt,i.lanes=u,i.stateNode={},i}function rc(i,s,u){return i=bs(6,i,null,s),i.lanes=u,i}function ic(i,s,u){return s=bs(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function e0(i,s,u,h,M){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Kt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fs(0),this.expirationTimes=Fs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fs(0),this.identifierPrefix=h,this.onRecoverableError=M,St&&(this.mutableSourceEagerHydrationData=null)}function oc(i,s,u,h,M,I,De,mt,Qt){return i=new e0(i,s,u,mt,Qt),s===1?(s=1,I===!0&&(s|=8)):s=0,I=bs(3,null,null,s),i.current=I,I.stateNode=i,I.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null},la(I),i}function t0(i){if(!i)return br;i=i._reactInternals;e:{if(it(i)!==i||i.tag!==1)throw Error(D(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Er(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(D(171))}if(i.tag===1){var u=i.type;if(Er(u))return ti(i,u,s)}return s}function n0(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(D(188)):(i=Object.keys(i).join(","),Error(D(268,i)));return i=be(s),i===null?null:i.stateNode}function r0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function sc(i,s){r0(i,s),(i=i.alternate)&&r0(i,s)}function k0(i){return i=be(i),i===null?null:i.stateNode}function $0(){return null}return v.attemptContinuousHydration=function(i){if(i.tag===13){var s=Go();ws(i,134217728,s),sc(i,134217728)}},v.attemptHydrationAtCurrentPriority=function(i){if(i.tag===13){var s=Go(),u=xa(i);ws(i,u,s),sc(i,u)}},v.attemptSynchronousHydration=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=As(s.pendingLanes);u!==0&&(Yo(s,u|1),ns(s,Ei()),!(Jr&6)&&(u1(),jn()))}break;case 13:var h=Go();Wc(function(){return ws(i,1,h)}),sc(i,1)}},v.batchedUpdates=function(i,s){var u=Jr;Jr|=1;try{return i(s)}finally{Jr=u,Jr===0&&(u1(),Be&&jn())}},v.createComponentSelector=function(i){return{$$typeof:Na,value:i}},v.createContainer=function(i,s,u,h,M,I,De){return oc(i,s,!1,null,u,h,M,I,De)},v.createHasPseudoClassSelector=function(i){return{$$typeof:Fa,value:i}},v.createHydrationContainer=function(i,s,u,h,M,I,De,mt,Qt){return i=oc(u,h,!0,i,M,I,De,mt,Qt),i.context=t0(null),u=i.current,h=Go(),M=xa(u),I=lo(h,M),I.callback=s!=null?s:null,Fo(u,I),i.current.lanes=M,Oo(i,M,h),ns(i,h),i},v.createPortal=function(i,s,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:h==null?null:""+h,children:i,containerInfo:s,implementation:u}},v.createRoleSelector=function(i){return{$$typeof:E1,value:i}},v.createTestNameSelector=function(i){return{$$typeof:tl,value:i}},v.createTextSelector=function(i){return{$$typeof:Ys,value:i}},v.deferredUpdates=function(i){var s=qr,u=eo.transition;try{return eo.transition=null,qr=16,i()}finally{qr=s,eo.transition=u}},v.discreteUpdates=function(i,s,u,h,M){var I=qr,De=eo.transition;try{return eo.transition=null,qr=1,i(s,u,h,M)}finally{qr=I,eo.transition=De,Jr===0&&u1()}},v.findAllNodes=Zl,v.findBoundingRects=function(i,s){if(!Rt)throw Error(D(363));s=Zl(i,s),i=[];for(var u=0;u<s.length;u++)i.push(hn(s[u]));for(s=i.length-1;0<s;s--){u=i[s];for(var h=u.x,M=h+u.width,I=u.y,De=I+u.height,mt=s-1;0<=mt;mt--)if(s!==mt){var Qt=i[mt],Fn=Qt.x,dr=Fn+Qt.width,Fr=Qt.y,Lr=Fr+Qt.height;if(h>=Fn&&I>=Fr&&M<=dr&&De<=Lr){i.splice(s,1);break}else if(h!==Fn||u.width!==Qt.width||Lr<I||Fr>De){if(!(I!==Fr||u.height!==Qt.height||dr<h||Fn>M)){Fn>h&&(Qt.width+=Fn-h,Qt.x=h),dr<M&&(Qt.width=M-Fn),i.splice(s,1);break}}else{Fr>I&&(Qt.height+=Fr-I,Qt.y=I),Lr<De&&(Qt.height=De-Fr),i.splice(s,1);break}}}return i},v.findHostInstance=n0,v.findHostInstanceWithNoPortals=function(i){return i=X(i),i=i!==null?Me(i):null,i===null?null:i.stateNode},v.findHostInstanceWithWarning=function(i){return n0(i)},v.flushControlled=function(i){var s=Jr;Jr|=1;var u=eo.transition,h=qr;try{eo.transition=null,qr=1,i()}finally{qr=h,eo.transition=u,Jr=s,Jr===0&&(u1(),jn())}},v.flushPassiveEffects=Ua,v.flushSync=Wc,v.focusWithin=function(i,s){if(!Rt)throw Error(D(363));for(i=$l(i),s=Uc(i,s),s=Array.from(s),i=0;i<s.length;){var u=s[i++];if(!ie(u)){if(u.tag===5&&me(u.stateNode))return!0;for(u=u.child;u!==null;)s.push(u),u=u.sibling}}return!1},v.getCurrentUpdatePriority=function(){return qr},v.getFindAllNodesFailureDescription=function(i,s){if(!Rt)throw Error(D(363));var u=0,h=[];i=[$l(i),0];for(var M=0;M<i.length;){var I=i[M++],De=i[M++],mt=s[De];if((I.tag!==5||!ie(I))&&(Ul(I,mt)&&(h.push(jl(mt)),De++,De>u&&(u=De)),De<s.length))for(I=I.child;I!==null;)i.push(I,De),I=I.sibling}if(u<s.length){for(i=[];u<s.length;u++)i.push(jl(s[u]));return`findAllNodes was able to match part of the selector:
  `+(h.join(" > ")+`

No matching component was found for:
  `)+i.join(" > ")}return null},v.getPublicRootInstance=function(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return Re(i.child.stateNode);default:return i.child.stateNode}},v.injectIntoDevTools=function(i){if(i={bundleType:i.bundleType,version:i.version,rendererPackageName:i.rendererPackageName,rendererConfig:i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:k0,findFiberByHostInstance:i.findFiberByHostInstance||$0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")i=!1;else{var s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(s.isDisabled||!s.supportsFiber)i=!0;else{try{yt=s.inject(i),gt=s}catch(u){}i=!!s.checkDCE}}return i},v.isAlreadyRendering=function(){return!1},v.observeVisibleRects=function(i,s,u,h){if(!Rt)throw Error(D(363));i=Zl(i,s);var M=ke(i,u,h).disconnect;return{disconnect:function(){M()}}},v.registerMutableSourceForHydration=function(i,s){var u=s._getVersion;u=u(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,u]:i.mutableSourceEagerHydrationData.push(s,u)},v.runWithPriority=function(i,s){var u=qr;try{return qr=i,s()}finally{qr=u}},v.shouldError=function(){return null},v.shouldSuspend=function(){return!1},v.updateContainer=function(i,s,u,h){var M=s.current,I=Go(),De=xa(M);return u=t0(u),s.context===null?s.context=u:s.pendingContext=u,s=lo(I,De),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),Fo(M,s),i=ws(M,De,I),i!==null&&ks(i,M,De),De},v}},85259:function(qt,et,W){"use strict";qt.exports=W(23406)},97427:function(qt,et,W){"use strict";qt.exports=W(45658)},94440:function(qt,et,W){"use strict";W.d(et,{Z:function(){return y}});var A=W(50959),b=W(31110),v=W.n(b);function y(ne){let{debounce:he,scroll:xe,polyfill:B,offsetSize:Ke}=ne===void 0?{debounce:0,scroll:!1,offsetSize:!1}:ne;const We=B||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!We)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[Bt,at]=(0,A.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),ut=(0,A.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:Bt}),H=he?typeof he=="number"?he:he.scroll:null,lt=he?typeof he=="number"?he:he.resize:null,wt=(0,A.useRef)(!1);(0,A.useEffect)(()=>(wt.current=!0,()=>void(wt.current=!1)));const[Nt,Dt,Ue]=(0,A.useMemo)(()=>{const X=()=>{if(!ut.current.element)return;const{left:be,top:ye,width:Me,height:_e,bottom:Re,right:$e,x:le,y:He}=ut.current.element.getBoundingClientRect(),rt={left:be,top:ye,width:Me,height:_e,bottom:Re,right:$e,x:le,y:He};ut.current.element instanceof HTMLElement&&Ke&&(rt.height=ut.current.element.offsetHeight,rt.width=ut.current.element.offsetWidth),Object.freeze(rt),wt.current&&!K(ut.current.lastBounds,rt)&&at(ut.current.lastBounds=rt)};return[X,lt?v()(X,lt):X,H?v()(X,H):X]},[at,Ke,H,lt]);function Xe(){ut.current.scrollContainers&&(ut.current.scrollContainers.forEach(X=>X.removeEventListener("scroll",Ue,!0)),ut.current.scrollContainers=null),ut.current.resizeObserver&&(ut.current.resizeObserver.disconnect(),ut.current.resizeObserver=null)}function it(){ut.current.element&&(ut.current.resizeObserver=new We(Ue),ut.current.resizeObserver.observe(ut.current.element),xe&&ut.current.scrollContainers&&ut.current.scrollContainers.forEach(X=>X.addEventListener("scroll",Ue,{capture:!0,passive:!0})))}const Ft=X=>{!X||X===ut.current.element||(Xe(),ut.current.element=X,ut.current.scrollContainers=D(X),it())};return k(Ue,Boolean(xe)),T(Dt),(0,A.useEffect)(()=>{Xe(),it()},[xe,Ue,Dt]),(0,A.useEffect)(()=>Xe,[]),[Ft,Bt,Nt]}function T(ne){(0,A.useEffect)(()=>{const he=ne;return window.addEventListener("resize",he),()=>void window.removeEventListener("resize",he)},[ne])}function k(ne,he){(0,A.useEffect)(()=>{if(he){const xe=ne;return window.addEventListener("scroll",xe,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",xe,!0)}},[ne,he])}function D(ne){const he=[];if(!ne||ne===document.body)return he;const{overflow:xe,overflowX:B,overflowY:Ke}=window.getComputedStyle(ne);return[xe,B,Ke].some(We=>We==="auto"||We==="scroll")&&he.push(ne),[...he,...D(ne.parentElement)]}const j=["x","y","top","bottom","left","right","width","height"],K=(ne,he)=>j.every(xe=>ne[xe]===he[xe])},70247:function(qt,et){"use strict";function W(Re,$e){var le=Re.length;Re.push($e);e:for(;0<le;){var He=le-1>>>1,rt=Re[He];if(0<v(rt,$e))Re[He]=$e,Re[le]=rt,le=He;else break e}}function A(Re){return Re.length===0?null:Re[0]}function b(Re){if(Re.length===0)return null;var $e=Re[0],le=Re.pop();if(le!==$e){Re[0]=le;e:for(var He=0,rt=Re.length,ce=rt>>>1;He<ce;){var Te=2*(He+1)-1,Ve=Re[Te],Ge=Te+1,ot=Re[Ge];if(0>v(Ve,le))Ge<rt&&0>v(ot,Ve)?(Re[He]=ot,Re[Ge]=le,He=Ge):(Re[He]=Ve,Re[Te]=le,He=Te);else if(Ge<rt&&0>v(ot,le))Re[He]=ot,Re[Ge]=le,He=Ge;else break e}}return $e}function v(Re,$e){var le=Re.sortIndex-$e.sortIndex;return le!==0?le:Re.id-$e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var y=performance;et.unstable_now=function(){return y.now()}}else{var T=Date,k=T.now();et.unstable_now=function(){return T.now()-k}}var D=[],j=[],K=1,ne=null,he=3,xe=!1,B=!1,Ke=!1,We=typeof setTimeout=="function"?setTimeout:null,Bt=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ut(Re){for(var $e=A(j);$e!==null;){if($e.callback===null)b(j);else if($e.startTime<=Re)b(j),$e.sortIndex=$e.expirationTime,W(D,$e);else break;$e=A(j)}}function H(Re){if(Ke=!1,ut(Re),!B)if(A(D)!==null)B=!0,Me(lt);else{var $e=A(j);$e!==null&&_e(H,$e.startTime-Re)}}function lt(Re,$e){B=!1,Ke&&(Ke=!1,Bt(Dt),Dt=-1),xe=!0;var le=he;try{for(ut($e),ne=A(D);ne!==null&&(!(ne.expirationTime>$e)||Re&&!it());){var He=ne.callback;if(typeof He=="function"){ne.callback=null,he=ne.priorityLevel;var rt=He(ne.expirationTime<=$e);$e=et.unstable_now(),typeof rt=="function"?ne.callback=rt:ne===A(D)&&b(D),ut($e)}else b(D);ne=A(D)}if(ne!==null)var ce=!0;else{var Te=A(j);Te!==null&&_e(H,Te.startTime-$e),ce=!1}return ce}finally{ne=null,he=le,xe=!1}}var wt=!1,Nt=null,Dt=-1,Ue=5,Xe=-1;function it(){return!(et.unstable_now()-Xe<Ue)}function Ft(){if(Nt!==null){var Re=et.unstable_now();Xe=Re;var $e=!0;try{$e=Nt(!0,Re)}finally{$e?X():(wt=!1,Nt=null)}}else wt=!1}var X;if(typeof at=="function")X=function(){at(Ft)};else if(typeof MessageChannel!="undefined"){var be=new MessageChannel,ye=be.port2;be.port1.onmessage=Ft,X=function(){ye.postMessage(null)}}else X=function(){We(Ft,0)};function Me(Re){Nt=Re,wt||(wt=!0,X())}function _e(Re,$e){Dt=We(function(){Re(et.unstable_now())},$e)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(Re){Re.callback=null},et.unstable_continueExecution=function(){B||xe||(B=!0,Me(lt))},et.unstable_forceFrameRate=function(Re){0>Re||125<Re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ue=0<Re?Math.floor(1e3/Re):5},et.unstable_getCurrentPriorityLevel=function(){return he},et.unstable_getFirstCallbackNode=function(){return A(D)},et.unstable_next=function(Re){switch(he){case 1:case 2:case 3:var $e=3;break;default:$e=he}var le=he;he=$e;try{return Re()}finally{he=le}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(Re,$e){switch(Re){case 1:case 2:case 3:case 4:case 5:break;default:Re=3}var le=he;he=Re;try{return $e()}finally{he=le}},et.unstable_scheduleCallback=function(Re,$e,le){var He=et.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?He+le:He):le=He,Re){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=le+rt,Re={id:K++,callback:$e,priorityLevel:Re,startTime:le,expirationTime:rt,sortIndex:-1},le>He?(Re.sortIndex=le,W(j,Re),A(D)===null&&Re===A(j)&&(Ke?(Bt(Dt),Dt=-1):Ke=!0,_e(H,le-He))):(Re.sortIndex=rt,W(D,Re),B||xe||(B=!0,Me(lt))),Re},et.unstable_shouldYield=it,et.unstable_wrapCallback=function(Re){var $e=he;return function(){var le=he;he=$e;try{return Re.apply(this,arguments)}finally{he=le}}}},65297:function(qt,et,W){"use strict";qt.exports=W(70247)},67839:function(qt,et,W){var A=W(49154),b=W(14614);function v(y,T,k){return b()?(qt.exports=v=Reflect.construct.bind(),qt.exports.__esModule=!0,qt.exports.default=qt.exports):(qt.exports=v=function(j,K,ne){var he=[null];he.push.apply(he,K);var xe=Function.bind.apply(j,he),B=new xe;return ne&&A(B,ne.prototype),B},qt.exports.__esModule=!0,qt.exports.default=qt.exports),v.apply(null,arguments)}qt.exports=v,qt.exports.__esModule=!0,qt.exports.default=qt.exports},14614:function(qt){function et(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(W){return!1}}qt.exports=et,qt.exports.__esModule=!0,qt.exports.default=qt.exports},49154:function(qt){function et(W,A){return qt.exports=et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,y){return v.__proto__=y,v},qt.exports.__esModule=!0,qt.exports.default=qt.exports,et(W,A)}qt.exports=et,qt.exports.__esModule=!0,qt.exports.default=qt.exports},18846:function(qt,et,W){"use strict";W.d(et,{Uy:function(){return fe}});function A(ue){for(var je=arguments.length,Ye=Array(je>1?je-1:0),qe=1;qe<je;qe++)Ye[qe-1]=arguments[qe];if(!1)var kt,vn;throw Error("[Immer] minified error nr: "+ue+(Ye.length?" "+Ye.map(function(sn){return"'"+sn+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function b(ue){return!!ue&&!!ue[Qe]}function v(ue){var je;return!!ue&&(function(Ye){if(!Ye||typeof Ye!="object")return!1;var qe=Object.getPrototypeOf(Ye);if(qe===null)return!0;var kt=Object.hasOwnProperty.call(qe,"constructor")&&qe.constructor;return kt===Object||typeof kt=="function"&&Function.toString.call(kt)===un}(ue)||Array.isArray(ue)||!!ue[St]||!!(!((je=ue.constructor)===null||je===void 0)&&je[St])||he(ue)||xe(ue))}function y(ue){return b(ue)||A(23,ue),ue[Qe].t}function T(ue,je,Ye){Ye===void 0&&(Ye=!1),k(ue)===0?(Ye?Object.keys:nn)(ue).forEach(function(qe){Ye&&typeof qe=="symbol"||je(qe,ue[qe],ue)}):ue.forEach(function(qe,kt){return je(kt,qe,ue)})}function k(ue){var je=ue[Qe];return je?je.i>3?je.i-4:je.i:Array.isArray(ue)?1:he(ue)?2:xe(ue)?3:0}function D(ue,je){return k(ue)===2?ue.has(je):Object.prototype.hasOwnProperty.call(ue,je)}function j(ue,je){return k(ue)===2?ue.get(je):ue[je]}function K(ue,je,Ye){var qe=k(ue);qe===2?ue.set(je,Ye):qe===3?ue.add(Ye):ue[je]=Ye}function ne(ue,je){return ue===je?ue!==0||1/ue==1/je:ue!=ue&&je!=je}function he(ue){return Kt&&ue instanceof Map}function xe(ue){return Tt&&ue instanceof Set}function B(ue){return ue.o||ue.t}function Ke(ue){if(Array.isArray(ue))return Array.prototype.slice.call(ue);var je=pn(ue);delete je[Qe];for(var Ye=nn(je),qe=0;qe<Ye.length;qe++){var kt=Ye[qe],vn=je[kt];vn.writable===!1&&(vn.writable=!0,vn.configurable=!0),(vn.get||vn.set)&&(je[kt]={configurable:!0,writable:!0,enumerable:vn.enumerable,value:ue[kt]})}return Object.create(Object.getPrototypeOf(ue),je)}function We(ue,je){return je===void 0&&(je=!1),at(ue)||b(ue)||!v(ue)||(k(ue)>1&&(ue.set=ue.add=ue.clear=ue.delete=Bt),Object.freeze(ue),je&&T(ue,function(Ye,qe){return We(qe,!0)},!0)),ue}function Bt(){A(2)}function at(ue){return ue==null||typeof ue!="object"||Object.isFrozen(ue)}function ut(ue){var je=Rt[ue];return je||A(18,ue),je}function H(ue,je){Rt[ue]||(Rt[ue]=je)}function lt(){return bt}function wt(ue,je){je&&(ut("Patches"),ue.u=[],ue.s=[],ue.v=je)}function Nt(ue){Dt(ue),ue.p.forEach(Xe),ue.p=null}function Dt(ue){ue===bt&&(bt=ue.l)}function Ue(ue){return bt={p:[],l:bt,h:ue,m:!0,_:0}}function Xe(ue){var je=ue[Qe];je.i===0||je.i===1?je.j():je.g=!0}function it(ue,je){je._=je.p.length;var Ye=je.p[0],qe=ue!==void 0&&ue!==Ye;return je.h.O||ut("ES5").S(je,ue,qe),qe?(Ye[Qe].P&&(Nt(je),A(4)),v(ue)&&(ue=Ft(je,ue),je.l||be(je,ue)),je.u&&ut("Patches").M(Ye[Qe].t,ue,je.u,je.s)):ue=Ft(je,Ye,[]),Nt(je),je.u&&je.v(je.u,je.s),ue!==Ht?ue:void 0}function Ft(ue,je,Ye){if(at(je))return je;var qe=je[Qe];if(!qe)return T(je,function(It,de){return X(ue,qe,je,It,de,Ye)},!0),je;if(qe.A!==ue)return je;if(!qe.P)return be(ue,qe.t,!0),qe.t;if(!qe.I){qe.I=!0,qe.A._--;var kt=qe.i===4||qe.i===5?qe.o=Ke(qe.k):qe.o,vn=kt,sn=!1;qe.i===3&&(vn=new Set(kt),kt.clear(),sn=!0),T(vn,function(It,de){return X(ue,qe,kt,It,de,Ye,sn)}),be(ue,kt,!1),Ye&&ue.u&&ut("Patches").N(qe,Ye,ue.u,ue.s)}return qe.o}function X(ue,je,Ye,qe,kt,vn,sn){if(b(kt)){var It=Ft(ue,kt,vn&&je&&je.i!==3&&!D(je.R,qe)?vn.concat(qe):void 0);if(K(Ye,qe,It),!b(It))return;ue.m=!1}else sn&&Ye.add(kt);if(v(kt)&&!at(kt)){if(!ue.h.D&&ue._<1)return;Ft(ue,kt),je&&je.A.l||be(ue,kt)}}function be(ue,je,Ye){Ye===void 0&&(Ye=!1),!ue.l&&ue.h.D&&ue.m&&We(je,Ye)}function ye(ue,je){var Ye=ue[Qe];return(Ye?B(Ye):ue)[je]}function Me(ue,je){if(je in ue)for(var Ye=Object.getPrototypeOf(ue);Ye;){var qe=Object.getOwnPropertyDescriptor(Ye,je);if(qe)return qe;Ye=Object.getPrototypeOf(Ye)}}function _e(ue){ue.P||(ue.P=!0,ue.l&&_e(ue.l))}function Re(ue){ue.o||(ue.o=Ke(ue.t))}function $e(ue,je,Ye){var qe=he(je)?ut("MapSet").F(je,Ye):xe(je)?ut("MapSet").T(je,Ye):ue.O?function(kt,vn){var sn=Array.isArray(kt),It={i:sn?1:0,A:vn?vn.A:lt(),P:!1,I:!1,R:{},l:vn,t:kt,k:null,o:null,j:null,C:!1},de=It,Oe=jt;sn&&(de=[It],Oe=hn);var st=Proxy.revocable(de,Oe),_t=st.revoke,Xt=st.proxy;return It.k=Xt,It.j=_t,Xt}(je,Ye):ut("ES5").J(je,Ye);return(Ye?Ye.A:lt()).p.push(qe),qe}function le(ue){return b(ue)||A(22,ue),function je(Ye){if(!v(Ye))return Ye;var qe,kt=Ye[Qe],vn=k(Ye);if(kt){if(!kt.P&&(kt.i<4||!ut("ES5").K(kt)))return kt.t;kt.I=!0,qe=He(Ye,vn),kt.I=!1}else qe=He(Ye,vn);return T(qe,function(sn,It){kt&&j(kt.t,sn)===It||K(qe,sn,je(It))}),vn===3?new Set(qe):qe}(ue)}function He(ue,je){switch(je){case 2:return new Map(ue);case 3:return Array.from(ue)}return Ke(ue)}function rt(){function ue(sn,It){var de=vn[sn];return de?de.enumerable=It:vn[sn]=de={configurable:!0,enumerable:It,get:function(){var Oe=this[Qe];return jt.get(Oe,sn)},set:function(Oe){var st=this[Qe];jt.set(st,sn,Oe)}},de}function je(sn){for(var It=sn.length-1;It>=0;It--){var de=sn[It][Qe];if(!de.P)switch(de.i){case 5:qe(de)&&_e(de);break;case 4:Ye(de)&&_e(de)}}}function Ye(sn){for(var It=sn.t,de=sn.k,Oe=nn(de),st=Oe.length-1;st>=0;st--){var _t=Oe[st];if(_t!==Qe){var Xt=It[_t];if(Xt===void 0&&!D(It,_t))return!0;var bn=de[_t],$n=bn&&bn[Qe];if($n?$n.t!==Xt:!ne(bn,Xt))return!0}}var Ce=!!It[Qe];return Oe.length!==nn(It).length+(Ce?0:1)}function qe(sn){var It=sn.k;if(It.length!==sn.t.length)return!0;var de=Object.getOwnPropertyDescriptor(It,It.length-1);if(de&&!de.get)return!0;for(var Oe=0;Oe<It.length;Oe++)if(!It.hasOwnProperty(Oe))return!0;return!1}function kt(sn){sn.g&&A(3,JSON.stringify(B(sn)))}var vn={};H("ES5",{J:function(sn,It){var de=Array.isArray(sn),Oe=function(_t,Xt){if(_t){for(var bn=Array(Xt.length),$n=0;$n<Xt.length;$n++)Object.defineProperty(bn,""+$n,ue($n,!0));return bn}var Ce=pn(Xt);delete Ce[Qe];for(var Ze=nn(Ce),xt=0;xt<Ze.length;xt++){var Wt=Ze[xt];Ce[Wt]=ue(Wt,_t||!!Ce[Wt].enumerable)}return Object.create(Object.getPrototypeOf(Xt),Ce)}(de,sn),st={i:de?5:4,A:It?It.A:lt(),P:!1,I:!1,R:{},l:It,t:sn,k:Oe,o:null,g:!1,C:!1};return Object.defineProperty(Oe,Qe,{value:st,writable:!0}),Oe},S:function(sn,It,de){de?b(It)&&It[Qe].A===sn&&je(sn.p):(sn.u&&function Oe(st){if(st&&typeof st=="object"){var _t=st[Qe];if(_t){var Xt=_t.t,bn=_t.k,$n=_t.R,Ce=_t.i;if(Ce===4)T(bn,function(_n){_n!==Qe&&(Xt[_n]!==void 0||D(Xt,_n)?$n[_n]||Oe(bn[_n]):($n[_n]=!0,_e(_t)))}),T(Xt,function(_n){bn[_n]!==void 0||D(bn,_n)||($n[_n]=!1,_e(_t))});else if(Ce===5){if(qe(_t)&&(_e(_t),$n.length=!0),bn.length<Xt.length)for(var Ze=bn.length;Ze<Xt.length;Ze++)$n[Ze]=!1;else for(var xt=Xt.length;xt<bn.length;xt++)$n[xt]=!0;for(var Wt=Math.min(bn.length,Xt.length),fn=0;fn<Wt;fn++)bn.hasOwnProperty(fn)||($n[fn]=!0),$n[fn]===void 0&&Oe(bn[fn])}}}}(sn.p[0]),je(sn.p))},K:function(sn){return sn.i===4?Ye(sn):qe(sn)}})}function ce(){function ue(qe){if(!v(qe))return qe;if(Array.isArray(qe))return qe.map(ue);if(he(qe))return new Map(Array.from(qe.entries()).map(function(sn){return[sn[0],ue(sn[1])]}));if(xe(qe))return new Set(Array.from(qe).map(ue));var kt=Object.create(Object.getPrototypeOf(qe));for(var vn in qe)kt[vn]=ue(qe[vn]);return D(qe,St)&&(kt[St]=qe[St]),kt}function je(qe){return b(qe)?ue(qe):qe}var Ye="add";H("Patches",{$:function(qe,kt){return kt.forEach(function(vn){for(var sn=vn.path,It=vn.op,de=qe,Oe=0;Oe<sn.length-1;Oe++){var st=k(de),_t=sn[Oe];typeof _t!="string"&&typeof _t!="number"&&(_t=""+_t),st!==0&&st!==1||_t!=="__proto__"&&_t!=="constructor"||A(24),typeof de=="function"&&_t==="prototype"&&A(24),typeof(de=j(de,_t))!="object"&&A(15,sn.join("/"))}var Xt=k(de),bn=ue(vn.value),$n=sn[sn.length-1];switch(It){case"replace":switch(Xt){case 2:return de.set($n,bn);case 3:A(16);default:return de[$n]=bn}case Ye:switch(Xt){case 1:return $n==="-"?de.push(bn):de.splice($n,0,bn);case 2:return de.set($n,bn);case 3:return de.add(bn);default:return de[$n]=bn}case"remove":switch(Xt){case 1:return de.splice($n,1);case 2:return de.delete($n);case 3:return de.delete(vn.value);default:return delete de[$n]}default:A(17,It)}}),qe},N:function(qe,kt,vn,sn){switch(qe.i){case 0:case 4:case 2:return function(It,de,Oe,st){var _t=It.t,Xt=It.o;T(It.R,function(bn,$n){var Ce=j(_t,bn),Ze=j(Xt,bn),xt=$n?D(_t,bn)?"replace":Ye:"remove";if(Ce!==Ze||xt!=="replace"){var Wt=de.concat(bn);Oe.push(xt==="remove"?{op:xt,path:Wt}:{op:xt,path:Wt,value:Ze}),st.push(xt===Ye?{op:"remove",path:Wt}:xt==="remove"?{op:Ye,path:Wt,value:je(Ce)}:{op:"replace",path:Wt,value:je(Ce)})}})}(qe,kt,vn,sn);case 5:case 1:return function(It,de,Oe,st){var _t=It.t,Xt=It.R,bn=It.o;if(bn.length<_t.length){var $n=[bn,_t];_t=$n[0],bn=$n[1];var Ce=[st,Oe];Oe=Ce[0],st=Ce[1]}for(var Ze=0;Ze<_t.length;Ze++)if(Xt[Ze]&&bn[Ze]!==_t[Ze]){var xt=de.concat([Ze]);Oe.push({op:"replace",path:xt,value:je(bn[Ze])}),st.push({op:"replace",path:xt,value:je(_t[Ze])})}for(var Wt=_t.length;Wt<bn.length;Wt++){var fn=de.concat([Wt]);Oe.push({op:Ye,path:fn,value:je(bn[Wt])})}_t.length<bn.length&&st.push({op:"replace",path:de.concat(["length"]),value:_t.length})}(qe,kt,vn,sn);case 3:return function(It,de,Oe,st){var _t=It.t,Xt=It.o,bn=0;_t.forEach(function($n){if(!Xt.has($n)){var Ce=de.concat([bn]);Oe.push({op:"remove",path:Ce,value:$n}),st.unshift({op:Ye,path:Ce,value:$n})}bn++}),bn=0,Xt.forEach(function($n){if(!_t.has($n)){var Ce=de.concat([bn]);Oe.push({op:Ye,path:Ce,value:$n}),st.unshift({op:"remove",path:Ce,value:$n})}bn++})}(qe,kt,vn,sn)}},M:function(qe,kt,vn,sn){vn.push({op:"replace",path:[],value:kt===Ht?void 0:kt}),sn.push({op:"replace",path:[],value:qe})}})}function Te(){function ue(It,de){function Oe(){this.constructor=It}kt(It,de),It.prototype=(Oe.prototype=de.prototype,new Oe)}function je(It){It.o||(It.R=new Map,It.o=new Map(It.t))}function Ye(It){It.o||(It.o=new Set,It.t.forEach(function(de){if(v(de)){var Oe=$e(It.A.h,de,It);It.p.set(de,Oe),It.o.add(Oe)}else It.o.add(de)}))}function qe(It){It.g&&A(3,JSON.stringify(B(It)))}var kt=function(It,de){return(kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Oe,st){Oe.__proto__=st}||function(Oe,st){for(var _t in st)st.hasOwnProperty(_t)&&(Oe[_t]=st[_t])})(It,de)},vn=function(){function It(Oe,st){return this[Qe]={i:2,l:st,A:st?st.A:lt(),P:!1,I:!1,o:void 0,R:void 0,t:Oe,k:this,C:!1,g:!1},this}ue(It,Map);var de=It.prototype;return Object.defineProperty(de,"size",{get:function(){return B(this[Qe]).size}}),de.has=function(Oe){return B(this[Qe]).has(Oe)},de.set=function(Oe,st){var _t=this[Qe];return qe(_t),B(_t).has(Oe)&&B(_t).get(Oe)===st||(je(_t),_e(_t),_t.R.set(Oe,!0),_t.o.set(Oe,st),_t.R.set(Oe,!0)),this},de.delete=function(Oe){if(!this.has(Oe))return!1;var st=this[Qe];return qe(st),je(st),_e(st),st.t.has(Oe)?st.R.set(Oe,!1):st.R.delete(Oe),st.o.delete(Oe),!0},de.clear=function(){var Oe=this[Qe];qe(Oe),B(Oe).size&&(je(Oe),_e(Oe),Oe.R=new Map,T(Oe.t,function(st){Oe.R.set(st,!1)}),Oe.o.clear())},de.forEach=function(Oe,st){var _t=this;B(this[Qe]).forEach(function(Xt,bn){Oe.call(st,_t.get(bn),bn,_t)})},de.get=function(Oe){var st=this[Qe];qe(st);var _t=B(st).get(Oe);if(st.I||!v(_t)||_t!==st.t.get(Oe))return _t;var Xt=$e(st.A.h,_t,st);return je(st),st.o.set(Oe,Xt),Xt},de.keys=function(){return B(this[Qe]).keys()},de.values=function(){var Oe,st=this,_t=this.keys();return(Oe={})[Et]=function(){return st.values()},Oe.next=function(){var Xt=_t.next();return Xt.done?Xt:{done:!1,value:st.get(Xt.value)}},Oe},de.entries=function(){var Oe,st=this,_t=this.keys();return(Oe={})[Et]=function(){return st.entries()},Oe.next=function(){var Xt=_t.next();if(Xt.done)return Xt;var bn=st.get(Xt.value);return{done:!1,value:[Xt.value,bn]}},Oe},de[Et]=function(){return this.entries()},It}(),sn=function(){function It(Oe,st){return this[Qe]={i:3,l:st,A:st?st.A:lt(),P:!1,I:!1,o:void 0,t:Oe,k:this,p:new Map,g:!1,C:!1},this}ue(It,Set);var de=It.prototype;return Object.defineProperty(de,"size",{get:function(){return B(this[Qe]).size}}),de.has=function(Oe){var st=this[Qe];return qe(st),st.o?!!st.o.has(Oe)||!(!st.p.has(Oe)||!st.o.has(st.p.get(Oe))):st.t.has(Oe)},de.add=function(Oe){var st=this[Qe];return qe(st),this.has(Oe)||(Ye(st),_e(st),st.o.add(Oe)),this},de.delete=function(Oe){if(!this.has(Oe))return!1;var st=this[Qe];return qe(st),Ye(st),_e(st),st.o.delete(Oe)||!!st.p.has(Oe)&&st.o.delete(st.p.get(Oe))},de.clear=function(){var Oe=this[Qe];qe(Oe),B(Oe).size&&(Ye(Oe),_e(Oe),Oe.o.clear())},de.values=function(){var Oe=this[Qe];return qe(Oe),Ye(Oe),Oe.o.values()},de.entries=function(){var Oe=this[Qe];return qe(Oe),Ye(Oe),Oe.o.entries()},de.keys=function(){return this.values()},de[Et]=function(){return this.values()},de.forEach=function(Oe,st){for(var _t=this.values(),Xt=_t.next();!Xt.done;)Oe.call(st,Xt.value,Xt.value,this),Xt=_t.next()},It}();H("MapSet",{F:function(It,de){return new vn(It,de)},T:function(It,de){return new sn(It,de)}})}function Ve(){rt(),Te(),ce()}function Ge(ue){return ue}function ot(ue){return ue}var ht,bt,Vt=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",Kt=typeof Map!="undefined",Tt=typeof Set!="undefined",Mt=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",Ht=Vt?Symbol.for("immer-nothing"):((ht={})["immer-nothing"]=!0,ht),St=Vt?Symbol.for("immer-draftable"):"__$immer_draftable",Qe=Vt?Symbol.for("immer-state"):"__$immer_state",Et=typeof Symbol!="undefined"&&Symbol.iterator||"@@iterator",tn={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(ue){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+ue},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(ue){return"Cannot apply patch, path doesn't resolve: "+ue},16:'Sets cannot have "replace" patches.',17:function(ue){return"Unsupported patch operation: "+ue},18:function(ue){return"The plugin for '"+ue+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+ue+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(ue){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+ue+"'"},22:function(ue){return"'current' expects a draft, got: "+ue},23:function(ue){return"'original' expects a draft, got: "+ue},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},un=""+Object.prototype.constructor,nn=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(ue){return Object.getOwnPropertyNames(ue).concat(Object.getOwnPropertySymbols(ue))}:Object.getOwnPropertyNames,pn=Object.getOwnPropertyDescriptors||function(ue){var je={};return nn(ue).forEach(function(Ye){je[Ye]=Object.getOwnPropertyDescriptor(ue,Ye)}),je},Rt={},jt={get:function(ue,je){if(je===Qe)return ue;var Ye=B(ue);if(!D(Ye,je))return function(kt,vn,sn){var It,de=Me(vn,sn);return de?"value"in de?de.value:(It=de.get)===null||It===void 0?void 0:It.call(kt.k):void 0}(ue,Ye,je);var qe=Ye[je];return ue.I||!v(qe)?qe:qe===ye(ue.t,je)?(Re(ue),ue.o[je]=$e(ue.A.h,qe,ue)):qe},has:function(ue,je){return je in B(ue)},ownKeys:function(ue){return Reflect.ownKeys(B(ue))},set:function(ue,je,Ye){var qe=Me(B(ue),je);if(qe!=null&&qe.set)return qe.set.call(ue.k,Ye),!0;if(!ue.P){var kt=ye(B(ue),je),vn=kt==null?void 0:kt[Qe];if(vn&&vn.t===Ye)return ue.o[je]=Ye,ue.R[je]=!1,!0;if(ne(Ye,kt)&&(Ye!==void 0||D(ue.t,je)))return!0;Re(ue),_e(ue)}return ue.o[je]===Ye&&(Ye!==void 0||je in ue.o)||Number.isNaN(Ye)&&Number.isNaN(ue.o[je])||(ue.o[je]=Ye,ue.R[je]=!0),!0},deleteProperty:function(ue,je){return ye(ue.t,je)!==void 0||je in ue.t?(ue.R[je]=!1,Re(ue),_e(ue)):delete ue.R[je],ue.o&&delete ue.o[je],!0},getOwnPropertyDescriptor:function(ue,je){var Ye=B(ue),qe=Reflect.getOwnPropertyDescriptor(Ye,je);return qe&&{writable:!0,configurable:ue.i!==1||je!=="length",enumerable:qe.enumerable,value:Ye[je]}},defineProperty:function(){A(11)},getPrototypeOf:function(ue){return Object.getPrototypeOf(ue.t)},setPrototypeOf:function(){A(12)}},hn={};T(jt,function(ue,je){hn[ue]=function(){return arguments[0]=arguments[0][0],je.apply(this,arguments)}}),hn.deleteProperty=function(ue,je){return hn.set.call(this,ue,je,void 0)},hn.set=function(ue,je,Ye){return jt.set.call(this,ue[0],je,Ye,ue[0])};var tt=function(){function ue(Ye){var qe=this;this.O=Mt,this.D=!0,this.produce=function(kt,vn,sn){if(typeof kt=="function"&&typeof vn!="function"){var It=vn;vn=kt;var de=qe;return function(Ce){var Ze=this;Ce===void 0&&(Ce=It);for(var xt=arguments.length,Wt=Array(xt>1?xt-1:0),fn=1;fn<xt;fn++)Wt[fn-1]=arguments[fn];return de.produce(Ce,function(_n){var Bn;return(Bn=vn).call.apply(Bn,[Ze,_n].concat(Wt))})}}var Oe;if(typeof vn!="function"&&A(6),sn!==void 0&&typeof sn!="function"&&A(7),v(kt)){var st=Ue(qe),_t=$e(qe,kt,void 0),Xt=!0;try{Oe=vn(_t),Xt=!1}finally{Xt?Nt(st):Dt(st)}return typeof Promise!="undefined"&&Oe instanceof Promise?Oe.then(function(Ce){return wt(st,sn),it(Ce,st)},function(Ce){throw Nt(st),Ce}):(wt(st,sn),it(Oe,st))}if(!kt||typeof kt!="object"){if((Oe=vn(kt))===void 0&&(Oe=kt),Oe===Ht&&(Oe=void 0),qe.D&&We(Oe,!0),sn){var bn=[],$n=[];ut("Patches").M(kt,Oe,bn,$n),sn(bn,$n)}return Oe}A(21,kt)},this.produceWithPatches=function(kt,vn){if(typeof kt=="function")return function(Oe){for(var st=arguments.length,_t=Array(st>1?st-1:0),Xt=1;Xt<st;Xt++)_t[Xt-1]=arguments[Xt];return qe.produceWithPatches(Oe,function(bn){return kt.apply(void 0,[bn].concat(_t))})};var sn,It,de=qe.produce(kt,vn,function(Oe,st){sn=Oe,It=st});return typeof Promise!="undefined"&&de instanceof Promise?de.then(function(Oe){return[Oe,sn,It]}):[de,sn,It]},typeof(Ye==null?void 0:Ye.useProxies)=="boolean"&&this.setUseProxies(Ye.useProxies),typeof(Ye==null?void 0:Ye.autoFreeze)=="boolean"&&this.setAutoFreeze(Ye.autoFreeze)}var je=ue.prototype;return je.createDraft=function(Ye){v(Ye)||A(8),b(Ye)&&(Ye=le(Ye));var qe=Ue(this),kt=$e(this,Ye,void 0);return kt[Qe].C=!0,Dt(qe),kt},je.finishDraft=function(Ye,qe){var kt=Ye&&Ye[Qe],vn=kt.A;return wt(vn,qe),it(void 0,vn)},je.setAutoFreeze=function(Ye){this.D=Ye},je.setUseProxies=function(Ye){Ye&&!Mt&&A(20),this.O=Ye},je.applyPatches=function(Ye,qe){var kt;for(kt=qe.length-1;kt>=0;kt--){var vn=qe[kt];if(vn.path.length===0&&vn.op==="replace"){Ye=vn.value;break}}kt>-1&&(qe=qe.slice(kt+1));var sn=ut("Patches").$;return b(Ye)?sn(Ye,qe):this.produce(Ye,function(It){return sn(It,qe)})},ue}(),ie=new tt,fe=ie.produce,me=ie.produceWithPatches.bind(ie),ke=ie.setAutoFreeze.bind(ie),Ie=ie.setUseProxies.bind(ie),At=ie.applyPatches.bind(ie),Jt=ie.createDraft.bind(ie),Vn=ie.finishDraft.bind(ie),Ln=null},51741:function(qt,et,W){"use strict";W.d(et,{Z:function(){return je}});function A(Ye,qe,kt,vn){var sn=-1,It=Ye==null?0:Ye.length;for(vn&&It&&(kt=Ye[++sn]);++sn<It;)kt=qe(kt,Ye[sn],sn,Ye);return kt}var b=A;function v(Ye){return function(qe){return Ye==null?void 0:Ye[qe]}}var y=v,T={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},k=y(T),D=k,j=W(45633),K=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ne="\\u0300-\\u036f",he="\\ufe20-\\ufe2f",xe="\\u20d0-\\u20ff",B=ne+he+xe,Ke="["+B+"]",We=RegExp(Ke,"g");function Bt(Ye){return Ye=(0,j.Z)(Ye),Ye&&Ye.replace(K,D).replace(We,"")}var at=Bt,ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function H(Ye){return Ye.match(ut)||[]}var lt=H,wt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Nt(Ye){return wt.test(Ye)}var Dt=Nt,Ue="\\ud800-\\udfff",Xe="\\u0300-\\u036f",it="\\ufe20-\\ufe2f",Ft="\\u20d0-\\u20ff",X=Xe+it+Ft,be="\\u2700-\\u27bf",ye="a-z\\xdf-\\xf6\\xf8-\\xff",Me="\\xac\\xb1\\xd7\\xf7",_e="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Re="\\u2000-\\u206f",$e=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",le="A-Z\\xc0-\\xd6\\xd8-\\xde",He="\\ufe0e\\ufe0f",rt=Me+_e+Re+$e,ce="['\u2019]",Te="["+rt+"]",Ve="["+X+"]",Ge="\\d+",ot="["+be+"]",ht="["+ye+"]",bt="[^"+Ue+rt+Ge+be+ye+le+"]",Vt="\\ud83c[\\udffb-\\udfff]",Kt="(?:"+Ve+"|"+Vt+")",Tt="[^"+Ue+"]",Mt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ht="[\\ud800-\\udbff][\\udc00-\\udfff]",St="["+le+"]",Qe="\\u200d",Et="(?:"+ht+"|"+bt+")",tn="(?:"+St+"|"+bt+")",un="(?:"+ce+"(?:d|ll|m|re|s|t|ve))?",nn="(?:"+ce+"(?:D|LL|M|RE|S|T|VE))?",pn=Kt+"?",Rt="["+He+"]?",jt="(?:"+Qe+"(?:"+[Tt,Mt,Ht].join("|")+")"+Rt+pn+")*",hn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",tt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ie=Rt+pn+jt,fe="(?:"+[ot,Mt,Ht].join("|")+")"+ie,me=RegExp([St+"?"+ht+"+"+un+"(?="+[Te,St,"$"].join("|")+")",tn+"+"+nn+"(?="+[Te,St+Et,"$"].join("|")+")",St+"?"+Et+"+"+un,St+"+"+nn,tt,hn,Ge,fe].join("|"),"g");function ke(Ye){return Ye.match(me)||[]}var Ie=ke;function At(Ye,qe,kt){return Ye=(0,j.Z)(Ye),qe=kt?void 0:qe,qe===void 0?Dt(Ye)?Ie(Ye):lt(Ye):Ye.match(qe)||[]}var Jt=At,Vn="['\u2019]",Ln=RegExp(Vn,"g");function ue(Ye){return function(qe){return b(Jt(at(qe).replace(Ln,"")),Ye,"")}}var je=ue},15861:function(qt,et,W){"use strict";W.d(et,{Z:function(){return St}});var A=W(45633);function b(Qe,Et,tn){var un=-1,nn=Qe.length;Et<0&&(Et=-Et>nn?0:nn+Et),tn=tn>nn?nn:tn,tn<0&&(tn+=nn),nn=Et>tn?0:tn-Et>>>0,Et>>>=0;for(var pn=Array(nn);++un<nn;)pn[un]=Qe[un+Et];return pn}var v=b;function y(Qe,Et,tn){var un=Qe.length;return tn=tn===void 0?un:tn,!Et&&tn>=un?Qe:v(Qe,Et,tn)}var T=y,k="\\ud800-\\udfff",D="\\u0300-\\u036f",j="\\ufe20-\\ufe2f",K="\\u20d0-\\u20ff",ne=D+j+K,he="\\ufe0e\\ufe0f",xe="\\u200d",B=RegExp("["+xe+k+ne+he+"]");function Ke(Qe){return B.test(Qe)}var We=Ke;function Bt(Qe){return Qe.split("")}var at=Bt,ut="\\ud800-\\udfff",H="\\u0300-\\u036f",lt="\\ufe20-\\ufe2f",wt="\\u20d0-\\u20ff",Nt=H+lt+wt,Dt="\\ufe0e\\ufe0f",Ue="["+ut+"]",Xe="["+Nt+"]",it="\\ud83c[\\udffb-\\udfff]",Ft="(?:"+Xe+"|"+it+")",X="[^"+ut+"]",be="(?:\\ud83c[\\udde6-\\uddff]){2}",ye="[\\ud800-\\udbff][\\udc00-\\udfff]",Me="\\u200d",_e=Ft+"?",Re="["+Dt+"]?",$e="(?:"+Me+"(?:"+[X,be,ye].join("|")+")"+Re+_e+")*",le=Re+_e+$e,He="(?:"+[X+Xe+"?",Xe,be,ye,Ue].join("|")+")",rt=RegExp(it+"(?="+it+")|"+He+le,"g");function ce(Qe){return Qe.match(rt)||[]}var Te=ce;function Ve(Qe){return We(Qe)?Te(Qe):at(Qe)}var Ge=Ve;function ot(Qe){return function(Et){Et=(0,A.Z)(Et);var tn=We(Et)?Ge(Et):void 0,un=tn?tn[0]:Et.charAt(0),nn=tn?T(tn,1).join(""):Et.slice(1);return un[Qe]()+nn}}var ht=ot,bt=ht("toUpperCase"),Vt=bt;function Kt(Qe){return Vt((0,A.Z)(Qe).toLowerCase())}var Tt=Kt,Mt=W(51741),Ht=(0,Mt.Z)(function(Qe,Et,tn){return Et=Et.toLowerCase(),Qe+(tn?Tt(Et):Et)}),St=Ht},23407:function(qt,et,W){"use strict";var A=W(51741),b=(0,A.Z)(function(v,y,T){return v+(T?"-":"")+y.toLowerCase()});et.Z=b},45633:function(qt,et,W){"use strict";W.d(et,{Z:function(){return Bt}});var A=W(66711);function b(at,ut){for(var H=-1,lt=at==null?0:at.length,wt=Array(lt);++H<lt;)wt[H]=ut(at[H],H,at);return wt}var v=b,y=W(56052),T=W(33918),k=W(13795),D="[object Symbol]";function j(at){return typeof at=="symbol"||(0,k.Z)(at)&&(0,T.Z)(at)==D}var K=j,ne=1/0,he=A.Z?A.Z.prototype:void 0,xe=he?he.toString:void 0;function B(at){if(typeof at=="string")return at;if((0,y.Z)(at))return v(at,B)+"";if(K(at))return xe?xe.call(at):"";var ut=at+"";return ut=="0"&&1/at==-ne?"-0":ut}var Ke=B;function We(at){return at==null?"":Ke(at)}var Bt=We},26553:function(qt,et,W){"use strict";W.r(et),W.d(et,{ACESFilmicToneMapping:function(){return un},AddEquation:function(){return Dt},AddOperation:function(){return Ht},AdditiveAnimationBlendMode:function(){return ds},AdditiveBlending:function(){return H},AlphaFormat:function(){return Ze},AlwaysDepth:function(){return Ve},AlwaysStencilFunc:function(){return ft},AmbientLight:function(){return I9},AmbientLightProbe:function(){return H3},AnimationClip:function(){return y0},AnimationLoader:function(){return w3},AnimationMixer:function(){return eh},AnimationObjectGroup:function(){return q3},AnimationUtils:function(){return Xi},ArcCurve:function(){return qd},ArrayCamera:function(){return yd},ArrowHelper:function(){return xh},Audio:function(){return W9},AudioAnalyser:function(){return k3},AudioContext:function(){return Vf},AudioListener:function(){return B3},AudioLoader:function(){return D3},AxesHelper:function(){return yh},BackSide:function(){return B},BasicDepthPacking:function(){return Fs},BasicShadowMap:function(){return j},Bone:function(){return pf},BooleanKeyframeTrack:function(){return wl},Box2:function(){return sh},Box3:function(){return qi},Box3Helper:function(){return Ch},BoxBufferGeometry:function(){return ls},BoxGeometry:function(){return ls},BoxHelper:function(){return vh},BufferAttribute:function(){return Ai},BufferGeometry:function(){return Vr},BufferGeometryLoader:function(){return B9},ByteType:function(){return sn},Cache:function(){return Ml},Camera:function(){return S1},CameraHelper:function(){return gh},CanvasTexture:function(){return W5},CapsuleBufferGeometry:function(){return mc},CapsuleGeometry:function(){return mc},CatmullRomCurve3:function(){return Jd},CineonToneMapping:function(){return tn},CircleBufferGeometry:function(){return gc},CircleGeometry:function(){return gc},ClampToEdgeWrapping:function(){return me},Clock:function(){return U9},Color:function(){return sr},ColorKeyframeTrack:function(){return Of},ColorManagement:function(){return si},CompressedTexture:function(){return Kd},CompressedTextureLoader:function(){return b3},ConeBufferGeometry:function(){return vc},ConeGeometry:function(){return vc},CubeCamera:function(){return el},CubeReflectionMapping:function(){return Rt},CubeRefractionMapping:function(){return jt},CubeTexture:function(){return va},CubeTextureLoader:function(){return M3},CubeUVReflectionMapping:function(){return ie},CubicBezierCurve:function(){return wf},CubicBezierCurve3:function(){return e9},CubicInterpolant:function(){return w9},CullFaceBack:function(){return T},CullFaceFront:function(){return k},CullFaceFrontBack:function(){return D},CullFaceNone:function(){return y},Curve:function(){return wa},CurvePath:function(){return n9},CustomBlending:function(){return Nt},CustomToneMapping:function(){return nn},CylinderBufferGeometry:function(){return H1},CylinderGeometry:function(){return H1},Cylindrical:function(){return oh},Data3DTexture:function(){return Li},DataArrayTexture:function(){return Qs},DataTexture:function(){return hc},DataTexture2DArray:function(){return Bh},DataTexture3D:function(){return Nh},DataTextureLoader:function(){return S3},DataUtils:function(){return Ph},DecrementStencilOp:function(){return z},DecrementWrapStencilOp:function(){return Se},DefaultLoadingManager:function(){return S9},DepthFormat:function(){return Bn},DepthStencilFormat:function(){return ve},DepthTexture:function(){return wd},DirectionalLight:function(){return D9},DirectionalLightHelper:function(){return mh},DiscreteInterpolant:function(){return b9},DodecahedronBufferGeometry:function(){return Cc},DodecahedronGeometry:function(){return Cc},DoubleSide:function(){return Ke},DstAlphaFactor:function(){return $e},DstColorFactor:function(){return He},DynamicCopyUsage:function(){return Mr},DynamicDrawUsage:function(){return In},DynamicReadUsage:function(){return Zn},EdgesGeometry:function(){return r9},EllipseCurve:function(){return cu},EqualDepth:function(){return ht},EqualStencilFunc:function(){return $},EquirectangularReflectionMapping:function(){return hn},EquirectangularRefractionMapping:function(){return tt},Euler:function(){return Oa},EventDispatcher:function(){return Nr},ExtrudeBufferGeometry:function(){return xc},ExtrudeGeometry:function(){return xc},FileLoader:function(){return d1},FlatShading:function(){return We},Float16BufferAttribute:function(){return Hc},Float32BufferAttribute:function(){return hr},Float64BufferAttribute:function(){return zc},FloatType:function(){return _t},Fog:function(){return J0},FogExp2:function(){return q0},Font:function(){return Hh},FontLoader:function(){return Ih},FramebufferTexture:function(){return Z5},FrontSide:function(){return xe},Frustum:function(){return Fa},GLBufferAttribute:function(){return nh},GLSL1:function(){return Hr},GLSL3:function(){return $r},GreaterDepth:function(){return Vt},GreaterEqualDepth:function(){return bt},GreaterEqualStencilFunc:function(){return Be},GreaterStencilFunc:function(){return P},GridHelper:function(){return hh},Group:function(){return lc},HalfFloatType:function(){return Xt},HemisphereLight:function(){return E9},HemisphereLightHelper:function(){return dh},HemisphereLightProbe:function(){return I3},IcosahedronBufferGeometry:function(){return yc},IcosahedronGeometry:function(){return yc},ImageBitmapLoader:function(){return O3},ImageLoader:function(){return w0},ImageUtils:function(){return Us},ImmediateRenderObject:function(){return zh},IncrementStencilOp:function(){return Ei},IncrementWrapStencilOp:function(){return G},InstancedBufferAttribute:function(){return pc},InstancedBufferGeometry:function(){return V9},InstancedInterleavedBuffer:function(){return th},InstancedMesh:function(){return Fd},Int16BufferAttribute:function(){return A0},Int32BufferAttribute:function(){return Wo},Int8BufferAttribute:function(){return w1},IntType:function(){return Oe},InterleavedBuffer:function(){return Q0},InterleavedBufferAttribute:function(){return vl},Interpolant:function(){return C0},InterpolateDiscrete:function(){return Kr},InterpolateLinear:function(){return Vi},InterpolateSmooth:function(){return Ir},InvertStencilOp:function(){return nt},KeepStencilOp:function(){return ps},KeyframeTrack:function(){return ba},LOD:function(){return Pd},LatheBufferGeometry:function(){return Cl},LatheGeometry:function(){return Cl},Layers:function(){return _1},LessDepth:function(){return Ge},LessEqualDepth:function(){return ot},LessEqualStencilFunc:function(){return ge},LessStencilFunc:function(){return gt},Light:function(){return V1},LightProbe:function(){return Cu},Line:function(){return I1},Line3:function(){return ah},LineBasicMaterial:function(){return Es},LineCurve:function(){return fu},LineCurve3:function(){return t9},LineDashedMaterial:function(){return y9},LineLoop:function(){return Wd},LineSegments:function(){return Wa},LinearEncoding:function(){return No},LinearFilter:function(){return ue},LinearInterpolant:function(){return Pf},LinearMipMapLinearFilter:function(){return kt},LinearMipMapNearestFilter:function(){return Ye},LinearMipmapLinearFilter:function(){return qe},LinearMipmapNearestFilter:function(){return je},LinearSRGBColorSpace:function(){return Eo},LinearToneMapping:function(){return Qe},Loader:function(){return Ks},LoaderUtils:function(){return zf},LoadingManager:function(){return Df},LoopOnce:function(){return _i},LoopPingPong:function(){return ti},LoopRepeat:function(){return Dr},LuminanceAlphaFormat:function(){return _n},LuminanceFormat:function(){return fn},MOUSE:function(){return b},Material:function(){return io},MaterialLoader:function(){return _u},MathUtils:function(){return Lo},Matrix3:function(){return Bi},Matrix4:function(){return Ur},MaxEquation:function(){return Ft},Mesh:function(){return bo},MeshBasicMaterial:function(){return ys},MeshDepthMaterial:function(){return cf},MeshDistanceMaterial:function(){return uf},MeshLambertMaterial:function(){return _9},MeshMatcapMaterial:function(){return x9},MeshNormalMaterial:function(){return C9},MeshPhongMaterial:function(){return g9},MeshPhysicalMaterial:function(){return m9},MeshStandardMaterial:function(){return Tf},MeshToonMaterial:function(){return v9},MinEquation:function(){return it},MirroredRepeatWrapping:function(){return ke},MixOperation:function(){return Mt},MultiplyBlending:function(){return wt},MultiplyOperation:function(){return Tt},NearestFilter:function(){return Ie},NearestMipMapLinearFilter:function(){return Ln},NearestMipMapNearestFilter:function(){return Jt},NearestMipmapLinearFilter:function(){return Vn},NearestMipmapNearestFilter:function(){return At},NeverDepth:function(){return Te},NeverStencilFunc:function(){return yt},NoBlending:function(){return at},NoColorSpace:function(){return qr},NoToneMapping:function(){return St},NormalAnimationBlendMode:function(){return no},NormalBlending:function(){return ut},NotEqualDepth:function(){return Kt},NotEqualStencilFunc:function(){return ee},NumberKeyframeTrack:function(){return _0},Object3D:function(){return bi},ObjectLoader:function(){return T3},ObjectSpaceNormalMap:function(){return Yo},OctahedronBufferGeometry:function(){return xl},OctahedronGeometry:function(){return xl},OneFactor:function(){return be},OneMinusDstAlphaFactor:function(){return le},OneMinusDstColorFactor:function(){return rt},OneMinusSrcAlphaFactor:function(){return Re},OneMinusSrcColorFactor:function(){return Me},OrthographicCamera:function(){return i0},PCFShadowMap:function(){return K},PCFSoftShadowMap:function(){return ne},PMREMGenerator:function(){return Z0},ParametricGeometry:function(){return Oh},Path:function(){return p0},PerspectiveCamera:function(){return vo},Plane:function(){return oa},PlaneBufferGeometry:function(){return Ys},PlaneGeometry:function(){return Ys},PlaneHelper:function(){return _h},PointLight:function(){return O9},PointLightHelper:function(){return uh},Points:function(){return Xd},PointsMaterial:function(){return gf},PolarGridHelper:function(){return ph},PolyhedronBufferGeometry:function(){return Ga},PolyhedronGeometry:function(){return Ga},PositionalAudio:function(){return F3},PropertyBinding:function(){return Mi},PropertyMixer:function(){return X9},QuadraticBezierCurve:function(){return bf},QuadraticBezierCurve3:function(){return Mf},Quaternion:function(){return ci},QuaternionKeyframeTrack:function(){return Rc},QuaternionLinearInterpolant:function(){return M9},REVISION:function(){return A},RGBADepthPacking:function(){return Oo},RGBAFormat:function(){return Wt},RGBAIntegerFormat:function(){return S},RGBA_ASTC_10x10_Format:function(){return cr},RGBA_ASTC_10x5_Format:function(){return Yn},RGBA_ASTC_10x6_Format:function(){return br},RGBA_ASTC_10x8_Format:function(){return Qn},RGBA_ASTC_12x10_Format:function(){return vr},RGBA_ASTC_12x12_Format:function(){return mr},RGBA_ASTC_4x4_Format:function(){return Mn},RGBA_ASTC_5x4_Format:function(){return Cn},RGBA_ASTC_5x5_Format:function(){return Ut},RGBA_ASTC_6x5_Format:function(){return Rn},RGBA_ASTC_6x6_Format:function(){return lr},RGBA_ASTC_8x5_Format:function(){return Hn},RGBA_ASTC_8x6_Format:function(){return Jn},RGBA_ASTC_8x8_Format:function(){return Nn},RGBA_BPTC_Format:function(){return Er},RGBA_ETC2_EAC_Format:function(){return dn},RGBA_PVRTC_2BPPV1_Format:function(){return pt},RGBA_PVRTC_4BPPV1_Format:function(){return Je},RGBA_S3TC_DXT1_Format:function(){return q},RGBA_S3TC_DXT3_Format:function(){return N},RGBA_S3TC_DXT5_Format:function(){return V},RGBFormat:function(){return xt},RGB_ETC1_Format:function(){return Pt},RGB_ETC2_Format:function(){return en},RGB_PVRTC_2BPPV1_Format:function(){return Y},RGB_PVRTC_4BPPV1_Format:function(){return F},RGB_S3TC_DXT1_Format:function(){return O},RGFormat:function(){return p},RGIntegerFormat:function(){return x},RawShaderMaterial:function(){return p9},Ray:function(){return t1},Raycaster:function(){return rh},RectAreaLight:function(){return H9},RedFormat:function(){return we},RedIntegerFormat:function(){return g},ReinhardToneMapping:function(){return Et},RepeatWrapping:function(){return fe},ReplaceStencilOp:function(){return Ko},ReverseSubtractEquation:function(){return Xe},RingBufferGeometry:function(){return wc},RingGeometry:function(){return wc},SRGBColorSpace:function(){return Ki},Scene:function(){return Sd},ShaderChunk:function(){return ui},ShaderLib:function(){return aa},ShaderMaterial:function(){return Bs},ShadowMaterial:function(){return h9},Shape:function(){return _l},ShapeBufferGeometry:function(){return bc},ShapeGeometry:function(){return bc},ShapePath:function(){return wh},ShapeUtils:function(){return Xa},ShortType:function(){return It},Skeleton:function(){return iu},SkeletonHelper:function(){return ch},SkinnedMesh:function(){return zd},SmoothShading:function(){return Bt},Source:function(){return Cs},Sphere:function(){return Uo},SphereBufferGeometry:function(){return yl},SphereGeometry:function(){return yl},Spherical:function(){return ih},SphericalHarmonics3:function(){return z9},SplineCurve:function(){return Sf},SpotLight:function(){return T9},SpotLightHelper:function(){return lh},Sprite:function(){return Ad},SpriteMaterial:function(){return df},SrcAlphaFactor:function(){return _e},SrcAlphaSaturateFactor:function(){return ce},SrcColorFactor:function(){return ye},StaticCopyUsage:function(){return or},StaticDrawUsage:function(){return xn},StaticReadUsage:function(){return Sn},StereoCamera:function(){return z3},StreamCopyUsage:function(){return Yr},StreamDrawUsage:function(){return jn},StreamReadUsage:function(){return _r},StringKeyframeTrack:function(){return bl},SubtractEquation:function(){return Ue},SubtractiveBlending:function(){return lt},TOUCH:function(){return v},TangentSpaceNormalMap:function(){return ji},TetrahedronBufferGeometry:function(){return Mc},TetrahedronGeometry:function(){return Mc},TextGeometry:function(){return Dh},Texture:function(){return Zi},TextureLoader:function(){return E3},TorusBufferGeometry:function(){return Sc},TorusGeometry:function(){return Sc},TorusKnotBufferGeometry:function(){return Ec},TorusKnotGeometry:function(){return Ec},Triangle:function(){return Ji},TriangleFanDrawMode:function(){return Ns},TriangleStripDrawMode:function(){return So},TrianglesDrawMode:function(){return As},TubeBufferGeometry:function(){return Lc},TubeGeometry:function(){return Lc},UVMapping:function(){return pn},Uint16BufferAttribute:function(){return Zo},Uint32BufferAttribute:function(){return X1},Uint8BufferAttribute:function(){return zo},Uint8ClampedBufferAttribute:function(){return R0},Uniform:function(){return Ff},UniformsLib:function(){return tr},UniformsUtils:function(){return Fl},UnsignedByteType:function(){return vn},UnsignedInt248Type:function(){return Ce},UnsignedIntType:function(){return st},UnsignedShort4444Type:function(){return bn},UnsignedShort5551Type:function(){return $n},UnsignedShortType:function(){return de},VSMShadowMap:function(){return he},Vector2:function(){return mn},Vector3:function(){return Ee},Vector4:function(){return mi},VectorKeyframeTrack:function(){return x0},VideoTexture:function(){return j5},WebGL1Renderer:function(){return Md},WebGL3DRenderTarget:function(){return po},WebGLArrayRenderTarget:function(){return ki},WebGLCubeRenderTarget:function(){return Fc},WebGLMultipleRenderTargets:function(){return $o},WebGLMultisampleRenderTarget:function(){return Vh},WebGLRenderTarget:function(){return ho},WebGLRenderer:function(){return bd},WebGLUtils:function(){return xd},WireframeGeometry:function(){return u9},WrapAroundEnding:function(){return Xo},ZeroCurvatureEnding:function(){return vi},ZeroFactor:function(){return X},ZeroSlopeEnding:function(){return to},ZeroStencilOp:function(){return hs},_SRGBAFormat:function(){return Tr},sRGBEncoding:function(){return xi}});const A="142",b={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},v={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},y=0,T=1,k=2,D=3,j=0,K=1,ne=2,he=3,xe=0,B=1,Ke=2,We=1,Bt=2,at=0,ut=1,H=2,lt=3,wt=4,Nt=5,Dt=100,Ue=101,Xe=102,it=103,Ft=104,X=200,be=201,ye=202,Me=203,_e=204,Re=205,$e=206,le=207,He=208,rt=209,ce=210,Te=0,Ve=1,Ge=2,ot=3,ht=4,bt=5,Vt=6,Kt=7,Tt=0,Mt=1,Ht=2,St=0,Qe=1,Et=2,tn=3,un=4,nn=5,pn=300,Rt=301,jt=302,hn=303,tt=304,ie=306,fe=1e3,me=1001,ke=1002,Ie=1003,At=1004,Jt=1004,Vn=1005,Ln=1005,ue=1006,je=1007,Ye=1007,qe=1008,kt=1008,vn=1009,sn=1010,It=1011,de=1012,Oe=1013,st=1014,_t=1015,Xt=1016,bn=1017,$n=1018,Ce=1020,Ze=1021,xt=1022,Wt=1023,fn=1024,_n=1025,Bn=1026,ve=1027,we=1028,g=1029,p=1030,x=1031,S=1033,O=33776,q=33777,N=33778,V=33779,F=35840,Y=35841,Je=35842,pt=35843,Pt=36196,en=37492,dn=37496,Mn=37808,Cn=37809,Ut=37810,Rn=37811,lr=37812,Hn=37813,Jn=37814,Nn=37815,Yn=37816,br=37817,Qn=37818,cr=37819,vr=37820,mr=37821,Er=36492,_i=2200,Dr=2201,ti=2202,Kr=2300,Vi=2301,Ir=2302,vi=2400,to=2401,Xo=2402,no=2500,ds=2501,As=0,So=1,Ns=2,No=3e3,xi=3001,Fs=3200,Oo=3201,ji=0,Yo=1,qr="",Ki="srgb",Eo="srgb-linear",hs=0,ps=7680,Ko=7681,Ei=7682,z=7683,G=34055,Se=34056,nt=5386,yt=512,gt=513,$=514,ge=515,P=516,ee=517,Be=518,ft=519,xn=35044,In=35048,jn=35040,Sn=35045,Zn=35049,_r=35041,or=35046,Mr=35050,Yr=35042,Hr="100",$r="300 es",Tr=1035;class Nr{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let o=0,a=r.length;o<a;o++)r[o].call(this,e);e.target=null}}}const zr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Ti=1234567;const pi=Math.PI/180,Di=180/Math.PI;function Ci(){const c=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(zr[c&255]+zr[c>>8&255]+zr[c>>16&255]+zr[c>>24&255]+"-"+zr[e&255]+zr[e>>8&255]+"-"+zr[e>>16&15|64]+zr[e>>24&255]+"-"+zr[t&63|128]+zr[t>>8&255]+"-"+zr[t>>16&255]+zr[t>>24&255]+zr[n&255]+zr[n>>8&255]+zr[n>>16&255]+zr[n>>24&255]).toLowerCase()}function oi(c,e,t){return Math.max(e,Math.min(t,c))}function la(c,e){return(c%e+e)%e}function h1(c,e,t,n,r){return n+(c-e)*(r-n)/(t-e)}function lo(c,e,t){return c!==e?(t-c)/(e-c):0}function Fo(c,e,t){return(1-t)*c+t*e}function ks(c,e,t,n){return Fo(c,e,1-Math.exp(-t*n))}function Qa(c,e=1){return e-Math.abs(la(c,e*2)-e)}function Ma(c,e,t){return c<=e?0:c>=t?1:(c=(c-e)/(t-e),c*c*(3-2*c))}function $s(c,e,t){return c<=e?0:c>=t?1:(c=(c-e)/(t-e),c*c*c*(c*(c*6-15)+10))}function qs(c,e){return c+Math.floor(Math.random()*(e-c+1))}function ca(c,e){return c+Math.random()*(e-c)}function Sa(c){return c*(.5-Math.random())}function qo(c){c!==void 0&&(Ti=c);let e=Ti+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function p1(c){return c*pi}function m1(c){return c*Di}function ua(c){return(c&c-1)===0&&c!==0}function co(c){return Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))}function is(c){return Math.pow(2,Math.floor(Math.log(c)/Math.LN2))}function ms(c,e,t,n,r){const o=Math.cos,a=Math.sin,l=o(t/2),f=a(t/2),d=o((e+n)/2),m=a((e+n)/2),C=o((e-n)/2),_=a((e-n)/2),w=o((n-e)/2),R=a((n-e)/2);switch(r){case"XYX":c.set(l*m,f*C,f*_,l*d);break;case"YZY":c.set(f*_,l*m,f*C,l*d);break;case"ZXZ":c.set(f*C,f*_,l*m,l*d);break;case"XZX":c.set(l*m,f*R,f*w,l*d);break;case"YXY":c.set(f*w,l*m,f*R,l*d);break;case"ZYZ":c.set(f*R,f*w,l*m,l*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ea(c,e){switch(e.constructor){case Float32Array:return c;case Uint16Array:return c/65535;case Uint8Array:return c/255;case Int16Array:return Math.max(c/32767,-1);case Int8Array:return Math.max(c/127,-1);default:throw new Error("Invalid component type.")}}function ro(c,e){switch(e.constructor){case Float32Array:return c;case Uint16Array:return Math.round(c*65535);case Uint8Array:return Math.round(c*255);case Int16Array:return Math.round(c*32767);case Int8Array:return Math.round(c*127);default:throw new Error("Invalid component type.")}}var Lo=Object.freeze({__proto__:null,DEG2RAD:pi,RAD2DEG:Di,generateUUID:Ci,clamp:oi,euclideanModulo:la,mapLinear:h1,inverseLerp:lo,lerp:Fo,damp:ks,pingpong:Qa,smoothstep:Ma,smootherstep:$s,randInt:qs,randFloat:ca,randFloatSpread:Sa,seededRandom:qo,degToRad:p1,radToDeg:m1,isPowerOfTwo:ua,ceilPowerOfTwo:co,floorPowerOfTwo:is,setQuaternionFromProperEuler:ms,normalize:ro,denormalize:Ea});class mn{constructor(e=0,t=0){mn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),o=this.x-e.x,a=this.y-e.y;return this.x=o*n-a*r+e.x,this.y=o*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Bi{constructor(){Bi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,r,o,a,l,f,d){const m=this.elements;return m[0]=e,m[1]=r,m[2]=l,m[3]=t,m[4]=o,m[5]=f,m[6]=n,m[7]=a,m[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,a=n[0],l=n[3],f=n[6],d=n[1],m=n[4],C=n[7],_=n[2],w=n[5],R=n[8],E=r[0],L=r[3],U=r[6],Z=r[1],pe=r[4],te=r[7],Ae=r[2],ze=r[5],ct=r[8];return o[0]=a*E+l*Z+f*Ae,o[3]=a*L+l*pe+f*ze,o[6]=a*U+l*te+f*ct,o[1]=d*E+m*Z+C*Ae,o[4]=d*L+m*pe+C*ze,o[7]=d*U+m*te+C*ct,o[2]=_*E+w*Z+R*Ae,o[5]=_*L+w*pe+R*ze,o[8]=_*U+w*te+R*ct,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],a=e[4],l=e[5],f=e[6],d=e[7],m=e[8];return t*a*m-t*l*d-n*o*m+n*l*f+r*o*d-r*a*f}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],a=e[4],l=e[5],f=e[6],d=e[7],m=e[8],C=m*a-l*d,_=l*f-m*o,w=d*o-a*f,R=t*C+n*_+r*w;if(R===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/R;return e[0]=C*E,e[1]=(r*d-m*n)*E,e[2]=(l*n-r*a)*E,e[3]=_*E,e[4]=(m*t-r*f)*E,e[5]=(r*o-l*t)*E,e[6]=w*E,e[7]=(n*f-d*t)*E,e[8]=(a*t-n*o)*E,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,o,a,l){const f=Math.cos(o),d=Math.sin(o);return this.set(n*f,n*d,-n*(f*a+d*l)+a+e,-r*d,r*f,-r*(-d*a+f*l)+l+t,0,0,1),this}scale(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),r=this.elements,o=r[0],a=r[3],l=r[6],f=r[1],d=r[4],m=r[7];return r[0]=t*o+n*f,r[3]=t*a+n*d,r[6]=t*l+n*m,r[1]=-n*o+t*f,r[4]=-n*a+t*d,r[7]=-n*l+t*m,this}translate(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function os(c){for(let e=c.length-1;e>=0;--e)if(c[e]>65535)return!0;return!1}const Ts={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Do(c,e){return new Ts[c](e)}function gs(c){return document.createElementNS("http://www.w3.org/1999/xhtml",c)}function Jo(c){return c<.04045?c*.0773993808:Math.pow(c*.9478672986+.0521327014,2.4)}function uo(c){return c<.0031308?c*12.92:1.055*Math.pow(c,.41666)-.055}const yo={[Ki]:{[Eo]:Jo},[Eo]:{[Ki]:uo}},si={legacyMode:!0,get workingColorSpace(){return Eo},set workingColorSpace(c){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(c,e,t){if(this.legacyMode||e===t||!e||!t)return c;if(yo[e]&&yo[e][t]!==void 0){const n=yo[e][t];return c.r=n(c.r),c.g=n(c.g),c.b=n(c.b),c}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(c,e){return this.convert(c,this.workingColorSpace,e)},toWorkingColorSpace:function(c,e){return this.convert(c,e,this.workingColorSpace)}},fa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},li={r:0,g:0,b:0},fo={h:0,s:0,l:0},Ps={h:0,s:0,l:0};function da(c,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?c+(e-c)*6*t:t<1/2?e:t<2/3?c+(e-c)*6*(2/3-t):c}function ko(c,e){return e.r=c.r,e.g=c.g,e.b=c.b,e}class sr{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ki){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,si.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=Eo){return this.r=e,this.g=t,this.b=n,si.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=Eo){if(e=la(e,1),t=oi(t,0,1),n=oi(n,0,1),t===0)this.r=this.g=this.b=n;else{const o=n<=.5?n*(1+t):n+t-n*t,a=2*n-o;this.r=da(a,o,e+1/3),this.g=da(a,o,e),this.b=da(a,o,e-1/3)}return si.toWorkingColorSpace(this,r),this}setStyle(e,t=Ki){function n(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let o;const a=r[1],l=r[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(o[1],10))/255,this.g=Math.min(255,parseInt(o[2],10))/255,this.b=Math.min(255,parseInt(o[3],10))/255,si.toWorkingColorSpace(this,t),n(o[4]),this;if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(o[1],10))/100,this.g=Math.min(100,parseInt(o[2],10))/100,this.b=Math.min(100,parseInt(o[3],10))/100,si.toWorkingColorSpace(this,t),n(o[4]),this;break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l)){const f=parseFloat(o[1])/360,d=parseInt(o[2],10)/100,m=parseInt(o[3],10)/100;return n(o[4]),this.setHSL(f,d,m,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=r[1],a=o.length;if(a===3)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,si.toWorkingColorSpace(this,t),this;if(a===6)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,si.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Ki){const n=fa[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Jo(e.r),this.g=Jo(e.g),this.b=Jo(e.b),this}copyLinearToSRGB(e){return this.r=uo(e.r),this.g=uo(e.g),this.b=uo(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ki){return si.fromWorkingColorSpace(ko(this,li),e),oi(li.r*255,0,255)<<16^oi(li.g*255,0,255)<<8^oi(li.b*255,0,255)<<0}getHexString(e=Ki){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Eo){si.fromWorkingColorSpace(ko(this,li),t);const n=li.r,r=li.g,o=li.b,a=Math.max(n,r,o),l=Math.min(n,r,o);let f,d;const m=(l+a)/2;if(l===a)f=0,d=0;else{const C=a-l;switch(d=m<=.5?C/(a+l):C/(2-a-l),a){case n:f=(r-o)/C+(r<o?6:0);break;case r:f=(o-n)/C+2;break;case o:f=(n-r)/C+4;break}f/=6}return e.h=f,e.s=d,e.l=m,e}getRGB(e,t=Eo){return si.fromWorkingColorSpace(ko(this,li),t),e.r=li.r,e.g=li.g,e.b=li.b,e}getStyle(e=Ki){return si.fromWorkingColorSpace(ko(this,li),e),e!==Ki?`color(${e} ${li.r} ${li.g} ${li.b})`:`rgb(${li.r*255|0},${li.g*255|0},${li.b*255|0})`}offsetHSL(e,t,n){return this.getHSL(fo),fo.h+=e,fo.s+=t,fo.l+=n,this.setHSL(fo.h,fo.s,fo.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(fo),e.getHSL(Ps);const n=Fo(fo.h,Ps.h,t),r=Fo(fo.s,Ps.s,t),o=Fo(fo.l,Ps.l,t);return this.setHSL(n,r,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}sr.NAMES=fa;let vs;class Us{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{vs===void 0&&(vs=gs("canvas")),vs.width=e.width,vs.height=e.height;const n=vs.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=vs}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const t=gs("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),o=r.data;for(let a=0;a<o.length;a++)o[a]=Jo(o[a]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Jo(t[n]/255)*255):t[n]=Jo(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Cs{constructor(e=null){this.isSource=!0,this.uuid=Ci(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let o;if(Array.isArray(r)){o=[];for(let a=0,l=r.length;a<l;a++)r[a].isDataTexture?o.push(Js(r[a].image)):o.push(Js(r[a]))}else o=Js(r);n.url=o}return t||(e.images[this.uuid]=n),n}}function Js(c){return typeof HTMLImageElement!="undefined"&&c instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&c instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&c instanceof ImageBitmap?Us.getDataURL(c):c.data?{data:Array.from(c.data),width:c.width,height:c.height,type:c.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let La=0;class Zi extends Nr{constructor(e=Zi.DEFAULT_IMAGE,t=Zi.DEFAULT_MAPPING,n=me,r=me,o=ue,a=qe,l=Wt,f=vn,d=1,m=No){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:La++}),this.uuid=Ci(),this.name="",this.source=new Cs(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=r,this.magFilter=o,this.minFilter=a,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=f,this.offset=new mn(0,0),this.repeat=new mn(1,1),this.center=new mn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Bi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=m,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==pn)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case fe:e.x=e.x-Math.floor(e.x);break;case me:e.x=e.x<0?0:1;break;case ke:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case fe:e.y=e.y-Math.floor(e.y);break;case me:e.y=e.y<0?0:1;break;case ke:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Zi.DEFAULT_IMAGE=null,Zi.DEFAULT_MAPPING=pn;class mi{constructor(e=0,t=0,n=0,r=1){mi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*o,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*o,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*o,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,o;const f=e.elements,d=f[0],m=f[4],C=f[8],_=f[1],w=f[5],R=f[9],E=f[2],L=f[6],U=f[10];if(Math.abs(m-_)<.01&&Math.abs(C-E)<.01&&Math.abs(R-L)<.01){if(Math.abs(m+_)<.1&&Math.abs(C+E)<.1&&Math.abs(R+L)<.1&&Math.abs(d+w+U-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const pe=(d+1)/2,te=(w+1)/2,Ae=(U+1)/2,ze=(m+_)/4,ct=(C+E)/4,oe=(R+L)/4;return pe>te&&pe>Ae?pe<.01?(n=0,r=.707106781,o=.707106781):(n=Math.sqrt(pe),r=ze/n,o=ct/n):te>Ae?te<.01?(n=.707106781,r=0,o=.707106781):(r=Math.sqrt(te),n=ze/r,o=oe/r):Ae<.01?(n=.707106781,r=.707106781,o=0):(o=Math.sqrt(Ae),n=ct/o,r=oe/o),this.set(n,r,o,t),this}let Z=Math.sqrt((L-R)*(L-R)+(C-E)*(C-E)+(_-m)*(_-m));return Math.abs(Z)<.001&&(Z=1),this.x=(L-R)/Z,this.y=(C-E)/Z,this.z=(_-m)/Z,this.w=Math.acos((d+w+U-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ho extends Nr{constructor(e,t,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new mi(0,0,e,t),this.scissorTest=!1,this.viewport=new mi(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new Zi(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:ue,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null,this.samples=n.samples!==void 0?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Cs(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Qs extends Zi{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Ie,this.minFilter=Ie,this.wrapR=me,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ki extends ho{constructor(e,t,n){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Qs(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Li extends Zi{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Ie,this.minFilter=Ie,this.wrapR=me,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class po extends ho{constructor(e,t,n){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new Li(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class $o extends ho{constructor(e,t,n,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let a=0;a<n;a++)this.texture[a]=o.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,o=this.texture.length;r<o;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class ci{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerp(e,t,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}static slerpFlat(e,t,n,r,o,a,l){let f=n[r+0],d=n[r+1],m=n[r+2],C=n[r+3];const _=o[a+0],w=o[a+1],R=o[a+2],E=o[a+3];if(l===0){e[t+0]=f,e[t+1]=d,e[t+2]=m,e[t+3]=C;return}if(l===1){e[t+0]=_,e[t+1]=w,e[t+2]=R,e[t+3]=E;return}if(C!==E||f!==_||d!==w||m!==R){let L=1-l;const U=f*_+d*w+m*R+C*E,Z=U>=0?1:-1,pe=1-U*U;if(pe>Number.EPSILON){const Ae=Math.sqrt(pe),ze=Math.atan2(Ae,U*Z);L=Math.sin(L*ze)/Ae,l=Math.sin(l*ze)/Ae}const te=l*Z;if(f=f*L+_*te,d=d*L+w*te,m=m*L+R*te,C=C*L+E*te,L===1-l){const Ae=1/Math.sqrt(f*f+d*d+m*m+C*C);f*=Ae,d*=Ae,m*=Ae,C*=Ae}}e[t]=f,e[t+1]=d,e[t+2]=m,e[t+3]=C}static multiplyQuaternionsFlat(e,t,n,r,o,a){const l=n[r],f=n[r+1],d=n[r+2],m=n[r+3],C=o[a],_=o[a+1],w=o[a+2],R=o[a+3];return e[t]=l*R+m*C+f*w-d*_,e[t+1]=f*R+m*_+d*C-l*w,e[t+2]=d*R+m*w+l*_-f*C,e[t+3]=m*R-l*C-f*_-d*w,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,r=e._y,o=e._z,a=e._order,l=Math.cos,f=Math.sin,d=l(n/2),m=l(r/2),C=l(o/2),_=f(n/2),w=f(r/2),R=f(o/2);switch(a){case"XYZ":this._x=_*m*C+d*w*R,this._y=d*w*C-_*m*R,this._z=d*m*R+_*w*C,this._w=d*m*C-_*w*R;break;case"YXZ":this._x=_*m*C+d*w*R,this._y=d*w*C-_*m*R,this._z=d*m*R-_*w*C,this._w=d*m*C+_*w*R;break;case"ZXY":this._x=_*m*C-d*w*R,this._y=d*w*C+_*m*R,this._z=d*m*R+_*w*C,this._w=d*m*C-_*w*R;break;case"ZYX":this._x=_*m*C-d*w*R,this._y=d*w*C+_*m*R,this._z=d*m*R-_*w*C,this._w=d*m*C+_*w*R;break;case"YZX":this._x=_*m*C+d*w*R,this._y=d*w*C+_*m*R,this._z=d*m*R-_*w*C,this._w=d*m*C-_*w*R;break;case"XZY":this._x=_*m*C-d*w*R,this._y=d*w*C-_*m*R,this._z=d*m*R+_*w*C,this._w=d*m*C+_*w*R;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],o=t[8],a=t[1],l=t[5],f=t[9],d=t[2],m=t[6],C=t[10],_=n+l+C;if(_>0){const w=.5/Math.sqrt(_+1);this._w=.25/w,this._x=(m-f)*w,this._y=(o-d)*w,this._z=(a-r)*w}else if(n>l&&n>C){const w=2*Math.sqrt(1+n-l-C);this._w=(m-f)/w,this._x=.25*w,this._y=(r+a)/w,this._z=(o+d)/w}else if(l>C){const w=2*Math.sqrt(1+l-n-C);this._w=(o-d)/w,this._x=(r+a)/w,this._y=.25*w,this._z=(f+m)/w}else{const w=2*Math.sqrt(1+C-n-l);this._w=(a-r)/w,this._x=(o+d)/w,this._y=(f+m)/w,this._z=.25*w}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(oi(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,o=e._z,a=e._w,l=t._x,f=t._y,d=t._z,m=t._w;return this._x=n*m+a*l+r*d-o*f,this._y=r*m+a*f+o*l-n*d,this._z=o*m+a*d+n*f-r*l,this._w=a*m-n*l-r*f-o*d,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,o=this._z,a=this._w;let l=a*e._w+n*e._x+r*e._y+o*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=n,this._y=r,this._z=o,this;const f=1-l*l;if(f<=Number.EPSILON){const w=1-t;return this._w=w*a+t*this._w,this._x=w*n+t*this._x,this._y=w*r+t*this._y,this._z=w*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const d=Math.sqrt(f),m=Math.atan2(d,l),C=Math.sin((1-t)*m)/d,_=Math.sin(t*m)/d;return this._w=a*C+this._w*_,this._x=n*C+this._x*_,this._y=r*C+this._y*_,this._z=o*C+this._z*_,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(o),n*Math.cos(o),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ee{constructor(e=0,t=0,n=0){Ee.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(js.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(js.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[3]*n+o[6]*r,this.y=o[1]*t+o[4]*n+o[7]*r,this.z=o[2]*t+o[5]*n+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=e.elements,a=1/(o[3]*t+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*t+o[4]*n+o[8]*r+o[12])*a,this.y=(o[1]*t+o[5]*n+o[9]*r+o[13])*a,this.z=(o[2]*t+o[6]*n+o[10]*r+o[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,o=e.x,a=e.y,l=e.z,f=e.w,d=f*t+a*r-l*n,m=f*n+l*t-o*r,C=f*r+o*n-a*t,_=-o*t-a*n-l*r;return this.x=d*f+_*-o+m*-l-C*-a,this.y=m*f+_*-a+C*-o-d*-l,this.z=C*f+_*-l+d*-a-m*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r,this.y=o[1]*t+o[5]*n+o[9]*r,this.z=o[2]*t+o[6]*n+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,o=e.z,a=t.x,l=t.y,f=t.z;return this.x=r*f-o*l,this.y=o*a-n*f,this.z=n*l-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return mo.copy(this).projectOnVector(e),this.sub(mo)}reflect(e){return this.sub(mo.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(oi(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-Au(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const mo=new Ee,js=new ci;class qi{constructor(e=new Ee(1/0,1/0,1/0),t=new Ee(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,r=1/0,o=-1/0,a=-1/0,l=-1/0;for(let f=0,d=e.length;f<d;f+=3){const m=e[f],C=e[f+1],_=e[f+2];m<t&&(t=m),C<n&&(n=C),_<r&&(r=_),m>o&&(o=m),C>a&&(a=C),_>l&&(l=_)}return this.min.set(t,n,r),this.max.set(o,a,l),this}setFromBufferAttribute(e){let t=1/0,n=1/0,r=1/0,o=-1/0,a=-1/0,l=-1/0;for(let f=0,d=e.count;f<d;f++){const m=e.getX(f),C=e.getY(f),_=e.getZ(f);m<t&&(t=m),C<n&&(n=C),_<r&&(r=_),m>o&&(o=m),C>a&&(a=C),_>l&&(l=_)}return this.min.set(t,n,r),this.max.set(o,a,l),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Io.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0)if(t&&n.attributes!=null&&n.attributes.position!==void 0){const o=n.attributes.position;for(let a=0,l=o.count;a<l;a++)Io.fromBufferAttribute(o,a).applyMatrix4(e.matrixWorld),this.expandByPoint(Io)}else n.boundingBox===null&&n.computeBoundingBox(),Zs.copy(n.boundingBox),Zs.applyMatrix4(e.matrixWorld),this.union(Zs);const r=e.children;for(let o=0,a=r.length;o<a;o++)this.expandByObject(r[o],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Io),Io.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Gi),Ra.subVectors(this.max,Gi),ss.subVectors(e.a,Gi),_s.subVectors(e.b,Gi),$i.subVectors(e.c,Gi),go.subVectors(_s,ss),gi.subVectors($i,_s),Wi.subVectors(ss,$i);let t=[0,-go.z,go.y,0,-gi.z,gi.y,0,-Wi.z,Wi.y,go.z,0,-go.x,gi.z,0,-gi.x,Wi.z,0,-Wi.x,-go.y,go.x,0,-gi.y,gi.x,0,-Wi.y,Wi.x,0];return!Ol(t,ss,_s,$i,Ra)||(t=[1,0,0,0,1,0,0,0,1],!Ol(t,ss,_s,$i,Ra))?!1:(ha.crossVectors(go,gi),t=[ha.x,ha.y,ha.z],Ol(t,ss,_s,$i,Ra))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Io.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Io).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ai[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ai[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ai[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ai[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ai[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ai[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ai[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ai[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ai),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ai=[new Ee,new Ee,new Ee,new Ee,new Ee,new Ee,new Ee,new Ee],Io=new Ee,Zs=new qi,ss=new Ee,_s=new Ee,$i=new Ee,go=new Ee,gi=new Ee,Wi=new Ee,Gi=new Ee,Ra=new Ee,ha=new Ee,Os=new Ee;function Ol(c,e,t,n,r){for(let o=0,a=c.length-3;o<=a;o+=3){Os.fromArray(c,o);const l=r.x*Math.abs(Os.x)+r.y*Math.abs(Os.y)+r.z*Math.abs(Os.z),f=e.dot(Os),d=t.dot(Os),m=n.dot(Os);if(Math.max(-Math.max(f,d,m),Math.min(f,d,m))>l)return!1}return!0}const Ho=new qi,F1=new Ee,e1=new Ee,g1=new Ee;class Uo{constructor(e=new Ee,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):Ho.setFromPoints(e).getCenter(n);let r=0;for(let o=0,a=e.length;o<a;o++)r=Math.max(r,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){g1.subVectors(e,this.center);const t=g1.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.add(g1.multiplyScalar(r/n)),this.radius+=r}return this}union(e){return this.center.equals(e.center)===!0?e1.set(0,0,1).multiplyScalar(e.radius):e1.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(F1.copy(e.center).add(e1)),this.expandByPoint(F1.copy(e.center).sub(e1)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const wo=new Ee,ea=new Ee,Aa=new Ee,Ds=new Ee,k1=new Ee,v1=new Ee,$1=new Ee;class t1{constructor(e=new Ee,t=new Ee(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,wo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=wo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(wo.copy(this.direction).multiplyScalar(t).add(this.origin),wo.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){ea.copy(e).add(t).multiplyScalar(.5),Aa.copy(t).sub(e).normalize(),Ds.copy(this.origin).sub(ea);const o=e.distanceTo(t)*.5,a=-this.direction.dot(Aa),l=Ds.dot(this.direction),f=-Ds.dot(Aa),d=Ds.lengthSq(),m=Math.abs(1-a*a);let C,_,w,R;if(m>0)if(C=a*f-l,_=a*l-f,R=o*m,C>=0)if(_>=-R)if(_<=R){const E=1/m;C*=E,_*=E,w=C*(C+a*_+2*l)+_*(a*C+_+2*f)+d}else _=o,C=Math.max(0,-(a*_+l)),w=-C*C+_*(_+2*f)+d;else _=-o,C=Math.max(0,-(a*_+l)),w=-C*C+_*(_+2*f)+d;else _<=-R?(C=Math.max(0,-(-a*o+l)),_=C>0?-o:Math.min(Math.max(-o,-f),o),w=-C*C+_*(_+2*f)+d):_<=R?(C=0,_=Math.min(Math.max(-o,-f),o),w=_*(_+2*f)+d):(C=Math.max(0,-(a*o+l)),_=C>0?o:Math.min(Math.max(-o,-f),o),w=-C*C+_*(_+2*f)+d);else _=a>0?-o:o,C=Math.max(0,-(a*_+l)),w=-C*C+_*(_+2*f)+d;return n&&n.copy(this.direction).multiplyScalar(C).add(this.origin),r&&r.copy(Aa).multiplyScalar(_).add(ea),w}intersectSphere(e,t){wo.subVectors(e.center,this.origin);const n=wo.dot(this.direction),r=wo.dot(wo)-n*n,o=e.radius*e.radius;if(r>o)return null;const a=Math.sqrt(o-r),l=n-a,f=n+a;return l<0&&f<0?null:l<0?this.at(f,t):this.at(l,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,o,a,l,f;const d=1/this.direction.x,m=1/this.direction.y,C=1/this.direction.z,_=this.origin;return d>=0?(n=(e.min.x-_.x)*d,r=(e.max.x-_.x)*d):(n=(e.max.x-_.x)*d,r=(e.min.x-_.x)*d),m>=0?(o=(e.min.y-_.y)*m,a=(e.max.y-_.y)*m):(o=(e.max.y-_.y)*m,a=(e.min.y-_.y)*m),n>a||o>r||((o>n||n!==n)&&(n=o),(a<r||r!==r)&&(r=a),C>=0?(l=(e.min.z-_.z)*C,f=(e.max.z-_.z)*C):(l=(e.max.z-_.z)*C,f=(e.min.z-_.z)*C),n>f||l>r)||((l>n||n!==n)&&(n=l),(f<r||r!==r)&&(r=f),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,wo)!==null}intersectTriangle(e,t,n,r,o){k1.subVectors(t,e),v1.subVectors(n,e),$1.crossVectors(k1,v1);let a=this.direction.dot($1),l;if(a>0){if(r)return null;l=1}else if(a<0)l=-1,a=-a;else return null;Ds.subVectors(this.origin,e);const f=l*this.direction.dot(v1.crossVectors(Ds,v1));if(f<0)return null;const d=l*this.direction.dot(k1.cross(Ds));if(d<0||f+d>a)return null;const m=-l*Ds.dot($1);return m<0?null:this.at(m/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ur{constructor(){Ur.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,r,o,a,l,f,d,m,C,_,w,R,E,L){const U=this.elements;return U[0]=e,U[4]=t,U[8]=n,U[12]=r,U[1]=o,U[5]=a,U[9]=l,U[13]=f,U[2]=d,U[6]=m,U[10]=C,U[14]=_,U[3]=w,U[7]=R,U[11]=E,U[15]=L,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ur().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Ta.setFromMatrixColumn(e,0).length(),o=1/Ta.setFromMatrixColumn(e,1).length(),a=1/Ta.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,r=e.y,o=e.z,a=Math.cos(n),l=Math.sin(n),f=Math.cos(r),d=Math.sin(r),m=Math.cos(o),C=Math.sin(o);if(e.order==="XYZ"){const _=a*m,w=a*C,R=l*m,E=l*C;t[0]=f*m,t[4]=-f*C,t[8]=d,t[1]=w+R*d,t[5]=_-E*d,t[9]=-l*f,t[2]=E-_*d,t[6]=R+w*d,t[10]=a*f}else if(e.order==="YXZ"){const _=f*m,w=f*C,R=d*m,E=d*C;t[0]=_+E*l,t[4]=R*l-w,t[8]=a*d,t[1]=a*C,t[5]=a*m,t[9]=-l,t[2]=w*l-R,t[6]=E+_*l,t[10]=a*f}else if(e.order==="ZXY"){const _=f*m,w=f*C,R=d*m,E=d*C;t[0]=_-E*l,t[4]=-a*C,t[8]=R+w*l,t[1]=w+R*l,t[5]=a*m,t[9]=E-_*l,t[2]=-a*d,t[6]=l,t[10]=a*f}else if(e.order==="ZYX"){const _=a*m,w=a*C,R=l*m,E=l*C;t[0]=f*m,t[4]=R*d-w,t[8]=_*d+E,t[1]=f*C,t[5]=E*d+_,t[9]=w*d-R,t[2]=-d,t[6]=l*f,t[10]=a*f}else if(e.order==="YZX"){const _=a*f,w=a*d,R=l*f,E=l*d;t[0]=f*m,t[4]=E-_*C,t[8]=R*C+w,t[1]=C,t[5]=a*m,t[9]=-l*m,t[2]=-d*m,t[6]=w*C+R,t[10]=_-E*C}else if(e.order==="XZY"){const _=a*f,w=a*d,R=l*f,E=l*d;t[0]=f*m,t[4]=-C,t[8]=d*m,t[1]=_*C+E,t[5]=a*m,t[9]=w*C-R,t[2]=R*C-w,t[6]=l*m,t[10]=E*C+_}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(C1,e,Dl)}lookAt(e,t,n){const r=this.elements;return jo.subVectors(e,t),jo.lengthSq()===0&&(jo.z=1),jo.normalize(),xs.crossVectors(n,jo),xs.lengthSq()===0&&(Math.abs(n.z)===1?jo.x+=1e-4:jo.z+=1e-4,jo.normalize(),xs.crossVectors(n,jo)),xs.normalize(),Pa.crossVectors(jo,xs),r[0]=xs.x,r[4]=Pa.x,r[8]=jo.x,r[1]=xs.y,r[5]=Pa.y,r[9]=jo.y,r[2]=xs.z,r[6]=Pa.z,r[10]=jo.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,a=n[0],l=n[4],f=n[8],d=n[12],m=n[1],C=n[5],_=n[9],w=n[13],R=n[2],E=n[6],L=n[10],U=n[14],Z=n[3],pe=n[7],te=n[11],Ae=n[15],ze=r[0],ct=r[4],oe=r[8],Ne=r[12],Ct=r[1],Lt=r[5],Tn=r[9],Wn=r[13],Ot=r[2],yn=r[6],Yt=r[10],Pn=r[14],Dn=r[3],on=r[7],gn=r[11],Un=r[15];return o[0]=a*ze+l*Ct+f*Ot+d*Dn,o[4]=a*ct+l*Lt+f*yn+d*on,o[8]=a*oe+l*Tn+f*Yt+d*gn,o[12]=a*Ne+l*Wn+f*Pn+d*Un,o[1]=m*ze+C*Ct+_*Ot+w*Dn,o[5]=m*ct+C*Lt+_*yn+w*on,o[9]=m*oe+C*Tn+_*Yt+w*gn,o[13]=m*Ne+C*Wn+_*Pn+w*Un,o[2]=R*ze+E*Ct+L*Ot+U*Dn,o[6]=R*ct+E*Lt+L*yn+U*on,o[10]=R*oe+E*Tn+L*Yt+U*gn,o[14]=R*Ne+E*Wn+L*Pn+U*Un,o[3]=Z*ze+pe*Ct+te*Ot+Ae*Dn,o[7]=Z*ct+pe*Lt+te*yn+Ae*on,o[11]=Z*oe+pe*Tn+te*Yt+Ae*gn,o[15]=Z*Ne+pe*Wn+te*Pn+Ae*Un,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],o=e[12],a=e[1],l=e[5],f=e[9],d=e[13],m=e[2],C=e[6],_=e[10],w=e[14],R=e[3],E=e[7],L=e[11],U=e[15];return R*(+o*f*C-r*d*C-o*l*_+n*d*_+r*l*w-n*f*w)+E*(+t*f*w-t*d*_+o*a*_-r*a*w+r*d*m-o*f*m)+L*(+t*d*C-t*l*w-o*a*C+n*a*w+o*l*m-n*d*m)+U*(-r*l*m-t*f*C+t*l*_+r*a*C-n*a*_+n*f*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],a=e[4],l=e[5],f=e[6],d=e[7],m=e[8],C=e[9],_=e[10],w=e[11],R=e[12],E=e[13],L=e[14],U=e[15],Z=C*L*d-E*_*d+E*f*w-l*L*w-C*f*U+l*_*U,pe=R*_*d-m*L*d-R*f*w+a*L*w+m*f*U-a*_*U,te=m*E*d-R*C*d+R*l*w-a*E*w-m*l*U+a*C*U,Ae=R*C*f-m*E*f-R*l*_+a*E*_+m*l*L-a*C*L,ze=t*Z+n*pe+r*te+o*Ae;if(ze===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ct=1/ze;return e[0]=Z*ct,e[1]=(E*_*o-C*L*o-E*r*w+n*L*w+C*r*U-n*_*U)*ct,e[2]=(l*L*o-E*f*o+E*r*d-n*L*d-l*r*U+n*f*U)*ct,e[3]=(C*f*o-l*_*o-C*r*d+n*_*d+l*r*w-n*f*w)*ct,e[4]=pe*ct,e[5]=(m*L*o-R*_*o+R*r*w-t*L*w-m*r*U+t*_*U)*ct,e[6]=(R*f*o-a*L*o-R*r*d+t*L*d+a*r*U-t*f*U)*ct,e[7]=(a*_*o-m*f*o+m*r*d-t*_*d-a*r*w+t*f*w)*ct,e[8]=te*ct,e[9]=(R*C*o-m*E*o-R*n*w+t*E*w+m*n*U-t*C*U)*ct,e[10]=(a*E*o-R*l*o+R*n*d-t*E*d-a*n*U+t*l*U)*ct,e[11]=(m*l*o-a*C*o-m*n*d+t*C*d+a*n*w-t*l*w)*ct,e[12]=Ae*ct,e[13]=(m*E*r-R*C*r+R*n*_-t*E*_-m*n*L+t*C*L)*ct,e[14]=(R*l*r-a*E*r-R*n*f+t*E*f+a*n*L-t*l*L)*ct,e[15]=(a*C*r-m*l*r+m*n*f-t*C*f-a*n*_+t*l*_)*ct,this}scale(e){const t=this.elements,n=e.x,r=e.y,o=e.z;return t[0]*=n,t[4]*=r,t[8]*=o,t[1]*=n,t[5]*=r,t[9]*=o,t[2]*=n,t[6]*=r,t[10]*=o,t[3]*=n,t[7]*=r,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),o=1-n,a=e.x,l=e.y,f=e.z,d=o*a,m=o*l;return this.set(d*a+n,d*l-r*f,d*f+r*l,0,d*l+r*f,m*l+n,m*f-r*a,0,d*f-r*l,m*f+r*a,o*f*f+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,o,a){return this.set(1,n,o,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,o=t._x,a=t._y,l=t._z,f=t._w,d=o+o,m=a+a,C=l+l,_=o*d,w=o*m,R=o*C,E=a*m,L=a*C,U=l*C,Z=f*d,pe=f*m,te=f*C,Ae=n.x,ze=n.y,ct=n.z;return r[0]=(1-(E+U))*Ae,r[1]=(w+te)*Ae,r[2]=(R-pe)*Ae,r[3]=0,r[4]=(w-te)*ze,r[5]=(1-(_+U))*ze,r[6]=(L+Z)*ze,r[7]=0,r[8]=(R+pe)*ct,r[9]=(L-Z)*ct,r[10]=(1-(_+E))*ct,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let o=Ta.set(r[0],r[1],r[2]).length();const a=Ta.set(r[4],r[5],r[6]).length(),l=Ta.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],as.copy(this);const d=1/o,m=1/a,C=1/l;return as.elements[0]*=d,as.elements[1]*=d,as.elements[2]*=d,as.elements[4]*=m,as.elements[5]*=m,as.elements[6]*=m,as.elements[8]*=C,as.elements[9]*=C,as.elements[10]*=C,t.setFromRotationMatrix(as),n.x=o,n.y=a,n.z=l,this}makePerspective(e,t,n,r,o,a){a===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const l=this.elements,f=2*o/(t-e),d=2*o/(n-r),m=(t+e)/(t-e),C=(n+r)/(n-r),_=-(a+o)/(a-o),w=-2*a*o/(a-o);return l[0]=f,l[4]=0,l[8]=m,l[12]=0,l[1]=0,l[5]=d,l[9]=C,l[13]=0,l[2]=0,l[6]=0,l[10]=_,l[14]=w,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,r,o,a){const l=this.elements,f=1/(t-e),d=1/(n-r),m=1/(a-o),C=(t+e)*f,_=(n+r)*d,w=(a+o)*m;return l[0]=2*f,l[4]=0,l[8]=0,l[12]=-C,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-_,l[2]=0,l[6]=0,l[10]=-2*m,l[14]=-w,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Ta=new Ee,as=new Ur,C1=new Ee(0,0,0),Dl=new Ee(1,1,1),xs=new Ee,Pa=new Ee,jo=new Ee,n1=new Ur,Il=new ci;class Oa{constructor(e=0,t=0,n=0,r=Oa.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,o=r[0],a=r[4],l=r[8],f=r[1],d=r[5],m=r[9],C=r[2],_=r[6],w=r[10];switch(t){case"XYZ":this._y=Math.asin(oi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-m,w),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(_,d),this._z=0);break;case"YXZ":this._x=Math.asin(-oi(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(l,w),this._z=Math.atan2(f,d)):(this._y=Math.atan2(-C,o),this._z=0);break;case"ZXY":this._x=Math.asin(oi(_,-1,1)),Math.abs(_)<.9999999?(this._y=Math.atan2(-C,w),this._z=Math.atan2(-a,d)):(this._y=0,this._z=Math.atan2(f,o));break;case"ZYX":this._y=Math.asin(-oi(C,-1,1)),Math.abs(C)<.9999999?(this._x=Math.atan2(_,w),this._z=Math.atan2(f,o)):(this._x=0,this._z=Math.atan2(-a,d));break;case"YZX":this._z=Math.asin(oi(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-m,d),this._y=Math.atan2(-C,o)):(this._x=0,this._y=Math.atan2(l,w));break;case"XZY":this._z=Math.asin(-oi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(_,d),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-m,w),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return n1.makeRotationFromQuaternion(e),this.setFromRotationMatrix(n1,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Il.setFromEuler(this),this.setFromQuaternion(Il,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Oa.DefaultOrder="XYZ",Oa.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class _1{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Oc=0;const U1=new Ee,Da=new ci,Ws=new Ur,j1=new Ee,r1=new Ee,E0=new Ee,L0=new ci,Hl=new Ee(1,0,0),zl=new Ee(0,1,0),Vl=new Ee(0,0,1),Dc={type:"added"},x1={type:"removed"};class bi extends Nr{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Oc++}),this.uuid=Ci(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=bi.DefaultUp.clone();const e=new Ee,t=new Oa,n=new ci,r=new Ee(1,1,1);function o(){n.setFromEuler(t,!1)}function a(){t.setFromQuaternion(n,void 0,!1)}t._onChange(o),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ur},normalMatrix:{value:new Bi}}),this.matrix=new Ur,this.matrixWorld=new Ur,this.matrixAutoUpdate=bi.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new _1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Da.setFromAxisAngle(e,t),this.quaternion.multiply(Da),this}rotateOnWorldAxis(e,t){return Da.setFromAxisAngle(e,t),this.quaternion.premultiply(Da),this}rotateX(e){return this.rotateOnAxis(Hl,e)}rotateY(e){return this.rotateOnAxis(zl,e)}rotateZ(e){return this.rotateOnAxis(Vl,e)}translateOnAxis(e,t){return U1.copy(e).applyQuaternion(this.quaternion),this.position.add(U1.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Hl,e)}translateY(e){return this.translateOnAxis(zl,e)}translateZ(e){return this.translateOnAxis(Vl,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Ws.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?j1.copy(e):j1.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),r1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ws.lookAt(r1,j1,this.up):Ws.lookAt(j1,r1,this.up),this.quaternion.setFromRotationMatrix(Ws),r&&(Ws.extractRotation(r.matrixWorld),Da.setFromRotationMatrix(Ws),this.quaternion.premultiply(Da.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Dc)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(x1)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(x1)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ws.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ws.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ws),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const a=this.children[n].getObjectByProperty(e,t);if(a!==void 0)return a}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(r1,e,E0),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(r1,L0,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let o=0,a=r.length;o<a;o++)r[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function o(l,f){return l[f.uuid]===void 0&&(l[f.uuid]=f.toJSON(e)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const f=l.shapes;if(Array.isArray(f))for(let d=0,m=f.length;d<m;d++){const C=f[d];o(e.shapes,C)}else o(e.shapes,f)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let f=0,d=this.material.length;f<d;f++)l.push(o(e.materials,this.material[f]));r.material=l}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const f=this.animations[l];r.animations.push(o(e.animations,f))}}if(t){const l=a(e.geometries),f=a(e.materials),d=a(e.textures),m=a(e.images),C=a(e.shapes),_=a(e.skeletons),w=a(e.animations),R=a(e.nodes);l.length>0&&(n.geometries=l),f.length>0&&(n.materials=f),d.length>0&&(n.textures=d),m.length>0&&(n.images=m),C.length>0&&(n.shapes=C),_.length>0&&(n.skeletons=_),w.length>0&&(n.animations=w),R.length>0&&(n.nodes=R)}return n.object=r,n;function a(l){const f=[];for(const d in l){const m=l[d];delete m.metadata,f.push(m)}return f}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}bi.DefaultUp=new Ee(0,1,0),bi.DefaultMatrixAutoUpdate=!0;const Is=new Ee,ta=new Ee,y1=new Ee,Hs=new Ee,i1=new Ee,Ia=new Ee,Bl=new Ee,Z1=new Ee,W1=new Ee,G1=new Ee;class Ji{constructor(e=new Ee,t=new Ee,n=new Ee){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Is.subVectors(e,t),r.cross(Is);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,t,n,r,o){Is.subVectors(r,t),ta.subVectors(n,t),y1.subVectors(e,t);const a=Is.dot(Is),l=Is.dot(ta),f=Is.dot(y1),d=ta.dot(ta),m=ta.dot(y1),C=a*d-l*l;if(C===0)return o.set(-2,-1,-1);const _=1/C,w=(d*f-l*m)*_,R=(a*m-l*f)*_;return o.set(1-w-R,R,w)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,Hs),Hs.x>=0&&Hs.y>=0&&Hs.x+Hs.y<=1}static getUV(e,t,n,r,o,a,l,f){return this.getBarycoord(e,t,n,r,Hs),f.set(0,0),f.addScaledVector(o,Hs.x),f.addScaledVector(a,Hs.y),f.addScaledVector(l,Hs.z),f}static isFrontFacing(e,t,n,r){return Is.subVectors(n,t),ta.subVectors(e,t),Is.cross(ta).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Is.subVectors(this.c,this.b),ta.subVectors(this.a,this.b),Is.cross(ta).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ji.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ji.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,o){return Ji.getUV(e,this.a,this.b,this.c,t,n,r,o)}containsPoint(e){return Ji.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ji.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,o=this.c;let a,l;i1.subVectors(r,n),Ia.subVectors(o,n),Z1.subVectors(e,n);const f=i1.dot(Z1),d=Ia.dot(Z1);if(f<=0&&d<=0)return t.copy(n);W1.subVectors(e,r);const m=i1.dot(W1),C=Ia.dot(W1);if(m>=0&&C<=m)return t.copy(r);const _=f*C-m*d;if(_<=0&&f>=0&&m<=0)return a=f/(f-m),t.copy(n).addScaledVector(i1,a);G1.subVectors(e,o);const w=i1.dot(G1),R=Ia.dot(G1);if(R>=0&&w<=R)return t.copy(o);const E=w*d-f*R;if(E<=0&&d>=0&&R<=0)return l=d/(d-R),t.copy(n).addScaledVector(Ia,l);const L=m*R-w*C;if(L<=0&&C-m>=0&&w-R>=0)return Bl.subVectors(o,r),l=(C-m)/(C-m+(w-R)),t.copy(r).addScaledVector(Bl,l);const U=1/(L+E+_);return a=E*U,l=_*U,t.copy(n).addScaledVector(i1,a).addScaledVector(Ia,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Ic=0;class io extends Nr{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Ic++}),this.uuid=Ci(),this.name="",this.type="Material",this.blending=ut,this.side=xe,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=_e,this.blendDst=Re,this.blendEquation=Dt,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ot,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ft,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ps,this.stencilZFail=ps,this.stencilZPass=ps,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===We;continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==ut&&(n.blending=this.blending),this.side!==xe&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function r(o){const a=[];for(const l in o){const f=o[l];delete f.metadata,a.push(f)}return a}if(t){const o=r(e.textures),a=r(e.images);o.length>0&&(n.textures=o),a.length>0&&(n.images=a)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let o=0;o!==r;++o)n[o]=t[o].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ys extends io{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new sr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Tt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ui=new Ee,Ha=new mn;class Ai{constructor(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.usage=xn,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let n=0;for(let r=0,o=e.length;r<o;r++){let a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new sr),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this}copyVector2sArray(e){const t=this.array;let n=0;for(let r=0,o=e.length;r<o;r++){let a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new mn),t[n++]=a.x,t[n++]=a.y}return this}copyVector3sArray(e){const t=this.array;let n=0;for(let r=0,o=e.length;r<o;r++){let a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new Ee),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this}copyVector4sArray(e){const t=this.array;let n=0;for(let r=0,o=e.length;r<o;r++){let a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new mi),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Ha.fromBufferAttribute(this,t),Ha.applyMatrix3(e),this.setXY(t,Ha.x,Ha.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Ui.fromBufferAttribute(this,t),Ui.applyMatrix3(e),this.setXYZ(t,Ui.x,Ui.y,Ui.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Ui.fromBufferAttribute(this,t),Ui.applyMatrix4(e),this.setXYZ(t,Ui.x,Ui.y,Ui.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ui.fromBufferAttribute(this,t),Ui.applyNormalMatrix(e),this.setXYZ(t,Ui.x,Ui.y,Ui.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ui.fromBufferAttribute(this,t),Ui.transformDirection(e),this.setXYZ(t,Ui.x,Ui.y,Ui.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==xn&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class w1 extends Ai{constructor(e,t,n){super(new Int8Array(e),t,n)}}class zo extends Ai{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class R0 extends Ai{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class A0 extends Ai{constructor(e,t,n){super(new Int16Array(e),t,n)}}class Zo extends Ai{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Wo extends Ai{constructor(e,t,n){super(new Int32Array(e),t,n)}}class X1 extends Ai{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Hc extends Ai{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}}class hr extends Ai{constructor(e,t,n){super(new Float32Array(e),t,n)}}class zc extends Ai{constructor(e,t,n){super(new Float64Array(e),t,n)}}let Vc=0;const Qo=new Ur,Y1=new bi,pa=new Ee,es=new qi,o1=new qi,Qi=new Ee;class Vr extends Nr{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Vc++}),this.uuid=Ci(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(os(e)?X1:Zo)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const o=new Bi().getNormalMatrix(e);n.applyNormalMatrix(o),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Qo.makeRotationFromQuaternion(e),this.applyMatrix4(Qo),this}rotateX(e){return Qo.makeRotationX(e),this.applyMatrix4(Qo),this}rotateY(e){return Qo.makeRotationY(e),this.applyMatrix4(Qo),this}rotateZ(e){return Qo.makeRotationZ(e),this.applyMatrix4(Qo),this}translate(e,t,n){return Qo.makeTranslation(e,t,n),this.applyMatrix4(Qo),this}scale(e,t,n){return Qo.makeScale(e,t,n),this.applyMatrix4(Qo),this}lookAt(e){return Y1.lookAt(e),Y1.updateMatrix(),this.applyMatrix4(Y1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(pa).negate(),this.translate(pa.x,pa.y,pa.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const o=e[n];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new hr(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new qi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Ee(-1/0,-1/0,-1/0),new Ee(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const o=t[n];es.setFromBufferAttribute(o),this.morphTargetsRelative?(Qi.addVectors(this.boundingBox.min,es.min),this.boundingBox.expandByPoint(Qi),Qi.addVectors(this.boundingBox.max,es.max),this.boundingBox.expandByPoint(Qi)):(this.boundingBox.expandByPoint(es.min),this.boundingBox.expandByPoint(es.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Uo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Ee,1/0);return}if(e){const n=this.boundingSphere.center;if(es.setFromBufferAttribute(e),t)for(let o=0,a=t.length;o<a;o++){const l=t[o];o1.setFromBufferAttribute(l),this.morphTargetsRelative?(Qi.addVectors(es.min,o1.min),es.expandByPoint(Qi),Qi.addVectors(es.max,o1.max),es.expandByPoint(Qi)):(es.expandByPoint(o1.min),es.expandByPoint(o1.max))}es.getCenter(n);let r=0;for(let o=0,a=e.count;o<a;o++)Qi.fromBufferAttribute(e,o),r=Math.max(r,n.distanceToSquared(Qi));if(t)for(let o=0,a=t.length;o<a;o++){const l=t[o],f=this.morphTargetsRelative;for(let d=0,m=l.count;d<m;d++)Qi.fromBufferAttribute(l,d),f&&(pa.fromBufferAttribute(e,d),Qi.add(pa)),r=Math.max(r,n.distanceToSquared(Qi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.array,r=t.position.array,o=t.normal.array,a=t.uv.array,l=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ai(new Float32Array(4*l),4));const f=this.getAttribute("tangent").array,d=[],m=[];for(let Ct=0;Ct<l;Ct++)d[Ct]=new Ee,m[Ct]=new Ee;const C=new Ee,_=new Ee,w=new Ee,R=new mn,E=new mn,L=new mn,U=new Ee,Z=new Ee;function pe(Ct,Lt,Tn){C.fromArray(r,Ct*3),_.fromArray(r,Lt*3),w.fromArray(r,Tn*3),R.fromArray(a,Ct*2),E.fromArray(a,Lt*2),L.fromArray(a,Tn*2),_.sub(C),w.sub(C),E.sub(R),L.sub(R);const Wn=1/(E.x*L.y-L.x*E.y);isFinite(Wn)&&(U.copy(_).multiplyScalar(L.y).addScaledVector(w,-E.y).multiplyScalar(Wn),Z.copy(w).multiplyScalar(E.x).addScaledVector(_,-L.x).multiplyScalar(Wn),d[Ct].add(U),d[Lt].add(U),d[Tn].add(U),m[Ct].add(Z),m[Lt].add(Z),m[Tn].add(Z))}let te=this.groups;te.length===0&&(te=[{start:0,count:n.length}]);for(let Ct=0,Lt=te.length;Ct<Lt;++Ct){const Tn=te[Ct],Wn=Tn.start,Ot=Tn.count;for(let yn=Wn,Yt=Wn+Ot;yn<Yt;yn+=3)pe(n[yn+0],n[yn+1],n[yn+2])}const Ae=new Ee,ze=new Ee,ct=new Ee,oe=new Ee;function Ne(Ct){ct.fromArray(o,Ct*3),oe.copy(ct);const Lt=d[Ct];Ae.copy(Lt),Ae.sub(ct.multiplyScalar(ct.dot(Lt))).normalize(),ze.crossVectors(oe,Lt);const Wn=ze.dot(m[Ct])<0?-1:1;f[Ct*4]=Ae.x,f[Ct*4+1]=Ae.y,f[Ct*4+2]=Ae.z,f[Ct*4+3]=Wn}for(let Ct=0,Lt=te.length;Ct<Lt;++Ct){const Tn=te[Ct],Wn=Tn.start,Ot=Tn.count;for(let yn=Wn,Yt=Wn+Ot;yn<Yt;yn+=3)Ne(n[yn+0]),Ne(n[yn+1]),Ne(n[yn+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Ai(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let _=0,w=n.count;_<w;_++)n.setXYZ(_,0,0,0);const r=new Ee,o=new Ee,a=new Ee,l=new Ee,f=new Ee,d=new Ee,m=new Ee,C=new Ee;if(e)for(let _=0,w=e.count;_<w;_+=3){const R=e.getX(_+0),E=e.getX(_+1),L=e.getX(_+2);r.fromBufferAttribute(t,R),o.fromBufferAttribute(t,E),a.fromBufferAttribute(t,L),m.subVectors(a,o),C.subVectors(r,o),m.cross(C),l.fromBufferAttribute(n,R),f.fromBufferAttribute(n,E),d.fromBufferAttribute(n,L),l.add(m),f.add(m),d.add(m),n.setXYZ(R,l.x,l.y,l.z),n.setXYZ(E,f.x,f.y,f.z),n.setXYZ(L,d.x,d.y,d.z)}else for(let _=0,w=t.count;_<w;_+=3)r.fromBufferAttribute(t,_+0),o.fromBufferAttribute(t,_+1),a.fromBufferAttribute(t,_+2),m.subVectors(a,o),C.subVectors(r,o),m.cross(C),n.setXYZ(_+0,m.x,m.y,m.z),n.setXYZ(_+1,m.x,m.y,m.z),n.setXYZ(_+2,m.x,m.y,m.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(e.attributes[r]===void 0)continue;const a=n[r].array,l=e.attributes[r],f=l.array,d=l.itemSize*t,m=Math.min(f.length,a.length-d);for(let C=0,_=d;C<m;C++,_++)a[_]=f[C]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Qi.fromBufferAttribute(e,t),Qi.normalize(),e.setXYZ(t,Qi.x,Qi.y,Qi.z)}toNonIndexed(){function e(l,f){const d=l.array,m=l.itemSize,C=l.normalized,_=new d.constructor(f.length*m);let w=0,R=0;for(let E=0,L=f.length;E<L;E++){l.isInterleavedBufferAttribute?w=f[E]*l.data.stride+l.offset:w=f[E]*m;for(let U=0;U<m;U++)_[R++]=d[w++]}return new Ai(_,m,C)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Vr,n=this.index.array,r=this.attributes;for(const l in r){const f=r[l],d=e(f,n);t.setAttribute(l,d)}const o=this.morphAttributes;for(const l in o){const f=[],d=o[l];for(let m=0,C=d.length;m<C;m++){const _=d[m],w=e(_,n);f.push(w)}t.morphAttributes[l]=f}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,f=a.length;l<f;l++){const d=a[l];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const d in f)f[d]!==void 0&&(e[d]=f[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const f in n){const d=n[f];e.data.attributes[f]=d.toJSON(e.data)}const r={};let o=!1;for(const f in this.morphAttributes){const d=this.morphAttributes[f],m=[];for(let C=0,_=d.length;C<_;C++){const w=d[C];m.push(w.toJSON(e.data))}m.length>0&&(r[f]=m,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const r=e.attributes;for(const d in r){const m=r[d];this.setAttribute(d,m.clone(t))}const o=e.morphAttributes;for(const d in o){const m=[],C=o[d];for(let _=0,w=C.length;_<w;_++)m.push(C[_].clone(t));this.morphAttributes[d]=m}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let d=0,m=a.length;d<m;d++){const C=a[d];this.addGroup(C.start,C.count,C.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const f=e.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const Nl=new Ur,na=new t1,b1=new Uo,ra=new Ee,zs=new Ee,ia=new Ee,M1=new Ee,K1=new Ee,Vs=new Ee,q1=new Ee,J1=new Ee,za=new Ee,Gs=new mn,Q1=new mn,Kn=new mn,s1=new Ee,a1=new Ee;class bo extends bi{constructor(e=new Vr,t=new ys){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const l=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}raycast(e,t){const n=this.geometry,r=this.material,o=this.matrixWorld;if(r===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),b1.copy(n.boundingSphere),b1.applyMatrix4(o),e.ray.intersectsSphere(b1)===!1)||(Nl.copy(o).invert(),na.copy(e.ray).applyMatrix4(Nl),n.boundingBox!==null&&na.intersectsBox(n.boundingBox)===!1))return;let a;const l=n.index,f=n.attributes.position,d=n.morphAttributes.position,m=n.morphTargetsRelative,C=n.attributes.uv,_=n.attributes.uv2,w=n.groups,R=n.drawRange;if(l!==null)if(Array.isArray(r))for(let E=0,L=w.length;E<L;E++){const U=w[E],Z=r[U.materialIndex],pe=Math.max(U.start,R.start),te=Math.min(l.count,Math.min(U.start+U.count,R.start+R.count));for(let Ae=pe,ze=te;Ae<ze;Ae+=3){const ct=l.getX(Ae),oe=l.getX(Ae+1),Ne=l.getX(Ae+2);a=Xs(this,Z,e,na,f,d,m,C,_,ct,oe,Ne),a&&(a.faceIndex=Math.floor(Ae/3),a.face.materialIndex=U.materialIndex,t.push(a))}}else{const E=Math.max(0,R.start),L=Math.min(l.count,R.start+R.count);for(let U=E,Z=L;U<Z;U+=3){const pe=l.getX(U),te=l.getX(U+1),Ae=l.getX(U+2);a=Xs(this,r,e,na,f,d,m,C,_,pe,te,Ae),a&&(a.faceIndex=Math.floor(U/3),t.push(a))}}else if(f!==void 0)if(Array.isArray(r))for(let E=0,L=w.length;E<L;E++){const U=w[E],Z=r[U.materialIndex],pe=Math.max(U.start,R.start),te=Math.min(f.count,Math.min(U.start+U.count,R.start+R.count));for(let Ae=pe,ze=te;Ae<ze;Ae+=3){const ct=Ae,oe=Ae+1,Ne=Ae+2;a=Xs(this,Z,e,na,f,d,m,C,_,ct,oe,Ne),a&&(a.faceIndex=Math.floor(Ae/3),a.face.materialIndex=U.materialIndex,t.push(a))}}else{const E=Math.max(0,R.start),L=Math.min(f.count,R.start+R.count);for(let U=E,Z=L;U<Z;U+=3){const pe=U,te=U+1,Ae=U+2;a=Xs(this,r,e,na,f,d,m,C,_,pe,te,Ae),a&&(a.faceIndex=Math.floor(U/3),t.push(a))}}}}function T0(c,e,t,n,r,o,a,l){let f;if(e.side===B?f=n.intersectTriangle(a,o,r,!0,l):f=n.intersectTriangle(r,o,a,e.side!==Ke,l),f===null)return null;a1.copy(l),a1.applyMatrix4(c.matrixWorld);const d=t.ray.origin.distanceTo(a1);return d<t.near||d>t.far?null:{distance:d,point:a1.clone(),object:c}}function Xs(c,e,t,n,r,o,a,l,f,d,m,C){ra.fromBufferAttribute(r,d),zs.fromBufferAttribute(r,m),ia.fromBufferAttribute(r,C);const _=c.morphTargetInfluences;if(o&&_){q1.set(0,0,0),J1.set(0,0,0),za.set(0,0,0);for(let R=0,E=o.length;R<E;R++){const L=_[R],U=o[R];L!==0&&(M1.fromBufferAttribute(U,d),K1.fromBufferAttribute(U,m),Vs.fromBufferAttribute(U,C),a?(q1.addScaledVector(M1,L),J1.addScaledVector(K1,L),za.addScaledVector(Vs,L)):(q1.addScaledVector(M1.sub(ra),L),J1.addScaledVector(K1.sub(zs),L),za.addScaledVector(Vs.sub(ia),L)))}ra.add(q1),zs.add(J1),ia.add(za)}c.isSkinnedMesh&&(c.boneTransform(d,ra),c.boneTransform(m,zs),c.boneTransform(C,ia));const w=T0(c,e,t,n,ra,zs,ia,s1);if(w){l&&(Gs.fromBufferAttribute(l,d),Q1.fromBufferAttribute(l,m),Kn.fromBufferAttribute(l,C),w.uv=Ji.getUV(s1,ra,zs,ia,Gs,Q1,Kn,new mn)),f&&(Gs.fromBufferAttribute(f,d),Q1.fromBufferAttribute(f,m),Kn.fromBufferAttribute(f,C),w.uv2=Ji.getUV(s1,ra,zs,ia,Gs,Q1,Kn,new mn));const R={a:d,b:m,c:C,normal:new Ee,materialIndex:0};Ji.getNormal(ra,zs,ia,R.normal),w.face=R}return w}class ls extends Vr{constructor(e=1,t=1,n=1,r=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:o,depthSegments:a};const l=this;r=Math.floor(r),o=Math.floor(o),a=Math.floor(a);const f=[],d=[],m=[],C=[];let _=0,w=0;R("z","y","x",-1,-1,n,t,e,a,o,0),R("z","y","x",1,-1,n,t,-e,a,o,1),R("x","z","y",1,1,e,n,t,r,a,2),R("x","z","y",1,-1,e,n,-t,r,a,3),R("x","y","z",1,-1,e,t,n,r,o,4),R("x","y","z",-1,-1,e,t,-n,r,o,5),this.setIndex(f),this.setAttribute("position",new hr(d,3)),this.setAttribute("normal",new hr(m,3)),this.setAttribute("uv",new hr(C,2));function R(E,L,U,Z,pe,te,Ae,ze,ct,oe,Ne){const Ct=te/ct,Lt=Ae/oe,Tn=te/2,Wn=Ae/2,Ot=ze/2,yn=ct+1,Yt=oe+1;let Pn=0,Dn=0;const on=new Ee;for(let gn=0;gn<Yt;gn++){const Un=gn*Lt-Wn;for(let zn=0;zn<yn;zn++){const nr=zn*Ct-Tn;on[E]=nr*Z,on[L]=Un*pe,on[U]=Ot,d.push(on.x,on.y,on.z),on[E]=0,on[L]=0,on[U]=ze>0?1:-1,m.push(on.x,on.y,on.z),C.push(zn/ct),C.push(1-gn/oe),Pn+=1}}for(let gn=0;gn<oe;gn++)for(let Un=0;Un<ct;Un++){const zn=_+Un+yn*gn,nr=_+Un+yn*(gn+1),wr=_+(Un+1)+yn*(gn+1),Ar=_+(Un+1)+yn*gn;f.push(zn,nr,Ar),f.push(nr,wr,Ar),Dn+=6}l.addGroup(w,Dn,Ne),w+=Dn,_+=Pn}}static fromJSON(e){return new ls(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ma(c){const e={};for(const t in c){e[t]={};for(const n in c[t]){const r=c[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function Ro(c){const e={};for(let t=0;t<c.length;t++){const n=ma(c[t]);for(const r in n)e[r]=n[r]}return e}const Fl={clone:ma,merge:Ro};var Bc=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Nc=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Bs extends io{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=Bc,this.fragmentShader=Nc,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ma(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class S1 extends bi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ur,this.projectionMatrix=new Ur,this.projectionMatrixInverse=new Ur}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class vo extends S1{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Di*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(pi*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Di*2*Math.atan(Math.tan(pi*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,o,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(pi*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,o=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const f=a.fullWidth,d=a.fullHeight;o+=a.offsetX*r/f,t-=a.offsetY*n/d,r*=a.width/f,n*=a.height/d}const l=this.filmOffset;l!==0&&(o+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const ga=90,Va=1;class el extends bi{constructor(e,t,n){if(super(),this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;const r=new vo(ga,Va,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Ee(1,0,0)),this.add(r);const o=new vo(ga,Va,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new Ee(-1,0,0)),this.add(o);const a=new vo(ga,Va,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new Ee(0,1,0)),this.add(a);const l=new vo(ga,Va,e,t);l.layers=this.layers,l.up.set(0,0,-1),l.lookAt(new Ee(0,-1,0)),this.add(l);const f=new vo(ga,Va,e,t);f.layers=this.layers,f.up.set(0,-1,0),f.lookAt(new Ee(0,0,1)),this.add(f);const d=new vo(ga,Va,e,t);d.layers=this.layers,d.up.set(0,-1,0),d.lookAt(new Ee(0,0,-1)),this.add(d)}update(e,t){this.parent===null&&this.updateMatrixWorld();const n=this.renderTarget,[r,o,a,l,f,d]=this.children,m=e.getRenderTarget(),C=e.toneMapping,_=e.xr.enabled;e.toneMapping=St,e.xr.enabled=!1;const w=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,o),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,l),e.setRenderTarget(n,4),e.render(t,f),n.texture.generateMipmaps=w,e.setRenderTarget(n,5),e.render(t,d),e.setRenderTarget(m),e.toneMapping=C,e.xr.enabled=_,n.texture.needsPMREMUpdate=!0}}class va extends Zi{constructor(e,t,n,r,o,a,l,f,d,m){e=e!==void 0?e:[],t=t!==void 0?t:Rt,super(e,t,n,r,o,a,l,f,d,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Fc extends ho{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new va(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:ue}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new ls(5,5,5),o=new Bs({name:"CubemapFromEquirect",uniforms:ma(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:B,blending:at});o.uniforms.tEquirect.value=t;const a=new bo(r,o),l=t.minFilter;return t.minFilter===qe&&(t.minFilter=ue),new el(1,10,this).update(e,a),t.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,n,r){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(o)}}const kl=new Ee,kc=new Ee,$c=new Bi;class oa{constructor(e=new Ee(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=kl.subVectors(n,t).cross(kc.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(kl),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:t.copy(n).multiplyScalar(o).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||$c.getNormalMatrix(e),r=this.coplanarPoint(kl).applyMatrix4(e),o=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ba=new Uo,Na=new Ee;class Fa{constructor(e=new oa,t=new oa,n=new oa,r=new oa,o=new oa,a=new oa){this.planes=[e,t,n,r,o,a]}set(e,t,n,r,o,a){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(n),l[3].copy(r),l[4].copy(o),l[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],o=n[1],a=n[2],l=n[3],f=n[4],d=n[5],m=n[6],C=n[7],_=n[8],w=n[9],R=n[10],E=n[11],L=n[12],U=n[13],Z=n[14],pe=n[15];return t[0].setComponents(l-r,C-f,E-_,pe-L).normalize(),t[1].setComponents(l+r,C+f,E+_,pe+L).normalize(),t[2].setComponents(l+o,C+d,E+w,pe+U).normalize(),t[3].setComponents(l-o,C-d,E-w,pe-U).normalize(),t[4].setComponents(l-a,C-m,E-R,pe-Z).normalize(),t[5].setComponents(l+a,C+m,E+R,pe+Z).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Ba.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ba)}intersectsSprite(e){return Ba.center.set(0,0,0),Ba.radius=.7071067811865476,Ba.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ba)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Na.x=r.normal.x>0?e.max.x:e.min.x,Na.y=r.normal.y>0?e.max.y:e.min.y,Na.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Na)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function E1(){let c=null,e=!1,t=null,n=null;function r(o,a){t(o,a),n=c.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=c.requestAnimationFrame(r),e=!0)},stop:function(){c.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){c=o}}}function tl(c,e){const t=e.isWebGL2,n=new WeakMap;function r(d,m){const C=d.array,_=d.usage,w=c.createBuffer();c.bindBuffer(m,w),c.bufferData(m,C,_),d.onUploadCallback();let R;if(C instanceof Float32Array)R=5126;else if(C instanceof Uint16Array)if(d.isFloat16BufferAttribute)if(t)R=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else R=5123;else if(C instanceof Int16Array)R=5122;else if(C instanceof Uint32Array)R=5125;else if(C instanceof Int32Array)R=5124;else if(C instanceof Int8Array)R=5120;else if(C instanceof Uint8Array)R=5121;else if(C instanceof Uint8ClampedArray)R=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+C);return{buffer:w,type:R,bytesPerElement:C.BYTES_PER_ELEMENT,version:d.version}}function o(d,m,C){const _=m.array,w=m.updateRange;c.bindBuffer(C,d),w.count===-1?c.bufferSubData(C,0,_):(t?c.bufferSubData(C,w.offset*_.BYTES_PER_ELEMENT,_,w.offset,w.count):c.bufferSubData(C,w.offset*_.BYTES_PER_ELEMENT,_.subarray(w.offset,w.offset+w.count)),w.count=-1)}function a(d){return d.isInterleavedBufferAttribute&&(d=d.data),n.get(d)}function l(d){d.isInterleavedBufferAttribute&&(d=d.data);const m=n.get(d);m&&(c.deleteBuffer(m.buffer),n.delete(d))}function f(d,m){if(d.isGLBufferAttribute){const _=n.get(d);(!_||_.version<d.version)&&n.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version});return}d.isInterleavedBufferAttribute&&(d=d.data);const C=n.get(d);C===void 0?n.set(d,r(d,m)):C.version<d.version&&(o(C.buffer,d,m),C.version=d.version)}return{get:a,remove:l,update:f}}class Ys extends Vr{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const o=e/2,a=t/2,l=Math.floor(n),f=Math.floor(r),d=l+1,m=f+1,C=e/l,_=t/f,w=[],R=[],E=[],L=[];for(let U=0;U<m;U++){const Z=U*_-a;for(let pe=0;pe<d;pe++){const te=pe*C-o;R.push(te,-Z,0),E.push(0,0,1),L.push(pe/l),L.push(1-U/f)}}for(let U=0;U<f;U++)for(let Z=0;Z<l;Z++){const pe=Z+d*U,te=Z+d*(U+1),Ae=Z+1+d*(U+1),ze=Z+1+d*U;w.push(pe,te,ze),w.push(te,Ae,ze)}this.setIndex(w),this.setAttribute("position",new hr(R,3)),this.setAttribute("normal",new hr(E,3)),this.setAttribute("uv",new hr(L,2))}static fromJSON(e){return new Ys(e.width,e.height,e.widthSegments,e.heightSegments)}}var L1=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,$l=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ul=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,jl=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Uc=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Zl=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,P0="vec3 transformed = vec3( position );",nl=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Wl=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,eo=`#ifdef USE_IRIDESCENCE
const mat3 XYZ_TO_REC709 = mat3(
    3.2404542, -0.9692660,  0.0556434,
   -1.5371385,  1.8760108, -0.2040259,
   -0.4985314,  0.0415560,  1.0572252
);
vec3 Fresnel0ToIor( vec3 fresnel0 ) {
   vec3 sqrtF0 = sqrt( fresnel0 );
   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
}
vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
}
float IorToFresnel0( float transmittedIor, float incidentIor ) {
   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
}
vec3 evalSensitivity( float OPD, vec3 shift ) {
   float phase = 2.0 * PI * OPD * 1.0e-9;
   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );
   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );
   xyz /= 1.0685e-7;
   vec3 srgb = XYZ_TO_REC709 * xyz;
   return srgb;
}
vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
   vec3 I;
   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
   float cosTheta2Sq = 1.0 - sinTheta2Sq;
   if ( cosTheta2Sq < 0.0 ) {
       return vec3( 1.0 );
   }
   float cosTheta2 = sqrt( cosTheta2Sq );
   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
   float R12 = F_Schlick( R0, 1.0, cosTheta1 );
   float R21 = R12;
   float T121 = 1.0 - R12;
   float phi12 = 0.0;
   if ( iridescenceIOR < outsideIOR ) phi12 = PI;
   float phi21 = PI - phi12;
   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
   vec3 phi23 = vec3( 0.0 );
   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;
   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;
   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;
   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
   vec3 phi = vec3( phi21 ) + phi23;
   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
   vec3 r123 = sqrt( R123 );
   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
   vec3 C0 = R12 + Rs;
   I = C0;
   vec3 Cm = Rs - T121;
   for ( int m = 1; m <= 2; ++m ) {
       Cm *= r123;
       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
       I += Cm * Sm;
   }
   return max( I, vec3( 0.0 ) );
}
#endif`,Jr=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,oo=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,so=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Ao=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,cs=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,l1=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Co=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,R1=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,c1=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,rl=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Gl=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,A1=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,ts=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Xl=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Yl=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,u1=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,il="gl_FragColor = linearToOutputTexel( gl_FragColor );",Kl=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Ca=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,ol=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,_a=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,sl=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,T1=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ql=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,al=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,ll=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Go=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,xa=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,ws=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,cl=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,ns=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,jc=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Jl=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Ql=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,O0=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,ya=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Zc=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Wc=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,ec=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,ka=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
float dotNVi = saturate( dot( normal, geometry.viewDir ) );
if ( material.iridescenceThickness == 0.0 ) {
	material.iridescence = 0.0;
} else {
	material.iridescence = saturate( material.iridescence );
}
if ( material.iridescence > 0.0 ) {
	material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
	material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Gc=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,tc=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,ul=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,fl=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,D0=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,I0=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Xc=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Yc=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,$a=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,H0=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ua=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Kc=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,rs=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,z0=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,qc=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,V0=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,B0=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,Jc=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Qc=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,N0=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,bs=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,nc=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,F0=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,sa=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,P1=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,ja=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,dl=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,rc=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,ic=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,e0=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,oc=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,t0=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,n0=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,r0=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,sc=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,k0=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,$0=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,i=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,s=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,u=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,h=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,M=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,I=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,De=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,mt=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Qt=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Fn=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,dr=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Fr=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Lr=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Pi=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,xr=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Vo=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Ms=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,zt=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ui={alphamap_fragment:L1,alphamap_pars_fragment:$l,alphatest_fragment:Ul,alphatest_pars_fragment:jl,aomap_fragment:Uc,aomap_pars_fragment:Zl,begin_vertex:P0,beginnormal_vertex:nl,bsdfs:Wl,iridescence_fragment:eo,bumpmap_pars_fragment:Jr,clipping_planes_fragment:oo,clipping_planes_pars_fragment:so,clipping_planes_pars_vertex:Ao,clipping_planes_vertex:cs,color_fragment:l1,color_pars_fragment:Co,color_pars_vertex:R1,color_vertex:c1,common:rl,cube_uv_reflection_fragment:Gl,defaultnormal_vertex:A1,displacementmap_pars_vertex:ts,displacementmap_vertex:Xl,emissivemap_fragment:Yl,emissivemap_pars_fragment:u1,encodings_fragment:il,encodings_pars_fragment:Kl,envmap_fragment:Ca,envmap_common_pars_fragment:ol,envmap_pars_fragment:_a,envmap_pars_vertex:sl,envmap_physical_pars_fragment:Jl,envmap_vertex:T1,fog_vertex:ql,fog_pars_vertex:al,fog_fragment:ll,fog_pars_fragment:Go,gradientmap_pars_fragment:xa,lightmap_fragment:ws,lightmap_pars_fragment:cl,lights_lambert_vertex:ns,lights_pars_begin:jc,lights_toon_fragment:Ql,lights_toon_pars_fragment:O0,lights_phong_fragment:ya,lights_phong_pars_fragment:Zc,lights_physical_fragment:Wc,lights_physical_pars_fragment:ec,lights_fragment_begin:ka,lights_fragment_maps:Gc,lights_fragment_end:tc,logdepthbuf_fragment:ul,logdepthbuf_pars_fragment:fl,logdepthbuf_pars_vertex:D0,logdepthbuf_vertex:I0,map_fragment:Xc,map_pars_fragment:Yc,map_particle_fragment:$a,map_particle_pars_fragment:H0,metalnessmap_fragment:Ua,metalnessmap_pars_fragment:Kc,morphcolor_vertex:rs,morphnormal_vertex:z0,morphtarget_pars_vertex:qc,morphtarget_vertex:V0,normal_fragment_begin:B0,normal_fragment_maps:Jc,normal_pars_fragment:Qc,normal_pars_vertex:N0,normal_vertex:bs,normalmap_pars_fragment:nc,clearcoat_normal_fragment_begin:F0,clearcoat_normal_fragment_maps:sa,clearcoat_pars_fragment:P1,iridescence_pars_fragment:ja,output_fragment:dl,packing:rc,premultiplied_alpha_fragment:ic,project_vertex:e0,dithering_fragment:oc,dithering_pars_fragment:t0,roughnessmap_fragment:n0,roughnessmap_pars_fragment:r0,shadowmap_pars_fragment:sc,shadowmap_pars_vertex:k0,shadowmap_vertex:$0,shadowmask_pars_fragment:i,skinbase_vertex:s,skinning_pars_vertex:u,skinning_vertex:h,skinnormal_vertex:M,specularmap_fragment:I,specularmap_pars_fragment:De,tonemapping_fragment:mt,tonemapping_pars_fragment:Qt,transmission_fragment:Fn,transmission_pars_fragment:dr,uv_pars_fragment:Fr,uv_pars_vertex:Lr,uv_vertex:Pi,uv2_pars_fragment:xr,uv2_pars_vertex:Vo,uv2_vertex:Ms,worldpos_vertex:zt,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`},tr={common:{diffuse:{value:new sr(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Bi},uv2Transform:{value:new Bi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new mn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new sr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new sr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Bi}},sprite:{diffuse:{value:new sr(16777215)},opacity:{value:1},center:{value:new mn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Bi}}},aa={basic:{uniforms:Ro([tr.common,tr.specularmap,tr.envmap,tr.aomap,tr.lightmap,tr.fog]),vertexShader:ui.meshbasic_vert,fragmentShader:ui.meshbasic_frag},lambert:{uniforms:Ro([tr.common,tr.specularmap,tr.envmap,tr.aomap,tr.lightmap,tr.emissivemap,tr.fog,tr.lights,{emissive:{value:new sr(0)}}]),vertexShader:ui.meshlambert_vert,fragmentShader:ui.meshlambert_frag},phong:{uniforms:Ro([tr.common,tr.specularmap,tr.envmap,tr.aomap,tr.lightmap,tr.emissivemap,tr.bumpmap,tr.normalmap,tr.displacementmap,tr.fog,tr.lights,{emissive:{value:new sr(0)},specular:{value:new sr(1118481)},shininess:{value:30}}]),vertexShader:ui.meshphong_vert,fragmentShader:ui.meshphong_frag},standard:{uniforms:Ro([tr.common,tr.envmap,tr.aomap,tr.lightmap,tr.emissivemap,tr.bumpmap,tr.normalmap,tr.displacementmap,tr.roughnessmap,tr.metalnessmap,tr.fog,tr.lights,{emissive:{value:new sr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ui.meshphysical_vert,fragmentShader:ui.meshphysical_frag},toon:{uniforms:Ro([tr.common,tr.aomap,tr.lightmap,tr.emissivemap,tr.bumpmap,tr.normalmap,tr.displacementmap,tr.gradientmap,tr.fog,tr.lights,{emissive:{value:new sr(0)}}]),vertexShader:ui.meshtoon_vert,fragmentShader:ui.meshtoon_frag},matcap:{uniforms:Ro([tr.common,tr.bumpmap,tr.normalmap,tr.displacementmap,tr.fog,{matcap:{value:null}}]),vertexShader:ui.meshmatcap_vert,fragmentShader:ui.meshmatcap_frag},points:{uniforms:Ro([tr.points,tr.fog]),vertexShader:ui.points_vert,fragmentShader:ui.points_frag},dashed:{uniforms:Ro([tr.common,tr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ui.linedashed_vert,fragmentShader:ui.linedashed_frag},depth:{uniforms:Ro([tr.common,tr.displacementmap]),vertexShader:ui.depth_vert,fragmentShader:ui.depth_frag},normal:{uniforms:Ro([tr.common,tr.bumpmap,tr.normalmap,tr.displacementmap,{opacity:{value:1}}]),vertexShader:ui.meshnormal_vert,fragmentShader:ui.meshnormal_frag},sprite:{uniforms:Ro([tr.sprite,tr.fog]),vertexShader:ui.sprite_vert,fragmentShader:ui.sprite_frag},background:{uniforms:{uvTransform:{value:new Bi},t2D:{value:null}},vertexShader:ui.background_vert,fragmentShader:ui.background_frag},cube:{uniforms:Ro([tr.envmap,{opacity:{value:1}}]),vertexShader:ui.cube_vert,fragmentShader:ui.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ui.equirect_vert,fragmentShader:ui.equirect_frag},distanceRGBA:{uniforms:Ro([tr.common,tr.displacementmap,{referencePosition:{value:new Ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ui.distanceRGBA_vert,fragmentShader:ui.distanceRGBA_frag},shadow:{uniforms:Ro([tr.lights,tr.fog,{color:{value:new sr(0)},opacity:{value:1}}]),vertexShader:ui.shadow_vert,fragmentShader:ui.shadow_frag}};aa.physical={uniforms:Ro([aa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new mn(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new sr(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new mn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new sr(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new sr(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ui.meshphysical_vert,fragmentShader:ui.meshphysical_frag};function Yf(c,e,t,n,r,o){const a=new sr(0);let l=r===!0?0:1,f,d,m=null,C=0,_=null;function w(E,L){let U=!1,Z=L.isScene===!0?L.background:null;Z&&Z.isTexture&&(Z=e.get(Z));const pe=c.xr,te=pe.getSession&&pe.getSession();te&&te.environmentBlendMode==="additive"&&(Z=null),Z===null?R(a,l):Z&&Z.isColor&&(R(Z,1),U=!0),(c.autoClear||U)&&c.clear(c.autoClearColor,c.autoClearDepth,c.autoClearStencil),Z&&(Z.isCubeTexture||Z.mapping===ie)?(d===void 0&&(d=new bo(new ls(1,1,1),new Bs({name:"BackgroundCubeMaterial",uniforms:ma(aa.cube.uniforms),vertexShader:aa.cube.vertexShader,fragmentShader:aa.cube.fragmentShader,side:B,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(Ae,ze,ct){this.matrixWorld.copyPosition(ct.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(d)),d.material.uniforms.envMap.value=Z,d.material.uniforms.flipEnvMap.value=Z.isCubeTexture&&Z.isRenderTargetTexture===!1?-1:1,(m!==Z||C!==Z.version||_!==c.toneMapping)&&(d.material.needsUpdate=!0,m=Z,C=Z.version,_=c.toneMapping),d.layers.enableAll(),E.unshift(d,d.geometry,d.material,0,0,null)):Z&&Z.isTexture&&(f===void 0&&(f=new bo(new Ys(2,2),new Bs({name:"BackgroundMaterial",uniforms:ma(aa.background.uniforms),vertexShader:aa.background.vertexShader,fragmentShader:aa.background.fragmentShader,side:xe,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(f)),f.material.uniforms.t2D.value=Z,Z.matrixAutoUpdate===!0&&Z.updateMatrix(),f.material.uniforms.uvTransform.value.copy(Z.matrix),(m!==Z||C!==Z.version||_!==c.toneMapping)&&(f.material.needsUpdate=!0,m=Z,C=Z.version,_=c.toneMapping),f.layers.enableAll(),E.unshift(f,f.geometry,f.material,0,0,null))}function R(E,L){t.buffers.color.setClear(E.r,E.g,E.b,L,o)}return{getClearColor:function(){return a},setClearColor:function(E,L=1){a.set(E),l=L,R(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(E){l=E,R(a,l)},render:w}}function Kf(c,e,t,n){const r=c.getParameter(34921),o=n.isWebGL2?null:e.get("OES_vertex_array_object"),a=n.isWebGL2||o!==null,l={},f=L(null);let d=f,m=!1;function C(Ot,yn,Yt,Pn,Dn){let on=!1;if(a){const gn=E(Pn,Yt,yn);d!==gn&&(d=gn,w(d.object)),on=U(Ot,Pn,Yt,Dn),on&&Z(Ot,Pn,Yt,Dn)}else{const gn=yn.wireframe===!0;(d.geometry!==Pn.id||d.program!==Yt.id||d.wireframe!==gn)&&(d.geometry=Pn.id,d.program=Yt.id,d.wireframe=gn,on=!0)}Dn!==null&&t.update(Dn,34963),(on||m)&&(m=!1,oe(Ot,yn,Yt,Pn),Dn!==null&&c.bindBuffer(34963,t.get(Dn).buffer))}function _(){return n.isWebGL2?c.createVertexArray():o.createVertexArrayOES()}function w(Ot){return n.isWebGL2?c.bindVertexArray(Ot):o.bindVertexArrayOES(Ot)}function R(Ot){return n.isWebGL2?c.deleteVertexArray(Ot):o.deleteVertexArrayOES(Ot)}function E(Ot,yn,Yt){const Pn=Yt.wireframe===!0;let Dn=l[Ot.id];Dn===void 0&&(Dn={},l[Ot.id]=Dn);let on=Dn[yn.id];on===void 0&&(on={},Dn[yn.id]=on);let gn=on[Pn];return gn===void 0&&(gn=L(_()),on[Pn]=gn),gn}function L(Ot){const yn=[],Yt=[],Pn=[];for(let Dn=0;Dn<r;Dn++)yn[Dn]=0,Yt[Dn]=0,Pn[Dn]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:yn,enabledAttributes:Yt,attributeDivisors:Pn,object:Ot,attributes:{},index:null}}function U(Ot,yn,Yt,Pn){const Dn=d.attributes,on=yn.attributes;let gn=0;const Un=Yt.getAttributes();for(const zn in Un)if(Un[zn].location>=0){const wr=Dn[zn];let Ar=on[zn];if(Ar===void 0&&(zn==="instanceMatrix"&&Ot.instanceMatrix&&(Ar=Ot.instanceMatrix),zn==="instanceColor"&&Ot.instanceColor&&(Ar=Ot.instanceColor)),wr===void 0||wr.attribute!==Ar||Ar&&wr.data!==Ar.data)return!0;gn++}return d.attributesNum!==gn||d.index!==Pn}function Z(Ot,yn,Yt,Pn){const Dn={},on=yn.attributes;let gn=0;const Un=Yt.getAttributes();for(const zn in Un)if(Un[zn].location>=0){let wr=on[zn];wr===void 0&&(zn==="instanceMatrix"&&Ot.instanceMatrix&&(wr=Ot.instanceMatrix),zn==="instanceColor"&&Ot.instanceColor&&(wr=Ot.instanceColor));const Ar={};Ar.attribute=wr,wr&&wr.data&&(Ar.data=wr.data),Dn[zn]=Ar,gn++}d.attributes=Dn,d.attributesNum=gn,d.index=Pn}function pe(){const Ot=d.newAttributes;for(let yn=0,Yt=Ot.length;yn<Yt;yn++)Ot[yn]=0}function te(Ot){Ae(Ot,0)}function Ae(Ot,yn){const Yt=d.newAttributes,Pn=d.enabledAttributes,Dn=d.attributeDivisors;Yt[Ot]=1,Pn[Ot]===0&&(c.enableVertexAttribArray(Ot),Pn[Ot]=1),Dn[Ot]!==yn&&((n.isWebGL2?c:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Ot,yn),Dn[Ot]=yn)}function ze(){const Ot=d.newAttributes,yn=d.enabledAttributes;for(let Yt=0,Pn=yn.length;Yt<Pn;Yt++)yn[Yt]!==Ot[Yt]&&(c.disableVertexAttribArray(Yt),yn[Yt]=0)}function ct(Ot,yn,Yt,Pn,Dn,on){n.isWebGL2===!0&&(Yt===5124||Yt===5125)?c.vertexAttribIPointer(Ot,yn,Yt,Dn,on):c.vertexAttribPointer(Ot,yn,Yt,Pn,Dn,on)}function oe(Ot,yn,Yt,Pn){if(n.isWebGL2===!1&&(Ot.isInstancedMesh||Pn.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;pe();const Dn=Pn.attributes,on=Yt.getAttributes(),gn=yn.defaultAttributeValues;for(const Un in on){const zn=on[Un];if(zn.location>=0){let nr=Dn[Un];if(nr===void 0&&(Un==="instanceMatrix"&&Ot.instanceMatrix&&(nr=Ot.instanceMatrix),Un==="instanceColor"&&Ot.instanceColor&&(nr=Ot.instanceColor)),nr!==void 0){const wr=nr.normalized,Ar=nr.itemSize,wn=t.get(nr);if(wn===void 0)continue;const Ni=wn.buffer,ni=wn.type,ei=wn.bytesPerElement;if(nr.isInterleavedBufferAttribute){const rr=nr.data,di=rr.stride,On=nr.offset;if(rr.isInstancedInterleavedBuffer){for(let En=0;En<zn.locationSize;En++)Ae(zn.location+En,rr.meshPerAttribute);Ot.isInstancedMesh!==!0&&Pn._maxInstanceCount===void 0&&(Pn._maxInstanceCount=rr.meshPerAttribute*rr.count)}else for(let En=0;En<zn.locationSize;En++)te(zn.location+En);c.bindBuffer(34962,Ni);for(let En=0;En<zn.locationSize;En++)ct(zn.location+En,Ar/zn.locationSize,ni,wr,di*ei,(On+Ar/zn.locationSize*En)*ei)}else{if(nr.isInstancedBufferAttribute){for(let rr=0;rr<zn.locationSize;rr++)Ae(zn.location+rr,nr.meshPerAttribute);Ot.isInstancedMesh!==!0&&Pn._maxInstanceCount===void 0&&(Pn._maxInstanceCount=nr.meshPerAttribute*nr.count)}else for(let rr=0;rr<zn.locationSize;rr++)te(zn.location+rr);c.bindBuffer(34962,Ni);for(let rr=0;rr<zn.locationSize;rr++)ct(zn.location+rr,Ar/zn.locationSize,ni,wr,Ar*ei,Ar/zn.locationSize*rr*ei)}}else if(gn!==void 0){const wr=gn[Un];if(wr!==void 0)switch(wr.length){case 2:c.vertexAttrib2fv(zn.location,wr);break;case 3:c.vertexAttrib3fv(zn.location,wr);break;case 4:c.vertexAttrib4fv(zn.location,wr);break;default:c.vertexAttrib1fv(zn.location,wr)}}}}ze()}function Ne(){Tn();for(const Ot in l){const yn=l[Ot];for(const Yt in yn){const Pn=yn[Yt];for(const Dn in Pn)R(Pn[Dn].object),delete Pn[Dn];delete yn[Yt]}delete l[Ot]}}function Ct(Ot){if(l[Ot.id]===void 0)return;const yn=l[Ot.id];for(const Yt in yn){const Pn=yn[Yt];for(const Dn in Pn)R(Pn[Dn].object),delete Pn[Dn];delete yn[Yt]}delete l[Ot.id]}function Lt(Ot){for(const yn in l){const Yt=l[yn];if(Yt[Ot.id]===void 0)continue;const Pn=Yt[Ot.id];for(const Dn in Pn)R(Pn[Dn].object),delete Pn[Dn];delete Yt[Ot.id]}}function Tn(){Wn(),m=!0,d!==f&&(d=f,w(d.object))}function Wn(){f.geometry=null,f.program=null,f.wireframe=!1}return{setup:C,reset:Tn,resetDefaultState:Wn,dispose:Ne,releaseStatesOfGeometry:Ct,releaseStatesOfProgram:Lt,initAttributes:pe,enableAttribute:te,disableUnusedAttributes:ze}}function qf(c,e,t,n){const r=n.isWebGL2;let o;function a(d){o=d}function l(d,m){c.drawArrays(o,d,m),t.update(m,o,1)}function f(d,m,C){if(C===0)return;let _,w;if(r)_=c,w="drawArraysInstanced";else if(_=e.get("ANGLE_instanced_arrays"),w="drawArraysInstancedANGLE",_===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[w](o,d,m,C),t.update(m,o,C)}this.setMode=a,this.render=l,this.renderInstances=f}function Jf(c,e,t){let n;function r(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const ct=e.get("EXT_texture_filter_anisotropic");n=c.getParameter(ct.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function o(ct){if(ct==="highp"){if(c.getShaderPrecisionFormat(35633,36338).precision>0&&c.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";ct="mediump"}return ct==="mediump"&&c.getShaderPrecisionFormat(35633,36337).precision>0&&c.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext!="undefined"&&c instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&c instanceof WebGL2ComputeRenderingContext;let l=t.precision!==void 0?t.precision:"highp";const f=o(l);f!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",f,"instead."),l=f);const d=a||e.has("WEBGL_draw_buffers"),m=t.logarithmicDepthBuffer===!0,C=c.getParameter(34930),_=c.getParameter(35660),w=c.getParameter(3379),R=c.getParameter(34076),E=c.getParameter(34921),L=c.getParameter(36347),U=c.getParameter(36348),Z=c.getParameter(36349),pe=_>0,te=a||e.has("OES_texture_float"),Ae=pe&&te,ze=a?c.getParameter(36183):0;return{isWebGL2:a,drawBuffers:d,getMaxAnisotropy:r,getMaxPrecision:o,precision:l,logarithmicDepthBuffer:m,maxTextures:C,maxVertexTextures:_,maxTextureSize:w,maxCubemapSize:R,maxAttributes:E,maxVertexUniforms:L,maxVaryings:U,maxFragmentUniforms:Z,vertexTextures:pe,floatFragmentTextures:te,floatVertexTextures:Ae,maxSamples:ze}}function Qf(c){const e=this;let t=null,n=0,r=!1,o=!1;const a=new oa,l=new Bi,f={value:null,needsUpdate:!1};this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(C,_,w){const R=C.length!==0||_||n!==0||r;return r=_,t=m(C,w,0),n=C.length,R},this.beginShadows=function(){o=!0,m(null)},this.endShadows=function(){o=!1,d()},this.setState=function(C,_,w){const R=C.clippingPlanes,E=C.clipIntersection,L=C.clipShadows,U=c.get(C);if(!r||R===null||R.length===0||o&&!L)o?m(null):d();else{const Z=o?0:n,pe=Z*4;let te=U.clippingState||null;f.value=te,te=m(R,_,pe,w);for(let Ae=0;Ae!==pe;++Ae)te[Ae]=t[Ae];U.clippingState=te,this.numIntersection=E?this.numPlanes:0,this.numPlanes+=Z}};function d(){f.value!==t&&(f.value=t,f.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function m(C,_,w,R){const E=C!==null?C.length:0;let L=null;if(E!==0){if(L=f.value,R!==!0||L===null){const U=w+E*4,Z=_.matrixWorldInverse;l.getNormalMatrix(Z),(L===null||L.length<U)&&(L=new Float32Array(U));for(let pe=0,te=w;pe!==E;++pe,te+=4)a.copy(C[pe]).applyMatrix4(Z,l),a.normal.toArray(L,te),L[te+3]=a.constant}f.value=L,f.needsUpdate=!0}return e.numPlanes=E,e.numIntersection=0,L}}function e2(c){let e=new WeakMap;function t(a,l){return l===hn?a.mapping=Rt:l===tt&&(a.mapping=jt),a}function n(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const l=a.mapping;if(l===hn||l===tt)if(e.has(a)){const f=e.get(a).texture;return t(f,a.mapping)}else{const f=a.image;if(f&&f.height>0){const d=new Fc(f.height/2);return d.fromEquirectangularTexture(c,a),e.set(a,d),a.addEventListener("dispose",r),t(d.texture,a.mapping)}else return null}}return a}function r(a){const l=a.target;l.removeEventListener("dispose",r);const f=e.get(l);f!==void 0&&(e.delete(l),f.dispose())}function o(){e=new WeakMap}return{get:n,dispose:o}}class i0 extends S1{constructor(e=-1,t=1,n=1,r=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=n-e,a=n+e,l=r+t,f=r-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=d*this.view.offsetX,a=o+d*this.view.width,l-=m*this.view.offsetY,f=l-m*this.view.height}this.projectionMatrix.makeOrthographic(o,a,l,f,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const hl=4,Pu=[.125,.215,.35,.446,.526,.582],O1=20,U0=new i0,Ou=new sr;let j0=null;const D1=(1+Math.sqrt(5))/2,pl=1/D1,Du=[new Ee(1,1,1),new Ee(-1,1,1),new Ee(1,1,-1),new Ee(-1,1,-1),new Ee(0,D1,pl),new Ee(0,D1,-pl),new Ee(pl,0,D1),new Ee(-pl,0,D1),new Ee(D1,pl,0),new Ee(-D1,pl,0)];class Z0{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){j0=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,n,r,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=zu(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Hu(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(j0),e.scissorTest=!1,o0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Rt||e.mapping===jt?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),j0=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:ue,minFilter:ue,generateMipmaps:!1,type:Xt,format:Wt,encoding:No,depthBuffer:!1},r=Iu(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Iu(e,t,n);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=t2(o)),this._blurMaterial=n2(o,e,t)}return r}_compileMaterial(e){const t=new bo(this._lodPlanes[0],e);this._renderer.compile(t,U0)}_sceneToCubeUV(e,t,n,r){const l=new vo(90,1,t,n),f=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],m=this._renderer,C=m.autoClear,_=m.toneMapping;m.getClearColor(Ou),m.toneMapping=St,m.autoClear=!1;const w=new ys({name:"PMREM.Background",side:B,depthWrite:!1,depthTest:!1}),R=new bo(new ls,w);let E=!1;const L=e.background;L?L.isColor&&(w.color.copy(L),e.background=null,E=!0):(w.color.copy(Ou),E=!0);for(let U=0;U<6;U++){const Z=U%3;Z===0?(l.up.set(0,f[U],0),l.lookAt(d[U],0,0)):Z===1?(l.up.set(0,0,f[U]),l.lookAt(0,d[U],0)):(l.up.set(0,f[U],0),l.lookAt(0,0,d[U]));const pe=this._cubeSize;o0(r,Z*pe,U>2?pe:0,pe,pe),m.setRenderTarget(r),E&&m.render(R,l),m.render(e,l)}R.geometry.dispose(),R.material.dispose(),m.toneMapping=_,m.autoClear=C,e.background=L}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===Rt||e.mapping===jt;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=zu()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Hu());const o=r?this._cubemapMaterial:this._equirectMaterial,a=new bo(this._lodPlanes[0],o),l=o.uniforms;l.envMap.value=e;const f=this._cubeSize;o0(t,0,0,3*f,2*f),n.setRenderTarget(t),n.render(a,U0)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=Du[(r-1)%Du.length];this._blur(e,r-1,r,o,a)}t.autoClear=n}_blur(e,t,n,r,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",o),this._halfBlur(a,e,n,n,r,"longitudinal",o)}_halfBlur(e,t,n,r,o,a,l){const f=this._renderer,d=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,C=new bo(this._lodPlanes[r],d),_=d.uniforms,w=this._sizeLods[n]-1,R=isFinite(o)?Math.PI/(2*w):2*Math.PI/(2*O1-1),E=o/R,L=isFinite(o)?1+Math.floor(m*E):O1;L>O1&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${L} samples when the maximum is set to ${O1}`);const U=[];let Z=0;for(let ct=0;ct<O1;++ct){const oe=ct/E,Ne=Math.exp(-oe*oe/2);U.push(Ne),ct===0?Z+=Ne:ct<L&&(Z+=2*Ne)}for(let ct=0;ct<U.length;ct++)U[ct]=U[ct]/Z;_.envMap.value=e.texture,_.samples.value=L,_.weights.value=U,_.latitudinal.value=a==="latitudinal",l&&(_.poleAxis.value=l);const{_lodMax:pe}=this;_.dTheta.value=R,_.mipInt.value=pe-n;const te=this._sizeLods[r],Ae=3*te*(r>pe-hl?r-pe+hl:0),ze=4*(this._cubeSize-te);o0(t,Ae,ze,3*te,2*te),f.setRenderTarget(t),f.render(C,U0)}}function t2(c){const e=[],t=[],n=[];let r=c;const o=c-hl+1+Pu.length;for(let a=0;a<o;a++){const l=Math.pow(2,r);t.push(l);let f=1/l;a>c-hl?f=Pu[a-c+hl-1]:a===0&&(f=0),n.push(f);const d=1/(l-2),m=-d,C=1+d,_=[m,m,C,m,C,C,m,m,C,C,m,C],w=6,R=6,E=3,L=2,U=1,Z=new Float32Array(E*R*w),pe=new Float32Array(L*R*w),te=new Float32Array(U*R*w);for(let ze=0;ze<w;ze++){const ct=ze%3*2/3-1,oe=ze>2?0:-1,Ne=[ct,oe,0,ct+2/3,oe,0,ct+2/3,oe+1,0,ct,oe,0,ct+2/3,oe+1,0,ct,oe+1,0];Z.set(Ne,E*R*ze),pe.set(_,L*R*ze);const Ct=[ze,ze,ze,ze,ze,ze];te.set(Ct,U*R*ze)}const Ae=new Vr;Ae.setAttribute("position",new Ai(Z,E)),Ae.setAttribute("uv",new Ai(pe,L)),Ae.setAttribute("faceIndex",new Ai(te,U)),e.push(Ae),r>hl&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function Iu(c,e,t){const n=new ho(c,e,t);return n.texture.mapping=ie,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function o0(c,e,t,n,r){c.viewport.set(e,t,n,r),c.scissor.set(e,t,n,r)}function n2(c,e,t){const n=new Float32Array(O1),r=new Ee(0,1,0);return new Bs({name:"SphericalGaussianBlur",defines:{n:O1,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${c}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:W0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:at,depthTest:!1,depthWrite:!1})}function Hu(){return new Bs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:W0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:at,depthTest:!1,depthWrite:!1})}function zu(){return new Bs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:W0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:at,depthTest:!1,depthWrite:!1})}function W0(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function r2(c){let e=new WeakMap,t=null;function n(l){if(l&&l.isTexture){const f=l.mapping,d=f===hn||f===tt,m=f===Rt||f===jt;if(d||m)if(l.isRenderTargetTexture&&l.needsPMREMUpdate===!0){l.needsPMREMUpdate=!1;let C=e.get(l);return t===null&&(t=new Z0(c)),C=d?t.fromEquirectangular(l,C):t.fromCubemap(l,C),e.set(l,C),C.texture}else{if(e.has(l))return e.get(l).texture;{const C=l.image;if(d&&C&&C.height>0||m&&C&&r(C)){t===null&&(t=new Z0(c));const _=d?t.fromEquirectangular(l):t.fromCubemap(l);return e.set(l,_),l.addEventListener("dispose",o),_.texture}else return null}}}return l}function r(l){let f=0;const d=6;for(let m=0;m<d;m++)l[m]!==void 0&&f++;return f===d}function o(l){const f=l.target;f.removeEventListener("dispose",o);const d=e.get(f);d!==void 0&&(e.delete(f),d.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:a}}function i2(c){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=c.getExtension("WEBGL_depth_texture")||c.getExtension("MOZ_WEBGL_depth_texture")||c.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=c.getExtension("WEBGL_compressed_texture_s3tc")||c.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=c.getExtension("WEBGL_compressed_texture_pvrtc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=c.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const r=t(n);return r===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function o2(c,e,t,n){const r={},o=new WeakMap;function a(C){const _=C.target;_.index!==null&&e.remove(_.index);for(const R in _.attributes)e.remove(_.attributes[R]);_.removeEventListener("dispose",a),delete r[_.id];const w=o.get(_);w&&(e.remove(w),o.delete(_)),n.releaseStatesOfGeometry(_),_.isInstancedBufferGeometry===!0&&delete _._maxInstanceCount,t.memory.geometries--}function l(C,_){return r[_.id]===!0||(_.addEventListener("dispose",a),r[_.id]=!0,t.memory.geometries++),_}function f(C){const _=C.attributes;for(const R in _)e.update(_[R],34962);const w=C.morphAttributes;for(const R in w){const E=w[R];for(let L=0,U=E.length;L<U;L++)e.update(E[L],34962)}}function d(C){const _=[],w=C.index,R=C.attributes.position;let E=0;if(w!==null){const Z=w.array;E=w.version;for(let pe=0,te=Z.length;pe<te;pe+=3){const Ae=Z[pe+0],ze=Z[pe+1],ct=Z[pe+2];_.push(Ae,ze,ze,ct,ct,Ae)}}else{const Z=R.array;E=R.version;for(let pe=0,te=Z.length/3-1;pe<te;pe+=3){const Ae=pe+0,ze=pe+1,ct=pe+2;_.push(Ae,ze,ze,ct,ct,Ae)}}const L=new(os(_)?X1:Zo)(_,1);L.version=E;const U=o.get(C);U&&e.remove(U),o.set(C,L)}function m(C){const _=o.get(C);if(_){const w=C.index;w!==null&&_.version<w.version&&d(C)}else d(C);return o.get(C)}return{get:l,update:f,getWireframeAttribute:m}}function s2(c,e,t,n){const r=n.isWebGL2;let o;function a(_){o=_}let l,f;function d(_){l=_.type,f=_.bytesPerElement}function m(_,w){c.drawElements(o,w,l,_*f),t.update(w,o,1)}function C(_,w,R){if(R===0)return;let E,L;if(r)E=c,L="drawElementsInstanced";else if(E=e.get("ANGLE_instanced_arrays"),L="drawElementsInstancedANGLE",E===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}E[L](o,w,l,_*f,R),t.update(w,o,R)}this.setMode=a,this.setIndex=d,this.render=m,this.renderInstances=C}function a2(c){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(o,a,l){switch(t.calls++,a){case 4:t.triangles+=l*(o/3);break;case 1:t.lines+=l*(o/2);break;case 3:t.lines+=l*(o-1);break;case 2:t.lines+=l*o;break;case 0:t.points+=l*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function l2(c,e){return c[0]-e[0]}function c2(c,e){return Math.abs(e[1])-Math.abs(c[1])}function G0(c,e){let t=1;const n=e.isInterleavedBufferAttribute?e.data.array:e.array;n instanceof Int8Array?t=127:n instanceof Uint8Array?t=255:n instanceof Uint16Array?t=65535:n instanceof Int16Array?t=32767:n instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",n),c.divideScalar(t)}function u2(c,e,t){const n={},r=new Float32Array(8),o=new WeakMap,a=new mi,l=[];for(let d=0;d<8;d++)l[d]=[d,0];function f(d,m,C,_){const w=d.morphTargetInfluences;if(e.isWebGL2===!0){const R=m.morphAttributes.position||m.morphAttributes.normal||m.morphAttributes.color,E=R!==void 0?R.length:0;let L=o.get(m);if(L===void 0||L.count!==E){let yn=function(){Wn.dispose(),o.delete(m),m.removeEventListener("dispose",yn)};L!==void 0&&L.texture.dispose();const pe=m.morphAttributes.position!==void 0,te=m.morphAttributes.normal!==void 0,Ae=m.morphAttributes.color!==void 0,ze=m.morphAttributes.position||[],ct=m.morphAttributes.normal||[],oe=m.morphAttributes.color||[];let Ne=0;pe===!0&&(Ne=1),te===!0&&(Ne=2),Ae===!0&&(Ne=3);let Ct=m.attributes.position.count*Ne,Lt=1;Ct>e.maxTextureSize&&(Lt=Math.ceil(Ct/e.maxTextureSize),Ct=e.maxTextureSize);const Tn=new Float32Array(Ct*Lt*4*E),Wn=new Qs(Tn,Ct,Lt,E);Wn.type=_t,Wn.needsUpdate=!0;const Ot=Ne*4;for(let Yt=0;Yt<E;Yt++){const Pn=ze[Yt],Dn=ct[Yt],on=oe[Yt],gn=Ct*Lt*4*Yt;for(let Un=0;Un<Pn.count;Un++){const zn=Un*Ot;pe===!0&&(a.fromBufferAttribute(Pn,Un),Pn.normalized===!0&&G0(a,Pn),Tn[gn+zn+0]=a.x,Tn[gn+zn+1]=a.y,Tn[gn+zn+2]=a.z,Tn[gn+zn+3]=0),te===!0&&(a.fromBufferAttribute(Dn,Un),Dn.normalized===!0&&G0(a,Dn),Tn[gn+zn+4]=a.x,Tn[gn+zn+5]=a.y,Tn[gn+zn+6]=a.z,Tn[gn+zn+7]=0),Ae===!0&&(a.fromBufferAttribute(on,Un),on.normalized===!0&&G0(a,on),Tn[gn+zn+8]=a.x,Tn[gn+zn+9]=a.y,Tn[gn+zn+10]=a.z,Tn[gn+zn+11]=on.itemSize===4?a.w:1)}}L={count:E,texture:Wn,size:new mn(Ct,Lt)},o.set(m,L),m.addEventListener("dispose",yn)}let U=0;for(let pe=0;pe<w.length;pe++)U+=w[pe];const Z=m.morphTargetsRelative?1:1-U;_.getUniforms().setValue(c,"morphTargetBaseInfluence",Z),_.getUniforms().setValue(c,"morphTargetInfluences",w),_.getUniforms().setValue(c,"morphTargetsTexture",L.texture,t),_.getUniforms().setValue(c,"morphTargetsTextureSize",L.size)}else{const R=w===void 0?0:w.length;let E=n[m.id];if(E===void 0||E.length!==R){E=[];for(let te=0;te<R;te++)E[te]=[te,0];n[m.id]=E}for(let te=0;te<R;te++){const Ae=E[te];Ae[0]=te,Ae[1]=w[te]}E.sort(c2);for(let te=0;te<8;te++)te<R&&E[te][1]?(l[te][0]=E[te][0],l[te][1]=E[te][1]):(l[te][0]=Number.MAX_SAFE_INTEGER,l[te][1]=0);l.sort(l2);const L=m.morphAttributes.position,U=m.morphAttributes.normal;let Z=0;for(let te=0;te<8;te++){const Ae=l[te],ze=Ae[0],ct=Ae[1];ze!==Number.MAX_SAFE_INTEGER&&ct?(L&&m.getAttribute("morphTarget"+te)!==L[ze]&&m.setAttribute("morphTarget"+te,L[ze]),U&&m.getAttribute("morphNormal"+te)!==U[ze]&&m.setAttribute("morphNormal"+te,U[ze]),r[te]=ct,Z+=ct):(L&&m.hasAttribute("morphTarget"+te)===!0&&m.deleteAttribute("morphTarget"+te),U&&m.hasAttribute("morphNormal"+te)===!0&&m.deleteAttribute("morphNormal"+te),r[te]=0)}const pe=m.morphTargetsRelative?1:1-Z;_.getUniforms().setValue(c,"morphTargetBaseInfluence",pe),_.getUniforms().setValue(c,"morphTargetInfluences",r)}}return{update:f}}function f2(c,e,t,n){let r=new WeakMap;function o(f){const d=n.render.frame,m=f.geometry,C=e.get(f,m);return r.get(C)!==d&&(e.update(C),r.set(C,d)),f.isInstancedMesh&&(f.hasEventListener("dispose",l)===!1&&f.addEventListener("dispose",l),t.update(f.instanceMatrix,34962),f.instanceColor!==null&&t.update(f.instanceColor,34962)),C}function a(){r=new WeakMap}function l(f){const d=f.target;d.removeEventListener("dispose",l),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:o,dispose:a}}const Vu=new Zi,Bu=new Qs,Nu=new Li,Fu=new va,ku=[],$u=[],Uu=new Float32Array(16),ju=new Float32Array(9),Zu=new Float32Array(4);function ml(c,e,t){const n=c[0];if(n<=0||n>0)return c;const r=e*t;let o=ku[r];if(o===void 0&&(o=new Float32Array(r),ku[r]=o),e!==0){n.toArray(o,0);for(let a=1,l=0;a!==e;++a)l+=t,c[a].toArray(o,l)}return o}function us(c,e){if(c.length!==e.length)return!1;for(let t=0,n=c.length;t<n;t++)if(c[t]!==e[t])return!1;return!0}function fs(c,e){for(let t=0,n=e.length;t<n;t++)c[t]=e[t]}function s0(c,e){let t=$u[e];t===void 0&&(t=new Int32Array(e),$u[e]=t);for(let n=0;n!==e;++n)t[n]=c.allocateTextureUnit();return t}function d2(c,e){const t=this.cache;t[0]!==e&&(c.uniform1f(this.addr,e),t[0]=e)}function h2(c,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(c.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(us(t,e))return;c.uniform2fv(this.addr,e),fs(t,e)}}function p2(c,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(c.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(c.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(us(t,e))return;c.uniform3fv(this.addr,e),fs(t,e)}}function m2(c,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(c.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(us(t,e))return;c.uniform4fv(this.addr,e),fs(t,e)}}function g2(c,e){const t=this.cache,n=e.elements;if(n===void 0){if(us(t,e))return;c.uniformMatrix2fv(this.addr,!1,e),fs(t,e)}else{if(us(t,n))return;Zu.set(n),c.uniformMatrix2fv(this.addr,!1,Zu),fs(t,n)}}function v2(c,e){const t=this.cache,n=e.elements;if(n===void 0){if(us(t,e))return;c.uniformMatrix3fv(this.addr,!1,e),fs(t,e)}else{if(us(t,n))return;ju.set(n),c.uniformMatrix3fv(this.addr,!1,ju),fs(t,n)}}function C2(c,e){const t=this.cache,n=e.elements;if(n===void 0){if(us(t,e))return;c.uniformMatrix4fv(this.addr,!1,e),fs(t,e)}else{if(us(t,n))return;Uu.set(n),c.uniformMatrix4fv(this.addr,!1,Uu),fs(t,n)}}function _2(c,e){const t=this.cache;t[0]!==e&&(c.uniform1i(this.addr,e),t[0]=e)}function x2(c,e){const t=this.cache;us(t,e)||(c.uniform2iv(this.addr,e),fs(t,e))}function y2(c,e){const t=this.cache;us(t,e)||(c.uniform3iv(this.addr,e),fs(t,e))}function w2(c,e){const t=this.cache;us(t,e)||(c.uniform4iv(this.addr,e),fs(t,e))}function b2(c,e){const t=this.cache;t[0]!==e&&(c.uniform1ui(this.addr,e),t[0]=e)}function M2(c,e){const t=this.cache;us(t,e)||(c.uniform2uiv(this.addr,e),fs(t,e))}function S2(c,e){const t=this.cache;us(t,e)||(c.uniform3uiv(this.addr,e),fs(t,e))}function E2(c,e){const t=this.cache;us(t,e)||(c.uniform4uiv(this.addr,e),fs(t,e))}function L2(c,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(c.uniform1i(this.addr,r),n[0]=r),t.setTexture2D(e||Vu,r)}function R2(c,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(c.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||Nu,r)}function A2(c,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(c.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||Fu,r)}function T2(c,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(c.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||Bu,r)}function P2(c){switch(c){case 5126:return d2;case 35664:return h2;case 35665:return p2;case 35666:return m2;case 35674:return g2;case 35675:return v2;case 35676:return C2;case 5124:case 35670:return _2;case 35667:case 35671:return x2;case 35668:case 35672:return y2;case 35669:case 35673:return w2;case 5125:return b2;case 36294:return M2;case 36295:return S2;case 36296:return E2;case 35678:case 36198:case 36298:case 36306:case 35682:return L2;case 35679:case 36299:case 36307:return R2;case 35680:case 36300:case 36308:case 36293:return A2;case 36289:case 36303:case 36311:case 36292:return T2}}function O2(c,e){c.uniform1fv(this.addr,e)}function D2(c,e){const t=ml(e,this.size,2);c.uniform2fv(this.addr,t)}function I2(c,e){const t=ml(e,this.size,3);c.uniform3fv(this.addr,t)}function H2(c,e){const t=ml(e,this.size,4);c.uniform4fv(this.addr,t)}function z2(c,e){const t=ml(e,this.size,4);c.uniformMatrix2fv(this.addr,!1,t)}function V2(c,e){const t=ml(e,this.size,9);c.uniformMatrix3fv(this.addr,!1,t)}function B2(c,e){const t=ml(e,this.size,16);c.uniformMatrix4fv(this.addr,!1,t)}function N2(c,e){c.uniform1iv(this.addr,e)}function F2(c,e){c.uniform2iv(this.addr,e)}function k2(c,e){c.uniform3iv(this.addr,e)}function $2(c,e){c.uniform4iv(this.addr,e)}function U2(c,e){c.uniform1uiv(this.addr,e)}function Wu(c,e){c.uniform2uiv(this.addr,e)}function Gu(c,e){c.uniform3uiv(this.addr,e)}function j2(c,e){c.uniform4uiv(this.addr,e)}function Z2(c,e,t){const n=e.length,r=s0(t,n);c.uniform1iv(this.addr,r);for(let o=0;o!==n;++o)t.setTexture2D(e[o]||Vu,r[o])}function W2(c,e,t){const n=e.length,r=s0(t,n);c.uniform1iv(this.addr,r);for(let o=0;o!==n;++o)t.setTexture3D(e[o]||Nu,r[o])}function G2(c,e,t){const n=e.length,r=s0(t,n);c.uniform1iv(this.addr,r);for(let o=0;o!==n;++o)t.setTextureCube(e[o]||Fu,r[o])}function Xu(c,e,t){const n=e.length,r=s0(t,n);c.uniform1iv(this.addr,r);for(let o=0;o!==n;++o)t.setTexture2DArray(e[o]||Bu,r[o])}function Yu(c){switch(c){case 5126:return O2;case 35664:return D2;case 35665:return I2;case 35666:return H2;case 35674:return z2;case 35675:return V2;case 35676:return B2;case 5124:case 35670:return N2;case 35667:case 35671:return F2;case 35668:case 35672:return k2;case 35669:case 35673:return $2;case 5125:return U2;case 36294:return Wu;case 36295:return Gu;case 36296:return j2;case 35678:case 36198:case 36298:case 36306:case 35682:return Z2;case 35679:case 36299:case 36307:return W2;case 35680:case 36300:case 36308:case 36293:return G2;case 36289:case 36303:case 36311:case 36292:return Xu}}class X2{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=P2(t.type)}}class Y2{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=Yu(t.type)}}class K2{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let o=0,a=r.length;o!==a;++o){const l=r[o];l.setValue(e,t[l.id],n)}}}const X0=/(\w+)(\])?(\[|\.)?/g;function Y0(c,e){c.seq.push(e),c.map[e.id]=e}function Ku(c,e,t){const n=c.name,r=n.length;for(X0.lastIndex=0;;){const o=X0.exec(n),a=X0.lastIndex;let l=o[1];const f=o[2]==="]",d=o[3];if(f&&(l=l|0),d===void 0||d==="["&&a+2===r){Y0(t,d===void 0?new X2(l,c,e):new Y2(l,c,e));break}else{let C=t.map[l];C===void 0&&(C=new K2(l),Y0(t,C)),t=C}}}class a0{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){const o=e.getActiveUniform(t,r),a=e.getUniformLocation(t,o.name);Ku(o,a,this)}}setValue(e,t,n,r){const o=this.map[t];o!==void 0&&o.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let o=0,a=t.length;o!==a;++o){const l=t[o],f=n[l.id];f.needsUpdate!==!1&&l.setValue(e,f.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,o=e.length;r!==o;++r){const a=e[r];a.id in t&&n.push(a)}return n}}function qu(c,e,t){const n=c.createShader(e);return c.shaderSource(n,t),c.compileShader(n),n}let Ju=0;function Qu(c,e){const t=c.split(`
`),n=[],r=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let a=r;a<o;a++){const l=a+1;n.push(`${l===e?">":" "} ${l}: ${t[a]}`)}return n.join(`
`)}function q2(c){switch(c){case No:return["Linear","( value )"];case xi:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",c),["Linear","( value )"]}}function ef(c,e,t){const n=c.getShaderParameter(e,35713),r=c.getShaderInfoLog(e).trim();if(n&&r==="")return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const a=parseInt(o[1]);return t.toUpperCase()+`

`+r+`

`+Qu(c.getShaderSource(e),a)}else return r}function J2(c,e){const t=q2(e);return"vec4 "+c+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Q2(c,e){let t;switch(e){case Qe:t="Linear";break;case Et:t="Reinhard";break;case tn:t="OptimizedCineon";break;case un:t="ACESFilmic";break;case nn:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+c+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function ed(c){return[c.extensionDerivatives||c.envMapCubeUVHeight||c.bumpMap||c.tangentSpaceNormalMap||c.clearcoatNormalMap||c.flatShading||c.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(c.extensionFragDepth||c.logarithmicDepthBuffer)&&c.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",c.extensionDrawBuffers&&c.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(c.extensionShaderTextureLOD||c.envMap||c.transmission)&&c.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(gl).join(`
`)}function td(c){const e=[];for(const t in c){const n=c[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function tf(c,e){const t={},n=c.getProgramParameter(e,35721);for(let r=0;r<n;r++){const o=c.getActiveAttrib(e,r),a=o.name;let l=1;o.type===35674&&(l=2),o.type===35675&&(l=3),o.type===35676&&(l=4),t[a]={type:o.type,location:c.getAttribLocation(e,a),locationSize:l}}return t}function gl(c){return c!==""}function nf(c,e){return c.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function rf(c,e){return c.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const nd=/^[ \t]*#include +<([\w\d./]+)>/gm;function K0(c){return c.replace(nd,rd)}function rd(c,e){const t=ui[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return K0(t)}const id=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,od=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function of(c){return c.replace(od,sf).replace(id,sd)}function sd(c,e,t,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),sf(c,e,t,n)}function sf(c,e,t,n){let r="";for(let o=parseInt(e);o<parseInt(t);o++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function af(c){let e="precision "+c.precision+` float;
precision `+c.precision+" int;";return c.precision==="highp"?e+=`
#define HIGH_PRECISION`:c.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:c.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function ad(c){let e="SHADOWMAP_TYPE_BASIC";return c.shadowMapType===K?e="SHADOWMAP_TYPE_PCF":c.shadowMapType===ne?e="SHADOWMAP_TYPE_PCF_SOFT":c.shadowMapType===he&&(e="SHADOWMAP_TYPE_VSM"),e}function ld(c){let e="ENVMAP_TYPE_CUBE";if(c.envMap)switch(c.envMapMode){case Rt:case jt:e="ENVMAP_TYPE_CUBE";break;case ie:e="ENVMAP_TYPE_CUBE_UV";break}return e}function cd(c){let e="ENVMAP_MODE_REFLECTION";if(c.envMap)switch(c.envMapMode){case jt:e="ENVMAP_MODE_REFRACTION";break}return e}function ud(c){let e="ENVMAP_BLENDING_NONE";if(c.envMap)switch(c.combine){case Tt:e="ENVMAP_BLENDING_MULTIPLY";break;case Mt:e="ENVMAP_BLENDING_MIX";break;case Ht:e="ENVMAP_BLENDING_ADD";break}return e}function fd(c){const e=c.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function dd(c,e,t,n){const r=c.getContext(),o=t.defines;let a=t.vertexShader,l=t.fragmentShader;const f=ad(t),d=ld(t),m=cd(t),C=ud(t),_=fd(t),w=t.isWebGL2?"":ed(t),R=td(o),E=r.createProgram();let L,U,Z=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(L=[R].filter(gl).join(`
`),L.length>0&&(L+=`
`),U=[w,R].filter(gl).join(`
`),U.length>0&&(U+=`
`)):(L=[af(t),"#define SHADER_NAME "+t.shaderName,R,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(gl).join(`
`),U=[w,af(t),"#define SHADER_NAME "+t.shaderName,R,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+m:"",t.envMap?"#define "+C:"",_?"#define CUBEUV_TEXEL_WIDTH "+_.texelWidth:"",_?"#define CUBEUV_TEXEL_HEIGHT "+_.texelHeight:"",_?"#define CUBEUV_MAX_MIP "+_.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==St?"#define TONE_MAPPING":"",t.toneMapping!==St?ui.tonemapping_pars_fragment:"",t.toneMapping!==St?Q2("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ui.encodings_pars_fragment,J2("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(gl).join(`
`)),a=K0(a),a=nf(a,t),a=rf(a,t),l=K0(l),l=nf(l,t),l=rf(l,t),a=of(a),l=of(l),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(Z=`#version 300 es
`,L=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+L,U=["#define varying in",t.glslVersion===$r?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===$r?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+U);const pe=Z+L+a,te=Z+U+l,Ae=qu(r,35633,pe),ze=qu(r,35632,te);if(r.attachShader(E,Ae),r.attachShader(E,ze),t.index0AttributeName!==void 0?r.bindAttribLocation(E,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(E,0,"position"),r.linkProgram(E),c.debug.checkShaderErrors){const Ne=r.getProgramInfoLog(E).trim(),Ct=r.getShaderInfoLog(Ae).trim(),Lt=r.getShaderInfoLog(ze).trim();let Tn=!0,Wn=!0;if(r.getProgramParameter(E,35714)===!1){Tn=!1;const Ot=ef(r,Ae,"vertex"),yn=ef(r,ze,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(E,35715)+`

Program Info Log: `+Ne+`
`+Ot+`
`+yn)}else Ne!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Ne):(Ct===""||Lt==="")&&(Wn=!1);Wn&&(this.diagnostics={runnable:Tn,programLog:Ne,vertexShader:{log:Ct,prefix:L},fragmentShader:{log:Lt,prefix:U}})}r.deleteShader(Ae),r.deleteShader(ze);let ct;this.getUniforms=function(){return ct===void 0&&(ct=new a0(r,E)),ct};let oe;return this.getAttributes=function(){return oe===void 0&&(oe=tf(r,E)),oe},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(E),this.program=void 0},this.name=t.shaderName,this.id=Ju++,this.cacheKey=e,this.usedTimes=1,this.program=E,this.vertexShader=Ae,this.fragmentShader=ze,this}let hd=0;class pd{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),o=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(t.has(e)===!1){const n=new md(e);t.set(e,n)}return t.get(e)}}class md{constructor(e){this.id=hd++,this.code=e,this.usedTimes=0}}function gd(c,e,t,n,r,o,a){const l=new _1,f=new pd,d=[],m=r.isWebGL2,C=r.logarithmicDepthBuffer,_=r.vertexTextures;let w=r.precision;const R={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function E(oe,Ne,Ct,Lt,Tn){const Wn=Lt.fog,Ot=Tn.geometry,yn=oe.isMeshStandardMaterial?Lt.environment:null,Yt=(oe.isMeshStandardMaterial?t:e).get(oe.envMap||yn),Pn=Yt&&Yt.mapping===ie?Yt.image.height:null,Dn=R[oe.type];oe.precision!==null&&(w=r.getMaxPrecision(oe.precision),w!==oe.precision&&console.warn("THREE.WebGLProgram.getParameters:",oe.precision,"not supported, using",w,"instead."));const on=Ot.morphAttributes.position||Ot.morphAttributes.normal||Ot.morphAttributes.color,gn=on!==void 0?on.length:0;let Un=0;Ot.morphAttributes.position!==void 0&&(Un=1),Ot.morphAttributes.normal!==void 0&&(Un=2),Ot.morphAttributes.color!==void 0&&(Un=3);let zn,nr,wr,Ar;if(Dn){const di=aa[Dn];zn=di.vertexShader,nr=di.fragmentShader}else zn=oe.vertexShader,nr=oe.fragmentShader,f.update(oe),wr=f.getVertexShaderID(oe),Ar=f.getFragmentShaderID(oe);const wn=c.getRenderTarget(),Ni=oe.alphaTest>0,ni=oe.clearcoat>0,ei=oe.iridescence>0;return{isWebGL2:m,shaderID:Dn,shaderName:oe.type,vertexShader:zn,fragmentShader:nr,defines:oe.defines,customVertexShaderID:wr,customFragmentShaderID:Ar,isRawShaderMaterial:oe.isRawShaderMaterial===!0,glslVersion:oe.glslVersion,precision:w,instancing:Tn.isInstancedMesh===!0,instancingColor:Tn.isInstancedMesh===!0&&Tn.instanceColor!==null,supportsVertexTextures:_,outputEncoding:wn===null?c.outputEncoding:wn.isXRRenderTarget===!0?wn.texture.encoding:No,map:!!oe.map,matcap:!!oe.matcap,envMap:!!Yt,envMapMode:Yt&&Yt.mapping,envMapCubeUVHeight:Pn,lightMap:!!oe.lightMap,aoMap:!!oe.aoMap,emissiveMap:!!oe.emissiveMap,bumpMap:!!oe.bumpMap,normalMap:!!oe.normalMap,objectSpaceNormalMap:oe.normalMapType===Yo,tangentSpaceNormalMap:oe.normalMapType===ji,decodeVideoTexture:!!oe.map&&oe.map.isVideoTexture===!0&&oe.map.encoding===xi,clearcoat:ni,clearcoatMap:ni&&!!oe.clearcoatMap,clearcoatRoughnessMap:ni&&!!oe.clearcoatRoughnessMap,clearcoatNormalMap:ni&&!!oe.clearcoatNormalMap,iridescence:ei,iridescenceMap:ei&&!!oe.iridescenceMap,iridescenceThicknessMap:ei&&!!oe.iridescenceThicknessMap,displacementMap:!!oe.displacementMap,roughnessMap:!!oe.roughnessMap,metalnessMap:!!oe.metalnessMap,specularMap:!!oe.specularMap,specularIntensityMap:!!oe.specularIntensityMap,specularColorMap:!!oe.specularColorMap,opaque:oe.transparent===!1&&oe.blending===ut,alphaMap:!!oe.alphaMap,alphaTest:Ni,gradientMap:!!oe.gradientMap,sheen:oe.sheen>0,sheenColorMap:!!oe.sheenColorMap,sheenRoughnessMap:!!oe.sheenRoughnessMap,transmission:oe.transmission>0,transmissionMap:!!oe.transmissionMap,thicknessMap:!!oe.thicknessMap,combine:oe.combine,vertexTangents:!!oe.normalMap&&!!Ot.attributes.tangent,vertexColors:oe.vertexColors,vertexAlphas:oe.vertexColors===!0&&!!Ot.attributes.color&&Ot.attributes.color.itemSize===4,vertexUvs:!!oe.map||!!oe.bumpMap||!!oe.normalMap||!!oe.specularMap||!!oe.alphaMap||!!oe.emissiveMap||!!oe.roughnessMap||!!oe.metalnessMap||!!oe.clearcoatMap||!!oe.clearcoatRoughnessMap||!!oe.clearcoatNormalMap||!!oe.iridescenceMap||!!oe.iridescenceThicknessMap||!!oe.displacementMap||!!oe.transmissionMap||!!oe.thicknessMap||!!oe.specularIntensityMap||!!oe.specularColorMap||!!oe.sheenColorMap||!!oe.sheenRoughnessMap,uvsVertexOnly:!(oe.map||oe.bumpMap||oe.normalMap||oe.specularMap||oe.alphaMap||oe.emissiveMap||oe.roughnessMap||oe.metalnessMap||oe.clearcoatNormalMap||oe.iridescenceMap||oe.iridescenceThicknessMap||oe.transmission>0||oe.transmissionMap||oe.thicknessMap||oe.specularIntensityMap||oe.specularColorMap||oe.sheen>0||oe.sheenColorMap||oe.sheenRoughnessMap)&&!!oe.displacementMap,fog:!!Wn,useFog:oe.fog===!0,fogExp2:Wn&&Wn.isFogExp2,flatShading:!!oe.flatShading,sizeAttenuation:oe.sizeAttenuation,logarithmicDepthBuffer:C,skinning:Tn.isSkinnedMesh===!0,morphTargets:Ot.morphAttributes.position!==void 0,morphNormals:Ot.morphAttributes.normal!==void 0,morphColors:Ot.morphAttributes.color!==void 0,morphTargetsCount:gn,morphTextureStride:Un,numDirLights:Ne.directional.length,numPointLights:Ne.point.length,numSpotLights:Ne.spot.length,numRectAreaLights:Ne.rectArea.length,numHemiLights:Ne.hemi.length,numDirLightShadows:Ne.directionalShadowMap.length,numPointLightShadows:Ne.pointShadowMap.length,numSpotLightShadows:Ne.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:oe.dithering,shadowMapEnabled:c.shadowMap.enabled&&Ct.length>0,shadowMapType:c.shadowMap.type,toneMapping:oe.toneMapped?c.toneMapping:St,physicallyCorrectLights:c.physicallyCorrectLights,premultipliedAlpha:oe.premultipliedAlpha,doubleSided:oe.side===Ke,flipSided:oe.side===B,useDepthPacking:!!oe.depthPacking,depthPacking:oe.depthPacking||0,index0AttributeName:oe.index0AttributeName,extensionDerivatives:oe.extensions&&oe.extensions.derivatives,extensionFragDepth:oe.extensions&&oe.extensions.fragDepth,extensionDrawBuffers:oe.extensions&&oe.extensions.drawBuffers,extensionShaderTextureLOD:oe.extensions&&oe.extensions.shaderTextureLOD,rendererExtensionFragDepth:m||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:m||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:m||n.has("EXT_shader_texture_lod"),customProgramCacheKey:oe.customProgramCacheKey()}}function L(oe){const Ne=[];if(oe.shaderID?Ne.push(oe.shaderID):(Ne.push(oe.customVertexShaderID),Ne.push(oe.customFragmentShaderID)),oe.defines!==void 0)for(const Ct in oe.defines)Ne.push(Ct),Ne.push(oe.defines[Ct]);return oe.isRawShaderMaterial===!1&&(U(Ne,oe),Z(Ne,oe),Ne.push(c.outputEncoding)),Ne.push(oe.customProgramCacheKey),Ne.join()}function U(oe,Ne){oe.push(Ne.precision),oe.push(Ne.outputEncoding),oe.push(Ne.envMapMode),oe.push(Ne.envMapCubeUVHeight),oe.push(Ne.combine),oe.push(Ne.vertexUvs),oe.push(Ne.fogExp2),oe.push(Ne.sizeAttenuation),oe.push(Ne.morphTargetsCount),oe.push(Ne.morphAttributeCount),oe.push(Ne.numDirLights),oe.push(Ne.numPointLights),oe.push(Ne.numSpotLights),oe.push(Ne.numHemiLights),oe.push(Ne.numRectAreaLights),oe.push(Ne.numDirLightShadows),oe.push(Ne.numPointLightShadows),oe.push(Ne.numSpotLightShadows),oe.push(Ne.shadowMapType),oe.push(Ne.toneMapping),oe.push(Ne.numClippingPlanes),oe.push(Ne.numClipIntersection),oe.push(Ne.depthPacking)}function Z(oe,Ne){l.disableAll(),Ne.isWebGL2&&l.enable(0),Ne.supportsVertexTextures&&l.enable(1),Ne.instancing&&l.enable(2),Ne.instancingColor&&l.enable(3),Ne.map&&l.enable(4),Ne.matcap&&l.enable(5),Ne.envMap&&l.enable(6),Ne.lightMap&&l.enable(7),Ne.aoMap&&l.enable(8),Ne.emissiveMap&&l.enable(9),Ne.bumpMap&&l.enable(10),Ne.normalMap&&l.enable(11),Ne.objectSpaceNormalMap&&l.enable(12),Ne.tangentSpaceNormalMap&&l.enable(13),Ne.clearcoat&&l.enable(14),Ne.clearcoatMap&&l.enable(15),Ne.clearcoatRoughnessMap&&l.enable(16),Ne.clearcoatNormalMap&&l.enable(17),Ne.iridescence&&l.enable(18),Ne.iridescenceMap&&l.enable(19),Ne.iridescenceThicknessMap&&l.enable(20),Ne.displacementMap&&l.enable(21),Ne.specularMap&&l.enable(22),Ne.roughnessMap&&l.enable(23),Ne.metalnessMap&&l.enable(24),Ne.gradientMap&&l.enable(25),Ne.alphaMap&&l.enable(26),Ne.alphaTest&&l.enable(27),Ne.vertexColors&&l.enable(28),Ne.vertexAlphas&&l.enable(29),Ne.vertexUvs&&l.enable(30),Ne.vertexTangents&&l.enable(31),Ne.uvsVertexOnly&&l.enable(32),Ne.fog&&l.enable(33),oe.push(l.mask),l.disableAll(),Ne.useFog&&l.enable(0),Ne.flatShading&&l.enable(1),Ne.logarithmicDepthBuffer&&l.enable(2),Ne.skinning&&l.enable(3),Ne.morphTargets&&l.enable(4),Ne.morphNormals&&l.enable(5),Ne.morphColors&&l.enable(6),Ne.premultipliedAlpha&&l.enable(7),Ne.shadowMapEnabled&&l.enable(8),Ne.physicallyCorrectLights&&l.enable(9),Ne.doubleSided&&l.enable(10),Ne.flipSided&&l.enable(11),Ne.useDepthPacking&&l.enable(12),Ne.dithering&&l.enable(13),Ne.specularIntensityMap&&l.enable(14),Ne.specularColorMap&&l.enable(15),Ne.transmission&&l.enable(16),Ne.transmissionMap&&l.enable(17),Ne.thicknessMap&&l.enable(18),Ne.sheen&&l.enable(19),Ne.sheenColorMap&&l.enable(20),Ne.sheenRoughnessMap&&l.enable(21),Ne.decodeVideoTexture&&l.enable(22),Ne.opaque&&l.enable(23),oe.push(l.mask)}function pe(oe){const Ne=R[oe.type];let Ct;if(Ne){const Lt=aa[Ne];Ct=Fl.clone(Lt.uniforms)}else Ct=oe.uniforms;return Ct}function te(oe,Ne){let Ct;for(let Lt=0,Tn=d.length;Lt<Tn;Lt++){const Wn=d[Lt];if(Wn.cacheKey===Ne){Ct=Wn,++Ct.usedTimes;break}}return Ct===void 0&&(Ct=new dd(c,Ne,oe,o),d.push(Ct)),Ct}function Ae(oe){if(--oe.usedTimes===0){const Ne=d.indexOf(oe);d[Ne]=d[d.length-1],d.pop(),oe.destroy()}}function ze(oe){f.remove(oe)}function ct(){f.dispose()}return{getParameters:E,getProgramCacheKey:L,getUniforms:pe,acquireProgram:te,releaseProgram:Ae,releaseShaderCache:ze,programs:d,dispose:ct}}function vd(){let c=new WeakMap;function e(o){let a=c.get(o);return a===void 0&&(a={},c.set(o,a)),a}function t(o){c.delete(o)}function n(o,a,l){c.get(o)[a]=l}function r(){c=new WeakMap}return{get:e,remove:t,update:n,dispose:r}}function Cd(c,e){return c.groupOrder!==e.groupOrder?c.groupOrder-e.groupOrder:c.renderOrder!==e.renderOrder?c.renderOrder-e.renderOrder:c.material.id!==e.material.id?c.material.id-e.material.id:c.z!==e.z?c.z-e.z:c.id-e.id}function lf(c,e){return c.groupOrder!==e.groupOrder?c.groupOrder-e.groupOrder:c.renderOrder!==e.renderOrder?c.renderOrder-e.renderOrder:c.z!==e.z?e.z-c.z:c.id-e.id}function J(){const c=[];let e=0;const t=[],n=[],r=[];function o(){e=0,t.length=0,n.length=0,r.length=0}function a(C,_,w,R,E,L){let U=c[e];return U===void 0?(U={id:C.id,object:C,geometry:_,material:w,groupOrder:R,renderOrder:C.renderOrder,z:E,group:L},c[e]=U):(U.id=C.id,U.object=C,U.geometry=_,U.material=w,U.groupOrder=R,U.renderOrder=C.renderOrder,U.z=E,U.group=L),e++,U}function l(C,_,w,R,E,L){const U=a(C,_,w,R,E,L);w.transmission>0?n.push(U):w.transparent===!0?r.push(U):t.push(U)}function f(C,_,w,R,E,L){const U=a(C,_,w,R,E,L);w.transmission>0?n.unshift(U):w.transparent===!0?r.unshift(U):t.unshift(U)}function d(C,_){t.length>1&&t.sort(C||Cd),n.length>1&&n.sort(_||lf),r.length>1&&r.sort(_||lf)}function m(){for(let C=e,_=c.length;C<_;C++){const w=c[C];if(w.id===null)break;w.id=null,w.object=null,w.geometry=null,w.material=null,w.group=null}}return{opaque:t,transmissive:n,transparent:r,init:o,push:l,unshift:f,finish:m,sort:d}}function ae(){let c=new WeakMap;function e(n,r){let o;return c.has(n)===!1?(o=new J,c.set(n,[o])):r>=c.get(n).length?(o=new J,c.get(n).push(o)):o=c.get(n)[r],o}function t(){c=new WeakMap}return{get:e,dispose:t}}function Q(){const c={};return{get:function(e){if(c[e.id]!==void 0)return c[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Ee,color:new sr};break;case"SpotLight":t={position:new Ee,direction:new Ee,color:new sr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Ee,color:new sr,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Ee,skyColor:new sr,groundColor:new sr};break;case"RectAreaLight":t={color:new sr,position:new Ee,halfWidth:new Ee,halfHeight:new Ee};break}return c[e.id]=t,t}}}function re(){const c={};return{get:function(e){if(c[e.id]!==void 0)return c[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mn};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mn};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mn,shadowCameraNear:1,shadowCameraFar:1e3};break}return c[e.id]=t,t}}}let se=0;function ac(c,e){return(e.castShadow?1:0)-(c.castShadow?1:0)}function P5(c,e){const t=new Q,n=re(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let m=0;m<9;m++)r.probe.push(new Ee);const o=new Ee,a=new Ur,l=new Ur;function f(m,C){let _=0,w=0,R=0;for(let Ne=0;Ne<9;Ne++)r.probe[Ne].set(0,0,0);let E=0,L=0,U=0,Z=0,pe=0,te=0,Ae=0,ze=0;m.sort(ac);const ct=C!==!0?Math.PI:1;for(let Ne=0,Ct=m.length;Ne<Ct;Ne++){const Lt=m[Ne],Tn=Lt.color,Wn=Lt.intensity,Ot=Lt.distance,yn=Lt.shadow&&Lt.shadow.map?Lt.shadow.map.texture:null;if(Lt.isAmbientLight)_+=Tn.r*Wn*ct,w+=Tn.g*Wn*ct,R+=Tn.b*Wn*ct;else if(Lt.isLightProbe)for(let Yt=0;Yt<9;Yt++)r.probe[Yt].addScaledVector(Lt.sh.coefficients[Yt],Wn);else if(Lt.isDirectionalLight){const Yt=t.get(Lt);if(Yt.color.copy(Lt.color).multiplyScalar(Lt.intensity*ct),Lt.castShadow){const Pn=Lt.shadow,Dn=n.get(Lt);Dn.shadowBias=Pn.bias,Dn.shadowNormalBias=Pn.normalBias,Dn.shadowRadius=Pn.radius,Dn.shadowMapSize=Pn.mapSize,r.directionalShadow[E]=Dn,r.directionalShadowMap[E]=yn,r.directionalShadowMatrix[E]=Lt.shadow.matrix,te++}r.directional[E]=Yt,E++}else if(Lt.isSpotLight){const Yt=t.get(Lt);if(Yt.position.setFromMatrixPosition(Lt.matrixWorld),Yt.color.copy(Tn).multiplyScalar(Wn*ct),Yt.distance=Ot,Yt.coneCos=Math.cos(Lt.angle),Yt.penumbraCos=Math.cos(Lt.angle*(1-Lt.penumbra)),Yt.decay=Lt.decay,Lt.castShadow){const Pn=Lt.shadow,Dn=n.get(Lt);Dn.shadowBias=Pn.bias,Dn.shadowNormalBias=Pn.normalBias,Dn.shadowRadius=Pn.radius,Dn.shadowMapSize=Pn.mapSize,r.spotShadow[U]=Dn,r.spotShadowMap[U]=yn,r.spotShadowMatrix[U]=Lt.shadow.matrix,ze++}r.spot[U]=Yt,U++}else if(Lt.isRectAreaLight){const Yt=t.get(Lt);Yt.color.copy(Tn).multiplyScalar(Wn),Yt.halfWidth.set(Lt.width*.5,0,0),Yt.halfHeight.set(0,Lt.height*.5,0),r.rectArea[Z]=Yt,Z++}else if(Lt.isPointLight){const Yt=t.get(Lt);if(Yt.color.copy(Lt.color).multiplyScalar(Lt.intensity*ct),Yt.distance=Lt.distance,Yt.decay=Lt.decay,Lt.castShadow){const Pn=Lt.shadow,Dn=n.get(Lt);Dn.shadowBias=Pn.bias,Dn.shadowNormalBias=Pn.normalBias,Dn.shadowRadius=Pn.radius,Dn.shadowMapSize=Pn.mapSize,Dn.shadowCameraNear=Pn.camera.near,Dn.shadowCameraFar=Pn.camera.far,r.pointShadow[L]=Dn,r.pointShadowMap[L]=yn,r.pointShadowMatrix[L]=Lt.shadow.matrix,Ae++}r.point[L]=Yt,L++}else if(Lt.isHemisphereLight){const Yt=t.get(Lt);Yt.skyColor.copy(Lt.color).multiplyScalar(Wn*ct),Yt.groundColor.copy(Lt.groundColor).multiplyScalar(Wn*ct),r.hemi[pe]=Yt,pe++}}Z>0&&(e.isWebGL2||c.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=tr.LTC_FLOAT_1,r.rectAreaLTC2=tr.LTC_FLOAT_2):c.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=tr.LTC_HALF_1,r.rectAreaLTC2=tr.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=_,r.ambient[1]=w,r.ambient[2]=R;const oe=r.hash;(oe.directionalLength!==E||oe.pointLength!==L||oe.spotLength!==U||oe.rectAreaLength!==Z||oe.hemiLength!==pe||oe.numDirectionalShadows!==te||oe.numPointShadows!==Ae||oe.numSpotShadows!==ze)&&(r.directional.length=E,r.spot.length=U,r.rectArea.length=Z,r.point.length=L,r.hemi.length=pe,r.directionalShadow.length=te,r.directionalShadowMap.length=te,r.pointShadow.length=Ae,r.pointShadowMap.length=Ae,r.spotShadow.length=ze,r.spotShadowMap.length=ze,r.directionalShadowMatrix.length=te,r.pointShadowMatrix.length=Ae,r.spotShadowMatrix.length=ze,oe.directionalLength=E,oe.pointLength=L,oe.spotLength=U,oe.rectAreaLength=Z,oe.hemiLength=pe,oe.numDirectionalShadows=te,oe.numPointShadows=Ae,oe.numSpotShadows=ze,r.version=se++)}function d(m,C){let _=0,w=0,R=0,E=0,L=0;const U=C.matrixWorldInverse;for(let Z=0,pe=m.length;Z<pe;Z++){const te=m[Z];if(te.isDirectionalLight){const Ae=r.directional[_];Ae.direction.setFromMatrixPosition(te.matrixWorld),o.setFromMatrixPosition(te.target.matrixWorld),Ae.direction.sub(o),Ae.direction.transformDirection(U),_++}else if(te.isSpotLight){const Ae=r.spot[R];Ae.position.setFromMatrixPosition(te.matrixWorld),Ae.position.applyMatrix4(U),Ae.direction.setFromMatrixPosition(te.matrixWorld),o.setFromMatrixPosition(te.target.matrixWorld),Ae.direction.sub(o),Ae.direction.transformDirection(U),R++}else if(te.isRectAreaLight){const Ae=r.rectArea[E];Ae.position.setFromMatrixPosition(te.matrixWorld),Ae.position.applyMatrix4(U),l.identity(),a.copy(te.matrixWorld),a.premultiply(U),l.extractRotation(a),Ae.halfWidth.set(te.width*.5,0,0),Ae.halfHeight.set(0,te.height*.5,0),Ae.halfWidth.applyMatrix4(l),Ae.halfHeight.applyMatrix4(l),E++}else if(te.isPointLight){const Ae=r.point[w];Ae.position.setFromMatrixPosition(te.matrixWorld),Ae.position.applyMatrix4(U),w++}else if(te.isHemisphereLight){const Ae=r.hemi[L];Ae.direction.setFromMatrixPosition(te.matrixWorld),Ae.direction.transformDirection(U),L++}}}return{setup:f,setupView:d,state:r}}function _d(c,e){const t=new P5(c,e),n=[],r=[];function o(){n.length=0,r.length=0}function a(C){n.push(C)}function l(C){r.push(C)}function f(C){t.setup(n,C)}function d(C){t.setupView(n,C)}return{init:o,state:{lightsArray:n,shadowsArray:r,lights:t},setupLights:f,setupLightsView:d,pushLight:a,pushShadow:l}}function O5(c,e){let t=new WeakMap;function n(o,a=0){let l;return t.has(o)===!1?(l=new _d(c,e),t.set(o,[l])):a>=t.get(o).length?(l=new _d(c,e),t.get(o).push(l)):l=t.get(o)[a],l}function r(){t=new WeakMap}return{get:n,dispose:r}}class cf extends io{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Fs,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class uf extends io{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Ee,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const D5=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,I5=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function H5(c,e,t){let n=new Fa;const r=new mn,o=new mn,a=new mi,l=new cf({depthPacking:Oo}),f=new uf,d={},m=t.maxTextureSize,C={0:B,1:xe,2:Ke},_=new Bs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new mn},radius:{value:4}},vertexShader:D5,fragmentShader:I5}),w=_.clone();w.defines.HORIZONTAL_PASS=1;const R=new Vr;R.setAttribute("position",new Ai(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const E=new bo(R,_),L=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=K,this.render=function(te,Ae,ze){if(L.enabled===!1||L.autoUpdate===!1&&L.needsUpdate===!1||te.length===0)return;const ct=c.getRenderTarget(),oe=c.getActiveCubeFace(),Ne=c.getActiveMipmapLevel(),Ct=c.state;Ct.setBlending(at),Ct.buffers.color.setClear(1,1,1,1),Ct.buffers.depth.setTest(!0),Ct.setScissorTest(!1);for(let Lt=0,Tn=te.length;Lt<Tn;Lt++){const Wn=te[Lt],Ot=Wn.shadow;if(Ot===void 0){console.warn("THREE.WebGLShadowMap:",Wn,"has no shadow.");continue}if(Ot.autoUpdate===!1&&Ot.needsUpdate===!1)continue;r.copy(Ot.mapSize);const yn=Ot.getFrameExtents();if(r.multiply(yn),o.copy(Ot.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(o.x=Math.floor(m/yn.x),r.x=o.x*yn.x,Ot.mapSize.x=o.x),r.y>m&&(o.y=Math.floor(m/yn.y),r.y=o.y*yn.y,Ot.mapSize.y=o.y)),Ot.map===null){const Pn=this.type!==he?{minFilter:Ie,magFilter:Ie}:{};Ot.map=new ho(r.x,r.y,Pn),Ot.map.texture.name=Wn.name+".shadowMap",Ot.camera.updateProjectionMatrix()}c.setRenderTarget(Ot.map),c.clear();const Yt=Ot.getViewportCount();for(let Pn=0;Pn<Yt;Pn++){const Dn=Ot.getViewport(Pn);a.set(o.x*Dn.x,o.y*Dn.y,o.x*Dn.z,o.y*Dn.w),Ct.viewport(a),Ot.updateMatrices(Wn,Pn),n=Ot.getFrustum(),pe(Ae,ze,Ot.camera,Wn,this.type)}Ot.isPointLightShadow!==!0&&this.type===he&&U(Ot,ze),Ot.needsUpdate=!1}L.needsUpdate=!1,c.setRenderTarget(ct,oe,Ne)};function U(te,Ae){const ze=e.update(E);_.defines.VSM_SAMPLES!==te.blurSamples&&(_.defines.VSM_SAMPLES=te.blurSamples,w.defines.VSM_SAMPLES=te.blurSamples,_.needsUpdate=!0,w.needsUpdate=!0),te.mapPass===null&&(te.mapPass=new ho(r.x,r.y)),_.uniforms.shadow_pass.value=te.map.texture,_.uniforms.resolution.value=te.mapSize,_.uniforms.radius.value=te.radius,c.setRenderTarget(te.mapPass),c.clear(),c.renderBufferDirect(Ae,null,ze,_,E,null),w.uniforms.shadow_pass.value=te.mapPass.texture,w.uniforms.resolution.value=te.mapSize,w.uniforms.radius.value=te.radius,c.setRenderTarget(te.map),c.clear(),c.renderBufferDirect(Ae,null,ze,w,E,null)}function Z(te,Ae,ze,ct,oe,Ne){let Ct=null;const Lt=ze.isPointLight===!0?te.customDistanceMaterial:te.customDepthMaterial;if(Lt!==void 0?Ct=Lt:Ct=ze.isPointLight===!0?f:l,c.localClippingEnabled&&Ae.clipShadows===!0&&Array.isArray(Ae.clippingPlanes)&&Ae.clippingPlanes.length!==0||Ae.displacementMap&&Ae.displacementScale!==0||Ae.alphaMap&&Ae.alphaTest>0){const Tn=Ct.uuid,Wn=Ae.uuid;let Ot=d[Tn];Ot===void 0&&(Ot={},d[Tn]=Ot);let yn=Ot[Wn];yn===void 0&&(yn=Ct.clone(),Ot[Wn]=yn),Ct=yn}return Ct.visible=Ae.visible,Ct.wireframe=Ae.wireframe,Ne===he?Ct.side=Ae.shadowSide!==null?Ae.shadowSide:Ae.side:Ct.side=Ae.shadowSide!==null?Ae.shadowSide:C[Ae.side],Ct.alphaMap=Ae.alphaMap,Ct.alphaTest=Ae.alphaTest,Ct.clipShadows=Ae.clipShadows,Ct.clippingPlanes=Ae.clippingPlanes,Ct.clipIntersection=Ae.clipIntersection,Ct.displacementMap=Ae.displacementMap,Ct.displacementScale=Ae.displacementScale,Ct.displacementBias=Ae.displacementBias,Ct.wireframeLinewidth=Ae.wireframeLinewidth,Ct.linewidth=Ae.linewidth,ze.isPointLight===!0&&Ct.isMeshDistanceMaterial===!0&&(Ct.referencePosition.setFromMatrixPosition(ze.matrixWorld),Ct.nearDistance=ct,Ct.farDistance=oe),Ct}function pe(te,Ae,ze,ct,oe){if(te.visible===!1)return;if(te.layers.test(Ae.layers)&&(te.isMesh||te.isLine||te.isPoints)&&(te.castShadow||te.receiveShadow&&oe===he)&&(!te.frustumCulled||n.intersectsObject(te))){te.modelViewMatrix.multiplyMatrices(ze.matrixWorldInverse,te.matrixWorld);const Lt=e.update(te),Tn=te.material;if(Array.isArray(Tn)){const Wn=Lt.groups;for(let Ot=0,yn=Wn.length;Ot<yn;Ot++){const Yt=Wn[Ot],Pn=Tn[Yt.materialIndex];if(Pn&&Pn.visible){const Dn=Z(te,Pn,ct,ze.near,ze.far,oe);c.renderBufferDirect(ze,null,Lt,Dn,te,Yt)}}}else if(Tn.visible){const Wn=Z(te,Tn,ct,ze.near,ze.far,oe);c.renderBufferDirect(ze,null,Lt,Wn,te,null)}}const Ct=te.children;for(let Lt=0,Tn=Ct.length;Lt<Tn;Lt++)pe(Ct[Lt],Ae,ze,ct,oe)}}function z5(c,e,t){const n=t.isWebGL2;function r(){let dt=!1;const ir=new mi;let er=null;const kr=new mi(0,0,0,0);return{setMask:function(Cr){er!==Cr&&!dt&&(c.colorMask(Cr,Cr,Cr,Cr),er=Cr)},setLocked:function(Cr){dt=Cr},setClear:function(Cr,Gr,Gn,Xr,Ii){Ii===!0&&(Cr*=Xr,Gr*=Xr,Gn*=Xr),ir.set(Cr,Gr,Gn,Xr),kr.equals(ir)===!1&&(c.clearColor(Cr,Gr,Gn,Xr),kr.copy(ir))},reset:function(){dt=!1,er=null,kr.set(-1,0,0,0)}}}function o(){let dt=!1,ir=null,er=null,kr=null;return{setTest:function(Cr){Cr?Ar(2929):wn(2929)},setMask:function(Cr){ir!==Cr&&!dt&&(c.depthMask(Cr),ir=Cr)},setFunc:function(Cr){if(er!==Cr){if(Cr)switch(Cr){case Te:c.depthFunc(512);break;case Ve:c.depthFunc(519);break;case Ge:c.depthFunc(513);break;case ot:c.depthFunc(515);break;case ht:c.depthFunc(514);break;case bt:c.depthFunc(518);break;case Vt:c.depthFunc(516);break;case Kt:c.depthFunc(517);break;default:c.depthFunc(515)}else c.depthFunc(515);er=Cr}},setLocked:function(Cr){dt=Cr},setClear:function(Cr){kr!==Cr&&(c.clearDepth(Cr),kr=Cr)},reset:function(){dt=!1,ir=null,er=null,kr=null}}}function a(){let dt=!1,ir=null,er=null,kr=null,Cr=null,Gr=null,Gn=null,Xr=null,Ii=null;return{setTest:function(Hi){dt||(Hi?Ar(2960):wn(2960))},setMask:function(Hi){ir!==Hi&&!dt&&(c.stencilMask(Hi),ir=Hi)},setFunc:function(Hi,Ls,Ya){(er!==Hi||kr!==Ls||Cr!==Ya)&&(c.stencilFunc(Hi,Ls,Ya),er=Hi,kr=Ls,Cr=Ya)},setOp:function(Hi,Ls,Ya){(Gr!==Hi||Gn!==Ls||Xr!==Ya)&&(c.stencilOp(Hi,Ls,Ya),Gr=Hi,Gn=Ls,Xr=Ya)},setLocked:function(Hi){dt=Hi},setClear:function(Hi){Ii!==Hi&&(c.clearStencil(Hi),Ii=Hi)},reset:function(){dt=!1,ir=null,er=null,kr=null,Cr=null,Gr=null,Gn=null,Xr=null,Ii=null}}}const l=new r,f=new o,d=new a;let m={},C={},_=new WeakMap,w=[],R=null,E=!1,L=null,U=null,Z=null,pe=null,te=null,Ae=null,ze=null,ct=!1,oe=null,Ne=null,Ct=null,Lt=null,Tn=null;const Wn=c.getParameter(35661);let Ot=!1,yn=0;const Yt=c.getParameter(7938);Yt.indexOf("WebGL")!==-1?(yn=parseFloat(/^WebGL (\d)/.exec(Yt)[1]),Ot=yn>=1):Yt.indexOf("OpenGL ES")!==-1&&(yn=parseFloat(/^OpenGL ES (\d)/.exec(Yt)[1]),Ot=yn>=2);let Pn=null,Dn={};const on=c.getParameter(3088),gn=c.getParameter(2978),Un=new mi().fromArray(on),zn=new mi().fromArray(gn);function nr(dt,ir,er){const kr=new Uint8Array(4),Cr=c.createTexture();c.bindTexture(dt,Cr),c.texParameteri(dt,10241,9728),c.texParameteri(dt,10240,9728);for(let Gr=0;Gr<er;Gr++)c.texImage2D(ir+Gr,0,6408,1,1,0,6408,5121,kr);return Cr}const wr={};wr[3553]=nr(3553,3553,1),wr[34067]=nr(34067,34069,6),l.setClear(0,0,0,1),f.setClear(1),d.setClear(0),Ar(2929),f.setFunc(ot),qn(!1),Sr(T),Ar(2884),On(at);function Ar(dt){m[dt]!==!0&&(c.enable(dt),m[dt]=!0)}function wn(dt){m[dt]!==!1&&(c.disable(dt),m[dt]=!1)}function Ni(dt,ir){return C[dt]!==ir?(c.bindFramebuffer(dt,ir),C[dt]=ir,n&&(dt===36009&&(C[36160]=ir),dt===36160&&(C[36009]=ir)),!0):!1}function ni(dt,ir){let er=w,kr=!1;if(dt)if(er=_.get(ir),er===void 0&&(er=[],_.set(ir,er)),dt.isWebGLMultipleRenderTargets){const Cr=dt.texture;if(er.length!==Cr.length||er[0]!==36064){for(let Gr=0,Gn=Cr.length;Gr<Gn;Gr++)er[Gr]=36064+Gr;er.length=Cr.length,kr=!0}}else er[0]!==36064&&(er[0]=36064,kr=!0);else er[0]!==1029&&(er[0]=1029,kr=!0);kr&&(t.isWebGL2?c.drawBuffers(er):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(er))}function ei(dt){return R!==dt?(c.useProgram(dt),R=dt,!0):!1}const rr={[Dt]:32774,[Ue]:32778,[Xe]:32779};if(n)rr[it]=32775,rr[Ft]=32776;else{const dt=e.get("EXT_blend_minmax");dt!==null&&(rr[it]=dt.MIN_EXT,rr[Ft]=dt.MAX_EXT)}const di={[X]:0,[be]:1,[ye]:768,[_e]:770,[ce]:776,[He]:774,[$e]:772,[Me]:769,[Re]:771,[rt]:775,[le]:773};function On(dt,ir,er,kr,Cr,Gr,Gn,Xr){if(dt===at){E===!0&&(wn(3042),E=!1);return}if(E===!1&&(Ar(3042),E=!0),dt!==Nt){if(dt!==L||Xr!==ct){if((U!==Dt||te!==Dt)&&(c.blendEquation(32774),U=Dt,te=Dt),Xr)switch(dt){case ut:c.blendFuncSeparate(1,771,1,771);break;case H:c.blendFunc(1,1);break;case lt:c.blendFuncSeparate(0,769,0,1);break;case wt:c.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",dt);break}else switch(dt){case ut:c.blendFuncSeparate(770,771,1,771);break;case H:c.blendFunc(770,1);break;case lt:c.blendFuncSeparate(0,769,0,1);break;case wt:c.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",dt);break}Z=null,pe=null,Ae=null,ze=null,L=dt,ct=Xr}return}Cr=Cr||ir,Gr=Gr||er,Gn=Gn||kr,(ir!==U||Cr!==te)&&(c.blendEquationSeparate(rr[ir],rr[Cr]),U=ir,te=Cr),(er!==Z||kr!==pe||Gr!==Ae||Gn!==ze)&&(c.blendFuncSeparate(di[er],di[kr],di[Gr],di[Gn]),Z=er,pe=kr,Ae=Gr,ze=Gn),L=dt,ct=null}function En(dt,ir){dt.side===Ke?wn(2884):Ar(2884);let er=dt.side===B;ir&&(er=!er),qn(er),dt.blending===ut&&dt.transparent===!1?On(at):On(dt.blending,dt.blendEquation,dt.blendSrc,dt.blendDst,dt.blendEquationAlpha,dt.blendSrcAlpha,dt.blendDstAlpha,dt.premultipliedAlpha),f.setFunc(dt.depthFunc),f.setTest(dt.depthTest),f.setMask(dt.depthWrite),l.setMask(dt.colorWrite);const kr=dt.stencilWrite;d.setTest(kr),kr&&(d.setMask(dt.stencilWriteMask),d.setFunc(dt.stencilFunc,dt.stencilRef,dt.stencilFuncMask),d.setOp(dt.stencilFail,dt.stencilZFail,dt.stencilZPass)),ri(dt.polygonOffset,dt.polygonOffsetFactor,dt.polygonOffsetUnits),dt.alphaToCoverage===!0?Ar(32926):wn(32926)}function qn(dt){oe!==dt&&(dt?c.frontFace(2304):c.frontFace(2305),oe=dt)}function Sr(dt){dt!==y?(Ar(2884),dt!==Ne&&(dt===T?c.cullFace(1029):dt===k?c.cullFace(1028):c.cullFace(1032))):wn(2884),Ne=dt}function ur(dt){dt!==Ct&&(Ot&&c.lineWidth(dt),Ct=dt)}function ri(dt,ir,er){dt?(Ar(32823),(Lt!==ir||Tn!==er)&&(c.polygonOffset(ir,er),Lt=ir,Tn=er)):wn(32823)}function Br(dt){dt?Ar(3089):wn(3089)}function Pr(dt){dt===void 0&&(dt=33984+Wn-1),Pn!==dt&&(c.activeTexture(dt),Pn=dt)}function Yi(dt,ir){Pn===null&&Pr();let er=Dn[Pn];er===void 0&&(er={type:void 0,texture:void 0},Dn[Pn]=er),(er.type!==dt||er.texture!==ir)&&(c.bindTexture(dt,ir||wr[dt]),er.type=dt,er.texture=ir)}function Fi(){const dt=Dn[Pn];dt!==void 0&&dt.type!==void 0&&(c.bindTexture(dt.type,null),dt.type=void 0,dt.texture=void 0)}function Fe(){try{c.compressedTexImage2D.apply(c,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function Le(){try{c.texSubImage2D.apply(c,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function an(){try{c.texSubImage3D.apply(c,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function kn(){try{c.compressedTexSubImage2D.apply(c,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function Xn(){try{c.texStorage2D.apply(c,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function fr(){try{c.texStorage3D.apply(c,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function Wr(){try{c.texImage2D.apply(c,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function ln(){try{c.texImage3D.apply(c,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function Rr(dt){Un.equals(dt)===!1&&(c.scissor(dt.x,dt.y,dt.z,dt.w),Un.copy(dt))}function gr(dt){zn.equals(dt)===!1&&(c.viewport(dt.x,dt.y,dt.z,dt.w),zn.copy(dt))}function pr(){c.disable(3042),c.disable(2884),c.disable(2929),c.disable(32823),c.disable(3089),c.disable(2960),c.disable(32926),c.blendEquation(32774),c.blendFunc(1,0),c.blendFuncSeparate(1,0,1,0),c.colorMask(!0,!0,!0,!0),c.clearColor(0,0,0,0),c.depthMask(!0),c.depthFunc(513),c.clearDepth(1),c.stencilMask(4294967295),c.stencilFunc(519,0,4294967295),c.stencilOp(7680,7680,7680),c.clearStencil(0),c.cullFace(1029),c.frontFace(2305),c.polygonOffset(0,0),c.activeTexture(33984),c.bindFramebuffer(36160,null),n===!0&&(c.bindFramebuffer(36009,null),c.bindFramebuffer(36008,null)),c.useProgram(null),c.lineWidth(1),c.scissor(0,0,c.canvas.width,c.canvas.height),c.viewport(0,0,c.canvas.width,c.canvas.height),m={},Pn=null,Dn={},C={},_=new WeakMap,w=[],R=null,E=!1,L=null,U=null,Z=null,pe=null,te=null,Ae=null,ze=null,ct=!1,oe=null,Ne=null,Ct=null,Lt=null,Tn=null,Un.set(0,0,c.canvas.width,c.canvas.height),zn.set(0,0,c.canvas.width,c.canvas.height),l.reset(),f.reset(),d.reset()}return{buffers:{color:l,depth:f,stencil:d},enable:Ar,disable:wn,bindFramebuffer:Ni,drawBuffers:ni,useProgram:ei,setBlending:On,setMaterial:En,setFlipSided:qn,setCullFace:Sr,setLineWidth:ur,setPolygonOffset:ri,setScissorTest:Br,activeTexture:Pr,bindTexture:Yi,unbindTexture:Fi,compressedTexImage2D:Fe,texImage2D:Wr,texImage3D:ln,texStorage2D:Xn,texStorage3D:fr,texSubImage2D:Le,texSubImage3D:an,compressedTexSubImage2D:kn,scissor:Rr,viewport:gr,reset:pr}}function V5(c,e,t,n,r,o,a){const l=r.isWebGL2,f=r.maxTextures,d=r.maxCubemapSize,m=r.maxTextureSize,C=r.maxSamples,_=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,w=/OculusBrowser/g.test(navigator.userAgent),R=new WeakMap;let E;const L=new WeakMap;let U=!1;try{U=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(Fe){}function Z(Fe,Le){return U?new OffscreenCanvas(Fe,Le):gs("canvas")}function pe(Fe,Le,an,kn){let Xn=1;if((Fe.width>kn||Fe.height>kn)&&(Xn=kn/Math.max(Fe.width,Fe.height)),Xn<1||Le===!0)if(typeof HTMLImageElement!="undefined"&&Fe instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&Fe instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&Fe instanceof ImageBitmap){const fr=Le?is:Math.floor,Wr=fr(Xn*Fe.width),ln=fr(Xn*Fe.height);E===void 0&&(E=Z(Wr,ln));const Rr=an?Z(Wr,ln):E;return Rr.width=Wr,Rr.height=ln,Rr.getContext("2d").drawImage(Fe,0,0,Wr,ln),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Fe.width+"x"+Fe.height+") to ("+Wr+"x"+ln+")."),Rr}else return"data"in Fe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Fe.width+"x"+Fe.height+")."),Fe;return Fe}function te(Fe){return ua(Fe.width)&&ua(Fe.height)}function Ae(Fe){return l?!1:Fe.wrapS!==me||Fe.wrapT!==me||Fe.minFilter!==Ie&&Fe.minFilter!==ue}function ze(Fe,Le){return Fe.generateMipmaps&&Le&&Fe.minFilter!==Ie&&Fe.minFilter!==ue}function ct(Fe){c.generateMipmap(Fe)}function oe(Fe,Le,an,kn,Xn=!1){if(l===!1)return Le;if(Fe!==null){if(c[Fe]!==void 0)return c[Fe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Fe+"'")}let fr=Le;return Le===6403&&(an===5126&&(fr=33326),an===5131&&(fr=33325),an===5121&&(fr=33321)),Le===33319&&(an===5126&&(fr=33328),an===5131&&(fr=33327),an===5121&&(fr=33323)),Le===6408&&(an===5126&&(fr=34836),an===5131&&(fr=34842),an===5121&&(fr=kn===xi&&Xn===!1?35907:32856),an===32819&&(fr=32854),an===32820&&(fr=32855)),(fr===33325||fr===33326||fr===33327||fr===33328||fr===34842||fr===34836)&&e.get("EXT_color_buffer_float"),fr}function Ne(Fe,Le,an){return ze(Fe,an)===!0||Fe.isFramebufferTexture&&Fe.minFilter!==Ie&&Fe.minFilter!==ue?Math.log2(Math.max(Le.width,Le.height))+1:Fe.mipmaps!==void 0&&Fe.mipmaps.length>0?Fe.mipmaps.length:Fe.isCompressedTexture&&Array.isArray(Fe.image)?Le.mipmaps.length:1}function Ct(Fe){return Fe===Ie||Fe===At||Fe===Vn?9728:9729}function Lt(Fe){const Le=Fe.target;Le.removeEventListener("dispose",Lt),Wn(Le),Le.isVideoTexture&&R.delete(Le)}function Tn(Fe){const Le=Fe.target;Le.removeEventListener("dispose",Tn),yn(Le)}function Wn(Fe){const Le=n.get(Fe);if(Le.__webglInit===void 0)return;const an=Fe.source,kn=L.get(an);if(kn){const Xn=kn[Le.__cacheKey];Xn.usedTimes--,Xn.usedTimes===0&&Ot(Fe),Object.keys(kn).length===0&&L.delete(an)}n.remove(Fe)}function Ot(Fe){const Le=n.get(Fe);c.deleteTexture(Le.__webglTexture);const an=Fe.source,kn=L.get(an);delete kn[Le.__cacheKey],a.memory.textures--}function yn(Fe){const Le=Fe.texture,an=n.get(Fe),kn=n.get(Le);if(kn.__webglTexture!==void 0&&(c.deleteTexture(kn.__webglTexture),a.memory.textures--),Fe.depthTexture&&Fe.depthTexture.dispose(),Fe.isWebGLCubeRenderTarget)for(let Xn=0;Xn<6;Xn++)c.deleteFramebuffer(an.__webglFramebuffer[Xn]),an.__webglDepthbuffer&&c.deleteRenderbuffer(an.__webglDepthbuffer[Xn]);else{if(c.deleteFramebuffer(an.__webglFramebuffer),an.__webglDepthbuffer&&c.deleteRenderbuffer(an.__webglDepthbuffer),an.__webglMultisampledFramebuffer&&c.deleteFramebuffer(an.__webglMultisampledFramebuffer),an.__webglColorRenderbuffer)for(let Xn=0;Xn<an.__webglColorRenderbuffer.length;Xn++)an.__webglColorRenderbuffer[Xn]&&c.deleteRenderbuffer(an.__webglColorRenderbuffer[Xn]);an.__webglDepthRenderbuffer&&c.deleteRenderbuffer(an.__webglDepthRenderbuffer)}if(Fe.isWebGLMultipleRenderTargets)for(let Xn=0,fr=Le.length;Xn<fr;Xn++){const Wr=n.get(Le[Xn]);Wr.__webglTexture&&(c.deleteTexture(Wr.__webglTexture),a.memory.textures--),n.remove(Le[Xn])}n.remove(Le),n.remove(Fe)}let Yt=0;function Pn(){Yt=0}function Dn(){const Fe=Yt;return Fe>=f&&console.warn("THREE.WebGLTextures: Trying to use "+Fe+" texture units while this GPU supports only "+f),Yt+=1,Fe}function on(Fe){const Le=[];return Le.push(Fe.wrapS),Le.push(Fe.wrapT),Le.push(Fe.magFilter),Le.push(Fe.minFilter),Le.push(Fe.anisotropy),Le.push(Fe.internalFormat),Le.push(Fe.format),Le.push(Fe.type),Le.push(Fe.generateMipmaps),Le.push(Fe.premultiplyAlpha),Le.push(Fe.flipY),Le.push(Fe.unpackAlignment),Le.push(Fe.encoding),Le.join()}function gn(Fe,Le){const an=n.get(Fe);if(Fe.isVideoTexture&&Yi(Fe),Fe.isRenderTargetTexture===!1&&Fe.version>0&&an.__version!==Fe.version){const kn=Fe.image;if(kn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(kn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ni(an,Fe,Le);return}}t.activeTexture(33984+Le),t.bindTexture(3553,an.__webglTexture)}function Un(Fe,Le){const an=n.get(Fe);if(Fe.version>0&&an.__version!==Fe.version){ni(an,Fe,Le);return}t.activeTexture(33984+Le),t.bindTexture(35866,an.__webglTexture)}function zn(Fe,Le){const an=n.get(Fe);if(Fe.version>0&&an.__version!==Fe.version){ni(an,Fe,Le);return}t.activeTexture(33984+Le),t.bindTexture(32879,an.__webglTexture)}function nr(Fe,Le){const an=n.get(Fe);if(Fe.version>0&&an.__version!==Fe.version){ei(an,Fe,Le);return}t.activeTexture(33984+Le),t.bindTexture(34067,an.__webglTexture)}const wr={[fe]:10497,[me]:33071,[ke]:33648},Ar={[Ie]:9728,[At]:9984,[Vn]:9986,[ue]:9729,[je]:9985,[qe]:9987};function wn(Fe,Le,an){if(an?(c.texParameteri(Fe,10242,wr[Le.wrapS]),c.texParameteri(Fe,10243,wr[Le.wrapT]),(Fe===32879||Fe===35866)&&c.texParameteri(Fe,32882,wr[Le.wrapR]),c.texParameteri(Fe,10240,Ar[Le.magFilter]),c.texParameteri(Fe,10241,Ar[Le.minFilter])):(c.texParameteri(Fe,10242,33071),c.texParameteri(Fe,10243,33071),(Fe===32879||Fe===35866)&&c.texParameteri(Fe,32882,33071),(Le.wrapS!==me||Le.wrapT!==me)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),c.texParameteri(Fe,10240,Ct(Le.magFilter)),c.texParameteri(Fe,10241,Ct(Le.minFilter)),Le.minFilter!==Ie&&Le.minFilter!==ue&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const kn=e.get("EXT_texture_filter_anisotropic");if(Le.type===_t&&e.has("OES_texture_float_linear")===!1||l===!1&&Le.type===Xt&&e.has("OES_texture_half_float_linear")===!1)return;(Le.anisotropy>1||n.get(Le).__currentAnisotropy)&&(c.texParameterf(Fe,kn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Le.anisotropy,r.getMaxAnisotropy())),n.get(Le).__currentAnisotropy=Le.anisotropy)}}function Ni(Fe,Le){let an=!1;Fe.__webglInit===void 0&&(Fe.__webglInit=!0,Le.addEventListener("dispose",Lt));const kn=Le.source;let Xn=L.get(kn);Xn===void 0&&(Xn={},L.set(kn,Xn));const fr=on(Le);if(fr!==Fe.__cacheKey){Xn[fr]===void 0&&(Xn[fr]={texture:c.createTexture(),usedTimes:0},a.memory.textures++,an=!0),Xn[fr].usedTimes++;const Wr=Xn[Fe.__cacheKey];Wr!==void 0&&(Xn[Fe.__cacheKey].usedTimes--,Wr.usedTimes===0&&Ot(Le)),Fe.__cacheKey=fr,Fe.__webglTexture=Xn[fr].texture}return an}function ni(Fe,Le,an){let kn=3553;Le.isDataArrayTexture&&(kn=35866),Le.isData3DTexture&&(kn=32879);const Xn=Ni(Fe,Le),fr=Le.source;if(t.activeTexture(33984+an),t.bindTexture(kn,Fe.__webglTexture),fr.version!==fr.__currentVersion||Xn===!0){c.pixelStorei(37440,Le.flipY),c.pixelStorei(37441,Le.premultiplyAlpha),c.pixelStorei(3317,Le.unpackAlignment),c.pixelStorei(37443,0);const Wr=Ae(Le)&&te(Le.image)===!1;let ln=pe(Le.image,Wr,!1,m);ln=Fi(Le,ln);const Rr=te(ln)||l,gr=o.convert(Le.format,Le.encoding);let pr=o.convert(Le.type),dt=oe(Le.internalFormat,gr,pr,Le.encoding,Le.isVideoTexture);wn(kn,Le,Rr);let ir;const er=Le.mipmaps,kr=l&&Le.isVideoTexture!==!0,Cr=fr.__currentVersion===void 0||Xn===!0,Gr=Ne(Le,ln,Rr);if(Le.isDepthTexture)dt=6402,l?Le.type===_t?dt=36012:Le.type===st?dt=33190:Le.type===Ce?dt=35056:dt=33189:Le.type===_t&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Le.format===Bn&&dt===6402&&Le.type!==de&&Le.type!==st&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Le.type=st,pr=o.convert(Le.type)),Le.format===ve&&dt===6402&&(dt=34041,Le.type!==Ce&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Le.type=Ce,pr=o.convert(Le.type))),Cr&&(kr?t.texStorage2D(3553,1,dt,ln.width,ln.height):t.texImage2D(3553,0,dt,ln.width,ln.height,0,gr,pr,null));else if(Le.isDataTexture)if(er.length>0&&Rr){kr&&Cr&&t.texStorage2D(3553,Gr,dt,er[0].width,er[0].height);for(let Gn=0,Xr=er.length;Gn<Xr;Gn++)ir=er[Gn],kr?t.texSubImage2D(3553,Gn,0,0,ir.width,ir.height,gr,pr,ir.data):t.texImage2D(3553,Gn,dt,ir.width,ir.height,0,gr,pr,ir.data);Le.generateMipmaps=!1}else kr?(Cr&&t.texStorage2D(3553,Gr,dt,ln.width,ln.height),t.texSubImage2D(3553,0,0,0,ln.width,ln.height,gr,pr,ln.data)):t.texImage2D(3553,0,dt,ln.width,ln.height,0,gr,pr,ln.data);else if(Le.isCompressedTexture){kr&&Cr&&t.texStorage2D(3553,Gr,dt,er[0].width,er[0].height);for(let Gn=0,Xr=er.length;Gn<Xr;Gn++)ir=er[Gn],Le.format!==Wt?gr!==null?kr?t.compressedTexSubImage2D(3553,Gn,0,0,ir.width,ir.height,gr,ir.data):t.compressedTexImage2D(3553,Gn,dt,ir.width,ir.height,0,ir.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):kr?t.texSubImage2D(3553,Gn,0,0,ir.width,ir.height,gr,pr,ir.data):t.texImage2D(3553,Gn,dt,ir.width,ir.height,0,gr,pr,ir.data)}else if(Le.isDataArrayTexture)kr?(Cr&&t.texStorage3D(35866,Gr,dt,ln.width,ln.height,ln.depth),t.texSubImage3D(35866,0,0,0,0,ln.width,ln.height,ln.depth,gr,pr,ln.data)):t.texImage3D(35866,0,dt,ln.width,ln.height,ln.depth,0,gr,pr,ln.data);else if(Le.isData3DTexture)kr?(Cr&&t.texStorage3D(32879,Gr,dt,ln.width,ln.height,ln.depth),t.texSubImage3D(32879,0,0,0,0,ln.width,ln.height,ln.depth,gr,pr,ln.data)):t.texImage3D(32879,0,dt,ln.width,ln.height,ln.depth,0,gr,pr,ln.data);else if(Le.isFramebufferTexture){if(Cr)if(kr)t.texStorage2D(3553,Gr,dt,ln.width,ln.height);else{let Gn=ln.width,Xr=ln.height;for(let Ii=0;Ii<Gr;Ii++)t.texImage2D(3553,Ii,dt,Gn,Xr,0,gr,pr,null),Gn>>=1,Xr>>=1}}else if(er.length>0&&Rr){kr&&Cr&&t.texStorage2D(3553,Gr,dt,er[0].width,er[0].height);for(let Gn=0,Xr=er.length;Gn<Xr;Gn++)ir=er[Gn],kr?t.texSubImage2D(3553,Gn,0,0,gr,pr,ir):t.texImage2D(3553,Gn,dt,gr,pr,ir);Le.generateMipmaps=!1}else kr?(Cr&&t.texStorage2D(3553,Gr,dt,ln.width,ln.height),t.texSubImage2D(3553,0,0,0,gr,pr,ln)):t.texImage2D(3553,0,dt,gr,pr,ln);ze(Le,Rr)&&ct(kn),fr.__currentVersion=fr.version,Le.onUpdate&&Le.onUpdate(Le)}Fe.__version=Le.version}function ei(Fe,Le,an){if(Le.image.length!==6)return;const kn=Ni(Fe,Le),Xn=Le.source;if(t.activeTexture(33984+an),t.bindTexture(34067,Fe.__webglTexture),Xn.version!==Xn.__currentVersion||kn===!0){c.pixelStorei(37440,Le.flipY),c.pixelStorei(37441,Le.premultiplyAlpha),c.pixelStorei(3317,Le.unpackAlignment),c.pixelStorei(37443,0);const fr=Le.isCompressedTexture||Le.image[0].isCompressedTexture,Wr=Le.image[0]&&Le.image[0].isDataTexture,ln=[];for(let Gn=0;Gn<6;Gn++)!fr&&!Wr?ln[Gn]=pe(Le.image[Gn],!1,!0,d):ln[Gn]=Wr?Le.image[Gn].image:Le.image[Gn],ln[Gn]=Fi(Le,ln[Gn]);const Rr=ln[0],gr=te(Rr)||l,pr=o.convert(Le.format,Le.encoding),dt=o.convert(Le.type),ir=oe(Le.internalFormat,pr,dt,Le.encoding),er=l&&Le.isVideoTexture!==!0,kr=Xn.__currentVersion===void 0||kn===!0;let Cr=Ne(Le,Rr,gr);wn(34067,Le,gr);let Gr;if(fr){er&&kr&&t.texStorage2D(34067,Cr,ir,Rr.width,Rr.height);for(let Gn=0;Gn<6;Gn++){Gr=ln[Gn].mipmaps;for(let Xr=0;Xr<Gr.length;Xr++){const Ii=Gr[Xr];Le.format!==Wt?pr!==null?er?t.compressedTexSubImage2D(34069+Gn,Xr,0,0,Ii.width,Ii.height,pr,Ii.data):t.compressedTexImage2D(34069+Gn,Xr,ir,Ii.width,Ii.height,0,Ii.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):er?t.texSubImage2D(34069+Gn,Xr,0,0,Ii.width,Ii.height,pr,dt,Ii.data):t.texImage2D(34069+Gn,Xr,ir,Ii.width,Ii.height,0,pr,dt,Ii.data)}}}else{Gr=Le.mipmaps,er&&kr&&(Gr.length>0&&Cr++,t.texStorage2D(34067,Cr,ir,ln[0].width,ln[0].height));for(let Gn=0;Gn<6;Gn++)if(Wr){er?t.texSubImage2D(34069+Gn,0,0,0,ln[Gn].width,ln[Gn].height,pr,dt,ln[Gn].data):t.texImage2D(34069+Gn,0,ir,ln[Gn].width,ln[Gn].height,0,pr,dt,ln[Gn].data);for(let Xr=0;Xr<Gr.length;Xr++){const Hi=Gr[Xr].image[Gn].image;er?t.texSubImage2D(34069+Gn,Xr+1,0,0,Hi.width,Hi.height,pr,dt,Hi.data):t.texImage2D(34069+Gn,Xr+1,ir,Hi.width,Hi.height,0,pr,dt,Hi.data)}}else{er?t.texSubImage2D(34069+Gn,0,0,0,pr,dt,ln[Gn]):t.texImage2D(34069+Gn,0,ir,pr,dt,ln[Gn]);for(let Xr=0;Xr<Gr.length;Xr++){const Ii=Gr[Xr];er?t.texSubImage2D(34069+Gn,Xr+1,0,0,pr,dt,Ii.image[Gn]):t.texImage2D(34069+Gn,Xr+1,ir,pr,dt,Ii.image[Gn])}}}ze(Le,gr)&&ct(34067),Xn.__currentVersion=Xn.version,Le.onUpdate&&Le.onUpdate(Le)}Fe.__version=Le.version}function rr(Fe,Le,an,kn,Xn){const fr=o.convert(an.format,an.encoding),Wr=o.convert(an.type),ln=oe(an.internalFormat,fr,Wr,an.encoding);n.get(Le).__hasExternalTextures||(Xn===32879||Xn===35866?t.texImage3D(Xn,0,ln,Le.width,Le.height,Le.depth,0,fr,Wr,null):t.texImage2D(Xn,0,ln,Le.width,Le.height,0,fr,Wr,null)),t.bindFramebuffer(36160,Fe),Pr(Le)?_.framebufferTexture2DMultisampleEXT(36160,kn,Xn,n.get(an).__webglTexture,0,Br(Le)):c.framebufferTexture2D(36160,kn,Xn,n.get(an).__webglTexture,0),t.bindFramebuffer(36160,null)}function di(Fe,Le,an){if(c.bindRenderbuffer(36161,Fe),Le.depthBuffer&&!Le.stencilBuffer){let kn=33189;if(an||Pr(Le)){const Xn=Le.depthTexture;Xn&&Xn.isDepthTexture&&(Xn.type===_t?kn=36012:Xn.type===st&&(kn=33190));const fr=Br(Le);Pr(Le)?_.renderbufferStorageMultisampleEXT(36161,fr,kn,Le.width,Le.height):c.renderbufferStorageMultisample(36161,fr,kn,Le.width,Le.height)}else c.renderbufferStorage(36161,kn,Le.width,Le.height);c.framebufferRenderbuffer(36160,36096,36161,Fe)}else if(Le.depthBuffer&&Le.stencilBuffer){const kn=Br(Le);an&&Pr(Le)===!1?c.renderbufferStorageMultisample(36161,kn,35056,Le.width,Le.height):Pr(Le)?_.renderbufferStorageMultisampleEXT(36161,kn,35056,Le.width,Le.height):c.renderbufferStorage(36161,34041,Le.width,Le.height),c.framebufferRenderbuffer(36160,33306,36161,Fe)}else{const kn=Le.isWebGLMultipleRenderTargets===!0?Le.texture:[Le.texture];for(let Xn=0;Xn<kn.length;Xn++){const fr=kn[Xn],Wr=o.convert(fr.format,fr.encoding),ln=o.convert(fr.type),Rr=oe(fr.internalFormat,Wr,ln,fr.encoding),gr=Br(Le);an&&Pr(Le)===!1?c.renderbufferStorageMultisample(36161,gr,Rr,Le.width,Le.height):Pr(Le)?_.renderbufferStorageMultisampleEXT(36161,gr,Rr,Le.width,Le.height):c.renderbufferStorage(36161,Rr,Le.width,Le.height)}}c.bindRenderbuffer(36161,null)}function On(Fe,Le){if(Le&&Le.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,Fe),!(Le.depthTexture&&Le.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(Le.depthTexture).__webglTexture||Le.depthTexture.image.width!==Le.width||Le.depthTexture.image.height!==Le.height)&&(Le.depthTexture.image.width=Le.width,Le.depthTexture.image.height=Le.height,Le.depthTexture.needsUpdate=!0),gn(Le.depthTexture,0);const kn=n.get(Le.depthTexture).__webglTexture,Xn=Br(Le);if(Le.depthTexture.format===Bn)Pr(Le)?_.framebufferTexture2DMultisampleEXT(36160,36096,3553,kn,0,Xn):c.framebufferTexture2D(36160,36096,3553,kn,0);else if(Le.depthTexture.format===ve)Pr(Le)?_.framebufferTexture2DMultisampleEXT(36160,33306,3553,kn,0,Xn):c.framebufferTexture2D(36160,33306,3553,kn,0);else throw new Error("Unknown depthTexture format")}function En(Fe){const Le=n.get(Fe),an=Fe.isWebGLCubeRenderTarget===!0;if(Fe.depthTexture&&!Le.__autoAllocateDepthBuffer){if(an)throw new Error("target.depthTexture not supported in Cube render targets");On(Le.__webglFramebuffer,Fe)}else if(an){Le.__webglDepthbuffer=[];for(let kn=0;kn<6;kn++)t.bindFramebuffer(36160,Le.__webglFramebuffer[kn]),Le.__webglDepthbuffer[kn]=c.createRenderbuffer(),di(Le.__webglDepthbuffer[kn],Fe,!1)}else t.bindFramebuffer(36160,Le.__webglFramebuffer),Le.__webglDepthbuffer=c.createRenderbuffer(),di(Le.__webglDepthbuffer,Fe,!1);t.bindFramebuffer(36160,null)}function qn(Fe,Le,an){const kn=n.get(Fe);Le!==void 0&&rr(kn.__webglFramebuffer,Fe,Fe.texture,36064,3553),an!==void 0&&En(Fe)}function Sr(Fe){const Le=Fe.texture,an=n.get(Fe),kn=n.get(Le);Fe.addEventListener("dispose",Tn),Fe.isWebGLMultipleRenderTargets!==!0&&(kn.__webglTexture===void 0&&(kn.__webglTexture=c.createTexture()),kn.__version=Le.version,a.memory.textures++);const Xn=Fe.isWebGLCubeRenderTarget===!0,fr=Fe.isWebGLMultipleRenderTargets===!0,Wr=te(Fe)||l;if(Xn){an.__webglFramebuffer=[];for(let ln=0;ln<6;ln++)an.__webglFramebuffer[ln]=c.createFramebuffer()}else{if(an.__webglFramebuffer=c.createFramebuffer(),fr)if(r.drawBuffers){const ln=Fe.texture;for(let Rr=0,gr=ln.length;Rr<gr;Rr++){const pr=n.get(ln[Rr]);pr.__webglTexture===void 0&&(pr.__webglTexture=c.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&Fe.samples>0&&Pr(Fe)===!1){const ln=fr?Le:[Le];an.__webglMultisampledFramebuffer=c.createFramebuffer(),an.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,an.__webglMultisampledFramebuffer);for(let Rr=0;Rr<ln.length;Rr++){const gr=ln[Rr];an.__webglColorRenderbuffer[Rr]=c.createRenderbuffer(),c.bindRenderbuffer(36161,an.__webglColorRenderbuffer[Rr]);const pr=o.convert(gr.format,gr.encoding),dt=o.convert(gr.type),ir=oe(gr.internalFormat,pr,dt,gr.encoding),er=Br(Fe);c.renderbufferStorageMultisample(36161,er,ir,Fe.width,Fe.height),c.framebufferRenderbuffer(36160,36064+Rr,36161,an.__webglColorRenderbuffer[Rr])}c.bindRenderbuffer(36161,null),Fe.depthBuffer&&(an.__webglDepthRenderbuffer=c.createRenderbuffer(),di(an.__webglDepthRenderbuffer,Fe,!0)),t.bindFramebuffer(36160,null)}}if(Xn){t.bindTexture(34067,kn.__webglTexture),wn(34067,Le,Wr);for(let ln=0;ln<6;ln++)rr(an.__webglFramebuffer[ln],Fe,Le,36064,34069+ln);ze(Le,Wr)&&ct(34067),t.unbindTexture()}else if(fr){const ln=Fe.texture;for(let Rr=0,gr=ln.length;Rr<gr;Rr++){const pr=ln[Rr],dt=n.get(pr);t.bindTexture(3553,dt.__webglTexture),wn(3553,pr,Wr),rr(an.__webglFramebuffer,Fe,pr,36064+Rr,3553),ze(pr,Wr)&&ct(3553)}t.unbindTexture()}else{let ln=3553;(Fe.isWebGL3DRenderTarget||Fe.isWebGLArrayRenderTarget)&&(l?ln=Fe.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ln,kn.__webglTexture),wn(ln,Le,Wr),rr(an.__webglFramebuffer,Fe,Le,36064,ln),ze(Le,Wr)&&ct(ln),t.unbindTexture()}Fe.depthBuffer&&En(Fe)}function ur(Fe){const Le=te(Fe)||l,an=Fe.isWebGLMultipleRenderTargets===!0?Fe.texture:[Fe.texture];for(let kn=0,Xn=an.length;kn<Xn;kn++){const fr=an[kn];if(ze(fr,Le)){const Wr=Fe.isWebGLCubeRenderTarget?34067:3553,ln=n.get(fr).__webglTexture;t.bindTexture(Wr,ln),ct(Wr),t.unbindTexture()}}}function ri(Fe){if(l&&Fe.samples>0&&Pr(Fe)===!1){const Le=Fe.isWebGLMultipleRenderTargets?Fe.texture:[Fe.texture],an=Fe.width,kn=Fe.height;let Xn=16384;const fr=[],Wr=Fe.stencilBuffer?33306:36096,ln=n.get(Fe),Rr=Fe.isWebGLMultipleRenderTargets===!0;if(Rr)for(let gr=0;gr<Le.length;gr++)t.bindFramebuffer(36160,ln.__webglMultisampledFramebuffer),c.framebufferRenderbuffer(36160,36064+gr,36161,null),t.bindFramebuffer(36160,ln.__webglFramebuffer),c.framebufferTexture2D(36009,36064+gr,3553,null,0);t.bindFramebuffer(36008,ln.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ln.__webglFramebuffer);for(let gr=0;gr<Le.length;gr++){fr.push(36064+gr),Fe.depthBuffer&&fr.push(Wr);const pr=ln.__ignoreDepthValues!==void 0?ln.__ignoreDepthValues:!1;if(pr===!1&&(Fe.depthBuffer&&(Xn|=256),Fe.stencilBuffer&&(Xn|=1024)),Rr&&c.framebufferRenderbuffer(36008,36064,36161,ln.__webglColorRenderbuffer[gr]),pr===!0&&(c.invalidateFramebuffer(36008,[Wr]),c.invalidateFramebuffer(36009,[Wr])),Rr){const dt=n.get(Le[gr]).__webglTexture;c.framebufferTexture2D(36009,36064,3553,dt,0)}c.blitFramebuffer(0,0,an,kn,0,0,an,kn,Xn,9728),w&&c.invalidateFramebuffer(36008,fr)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),Rr)for(let gr=0;gr<Le.length;gr++){t.bindFramebuffer(36160,ln.__webglMultisampledFramebuffer),c.framebufferRenderbuffer(36160,36064+gr,36161,ln.__webglColorRenderbuffer[gr]);const pr=n.get(Le[gr]).__webglTexture;t.bindFramebuffer(36160,ln.__webglFramebuffer),c.framebufferTexture2D(36009,36064+gr,3553,pr,0)}t.bindFramebuffer(36009,ln.__webglMultisampledFramebuffer)}}function Br(Fe){return Math.min(C,Fe.samples)}function Pr(Fe){const Le=n.get(Fe);return l&&Fe.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Le.__useRenderToTexture!==!1}function Yi(Fe){const Le=a.render.frame;R.get(Fe)!==Le&&(R.set(Fe,Le),Fe.update())}function Fi(Fe,Le){const an=Fe.encoding,kn=Fe.format,Xn=Fe.type;return Fe.isCompressedTexture===!0||Fe.isVideoTexture===!0||Fe.format===Tr||an!==No&&(an===xi?l===!1?e.has("EXT_sRGB")===!0&&kn===Wt?(Fe.format=Tr,Fe.minFilter=ue,Fe.generateMipmaps=!1):Le=Us.sRGBToLinear(Le):(kn!==Wt||Xn!==vn)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",an)),Le}this.allocateTextureUnit=Dn,this.resetTextureUnits=Pn,this.setTexture2D=gn,this.setTexture2DArray=Un,this.setTexture3D=zn,this.setTextureCube=nr,this.rebindTextures=qn,this.setupRenderTarget=Sr,this.updateRenderTargetMipmap=ur,this.updateMultisampleRenderTarget=ri,this.setupDepthRenderbuffer=En,this.setupFrameBufferTexture=rr,this.useMultisampledRTT=Pr}function xd(c,e,t){const n=t.isWebGL2;function r(o,a=null){let l;if(o===vn)return 5121;if(o===bn)return 32819;if(o===$n)return 32820;if(o===sn)return 5120;if(o===It)return 5122;if(o===de)return 5123;if(o===Oe)return 5124;if(o===st)return 5125;if(o===_t)return 5126;if(o===Xt)return n?5131:(l=e.get("OES_texture_half_float"),l!==null?l.HALF_FLOAT_OES:null);if(o===Ze)return 6406;if(o===Wt)return 6408;if(o===fn)return 6409;if(o===_n)return 6410;if(o===Bn)return 6402;if(o===ve)return 34041;if(o===we)return 6403;if(o===xt)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(o===Tr)return l=e.get("EXT_sRGB"),l!==null?l.SRGB_ALPHA_EXT:null;if(o===g)return 36244;if(o===p)return 33319;if(o===x)return 33320;if(o===S)return 36249;if(o===O||o===q||o===N||o===V)if(a===xi)if(l=e.get("WEBGL_compressed_texture_s3tc_srgb"),l!==null){if(o===O)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===q)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===N)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===V)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(l=e.get("WEBGL_compressed_texture_s3tc"),l!==null){if(o===O)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===q)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===N)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===V)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===F||o===Y||o===Je||o===pt)if(l=e.get("WEBGL_compressed_texture_pvrtc"),l!==null){if(o===F)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===Y)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===Je)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===pt)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===Pt)return l=e.get("WEBGL_compressed_texture_etc1"),l!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===en||o===dn)if(l=e.get("WEBGL_compressed_texture_etc"),l!==null){if(o===en)return a===xi?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(o===dn)return a===xi?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===Mn||o===Cn||o===Ut||o===Rn||o===lr||o===Hn||o===Jn||o===Nn||o===Yn||o===br||o===Qn||o===cr||o===vr||o===mr)if(l=e.get("WEBGL_compressed_texture_astc"),l!==null){if(o===Mn)return a===xi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===Cn)return a===xi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===Ut)return a===xi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===Rn)return a===xi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===lr)return a===xi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===Hn)return a===xi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===Jn)return a===xi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===Nn)return a===xi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===Yn)return a===xi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===br)return a===xi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===Qn)return a===xi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===cr)return a===xi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===vr)return a===xi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===mr)return a===xi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===Er)if(l=e.get("EXT_texture_compression_bptc"),l!==null){if(o===Er)return a===xi?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return o===Ce?n?34042:(l=e.get("WEBGL_depth_texture"),l!==null?l.UNSIGNED_INT_24_8_WEBGL:null):c[o]!==void 0?c[o]:null}return{convert:r}}class yd extends vo{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class lc extends bi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const B5={type:"move"};class ff{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new lc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new lc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ee),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new lc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ee),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,o=null,a=null;const l=this._targetRay,f=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(d&&e.hand){a=!0;for(const E of e.hand.values()){const L=t.getJointPose(E,n);if(d.joints[E.jointName]===void 0){const Z=new lc;Z.matrixAutoUpdate=!1,Z.visible=!1,d.joints[E.jointName]=Z,d.add(Z)}const U=d.joints[E.jointName];L!==null&&(U.matrix.fromArray(L.transform.matrix),U.matrix.decompose(U.position,U.rotation,U.scale),U.jointRadius=L.radius),U.visible=L!==null}const m=d.joints["index-finger-tip"],C=d.joints["thumb-tip"],_=m.position.distanceTo(C.position),w=.02,R=.005;d.inputState.pinching&&_>w+R?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&_<=w-R&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else f!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,n),o!==null&&(f.matrix.fromArray(o.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),o.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(o.linearVelocity)):f.hasLinearVelocity=!1,o.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(o.angularVelocity)):f.hasAngularVelocity=!1));l!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&o!==null&&(r=o),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(B5)))}return l!==null&&(l.visible=r!==null),f!==null&&(f.visible=o!==null),d!==null&&(d.visible=a!==null),this}}class wd extends Zi{constructor(e,t,n,r,o,a,l,f,d,m){if(m=m!==void 0?m:Bn,m!==Bn&&m!==ve)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&m===Bn&&(n=st),n===void 0&&m===ve&&(n=Ce),super(null,r,o,a,l,f,m,n,d),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=l!==void 0?l:Ie,this.minFilter=f!==void 0?f:Ie,this.flipY=!1,this.generateMipmaps=!1}}class N5 extends Nr{constructor(e,t){super();const n=this;let r=null,o=1,a=null,l="local-floor",f=null,d=null,m=null,C=null,_=null,w=null;const R=t.getContextAttributes();let E=null,L=null;const U=[],Z=[],pe=new vo;pe.layers.enable(1),pe.viewport=new mi;const te=new vo;te.layers.enable(2),te.viewport=new mi;const Ae=[pe,te],ze=new yd;ze.layers.enable(1),ze.layers.enable(2);let ct=null,oe=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(on){let gn=U[on];return gn===void 0&&(gn=new ff,U[on]=gn),gn.getTargetRaySpace()},this.getControllerGrip=function(on){let gn=U[on];return gn===void 0&&(gn=new ff,U[on]=gn),gn.getGripSpace()},this.getHand=function(on){let gn=U[on];return gn===void 0&&(gn=new ff,U[on]=gn),gn.getHandSpace()};function Ne(on){const gn=Z.indexOf(on.inputSource);if(gn===-1)return;const Un=U[gn];Un!==void 0&&Un.dispatchEvent({type:on.type,data:on.inputSource})}function Ct(){r.removeEventListener("select",Ne),r.removeEventListener("selectstart",Ne),r.removeEventListener("selectend",Ne),r.removeEventListener("squeeze",Ne),r.removeEventListener("squeezestart",Ne),r.removeEventListener("squeezeend",Ne),r.removeEventListener("end",Ct),r.removeEventListener("inputsourceschange",Lt);for(let on=0;on<U.length;on++){const gn=Z[on];gn!==null&&(Z[on]=null,U[on].disconnect(gn))}ct=null,oe=null,e.setRenderTarget(E),_=null,C=null,m=null,r=null,L=null,Dn.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(on){o=on,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(on){l=on,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||a},this.setReferenceSpace=function(on){f=on},this.getBaseLayer=function(){return C!==null?C:_},this.getBinding=function(){return m},this.getFrame=function(){return w},this.getSession=function(){return r},this.setSession=function(on){return Pl(this,null,function*(){if(r=on,r!==null){if(E=e.getRenderTarget(),r.addEventListener("select",Ne),r.addEventListener("selectstart",Ne),r.addEventListener("selectend",Ne),r.addEventListener("squeeze",Ne),r.addEventListener("squeezestart",Ne),r.addEventListener("squeezeend",Ne),r.addEventListener("end",Ct),r.addEventListener("inputsourceschange",Lt),R.xrCompatible!==!0&&(yield t.makeXRCompatible()),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const gn={antialias:r.renderState.layers===void 0?R.antialias:!0,alpha:R.alpha,depth:R.depth,stencil:R.stencil,framebufferScaleFactor:o};_=new XRWebGLLayer(r,t,gn),r.updateRenderState({baseLayer:_}),L=new ho(_.framebufferWidth,_.framebufferHeight,{format:Wt,type:vn,encoding:e.outputEncoding})}else{let gn=null,Un=null,zn=null;R.depth&&(zn=R.stencil?35056:33190,gn=R.stencil?ve:Bn,Un=R.stencil?Ce:st);const nr={colorFormat:32856,depthFormat:zn,scaleFactor:o};m=new XRWebGLBinding(r,t),C=m.createProjectionLayer(nr),r.updateRenderState({layers:[C]}),L=new ho(C.textureWidth,C.textureHeight,{format:Wt,type:vn,depthTexture:new wd(C.textureWidth,C.textureHeight,Un,void 0,void 0,void 0,void 0,void 0,void 0,gn),stencilBuffer:R.stencil,encoding:e.outputEncoding,samples:R.antialias?4:0});const wr=e.properties.get(L);wr.__ignoreDepthValues=C.ignoreDepthValues}L.isXRRenderTarget=!0,this.setFoveation(1),f=null,a=yield r.requestReferenceSpace(l),Dn.setContext(r),Dn.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}})};function Lt(on){for(let gn=0;gn<on.removed.length;gn++){const Un=on.removed[gn],zn=Z.indexOf(Un);zn>=0&&(Z[zn]=null,U[zn].dispatchEvent({type:"disconnected",data:Un}))}for(let gn=0;gn<on.added.length;gn++){const Un=on.added[gn];let zn=Z.indexOf(Un);if(zn===-1){for(let wr=0;wr<U.length;wr++)if(wr>=Z.length){Z.push(Un),zn=wr;break}else if(Z[wr]===null){Z[wr]=Un,zn=wr;break}if(zn===-1)break}const nr=U[zn];nr&&nr.dispatchEvent({type:"connected",data:Un})}}const Tn=new Ee,Wn=new Ee;function Ot(on,gn,Un){Tn.setFromMatrixPosition(gn.matrixWorld),Wn.setFromMatrixPosition(Un.matrixWorld);const zn=Tn.distanceTo(Wn),nr=gn.projectionMatrix.elements,wr=Un.projectionMatrix.elements,Ar=nr[14]/(nr[10]-1),wn=nr[14]/(nr[10]+1),Ni=(nr[9]+1)/nr[5],ni=(nr[9]-1)/nr[5],ei=(nr[8]-1)/nr[0],rr=(wr[8]+1)/wr[0],di=Ar*ei,On=Ar*rr,En=zn/(-ei+rr),qn=En*-ei;gn.matrixWorld.decompose(on.position,on.quaternion,on.scale),on.translateX(qn),on.translateZ(En),on.matrixWorld.compose(on.position,on.quaternion,on.scale),on.matrixWorldInverse.copy(on.matrixWorld).invert();const Sr=Ar+En,ur=wn+En,ri=di-qn,Br=On+(zn-qn),Pr=Ni*wn/ur*Sr,Yi=ni*wn/ur*Sr;on.projectionMatrix.makePerspective(ri,Br,Pr,Yi,Sr,ur)}function yn(on,gn){gn===null?on.matrixWorld.copy(on.matrix):on.matrixWorld.multiplyMatrices(gn.matrixWorld,on.matrix),on.matrixWorldInverse.copy(on.matrixWorld).invert()}this.updateCamera=function(on){if(r===null)return;ze.near=te.near=pe.near=on.near,ze.far=te.far=pe.far=on.far,(ct!==ze.near||oe!==ze.far)&&(r.updateRenderState({depthNear:ze.near,depthFar:ze.far}),ct=ze.near,oe=ze.far);const gn=on.parent,Un=ze.cameras;yn(ze,gn);for(let nr=0;nr<Un.length;nr++)yn(Un[nr],gn);ze.matrixWorld.decompose(ze.position,ze.quaternion,ze.scale),on.position.copy(ze.position),on.quaternion.copy(ze.quaternion),on.scale.copy(ze.scale),on.matrix.copy(ze.matrix),on.matrixWorld.copy(ze.matrixWorld);const zn=on.children;for(let nr=0,wr=zn.length;nr<wr;nr++)zn[nr].updateMatrixWorld(!0);Un.length===2?Ot(ze,pe,te):ze.projectionMatrix.copy(pe.projectionMatrix)},this.getCamera=function(){return ze},this.getFoveation=function(){if(C!==null)return C.fixedFoveation;if(_!==null)return _.fixedFoveation},this.setFoveation=function(on){C!==null&&(C.fixedFoveation=on),_!==null&&_.fixedFoveation!==void 0&&(_.fixedFoveation=on)};let Yt=null;function Pn(on,gn){if(d=gn.getViewerPose(f||a),w=gn,d!==null){const Un=d.views;_!==null&&(e.setRenderTargetFramebuffer(L,_.framebuffer),e.setRenderTarget(L));let zn=!1;Un.length!==ze.cameras.length&&(ze.cameras.length=0,zn=!0);for(let nr=0;nr<Un.length;nr++){const wr=Un[nr];let Ar=null;if(_!==null)Ar=_.getViewport(wr);else{const Ni=m.getViewSubImage(C,wr);Ar=Ni.viewport,nr===0&&(e.setRenderTargetTextures(L,Ni.colorTexture,C.ignoreDepthValues?void 0:Ni.depthStencilTexture),e.setRenderTarget(L))}let wn=Ae[nr];wn===void 0&&(wn=new vo,wn.layers.enable(nr),wn.viewport=new mi,Ae[nr]=wn),wn.matrix.fromArray(wr.transform.matrix),wn.projectionMatrix.fromArray(wr.projectionMatrix),wn.viewport.set(Ar.x,Ar.y,Ar.width,Ar.height),nr===0&&ze.matrix.copy(wn.matrix),zn===!0&&ze.cameras.push(wn)}}for(let Un=0;Un<U.length;Un++){const zn=Z[Un],nr=U[Un];zn!==null&&nr!==void 0&&nr.update(zn,gn,f||a)}Yt&&Yt(on,gn),w=null}const Dn=new E1;Dn.setAnimationLoop(Pn),this.setAnimationLoop=function(on){Yt=on},this.dispose=function(){}}}function F5(c,e){function t(E,L){E.fogColor.value.copy(L.color),L.isFog?(E.fogNear.value=L.near,E.fogFar.value=L.far):L.isFogExp2&&(E.fogDensity.value=L.density)}function n(E,L,U,Z,pe){L.isMeshBasicMaterial||L.isMeshLambertMaterial?r(E,L):L.isMeshToonMaterial?(r(E,L),m(E,L)):L.isMeshPhongMaterial?(r(E,L),d(E,L)):L.isMeshStandardMaterial?(r(E,L),C(E,L),L.isMeshPhysicalMaterial&&_(E,L,pe)):L.isMeshMatcapMaterial?(r(E,L),w(E,L)):L.isMeshDepthMaterial?r(E,L):L.isMeshDistanceMaterial?(r(E,L),R(E,L)):L.isMeshNormalMaterial?r(E,L):L.isLineBasicMaterial?(o(E,L),L.isLineDashedMaterial&&a(E,L)):L.isPointsMaterial?l(E,L,U,Z):L.isSpriteMaterial?f(E,L):L.isShadowMaterial?(E.color.value.copy(L.color),E.opacity.value=L.opacity):L.isShaderMaterial&&(L.uniformsNeedUpdate=!1)}function r(E,L){E.opacity.value=L.opacity,L.color&&E.diffuse.value.copy(L.color),L.emissive&&E.emissive.value.copy(L.emissive).multiplyScalar(L.emissiveIntensity),L.map&&(E.map.value=L.map),L.alphaMap&&(E.alphaMap.value=L.alphaMap),L.bumpMap&&(E.bumpMap.value=L.bumpMap,E.bumpScale.value=L.bumpScale,L.side===B&&(E.bumpScale.value*=-1)),L.displacementMap&&(E.displacementMap.value=L.displacementMap,E.displacementScale.value=L.displacementScale,E.displacementBias.value=L.displacementBias),L.emissiveMap&&(E.emissiveMap.value=L.emissiveMap),L.normalMap&&(E.normalMap.value=L.normalMap,E.normalScale.value.copy(L.normalScale),L.side===B&&E.normalScale.value.negate()),L.specularMap&&(E.specularMap.value=L.specularMap),L.alphaTest>0&&(E.alphaTest.value=L.alphaTest);const U=e.get(L).envMap;if(U&&(E.envMap.value=U,E.flipEnvMap.value=U.isCubeTexture&&U.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=L.reflectivity,E.ior.value=L.ior,E.refractionRatio.value=L.refractionRatio),L.lightMap){E.lightMap.value=L.lightMap;const te=c.physicallyCorrectLights!==!0?Math.PI:1;E.lightMapIntensity.value=L.lightMapIntensity*te}L.aoMap&&(E.aoMap.value=L.aoMap,E.aoMapIntensity.value=L.aoMapIntensity);let Z;L.map?Z=L.map:L.specularMap?Z=L.specularMap:L.displacementMap?Z=L.displacementMap:L.normalMap?Z=L.normalMap:L.bumpMap?Z=L.bumpMap:L.roughnessMap?Z=L.roughnessMap:L.metalnessMap?Z=L.metalnessMap:L.alphaMap?Z=L.alphaMap:L.emissiveMap?Z=L.emissiveMap:L.clearcoatMap?Z=L.clearcoatMap:L.clearcoatNormalMap?Z=L.clearcoatNormalMap:L.clearcoatRoughnessMap?Z=L.clearcoatRoughnessMap:L.iridescenceMap?Z=L.iridescenceMap:L.iridescenceThicknessMap?Z=L.iridescenceThicknessMap:L.specularIntensityMap?Z=L.specularIntensityMap:L.specularColorMap?Z=L.specularColorMap:L.transmissionMap?Z=L.transmissionMap:L.thicknessMap?Z=L.thicknessMap:L.sheenColorMap?Z=L.sheenColorMap:L.sheenRoughnessMap&&(Z=L.sheenRoughnessMap),Z!==void 0&&(Z.isWebGLRenderTarget&&(Z=Z.texture),Z.matrixAutoUpdate===!0&&Z.updateMatrix(),E.uvTransform.value.copy(Z.matrix));let pe;L.aoMap?pe=L.aoMap:L.lightMap&&(pe=L.lightMap),pe!==void 0&&(pe.isWebGLRenderTarget&&(pe=pe.texture),pe.matrixAutoUpdate===!0&&pe.updateMatrix(),E.uv2Transform.value.copy(pe.matrix))}function o(E,L){E.diffuse.value.copy(L.color),E.opacity.value=L.opacity}function a(E,L){E.dashSize.value=L.dashSize,E.totalSize.value=L.dashSize+L.gapSize,E.scale.value=L.scale}function l(E,L,U,Z){E.diffuse.value.copy(L.color),E.opacity.value=L.opacity,E.size.value=L.size*U,E.scale.value=Z*.5,L.map&&(E.map.value=L.map),L.alphaMap&&(E.alphaMap.value=L.alphaMap),L.alphaTest>0&&(E.alphaTest.value=L.alphaTest);let pe;L.map?pe=L.map:L.alphaMap&&(pe=L.alphaMap),pe!==void 0&&(pe.matrixAutoUpdate===!0&&pe.updateMatrix(),E.uvTransform.value.copy(pe.matrix))}function f(E,L){E.diffuse.value.copy(L.color),E.opacity.value=L.opacity,E.rotation.value=L.rotation,L.map&&(E.map.value=L.map),L.alphaMap&&(E.alphaMap.value=L.alphaMap),L.alphaTest>0&&(E.alphaTest.value=L.alphaTest);let U;L.map?U=L.map:L.alphaMap&&(U=L.alphaMap),U!==void 0&&(U.matrixAutoUpdate===!0&&U.updateMatrix(),E.uvTransform.value.copy(U.matrix))}function d(E,L){E.specular.value.copy(L.specular),E.shininess.value=Math.max(L.shininess,1e-4)}function m(E,L){L.gradientMap&&(E.gradientMap.value=L.gradientMap)}function C(E,L){E.roughness.value=L.roughness,E.metalness.value=L.metalness,L.roughnessMap&&(E.roughnessMap.value=L.roughnessMap),L.metalnessMap&&(E.metalnessMap.value=L.metalnessMap),e.get(L).envMap&&(E.envMapIntensity.value=L.envMapIntensity)}function _(E,L,U){E.ior.value=L.ior,L.sheen>0&&(E.sheenColor.value.copy(L.sheenColor).multiplyScalar(L.sheen),E.sheenRoughness.value=L.sheenRoughness,L.sheenColorMap&&(E.sheenColorMap.value=L.sheenColorMap),L.sheenRoughnessMap&&(E.sheenRoughnessMap.value=L.sheenRoughnessMap)),L.clearcoat>0&&(E.clearcoat.value=L.clearcoat,E.clearcoatRoughness.value=L.clearcoatRoughness,L.clearcoatMap&&(E.clearcoatMap.value=L.clearcoatMap),L.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=L.clearcoatRoughnessMap),L.clearcoatNormalMap&&(E.clearcoatNormalScale.value.copy(L.clearcoatNormalScale),E.clearcoatNormalMap.value=L.clearcoatNormalMap,L.side===B&&E.clearcoatNormalScale.value.negate())),L.iridescence>0&&(E.iridescence.value=L.iridescence,E.iridescenceIOR.value=L.iridescenceIOR,E.iridescenceThicknessMinimum.value=L.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=L.iridescenceThicknessRange[1],L.iridescenceMap&&(E.iridescenceMap.value=L.iridescenceMap),L.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=L.iridescenceThicknessMap)),L.transmission>0&&(E.transmission.value=L.transmission,E.transmissionSamplerMap.value=U.texture,E.transmissionSamplerSize.value.set(U.width,U.height),L.transmissionMap&&(E.transmissionMap.value=L.transmissionMap),E.thickness.value=L.thickness,L.thicknessMap&&(E.thicknessMap.value=L.thicknessMap),E.attenuationDistance.value=L.attenuationDistance,E.attenuationColor.value.copy(L.attenuationColor)),E.specularIntensity.value=L.specularIntensity,E.specularColor.value.copy(L.specularColor),L.specularIntensityMap&&(E.specularIntensityMap.value=L.specularIntensityMap),L.specularColorMap&&(E.specularColorMap.value=L.specularColorMap)}function w(E,L){L.matcap&&(E.matcap.value=L.matcap)}function R(E,L){E.referencePosition.value.copy(L.referencePosition),E.nearDistance.value=L.nearDistance,E.farDistance.value=L.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function k5(){const c=gs("canvas");return c.style.display="block",c}function bd(c={}){this.isWebGLRenderer=!0;const e=c.canvas!==void 0?c.canvas:k5(),t=c.context!==void 0?c.context:null,n=c.depth!==void 0?c.depth:!0,r=c.stencil!==void 0?c.stencil:!0,o=c.antialias!==void 0?c.antialias:!1,a=c.premultipliedAlpha!==void 0?c.premultipliedAlpha:!0,l=c.preserveDrawingBuffer!==void 0?c.preserveDrawingBuffer:!1,f=c.powerPreference!==void 0?c.powerPreference:"default",d=c.failIfMajorPerformanceCaveat!==void 0?c.failIfMajorPerformanceCaveat:!1;let m;t!==null?m=t.getContextAttributes().alpha:m=c.alpha!==void 0?c.alpha:!1;let C=null,_=null;const w=[],R=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=No,this.physicallyCorrectLights=!1,this.toneMapping=St,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const E=this;let L=!1,U=0,Z=0,pe=null,te=-1,Ae=null;const ze=new mi,ct=new mi;let oe=null,Ne=e.width,Ct=e.height,Lt=1,Tn=null,Wn=null;const Ot=new mi(0,0,Ne,Ct),yn=new mi(0,0,Ne,Ct);let Yt=!1;const Pn=new Fa;let Dn=!1,on=!1,gn=null;const Un=new Ur,zn=new mn,nr=new Ee,wr={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ar(){return pe===null?Lt:1}let wn=t;function Ni(Pe,$t){for(let cn=0;cn<Pe.length;cn++){const Gt=Pe[cn],An=e.getContext(Gt,$t);if(An!==null)return An}return null}try{const Pe={alpha:!0,depth:n,stencil:r,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:f,failIfMajorPerformanceCaveat:d};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${A}`),e.addEventListener("webglcontextlost",dt,!1),e.addEventListener("webglcontextrestored",ir,!1),e.addEventListener("webglcontextcreationerror",er,!1),wn===null){const $t=["webgl2","webgl","experimental-webgl"];if(E.isWebGL1Renderer===!0&&$t.shift(),wn=Ni($t,Pe),wn===null)throw Ni($t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}wn.getShaderPrecisionFormat===void 0&&(wn.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Pe){throw console.error("THREE.WebGLRenderer: "+Pe.message),Pe}let ni,ei,rr,di,On,En,qn,Sr,ur,ri,Br,Pr,Yi,Fi,Fe,Le,an,kn,Xn,fr,Wr,ln,Rr;function gr(){ni=new i2(wn),ei=new Jf(wn,ni,c),ni.init(ei),ln=new xd(wn,ni,ei),rr=new z5(wn,ni,ei),di=new a2,On=new vd,En=new V5(wn,ni,rr,On,ei,ln,di),qn=new e2(E),Sr=new r2(E),ur=new tl(wn,ei),Rr=new Kf(wn,ni,ur,ei),ri=new o2(wn,ur,di,Rr),Br=new f2(wn,ri,ur,di),Xn=new u2(wn,ei,En),Le=new Qf(On),Pr=new gd(E,qn,Sr,ni,ei,Rr,Le),Yi=new F5(E,On),Fi=new ae,Fe=new O5(ni,ei),kn=new Yf(E,qn,rr,Br,m,a),an=new H5(E,Br,ei),fr=new qf(wn,ni,di,ei),Wr=new s2(wn,ni,di,ei),di.programs=Pr.programs,E.capabilities=ei,E.extensions=ni,E.properties=On,E.renderLists=Fi,E.shadowMap=an,E.state=rr,E.info=di}gr();const pr=new N5(E,wn);this.xr=pr,this.getContext=function(){return wn},this.getContextAttributes=function(){return wn.getContextAttributes()},this.forceContextLoss=function(){const Pe=ni.get("WEBGL_lose_context");Pe&&Pe.loseContext()},this.forceContextRestore=function(){const Pe=ni.get("WEBGL_lose_context");Pe&&Pe.restoreContext()},this.getPixelRatio=function(){return Lt},this.setPixelRatio=function(Pe){Pe!==void 0&&(Lt=Pe,this.setSize(Ne,Ct,!1))},this.getSize=function(Pe){return Pe.set(Ne,Ct)},this.setSize=function(Pe,$t,cn){if(pr.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Ne=Pe,Ct=$t,e.width=Math.floor(Pe*Lt),e.height=Math.floor($t*Lt),cn!==!1&&(e.style.width=Pe+"px",e.style.height=$t+"px"),this.setViewport(0,0,Pe,$t)},this.getDrawingBufferSize=function(Pe){return Pe.set(Ne*Lt,Ct*Lt).floor()},this.setDrawingBufferSize=function(Pe,$t,cn){Ne=Pe,Ct=$t,Lt=cn,e.width=Math.floor(Pe*cn),e.height=Math.floor($t*cn),this.setViewport(0,0,Pe,$t)},this.getCurrentViewport=function(Pe){return Pe.copy(ze)},this.getViewport=function(Pe){return Pe.copy(Ot)},this.setViewport=function(Pe,$t,cn,Gt){Pe.isVector4?Ot.set(Pe.x,Pe.y,Pe.z,Pe.w):Ot.set(Pe,$t,cn,Gt),rr.viewport(ze.copy(Ot).multiplyScalar(Lt).floor())},this.getScissor=function(Pe){return Pe.copy(yn)},this.setScissor=function(Pe,$t,cn,Gt){Pe.isVector4?yn.set(Pe.x,Pe.y,Pe.z,Pe.w):yn.set(Pe,$t,cn,Gt),rr.scissor(ct.copy(yn).multiplyScalar(Lt).floor())},this.getScissorTest=function(){return Yt},this.setScissorTest=function(Pe){rr.setScissorTest(Yt=Pe)},this.setOpaqueSort=function(Pe){Tn=Pe},this.setTransparentSort=function(Pe){Wn=Pe},this.getClearColor=function(Pe){return Pe.copy(kn.getClearColor())},this.setClearColor=function(){kn.setClearColor.apply(kn,arguments)},this.getClearAlpha=function(){return kn.getClearAlpha()},this.setClearAlpha=function(){kn.setClearAlpha.apply(kn,arguments)},this.clear=function(Pe=!0,$t=!0,cn=!0){let Gt=0;Pe&&(Gt|=16384),$t&&(Gt|=256),cn&&(Gt|=1024),wn.clear(Gt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",dt,!1),e.removeEventListener("webglcontextrestored",ir,!1),e.removeEventListener("webglcontextcreationerror",er,!1),Fi.dispose(),Fe.dispose(),On.dispose(),qn.dispose(),Sr.dispose(),Br.dispose(),Rr.dispose(),Pr.dispose(),pr.dispose(),pr.removeEventListener("sessionstart",Ii),pr.removeEventListener("sessionend",Hi),gn&&(gn.dispose(),gn=null),Ls.stop()};function dt(Pe){Pe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),L=!0}function ir(){console.log("THREE.WebGLRenderer: Context Restored."),L=!1;const Pe=di.autoReset,$t=an.enabled,cn=an.autoUpdate,Gt=an.needsUpdate,An=an.type;gr(),di.autoReset=Pe,an.enabled=$t,an.autoUpdate=cn,an.needsUpdate=Gt,an.type=An}function er(Pe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Pe.statusMessage)}function kr(Pe){const $t=Pe.target;$t.removeEventListener("dispose",kr),Cr($t)}function Cr(Pe){Gr(Pe),On.remove(Pe)}function Gr(Pe){const $t=On.get(Pe).programs;$t!==void 0&&($t.forEach(function(cn){Pr.releaseProgram(cn)}),Pe.isShaderMaterial&&Pr.releaseShaderCache(Pe))}this.renderBufferDirect=function(Pe,$t,cn,Gt,An,Zr){$t===null&&($t=wr);const ii=An.isMesh&&An.matrixWorld.determinant()<0,hi=$h(Pe,$t,cn,Gt,An);rr.setMaterial(Gt,ii);let fi=cn.index;const zi=cn.attributes.position;if(fi===null){if(zi===void 0||zi.count===0)return}else if(fi.count===0)return;let Si=1;Gt.wireframe===!0&&(fi=ri.getWireframeAttribute(cn),Si=2),Rr.setup(An,Gt,hi,cn,fi);let Ri,xo=fr;fi!==null&&(Ri=ur.get(fi),xo=Wr,xo.setIndex(Ri));const Tl=fi!==null?fi.count:zi.count,Ac=cn.drawRange.start*Si,Tc=cn.drawRange.count*Si,Ka=Zr!==null?Zr.start*Si:0,Oi=Zr!==null?Zr.count*Si:1/0,Pc=Math.max(Ac,Ka),Po=Math.min(Tl,Ac+Tc,Ka+Oi)-1,qa=Math.max(0,Po-Pc+1);if(qa!==0){if(An.isMesh)Gt.wireframe===!0?(rr.setLineWidth(Gt.wireframeLinewidth*Ar()),xo.setMode(1)):xo.setMode(4);else if(An.isLine){let N1=Gt.linewidth;N1===void 0&&(N1=1),rr.setLineWidth(N1*Ar()),An.isLineSegments?xo.setMode(1):An.isLineLoop?xo.setMode(2):xo.setMode(3)}else An.isPoints?xo.setMode(0):An.isSprite&&xo.setMode(4);if(An.isInstancedMesh)xo.renderInstances(Pc,qa,An.count);else if(cn.isInstancedBufferGeometry){const N1=Math.min(cn.instanceCount,cn._maxInstanceCount);xo.renderInstances(Pc,qa,N1)}else xo.render(Pc,qa)}},this.compile=function(Pe,$t){_=Fe.get(Pe),_.init(),R.push(_),Pe.traverseVisible(function(cn){cn.isLight&&cn.layers.test($t.layers)&&(_.pushLight(cn),cn.castShadow&&_.pushShadow(cn))}),_.setupLights(E.physicallyCorrectLights),Pe.traverse(function(cn){const Gt=cn.material;if(Gt)if(Array.isArray(Gt))for(let An=0;An<Gt.length;An++){const Zr=Gt[An];jf(Zr,Pe,cn)}else jf(Gt,Pe,cn)}),R.pop(),_=null};let Gn=null;function Xr(Pe){Gn&&Gn(Pe)}function Ii(){Ls.stop()}function Hi(){Ls.start()}const Ls=new E1;Ls.setAnimationLoop(Xr),typeof self!="undefined"&&Ls.setContext(self),this.setAnimationLoop=function(Pe){Gn=Pe,pr.setAnimationLoop(Pe),Pe===null?Ls.stop():Ls.start()},pr.addEventListener("sessionstart",Ii),pr.addEventListener("sessionend",Hi),this.render=function(Pe,$t){if($t!==void 0&&$t.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(L===!0)return;Pe.autoUpdate===!0&&Pe.updateMatrixWorld(),$t.parent===null&&$t.updateMatrixWorld(),pr.enabled===!0&&pr.isPresenting===!0&&(pr.cameraAutoUpdate===!0&&pr.updateCamera($t),$t=pr.getCamera()),Pe.isScene===!0&&Pe.onBeforeRender(E,Pe,$t,pe),_=Fe.get(Pe,R.length),_.init(),R.push(_),Un.multiplyMatrices($t.projectionMatrix,$t.matrixWorldInverse),Pn.setFromProjectionMatrix(Un),on=this.localClippingEnabled,Dn=Le.init(this.clippingPlanes,on,$t),C=Fi.get(Pe,w.length),C.init(),w.push(C),Ya(Pe,$t,0,E.sortObjects),C.finish(),E.sortObjects===!0&&C.sort(Tn,Wn),Dn===!0&&Le.beginShadows();const cn=_.state.shadowsArray;if(an.render(cn,Pe,$t),Dn===!0&&Le.endShadows(),this.info.autoReset===!0&&this.info.reset(),kn.render(C,Pe),_.setupLights(E.physicallyCorrectLights),$t.isArrayCamera){const Gt=$t.cameras;for(let An=0,Zr=Gt.length;An<Zr;An++){const ii=Gt[An];a5(C,Pe,ii,ii.viewport)}}else a5(C,Pe,$t);pe!==null&&(En.updateMultisampleRenderTarget(pe),En.updateRenderTargetMipmap(pe)),Pe.isScene===!0&&Pe.onAfterRender(E,Pe,$t),Rr.resetDefaultState(),te=-1,Ae=null,R.pop(),R.length>0?_=R[R.length-1]:_=null,w.pop(),w.length>0?C=w[w.length-1]:C=null};function Ya(Pe,$t,cn,Gt){if(Pe.visible===!1)return;if(Pe.layers.test($t.layers)){if(Pe.isGroup)cn=Pe.renderOrder;else if(Pe.isLOD)Pe.autoUpdate===!0&&Pe.update($t);else if(Pe.isLight)_.pushLight(Pe),Pe.castShadow&&_.pushShadow(Pe);else if(Pe.isSprite){if(!Pe.frustumCulled||Pn.intersectsSprite(Pe)){Gt&&nr.setFromMatrixPosition(Pe.matrixWorld).applyMatrix4(Un);const ii=Br.update(Pe),hi=Pe.material;hi.visible&&C.push(Pe,ii,hi,cn,nr.z,null)}}else if((Pe.isMesh||Pe.isLine||Pe.isPoints)&&(Pe.isSkinnedMesh&&Pe.skeleton.frame!==di.render.frame&&(Pe.skeleton.update(),Pe.skeleton.frame=di.render.frame),!Pe.frustumCulled||Pn.intersectsObject(Pe))){Gt&&nr.setFromMatrixPosition(Pe.matrixWorld).applyMatrix4(Un);const ii=Br.update(Pe),hi=Pe.material;if(Array.isArray(hi)){const fi=ii.groups;for(let zi=0,Si=fi.length;zi<Si;zi++){const Ri=fi[zi],xo=hi[Ri.materialIndex];xo&&xo.visible&&C.push(Pe,ii,xo,cn,nr.z,Ri)}}else hi.visible&&C.push(Pe,ii,hi,cn,nr.z,null)}}const Zr=Pe.children;for(let ii=0,hi=Zr.length;ii<hi;ii++)Ya(Zr[ii],$t,cn,Gt)}function a5(Pe,$t,cn,Gt){const An=Pe.opaque,Zr=Pe.transmissive,ii=Pe.transparent;_.setupLightsView(cn),Zr.length>0&&Fh(An,$t,cn),Gt&&rr.viewport(ze.copy(Gt)),An.length>0&&Lu(An,$t,cn),Zr.length>0&&Lu(Zr,$t,cn),ii.length>0&&Lu(ii,$t,cn),rr.buffers.depth.setTest(!0),rr.buffers.depth.setMask(!0),rr.buffers.color.setMask(!0),rr.setPolygonOffset(!1)}function Fh(Pe,$t,cn){const Gt=ei.isWebGL2;gn===null&&(gn=new ho(1,1,{generateMipmaps:!0,type:ni.has("EXT_color_buffer_half_float")?Xt:vn,minFilter:qe,samples:Gt&&o===!0?4:0})),E.getDrawingBufferSize(zn),Gt?gn.setSize(zn.x,zn.y):gn.setSize(is(zn.x),is(zn.y));const An=E.getRenderTarget();E.setRenderTarget(gn),E.clear();const Zr=E.toneMapping;E.toneMapping=St,Lu(Pe,$t,cn),E.toneMapping=Zr,En.updateMultisampleRenderTarget(gn),En.updateRenderTargetMipmap(gn),E.setRenderTarget(An)}function Lu(Pe,$t,cn){const Gt=$t.isScene===!0?$t.overrideMaterial:null;for(let An=0,Zr=Pe.length;An<Zr;An++){const ii=Pe[An],hi=ii.object,fi=ii.geometry,zi=Gt===null?ii.material:Gt,Si=ii.group;hi.layers.test(cn.layers)&&kh(hi,$t,cn,fi,zi,Si)}}function kh(Pe,$t,cn,Gt,An,Zr){Pe.onBeforeRender(E,$t,cn,Gt,An,Zr),Pe.modelViewMatrix.multiplyMatrices(cn.matrixWorldInverse,Pe.matrixWorld),Pe.normalMatrix.getNormalMatrix(Pe.modelViewMatrix),An.onBeforeRender(E,$t,cn,Gt,Pe,Zr),An.transparent===!0&&An.side===Ke?(An.side=B,An.needsUpdate=!0,E.renderBufferDirect(cn,$t,Gt,An,Pe,Zr),An.side=xe,An.needsUpdate=!0,E.renderBufferDirect(cn,$t,Gt,An,Pe,Zr),An.side=Ke):E.renderBufferDirect(cn,$t,Gt,An,Pe,Zr),Pe.onAfterRender(E,$t,cn,Gt,An,Zr)}function jf(Pe,$t,cn){$t.isScene!==!0&&($t=wr);const Gt=On.get(Pe),An=_.state.lights,Zr=_.state.shadowsArray,ii=An.state.version,hi=Pr.getParameters(Pe,An.state,Zr,$t,cn),fi=Pr.getProgramCacheKey(hi);let zi=Gt.programs;Gt.environment=Pe.isMeshStandardMaterial?$t.environment:null,Gt.fog=$t.fog,Gt.envMap=(Pe.isMeshStandardMaterial?Sr:qn).get(Pe.envMap||Gt.environment),zi===void 0&&(Pe.addEventListener("dispose",kr),zi=new Map,Gt.programs=zi);let Si=zi.get(fi);if(Si!==void 0){if(Gt.currentProgram===Si&&Gt.lightsStateVersion===ii)return l5(Pe,hi),Si}else hi.uniforms=Pr.getUniforms(Pe),Pe.onBuild(cn,hi,E),Pe.onBeforeCompile(hi,E),Si=Pr.acquireProgram(hi,fi),zi.set(fi,Si),Gt.uniforms=hi.uniforms;const Ri=Gt.uniforms;(!Pe.isShaderMaterial&&!Pe.isRawShaderMaterial||Pe.clipping===!0)&&(Ri.clippingPlanes=Le.uniform),l5(Pe,hi),Gt.needsLights=jh(Pe),Gt.lightsStateVersion=ii,Gt.needsLights&&(Ri.ambientLightColor.value=An.state.ambient,Ri.lightProbe.value=An.state.probe,Ri.directionalLights.value=An.state.directional,Ri.directionalLightShadows.value=An.state.directionalShadow,Ri.spotLights.value=An.state.spot,Ri.spotLightShadows.value=An.state.spotShadow,Ri.rectAreaLights.value=An.state.rectArea,Ri.ltc_1.value=An.state.rectAreaLTC1,Ri.ltc_2.value=An.state.rectAreaLTC2,Ri.pointLights.value=An.state.point,Ri.pointLightShadows.value=An.state.pointShadow,Ri.hemisphereLights.value=An.state.hemi,Ri.directionalShadowMap.value=An.state.directionalShadowMap,Ri.directionalShadowMatrix.value=An.state.directionalShadowMatrix,Ri.spotShadowMap.value=An.state.spotShadowMap,Ri.spotShadowMatrix.value=An.state.spotShadowMatrix,Ri.pointShadowMap.value=An.state.pointShadowMap,Ri.pointShadowMatrix.value=An.state.pointShadowMatrix);const xo=Si.getUniforms(),Tl=a0.seqWithValue(xo.seq,Ri);return Gt.currentProgram=Si,Gt.uniformsList=Tl,Si}function l5(Pe,$t){const cn=On.get(Pe);cn.outputEncoding=$t.outputEncoding,cn.instancing=$t.instancing,cn.skinning=$t.skinning,cn.morphTargets=$t.morphTargets,cn.morphNormals=$t.morphNormals,cn.morphColors=$t.morphColors,cn.morphTargetsCount=$t.morphTargetsCount,cn.numClippingPlanes=$t.numClippingPlanes,cn.numIntersection=$t.numClipIntersection,cn.vertexAlphas=$t.vertexAlphas,cn.vertexTangents=$t.vertexTangents,cn.toneMapping=$t.toneMapping}function $h(Pe,$t,cn,Gt,An){$t.isScene!==!0&&($t=wr),En.resetTextureUnits();const Zr=$t.fog,ii=Gt.isMeshStandardMaterial?$t.environment:null,hi=pe===null?E.outputEncoding:pe.isXRRenderTarget===!0?pe.texture.encoding:No,fi=(Gt.isMeshStandardMaterial?Sr:qn).get(Gt.envMap||ii),zi=Gt.vertexColors===!0&&!!cn.attributes.color&&cn.attributes.color.itemSize===4,Si=!!Gt.normalMap&&!!cn.attributes.tangent,Ri=!!cn.morphAttributes.position,xo=!!cn.morphAttributes.normal,Tl=!!cn.morphAttributes.color,Ac=Gt.toneMapped?E.toneMapping:St,Tc=cn.morphAttributes.position||cn.morphAttributes.normal||cn.morphAttributes.color,Ka=Tc!==void 0?Tc.length:0,Oi=On.get(Gt),Pc=_.state.lights;if(Dn===!0&&(on===!0||Pe!==Ae)){const Ja=Pe===Ae&&Gt.id===te;Le.setState(Gt,Pe,Ja)}let Po=!1;Gt.version===Oi.__version?(Oi.needsLights&&Oi.lightsStateVersion!==Pc.state.version||Oi.outputEncoding!==hi||An.isInstancedMesh&&Oi.instancing===!1||!An.isInstancedMesh&&Oi.instancing===!0||An.isSkinnedMesh&&Oi.skinning===!1||!An.isSkinnedMesh&&Oi.skinning===!0||Oi.envMap!==fi||Gt.fog===!0&&Oi.fog!==Zr||Oi.numClippingPlanes!==void 0&&(Oi.numClippingPlanes!==Le.numPlanes||Oi.numIntersection!==Le.numIntersection)||Oi.vertexAlphas!==zi||Oi.vertexTangents!==Si||Oi.morphTargets!==Ri||Oi.morphNormals!==xo||Oi.morphColors!==Tl||Oi.toneMapping!==Ac||ei.isWebGL2===!0&&Oi.morphTargetsCount!==Ka)&&(Po=!0):(Po=!0,Oi.__version=Gt.version);let qa=Oi.currentProgram;Po===!0&&(qa=jf(Gt,$t,An));let N1=!1,M0=!1,Zf=!1;const Rs=qa.getUniforms(),S0=Oi.uniforms;if(rr.useProgram(qa.program)&&(N1=!0,M0=!0,Zf=!0),Gt.id!==te&&(te=Gt.id,M0=!0),N1||Ae!==Pe){if(Rs.setValue(wn,"projectionMatrix",Pe.projectionMatrix),ei.logarithmicDepthBuffer&&Rs.setValue(wn,"logDepthBufFC",2/(Math.log(Pe.far+1)/Math.LN2)),Ae!==Pe&&(Ae=Pe,M0=!0,Zf=!0),Gt.isShaderMaterial||Gt.isMeshPhongMaterial||Gt.isMeshToonMaterial||Gt.isMeshStandardMaterial||Gt.envMap){const Ja=Rs.map.cameraPosition;Ja!==void 0&&Ja.setValue(wn,nr.setFromMatrixPosition(Pe.matrixWorld))}(Gt.isMeshPhongMaterial||Gt.isMeshToonMaterial||Gt.isMeshLambertMaterial||Gt.isMeshBasicMaterial||Gt.isMeshStandardMaterial||Gt.isShaderMaterial)&&Rs.setValue(wn,"isOrthographic",Pe.isOrthographicCamera===!0),(Gt.isMeshPhongMaterial||Gt.isMeshToonMaterial||Gt.isMeshLambertMaterial||Gt.isMeshBasicMaterial||Gt.isMeshStandardMaterial||Gt.isShaderMaterial||Gt.isShadowMaterial||An.isSkinnedMesh)&&Rs.setValue(wn,"viewMatrix",Pe.matrixWorldInverse)}if(An.isSkinnedMesh){Rs.setOptional(wn,An,"bindMatrix"),Rs.setOptional(wn,An,"bindMatrixInverse");const Ja=An.skeleton;Ja&&(ei.floatVertexTextures?(Ja.boneTexture===null&&Ja.computeBoneTexture(),Rs.setValue(wn,"boneTexture",Ja.boneTexture,En),Rs.setValue(wn,"boneTextureSize",Ja.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Wf=cn.morphAttributes;return(Wf.position!==void 0||Wf.normal!==void 0||Wf.color!==void 0&&ei.isWebGL2===!0)&&Xn.update(An,cn,Gt,qa),(M0||Oi.receiveShadow!==An.receiveShadow)&&(Oi.receiveShadow=An.receiveShadow,Rs.setValue(wn,"receiveShadow",An.receiveShadow)),M0&&(Rs.setValue(wn,"toneMappingExposure",E.toneMappingExposure),Oi.needsLights&&Uh(S0,Zf),Zr&&Gt.fog===!0&&Yi.refreshFogUniforms(S0,Zr),Yi.refreshMaterialUniforms(S0,Gt,Lt,Ct,gn),a0.upload(wn,Oi.uniformsList,S0,En)),Gt.isShaderMaterial&&Gt.uniformsNeedUpdate===!0&&(a0.upload(wn,Oi.uniformsList,S0,En),Gt.uniformsNeedUpdate=!1),Gt.isSpriteMaterial&&Rs.setValue(wn,"center",An.center),Rs.setValue(wn,"modelViewMatrix",An.modelViewMatrix),Rs.setValue(wn,"normalMatrix",An.normalMatrix),Rs.setValue(wn,"modelMatrix",An.matrixWorld),qa}function Uh(Pe,$t){Pe.ambientLightColor.needsUpdate=$t,Pe.lightProbe.needsUpdate=$t,Pe.directionalLights.needsUpdate=$t,Pe.directionalLightShadows.needsUpdate=$t,Pe.pointLights.needsUpdate=$t,Pe.pointLightShadows.needsUpdate=$t,Pe.spotLights.needsUpdate=$t,Pe.spotLightShadows.needsUpdate=$t,Pe.rectAreaLights.needsUpdate=$t,Pe.hemisphereLights.needsUpdate=$t}function jh(Pe){return Pe.isMeshLambertMaterial||Pe.isMeshToonMaterial||Pe.isMeshPhongMaterial||Pe.isMeshStandardMaterial||Pe.isShadowMaterial||Pe.isShaderMaterial&&Pe.lights===!0}this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return Z},this.getRenderTarget=function(){return pe},this.setRenderTargetTextures=function(Pe,$t,cn){On.get(Pe.texture).__webglTexture=$t,On.get(Pe.depthTexture).__webglTexture=cn;const Gt=On.get(Pe);Gt.__hasExternalTextures=!0,Gt.__hasExternalTextures&&(Gt.__autoAllocateDepthBuffer=cn===void 0,Gt.__autoAllocateDepthBuffer||ni.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Gt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Pe,$t){const cn=On.get(Pe);cn.__webglFramebuffer=$t,cn.__useDefaultFramebuffer=$t===void 0},this.setRenderTarget=function(Pe,$t=0,cn=0){pe=Pe,U=$t,Z=cn;let Gt=!0;if(Pe){const fi=On.get(Pe);fi.__useDefaultFramebuffer!==void 0?(rr.bindFramebuffer(36160,null),Gt=!1):fi.__webglFramebuffer===void 0?En.setupRenderTarget(Pe):fi.__hasExternalTextures&&En.rebindTextures(Pe,On.get(Pe.texture).__webglTexture,On.get(Pe.depthTexture).__webglTexture)}let An=null,Zr=!1,ii=!1;if(Pe){const fi=Pe.texture;(fi.isData3DTexture||fi.isDataArrayTexture)&&(ii=!0);const zi=On.get(Pe).__webglFramebuffer;Pe.isWebGLCubeRenderTarget?(An=zi[$t],Zr=!0):ei.isWebGL2&&Pe.samples>0&&En.useMultisampledRTT(Pe)===!1?An=On.get(Pe).__webglMultisampledFramebuffer:An=zi,ze.copy(Pe.viewport),ct.copy(Pe.scissor),oe=Pe.scissorTest}else ze.copy(Ot).multiplyScalar(Lt).floor(),ct.copy(yn).multiplyScalar(Lt).floor(),oe=Yt;if(rr.bindFramebuffer(36160,An)&&ei.drawBuffers&&Gt&&rr.drawBuffers(Pe,An),rr.viewport(ze),rr.scissor(ct),rr.setScissorTest(oe),Zr){const fi=On.get(Pe.texture);wn.framebufferTexture2D(36160,36064,34069+$t,fi.__webglTexture,cn)}else if(ii){const fi=On.get(Pe.texture),zi=$t||0;wn.framebufferTextureLayer(36160,36064,fi.__webglTexture,cn||0,zi)}te=-1},this.readRenderTargetPixels=function(Pe,$t,cn,Gt,An,Zr,ii){if(!(Pe&&Pe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let hi=On.get(Pe).__webglFramebuffer;if(Pe.isWebGLCubeRenderTarget&&ii!==void 0&&(hi=hi[ii]),hi){rr.bindFramebuffer(36160,hi);try{const fi=Pe.texture,zi=fi.format,Si=fi.type;if(zi!==Wt&&ln.convert(zi)!==wn.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ri=Si===Xt&&(ni.has("EXT_color_buffer_half_float")||ei.isWebGL2&&ni.has("EXT_color_buffer_float"));if(Si!==vn&&ln.convert(Si)!==wn.getParameter(35738)&&!(Si===_t&&(ei.isWebGL2||ni.has("OES_texture_float")||ni.has("WEBGL_color_buffer_float")))&&!Ri){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}$t>=0&&$t<=Pe.width-Gt&&cn>=0&&cn<=Pe.height-An&&wn.readPixels($t,cn,Gt,An,ln.convert(zi),ln.convert(Si),Zr)}finally{const fi=pe!==null?On.get(pe).__webglFramebuffer:null;rr.bindFramebuffer(36160,fi)}}},this.copyFramebufferToTexture=function(Pe,$t,cn=0){const Gt=Math.pow(2,-cn),An=Math.floor($t.image.width*Gt),Zr=Math.floor($t.image.height*Gt);En.setTexture2D($t,0),wn.copyTexSubImage2D(3553,cn,0,0,Pe.x,Pe.y,An,Zr),rr.unbindTexture()},this.copyTextureToTexture=function(Pe,$t,cn,Gt=0){const An=$t.image.width,Zr=$t.image.height,ii=ln.convert(cn.format),hi=ln.convert(cn.type);En.setTexture2D(cn,0),wn.pixelStorei(37440,cn.flipY),wn.pixelStorei(37441,cn.premultiplyAlpha),wn.pixelStorei(3317,cn.unpackAlignment),$t.isDataTexture?wn.texSubImage2D(3553,Gt,Pe.x,Pe.y,An,Zr,ii,hi,$t.image.data):$t.isCompressedTexture?wn.compressedTexSubImage2D(3553,Gt,Pe.x,Pe.y,$t.mipmaps[0].width,$t.mipmaps[0].height,ii,$t.mipmaps[0].data):wn.texSubImage2D(3553,Gt,Pe.x,Pe.y,ii,hi,$t.image),Gt===0&&cn.generateMipmaps&&wn.generateMipmap(3553),rr.unbindTexture()},this.copyTextureToTexture3D=function(Pe,$t,cn,Gt,An=0){if(E.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Zr=Pe.max.x-Pe.min.x+1,ii=Pe.max.y-Pe.min.y+1,hi=Pe.max.z-Pe.min.z+1,fi=ln.convert(Gt.format),zi=ln.convert(Gt.type);let Si;if(Gt.isData3DTexture)En.setTexture3D(Gt,0),Si=32879;else if(Gt.isDataArrayTexture)En.setTexture2DArray(Gt,0),Si=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}wn.pixelStorei(37440,Gt.flipY),wn.pixelStorei(37441,Gt.premultiplyAlpha),wn.pixelStorei(3317,Gt.unpackAlignment);const Ri=wn.getParameter(3314),xo=wn.getParameter(32878),Tl=wn.getParameter(3316),Ac=wn.getParameter(3315),Tc=wn.getParameter(32877),Ka=cn.isCompressedTexture?cn.mipmaps[0]:cn.image;wn.pixelStorei(3314,Ka.width),wn.pixelStorei(32878,Ka.height),wn.pixelStorei(3316,Pe.min.x),wn.pixelStorei(3315,Pe.min.y),wn.pixelStorei(32877,Pe.min.z),cn.isDataTexture||cn.isData3DTexture?wn.texSubImage3D(Si,An,$t.x,$t.y,$t.z,Zr,ii,hi,fi,zi,Ka.data):cn.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),wn.compressedTexSubImage3D(Si,An,$t.x,$t.y,$t.z,Zr,ii,hi,fi,Ka.data)):wn.texSubImage3D(Si,An,$t.x,$t.y,$t.z,Zr,ii,hi,fi,zi,Ka),wn.pixelStorei(3314,Ri),wn.pixelStorei(32878,xo),wn.pixelStorei(3316,Tl),wn.pixelStorei(3315,Ac),wn.pixelStorei(32877,Tc),An===0&&Gt.generateMipmaps&&wn.generateMipmap(Si),rr.unbindTexture()},this.initTexture=function(Pe){Pe.isCubeTexture?En.setTextureCube(Pe,0):Pe.isData3DTexture?En.setTexture3D(Pe,0):Pe.isDataArrayTexture?En.setTexture2DArray(Pe,0):En.setTexture2D(Pe,0),rr.unbindTexture()},this.resetState=function(){U=0,Z=0,pe=null,rr.reset(),Rr.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class Md extends bd{}Md.prototype.isWebGL1Renderer=!0;class q0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new sr(e),this.density=t}clone(){return new q0(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class J0{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new sr(e),this.near=t,this.far=n}clone(){return new J0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Sd extends bi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}class Q0{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=xn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ci()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,o=this.stride;r<o;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ci()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ci()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ss=new Ee;class vl{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Ss.fromBufferAttribute(this,t),Ss.applyMatrix4(e),this.setXYZ(t,Ss.x,Ss.y,Ss.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ss.fromBufferAttribute(this,t),Ss.applyNormalMatrix(e),this.setXYZ(t,Ss.x,Ss.y,Ss.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ss.fromBufferAttribute(this,t),Ss.transformDirection(e),this.setXYZ(t,Ss.x,Ss.y,Ss.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return new Ai(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new vl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class df extends io{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new sr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let cc;const l0=new Ee,uc=new Ee,fc=new Ee,dc=new mn,c0=new mn,Ed=new Ur,eu=new Ee,u0=new Ee,tu=new Ee,Ld=new mn,hf=new mn,Rd=new mn;class Ad extends bi{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",cc===void 0){cc=new Vr;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Q0(t,5);cc.setIndex([0,1,2,0,2,3]),cc.setAttribute("position",new vl(n,3,0,!1)),cc.setAttribute("uv",new vl(n,2,3,!1))}this.geometry=cc,this.material=e!==void 0?e:new df,this.center=new mn(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),uc.setFromMatrixScale(this.matrixWorld),Ed.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),fc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&uc.multiplyScalar(-fc.z);const n=this.material.rotation;let r,o;n!==0&&(o=Math.cos(n),r=Math.sin(n));const a=this.center;nu(eu.set(-.5,-.5,0),fc,a,uc,r,o),nu(u0.set(.5,-.5,0),fc,a,uc,r,o),nu(tu.set(.5,.5,0),fc,a,uc,r,o),Ld.set(0,0),hf.set(1,0),Rd.set(1,1);let l=e.ray.intersectTriangle(eu,u0,tu,!1,l0);if(l===null&&(nu(u0.set(-.5,.5,0),fc,a,uc,r,o),hf.set(0,1),l=e.ray.intersectTriangle(eu,tu,u0,!1,l0),l===null))return;const f=e.ray.origin.distanceTo(l0);f<e.near||f>e.far||t.push({distance:f,point:l0.clone(),uv:Ji.getUV(l0,eu,u0,tu,Ld,hf,Rd,new mn),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function nu(c,e,t,n,r,o){dc.subVectors(c,t).addScalar(.5).multiply(n),r!==void 0?(c0.x=o*dc.x-r*dc.y,c0.y=r*dc.x+o*dc.y):c0.copy(dc),c.copy(e),c.x+=c0.x,c.y+=c0.y,c.applyMatrix4(Ed)}const ru=new Ee,Td=new Ee;class Pd extends bi{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const o=t[n];this.addLevel(o.object.clone(),o.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const n=this.levels;let r;for(r=0;r<n.length&&!(t<n[r].distance);r++);return n.splice(r,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){ru.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(ru);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){ru.setFromMatrixPosition(e.matrixWorld),Td.setFromMatrixPosition(this.matrixWorld);const n=ru.distanceTo(Td)/e.zoom;t[0].object.visible=!0;let r,o;for(r=1,o=t.length;r<o&&n>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(this._currentLevel=r-1;r<o;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,o=n.length;r<o;r++){const a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}const Od=new Ee,Dd=new mi,Id=new mi,$5=new Ee,Hd=new Ur;class zd extends bo{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ur,this.bindMatrixInverse=new Ur}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new mi,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,r=this.geometry;Dd.fromBufferAttribute(r.attributes.skinIndex,e),Id.fromBufferAttribute(r.attributes.skinWeight,e),Od.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const a=Id.getComponent(o);if(a!==0){const l=Dd.getComponent(o);Hd.multiplyMatrices(n.bones[l].matrixWorld,n.boneInverses[l]),t.addScaledVector($5.copy(Od).applyMatrix4(Hd),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class pf extends bi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class hc extends Zi{constructor(e=null,t=1,n=1,r,o,a,l,f,d=Ie,m=Ie,C,_){super(null,a,l,f,d,m,r,o,C,_),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Vd=new Ur,U5=new Ur;class iu{constructor(e=[],t=[]){this.uuid=Ci(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Ur)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Ur;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const l=e[o]?e[o].matrixWorld:U5;Vd.multiplyMatrices(l,t[o]),Vd.toArray(n,o*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new iu(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=co(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new hc(t,e,e,Wt,_t);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const o=e.bones[n];let a=t[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new pf),this.bones.push(a),this.boneInverses.push(new Ur().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,o=t.length;r<o;r++){const a=t[r];e.bones.push(a.uuid);const l=n[r];e.boneInverses.push(l.toArray())}return e}}class pc extends Ai{constructor(e,t,n,r=1){typeof n=="number"&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Bd=new Ur,Nd=new Ur,ou=[],f0=new bo;class Fd extends bo{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new pc(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(f0.geometry=this.geometry,f0.material=this.material,f0.material!==void 0)for(let o=0;o<r;o++){this.getMatrixAt(o,Bd),Nd.multiplyMatrices(n,Bd),f0.matrixWorld=Nd,f0.raycast(e,ou);for(let a=0,l=ou.length;a<l;a++){const f=ou[a];f.instanceId=o,f.object=this,t.push(f)}ou.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new pc(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Es extends io{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new sr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const kd=new Ee,$d=new Ee,Ud=new Ur,mf=new t1,su=new Uo;class I1 extends bi{constructor(e=new Vr,t=new Es){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,o=t.count;r<o;r++)kd.fromBufferAttribute(t,r-1),$d.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=kd.distanceTo($d);e.setAttribute("lineDistance",new hr(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),su.copy(n.boundingSphere),su.applyMatrix4(r),su.radius+=o,e.ray.intersectsSphere(su)===!1)return;Ud.copy(r).invert(),mf.copy(e.ray).applyMatrix4(Ud);const l=o/((this.scale.x+this.scale.y+this.scale.z)/3),f=l*l,d=new Ee,m=new Ee,C=new Ee,_=new Ee,w=this.isLineSegments?2:1,R=n.index,L=n.attributes.position;if(R!==null){const U=Math.max(0,a.start),Z=Math.min(R.count,a.start+a.count);for(let pe=U,te=Z-1;pe<te;pe+=w){const Ae=R.getX(pe),ze=R.getX(pe+1);if(d.fromBufferAttribute(L,Ae),m.fromBufferAttribute(L,ze),mf.distanceSqToSegment(d,m,_,C)>f)continue;_.applyMatrix4(this.matrixWorld);const oe=e.ray.origin.distanceTo(_);oe<e.near||oe>e.far||t.push({distance:oe,point:C.clone().applyMatrix4(this.matrixWorld),index:pe,face:null,faceIndex:null,object:this})}}else{const U=Math.max(0,a.start),Z=Math.min(L.count,a.start+a.count);for(let pe=U,te=Z-1;pe<te;pe+=w){if(d.fromBufferAttribute(L,pe),m.fromBufferAttribute(L,pe+1),mf.distanceSqToSegment(d,m,_,C)>f)continue;_.applyMatrix4(this.matrixWorld);const ze=e.ray.origin.distanceTo(_);ze<e.near||ze>e.far||t.push({distance:ze,point:C.clone().applyMatrix4(this.matrixWorld),index:pe,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const l=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}}const jd=new Ee,Zd=new Ee;class Wa extends I1{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,o=t.count;r<o;r+=2)jd.fromBufferAttribute(t,r),Zd.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+jd.distanceTo(Zd);e.setAttribute("lineDistance",new hr(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Wd extends I1{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class gf extends io{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new sr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Gd=new Ur,vf=new t1,au=new Uo,lu=new Ee;class Xd extends bi{constructor(e=new Vr,t=new gf){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Points.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),au.copy(n.boundingSphere),au.applyMatrix4(r),au.radius+=o,e.ray.intersectsSphere(au)===!1)return;Gd.copy(r).invert(),vf.copy(e.ray).applyMatrix4(Gd);const l=o/((this.scale.x+this.scale.y+this.scale.z)/3),f=l*l,d=n.index,C=n.attributes.position;if(d!==null){const _=Math.max(0,a.start),w=Math.min(d.count,a.start+a.count);for(let R=_,E=w;R<E;R++){const L=d.getX(R);lu.fromBufferAttribute(C,L),Yd(lu,L,f,r,e,t,this)}}else{const _=Math.max(0,a.start),w=Math.min(C.count,a.start+a.count);for(let R=_,E=w;R<E;R++)lu.fromBufferAttribute(C,R),Yd(lu,R,f,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const l=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}}function Yd(c,e,t,n,r,o,a){const l=vf.distanceSqToPoint(c);if(l<t){const f=new Ee;vf.closestPointToPoint(c,f),f.applyMatrix4(n);const d=r.ray.origin.distanceTo(f);if(d<r.near||d>r.far)return;o.push({distance:d,distanceToRay:Math.sqrt(l),point:f,index:e,face:null,object:a})}}class j5 extends Zi{constructor(e,t,n,r,o,a,l,f,d){super(e,t,n,r,o,a,l,f,d),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:ue,this.magFilter=o!==void 0?o:ue,this.generateMipmaps=!1;const m=this;function C(){m.needsUpdate=!0,e.requestVideoFrameCallback(C)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(C)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Z5 extends Zi{constructor(e,t,n){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=n,this.magFilter=Ie,this.minFilter=Ie,this.generateMipmaps=!1,this.needsUpdate=!0}}class Kd extends Zi{constructor(e,t,n,r,o,a,l,f,d,m,C,_){super(null,a,l,f,d,m,r,o,C,_),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class W5 extends Zi{constructor(e,t,n,r,o,a,l,f,d){super(e,t,n,r,o,a,l,f,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class wa{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),o=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),o+=n.distanceTo(r),t.push(o),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const o=n.length;let a;t?a=t:a=e*n[o-1];let l=0,f=o-1,d;for(;l<=f;)if(r=Math.floor(l+(f-l)/2),d=n[r]-a,d<0)l=r+1;else if(d>0)f=r-1;else{f=r;break}if(r=f,n[r]===a)return r/(o-1);const m=n[r],_=n[r+1]-m,w=(a-m)/_;return(r+w)/(o-1)}getTangent(e,t){let r=e-1e-4,o=e+1e-4;r<0&&(r=0),o>1&&(o=1);const a=this.getPoint(r),l=this.getPoint(o),f=t||(a.isVector2?new mn:new Ee);return f.copy(l).sub(a).normalize(),f}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new Ee,r=[],o=[],a=[],l=new Ee,f=new Ur;for(let w=0;w<=e;w++){const R=w/e;r[w]=this.getTangentAt(R,new Ee)}o[0]=new Ee,a[0]=new Ee;let d=Number.MAX_VALUE;const m=Math.abs(r[0].x),C=Math.abs(r[0].y),_=Math.abs(r[0].z);m<=d&&(d=m,n.set(1,0,0)),C<=d&&(d=C,n.set(0,1,0)),_<=d&&n.set(0,0,1),l.crossVectors(r[0],n).normalize(),o[0].crossVectors(r[0],l),a[0].crossVectors(r[0],o[0]);for(let w=1;w<=e;w++){if(o[w]=o[w-1].clone(),a[w]=a[w-1].clone(),l.crossVectors(r[w-1],r[w]),l.length()>Number.EPSILON){l.normalize();const R=Math.acos(oi(r[w-1].dot(r[w]),-1,1));o[w].applyMatrix4(f.makeRotationAxis(l,R))}a[w].crossVectors(r[w],o[w])}if(t===!0){let w=Math.acos(oi(o[0].dot(o[e]),-1,1));w/=e,r[0].dot(l.crossVectors(o[0],o[e]))>0&&(w=-w);for(let R=1;R<=e;R++)o[R].applyMatrix4(f.makeRotationAxis(r[R],w*R)),a[R].crossVectors(r[R],o[R])}return{tangents:r,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class cu extends wa{constructor(e=0,t=0,n=1,r=1,o=0,a=Math.PI*2,l=!1,f=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=l,this.aRotation=f}getPoint(e,t){const n=t||new mn,r=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(a?o=0:o=r),this.aClockwise===!0&&!a&&(o===r?o=-r:o=o-r);const l=this.aStartAngle+e*o;let f=this.aX+this.xRadius*Math.cos(l),d=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const m=Math.cos(this.aRotation),C=Math.sin(this.aRotation),_=f-this.aX,w=d-this.aY;f=_*m-w*C+this.aX,d=_*C+w*m+this.aY}return n.set(f,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class qd extends cu{constructor(e,t,n,r,o,a){super(e,t,n,n,r,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function Cf(){let c=0,e=0,t=0,n=0;function r(o,a,l,f){c=o,e=l,t=-3*o+3*a-2*l-f,n=2*o-2*a+l+f}return{initCatmullRom:function(o,a,l,f,d){r(a,l,d*(l-o),d*(f-a))},initNonuniformCatmullRom:function(o,a,l,f,d,m,C){let _=(a-o)/d-(l-o)/(d+m)+(l-a)/m,w=(l-a)/m-(f-a)/(m+C)+(f-l)/C;_*=m,w*=m,r(a,l,_,w)},calc:function(o){const a=o*o,l=a*o;return c+e*o+t*a+n*l}}}const uu=new Ee,_f=new Cf,xf=new Cf,yf=new Cf;class Jd extends wa{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new Ee){const n=t,r=this.points,o=r.length,a=(o-(this.closed?0:1))*e;let l=Math.floor(a),f=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/o)+1)*o:f===0&&l===o-1&&(l=o-2,f=1);let d,m;this.closed||l>0?d=r[(l-1)%o]:(uu.subVectors(r[0],r[1]).add(r[0]),d=uu);const C=r[l%o],_=r[(l+1)%o];if(this.closed||l+2<o?m=r[(l+2)%o]:(uu.subVectors(r[o-1],r[o-2]).add(r[o-1]),m=uu),this.curveType==="centripetal"||this.curveType==="chordal"){const w=this.curveType==="chordal"?.5:.25;let R=Math.pow(d.distanceToSquared(C),w),E=Math.pow(C.distanceToSquared(_),w),L=Math.pow(_.distanceToSquared(m),w);E<1e-4&&(E=1),R<1e-4&&(R=E),L<1e-4&&(L=E),_f.initNonuniformCatmullRom(d.x,C.x,_.x,m.x,R,E,L),xf.initNonuniformCatmullRom(d.y,C.y,_.y,m.y,R,E,L),yf.initNonuniformCatmullRom(d.z,C.z,_.z,m.z,R,E,L)}else this.curveType==="catmullrom"&&(_f.initCatmullRom(d.x,C.x,_.x,m.x,this.tension),xf.initCatmullRom(d.y,C.y,_.y,m.y,this.tension),yf.initCatmullRom(d.z,C.z,_.z,m.z,this.tension));return n.set(_f.calc(f),xf.calc(f),yf.calc(f)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new Ee().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Qd(c,e,t,n,r){const o=(n-e)*.5,a=(r-t)*.5,l=c*c,f=c*l;return(2*t-2*n+o+a)*f+(-3*t+3*n-2*o-a)*l+o*c+t}function G5(c,e){const t=1-c;return t*t*e}function X5(c,e){return 2*(1-c)*c*e}function Y5(c,e){return c*c*e}function d0(c,e,t,n){return G5(c,e)+X5(c,t)+Y5(c,n)}function K5(c,e){const t=1-c;return t*t*t*e}function q5(c,e){const t=1-c;return 3*t*t*c*e}function J5(c,e){return 3*(1-c)*c*c*e}function Q5(c,e){return c*c*c*e}function h0(c,e,t,n,r){return K5(c,e)+q5(c,t)+J5(c,n)+Q5(c,r)}class wf extends wa{constructor(e=new mn,t=new mn,n=new mn,r=new mn){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new mn){const n=t,r=this.v0,o=this.v1,a=this.v2,l=this.v3;return n.set(h0(e,r.x,o.x,a.x,l.x),h0(e,r.y,o.y,a.y,l.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class e9 extends wa{constructor(e=new Ee,t=new Ee,n=new Ee,r=new Ee){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Ee){const n=t,r=this.v0,o=this.v1,a=this.v2,l=this.v3;return n.set(h0(e,r.x,o.x,a.x,l.x),h0(e,r.y,o.y,a.y,l.y),h0(e,r.z,o.z,a.z,l.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class fu extends wa{constructor(e=new mn,t=new mn){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new mn){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const n=t||new mn;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class t9 extends wa{constructor(e=new Ee,t=new Ee){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Ee){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bf extends wa{constructor(e=new mn,t=new mn,n=new mn){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new mn){const n=t,r=this.v0,o=this.v1,a=this.v2;return n.set(d0(e,r.x,o.x,a.x),d0(e,r.y,o.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Mf extends wa{constructor(e=new Ee,t=new Ee,n=new Ee){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ee){const n=t,r=this.v0,o=this.v1,a=this.v2;return n.set(d0(e,r.x,o.x,a.x),d0(e,r.y,o.y,a.y),d0(e,r.z,o.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Sf extends wa{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new mn){const n=t,r=this.points,o=(r.length-1)*e,a=Math.floor(o),l=o-a,f=r[a===0?a:a-1],d=r[a],m=r[a>r.length-2?r.length-1:a+1],C=r[a>r.length-3?r.length-1:a+2];return n.set(Qd(l,f.x,d.x,m.x,C.x),Qd(l,f.y,d.y,m.y,C.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new mn().fromArray(r))}return this}}var Ef=Object.freeze({__proto__:null,ArcCurve:qd,CatmullRomCurve3:Jd,CubicBezierCurve:wf,CubicBezierCurve3:e9,EllipseCurve:cu,LineCurve:fu,LineCurve3:t9,QuadraticBezierCurve:bf,QuadraticBezierCurve3:Mf,SplineCurve:Sf});class n9 extends wa{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new fu(t,e))}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let o=0;for(;o<r.length;){if(r[o]>=n){const a=r[o]-n,l=this.curves[o],f=l.getLength(),d=f===0?0:1-a/f;return l.getPointAt(d,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,o=this.curves;r<o.length;r++){const a=o[r],l=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,f=a.getPoints(l);for(let d=0;d<f.length;d++){const m=f[d];n&&n.equals(m)||(t.push(m),n=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new Ef[r.type]().fromJSON(r))}return this}}class p0 extends n9{constructor(e){super(),this.type="Path",this.currentPoint=new mn,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new fu(this.currentPoint.clone(),new mn(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const o=new bf(this.currentPoint.clone(),new mn(e,t),new mn(n,r));return this.curves.push(o),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,o,a){const l=new wf(this.currentPoint.clone(),new mn(e,t),new mn(n,r),new mn(o,a));return this.curves.push(l),this.currentPoint.set(o,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Sf(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,o,a){const l=this.currentPoint.x,f=this.currentPoint.y;return this.absarc(e+l,t+f,n,r,o,a),this}absarc(e,t,n,r,o,a){return this.absellipse(e,t,n,n,r,o,a),this}ellipse(e,t,n,r,o,a,l,f){const d=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+d,t+m,n,r,o,a,l,f),this}absellipse(e,t,n,r,o,a,l,f){const d=new cu(e,t,n,r,o,a,l,f);if(this.curves.length>0){const C=d.getPoint(0);C.equals(this.currentPoint)||this.lineTo(C.x,C.y)}this.curves.push(d);const m=d.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Cl extends Vr{constructor(e=[new mn(0,.5),new mn(.5,0),new mn(0,-.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=oi(r,0,Math.PI*2);const o=[],a=[],l=[],f=[],d=[],m=1/t,C=new Ee,_=new mn,w=new Ee,R=new Ee,E=new Ee;let L=0,U=0;for(let Z=0;Z<=e.length-1;Z++)switch(Z){case 0:L=e[Z+1].x-e[Z].x,U=e[Z+1].y-e[Z].y,w.x=U*1,w.y=-L,w.z=U*0,E.copy(w),w.normalize(),f.push(w.x,w.y,w.z);break;case e.length-1:f.push(E.x,E.y,E.z);break;default:L=e[Z+1].x-e[Z].x,U=e[Z+1].y-e[Z].y,w.x=U*1,w.y=-L,w.z=U*0,R.copy(w),w.x+=E.x,w.y+=E.y,w.z+=E.z,w.normalize(),f.push(w.x,w.y,w.z),E.copy(R)}for(let Z=0;Z<=t;Z++){const pe=n+Z*m*r,te=Math.sin(pe),Ae=Math.cos(pe);for(let ze=0;ze<=e.length-1;ze++){C.x=e[ze].x*te,C.y=e[ze].y,C.z=e[ze].x*Ae,a.push(C.x,C.y,C.z),_.x=Z/t,_.y=ze/(e.length-1),l.push(_.x,_.y);const ct=f[3*ze+0]*te,oe=f[3*ze+1],Ne=f[3*ze+0]*Ae;d.push(ct,oe,Ne)}}for(let Z=0;Z<t;Z++)for(let pe=0;pe<e.length-1;pe++){const te=pe+Z*e.length,Ae=te,ze=te+e.length,ct=te+e.length+1,oe=te+1;o.push(Ae,ze,oe),o.push(ct,oe,ze)}this.setIndex(o),this.setAttribute("position",new hr(a,3)),this.setAttribute("uv",new hr(l,2)),this.setAttribute("normal",new hr(d,3))}static fromJSON(e){return new Cl(e.points,e.segments,e.phiStart,e.phiLength)}}class mc extends Cl{constructor(e=1,t=1,n=4,r=8){const o=new p0;o.absarc(0,-t/2,e,Math.PI*1.5,0),o.absarc(0,t/2,e,0,Math.PI*.5),super(o.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new mc(e.radius,e.length,e.capSegments,e.radialSegments)}}class gc extends Vr{constructor(e=1,t=8,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const o=[],a=[],l=[],f=[],d=new Ee,m=new mn;a.push(0,0,0),l.push(0,0,1),f.push(.5,.5);for(let C=0,_=3;C<=t;C++,_+=3){const w=n+C/t*r;d.x=e*Math.cos(w),d.y=e*Math.sin(w),a.push(d.x,d.y,d.z),l.push(0,0,1),m.x=(a[_]/e+1)/2,m.y=(a[_+1]/e+1)/2,f.push(m.x,m.y)}for(let C=1;C<=t;C++)o.push(C,C+1,0);this.setIndex(o),this.setAttribute("position",new hr(a,3)),this.setAttribute("normal",new hr(l,3)),this.setAttribute("uv",new hr(f,2))}static fromJSON(e){return new gc(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class H1 extends Vr{constructor(e=1,t=1,n=1,r=8,o=1,a=!1,l=0,f=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:l,thetaLength:f};const d=this;r=Math.floor(r),o=Math.floor(o);const m=[],C=[],_=[],w=[];let R=0;const E=[],L=n/2;let U=0;Z(),a===!1&&(e>0&&pe(!0),t>0&&pe(!1)),this.setIndex(m),this.setAttribute("position",new hr(C,3)),this.setAttribute("normal",new hr(_,3)),this.setAttribute("uv",new hr(w,2));function Z(){const te=new Ee,Ae=new Ee;let ze=0;const ct=(t-e)/n;for(let oe=0;oe<=o;oe++){const Ne=[],Ct=oe/o,Lt=Ct*(t-e)+e;for(let Tn=0;Tn<=r;Tn++){const Wn=Tn/r,Ot=Wn*f+l,yn=Math.sin(Ot),Yt=Math.cos(Ot);Ae.x=Lt*yn,Ae.y=-Ct*n+L,Ae.z=Lt*Yt,C.push(Ae.x,Ae.y,Ae.z),te.set(yn,ct,Yt).normalize(),_.push(te.x,te.y,te.z),w.push(Wn,1-Ct),Ne.push(R++)}E.push(Ne)}for(let oe=0;oe<r;oe++)for(let Ne=0;Ne<o;Ne++){const Ct=E[Ne][oe],Lt=E[Ne+1][oe],Tn=E[Ne+1][oe+1],Wn=E[Ne][oe+1];m.push(Ct,Lt,Wn),m.push(Lt,Tn,Wn),ze+=6}d.addGroup(U,ze,0),U+=ze}function pe(te){const Ae=R,ze=new mn,ct=new Ee;let oe=0;const Ne=te===!0?e:t,Ct=te===!0?1:-1;for(let Tn=1;Tn<=r;Tn++)C.push(0,L*Ct,0),_.push(0,Ct,0),w.push(.5,.5),R++;const Lt=R;for(let Tn=0;Tn<=r;Tn++){const Ot=Tn/r*f+l,yn=Math.cos(Ot),Yt=Math.sin(Ot);ct.x=Ne*Yt,ct.y=L*Ct,ct.z=Ne*yn,C.push(ct.x,ct.y,ct.z),_.push(0,Ct,0),ze.x=yn*.5+.5,ze.y=Yt*.5*Ct+.5,w.push(ze.x,ze.y),R++}for(let Tn=0;Tn<r;Tn++){const Wn=Ae+Tn,Ot=Lt+Tn;te===!0?m.push(Ot,Ot+1,Wn):m.push(Ot+1,Ot,Wn),oe+=3}d.addGroup(U,oe,te===!0?1:2),U+=oe}}static fromJSON(e){return new H1(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class vc extends H1{constructor(e=1,t=1,n=8,r=1,o=!1,a=0,l=Math.PI*2){super(0,e,t,n,r,o,a,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:l}}static fromJSON(e){return new vc(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ga extends Vr{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const o=[],a=[];l(r),d(n),m(),this.setAttribute("position",new hr(o,3)),this.setAttribute("normal",new hr(o.slice(),3)),this.setAttribute("uv",new hr(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(Z){const pe=new Ee,te=new Ee,Ae=new Ee;for(let ze=0;ze<t.length;ze+=3)w(t[ze+0],pe),w(t[ze+1],te),w(t[ze+2],Ae),f(pe,te,Ae,Z)}function f(Z,pe,te,Ae){const ze=Ae+1,ct=[];for(let oe=0;oe<=ze;oe++){ct[oe]=[];const Ne=Z.clone().lerp(te,oe/ze),Ct=pe.clone().lerp(te,oe/ze),Lt=ze-oe;for(let Tn=0;Tn<=Lt;Tn++)Tn===0&&oe===ze?ct[oe][Tn]=Ne:ct[oe][Tn]=Ne.clone().lerp(Ct,Tn/Lt)}for(let oe=0;oe<ze;oe++)for(let Ne=0;Ne<2*(ze-oe)-1;Ne++){const Ct=Math.floor(Ne/2);Ne%2===0?(_(ct[oe][Ct+1]),_(ct[oe+1][Ct]),_(ct[oe][Ct])):(_(ct[oe][Ct+1]),_(ct[oe+1][Ct+1]),_(ct[oe+1][Ct]))}}function d(Z){const pe=new Ee;for(let te=0;te<o.length;te+=3)pe.x=o[te+0],pe.y=o[te+1],pe.z=o[te+2],pe.normalize().multiplyScalar(Z),o[te+0]=pe.x,o[te+1]=pe.y,o[te+2]=pe.z}function m(){const Z=new Ee;for(let pe=0;pe<o.length;pe+=3){Z.x=o[pe+0],Z.y=o[pe+1],Z.z=o[pe+2];const te=L(Z)/2/Math.PI+.5,Ae=U(Z)/Math.PI+.5;a.push(te,1-Ae)}R(),C()}function C(){for(let Z=0;Z<a.length;Z+=6){const pe=a[Z+0],te=a[Z+2],Ae=a[Z+4],ze=Math.max(pe,te,Ae),ct=Math.min(pe,te,Ae);ze>.9&&ct<.1&&(pe<.2&&(a[Z+0]+=1),te<.2&&(a[Z+2]+=1),Ae<.2&&(a[Z+4]+=1))}}function _(Z){o.push(Z.x,Z.y,Z.z)}function w(Z,pe){const te=Z*3;pe.x=e[te+0],pe.y=e[te+1],pe.z=e[te+2]}function R(){const Z=new Ee,pe=new Ee,te=new Ee,Ae=new Ee,ze=new mn,ct=new mn,oe=new mn;for(let Ne=0,Ct=0;Ne<o.length;Ne+=9,Ct+=6){Z.set(o[Ne+0],o[Ne+1],o[Ne+2]),pe.set(o[Ne+3],o[Ne+4],o[Ne+5]),te.set(o[Ne+6],o[Ne+7],o[Ne+8]),ze.set(a[Ct+0],a[Ct+1]),ct.set(a[Ct+2],a[Ct+3]),oe.set(a[Ct+4],a[Ct+5]),Ae.copy(Z).add(pe).add(te).divideScalar(3);const Lt=L(Ae);E(ze,Ct+0,Z,Lt),E(ct,Ct+2,pe,Lt),E(oe,Ct+4,te,Lt)}}function E(Z,pe,te,Ae){Ae<0&&Z.x===1&&(a[pe]=Z.x-1),te.x===0&&te.z===0&&(a[pe]=Ae/2/Math.PI+.5)}function L(Z){return Math.atan2(Z.z,-Z.x)}function U(Z){return Math.atan2(-Z.y,Math.sqrt(Z.x*Z.x+Z.z*Z.z))}}static fromJSON(e){return new Ga(e.vertices,e.indices,e.radius,e.details)}}class Cc extends Ga{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Cc(e.radius,e.detail)}}const du=new Ee,hu=new Ee,Lf=new Ee,pu=new Ji;class r9 extends Vr{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),o=Math.cos(pi*t),a=e.getIndex(),l=e.getAttribute("position"),f=a?a.count:l.count,d=[0,0,0],m=["a","b","c"],C=new Array(3),_={},w=[];for(let R=0;R<f;R+=3){a?(d[0]=a.getX(R),d[1]=a.getX(R+1),d[2]=a.getX(R+2)):(d[0]=R,d[1]=R+1,d[2]=R+2);const{a:E,b:L,c:U}=pu;if(E.fromBufferAttribute(l,d[0]),L.fromBufferAttribute(l,d[1]),U.fromBufferAttribute(l,d[2]),pu.getNormal(Lf),C[0]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,C[1]=`${Math.round(L.x*r)},${Math.round(L.y*r)},${Math.round(L.z*r)}`,C[2]=`${Math.round(U.x*r)},${Math.round(U.y*r)},${Math.round(U.z*r)}`,!(C[0]===C[1]||C[1]===C[2]||C[2]===C[0]))for(let Z=0;Z<3;Z++){const pe=(Z+1)%3,te=C[Z],Ae=C[pe],ze=pu[m[Z]],ct=pu[m[pe]],oe=`${te}_${Ae}`,Ne=`${Ae}_${te}`;Ne in _&&_[Ne]?(Lf.dot(_[Ne].normal)<=o&&(w.push(ze.x,ze.y,ze.z),w.push(ct.x,ct.y,ct.z)),_[Ne]=null):oe in _||(_[oe]={index0:d[Z],index1:d[pe],normal:Lf.clone()})}}for(const R in _)if(_[R]){const{index0:E,index1:L}=_[R];du.fromBufferAttribute(l,E),hu.fromBufferAttribute(l,L),w.push(du.x,du.y,du.z),w.push(hu.x,hu.y,hu.z)}this.setAttribute("position",new hr(w,3))}}}class _l extends p0{constructor(e){super(e),this.uuid=Ci(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new p0().fromJSON(r))}return this}}const e3={triangulate:function(c,e,t=2){const n=e&&e.length,r=n?e[0]*t:c.length;let o=i9(c,0,r,t,!0);const a=[];if(!o||o.next===o.prev)return a;let l,f,d,m,C,_,w;if(n&&(o=o3(c,e,o,t)),c.length>80*t){l=d=c[0],f=m=c[1];for(let R=t;R<r;R+=t)C=c[R],_=c[R+1],C<l&&(l=C),_<f&&(f=_),C>d&&(d=C),_>m&&(m=_);w=Math.max(d-l,m-f),w=w!==0?1/w:0}return m0(o,a,t,l,f,w),a}};function i9(c,e,t,n,r){let o,a;if(r===g3(c,e,t,n)>0)for(o=e;o<t;o+=n)a=a9(o,c[o],c[o+1],a);else for(o=t-n;o>=e;o-=n)a=a9(o,c[o],c[o+1],a);return a&&mu(a,a.next)&&(v0(a),a=a.next),a}function z1(c,e){if(!c)return c;e||(e=c);let t=c,n;do if(n=!1,!t.steiner&&(mu(t,t.next)||ao(t.prev,t,t.next)===0)){if(v0(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function m0(c,e,t,n,r,o,a){if(!c)return;!a&&o&&u3(c,n,r,o);let l=c,f,d;for(;c.prev!==c.next;){if(f=c.prev,d=c.next,o?n3(c,n,r,o):t3(c)){e.push(f.i/t),e.push(c.i/t),e.push(d.i/t),v0(c),c=d.next,l=d.next;continue}if(c=d,c===l){a?a===1?(c=r3(z1(c),e,t),m0(c,e,t,n,r,o,2)):a===2&&i3(c,e,t,n,r,o):m0(z1(c),e,t,n,r,o,1);break}}}function t3(c){const e=c.prev,t=c,n=c.next;if(ao(e,t,n)>=0)return!1;let r=c.next.next;for(;r!==c.prev;){if(_c(e.x,e.y,t.x,t.y,n.x,n.y,r.x,r.y)&&ao(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function n3(c,e,t,n){const r=c.prev,o=c,a=c.next;if(ao(r,o,a)>=0)return!1;const l=r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,f=r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,d=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,m=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,C=Rf(l,f,e,t,n),_=Rf(d,m,e,t,n);let w=c.prevZ,R=c.nextZ;for(;w&&w.z>=C&&R&&R.z<=_;){if(w!==c.prev&&w!==c.next&&_c(r.x,r.y,o.x,o.y,a.x,a.y,w.x,w.y)&&ao(w.prev,w,w.next)>=0||(w=w.prevZ,R!==c.prev&&R!==c.next&&_c(r.x,r.y,o.x,o.y,a.x,a.y,R.x,R.y)&&ao(R.prev,R,R.next)>=0))return!1;R=R.nextZ}for(;w&&w.z>=C;){if(w!==c.prev&&w!==c.next&&_c(r.x,r.y,o.x,o.y,a.x,a.y,w.x,w.y)&&ao(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;R&&R.z<=_;){if(R!==c.prev&&R!==c.next&&_c(r.x,r.y,o.x,o.y,a.x,a.y,R.x,R.y)&&ao(R.prev,R,R.next)>=0)return!1;R=R.nextZ}return!0}function r3(c,e,t){let n=c;do{const r=n.prev,o=n.next.next;!mu(r,o)&&o9(r,n,n.next,o)&&g0(r,o)&&g0(o,r)&&(e.push(r.i/t),e.push(n.i/t),e.push(o.i/t),v0(n),v0(n.next),n=c=o),n=n.next}while(n!==c);return z1(n)}function i3(c,e,t,n,r,o){let a=c;do{let l=a.next.next;for(;l!==a.prev;){if(a.i!==l.i&&h3(a,l)){let f=s9(a,l);a=z1(a,a.next),f=z1(f,f.next),m0(a,e,t,n,r,o),m0(f,e,t,n,r,o);return}l=l.next}a=a.next}while(a!==c)}function o3(c,e,t,n){const r=[];let o,a,l,f,d;for(o=0,a=e.length;o<a;o++)l=e[o]*n,f=o<a-1?e[o+1]*n:c.length,d=i9(c,l,f,n,!1),d===d.next&&(d.steiner=!0),r.push(d3(d));for(r.sort(s3),o=0;o<r.length;o++)a3(r[o],t),t=z1(t,t.next);return t}function s3(c,e){return c.x-e.x}function a3(c,e){if(e=l3(c,e),e){const t=s9(e,c);z1(e,e.next),z1(t,t.next)}}function l3(c,e){let t=e;const n=c.x,r=c.y;let o=-1/0,a;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const _=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(_<=n&&_>o){if(o=_,_===n){if(r===t.y)return t;if(r===t.next.y)return t.next}a=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!a)return null;if(n===o)return a;const l=a,f=a.x,d=a.y;let m=1/0,C;t=a;do n>=t.x&&t.x>=f&&n!==t.x&&_c(r<d?n:o,r,f,d,r<d?o:n,r,t.x,t.y)&&(C=Math.abs(r-t.y)/(n-t.x),g0(t,c)&&(C<m||C===m&&(t.x>a.x||t.x===a.x&&c3(a,t)))&&(a=t,m=C)),t=t.next;while(t!==l);return a}function c3(c,e){return ao(c.prev,c,e.prev)<0&&ao(e.next,c,c.next)<0}function u3(c,e,t,n){let r=c;do r.z===null&&(r.z=Rf(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==c);r.prevZ.nextZ=null,r.prevZ=null,f3(r)}function f3(c){let e,t,n,r,o,a,l,f,d=1;do{for(t=c,c=null,o=null,a=0;t;){for(a++,n=t,l=0,e=0;e<d&&(l++,n=n.nextZ,!!n);e++);for(f=d;l>0||f>0&&n;)l!==0&&(f===0||!n||t.z<=n.z)?(r=t,t=t.nextZ,l--):(r=n,n=n.nextZ,f--),o?o.nextZ=r:c=r,r.prevZ=o,o=r;t=n}o.nextZ=null,d*=2}while(a>1);return c}function Rf(c,e,t,n,r){return c=32767*(c-t)*r,e=32767*(e-n)*r,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,c|e<<1}function d3(c){let e=c,t=c;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==c);return t}function _c(c,e,t,n,r,o,a,l){return(r-a)*(e-l)-(c-a)*(o-l)>=0&&(c-a)*(n-l)-(t-a)*(e-l)>=0&&(t-a)*(o-l)-(r-a)*(n-l)>=0}function h3(c,e){return c.next.i!==e.i&&c.prev.i!==e.i&&!p3(c,e)&&(g0(c,e)&&g0(e,c)&&m3(c,e)&&(ao(c.prev,c,e.prev)||ao(c,e.prev,e))||mu(c,e)&&ao(c.prev,c,c.next)>0&&ao(e.prev,e,e.next)>0)}function ao(c,e,t){return(e.y-c.y)*(t.x-e.x)-(e.x-c.x)*(t.y-e.y)}function mu(c,e){return c.x===e.x&&c.y===e.y}function o9(c,e,t,n){const r=vu(ao(c,e,t)),o=vu(ao(c,e,n)),a=vu(ao(t,n,c)),l=vu(ao(t,n,e));return!!(r!==o&&a!==l||r===0&&gu(c,t,e)||o===0&&gu(c,n,e)||a===0&&gu(t,c,n)||l===0&&gu(t,e,n))}function gu(c,e,t){return e.x<=Math.max(c.x,t.x)&&e.x>=Math.min(c.x,t.x)&&e.y<=Math.max(c.y,t.y)&&e.y>=Math.min(c.y,t.y)}function vu(c){return c>0?1:c<0?-1:0}function p3(c,e){let t=c;do{if(t.i!==c.i&&t.next.i!==c.i&&t.i!==e.i&&t.next.i!==e.i&&o9(t,t.next,c,e))return!0;t=t.next}while(t!==c);return!1}function g0(c,e){return ao(c.prev,c,c.next)<0?ao(c,e,c.next)>=0&&ao(c,c.prev,e)>=0:ao(c,e,c.prev)<0||ao(c,c.next,e)<0}function m3(c,e){let t=c,n=!1;const r=(c.x+e.x)/2,o=(c.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&r<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==c);return n}function s9(c,e){const t=new Af(c.i,c.x,c.y),n=new Af(e.i,e.x,e.y),r=c.next,o=e.prev;return c.next=e,e.prev=c,t.next=r,r.prev=t,n.next=t,t.prev=n,o.next=n,n.prev=o,n}function a9(c,e,t,n){const r=new Af(c,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function v0(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function Af(c,e,t){this.i=c,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function g3(c,e,t,n){let r=0;for(let o=e,a=t-n;o<t;o+=n)r+=(c[a]-c[o])*(c[o+1]+c[a+1]),a=o;return r}class Xa{static area(e){const t=e.length;let n=0;for(let r=t-1,o=0;o<t;r=o++)n+=e[r].x*e[o].y-e[o].x*e[r].y;return n*.5}static isClockWise(e){return Xa.area(e)<0}static triangulateShape(e,t){const n=[],r=[],o=[];l9(e),c9(n,e);let a=e.length;t.forEach(l9);for(let f=0;f<t.length;f++)r.push(a),a+=t[f].length,c9(n,t[f]);const l=e3.triangulate(n,r);for(let f=0;f<l.length;f+=3)o.push(l.slice(f,f+3));return o}}function l9(c){const e=c.length;e>2&&c[e-1].equals(c[0])&&c.pop()}function c9(c,e){for(let t=0;t<e.length;t++)c.push(e[t].x),c.push(e[t].y)}class xc extends Vr{constructor(e=new _l([new mn(.5,.5),new mn(-.5,.5),new mn(-.5,-.5),new mn(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],o=[];for(let l=0,f=e.length;l<f;l++){const d=e[l];a(d)}this.setAttribute("position",new hr(r,3)),this.setAttribute("uv",new hr(o,2)),this.computeVertexNormals();function a(l){const f=[],d=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1;let C=t.depth!==void 0?t.depth:1,_=t.bevelEnabled!==void 0?t.bevelEnabled:!0,w=t.bevelThickness!==void 0?t.bevelThickness:.2,R=t.bevelSize!==void 0?t.bevelSize:w-.1,E=t.bevelOffset!==void 0?t.bevelOffset:0,L=t.bevelSegments!==void 0?t.bevelSegments:3;const U=t.extrudePath,Z=t.UVGenerator!==void 0?t.UVGenerator:v3;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),C=t.amount);let pe,te=!1,Ae,ze,ct,oe;U&&(pe=U.getSpacedPoints(m),te=!0,_=!1,Ae=U.computeFrenetFrames(m,!1),ze=new Ee,ct=new Ee,oe=new Ee),_||(L=0,w=0,R=0,E=0);const Ne=l.extractPoints(d);let Ct=Ne.shape;const Lt=Ne.holes;if(!Xa.isClockWise(Ct)){Ct=Ct.reverse();for(let On=0,En=Lt.length;On<En;On++){const qn=Lt[On];Xa.isClockWise(qn)&&(Lt[On]=qn.reverse())}}const Wn=Xa.triangulateShape(Ct,Lt),Ot=Ct;for(let On=0,En=Lt.length;On<En;On++){const qn=Lt[On];Ct=Ct.concat(qn)}function yn(On,En,qn){return En||console.error("THREE.ExtrudeGeometry: vec does not exist"),En.clone().multiplyScalar(qn).add(On)}const Yt=Ct.length,Pn=Wn.length;function Dn(On,En,qn){let Sr,ur,ri;const Br=On.x-En.x,Pr=On.y-En.y,Yi=qn.x-On.x,Fi=qn.y-On.y,Fe=Br*Br+Pr*Pr,Le=Br*Fi-Pr*Yi;if(Math.abs(Le)>Number.EPSILON){const an=Math.sqrt(Fe),kn=Math.sqrt(Yi*Yi+Fi*Fi),Xn=En.x-Pr/an,fr=En.y+Br/an,Wr=qn.x-Fi/kn,ln=qn.y+Yi/kn,Rr=((Wr-Xn)*Fi-(ln-fr)*Yi)/(Br*Fi-Pr*Yi);Sr=Xn+Br*Rr-On.x,ur=fr+Pr*Rr-On.y;const gr=Sr*Sr+ur*ur;if(gr<=2)return new mn(Sr,ur);ri=Math.sqrt(gr/2)}else{let an=!1;Br>Number.EPSILON?Yi>Number.EPSILON&&(an=!0):Br<-Number.EPSILON?Yi<-Number.EPSILON&&(an=!0):Math.sign(Pr)===Math.sign(Fi)&&(an=!0),an?(Sr=-Pr,ur=Br,ri=Math.sqrt(Fe)):(Sr=Br,ur=Pr,ri=Math.sqrt(Fe/2))}return new mn(Sr/ri,ur/ri)}const on=[];for(let On=0,En=Ot.length,qn=En-1,Sr=On+1;On<En;On++,qn++,Sr++)qn===En&&(qn=0),Sr===En&&(Sr=0),on[On]=Dn(Ot[On],Ot[qn],Ot[Sr]);const gn=[];let Un,zn=on.concat();for(let On=0,En=Lt.length;On<En;On++){const qn=Lt[On];Un=[];for(let Sr=0,ur=qn.length,ri=ur-1,Br=Sr+1;Sr<ur;Sr++,ri++,Br++)ri===ur&&(ri=0),Br===ur&&(Br=0),Un[Sr]=Dn(qn[Sr],qn[ri],qn[Br]);gn.push(Un),zn=zn.concat(Un)}for(let On=0;On<L;On++){const En=On/L,qn=w*Math.cos(En*Math.PI/2),Sr=R*Math.sin(En*Math.PI/2)+E;for(let ur=0,ri=Ot.length;ur<ri;ur++){const Br=yn(Ot[ur],on[ur],Sr);Ni(Br.x,Br.y,-qn)}for(let ur=0,ri=Lt.length;ur<ri;ur++){const Br=Lt[ur];Un=gn[ur];for(let Pr=0,Yi=Br.length;Pr<Yi;Pr++){const Fi=yn(Br[Pr],Un[Pr],Sr);Ni(Fi.x,Fi.y,-qn)}}}const nr=R+E;for(let On=0;On<Yt;On++){const En=_?yn(Ct[On],zn[On],nr):Ct[On];te?(ct.copy(Ae.normals[0]).multiplyScalar(En.x),ze.copy(Ae.binormals[0]).multiplyScalar(En.y),oe.copy(pe[0]).add(ct).add(ze),Ni(oe.x,oe.y,oe.z)):Ni(En.x,En.y,0)}for(let On=1;On<=m;On++)for(let En=0;En<Yt;En++){const qn=_?yn(Ct[En],zn[En],nr):Ct[En];te?(ct.copy(Ae.normals[On]).multiplyScalar(qn.x),ze.copy(Ae.binormals[On]).multiplyScalar(qn.y),oe.copy(pe[On]).add(ct).add(ze),Ni(oe.x,oe.y,oe.z)):Ni(qn.x,qn.y,C/m*On)}for(let On=L-1;On>=0;On--){const En=On/L,qn=w*Math.cos(En*Math.PI/2),Sr=R*Math.sin(En*Math.PI/2)+E;for(let ur=0,ri=Ot.length;ur<ri;ur++){const Br=yn(Ot[ur],on[ur],Sr);Ni(Br.x,Br.y,C+qn)}for(let ur=0,ri=Lt.length;ur<ri;ur++){const Br=Lt[ur];Un=gn[ur];for(let Pr=0,Yi=Br.length;Pr<Yi;Pr++){const Fi=yn(Br[Pr],Un[Pr],Sr);te?Ni(Fi.x,Fi.y+pe[m-1].y,pe[m-1].x+qn):Ni(Fi.x,Fi.y,C+qn)}}}wr(),Ar();function wr(){const On=r.length/3;if(_){let En=0,qn=Yt*En;for(let Sr=0;Sr<Pn;Sr++){const ur=Wn[Sr];ni(ur[2]+qn,ur[1]+qn,ur[0]+qn)}En=m+L*2,qn=Yt*En;for(let Sr=0;Sr<Pn;Sr++){const ur=Wn[Sr];ni(ur[0]+qn,ur[1]+qn,ur[2]+qn)}}else{for(let En=0;En<Pn;En++){const qn=Wn[En];ni(qn[2],qn[1],qn[0])}for(let En=0;En<Pn;En++){const qn=Wn[En];ni(qn[0]+Yt*m,qn[1]+Yt*m,qn[2]+Yt*m)}}n.addGroup(On,r.length/3-On,0)}function Ar(){const On=r.length/3;let En=0;wn(Ot,En),En+=Ot.length;for(let qn=0,Sr=Lt.length;qn<Sr;qn++){const ur=Lt[qn];wn(ur,En),En+=ur.length}n.addGroup(On,r.length/3-On,1)}function wn(On,En){let qn=On.length;for(;--qn>=0;){const Sr=qn;let ur=qn-1;ur<0&&(ur=On.length-1);for(let ri=0,Br=m+L*2;ri<Br;ri++){const Pr=Yt*ri,Yi=Yt*(ri+1),Fi=En+Sr+Pr,Fe=En+ur+Pr,Le=En+ur+Yi,an=En+Sr+Yi;ei(Fi,Fe,Le,an)}}}function Ni(On,En,qn){f.push(On),f.push(En),f.push(qn)}function ni(On,En,qn){rr(On),rr(En),rr(qn);const Sr=r.length/3,ur=Z.generateTopUV(n,r,Sr-3,Sr-2,Sr-1);di(ur[0]),di(ur[1]),di(ur[2])}function ei(On,En,qn,Sr){rr(On),rr(En),rr(Sr),rr(En),rr(qn),rr(Sr);const ur=r.length/3,ri=Z.generateSideWallUV(n,r,ur-6,ur-3,ur-2,ur-1);di(ri[0]),di(ri[1]),di(ri[3]),di(ri[1]),di(ri[2]),di(ri[3])}function rr(On){r.push(f[On*3+0]),r.push(f[On*3+1]),r.push(f[On*3+2])}function di(On){o.push(On.x),o.push(On.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return C3(t,n,e)}static fromJSON(e,t){const n=[];for(let o=0,a=e.shapes.length;o<a;o++){const l=t[e.shapes[o]];n.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Ef[r.type]().fromJSON(r)),new xc(n,e.options)}}const v3={generateTopUV:function(c,e,t,n,r){const o=e[t*3],a=e[t*3+1],l=e[n*3],f=e[n*3+1],d=e[r*3],m=e[r*3+1];return[new mn(o,a),new mn(l,f),new mn(d,m)]},generateSideWallUV:function(c,e,t,n,r,o){const a=e[t*3],l=e[t*3+1],f=e[t*3+2],d=e[n*3],m=e[n*3+1],C=e[n*3+2],_=e[r*3],w=e[r*3+1],R=e[r*3+2],E=e[o*3],L=e[o*3+1],U=e[o*3+2];return Math.abs(l-m)<Math.abs(a-d)?[new mn(a,1-f),new mn(d,1-C),new mn(_,1-R),new mn(E,1-U)]:[new mn(l,1-f),new mn(m,1-C),new mn(w,1-R),new mn(L,1-U)]}};function C3(c,e,t){if(t.shapes=[],Array.isArray(c))for(let n=0,r=c.length;n<r;n++){const o=c[n];t.shapes.push(o.uuid)}else t.shapes.push(c.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class yc extends Ga{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new yc(e.radius,e.detail)}}class xl extends Ga{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new xl(e.radius,e.detail)}}class wc extends Vr{constructor(e=.5,t=1,n=8,r=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:a},n=Math.max(3,n),r=Math.max(1,r);const l=[],f=[],d=[],m=[];let C=e;const _=(t-e)/r,w=new Ee,R=new mn;for(let E=0;E<=r;E++){for(let L=0;L<=n;L++){const U=o+L/n*a;w.x=C*Math.cos(U),w.y=C*Math.sin(U),f.push(w.x,w.y,w.z),d.push(0,0,1),R.x=(w.x/t+1)/2,R.y=(w.y/t+1)/2,m.push(R.x,R.y)}C+=_}for(let E=0;E<r;E++){const L=E*(n+1);for(let U=0;U<n;U++){const Z=U+L,pe=Z,te=Z+n+1,Ae=Z+n+2,ze=Z+1;l.push(pe,te,ze),l.push(te,Ae,ze)}}this.setIndex(l),this.setAttribute("position",new hr(f,3)),this.setAttribute("normal",new hr(d,3)),this.setAttribute("uv",new hr(m,2))}static fromJSON(e){return new wc(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class bc extends Vr{constructor(e=new _l([new mn(0,.5),new mn(-.5,-.5),new mn(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],o=[],a=[];let l=0,f=0;if(Array.isArray(e)===!1)d(e);else for(let m=0;m<e.length;m++)d(e[m]),this.addGroup(l,f,m),l+=f,f=0;this.setIndex(n),this.setAttribute("position",new hr(r,3)),this.setAttribute("normal",new hr(o,3)),this.setAttribute("uv",new hr(a,2));function d(m){const C=r.length/3,_=m.extractPoints(t);let w=_.shape;const R=_.holes;Xa.isClockWise(w)===!1&&(w=w.reverse());for(let L=0,U=R.length;L<U;L++){const Z=R[L];Xa.isClockWise(Z)===!0&&(R[L]=Z.reverse())}const E=Xa.triangulateShape(w,R);for(let L=0,U=R.length;L<U;L++){const Z=R[L];w=w.concat(Z)}for(let L=0,U=w.length;L<U;L++){const Z=w[L];r.push(Z.x,Z.y,0),o.push(0,0,1),a.push(Z.x,Z.y)}for(let L=0,U=E.length;L<U;L++){const Z=E[L],pe=Z[0]+C,te=Z[1]+C,Ae=Z[2]+C;n.push(pe,te,Ae),f+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return _3(t,e)}static fromJSON(e,t){const n=[];for(let r=0,o=e.shapes.length;r<o;r++){const a=t[e.shapes[r]];n.push(a)}return new bc(n,e.curveSegments)}}function _3(c,e){if(e.shapes=[],Array.isArray(c))for(let t=0,n=c.length;t<n;t++){const r=c[t];e.shapes.push(r.uuid)}else e.shapes.push(c.uuid);return e}class yl extends Vr{constructor(e=1,t=32,n=16,r=0,o=Math.PI*2,a=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:o,thetaStart:a,thetaLength:l},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const f=Math.min(a+l,Math.PI);let d=0;const m=[],C=new Ee,_=new Ee,w=[],R=[],E=[],L=[];for(let U=0;U<=n;U++){const Z=[],pe=U/n;let te=0;U==0&&a==0?te=.5/t:U==n&&f==Math.PI&&(te=-.5/t);for(let Ae=0;Ae<=t;Ae++){const ze=Ae/t;C.x=-e*Math.cos(r+ze*o)*Math.sin(a+pe*l),C.y=e*Math.cos(a+pe*l),C.z=e*Math.sin(r+ze*o)*Math.sin(a+pe*l),R.push(C.x,C.y,C.z),_.copy(C).normalize(),E.push(_.x,_.y,_.z),L.push(ze+te,1-pe),Z.push(d++)}m.push(Z)}for(let U=0;U<n;U++)for(let Z=0;Z<t;Z++){const pe=m[U][Z+1],te=m[U][Z],Ae=m[U+1][Z],ze=m[U+1][Z+1];(U!==0||a>0)&&w.push(pe,te,ze),(U!==n-1||f<Math.PI)&&w.push(te,Ae,ze)}this.setIndex(w),this.setAttribute("position",new hr(R,3)),this.setAttribute("normal",new hr(E,3)),this.setAttribute("uv",new hr(L,2))}static fromJSON(e){return new yl(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Mc extends Ga{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Mc(e.radius,e.detail)}}class Sc extends Vr{constructor(e=1,t=.4,n=8,r=6,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:o},n=Math.floor(n),r=Math.floor(r);const a=[],l=[],f=[],d=[],m=new Ee,C=new Ee,_=new Ee;for(let w=0;w<=n;w++)for(let R=0;R<=r;R++){const E=R/r*o,L=w/n*Math.PI*2;C.x=(e+t*Math.cos(L))*Math.cos(E),C.y=(e+t*Math.cos(L))*Math.sin(E),C.z=t*Math.sin(L),l.push(C.x,C.y,C.z),m.x=e*Math.cos(E),m.y=e*Math.sin(E),_.subVectors(C,m).normalize(),f.push(_.x,_.y,_.z),d.push(R/r),d.push(w/n)}for(let w=1;w<=n;w++)for(let R=1;R<=r;R++){const E=(r+1)*w+R-1,L=(r+1)*(w-1)+R-1,U=(r+1)*(w-1)+R,Z=(r+1)*w+R;a.push(E,L,Z),a.push(L,U,Z)}this.setIndex(a),this.setAttribute("position",new hr(l,3)),this.setAttribute("normal",new hr(f,3)),this.setAttribute("uv",new hr(d,2))}static fromJSON(e){return new Sc(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Ec extends Vr{constructor(e=1,t=.4,n=64,r=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:o,q:a},n=Math.floor(n),r=Math.floor(r);const l=[],f=[],d=[],m=[],C=new Ee,_=new Ee,w=new Ee,R=new Ee,E=new Ee,L=new Ee,U=new Ee;for(let pe=0;pe<=n;++pe){const te=pe/n*o*Math.PI*2;Z(te,o,a,e,w),Z(te+.01,o,a,e,R),L.subVectors(R,w),U.addVectors(R,w),E.crossVectors(L,U),U.crossVectors(E,L),E.normalize(),U.normalize();for(let Ae=0;Ae<=r;++Ae){const ze=Ae/r*Math.PI*2,ct=-t*Math.cos(ze),oe=t*Math.sin(ze);C.x=w.x+(ct*U.x+oe*E.x),C.y=w.y+(ct*U.y+oe*E.y),C.z=w.z+(ct*U.z+oe*E.z),f.push(C.x,C.y,C.z),_.subVectors(C,w).normalize(),d.push(_.x,_.y,_.z),m.push(pe/n),m.push(Ae/r)}}for(let pe=1;pe<=n;pe++)for(let te=1;te<=r;te++){const Ae=(r+1)*(pe-1)+(te-1),ze=(r+1)*pe+(te-1),ct=(r+1)*pe+te,oe=(r+1)*(pe-1)+te;l.push(Ae,ze,oe),l.push(ze,ct,oe)}this.setIndex(l),this.setAttribute("position",new hr(f,3)),this.setAttribute("normal",new hr(d,3)),this.setAttribute("uv",new hr(m,2));function Z(pe,te,Ae,ze,ct){const oe=Math.cos(pe),Ne=Math.sin(pe),Ct=Ae/te*pe,Lt=Math.cos(Ct);ct.x=ze*(2+Lt)*.5*oe,ct.y=ze*(2+Lt)*Ne*.5,ct.z=ze*Math.sin(Ct)*.5}}static fromJSON(e){return new Ec(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Lc extends Vr{constructor(e=new Mf(new Ee(-1,-1,0),new Ee(-1,1,0),new Ee(1,1,0)),t=64,n=1,r=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:o};const a=e.computeFrenetFrames(t,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const l=new Ee,f=new Ee,d=new mn;let m=new Ee;const C=[],_=[],w=[],R=[];E(),this.setIndex(R),this.setAttribute("position",new hr(C,3)),this.setAttribute("normal",new hr(_,3)),this.setAttribute("uv",new hr(w,2));function E(){for(let pe=0;pe<t;pe++)L(pe);L(o===!1?t:0),Z(),U()}function L(pe){m=e.getPointAt(pe/t,m);const te=a.normals[pe],Ae=a.binormals[pe];for(let ze=0;ze<=r;ze++){const ct=ze/r*Math.PI*2,oe=Math.sin(ct),Ne=-Math.cos(ct);f.x=Ne*te.x+oe*Ae.x,f.y=Ne*te.y+oe*Ae.y,f.z=Ne*te.z+oe*Ae.z,f.normalize(),_.push(f.x,f.y,f.z),l.x=m.x+n*f.x,l.y=m.y+n*f.y,l.z=m.z+n*f.z,C.push(l.x,l.y,l.z)}}function U(){for(let pe=1;pe<=t;pe++)for(let te=1;te<=r;te++){const Ae=(r+1)*(pe-1)+(te-1),ze=(r+1)*pe+(te-1),ct=(r+1)*pe+te,oe=(r+1)*(pe-1)+te;R.push(Ae,ze,oe),R.push(ze,ct,oe)}}function Z(){for(let pe=0;pe<=t;pe++)for(let te=0;te<=r;te++)d.x=pe/t,d.y=te/r,w.push(d.x,d.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Lc(new Ef[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class u9 extends Vr{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new Ee,o=new Ee;if(e.index!==null){const a=e.attributes.position,l=e.index;let f=e.groups;f.length===0&&(f=[{start:0,count:l.count,materialIndex:0}]);for(let d=0,m=f.length;d<m;++d){const C=f[d],_=C.start,w=C.count;for(let R=_,E=_+w;R<E;R+=3)for(let L=0;L<3;L++){const U=l.getX(R+L),Z=l.getX(R+(L+1)%3);r.fromBufferAttribute(a,U),o.fromBufferAttribute(a,Z),f9(r,o,n)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let l=0,f=a.count/3;l<f;l++)for(let d=0;d<3;d++){const m=3*l+d,C=3*l+(d+1)%3;r.fromBufferAttribute(a,m),o.fromBufferAttribute(a,C),f9(r,o,n)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new hr(t,3))}}}function f9(c,e,t){const n=`${c.x},${c.y},${c.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${c.x},${c.y},${c.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var d9=Object.freeze({__proto__:null,BoxGeometry:ls,BoxBufferGeometry:ls,CapsuleGeometry:mc,CapsuleBufferGeometry:mc,CircleGeometry:gc,CircleBufferGeometry:gc,ConeGeometry:vc,ConeBufferGeometry:vc,CylinderGeometry:H1,CylinderBufferGeometry:H1,DodecahedronGeometry:Cc,DodecahedronBufferGeometry:Cc,EdgesGeometry:r9,ExtrudeGeometry:xc,ExtrudeBufferGeometry:xc,IcosahedronGeometry:yc,IcosahedronBufferGeometry:yc,LatheGeometry:Cl,LatheBufferGeometry:Cl,OctahedronGeometry:xl,OctahedronBufferGeometry:xl,PlaneGeometry:Ys,PlaneBufferGeometry:Ys,PolyhedronGeometry:Ga,PolyhedronBufferGeometry:Ga,RingGeometry:wc,RingBufferGeometry:wc,ShapeGeometry:bc,ShapeBufferGeometry:bc,SphereGeometry:yl,SphereBufferGeometry:yl,TetrahedronGeometry:Mc,TetrahedronBufferGeometry:Mc,TorusGeometry:Sc,TorusBufferGeometry:Sc,TorusKnotGeometry:Ec,TorusKnotBufferGeometry:Ec,TubeGeometry:Lc,TubeBufferGeometry:Lc,WireframeGeometry:u9});class h9 extends io{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new sr(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class p9 extends Bs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Tf extends io{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new sr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new sr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ji,this.normalScale=new mn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class m9 extends Tf{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new mn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return oi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new sr(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new sr(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new sr(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class g9 extends io{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new sr(16777215),this.specular=new sr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new sr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ji,this.normalScale=new mn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Tt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class v9 extends io{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new sr(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new sr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ji,this.normalScale=new mn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class C9 extends io{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ji,this.normalScale=new mn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class _9 extends io{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new sr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new sr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Tt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class x9 extends io{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new sr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ji,this.normalScale=new mn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class y9 extends Es{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}const Xi={arraySlice:function(c,e,t){return Xi.isTypedArray(c)?new c.constructor(c.subarray(e,t!==void 0?t:c.length)):c.slice(e,t)},convertArray:function(c,e,t){return!c||!t&&c.constructor===e?c:typeof e.BYTES_PER_ELEMENT=="number"?new e(c):Array.prototype.slice.call(c)},isTypedArray:function(c){return ArrayBuffer.isView(c)&&!(c instanceof DataView)},getKeyframeOrder:function(c){function e(r,o){return c[r]-c[o]}const t=c.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n},sortedArray:function(c,e,t){const n=c.length,r=new c.constructor(n);for(let o=0,a=0;a!==n;++o){const l=t[o]*e;for(let f=0;f!==e;++f)r[a++]=c[l+f]}return r},flattenJSON:function(c,e,t,n){let r=1,o=c[0];for(;o!==void 0&&o[n]===void 0;)o=c[r++];if(o===void 0)return;let a=o[n];if(a!==void 0)if(Array.isArray(a))do a=o[n],a!==void 0&&(e.push(o.time),t.push.apply(t,a)),o=c[r++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[n],a!==void 0&&(e.push(o.time),a.toArray(t,t.length)),o=c[r++];while(o!==void 0);else do a=o[n],a!==void 0&&(e.push(o.time),t.push(a)),o=c[r++];while(o!==void 0)},subclip:function(c,e,t,n,r=30){const o=c.clone();o.name=e;const a=[];for(let f=0;f<o.tracks.length;++f){const d=o.tracks[f],m=d.getValueSize(),C=[],_=[];for(let w=0;w<d.times.length;++w){const R=d.times[w]*r;if(!(R<t||R>=n)){C.push(d.times[w]);for(let E=0;E<m;++E)_.push(d.values[w*m+E])}}C.length!==0&&(d.times=Xi.convertArray(C,d.times.constructor),d.values=Xi.convertArray(_,d.values.constructor),a.push(d))}o.tracks=a;let l=1/0;for(let f=0;f<o.tracks.length;++f)l>o.tracks[f].times[0]&&(l=o.tracks[f].times[0]);for(let f=0;f<o.tracks.length;++f)o.tracks[f].shift(-1*l);return o.resetDuration(),o},makeClipAdditive:function(c,e=0,t=c,n=30){n<=0&&(n=30);const r=t.tracks.length,o=e/n;for(let a=0;a<r;++a){const l=t.tracks[a],f=l.ValueTypeName;if(f==="bool"||f==="string")continue;const d=c.tracks.find(function(U){return U.name===l.name&&U.ValueTypeName===f});if(d===void 0)continue;let m=0;const C=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=C/3);let _=0;const w=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(_=w/3);const R=l.times.length-1;let E;if(o<=l.times[0]){const U=m,Z=C-m;E=Xi.arraySlice(l.values,U,Z)}else if(o>=l.times[R]){const U=R*C+m,Z=U+C-m;E=Xi.arraySlice(l.values,U,Z)}else{const U=l.createInterpolant(),Z=m,pe=C-m;U.evaluate(o),E=Xi.arraySlice(U.resultBuffer,Z,pe)}f==="quaternion"&&new ci().fromArray(E).normalize().conjugate().toArray(E);const L=d.times.length;for(let U=0;U<L;++U){const Z=U*w+_;if(f==="quaternion")ci.multiplyQuaternionsFlat(d.values,Z,E,0,d.values,Z);else{const pe=w-_*2;for(let te=0;te<pe;++te)d.values[Z+te]-=E[te]}}}return c.blendMode=ds,c}};class C0{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],o=t[n-1];e:{t:{let a;n:{r:if(!(e<r)){for(let l=n+2;;){if(r===void 0){if(e<o)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===l)break;if(o=r,r=t[++n],e<r)break t}a=t.length;break n}if(!(e>=o)){const l=t[1];e<l&&(n=2,o=l);for(let f=n-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===f)break;if(r=o,o=t[--n-1],e>=o)break t}a=n,n=0;break n}break e}for(;n<a;){const l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],o=t[n-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,o,r)}return this.interpolate_(n,o,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=e*r;for(let a=0;a!==r;++a)t[a]=n[o+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class w9 extends C0{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:vi,endingEnd:vi}}intervalChanged_(e,t,n){const r=this.parameterPositions;let o=e-2,a=e+1,l=r[o],f=r[a];if(l===void 0)switch(this.getSettings_().endingStart){case to:o=e,l=2*t-n;break;case Xo:o=r.length-2,l=t+r[o]-r[o+1];break;default:o=e,l=n}if(f===void 0)switch(this.getSettings_().endingEnd){case to:a=e,f=2*n-t;break;case Xo:a=1,f=n+r[1]-r[0];break;default:a=e-1,f=t}const d=(n-t)*.5,m=this.valueSize;this._weightPrev=d/(t-l),this._weightNext=d/(f-n),this._offsetPrev=o*m,this._offsetNext=a*m}interpolate_(e,t,n,r){const o=this.resultBuffer,a=this.sampleValues,l=this.valueSize,f=e*l,d=f-l,m=this._offsetPrev,C=this._offsetNext,_=this._weightPrev,w=this._weightNext,R=(n-t)/(r-t),E=R*R,L=E*R,U=-_*L+2*_*E-_*R,Z=(1+_)*L+(-1.5-2*_)*E+(-.5+_)*R+1,pe=(-1-w)*L+(1.5+w)*E+.5*R,te=w*L-w*E;for(let Ae=0;Ae!==l;++Ae)o[Ae]=U*a[m+Ae]+Z*a[d+Ae]+pe*a[f+Ae]+te*a[C+Ae];return o}}class Pf extends C0{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const o=this.resultBuffer,a=this.sampleValues,l=this.valueSize,f=e*l,d=f-l,m=(n-t)/(r-t),C=1-m;for(let _=0;_!==l;++_)o[_]=a[d+_]*C+a[f+_]*m;return o}}class b9 extends C0{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class ba{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Xi.convertArray(t,this.TimeBufferType),this.values=Xi.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Xi.convertArray(e.times,Array),values:Xi.convertArray(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new b9(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Pf(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new w9(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Kr:t=this.InterpolantFactoryMethodDiscrete;break;case Vi:t=this.InterpolantFactoryMethodLinear;break;case Ir:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Kr;case this.InterpolantFactoryMethodLinear:return Vi;case this.InterpolantFactoryMethodSmooth:return Ir}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let o=0,a=r-1;for(;o!==r&&n[o]<e;)++o;for(;a!==-1&&n[a]>t;)--a;if(++a,o!==0||a!==r){o>=a&&(a=Math.max(a,1),o=a-1);const l=this.getValueSize();this.times=Xi.arraySlice(n,o,a),this.values=Xi.arraySlice(this.values,o*l,a*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,o=n.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let l=0;l!==o;l++){const f=n[l];if(typeof f=="number"&&isNaN(f)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,f),e=!1;break}if(a!==null&&a>f){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,f,a),e=!1;break}a=f}if(r!==void 0&&Xi.isTypedArray(r))for(let l=0,f=r.length;l!==f;++l){const d=r[l];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,d),e=!1;break}}return e}optimize(){const e=Xi.arraySlice(this.times),t=Xi.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===Ir,o=e.length-1;let a=1;for(let l=1;l<o;++l){let f=!1;const d=e[l],m=e[l+1];if(d!==m&&(l!==1||d!==e[0]))if(r)f=!0;else{const C=l*n,_=C-n,w=C+n;for(let R=0;R!==n;++R){const E=t[C+R];if(E!==t[_+R]||E!==t[w+R]){f=!0;break}}}if(f){if(l!==a){e[a]=e[l];const C=l*n,_=a*n;for(let w=0;w!==n;++w)t[_+w]=t[C+w]}++a}}if(o>0){e[a]=e[o];for(let l=o*n,f=a*n,d=0;d!==n;++d)t[f+d]=t[l+d];++a}return a!==e.length?(this.times=Xi.arraySlice(e,0,a),this.values=Xi.arraySlice(t,0,a*n)):(this.times=e,this.values=t),this}clone(){const e=Xi.arraySlice(this.times,0),t=Xi.arraySlice(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}ba.prototype.TimeBufferType=Float32Array,ba.prototype.ValueBufferType=Float32Array,ba.prototype.DefaultInterpolation=Vi;class wl extends ba{}wl.prototype.ValueTypeName="bool",wl.prototype.ValueBufferType=Array,wl.prototype.DefaultInterpolation=Kr,wl.prototype.InterpolantFactoryMethodLinear=void 0,wl.prototype.InterpolantFactoryMethodSmooth=void 0;class Of extends ba{}Of.prototype.ValueTypeName="color";class _0 extends ba{}_0.prototype.ValueTypeName="number";class M9 extends C0{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const o=this.resultBuffer,a=this.sampleValues,l=this.valueSize,f=(n-t)/(r-t);let d=e*l;for(let m=d+l;d!==m;d+=4)ci.slerpFlat(o,0,a,d-l,a,d,f);return o}}class Rc extends ba{InterpolantFactoryMethodLinear(e){return new M9(this.times,this.values,this.getValueSize(),e)}}Rc.prototype.ValueTypeName="quaternion",Rc.prototype.DefaultInterpolation=Vi,Rc.prototype.InterpolantFactoryMethodSmooth=void 0;class bl extends ba{}bl.prototype.ValueTypeName="string",bl.prototype.ValueBufferType=Array,bl.prototype.DefaultInterpolation=Kr,bl.prototype.InterpolantFactoryMethodLinear=void 0,bl.prototype.InterpolantFactoryMethodSmooth=void 0;class x0 extends ba{}x0.prototype.ValueTypeName="vector";class y0{constructor(e,t=-1,n,r=no){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Ci(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let a=0,l=n.length;a!==l;++a)t.push(y3(n[a]).scale(r));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=n.length;o!==a;++o)t.push(ba.toJSON(n[o]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const o=t.length,a=[];for(let l=0;l<o;l++){let f=[],d=[];f.push((l+o-1)%o,l,(l+1)%o),d.push(0,1,0);const m=Xi.getKeyframeOrder(f);f=Xi.sortedArray(f,1,m),d=Xi.sortedArray(d,1,m),!r&&f[0]===0&&(f.push(o),d.push(d[0])),a.push(new _0(".morphTargetInfluences["+t[l].name+"]",f,d).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},o=/^([\w-]*?)([\d]+)$/;for(let l=0,f=e.length;l<f;l++){const d=e[l],m=d.name.match(o);if(m&&m.length>1){const C=m[1];let _=r[C];_||(r[C]=_=[]),_.push(d)}}const a=[];for(const l in r)a.push(this.CreateFromMorphTargetSequence(l,r[l],t,n));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(C,_,w,R,E){if(w.length!==0){const L=[],U=[];Xi.flattenJSON(w,L,U,R),L.length!==0&&E.push(new C(_,L,U))}},r=[],o=e.name||"default",a=e.fps||30,l=e.blendMode;let f=e.length||-1;const d=e.hierarchy||[];for(let C=0;C<d.length;C++){const _=d[C].keys;if(!(!_||_.length===0))if(_[0].morphTargets){const w={};let R;for(R=0;R<_.length;R++)if(_[R].morphTargets)for(let E=0;E<_[R].morphTargets.length;E++)w[_[R].morphTargets[E]]=-1;for(const E in w){const L=[],U=[];for(let Z=0;Z!==_[R].morphTargets.length;++Z){const pe=_[R];L.push(pe.time),U.push(pe.morphTarget===E?1:0)}r.push(new _0(".morphTargetInfluence["+E+"]",L,U))}f=w.length*a}else{const w=".bones["+t[C].name+"]";n(x0,w+".position",_,"pos",r),n(Rc,w+".quaternion",_,"rot",r),n(x0,w+".scale",_,"scl",r)}}return r.length===0?null:new this(o,f,r,l)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const o=this.tracks[n];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function x3(c){switch(c.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return _0;case"vector":case"vector2":case"vector3":case"vector4":return x0;case"color":return Of;case"quaternion":return Rc;case"bool":case"boolean":return wl;case"string":return bl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+c)}function y3(c){if(c.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=x3(c.type);if(c.times===void 0){const t=[],n=[];Xi.flattenJSON(c.keys,t,n,"value"),c.times=t,c.values=n}return e.parse!==void 0?e.parse(c):new e(c.name,c.times,c.values,c.interpolation)}const Ml={enabled:!1,files:{},add:function(c,e){this.enabled!==!1&&(this.files[c]=e)},get:function(c){if(this.enabled!==!1)return this.files[c]},remove:function(c){delete this.files[c]},clear:function(){this.files={}}};class Df{constructor(e,t,n){const r=this;let o=!1,a=0,l=0,f;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(m){l++,o===!1&&r.onStart!==void 0&&r.onStart(m,a,l),o=!0},this.itemEnd=function(m){a++,r.onProgress!==void 0&&r.onProgress(m,a,l),a===l&&(o=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return f?f(m):m},this.setURLModifier=function(m){return f=m,this},this.addHandler=function(m,C){return d.push(m,C),this},this.removeHandler=function(m){const C=d.indexOf(m);return C!==-1&&d.splice(C,2),this},this.getHandler=function(m){for(let C=0,_=d.length;C<_;C+=2){const w=d[C],R=d[C+1];if(w.global&&(w.lastIndex=0),w.test(m))return R}return null}}}const S9=new Df;class Ks{constructor(e){this.manager=e!==void 0?e:S9,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,o){n.load(e,r,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const f1={};class d1 extends Ks{constructor(e){super(e)}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Ml.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(f1[e]!==void 0){f1[e].push({onLoad:t,onProgress:n,onError:r});return}f1[e]=[],f1[e].push({onLoad:t,onProgress:n,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,f=this.responseType;fetch(a).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||d.body===void 0||d.body.getReader===void 0)return d;const m=f1[e],C=d.body.getReader(),_=d.headers.get("Content-Length"),w=_?parseInt(_):0,R=w!==0;let E=0;const L=new ReadableStream({start(U){Z();function Z(){C.read().then(({done:pe,value:te})=>{if(pe)U.close();else{E+=te.byteLength;const Ae=new ProgressEvent("progress",{lengthComputable:R,loaded:E,total:w});for(let ze=0,ct=m.length;ze<ct;ze++){const oe=m[ze];oe.onProgress&&oe.onProgress(Ae)}U.enqueue(te),Z()}})}}});return new Response(L)}else throw Error(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`)}).then(d=>{switch(f){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(m=>new DOMParser().parseFromString(m,l));case"json":return d.json();default:if(l===void 0)return d.text();{const C=/charset="?([^;"\s]*)"?/i.exec(l),_=C&&C[1]?C[1].toLowerCase():void 0,w=new TextDecoder(_);return d.arrayBuffer().then(R=>w.decode(R))}}}).then(d=>{Ml.add(e,d);const m=f1[e];delete f1[e];for(let C=0,_=m.length;C<_;C++){const w=m[C];w.onLoad&&w.onLoad(d)}}).catch(d=>{const m=f1[e];if(m===void 0)throw this.manager.itemError(e),d;delete f1[e];for(let C=0,_=m.length;C<_;C++){const w=m[C];w.onError&&w.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class w3 extends Ks{constructor(e){super(e)}load(e,t,n,r){const o=this,a=new d1(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{t(o.parse(JSON.parse(l)))}catch(f){r?r(f):console.error(f),o.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=y0.parse(e[n]);t.push(r)}return t}}class b3 extends Ks{constructor(e){super(e)}load(e,t,n,r){const o=this,a=[],l=new Kd,f=new d1(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(o.withCredentials);let d=0;function m(C){f.load(e[C],function(_){const w=o.parse(_,!0);a[C]={width:w.width,height:w.height,format:w.format,mipmaps:w.mipmaps},d+=1,d===6&&(w.mipmapCount===1&&(l.minFilter=ue),l.image=a,l.format=w.format,l.needsUpdate=!0,t&&t(l))},n,r)}if(Array.isArray(e))for(let C=0,_=e.length;C<_;++C)m(C);else f.load(e,function(C){const _=o.parse(C,!0);if(_.isCubemap){const w=_.mipmaps.length/_.mipmapCount;for(let R=0;R<w;R++){a[R]={mipmaps:[]};for(let E=0;E<_.mipmapCount;E++)a[R].mipmaps.push(_.mipmaps[R*_.mipmapCount+E]),a[R].format=_.format,a[R].width=_.width,a[R].height=_.height}l.image=a}else l.image.width=_.width,l.image.height=_.height,l.mipmaps=_.mipmaps;_.mipmapCount===1&&(l.minFilter=ue),l.format=_.format,l.needsUpdate=!0,t&&t(l)},n,r);return l}}class w0 extends Ks{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Ml.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(a),o.manager.itemEnd(e)},0),a;const l=gs("img");function f(){m(),Ml.add(e,this),t&&t(this),o.manager.itemEnd(e)}function d(C){m(),r&&r(C),o.manager.itemError(e),o.manager.itemEnd(e)}function m(){l.removeEventListener("load",f,!1),l.removeEventListener("error",d,!1)}return l.addEventListener("load",f,!1),l.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),o.manager.itemStart(e),l.src=e,l}}class M3 extends Ks{constructor(e){super(e)}load(e,t,n,r){const o=new va,a=new w0(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let l=0;function f(d){a.load(e[d],function(m){o.images[d]=m,l++,l===6&&(o.needsUpdate=!0,t&&t(o))},void 0,r)}for(let d=0;d<e.length;++d)f(d);return o}}class S3 extends Ks{constructor(e){super(e)}load(e,t,n,r){const o=this,a=new hc,l=new d1(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(o.withCredentials),l.load(e,function(f){const d=o.parse(f);d&&(d.image!==void 0?a.image=d.image:d.data!==void 0&&(a.image.width=d.width,a.image.height=d.height,a.image.data=d.data),a.wrapS=d.wrapS!==void 0?d.wrapS:me,a.wrapT=d.wrapT!==void 0?d.wrapT:me,a.magFilter=d.magFilter!==void 0?d.magFilter:ue,a.minFilter=d.minFilter!==void 0?d.minFilter:ue,a.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.encoding!==void 0&&(a.encoding=d.encoding),d.flipY!==void 0&&(a.flipY=d.flipY),d.format!==void 0&&(a.format=d.format),d.type!==void 0&&(a.type=d.type),d.mipmaps!==void 0&&(a.mipmaps=d.mipmaps,a.minFilter=qe),d.mipmapCount===1&&(a.minFilter=ue),d.generateMipmaps!==void 0&&(a.generateMipmaps=d.generateMipmaps),a.needsUpdate=!0,t&&t(a,d))},n,r),a}}class E3 extends Ks{constructor(e){super(e)}load(e,t,n,r){const o=new Zi,a=new w0(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(l){o.image=l,o.needsUpdate=!0,t!==void 0&&t(o)},n,r),o}}class V1 extends bi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new sr(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class E9 extends V1{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(bi.DefaultUp),this.updateMatrix(),this.groundColor=new sr(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const L9=new Ur,R9=new Ee,A9=new Ee;class If{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new mn(512,512),this.map=null,this.mapPass=null,this.matrix=new Ur,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Fa,this._frameExtents=new mn(1,1),this._viewportCount=1,this._viewports=[new mi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;R9.setFromMatrixPosition(e.matrixWorld),t.position.copy(R9),A9.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(A9),t.updateMatrixWorld(),L9.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(L9),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class L3 extends If{constructor(){super(new vo(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=Di*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(n!==t.fov||r!==t.aspect||o!==t.far)&&(t.fov=n,t.aspect=r,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class T9 extends V1{constructor(e,t,n=0,r=Math.PI/3,o=0,a=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(bi.DefaultUp),this.updateMatrix(),this.target=new bi,this.distance=n,this.angle=r,this.penumbra=o,this.decay=a,this.shadow=new L3}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const P9=new Ur,b0=new Ee,Hf=new Ee;class R3 extends If{constructor(){super(new vo(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new mn(4,2),this._viewportCount=6,this._viewports=[new mi(2,1,1,1),new mi(0,1,1,1),new mi(3,1,1,1),new mi(1,1,1,1),new mi(3,0,1,1),new mi(1,0,1,1)],this._cubeDirections=[new Ee(1,0,0),new Ee(-1,0,0),new Ee(0,0,1),new Ee(0,0,-1),new Ee(0,1,0),new Ee(0,-1,0)],this._cubeUps=[new Ee(0,1,0),new Ee(0,1,0),new Ee(0,1,0),new Ee(0,1,0),new Ee(0,0,1),new Ee(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,o=e.distance||n.far;o!==n.far&&(n.far=o,n.updateProjectionMatrix()),b0.setFromMatrixPosition(e.matrixWorld),n.position.copy(b0),Hf.copy(n.position),Hf.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Hf),n.updateMatrixWorld(),r.makeTranslation(-b0.x,-b0.y,-b0.z),P9.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(P9)}}class O9 extends V1{constructor(e,t,n=0,r=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new R3}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class A3 extends If{constructor(){super(new i0(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class D9 extends V1{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(bi.DefaultUp),this.updateMatrix(),this.target=new bi,this.shadow=new A3}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class I9 extends V1{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class H9 extends V1{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class z9{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ee)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,o=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*o),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],1.092548*(n*r)),t.addScaledVector(a[5],1.092548*(r*o)),t.addScaledVector(a[6],.315392*(3*o*o-1)),t.addScaledVector(a[7],1.092548*(n*o)),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,o=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*o),t.addScaledVector(a[3],2*.511664*n),t.addScaledVector(a[4],2*.429043*n*r),t.addScaledVector(a[5],2*.429043*r*o),t.addScaledVector(a[6],.743125*o*o-.247708),t.addScaledVector(a[7],2*.429043*n*o),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,o=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*o,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*n*o,t[8]=.546274*(n*n-r*r)}}class Cu extends V1{constructor(e=new z9,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class _u extends Ks{constructor(e){super(e),this.textures={}}load(e,t,n,r){const o=this,a=new d1(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(l){try{t(o.parse(JSON.parse(l)))}catch(f){r?r(f):console.error(f),o.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const r=_u.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new sr().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(r.uniforms[o]={},a.type){case"t":r.uniforms[o].value=n(a.value);break;case"c":r.uniforms[o].value=new sr().setHex(a.value);break;case"v2":r.uniforms[o].value=new mn().fromArray(a.value);break;case"v3":r.uniforms[o].value=new Ee().fromArray(a.value);break;case"v4":r.uniforms[o].value=new mi().fromArray(a.value);break;case"m3":r.uniforms[o].value=new Bi().fromArray(a.value);break;case"m4":r.uniforms[o].value=new Ur().fromArray(a.value);break;default:r.uniforms[o].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const o in e.extensions)r.extensions[o]=e.extensions[o];if(e.shading!==void 0&&(r.flatShading=e.shading===1),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),r.normalScale=new mn().fromArray(o)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new mn().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:h9,SpriteMaterial:df,RawShaderMaterial:p9,ShaderMaterial:Bs,PointsMaterial:gf,MeshPhysicalMaterial:m9,MeshStandardMaterial:Tf,MeshPhongMaterial:g9,MeshToonMaterial:v9,MeshNormalMaterial:C9,MeshLambertMaterial:_9,MeshDepthMaterial:cf,MeshDistanceMaterial:uf,MeshBasicMaterial:ys,MeshMatcapMaterial:x9,LineDashedMaterial:y9,LineBasicMaterial:Es,Material:io};return new t[e]}}class zf{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class V9 extends Vr{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class B9 extends Ks{constructor(e){super(e)}load(e,t,n,r){const o=this,a=new d1(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(l){try{t(o.parse(JSON.parse(l)))}catch(f){r?r(f):console.error(f),o.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(w,R){if(t[R]!==void 0)return t[R];const L=w.interleavedBuffers[R],U=o(w,L.buffer),Z=Do(L.type,U),pe=new Q0(Z,L.stride);return pe.uuid=L.uuid,t[R]=pe,pe}function o(w,R){if(n[R]!==void 0)return n[R];const L=w.arrayBuffers[R],U=new Uint32Array(L).buffer;return n[R]=U,U}const a=e.isInstancedBufferGeometry?new V9:new Vr,l=e.data.index;if(l!==void 0){const w=Do(l.type,l.array);a.setIndex(new Ai(w,1))}const f=e.data.attributes;for(const w in f){const R=f[w];let E;if(R.isInterleavedBufferAttribute){const L=r(e.data,R.data);E=new vl(L,R.itemSize,R.offset,R.normalized)}else{const L=Do(R.type,R.array),U=R.isInstancedBufferAttribute?pc:Ai;E=new U(L,R.itemSize,R.normalized)}R.name!==void 0&&(E.name=R.name),R.usage!==void 0&&E.setUsage(R.usage),R.updateRange!==void 0&&(E.updateRange.offset=R.updateRange.offset,E.updateRange.count=R.updateRange.count),a.setAttribute(w,E)}const d=e.data.morphAttributes;if(d)for(const w in d){const R=d[w],E=[];for(let L=0,U=R.length;L<U;L++){const Z=R[L];let pe;if(Z.isInterleavedBufferAttribute){const te=r(e.data,Z.data);pe=new vl(te,Z.itemSize,Z.offset,Z.normalized)}else{const te=Do(Z.type,Z.array);pe=new Ai(te,Z.itemSize,Z.normalized)}Z.name!==void 0&&(pe.name=Z.name),E.push(pe)}a.morphAttributes[w]=E}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const C=e.data.groups||e.data.drawcalls||e.data.offsets;if(C!==void 0)for(let w=0,R=C.length;w!==R;++w){const E=C[w];a.addGroup(E.start,E.count,E.materialIndex)}const _=e.data.boundingSphere;if(_!==void 0){const w=new Ee;_.center!==void 0&&w.fromArray(_.center),a.boundingSphere=new Uo(w,_.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class T3 extends Ks{constructor(e){super(e)}load(e,t,n,r){const o=this,a=this.path===""?zf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const l=new d1(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(f){let d=null;try{d=JSON.parse(f)}catch(C){r!==void 0&&r(C),console.error("THREE:ObjectLoader: Can't parse "+e+".",C.message);return}const m=d.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(d,t)},n,r)}loadAsync(e,t){return Pl(this,null,function*(){const n=this,r=this.path===""?zf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const o=new d1(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=yield o.loadAsync(e,t),l=JSON.parse(a),f=l.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return yield n.parseAsync(l)})}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(d)}),l=this.parseTextures(e.textures,a),f=this.parseMaterials(e.materials,l),d=this.parseObject(e.object,o,f,l,n),m=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,m),t!==void 0){let C=!1;for(const _ in a)if(a[_].data instanceof HTMLImageElement){C=!0;break}C===!1&&t(d)}return d}parseAsync(e){return Pl(this,null,function*(){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),o=yield this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),f=this.parseObject(e.object,r,l,a,t),d=this.parseSkeletons(e.skeletons,f);return this.bindSkeletons(f,d),f})}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const o=new _l().fromJSON(e[n]);t[o.uuid]=o}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(o){o.isBone&&(r[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const l=new iu().fromJSON(e[o],r);n[l.uuid]=l}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new B9;for(let o=0,a=e.length;o<a;o++){let l;const f=e[o];switch(f.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(f);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:f.type in d9?l=d9[f.type].fromJSON(f,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${f.type}"`)}l.uuid=f.uuid,f.name!==void 0&&(l.name=f.name),l.isBufferGeometry===!0&&f.userData!==void 0&&(l.userData=f.userData),n[f.uuid]=l}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const o=new _u;o.setTextures(t);for(let a=0,l=e.length;a<l;a++){const f=e[a];if(f.type==="MultiMaterial"){const d=[];for(let m=0;m<f.materials.length;m++){const C=f.materials[m];n[C.uuid]===void 0&&(n[C.uuid]=o.parse(C)),d.push(n[C.uuid])}r[f.uuid]=d}else n[f.uuid]===void 0&&(n[f.uuid]=o.parse(f)),r[f.uuid]=n[f.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],o=y0.parse(r);t[o.uuid]=o}return t}parseImages(e,t){const n=this,r={};let o;function a(f){return n.manager.itemStart(f),o.load(f,function(){n.manager.itemEnd(f)},void 0,function(){n.manager.itemError(f),n.manager.itemEnd(f)})}function l(f){if(typeof f=="string"){const d=f,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;return a(m)}else return f.data?{data:Do(f.type,f.data),width:f.width,height:f.height}:null}if(e!==void 0&&e.length>0){const f=new Df(t);o=new w0(f),o.setCrossOrigin(this.crossOrigin);for(let d=0,m=e.length;d<m;d++){const C=e[d],_=C.url;if(Array.isArray(_)){const w=[];for(let R=0,E=_.length;R<E;R++){const L=_[R],U=l(L);U!==null&&(U instanceof HTMLImageElement?w.push(U):w.push(new hc(U.data,U.width,U.height)))}r[C.uuid]=new Cs(w)}else{const w=l(C.url);r[C.uuid]=new Cs(w)}}}return r}parseImagesAsync(e){return Pl(this,null,function*(){const t=this,n={};let r;function o(a){return Pl(this,null,function*(){if(typeof a=="string"){const l=a,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return yield r.loadAsync(f)}else return a.data?{data:Do(a.type,a.data),width:a.width,height:a.height}:null})}if(e!==void 0&&e.length>0){r=new w0(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,l=e.length;a<l;a++){const f=e[a],d=f.url;if(Array.isArray(d)){const m=[];for(let C=0,_=d.length;C<_;C++){const w=d[C],R=yield o(w);R!==null&&(R instanceof HTMLImageElement?m.push(R):m.push(new hc(R.data,R.width,R.height)))}n[f.uuid]=new Cs(m)}else{const m=yield o(f.url);n[f.uuid]=new Cs(m)}}}return n})}parseTextures(e,t){function n(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const r={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const l=e[o];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const f=t[l.image],d=f.data;let m;Array.isArray(d)?(m=new va,d.length===6&&(m.needsUpdate=!0)):(d&&d.data?m=new hc:m=new Zi,d&&(m.needsUpdate=!0)),m.source=f,m.uuid=l.uuid,l.name!==void 0&&(m.name=l.name),l.mapping!==void 0&&(m.mapping=n(l.mapping,P3)),l.offset!==void 0&&m.offset.fromArray(l.offset),l.repeat!==void 0&&m.repeat.fromArray(l.repeat),l.center!==void 0&&m.center.fromArray(l.center),l.rotation!==void 0&&(m.rotation=l.rotation),l.wrap!==void 0&&(m.wrapS=n(l.wrap[0],N9),m.wrapT=n(l.wrap[1],N9)),l.format!==void 0&&(m.format=l.format),l.type!==void 0&&(m.type=l.type),l.encoding!==void 0&&(m.encoding=l.encoding),l.minFilter!==void 0&&(m.minFilter=n(l.minFilter,F9)),l.magFilter!==void 0&&(m.magFilter=n(l.magFilter,F9)),l.anisotropy!==void 0&&(m.anisotropy=l.anisotropy),l.flipY!==void 0&&(m.flipY=l.flipY),l.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(m.unpackAlignment=l.unpackAlignment),l.userData!==void 0&&(m.userData=l.userData),r[l.uuid]=m}return r}parseObject(e,t,n,r,o){let a;function l(_){return t[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",_),t[_]}function f(_){if(_!==void 0){if(Array.isArray(_)){const w=[];for(let R=0,E=_.length;R<E;R++){const L=_[R];n[L]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",L),w.push(n[L])}return w}return n[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),n[_]}}function d(_){return r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",_),r[_]}let m,C;switch(e.type){case"Scene":a=new Sd,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new sr(e.background):a.background=d(e.background)),e.environment!==void 0&&(a.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new J0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new q0(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":a=new vo(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new i0(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new I9(e.color,e.intensity);break;case"DirectionalLight":a=new D9(e.color,e.intensity);break;case"PointLight":a=new O9(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new H9(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new T9(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new E9(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new Cu().fromJSON(e);break;case"SkinnedMesh":m=l(e.geometry),C=f(e.material),a=new zd(m,C),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":m=l(e.geometry),C=f(e.material),a=new bo(m,C);break;case"InstancedMesh":m=l(e.geometry),C=f(e.material);const _=e.count,w=e.instanceMatrix,R=e.instanceColor;a=new Fd(m,C,_),a.instanceMatrix=new pc(new Float32Array(w.array),16),R!==void 0&&(a.instanceColor=new pc(new Float32Array(R.array),R.itemSize));break;case"LOD":a=new Pd;break;case"Line":a=new I1(l(e.geometry),f(e.material));break;case"LineLoop":a=new Wd(l(e.geometry),f(e.material));break;case"LineSegments":a=new Wa(l(e.geometry),f(e.material));break;case"PointCloud":case"Points":a=new Xd(l(e.geometry),f(e.material));break;case"Sprite":a=new Ad(f(e.material));break;case"Group":a=new lc;break;case"Bone":a=new pf;break;default:a=new bi}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const _=e.children;for(let w=0;w<_.length;w++)a.add(this.parseObject(_[w],t,n,r,o))}if(e.animations!==void 0){const _=e.animations;for(let w=0;w<_.length;w++){const R=_[w];a.animations.push(o[R])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const _=e.levels;for(let w=0;w<_.length;w++){const R=_[w],E=a.getObjectByProperty("uuid",R.object);E!==void 0&&a.addLevel(E,R.distance)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const P3={UVMapping:pn,CubeReflectionMapping:Rt,CubeRefractionMapping:jt,EquirectangularReflectionMapping:hn,EquirectangularRefractionMapping:tt,CubeUVReflectionMapping:ie},N9={RepeatWrapping:fe,ClampToEdgeWrapping:me,MirroredRepeatWrapping:ke},F9={NearestFilter:Ie,NearestMipmapNearestFilter:At,NearestMipmapLinearFilter:Vn,LinearFilter:ue,LinearMipmapNearestFilter:je,LinearMipmapLinearFilter:qe};class O3 extends Ks{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Ml.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(a),o.manager.itemEnd(e)},0),a;const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,fetch(e,l).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(f){Ml.add(e,f),t&&t(f),o.manager.itemEnd(e)}).catch(function(f){r&&r(f),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}let xu;const Vf={getContext:function(){return xu===void 0&&(xu=new(window.AudioContext||window.webkitAudioContext)),xu},setContext:function(c){xu=c}};class D3 extends Ks{constructor(e){super(e)}load(e,t,n,r){const o=this,a=new d1(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const f=l.slice(0);Vf.getContext().decodeAudioData(f,function(m){t(m)})}catch(f){r?r(f):console.error(f),o.manager.itemError(e)}},n,r)}}class I3 extends Cu{constructor(e,t,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;const r=new sr().set(e),o=new sr().set(t),a=new Ee(r.r,r.g,r.b),l=new Ee(o.r,o.g,o.b),f=Math.sqrt(Math.PI),d=f*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(l).multiplyScalar(f),this.sh.coefficients[1].copy(a).sub(l).multiplyScalar(d)}}class H3 extends Cu{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const n=new sr().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const k9=new Ur,$9=new Ur,Sl=new Ur;class z3{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new vo,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new vo,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Sl.copy(e.projectionMatrix);const r=t.eyeSep/2,o=r*t.near/t.focus,a=t.near*Math.tan(pi*t.fov*.5)/t.zoom;let l,f;$9.elements[12]=-r,k9.elements[12]=r,l=-a*t.aspect+o,f=a*t.aspect+o,Sl.elements[0]=2*t.near/(f-l),Sl.elements[8]=(f+l)/(f-l),this.cameraL.projectionMatrix.copy(Sl),l=-a*t.aspect-o,f=a*t.aspect-o,Sl.elements[0]=2*t.near/(f-l),Sl.elements[8]=(f+l)/(f-l),this.cameraR.projectionMatrix.copy(Sl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply($9),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(k9)}}class U9{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=j9(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=j9();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function j9(){return(typeof performance=="undefined"?Date:performance).now()}const El=new Ee,Z9=new ci,V3=new Ee,Ll=new Ee;class B3 extends bi{constructor(){super(),this.type="AudioListener",this.context=Vf.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new U9}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(El,Z9,V3),Ll.set(0,0,-1).applyQuaternion(Z9),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(El.x,r),t.positionY.linearRampToValueAtTime(El.y,r),t.positionZ.linearRampToValueAtTime(El.z,r),t.forwardX.linearRampToValueAtTime(Ll.x,r),t.forwardY.linearRampToValueAtTime(Ll.y,r),t.forwardZ.linearRampToValueAtTime(Ll.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(El.x,El.y,El.z),t.setOrientation(Ll.x,Ll.y,Ll.z,n.x,n.y,n.z)}}class W9 extends bi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Rl=new Ee,G9=new ci,N3=new Ee,Al=new Ee;class F3 extends W9{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Rl,G9,N3),Al.set(0,0,1).applyQuaternion(G9);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Rl.x,n),t.positionY.linearRampToValueAtTime(Rl.y,n),t.positionZ.linearRampToValueAtTime(Rl.z,n),t.orientationX.linearRampToValueAtTime(Al.x,n),t.orientationY.linearRampToValueAtTime(Al.y,n),t.orientationZ.linearRampToValueAtTime(Al.z,n)}else t.setPosition(Rl.x,Rl.y,Rl.z),t.setOrientation(Al.x,Al.y,Al.z)}}class k3{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class X9{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,o,a;switch(t){case"quaternion":r=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,o=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let l=0;l!==r;++l)n[o+l]=n[l];a=t}else{a+=t;const l=t/a;this._mixBufferRegion(n,o,0,l,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const f=t*this._origIndex;this._mixBufferRegion(n,r,f,1-o,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let f=t,d=t+t;f!==d;++f)if(n[f]!==n[f+t]){l.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let o=n,a=r;o!==a;++o)t[o]=t[r+o%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,o){if(r>=.5)for(let a=0;a!==o;++a)e[t+a]=e[n+a]}_slerp(e,t,n,r){ci.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,o){const a=this._workIndex*o;ci.multiplyQuaternionsFlat(e,a,e,t,e,n),ci.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,n,r,o){const a=1-r;for(let l=0;l!==o;++l){const f=t+l;e[f]=e[f]*a+e[n+l]*r}}_lerpAdditive(e,t,n,r,o){for(let a=0;a!==o;++a){const l=t+a;e[l]=e[l]+e[n+a]*r}}}const Bf="\\[\\]\\.:\\/",$3=new RegExp("["+Bf+"]","g"),Nf="[^"+Bf+"]",U3="[^"+Bf.replace("\\.","")+"]",j3=/((?:WC+[\/:])*)/.source.replace("WC",Nf),Z3=/(WCOD+)?/.source.replace("WCOD",U3),W3=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Nf),G3=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Nf),X3=new RegExp("^"+j3+Z3+W3+G3+"$"),Y3=["material","materials","bones"];class K3{constructor(e,t,n){const r=n||Mi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=n.length;r!==o;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Mi{constructor(e,t,n){this.path=t,this.parsedPath=n||Mi.parseTrackName(t),this.node=Mi.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Mi.Composite(e,t,n):new Mi(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace($3,"")}static parseTrackName(e){const t=X3.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const o=n.nodeName.substring(r+1);Y3.indexOf(o)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=o)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===t||l.uuid===t)return l;const f=n(l.children);if(f)return f}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let o=t.propertyIndex;if(e||(e=Mi.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let d=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===d){d=m;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const a=e[r];if(a===void 0){const d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+r+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let f=this.BindingType.Direct;if(o!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}f=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(f=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(f=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Mi.Composite=K3,Mi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Mi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Mi.prototype.GetterByBindingType=[Mi.prototype._getValue_direct,Mi.prototype._getValue_array,Mi.prototype._getValue_arrayElement,Mi.prototype._getValue_toArray],Mi.prototype.SetterByBindingTypeAndVersioning=[[Mi.prototype._setValue_direct,Mi.prototype._setValue_direct_setNeedsUpdate,Mi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Mi.prototype._setValue_array,Mi.prototype._setValue_array_setNeedsUpdate,Mi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Mi.prototype._setValue_arrayElement,Mi.prototype._setValue_arrayElement_setNeedsUpdate,Mi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Mi.prototype._setValue_fromArray,Mi.prototype._setValue_fromArray_setNeedsUpdate,Mi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class q3{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ci(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,o=this._bindings,a=o.length;let l,f=e.length,d=this.nCachedObjects_;for(let m=0,C=arguments.length;m!==C;++m){const _=arguments[m],w=_.uuid;let R=t[w];if(R===void 0){R=f++,t[w]=R,e.push(_);for(let E=0,L=a;E!==L;++E)o[E].push(new Mi(_,n[E],r[E]))}else if(R<d){l=e[R];const E=--d,L=e[E];t[L.uuid]=R,e[R]=L,t[w]=E,e[E]=_;for(let U=0,Z=a;U!==Z;++U){const pe=o[U],te=pe[E];let Ae=pe[R];pe[R]=te,Ae===void 0&&(Ae=new Mi(_,n[U],r[U])),pe[E]=Ae}}else e[R]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_;for(let a=0,l=arguments.length;a!==l;++a){const f=arguments[a],d=f.uuid,m=t[d];if(m!==void 0&&m>=o){const C=o++,_=e[C];t[_.uuid]=m,e[m]=_,t[d]=C,e[C]=f;for(let w=0,R=r;w!==R;++w){const E=n[w],L=E[C],U=E[m];E[m]=L,E[C]=U}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_,a=e.length;for(let l=0,f=arguments.length;l!==f;++l){const d=arguments[l],m=d.uuid,C=t[m];if(C!==void 0)if(delete t[m],C<o){const _=--o,w=e[_],R=--a,E=e[R];t[w.uuid]=C,e[C]=w,t[E.uuid]=_,e[_]=E,e.pop();for(let L=0,U=r;L!==U;++L){const Z=n[L],pe=Z[_],te=Z[R];Z[C]=pe,Z[_]=te,Z.pop()}}else{const _=--a,w=e[_];_>0&&(t[w.uuid]=C),e[C]=w,e.pop();for(let R=0,E=r;R!==E;++R){const L=n[R];L[C]=L[_],L.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const o=this._bindings;if(r!==void 0)return o[r];const a=this._paths,l=this._parsedPaths,f=this._objects,d=f.length,m=this.nCachedObjects_,C=new Array(d);r=o.length,n[e]=r,a.push(e),l.push(t),o.push(C);for(let _=m,w=f.length;_!==w;++_){const R=f[_];C[_]=new Mi(R,e,t)}return C}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,o=this._parsedPaths,a=this._bindings,l=a.length-1,f=a[l],d=e[l];t[d]=n,a[n]=f,a.pop(),o[n]=o[l],o.pop(),r[n]=r[l],r.pop()}}}class J3{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const o=t.tracks,a=o.length,l=new Array(a),f={endingStart:vi,endingEnd:vi};for(let d=0;d!==a;++d){const m=o[d].createInterpolant(null);l[d]=m,m.settings=f}this._interpolantSettings=f,this._interpolants=l,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Dr,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const r=this._clip.duration,o=e._clip.duration,a=o/r,l=r/o;e.warp(1,a,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,o=r.time,a=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const f=l.parameterPositions,d=l.sampleValues;return f[0]=o,f[1]=o+n,d[0]=e/a,d[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const f=(e-o)*n;if(f<0||n===0)return;this._startTime=null,t=n*f}t*=this._updateTimeScale(e);const a=this._updateTime(t),l=this._updateWeight(e);if(l>0){const f=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case ds:for(let m=0,C=f.length;m!==C;++m)f[m].evaluate(a),d[m].accumulateAdditive(l);break;case no:default:for(let m=0,C=f.length;m!==C;++m)f[m].evaluate(a),d[m].accumulate(r,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,o=this._loopCount;const a=n===ti;if(e===0)return o===-1?r:a&&(o&1)===1?t-r:r;if(n===_i){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const l=Math.floor(r/t);r-=t*l,o+=Math.abs(l);const f=this.repetitions-o;if(f<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(f===1){const d=e<0;this._setEndings(d,!d,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(a&&(o&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=to,r.endingEnd=to):(e?r.endingStart=this.zeroSlopeAtStart?to:vi:r.endingStart=Xo,t?r.endingEnd=this.zeroSlopeAtEnd?to:vi:r.endingEnd=Xo)}_scheduleFading(e,t,n){const r=this._mixer,o=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const l=a.parameterPositions,f=a.sampleValues;return l[0]=o,f[0]=t,l[1]=o+e,f[1]=n,this}}const Q3=new Float32Array(1);class eh extends Nr{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,o=r.length,a=e._propertyBindings,l=e._interpolants,f=n.uuid,d=this._bindingsByRootAndName;let m=d[f];m===void 0&&(m={},d[f]=m);for(let C=0;C!==o;++C){const _=r[C],w=_.name;let R=m[w];if(R!==void 0)++R.referenceCount,a[C]=R;else{if(R=a[C],R!==void 0){R._cacheIndex===null&&(++R.referenceCount,this._addInactiveBinding(R,f,w));continue}const E=t&&t._propertyBindings[C].binding.parsedPath;R=new X9(Mi.create(n,w,E),_.ValueTypeName,_.getValueSize()),++R.referenceCount,this._addInactiveBinding(R,f,w),a[C]=R}l[C].resultBuffer=R.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,o=this._actionsByClip[r];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,o=this._actionsByClip;let a=o[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=a;else{const l=a.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,l=a[o],f=l.knownActions,d=f[f.length-1],m=e._byClipCacheIndex;d._byClipCacheIndex=m,f[m]=d,f.pop(),e._byClipCacheIndex=null;const C=l.actionByRoot,_=(e._localRoot||this._root).uuid;delete C[_],f.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,o=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[n]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,o=n.path,a=this._bindingsByRootAndName,l=a[r],f=t[t.length-1],d=e._cacheIndex;f._cacheIndex=d,t[d]=f,t.pop(),delete l[o],Object.keys(l).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new Pf(new Float32Array(2),new Float32Array(2),1,Q3),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,o=t[r];e.__cacheIndex=r,t[r]=e,o.__cacheIndex=n,t[n]=o}clipAction(e,t,n){const r=t||this._root,o=r.uuid;let a=typeof e=="string"?y0.findByName(r,e):e;const l=a!==null?a.uuid:e,f=this._actionsByClip[l];let d=null;if(n===void 0&&(a!==null?n=a.blendMode:n=no),f!==void 0){const C=f.actionByRoot[o];if(C!==void 0&&C.blendMode===n)return C;d=f.knownActions[0],a===null&&(a=d._clip)}if(a===null)return null;const m=new J3(this,a,t,n);return this._bindAction(m,d),this._addInactiveAction(m,l,o),m}existingAction(e,t){const n=t||this._root,r=n.uuid,o=typeof e=="string"?y0.findByName(n,e):e,a=o?o.uuid:e,l=this._actionsByClip[a];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let d=0;d!==n;++d)t[d]._update(r,e,o,a);const l=this._bindings,f=this._nActiveBindings;for(let d=0;d!==f;++d)l[d].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,o=r[n];if(o!==void 0){const a=o.knownActions;for(let l=0,f=a.length;l!==f;++l){const d=a[l];this._deactivateAction(d);const m=d._cacheIndex,C=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,C._cacheIndex=m,t[m]=C,t.pop(),this._removeInactiveBindingsForAction(d)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const a in n){const l=n[a].actionByRoot,f=l[t];f!==void 0&&(this._deactivateAction(f),this._removeInactiveAction(f))}const r=this._bindingsByRootAndName,o=r[t];if(o!==void 0)for(const a in o){const l=o[a];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class Ff{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new Ff(this.value.clone===void 0?this.value:this.value.clone())}}class th extends Q0{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class nh{constructor(e,t,n,r,o){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class rh{constructor(e,t,n=0,r=1/0){this.ray=new t1(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new _1,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return kf(e,this,n,t),n.sort(Y9),n}intersectObjects(e,t=!0,n=[]){for(let r=0,o=e.length;r<o;r++)kf(e[r],this,n,t);return n.sort(Y9),n}}function Y9(c,e){return c.distance-e.distance}function kf(c,e,t,n){if(c.layers.test(e.layers)&&c.raycast(e,t),n===!0){const r=c.children;for(let o=0,a=r.length;o<a;o++)kf(r[o],e,t,!0)}}class ih{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(oi(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class oh{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}const K9=new mn;class sh{constructor(e=new mn(1/0,1/0),t=new mn(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=K9.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return K9.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const q9=new Ee,yu=new Ee;class ah{constructor(e=new Ee,t=new Ee){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){q9.subVectors(e,this.start),yu.subVectors(this.end,this.start);const n=yu.dot(yu);let o=yu.dot(q9)/n;return t&&(o=oi(o,0,1)),o}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const J9=new Ee;class lh extends bi{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const n=new Vr,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,l=1,f=32;a<f;a++,l++){const d=a/f*Math.PI*2,m=l/f*Math.PI*2;r.push(Math.cos(d),Math.sin(d),1,Math.cos(m),Math.sin(m),1)}n.setAttribute("position",new hr(r,3));const o=new Es({fog:!1,toneMapped:!1});this.cone=new Wa(n,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),J9.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(J9),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const B1=new Ee,wu=new Ur,$f=new Ur;class ch extends Wa{constructor(e){const t=Q9(e),n=new Vr,r=[],o=[],a=new sr(0,0,1),l=new sr(0,1,0);for(let d=0;d<t.length;d++){const m=t[d];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),o.push(a.r,a.g,a.b),o.push(l.r,l.g,l.b))}n.setAttribute("position",new hr(r,3)),n.setAttribute("color",new hr(o,3));const f=new Es({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,f),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");$f.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<t.length;o++){const l=t[o];l.parent&&l.parent.isBone&&(wu.multiplyMatrices($f,l.matrixWorld),B1.setFromMatrixPosition(wu),r.setXYZ(a,B1.x,B1.y,B1.z),wu.multiplyMatrices($f,l.parent.matrixWorld),B1.setFromMatrixPosition(wu),r.setXYZ(a+1,B1.x,B1.y,B1.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function Q9(c){const e=[];c.isBone===!0&&e.push(c);for(let t=0;t<c.children.length;t++)e.push.apply(e,Q9(c.children[t]));return e}class uh extends bo{constructor(e,t,n){const r=new yl(t,4,2),o=new ys({wireframe:!0,fog:!1,toneMapped:!1});super(r,o),this.light=e,this.light.updateMatrixWorld(),this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const fh=new Ee,e5=new sr,t5=new sr;class dh extends bi{constructor(e,t,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const r=new xl(t);r.rotateY(Math.PI*.5),this.material=new ys({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=r.getAttribute("position"),a=new Float32Array(o.count*3);r.setAttribute("color",new Ai(a,3)),this.add(new bo(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");e5.copy(this.light.color),t5.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const o=n<r/2?e5:t5;t.setXYZ(n,o.r,o.g,o.b)}t.needsUpdate=!0}e.lookAt(fh.setFromMatrixPosition(this.light.matrixWorld).negate())}}class hh extends Wa{constructor(e=10,t=10,n=4473924,r=8947848){n=new sr(n),r=new sr(r);const o=t/2,a=e/t,l=e/2,f=[],d=[];for(let _=0,w=0,R=-l;_<=t;_++,R+=a){f.push(-l,0,R,l,0,R),f.push(R,0,-l,R,0,l);const E=_===o?n:r;E.toArray(d,w),w+=3,E.toArray(d,w),w+=3,E.toArray(d,w),w+=3,E.toArray(d,w),w+=3}const m=new Vr;m.setAttribute("position",new hr(f,3)),m.setAttribute("color",new hr(d,3));const C=new Es({vertexColors:!0,toneMapped:!1});super(m,C),this.type="GridHelper"}}class ph extends Wa{constructor(e=10,t=16,n=8,r=64,o=4473924,a=8947848){o=new sr(o),a=new sr(a);const l=[],f=[];for(let C=0;C<=t;C++){const _=C/t*(Math.PI*2),w=Math.sin(_)*e,R=Math.cos(_)*e;l.push(0,0,0),l.push(w,0,R);const E=C&1?o:a;f.push(E.r,E.g,E.b),f.push(E.r,E.g,E.b)}for(let C=0;C<=n;C++){const _=C&1?o:a,w=e-e/n*C;for(let R=0;R<r;R++){let E=R/r*(Math.PI*2),L=Math.sin(E)*w,U=Math.cos(E)*w;l.push(L,0,U),f.push(_.r,_.g,_.b),E=(R+1)/r*(Math.PI*2),L=Math.sin(E)*w,U=Math.cos(E)*w,l.push(L,0,U),f.push(_.r,_.g,_.b)}}const d=new Vr;d.setAttribute("position",new hr(l,3)),d.setAttribute("color",new hr(f,3));const m=new Es({vertexColors:!0,toneMapped:!1});super(d,m),this.type="PolarGridHelper"}}const n5=new Ee,bu=new Ee,r5=new Ee;class mh extends bi{constructor(e,t,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,t===void 0&&(t=1);let r=new Vr;r.setAttribute("position",new hr([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new Es({fog:!1,toneMapped:!1});this.lightPlane=new I1(r,o),this.add(this.lightPlane),r=new Vr,r.setAttribute("position",new hr([0,0,0,0,0,1],3)),this.targetLine=new I1(r,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){n5.setFromMatrixPosition(this.light.matrixWorld),bu.setFromMatrixPosition(this.light.target.matrixWorld),r5.subVectors(bu,n5),this.lightPlane.lookAt(bu),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(bu),this.targetLine.scale.z=r5.length()}}const Mu=new Ee,_o=new S1;class gh extends Wa{constructor(e){const t=new Vr,n=new Es({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],o=[],a={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(R,E){f(R),f(E)}function f(R){r.push(0,0,0),o.push(0,0,0),a[R]===void 0&&(a[R]=[]),a[R].push(r.length/3-1)}t.setAttribute("position",new hr(r,3)),t.setAttribute("color",new hr(o,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const d=new sr(16755200),m=new sr(16711680),C=new sr(43775),_=new sr(16777215),w=new sr(3355443);this.setColors(d,m,C,_,w)}setColors(e,t,n,r,o){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,n.r,n.g,n.b),l.setXYZ(33,n.r,n.g,n.b),l.setXYZ(34,n.r,n.g,n.b),l.setXYZ(35,n.r,n.g,n.b),l.setXYZ(36,n.r,n.g,n.b),l.setXYZ(37,n.r,n.g,n.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,o.r,o.g,o.b),l.setXYZ(41,o.r,o.g,o.b),l.setXYZ(42,o.r,o.g,o.b),l.setXYZ(43,o.r,o.g,o.b),l.setXYZ(44,o.r,o.g,o.b),l.setXYZ(45,o.r,o.g,o.b),l.setXYZ(46,o.r,o.g,o.b),l.setXYZ(47,o.r,o.g,o.b),l.setXYZ(48,o.r,o.g,o.b),l.setXYZ(49,o.r,o.g,o.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;_o.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Mo("c",t,e,_o,0,0,-1),Mo("t",t,e,_o,0,0,1),Mo("n1",t,e,_o,-n,-r,-1),Mo("n2",t,e,_o,n,-r,-1),Mo("n3",t,e,_o,-n,r,-1),Mo("n4",t,e,_o,n,r,-1),Mo("f1",t,e,_o,-n,-r,1),Mo("f2",t,e,_o,n,-r,1),Mo("f3",t,e,_o,-n,r,1),Mo("f4",t,e,_o,n,r,1),Mo("u1",t,e,_o,n*.7,r*1.1,-1),Mo("u2",t,e,_o,-n*.7,r*1.1,-1),Mo("u3",t,e,_o,0,r*2,-1),Mo("cf1",t,e,_o,-n,0,1),Mo("cf2",t,e,_o,n,0,1),Mo("cf3",t,e,_o,0,-r,1),Mo("cf4",t,e,_o,0,r,1),Mo("cn1",t,e,_o,-n,0,-1),Mo("cn2",t,e,_o,n,0,-1),Mo("cn3",t,e,_o,0,-r,-1),Mo("cn4",t,e,_o,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Mo(c,e,t,n,r,o,a){Mu.set(r,o,a).unproject(n);const l=e[c];if(l!==void 0){const f=t.getAttribute("position");for(let d=0,m=l.length;d<m;d++)f.setXYZ(l[d],Mu.x,Mu.y,Mu.z)}}const Su=new qi;class vh extends Wa{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),o=new Vr;o.setIndex(new Ai(n,1)),o.setAttribute("position",new Ai(r,3)),super(o,new Es({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Su.setFromObject(this.object),Su.isEmpty())return;const t=Su.min,n=Su.max,r=this.geometry.attributes.position,o=r.array;o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=t.x,o[4]=n.y,o[5]=n.z,o[6]=t.x,o[7]=t.y,o[8]=n.z,o[9]=n.x,o[10]=t.y,o[11]=n.z,o[12]=n.x,o[13]=n.y,o[14]=t.z,o[15]=t.x,o[16]=n.y,o[17]=t.z,o[18]=t.x,o[19]=t.y,o[20]=t.z,o[21]=n.x,o[22]=t.y,o[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}}class Ch extends Wa{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Vr;o.setIndex(new Ai(n,1)),o.setAttribute("position",new hr(r,3)),super(o,new Es({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class _h extends I1{constructor(e,t=1,n=16776960){const r=n,o=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],a=new Vr;a.setAttribute("position",new hr(o,3)),a.computeBoundingSphere(),super(a,new Es({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],f=new Vr;f.setAttribute("position",new hr(l,3)),f.computeBoundingSphere(),this.add(new bo(f,new ys({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?B:xe,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const i5=new Ee;let Eu,Uf;class xh extends bi{constructor(e=new Ee(0,0,1),t=new Ee(0,0,0),n=1,r=16776960,o=n*.2,a=o*.2){super(),this.type="ArrowHelper",Eu===void 0&&(Eu=new Vr,Eu.setAttribute("position",new hr([0,0,0,0,1,0],3)),Uf=new H1(0,.5,1,5,1),Uf.translate(0,-.5,0)),this.position.copy(t),this.line=new I1(Eu,new Es({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new bo(Uf,new ys({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{i5.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(i5,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class yh extends Wa{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Vr;r.setAttribute("position",new hr(t,3)),r.setAttribute("color",new hr(n,3));const o=new Es({vertexColors:!0,toneMapped:!1});super(r,o),this.type="AxesHelper"}setColors(e,t,n){const r=new sr,o=this.geometry.attributes.color.array;return r.set(e),r.toArray(o,0),r.toArray(o,3),r.set(t),r.toArray(o,6),r.toArray(o,9),r.set(n),r.toArray(o,12),r.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class wh{constructor(){this.type="ShapePath",this.color=new sr,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new p0,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,o,a){return this.currentPath.bezierCurveTo(e,t,n,r,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function n(Z){const pe=[];for(let te=0,Ae=Z.length;te<Ae;te++){const ze=Z[te],ct=new _l;ct.curves=ze.curves,pe.push(ct)}return pe}function r(Z,pe){const te=pe.length;let Ae=!1;for(let ze=te-1,ct=0;ct<te;ze=ct++){let oe=pe[ze],Ne=pe[ct],Ct=Ne.x-oe.x,Lt=Ne.y-oe.y;if(Math.abs(Lt)>Number.EPSILON){if(Lt<0&&(oe=pe[ct],Ct=-Ct,Ne=pe[ze],Lt=-Lt),Z.y<oe.y||Z.y>Ne.y)continue;if(Z.y===oe.y){if(Z.x===oe.x)return!0}else{const Tn=Lt*(Z.x-oe.x)-Ct*(Z.y-oe.y);if(Tn===0)return!0;if(Tn<0)continue;Ae=!Ae}}else{if(Z.y!==oe.y)continue;if(Ne.x<=Z.x&&Z.x<=oe.x||oe.x<=Z.x&&Z.x<=Ne.x)return!0}}return Ae}const o=Xa.isClockWise,a=this.subPaths;if(a.length===0)return[];if(t===!0)return n(a);let l,f,d;const m=[];if(a.length===1)return f=a[0],d=new _l,d.curves=f.curves,m.push(d),m;let C=!o(a[0].getPoints());C=e?!C:C;const _=[],w=[];let R=[],E=0,L;w[E]=void 0,R[E]=[];for(let Z=0,pe=a.length;Z<pe;Z++)f=a[Z],L=f.getPoints(),l=o(L),l=e?!l:l,l?(!C&&w[E]&&E++,w[E]={s:new _l,p:L},w[E].s.curves=f.curves,C&&E++,R[E]=[]):R[E].push({h:f,p:L[0]});if(!w[0])return n(a);if(w.length>1){let Z=!1,pe=0;for(let te=0,Ae=w.length;te<Ae;te++)_[te]=[];for(let te=0,Ae=w.length;te<Ae;te++){const ze=R[te];for(let ct=0;ct<ze.length;ct++){const oe=ze[ct];let Ne=!0;for(let Ct=0;Ct<w.length;Ct++)r(oe.p,w[Ct].p)&&(te!==Ct&&pe++,Ne?(Ne=!1,_[Ct].push(oe)):Z=!0);Ne&&_[te].push(oe)}}pe>0&&Z===!1&&(R=_)}let U;for(let Z=0,pe=w.length;Z<pe;Z++){d=w[Z].s,m.push(d),U=R[Z];for(let te=0,Ae=U.length;te<Ae;te++)d.holes.push(U[te].h)}return m}}const{floatView:o5,uint32View:s5,baseTable:bh,shiftTable:Mh,mantissaTable:Sh,exponentTable:Eh,offsetTable:Lh}=Rh();function Rh(){const c=new ArrayBuffer(4),e=new Float32Array(c),t=new Uint32Array(c),n=new Uint32Array(512),r=new Uint32Array(512);for(let f=0;f<256;++f){const d=f-127;d<-27?(n[f]=0,n[f|256]=32768,r[f]=24,r[f|256]=24):d<-14?(n[f]=1024>>-d-14,n[f|256]=1024>>-d-14|32768,r[f]=-d-1,r[f|256]=-d-1):d<=15?(n[f]=d+15<<10,n[f|256]=d+15<<10|32768,r[f]=13,r[f|256]=13):d<128?(n[f]=31744,n[f|256]=64512,r[f]=24,r[f|256]=24):(n[f]=31744,n[f|256]=64512,r[f]=13,r[f|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),l=new Uint32Array(64);for(let f=1;f<1024;++f){let d=f<<13,m=0;for(;!(d&8388608);)d<<=1,m-=8388608;d&=-8388609,m+=947912704,o[f]=d|m}for(let f=1024;f<2048;++f)o[f]=939524096+(f-1024<<13);for(let f=1;f<31;++f)a[f]=f<<23;a[31]=1199570944,a[32]=2147483648;for(let f=33;f<63;++f)a[f]=2147483648+(f-32<<23);a[63]=3347054592;for(let f=1;f<64;++f)f!==32&&(l[f]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:o,exponentTable:a,offsetTable:l}}function Ah(c){Math.abs(c)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),c=oi(c,-65504,65504),o5[0]=c;const e=s5[0],t=e>>23&511;return bh[t]+((e&8388607)>>Mh[t])}function Th(c){const e=c>>10;return s5[0]=Sh[Lh[e]+(c&1023)]+Eh[e],o5[0]}var Ph=Object.freeze({__proto__:null,toHalfFloat:Ah,fromHalfFloat:Th});class Oh extends Vr{constructor(){console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),super()}}class Dh extends Vr{constructor(){console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),super()}}function Ih(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function Hh(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function zh(){console.error("THREE.ImmediateRenderObject has been removed.")}class Vh extends ho{constructor(e,t,n){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,n),this.samples=4}}class Bh extends Qs{constructor(e,t,n,r){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,n,r)}}class Nh extends Li{constructor(e,t,n,r){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,n,r)}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:A}})),typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=A)}}]);
}());