!(function(){var y7=Object.defineProperty,w7=Object.defineProperties;var b7=Object.getOwnPropertyDescriptors;var tf=Object.getOwnPropertySymbols;var Oh=Object.prototype.hasOwnProperty,Dh=Object.prototype.propertyIsEnumerable;var Mc=Math.pow,Ih=(Jt,Qe,te)=>Qe in Jt?y7(Jt,Qe,{enumerable:!0,configurable:!0,writable:!0,value:te}):Jt[Qe]=te,zt=(Jt,Qe)=>{for(var te in Qe||(Qe={}))Oh.call(Qe,te)&&Ih(Jt,te,Qe[te]);if(tf)for(var te of tf(Qe))Dh.call(Qe,te)&&Ih(Jt,te,Qe[te]);return Jt},_i=(Jt,Qe)=>w7(Jt,b7(Qe));var Na=(Jt,Qe)=>{var te={};for(var O in Jt)Oh.call(Jt,O)&&Qe.indexOf(O)<0&&(te[O]=Jt[O]);if(Jt!=null&&tf)for(var O of tf(Jt))Qe.indexOf(O)<0&&Dh.call(Jt,O)&&(te[O]=Jt[O]);return te};var Jl=(Jt,Qe,te)=>new Promise((O,he)=>{var U=At=>{try{Ct(te.next(At))}catch(ye){he(ye)}},rt=At=>{try{Ct(te.throw(At))}catch(ye){he(ye)}},Ct=At=>At.done?O(At.value):Promise.resolve(At.value).then(U,rt);Ct((te=te.apply(Jt,Qe)).next())});(self.webpackChunkantd_color_editor=self.webpackChunkantd_color_editor||[]).push([[33],{67598:function(Jt,Qe,te){"use strict";te.d(Qe,{Z:function(){return ye}});var O=te(47622),he=te(50959),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM304 240a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"database",theme:"outlined"},rt=U,Ct=te(96287),At=function(Ce,Re){return he.createElement(Ct.Z,(0,O.Z)({},Ce,{ref:Re,icon:rt}))},ye=he.forwardRef(At)},34373:function(Jt,Qe,te){"use strict";te.d(Qe,{Z:function(){return ye}});var O=te(47622),he=te(50959),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"},rt=U,Ct=te(96287),At=function(Ce,Re){return he.createElement(Ct.Z,(0,O.Z)({},Ce,{ref:Re,icon:rt}))},ye=he.forwardRef(At)},42017:function(Jt,Qe,te){"use strict";te.d(Qe,{Z:function(){return ye}});var O=te(47622),he=te(50959),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 305H624V192c0-17.7-14.3-32-32-32H184v-40c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v784c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V640h248v113c0 17.7 14.3 32 32 32h416c17.7 0 32-14.3 32-32V337c0-17.7-14.3-32-32-32zM184 568V232h368v336H184zm656 145H504v-73h112c4.4 0 8-3.6 8-8V377h216v336z"}}]},name:"flag",theme:"outlined"},rt=U,Ct=te(96287),At=function(Ce,Re){return he.createElement(Ct.Z,(0,O.Z)({},Ce,{ref:Re,icon:rt}))},ye=he.forwardRef(At)},66513:function(Jt,Qe,te){"use strict";te.d(Qe,{Z:function(){return ye}});var O=te(47622),he=te(50959),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},rt=U,Ct=te(96287),At=function(Ce,Re){return he.createElement(Ct.Z,(0,O.Z)({},Ce,{ref:Re,icon:rt}))},ye=he.forwardRef(At)},63359:function(Jt,Qe,te){"use strict";te.d(Qe,{Z:function(){return ye}});var O=te(47622),he=te(50959),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},rt=U,Ct=te(96287),At=function(Ce,Re){return he.createElement(Ct.Z,(0,O.Z)({},Ce,{ref:Re,icon:rt}))},ye=he.forwardRef(At)},58230:function(Jt,Qe,te){"use strict";te.d(Qe,{Z:function(){return ye}});var O=te(47622),he=te(50959),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},rt=U,Ct=te(96287),At=function(Ce,Re){return he.createElement(Ct.Z,(0,O.Z)({},Ce,{ref:Re,icon:rt}))},ye=he.forwardRef(At)},21708:function(Jt,Qe,te){"use strict";te.d(Qe,{Z:function(){return ye}});var O=te(47622),he=te(50959),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},rt=U,Ct=te(96287),At=function(Ce,Re){return he.createElement(Ct.Z,(0,O.Z)({},Ce,{ref:Re,icon:rt}))},ye=he.forwardRef(At)},10348:function(Jt,Qe,te){"use strict";te.d(Qe,{H:function(){return C1}});var O=te(4386),he=te(67194),U=te(42017),rt=te(67598),Ct=te(58230),At=te(66513),ye=te(47101),kt=te(18398),Ce=te(11527),Re=te(47622),ot=te(65675),_e=te(50959);function yt(d){var b,z,F="";if(typeof d=="string"||typeof d=="number")F+=d;else if(typeof d=="object")if(Array.isArray(d))for(b=0;b<d.length;b++)d[b]&&(z=yt(d[b]))&&(F&&(F+=" "),F+=z);else for(b in d)d[b]&&(F&&(F+=" "),F+=b);return F}function Rt(){for(var d,b,z=0,F="";z<arguments.length;)(d=arguments[z++])&&(b=yt(d))&&(F&&(F+=" "),F+=b);return F}var oe=Rt,rr=te(82974),hn=te(81837),An=te(18246),jt=te(4256),mn=te(46096),yr=rr.Z,Zn=function(b){return b!=="theme"},tr=function(b){return typeof b=="string"&&b.charCodeAt(0)>96?yr:Zn},wn=function(b,z,F){var fe;if(z){var Oe=z.shouldForwardProp;fe=b.__emotion_forwardProp&&Oe?function(ft){return b.__emotion_forwardProp(ft)&&Oe(ft)}:Oe}return typeof fe!="function"&&F&&(fe=b.__emotion_forwardProp),fe},bn=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,ur=function(b){var z=b.cache,F=b.serialized,fe=b.isStringTag;return(0,An.hC)(z,F,fe),(0,mn.L)(function(){return(0,An.My)(z,F,fe)}),null},qn=function d(b,z){var F=b.__emotion_real===b,fe=F&&b.__emotion_base||b,Oe,ft;z!==void 0&&(Oe=z.label,ft=z.target);var Wt=wn(b,z,F),Qt=Wt||tr(fe),vn=!Qt("as");return function(){var yn=arguments,hr=F&&b.__emotion_styles!==void 0?b.__emotion_styles.slice(0):[];if(Oe!==void 0&&hr.push("label:"+Oe+";"),yn[0]==null||yn[0].raw===void 0)hr.push.apply(hr,yn);else{hr.push(yn[0][0]);for(var In=yn.length,i=1;i<In;i++)hr.push(yn[i],yn[0][i])}var s=(0,hn.w)(function(u,m,x){var A=vn&&u.as||fe,ue="",Fe=[],ct=u;if(u.theme==null){ct={};for(var Yt in u)ct[Yt]=u[Yt];ct.theme=_e.useContext(hn.T)}typeof u.className=="string"?ue=(0,An.fp)(m.registered,Fe,u.className):u.className!=null&&(ue=u.className+" ");var En=(0,jt.O)(hr.concat(Fe),m.registered,ct);ue+=m.key+"-"+En.name,ft!==void 0&&(ue+=" "+ft);var wr=vn&&Wt===void 0?tr(A):Qt,Pr={};for(var Kr in u)vn&&Kr==="as"||wr(Kr)&&(Pr[Kr]=u[Kr]);return Pr.className=ue,Pr.ref=x,_e.createElement(_e.Fragment,null,_e.createElement(ur,{cache:m,serialized:En,isStringTag:typeof A=="string"}),_e.createElement(A,Pr))});return s.displayName=Oe!==void 0?Oe:"Styled("+(typeof fe=="string"?fe:fe.displayName||fe.name||"Component")+")",s.defaultProps=b.defaultProps,s.__emotion_real=s,s.__emotion_base=fe,s.__emotion_styles=hr,s.__emotion_forwardProp=Wt,Object.defineProperty(s,"toString",{value:function(){return"."+ft}}),s.withComponent=function(u,m){return d(u,(0,Re.Z)({},z,m,{shouldForwardProp:wn(s,m,!0)})).apply(void 0,hr)},s}},Ge=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],gt=qn.bind();Ge.forEach(function(d){gt[d]=gt(d)});function be(d,b){return gt(d,b)}const It=(d,b)=>{Array.isArray(d.__emotion_styles)&&(d.__emotion_styles=b(d.__emotion_styles))};function Ke(d){let b="https://mui.com/production-error/?code="+d;for(let z=1;z<arguments.length;z+=1)b+="&args[]="+encodeURIComponent(arguments[z]);return"Minified MUI error #"+d+"; visit "+b+" for the full message."}function We(d){if(typeof d!="string")throw new Error(Ke(7));return d.charAt(0).toUpperCase()+d.slice(1)}function Ne(d){return d!==null&&typeof d=="object"&&d.constructor===Object}function Y(d){if(!Ne(d))return d;const b={};return Object.keys(d).forEach(z=>{b[z]=Y(d[z])}),b}function Ae(d,b,z={clone:!0}){const F=z.clone?(0,Re.Z)({},d):d;return Ne(d)&&Ne(b)&&Object.keys(b).forEach(fe=>{fe!=="__proto__"&&(Ne(b[fe])&&fe in d&&Ne(d[fe])?F[fe]=Ae(d[fe],b[fe],z):z.clone?F[fe]=Ne(b[fe])?Y(b[fe]):b[fe]:F[fe]=b[fe])}),F}function Ze(d,b){return b?Ae(d,b,{clone:!1}):d}var ge=Ze;const Be={xs:0,sm:600,md:900,lg:1200,xl:1536},ke={keys:["xs","sm","md","lg","xl"],up:d=>`@media (min-width:${Be[d]}px)`};function et(d,b,z){const F=d.theme||{};if(Array.isArray(b)){const Oe=F.breakpoints||ke;return b.reduce((ft,Wt,Qt)=>(ft[Oe.up(Oe.keys[Qt])]=z(b[Qt]),ft),{})}if(typeof b=="object"){const Oe=F.breakpoints||ke;return Object.keys(b).reduce((ft,Wt)=>{if(Object.keys(Oe.values||Be).indexOf(Wt)!==-1){const Qt=Oe.up(Wt);ft[Qt]=z(b[Wt],Wt)}else{const Qt=Wt;ft[Qt]=b[Qt]}return ft},{})}return z(b)}function wt(d){const b=z=>{const F=z.theme||{},fe=d(z),Oe=F.breakpoints||ke,ft=Oe.keys.reduce((Wt,Qt)=>(z[Qt]&&(Wt=Wt||{},Wt[Oe.up(Qt)]=d(_extends({theme:F},z[Qt]))),Wt),null);return merge(fe,ft)};return b.propTypes={},b.filterProps=["xs","sm","md","lg","xl",...d.filterProps],b}function Vt(d={}){var b;return((b=d.keys)==null?void 0:b.reduce((F,fe)=>{const Oe=d.up(fe);return F[Oe]={},F},{}))||{}}function nn(d,b){return d.reduce((z,F)=>{const fe=z[F];return(!fe||Object.keys(fe).length===0)&&delete z[F],z},b)}function un(d,...b){const z=Vt(d),F=[z,...b].reduce((fe,Oe)=>deepmerge(fe,Oe),{});return nn(Object.keys(z),F)}function Cn(d,b){if(typeof d!="object")return{};const z={},F=Object.keys(b);return Array.isArray(d)?F.forEach((fe,Oe)=>{Oe<d.length&&(z[fe]=!0)}):F.forEach(fe=>{d[fe]!=null&&(z[fe]=!0)}),z}function dr({values:d,breakpoints:b,base:z}){const F=z||Cn(d,b),fe=Object.keys(F);if(fe.length===0)return d;let Oe;return fe.reduce((ft,Wt,Qt)=>(Array.isArray(d)?(ft[Wt]=d[Qt]!=null?d[Qt]:d[Oe],Oe=Qt):typeof d=="object"?(ft[Wt]=d[Wt]!=null?d[Wt]:d[Oe],Oe=Wt):ft[Wt]=d,ft),{})}var lr=null;function Mr(d,b,z=!0){if(!b||typeof b!="string")return null;if(d&&d.vars&&z){const F=`vars.${b}`.split(".").reduce((fe,Oe)=>fe&&fe[Oe]?fe[Oe]:null,d);if(F!=null)return F}return b.split(".").reduce((F,fe)=>F&&F[fe]!=null?F[fe]:null,d)}function Er(d,b,z,F=z){let fe;return typeof d=="function"?fe=d(z):Array.isArray(d)?fe=d[z]||F:fe=Mr(d,z)||F,b&&(fe=b(fe,F,d)),fe}function Wn(d){const{prop:b,cssProperty:z=d.prop,themeKey:F,transform:fe}=d,Oe=ft=>{if(ft[b]==null)return null;const Wt=ft[b],Qt=ft.theme,vn=Mr(Qt,F)||{};return et(ft,Wt,hr=>{let In=Er(vn,fe,hr);return hr===In&&typeof hr=="string"&&(In=Er(vn,fe,`${b}${hr==="default"?"":We(hr)}`,hr)),z===!1?In:{[z]:In}})};return Oe.propTypes={},Oe.filterProps=[b],Oe}var Nn=Wn;function Nr(d){const b={};return z=>(b[z]===void 0&&(b[z]=d(z)),b[z])}const ti={m:"margin",p:"padding"},Or={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Jr={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},zr=Nr(d=>{if(d.length>2)if(Jr[d])d=Jr[d];else return[d];const[b,z]=d.split(""),F=ti[b],fe=Or[z]||"";return Array.isArray(fe)?fe.map(Oe=>F+Oe):[F+fe]}),gi=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],qr=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Ii=[...gi,...qr];function Ht(d,b,z,F){var fe;const Oe=(fe=Mr(d,b,!1))!=null?fe:z;return typeof Oe=="number"?ft=>typeof ft=="string"?ft:Oe*ft:Array.isArray(Oe)?ft=>typeof ft=="string"?ft:Oe[ft]:typeof Oe=="function"?Oe:()=>{}}function Gt(d){return Ht(d,"spacing",8,"spacing")}function on(d,b){if(typeof b=="string"||b==null)return b;const z=Math.abs(b),F=d(z);return b>=0?F:typeof F=="number"?-F:`-${F}`}function an(d,b){return z=>d.reduce((F,fe)=>(F[fe]=on(b,z),F),{})}function fn(d,b,z,F){if(b.indexOf(z)===-1)return null;const fe=zr(z),Oe=an(fe,F),ft=d[z];return et(d,ft,Oe)}function ir(d,b){const z=Gt(d.theme);return Object.keys(d).map(F=>fn(d,b,F,z)).reduce(ge,{})}function pn(d){return ir(d,gi)}pn.propTypes={},pn.filterProps=gi;function Tr(d){return ir(d,qr)}Tr.propTypes={},Tr.filterProps=qr;function Jn(d){return ir(d,Ii)}Jn.propTypes={},Jn.filterProps=Ii;var ci=null;function Qr(...d){const b=d.reduce((F,fe)=>(fe.filterProps.forEach(Oe=>{F[Oe]=fe}),F),{}),z=F=>Object.keys(F).reduce((fe,Oe)=>b[Oe]?ge(fe,b[Oe](F)):fe,{});return z.propTypes={},z.filterProps=d.reduce((F,fe)=>F.concat(fe.filterProps),[]),z}var Xn=Qr;function On(d){return typeof d!="number"?d:`${d}px solid`}const si=Nn({prop:"border",themeKey:"borders",transform:On}),Oi=Nn({prop:"borderTop",themeKey:"borders",transform:On}),qi=Nn({prop:"borderRight",themeKey:"borders",transform:On}),Ti=Nn({prop:"borderBottom",themeKey:"borders",transform:On}),vr=Nn({prop:"borderLeft",themeKey:"borders",transform:On}),oi=Nn({prop:"borderColor",themeKey:"palette"}),tt=Nn({prop:"borderTopColor",themeKey:"palette"}),Xt=Nn({prop:"borderRightColor",themeKey:"palette"}),Pn=Nn({prop:"borderBottomColor",themeKey:"palette"}),Dr=Nn({prop:"borderLeftColor",themeKey:"palette"}),Xr=d=>{if(d.borderRadius!==void 0&&d.borderRadius!==null){const b=Ht(d.theme,"shape.borderRadius",4,"borderRadius"),z=F=>({borderRadius:on(b,F)});return et(d,d.borderRadius,z)}return null};Xr.propTypes={},Xr.filterProps=["borderRadius"];const Fi=Xn(si,Oi,qi,Ti,vr,oi,tt,Xt,Pn,Dr,Xr);var yi=null;const Qo=d=>{if(d.gap!==void 0&&d.gap!==null){const b=Ht(d.theme,"spacing",8,"gap"),z=F=>({gap:on(b,F)});return et(d,d.gap,z)}return null};Qo.propTypes={},Qo.filterProps=["gap"];const Ui=d=>{if(d.columnGap!==void 0&&d.columnGap!==null){const b=Ht(d.theme,"spacing",8,"columnGap"),z=F=>({columnGap:on(b,F)});return et(d,d.columnGap,z)}return null};Ui.propTypes={},Ui.filterProps=["columnGap"];const ki=d=>{if(d.rowGap!==void 0&&d.rowGap!==null){const b=Ht(d.theme,"spacing",8,"rowGap"),z=F=>({rowGap:on(b,F)});return et(d,d.rowGap,z)}return null};ki.propTypes={},ki.filterProps=["rowGap"];const wi=Nn({prop:"gridColumn"}),go=Nn({prop:"gridRow"}),Pe=Nn({prop:"gridAutoFlow"}),I=Nn({prop:"gridAutoColumns"}),E=Nn({prop:"gridAutoRows"}),P=Nn({prop:"gridTemplateColumns"}),ie=Nn({prop:"gridTemplateRows"}),ce=Nn({prop:"gridTemplateAreas"}),He=Nn({prop:"gridArea"}),pe=Xn(Qo,Ui,ki,wi,go,Pe,I,E,P,ie,ce,He);var Se=null;function de(d,b){return b==="grey"?b:d}const Ue=Nn({prop:"color",themeKey:"palette",transform:de}),Me=Nn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:de}),Ve=Nn({prop:"backgroundColor",themeKey:"palette",transform:de}),lt=Xn(Ue,Me,Ve);var ht=null;function dt(d){return d<=1&&d!==0?`${d*100}%`:d}const $=Nn({prop:"width",transform:dt}),K=d=>{if(d.maxWidth!==void 0&&d.maxWidth!==null){const b=z=>{var F;return{maxWidth:((F=d.theme)==null||(F=F.breakpoints)==null||(F=F.values)==null?void 0:F[z])||Be[z]||dt(z)}};return et(d,d.maxWidth,b)}return null};K.filterProps=["maxWidth"];const X=Nn({prop:"minWidth",transform:dt}),W=Nn({prop:"height",transform:dt}),ve=Nn({prop:"maxHeight",transform:dt}),je=Nn({prop:"minHeight",transform:dt}),nt=Nn({prop:"size",cssProperty:"width",transform:dt}),Xe=Nn({prop:"size",cssProperty:"height",transform:dt}),$e=Nn({prop:"boxSizing"}),De=Xn($,K,X,W,ve,je,$e);var qe=null,it={border:{themeKey:"borders",transform:On},borderTop:{themeKey:"borders",transform:On},borderRight:{themeKey:"borders",transform:On},borderBottom:{themeKey:"borders",transform:On},borderLeft:{themeKey:"borders",transform:On},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Xr},color:{themeKey:"palette",transform:de},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:de},backgroundColor:{themeKey:"palette",transform:de},p:{style:Tr},pt:{style:Tr},pr:{style:Tr},pb:{style:Tr},pl:{style:Tr},px:{style:Tr},py:{style:Tr},padding:{style:Tr},paddingTop:{style:Tr},paddingRight:{style:Tr},paddingBottom:{style:Tr},paddingLeft:{style:Tr},paddingX:{style:Tr},paddingY:{style:Tr},paddingInline:{style:Tr},paddingInlineStart:{style:Tr},paddingInlineEnd:{style:Tr},paddingBlock:{style:Tr},paddingBlockStart:{style:Tr},paddingBlockEnd:{style:Tr},m:{style:pn},mt:{style:pn},mr:{style:pn},mb:{style:pn},ml:{style:pn},mx:{style:pn},my:{style:pn},margin:{style:pn},marginTop:{style:pn},marginRight:{style:pn},marginBottom:{style:pn},marginLeft:{style:pn},marginX:{style:pn},marginY:{style:pn},marginInline:{style:pn},marginInlineStart:{style:pn},marginInlineEnd:{style:pn},marginBlock:{style:pn},marginBlockStart:{style:pn},marginBlockEnd:{style:pn},displayPrint:{cssProperty:!1,transform:d=>({"@media print":{display:d}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Qo},rowGap:{style:ki},columnGap:{style:Ui},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:dt},maxWidth:{style:K},minWidth:{transform:dt},height:{transform:dt},maxHeight:{transform:dt},minHeight:{transform:dt},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function bt(...d){const b=d.reduce((F,fe)=>F.concat(Object.keys(fe)),[]),z=new Set(b);return d.every(F=>z.size===Object.keys(F).length)}function qt(d,b){return typeof d=="function"?d(b):d}function gn(){function d(z,F,fe,Oe){const ft={[z]:F,theme:fe},Wt=Oe[z];if(!Wt)return{[z]:F};const{cssProperty:Qt=z,themeKey:vn,transform:yn,style:hr}=Wt;if(F==null)return null;if(vn==="typography"&&F==="inherit")return{[z]:F};const In=Mr(fe,vn)||{};return hr?hr(ft):et(ft,F,s=>{let u=Er(In,yn,s);return s===u&&typeof s=="string"&&(u=Er(In,yn,`${z}${s==="default"?"":We(s)}`,s)),Qt===!1?u:{[Qt]:u}})}function b(z){var F;const{sx:fe,theme:Oe={}}=z||{};if(!fe)return null;const ft=(F=Oe.unstable_sxConfig)!=null?F:it;function Wt(Qt){let vn=Qt;if(typeof Qt=="function")vn=Qt(Oe);else if(typeof Qt!="object")return Qt;if(!vn)return null;const yn=Vt(Oe.breakpoints),hr=Object.keys(yn);let In=yn;return Object.keys(vn).forEach(i=>{const s=qt(vn[i],Oe);if(s!=null)if(typeof s=="object")if(ft[i])In=ge(In,d(i,s,Oe,ft));else{const u=et({theme:Oe},s,m=>({[i]:m}));bt(u,s)?In[i]=b({sx:s,theme:Oe}):In=ge(In,u)}else In=ge(In,d(i,s,Oe,ft))}),nn(hr,In)}return Array.isArray(fe)?fe.map(Wt):Wt(fe)}return b}const or=gn();or.filterProps=["sx"];var Qn=or;const Gn=["sx"],cr=d=>{var b,z;const F={systemProps:{},otherProps:{}},fe=(b=d==null||(z=d.theme)==null?void 0:z.unstable_sxConfig)!=null?b:it;return Object.keys(d).forEach(Oe=>{fe[Oe]?F.systemProps[Oe]=d[Oe]:F.otherProps[Oe]=d[Oe]}),F};function Di(d){const{sx:b}=d,z=(0,ot.Z)(d,Gn),{systemProps:F,otherProps:fe}=cr(z);let Oe;return Array.isArray(b)?Oe=[F,...b]:typeof b=="function"?Oe=(...ft)=>{const Wt=b(...ft);return Ne(Wt)?(0,Re.Z)({},F,Wt):F}:Oe=(0,Re.Z)({},F,b),(0,Re.Z)({},fe,{sx:Oe})}const Si=["values","unit","step"],_o=null,ps=d=>{const b=Object.keys(d).map(z=>({key:z,val:d[z]}))||[];return b.sort((z,F)=>z.val-F.val),b.reduce((z,F)=>(0,Re.Z)({},z,{[F.key]:F.val}),{})};function Lo(d){const{values:b={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:z="px",step:F=5}=d,fe=(0,ot.Z)(d,Si),Oe=ps(b),ft=Object.keys(Oe);function Wt(In){return`@media (min-width:${typeof b[In]=="number"?b[In]:In}${z})`}function Qt(In){return`@media (max-width:${(typeof b[In]=="number"?b[In]:In)-F/100}${z})`}function vn(In,i){const s=ft.indexOf(i);return`@media (min-width:${typeof b[In]=="number"?b[In]:In}${z}) and (max-width:${(s!==-1&&typeof b[ft[s]]=="number"?b[ft[s]]:i)-F/100}${z})`}function yn(In){return ft.indexOf(In)+1<ft.length?vn(In,ft[ft.indexOf(In)+1]):Wt(In)}function hr(In){const i=ft.indexOf(In);return i===0?Wt(ft[1]):i===ft.length-1?Qt(ft[i]):vn(In,ft[ft.indexOf(In)+1]).replace("@media","@media not all and")}return(0,Re.Z)({keys:ft,values:Oe,up:Wt,down:Qt,between:vn,only:yn,not:hr,unit:z},fe)}var vs={borderRadius:4};function Po(d=8){if(d.mui)return d;const b=Gt({spacing:d}),z=(...F)=>(F.length===0?[1]:F).map(Oe=>{const ft=b(Oe);return typeof ft=="number"?`${ft}px`:ft}).join(" ");return z.mui=!0,z}const ls=["breakpoints","palette","spacing","shape"];function Ps(d={},...b){const{breakpoints:z={},palette:F={},spacing:fe,shape:Oe={}}=d,ft=(0,ot.Z)(d,ls),Wt=Lo(z),Qt=Po(fe);let vn=Ae({breakpoints:Wt,direction:"ltr",components:{},palette:(0,Re.Z)({mode:"light"},F),spacing:Qt,shape:(0,Re.Z)({},vs,Oe)},ft);return vn=b.reduce((yn,hr)=>Ae(yn,hr),vn),vn.unstable_sxConfig=(0,Re.Z)({},it,ft==null?void 0:ft.unstable_sxConfig),vn.unstable_sx=function(hr){return Qn({sx:hr,theme:this})},vn}var Va=Ps;function Ea(d){return Object.keys(d).length===0}function Vs(d=null){const b=_e.useContext(hn.T);return!b||Ea(b)?d:b}var zi=Vs;const Cs=Va();function ea(d=Cs){return zi(d)}var Ci=ea;const Ys=["className","component"];function _a(d={}){const{themeId:b,defaultTheme:z,defaultClassName:F="MuiBox-root",generateClassName:fe}=d,Oe=be("div",{shouldForwardProp:Wt=>Wt!=="theme"&&Wt!=="sx"&&Wt!=="as"})(Qn);return _e.forwardRef(function(Qt,vn){const yn=Ci(z),hr=Di(Qt),{className:In,component:i="div"}=hr,s=(0,ot.Z)(hr,Ys);return(0,Ce.jsx)(Oe,(0,Re.Z)({as:i,ref:vn,className:oe(In,fe?fe(F):F),theme:b&&yn[b]||yn},s))})}const Ko=d=>d;var xo=(()=>{let d=Ko;return{configure(b){d=b},generate(b){return d(b)},reset(){d=Ko}}})();function p(d,b){return(0,Re.Z)({toolbar:{minHeight:56,[d.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[d.up("sm")]:{minHeight:64}}},b)}function g(d,b=0,z=1){return Math.min(Math.max(b,d),z)}function w(d){d=d.slice(1);const b=new RegExp(`.{1,${d.length>=6?2:1}}`,"g");let z=d.match(b);return z&&z[0].length===1&&(z=z.map(F=>F+F)),z?`rgb${z.length===4?"a":""}(${z.map((F,fe)=>fe<3?parseInt(F,16):Math.round(parseInt(F,16)/255*1e3)/1e3).join(", ")})`:""}function D(d){const b=d.toString(16);return b.length===1?`0${b}`:b}function ee(d){if(d.type)return d;if(d.charAt(0)==="#")return ee(w(d));const b=d.indexOf("("),z=d.substring(0,b);if(["rgb","rgba","hsl","hsla","color"].indexOf(z)===-1)throw new Error(Ke(9,d));let F=d.substring(b+1,d.length-1),fe;if(z==="color"){if(F=F.split(" "),fe=F.shift(),F.length===4&&F[3].charAt(0)==="/"&&(F[3]=F[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(fe)===-1)throw new Error(Ke(10,fe))}else F=F.split(",");return F=F.map(Oe=>parseFloat(Oe)),{type:z,values:F,colorSpace:fe}}const ne=d=>{const b=ee(d);return b.values.slice(0,3).map((z,F)=>b.type.indexOf("hsl")!==-1&&F!==0?`${z}%`:z).join(" ")},T=(d,b)=>{try{return ne(d)}catch(z){return d}};function V(d){const{type:b,colorSpace:z}=d;let{values:F}=d;return b.indexOf("rgb")!==-1?F=F.map((fe,Oe)=>Oe<3?parseInt(fe,10):fe):b.indexOf("hsl")!==-1&&(F[1]=`${F[1]}%`,F[2]=`${F[2]}%`),b.indexOf("color")!==-1?F=`${z} ${F.join(" ")}`:F=`${F.join(", ")}`,`${b}(${F})`}function M(d){if(d.indexOf("#")===0)return d;const{values:b}=ee(d);return`#${b.map((z,F)=>D(F===3?Math.round(255*z):z)).join("")}`}function H(d){d=ee(d);const{values:b}=d,z=b[0],F=b[1]/100,fe=b[2]/100,Oe=F*Math.min(fe,1-fe),ft=(vn,yn=(vn+z/30)%12)=>fe-Oe*Math.max(Math.min(yn-3,9-yn,1),-1);let Wt="rgb";const Qt=[Math.round(ft(0)*255),Math.round(ft(8)*255),Math.round(ft(4)*255)];return d.type==="hsla"&&(Wt+="a",Qt.push(b[3])),V({type:Wt,values:Qt})}function Q(d){d=ee(d);let b=d.type==="hsl"||d.type==="hsla"?ee(H(d)).values:d.values;return b=b.map(z=>(d.type!=="color"&&(z/=255),z<=.03928?z/12.92:Mc((z+.055)/1.055,2.4))),Number((.2126*b[0]+.7152*b[1]+.0722*b[2]).toFixed(3))}function Te(d,b){const z=Q(d),F=Q(b);return(Math.max(z,F)+.05)/(Math.min(z,F)+.05)}function mt(d,b){return d=ee(d),b=g(b),(d.type==="rgb"||d.type==="hsl")&&(d.type+="a"),d.type==="color"?d.values[3]=`/${b}`:d.values[3]=b,V(d)}function St(d,b,z){try{return mt(d,b)}catch(F){return d}}function Ut(d,b){if(d=ee(d),b=g(b),d.type.indexOf("hsl")!==-1)d.values[2]*=1-b;else if(d.type.indexOf("rgb")!==-1||d.type.indexOf("color")!==-1)for(let z=0;z<3;z+=1)d.values[z]*=1-b;return V(d)}function vt(d,b,z){try{return Ut(d,b)}catch(F){return d}}function $t(d,b){if(d=ee(d),b=g(b),d.type.indexOf("hsl")!==-1)d.values[2]+=(100-d.values[2])*b;else if(d.type.indexOf("rgb")!==-1)for(let z=0;z<3;z+=1)d.values[z]+=(255-d.values[z])*b;else if(d.type.indexOf("color")!==-1)for(let z=0;z<3;z+=1)d.values[z]+=(1-d.values[z])*b;return V(d)}function Un(d,b,z){try{return $t(d,b)}catch(F){return d}}function ln(d,b=.15){return Q(d)>.5?Ut(d,b):$t(d,b)}function Pt(d,b,z){try{return Pt(d,b)}catch(F){return d}}var Ln={black:"#000",white:"#fff"},xn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},$n={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Kn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},di={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ri={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Cr={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},uo={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};const ko=["mode","contrastThreshold","tonalOffset"],Eo={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ln.white,default:Ln.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},vo={text:{primary:Ln.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ln.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function qo(d,b,z,F){const fe=F.light||F,Oe=F.dark||F*1.5;d[b]||(d.hasOwnProperty(z)?d[b]=d[z]:b==="light"?d.light=$t(d.main,fe):b==="dark"&&(d.dark=Ut(d.main,Oe)))}function Uo(d="light"){return d==="dark"?{main:Ri[200],light:Ri[50],dark:Ri[400]}:{main:Ri[700],light:Ri[400],dark:Ri[800]}}function $o(d="light"){return d==="dark"?{main:$n[200],light:$n[50],dark:$n[400]}:{main:$n[500],light:$n[300],dark:$n[700]}}function Bi(d="light"){return d==="dark"?{main:Kn[500],light:Kn[300],dark:Kn[700]}:{main:Kn[700],light:Kn[400],dark:Kn[800]}}function Fs(d="light"){return d==="dark"?{main:Cr[400],light:Cr[300],dark:Cr[700]}:{main:Cr[700],light:Cr[500],dark:Cr[900]}}function Is(d="light"){return d==="dark"?{main:uo[400],light:uo[300],dark:uo[700]}:{main:uo[800],light:uo[500],dark:uo[900]}}function n1(d="light"){return d==="dark"?{main:di[400],light:di[300],dark:di[700]}:{main:"#ed6c02",light:di[500],dark:di[900]}}function rs(d){const{mode:b="light",contrastThreshold:z=3,tonalOffset:F=.2}=d,fe=(0,ot.Z)(d,ko),Oe=d.primary||Uo(b),ft=d.secondary||$o(b),Wt=d.error||Bi(b),Qt=d.info||Fs(b),vn=d.success||Is(b),yn=d.warning||n1(b);function hr(u){return Te(u,vo.text.primary)>=z?vo.text.primary:Eo.text.primary}const In=({color:u,name:m,mainShade:x=500,lightShade:A=300,darkShade:ue=700})=>{if(u=(0,Re.Z)({},u),!u.main&&u[x]&&(u.main=u[x]),!u.hasOwnProperty("main"))throw new Error(Ke(11,m?` (${m})`:"",x));if(typeof u.main!="string")throw new Error(Ke(12,m?` (${m})`:"",JSON.stringify(u.main)));return qo(u,"light",A,F),qo(u,"dark",ue,F),u.contrastText||(u.contrastText=hr(u.main)),u},i={dark:vo,light:Eo};return Ae((0,Re.Z)({common:(0,Re.Z)({},Ln),mode:b,primary:In({color:Oe,name:"primary"}),secondary:In({color:ft,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:In({color:Wt,name:"error"}),warning:In({color:yn,name:"warning"}),info:In({color:Qt,name:"info"}),success:In({color:vn,name:"success"}),grey:xn,contrastThreshold:z,getContrastText:hr,augmentColor:In,tonalOffset:F},i[b]),fe)}const ta=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Os(d){return Math.round(d*1e5)/1e5}const Fa={textTransform:"uppercase"},Oo='"Roboto", "Helvetica", "Arial", sans-serif';function _s(d,b){const z=typeof b=="function"?b(d):b,{fontFamily:F=Oo,fontSize:fe=14,fontWeightLight:Oe=300,fontWeightRegular:ft=400,fontWeightMedium:Wt=500,fontWeightBold:Qt=700,htmlFontSize:vn=16,allVariants:yn,pxToRem:hr}=z,In=(0,ot.Z)(z,ta),i=fe/14,s=hr||(x=>`${x/vn*i}rem`),u=(x,A,ue,Fe,ct)=>(0,Re.Z)({fontFamily:F,fontWeight:x,fontSize:s(A),lineHeight:ue},F===Oo?{letterSpacing:`${Os(Fe/A)}em`}:{},ct,yn),m={h1:u(Oe,96,1.167,-1.5),h2:u(Oe,60,1.2,-.5),h3:u(ft,48,1.167,0),h4:u(ft,34,1.235,.25),h5:u(ft,24,1.334,0),h6:u(Wt,20,1.6,.15),subtitle1:u(ft,16,1.75,.15),subtitle2:u(Wt,14,1.57,.1),body1:u(ft,16,1.5,.15),body2:u(ft,14,1.43,.15),button:u(Wt,14,1.75,.4,Fa),caption:u(ft,12,1.66,.4),overline:u(ft,12,2.66,1,Fa),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ae((0,Re.Z)({htmlFontSize:vn,pxToRem:s,fontFamily:F,fontSize:fe,fontWeightLight:Oe,fontWeightRegular:ft,fontWeightMedium:Wt,fontWeightBold:Qt},m),In,{clone:!1})}const es=.2,Ki=.14,xa=.12;function Nt(...d){return[`${d[0]}px ${d[1]}px ${d[2]}px ${d[3]}px rgba(0,0,0,${es})`,`${d[4]}px ${d[5]}px ${d[6]}px ${d[7]}px rgba(0,0,0,${Ki})`,`${d[8]}px ${d[9]}px ${d[10]}px ${d[11]}px rgba(0,0,0,${xa})`].join(",")}var ka=["none",Nt(0,2,1,-1,0,1,1,0,0,1,3,0),Nt(0,3,1,-2,0,2,2,0,0,1,5,0),Nt(0,3,3,-2,0,3,4,0,0,1,8,0),Nt(0,2,4,-1,0,4,5,0,0,1,10,0),Nt(0,3,5,-1,0,5,8,0,0,1,14,0),Nt(0,3,5,-1,0,6,10,0,0,1,18,0),Nt(0,4,5,-2,0,7,10,1,0,2,16,1),Nt(0,5,5,-3,0,8,10,1,0,3,14,2),Nt(0,5,6,-3,0,9,12,1,0,3,16,2),Nt(0,6,6,-3,0,10,14,1,0,4,18,3),Nt(0,6,7,-4,0,11,15,1,0,4,20,3),Nt(0,7,8,-4,0,12,17,2,0,5,22,4),Nt(0,7,8,-4,0,13,19,2,0,5,24,4),Nt(0,7,9,-4,0,14,21,2,0,5,26,4),Nt(0,8,9,-5,0,15,22,2,0,6,28,5),Nt(0,8,10,-5,0,16,24,2,0,6,30,5),Nt(0,8,11,-5,0,17,26,2,0,6,32,5),Nt(0,9,11,-5,0,18,28,2,0,7,34,6),Nt(0,9,12,-6,0,19,29,2,0,7,36,6),Nt(0,10,13,-6,0,20,31,3,0,8,38,7),Nt(0,10,13,-6,0,21,33,3,0,8,40,7),Nt(0,10,14,-6,0,22,35,3,0,8,42,7),Nt(0,11,14,-7,0,23,36,3,0,9,44,8),Nt(0,11,15,-7,0,24,38,3,0,9,46,8)];const Ya=["duration","easing","delay"],Ds={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},is={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function lo(d){return`${Math.round(d)}ms`}function cs(d){if(!d)return 0;const b=d/36;return Math.round((4+15*Mc(b,.25)+b/5)*10)}function we(d){const b=(0,Re.Z)({},Ds,d.easing),z=(0,Re.Z)({},is,d.duration),F=(fe=["all"],Oe={})=>{const{duration:ft=z.standard,easing:Wt=b.easeInOut,delay:Qt=0}=Oe,vn=(0,ot.Z)(Oe,Ya);return(Array.isArray(fe)?fe:[fe]).map(yn=>`${yn} ${typeof ft=="string"?ft:lo(ft)} ${Wt} ${typeof Qt=="string"?Qt:lo(Qt)}`).join(",")};return(0,Re.Z)({getAutoHeightDuration:cs,create:F},d,{easing:b,duration:z})}var ya={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const Aa=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Js(d={},...b){const{mixins:z={},palette:F={},transitions:fe={},typography:Oe={}}=d,ft=(0,ot.Z)(d,Aa);if(d.vars)throw new Error(Ke(18));const Wt=rs(F),Qt=Va(d);let vn=Ae(Qt,{mixins:p(Qt.breakpoints,z),palette:Wt,shadows:ka.slice(),typography:_s(Wt,Oe),transitions:we(fe),zIndex:(0,Re.Z)({},ya)});return vn=Ae(vn,ft),vn=b.reduce((yn,hr)=>Ae(yn,hr),vn),vn.unstable_sxConfig=(0,Re.Z)({},it,ft==null?void 0:ft.unstable_sxConfig),vn.unstable_sx=function(hr){return Qn({sx:hr,theme:this})},vn}let U1=!1;function Ua(...d){return Js(...d)}var yo=Js,wa="$$material";const ba=yo();var Wi=_a({themeId:wa,defaultTheme:ba,defaultClassName:"MuiBox-root",generateClassName:xo.generate});function os(d,b,z=void 0){const F={};return Object.keys(d).forEach(fe=>{F[fe]=d[fe].reduce((Oe,ft)=>{if(ft){const Wt=b(ft);Wt!==""&&Oe.push(Wt),z&&z[ft]&&Oe.push(z[ft])}return Oe},[]).join(" ")}),F}var pr=te(10422);function Pa(d,b){typeof d=="function"?d(b):d&&(d.current=b)}function wo(...d){return _e.useMemo(()=>d.every(b=>b==null)?null:b=>{d.forEach(z=>{Pa(z,b)})},d)}function Io(d){return d&&d.ownerDocument||document}function us(d){return Io(d).defaultView||window}function to(d,b=166){let z;function F(...fe){const Oe=()=>{d.apply(this,fe)};clearTimeout(z),z=setTimeout(Oe,b)}return F.clear=()=>{clearTimeout(z)},F}var Do=typeof window!="undefined"?_e.useLayoutEffect:_e.useEffect;const fs=["onChange","maxRows","minRows","style","value"];function Ma(d){return parseInt(d,10)||0}const Hs={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function bo(d){return d==null||Object.keys(d).length===0||d.outerHeightStyle===0&&!d.overflow}const $a=_e.forwardRef(function(b,z){const{onChange:F,maxRows:fe,minRows:Oe=1,style:ft,value:Wt}=b,Qt=(0,ot.Z)(b,fs),{current:vn}=_e.useRef(Wt!=null),yn=_e.useRef(null),hr=wo(z,yn),In=_e.useRef(null),i=_e.useRef(0),[s,u]=_e.useState({outerHeightStyle:0}),m=_e.useCallback(()=>{const ct=yn.current,En=us(ct).getComputedStyle(ct);if(En.width==="0px")return{outerHeightStyle:0};const wr=In.current;wr.style.width=En.width,wr.value=ct.value||b.placeholder||"x",wr.value.slice(-1)===`
`&&(wr.value+=" ");const Pr=En.boxSizing,Kr=Ma(En.paddingBottom)+Ma(En.paddingTop),br=Ma(En.borderBottomWidth)+Ma(En.borderTopWidth),Vo=wr.scrollHeight;wr.value="x";const as=wr.scrollHeight;let _t=Vo;Oe&&(_t=Math.max(Number(Oe)*as,_t)),fe&&(_t=Math.min(Number(fe)*as,_t)),_t=Math.max(_t,as);const at=_t+(Pr==="border-box"?Kr+br:0),Et=Math.abs(_t-Vo)<=1;return{outerHeightStyle:at,overflow:Et}},[fe,Oe,b.placeholder]),x=(ct,Yt)=>{const{outerHeightStyle:En,overflow:wr}=Yt;return i.current<20&&(En>0&&Math.abs((ct.outerHeightStyle||0)-En)>1||ct.overflow!==wr)?(i.current+=1,{overflow:wr,outerHeightStyle:En}):ct},A=_e.useCallback(()=>{const ct=m();bo(ct)||u(Yt=>x(Yt,ct))},[m]),ue=()=>{const ct=m();bo(ct)||pr.flushSync(()=>{u(Yt=>x(Yt,ct))})};_e.useEffect(()=>{const ct=to(()=>{i.current=0,yn.current&&ue()});let Yt;const En=yn.current,wr=us(En);return wr.addEventListener("resize",ct),typeof ResizeObserver!="undefined"&&(Yt=new ResizeObserver(ct),Yt.observe(En)),()=>{ct.clear(),wr.removeEventListener("resize",ct),Yt&&Yt.disconnect()}}),Do(()=>{A()}),_e.useEffect(()=>{i.current=0},[Wt]);const Fe=ct=>{i.current=0,vn||A(),F&&F(ct)};return(0,Ce.jsxs)(_e.Fragment,{children:[(0,Ce.jsx)("textarea",(0,Re.Z)({value:Wt,onChange:Fe,ref:hr,rows:Oe,style:(0,Re.Z)({height:s.outerHeightStyle,overflow:s.overflow?"hidden":void 0},ft)},Qt)),(0,Ce.jsx)("textarea",{"aria-hidden":!0,className:b.className,readOnly:!0,ref:In,tabIndex:-1,style:(0,Re.Z)({},Hs.shadow,ft,{paddingTop:0,paddingBottom:0})})]})});function xs(d){return typeof d=="string"}function ks({props:d,states:b,muiFormControl:z}){return b.reduce((F,fe)=>(F[fe]=d[fe],z&&typeof d[fe]=="undefined"&&(F[fe]=z[fe]),F),{})}var Zo=_e.createContext(void 0);function ui(){return _e.useContext(Zo)}const fo=["variant"];function ts(d){return d.length===0}function N(d){const{variant:b}=d,z=(0,ot.Z)(d,fo);let F=b||"";return Object.keys(z).sort().forEach(fe=>{fe==="color"?F+=ts(F)?d[fe]:We(d[fe]):F+=`${ts(F)?fe:We(fe)}${We(d[fe].toString())}`}),F}const le=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Ye(d){return Object.keys(d).length===0}function Mt(d){return typeof d=="string"&&d.charCodeAt(0)>96}const Ft=(d,b)=>b.components&&b.components[d]&&b.components[d].styleOverrides?b.components[d].styleOverrides:null,Tt=(d,b)=>{let z=[];b&&b.components&&b.components[d]&&b.components[d].variants&&(z=b.components[d].variants);const F={};return z.forEach(fe=>{const Oe=N(fe.props);F[Oe]=fe.style}),F},Hn=(d,b,z,F)=>{var fe;const{ownerState:Oe={}}=d,ft=[],Wt=z==null||(fe=z.components)==null||(fe=fe[F])==null?void 0:fe.variants;return Wt&&Wt.forEach(Qt=>{let vn=!0;Object.keys(Qt.props).forEach(yn=>{Oe[yn]!==Qt.props[yn]&&d[yn]!==Qt.props[yn]&&(vn=!1)}),vn&&ft.push(b[N(Qt.props)])}),ft};function Rn(d){return d!=="ownerState"&&d!=="theme"&&d!=="sx"&&d!=="as"}const sr=Va(),kn=d=>d&&d.charAt(0).toLowerCase()+d.slice(1);function Vn({defaultTheme:d,theme:b,themeId:z}){return Ye(b)?d:b[z]||b}function Fn(d){return d?(b,z)=>z[d]:null}function ro(d={}){const{themeId:b,defaultTheme:z=sr,rootShouldForwardProp:F=Rn,slotShouldForwardProp:fe=Rn}=d,Oe=ft=>Qn((0,Re.Z)({},ft,{theme:Vn((0,Re.Z)({},ft,{defaultTheme:z,themeId:b}))}));return Oe.__mui_systemSx=!0,(ft,Wt={})=>{It(ft,Fe=>Fe.filter(ct=>!(ct!=null&&ct.__mui_systemSx)));const{name:Qt,slot:vn,skipVariantsResolver:yn,skipSx:hr,overridesResolver:In=Fn(kn(vn))}=Wt,i=(0,ot.Z)(Wt,le),s=yn!==void 0?yn:vn&&vn!=="Root"&&vn!=="root"||!1,u=hr||!1;let m,x=Rn;vn==="Root"||vn==="root"?x=F:vn?x=fe:Mt(ft)&&(x=void 0);const A=be(ft,(0,Re.Z)({shouldForwardProp:x,label:m},i)),ue=(Fe,...ct)=>{const Yt=ct?ct.map(Kr=>typeof Kr=="function"&&Kr.__emotion_real!==Kr?br=>Kr((0,Re.Z)({},br,{theme:Vn((0,Re.Z)({},br,{defaultTheme:z,themeId:b}))})):Kr):[];let En=Fe;Qt&&In&&Yt.push(Kr=>{const br=Vn((0,Re.Z)({},Kr,{defaultTheme:z,themeId:b})),Vo=Ft(Qt,br);if(Vo){const as={};return Object.entries(Vo).forEach(([_t,at])=>{as[_t]=typeof at=="function"?at((0,Re.Z)({},Kr,{theme:br})):at}),In(Kr,as)}return null}),Qt&&!s&&Yt.push(Kr=>{const br=Vn((0,Re.Z)({},Kr,{defaultTheme:z,themeId:b}));return Hn(Kr,Tt(Qt,br),br,Qt)}),u||Yt.push(Oe);const wr=Yt.length-ct.length;if(Array.isArray(Fe)&&wr>0){const Kr=new Array(wr).fill("");En=[...Fe,...Kr],En.raw=[...Fe.raw,...Kr]}else typeof Fe=="function"&&Fe.__emotion_real!==Fe&&(En=Kr=>Fe((0,Re.Z)({},Kr,{theme:Vn((0,Re.Z)({},Kr,{defaultTheme:z,themeId:b}))})));const Pr=A(En,...Yt);return ft.muiName&&(Pr.muiName=ft.muiName),Pr};return A.withConfig&&(ue.withConfig=A.withConfig),ue}}var Zr=yo();const pi=d=>Rn(d)&&d!=="classes",$i=null;var ho=ro({themeId:wa,defaultTheme:Zr,rootShouldForwardProp:pi});function Wo(d,b){const z=(0,Re.Z)({},b);return Object.keys(d).forEach(F=>{if(F.toString().match(/^(components|slots)$/))z[F]=(0,Re.Z)({},d[F],z[F]);else if(F.toString().match(/^(componentsProps|slotProps)$/)){const fe=d[F]||{},Oe=b[F];z[F]={},!Oe||!Object.keys(Oe)?z[F]=fe:!fe||!Object.keys(fe)?z[F]=Oe:(z[F]=(0,Re.Z)({},Oe),Object.keys(fe).forEach(ft=>{z[F][ft]=Wo(fe[ft],Oe[ft])}))}else z[F]===void 0&&(z[F]=d[F])}),z}function Yr(d){const{theme:b,name:z,props:F}=d;return!b||!b.components||!b.components[z]||!b.components[z].defaultProps?F:Wo(b.components[z].defaultProps,F)}function no({props:d,name:b,defaultTheme:z,themeId:F}){let fe=Ci(z);return F&&(fe=fe[F]||fe),Yr({theme:fe,name:b,props:d})}function Jo({props:d,name:b}){return no({props:d,name:b,defaultTheme:Zr,themeId:wa})}var io=We,ss=wo,ys=Do,Sa=te(61097);function jo(d){return d==null||Object.keys(d).length===0}function To(d){const{styles:b,defaultTheme:z={}}=d,F=typeof b=="function"?fe=>b(jo(fe)?z:fe):b;return(0,Ce.jsx)(Sa.xB,{styles:F})}function ws({styles:d,themeId:b,defaultTheme:z={}}){const F=Ci(z),fe=typeof d=="function"?d(b&&F[b]||F):d;return(0,Ce.jsx)(To,{styles:fe})}var Ao=ws;function oo(d){return(0,Ce.jsx)(Ao,(0,Re.Z)({},d,{defaultTheme:Zr,themeId:wa}))}var ca=oo;function Za(d){return d!=null&&!(Array.isArray(d)&&d.length===0)}function bs(d,b=!1){return d&&(Za(d.value)&&d.value!==""||b&&Za(d.defaultValue)&&d.defaultValue!=="")}function $s(d){return d.startAdornment}const Ll={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function x1(d,b,z="Mui"){const F=Ll[b];return F?`${z}-${F}`:`${xo.generate(d)}-${b}`}function El(d,b,z="Mui"){const F={};return b.forEach(fe=>{F[fe]=x1(d,fe,z)}),F}function Sc(d){return x1("MuiInputBase",d)}var ol=El("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);const sl=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],iu=(d,b)=>{const{ownerState:z}=d;return[b.root,z.formControl&&b.formControl,z.startAdornment&&b.adornedStart,z.endAdornment&&b.adornedEnd,z.error&&b.error,z.size==="small"&&b.sizeSmall,z.multiline&&b.multiline,z.color&&b[`color${io(z.color)}`],z.fullWidth&&b.fullWidth,z.hiddenLabel&&b.hiddenLabel]},Lc=(d,b)=>{const{ownerState:z}=d;return[b.input,z.size==="small"&&b.inputSizeSmall,z.multiline&&b.inputMultiline,z.type==="search"&&b.inputTypeSearch,z.startAdornment&&b.inputAdornedStart,z.endAdornment&&b.inputAdornedEnd,z.hiddenLabel&&b.inputHiddenLabel]},So=d=>{const{classes:b,color:z,disabled:F,error:fe,endAdornment:Oe,focused:ft,formControl:Wt,fullWidth:Qt,hiddenLabel:vn,multiline:yn,readOnly:hr,size:In,startAdornment:i,type:s}=d,u={root:["root",`color${io(z)}`,F&&"disabled",fe&&"error",Qt&&"fullWidth",ft&&"focused",Wt&&"formControl",In==="small"&&"sizeSmall",yn&&"multiline",i&&"adornedStart",Oe&&"adornedEnd",vn&&"hiddenLabel",hr&&"readOnly"],input:["input",F&&"disabled",s==="search"&&"inputTypeSearch",yn&&"inputMultiline",In==="small"&&"inputSizeSmall",vn&&"inputHiddenLabel",i&&"inputAdornedStart",Oe&&"inputAdornedEnd",hr&&"readOnly"]};return os(u,Sc,b)},Ia=ho("div",{name:"MuiInputBase",slot:"Root",overridesResolver:iu})(({theme:d,ownerState:b})=>(0,Re.Z)({},d.typography.body1,{color:(d.vars||d).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ol.disabled}`]:{color:(d.vars||d).palette.text.disabled,cursor:"default"}},b.multiline&&(0,Re.Z)({padding:"4px 0 5px"},b.size==="small"&&{paddingTop:1}),b.fullWidth&&{width:"100%"})),Ka=ho("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Lc})(({theme:d,ownerState:b})=>{const z=d.palette.mode==="light",F=(0,Re.Z)({color:"currentColor"},d.vars?{opacity:d.vars.opacity.inputPlaceholder}:{opacity:z?.42:.5},{transition:d.transitions.create("opacity",{duration:d.transitions.duration.shorter})}),fe={opacity:"0 !important"},Oe=d.vars?{opacity:d.vars.opacity.inputPlaceholder}:{opacity:z?.42:.5};return(0,Re.Z)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":F,"&::-moz-placeholder":F,"&:-ms-input-placeholder":F,"&::-ms-input-placeholder":F,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ol.formControl} &`]:{"&::-webkit-input-placeholder":fe,"&::-moz-placeholder":fe,"&:-ms-input-placeholder":fe,"&::-ms-input-placeholder":fe,"&:focus::-webkit-input-placeholder":Oe,"&:focus::-moz-placeholder":Oe,"&:focus:-ms-input-placeholder":Oe,"&:focus::-ms-input-placeholder":Oe},[`&.${ol.disabled}`]:{opacity:1,WebkitTextFillColor:(d.vars||d).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},b.size==="small"&&{paddingTop:1},b.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},b.type==="search"&&{MozAppearance:"textfield"})}),ql=(0,Ce.jsx)(ca,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}});var A1=_e.forwardRef(function(b,z){var F;const fe=Jo({props:b,name:"MuiInputBase"}),{"aria-describedby":Oe,autoComplete:ft,autoFocus:Wt,className:Qt,components:vn={},componentsProps:yn={},defaultValue:hr,disabled:In,disableInjectingGlobalStyles:i,endAdornment:s,fullWidth:u=!1,id:m,inputComponent:x="input",inputProps:A={},inputRef:ue,maxRows:Fe,minRows:ct,multiline:Yt=!1,name:En,onBlur:wr,onChange:Pr,onClick:Kr,onFocus:br,onKeyDown:Vo,onKeyUp:as,placeholder:_t,readOnly:at,renderSuffix:Et,rows:mr,slotProps:Ur={},slots:Li={},startAdornment:ri,type:Ni="text",value:ms}=fe,mo=(0,ot.Z)(fe,sl),pa=A.value!=null?A.value:ms,{current:el}=_e.useRef(pa!=null),N1=_e.useRef(),Cc=_e.useCallback(js=>{},[]),hu=ss(N1,ue,A.ref,Cc),[tl,co]=_e.useState(!1),hs=ui(),_1=ks({props:fe,muiFormControl:hs,states:["color","disabled","error","hiddenLabel","size","required","filled"]});_1.focused=hs?hs.focused:tl,_e.useEffect(()=>{!hs&&In&&tl&&(co(!1),wr&&wr())},[hs,In,tl,wr]);const pu=hs&&hs.onFilled,mu=hs&&hs.onEmpty,Nc=_e.useCallback(js=>{bs(js)?pu&&pu():mu&&mu()},[pu,mu]);ys(()=>{el&&Nc({value:pa})},[pa,Nc,el]);const nf=js=>{if(_1.disabled){js.stopPropagation();return}br&&br(js),A.onFocus&&A.onFocus(js),hs&&hs.onFocus?hs.onFocus(js):co(!0)},rf=js=>{wr&&wr(js),A.onBlur&&A.onBlur(js),hs&&hs.onBlur?hs.onBlur(js):co(!1)},of=(js,...g0)=>{if(!el){const v0=js.target||N1.current;if(v0==null)throw new Error(Ke(1));Nc({value:v0.value})}A.onChange&&A.onChange(js,...g0),Pr&&Pr(js,...g0)};_e.useEffect(()=>{Nc(N1.current)},[]);const sf=js=>{N1.current&&js.currentTarget===js.target&&N1.current.focus(),Kr&&Kr(js)};let Iu=x,nl=A;Yt&&Iu==="input"&&(mr?nl=(0,Re.Z)({type:void 0,minRows:mr,maxRows:mr},nl):nl=(0,Re.Z)({type:void 0,maxRows:Fe,minRows:ct},nl),Iu=$a);const af=js=>{Nc(js.animationName==="mui-auto-fill-cancel"?N1.current:{value:"x"})};_e.useEffect(()=>{hs&&hs.setAdornedStart(!!ri)},[hs,ri]);const gu=(0,Re.Z)({},fe,{color:_1.color||"primary",disabled:_1.disabled,endAdornment:s,error:_1.error,focused:_1.focused,formControl:hs,fullWidth:u,hiddenLabel:_1.hiddenLabel,multiline:Yt,size:_1.size,startAdornment:ri,type:Ni}),h0=So(gu),p0=Li.root||vn.Root||Ia,Ou=Ur.root||yn.root||{},m0=Li.input||vn.Input||Ka;return nl=(0,Re.Z)({},nl,(F=Ur.input)!=null?F:yn.input),(0,Ce.jsxs)(_e.Fragment,{children:[!i&&ql,(0,Ce.jsxs)(p0,(0,Re.Z)({},Ou,!xs(p0)&&{ownerState:(0,Re.Z)({},gu,Ou.ownerState)},{ref:z,onClick:sf},mo,{className:oe(h0.root,Ou.className,Qt,at&&"MuiInputBase-readOnly"),children:[ri,(0,Ce.jsx)(Zo.Provider,{value:null,children:(0,Ce.jsx)(m0,(0,Re.Z)({ownerState:gu,"aria-invalid":_1.error,"aria-describedby":Oe,autoComplete:ft,autoFocus:Wt,defaultValue:hr,disabled:_1.disabled,id:m,onAnimationStart:af,name:En,placeholder:_t,readOnly:at,required:_1.required,rows:mr,value:pa,onKeyDown:Vo,onKeyUp:as,type:Ni},nl,!xs(m0)&&{as:Iu,ownerState:(0,Re.Z)({},gu,nl.ownerState)},{ref:hu,className:oe(h0.input,nl.className,at&&"MuiInputBase-readOnly"),onBlur:rf,onChange:of,onFocus:nf}))}),s,Et?Et((0,Re.Z)({},_1,{startAdornment:ri})):null]}))]})});function h1(d){const{children:b,defer:z=!1,fallback:F=null}=d,[fe,Oe]=_e.useState(!1);return Do(()=>{z||Oe(!0)},[z]),_e.useEffect(()=>{z&&Oe(!0)},[z]),(0,Ce.jsx)(_e.Fragment,{children:fe?b:F})}function Ql(d){return x1("MuiSvgIcon",d)}const ec=El("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Ja=null;const Tl=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],na=d=>{const{color:b,fontSize:z,classes:F}=d,fe={root:["root",b!=="inherit"&&`color${io(b)}`,`fontSize${io(z)}`]};return os(fe,Ql,F)},al=ho("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(d,b)=>{const{ownerState:z}=d;return[b.root,z.color!=="inherit"&&b[`color${io(z.color)}`],b[`fontSize${io(z.fontSize)}`]]}})(({theme:d,ownerState:b})=>{var z,F,fe,Oe,ft,Wt,Qt,vn,yn,hr,In,i,s;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:b.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(z=d.transitions)==null||(F=z.create)==null?void 0:F.call(z,"fill",{duration:(fe=d.transitions)==null||(fe=fe.duration)==null?void 0:fe.shorter}),fontSize:{inherit:"inherit",small:((Oe=d.typography)==null||(ft=Oe.pxToRem)==null?void 0:ft.call(Oe,20))||"1.25rem",medium:((Wt=d.typography)==null||(Qt=Wt.pxToRem)==null?void 0:Qt.call(Wt,24))||"1.5rem",large:((vn=d.typography)==null||(yn=vn.pxToRem)==null?void 0:yn.call(vn,35))||"2.1875rem"}[b.fontSize],color:(hr=(In=(d.vars||d).palette)==null||(In=In[b.color])==null?void 0:In.main)!=null?hr:{action:(i=(d.vars||d).palette)==null||(i=i.action)==null?void 0:i.active,disabled:(s=(d.vars||d).palette)==null||(s=s.action)==null?void 0:s.disabled,inherit:void 0}[b.color]}}),Ms=_e.forwardRef(function(b,z){const F=Jo({props:b,name:"MuiSvgIcon"}),{children:fe,className:Oe,color:ft="inherit",component:Wt="svg",fontSize:Qt="medium",htmlColor:vn,inheritViewBox:yn=!1,titleAccess:hr,viewBox:In="0 0 24 24"}=F,i=(0,ot.Z)(F,Tl),s=_e.isValidElement(fe)&&fe.type==="svg",u=(0,Re.Z)({},F,{color:ft,component:Wt,fontSize:Qt,instanceFontSize:b.fontSize,inheritViewBox:yn,viewBox:In,hasSvgAsChild:s}),m={};yn||(m.viewBox=In);const x=na(u);return(0,Ce.jsxs)(al,(0,Re.Z)({as:Wt,className:oe(x.root,Oe),focusable:"false",color:vn,"aria-hidden":hr?void 0:!0,role:hr?"img":void 0,ref:z},m,i,s&&fe.props,{ownerState:u,children:[s?fe.props.children:fe,hr?(0,Ce.jsx)("title",{children:hr}):null]}))});Ms.muiName="SvgIcon";var ll=Ms,p1=d=>{let b;return d<1?b=5.11916*Mc(d,2):b=4.5*Math.log(d+1)+2,(b/100).toFixed(2)};function Zs(d){return x1("MuiPaper",d)}const Br=El("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var ua=null;const Ss=["className","component","elevation","square","variant"],po=d=>{const{square:b,elevation:z,variant:F,classes:fe}=d,Oe={root:["root",F,!b&&"rounded",F==="elevation"&&`elevation${z}`]};return os(Oe,Zs,fe)},cl=ho("div",{name:"MuiPaper",slot:"Root",overridesResolver:(d,b)=>{const{ownerState:z}=d;return[b.root,b[z.variant],!z.square&&b.rounded,z.variant==="elevation"&&b[`elevation${z.elevation}`]]}})(({theme:d,ownerState:b})=>{var z;return(0,Re.Z)({backgroundColor:(d.vars||d).palette.background.paper,color:(d.vars||d).palette.text.primary,transition:d.transitions.create("box-shadow")},!b.square&&{borderRadius:d.shape.borderRadius},b.variant==="outlined"&&{border:`1px solid ${(d.vars||d).palette.divider}`},b.variant==="elevation"&&(0,Re.Z)({boxShadow:(d.vars||d).shadows[b.elevation]},!d.vars&&d.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${mt("#fff",p1(b.elevation))}, ${mt("#fff",p1(b.elevation))})`},d.vars&&{backgroundImage:(z=d.vars.overlays)==null?void 0:z[b.elevation]}))});var Ec=_e.forwardRef(function(b,z){const F=Jo({props:b,name:"MuiPaper"}),{className:fe,component:Oe="div",elevation:ft=1,square:Wt=!1,variant:Qt="elevation"}=F,vn=(0,ot.Z)(F,Ss),yn=(0,Re.Z)({},F,{component:Oe,elevation:ft,square:Wt,variant:Qt}),hr=po(yn);return(0,Ce.jsx)(cl,(0,Re.Z)({as:Oe,ownerState:yn,className:oe(hr.root,fe),ref:z},vn))}),tc=_e.createContext(null);function Al(){return _e.useContext(tc)}var rc=typeof Symbol=="function"&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";function Pl(d,b){return typeof b=="function"?b(d):(0,Re.Z)({},d,b)}function Tc(d){const{children:b,theme:z}=d,F=Al(),fe=_e.useMemo(()=>{const Oe=F===null?z:Pl(F,z);return Oe!=null&&(Oe[rc]=F!==null),Oe},[z,F]);return(0,Ce.jsx)(tc.Provider,{value:fe,children:b})}var kr=Tc;const ul={};function ic(d,b,z,F=!1){return _e.useMemo(()=>{const fe=d&&b[d]||b;if(typeof z=="function"){const Oe=z(fe),ft=d?(0,Re.Z)({},b,{[d]:Oe}):Oe;return F?()=>ft:ft}return d?(0,Re.Z)({},b,{[d]:z}):(0,Re.Z)({},b,z)},[d,b,z,F])}function fa(d){const{children:b,theme:z,themeId:F}=d,fe=zi(ul),Oe=Al()||ul,ft=ic(F,fe,z),Wt=ic(F,Oe,z,!0);return(0,Ce.jsx)(kr,{theme:Wt,children:(0,Ce.jsx)(hn.T.Provider,{value:ft,children:b})})}var fl=fa;const P1=["theme"];function ra(d){let{theme:b}=d,z=(0,ot.Z)(d,P1);const F=b[wa];return(0,Ce.jsx)(fl,(0,Re.Z)({},z,{themeId:F?wa:void 0,theme:F||b}))}var I1=te(97069),Rs=te(7231);const{useSyncExternalStoreWithSelector:Ji}=Rs;let Qa=!1;function Wa(d,b=d.getState,z){z&&!Qa&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Qa=!0);const F=Ji(d.subscribe,d.getState,d.getServerState||d.getState,b,z);return(0,_e.useDebugValue)(F),F}const dl=d=>{typeof d!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const b=typeof d=="function"?(0,I1.M)(d):d,z=(F,fe)=>Wa(b,F,fe);return Object.assign(z,b),z},$1=d=>d?dl(d):dl;var r1=d=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),$1(d)),hl=te(874);function gr(d){var b,z,F="";if(typeof d=="string"||typeof d=="number")F+=d;else if(typeof d=="object")if(Array.isArray(d))for(b=0;b<d.length;b++)d[b]&&(z=gr(d[b]))&&(F&&(F+=" "),F+=z);else for(b in d)d[b]&&(F&&(F+=" "),F+=b);return F}function Z1(){for(var d,b,z=0,F="";z<arguments.length;)(d=arguments[z++])&&(b=gr(d))&&(F&&(F+=" "),F+=b);return F}const y1={scheme:"Light Theme",author:"mac gainor (https://github.com/mac-s-g)",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#ffd500",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},W1={scheme:"Dark Theme",author:"Chris Kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},pl=()=>null;pl.when=()=>!1;const i1=d=>{var b,z,F,fe,Oe,ft,Wt,Qt,vn,yn,hr,In,i,s,u,m,x,A;return $1()((ue,Fe)=>({enableClipboard:(b=d.enableClipboard)!==null&&b!==void 0?b:!0,highlightUpdates:(z=d.highlightUpdates)!==null&&z!==void 0?z:!1,indentWidth:(F=d.indentWidth)!==null&&F!==void 0?F:3,groupArraysAfterLength:(fe=d.groupArraysAfterLength)!==null&&fe!==void 0?fe:100,collapseStringsAfterLength:d.collapseStringsAfterLength===!1?Number.MAX_VALUE:(Oe=d.collapseStringsAfterLength)!==null&&Oe!==void 0?Oe:50,maxDisplayLength:(ft=d.maxDisplayLength)!==null&&ft!==void 0?ft:30,rootName:(Wt=d.rootName)!==null&&Wt!==void 0?Wt:"root",onChange:(Qt=d.onChange)!==null&&Qt!==void 0?Qt:()=>{},onCopy:(vn=d.onCopy)!==null&&vn!==void 0?vn:void 0,onSelect:(yn=d.onSelect)!==null&&yn!==void 0?yn:void 0,keyRenderer:(hr=d.keyRenderer)!==null&&hr!==void 0?hr:pl,editable:(In=d.editable)!==null&&In!==void 0?In:!1,defaultInspectDepth:(i=d.defaultInspectDepth)!==null&&i!==void 0?i:5,defaultInspectControl:(s=d.defaultInspectControl)!==null&&s!==void 0?s:void 0,objectSortKeys:(u=d.objectSortKeys)!==null&&u!==void 0?u:!1,quotesOnKeys:(m=d.quotesOnKeys)!==null&&m!==void 0?m:!0,displayDataTypes:(x=d.displayDataTypes)!==null&&x!==void 0?x:!0,inspectCache:{},hoverPath:null,colorspace:y1,value:d.value,prevValue:void 0,displaySize:(A=d.displaySize)!==null&&A!==void 0?A:!0,getInspectCache:(ct,Yt)=>{const En=Yt!==void 0?ct.join(".")+"[".concat(Yt,"]nt"):ct.join(".");return Fe().inspectCache[En]},setInspectCache:(ct,Yt,En)=>{const wr=En!==void 0?ct.join(".")+"[".concat(En,"]nt"):ct.join(".");ue(Pr=>({inspectCache:_i(zt({},Pr.inspectCache),{[wr]:typeof Yt=="function"?Yt(Pr.inspectCache[wr]):Yt})}))},setHover:(ct,Yt)=>{ue({hoverPath:ct?{path:ct,nestedIndex:Yt}:null})}}))},e1=(0,_e.createContext)(void 0);e1.Provider;const Ai=(d,b)=>{const z=(0,_e.useContext)(e1);return Wa(z,d,b)},Ls=()=>Ai(d=>d.colorspace.base07),Ac=Object.prototype.constructor.toString();function ml(d){if(!d||typeof d!="object")return!1;const b=Object.getPrototypeOf(d);if(b===null)return!0;const z=Object.hasOwnProperty.call(b,"constructor")&&b.constructor;return z===Object?!0:typeof z=="function"&&Function.toString.call(z)===Ac}function m1(d){return d?ml(d)||Array.isArray(d)||d instanceof Map||d instanceof Set:!1}function O1(d){return Array.isArray(d)?Array.prototype.slice.call(d):d instanceof Set?new Set(d):d instanceof Map?new Map(d):typeof d=="object"&&d!==null?Object.assign({},d):d}function ia(d,b,z){if(typeof d!="object"||d===null){if(b.length!==0)throw new Error("path is incorrect");return z}m1(d)&&(d=O1(d));const[fe,...Oe]=b;if(fe!==void 0){if(fe==="__proto__")throw new TypeError("Modification of prototype is not allowed");Oe.length>0?d[fe]=ia(d[fe],Oe,z):d[fe]=z}return d}function Pc(d,b,z,F,fe){return{is:d,Component:b,Editor:z,PreComponent:F,PostComponent:fe}}function oc(d){let{is:b,serialize:z,deserialize:F,Component:fe,Editor:Oe,PreComponent:ft,PostComponent:Wt}=d;return{is:b,serialize:z,deserialize:F,Component:fe,Editor:Oe,PreComponent:ft,PostComponent:Wt}}const sc=(d,b,z)=>{if(d===null||z===null||typeof d!="object"||typeof z!="object")return!1;if(Object.is(d,z)&&b.length!==0)return"";const F=[],fe=[...b];let Oe=d;for(;Oe!==z||fe.length!==0;){if(typeof Oe!="object"||Oe===null)return!1;if(Object.is(Oe,z))return F.reduce((Wt,Qt,vn)=>typeof Qt=="number"?Wt+"[".concat(Qt,"]"):Wt+"".concat(vn===0?"":".").concat(Qt),"");const ft=fe.shift();F.push(ft),Oe=Oe[ft]}return!1};function D1(d){return d===null?0:Array.isArray(d)?d.length:d instanceof Map||d instanceof Set?d.size:d instanceof Date?1:typeof d=="object"?Object.keys(d).length:typeof d=="string"?d.length:1}function gl(d,b){const z=[];let F=0;for(;F<d.length;)z.push(d.slice(F,F+b)),F+=b;return z}function o1(d,b){const z=[];function F(fe,Oe){if(typeof Oe=="bigint")return Oe.toString();if(Oe instanceof Map){if("toJSON"in Oe&&typeof Oe.toJSON=="function")return Oe.toJSON();if(Oe.size===0)return{};if(z.includes(Oe))return"[Circular]";z.push(Oe);const ft=Array.from(Oe.entries());return ft.every(Wt=>{let[Qt]=Wt;return typeof Qt=="string"||typeof Qt=="number"})?Object.fromEntries(ft):{}}if(Oe instanceof Set)return"toJSON"in Oe&&typeof Oe.toJSON=="function"?Oe.toJSON():z.includes(Oe)?"[Circular]":(z.push(Oe),Array.from(Oe.values()));if(typeof Oe=="object"&&Oe!==null&&Object.keys(Oe).length){const ft=z.length;if(ft){for(let Wt=ft-1;Wt>=0&&z[Wt][fe]!==Oe;--Wt)z.pop();if(z.includes(Oe))return"[Circular]"}z.push(Oe)}return Oe}return JSON.stringify(d,F,b)}function j1(d){return Jl(this,null,function*(){if("clipboard"in navigator)try{yield navigator.clipboard.writeText(d)}catch(b){}hl(d)})}function Ws(){let{timeout:d=2e3}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[b,z]=(0,_e.useState)(!1),F=(0,_e.useRef)(null),fe=(0,_e.useCallback)(Qt=>{const vn=F.current;vn&&window.clearTimeout(vn),F.current=window.setTimeout(()=>z(!1),d),z(Qt)},[d]),Oe=Ai(Qt=>Qt.onCopy),ft=(0,_e.useCallback)((Qt,vn)=>Jl(this,null,function*(){if(typeof Oe=="function")try{yield Oe(Qt,vn,j1),fe(!0)}catch(yn){console.error("error when copy ".concat(Qt.length===0?"src":"src[".concat(Qt.join(".")),"]"),yn)}else try{const yn=o1(typeof vn=="function"?vn.toString():vn,"  ");yield j1(yn),fe(!0)}catch(yn){console.error("error when copy ".concat(Qt.length===0?"src":"src[".concat(Qt.join(".")),"]"),yn)}}),[fe,Oe]),Wt=(0,_e.useCallback)(()=>{z(!1),F.current&&clearTimeout(F.current)},[]);return{copy:ft,reset:Wt,copied:b}}function g1(d,b){const z=Ai(F=>F.value);return(0,_e.useMemo)(()=>sc(z,d,b),[d,b,z])}function z1(d,b,z){const F=d.length,fe=g1(d,b),Oe=Ai(In=>In.getInspectCache),ft=Ai(In=>In.setInspectCache),Wt=Ai(In=>In.defaultInspectDepth),Qt=Ai(In=>In.defaultInspectControl);(0,_e.useEffect)(()=>{if(Oe(d,z)!==void 0)return;if(z!==void 0){ft(d,!1,z);return}const i=fe?!1:typeof Qt=="function"?Qt(d,b):F<Wt;ft(d,i)},[Wt,Qt,F,Oe,fe,z,d,b,ft]);const[vn,yn]=(0,_e.useState)(()=>{const In=Oe(d,z);return In!==void 0?In:z!==void 0||fe?!1:typeof Qt=="function"?Qt(d,b):F<Wt}),hr=(0,_e.useCallback)(In=>{yn(i=>{const s=typeof In=="boolean"?In:In(i);return ft(d,s,z),s})},[z,d,ft]);return[vn,hr]}const s1=d=>(0,Ce.jsx)(Wi,_i(zt({component:"div"},d),{sx:zt({display:"inline-block"},d.sx)})),v1=d=>{let{dataType:b,enable:z=!0}=d;return z?(0,Ce.jsx)(s1,{className:"data-type-label",sx:{mx:.5,fontSize:"0.7rem",opacity:.8,userSelect:"none"},children:b}):null};function Oa(d){let{is:b,serialize:z,deserialize:F,type:fe,colorKey:Oe,displayTypeLabel:ft=!0,Renderer:Wt}=d;const Qt=(0,_e.memo)(Wt),vn=hr=>{const In=Ai(u=>u.displayDataTypes),i=Ai(u=>u.colorspace[Oe]),s=Ai(u=>u.onSelect);return(0,Ce.jsxs)(s1,{onClick:()=>s==null?void 0:s(hr.path,hr.value),sx:{color:i},children:[ft&&In&&(0,Ce.jsx)(v1,{dataType:fe}),(0,Ce.jsx)(s1,{className:"".concat(fe,"-value"),children:(0,Ce.jsx)(Qt,{path:hr.path,inspect:hr.inspect,setInspect:hr.setInspect,value:hr.value,prevValue:hr.prevValue})})]})};if(vn.displayName="easy-".concat(fe,"-type"),!z||!F)return{is:b,Component:vn};const yn=hr=>{let{value:In,setValue:i}=hr;const s=Ai(u=>u.colorspace[Oe]);return(0,Ce.jsx)(A1,{value:In,onChange:(0,_e.useCallback)(u=>{i(u.target.value)},[i]),size:"small",multiline:!0,sx:{color:s,padding:.5,borderStyle:"solid",borderColor:"black",borderWidth:1,fontSize:"0.8rem",fontFamily:"monospace",display:"inline-flex"}})};return yn.displayName="easy-".concat(fe,"-type-editor"),{is:b,serialize:z,deserialize:F,Component:vn,Editor:yn}}const G1=Oa({is:d=>typeof d=="boolean",type:"bool",colorKey:"base0E",serialize:d=>d.toString(),deserialize:d=>{if(d==="true")return!0;if(d==="false")return!1;throw new Error("Invalid boolean value")},Renderer:d=>{let{value:b}=d;return(0,Ce.jsx)(Ce.Fragment,{children:b?"true":"false"})}}),Il={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},Ol=Oa({is:d=>d instanceof Date,type:"date",colorKey:"base0D",Renderer:d=>{let{value:b}=d;return(0,Ce.jsx)(Ce.Fragment,{children:b.toLocaleTimeString("en-us",Il)})}}),ja=d=>{const b=d.toString();let z=!0;const F=b.indexOf(")"),fe=b.indexOf("=>");return fe!==-1&&fe>F&&(z=!1),z?b.substring(b.indexOf("{",F)+1,b.lastIndexOf("}")):b.substring(b.indexOf("=>")+2)},w1=d=>{const b=d.toString();return b.indexOf("function")!==-1?b.substring(8,b.indexOf("{")).trim():b.substring(0,b.indexOf("=>")+2).trim()},X1="{",Y1="}",Dl={is:d=>typeof d=="function",Component:d=>{const b=Ai(z=>z.colorspace.base05);return(0,Ce.jsx)(h1,{children:(0,Ce.jsx)(Wi,{className:"data-function",sx:{display:d.inspect?"block":"inline-block",pl:d.inspect?2:0,color:b},children:d.inspect?ja(d.value):(0,Ce.jsx)(Wi,{component:"span",className:"data-function-body",onClick:()=>d.setInspect(!0),sx:{"&:hover":{cursor:"pointer"},padding:.5},children:"\u2026"})})})},PreComponent:d=>(0,Ce.jsxs)(h1,{children:[(0,Ce.jsx)(v1,{dataType:"function"}),(0,Ce.jsxs)(Wi,{component:"span",className:"data-function-start",sx:{letterSpacing:.5},children:[w1(d.value)," ",X1]})]}),PostComponent:()=>(0,Ce.jsx)(h1,{children:(0,Ce.jsx)(Wi,{component:"span",className:"data-function-end",children:Y1})})},ac=Oa({is:d=>d===null,type:"null",colorKey:"base08",displayTypeLabel:!1,Renderer:()=>{const d=Ai(b=>b.colorspace.base02);return(0,Ce.jsx)(Wi,{sx:{fontSize:"0.8rem",backgroundColor:d,fontWeight:"bold",borderRadius:"3px",padding:"0.5px 2px"},children:"NULL"})}}),ds=d=>d%1===0,Qi=Oa({is:d=>typeof d=="number"&&isNaN(d),type:"NaN",colorKey:"base08",displayTypeLabel:!1,serialize:()=>"NaN",deserialize:d=>parseFloat(d),Renderer:()=>{const d=Ai(b=>b.colorspace.base02);return(0,Ce.jsx)(Wi,{sx:{backgroundColor:d,fontSize:"0.8rem",fontWeight:"bold",borderRadius:"3px",padding:"0.5px 2px"},children:"NaN"})}}),Es=Oa({is:d=>typeof d=="number"&&!ds(d)&&!isNaN(d),type:"float",colorKey:"base0B",serialize:d=>d.toString(),deserialize:d=>parseFloat(d),Renderer:d=>{let{value:b}=d;return(0,Ce.jsx)(Ce.Fragment,{children:b})}}),Ts=Oa({is:d=>typeof d=="number"&&ds(d),type:"int",colorKey:"base0F",serialize:d=>d.toString(),deserialize:d=>parseFloat(d),Renderer:d=>{let{value:b}=d;return(0,Ce.jsx)(Ce.Fragment,{children:b})}}),qs=Oa({is:d=>typeof d=="bigint",type:"bigint",colorKey:"base0F",serialize:d=>d.toString(),deserialize:d=>BigInt(d.replace(/\D/g,"")),Renderer:d=>{let{value:b}=d;return(0,Ce.jsx)(Ce.Fragment,{children:"".concat(b,"n")})}}),Bs=d=>{let F=d,{d:b}=F,z=Na(F,["d"]);return(0,Ce.jsx)(ll,_i(zt({},z),{children:(0,Ce.jsx)("path",{d:b})}))},K1="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z",Ns="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",Cl="M 12 2 C 10.615 1.998 9.214625 2.2867656 7.890625 2.8847656 L 8.9003906 4.6328125 C 9.9043906 4.2098125 10.957 3.998 12 4 C 15.080783 4 17.738521 5.7633175 19.074219 8.3222656 L 17.125 9 L 21.25 11 L 22.875 7 L 20.998047 7.6523438 C 19.377701 4.3110398 15.95585 2 12 2 z M 6.5097656 4.4882812 L 2.2324219 5.0820312 L 3.734375 6.3808594 C 1.6515335 9.4550558 1.3615962 13.574578 3.3398438 17 C 4.0308437 18.201 4.9801562 19.268234 6.1601562 20.115234 L 7.1699219 18.367188 C 6.3019219 17.710187 5.5922656 16.904 5.0722656 16 C 3.5320014 13.332354 3.729203 10.148679 5.2773438 7.7128906 L 6.8398438 9.0625 L 6.5097656 4.4882812 z M 19.929688 13 C 19.794687 14.08 19.450734 15.098 18.927734 16 C 17.386985 18.668487 14.531361 20.090637 11.646484 19.966797 L 12.035156 17.9375 L 8.2402344 20.511719 L 10.892578 23.917969 L 11.265625 21.966797 C 14.968963 22.233766 18.681899 20.426323 20.660156 17 C 21.355156 15.801 21.805219 14.445 21.949219 13 L 19.929688 13 z",J1="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",zl="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",lc="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",_l="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z",da=d=>(0,Ce.jsx)(Bs,zt({d:K1},d)),cc=d=>(0,Ce.jsx)(Bs,zt({d:Ns},d)),uc=d=>(0,Ce.jsx)(Bs,zt({d:Cl},d)),q1=d=>(0,Ce.jsx)(Bs,zt({d:J1},d)),Hl=d=>(0,Ce.jsx)(Bs,zt({d:zl},d)),fc=d=>(0,Ce.jsx)(Bs,zt({d:lc},d)),b1=d=>(0,Ce.jsx)(Bs,zt({d:_l},d)),Bl="{",M1="[",Nl="}",xl="]";function Vl(d){const b=D1(d);let z="";return(d instanceof Map||d instanceof Set)&&(z=d[Symbol.toStringTag]),Object.prototype.hasOwnProperty.call(d,Symbol.toStringTag)&&(z=d[Symbol.toStringTag]),"".concat(b," Items").concat(z?" (".concat(z,")"):"")}const Fl=d=>{const b=Ai(vn=>vn.colorspace.base04),z=Ls(),F=(0,_e.useMemo)(()=>Array.isArray(d.value),[d.value]),fe=(0,_e.useMemo)(()=>D1(d.value)===0,[d.value]),Oe=(0,_e.useMemo)(()=>Vl(d.value),[d.value]),ft=Ai(vn=>vn.displaySize),Wt=(0,_e.useMemo)(()=>typeof ft=="function"?ft(d.path,d.value):ft,[ft,d.path,d.value]),Qt=g1(d.path,d.value);return(0,Ce.jsxs)(Wi,{component:"span",className:"data-object-start",sx:{letterSpacing:.5},children:[F?M1:Bl,Wt&&d.inspect&&!fe&&(0,Ce.jsx)(Wi,{component:"span",sx:{pl:.5,fontStyle:"italic",color:b,userSelect:"none"},children:Oe}),Qt&&!d.inspect&&(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(uc,{sx:{fontSize:12,color:z,mx:.5}}),Qt]})]})},kl=d=>{const b=Ai(Wt=>Wt.colorspace.base04),z=(0,_e.useMemo)(()=>Array.isArray(d.value),[d.value]),F=(0,_e.useMemo)(()=>D1(d.value)===0,[d.value]),fe=(0,_e.useMemo)(()=>Vl(d.value),[d.value]),Oe=Ai(Wt=>Wt.displaySize),ft=(0,_e.useMemo)(()=>typeof Oe=="function"?Oe(d.path,d.value):Oe,[Oe,d.path,d.value]);return(0,Ce.jsxs)(Wi,{component:"span",className:"data-object-end",children:[z?xl:Nl,ft&&(F||!d.inspect)?(0,Ce.jsx)(Wi,{component:"span",sx:{pl:.5,fontStyle:"italic",color:b,userSelect:"none"},children:fe}):null]})};function ha(d){return typeof(d==null?void 0:d[Symbol.iterator])=="function"}const Ga={is:d=>typeof d=="object",Component:d=>{const b=Ls(),z=Ai(i=>i.colorspace.base02),F=Ai(i=>i.groupArraysAfterLength),fe=g1(d.path,d.value),[Oe,ft]=(0,_e.useState)(Ai(i=>i.maxDisplayLength)),Wt=Ai(i=>i.objectSortKeys),Qt=(0,_e.useMemo)(()=>{if(!d.inspect)return null;const i=d.value;if(ha(i)&&!Array.isArray(i)){const x=[];if(i instanceof Map)i.forEach((A,ue)=>{const Fe=ue.toString(),ct=[...d.path,Fe];x.push((0,Ce.jsx)(Xa,{path:ct,value:A,prevValue:d.prevValue instanceof Map?d.prevValue.get(ue):void 0,editable:!1},Fe))});else{const A=i[Symbol.iterator]();let ue=A.next(),Fe=0;for(;!ue.done;)x.push((0,Ce.jsx)(Xa,{path:[...d.path,"iterator:".concat(Fe)],value:ue.value,nestedIndex:Fe,editable:!1},Fe)),Fe++,ue=A.next()}return x}if(Array.isArray(i)){if(i.length<=F){const ue=i.slice(0,Oe).map((Fe,ct)=>{const Yt=[...d.path,ct];return(0,Ce.jsx)(Xa,{path:Yt,value:Fe,prevValue:Array.isArray(d.prevValue)?d.prevValue[ct]:void 0},ct)});if(i.length>Oe){const Fe=i.length-Oe;ue.push((0,Ce.jsxs)(s1,{sx:{cursor:"pointer",lineHeight:1.5,color:b,letterSpacing:.5,opacity:.8,userSelect:"none"},onClick:()=>ft(ct=>ct*2),children:["hidden ",Fe," items\u2026"]},"last"))}return ue}const x=gl(i,F),A=Array.isArray(d.prevValue)?gl(d.prevValue,F):void 0;return x.map((ue,Fe)=>(0,Ce.jsx)(Xa,{path:d.path,value:ue,nestedIndex:Fe,prevValue:A==null?void 0:A[Fe]},Fe))}let u=Object.entries(i);Wt&&(u=Wt===!0?u.sort((x,A)=>{let[ue]=x,[Fe]=A;return ue.localeCompare(Fe)}):u.sort((x,A)=>{let[ue]=x,[Fe]=A;return Wt(ue,Fe)}));const m=u.slice(0,Oe).map(x=>{let[A,ue]=x;var Fe;const ct=[...d.path,A];return(0,Ce.jsx)(Xa,{path:ct,value:ue,prevValue:(Fe=d.prevValue)===null||Fe===void 0?void 0:Fe[A]},A)});if(u.length>Oe){const x=u.length-Oe;m.push((0,Ce.jsxs)(s1,{sx:{cursor:"pointer",lineHeight:1.5,color:b,letterSpacing:.5,opacity:.8,userSelect:"none"},onClick:()=>ft(A=>A*2),children:["hidden ",x," items\u2026"]},"last"))}return m},[d.inspect,d.value,d.prevValue,d.path,F,Oe,b,Wt]),vn=d.inspect?.6:0,yn=Ai(i=>i.indentWidth),hr=d.inspect?yn-vn:yn;return(0,_e.useMemo)(()=>D1(d.value)===0,[d.value])?null:(0,Ce.jsx)(Wi,{className:"data-object",sx:{display:d.inspect?"block":"inline-block",pl:d.inspect?hr-.6:0,marginLeft:vn,color:b,borderLeft:d.inspect?"1px solid ".concat(z):"none"},children:d.inspect?Qt:!fe&&(0,Ce.jsx)(Wi,{component:"span",className:"data-object-body",onClick:()=>d.setInspect(!0),sx:{"&:hover":{cursor:"pointer"},padding:.5,userSelect:"none"},children:"\u2026"})})},PreComponent:Fl,PostComponent:kl},Ul=Oa({is:d=>typeof d=="string",type:"string",colorKey:"base09",serialize:d=>d,deserialize:d=>d,Renderer:d=>{const[b,z]=(0,_e.useState)(!1),F=Ai(ft=>ft.collapseStringsAfterLength),fe=b?d.value:d.value.slice(0,F),Oe=d.value.length>F;return(0,Ce.jsxs)(Wi,{component:"span",sx:{overflowWrap:"anywhere",cursor:Oe?"pointer":"inherit"},onClick:()=>{Oe&&z(ft=>!ft)},children:['"',fe,Oe&&!b&&(0,Ce.jsx)(Wi,{component:"span",sx:{padding:.5},children:"\u2026"}),'"']})}}),Ra=Oa({is:d=>d===void 0,type:"undefined",colorKey:"base05",displayTypeLabel:!1,Renderer:()=>{const d=Ai(b=>b.colorspace.base02);return(0,Ce.jsx)(Wi,{sx:{fontSize:"0.7rem",backgroundColor:d,borderRadius:"3px",padding:"0.5px 2px"},children:"undefined"})}}),Dc=()=>(0,I1.M)()(d=>({registry:[],registerTypes:b=>{d(z=>({registry:typeof b=="function"?b(z.registry):b}))}})),yl=(0,_e.createContext)(void 0);yl.Provider;const $l=(d,b)=>{const z=(0,_e.useContext)(yl);return Wa(z,d,b)};function su(d,b,z){let F;for(const fe of z)fe.is(d,b)&&(F=fe);if(F===void 0){if(typeof d=="object")return Ga;throw new Error("No type matched for value: ".concat(d))}return F}function S1(d,b){const z=$l(F=>F.registry);return(0,_e.useMemo)(()=>su(d,b,z),[d,b,z])}function t1(d){function b(z,F){var fe,Oe;return Object.is(z.value,F.value)&&z.inspect&&F.inspect&&((fe=z.path)===null||fe===void 0?void 0:fe.join("."))===((Oe=F.path)===null||Oe===void 0?void 0:Oe.join("."))}return d.Component=(0,_e.memo)(d.Component,b),d.Editor&&(d.Editor=(0,_e.memo)(d.Editor,function(F,fe){return Object.is(F.value,fe.value)})),d.PreComponent&&(d.PreComponent=(0,_e.memo)(d.PreComponent,b)),d.PostComponent&&(d.PostComponent=(0,_e.memo)(d.PostComponent,b)),d}const wl=[t1(G1),t1(Ol),t1(ac),t1(Ra),t1(Ul),t1(Dl),t1(Qi),t1(Ts),t1(Es),t1(qs)],Q1=d=>(0,Ce.jsx)(Wi,_i(zt({component:"span"},d),{sx:zt({cursor:"pointer",paddingLeft:"0.7rem"},d.sx)})),Xa=d=>{const{value:b,prevValue:z,path:F,nestedIndex:fe}=d,{Component:Oe,PreComponent:ft,PostComponent:Wt,Editor:Qt,serialize:vn,deserialize:yn}=S1(b,F);var hr;const In=(hr=d.editable)!==null&&hr!==void 0?hr:void 0,i=Ai(co=>co.editable),s=(0,_e.useMemo)(()=>i===!1||In===!1?!1:typeof i=="function"?!!i(F,b):i,[F,In,i,b]),[u,m]=(0,_e.useState)(""),x=F.length,A=F[x-1],ue=Ai(co=>co.hoverPath),Fe=(0,_e.useMemo)(()=>ue&&F.every((co,hs)=>co===ue.path[hs]&&fe===ue.nestedIndex),[ue,F,fe]),ct=Ai(co=>co.setHover),Yt=Ai(co=>co.value),[En,wr]=z1(F,b,fe),[Pr,Kr]=(0,_e.useState)(!1),br=Ai(co=>co.onChange),Vo=Ls(),as=Ai(co=>co.colorspace.base0C),_t=Ai(co=>co.colorspace.base0A),at=Ai(co=>co.quotesOnKeys),Et=Ai(co=>co.rootName),mr=Yt===b,Ur=Number.isInteger(Number(A)),Li=Ai(co=>co.enableClipboard),{copy:ri,copied:Ni}=Ws(),ms=Ai(co=>co.highlightUpdates),mo=(0,_e.useMemo)(()=>!ms||z===void 0?!1:typeof b!=typeof z?!0:typeof b=="number"?isNaN(b)&&isNaN(z)?!1:b!==z:Array.isArray(b)!==Array.isArray(z)?!0:typeof b=="object"||typeof b=="function"?!1:b!==z,[ms,z,b]),pa=(0,_e.useRef)();(0,_e.useEffect)(()=>{pa.current&&mo&&"animate"in pa.current&&pa.current.animate([{backgroundColor:_t},{backgroundColor:""}],{duration:1e3,easing:"ease-in"})},[_t,mo,z,b]);const el=(0,_e.useMemo)(()=>Pr&&yn?(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Q1,{children:(0,Ce.jsx)(q1,{sx:{fontSize:".8rem"},onClick:()=>{Kr(!1),m("")}})}),(0,Ce.jsx)(Q1,{children:(0,Ce.jsx)(da,{sx:{fontSize:".8rem"},onClick:()=>{Kr(!1);try{const co=yn(u);br(F,b,co)}catch(co){}}})})]}):(0,Ce.jsxs)(Ce.Fragment,{children:[Li&&(0,Ce.jsx)(Q1,{onClick:co=>{co.preventDefault();try{ri(F,b,j1)}catch(hs){console.error(hs)}},children:Ni?(0,Ce.jsx)(da,{sx:{fontSize:".8rem"}}):(0,Ce.jsx)(Hl,{sx:{fontSize:".8rem"}})}),Qt&&s&&vn&&yn&&(0,Ce.jsx)(Q1,{onClick:co=>{co.preventDefault(),m(vn(b)),Kr(!0)},children:(0,Ce.jsx)(fc,{sx:{fontSize:".8rem"}})})]}),[Qt,vn,yn,Ni,ri,s,Pr,Li,br,F,u,b]),N1=(0,_e.useMemo)(()=>D1(b)===0,[b]),Cc=!N1&&!!(ft&&Wt),hu=Ai(co=>co.keyRenderer),tl=(0,_e.useMemo)(()=>({path:F,inspect:En,setInspect:wr,value:b,prevValue:z}),[En,F,wr,b,z]);return(0,Ce.jsxs)(Wi,{className:"data-key-pair","data-testid":"data-key-pair"+F.join("."),sx:{userSelect:"text"},onMouseEnter:(0,_e.useCallback)(()=>ct(F,fe),[ct,F,fe]),children:[(0,Ce.jsxs)(s1,{component:"span",className:"data-key",sx:{lineHeight:1.5,color:Vo,letterSpacing:.5,opacity:.8},onClick:(0,_e.useCallback)(co=>{co.isDefaultPrevented()||N1||wr(hs=>!hs)},[N1,wr]),children:[Cc?En?(0,Ce.jsx)(b1,{sx:{fontSize:".8rem","&:hover":{cursor:"pointer"}}}):(0,Ce.jsx)(cc,{sx:{fontSize:".8rem","&:hover":{cursor:"pointer"}}}):null,(0,Ce.jsx)(Wi,{ref:pa,component:"span",children:mr?Et!==!1?at?(0,Ce.jsxs)(Ce.Fragment,{children:['"',Et,'"']}):(0,Ce.jsx)(Ce.Fragment,{children:Et}):null:hu.when(tl)?(0,Ce.jsx)(hu,zt({},tl)):fe===void 0&&(Ur?(0,Ce.jsx)(Wi,{component:"span",style:{color:as},children:A}):at?(0,Ce.jsxs)(Ce.Fragment,{children:['"',A,'"']}):(0,Ce.jsx)(Ce.Fragment,{children:A}))}),mr?Et!==!1&&(0,Ce.jsx)(s1,{sx:{mr:.5},children:":"}):fe===void 0&&(0,Ce.jsx)(s1,{sx:{mr:.5},children:":"}),ft&&(0,Ce.jsx)(ft,zt({},tl)),Fe&&Cc&&En&&el]}),Pr&&s?Qt&&(0,Ce.jsx)(Qt,{value:u,setValue:m}):Oe?(0,Ce.jsx)(Oe,zt({},tl)):(0,Ce.jsx)(Wi,{component:"span",className:"data-value-fallback",children:"fallback: ".concat(b)}),Wt&&(0,Ce.jsx)(Wt,zt({},tl)),Fe&&Cc&&!En&&el,Fe&&!Cc&&el]})},dc="(prefers-color-scheme: dark)";function hc(){const[d,b]=(0,_e.useState)(!1);return(0,_e.useEffect)(()=>{const z=fe=>{b(fe.matches)};b(window.matchMedia(dc).matches);const F=window.matchMedia(dc);return F.addEventListener("change",z),()=>F.removeEventListener("change",z)},[]),d}function oa(d,b){const{setState:z}=(0,_e.useContext)(e1);(0,_e.useEffect)(()=>{b!==void 0&&z({[d]:b})},[d,b,z])}const Zl=d=>{const{setState:b}=(0,_e.useContext)(e1);(0,_e.useEffect)(()=>{b(yn=>({prevValue:yn.value,value:d.value}))},[d.value,b]),oa("editable",d.editable),oa("indentWidth",d.indentWidth),oa("onChange",d.onChange),oa("groupArraysAfterLength",d.groupArraysAfterLength),oa("keyRenderer",d.keyRenderer),oa("maxDisplayLength",d.maxDisplayLength),oa("enableClipboard",d.enableClipboard),oa("highlightUpdates",d.highlightUpdates),oa("rootName",d.rootName),oa("displayDataTypes",d.displayDataTypes),oa("displaySize",d.displaySize),oa("onCopy",d.onCopy),oa("onSelect",d.onSelect),(0,_e.useEffect)(()=>{d.theme==="light"?b({colorspace:y1}):d.theme==="dark"?b({colorspace:W1}):typeof d.theme=="object"&&b({colorspace:d.theme})},[b,d.theme]);const z=(0,_e.useMemo)(()=>typeof d.theme=="object"?"json-viewer-theme-custom":d.theme==="dark"?"json-viewer-theme-dark":"json-viewer-theme-light",[d.theme]),F=(0,_e.useRef)(!0),fe=$l(yn=>yn.registerTypes);if(F.current){const yn=d.valueTypes?[...wl,...d.valueTypes]:[...wl];fe(yn),F.current=!1}(0,_e.useEffect)(()=>{const yn=d.valueTypes?[...wl,...d.valueTypes]:[...wl];fe(yn)},[d.valueTypes,fe]);const Oe=Ai(yn=>yn.value),ft=Ai(yn=>yn.prevValue),Wt=(0,_e.useMemo)(()=>[],[]),Qt=Ai(yn=>yn.setHover),vn=(0,_e.useCallback)(()=>Qt(null),[Qt]);return(0,Ce.jsx)(Ec,{elevation:0,className:Z1(z,d.className),style:d.style,sx:zt({fontFamily:"monospace",userSelect:"none",contentVisibility:"auto"},d.sx),onMouseLeave:vn,children:(0,Ce.jsx)(Xa,{value:Oe,prevValue:ft,path:Wt})})},au=function(b){const z=hc();var F;const fe=(0,_e.useMemo)(()=>b.theme==="auto"?z?"light":"dark":(F=b.theme)!==null&&F!==void 0?F:"light",[z,b.theme]),Oe=(0,_e.useMemo)(()=>{const vn=typeof fe=="object"?fe.base00:fe==="dark"?W1.base00:y1.base00;return yo({components:{MuiPaper:{styleOverrides:{root:{backgroundColor:vn}}}},palette:{mode:fe==="dark"?"dark":"light",background:{default:vn}}})},[fe]),ft=_i(zt({},b),{theme:fe}),Wt=(0,_e.useMemo)(()=>i1(b),[]),Qt=(0,_e.useMemo)(()=>Dc(),[]);return(0,Ce.jsx)(ra,{theme:Oe,children:(0,Ce.jsx)(yl.Provider,{value:Qt,children:(0,Ce.jsx)(e1.Provider,{value:Wt,children:(0,Ce.jsx)(Zl,zt({},ft))})})})};var lu=te(20767),pc=te(12481),zc=te(10465),R1=te(93825),cu=te(62842),B1=te(47340),a1=te(55937),La=te(93251),uu=te(38268),Hc=te(65042),Wl=te(96766),fu=te(1225),mc,gc,Bc,Da,vc=(0,fu.kc)(function(d,b){var z=d.token,F=d.stylish,fe=d.cx,Oe=d.css;return{container:fe(b,Oe(mc||(mc=(0,Wl.Z)([`
        `,`
      `])),F.textInfo)),empty:fe("".concat(b,"-empty"),Oe(gc||(gc=(0,Wl.Z)([`
        padding: 8px;
        background: `,`;
        border-radius: 4px;
        .studio-empty-normal {
          margin: 12px 0;
        }
      `])),z.colorFillQuaternary)),json:fe("".concat(b,"-json"),Oe(Bc||(Bc=(0,Wl.Z)([`
        border-radius: 4px;

        .json-viewer-theme-dark {
          background: none !important;
        }
      `])))),table:Oe(Da||(Da=(0,Wl.Z)([`
      .studio-table-cell {
        padding: 4px !important;
      }
    `])))}}),du=function(b){var z=b.data,F=b.collapsed,fe=b.onVisibleChange,Oe=b.className,ft=b.renderEmpty,Wt=b.onEmptyClick,Qt=b.showType,vn=Qt===void 0?!0:Qt,yn=b.extra,hr=b.emptyAction,In=b.style,i=b.columns,s=b.onResetClick,u=b.prefixCls,m=(0,uu.k2)("data-previewer",u),x=(0,Hc.r)(),A=x.isDarkMode,ue=vc(m),Fe=ue.styles,ct=ue.cx,Yt=(0,La.Z)(!1,{value:F,onChange:fe}),En=(0,he.Z)(Yt,2),wr=En[0],Pr=En[1],Kr=(0,_e.useState)(0),br=(0,he.Z)(Kr,2),Vo=br[0],as=br[1],_t=(0,_e.useState)("object"),at=(0,he.Z)(_t,2),Et=at[0],mr=at[1],Ur=(0,Ce.jsx)(a1.D,{align:"center",children:(0,Ce.jsxs)(a1.D,{gap:12,width:"fit-content",align:"center",children:[(0,Ce.jsx)("div",{children:"\u6CA1\u6709\u6570\u636E\uFF1F\u6765\u8BD5\u8BD5 Demo \u5427"}),(0,Ce.jsxs)(a1.D,{direction:"horizontal",gap:8,children:[(0,Ce.jsx)(lu.ZP,{icon:(0,Ce.jsx)(U.Z,{}),type:"primary",ghost:!0,size:"small",onClick:Wt,children:"\u7ACB\u5373\u5C1D\u8BD5"}),hr]})]})}),Li=(0,_e.useMemo)(function(){return(0,Ce.jsxs)(a1.D,{direction:"horizontal",align:"center",children:[(0,Ce.jsx)(a1.D,{children:(0,Ce.jsx)(ye.Z,{title:"\u663E\u793A\u4E3A".concat(Et==="table"?"\u5BF9\u8C61":"\u8868\u683C"),placement:"bottom",icon:Et==="table"?(0,Ce.jsx)(rt.Z,{}):(0,Ce.jsx)(Ct.Z,{}),onClick:function(){mr(Et==="object"?"table":"object")}})}),(0,Ce.jsx)(pc.Z,{type:"vertical",dashed:!0,style:{margin:"0 4px"}}),(0,Ce.jsxs)(a1.D,{horizontal:!0,gap:4,children:[(0,Ce.jsx)(zc.Z,{title:"\u5373\u5C06\u91CD\u7F6E\u5217\u914D\u7F6E\u4E0E\u8868\u683C\u6570\u636E\uFF0C\u5176\u4F59\u914D\u7F6E\uFF08\u5206\u9875\u5668\u3001\u5DE5\u5177\u680F\u7B49\uFF09\u4FDD\u6301\u4E0D\u53D8\u3002\u786E\u5B9A\u91CD\u7F6E\u5417\uFF1F",placement:"left",onConfirm:s,children:(0,Ce.jsx)(ye.Z,{title:"\u91CD\u7F6E\u6570\u636E",placement:"bottom",icon:(0,Ce.jsx)(At.Z,{})})}),yn?(0,Ce.jsx)(Ce.Fragment,{children:yn}):null]})]})},[Et,s,yn]);return(0,Ce.jsx)("div",{className:ct(Oe,Fe.container),style:In,children:z?(0,Ce.jsx)(kt.Z,{title:"\u6570\u636E\u9884\u89C8",expand:!wr,onExpandChange:function(Ni){Pr(!Ni)},extra:function(Ni){return Ni?Li:null},children:(0,Ce.jsx)(a1.D,{children:Et==="object"?(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(a1.D,{style:{overflow:"scroll",maxHeight:200,marginBottom:8},className:Fe.json,children:(0,Ce.jsx)(au,{rootName:"\u7B2C".concat(Vo+1,"\u6761\u6570\u636E"),collapseStringsAfterLength:22,enableClipboard:!1,value:z[Vo],displayDataTypes:vn,theme:A?"dark":"light"})}),(0,Ce.jsx)(pc.Z,{style:{margin:"12px 0"},dashed:!0}),(0,Ce.jsx)(a1.D,{align:"flex-end",children:(0,Ce.jsx)(cu.Z,{current:Vo+1,showTotal:function(Ni){return"\u5171 ".concat(Ni," \u6761\u6570\u636E")},onChange:function(Ni){as(Ni-1)},total:z.length,size:"small",pageSize:1})})]}):(0,Ce.jsx)(B1.Z,{dataSource:z,size:"small",bordered:!0,className:Fe.table,pagination:!1,columns:i&&i.map(function(ri){return(0,O.Z)((0,O.Z)({},ri),{},{ellipsis:!0})})})})}):(0,Ce.jsx)("div",{className:Fe.empty,children:(0,Ce.jsx)(R1.Z,{image:R1.Z.PRESENTED_IMAGE_SIMPLE,description:ft?ft(Ur):Ur})})})},C1=du},90222:function(Jt,Qe,te){"use strict";te.d(Qe,{_:function(){return go}});var O=te(50959),he=te(38268),U=te(4386),rt=te(47828),Ct=te(67194),At=te(10422),ye=function(){var Pe=function(I,E){return Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,ie){P.__proto__=ie}||function(P,ie){for(var ce in ie)Object.prototype.hasOwnProperty.call(ie,ce)&&(P[ce]=ie[ce])},Pe(I,E)};return function(I,E){Pe(I,E);function P(){this.constructor=I}I.prototype=E===null?Object.create(E):(P.prototype=E.prototype,new P)}}(),kt=function(){return kt=Object.assign||function(Pe){for(var I,E=1,P=arguments.length;E<P;E++){I=arguments[E];for(var ie in I)Object.prototype.hasOwnProperty.call(I,ie)&&(Pe[ie]=I[ie])}return Pe},kt.apply(this,arguments)},Ce={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Re={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},ot={width:"20px",height:"20px",position:"absolute"},_e={top:kt(kt({},Ce),{top:"-5px"}),right:kt(kt({},Re),{left:void 0,right:"-5px"}),bottom:kt(kt({},Ce),{top:void 0,bottom:"-5px"}),left:kt(kt({},Re),{left:"-5px"}),topRight:kt(kt({},ot),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:kt(kt({},ot),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:kt(kt({},ot),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:kt(kt({},ot),{left:"-10px",top:"-10px",cursor:"nw-resize"})},yt=function(Pe){ye(I,Pe);function I(){var E=Pe!==null&&Pe.apply(this,arguments)||this;return E.onMouseDown=function(P){E.props.onResizeStart(P,E.props.direction)},E.onTouchStart=function(P){E.props.onResizeStart(P,E.props.direction)},E}return I.prototype.render=function(){return O.createElement("div",{className:this.props.className||"",style:kt(kt({position:"absolute",userSelect:"none"},_e[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},I}(O.PureComponent),Rt=function(){var Pe=function(I,E){return Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,ie){P.__proto__=ie}||function(P,ie){for(var ce in ie)Object.prototype.hasOwnProperty.call(ie,ce)&&(P[ce]=ie[ce])},Pe(I,E)};return function(I,E){Pe(I,E);function P(){this.constructor=I}I.prototype=E===null?Object.create(E):(P.prototype=E.prototype,new P)}}(),oe=function(){return oe=Object.assign||function(Pe){for(var I,E=1,P=arguments.length;E<P;E++){I=arguments[E];for(var ie in I)Object.prototype.hasOwnProperty.call(I,ie)&&(Pe[ie]=I[ie])}return Pe},oe.apply(this,arguments)},rr={width:"auto",height:"auto"},hn=function(Pe,I,E){return Math.max(Math.min(Pe,E),I)},An=function(Pe,I){return Math.round(Pe/I)*I},jt=function(Pe,I){return new RegExp(Pe,"i").test(I)},mn=function(Pe){return!!(Pe.touches&&Pe.touches.length)},yr=function(Pe){return!!((Pe.clientX||Pe.clientX===0)&&(Pe.clientY||Pe.clientY===0))},Zn=function(Pe,I,E){E===void 0&&(E=0);var P=I.reduce(function(ce,He,pe){return Math.abs(He-Pe)<Math.abs(I[ce]-Pe)?pe:ce},0),ie=Math.abs(I[P]-Pe);return E===0||ie<E?I[P]:Pe},tr=function(Pe){return Pe=Pe.toString(),Pe==="auto"||Pe.endsWith("px")||Pe.endsWith("%")||Pe.endsWith("vh")||Pe.endsWith("vw")||Pe.endsWith("vmax")||Pe.endsWith("vmin")?Pe:Pe+"px"},wn=function(Pe,I,E,P){if(Pe&&typeof Pe=="string"){if(Pe.endsWith("px"))return Number(Pe.replace("px",""));if(Pe.endsWith("%")){var ie=Number(Pe.replace("%",""))/100;return I*ie}if(Pe.endsWith("vw")){var ie=Number(Pe.replace("vw",""))/100;return E*ie}if(Pe.endsWith("vh")){var ie=Number(Pe.replace("vh",""))/100;return P*ie}}return Pe},bn=function(Pe,I,E,P,ie,ce,He){return P=wn(P,Pe.width,I,E),ie=wn(ie,Pe.height,I,E),ce=wn(ce,Pe.width,I,E),He=wn(He,Pe.height,I,E),{maxWidth:typeof P=="undefined"?void 0:Number(P),maxHeight:typeof ie=="undefined"?void 0:Number(ie),minWidth:typeof ce=="undefined"?void 0:Number(ce),minHeight:typeof He=="undefined"?void 0:Number(He)}},ur=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],qn="__resizable_base__",Ge=function(Pe){Rt(I,Pe);function I(E){var P=Pe.call(this,E)||this;return P.ratio=1,P.resizable=null,P.parentLeft=0,P.parentTop=0,P.resizableLeft=0,P.resizableRight=0,P.resizableTop=0,P.resizableBottom=0,P.targetLeft=0,P.targetTop=0,P.appendBase=function(){if(!P.resizable||!P.window)return null;var ie=P.parentNode;if(!ie)return null;var ce=P.window.document.createElement("div");return ce.style.width="100%",ce.style.height="100%",ce.style.position="absolute",ce.style.transform="scale(0, 0)",ce.style.left="0",ce.style.flex="0 0 100%",ce.classList?ce.classList.add(qn):ce.className+=qn,ie.appendChild(ce),ce},P.removeBase=function(ie){var ce=P.parentNode;ce&&ce.removeChild(ie)},P.ref=function(ie){ie&&(P.resizable=ie)},P.state={isResizing:!1,width:typeof(P.propsSize&&P.propsSize.width)=="undefined"?"auto":P.propsSize&&P.propsSize.width,height:typeof(P.propsSize&&P.propsSize.height)=="undefined"?"auto":P.propsSize&&P.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},P.onResizeStart=P.onResizeStart.bind(P),P.onMouseMove=P.onMouseMove.bind(P),P.onMouseUp=P.onMouseUp.bind(P),P}return Object.defineProperty(I.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||rr},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"size",{get:function(){var E=0,P=0;if(this.resizable&&this.window){var ie=this.resizable.offsetWidth,ce=this.resizable.offsetHeight,He=this.resizable.style.position;He!=="relative"&&(this.resizable.style.position="relative"),E=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:ie,P=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:ce,this.resizable.style.position=He}return{width:E,height:P}},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"sizeStyle",{get:function(){var E=this,P=this.props.size,ie=function(pe){if(typeof E.state[pe]=="undefined"||E.state[pe]==="auto")return"auto";if(E.propsSize&&E.propsSize[pe]&&E.propsSize[pe].toString().endsWith("%")){if(E.state[pe].toString().endsWith("%"))return E.state[pe].toString();var Se=E.getParentSize(),de=Number(E.state[pe].toString().replace("px","")),Ue=de/Se[pe]*100;return Ue+"%"}return tr(E.state[pe])},ce=P&&typeof P.width!="undefined"&&!this.state.isResizing?tr(P.width):ie("width"),He=P&&typeof P.height!="undefined"&&!this.state.isResizing?tr(P.height):ie("height");return{width:ce,height:He}},enumerable:!1,configurable:!0}),I.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var E=this.appendBase();if(!E)return{width:0,height:0};var P=!1,ie=this.parentNode.style.flexWrap;ie!=="wrap"&&(P=!0,this.parentNode.style.flexWrap="wrap"),E.style.position="relative",E.style.minWidth="100%",E.style.minHeight="100%";var ce={width:E.offsetWidth,height:E.offsetHeight};return P&&(this.parentNode.style.flexWrap=ie),this.removeBase(E),ce},I.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},I.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},I.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var E=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:E.flexBasis!=="auto"?E.flexBasis:void 0})}},I.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},I.prototype.createSizeForCssProperty=function(E,P){var ie=this.propsSize&&this.propsSize[P];return this.state[P]==="auto"&&this.state.original[P]===E&&(typeof ie=="undefined"||ie==="auto")?"auto":E},I.prototype.calculateNewMaxFromBoundary=function(E,P){var ie=this.props.boundsByDirection,ce=this.state.direction,He=ie&&jt("left",ce),pe=ie&&jt("top",ce),Se,de;if(this.props.bounds==="parent"){var Ue=this.parentNode;Ue&&(Se=He?this.resizableRight-this.parentLeft:Ue.offsetWidth+(this.parentLeft-this.resizableLeft),de=pe?this.resizableBottom-this.parentTop:Ue.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(Se=He?this.resizableRight:this.window.innerWidth-this.resizableLeft,de=pe?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(Se=He?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),de=pe?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return Se&&Number.isFinite(Se)&&(E=E&&E<Se?E:Se),de&&Number.isFinite(de)&&(P=P&&P<de?P:de),{maxWidth:E,maxHeight:P}},I.prototype.calculateNewSizeFromDirection=function(E,P){var ie=this.props.scale||1,ce=this.props.resizeRatio||1,He=this.state,pe=He.direction,Se=He.original,de=this.props,Ue=de.lockAspectRatio,Me=de.lockAspectRatioExtraHeight,Ve=de.lockAspectRatioExtraWidth,lt=Se.width,ht=Se.height,dt=Me||0,$=Ve||0;return jt("right",pe)&&(lt=Se.width+(E-Se.x)*ce/ie,Ue&&(ht=(lt-$)/this.ratio+dt)),jt("left",pe)&&(lt=Se.width-(E-Se.x)*ce/ie,Ue&&(ht=(lt-$)/this.ratio+dt)),jt("bottom",pe)&&(ht=Se.height+(P-Se.y)*ce/ie,Ue&&(lt=(ht-dt)*this.ratio+$)),jt("top",pe)&&(ht=Se.height-(P-Se.y)*ce/ie,Ue&&(lt=(ht-dt)*this.ratio+$)),{newWidth:lt,newHeight:ht}},I.prototype.calculateNewSizeFromAspectRatio=function(E,P,ie,ce){var He=this.props,pe=He.lockAspectRatio,Se=He.lockAspectRatioExtraHeight,de=He.lockAspectRatioExtraWidth,Ue=typeof ce.width=="undefined"?10:ce.width,Me=typeof ie.width=="undefined"||ie.width<0?E:ie.width,Ve=typeof ce.height=="undefined"?10:ce.height,lt=typeof ie.height=="undefined"||ie.height<0?P:ie.height,ht=Se||0,dt=de||0;if(pe){var $=(Ve-ht)*this.ratio+dt,K=(lt-ht)*this.ratio+dt,X=(Ue-dt)/this.ratio+ht,W=(Me-dt)/this.ratio+ht,ve=Math.max(Ue,$),je=Math.min(Me,K),nt=Math.max(Ve,X),Xe=Math.min(lt,W);E=hn(E,ve,je),P=hn(P,nt,Xe)}else E=hn(E,Ue,Me),P=hn(P,Ve,lt);return{newWidth:E,newHeight:P}},I.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var E=this.parentNode;if(E){var P=E.getBoundingClientRect();this.parentLeft=P.left,this.parentTop=P.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var ie=this.props.bounds.getBoundingClientRect();this.targetLeft=ie.left,this.targetTop=ie.top}if(this.resizable){var ce=this.resizable.getBoundingClientRect(),He=ce.left,pe=ce.top,Se=ce.right,de=ce.bottom;this.resizableLeft=He,this.resizableRight=Se,this.resizableTop=pe,this.resizableBottom=de}},I.prototype.onResizeStart=function(E,P){if(!(!this.resizable||!this.window)){var ie=0,ce=0;if(E.nativeEvent&&yr(E.nativeEvent)?(ie=E.nativeEvent.clientX,ce=E.nativeEvent.clientY):E.nativeEvent&&mn(E.nativeEvent)&&(ie=E.nativeEvent.touches[0].clientX,ce=E.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var He=this.props.onResizeStart(E,P,this.resizable);if(He===!1)return}this.props.size&&(typeof this.props.size.height!="undefined"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width!="undefined"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var pe,Se=this.window.getComputedStyle(this.resizable);if(Se.flexBasis!=="auto"){var de=this.parentNode;if(de){var Ue=this.window.getComputedStyle(de).flexDirection;this.flexDir=Ue.startsWith("row")?"row":"column",pe=Se.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var Me={original:{x:ie,y:ce,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:oe(oe({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(E.target).cursor||"auto"}),direction:P,flexBasis:pe};this.setState(Me)}},I.prototype.onMouseMove=function(E){var P=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&mn(E))try{E.preventDefault(),E.stopPropagation()}catch(gn){}var ie=this.props,ce=ie.maxWidth,He=ie.maxHeight,pe=ie.minWidth,Se=ie.minHeight,de=mn(E)?E.touches[0].clientX:E.clientX,Ue=mn(E)?E.touches[0].clientY:E.clientY,Me=this.state,Ve=Me.direction,lt=Me.original,ht=Me.width,dt=Me.height,$=this.getParentSize(),K=bn($,this.window.innerWidth,this.window.innerHeight,ce,He,pe,Se);ce=K.maxWidth,He=K.maxHeight,pe=K.minWidth,Se=K.minHeight;var X=this.calculateNewSizeFromDirection(de,Ue),W=X.newHeight,ve=X.newWidth,je=this.calculateNewMaxFromBoundary(ce,He);this.props.snap&&this.props.snap.x&&(ve=Zn(ve,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(W=Zn(W,this.props.snap.y,this.props.snapGap));var nt=this.calculateNewSizeFromAspectRatio(ve,W,{width:je.maxWidth,height:je.maxHeight},{width:pe,height:Se});if(ve=nt.newWidth,W=nt.newHeight,this.props.grid){var Xe=An(ve,this.props.grid[0]),$e=An(W,this.props.grid[1]),De=this.props.snapGap||0;ve=De===0||Math.abs(Xe-ve)<=De?Xe:ve,W=De===0||Math.abs($e-W)<=De?$e:W}var qe={width:ve-lt.width,height:W-lt.height};if(ht&&typeof ht=="string"){if(ht.endsWith("%")){var ut=ve/$.width*100;ve=ut+"%"}else if(ht.endsWith("vw")){var it=ve/this.window.innerWidth*100;ve=it+"vw"}else if(ht.endsWith("vh")){var bt=ve/this.window.innerHeight*100;ve=bt+"vh"}}if(dt&&typeof dt=="string"){if(dt.endsWith("%")){var ut=W/$.height*100;W=ut+"%"}else if(dt.endsWith("vw")){var it=W/this.window.innerWidth*100;W=it+"vw"}else if(dt.endsWith("vh")){var bt=W/this.window.innerHeight*100;W=bt+"vh"}}var qt={width:this.createSizeForCssProperty(ve,"width"),height:this.createSizeForCssProperty(W,"height")};this.flexDir==="row"?qt.flexBasis=qt.width:this.flexDir==="column"&&(qt.flexBasis=qt.height),(0,At.flushSync)(function(){P.setState(qt)}),this.props.onResize&&this.props.onResize(E,Ve,this.resizable,qe)}},I.prototype.onMouseUp=function(E){var P=this.state,ie=P.isResizing,ce=P.direction,He=P.original;if(!(!ie||!this.resizable)){var pe={width:this.size.width-He.width,height:this.size.height-He.height};this.props.onResizeStop&&this.props.onResizeStop(E,ce,this.resizable,pe),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:oe(oe({},this.state.backgroundStyle),{cursor:"auto"})})}},I.prototype.updateSize=function(E){this.setState({width:E.width,height:E.height})},I.prototype.renderResizer=function(){var E=this,P=this.props,ie=P.enable,ce=P.handleStyles,He=P.handleClasses,pe=P.handleWrapperStyle,Se=P.handleWrapperClass,de=P.handleComponent;if(!ie)return null;var Ue=Object.keys(ie).map(function(Me){return ie[Me]!==!1?O.createElement(yt,{key:Me,direction:Me,onResizeStart:E.onResizeStart,replaceStyles:ce&&ce[Me],className:He&&He[Me]},de&&de[Me]?de[Me]:null):null});return O.createElement("div",{className:Se,style:pe},Ue)},I.prototype.render=function(){var E=this,P=Object.keys(this.props).reduce(function(He,pe){return ur.indexOf(pe)!==-1||(He[pe]=E.props[pe]),He},{}),ie=oe(oe(oe({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(ie.flexBasis=this.state.flexBasis);var ce=this.props.as||"div";return O.createElement(ce,oe({ref:this.ref,style:ie,className:this.props.className},P),this.state.isResizing&&O.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},I.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},I}(O.PureComponent),gt=te(77738),be=te(93251),It=te(93781),Ke=te(42449),We=te(81617),Ne=te(94927),Y=te(96766),Ae=te(1225),Ze,ge,Be,ke,et,wt,Vt,nn,un,Cn,dr,lr,Mr,Er=(0,Ae.kc)(function(Pe,I){var E=Pe.token,P=Pe.css,ie=Pe.cx,ce=P(Ze||(Ze=(0,Y.Z)([`
    position: relative;
    &::before {
      position: absolute;
      z-index: 50;
      transition: all 0.3s ease-in-out;
      content: '';
    }

    &:hover,
    &:active {
      &::before {
        background: `,`;
      }
    }
  `])),E.colorPrimary),He=P(ge||(ge=(0,Y.Z)([`
    position: absolute;
    opacity: 0;
    z-index: 1001;
    transition: opacity 0.1s;

    border-radius: 4px;
    cursor: pointer;
    background: `,`;
    border-width: 1px;
    border-style: solid;
    color: `,`;
    border-color: `,`;

    &:hover {
      color: `,`;
      background: `,`;
    }
  `])),E.colorBgElevated,E.colorTextTertiary,E.colorBorder,E.colorTextSecondary,E.colorFillQuaternary),pe=17,Se=40,de=16;return{container:ie(I,P(Be||(Be=(0,Y.Z)([`
        flex-shrink: 0;
        position: relative;
        border: 0 solid `,`;

        &:hover {
          .`,`-toggle {
            opacity: 1;
          }
        }
      `])),E.colorSplit,I)),toggleLeft:ie("".concat(I,"-toggle"),"".concat(I,"-toggle-left"),He,P(ke||(ke=(0,Y.Z)([`
        width: `,`px;
        height: `,`px;
        left: -`,`px;
        top: 50%;
        margin-top: -20px;
        border-radius: 4px 0 0 4px;
        border-right-width: 0;
      `])),de,Se,pe)),toggleRight:ie("".concat(I,"-toggle"),"".concat(I,"-toggle-right"),He,P(et||(et=(0,Y.Z)([`
        width: `,`px;
        height: `,`px;
        right: -`,`px;
        top: 50%;
        margin-top: -20px;
        border-radius: 0 4px 4px 0;
        border-left-width: 0;
      `])),de,Se,pe)),toggleTop:ie("".concat(I,"-toggle"),"".concat(I,"-toggle-top"),He,P(wt||(wt=(0,Y.Z)([`
        height: `,`px;
        width: `,`px;
        top: -`,`px;
        left: 50%;
        margin-left: -20px;
        border-radius: 4px 4px 0 0;
        border-bottom-width: 0;
      `])),de,Se,pe)),toggleBottom:ie("".concat(I,"-toggle"),"".concat(I,"-toggle-bottom"),He,P(Vt||(Vt=(0,Y.Z)([`
        height: 16px;
        width: `,`px;
        bottom: -`,`px;
        left: 50%;
        margin-left: -20px;
        border-radius: 0 0 4px 4px;
        border-top-width: 0;
      `])),Se,pe)),fixed:ie("".concat(I,"-fixed"),P(nn||(nn=(0,Y.Z)([`
        background: `,`;
        overflow: hidden;
      `])),E.colorBgContainer)),float:ie("".concat(I,"-float"),P(un||(un=(0,Y.Z)([`
        overflow: hidden;
        border-radius: 8px;
        background: `,`;
        box-shadow: `,`;
        z-index: 2000;
      `])),E.colorBgElevated,E.boxShadowSecondary)),leftHandle:ie(P(Cn||(Cn=(0,Y.Z)([`
        `,`;

        &::before {
          left: 50%;
          width: 2px;
          height: 100%;
        }
      `])),ce),"".concat(I,"-left-handle")),rightHandle:ie(P(dr||(dr=(0,Y.Z)([`
        `,`;
        &::before {
          right: 50%;
          width: 2px;
          height: 100%;
        }
      `])),ce),"".concat(I,"-right-handle")),topHandle:ie("".concat(I,"-top-handle"),P(lr||(lr=(0,Y.Z)([`
        `,`;

        &::before {
          top: 50%;
          height: 2px;
          width: 100%;
        }
      `])),ce)),bottomHandle:ie("".concat(I,"-bottom-handle"),P(Mr||(Mr=(0,Y.Z)([`
        `,`;

        &::before {
          bottom: 50%;
          height: 2px;
          width: 100%;
        }
      `])),ce))}}),Wn=te(11527),Nn=150,Nr=400,ti=function(I){switch(I){case"bottom":return"top";case"top":return"bottom";case"right":return"left";case"left":return"right"}},Or=(0,O.memo)(function(Pe){var I=Pe.children,E=Pe.placement,P=E===void 0?"right":E,ie=Pe.resize,ce=Pe.style,He=Pe.size,pe=Pe.defaultSize,Se=Pe.minWidth,de=Pe.minHeight,Ue=Pe.prefixCls,Me=Pe.onSizeChange,Ve=Pe.onSizeDragging,lt=Pe.expandable,ht=lt===void 0?!0:lt,dt=Pe.isExpand,$=Pe.onExpandChange,K=Pe.className,X=(0,he.k2)("draggable-panel",Ue),W=P==="top"||P==="bottom",ve=Er(X),je=ve.styles,nt=ve.cx,Xe=(0,be.Z)(!0,{value:dt,onChange:$}),$e=(0,Ct.Z)(Xe,2),De=$e[0],qe=$e[1],ut=ie!==!1&&De,it=(0,O.useMemo)(function(){return ut?(0,rt.Z)({},ti(P),je["".concat(ti(P),"Handle")]):{}},[ut,P]),bt=(0,U.Z)((0,rt.Z)({top:!1,bottom:!1,right:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},ti(P),!0),ie),qt=(0,O.useMemo)(function(){return W?(0,U.Z)({width:"100%",height:Nn},pe):(0,U.Z)({width:Nr,height:"100%"},pe)},[W]),gn=De?{minWidth:typeof Se=="number"?Math.max(Se,0):280,minHeight:typeof de=="number"?Math.max(de,0):void 0,defaultSize:qt,size:He,style:ce}:{minWidth:0,minHeight:0,size:{width:0,height:0}},or=(0,O.useMemo)(function(){switch(P){case"top":return{className:"Bottom",Arrow:It.Z};case"bottom":return{className:"Top",Arrow:Ke.Z};case"right":return{className:"Left",Arrow:We.Z};case"left":return{className:"Right",Arrow:Ne.Z}}},[je,P]),Qn=or.Arrow,Gn=or.className;return(0,Wn.jsxs)("div",{className:nt(je.container,K),style:(0,rt.Z)({},"border".concat(Gn,"Width"),1),children:[ht&&(0,Wn.jsx)(gt.Z,{className:nt(je["toggle".concat(Gn)]),onClick:function(){qe(!De)},style:{opacity:De?void 0:1},children:(0,Wn.jsx)(Qn,{rotate:De?180:0})}),(0,Wn.jsx)(Ge,(0,U.Z)((0,U.Z)({},gn),{},{className:je.fixed,enable:ut?bt:void 0,handleClasses:it,onResizeStop:function(Di,Si,_o,ps){Me==null||Me(ps,{width:_o.style.width,height:_o.style.height})},onResize:function(Di,Si,_o,ps){Ve==null||Ve(ps,{width:_o.style.width,height:_o.style.height})},children:I}))]})}),Jr=te(74901),zr=te.n(Jr),gi=function(){var Pe=function(I,E){return Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,ie){P.__proto__=ie}||function(P,ie){for(var ce in ie)Object.prototype.hasOwnProperty.call(ie,ce)&&(P[ce]=ie[ce])},Pe(I,E)};return function(I,E){Pe(I,E);function P(){this.constructor=I}I.prototype=E===null?Object.create(E):(P.prototype=E.prototype,new P)}}(),qr=function(){return qr=Object.assign||function(Pe){for(var I,E=1,P=arguments.length;E<P;E++){I=arguments[E];for(var ie in I)Object.prototype.hasOwnProperty.call(I,ie)&&(Pe[ie]=I[ie])}return Pe},qr.apply(this,arguments)},Ii={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},Ht=function(Pe){gi(I,Pe);function I(){var E=Pe!==null&&Pe.apply(this,arguments)||this;return E.onMouseDown=function(P){E.props.onResizeStart(P,E.props.direction)},E.onTouchStart=function(P){E.props.onResizeStart(P,E.props.direction)},E}return I.prototype.render=function(){return O.createElement("div",{className:this.props.className||"",style:qr(qr({position:"absolute",userSelect:"none"},Ii[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},I}(O.PureComponent),Gt=te(69978),on=te.n(Gt),an=function(){var Pe=function(I,E){return Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,ie){P.__proto__=ie}||function(P,ie){for(var ce in ie)Object.prototype.hasOwnProperty.call(ie,ce)&&(P[ce]=ie[ce])},Pe(I,E)};return function(I,E){Pe(I,E);function P(){this.constructor=I}I.prototype=E===null?Object.create(E):(P.prototype=E.prototype,new P)}}(),fn=function(){return fn=Object.assign||function(Pe){for(var I,E=1,P=arguments.length;E<P;E++){I=arguments[E];for(var ie in I)Object.prototype.hasOwnProperty.call(I,ie)&&(Pe[ie]=I[ie])}return Pe},fn.apply(this,arguments)},ir={width:"auto",height:"auto"},pn=on()(function(Pe,I,E){return Math.max(Math.min(Pe,E),I)}),Tr=on()(function(Pe,I){return Math.round(Pe/I)*I}),Jn=on()(function(Pe,I){return new RegExp(Pe,"i").test(I)}),ci=function(Pe){return!!(Pe.touches&&Pe.touches.length)},Qr=function(Pe){return!!((Pe.clientX||Pe.clientX===0)&&(Pe.clientY||Pe.clientY===0))},Xn=on()(function(Pe,I,E){E===void 0&&(E=0);var P=I.reduce(function(ce,He,pe){return Math.abs(He-Pe)<Math.abs(I[ce]-Pe)?pe:ce},0),ie=Math.abs(I[P]-Pe);return E===0||ie<E?I[P]:Pe}),On=on()(function(Pe,I){return Pe.substr(Pe.length-I.length,I.length)===I}),si=on()(function(Pe){return Pe=Pe.toString(),Pe==="auto"||On(Pe,"px")||On(Pe,"%")||On(Pe,"vh")||On(Pe,"vw")||On(Pe,"vmax")||On(Pe,"vmin")?Pe:Pe+"px"}),Oi=function(Pe,I,E,P){if(Pe&&typeof Pe=="string"){if(On(Pe,"px"))return Number(Pe.replace("px",""));if(On(Pe,"%")){var ie=Number(Pe.replace("%",""))/100;return I*ie}if(On(Pe,"vw")){var ie=Number(Pe.replace("vw",""))/100;return E*ie}if(On(Pe,"vh")){var ie=Number(Pe.replace("vh",""))/100;return P*ie}}return Pe},qi=on()(function(Pe,I,E,P,ie,ce,He){return P=Oi(P,Pe.width,I,E),ie=Oi(ie,Pe.height,I,E),ce=Oi(ce,Pe.width,I,E),He=Oi(He,Pe.height,I,E),{maxWidth:typeof P=="undefined"?void 0:Number(P),maxHeight:typeof ie=="undefined"?void 0:Number(ie),minWidth:typeof ce=="undefined"?void 0:Number(ce),minHeight:typeof He=="undefined"?void 0:Number(He)}}),Ti=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],vr="__resizable_base__",oi=function(Pe){an(I,Pe);function I(E){var P=Pe.call(this,E)||this;return P.ratio=1,P.resizable=null,P.parentLeft=0,P.parentTop=0,P.resizableLeft=0,P.resizableRight=0,P.resizableTop=0,P.resizableBottom=0,P.targetLeft=0,P.targetTop=0,P.appendBase=function(){if(!P.resizable||!P.window)return null;var ie=P.parentNode;if(!ie)return null;var ce=P.window.document.createElement("div");return ce.style.width="100%",ce.style.height="100%",ce.style.position="absolute",ce.style.transform="scale(0, 0)",ce.style.left="0",ce.style.flex="0 0 100%",ce.classList?ce.classList.add(vr):ce.className+=vr,ie.appendChild(ce),ce},P.removeBase=function(ie){var ce=P.parentNode;ce&&ce.removeChild(ie)},P.ref=function(ie){ie&&(P.resizable=ie)},P.state={isResizing:!1,width:typeof(P.propsSize&&P.propsSize.width)=="undefined"?"auto":P.propsSize&&P.propsSize.width,height:typeof(P.propsSize&&P.propsSize.height)=="undefined"?"auto":P.propsSize&&P.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},P.onResizeStart=P.onResizeStart.bind(P),P.onMouseMove=P.onMouseMove.bind(P),P.onMouseUp=P.onMouseUp.bind(P),P}return Object.defineProperty(I.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||ir},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"size",{get:function(){var E=0,P=0;if(this.resizable&&this.window){var ie=this.resizable.offsetWidth,ce=this.resizable.offsetHeight,He=this.resizable.style.position;He!=="relative"&&(this.resizable.style.position="relative"),E=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:ie,P=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:ce,this.resizable.style.position=He}return{width:E,height:P}},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"sizeStyle",{get:function(){var E=this,P=this.props.size,ie=function(pe){if(typeof E.state[pe]=="undefined"||E.state[pe]==="auto")return"auto";if(E.propsSize&&E.propsSize[pe]&&On(E.propsSize[pe].toString(),"%")){if(On(E.state[pe].toString(),"%"))return E.state[pe].toString();var Se=E.getParentSize(),de=Number(E.state[pe].toString().replace("px","")),Ue=de/Se[pe]*100;return Ue+"%"}return si(E.state[pe])},ce=P&&typeof P.width!="undefined"&&!this.state.isResizing?si(P.width):ie("width"),He=P&&typeof P.height!="undefined"&&!this.state.isResizing?si(P.height):ie("height");return{width:ce,height:He}},enumerable:!1,configurable:!0}),I.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var E=this.appendBase();if(!E)return{width:0,height:0};var P=!1,ie=this.parentNode.style.flexWrap;ie!=="wrap"&&(P=!0,this.parentNode.style.flexWrap="wrap"),E.style.position="relative",E.style.minWidth="100%",E.style.minHeight="100%";var ce={width:E.offsetWidth,height:E.offsetHeight};return P&&(this.parentNode.style.flexWrap=ie),this.removeBase(E),ce},I.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},I.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},I.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var E=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:E.flexBasis!=="auto"?E.flexBasis:void 0})}},I.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},I.prototype.createSizeForCssProperty=function(E,P){var ie=this.propsSize&&this.propsSize[P];return this.state[P]==="auto"&&this.state.original[P]===E&&(typeof ie=="undefined"||ie==="auto")?"auto":E},I.prototype.calculateNewMaxFromBoundary=function(E,P){var ie=this.props.boundsByDirection,ce=this.state.direction,He=ie&&Jn("left",ce),pe=ie&&Jn("top",ce),Se,de;if(this.props.bounds==="parent"){var Ue=this.parentNode;Ue&&(Se=He?this.resizableRight-this.parentLeft:Ue.offsetWidth+(this.parentLeft-this.resizableLeft),de=pe?this.resizableBottom-this.parentTop:Ue.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(Se=He?this.resizableRight:this.window.innerWidth-this.resizableLeft,de=pe?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(Se=He?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),de=pe?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return Se&&Number.isFinite(Se)&&(E=E&&E<Se?E:Se),de&&Number.isFinite(de)&&(P=P&&P<de?P:de),{maxWidth:E,maxHeight:P}},I.prototype.calculateNewSizeFromDirection=function(E,P){var ie=this.props.scale||1,ce=this.props.resizeRatio||1,He=this.state,pe=He.direction,Se=He.original,de=this.props,Ue=de.lockAspectRatio,Me=de.lockAspectRatioExtraHeight,Ve=de.lockAspectRatioExtraWidth,lt=Se.width,ht=Se.height,dt=Me||0,$=Ve||0;return Jn("right",pe)&&(lt=Se.width+(E-Se.x)*ce/ie,Ue&&(ht=(lt-$)/this.ratio+dt)),Jn("left",pe)&&(lt=Se.width-(E-Se.x)*ce/ie,Ue&&(ht=(lt-$)/this.ratio+dt)),Jn("bottom",pe)&&(ht=Se.height+(P-Se.y)*ce/ie,Ue&&(lt=(ht-dt)*this.ratio+$)),Jn("top",pe)&&(ht=Se.height-(P-Se.y)*ce/ie,Ue&&(lt=(ht-dt)*this.ratio+$)),{newWidth:lt,newHeight:ht}},I.prototype.calculateNewSizeFromAspectRatio=function(E,P,ie,ce){var He=this.props,pe=He.lockAspectRatio,Se=He.lockAspectRatioExtraHeight,de=He.lockAspectRatioExtraWidth,Ue=typeof ce.width=="undefined"?10:ce.width,Me=typeof ie.width=="undefined"||ie.width<0?E:ie.width,Ve=typeof ce.height=="undefined"?10:ce.height,lt=typeof ie.height=="undefined"||ie.height<0?P:ie.height,ht=Se||0,dt=de||0;if(pe){var $=(Ve-ht)*this.ratio+dt,K=(lt-ht)*this.ratio+dt,X=(Ue-dt)/this.ratio+ht,W=(Me-dt)/this.ratio+ht,ve=Math.max(Ue,$),je=Math.min(Me,K),nt=Math.max(Ve,X),Xe=Math.min(lt,W);E=pn(E,ve,je),P=pn(P,nt,Xe)}else E=pn(E,Ue,Me),P=pn(P,Ve,lt);return{newWidth:E,newHeight:P}},I.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var E=this.parentNode;if(E){var P=E.getBoundingClientRect();this.parentLeft=P.left,this.parentTop=P.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var ie=this.props.bounds.getBoundingClientRect();this.targetLeft=ie.left,this.targetTop=ie.top}if(this.resizable){var ce=this.resizable.getBoundingClientRect(),He=ce.left,pe=ce.top,Se=ce.right,de=ce.bottom;this.resizableLeft=He,this.resizableRight=Se,this.resizableTop=pe,this.resizableBottom=de}},I.prototype.onResizeStart=function(E,P){if(!(!this.resizable||!this.window)){var ie=0,ce=0;if(E.nativeEvent&&Qr(E.nativeEvent)?(ie=E.nativeEvent.clientX,ce=E.nativeEvent.clientY):E.nativeEvent&&ci(E.nativeEvent)&&(ie=E.nativeEvent.touches[0].clientX,ce=E.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var He=this.props.onResizeStart(E,P,this.resizable);if(He===!1)return}this.props.size&&(typeof this.props.size.height!="undefined"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width!="undefined"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var pe,Se=this.window.getComputedStyle(this.resizable);if(Se.flexBasis!=="auto"){var de=this.parentNode;if(de){var Ue=this.window.getComputedStyle(de).flexDirection;this.flexDir=Ue.startsWith("row")?"row":"column",pe=Se.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var Me={original:{x:ie,y:ce,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:fn(fn({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(E.target).cursor||"auto"}),direction:P,flexBasis:pe};this.setState(Me)}},I.prototype.onMouseMove=function(E){if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&ci(E))try{E.preventDefault(),E.stopPropagation()}catch(qt){}var P=this.props,ie=P.maxWidth,ce=P.maxHeight,He=P.minWidth,pe=P.minHeight,Se=ci(E)?E.touches[0].clientX:E.clientX,de=ci(E)?E.touches[0].clientY:E.clientY,Ue=this.state,Me=Ue.direction,Ve=Ue.original,lt=Ue.width,ht=Ue.height,dt=this.getParentSize(),$=qi(dt,this.window.innerWidth,this.window.innerHeight,ie,ce,He,pe);ie=$.maxWidth,ce=$.maxHeight,He=$.minWidth,pe=$.minHeight;var K=this.calculateNewSizeFromDirection(Se,de),X=K.newHeight,W=K.newWidth,ve=this.calculateNewMaxFromBoundary(ie,ce);this.props.snap&&this.props.snap.x&&(W=Xn(W,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(X=Xn(X,this.props.snap.y,this.props.snapGap));var je=this.calculateNewSizeFromAspectRatio(W,X,{width:ve.maxWidth,height:ve.maxHeight},{width:He,height:pe});if(W=je.newWidth,X=je.newHeight,this.props.grid){var nt=Tr(W,this.props.grid[0]),Xe=Tr(X,this.props.grid[1]),$e=this.props.snapGap||0;W=$e===0||Math.abs(nt-W)<=$e?nt:W,X=$e===0||Math.abs(Xe-X)<=$e?Xe:X}var De={width:W-Ve.width,height:X-Ve.height};if(lt&&typeof lt=="string"){if(On(lt,"%")){var qe=W/dt.width*100;W=qe+"%"}else if(On(lt,"vw")){var ut=W/this.window.innerWidth*100;W=ut+"vw"}else if(On(lt,"vh")){var it=W/this.window.innerHeight*100;W=it+"vh"}}if(ht&&typeof ht=="string"){if(On(ht,"%")){var qe=X/dt.height*100;X=qe+"%"}else if(On(ht,"vw")){var ut=X/this.window.innerWidth*100;X=ut+"vw"}else if(On(ht,"vh")){var it=X/this.window.innerHeight*100;X=it+"vh"}}var bt={width:this.createSizeForCssProperty(W,"width"),height:this.createSizeForCssProperty(X,"height")};this.flexDir==="row"?bt.flexBasis=bt.width:this.flexDir==="column"&&(bt.flexBasis=bt.height),this.setState(bt),this.props.onResize&&this.props.onResize(E,Me,this.resizable,De)}},I.prototype.onMouseUp=function(E){var P=this.state,ie=P.isResizing,ce=P.direction,He=P.original;if(!(!ie||!this.resizable)){var pe={width:this.size.width-He.width,height:this.size.height-He.height};this.props.onResizeStop&&this.props.onResizeStop(E,ce,this.resizable,pe),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:fn(fn({},this.state.backgroundStyle),{cursor:"auto"})})}},I.prototype.updateSize=function(E){this.setState({width:E.width,height:E.height})},I.prototype.renderResizer=function(){var E=this,P=this.props,ie=P.enable,ce=P.handleStyles,He=P.handleClasses,pe=P.handleWrapperStyle,Se=P.handleWrapperClass,de=P.handleComponent;if(!ie)return null;var Ue=Object.keys(ie).map(function(Me){return ie[Me]!==!1?O.createElement(Ht,{key:Me,direction:Me,onResizeStart:E.onResizeStart,replaceStyles:ce&&ce[Me],className:He&&He[Me]},de&&de[Me]?de[Me]:null):null});return O.createElement("div",{className:Se,style:pe},Ue)},I.prototype.render=function(){var E=this,P=Object.keys(this.props).reduce(function(He,pe){return Ti.indexOf(pe)!==-1||(He[pe]=E.props[pe]),He},{}),ie=fn(fn(fn({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(ie.flexBasis=this.state.flexBasis);var ce=this.props.as||"div";return O.createElement(ce,fn({ref:this.ref,style:ie,className:this.props.className},P),this.state.isResizing&&O.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},I.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},I}(O.PureComponent);var tt=function(Pe,I){return tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,P){E.__proto__=P}||function(E,P){for(var ie in P)P.hasOwnProperty(ie)&&(E[ie]=P[ie])},tt(Pe,I)};function Xt(Pe,I){tt(Pe,I);function E(){this.constructor=Pe}Pe.prototype=I===null?Object.create(I):(E.prototype=I.prototype,new E)}var Pn=function(){return Pn=Object.assign||function(I){for(var E,P=1,ie=arguments.length;P<ie;P++){E=arguments[P];for(var ce in E)Object.prototype.hasOwnProperty.call(E,ce)&&(I[ce]=E[ce])}return I},Pn.apply(this,arguments)};function Dr(Pe,I){var E={};for(var P in Pe)Object.prototype.hasOwnProperty.call(Pe,P)&&I.indexOf(P)<0&&(E[P]=Pe[P]);if(Pe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ie=0,P=Object.getOwnPropertySymbols(Pe);ie<P.length;ie++)I.indexOf(P[ie])<0&&Object.prototype.propertyIsEnumerable.call(Pe,P[ie])&&(E[P[ie]]=Pe[P[ie]]);return E}var Xr=zr(),Fi={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},yi=function(Pe){return{bottom:Pe,bottomLeft:Pe,bottomRight:Pe,left:Pe,right:Pe,top:Pe,topLeft:Pe,topRight:Pe}},Qo=function(Pe){Xt(I,Pe);function I(E){var P=Pe.call(this,E)||this;return P.resizingPosition={x:0,y:0},P.offsetFromParent={left:0,top:0},P.resizableElement={current:null},P.originalPosition={x:0,y:0},P.refDraggable=function(ie){ie&&(P.draggable=ie)},P.refResizable=function(ie){ie&&(P.resizable=ie,P.resizableElement.current=ie.resizable)},P.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:E.maxWidth,maxHeight:E.maxHeight},P.onResizeStart=P.onResizeStart.bind(P),P.onResize=P.onResize.bind(P),P.onResizeStop=P.onResizeStop.bind(P),P.onDragStart=P.onDragStart.bind(P),P.onDrag=P.onDrag.bind(P),P.onDragStop=P.onDragStop.bind(P),P.getMaxSizesFromProps=P.getMaxSizesFromProps.bind(P),P}return I.prototype.componentDidMount=function(){this.updateOffsetFromParent();var E=this.offsetFromParent,P=E.left,ie=E.top,ce=this.getDraggablePosition(),He=ce.x,pe=ce.y;this.draggable.setState({x:He-P,y:pe-ie}),this.forceUpdate()},I.prototype.getDraggablePosition=function(){var E=this.draggable.state,P=E.x,ie=E.y;return{x:P,y:ie}},I.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},I.prototype.getParentSize=function(){return this.resizable.getParentSize()},I.prototype.getMaxSizesFromProps=function(){var E=typeof this.props.maxWidth=="undefined"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,P=typeof this.props.maxHeight=="undefined"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:E,maxHeight:P}},I.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},I.prototype.getOffsetHeight=function(E){var P=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/P;case"body":return document.body.offsetHeight/P;default:return E.offsetHeight}},I.prototype.getOffsetWidth=function(E){var P=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/P;case"body":return document.body.offsetWidth/P;default:return E.offsetWidth}},I.prototype.onDragStart=function(E,P){this.props.onDragStart&&this.props.onDragStart(E,P);var ie=this.getDraggablePosition();if(this.originalPosition=ie,!!this.props.bounds){var ce=this.getParent(),He=this.props.scale,pe;if(this.props.bounds==="parent")pe=ce;else if(this.props.bounds==="body"){var Se=ce.getBoundingClientRect(),de=Se.left,Ue=Se.top,Me=document.body.getBoundingClientRect(),Ve=-(de-ce.offsetLeft*He-Me.left)/He,lt=-(Ue-ce.offsetTop*He-Me.top)/He,ht=(document.body.offsetWidth-this.resizable.size.width*He)/He+Ve,dt=(document.body.offsetHeight-this.resizable.size.height*He)/He+lt;return this.setState({bounds:{top:lt,right:ht,bottom:dt,left:Ve}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var $=ce.getBoundingClientRect(),K=$.left,X=$.top,W=-(K-ce.offsetLeft*He)/He,ve=-(X-ce.offsetTop*He)/He,ht=(window.innerWidth-this.resizable.size.width*He)/He+W,dt=(window.innerHeight-this.resizable.size.height*He)/He+ve;return this.setState({bounds:{top:ve,right:ht,bottom:dt,left:W}})}else typeof this.props.bounds=="string"?pe=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(pe=this.props.bounds);if(!(!(pe instanceof HTMLElement)||!(ce instanceof HTMLElement))){var je=pe.getBoundingClientRect(),nt=je.left,Xe=je.top,$e=ce.getBoundingClientRect(),De=$e.left,qe=$e.top,ut=(nt-De)/He,it=Xe-qe;if(this.resizable){this.updateOffsetFromParent();var bt=this.offsetFromParent;this.setState({bounds:{top:it-bt.top,right:ut+(pe.offsetWidth-this.resizable.size.width)-bt.left/He,bottom:it+(pe.offsetHeight-this.resizable.size.height)-bt.top,left:ut-bt.left/He}})}}}},I.prototype.onDrag=function(E,P){if(this.props.onDrag){var ie=this.offsetFromParent,ce=ie.left,He=ie.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(E,Pn(Pn({},P),{x:P.x-ce,y:P.y-He}));if(this.props.dragAxis==="x")return this.props.onDrag(E,Pn(Pn({},P),{x:P.x+ce,y:this.originalPosition.y+He,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(E,Pn(Pn({},P),{x:this.originalPosition.x+ce,y:P.y+He,deltaX:0}))}},I.prototype.onDragStop=function(E,P){if(this.props.onDragStop){var ie=this.offsetFromParent,ce=ie.left,He=ie.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(E,Pn(Pn({},P),{x:P.x+ce,y:P.y+He}));if(this.props.dragAxis==="x")return this.props.onDragStop(E,Pn(Pn({},P),{x:P.x+ce,y:this.originalPosition.y+He,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(E,Pn(Pn({},P),{x:this.originalPosition.x+ce,y:P.y+He,deltaX:0}))}},I.prototype.onResizeStart=function(E,P,ie){E.stopPropagation(),this.setState({resizing:!0});var ce=this.props.scale,He=this.offsetFromParent,pe=this.getDraggablePosition();if(this.resizingPosition={x:pe.x+He.left,y:pe.y+He.top},this.originalPosition=pe,this.props.bounds){var Se=this.getParent(),de=void 0;this.props.bounds==="parent"?de=Se:this.props.bounds==="body"?de=document.body:this.props.bounds==="window"?de=window:typeof this.props.bounds=="string"?de=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(de=this.props.bounds);var Ue=this.getSelfElement();if(Ue instanceof Element&&(de instanceof HTMLElement||de===window)&&Se instanceof HTMLElement){var Me=this.getMaxSizesFromProps(),Ve=Me.maxWidth,lt=Me.maxHeight,ht=this.getParentSize();if(Ve&&typeof Ve=="string")if(Ve.endsWith("%")){var dt=Number(Ve.replace("%",""))/100;Ve=ht.width*dt}else Ve.endsWith("px")&&(Ve=Number(Ve.replace("px","")));if(lt&&typeof lt=="string")if(lt.endsWith("%")){var dt=Number(lt.replace("%",""))/100;lt=ht.width*dt}else lt.endsWith("px")&&(lt=Number(lt.replace("px","")));var $=Ue.getBoundingClientRect(),K=$.left,X=$.top,W=this.props.bounds==="window"?{left:0,top:0}:de.getBoundingClientRect(),ve=W.left,je=W.top,nt=this.getOffsetWidth(de),Xe=this.getOffsetHeight(de),$e=P.toLowerCase().endsWith("left"),De=P.toLowerCase().endsWith("right"),qe=P.startsWith("top"),ut=P.startsWith("bottom");if(($e||qe)&&this.resizable){var it=(K-ve)/ce+this.resizable.size.width;this.setState({maxWidth:it>Number(Ve)?Ve:it})}if(De||this.props.lockAspectRatio&&!$e&&!qe){var it=nt+(ve-K)/ce;this.setState({maxWidth:it>Number(Ve)?Ve:it})}if((qe||$e)&&this.resizable){var it=(X-je)/ce+this.resizable.size.height;this.setState({maxHeight:it>Number(lt)?lt:it})}if(ut||this.props.lockAspectRatio&&!qe&&!$e){var it=Xe+(je-X)/ce;this.setState({maxHeight:it>Number(lt)?lt:it})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(E,P,ie)},I.prototype.onResize=function(E,P,ie,ce){var He={x:this.originalPosition.x,y:this.originalPosition.y},pe=-ce.width,Se=-ce.height,de=["top","left","topLeft","bottomLeft","topRight"];de.indexOf(P)!==-1&&(P==="bottomLeft"?He.x+=pe:(P==="topRight"||(He.x+=pe),He.y+=Se)),(He.x!==this.draggable.state.x||He.y!==this.draggable.state.y)&&this.draggable.setState(He),this.updateOffsetFromParent();var Ue=this.offsetFromParent,Me=this.getDraggablePosition().x+Ue.left,Ve=this.getDraggablePosition().y+Ue.top;this.resizingPosition={x:Me,y:Ve},this.props.onResize&&this.props.onResize(E,P,ie,ce,{x:Me,y:Ve})},I.prototype.onResizeStop=function(E,P,ie,ce){this.setState({resizing:!1});var He=this.getMaxSizesFromProps(),pe=He.maxWidth,Se=He.maxHeight;this.setState({maxWidth:pe,maxHeight:Se}),this.props.onResizeStop&&this.props.onResizeStop(E,P,ie,ce,this.resizingPosition)},I.prototype.updateSize=function(E){this.resizable&&this.resizable.updateSize({width:E.width,height:E.height})},I.prototype.updatePosition=function(E){this.draggable.setState(E)},I.prototype.updateOffsetFromParent=function(){var E=this.props.scale,P=this.getParent(),ie=this.getSelfElement();if(!P||ie===null)return{top:0,left:0};var ce=P.getBoundingClientRect(),He=ce.left,pe=ce.top,Se=ie.getBoundingClientRect(),de=this.getDraggablePosition(),Ue=P.scrollLeft,Me=P.scrollTop;this.offsetFromParent={left:Se.left-He+Ue-de.x*E,top:Se.top-pe+Me-de.y*E}},I.prototype.render=function(){var E=this.props,P=E.disableDragging,ie=E.style,ce=E.dragHandleClassName,He=E.position,pe=E.onMouseDown,Se=E.onMouseUp,de=E.dragAxis,Ue=E.dragGrid,Me=E.bounds,Ve=E.enableUserSelectHack,lt=E.cancel,ht=E.children,dt=E.onResizeStart,$=E.onResize,K=E.onResizeStop,X=E.onDragStart,W=E.onDrag,ve=E.onDragStop,je=E.resizeHandleStyles,nt=E.resizeHandleClasses,Xe=E.resizeHandleComponent,$e=E.enableResizing,De=E.resizeGrid,qe=E.resizeHandleWrapperClass,ut=E.resizeHandleWrapperStyle,it=E.scale,bt=E.allowAnyClick,qt=Dr(E,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),gn=this.props.default?Pn({},this.props.default):void 0;delete qt.default;var or=P||ce?{cursor:"auto"}:{cursor:"move"},Qn=Pn(Pn(Pn({},Fi),or),ie),Gn=this.offsetFromParent,cr=Gn.left,Di=Gn.top,Si;He&&(Si={x:He.x-cr,y:He.y-Di});var _o=this.state.resizing?void 0:Si,ps=this.state.resizing?"both":de;return(0,O.createElement)(Xr,{ref:this.refDraggable,handle:ce?".".concat(ce):void 0,defaultPosition:gn,onMouseDown:pe,onMouseUp:Se,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:ps,disabled:P,grid:Ue,bounds:Me?this.state.bounds:void 0,position:_o,enableUserSelectHack:Ve,cancel:lt,scale:it,allowAnyClick:bt,nodeRef:this.resizableElement},(0,O.createElement)(oi,Pn({},qt,{ref:this.refResizable,defaultSize:gn,size:this.props.size,enable:typeof $e=="boolean"?yi($e):$e,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:Qn,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:De,handleWrapperClass:qe,handleWrapperStyle:ut,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:je,handleClasses:nt,handleComponent:Xe,scale:this.props.scale}),ht))},I.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},I}(O.PureComponent),Ui=300,ki=400,wi=(0,O.memo)(function(Pe){var I=Pe.children,E=Pe.direction,P=Pe.resize,ie=Pe.style,ce=Pe.position,He=Pe.onPositionChange,pe=Pe.size,Se=Pe.defaultSize,de=Pe.defaultPosition,Ue=Pe.minWidth,Me=Ue===void 0?280:Ue,Ve=Pe.minHeight,lt=Ve===void 0?200:Ve,ht=Pe.prefixCls,dt=Pe.canResizing,$=Er(ht),K=$.styles,X=(0,O.useMemo)(function(){return dt?{right:K.rightHandle,left:K.leftHandle,top:K.topHandle,bottom:K.bottomHandle}:{}},[dt,E]),W=(0,O.useMemo)(function(){return dt?P:(0,U.Z)({top:!0,bottom:!0,right:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},P)},[dt,P]),ve=(0,U.Z)({width:ki,height:Ui},Se),je=(0,U.Z)({x:100,y:100},de),nt={minWidth:Math.max(Me,0),minHeight:Math.max(lt,0),defaultSize:ve,size:pe,style:ie};return(0,Wn.jsx)(Qo,(0,U.Z)((0,U.Z)({position:ce,resizeHandleClasses:X,default:(0,U.Z)((0,U.Z)({},je),ve),onDragStop:function($e,De){He==null||He({x:De.x,y:De.y})},bound:"parent",enableResizing:W},nt),{},{className:K.float,children:I}))}),go=(0,O.memo)(function(Pe){var I=Pe.children,E=Pe.className,P=Pe.mode,ie=Pe.placement,ce=Pe.resize,He=Pe.style,pe=Pe.position,Se=Pe.onPositionChange,de=Pe.size,Ue=Pe.defaultSize,Me=Pe.defaultPosition,Ve=Pe.minWidth,lt=Pe.minHeight,ht=Pe.prefixCls,dt=Pe.onSizeChange,$=Pe.onSizeDragging,K=Pe.expandable,X=K===void 0?!0:K,W=Pe.isExpand,ve=Pe.onExpandChange,je=(0,he.k2)("draggable-panel",ht);switch(P){case"fixed":default:return(0,Wn.jsx)(Or,{prefixCls:je,size:de,defaultSize:Ue,onSizeDragging:$,onSizeChange:dt,minHeight:lt,minWidth:Ve,resize:ce,onExpandChange:ve,expandable:X,isExpand:W,className:E,placement:ie,style:He,children:I});case"float":return(0,Wn.jsx)(wi,{prefixCls:je,defaultPosition:Me,position:pe,onPositionChange:Se,minHeight:lt,minWidth:Ve,defaultSize:Ue,size:de,onSizeDragging:$,onSizeChange:dt,resize:ce,canResizing:ce!==!1,className:E,style:He,children:I})}})},91273:function(Jt,Qe,te){"use strict";te.d(Qe,{c:function(){return He}});var O=te(4386),he=te(78411),U=te(50959),rt=te(72713),Ct=te(28257),At=te(5899),ye=te.n(At),kt=te(10422),Ce=te(84341);function Re(pe){return Se=>{let{transform:de}=Se;return _i(zt({},de),{x:Math.ceil(de.x/pe)*pe,y:Math.ceil(de.y/pe)*pe})}}const ot=pe=>{let{transform:Se}=pe;return _i(zt({},Se),{y:0})};function _e(pe,Se,de){const Ue=zt({},pe);return Se.top+pe.y<=de.top?Ue.y=de.top-Se.top:Se.bottom+pe.y>=de.top+de.height&&(Ue.y=de.top+de.height-Se.bottom),Se.left+pe.x<=de.left?Ue.x=de.left-Se.left:Se.right+pe.x>=de.left+de.width&&(Ue.x=de.left+de.width-Se.right),Ue}const yt=pe=>{let{containerNodeRect:Se,draggingNodeRect:de,transform:Ue}=pe;return!de||!Se?Ue:_e(Ue,de,Se)},Rt=pe=>{let{draggingNodeRect:Se,transform:de,scrollableAncestorRects:Ue}=pe;const Me=Ue[0];return!Se||!Me?de:_e(de,Se,Me)},oe=pe=>{let{transform:Se}=pe;return _i(zt({},Se),{x:0})},rr=pe=>{let{transform:Se,draggingNodeRect:de,windowRect:Ue}=pe;return!de||!Ue?Se:_e(Se,de,Ue)},hn=pe=>{let{activatorEvent:Se,draggingNodeRect:de,transform:Ue}=pe;if(de&&Se){const Me=getEventCoordinates(Se);if(!Me)return Ue;const Ve=Me.x-de.left,lt=Me.y-de.top;return _i(zt({},Ue),{x:Ue.x+Ve-de.width/2,y:Ue.y+lt-de.height/2})}return Ue};var An=te(59671),jt=te(55937);function mn(pe,Se){if(Object.is(pe,Se))return!0;if(typeof pe!="object"||pe===null||typeof Se!="object"||Se===null)return!1;if(pe instanceof Map&&Se instanceof Map){if(pe.size!==Se.size)return!1;for(const[Ue,Me]of pe)if(!Object.is(Me,Se.get(Ue)))return!1;return!0}if(pe instanceof Set&&Se instanceof Set){if(pe.size!==Se.size)return!1;for(const Ue of pe)if(!Se.has(Ue))return!1;return!0}const de=Object.keys(pe);if(de.length!==Object.keys(Se).length)return!1;for(let Ue=0;Ue<de.length;Ue++)if(!Object.prototype.hasOwnProperty.call(Se,de[Ue])||!Object.is(pe[de[Ue]],Se[de[Ue]]))return!1;return!0}var yr=(pe,Se)=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { shallow } from 'zustand/shallow'`."),mn(pe,Se)),Zn=te(38268),tr=te(1225),wn=te(47828),bn=te(42769),ur=te(84875),qn=te.n(ur),Ge=te(34373),gt=te(47101),be=te(11527),It=(0,be.jsx)("svg",{viewBox:"0 0 20 20",width:"16",fill:"currentColor",children:(0,be.jsx)("path",{d:"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z"})}),Ke=(0,be.jsx)("svg",{width:"10",viewBox:"0 0 70 41",fill:"currentColor",children:(0,be.jsx)("path",{d:"M30.76 39.2402C31.885 40.3638 33.41 40.995 35 40.995C36.59 40.995 38.115 40.3638 39.24 39.2402L68.24 10.2402C69.2998 9.10284 69.8768 7.59846 69.8494 6.04406C69.822 4.48965 69.1923 3.00657 68.093 1.90726C66.9937 0.807959 65.5106 0.178263 63.9562 0.150837C62.4018 0.123411 60.8974 0.700397 59.76 1.76024L35 26.5102L10.24 1.76024C9.10259 0.700397 7.59822 0.123411 6.04381 0.150837C4.4894 0.178263 3.00632 0.807959 1.90702 1.90726C0.807714 3.00657 0.178019 4.48965 0.150593 6.04406C0.123167 7.59846 0.700153 9.10284 1.75999 10.2402L30.76 39.2402Z"})}),We=function(Se){return _jsx(ActionIcon,_objectSpread({icon:Ke},Se))},Ne=function(Se){return(0,be.jsx)(gt.Z,(0,O.Z)({icon:It},Se))},Y=function(Se){return(0,be.jsx)(gt.Z,(0,O.Z)({icon:(0,be.jsx)(Ge.Z,{})},Se))},Ae=function(Se){return _jsx(ActionIcon,_objectSpread({icon:_jsx(EditFilled,{})},Se))},Ze=te(96766),ge,Be,ke,et,wt,Vt,nn,un,Cn,dr,lr="0 0 0 calc(1px / var(--scale-x, 1)) rgba(0, 0, 0, 0.05)",Mr="0 1px calc(3px / var(--scale-x, 1)) 0 rgba(0, 0, 0, 0.15)",Er="".concat(lr," ").concat(Mr),Wn=(0,tr.F4)(ge||(ge=(0,Ze.Z)([`
	0% {
		box-shadow: var(--box-shadow);
		transform: scale(1);
	}
	100% {
		box-shadow: var(--box-shadow-picked-up);
		transform: scale(var(--scale));
	}
`]))),Nn=(0,tr.F4)(Be||(Be=(0,Ze.Z)([`
	0% {
	  opacity: 0;
	}
	100% {
	  opacity: 1;
	}
`]))),Nr=(0,tr.kc)(function(pe,Se){var de=pe.css,Ue=pe.cx,Me=pe.token,Ve="".concat(Se);return{item:Ue("".concat(Se,"-item"),de(ke||(ke=(0,Ze.Z)([`
        position: relative;
        display: flex;
        flex-grow: 1;
        align-items: center;
        justify-content: space-between;
        box-sizing: border-box;
        padding: 1px 0;
        color: `,`;
        font-size: 12px;
        white-space: nowrap;
        list-style: none;
        border-radius: 4px;
        outline: none;
        transform: scale(var(--scale, 1));
        transform-origin: 50% 50%;
        transition: box-shadow 200ms cubic-bezier(0.18, 0.67, 0.6, 1.22);
        -webkit-tap-highlight-color: transparent;

        &:focus-visible {
          box-shadow: 0 0 4px 1px #4c9ffe, `,`;
        }

        &:not(.`,`-item-withHandle) {
          cursor: grab;
          -webkit-user-select: none;
          user-select: none;
          touch-action: none;
        }

        &-dragging:not(.`,`-item-dragOverlay) {
          z-index: 0;
          opacity: var(--dragging-opacity, 0.5);

          &:focus {
            box-shadow: `,`;
          }
        }
      `])),Me.colorTextSecondary,Er,Ve,Ve,Er)),disabled:Ue("".concat(Se,"-item-disabled"),de(et||(et=(0,Ze.Z)([`
        color: #999;
        background-color: #f1f1f1;
        cursor: not-allowed;
        &:focus {
          box-shadow: 0 0 4px 1px rgba(0, 0, 0, 0.1), `,`;
        }
      `])),Er)),dragOverlay:Ue("".concat(Se,"-item-dragOverlay"),de(wt||(wt=(0,Ze.Z)([`
        padding: 4px 0;
        background-color: `,`;
        border: none;
        box-shadow: var(--box-shadow-picked-up);
        transform: scale(var(--scale));
        cursor: inherit;
        opacity: 1;

        /* box-shadow: 0 0px 6px 2px @focused-outline-color; */
        animation: `,` 200ms cubic-bezier(0.18, 0.67, 0.6, 1.22);
      `])),Me.colorBgElevated,Wn)),wrapper:Ue("".concat(Se,"-item-wrapper"),de(Vt||(Vt=(0,Ze.Z)([`
        display: flex;
        box-sizing: border-box;
        transform: translate3d(var(--translate-x, 0), var(--translate-y, 0), 0)
          scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1));
        transform-origin: 0 0;
        touch-action: manipulation;

        &:not(:last-child) {
          margin-bottom: 2px;
        }
      `])))),wrapperFadeIn:Ue("".concat(Se,"-item-wrapper-fadeIn"),de(nn||(nn=(0,Ze.Z)([`
        animation: `,` 500ms ease;
      `])),Nn)),wrapperdragOverlay:Ue("".concat(Se,"-item-wrapper-dragOverlay"),de(un||(un=(0,Ze.Z)([`
        --scale: 1.05;
        --box-shadow: `,`;
        --box-shadow-picked-up: `,`, -1px 0 15px 0 rgba(82, 82, 82, 0.01),
          0 15px 15px 0 rgba(82, 82, 82, 0.25);

        z-index: 999;
      `])),Er,lr)),actions:Ue("".concat(Se,"-item-actions"),de(Cn||(Cn=(0,Ze.Z)([`
        z-index: 10;
        color: hsla(0, 0, 0, 0.45);
        opacity: 0;
      `])))),content:Ue("".concat(Se,"-item-content"),de(dr||(dr=(0,Ze.Z)([`
        position: relative;
        width: 100%;
        height: 24px;
        border-radius: 2px;
        min-width: 48px;

        &:hover .`,`-item-actions {
          opacity: 1;
        }
      `])),Se))}}),ti=["color","dragOverlay","dragging","disabled","fadeIn","handle","index","listeners","onRemove","item","renderItem","renderContent","hideRemove","sorting","style","actions","transition","transform","id","className","prefixCls"],Or=(0,U.memo)((0,U.forwardRef)(function(pe,Se){var de,Ue,Me=pe.color,Ve=pe.dragOverlay,lt=pe.dragging,ht=pe.disabled,dt=pe.fadeIn,$=pe.handle,K=$===void 0?!0:$,X=pe.index,W=pe.listeners,ve=pe.onRemove,je=pe.item,nt=pe.renderItem,Xe=pe.renderContent,$e=pe.hideRemove,De=$e===void 0?!1:$e,qe=pe.sorting,ut=pe.style,it=pe.actions,bt=pe.transition,qt=pe.transform,gn=pe.id,or=pe.className,Qn=pe.prefixCls,Gn=(0,he.Z)(pe,ti),cr=(0,bn.S)(),Di=Nr(Qn),Si=Di.styles,_o=qn()("".concat(Qn,"-item"));return(0,U.useEffect)(function(){if(Ve)return document.body.style.cursor="grabbing",function(){document.body.style.cursor=""}},[Ve]),(0,be.jsx)("li",{className:qn()(Si.wrapper,or,(de={},(0,wn.Z)(de,Si.wrapperFadeIn,dt),(0,wn.Z)(de,"".concat(_o,"-wrapper-sorting"),qe),(0,wn.Z)(de,Si.wrapperdragOverlay,Ve),de)),style:{transition:bt,"--translate-x":qt?"".concat(Math.round(qt.x),"px"):void 0,"--translate-y":qt?"".concat(Math.round(qt.y),"px"):void 0,"--scale-x":qt!=null&&qt.scaleX?"".concat(qt.scaleX):void 0,"--scale-y":qt!=null&&qt.scaleY?"".concat(qt.scaleY):void 0,"--index":X,"--color":Me},"data-testid":"list-item",ref:Se,children:(0,be.jsx)("div",(0,O.Z)((0,O.Z)((0,O.Z)({className:qn()(Si.item,(Ue={},(0,wn.Z)(Ue,"".concat(_o,"-dragging"),lt),(0,wn.Z)(Ue,"".concat(_o,"-withHandle"),K),(0,wn.Z)(Ue,Si.dragOverlay,Ve),(0,wn.Z)(Ue,Si.disabled,ht),(0,wn.Z)(Ue,"".concat(_o,"-discolorabled"),Me),Ue)),style:(0,O.Z)((0,O.Z)({},ut),{},{backgroundColor:cr.colorBgContainer}),"data-cypress":"draggable-item"},K?void 0:W),Gn),{},{tabIndex:K?void 0:0,children:nt?nt(je,{dragOverlay:!!Ve,dragging:!!lt,sorting:!!qe,index:X,fadeIn:!!dt,listeners:W,ref:Se,style:ut,transform:qt,transition:bt}):(0,be.jsxs)(jt.D,{className:Si.content,direction:"horizontal",align:"center",children:[K?(0,be.jsx)(Ne,(0,O.Z)({tabIndex:-1,className:qn()(Si.actions),cursor:"grab","data-cypress":"draggable-handle",style:{width:14,height:24}},W)):null,Xe?Xe(je,X):(0,be.jsx)(jt.D,{flex:1,style:{paddingLeft:4},children:gn}),(0,be.jsxs)(jt.D,{className:qn()(Si.actions),direction:"horizontal",align:"center",children:[typeof it=="function"?it(je,X):it,De?null:(0,be.jsx)(Y,{tabIndex:-1,onClick:ve,style:{height:22}})]})]})}))},gn)})),Jr=Or,zr=te(73841),gi=te(43093),qr=function(Se){return{activeId:Se.activeId,hideRemove:Se.hideRemove,renderItem:Se.renderItem,renderContent:Se.renderContent,getItemStyles:Se.getItemStyles}},Ii=function(Se){var de=Se.prefixCls,Ue=(0,zr.oR)(qr,mn),Me=Ue.activeId,Ve=Ue.renderItem,lt=Ue.hideRemove,ht=Ue.getItemStyles,dt=Ue.renderContent,$=(0,zr.oR)(function(X){return X.value},ye()),K=(0,gi._z)($,Me);return(0,be.jsx)(Ct.y9,{adjustScale:!1,dropAnimation:(0,O.Z)((0,O.Z)({},Ct.RJ),{},{sideEffects:(0,Ct.Ai)({styles:{active:{opacity:"0.5"}}})}),children:Me?(0,be.jsx)(Jr,{id:Me,dragOverlay:!0,index:K,item:$[K],prefixCls:de,renderItem:Ve,renderContent:dt,style:ht({id:Me,index:K,isSorting:!0,isDragging:!0,overIndex:-1,isDragOverlay:!0}),hideRemove:lt}):null})},Ht=(0,U.memo)(Ii),Gt=te(93825),on=(0,tr.kc)(function(pe,Se){var de=pe.css,Ue=pe.cx,Me=Se.prefixCls,Ve=Se.horizontal;return{container:Ue("".concat(Me,"-container"),de({listStyle:"none",display:"grid",gridAutoRows:"max-content",gridGap:"2px",gridTemplateColumns:"repeat(var(--columns, 1), 1fr)",width:"100%",margin:"0",padding:"0",borderRadius:"4px",transition:"background-color 350ms ease",gridAutoFlow:Ve?"column":void 0}))}}),an=(0,U.forwardRef)(function(pe,Se){var de=pe.children,Ue=pe.columns,Me=Ue===void 0?1:Ue,Ve=pe.horizontal,lt=pe.style,ht=pe.className,dt=pe.prefixCls,$=on({prefixCls:dt,horizontal:Ve}),K=$.styles,X=qn()(K.container,ht);return(0,be.jsx)("ul",{ref:Se,style:(0,O.Z)((0,O.Z)({},lt),{},{"--columns":Me}),className:X,children:de})}),fn=an;function ir(pe){var Se=pe.disabled,de=pe.id,Ue=pe.index,Me=pe.onRemove,Ve=pe.useDragOverlay,lt=Ve===void 0?!0:Ve,ht=pe.getItemStyles,dt=pe.renderItem,$=pe.renderContent,K=pe.item,X=pe.actions,W=pe.prefixCls,ve=pe.hideRemove,je=ve===void 0?!1:ve,nt=(0,An.nB)({id:de,disabled:Se}),Xe=nt.attributes,$e=nt.isDragging,De=nt.isSorting,qe=nt.listeners,ut=nt.overIndex,it=nt.setNodeRef,bt=nt.transform,qt=nt.transition;return(0,be.jsx)(Jr,(0,O.Z)({ref:it,id:de,item:K,disabled:Se,dragging:$e,sorting:De,hideRemove:je,actions:X,index:Ue,onRemove:Me?function(){return Me(Ue)}:void 0,transform:bt,transition:!lt&&$e?"none":qt,renderItem:dt,renderContent:$,style:ht({index:Ue,id:de,isDragging:$e,isSorting:De,overIndex:ut,isDragOverlay:!1}),listeners:qe,"data-index":Ue,"data-id":de,dragOverlay:!lt&&$e,prefixCls:W},Xe),de)}var pn=te(73091),Tr=te(20767),Jn=te(96395),ci,Qr,Xn,On,si,Oi,qi,Ti,vr,oi,tt,Xt=function(Se){var de=Se.token,Ue=Se.css,Me=Ue(ci||(ci=(0,Ze.Z)([`
    cursor: pointer;
    transition: 150ms background-color ease-in-out;
    &:hover {
      background: `,`;
    }
  `])),de.colorFillQuaternary),Ve=Ue(Qr||(Qr=(0,Ze.Z)([`
    color: `,`;
    background-color: `,`;
    border-color: transparent;
  `])),de.colorText,de.colorFillTertiary),lt=Ue(Xn||(Xn=(0,Ze.Z)([`
    color: `,` !important;
    background-color: `,` !important;
    border-color: `,` !important;
    box-shadow: none;
  `])),de.colorText,de.colorFillQuaternary,de.colorPrimary),ht=Ue(On||(On=(0,Ze.Z)([`
    color: `,`;
    background: `,`;
    border-color: transparent;
  `])),de.colorTextSecondary,de.colorFillQuaternary);return{defaultButton:Ue(si||(si=(0,Ze.Z)([`
      `,`;

      &:hover {
        color: `,` !important;
        background: `,` !important;
        border-color: transparent !important;
      }
      &:focus {
        `,`;
        border-color: `,` !important;
      }
    `])),ht,de.colorText,de.colorFillSecondary,ht,de.colorPrimary),textInfo:Ue(Oi||(Oi=(0,Ze.Z)([`
      color: `,`;
      &:hover {
        color: `,`;
      }
    `])),de.colorTextSecondary,de.colorText),textDefault:Ue(qi||(qi=(0,Ze.Z)([`
      color: `,`;
    `])),de.colorTextSecondary),containerBgHover:Ue(Ti||(Ti=(0,Ze.Z)([`
      cursor: pointer;
      transition: 150ms background-color ease-in-out;

      &:hover {
        background: `,`;
      }
    `])),de.colorFillQuaternary),containerBgL2:Ue(vr||(vr=(0,Ze.Z)([`
      `,`;
      border-radius: 4px;
      background: `,`;

      &:hover {
        background: `,`;
      }
    `])),Me,de.colorFillQuaternary,de.colorFillTertiary),controlContainerFocused:lt,controlContainer:Ue(oi||(oi=(0,Ze.Z)([`
      &:hover {
        `,`
      }
      &:focus {
        `,`
      }
    `])),Ve,lt),backgroundBlur:Ue(tt||(tt=(0,Ze.Z)([`
      background: `,`;
      backdrop-filter: blur(10px);
    `])),(0,Jn.DZ)(.4)(de.colorBgElevated))}},Pn,Dr=(0,tr.kc)(function(pe,Se){var de=pe.token,Ue=pe.css,Me=pe.cx,Ve=Xt(pe);return{btnAdd:Me("".concat(Se,"-btn-add"),Ue(Pn||(Pn=(0,Ze.Z)([`
        height: 24px;
        padding-block: 2px;
        margin-top: `,`px;
        margin-bottom: `,`px;
      `])),de.marginXXS,de.marginXXS),Ve.defaultButton)}}),Xr=function(Se){return{renderItem:Se.renderItem,renderContent:Se.renderContent,getItemStyles:Se.getItemStyles,actions:Se.actions,hideRemove:Se.hideRemove,creatorButtonProps:Se.creatorButtonProps,dispatchListData:Se.dispatchListData}},Fi=function(Se){var de=Se.prefixCls,Ue=(0,zr.oR)(Xr,mn),Me=Ue.dispatchListData,Ve=Ue.renderItem,lt=Ue.renderContent,ht=Ue.creatorButtonProps,dt=ht===void 0?!1:ht,$=Ue.hideRemove,K=Ue.getItemStyles,X=Ue.actions,W=Dr(de),ve=W.styles,je=(0,zr.oR)(function(bt){return bt.value},ye()),nt=dt||{},Xe=nt.record,$e=nt.creatorButtonText,De=$e===void 0?"\u6DFB\u52A0\u4E00\u5217":$e,qe=nt.position,ut=qe===void 0?"bottom":qe,it=function(qt){var gn=qt.empty,or=gn===void 0?!1:gn;return(0,be.jsx)(Tr.ZP,{block:!or,size:"small",className:ve.btnAdd,onClick:function(){Me({type:"addItem",item:Xe(je.length)})},icon:(0,be.jsx)(pn.Z,{}),children:De})};return Array.isArray(je)&&je.length===0?(0,be.jsx)(be.Fragment,{children:(0,be.jsx)(Gt.Z,{image:Gt.Z.PRESENTED_IMAGE_SIMPLE,description:"\u6682\u65E0\u6570\u636E",children:dt!==!1?(0,be.jsx)(it,{empty:!0}):null})}):(0,be.jsxs)(be.Fragment,{children:[dt!==!1&&ut==="top"?(0,be.jsx)(it,{}):null,(0,be.jsx)(fn,{prefixCls:de,children:je.map(function(bt,qt){return(0,be.jsx)(ir,{id:bt.id,item:bt,index:qt,actions:X,hideRemove:$,renderItem:Ve,renderContent:lt,getItemStyles:K,onRemove:function(){return Me({type:"removeItem",index:qt})},useDragOverlay:!0,prefixCls:de},bt.id)})}),dt!==!1&&ut==="bottom"?(0,be.jsx)(it,{}):null]})},yi=(0,U.memo)(Fi),Qo={strategy:Ct.uN.Always},Ui=function(Se){return{handleDragStart:Se.handleDragStart,handleDragCancel:Se.handleDragCancel,handleDragEnd:Se.handleDragEnd}},ki=function(Se){return Se.value},wi=function(Se){var de=Se.className,Ue=Se.style,Me=Se.prefixCls,Ve=(0,zr.oR)(Ui,mn),lt=Ve.handleDragStart,ht=Ve.handleDragCancel,dt=Ve.handleDragEnd,$=(0,zr.oR)(ki,ye()),K=(0,Zn.k2)("sortable-list",Me),X=(0,Ct.Dy)((0,Ct.VT)(Ct.MA),(0,Ct.VT)(Ct.LO),(0,Ct.VT)(Ct.Lg,{coordinateGetter:An.is})),W=(0,U.useMemo)(function(){return(0,kt.createPortal)((0,be.jsx)(Ht,{prefixCls:K}),document.body)},[]);return(0,be.jsx)(jt.D,{className:(0,tr.cx)(de,K),style:Ue,children:(0,be.jsx)(Ct.LB,{sensors:X,collisionDetection:Ct.pE,onDragStart:lt,onDragEnd:dt,measuring:{droppable:Qo},onDragCancel:ht,modifiers:[oe,rr],children:(0,be.jsxs)(An.Fo,{items:$,strategy:An.qw,children:[(0,be.jsx)(yi,{prefixCls:K}),W]})})})},go=wi,Pe=function(Se){var de=Se.children,Ue=Se.showDevtools,Me=!0,Ve=(0,be.jsx)(be.Fragment,{children:de});try{(0,zr.AC)()}catch(lt){Me=!1}return Me?Ve:(0,be.jsx)(zr.zt,{createStore:function(){return(0,zr.MT)(Ue)},children:Ve})},I=function(Se){return function(de,Ue){var Me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[Ue],Ve=arguments.length>3?arguments[3]:void 0,lt=Ve!=null?Ve:Se.setState;(0,U.useEffect)(function(){typeof Ue!="undefined"&&lt((0,wn.Z)({},de,Ue),!1,{type:"\u{1F4AD} useStoreUpdater / ".concat(de),payload:Ue})},Me)}},E=te(20518),P=(0,U.forwardRef)(function(pe,Se){var de=pe.initialValues,Ue=pe.value,Me=pe.actions,Ve=pe.onChange,lt=pe.renderItem,ht=pe.renderContent,dt=pe.getItemStyles,$=pe.creatorButtonProps,K=pe.hideRemove,X=(0,zr.AC)(),W=I(X);W("value",de,[]),W("initialValues",de),W("value",Ue),W("actions",Me),W("onChange",Ve),W("renderItem",lt),W("renderContent",ht),W("getItemStyles",dt),W("creatorButtonProps",$),W("hideRemove",K);var ve=(0,E.t)();return(0,U.useImperativeHandle)(Se,function(){return ve}),null}),ie=P,ce=["SHOW_STORE_IN_DEVTOOLS","className","style"],He=(0,U.memo)((0,U.forwardRef)(function(pe,Se){var de=pe.SHOW_STORE_IN_DEVTOOLS,Ue=pe.className,Me=pe.style,Ve=(0,he.Z)(pe,ce);return(0,be.jsx)(rt.iV,{children:(0,be.jsxs)(Pe,{showDevtools:de,children:[(0,be.jsx)(go,{style:Me,className:Ue}),(0,be.jsx)(ie,(0,O.Z)((0,O.Z)({},Ve),{},{ref:Se}))]})})}))},20518:function(Jt,Qe,te){"use strict";te.d(Qe,{t:function(){return U}});var O=te(80111),he=te(73841),U=function(){var Ct=(0,he.AC)(),At=(0,O.Z)(function(){return Ct.getState().activeId}),ye=(0,O.Z)(function(_e){var yt,Rt,oe=((yt=Ct.getState().value)===null||yt===void 0||(Rt=yt[_e])===null||Rt===void 0?void 0:Rt.id)||null;return oe}),kt=(0,O.Z)(function(){return Ct.getState().value}),Ce=function(yt,Rt){return Ct.getState().dispatchListData({type:"addItem",item:yt,index:Rt})},Re=function(yt){return Ct.getState().dispatchListData({type:"removeItem",index:yt})},ot=function(yt,Rt){return Ct.getState().dispatchListData({type:"updateItem",item:yt,index:Rt})};return{getActiveId:At,getValue:kt,addItem:Ce,removeItem:Re,getIdByIndex:ye,updateItem:ot}}},73841:function(Jt,Qe,te){"use strict";te.d(Qe,{zt:function(){return dt},MT:function(){return Me},oR:function(){return lt},AC:function(){return ht}});var O=te(3341),he=te.n(O);const U=($,K)=>(X,W,ve)=>(ve.dispatch=je=>(X(nt=>$(nt,je),!1,je),je),ve.dispatchFromDevtools=!0,zt({dispatch:(...je)=>ve.dispatch(...je)},K)),rt=null,Ct=new Map,At=$=>{const K=Ct.get($);return K?Object.fromEntries(Object.entries(K.stores).map(([X,W])=>[X,W.getState()])):{}},ye=($,K,X)=>{if($===void 0)return{type:"untracked",connection:K.connect(X)};const W=Ct.get(X.name);if(W)return zt({type:"tracked",store:$},W);const ve={connection:K.connect(X),stores:{}};return Ct.set(X.name,ve),zt({type:"tracked",store:$},ve)},Ce=($,K={})=>(X,W,ve)=>{const gn=K,{enabled:je,anonymousActionType:nt,store:Xe}=gn,$e=Na(gn,["enabled","anonymousActionType","store"]);let De;try{De=(je!=null?je:!0)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(Qn){}if(!De)return je&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),$(X,W,ve);const or=ye(Xe,De,$e),{connection:qe}=or,ut=Na(or,["connection"]);let it=!0;ve.setState=(Qn,Gn,cr)=>{const Di=X(Qn,Gn);if(!it)return Di;const Si=cr===void 0?{type:nt||"anonymous"}:typeof cr=="string"?{type:cr}:cr;return Xe===void 0?(qe==null||qe.send(Si,W()),Di):(qe==null||qe.send(_i(zt({},Si),{type:`${Xe}/${Si.type}`}),_i(zt({},At($e.name)),{[Xe]:ve.getState()})),Di)};const bt=(...Qn)=>{const Gn=it;it=!1,X(...Qn),it=Gn},qt=$(ve.setState,W,ve);if(ut.type==="untracked"?qe==null||qe.init(qt):(ut.stores[ut.store]=ve,qe==null||qe.init(Object.fromEntries(Object.entries(ut.stores).map(([Qn,Gn])=>[Qn,Qn===ut.store?qt:Gn.getState()])))),ve.dispatchFromDevtools&&typeof ve.dispatch=="function"){let Qn=!1;const Gn=ve.dispatch;ve.dispatch=(...cr)=>{cr[0].type==="__setState"&&!Qn&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),Qn=!0),Gn(...cr)}}return qe.subscribe(Qn=>{var Gn;switch(Qn.type){case"ACTION":if(typeof Qn.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Re(Qn.payload,cr=>{if(cr.type==="__setState"){if(Xe===void 0){bt(cr.state);return}Object.keys(cr.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const Di=cr.state[Xe];if(Di==null)return;JSON.stringify(ve.getState())!==JSON.stringify(Di)&&bt(Di);return}ve.dispatchFromDevtools&&typeof ve.dispatch=="function"&&ve.dispatch(cr)});case"DISPATCH":switch(Qn.payload.type){case"RESET":return bt(qt),Xe===void 0?qe==null?void 0:qe.init(ve.getState()):qe==null?void 0:qe.init(At($e.name));case"COMMIT":if(Xe===void 0){qe==null||qe.init(ve.getState());return}return qe==null?void 0:qe.init(At($e.name));case"ROLLBACK":return Re(Qn.state,cr=>{if(Xe===void 0){bt(cr),qe==null||qe.init(ve.getState());return}bt(cr[Xe]),qe==null||qe.init(At($e.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Re(Qn.state,cr=>{if(Xe===void 0){bt(cr);return}JSON.stringify(ve.getState())!==JSON.stringify(cr[Xe])&&bt(cr[Xe])});case"IMPORT_STATE":{const{nextLiftedState:cr}=Qn.payload,Di=(Gn=cr.computedStates.slice(-1)[0])==null?void 0:Gn.state;if(!Di)return;bt(Xe===void 0?Di:Di[Xe]),qe==null||qe.send(null,cr);return}case"PAUSE_RECORDING":return it=!it}return}}),qt},Re=($,K)=>{let X;try{X=JSON.parse($)}catch(W){console.error("[zustand devtools middleware] Could not parse the received json",W)}X!==void 0&&K(X)},ot=$=>(K,X,W)=>{const ve=W.subscribe;return W.subscribe=(nt,Xe,$e)=>{let De=nt;if(Xe){const qe=($e==null?void 0:$e.equalityFn)||Object.is;let ut=nt(W.getState());De=it=>{const bt=nt(it);if(!qe(ut,bt)){const qt=ut;Xe(ut=bt,qt)}},$e!=null&&$e.fireImmediately&&Xe(ut,ut)}return ve(De)},$(K,X,W)},_e=null,yt=($,K)=>(...X)=>Object.assign({},$,K(...X));function Rt($,K){let X;try{X=$()}catch(ve){return}return{getItem:ve=>{var je;const nt=$e=>$e===null?null:JSON.parse($e,K==null?void 0:K.reviver),Xe=(je=X.getItem(ve))!=null?je:null;return Xe instanceof Promise?Xe.then(nt):nt(Xe)},setItem:(ve,je)=>X.setItem(ve,JSON.stringify(je,K==null?void 0:K.replacer)),removeItem:ve=>X.removeItem(ve)}}const oe=$=>K=>{try{const X=$(K);return X instanceof Promise?X:{then(W){return oe(W)(X)},catch(W){return this}}}catch(X){return{then(W){return this},catch(W){return oe(W)(X)}}}},rr=($,K)=>(X,W,ve)=>{let je=zt({getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:or=>or,version:0,merge:(or,Qn)=>zt(zt({},Qn),or)},K),nt=!1;const Xe=new Set,$e=new Set;let De;try{De=je.getStorage()}catch(or){}if(!De)return $((...or)=>{console.warn(`[zustand persist middleware] Unable to update item '${je.name}', the given storage is currently unavailable.`),X(...or)},W,ve);const qe=oe(je.serialize),ut=()=>{const or=je.partialize(zt({},W()));let Qn;const Gn=qe({state:or,version:je.version}).then(cr=>De.setItem(je.name,cr)).catch(cr=>{Qn=cr});if(Qn)throw Qn;return Gn},it=ve.setState;ve.setState=(or,Qn)=>{it(or,Qn),ut()};const bt=$((...or)=>{X(...or),ut()},W,ve);let qt;const gn=()=>{var or;if(!De)return;nt=!1,Xe.forEach(Gn=>Gn(W()));const Qn=((or=je.onRehydrateStorage)==null?void 0:or.call(je,W()))||void 0;return oe(De.getItem.bind(De))(je.name).then(Gn=>{if(Gn)return je.deserialize(Gn)}).then(Gn=>{if(Gn)if(typeof Gn.version=="number"&&Gn.version!==je.version){if(je.migrate)return je.migrate(Gn.state,Gn.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return Gn.state}).then(Gn=>{var cr;return qt=je.merge(Gn,(cr=W())!=null?cr:bt),X(qt,!0),ut()}).then(()=>{Qn==null||Qn(qt,void 0),nt=!0,$e.forEach(Gn=>Gn(qt))}).catch(Gn=>{Qn==null||Qn(void 0,Gn)})};return ve.persist={setOptions:or=>{je=zt(zt({},je),or),or.getStorage&&(De=or.getStorage())},clearStorage:()=>{De==null||De.removeItem(je.name)},getOptions:()=>je,rehydrate:()=>gn(),hasHydrated:()=>nt,onHydrate:or=>(Xe.add(or),()=>{Xe.delete(or)}),onFinishHydration:or=>($e.add(or),()=>{$e.delete(or)})},gn(),qt||bt},hn=($,K)=>(X,W,ve)=>{let je=zt({storage:Rt(()=>localStorage),partialize:gn=>gn,version:0,merge:(gn,or)=>zt(zt({},or),gn)},K),nt=!1;const Xe=new Set,$e=new Set;let De=je.storage;if(!De)return $((...gn)=>{console.warn(`[zustand persist middleware] Unable to update item '${je.name}', the given storage is currently unavailable.`),X(...gn)},W,ve);const qe=()=>{const gn=je.partialize(zt({},W()));return De.setItem(je.name,{state:gn,version:je.version})},ut=ve.setState;ve.setState=(gn,or)=>{ut(gn,or),qe()};const it=$((...gn)=>{X(...gn),qe()},W,ve);let bt;const qt=()=>{var gn,or;if(!De)return;nt=!1,Xe.forEach(Gn=>{var cr;return Gn((cr=W())!=null?cr:it)});const Qn=((or=je.onRehydrateStorage)==null?void 0:or.call(je,(gn=W())!=null?gn:it))||void 0;return oe(De.getItem.bind(De))(je.name).then(Gn=>{if(Gn)if(typeof Gn.version=="number"&&Gn.version!==je.version){if(je.migrate)return je.migrate(Gn.state,Gn.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return Gn.state}).then(Gn=>{var cr;return bt=je.merge(Gn,(cr=W())!=null?cr:it),X(bt,!0),qe()}).then(()=>{Qn==null||Qn(bt,void 0),bt=W(),nt=!0,$e.forEach(Gn=>Gn(bt))}).catch(Gn=>{Qn==null||Qn(void 0,Gn)})};return ve.persist={setOptions:gn=>{je=zt(zt({},je),gn),gn.storage&&(De=gn.storage)},clearStorage:()=>{De==null||De.removeItem(je.name)},getOptions:()=>je,rehydrate:()=>qt(),hasHydrated:()=>nt,onHydrate:gn=>(Xe.add(gn),()=>{Xe.delete(gn)}),onFinishHydration:gn=>($e.add(gn),()=>{$e.delete(gn)})},je.skipHydration||qt(),bt||it},An=($,K)=>"getStorage"in K||"serialize"in K||"deserialize"in K?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),rr($,K)):hn($,K),jt=null;var mn=function(K){return K?Ce:function(X){return X}},yr=te(91470),Zn=te(14057),tr=te(4386),wn=te(5899),bn=te.n(wn),ur={activeId:null,value:[],hideRemove:!1,onChange:void 0,renderItem:void 0,actions:[],getItemStyles:function(){return{}}},qn=te(59671);function Ge($){for(var K=arguments.length,X=Array(K>1?K-1:0),W=1;W<K;W++)X[W-1]=arguments[W];if(!1)var ve,je;throw Error("[Immer] minified error nr: "+$+(X.length?" "+X.map(function(nt){return"'"+nt+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function gt($){return!!$&&!!$[vr]}function be($){var K;return!!$&&(function(X){if(!X||typeof X!="object")return!1;var W=Object.getPrototypeOf(X);if(W===null)return!0;var ve=Object.hasOwnProperty.call(W,"constructor")&&W.constructor;return ve===Object||typeof ve=="function"&&Function.toString.call(ve)===Xt}($)||Array.isArray($)||!!$[Ti]||!!(!((K=$.constructor)===null||K===void 0)&&K[Ti])||ge($)||Be($))}function It($){return gt($)||Ge(23,$),$[vr].t}function Ke($,K,X){X===void 0&&(X=!1),We($)===0?(X?Object.keys:Pn)($).forEach(function(W){X&&typeof W=="symbol"||K(W,$[W],$)}):$.forEach(function(W,ve){return K(ve,W,$)})}function We($){var K=$[vr];return K?K.i>3?K.i-4:K.i:Array.isArray($)?1:ge($)?2:Be($)?3:0}function Ne($,K){return We($)===2?$.has(K):Object.prototype.hasOwnProperty.call($,K)}function Y($,K){return We($)===2?$.get(K):$[K]}function Ae($,K,X){var W=We($);W===2?$.set(K,X):W===3?$.add(X):$[K]=X}function Ze($,K){return $===K?$!==0||1/$==1/K:$!=$&&K!=K}function ge($){return On&&$ instanceof Map}function Be($){return si&&$ instanceof Set}function ke($){return $.o||$.t}function et($){if(Array.isArray($))return Array.prototype.slice.call($);var K=Dr($);delete K[vr];for(var X=Pn(K),W=0;W<X.length;W++){var ve=X[W],je=K[ve];je.writable===!1&&(je.writable=!0,je.configurable=!0),(je.get||je.set)&&(K[ve]={configurable:!0,writable:!0,enumerable:je.enumerable,value:$[ve]})}return Object.create(Object.getPrototypeOf($),K)}function wt($,K){return K===void 0&&(K=!1),nn($)||gt($)||!be($)||(We($)>1&&($.set=$.add=$.clear=$.delete=Vt),Object.freeze($),K&&Ke($,function(X,W){return wt(W,!0)},!0)),$}function Vt(){Ge(2)}function nn($){return $==null||typeof $!="object"||Object.isFrozen($)}function un($){var K=Xr[$];return K||Ge(18,$),K}function Cn($,K){Xr[$]||(Xr[$]=K)}function dr(){return Qr}function lr($,K){K&&(un("Patches"),$.u=[],$.s=[],$.v=K)}function Mr($){Er($),$.p.forEach(Nn),$.p=null}function Er($){$===Qr&&(Qr=$.l)}function Wn($){return Qr={p:[],l:Qr,h:$,m:!0,_:0}}function Nn($){var K=$[vr];K.i===0||K.i===1?K.j():K.g=!0}function Nr($,K){K._=K.p.length;var X=K.p[0],W=$!==void 0&&$!==X;return K.h.O||un("ES5").S(K,$,W),W?(X[vr].P&&(Mr(K),Ge(4)),be($)&&($=ti(K,$),K.l||Jr(K,$)),K.u&&un("Patches").M(X[vr].t,$,K.u,K.s)):$=ti(K,X,[]),Mr(K),K.u&&K.v(K.u,K.s),$!==qi?$:void 0}function ti($,K,X){if(nn(K))return K;var W=K[vr];if(!W)return Ke(K,function(Xe,$e){return Or($,W,K,Xe,$e,X)},!0),K;if(W.A!==$)return K;if(!W.P)return Jr($,W.t,!0),W.t;if(!W.I){W.I=!0,W.A._--;var ve=W.i===4||W.i===5?W.o=et(W.k):W.o,je=ve,nt=!1;W.i===3&&(je=new Set(ve),ve.clear(),nt=!0),Ke(je,function(Xe,$e){return Or($,W,ve,Xe,$e,X,nt)}),Jr($,ve,!1),X&&$.u&&un("Patches").N(W,X,$.u,$.s)}return W.o}function Or($,K,X,W,ve,je,nt){if(gt(ve)){var Xe=ti($,ve,je&&K&&K.i!==3&&!Ne(K.R,W)?je.concat(W):void 0);if(Ae(X,W,Xe),!gt(Xe))return;$.m=!1}else nt&&X.add(ve);if(be(ve)&&!nn(ve)){if(!$.h.D&&$._<1)return;ti($,ve),K&&K.A.l||Jr($,ve)}}function Jr($,K,X){X===void 0&&(X=!1),!$.l&&$.h.D&&$.m&&wt(K,X)}function zr($,K){var X=$[vr];return(X?ke(X):$)[K]}function gi($,K){if(K in $)for(var X=Object.getPrototypeOf($);X;){var W=Object.getOwnPropertyDescriptor(X,K);if(W)return W;X=Object.getPrototypeOf(X)}}function qr($){$.P||($.P=!0,$.l&&qr($.l))}function Ii($){$.o||($.o=et($.t))}function Ht($,K,X){var W=ge(K)?un("MapSet").F(K,X):Be(K)?un("MapSet").T(K,X):$.O?function(ve,je){var nt=Array.isArray(ve),Xe={i:nt?1:0,A:je?je.A:dr(),P:!1,I:!1,R:{},l:je,t:ve,k:null,o:null,j:null,C:!1},$e=Xe,De=Fi;nt&&($e=[Xe],De=yi);var qe=Proxy.revocable($e,De),ut=qe.revoke,it=qe.proxy;return Xe.k=it,Xe.j=ut,it}(K,X):un("ES5").J(K,X);return(X?X.A:dr()).p.push(W),W}function Gt($){return gt($)||Ge(22,$),function K(X){if(!be(X))return X;var W,ve=X[vr],je=We(X);if(ve){if(!ve.P&&(ve.i<4||!un("ES5").K(ve)))return ve.t;ve.I=!0,W=on(X,je),ve.I=!1}else W=on(X,je);return Ke(W,function(nt,Xe){ve&&Y(ve.t,nt)===Xe||Ae(W,nt,K(Xe))}),je===3?new Set(W):W}($)}function on($,K){switch(K){case 2:return new Map($);case 3:return Array.from($)}return et($)}function an(){function $(nt,Xe){var $e=je[nt];return $e?$e.enumerable=Xe:je[nt]=$e={configurable:!0,enumerable:Xe,get:function(){var De=this[vr];return Fi.get(De,nt)},set:function(De){var qe=this[vr];Fi.set(qe,nt,De)}},$e}function K(nt){for(var Xe=nt.length-1;Xe>=0;Xe--){var $e=nt[Xe][vr];if(!$e.P)switch($e.i){case 5:W($e)&&qr($e);break;case 4:X($e)&&qr($e)}}}function X(nt){for(var Xe=nt.t,$e=nt.k,De=Pn($e),qe=De.length-1;qe>=0;qe--){var ut=De[qe];if(ut!==vr){var it=Xe[ut];if(it===void 0&&!Ne(Xe,ut))return!0;var bt=$e[ut],qt=bt&&bt[vr];if(qt?qt.t!==it:!Ze(bt,it))return!0}}var gn=!!Xe[vr];return De.length!==Pn(Xe).length+(gn?0:1)}function W(nt){var Xe=nt.k;if(Xe.length!==nt.t.length)return!0;var $e=Object.getOwnPropertyDescriptor(Xe,Xe.length-1);if($e&&!$e.get)return!0;for(var De=0;De<Xe.length;De++)if(!Xe.hasOwnProperty(De))return!0;return!1}function ve(nt){nt.g&&Ge(3,JSON.stringify(ke(nt)))}var je={};Cn("ES5",{J:function(nt,Xe){var $e=Array.isArray(nt),De=function(ut,it){if(ut){for(var bt=Array(it.length),qt=0;qt<it.length;qt++)Object.defineProperty(bt,""+qt,$(qt,!0));return bt}var gn=Dr(it);delete gn[vr];for(var or=Pn(gn),Qn=0;Qn<or.length;Qn++){var Gn=or[Qn];gn[Gn]=$(Gn,ut||!!gn[Gn].enumerable)}return Object.create(Object.getPrototypeOf(it),gn)}($e,nt),qe={i:$e?5:4,A:Xe?Xe.A:dr(),P:!1,I:!1,R:{},l:Xe,t:nt,k:De,o:null,g:!1,C:!1};return Object.defineProperty(De,vr,{value:qe,writable:!0}),De},S:function(nt,Xe,$e){$e?gt(Xe)&&Xe[vr].A===nt&&K(nt.p):(nt.u&&function De(qe){if(qe&&typeof qe=="object"){var ut=qe[vr];if(ut){var it=ut.t,bt=ut.k,qt=ut.R,gn=ut.i;if(gn===4)Ke(bt,function(Di){Di!==vr&&(it[Di]!==void 0||Ne(it,Di)?qt[Di]||De(bt[Di]):(qt[Di]=!0,qr(ut)))}),Ke(it,function(Di){bt[Di]!==void 0||Ne(bt,Di)||(qt[Di]=!1,qr(ut))});else if(gn===5){if(W(ut)&&(qr(ut),qt.length=!0),bt.length<it.length)for(var or=bt.length;or<it.length;or++)qt[or]=!1;else for(var Qn=it.length;Qn<bt.length;Qn++)qt[Qn]=!0;for(var Gn=Math.min(bt.length,it.length),cr=0;cr<Gn;cr++)bt.hasOwnProperty(cr)||(qt[cr]=!0),qt[cr]===void 0&&De(bt[cr])}}}}(nt.p[0]),K(nt.p))},K:function(nt){return nt.i===4?X(nt):W(nt)}})}function fn(){function $(W){if(!be(W))return W;if(Array.isArray(W))return W.map($);if(ge(W))return new Map(Array.from(W.entries()).map(function(nt){return[nt[0],$(nt[1])]}));if(Be(W))return new Set(Array.from(W).map($));var ve=Object.create(Object.getPrototypeOf(W));for(var je in W)ve[je]=$(W[je]);return Ne(W,Ti)&&(ve[Ti]=W[Ti]),ve}function K(W){return gt(W)?$(W):W}var X="add";Cn("Patches",{$:function(W,ve){return ve.forEach(function(je){for(var nt=je.path,Xe=je.op,$e=W,De=0;De<nt.length-1;De++){var qe=We($e),ut=nt[De];typeof ut!="string"&&typeof ut!="number"&&(ut=""+ut),qe!==0&&qe!==1||ut!=="__proto__"&&ut!=="constructor"||Ge(24),typeof $e=="function"&&ut==="prototype"&&Ge(24),typeof($e=Y($e,ut))!="object"&&Ge(15,nt.join("/"))}var it=We($e),bt=$(je.value),qt=nt[nt.length-1];switch(Xe){case"replace":switch(it){case 2:return $e.set(qt,bt);case 3:Ge(16);default:return $e[qt]=bt}case X:switch(it){case 1:return qt==="-"?$e.push(bt):$e.splice(qt,0,bt);case 2:return $e.set(qt,bt);case 3:return $e.add(bt);default:return $e[qt]=bt}case"remove":switch(it){case 1:return $e.splice(qt,1);case 2:return $e.delete(qt);case 3:return $e.delete(je.value);default:return delete $e[qt]}default:Ge(17,Xe)}}),W},N:function(W,ve,je,nt){switch(W.i){case 0:case 4:case 2:return function(Xe,$e,De,qe){var ut=Xe.t,it=Xe.o;Ke(Xe.R,function(bt,qt){var gn=Y(ut,bt),or=Y(it,bt),Qn=qt?Ne(ut,bt)?"replace":X:"remove";if(gn!==or||Qn!=="replace"){var Gn=$e.concat(bt);De.push(Qn==="remove"?{op:Qn,path:Gn}:{op:Qn,path:Gn,value:or}),qe.push(Qn===X?{op:"remove",path:Gn}:Qn==="remove"?{op:X,path:Gn,value:K(gn)}:{op:"replace",path:Gn,value:K(gn)})}})}(W,ve,je,nt);case 5:case 1:return function(Xe,$e,De,qe){var ut=Xe.t,it=Xe.R,bt=Xe.o;if(bt.length<ut.length){var qt=[bt,ut];ut=qt[0],bt=qt[1];var gn=[qe,De];De=gn[0],qe=gn[1]}for(var or=0;or<ut.length;or++)if(it[or]&&bt[or]!==ut[or]){var Qn=$e.concat([or]);De.push({op:"replace",path:Qn,value:K(bt[or])}),qe.push({op:"replace",path:Qn,value:K(ut[or])})}for(var Gn=ut.length;Gn<bt.length;Gn++){var cr=$e.concat([Gn]);De.push({op:X,path:cr,value:K(bt[Gn])})}ut.length<bt.length&&qe.push({op:"replace",path:$e.concat(["length"]),value:ut.length})}(W,ve,je,nt);case 3:return function(Xe,$e,De,qe){var ut=Xe.t,it=Xe.o,bt=0;ut.forEach(function(qt){if(!it.has(qt)){var gn=$e.concat([bt]);De.push({op:"remove",path:gn,value:qt}),qe.unshift({op:X,path:gn,value:qt})}bt++}),bt=0,it.forEach(function(qt){if(!ut.has(qt)){var gn=$e.concat([bt]);De.push({op:X,path:gn,value:qt}),qe.unshift({op:"remove",path:gn,value:qt})}bt++})}(W,ve,je,nt)}},M:function(W,ve,je,nt){je.push({op:"replace",path:[],value:ve===qi?void 0:ve}),nt.push({op:"replace",path:[],value:W})}})}function ir(){function $(Xe,$e){function De(){this.constructor=Xe}ve(Xe,$e),Xe.prototype=(De.prototype=$e.prototype,new De)}function K(Xe){Xe.o||(Xe.R=new Map,Xe.o=new Map(Xe.t))}function X(Xe){Xe.o||(Xe.o=new Set,Xe.t.forEach(function($e){if(be($e)){var De=Ht(Xe.A.h,$e,Xe);Xe.p.set($e,De),Xe.o.add(De)}else Xe.o.add($e)}))}function W(Xe){Xe.g&&Ge(3,JSON.stringify(ke(Xe)))}var ve=function(Xe,$e){return(ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(De,qe){De.__proto__=qe}||function(De,qe){for(var ut in qe)qe.hasOwnProperty(ut)&&(De[ut]=qe[ut])})(Xe,$e)},je=function(){function Xe(De,qe){return this[vr]={i:2,l:qe,A:qe?qe.A:dr(),P:!1,I:!1,o:void 0,R:void 0,t:De,k:this,C:!1,g:!1},this}$(Xe,Map);var $e=Xe.prototype;return Object.defineProperty($e,"size",{get:function(){return ke(this[vr]).size}}),$e.has=function(De){return ke(this[vr]).has(De)},$e.set=function(De,qe){var ut=this[vr];return W(ut),ke(ut).has(De)&&ke(ut).get(De)===qe||(K(ut),qr(ut),ut.R.set(De,!0),ut.o.set(De,qe),ut.R.set(De,!0)),this},$e.delete=function(De){if(!this.has(De))return!1;var qe=this[vr];return W(qe),K(qe),qr(qe),qe.t.has(De)?qe.R.set(De,!1):qe.R.delete(De),qe.o.delete(De),!0},$e.clear=function(){var De=this[vr];W(De),ke(De).size&&(K(De),qr(De),De.R=new Map,Ke(De.t,function(qe){De.R.set(qe,!1)}),De.o.clear())},$e.forEach=function(De,qe){var ut=this;ke(this[vr]).forEach(function(it,bt){De.call(qe,ut.get(bt),bt,ut)})},$e.get=function(De){var qe=this[vr];W(qe);var ut=ke(qe).get(De);if(qe.I||!be(ut)||ut!==qe.t.get(De))return ut;var it=Ht(qe.A.h,ut,qe);return K(qe),qe.o.set(De,it),it},$e.keys=function(){return ke(this[vr]).keys()},$e.values=function(){var De,qe=this,ut=this.keys();return(De={})[oi]=function(){return qe.values()},De.next=function(){var it=ut.next();return it.done?it:{done:!1,value:qe.get(it.value)}},De},$e.entries=function(){var De,qe=this,ut=this.keys();return(De={})[oi]=function(){return qe.entries()},De.next=function(){var it=ut.next();if(it.done)return it;var bt=qe.get(it.value);return{done:!1,value:[it.value,bt]}},De},$e[oi]=function(){return this.entries()},Xe}(),nt=function(){function Xe(De,qe){return this[vr]={i:3,l:qe,A:qe?qe.A:dr(),P:!1,I:!1,o:void 0,t:De,k:this,p:new Map,g:!1,C:!1},this}$(Xe,Set);var $e=Xe.prototype;return Object.defineProperty($e,"size",{get:function(){return ke(this[vr]).size}}),$e.has=function(De){var qe=this[vr];return W(qe),qe.o?!!qe.o.has(De)||!(!qe.p.has(De)||!qe.o.has(qe.p.get(De))):qe.t.has(De)},$e.add=function(De){var qe=this[vr];return W(qe),this.has(De)||(X(qe),qr(qe),qe.o.add(De)),this},$e.delete=function(De){if(!this.has(De))return!1;var qe=this[vr];return W(qe),X(qe),qr(qe),qe.o.delete(De)||!!qe.p.has(De)&&qe.o.delete(qe.p.get(De))},$e.clear=function(){var De=this[vr];W(De),ke(De).size&&(X(De),qr(De),De.o.clear())},$e.values=function(){var De=this[vr];return W(De),X(De),De.o.values()},$e.entries=function(){var De=this[vr];return W(De),X(De),De.o.entries()},$e.keys=function(){return this.values()},$e[oi]=function(){return this.values()},$e.forEach=function(De,qe){for(var ut=this.values(),it=ut.next();!it.done;)De.call(qe,it.value,it.value,this),it=ut.next()},Xe}();Cn("MapSet",{F:function(Xe,$e){return new je(Xe,$e)},T:function(Xe,$e){return new nt(Xe,$e)}})}function pn(){an(),ir(),fn()}function Tr($){return $}function Jn($){return $}var ci,Qr,Xn=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",On=typeof Map!="undefined",si=typeof Set!="undefined",Oi=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",qi=Xn?Symbol.for("immer-nothing"):((ci={})["immer-nothing"]=!0,ci),Ti=Xn?Symbol.for("immer-draftable"):"__$immer_draftable",vr=Xn?Symbol.for("immer-state"):"__$immer_state",oi=typeof Symbol!="undefined"&&Symbol.iterator||"@@iterator",tt={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function($){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+$},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function($){return"Cannot apply patch, path doesn't resolve: "+$},16:'Sets cannot have "replace" patches.',17:function($){return"Unsupported patch operation: "+$},18:function($){return"The plugin for '"+$+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+$+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function($){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+$+"'"},22:function($){return"'current' expects a draft, got: "+$},23:function($){return"'original' expects a draft, got: "+$},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Xt=""+Object.prototype.constructor,Pn=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function($){return Object.getOwnPropertyNames($).concat(Object.getOwnPropertySymbols($))}:Object.getOwnPropertyNames,Dr=Object.getOwnPropertyDescriptors||function($){var K={};return Pn($).forEach(function(X){K[X]=Object.getOwnPropertyDescriptor($,X)}),K},Xr={},Fi={get:function($,K){if(K===vr)return $;var X=ke($);if(!Ne(X,K))return function(ve,je,nt){var Xe,$e=gi(je,nt);return $e?"value"in $e?$e.value:(Xe=$e.get)===null||Xe===void 0?void 0:Xe.call(ve.k):void 0}($,X,K);var W=X[K];return $.I||!be(W)?W:W===zr($.t,K)?(Ii($),$.o[K]=Ht($.A.h,W,$)):W},has:function($,K){return K in ke($)},ownKeys:function($){return Reflect.ownKeys(ke($))},set:function($,K,X){var W=gi(ke($),K);if(W!=null&&W.set)return W.set.call($.k,X),!0;if(!$.P){var ve=zr(ke($),K),je=ve==null?void 0:ve[vr];if(je&&je.t===X)return $.o[K]=X,$.R[K]=!1,!0;if(Ze(X,ve)&&(X!==void 0||Ne($.t,K)))return!0;Ii($),qr($)}return $.o[K]===X&&(X!==void 0||K in $.o)||Number.isNaN(X)&&Number.isNaN($.o[K])||($.o[K]=X,$.R[K]=!0),!0},deleteProperty:function($,K){return zr($.t,K)!==void 0||K in $.t?($.R[K]=!1,Ii($),qr($)):delete $.R[K],$.o&&delete $.o[K],!0},getOwnPropertyDescriptor:function($,K){var X=ke($),W=Reflect.getOwnPropertyDescriptor(X,K);return W&&{writable:!0,configurable:$.i!==1||K!=="length",enumerable:W.enumerable,value:X[K]}},defineProperty:function(){Ge(11)},getPrototypeOf:function($){return Object.getPrototypeOf($.t)},setPrototypeOf:function(){Ge(12)}},yi={};Ke(Fi,function($,K){yi[$]=function(){return arguments[0]=arguments[0][0],K.apply(this,arguments)}}),yi.deleteProperty=function($,K){return yi.set.call(this,$,K,void 0)},yi.set=function($,K,X){return Fi.set.call(this,$[0],K,X,$[0])};var Qo=function(){function $(X){var W=this;this.O=Oi,this.D=!0,this.produce=function(ve,je,nt){if(typeof ve=="function"&&typeof je!="function"){var Xe=je;je=ve;var $e=W;return function(gn){var or=this;gn===void 0&&(gn=Xe);for(var Qn=arguments.length,Gn=Array(Qn>1?Qn-1:0),cr=1;cr<Qn;cr++)Gn[cr-1]=arguments[cr];return $e.produce(gn,function(Di){var Si;return(Si=je).call.apply(Si,[or,Di].concat(Gn))})}}var De;if(typeof je!="function"&&Ge(6),nt!==void 0&&typeof nt!="function"&&Ge(7),be(ve)){var qe=Wn(W),ut=Ht(W,ve,void 0),it=!0;try{De=je(ut),it=!1}finally{it?Mr(qe):Er(qe)}return typeof Promise!="undefined"&&De instanceof Promise?De.then(function(gn){return lr(qe,nt),Nr(gn,qe)},function(gn){throw Mr(qe),gn}):(lr(qe,nt),Nr(De,qe))}if(!ve||typeof ve!="object"){if((De=je(ve))===void 0&&(De=ve),De===qi&&(De=void 0),W.D&&wt(De,!0),nt){var bt=[],qt=[];un("Patches").M(ve,De,bt,qt),nt(bt,qt)}return De}Ge(21,ve)},this.produceWithPatches=function(ve,je){if(typeof ve=="function")return function(De){for(var qe=arguments.length,ut=Array(qe>1?qe-1:0),it=1;it<qe;it++)ut[it-1]=arguments[it];return W.produceWithPatches(De,function(bt){return ve.apply(void 0,[bt].concat(ut))})};var nt,Xe,$e=W.produce(ve,je,function(De,qe){nt=De,Xe=qe});return typeof Promise!="undefined"&&$e instanceof Promise?$e.then(function(De){return[De,nt,Xe]}):[$e,nt,Xe]},typeof(X==null?void 0:X.useProxies)=="boolean"&&this.setUseProxies(X.useProxies),typeof(X==null?void 0:X.autoFreeze)=="boolean"&&this.setAutoFreeze(X.autoFreeze)}var K=$.prototype;return K.createDraft=function(X){be(X)||Ge(8),gt(X)&&(X=Gt(X));var W=Wn(this),ve=Ht(this,X,void 0);return ve[vr].C=!0,Er(W),ve},K.finishDraft=function(X,W){var ve=X&&X[vr],je=ve.A;return lr(je,W),Nr(void 0,je)},K.setAutoFreeze=function(X){this.D=X},K.setUseProxies=function(X){X&&!Oi&&Ge(20),this.O=X},K.applyPatches=function(X,W){var ve;for(ve=W.length-1;ve>=0;ve--){var je=W[ve];if(je.path.length===0&&je.op==="replace"){X=je.value;break}}ve>-1&&(W=W.slice(ve+1));var nt=un("Patches").$;return gt(X)?nt(X,W):this.produce(X,function(Xe){return nt(Xe,W)})},$}(),Ui=new Qo,ki=Ui.produce,wi=Ui.produceWithPatches.bind(Ui),go=Ui.setAutoFreeze.bind(Ui),Pe=Ui.setUseProxies.bind(Ui),I=Ui.applyPatches.bind(Ui),E=Ui.createDraft.bind(Ui),P=Ui.finishDraft.bind(Ui),ie=null,ce=te(72266),He=te.n(ce),pe=te(43093),Se=function(K,X){switch(X.type){case"moveItem":var W=X.activeId,ve=X.targetId,je=(0,pe._z)(K,W),nt=(0,pe._z)(K,ve);return je===nt||je<0||je>=K.length||nt<0||nt>=K.length?void 0:ki(K,function(ut){var it=(0,qn.Rp)(ut,je,nt);return it});case"removeItem":var Xe=new Set(Array.isArray(X.index)?X.index:[X.index]);return Xe.size<=0?void 0:ki(K,function(ut){var it=ut.filter(function(bt,qt){return!Xe.has(qt)});return it});case"addItem":var $e=X.item,De=X.index,qe=De===void 0?K.length:De;return ki(K,function(ut){return ut.splice(qe,0,$e),ut});case"updateItem":return ki(K,function(ut){var it=X.item,bt=X.index;return ut[bt]=He()(ut[bt],it),ut})}},de=function(K,X){return(0,tr.Z)((0,tr.Z)({},ur),{},{handleDragStart:function(ve){var je=ve.active.id;je&&K({activeId:je})},handleDragEnd:function(ve){var je=ve.over,nt=ve.active,Xe=X(),$e=Xe.dispatchListData;je&&$e({type:"moveItem",activeId:nt.id,targetId:je.id}),K({activeId:null})},handleDragCancel:function(){K({activeId:null})},dispatchListData:function(ve){var je=X(),nt=je.value,Xe=je.onChange,$e=Se(nt,ve);if($e){if(bn()(nt,$e))return;K({value:$e}),Xe&&Xe($e,ve)}}})},Ue=de,Me=function(K){return(0,Zn.F)(mn(K)(Ue,{name:"SortableList"}),he())},Ve=(0,yr.k)(),lt=Ve.useStore,ht=Ve.useStoreApi,dt=Ve.Provider},43093:function(Jt,Qe,te){"use strict";te.d(Qe,{_z:function(){return kt}});var O=te(5899),he=te.n(O),U=te(50959),rt=function(Re){return Re};function Ct(Ce){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rt;return _toConsumableArray(new Array(Ce)).map(function(ot,_e){return Re(_e)})}function At(Ce,Re,ot){var _e=Ce.length;if(Re<0||Re>=_e||ot<0||ot>=_e)return Ce;var yt=Ce[Re],Rt=Re-ot;return Rt>0?[].concat(_toConsumableArray(Ce.slice(0,ot)),[yt],_toConsumableArray(Ce.slice(ot,Re)),_toConsumableArray(Ce.slice(Re+1,_e))):Rt<0?[].concat(_toConsumableArray(Ce.slice(0,Re)),_toConsumableArray(Ce.slice(Re+1,ot+1)),[yt],_toConsumableArray(Ce.slice(ot+1,_e))):Ce}var ye=function(Re){var ot=useState(Re),_e=_slicedToArray(ot,2),yt=_e[0],Rt=_e[1];return useEffect(function(){isEqual(Re,yt)||Rt(Re)},[Re]),[yt,Rt]},kt=function(Re,ot){return ot?Re.findIndex(function(_e){return _e.id===ot}):-1}},28257:function(Jt,Qe,te){"use strict";te.d(Qe,{LB:function(){return Di},y9:function(){return xo},g4:function(){return Jn},Lg:function(){return Xn},uN:function(){return wi},MA:function(){return tt},LO:function(){return Pn},pE:function(){return qn},ey:function(){return Ge},RJ:function(){return Ys},Ai:function(){return ea},VK:function(){return ke},_8:function(){return bn},hI:function(){return un},Cj:function(){return ao},O1:function(){return Lo},Zj:function(){return ls},VT:function(){return hn},Dy:function(){return An}});var O=te(50959),he=te(10422),U=te(84341);const rt={display:"none"};function Ct(p){let{id:g,value:w}=p;return O.createElement("div",{id:g,style:rt},w)}const At={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function ye(p){let{id:g,announcement:w}=p;return O.createElement("div",{id:g,style:At,role:"status","aria-live":"assertive","aria-atomic":!0},w)}function kt(){const[p,g]=(0,O.useState)("");return{announce:(0,O.useCallback)(D=>{D!=null&&g(D)},[]),announcement:p}}const Ce=(0,O.createContext)(null);function Re(p){const g=(0,O.useContext)(Ce);(0,O.useEffect)(()=>{if(!g)throw new Error("useDndMonitor must be used within a children of <DndContext>");return g(p)},[p,g])}function ot(){const[p]=(0,O.useState)(()=>new Set),g=(0,O.useCallback)(D=>(p.add(D),()=>p.delete(D)),[p]);return[(0,O.useCallback)(D=>{let{type:ee,event:ne}=D;p.forEach(T=>{var V;return(V=T[ee])==null?void 0:V.call(T,ne)})},[p]),g]}const _e={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},yt={onDragStart(p){let{active:g}=p;return"Picked up draggable item "+g.id+"."},onDragOver(p){let{active:g,over:w}=p;return w?"Draggable item "+g.id+" was moved over droppable area "+w.id+".":"Draggable item "+g.id+" is no longer over a droppable area."},onDragEnd(p){let{active:g,over:w}=p;return w?"Draggable item "+g.id+" was dropped over droppable area "+w.id:"Draggable item "+g.id+" was dropped."},onDragCancel(p){let{active:g}=p;return"Dragging was cancelled. Draggable item "+g.id+" was dropped."}};function Rt(p){let{announcements:g=yt,container:w,hiddenTextDescribedById:D,screenReaderInstructions:ee=_e}=p;const{announce:ne,announcement:T}=kt(),V=(0,U.Ld)("DndLiveRegion"),[M,H]=(0,O.useState)(!1);if((0,O.useEffect)(()=>{H(!0)},[]),Re((0,O.useMemo)(()=>({onDragStart(Te){let{active:mt}=Te;ne(g.onDragStart({active:mt}))},onDragMove(Te){let{active:mt,over:St}=Te;g.onDragMove&&ne(g.onDragMove({active:mt,over:St}))},onDragOver(Te){let{active:mt,over:St}=Te;ne(g.onDragOver({active:mt,over:St}))},onDragEnd(Te){let{active:mt,over:St}=Te;ne(g.onDragEnd({active:mt,over:St}))},onDragCancel(Te){let{active:mt,over:St}=Te;ne(g.onDragCancel({active:mt,over:St}))}}),[ne,g])),!M)return null;const Q=O.createElement(O.Fragment,null,O.createElement(Ct,{id:D,value:ee.draggable}),O.createElement(ye,{id:V,announcement:T}));return w?(0,he.createPortal)(Q,w):Q}var oe;(function(p){p.DragStart="dragStart",p.DragMove="dragMove",p.DragEnd="dragEnd",p.DragCancel="dragCancel",p.DragOver="dragOver",p.RegisterDroppable="registerDroppable",p.SetDroppableDisabled="setDroppableDisabled",p.UnregisterDroppable="unregisterDroppable"})(oe||(oe={}));function rr(){}function hn(p,g){return(0,O.useMemo)(()=>({sensor:p,options:g!=null?g:{}}),[p,g])}function An(){for(var p=arguments.length,g=new Array(p),w=0;w<p;w++)g[w]=arguments[w];return(0,O.useMemo)(()=>[...g].filter(D=>D!=null),[...g])}const jt=Object.freeze({x:0,y:0});function mn(p,g){return Math.sqrt(Math.pow(p.x-g.x,2)+Math.pow(p.y-g.y,2))}function yr(p,g){const w=(0,U.DC)(p);if(!w)return"0 0";const D={x:(w.x-g.left)/g.width*100,y:(w.y-g.top)/g.height*100};return D.x+"% "+D.y+"%"}function Zn(p,g){let{data:{value:w}}=p,{data:{value:D}}=g;return w-D}function tr(p,g){let{data:{value:w}}=p,{data:{value:D}}=g;return D-w}function wn(p){let{left:g,top:w,height:D,width:ee}=p;return[{x:g,y:w},{x:g+ee,y:w},{x:g,y:w+D},{x:g+ee,y:w+D}]}function bn(p,g){if(!p||p.length===0)return null;const[w]=p;return g?w[g]:w}function ur(p,g,w){return g===void 0&&(g=p.left),w===void 0&&(w=p.top),{x:g+p.width*.5,y:w+p.height*.5}}const qn=p=>{let{collisionRect:g,droppableRects:w,droppableContainers:D}=p;const ee=ur(g,g.left,g.top),ne=[];for(const T of D){const{id:V}=T,M=w.get(V);if(M){const H=mn(ur(M),ee);ne.push({id:V,data:{droppableContainer:T,value:H}})}}return ne.sort(Zn)},Ge=p=>{let{collisionRect:g,droppableRects:w,droppableContainers:D}=p;const ee=wn(g),ne=[];for(const T of D){const{id:V}=T,M=w.get(V);if(M){const H=wn(M),Q=ee.reduce((mt,St,Ut)=>mt+mn(H[Ut],St),0),Te=Number((Q/4).toFixed(4));ne.push({id:V,data:{droppableContainer:T,value:Te}})}}return ne.sort(Zn)};function gt(p,g){const w=Math.max(g.top,p.top),D=Math.max(g.left,p.left),ee=Math.min(g.left+g.width,p.left+p.width),ne=Math.min(g.top+g.height,p.top+p.height),T=ee-D,V=ne-w;if(D<ee&&w<ne){const M=g.width*g.height,H=p.width*p.height,Q=T*V,Te=Q/(M+H-Q);return Number(Te.toFixed(4))}return 0}const be=p=>{let{collisionRect:g,droppableRects:w,droppableContainers:D}=p;const ee=[];for(const ne of D){const{id:T}=ne,V=w.get(T);if(V){const M=gt(V,g);M>0&&ee.push({id:T,data:{droppableContainer:ne,value:M}})}}return ee.sort(tr)};function It(p,g){const{top:w,left:D,bottom:ee,right:ne}=g;return w<=p.y&&p.y<=ee&&D<=p.x&&p.x<=ne}const Ke=p=>{let{droppableContainers:g,droppableRects:w,pointerCoordinates:D}=p;if(!D)return[];const ee=[];for(const ne of g){const{id:T}=ne,V=w.get(T);if(V&&It(D,V)){const H=wn(V).reduce((Te,mt)=>Te+mn(D,mt),0),Q=Number((H/4).toFixed(4));ee.push({id:T,data:{droppableContainer:ne,value:Q}})}}return ee.sort(Zn)};function We(p,g,w){return _i(zt({},p),{scaleX:g&&w?g.width/w.width:1,scaleY:g&&w?g.height/w.height:1})}function Ne(p,g){return p&&g?{x:p.left-g.left,y:p.top-g.top}:jt}function Y(p){return function(w){for(var D=arguments.length,ee=new Array(D>1?D-1:0),ne=1;ne<D;ne++)ee[ne-1]=arguments[ne];return ee.reduce((T,V)=>_i(zt({},T),{top:T.top+p*V.y,bottom:T.bottom+p*V.y,left:T.left+p*V.x,right:T.right+p*V.x}),zt({},w))}}const Ae=Y(1);function Ze(p){if(p.startsWith("matrix3d(")){const g=p.slice(9,-1).split(/, /);return{x:+g[12],y:+g[13],scaleX:+g[0],scaleY:+g[5]}}else if(p.startsWith("matrix(")){const g=p.slice(7,-1).split(/, /);return{x:+g[4],y:+g[5],scaleX:+g[0],scaleY:+g[3]}}return null}function ge(p,g,w){const D=Ze(g);if(!D)return p;const{scaleX:ee,scaleY:ne,x:T,y:V}=D,M=p.left-T-(1-ee)*parseFloat(w),H=p.top-V-(1-ne)*parseFloat(w.slice(w.indexOf(" ")+1)),Q=ee?p.width/ee:p.width,Te=ne?p.height/ne:p.height;return{width:Q,height:Te,top:H,right:M+Q,bottom:H+Te,left:M}}const Be={ignoreTransform:!1};function ke(p,g){g===void 0&&(g=Be);let w=p.getBoundingClientRect();if(g.ignoreTransform){const{transform:H,transformOrigin:Q}=(0,U.Jj)(p).getComputedStyle(p);H&&(w=ge(w,H,Q))}const{top:D,left:ee,width:ne,height:T,bottom:V,right:M}=w;return{top:D,left:ee,width:ne,height:T,bottom:V,right:M}}function et(p){return ke(p,{ignoreTransform:!0})}function wt(p){const g=p.innerWidth,w=p.innerHeight;return{top:0,left:0,right:g,bottom:w,width:g,height:w}}function Vt(p,g){return g===void 0&&(g=(0,U.Jj)(p).getComputedStyle(p)),g.position==="fixed"}function nn(p,g){g===void 0&&(g=(0,U.Jj)(p).getComputedStyle(p));const w=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(ee=>{const ne=g[ee];return typeof ne=="string"?w.test(ne):!1})}function un(p,g){const w=[];function D(ee){if(g!=null&&w.length>=g||!ee)return w;if((0,U.qk)(ee)&&ee.scrollingElement!=null&&!w.includes(ee.scrollingElement))return w.push(ee.scrollingElement),w;if(!(0,U.Re)(ee)||(0,U.vZ)(ee)||w.includes(ee))return w;const ne=(0,U.Jj)(p).getComputedStyle(ee);return ee!==p&&nn(ee,ne)&&w.push(ee),Vt(ee,ne)?w:D(ee.parentNode)}return p?D(p):w}function Cn(p){const[g]=un(p,1);return g!=null?g:null}function dr(p){return!U.Nq||!p?null:(0,U.FJ)(p)?p:(0,U.UG)(p)?(0,U.qk)(p)||p===(0,U.r3)(p).scrollingElement?window:(0,U.Re)(p)?p:null:null}function lr(p){return(0,U.FJ)(p)?p.scrollX:p.scrollLeft}function Mr(p){return(0,U.FJ)(p)?p.scrollY:p.scrollTop}function Er(p){return{x:lr(p),y:Mr(p)}}var Wn;(function(p){p[p.Forward=1]="Forward",p[p.Backward=-1]="Backward"})(Wn||(Wn={}));function Nn(p){return!U.Nq||!p?!1:p===document.scrollingElement}function Nr(p){const g={x:0,y:0},w=Nn(p)?{height:window.innerHeight,width:window.innerWidth}:{height:p.clientHeight,width:p.clientWidth},D={x:p.scrollWidth-w.width,y:p.scrollHeight-w.height},ee=p.scrollTop<=g.y,ne=p.scrollLeft<=g.x,T=p.scrollTop>=D.y,V=p.scrollLeft>=D.x;return{isTop:ee,isLeft:ne,isBottom:T,isRight:V,maxScroll:D,minScroll:g}}const ti={x:.2,y:.2};function Or(p,g,w,D,ee){let{top:ne,left:T,right:V,bottom:M}=w;D===void 0&&(D=10),ee===void 0&&(ee=ti);const{isTop:H,isBottom:Q,isLeft:Te,isRight:mt}=Nr(p),St={x:0,y:0},Ut={x:0,y:0},vt={height:g.height*ee.y,width:g.width*ee.x};return!H&&ne<=g.top+vt.height?(St.y=Wn.Backward,Ut.y=D*Math.abs((g.top+vt.height-ne)/vt.height)):!Q&&M>=g.bottom-vt.height&&(St.y=Wn.Forward,Ut.y=D*Math.abs((g.bottom-vt.height-M)/vt.height)),!mt&&V>=g.right-vt.width?(St.x=Wn.Forward,Ut.x=D*Math.abs((g.right-vt.width-V)/vt.width)):!Te&&T<=g.left+vt.width&&(St.x=Wn.Backward,Ut.x=D*Math.abs((g.left+vt.width-T)/vt.width)),{direction:St,speed:Ut}}function Jr(p){if(p===document.scrollingElement){const{innerWidth:ne,innerHeight:T}=window;return{top:0,left:0,right:ne,bottom:T,width:ne,height:T}}const{top:g,left:w,right:D,bottom:ee}=p.getBoundingClientRect();return{top:g,left:w,right:D,bottom:ee,width:p.clientWidth,height:p.clientHeight}}function zr(p){return p.reduce((g,w)=>(0,U.IH)(g,Er(w)),jt)}function gi(p){return p.reduce((g,w)=>g+lr(w),0)}function qr(p){return p.reduce((g,w)=>g+Mr(w),0)}function Ii(p,g){if(g===void 0&&(g=ke),!p)return;const{top:w,left:D,bottom:ee,right:ne}=g(p);Cn(p)&&(ee<=0||ne<=0||w>=window.innerHeight||D>=window.innerWidth)&&p.scrollIntoView({block:"center",inline:"center"})}const Ht=[["x",["left","right"],gi],["y",["top","bottom"],qr]];class Gt{constructor(g,w){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const D=un(w),ee=zr(D);this.rect=zt({},g),this.width=g.width,this.height=g.height;for(const[ne,T,V]of Ht)for(const M of T)Object.defineProperty(this,M,{get:()=>{const H=V(D),Q=ee[ne]-H;return this.rect[M]+Q},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class on{constructor(g){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(w=>{var D;return(D=this.target)==null?void 0:D.removeEventListener(...w)})},this.target=g}add(g,w,D){var ee;(ee=this.target)==null||ee.addEventListener(g,w,D),this.listeners.push([g,w,D])}}function an(p){const{EventTarget:g}=(0,U.Jj)(p);return p instanceof g?p:(0,U.r3)(p)}function fn(p,g){const w=Math.abs(p.x),D=Math.abs(p.y);return typeof g=="number"?Math.sqrt(Mc(w,2)+Mc(D,2))>g:"x"in g&&"y"in g?w>g.x&&D>g.y:"x"in g?w>g.x:"y"in g?D>g.y:!1}var ir;(function(p){p.Click="click",p.DragStart="dragstart",p.Keydown="keydown",p.ContextMenu="contextmenu",p.Resize="resize",p.SelectionChange="selectionchange",p.VisibilityChange="visibilitychange"})(ir||(ir={}));function pn(p){p.preventDefault()}function Tr(p){p.stopPropagation()}var Jn;(function(p){p.Space="Space",p.Down="ArrowDown",p.Right="ArrowRight",p.Left="ArrowLeft",p.Up="ArrowUp",p.Esc="Escape",p.Enter="Enter"})(Jn||(Jn={}));const ci={start:[Jn.Space,Jn.Enter],cancel:[Jn.Esc],end:[Jn.Space,Jn.Enter]},Qr=(p,g)=>{let{currentCoordinates:w}=g;switch(p.code){case Jn.Right:return _i(zt({},w),{x:w.x+25});case Jn.Left:return _i(zt({},w),{x:w.x-25});case Jn.Down:return _i(zt({},w),{y:w.y+25});case Jn.Up:return _i(zt({},w),{y:w.y-25})}};class Xn{constructor(g){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=g;const{event:{target:w}}=g;this.props=g,this.listeners=new on((0,U.r3)(w)),this.windowListeners=new on((0,U.Jj)(w)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ir.Resize,this.handleCancel),this.windowListeners.add(ir.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ir.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:g,onStart:w}=this.props,D=g.node.current;D&&Ii(D),w(jt)}handleKeyDown(g){if((0,U.vd)(g)){const{active:w,context:D,options:ee}=this.props,{keyboardCodes:ne=ci,coordinateGetter:T=Qr,scrollBehavior:V="smooth"}=ee,{code:M}=g;if(ne.end.includes(M)){this.handleEnd(g);return}if(ne.cancel.includes(M)){this.handleCancel(g);return}const{collisionRect:H}=D.current,Q=H?{x:H.left,y:H.top}:jt;this.referenceCoordinates||(this.referenceCoordinates=Q);const Te=T(g,{active:w,context:D.current,currentCoordinates:Q});if(Te){const mt=(0,U.$X)(Te,Q),St={x:0,y:0},{scrollableAncestors:Ut}=D.current;for(const vt of Ut){const $t=g.code,{isTop:Un,isRight:ln,isLeft:Pt,isBottom:Dn,maxScroll:Ln,minScroll:zn}=Nr(vt),xn=Jr(vt),rn={x:Math.min($t===Jn.Right?xn.right-xn.width/2:xn.right,Math.max($t===Jn.Right?xn.left:xn.left+xn.width/2,Te.x)),y:Math.min($t===Jn.Down?xn.bottom-xn.height/2:xn.bottom,Math.max($t===Jn.Down?xn.top:xn.top+xn.height/2,Te.y))},$n=$t===Jn.Right&&!ln||$t===Jn.Left&&!Pt,Ar=$t===Jn.Down&&!Dn||$t===Jn.Up&&!Un;if($n&&rn.x!==Te.x){const Kn=vt.scrollLeft+mt.x,Sr=$t===Jn.Right&&Kn<=Ln.x||$t===Jn.Left&&Kn>=zn.x;if(Sr&&!mt.y){vt.scrollTo({left:Kn,behavior:V});return}Sr?St.x=vt.scrollLeft-Kn:St.x=$t===Jn.Right?vt.scrollLeft-Ln.x:vt.scrollLeft-zn.x,St.x&&vt.scrollBy({left:-St.x,behavior:V});break}else if(Ar&&rn.y!==Te.y){const Kn=vt.scrollTop+mt.y,Sr=$t===Jn.Down&&Kn<=Ln.y||$t===Jn.Up&&Kn>=zn.y;if(Sr&&!mt.x){vt.scrollTo({top:Kn,behavior:V});return}Sr?St.y=vt.scrollTop-Kn:St.y=$t===Jn.Down?vt.scrollTop-Ln.y:vt.scrollTop-zn.y,St.y&&vt.scrollBy({top:-St.y,behavior:V});break}}this.handleMove(g,(0,U.IH)((0,U.$X)(Te,this.referenceCoordinates),St))}}}handleMove(g,w){const{onMove:D}=this.props;g.preventDefault(),D(w)}handleEnd(g){const{onEnd:w}=this.props;g.preventDefault(),this.detach(),w()}handleCancel(g){const{onCancel:w}=this.props;g.preventDefault(),this.detach(),w()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Xn.activators=[{eventName:"onKeyDown",handler:(p,g,w)=>{let{keyboardCodes:D=ci,onActivation:ee}=g,{active:ne}=w;const{code:T}=p.nativeEvent;if(D.start.includes(T)){const V=ne.activatorNode.current;return V&&p.target!==V?!1:(p.preventDefault(),ee==null||ee({event:p.nativeEvent}),!0)}return!1}}];function On(p){return!!(p&&"distance"in p)}function si(p){return!!(p&&"delay"in p)}class Oi{constructor(g,w,D){var ee;D===void 0&&(D=an(g.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=g,this.events=w;const{event:ne}=g,{target:T}=ne;this.props=g,this.events=w,this.document=(0,U.r3)(T),this.documentListeners=new on(this.document),this.listeners=new on(D),this.windowListeners=new on((0,U.Jj)(T)),this.initialCoordinates=(ee=(0,U.DC)(ne))!=null?ee:jt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:g,props:{options:{activationConstraint:w}}}=this;if(this.listeners.add(g.move.name,this.handleMove,{passive:!1}),this.listeners.add(g.end.name,this.handleEnd),this.windowListeners.add(ir.Resize,this.handleCancel),this.windowListeners.add(ir.DragStart,pn),this.windowListeners.add(ir.VisibilityChange,this.handleCancel),this.windowListeners.add(ir.ContextMenu,pn),this.documentListeners.add(ir.Keydown,this.handleKeydown),w){if(On(w))return;if(si(w)){this.timeoutId=setTimeout(this.handleStart,w.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:g}=this,{onStart:w}=this.props;g&&(this.activated=!0,this.documentListeners.add(ir.Click,Tr,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ir.SelectionChange,this.removeTextSelection),w(g))}handleMove(g){var w;const{activated:D,initialCoordinates:ee,props:ne}=this,{onMove:T,options:{activationConstraint:V}}=ne;if(!ee)return;const M=(w=(0,U.DC)(g))!=null?w:jt,H=(0,U.$X)(ee,M);if(!D&&V){if(si(V))return fn(H,V.tolerance)?this.handleCancel():void 0;if(On(V))return V.tolerance!=null&&fn(H,V.tolerance)?this.handleCancel():fn(H,V.distance)?this.handleStart():void 0}g.cancelable&&g.preventDefault(),T(M)}handleEnd(){const{onEnd:g}=this.props;this.detach(),g()}handleCancel(){const{onCancel:g}=this.props;this.detach(),g()}handleKeydown(g){g.code===Jn.Esc&&this.handleCancel()}removeTextSelection(){var g;(g=this.document.getSelection())==null||g.removeAllRanges()}}const qi={move:{name:"pointermove"},end:{name:"pointerup"}};class Ti extends Oi{constructor(g){const{event:w}=g,D=(0,U.r3)(w.target);super(g,qi,D)}}Ti.activators=[{eventName:"onPointerDown",handler:(p,g)=>{let{nativeEvent:w}=p,{onActivation:D}=g;return!w.isPrimary||w.button!==0?!1:(D==null||D({event:w}),!0)}}];const vr={move:{name:"mousemove"},end:{name:"mouseup"}};var oi;(function(p){p[p.RightClick=2]="RightClick"})(oi||(oi={}));class tt extends Oi{constructor(g){super(g,vr,(0,U.r3)(g.event.target))}}tt.activators=[{eventName:"onMouseDown",handler:(p,g)=>{let{nativeEvent:w}=p,{onActivation:D}=g;return w.button===oi.RightClick?!1:(D==null||D({event:w}),!0)}}];const Xt={move:{name:"touchmove"},end:{name:"touchend"}};class Pn extends Oi{constructor(g){super(g,Xt)}static setup(){return window.addEventListener(Xt.move.name,g,{capture:!1,passive:!1}),function(){window.removeEventListener(Xt.move.name,g)};function g(){}}}Pn.activators=[{eventName:"onTouchStart",handler:(p,g)=>{let{nativeEvent:w}=p,{onActivation:D}=g;const{touches:ee}=w;return ee.length>1?!1:(D==null||D({event:w}),!0)}}];var Dr;(function(p){p[p.Pointer=0]="Pointer",p[p.DraggableRect=1]="DraggableRect"})(Dr||(Dr={}));var Xr;(function(p){p[p.TreeOrder=0]="TreeOrder",p[p.ReversedTreeOrder=1]="ReversedTreeOrder"})(Xr||(Xr={}));function Fi(p){let{acceleration:g,activator:w=Dr.Pointer,canScroll:D,draggingRect:ee,enabled:ne,interval:T=5,order:V=Xr.TreeOrder,pointerCoordinates:M,scrollableAncestors:H,scrollableAncestorRects:Q,delta:Te,threshold:mt}=p;const St=Qo({delta:Te,disabled:!ne}),[Ut,vt]=(0,U.Yz)(),$t=(0,O.useRef)({x:0,y:0}),Un=(0,O.useRef)({x:0,y:0}),ln=(0,O.useMemo)(()=>{switch(w){case Dr.Pointer:return M?{top:M.y,bottom:M.y,left:M.x,right:M.x}:null;case Dr.DraggableRect:return ee}},[w,ee,M]),Pt=(0,O.useRef)(null),Dn=(0,O.useCallback)(()=>{const zn=Pt.current;if(!zn)return;const xn=$t.current.x*Un.current.x,rn=$t.current.y*Un.current.y;zn.scrollBy(xn,rn)},[]),Ln=(0,O.useMemo)(()=>V===Xr.TreeOrder?[...H].reverse():H,[V,H]);(0,O.useEffect)(()=>{if(!ne||!H.length||!ln){vt();return}for(const zn of Ln){if((D==null?void 0:D(zn))===!1)continue;const xn=H.indexOf(zn),rn=Q[xn];if(!rn)continue;const{direction:$n,speed:Ar}=Or(zn,rn,ln,g,mt);for(const Kn of["x","y"])St[Kn][$n[Kn]]||(Ar[Kn]=0,$n[Kn]=0);if(Ar.x>0||Ar.y>0){vt(),Pt.current=zn,Ut(Dn,T),$t.current=Ar,Un.current=$n;return}}$t.current={x:0,y:0},Un.current={x:0,y:0},vt()},[g,Dn,D,vt,ne,T,JSON.stringify(ln),JSON.stringify(St),Ut,H,Ln,Q,JSON.stringify(mt)])}const yi={x:{[Wn.Backward]:!1,[Wn.Forward]:!1},y:{[Wn.Backward]:!1,[Wn.Forward]:!1}};function Qo(p){let{delta:g,disabled:w}=p;const D=(0,U.D9)(g);return(0,U.Gj)(ee=>{if(w||!D||!ee)return yi;const ne={x:Math.sign(g.x-D.x),y:Math.sign(g.y-D.y)};return{x:{[Wn.Backward]:ee.x[Wn.Backward]||ne.x===-1,[Wn.Forward]:ee.x[Wn.Forward]||ne.x===1},y:{[Wn.Backward]:ee.y[Wn.Backward]||ne.y===-1,[Wn.Forward]:ee.y[Wn.Forward]||ne.y===1}}},[w,g,D])}function Ui(p,g){const w=g!==null?p.get(g):void 0,D=w?w.node.current:null;return(0,U.Gj)(ee=>{var ne;return g===null?null:(ne=D!=null?D:ee)!=null?ne:null},[D,g])}function ki(p,g){return(0,O.useMemo)(()=>p.reduce((w,D)=>{const{sensor:ee}=D,ne=ee.activators.map(T=>({eventName:T.eventName,handler:g(T.handler,D)}));return[...w,...ne]},[]),[p,g])}var wi;(function(p){p[p.Always=0]="Always",p[p.BeforeDragging=1]="BeforeDragging",p[p.WhileDragging=2]="WhileDragging"})(wi||(wi={}));var go;(function(p){p.Optimized="optimized"})(go||(go={}));const Pe=new Map;function I(p,g){let{dragging:w,dependencies:D,config:ee}=g;const[ne,T]=(0,O.useState)(null),{frequency:V,measure:M,strategy:H}=ee,Q=(0,O.useRef)(p),Te=$t(),mt=(0,U.Ey)(Te),St=(0,O.useCallback)(function(Un){Un===void 0&&(Un=[]),!mt.current&&T(ln=>ln===null?Un:ln.concat(Un.filter(Pt=>!ln.includes(Pt))))},[mt]),Ut=(0,O.useRef)(null),vt=(0,U.Gj)(Un=>{if(Te&&!w)return Pe;if(!Un||Un===Pe||Q.current!==p||ne!=null){const ln=new Map;for(let Pt of p){if(!Pt)continue;if(ne&&ne.length>0&&!ne.includes(Pt.id)&&Pt.rect.current){ln.set(Pt.id,Pt.rect.current);continue}const Dn=Pt.node.current,Ln=Dn?new Gt(M(Dn),Dn):null;Pt.rect.current=Ln,Ln&&ln.set(Pt.id,Ln)}return ln}return Un},[p,ne,w,Te,M]);return(0,O.useEffect)(()=>{Q.current=p},[p]),(0,O.useEffect)(()=>{Te||St()},[w,Te]),(0,O.useEffect)(()=>{ne&&ne.length>0&&T(null)},[JSON.stringify(ne)]),(0,O.useEffect)(()=>{Te||typeof V!="number"||Ut.current!==null||(Ut.current=setTimeout(()=>{St(),Ut.current=null},V))},[V,Te,St,...D]),{droppableRects:vt,measureDroppableContainers:St,measuringScheduled:ne!=null};function $t(){switch(H){case wi.Always:return!1;case wi.BeforeDragging:return w;default:return!w}}}function E(p,g){return(0,U.Gj)(w=>p?w||(typeof g=="function"?g(p):p):null,[g,p])}function P(p,g){return E(p,g)}function ie(p){let{callback:g,disabled:w}=p;const D=(0,U.zX)(g),ee=(0,O.useMemo)(()=>{if(w||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:ne}=window;return new ne(D)},[D,w]);return(0,O.useEffect)(()=>()=>ee==null?void 0:ee.disconnect(),[ee]),ee}function ce(p){let{callback:g,disabled:w}=p;const D=(0,U.zX)(g),ee=(0,O.useMemo)(()=>{if(w||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:ne}=window;return new ne(D)},[w]);return(0,O.useEffect)(()=>()=>ee==null?void 0:ee.disconnect(),[ee]),ee}function He(p){return new Gt(ke(p),p)}function pe(p,g,w){g===void 0&&(g=He);const[D,ee]=(0,O.useReducer)(V,null),ne=ie({callback(M){if(p)for(const H of M){const{type:Q,target:Te}=H;if(Q==="childList"&&Te instanceof HTMLElement&&Te.contains(p)){ee();break}}}}),T=ce({callback:ee});return(0,U.LI)(()=>{ee(),p?(T==null||T.observe(p),ne==null||ne.observe(document.body,{childList:!0,subtree:!0})):(T==null||T.disconnect(),ne==null||ne.disconnect())},[p]),D;function V(M){if(!p)return null;if(p.isConnected===!1){var H;return(H=M!=null?M:w)!=null?H:null}const Q=g(p);return JSON.stringify(M)===JSON.stringify(Q)?M:Q}}function Se(p){const g=E(p);return Ne(p,g)}const de=[];function Ue(p){const g=(0,O.useRef)(p),w=(0,U.Gj)(D=>p?D&&D!==de&&p&&g.current&&p.parentNode===g.current.parentNode?D:un(p):de,[p]);return(0,O.useEffect)(()=>{g.current=p},[p]),w}function Me(p){const[g,w]=(0,O.useState)(null),D=(0,O.useRef)(p),ee=(0,O.useCallback)(ne=>{const T=dr(ne.target);T&&w(V=>V?(V.set(T,Er(T)),new Map(V)):null)},[]);return(0,O.useEffect)(()=>{const ne=D.current;if(p!==ne){T(ne);const V=p.map(M=>{const H=dr(M);return H?(H.addEventListener("scroll",ee,{passive:!0}),[H,Er(H)]):null}).filter(M=>M!=null);w(V.length?new Map(V):null),D.current=p}return()=>{T(p),T(ne)};function T(V){V.forEach(M=>{const H=dr(M);H==null||H.removeEventListener("scroll",ee)})}},[ee,p]),(0,O.useMemo)(()=>p.length?g?Array.from(g.values()).reduce((ne,T)=>(0,U.IH)(ne,T),jt):zr(p):jt,[p,g])}function Ve(p,g){g===void 0&&(g=[]);const w=(0,O.useRef)(null);return(0,O.useEffect)(()=>{w.current=null},g),(0,O.useEffect)(()=>{const D=p!==jt;D&&!w.current&&(w.current=p),!D&&w.current&&(w.current=null)},[p]),w.current?(0,U.$X)(p,w.current):jt}function lt(p){(0,O.useEffect)(()=>{if(!U.Nq)return;const g=p.map(w=>{let{sensor:D}=w;return D.setup==null?void 0:D.setup()});return()=>{for(const w of g)w==null||w()}},p.map(g=>{let{sensor:w}=g;return w}))}function ht(p,g){return(0,O.useMemo)(()=>p.reduce((w,D)=>{let{eventName:ee,handler:ne}=D;return w[ee]=T=>{ne(T,g)},w},{}),[p,g])}function dt(p){return(0,O.useMemo)(()=>p?wt(p):null,[p])}const $=[];function K(p,g){g===void 0&&(g=ke);const[w]=p,D=dt(w?(0,U.Jj)(w):null),[ee,ne]=(0,O.useReducer)(V,$),T=ce({callback:ne});return p.length>0&&ee===$&&ne(),(0,U.LI)(()=>{p.length?p.forEach(M=>T==null?void 0:T.observe(M)):(T==null||T.disconnect(),ne())},[p]),ee;function V(){return p.length?p.map(M=>Nn(M)?D:new Gt(g(M),M)):$}}function X(p){if(!p)return null;if(p.children.length>1)return p;const g=p.children[0];return(0,U.Re)(g)?g:p}function W(p){let{measure:g}=p;const[w,D]=(0,O.useState)(null),ee=(0,O.useCallback)(H=>{for(const{target:Q}of H)if((0,U.Re)(Q)){D(Te=>{const mt=g(Q);return Te?_i(zt({},Te),{width:mt.width,height:mt.height}):mt});break}},[g]),ne=ce({callback:ee}),T=(0,O.useCallback)(H=>{const Q=X(H);ne==null||ne.disconnect(),Q&&(ne==null||ne.observe(Q)),D(Q?g(Q):null)},[g,ne]),[V,M]=(0,U.wm)(T);return(0,O.useMemo)(()=>({nodeRef:V,rect:w,setRef:M}),[w,V,M])}const ve=[{sensor:Ti,options:{}},{sensor:Xn,options:{}}],je={current:{}},nt={draggable:{measure:et},droppable:{measure:et,strategy:wi.WhileDragging,frequency:go.Optimized},dragOverlay:{measure:ke}};class Xe extends Map{get(g){var w;return g!=null&&(w=super.get(g))!=null?w:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(g=>{let{disabled:w}=g;return!w})}getNodeFor(g){var w,D;return(w=(D=this.get(g))==null?void 0:D.node.current)!=null?w:void 0}}const $e={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Xe,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:rr},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:nt,measureDroppableContainers:rr,windowRect:null,measuringScheduled:!1},De={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:rr,draggableNodes:new Map,over:null,measureDroppableContainers:rr},qe=(0,O.createContext)(De),ut=(0,O.createContext)($e);function it(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Xe}}}function bt(p,g){switch(g.type){case oe.DragStart:return _i(zt({},p),{draggable:_i(zt({},p.draggable),{initialCoordinates:g.initialCoordinates,active:g.active})});case oe.DragMove:return p.draggable.active?_i(zt({},p),{draggable:_i(zt({},p.draggable),{translate:{x:g.coordinates.x-p.draggable.initialCoordinates.x,y:g.coordinates.y-p.draggable.initialCoordinates.y}})}):p;case oe.DragEnd:case oe.DragCancel:return _i(zt({},p),{draggable:_i(zt({},p.draggable),{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case oe.RegisterDroppable:{const{element:w}=g,{id:D}=w,ee=new Xe(p.droppable.containers);return ee.set(D,w),_i(zt({},p),{droppable:_i(zt({},p.droppable),{containers:ee})})}case oe.SetDroppableDisabled:{const{id:w,key:D,disabled:ee}=g,ne=p.droppable.containers.get(w);if(!ne||D!==ne.key)return p;const T=new Xe(p.droppable.containers);return T.set(w,_i(zt({},ne),{disabled:ee})),_i(zt({},p),{droppable:_i(zt({},p.droppable),{containers:T})})}case oe.UnregisterDroppable:{const{id:w,key:D}=g,ee=p.droppable.containers.get(w);if(!ee||D!==ee.key)return p;const ne=new Xe(p.droppable.containers);return ne.delete(w),_i(zt({},p),{droppable:_i(zt({},p.droppable),{containers:ne})})}default:return p}}function qt(p){let{disabled:g}=p;const{active:w,activatorEvent:D,draggableNodes:ee}=(0,O.useContext)(qe),ne=(0,U.D9)(D),T=(0,U.D9)(w==null?void 0:w.id);return(0,O.useEffect)(()=>{if(!g&&!D&&ne&&T!=null){if(!(0,U.vd)(ne)||document.activeElement===ne.target)return;const V=ee.get(T);if(!V)return;const{activatorNode:M,node:H}=V;if(!M.current&&!H.current)return;requestAnimationFrame(()=>{for(const Q of[M.current,H.current]){if(!Q)continue;const Te=(0,U.so)(Q);if(Te){Te.focus();break}}})}},[D,g,ee,T,ne]),null}function gn(p,g){let ee=g,{transform:w}=ee,D=Na(ee,["transform"]);return p!=null&&p.length?p.reduce((ne,T)=>T(zt({transform:ne},D)),w):w}function or(p){return(0,O.useMemo)(()=>({draggable:zt(zt({},nt.draggable),p==null?void 0:p.draggable),droppable:zt(zt({},nt.droppable),p==null?void 0:p.droppable),dragOverlay:zt(zt({},nt.dragOverlay),p==null?void 0:p.dragOverlay)}),[p==null?void 0:p.draggable,p==null?void 0:p.droppable,p==null?void 0:p.dragOverlay])}function Qn(p){let{activeNode:g,measure:w,initialRect:D,config:ee=!0}=p;const ne=(0,O.useRef)(!1),{x:T,y:V}=typeof ee=="boolean"?{x:ee,y:ee}:ee;(0,U.LI)(()=>{if(!T&&!V||!g){ne.current=!1;return}if(ne.current||!D)return;const H=g==null?void 0:g.node.current;if(!H||H.isConnected===!1)return;const Q=w(H),Te=Ne(Q,D);if(T||(Te.x=0),V||(Te.y=0),ne.current=!0,Math.abs(Te.x)>0||Math.abs(Te.y)>0){const mt=Cn(H);mt&&mt.scrollBy({top:Te.y,left:Te.x})}},[g,T,V,D,w])}const Gn=(0,O.createContext)(_i(zt({},jt),{scaleX:1,scaleY:1}));var cr;(function(p){p[p.Uninitialized=0]="Uninitialized",p[p.Initializing=1]="Initializing",p[p.Initialized=2]="Initialized"})(cr||(cr={}));const Di=(0,O.memo)(function(g){var w,D,ee,ne;let Pa=g,{id:T,accessibility:V,autoScroll:M=!0,children:H,sensors:Q=ve,collisionDetection:Te=be,measuring:mt,modifiers:St}=Pa,Ut=Na(Pa,["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"]);const vt=(0,O.useReducer)(bt,void 0,it),[$t,Un]=vt,[ln,Pt]=ot(),[Dn,Ln]=(0,O.useState)(cr.Uninitialized),zn=Dn===cr.Initialized,{draggable:{active:xn,nodes:rn,translate:$n},droppable:{containers:Ar}}=$t,Kn=xn?rn.get(xn):null,Sr=(0,O.useRef)({initial:null,translated:null}),di=(0,O.useMemo)(()=>{var wo;return xn!=null?{id:xn,data:(wo=Kn==null?void 0:Kn.data)!=null?wo:je,rect:Sr}:null},[xn,Kn]),ni=(0,O.useRef)(null),[Ri,Hi]=(0,O.useState)(null),[Cr,Yi]=(0,O.useState)(null),uo=(0,U.Ey)(Ut,Object.values(Ut)),ko=(0,U.Ld)("DndDescribedBy",T),Eo=(0,O.useMemo)(()=>Ar.getEnabled(),[Ar]),vo=or(mt),{droppableRects:qo,measureDroppableContainers:Uo,measuringScheduled:$o}=I(Eo,{dragging:zn,dependencies:[$n.x,$n.y],config:vo.droppable}),Bi=Ui(rn,xn),Fs=(0,O.useMemo)(()=>Cr?(0,U.DC)(Cr):null,[Cr]),Is=pr(),n1=P(Bi,vo.draggable.measure);Qn({activeNode:xn?rn.get(xn):null,config:Is.layoutShiftCompensation,initialRect:n1,measure:vo.draggable.measure});const rs=pe(Bi,vo.draggable.measure,n1),ta=pe(Bi?Bi.parentElement:null),Os=(0,O.useRef)({activatorEvent:null,active:null,activeNode:Bi,collisionRect:null,collisions:null,droppableRects:qo,draggableNodes:rn,draggingNode:null,draggingNodeRect:null,droppableContainers:Ar,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Fa=Ar.getNodeFor((w=Os.current.over)==null?void 0:w.id),Oo=W({measure:vo.dragOverlay.measure}),_s=(D=Oo.nodeRef.current)!=null?D:Bi,es=zn?(ee=Oo.rect)!=null?ee:rs:null,Ki=!!(Oo.nodeRef.current&&Oo.rect),xa=Se(Ki?null:rs),Nt=dt(_s?(0,U.Jj)(_s):null),No=Ue(zn?Fa!=null?Fa:Bi:null),ka=K(No),Ya=gn(St,{transform:{x:$n.x-xa.x,y:$n.y-xa.y,scaleX:1,scaleY:1},activatorEvent:Cr,active:di,activeNodeRect:rs,containerNodeRect:ta,draggingNodeRect:es,over:Os.current.over,overlayNodeRect:Oo.rect,scrollableAncestors:No,scrollableAncestorRects:ka,windowRect:Nt}),Ds=Fs?(0,U.IH)(Fs,$n):null,is=Me(No),lo=Ve(is),cs=Ve(is,[rs]),we=(0,U.IH)(Ya,lo),Ta=es?Ae(es,Ya):null,ya=di&&Ta?Te({active:di,collisionRect:Ta,droppableRects:qo,droppableContainers:Eo,pointerCoordinates:Ds}):null,Aa=bn(ya,"id"),[Js,U1]=(0,O.useState)(null),Ua=Ki?Ya:(0,U.IH)(Ya,cs),yo=We(Ua,(ne=Js==null?void 0:Js.rect)!=null?ne:null,rs),wa=(0,O.useCallback)((wo,Io)=>{let{sensor:us,options:to}=Io;if(ni.current==null)return;const hi=rn.get(ni.current);if(!hi)return;const Do=wo.nativeEvent,fs=new us({active:ni.current,activeNode:hi,event:Do,options:to,context:Os,onStart(Hs){const bo=ni.current;if(bo==null)return;const $a=rn.get(bo);if(!$a)return;const{onDragStart:xs}=uo.current,ks={active:{id:bo,data:$a.data,rect:Sr}};(0,he.unstable_batchedUpdates)(()=>{xs==null||xs(ks),Ln(cr.Initializing),Un({type:oe.DragStart,initialCoordinates:Hs,active:bo}),ln({type:"onDragStart",event:ks})})},onMove(Hs){Un({type:oe.DragMove,coordinates:Hs})},onEnd:Ma(oe.DragEnd),onCancel:Ma(oe.DragCancel)});(0,he.unstable_batchedUpdates)(()=>{Hi(fs),Yi(wo.nativeEvent)});function Ma(Hs){return function(){return Jl(this,null,function*(){const{active:$a,collisions:xs,over:ks,scrollAdjustedTranslate:Us}=Os.current;let Zo=null;if($a&&Us){const{cancelDrop:ui}=uo.current;Zo={activatorEvent:Do,active:$a,collisions:xs,delta:Us,over:ks},Hs===oe.DragEnd&&typeof ui=="function"&&(yield Promise.resolve(ui(Zo)))&&(Hs=oe.DragCancel)}ni.current=null,(0,he.unstable_batchedUpdates)(()=>{Un({type:Hs}),Ln(cr.Uninitialized),U1(null),Hi(null),Yi(null);const ui=Hs===oe.DragEnd?"onDragEnd":"onDragCancel";if(Zo){const fo=uo.current[ui];fo==null||fo(Zo),ln({type:ui,event:Zo})}})})}}},[rn]),ba=(0,O.useCallback)((wo,Io)=>(us,to)=>{const hi=us.nativeEvent,Do=rn.get(to);if(ni.current!==null||!Do||hi.dndKit||hi.defaultPrevented)return;const fs={active:Do};wo(us,Io.options,fs)===!0&&(hi.dndKit={capturedBy:Io.sensor},ni.current=to,wa(us,Io))},[rn,wa]),zs=ki(Q,ba);lt(Q),(0,U.LI)(()=>{rs&&Dn===cr.Initializing&&Ln(cr.Initialized)},[rs,Dn]),(0,O.useEffect)(()=>{const{onDragMove:wo}=uo.current,{active:Io,activatorEvent:us,collisions:to,over:hi}=Os.current;if(!Io||!us)return;const Do={active:Io,activatorEvent:us,collisions:to,delta:{x:we.x,y:we.y},over:hi};(0,he.unstable_batchedUpdates)(()=>{wo==null||wo(Do),ln({type:"onDragMove",event:Do})})},[we.x,we.y]),(0,O.useEffect)(()=>{const{active:wo,activatorEvent:Io,collisions:us,droppableContainers:to,scrollAdjustedTranslate:hi}=Os.current;if(!wo||ni.current==null||!Io||!hi)return;const{onDragOver:Do}=uo.current,fs=to.get(Aa),Ma=fs&&fs.rect.current?{id:fs.id,rect:fs.rect.current,data:fs.data,disabled:fs.disabled}:null,Hs={active:wo,activatorEvent:Io,collisions:us,delta:{x:hi.x,y:hi.y},over:Ma};(0,he.unstable_batchedUpdates)(()=>{U1(Ma),Do==null||Do(Hs),ln({type:"onDragOver",event:Hs})})},[Aa]),(0,U.LI)(()=>{Os.current={activatorEvent:Cr,active:di,activeNode:Bi,collisionRect:Ta,collisions:ya,droppableRects:qo,draggableNodes:rn,draggingNode:_s,draggingNodeRect:es,droppableContainers:Ar,over:Js,scrollableAncestors:No,scrollAdjustedTranslate:we},Sr.current={initial:es,translated:Ta}},[di,Bi,ya,Ta,rn,_s,es,qo,Ar,Js,No,we]),Fi(_i(zt({},Is),{delta:$n,draggingRect:Ta,pointerCoordinates:Ds,scrollableAncestors:No,scrollableAncestorRects:ka}));const Wi=(0,O.useMemo)(()=>({active:di,activeNode:Bi,activeNodeRect:rs,activatorEvent:Cr,collisions:ya,containerNodeRect:ta,dragOverlay:Oo,draggableNodes:rn,droppableContainers:Ar,droppableRects:qo,over:Js,measureDroppableContainers:Uo,scrollableAncestors:No,scrollableAncestorRects:ka,measuringConfiguration:vo,measuringScheduled:$o,windowRect:Nt}),[di,Bi,rs,Cr,ya,ta,Oo,rn,Ar,qo,Js,Uo,No,ka,vo,$o,Nt]),os=(0,O.useMemo)(()=>({activatorEvent:Cr,activators:zs,active:di,activeNodeRect:rs,ariaDescribedById:{draggable:ko},dispatch:Un,draggableNodes:rn,over:Js,measureDroppableContainers:Uo}),[Cr,zs,di,rs,Un,ko,rn,Js,Uo]);return O.createElement(Ce.Provider,{value:Pt},O.createElement(qe.Provider,{value:os},O.createElement(ut.Provider,{value:Wi},O.createElement(Gn.Provider,{value:yo},H)),O.createElement(qt,{disabled:(V==null?void 0:V.restoreFocus)===!1})),O.createElement(Rt,_i(zt({},V),{hiddenTextDescribedById:ko})));function pr(){const wo=(Ri==null?void 0:Ri.autoScrollEnabled)===!1,Io=typeof M=="object"?M.enabled===!1:M===!1,us=zn&&!wo&&!Io;return typeof M=="object"?_i(zt({},M),{enabled:us}):{enabled:us}}}),Si=(0,O.createContext)(null),_o="button",ps="Droppable";function Lo(p){let{id:g,data:w,disabled:D=!1,attributes:ee}=p;const ne=(0,U.Ld)(ps),{activators:T,activatorEvent:V,active:M,activeNodeRect:H,ariaDescribedById:Q,draggableNodes:Te,over:mt}=(0,O.useContext)(qe),{role:St=_o,roleDescription:Ut="draggable",tabIndex:vt=0}=ee!=null?ee:{},$t=(M==null?void 0:M.id)===g,Un=(0,O.useContext)($t?Gn:Si),[ln,Pt]=(0,U.wm)(),[Dn,Ln]=(0,U.wm)(),zn=ht(T,g),xn=(0,U.Ey)(w);(0,U.LI)(()=>(Te.set(g,{id:g,key:ne,node:ln,activatorNode:Dn,data:xn}),()=>{const $n=Te.get(g);$n&&$n.key===ne&&Te.delete(g)}),[Te,g]);const rn=(0,O.useMemo)(()=>({role:St,tabIndex:vt,"aria-disabled":D,"aria-pressed":$t&&St===_o?!0:void 0,"aria-roledescription":Ut,"aria-describedby":Q.draggable}),[D,St,vt,$t,Ut,Q.draggable]);return{active:M,activatorEvent:V,activeNodeRect:H,attributes:rn,isDragging:$t,listeners:D?void 0:zn,node:ln,over:mt,setNodeRef:Pt,setActivatorNodeRef:Ln,transform:Un}}function ao(){return(0,O.useContext)(ut)}const vs="Droppable",Po={timeout:25};function ls(p){let{data:g,disabled:w=!1,id:D,resizeObserverConfig:ee}=p;const ne=(0,U.Ld)(vs),{active:T,dispatch:V,over:M,measureDroppableContainers:H}=(0,O.useContext)(qe),Q=(0,O.useRef)({disabled:w}),Te=(0,O.useRef)(!1),mt=(0,O.useRef)(null),St=(0,O.useRef)(null),{disabled:Ut,updateMeasurementsFor:vt,timeout:$t}=zt(zt({},Po),ee),Un=(0,U.Ey)(vt!=null?vt:D),ln=(0,O.useCallback)(()=>{if(!Te.current){Te.current=!0;return}St.current!=null&&clearTimeout(St.current),St.current=setTimeout(()=>{H(Array.isArray(Un.current)?Un.current:[Un.current]),St.current=null},$t)},[$t]),Pt=ce({callback:ln,disabled:Ut||!T}),Dn=(0,O.useCallback)((rn,$n)=>{Pt&&($n&&(Pt.unobserve($n),Te.current=!1),rn&&Pt.observe(rn))},[Pt]),[Ln,zn]=(0,U.wm)(Dn),xn=(0,U.Ey)(g);return(0,O.useEffect)(()=>{!Pt||!Ln.current||(Pt.disconnect(),Te.current=!1,Pt.observe(Ln.current))},[Ln,Pt]),(0,U.LI)(()=>(V({type:oe.RegisterDroppable,element:{id:D,key:ne,disabled:w,node:Ln,rect:mt,data:xn}}),()=>V({type:oe.UnregisterDroppable,key:ne,id:D})),[D]),(0,O.useEffect)(()=>{w!==Q.current.disabled&&(V({type:oe.SetDroppableDisabled,id:D,key:ne,disabled:w}),Q.current.disabled=w)},[D,ne,w,V]),{active:T,rect:mt,isOver:(M==null?void 0:M.id)===D,node:Ln,over:M,setNodeRef:zn}}function Ps(p){let{animation:g,children:w}=p;const[D,ee]=(0,O.useState)(null),[ne,T]=(0,O.useState)(null),V=(0,U.D9)(w);return!w&&!D&&V&&ee(V),(0,U.LI)(()=>{if(!ne)return;const M=D==null?void 0:D.key,H=D==null?void 0:D.props.id;if(M==null||H==null){ee(null);return}Promise.resolve(g(H,ne)).then(()=>{ee(null)})},[g,D,ne]),O.createElement(O.Fragment,null,w,D?(0,O.cloneElement)(D,{ref:T}):null)}const Va={x:0,y:0,scaleX:1,scaleY:1};function Ea(p){let{children:g}=p;return O.createElement(qe.Provider,{value:De},O.createElement(Gn.Provider,{value:Va},g))}const Vs={position:"fixed",touchAction:"none"},zi=p=>(0,U.vd)(p)?"transform 250ms ease":void 0,Cs=(0,O.forwardRef)((p,g)=>{let{as:w,activatorEvent:D,adjustScale:ee,children:ne,className:T,rect:V,style:M,transform:H,transition:Q=zi}=p;if(!V)return null;const Te=ee?H:_i(zt({},H),{scaleX:1,scaleY:1}),mt=zt(_i(zt({},Vs),{width:V.width,height:V.height,top:V.top,left:V.left,transform:U.ux.Transform.toString(Te),transformOrigin:ee&&D?yr(D,V):void 0,transition:typeof Q=="function"?Q(D):Q}),M);return O.createElement(w,{className:T,style:mt,ref:g},ne)}),ea=p=>g=>{let{active:w,dragOverlay:D}=g;const ee={},{styles:ne,className:T}=p;if(ne!=null&&ne.active)for(const[V,M]of Object.entries(ne.active))M!==void 0&&(ee[V]=w.node.style.getPropertyValue(V),w.node.style.setProperty(V,M));if(ne!=null&&ne.dragOverlay)for(const[V,M]of Object.entries(ne.dragOverlay))M!==void 0&&D.node.style.setProperty(V,M);return T!=null&&T.active&&w.node.classList.add(T.active),T!=null&&T.dragOverlay&&D.node.classList.add(T.dragOverlay),function(){for(const[M,H]of Object.entries(ee))w.node.style.setProperty(M,H);T!=null&&T.active&&w.node.classList.remove(T.active)}},Ys={duration:250,easing:"ease",keyframes:p=>{let{transform:{initial:g,final:w}}=p;return[{transform:U.ux.Transform.toString(g)},{transform:U.ux.Transform.toString(w)}]},sideEffects:ea({styles:{active:{opacity:"0"}}})};function _a(p){let{config:g,draggableNodes:w,droppableContainers:D,measuringConfiguration:ee}=p;return(0,U.zX)((ne,T)=>{if(g===null)return;const V=w.get(ne);if(!V)return;const M=V.node.current;if(!M)return;const H=X(T);if(!H)return;const{transform:Q}=(0,U.Jj)(T).getComputedStyle(T),Te=Ze(Q);if(!Te)return;const mt=typeof g=="function"?g:Ko(g);return Ii(M,ee.draggable.measure),mt({active:{id:ne,data:V.data,node:M,rect:ee.draggable.measure(M)},draggableNodes:w,dragOverlay:{node:T,rect:ee.dragOverlay.measure(H)},droppableContainers:D,measuringConfiguration:ee,transform:Te})})}function Ko(p){const{duration:g,easing:w,sideEffects:D,keyframes:ee}=zt(zt({},Ys),p);return ne=>{let ln=ne,{active:T,dragOverlay:V,transform:M}=ln,H=Na(ln,["active","dragOverlay","transform"]);if(!g)return;const Q={x:V.rect.left-T.rect.left,y:V.rect.top-T.rect.top},Te={scaleX:M.scaleX!==1?T.rect.width*M.scaleX/V.rect.width:1,scaleY:M.scaleY!==1?T.rect.height*M.scaleY/V.rect.height:1},mt=zt({x:M.x-Q.x,y:M.y-Q.y},Te),St=ee(_i(zt({},H),{active:T,dragOverlay:V,transform:{initial:M,final:mt}})),[Ut]=St,vt=St[St.length-1];if(JSON.stringify(Ut)===JSON.stringify(vt))return;const $t=D==null?void 0:D(zt({active:T,dragOverlay:V},H)),Un=V.node.animate(St,{duration:g,easing:w,fill:"forwards"});return new Promise(Pt=>{Un.onfinish=()=>{$t==null||$t(),Pt()}})}}let la=0;function Ks(p){return(0,O.useMemo)(()=>{if(p!=null)return la++,la},[p])}const xo=O.memo(p=>{let{adjustScale:g=!1,children:w,dropAnimation:D,style:ee,transition:ne,modifiers:T,wrapperElement:V="div",className:M,zIndex:H=999}=p;const{activatorEvent:Q,active:Te,activeNodeRect:mt,containerNodeRect:St,draggableNodes:Ut,droppableContainers:vt,dragOverlay:$t,over:Un,measuringConfiguration:ln,scrollableAncestors:Pt,scrollableAncestorRects:Dn,windowRect:Ln}=ao(),zn=(0,O.useContext)(Gn),xn=Ks(Te==null?void 0:Te.id),rn=gn(T,{activatorEvent:Q,active:Te,activeNodeRect:mt,containerNodeRect:St,draggingNodeRect:$t.rect,over:Un,overlayNodeRect:$t.rect,scrollableAncestors:Pt,scrollableAncestorRects:Dn,transform:zn,windowRect:Ln}),$n=E(mt),Ar=_a({config:D,draggableNodes:Ut,droppableContainers:vt,measuringConfiguration:ln}),Kn=$n?$t.setRef:void 0;return O.createElement(Ea,null,O.createElement(Ps,{animation:Ar},Te&&xn?O.createElement(Cs,{key:xn,id:Te.id,ref:Kn,as:V,activatorEvent:Q,adjustScale:g,className:M,transition:ne,rect:$n,style:zt({zIndex:H},ee),transform:rn},w):null))})},59671:function(Jt,Qe,te){"use strict";te.d(Qe,{Fo:function(){return mn},Rp:function(){return rt},is:function(){return Ke},nB:function(){return Ge},qw:function(){return rr}});var O=te(50959),he=te(28257),U=te(84341);function rt(Y,Ae,Ze){const ge=Y.slice();return ge.splice(Ze<0?ge.length+Ze:Ze,0,ge.splice(Ae,1)[0]),ge}function Ct(Y,Ae,Ze){const ge=Y.slice();return ge[Ae]=Y[Ze],ge[Ze]=Y[Ae],ge}function At(Y,Ae){return Y.reduce((Ze,ge,Be)=>{const ke=Ae.get(ge);return ke&&(Ze[Be]=ke),Ze},Array(Y.length))}function ye(Y){return Y!==null&&Y>=0}function kt(Y,Ae){if(Y===Ae)return!0;if(Y.length!==Ae.length)return!1;for(let Ze=0;Ze<Y.length;Ze++)if(Y[Ze]!==Ae[Ze])return!1;return!0}function Ce(Y){return typeof Y=="boolean"?{draggable:Y,droppable:Y}:Y}const Re={scaleX:1,scaleY:1},ot=Y=>{var Ae;let{rects:Ze,activeNodeRect:ge,activeIndex:Be,overIndex:ke,index:et}=Y;const wt=(Ae=Ze[Be])!=null?Ae:ge;if(!wt)return null;const Vt=_e(Ze,et,Be);if(et===Be){const nn=Ze[ke];return nn?zt({x:Be<ke?nn.left+nn.width-(wt.left+wt.width):nn.left-wt.left,y:0},Re):null}return et>Be&&et<=ke?zt({x:-wt.width-Vt,y:0},Re):et<Be&&et>=ke?zt({x:wt.width+Vt,y:0},Re):zt({x:0,y:0},Re)};function _e(Y,Ae,Ze){const ge=Y[Ae],Be=Y[Ae-1],ke=Y[Ae+1];return!ge||!Be&&!ke?0:Ze<Ae?Be?ge.left-(Be.left+Be.width):ke.left-(ge.left+ge.width):ke?ke.left-(ge.left+ge.width):ge.left-(Be.left+Be.width)}const yt=Y=>{let{rects:Ae,activeIndex:Ze,overIndex:ge,index:Be}=Y;const ke=rt(Ae,ge,Ze),et=Ae[Be],wt=ke[Be];return!wt||!et?null:{x:wt.left-et.left,y:wt.top-et.top,scaleX:wt.width/et.width,scaleY:wt.height/et.height}},Rt=Y=>{let{activeIndex:Ae,index:Ze,rects:ge,overIndex:Be}=Y,ke,et;return Ze===Ae&&(ke=ge[Ze],et=ge[Be]),Ze===Be&&(ke=ge[Ze],et=ge[Ae]),!et||!ke?null:{x:et.left-ke.left,y:et.top-ke.top,scaleX:et.width/ke.width,scaleY:et.height/ke.height}},oe={scaleX:1,scaleY:1},rr=Y=>{var Ae;let{activeIndex:Ze,activeNodeRect:ge,index:Be,rects:ke,overIndex:et}=Y;const wt=(Ae=ke[Ze])!=null?Ae:ge;if(!wt)return null;if(Be===Ze){const nn=ke[et];return nn?zt({x:0,y:Ze<et?nn.top+nn.height-(wt.top+wt.height):nn.top-wt.top},oe):null}const Vt=hn(ke,Be,Ze);return Be>Ze&&Be<=et?zt({x:0,y:-wt.height-Vt},oe):Be<Ze&&Be>=et?zt({x:0,y:wt.height+Vt},oe):zt({x:0,y:0},oe)};function hn(Y,Ae,Ze){const ge=Y[Ae],Be=Y[Ae-1],ke=Y[Ae+1];return ge?Ze<Ae?Be?ge.top-(Be.top+Be.height):ke?ke.top-(ge.top+ge.height):0:ke?ke.top-(ge.top+ge.height):Be?ge.top-(Be.top+Be.height):0:0}const An="Sortable",jt=O.createContext({activeIndex:-1,containerId:An,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:yt,disabled:{draggable:!1,droppable:!1}});function mn(Y){let{children:Ae,id:Ze,items:ge,strategy:Be=yt,disabled:ke=!1}=Y;const{active:et,dragOverlay:wt,droppableRects:Vt,over:nn,measureDroppableContainers:un}=(0,he.Cj)(),Cn=(0,U.Ld)(An,Ze),dr=wt.rect!==null,lr=(0,O.useMemo)(()=>ge.map(zr=>typeof zr=="object"&&"id"in zr?zr.id:zr),[ge]),Mr=et!=null,Er=et?lr.indexOf(et.id):-1,Wn=nn?lr.indexOf(nn.id):-1,Nn=(0,O.useRef)(lr),Nr=!kt(lr,Nn.current),ti=Wn!==-1&&Er===-1||Nr,Or=Ce(ke);(0,U.LI)(()=>{Nr&&Mr&&un(lr)},[Nr,lr,Mr,un]),(0,O.useEffect)(()=>{Nn.current=lr},[lr]);const Jr=(0,O.useMemo)(()=>({activeIndex:Er,containerId:Cn,disabled:Or,disableTransforms:ti,items:lr,overIndex:Wn,useDragOverlay:dr,sortedRects:At(lr,Vt),strategy:Be}),[Er,Cn,Or.draggable,Or.droppable,ti,lr,Wn,Vt,dr,Be]);return O.createElement(jt.Provider,{value:Jr},Ae)}const yr=Y=>{let{id:Ae,items:Ze,activeIndex:ge,overIndex:Be}=Y;return rt(Ze,ge,Be).indexOf(Ae)},Zn=Y=>{let{containerId:Ae,isSorting:Ze,wasDragging:ge,index:Be,items:ke,newIndex:et,previousItems:wt,previousContainerId:Vt,transition:nn}=Y;return!nn||!ge||wt!==ke&&Be===et?!1:Ze?!0:et!==Be&&Ae===Vt},tr={duration:200,easing:"ease"},wn="transform",bn=U.ux.Transition.toString({property:wn,duration:0,easing:"linear"}),ur={roleDescription:"sortable"};function qn(Y){let{disabled:Ae,index:Ze,node:ge,rect:Be}=Y;const[ke,et]=(0,O.useState)(null),wt=(0,O.useRef)(Ze);return(0,U.LI)(()=>{if(!Ae&&Ze!==wt.current&&ge.current){const Vt=Be.current;if(Vt){const nn=(0,he.VK)(ge.current,{ignoreTransform:!0}),un={x:Vt.left-nn.left,y:Vt.top-nn.top,scaleX:Vt.width/nn.width,scaleY:Vt.height/nn.height};(un.x||un.y)&&et(un)}}Ze!==wt.current&&(wt.current=Ze)},[Ae,Ze,ge,Be]),(0,O.useEffect)(()=>{ke&&et(null)},[ke]),ke}function Ge(Y){let{animateLayoutChanges:Ae=Zn,attributes:Ze,disabled:ge,data:Be,getNewIndex:ke=yr,id:et,strategy:wt,resizeObserverConfig:Vt,transition:nn=tr}=Y;const{items:un,containerId:Cn,activeIndex:dr,disabled:lr,disableTransforms:Mr,sortedRects:Er,overIndex:Wn,useDragOverlay:Nn,strategy:Nr}=(0,O.useContext)(jt),ti=gt(ge,lr),Or=un.indexOf(et),Jr=(0,O.useMemo)(()=>zt({sortable:{containerId:Cn,index:Or,items:un}},Be),[Cn,Be,Or,un]),zr=(0,O.useMemo)(()=>un.slice(un.indexOf(et)),[un,et]),{rect:gi,node:qr,isOver:Ii,setNodeRef:Ht}=(0,he.Zj)({id:et,data:Jr,disabled:ti.droppable,resizeObserverConfig:zt({updateMeasurementsFor:zr},Vt)}),{active:Gt,activatorEvent:on,activeNodeRect:an,attributes:fn,setNodeRef:ir,listeners:pn,isDragging:Tr,over:Jn,setActivatorNodeRef:ci,transform:Qr}=(0,he.O1)({id:et,data:Jr,attributes:zt(zt({},ur),Ze),disabled:ti.draggable}),Xn=(0,U.HB)(Ht,ir),On=!!Gt,si=On&&!Mr&&ye(dr)&&ye(Wn),Oi=!Nn&&Tr,qi=Oi&&si?Qr:null,Ti=wt!=null?wt:Nr,vr=si?qi!=null?qi:Ti({rects:Er,activeNodeRect:an,activeIndex:dr,overIndex:Wn,index:Or}):null,oi=ye(dr)&&ye(Wn)?ke({id:et,items:un,activeIndex:dr,overIndex:Wn}):Or,tt=Gt==null?void 0:Gt.id,Xt=(0,O.useRef)({activeId:tt,items:un,newIndex:oi,containerId:Cn}),Pn=un!==Xt.current.items,Dr=Ae({active:Gt,containerId:Cn,isDragging:Tr,isSorting:On,id:et,index:Or,items:un,newIndex:Xt.current.newIndex,previousItems:Xt.current.items,previousContainerId:Xt.current.containerId,transition:nn,wasDragging:Xt.current.activeId!=null}),Xr=qn({disabled:!Dr,index:Or,node:qr,rect:gi});return(0,O.useEffect)(()=>{On&&Xt.current.newIndex!==oi&&(Xt.current.newIndex=oi),Cn!==Xt.current.containerId&&(Xt.current.containerId=Cn),un!==Xt.current.items&&(Xt.current.items=un)},[On,oi,Cn,un]),(0,O.useEffect)(()=>{if(tt===Xt.current.activeId)return;if(tt&&!Xt.current.activeId){Xt.current.activeId=tt;return}const yi=setTimeout(()=>{Xt.current.activeId=tt},50);return()=>clearTimeout(yi)},[tt]),{active:Gt,activeIndex:dr,attributes:fn,data:Jr,rect:gi,index:Or,newIndex:oi,items:un,isOver:Ii,isSorting:On,isDragging:Tr,listeners:pn,node:qr,overIndex:Wn,over:Jn,setNodeRef:Xn,setActivatorNodeRef:ci,setDroppableNodeRef:Ht,setDraggableNodeRef:ir,transform:Xr!=null?Xr:vr,transition:Fi()};function Fi(){if(Xr||Pn&&Xt.current.newIndex===Or)return bn;if(!(Oi&&!(0,U.vd)(on)||!nn)&&(On||Dr))return U.ux.Transition.toString(_i(zt({},nn),{property:wn}))}}function gt(Y,Ae){var Ze,ge;return typeof Y=="boolean"?{draggable:Y,droppable:!1}:{draggable:(Ze=Y==null?void 0:Y.draggable)!=null?Ze:Ae.draggable,droppable:(ge=Y==null?void 0:Y.droppable)!=null?ge:Ae.droppable}}function be(Y){if(!Y)return!1;const Ae=Y.data.current;return!!(Ae&&"sortable"in Ae&&typeof Ae.sortable=="object"&&"containerId"in Ae.sortable&&"items"in Ae.sortable&&"index"in Ae.sortable)}const It=[he.g4.Down,he.g4.Right,he.g4.Up,he.g4.Left],Ke=(Y,Ae)=>{let{context:{active:Ze,collisionRect:ge,droppableRects:Be,droppableContainers:ke,over:et,scrollableAncestors:wt}}=Ae;if(It.includes(Y.code)){if(Y.preventDefault(),!Ze||!ge)return;const Vt=[];ke.getEnabled().forEach(Cn=>{if(!Cn||Cn!=null&&Cn.disabled)return;const dr=Be.get(Cn.id);if(dr)switch(Y.code){case he.g4.Down:ge.top<dr.top&&Vt.push(Cn);break;case he.g4.Up:ge.top>dr.top&&Vt.push(Cn);break;case he.g4.Left:ge.left>dr.left&&Vt.push(Cn);break;case he.g4.Right:ge.left<dr.left&&Vt.push(Cn);break}});const nn=(0,he.ey)({active:Ze,collisionRect:ge,droppableRects:Be,droppableContainers:Vt,pointerCoordinates:null});let un=(0,he._8)(nn,"id");if(un===(et==null?void 0:et.id)&&nn.length>1&&(un=nn[1].id),un!=null){const Cn=ke.get(Ze.id),dr=ke.get(un),lr=dr?Be.get(dr.id):null,Mr=dr==null?void 0:dr.node.current;if(Mr&&lr&&Cn&&dr){const Wn=(0,he.hI)(Mr).some((zr,gi)=>wt[gi]!==zr),Nn=We(Cn,dr),Nr=Ne(Cn,dr),ti=Wn||!Nn?{x:0,y:0}:{x:Nr?ge.width-lr.width:0,y:Nr?ge.height-lr.height:0},Or={x:lr.left,y:lr.top};return ti.x&&ti.y?Or:(0,U.$X)(Or,ti)}}}};function We(Y,Ae){return!be(Y)||!be(Ae)?!1:Y.data.current.sortable.containerId===Ae.data.current.sortable.containerId}function Ne(Y,Ae){return!be(Y)||!be(Ae)||!We(Y,Ae)?!1:Y.data.current.sortable.index<Ae.data.current.sortable.index}},84341:function(Jt,Qe,te){"use strict";te.d(Qe,{$X:function(){return Zn},D9:function(){return hn},DC:function(){return ur},Ey:function(){return Rt},FJ:function(){return rt},Gj:function(){return oe},HB:function(){return he},IH:function(){return yr},Jj:function(){return At},LI:function(){return ot},Ld:function(){return jt},Nq:function(){return U},Re:function(){return kt},UG:function(){return Ct},Yz:function(){return yt},qk:function(){return ye},r3:function(){return Re},so:function(){return gt},ux:function(){return qn},vZ:function(){return Ce},vd:function(){return wn},wm:function(){return rr},zX:function(){return _e}});var O=te(50959);function he(){for(var be=arguments.length,It=new Array(be),Ke=0;Ke<be;Ke++)It[Ke]=arguments[Ke];return(0,O.useMemo)(()=>We=>{It.forEach(Ne=>Ne(We))},It)}const U=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function rt(be){const It=Object.prototype.toString.call(be);return It==="[object Window]"||It==="[object global]"}function Ct(be){return"nodeType"in be}function At(be){var It,Ke;return be?rt(be)?be:Ct(be)&&(It=(Ke=be.ownerDocument)==null?void 0:Ke.defaultView)!=null?It:window:window}function ye(be){const{Document:It}=At(be);return be instanceof It}function kt(be){return rt(be)?!1:be instanceof At(be).HTMLElement}function Ce(be){return be instanceof At(be).SVGElement}function Re(be){return be?rt(be)?be.document:Ct(be)?ye(be)?be:kt(be)?be.ownerDocument:document:document:document}const ot=U?O.useLayoutEffect:O.useEffect;function _e(be){const It=(0,O.useRef)(be);return ot(()=>{It.current=be}),(0,O.useCallback)(function(){for(var Ke=arguments.length,We=new Array(Ke),Ne=0;Ne<Ke;Ne++)We[Ne]=arguments[Ne];return It.current==null?void 0:It.current(...We)},[])}function yt(){const be=(0,O.useRef)(null),It=(0,O.useCallback)((We,Ne)=>{be.current=setInterval(We,Ne)},[]),Ke=(0,O.useCallback)(()=>{be.current!==null&&(clearInterval(be.current),be.current=null)},[]);return[It,Ke]}function Rt(be,It){It===void 0&&(It=[be]);const Ke=(0,O.useRef)(be);return ot(()=>{Ke.current!==be&&(Ke.current=be)},It),Ke}function oe(be,It){const Ke=(0,O.useRef)();return(0,O.useMemo)(()=>{const We=be(Ke.current);return Ke.current=We,We},[...It])}function rr(be){const It=_e(be),Ke=(0,O.useRef)(null),We=(0,O.useCallback)(Ne=>{Ne!==Ke.current&&(It==null||It(Ne,Ke.current)),Ke.current=Ne},[]);return[Ke,We]}function hn(be){const It=(0,O.useRef)();return(0,O.useEffect)(()=>{It.current=be},[be]),It.current}let An={};function jt(be,It){return(0,O.useMemo)(()=>{if(It)return It;const Ke=An[be]==null?0:An[be]+1;return An[be]=Ke,be+"-"+Ke},[be,It])}function mn(be){return function(It){for(var Ke=arguments.length,We=new Array(Ke>1?Ke-1:0),Ne=1;Ne<Ke;Ne++)We[Ne-1]=arguments[Ne];return We.reduce((Y,Ae)=>{const Ze=Object.entries(Ae);for(const[ge,Be]of Ze){const ke=Y[ge];ke!=null&&(Y[ge]=ke+be*Be)}return Y},zt({},It))}}const yr=mn(1),Zn=mn(-1);function tr(be){return"clientX"in be&&"clientY"in be}function wn(be){if(!be)return!1;const{KeyboardEvent:It}=At(be.target);return It&&be instanceof It}function bn(be){if(!be)return!1;const{TouchEvent:It}=At(be.target);return It&&be instanceof It}function ur(be){if(bn(be)){if(be.touches&&be.touches.length){const{clientX:It,clientY:Ke}=be.touches[0];return{x:It,y:Ke}}else if(be.changedTouches&&be.changedTouches.length){const{clientX:It,clientY:Ke}=be.changedTouches[0];return{x:It,y:Ke}}}return tr(be)?{x:be.clientX,y:be.clientY}:null}const qn=Object.freeze({Translate:{toString(be){if(!be)return;const{x:It,y:Ke}=be;return"translate3d("+(It?Math.round(It):0)+"px, "+(Ke?Math.round(Ke):0)+"px, 0)"}},Scale:{toString(be){if(!be)return;const{scaleX:It,scaleY:Ke}=be;return"scaleX("+It+") scaleY("+Ke+")"}},Transform:{toString(be){if(be)return[qn.Translate.toString(be),qn.Scale.toString(be)].join(" ")}},Transition:{toString(be){let{property:It,duration:Ke,easing:We}=be;return It+" "+Ke+"ms "+We}}}),Ge="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function gt(be){return be.matches(Ge)?be:be.querySelector(Ge)}},46967:function(Jt,Qe,te){"use strict";te.d(Qe,{W:function(){return Ii}});var O=te(83445),he=te(46191),U=te(50959),rt=te(10422),Ct=te(42669);const At=Ht=>ye([Ht])[Ht],ye=Ht=>useStoreContext().useStore(({data:an})=>Ht.reduce((fn,ir)=>an[ir]&&"value"in an[ir]?Object.assign(fn,{[ir]:an[ir].value}):fn,{}),shallow),kt={Row:O.R,Label:O.L,Portal:O.P,Overlay:O.O,String:O.a8,Number:O.a9,Boolean:O.aa,Select:O.ab,Vector:O.a,InnerLabel:O.ac};var Ce=te(94440);function Re(Ht,Gt,on){return Gt in Ht?Object.defineProperty(Ht,Gt,{value:on,enumerable:!0,configurable:!0,writable:!0}):Ht[Gt]=on,Ht}function ot(Ht,Gt){var on=Object.keys(Ht);if(Object.getOwnPropertySymbols){var an=Object.getOwnPropertySymbols(Ht);Gt&&(an=an.filter(function(fn){return Object.getOwnPropertyDescriptor(Ht,fn).enumerable})),on.push.apply(on,an)}return on}function _e(Ht){for(var Gt=1;Gt<arguments.length;Gt++){var on=arguments[Gt]!=null?arguments[Gt]:{};Gt%2?ot(Object(on),!0).forEach(function(an){Re(Ht,an,on[an])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ht,Object.getOwnPropertyDescriptors(on)):ot(Object(on)).forEach(function(an){Object.defineProperty(Ht,an,Object.getOwnPropertyDescriptor(on,an))})}return Ht}function yt(){return yt=Object.assign||function(Ht){for(var Gt=1;Gt<arguments.length;Gt++){var on=arguments[Gt];for(var an in on)Object.prototype.hasOwnProperty.call(on,an)&&(Ht[an]=on[an])}return Ht},yt.apply(this,arguments)}const Rt=()=>(0,U.useCallback)((Ht,Gt)=>Gt*Ht,[]),oe=()=>(0,U.useCallback)((Ht,Gt)=>Ht/Gt,[]),rr=4,hn=.001,An=1e-7,jt=10,mn=11,yr=1/(mn-1),Zn=(Ht,Gt)=>1-3*Gt+3*Ht,tr=(Ht,Gt)=>3*Gt-6*Ht,wn=Ht=>3*Ht,bn=(Ht,Gt,on)=>((Zn(Gt,on)*Ht+tr(Gt,on))*Ht+wn(Gt))*Ht,ur=(Ht,Gt,on)=>3*Zn(Gt,on)*Ht*Ht+2*tr(Gt,on)*Ht+wn(Gt),qn=(Ht,Gt,on,an,fn)=>{let ir,pn,Tr=0;do pn=Gt+(on-Gt)/2,ir=bn(pn,an,fn)-Ht,ir>0?on=pn:Gt=pn;while(Math.abs(ir)>An&&++Tr<jt);return pn},Ge=(Ht,Gt,on,an)=>{for(let fn=0;fn<rr;++fn){const ir=ur(Gt,on,an);if(ir===0)return Gt;const pn=bn(Gt,on,an)-Ht;Gt-=pn/ir}return Gt},gt=Ht=>Ht,be=(Ht,Gt,on,an)=>{if(!(0<=Ht&&Ht<=1&&0<=on&&on<=1))throw new Error("bezier x values must be in [0, 1] range");if(Ht===Gt&&on===an)return gt;const fn=new Float32Array(mn);for(let pn=0;pn<mn;++pn)fn[pn]=bn(pn*yr,Ht,on);const ir=pn=>{let Tr=0,Jn=1,ci=mn-1;for(;Jn!==ci&&fn[Jn]<=pn;++Jn)Tr+=yr;--Jn;const Qr=(pn-fn[Jn])/(fn[Jn+1]-fn[Jn]),Xn=Tr+Qr*yr,On=ur(Xn,Ht,on);return On>=hn?Ge(pn,Xn,Ht,on):On===0?Xn:qn(pn,Tr,Tr+yr,Ht,on)};return pn=>pn===0||pn===1?pn:bn(ir(pn),Gt,an)},It=(0,O.s)("svg",{width:"100%",height:"$controlWidth",marginTop:"$rowGap",overflow:"visible",zIndex:100,"> path":{stroke:"$highlight3",strokeWidth:2},g:{color:"$accent1","&:hover":{color:"$accent3"},"&:active":{color:"$vivid1"}},circle:{fill:"currentColor",strokeWidth:10,stroke:"transparent",cursor:"pointer"},"> line":{stroke:"$highlight1",strokeWidth:2},"> g > line":{stroke:"currentColor"},variants:{withPreview:{true:{marginBottom:0},false:{marginBottom:"$rowGap"}}}}),Ke=Ht=>(0,O.ah)({"0%":{opacity:0},"10%":{opacity:.8},"100%":{opacity:Ht}}),We=(0,O.ah)({"0%":{transform:"translateX(5%)"},"100%":{transform:"translateX(95%)"}}),Ne=(0,O.s)("svg",{width:"100%",overflow:"visible",height:6,"> circle":{fill:"$vivid1",cy:"50%",animation:`${Ke(.3)} 1000ms both`,"&:first-of-type":{animationName:Ke(.7)},"&:last-of-type":{animationName:We}}}),Y=(0,O.s)("div",{userSelect:"none",$flexCenter:"",height:14,width:14,borderRadius:7,marginRight:"$sm",cursor:"pointer",fontSize:"0.8em",variants:{graph:{true:{backgroundColor:"$elevation1"}}}}),Ae=(0,O.s)("div",{display:"grid",gridTemplateColumns:"auto 1fr",alignItems:"center"}),Ze=4;function ge({sx:Ht,sy:Gt,cx:on,cy:an}){const fn=Math.atan2(an-Gt,on-Ht),ir=on-Ze*Math.cos(fn),pn=an-Ze*Math.sin(fn);return U.createElement("line",{x1:ir,y1:pn,x2:Ht,y2:Gt})}function Be({displayValue:Ht,onUpdate:Gt,withPreview:on}){const an=Rt(),fn=oe(),[ir,{width:pn,height:Tr}]=(0,Ce.Z)(),Jn=(0,U.useRef)(null),ci=(0,U.useRef)(null),Qr=(0,U.useRef)(null),Xn=(0,U.useRef)(),On=(0,O.e)(({xy:[yi,Qo],event:Ui,first:ki,memo:wi})=>{ki&&(Xn.current=Jn.current.getBoundingClientRect(),wi=[ci.current,Qr.current].indexOf(Ui.target),wi<0&&(wi=yi-Xn.current.left<pn/2?0:1),wi*=2);const go=yi-Xn.current.left,Pe=Qo-Xn.current.top;return Gt(I=>{const E=[...I];return E[wi]=fn(go,pn),E[wi+1]=1-fn(Pe,Tr),E}),wi}),{x1:si,y1:Oi,x2:qi,y2:Ti}=Ht,{sx:vr,sy:oi,ex:tt,ey:Xt,cx1:Pn,cy1:Dr,cx2:Xr,cy2:Fi}=(0,U.useMemo)(()=>({sx:an(0,pn),sy:an(1,Tr),ex:an(1,pn),ey:an(0,Tr),cx1:an(si,pn),cy1:an(1-Oi,Tr),cx2:an(qi,pn),cy2:an(1-Ti,Tr)}),[an,si,Oi,qi,Ti,pn,Tr]);return U.createElement(It,yt({ref:(0,O.af)([Jn,ir])},On(),{withPreview:on}),U.createElement("line",{x1:vr,y1:oi,x2:tt,y2:Xt}),U.createElement("path",{fill:"none",d:`M${vr},${oi} C${Pn},${Dr} ${Xr},${Fi} ${tt},${Xt}`,strokeLinecap:"round"}),U.createElement("g",null,U.createElement(ge,{sx:vr,sy:oi,cx:Pn,cy:Dr}),U.createElement("circle",{ref:ci,cx:Pn,cy:Dr,r:Ze})),U.createElement("g",null,U.createElement(ge,{sx:tt,sy:Xt,cx:Xr,cy:Fi}),U.createElement("circle",{ref:Qr,cx:Xr,cy:Fi,r:Ze})))}const ke=U.memo(({value:Ht})=>{const[,Gt]=(0,U.useReducer)(an=>an+1,0),on=Array(21).fill(0).map((an,fn)=>5+Ht.evaluate(fn/20)*90);return U.createElement(Ne,{onClick:Gt},on.map((an,fn)=>U.createElement("circle",{key:fn+Date.now(),r:3,cx:`${an}%`,style:{animationDelay:`${fn*50}ms`}})),U.createElement("circle",{key:Date.now()-1,r:3,style:{animationTimingFunction:`cubic-bezier(${Ht.join(",")})`,animationDuration:`${on.length*50}ms`}}))});function et({value:Ht}){const[Gt,on]=(0,U.useState)(Ht),an=(0,U.useMemo)(()=>(0,O.U)(fn=>on(fn),250),[]);return(0,U.useEffect)(()=>void an(Ht),[Ht,an]),U.createElement(ke,{value:Gt})}function wt(Ht,Gt){if(Ht==null)return{};var on={},an=Object.keys(Ht),fn,ir;for(ir=0;ir<an.length;ir++)fn=an[ir],!(Gt.indexOf(fn)>=0)&&(on[fn]=Ht[fn]);return on}function Vt(Ht,Gt){if(Ht==null)return{};var on=wt(Ht,Gt),an,fn;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(Ht);for(fn=0;fn<ir.length;fn++)an=ir[fn],!(Gt.indexOf(an)>=0)&&Object.prototype.propertyIsEnumerable.call(Ht,an)&&(on[an]=Ht[an])}return on}const nn=["handles"],un={min:0,max:1,step:.01},Cn={step:.01},dr={graph:!0,preview:!0},lr={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],"in-out-sine":[.45,.05,.55,.95],"in-out-quadratic":[.46,.03,.52,.96],"in-out-cubic":[.65,.05,.36,1],"fast-out-slow-in":[.4,0,.2,1],"in-out-back":[.68,-.55,.27,1.55]},Mr=(Ht=[.25,.1,.25,1])=>{let Gt=typeof Ht=="object"&&"handles"in Ht?Ht:{handles:Ht},{handles:on}=Gt,an=Vt(Gt,nn);on=typeof on=="string"?lr[on]:on;const fn={x1:un,y1:Cn,x2:un,y2:Cn},{value:ir,settings:pn}=(0,O.am)(on,fn,["x1","y1","x2","y2"]),Tr=ir;return Tr.evaluate=be(...ir),Tr.cssEasing=`cubic-bezier(${ir.join(",")})`,{value:Tr,settings:_e(_e(_e({},pn),dr),an)}},Er=(Ht,Gt,on)=>{const an=(0,O.ak)(Ht,Gt,on),fn=an;return fn.evaluate=be(...an),fn.cssEasing=`cubic-bezier(${an.join(",")})`,fn},{Label:Wn,Row:Nn,Vector:Nr,Select:ti}=kt,Or=["custom",...Object.keys(lr)],Jr=[!1,...Object.values(lr).map(Ht=>Ht.toString())],zr={keys:Or,values:Jr};function gi({value:Ht,onUpdate:Gt}){const on=(0,U.useMemo)(()=>Jr.find(pn=>pn===Ht.toString())||!1,[Ht]),an={type:"SELECT",value:on,settings:zr},fn=pn=>pn&&Gt(pn.split(",")),ir=(0,O.A)(_e(_e({},an),{},{setValue:fn}));return U.createElement(ti,{value:on,displayValue:ir.displayValue,onUpdate:ir.onUpdate,settings:zr})}function qr(){const{label:Ht,value:Gt,displayValue:on,settings:an,onUpdate:fn,setSettings:ir}=(0,O.u)(),{graph:pn,preview:Tr}=an;return U.createElement(U.Fragment,null,U.createElement(Nn,{input:!0},U.createElement(Wn,null,Ht),U.createElement(Ae,null,U.createElement(Y,{graph:pn,onClick:()=>ir({graph:!pn})},"\u{1D453}"),U.createElement(gi,{value:Gt,onUpdate:fn}))),pn&&U.createElement(Be,{displayValue:on,onUpdate:fn,withPreview:Tr}),Tr&&U.createElement(Nn,null,U.createElement(et,{value:Gt})),pn&&U.createElement(Nn,null,U.createElement(Nr,{value:on,settings:an,onUpdate:fn,innerLabelTrim:2})))}const Ii=(0,O.ag)({normalize:Mr,sanitize:Er,format:(Ht,Gt)=>(0,O.al)(Ht,Gt),component:qr})},961:function(Jt,Qe,te){"use strict";te.d(Qe,{AS7:function(){return Ef},EGi:function(){return Jr},L52:function(){return io},Nn4:function(){return Mf},QlJ:function(){return oa},RgI:function(){return d},TOI:function(){return Cs},VZf:function(){return Af},Wwj:function(){return D},dNJ:function(){return Va},dYt:function(){return Rf},h6i:function(){return wn},hNW:function(){return ft},rlr:function(){return fl},tK:function(){return nn},vfO:function(){return mu},zkR:function(){return b0}});var O=te(50959);function he(J,ae){if(J==null)return{};var q={},re=Object.keys(J),se,_u;for(_u=0;_u<re.length;_u++)se=re[_u],!(ae.indexOf(se)>=0)&&(q[se]=J[se]);return q}var U=null,rt=null,Ct=null,At=null,ye=null,kt=null,Ce=null,Re=null,ot=null,_e=null,yt=null,Rt=null,oe=null,rr=null,hn=null,An=null,jt=null,mn=null,yr=null,Zn=null,tr=["color"],wn=(0,O.forwardRef)(function(J,ae){var q=J.color,re=q===void 0?"currentColor":q,se=he(J,tr);return(0,O.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,O.createElement)("path",{d:"M8.8914 2.1937C9.1158 2.35464 9.16725 2.66701 9.00631 2.89141L2.47388 12H13.5C13.7761 12 14 12.2239 14 12.5C14 12.7762 13.7761 13 13.5 13H1.5C1.31254 13 1.14082 12.8952 1.0552 12.7284C0.969578 12.5616 0.984438 12.361 1.09369 12.2086L8.19369 2.30862C8.35462 2.08422 8.667 2.03277 8.8914 2.1937ZM11.1 6.50001C11.1 6.22387 11.3238 6.00001 11.6 6.00001C11.8761 6.00001 12.1 6.22387 12.1 6.50001C12.1 6.77615 11.8761 7.00001 11.6 7.00001C11.3238 7.00001 11.1 6.77615 11.1 6.50001ZM10.4 4.00001C10.1239 4.00001 9.90003 4.22387 9.90003 4.50001C9.90003 4.77615 10.1239 5.00001 10.4 5.00001C10.6762 5.00001 10.9 4.77615 10.9 4.50001C10.9 4.22387 10.6762 4.00001 10.4 4.00001ZM12.1 8.50001C12.1 8.22387 12.3238 8.00001 12.6 8.00001C12.8761 8.00001 13.1 8.22387 13.1 8.50001C13.1 8.77615 12.8761 9.00001 12.6 9.00001C12.3238 9.00001 12.1 8.77615 12.1 8.50001ZM13.4 10C13.1239 10 12.9 10.2239 12.9 10.5C12.9 10.7761 13.1239 11 13.4 11C13.6762 11 13.9 10.7761 13.9 10.5C13.9 10.2239 13.6762 10 13.4 10Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),bn=null,ur=null,qn=null,Ge=null,gt=null,be=null,It=null,Ke=null,We=null,Ne=null,Y=null,Ae=null,Ze=null,ge=null,Be=null,ke=null,et=null,wt=null,Vt=["color"],nn=(0,O.forwardRef)(function(J,ae){var q=J.color,re=q===void 0?"currentColor":q,se=he(J,Vt);return(0,O.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,O.createElement)("path",{d:"M2.5 2H12.5C12.7761 2 13 2.22386 13 2.5V12.5C13 12.7761 12.7761 13 12.5 13H2.5C2.22386 13 2 12.7761 2 12.5V2.5C2 2.22386 2.22386 2 2.5 2ZM1 2.5C1 1.67157 1.67157 1 2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5ZM7.5 4C7.77614 4 8 3.77614 8 3.5C8 3.22386 7.77614 3 7.5 3C7.22386 3 7 3.22386 7 3.5C7 3.77614 7.22386 4 7.5 4ZM8 5.5C8 5.77614 7.77614 6 7.5 6C7.22386 6 7 5.77614 7 5.5C7 5.22386 7.22386 5 7.5 5C7.77614 5 8 5.22386 8 5.5ZM7.5 8C7.77614 8 8 7.77614 8 7.5C8 7.22386 7.77614 7 7.5 7C7.22386 7 7 7.22386 7 7.5C7 7.77614 7.22386 8 7.5 8ZM10 7.5C10 7.77614 9.77614 8 9.5 8C9.22386 8 9 7.77614 9 7.5C9 7.22386 9.22386 7 9.5 7C9.77614 7 10 7.22386 10 7.5ZM11.5 8C11.7761 8 12 7.77614 12 7.5C12 7.22386 11.7761 7 11.5 7C11.2239 7 11 7.22386 11 7.5C11 7.77614 11.2239 8 11.5 8Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),un=null,Cn=null,dr=null,lr=null,Mr=null,Er=null,Wn=null,Nn=null,Nr=null,ti=null,Or=["color"],Jr=(0,O.forwardRef)(function(J,ae){var q=J.color,re=q===void 0?"currentColor":q,se=he(J,Or);return(0,O.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,O.createElement)("path",{d:"M3 9C3 6.5 4.5 4.25 7.5 1.5C10.5 4.25 12 6.5 12 9C12 11.4853 9.98528 13.5 7.5 13.5C5.01472 13.5 3 11.4853 3 9ZM10.9524 8.30307C9.67347 7.82121 8.2879 8.46208 6.98956 9.06259C5.9327 9.55142 4.93365 10.0135 4.09695 9.82153C4.03357 9.55804 4 9.28294 4 9C4 7.11203 5.02686 5.27195 7.5 2.87357C9.66837 4.97639 10.725 6.65004 10.9524 8.30307Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),zr=null,gi=null,qr=null,Ii=null,Ht=null,Gt=null,on=null,an=null,fn=null,ir=null,pn=null,Tr=null,Jn=null,ci=null,Qr=null,Xn=null,On=null,si=null,Oi=null,qi=null,Ti=null,vr=null,oi=null,tt=null,Xt=null,Pn=null,Dr=null,Xr=null,Fi=null,yi=null,Qo=null,Ui=null,ki=null,wi=null,go=null,Pe=null,I=null,E=null,P=null,ie=null,ce=null,He=null,pe=null,Se=null,de=null,Ue=null,Me=null,Ve=null,lt=null,ht=null,dt=null,$=null,K=null,X=null,W=null,ve=null,je=null,nt=null,Xe=null,$e=null,De=null,qe=null,ut=null,it=null,bt=null,qt=null,gn=null,or=null,Qn=null,Gn=null,cr=null,Di=null,Si=null,_o=null,ps=null,Lo=null,ao=null,vs=null,Po=null,ls=null,Ps=["color"],Va=(0,O.forwardRef)(function(J,ae){var q=J.color,re=q===void 0?"currentColor":q,se=he(J,Ps);return(0,O.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,O.createElement)("path",{d:"M9.96424 2.68571C10.0668 2.42931 9.94209 2.13833 9.6857 2.03577C9.4293 1.93322 9.13832 2.05792 9.03576 2.31432L5.03576 12.3143C4.9332 12.5707 5.05791 12.8617 5.3143 12.9642C5.5707 13.0668 5.86168 12.9421 5.96424 12.6857L9.96424 2.68571ZM3.85355 5.14646C4.04882 5.34172 4.04882 5.6583 3.85355 5.85356L2.20711 7.50001L3.85355 9.14646C4.04882 9.34172 4.04882 9.6583 3.85355 9.85356C3.65829 10.0488 3.34171 10.0488 3.14645 9.85356L1.14645 7.85356C0.951184 7.6583 0.951184 7.34172 1.14645 7.14646L3.14645 5.14646C3.34171 4.9512 3.65829 4.9512 3.85355 5.14646ZM11.1464 5.14646C11.3417 4.9512 11.6583 4.9512 11.8536 5.14646L13.8536 7.14646C14.0488 7.34172 14.0488 7.6583 13.8536 7.85356L11.8536 9.85356C11.6583 10.0488 11.3417 10.0488 11.1464 9.85356C10.9512 9.6583 10.9512 9.34172 11.1464 9.14646L12.7929 7.50001L11.1464 5.85356C10.9512 5.6583 10.9512 5.34172 11.1464 5.14646Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),Ea=null,Vs=null,zi=["color"],Cs=(0,O.forwardRef)(function(J,ae){var q=J.color,re=q===void 0?"currentColor":q,se=he(J,zi);return(0,O.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,O.createElement)("path",{d:"M0.877075 7.49985C0.877075 3.84216 3.84222 0.877014 7.49991 0.877014C11.1576 0.877014 14.1227 3.84216 14.1227 7.49985C14.1227 11.1575 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1575 0.877075 7.49985ZM3.78135 3.21565C4.68298 2.43239 5.83429 1.92904 7.09998 1.84089V6.53429L3.78135 3.21565ZM3.21567 3.78134C2.43242 4.68298 1.92909 5.83428 1.84095 7.09997H6.5343L3.21567 3.78134ZM6.5343 7.89997H1.84097C1.92916 9.16562 2.43253 10.3169 3.21579 11.2185L6.5343 7.89997ZM3.78149 11.7842C4.6831 12.5673 5.83435 13.0707 7.09998 13.1588V8.46566L3.78149 11.7842ZM7.89998 8.46566V13.1588C9.16559 13.0706 10.3168 12.5673 11.2184 11.7841L7.89998 8.46566ZM11.7841 11.2184C12.5673 10.3168 13.0707 9.16558 13.1588 7.89997H8.46567L11.7841 11.2184ZM8.46567 7.09997H13.1589C13.0707 5.83432 12.5674 4.68305 11.7842 3.78143L8.46567 7.09997ZM11.2185 3.21573C10.3169 2.43246 9.16565 1.92909 7.89998 1.8409V6.53429L11.2185 3.21573Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),ea=null,Ci=null,Ys=null,_a=null,Ko=null,la=null,Ks=null,xo=null,p=null,g=null,w=["color"],D=(0,O.forwardRef)(function(J,ae){var q=J.color,re=q===void 0?"currentColor":q,se=he(J,w);return(0,O.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,O.createElement)("path",{d:"M7.85367 1.48956C7.65841 1.29429 7.34182 1.29429 7.14656 1.48956L1.48971 7.14641C1.29445 7.34167 1.29445 7.65825 1.48971 7.85352L7.14656 13.5104C7.34182 13.7056 7.65841 13.7056 7.85367 13.5104L13.5105 7.85352C13.7058 7.65825 13.7058 7.34167 13.5105 7.14641L7.85367 1.48956ZM7.5 2.55033L2.55037 7.49996L7.5 12.4496V2.55033Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),ee=null,ne=null,T=null,V=null,M=null,H=null,Q=null,Te=null,mt=null,St=null,Ut=null,vt=null,$t=null,Un=null,ln=null,Pt=null,Dn=null,Ln=null,zn=null,xn=null,rn=null,$n=null,Ar=null,Kn=null,Sr=null,di=null,ni=null,Ri=null,Hi=null,Cr=null,Yi=null,uo=null,ko=null,Eo=null,vo=null,qo=null,Uo=null,$o=null,Bi=null,Fs=null,Is=null,n1=null,rs=null,ta=null,Os=null,Fa=null,Oo=null,_s=null,es=null,Ki=null,xa=null,Nt=null,No=null,ka=null,Ya=null,Ds=null,is=null,lo=null,cs=null,we=null,Ta=null,ya=null,Aa=null,Js=null,U1=null,Ua=null,yo=null,wa=null,ba=null,zs=null,Wi=null,os=null,pr=null,Pa=null,wo=null,Io=null,us=null,to=null,hi=null,Do=null,fs=null,Ma=null,Hs=null,bo=null,$a=null,xs=null,ks=null,Us=null,Zo=null,ui=null,fo=null,ts=null,N=null,le=null,Ye=null,Mt=null,Ft=null,Tt=null,Hn=null,Rn=null,sr=null,kn=null,Vn=null,Fn=null,ro=null,$r=null,Zr=null,pi=null,$i=null,Mo=null,ho=null,Wo=null,Yr=null,no=null,Jo=["color"],io=(0,O.forwardRef)(function(J,ae){var q=J.color,re=q===void 0?"currentColor":q,se=he(J,Jo);return(0,O.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,O.createElement)("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),ss=null,ys=null,Sa=null,jo=null,To=null,ws=null,Ao=null,oo=null,ca=null,Za=null,bs=null,$s=null,Ll=null,x1=null,El=null,Sc=null,Rc=null,ol=null,sl=null,iu=null,Lc=null,So=null,Ia=null,Ka=null,ql=null,d1=null,A1=null,h1=null,Ql=null,ec=null,Ja=null,Tl=null,na=null,al=null,Ms=null,ll=null,qa=null,p1=null,Zs=null,Br=null,ua=null,Ss=null,po=null,cl=null,Go=null,Ec=null,ou=null,tc=null,Al=null,nc=null,rc=null,Pl=null,Tc=null,kr=null,ul=null,ic=null,fa=["color"],fl=(0,O.forwardRef)(function(J,ae){var q=J.color,re=q===void 0?"currentColor":q,se=he(J,fa);return(0,O.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,O.createElement)("path",{d:"M12.3536 13.3536C12.1583 13.5488 11.8417 13.5488 11.6465 13.3536L6.39645 8.10355C6.36478 8.07188 6.33824 8.03702 6.31685 8H5.00002C4.78719 8 4.59769 7.86528 4.52777 7.66426L2.12777 0.764277C2.05268 0.548387 2.13355 0.309061 2.3242 0.182972C2.51486 0.0568819 2.76674 0.0761337 2.93602 0.229734L8.336 5.12972C8.44044 5.22449 8.50001 5.35897 8.50001 5.5V5.81684C8.53702 5.83824 8.57189 5.86478 8.60356 5.89645L13.8536 11.1464C14.0488 11.3417 14.0488 11.6583 13.8536 11.8536L12.3536 13.3536ZM8.25 6.95711L7.45711 7.75L12 12.2929L12.7929 11.5L8.25 6.95711ZM3.71669 2.28845L5.35549 7H6.2929L7.50001 5.79289V5.72146L3.71669 2.28845Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),P1=null,ra=null,I1=null,Rs=null,Ji=null,Qa=null,Wa=null,dl=null,$1=null,r1=null,hl=null,gr=null,Z1=null,y1=null,W1=null,pl=null,i1=null,e1=null,Ai=null,Ls=null,Ac=null,ml=null,m1=null,O1=null,ia=null,Pc=null,oc=null,sc=null,D1=null,gl=null,o1=null,j1=null,Ws=null,g1=null,z1=null,s1=null,v1=null,Oa=null,G1=null,Il=null,Ol=null,ja=null,w1=null,X1=null,Y1=null,Ic=null,Oc=null,vl=null,Dl=null,ac=null,ds=null,Qi=null,Es=null,Ts=null,qs=null,Bs=null,K1=null,Ns=null,Cl=null,J1=null,zl=null,lc=null,_l=null,da=null,cc=null,uc=null,q1=null,Hl=null,fc=null,b1=null,Bl=null,M1=null,Nl=null,xl=null,Vl=null,Fl=null,kl=null,ha=null,H1=null,Ga=null,Ul=null,Ra=null,Dc=null,yl=null,$l=null,su=null,S1=null,t1=null,wl=null,Q1=null,Xa=null,dc=null,hc=["color"],oa=(0,O.forwardRef)(function(J,ae){var q=J.color,re=q===void 0?"currentColor":q,se=he(J,hc);return(0,O.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,O.createElement)("path",{d:"M7.5 1.5C4.5 4.25 3 6.5 3 9C3 11.4853 5.01472 13.5 7.5 13.5C9.98528 13.5 12 11.4853 12 9C12 6.5 10.5 4.25 7.5 1.5ZM11 9C11 7.11203 9.97315 5.27195 7.5 2.87357C5.02686 5.27195 4 7.11203 4 9C4 10.933 5.567 12.5 7.5 12.5C9.433 12.5 11 10.933 11 9Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),Zl=null,au=null,lu=null,pc=null,zc=null,R1=null,cu=null,B1=null,a1=null,La=null,uu=null,Hc=null,Wl=null,fu=null,mc=null,gc=null,Bc=null,Da=null,vc=null,du=null,C1=["color"],d=(0,O.forwardRef)(function(J,ae){var q=J.color,re=q===void 0?"currentColor":q,se=he(J,C1);return(0,O.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,O.createElement)("path",{d:"M13.5 13.95C13.7485 13.95 13.95 13.7485 13.95 13.5C13.95 13.2514 13.7485 13.05 13.5 13.05L1.49995 13.05C1.25142 13.05 1.04995 13.2514 1.04995 13.5C1.04995 13.7485 1.25142 13.95 1.49995 13.95L13.5 13.95ZM11.0681 7.5683C11.2439 7.39257 11.2439 7.10764 11.0681 6.93191C10.8924 6.75617 10.6075 6.75617 10.4317 6.93191L7.94993 9.41371L7.94993 1.49998C7.94993 1.25146 7.74846 1.04998 7.49993 1.04998C7.2514 1.04998 7.04993 1.25146 7.04993 1.49998L7.04993 9.41371L4.56813 6.93191C4.39239 6.75617 4.10746 6.75617 3.93173 6.93191C3.75599 7.10764 3.75599 7.39257 3.93173 7.5683L7.18173 10.8183C7.35746 10.994 7.64239 10.994 7.81812 10.8183L11.0681 7.5683Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),b=null,z=null,F=null,fe=null,Oe=["color"],ft=(0,O.forwardRef)(function(J,ae){var q=J.color,re=q===void 0?"currentColor":q,se=he(J,Oe);return(0,O.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,O.createElement)("path",{d:"M1.50005 1.05005C1.25152 1.05005 1.05005 1.25152 1.05005 1.50005C1.05005 1.74858 1.25152 1.95005 1.50005 1.95005L13.5 1.95005C13.7486 1.95005 13.95 1.74858 13.95 1.50005C13.95 1.25152 13.7486 1.05005 13.5 1.05005H1.50005ZM3.93188 7.43169C3.75614 7.60743 3.75614 7.89236 3.93188 8.06809C4.10761 8.24383 4.39254 8.24383 4.56827 8.06809L7.05007 5.58629V13.5C7.05007 13.7485 7.25155 13.95 7.50007 13.95C7.7486 13.95 7.95007 13.7485 7.95007 13.5L7.95007 5.58629L10.4319 8.06809C10.6076 8.24383 10.8925 8.24383 11.0683 8.06809C11.244 7.89235 11.244 7.60743 11.0683 7.43169L7.81827 4.18169C7.64254 4.00596 7.35761 4.00596 7.18188 4.18169L3.93188 7.43169Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),Wt=null,Qt=null,vn=null,yn=null,hr=null,In=null,i=null,s=null,u=null,m=null,x=null,A=null,ue=null,Fe=null,ct=null,Yt=null,En=null,wr=null,Pr=null,Kr=null,br=null,Vo=null,as=null,_t=null,at=null,Et=null,mr=null,Ur=null,Li=null,ri=null,Ni=null,ms=null,mo=null,pa=null,el=null,N1=null,Cc=null,hu=null,tl=null,co=null,hs=null,_1=null,pu=["color"],mu=(0,O.forwardRef)(function(J,ae){var q=J.color,re=q===void 0?"currentColor":q,se=he(J,pu);return(0,O.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,O.createElement)("path",{opacity:".05",d:"M6.78296 13.376C8.73904 9.95284 8.73904 5.04719 6.78296 1.62405L7.21708 1.37598C9.261 4.95283 9.261 10.0472 7.21708 13.624L6.78296 13.376Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,O.createElement)("path",{opacity:".1",d:"M7.28204 13.4775C9.23929 9.99523 9.23929 5.00475 7.28204 1.52248L7.71791 1.2775C9.76067 4.9119 9.76067 10.0881 7.71791 13.7225L7.28204 13.4775Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,O.createElement)("path",{opacity:".15",d:"M7.82098 13.5064C9.72502 9.99523 9.72636 5.01411 7.82492 1.50084L8.26465 1.26285C10.2465 4.92466 10.2451 10.085 8.26052 13.7448L7.82098 13.5064Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,O.createElement)("path",{opacity:".2",d:"M8.41284 13.429C10.1952 9.92842 10.1957 5.07537 8.41435 1.57402L8.85999 1.34729C10.7139 4.99113 10.7133 10.0128 8.85841 13.6559L8.41284 13.429Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,O.createElement)("path",{opacity:".25",d:"M9.02441 13.2956C10.6567 9.8379 10.6586 5.17715 9.03005 1.71656L9.48245 1.50366C11.1745 5.09919 11.1726 9.91629 9.47657 13.5091L9.02441 13.2956Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,O.createElement)("path",{opacity:".3",d:"M9.66809 13.0655C11.1097 9.69572 11.1107 5.3121 9.67088 1.94095L10.1307 1.74457C11.6241 5.24121 11.6231 9.76683 10.1278 13.2622L9.66809 13.0655Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,O.createElement)("path",{opacity:".35",d:"M10.331 12.7456C11.5551 9.52073 11.5564 5.49103 10.3347 2.26444L10.8024 2.0874C12.0672 5.42815 12.0659 9.58394 10.7985 12.9231L10.331 12.7456Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,O.createElement)("path",{opacity:".4",d:"M11.0155 12.2986C11.9938 9.29744 11.9948 5.71296 11.0184 2.71067L11.4939 2.55603C12.503 5.6589 12.502 9.35178 11.4909 12.4535L11.0155 12.2986Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,O.createElement)("path",{opacity:".45",d:"M11.7214 11.668C12.4254 9.01303 12.4262 5.99691 11.7237 3.34116L12.2071 3.21329C12.9318 5.95292 12.931 9.05728 12.2047 11.7961L11.7214 11.668Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,O.createElement)("path",{opacity:".5",d:"M12.4432 10.752C12.8524 8.63762 12.8523 6.36089 12.4429 4.2466L12.9338 4.15155C13.3553 6.32861 13.3554 8.66985 12.9341 10.847L12.4432 10.752Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}),(0,O.createElement)("path",{d:"M0.877075 7.49988C0.877075 3.84219 3.84222 0.877045 7.49991 0.877045C11.1576 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1575 0.877075 7.49988ZM7.49991 1.82704C4.36689 1.82704 1.82708 4.36686 1.82708 7.49988C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49988C13.1727 4.36686 10.6329 1.82704 7.49991 1.82704Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),Nc=null,nf=null,rf=null,of=null,sf=null,Iu=null,nl=null,af=null,gu=null,h0=null,p0=null,Ou=null,m0=null,js=null,g0=null,v0=null,zh=null,Hh=null,Bh=null,Nh=null,Vh=null,Fh=null,so=null,Rr=null,V1=null,Du=null,E2=null,T2=null,A2=null,P2=null,I2=null,O2=null,zu=null,Vc=null,lf=null,_c=null,C0=null,cf=null,_0=null,xc=null,Fc=null,uf=null,x0=null,D2=null,ff=null,Hu=null,z2=null,df=null,hf=null,y0=null,H2=null,B2=null,N2=null,V2=null,F2=null,k2=null,U2=null,$2=null,Z2=null,pf=null,mf=null,gf=null,vf=null,Cf=null,_f=null,xf=null,yf=null,wf=null,kc=null,ma=null,ga=null,Bu=null,W2=null,j2=null,G2=null,X2=null,Y2=null,K2=null,J2=null,q2=null,Q2=null,ed=null,td=null,nd=null,rd=null,id=null,od=null,sd=null,ad=null,ld=null,cd=null,ud=null,fd=null,dd=null,bf=["color"],Mf=(0,O.forwardRef)(function(J,ae){var q=J.color,re=q===void 0?"currentColor":q,se=he(J,bf);return(0,O.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,O.createElement)("path",{d:"M4.5 2C3.11929 2 2 3.11929 2 4.5C2 5.88072 3.11929 7 4.5 7C5.88072 7 7 5.88072 7 4.5C7 3.11929 5.88072 2 4.5 2ZM3 4.5C3 3.67157 3.67157 3 4.5 3C5.32843 3 6 3.67157 6 4.5C6 5.32843 5.32843 6 4.5 6C3.67157 6 3 5.32843 3 4.5ZM10.5 2C9.11929 2 8 3.11929 8 4.5C8 5.88072 9.11929 7 10.5 7C11.8807 7 13 5.88072 13 4.5C13 3.11929 11.8807 2 10.5 2ZM9 4.5C9 3.67157 9.67157 3 10.5 3C11.3284 3 12 3.67157 12 4.5C12 5.32843 11.3284 6 10.5 6C9.67157 6 9 5.32843 9 4.5ZM2 10.5C2 9.11929 3.11929 8 4.5 8C5.88072 8 7 9.11929 7 10.5C7 11.8807 5.88072 13 4.5 13C3.11929 13 2 11.8807 2 10.5ZM4.5 9C3.67157 9 3 9.67157 3 10.5C3 11.3284 3.67157 12 4.5 12C5.32843 12 6 11.3284 6 10.5C6 9.67157 5.32843 9 4.5 9ZM10.5 8C9.11929 8 8 9.11929 8 10.5C8 11.8807 9.11929 13 10.5 13C11.8807 13 13 11.8807 13 10.5C13 9.11929 11.8807 8 10.5 8ZM9 10.5C9 9.67157 9.67157 9 10.5 9C11.3284 9 12 9.67157 12 10.5C12 11.3284 11.3284 12 10.5 12C9.67157 12 9 11.3284 9 10.5Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),hd=null,pd=null,md=null,gd=null,Sf=["color"],Rf=(0,O.forwardRef)(function(J,ae){var q=J.color,re=q===void 0?"currentColor":q,se=he(J,Sf);return(0,O.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,O.createElement)("path",{d:"M0.849976 1.74998C0.849976 1.25292 1.25292 0.849976 1.74998 0.849976H3.24998C3.74703 0.849976 4.14998 1.25292 4.14998 1.74998V2.04998H10.85V1.74998C10.85 1.25292 11.2529 0.849976 11.75 0.849976H13.25C13.747 0.849976 14.15 1.25292 14.15 1.74998V3.24998C14.15 3.74703 13.747 4.14998 13.25 4.14998H12.95V10.85H13.25C13.747 10.85 14.15 11.2529 14.15 11.75V13.25C14.15 13.747 13.747 14.15 13.25 14.15H11.75C11.2529 14.15 10.85 13.747 10.85 13.25V12.95H4.14998V13.25C4.14998 13.747 3.74703 14.15 3.24998 14.15H1.74998C1.25292 14.15 0.849976 13.747 0.849976 13.25V11.75C0.849976 11.2529 1.25292 10.85 1.74998 10.85H2.04998V4.14998H1.74998C1.25292 4.14998 0.849976 3.74703 0.849976 3.24998V1.74998ZM2.94998 4.14998V10.85H3.24998C3.74703 10.85 4.14998 11.2529 4.14998 11.75V12.05H10.85V11.75C10.85 11.2529 11.2529 10.85 11.75 10.85H12.05V4.14998H11.75C11.2529 4.14998 10.85 3.74703 10.85 3.24998V2.94998H4.14998V3.24998C4.14998 3.74703 3.74703 4.14998 3.24998 4.14998H2.94998ZM2.34998 1.74998H1.74998V2.34998V2.64998V3.24998H2.34998H2.64998H3.24998V2.64998V2.34998V1.74998H2.64998H2.34998ZM5.09998 5.99998C5.09998 5.50292 5.50292 5.09998 5.99998 5.09998H6.99998C7.49703 5.09998 7.89998 5.50292 7.89998 5.99998V6.99998C7.89998 7.03591 7.89787 7.07134 7.89378 7.10618C7.92861 7.10208 7.96405 7.09998 7.99998 7.09998H8.99998C9.49703 7.09998 9.89998 7.50292 9.89998 7.99998V8.99998C9.89998 9.49703 9.49703 9.89998 8.99998 9.89998H7.99998C7.50292 9.89998 7.09998 9.49703 7.09998 8.99998V7.99998C7.09998 7.96405 7.10208 7.92861 7.10618 7.89378C7.07134 7.89787 7.03591 7.89998 6.99998 7.89998H5.99998C5.50292 7.89998 5.09998 7.49703 5.09998 6.99998V5.99998ZM6.09998 5.99998H5.99998V6.09998V6.89998V6.99998H6.09998H6.89998H6.99998V6.89998V6.09998V5.99998H6.89998H6.09998ZM7.99998 7.99998H8.09998H8.89998H8.99998V8.09998V8.89998V8.99998H8.89998H8.09998H7.99998V8.89998V8.09998V7.99998ZM2.64998 11.75H2.34998H1.74998V12.35V12.65V13.25H2.34998H2.64998H3.24998V12.65V12.35V11.75H2.64998ZM11.75 1.74998H12.35H12.65H13.25V2.34998V2.64998V3.24998H12.65H12.35H11.75V2.64998V2.34998V1.74998ZM12.65 11.75H12.35H11.75V12.35V12.65V13.25H12.35H12.65H13.25V12.65V12.35V11.75H12.65Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),vd=null,Cd=null,_d=null,xd=null,Lf=["color"],Ef=(0,O.forwardRef)(function(J,ae){var q=J.color,re=q===void 0?"currentColor":q,se=he(J,Lf);return(0,O.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,O.createElement)("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:re}))}),yd=null,wd=null,Tf=["color"],Af=(0,O.forwardRef)(function(J,ae){var q=J.color,re=q===void 0?"currentColor":q,se=he(J,Tf);return(0,O.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,O.createElement)("path",{d:"M6 11L6 4L10.5 7.5L6 11Z",fill:re}))}),bd=null,Md=null,Sd=null,w0=null,Pf=null,Rd=null,vu=["color"],b0=(0,O.forwardRef)(function(J,ae){var q=J.color,re=q===void 0?"currentColor":q,se=he(J,vu);return(0,O.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se,{ref:ae}),(0,O.createElement)("path",{d:"M1.90321 7.29677C1.90321 10.341 4.11041 12.4147 6.58893 12.8439C6.87255 12.893 7.06266 13.1627 7.01355 13.4464C6.96444 13.73 6.69471 13.9201 6.41109 13.871C3.49942 13.3668 0.86084 10.9127 0.86084 7.29677C0.860839 5.76009 1.55996 4.55245 2.37639 3.63377C2.96124 2.97568 3.63034 2.44135 4.16846 2.03202L2.53205 2.03202C2.25591 2.03202 2.03205 1.80816 2.03205 1.53202C2.03205 1.25588 2.25591 1.03202 2.53205 1.03202L5.53205 1.03202C5.80819 1.03202 6.03205 1.25588 6.03205 1.53202L6.03205 4.53202C6.03205 4.80816 5.80819 5.03202 5.53205 5.03202C5.25591 5.03202 5.03205 4.80816 5.03205 4.53202L5.03205 2.68645L5.03054 2.68759L5.03045 2.68766L5.03044 2.68767L5.03043 2.68767C4.45896 3.11868 3.76059 3.64538 3.15554 4.3262C2.44102 5.13021 1.90321 6.10154 1.90321 7.29677ZM13.0109 7.70321C13.0109 4.69115 10.8505 2.6296 8.40384 2.17029C8.12093 2.11718 7.93465 1.84479 7.98776 1.56188C8.04087 1.27898 8.31326 1.0927 8.59616 1.14581C11.4704 1.68541 14.0532 4.12605 14.0532 7.70321C14.0532 9.23988 13.3541 10.4475 12.5377 11.3662C11.9528 12.0243 11.2837 12.5586 10.7456 12.968L12.3821 12.968C12.6582 12.968 12.8821 13.1918 12.8821 13.468C12.8821 13.7441 12.6582 13.968 12.3821 13.968L9.38205 13.968C9.10591 13.968 8.88205 13.7441 8.88205 13.468L8.88205 10.468C8.88205 10.1918 9.10591 9.96796 9.38205 9.96796C9.65819 9.96796 9.88205 10.1918 9.88205 10.468L9.88205 12.3135L9.88362 12.3123C10.4551 11.8813 11.1535 11.3546 11.7585 10.6738C12.4731 9.86976 13.0109 8.89844 13.0109 7.70321Z",fill:re,fillRule:"evenodd",clipRule:"evenodd"}))}),Ld=null,Ed=null,Td=null,If=null,Ad=null,Pd=null,Id=null,Od=null,Dd=null,Cu=null,Of=null,Df=null,zd=null,M0=null,Hd=null,Bd=null,zf=null,Nd=null,Hf=null,Vd=null,Fd=null,kd=null,Ud=null,$d=null},56045:function(Jt,Qe,te){"use strict";te.d(Qe,{M:function(){return rt}});var O=te(47622),he=te(75411),U=te(50959);const rt=U.forwardRef(function(Zn,yr){var tr=Zn,{children:At,disable:ye,disableX:kt,disableY:Ce,disableZ:Re,left:ot,right:_e,top:yt,bottom:Rt,front:oe,back:rr,onCentered:hn,precise:An=!0,cacheKey:jt=0}=tr,mn=Na(tr,["children","disable","disableX","disableY","disableZ","left","right","top","bottom","front","back","onCentered","precise","cacheKey"]);const wn=U.useRef(null),bn=U.useRef(null),ur=U.useRef(null);return U.useLayoutEffect(()=>{bn.current.matrixWorld.identity();const qn=new he.Box3().setFromObject(ur.current,An),Ge=new he.Vector3,gt=new he.Sphere,be=qn.max.x-qn.min.x,It=qn.max.y-qn.min.y,Ke=qn.max.z-qn.min.z;qn.getCenter(Ge),qn.getBoundingSphere(gt);const We=yt?It/2:Rt?-It/2:0,Ne=ot?-be/2:_e?be/2:0,Y=oe?Ke/2:rr?-Ke/2:0;bn.current.position.set(ye||kt?0:-Ge.x+Ne,ye||Ce?0:-Ge.y+We,ye||Re?0:-Ge.z+Y),typeof hn!="undefined"&&hn({parent:wn.current.parent,container:wn.current,width:be,height:It,depth:Ke,boundingBox:qn,boundingSphere:gt,center:Ge,verticalAlignment:We,horizontalAlignment:Ne,depthAlignment:Y})},[jt,hn,yt,ot,oe,ye,kt,Ce,Re,An,_e,Rt,rr]),U.useImperativeHandle(yr,()=>wn.current,[]),U.createElement("group",(0,O.Z)({ref:wn},mn),U.createElement("group",{ref:bn},U.createElement("group",{ref:ur},At)))})},49482:function(Jt,Qe,te){"use strict";te.d(Qe,{qA:function(){return xo}});var O=te(47622),he=te(50959),U=te(47266),rt=te(75411);const Ct=p=>p&&p.isCubeTexture;class At extends rt.Mesh{constructor(g,w){var D,ee;const ne=Ct(g),V=((ee=ne?(D=g.image[0])==null?void 0:D.width:g.image.width)!=null?ee:1024)/4,M=Math.floor(Math.log2(V)),H=Math.pow(2,M),Q=3*Math.max(H,16*7),Te=4*H,mt=[ne?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/Q}`,`#define CUBEUV_TEXEL_HEIGHT ${1/Te}`,`#define CUBEUV_MAX_MIP ${M}.0`],St=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,Ut=mt.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(rt.REVISION.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,vt={map:{value:g},height:{value:(w==null?void 0:w.height)||15},radius:{value:(w==null?void 0:w.radius)||100}},$t=new rt.IcosahedronGeometry(1,16),Un=new rt.ShaderMaterial({uniforms:vt,fragmentShader:Ut,vertexShader:St,side:rt.DoubleSide});super($t,Un)}set radius(g){this.material.uniforms.radius.value=g}get radius(){return this.material.uniforms.radius.value}set height(g){this.material.uniforms.height.value=g}get height(){return this.material.uniforms.height.value}}class ye extends rt.DataTextureLoader{constructor(g){super(g),this.type=rt.HalfFloatType}parse(g){const V=function(Pt,Dn){switch(Pt){case 1:console.error("THREE.RGBELoader Read Error: "+(Dn||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(Dn||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(Dn||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(Dn||""))}return-1},Te=`
`,mt=function(Pt,Dn,Ln){Dn=Dn||1024;let xn=Pt.pos,rn=-1,$n=0,Ar="",Kn=String.fromCharCode.apply(null,new Uint16Array(Pt.subarray(xn,xn+128)));for(;0>(rn=Kn.indexOf(Te))&&$n<Dn&&xn<Pt.byteLength;)Ar+=Kn,$n+=Kn.length,xn+=128,Kn+=String.fromCharCode.apply(null,new Uint16Array(Pt.subarray(xn,xn+128)));return-1<rn?(Ln!==!1&&(Pt.pos+=$n+rn+1),Ar+Kn.slice(0,rn)):!1},St=function(Pt){const Dn=/^#\?(\S+)/,Ln=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,zn=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,xn=/^\s*FORMAT=(\S+)\s*$/,rn=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,$n={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let Ar,Kn;if(Pt.pos>=Pt.byteLength||!(Ar=mt(Pt)))return V(1,"no header found");if(!(Kn=Ar.match(Dn)))return V(3,"bad initial token");for($n.valid|=1,$n.programtype=Kn[1],$n.string+=Ar+`
`;Ar=mt(Pt),Ar!==!1;){if($n.string+=Ar+`
`,Ar.charAt(0)==="#"){$n.comments+=Ar+`
`;continue}if((Kn=Ar.match(Ln))&&($n.gamma=parseFloat(Kn[1])),(Kn=Ar.match(zn))&&($n.exposure=parseFloat(Kn[1])),(Kn=Ar.match(xn))&&($n.valid|=2,$n.format=Kn[1]),(Kn=Ar.match(rn))&&($n.valid|=4,$n.height=parseInt(Kn[1],10),$n.width=parseInt(Kn[2],10)),$n.valid&2&&$n.valid&4)break}return $n.valid&2?$n.valid&4?$n:V(3,"missing image size specifier"):V(3,"missing format specifier")},Ut=function(Pt,Dn,Ln){const zn=Dn;if(zn<8||zn>32767||Pt[0]!==2||Pt[1]!==2||Pt[2]&128)return new Uint8Array(Pt);if(zn!==(Pt[2]<<8|Pt[3]))return V(3,"wrong scanline width");const xn=new Uint8Array(4*Dn*Ln);if(!xn.length)return V(4,"unable to allocate buffer space");let rn=0,$n=0;const Ar=4*zn,Kn=new Uint8Array(4),Sr=new Uint8Array(Ar);let di=Ln;for(;di>0&&$n<Pt.byteLength;){if($n+4>Pt.byteLength)return V(1);if(Kn[0]=Pt[$n++],Kn[1]=Pt[$n++],Kn[2]=Pt[$n++],Kn[3]=Pt[$n++],Kn[0]!=2||Kn[1]!=2||(Kn[2]<<8|Kn[3])!=zn)return V(3,"bad rgbe scanline format");let ni=0,Ri;for(;ni<Ar&&$n<Pt.byteLength;){Ri=Pt[$n++];const Cr=Ri>128;if(Cr&&(Ri-=128),Ri===0||ni+Ri>Ar)return V(3,"bad scanline data");if(Cr){const Yi=Pt[$n++];for(let uo=0;uo<Ri;uo++)Sr[ni++]=Yi}else Sr.set(Pt.subarray($n,$n+Ri),ni),ni+=Ri,$n+=Ri}const Hi=zn;for(let Cr=0;Cr<Hi;Cr++){let Yi=0;xn[rn]=Sr[Cr+Yi],Yi+=zn,xn[rn+1]=Sr[Cr+Yi],Yi+=zn,xn[rn+2]=Sr[Cr+Yi],Yi+=zn,xn[rn+3]=Sr[Cr+Yi],rn+=4}di--}return xn},vt=function(Pt,Dn,Ln,zn){const xn=Pt[Dn+3],rn=Math.pow(2,xn-128)/255;Ln[zn+0]=Pt[Dn+0]*rn,Ln[zn+1]=Pt[Dn+1]*rn,Ln[zn+2]=Pt[Dn+2]*rn,Ln[zn+3]=1},$t=function(Pt,Dn,Ln,zn){const xn=Pt[Dn+3],rn=Math.pow(2,xn-128)/255;Ln[zn+0]=rt.DataUtils.toHalfFloat(Math.min(Pt[Dn+0]*rn,65504)),Ln[zn+1]=rt.DataUtils.toHalfFloat(Math.min(Pt[Dn+1]*rn,65504)),Ln[zn+2]=rt.DataUtils.toHalfFloat(Math.min(Pt[Dn+2]*rn,65504)),Ln[zn+3]=rt.DataUtils.toHalfFloat(1)},Un=new Uint8Array(g);Un.pos=0;const ln=St(Un);if(ln!==-1){const Pt=ln.width,Dn=ln.height,Ln=Ut(Un.subarray(Un.pos),Pt,Dn);if(Ln!==-1){let zn,xn,rn;switch(this.type){case rt.FloatType:rn=Ln.length/4;const $n=new Float32Array(rn*4);for(let Kn=0;Kn<rn;Kn++)vt(Ln,Kn*4,$n,Kn*4);zn=$n,xn=rt.FloatType;break;case rt.HalfFloatType:rn=Ln.length/4;const Ar=new Uint16Array(rn*4);for(let Kn=0;Kn<rn;Kn++)$t(Ln,Kn*4,Ar,Kn*4);zn=Ar,xn=rt.HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:Pt,height:Dn,data:zn,header:ln.string,gamma:ln.gamma,exposure:ln.exposure,type:xn}}}return null}setDataType(g){return this.type=g,this}load(g,w,D,ee){function ne(T,V){switch(T.type){case rt.FloatType:case rt.HalfFloatType:"colorSpace"in T?T.colorSpace="srgb-linear":T.encoding=3e3,T.minFilter=rt.LinearFilter,T.magFilter=rt.LinearFilter,T.generateMipmaps=!1,T.flipY=!0;break}w&&w(T,V)}return super.load(g,ne,D,ee)}}var kt={},Ce=function(p,g,w,D,ee){var ne=new Worker(kt[g]||(kt[g]=URL.createObjectURL(new Blob([p],{type:"text/javascript"}))));return ne.onerror=function(T){return ee(T.error,null)},ne.onmessage=function(T){return ee(null,T.data)},ne.postMessage(w,D),ne},Re=Uint8Array,ot=Uint16Array,_e=Uint32Array,yt=new Re([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Rt=new Re([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),oe=new Re([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rr=function(p,g){for(var w=new ot(31),D=0;D<31;++D)w[D]=g+=1<<p[D-1];for(var ee=new _e(w[30]),D=1;D<30;++D)for(var ne=w[D];ne<w[D+1];++ne)ee[ne]=ne-w[D]<<5|D;return[w,ee]},hn=rr(yt,2),An=hn[0],jt=hn[1];An[28]=258,jt[258]=28;for(var mn=rr(Rt,0),yr=mn[0],Zn=mn[1],tr=new ot(32768),wn=0;wn<32768;++wn){var bn=(wn&43690)>>>1|(wn&21845)<<1;bn=(bn&52428)>>>2|(bn&13107)<<2,bn=(bn&61680)>>>4|(bn&3855)<<4,tr[wn]=((bn&65280)>>>8|(bn&255)<<8)>>>1}for(var ur=function(p,g,w){for(var D=p.length,ee=0,ne=new ot(g);ee<D;++ee)++ne[p[ee]-1];var T=new ot(g);for(ee=0;ee<g;++ee)T[ee]=T[ee-1]+ne[ee-1]<<1;var V;if(w){V=new ot(1<<g);var M=15-g;for(ee=0;ee<D;++ee)if(p[ee])for(var H=ee<<4|p[ee],Q=g-p[ee],Te=T[p[ee]-1]++<<Q,mt=Te|(1<<Q)-1;Te<=mt;++Te)V[tr[Te]>>>M]=H}else for(V=new ot(D),ee=0;ee<D;++ee)p[ee]&&(V[ee]=tr[T[p[ee]-1]++]>>>15-p[ee]);return V},qn=new Re(288),wn=0;wn<144;++wn)qn[wn]=8;for(var wn=144;wn<256;++wn)qn[wn]=9;for(var wn=256;wn<280;++wn)qn[wn]=7;for(var wn=280;wn<288;++wn)qn[wn]=8;for(var Ge=new Re(32),wn=0;wn<32;++wn)Ge[wn]=5;var gt=null,be=ur(qn,9,1),It=null,Ke=ur(Ge,5,1),We=function(p){for(var g=p[0],w=1;w<p.length;++w)p[w]>g&&(g=p[w]);return g},Ne=function(p,g,w){var D=g/8|0;return(p[D]|p[D+1]<<8)>>(g&7)&w},Y=function(p,g){var w=g/8|0;return(p[w]|p[w+1]<<8|p[w+2]<<16)>>(g&7)},Ae=function(p){return(p/8|0)+(p&7&&1)},Ze=function(p,g,w){(g==null||g<0)&&(g=0),(w==null||w>p.length)&&(w=p.length);var D=new(p instanceof ot?ot:p instanceof _e?_e:Re)(w-g);return D.set(p.subarray(g,w)),D},ge=function(p,g,w){var D=p.length;if(!D||w&&!w.l&&D<5)return g||new Re(0);var ee=!g||w,ne=!w||w.i;w||(w={}),g||(g=new Re(D*3));var T=function(Bi){var Fs=g.length;if(Bi>Fs){var Is=new Re(Math.max(Fs*2,Bi));Is.set(g),g=Is}},V=w.f||0,M=w.p||0,H=w.b||0,Q=w.l,Te=w.d,mt=w.m,St=w.n,Ut=D*8;do{if(!Q){w.f=V=Ne(p,M,1);var vt=Ne(p,M+1,3);if(M+=3,vt)if(vt==1)Q=be,Te=Ke,mt=9,St=5;else if(vt==2){var Pt=Ne(p,M,31)+257,Dn=Ne(p,M+10,15)+4,Ln=Pt+Ne(p,M+5,31)+1;M+=14;for(var zn=new Re(Ln),xn=new Re(19),rn=0;rn<Dn;++rn)xn[oe[rn]]=Ne(p,M+rn*3,7);M+=Dn*3;for(var $n=We(xn),Ar=(1<<$n)-1,Kn=ur(xn,$n,1),rn=0;rn<Ln;){var Sr=Kn[Ne(p,M,Ar)];M+=Sr&15;var $t=Sr>>>4;if($t<16)zn[rn++]=$t;else{var di=0,ni=0;for($t==16?(ni=3+Ne(p,M,3),M+=2,di=zn[rn-1]):$t==17?(ni=3+Ne(p,M,7),M+=3):$t==18&&(ni=11+Ne(p,M,127),M+=7);ni--;)zn[rn++]=di}}var Ri=zn.subarray(0,Pt),Hi=zn.subarray(Pt);mt=We(Ri),St=We(Hi),Q=ur(Ri,mt,1),Te=ur(Hi,St,1)}else throw"invalid block type";else{var $t=Ae(M)+4,Un=p[$t-4]|p[$t-3]<<8,ln=$t+Un;if(ln>D){if(ne)throw"unexpected EOF";break}ee&&T(H+Un),g.set(p.subarray($t,ln),H),w.b=H+=Un,w.p=M=ln*8;continue}if(M>Ut){if(ne)throw"unexpected EOF";break}}ee&&T(H+131072);for(var Cr=(1<<mt)-1,Yi=(1<<St)-1,uo=M;;uo=M){var di=Q[Y(p,M)&Cr],ko=di>>>4;if(M+=di&15,M>Ut){if(ne)throw"unexpected EOF";break}if(!di)throw"invalid length/literal";if(ko<256)g[H++]=ko;else if(ko==256){uo=M,Q=null;break}else{var Eo=ko-254;if(ko>264){var rn=ko-257,vo=yt[rn];Eo=Ne(p,M,(1<<vo)-1)+An[rn],M+=vo}var qo=Te[Y(p,M)&Yi],Uo=qo>>>4;if(!qo)throw"invalid distance";M+=qo&15;var Hi=yr[Uo];if(Uo>3){var vo=Rt[Uo];Hi+=Y(p,M)&(1<<vo)-1,M+=vo}if(M>Ut){if(ne)throw"unexpected EOF";break}ee&&T(H+131072);for(var $o=H+Eo;H<$o;H+=4)g[H]=g[H-Hi],g[H+1]=g[H+1-Hi],g[H+2]=g[H+2-Hi],g[H+3]=g[H+3-Hi];H=$o}}w.l=Q,w.p=uo,w.b=H,Q&&(V=1,w.m=mt,w.d=Te,w.n=St)}while(!V);return H==g.length?g:Ze(g,0,H)},Be=function(p,g,w){w<<=g&7;var D=g/8|0;p[D]|=w,p[D+1]|=w>>>8},ke=function(p,g,w){w<<=g&7;var D=g/8|0;p[D]|=w,p[D+1]|=w>>>8,p[D+2]|=w>>>16},et=function(p,g){for(var w=[],D=0;D<p.length;++D)p[D]&&w.push({s:D,f:p[D]});var ee=w.length,ne=w.slice();if(!ee)return[lr,0];if(ee==1){var T=new Re(w[0].s+1);return T[w[0].s]=1,[T,1]}w.sort(function(Ln,zn){return Ln.f-zn.f}),w.push({s:-1,f:25001});var V=w[0],M=w[1],H=0,Q=1,Te=2;for(w[0]={s:-1,f:V.f+M.f,l:V,r:M};Q!=ee-1;)V=w[w[H].f<w[Te].f?H++:Te++],M=w[H!=Q&&w[H].f<w[Te].f?H++:Te++],w[Q++]={s:-1,f:V.f+M.f,l:V,r:M};for(var mt=ne[0].s,D=1;D<ee;++D)ne[D].s>mt&&(mt=ne[D].s);var St=new ot(mt+1),Ut=wt(w[Q-1],St,0);if(Ut>g){var D=0,vt=0,$t=Ut-g,Un=1<<$t;for(ne.sort(function(zn,xn){return St[xn.s]-St[zn.s]||zn.f-xn.f});D<ee;++D){var ln=ne[D].s;if(St[ln]>g)vt+=Un-(1<<Ut-St[ln]),St[ln]=g;else break}for(vt>>>=$t;vt>0;){var Pt=ne[D].s;St[Pt]<g?vt-=1<<g-St[Pt]++-1:++D}for(;D>=0&&vt;--D){var Dn=ne[D].s;St[Dn]==g&&(--St[Dn],++vt)}Ut=g}return[new Re(St),Ut]},wt=function(p,g,w){return p.s==-1?Math.max(wt(p.l,g,w+1),wt(p.r,g,w+1)):g[p.s]=w},Vt=function(p){for(var g=p.length;g&&!p[--g];);for(var w=new ot(++g),D=0,ee=p[0],ne=1,T=function(M){w[D++]=M},V=1;V<=g;++V)if(p[V]==ee&&V!=g)++ne;else{if(!ee&&ne>2){for(;ne>138;ne-=138)T(32754);ne>2&&(T(ne>10?ne-11<<5|28690:ne-3<<5|12305),ne=0)}else if(ne>3){for(T(ee),--ne;ne>6;ne-=6)T(8304);ne>2&&(T(ne-3<<5|8208),ne=0)}for(;ne--;)T(ee);ne=1,ee=p[V]}return[w.subarray(0,D),g]},nn=function(p,g){for(var w=0,D=0;D<g.length;++D)w+=p[D]*g[D];return w},un=function(p,g,w){var D=w.length,ee=Ae(g+2);p[ee]=D&255,p[ee+1]=D>>>8,p[ee+2]=p[ee]^255,p[ee+3]=p[ee+1]^255;for(var ne=0;ne<D;++ne)p[ee+ne+4]=w[ne];return(ee+4+D)*8},Cn=function(p,g,w,D,ee,ne,T,V,M,H,Q){Be(g,Q++,w),++ee[256];for(var Te=et(ee,15),mt=Te[0],St=Te[1],Ut=et(ne,15),vt=Ut[0],$t=Ut[1],Un=Vt(mt),ln=Un[0],Pt=Un[1],Dn=Vt(vt),Ln=Dn[0],zn=Dn[1],xn=new ot(19),rn=0;rn<ln.length;++rn)xn[ln[rn]&31]++;for(var rn=0;rn<Ln.length;++rn)xn[Ln[rn]&31]++;for(var $n=et(xn,7),Ar=$n[0],Kn=$n[1],Sr=19;Sr>4&&!Ar[oe[Sr-1]];--Sr);var di=H+5<<3,ni=nn(ee,qn)+nn(ne,Ge)+T,Ri=nn(ee,mt)+nn(ne,vt)+T+14+3*Sr+nn(xn,Ar)+(2*xn[16]+3*xn[17]+7*xn[18]);if(di<=ni&&di<=Ri)return un(g,Q,p.subarray(M,M+H));var Hi,Cr,Yi,uo;if(Be(g,Q,1+(Ri<ni)),Q+=2,Ri<ni){Hi=ur(mt,St,0),Cr=mt,Yi=ur(vt,$t,0),uo=vt;var ko=ur(Ar,Kn,0);Be(g,Q,Pt-257),Be(g,Q+5,zn-1),Be(g,Q+10,Sr-4),Q+=14;for(var rn=0;rn<Sr;++rn)Be(g,Q+3*rn,Ar[oe[rn]]);Q+=3*Sr;for(var Eo=[ln,Ln],vo=0;vo<2;++vo)for(var qo=Eo[vo],rn=0;rn<qo.length;++rn){var Uo=qo[rn]&31;Be(g,Q,ko[Uo]),Q+=Ar[Uo],Uo>15&&(Be(g,Q,qo[rn]>>>5&127),Q+=qo[rn]>>>12)}}else Hi=gt,Cr=qn,Yi=It,uo=Ge;for(var rn=0;rn<V;++rn)if(D[rn]>255){var Uo=D[rn]>>>18&31;ke(g,Q,Hi[Uo+257]),Q+=Cr[Uo+257],Uo>7&&(Be(g,Q,D[rn]>>>23&31),Q+=yt[Uo]);var $o=D[rn]&31;ke(g,Q,Yi[$o]),Q+=uo[$o],$o>3&&(ke(g,Q,D[rn]>>>5&8191),Q+=Rt[$o])}else ke(g,Q,Hi[D[rn]]),Q+=Cr[D[rn]];return ke(g,Q,Hi[256]),Q+Cr[256]},dr=new _e([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),lr=new Re(0),Mr=function(p,g,w,D,ee,ne){var T=p.length,V=new Re(D+T+5*(1+Math.ceil(T/7e3))+ee),M=V.subarray(D,V.length-ee),H=0;if(!g||T<8)for(var Q=0;Q<=T;Q+=65535){var Te=Q+65535;Te<T?H=un(M,H,p.subarray(Q,Te)):(M[Q]=ne,H=un(M,H,p.subarray(Q,T)))}else{for(var mt=dr[g-1],St=mt>>>13,Ut=mt&8191,vt=(1<<w)-1,$t=new ot(32768),Un=new ot(vt+1),ln=Math.ceil(w/3),Pt=2*ln,Dn=function(Oo){return(p[Oo]^p[Oo+1]<<ln^p[Oo+2]<<Pt)&vt},Ln=new _e(25e3),zn=new ot(288),xn=new ot(32),rn=0,$n=0,Q=0,Ar=0,Kn=0,Sr=0;Q<T;++Q){var di=Dn(Q),ni=Q&32767,Ri=Un[di];if($t[ni]=Ri,Un[di]=ni,Kn<=Q){var Hi=T-Q;if((rn>7e3||Ar>24576)&&Hi>423){H=Cn(p,M,0,Ln,zn,xn,$n,Ar,Sr,Q-Sr,H),Ar=rn=$n=0,Sr=Q;for(var Cr=0;Cr<286;++Cr)zn[Cr]=0;for(var Cr=0;Cr<30;++Cr)xn[Cr]=0}var Yi=2,uo=0,ko=Ut,Eo=ni-Ri&32767;if(Hi>2&&di==Dn(Q-Eo))for(var vo=Math.min(St,Hi)-1,qo=Math.min(32767,Q),Uo=Math.min(258,Hi);Eo<=qo&&--ko&&ni!=Ri;){if(p[Q+Yi]==p[Q+Yi-Eo]){for(var $o=0;$o<Uo&&p[Q+$o]==p[Q+$o-Eo];++$o);if($o>Yi){if(Yi=$o,uo=Eo,$o>vo)break;for(var Bi=Math.min(Eo,$o-2),Fs=0,Cr=0;Cr<Bi;++Cr){var Is=Q-Eo+Cr+32768&32767,n1=$t[Is],rs=Is-n1+32768&32767;rs>Fs&&(Fs=rs,Ri=Is)}}}ni=Ri,Ri=$t[ni],Eo+=ni-Ri+32768&32767}if(uo){Ln[Ar++]=268435456|jt[Yi]<<18|Zn[uo];var ta=jt[Yi]&31,Os=Zn[uo]&31;$n+=yt[ta]+Rt[Os],++zn[257+ta],++xn[Os],Kn=Q+Yi,++rn}else Ln[Ar++]=p[Q],++zn[p[Q]]}}H=Cn(p,M,ne,Ln,zn,xn,$n,Ar,Sr,Q-Sr,H),!ne&&H&7&&(H=un(M,H+1,lr))}return Ze(V,0,D+Ae(H)+ee)},Er=null,Wn=function(){var p=-1;return{p:function(g){for(var w=p,D=0;D<g.length;++D)w=Er[w&255^g[D]]^w>>>8;p=w},d:function(){return~p}}},Nn=function(){var p=1,g=0;return{p:function(w){for(var D=p,ee=g,ne=w.length,T=0;T!=ne;){for(var V=Math.min(T+2655,ne);T<V;++T)ee+=D+=w[T];D=(D&65535)+15*(D>>16),ee=(ee&65535)+15*(ee>>16)}p=D,g=ee},d:function(){return p%=65521,g%=65521,(p&255)<<24|p>>>8<<16|(g&255)<<8|g>>>8}}},Nr=function(p,g,w,D,ee){return Mr(p,g.level==null?6:g.level,g.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(p.length)))*1.5):12+g.mem,w,D,!ee)},ti=function(p,g){var w={};for(var D in p)w[D]=p[D];for(var D in g)w[D]=g[D];return w},Or=function(p,g,w){for(var D=p(),ee=p.toString(),ne=ee.slice(ee.indexOf("[")+1,ee.lastIndexOf("]")).replace(/ /g,"").split(","),T=0;T<D.length;++T){var V=D[T],M=ne[T];if(typeof V=="function"){g+=";"+M+"=";var H=V.toString();if(V.prototype)if(H.indexOf("[native code]")!=-1){var Q=H.indexOf(" ",8)+1;g+=H.slice(Q,H.indexOf("(",Q))}else{g+=H;for(var Te in V.prototype)g+=";"+M+".prototype."+Te+"="+V.prototype[Te].toString()}else g+=H}else w[M]=V}return[g,w]},Jr=null,zr=function(p){var g=[];for(var w in p)(p[w]instanceof Re||p[w]instanceof ot||p[w]instanceof _e)&&g.push((p[w]=new p[w].constructor(p[w])).buffer);return g},gi=function(p,g,w,D){var ee;if(!Jr[w]){for(var ne="",T={},V=p.length-1,M=0;M<V;++M)ee=Or(p[M],ne,T),ne=ee[0],T=ee[1];Jr[w]=Or(p[V],ne,T)}var H=ti({},Jr[w][1]);return Ce(Jr[w][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+g.toString()+"}",w,H,zr(H),D)},qr=function(){return[Re,ot,_e,yt,Rt,oe,An,yr,be,Ke,tr,ur,We,Ne,Y,Ae,Ze,ge,Ui,fn,ir]},Ii=function(){return[Re,ot,_e,yt,Rt,oe,jt,Zn,gt,qn,It,Ge,tr,dr,lr,ur,Be,ke,et,wt,Vt,nn,un,Cn,Ae,Ze,Mr,Nr,Xr,fn]},Ht=function(){return[si,Ti,On,Wn,Er]},Gt=function(){return[Oi,qi]},on=function(){return[vr,On,Nn]},an=function(){return[oi]},fn=function(p){return postMessage(p,[p.buffer])},ir=function(p){return p&&p.size&&new Re(p.size)},pn=function(p,g,w,D,ee,ne){var T=gi(w,D,ee,function(V,M){T.terminate(),ne(V,M)});return T.postMessage([p,g],g.consume?[p.buffer]:[]),function(){T.terminate()}},Tr=function(p){return p.ondata=function(g,w){return postMessage([g,w],[g.buffer])},function(g){return p.push(g.data[0],g.data[1])}},Jn=function(p,g,w,D,ee){var ne,T=gi(p,D,ee,function(V,M){V?(T.terminate(),g.ondata.call(g,V)):(M[1]&&T.terminate(),g.ondata.call(g,V,M[0],M[1]))});T.postMessage(w),g.push=function(V,M){if(ne)throw"stream finished";if(!g.ondata)throw"no stream handler";T.postMessage([V,ne=M],[V.buffer])},g.terminate=function(){T.terminate()}},ci=function(p,g){return p[g]|p[g+1]<<8},Qr=function(p,g){return(p[g]|p[g+1]<<8|p[g+2]<<16|p[g+3]<<24)>>>0},Xn=function(p,g){return Qr(p,g)+Qr(p,g+4)*4294967296},On=function(p,g,w){for(;w;++g)p[g]=w,w>>>=8},si=function(p,g){var w=g.filename;if(p[0]=31,p[1]=139,p[2]=8,p[8]=g.level<2?4:g.level==9?2:0,p[9]=3,g.mtime!=0&&On(p,4,Math.floor(new Date(g.mtime||Date.now())/1e3)),w){p[3]=8;for(var D=0;D<=w.length;++D)p[D+10]=w.charCodeAt(D)}},Oi=function(p){if(p[0]!=31||p[1]!=139||p[2]!=8)throw"invalid gzip data";var g=p[3],w=10;g&4&&(w+=p[10]|(p[11]<<8)+2);for(var D=(g>>3&1)+(g>>4&1);D>0;D-=!p[w++]);return w+(g&2)},qi=function(p){var g=p.length;return(p[g-4]|p[g-3]<<8|p[g-2]<<16|p[g-1]<<24)>>>0},Ti=function(p){return 10+(p.filename&&p.filename.length+1||0)},vr=function(p,g){var w=g.level,D=w==0?0:w<6?1:w==9?3:2;p[0]=120,p[1]=D<<6|(D?32-2*D:1)},oi=function(p){if((p[0]&15)!=8||p[0]>>>4>7||(p[0]<<8|p[1])%31)throw"invalid zlib data";if(p[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function tt(p,g){return!g&&typeof p=="function"&&(g=p,p={}),this.ondata=g,p}var Xt=null,Pn=null;function Dr(p,g,w){if(w||(w=g,g={}),typeof w!="function")throw"no callback";return pn(p,g,[Ii],function(D){return fn(Xr(D.data[0],D.data[1]))},0,w)}function Xr(p,g){return Nr(p,g||{},0,0)}var Fi=null,yi=null;function Qo(p,g,w){if(w||(w=g,g={}),typeof w!="function")throw"no callback";return pn(p,g,[qr],function(D){return fn(Ui(D.data[0],ir(D.data[1])))},1,w)}function Ui(p,g){return ge(p,g)}var ki=null,wi=null;function go(p,g,w){if(w||(w=g,g={}),typeof w!="function")throw"no callback";return pn(p,g,[Ii,Ht,function(){return[Pe]}],function(D){return fn(Pe(D.data[0],D.data[1]))},2,w)}function Pe(p,g){g||(g={});var w=Wn(),D=p.length;w.p(p);var ee=Nr(p,g,Ti(g),8),ne=ee.length;return si(ee,g),On(ee,ne-8,w.d()),On(ee,ne-4,D),ee}var I=null,E=null;function P(p,g,w){if(w||(w=g,g={}),typeof w!="function")throw"no callback";return pn(p,g,[qr,Gt,function(){return[ie]}],function(D){return fn(ie(D.data[0]))},3,w)}function ie(p,g){return ge(p.subarray(Oi(p),-8),g||new Re(qi(p)))}var ce=null,He=null;function pe(p,g,w){if(w||(w=g,g={}),typeof w!="function")throw"no callback";return pn(p,g,[Ii,on,function(){return[Se]}],function(D){return fn(Se(D.data[0],D.data[1]))},4,w)}function Se(p,g){g||(g={});var w=Nn();w.p(p);var D=Nr(p,g,2,4);return vr(D,g),On(D,D.length-4,w.d()),D}var de=null,Ue=null;function Me(p,g,w){if(w||(w=g,g={}),typeof w!="function")throw"no callback";return pn(p,g,[qr,an,function(){return[Ve]}],function(D){return fn(Ve(D.data[0],ir(D.data[1])))},5,w)}function Ve(p,g){return ge((oi(p),p.subarray(2,-4)),g)}var lt=null,ht=null;function dt(p,g,w){if(w||(w=g,g={}),typeof w!="function")throw"no callback";return p[0]==31&&p[1]==139&&p[2]==8?P(p,g,w):(p[0]&15)!=8||p[0]>>4>7||(p[0]<<8|p[1])%31?Qo(p,g,w):Me(p,g,w)}function $(p,g){return p[0]==31&&p[1]==139&&p[2]==8?ie(p,g):(p[0]&15)!=8||p[0]>>4>7||(p[0]<<8|p[1])%31?Ui(p,g):Ve(p,g)}var K=function(p,g,w,D){for(var ee in p){var ne=p[ee],T=g+ee;ne instanceof Re?w[T]=[ne,D]:Array.isArray(ne)?w[T]=[ne[0],ti(D,ne[1])]:K(ne,T+"/",w,D)}},X=typeof TextEncoder!="undefined"&&new TextEncoder,W=typeof TextDecoder!="undefined"&&new TextDecoder,ve=0;try{W.decode(lr,{stream:!0}),ve=1}catch(p){}var je=function(p){for(var g="",w=0;;){var D=p[w++],ee=(D>127)+(D>223)+(D>239);if(w+ee>p.length)return[g,Ze(p,w-1)];ee?ee==3?(D=((D&15)<<18|(p[w++]&63)<<12|(p[w++]&63)<<6|p[w++]&63)-65536,g+=String.fromCharCode(55296|D>>10,56320|D&1023)):ee&1?g+=String.fromCharCode((D&31)<<6|p[w++]&63):g+=String.fromCharCode((D&15)<<12|(p[w++]&63)<<6|p[w++]&63):g+=String.fromCharCode(D)}},nt=null,Xe=null;function $e(p,g){if(g){for(var w=new Re(p.length),D=0;D<p.length;++D)w[D]=p.charCodeAt(D);return w}if(X)return X.encode(p);for(var ee=p.length,ne=new Re(p.length+(p.length>>1)),T=0,V=function(Q){ne[T++]=Q},D=0;D<ee;++D){if(T+5>ne.length){var M=new Re(T+8+(ee-D<<1));M.set(ne),ne=M}var H=p.charCodeAt(D);H<128||g?V(H):H<2048?(V(192|H>>6),V(128|H&63)):H>55295&&H<57344?(H=65536+(H&1047552)|p.charCodeAt(++D)&1023,V(240|H>>18),V(128|H>>12&63),V(128|H>>6&63),V(128|H&63)):(V(224|H>>12),V(128|H>>6&63),V(128|H&63))}return Ze(ne,0,T)}function De(p,g){if(g){for(var w="",D=0;D<p.length;D+=16384)w+=String.fromCharCode.apply(null,p.subarray(D,D+16384));return w}else{if(W)return W.decode(p);var ee=je(p),ne=ee[0],T=ee[1];if(T.length)throw"invalid utf-8 data";return ne}}var qe=function(p){return p==1?3:p<6?2:p==9?1:0},ut=function(p,g){return g+30+ci(p,g+26)+ci(p,g+28)},it=function(p,g,w){var D=ci(p,g+28),ee=De(p.subarray(g+46,g+46+D),!(ci(p,g+8)&2048)),ne=g+46+D,T=Qr(p,g+20),V=w&&T==4294967295?bt(p,ne):[T,Qr(p,g+24),Qr(p,g+42)],M=V[0],H=V[1],Q=V[2];return[ci(p,g+10),M,H,ee,ne+ci(p,g+30)+ci(p,g+32),Q]},bt=function(p,g){for(;ci(p,g)!=1;g+=4+ci(p,g+2));return[Xn(p,g+12),Xn(p,g+4),Xn(p,g+20)]},qt=function(p){var g=0;if(p)for(var w in p){var D=p[w].length;if(D>65535)throw"extra field too long";g+=D+4}return g},gn=function(p,g,w,D,ee,ne,T,V){var M=D.length,H=w.extra,Q=V&&V.length,Te=qt(H);On(p,g,T!=null?33639248:67324752),g+=4,T!=null&&(p[g++]=20,p[g++]=w.os),p[g]=20,g+=2,p[g++]=w.flag<<1|(ne==null&&8),p[g++]=ee&&8,p[g++]=w.compression&255,p[g++]=w.compression>>8;var mt=new Date(w.mtime==null?Date.now():w.mtime),St=mt.getFullYear()-1980;if(St<0||St>119)throw"date not in range 1980-2099";if(On(p,g,St<<25|mt.getMonth()+1<<21|mt.getDate()<<16|mt.getHours()<<11|mt.getMinutes()<<5|mt.getSeconds()>>>1),g+=4,ne!=null&&(On(p,g,w.crc),On(p,g+4,ne),On(p,g+8,w.size)),On(p,g+12,M),On(p,g+14,Te),g+=16,T!=null&&(On(p,g,Q),On(p,g+6,w.attrs),On(p,g+10,T),g+=14),p.set(D,g),g+=M,Te)for(var Ut in H){var vt=H[Ut],$t=vt.length;On(p,g,+Ut),On(p,g+2,$t),p.set(vt,g+4),g+=4+$t}return Q&&(p.set(V,g),g+=Q),g},or=function(p,g,w,D,ee){On(p,g,101010256),On(p,g+8,w),On(p,g+10,w),On(p,g+12,D),On(p,g+16,ee)},Qn=null,Gn=null,cr=null,Di=null;function Si(p,g,w){if(w||(w=g,g={}),typeof w!="function")throw"no callback";var D={};K(p,"",D,g);var ee=Object.keys(D),ne=ee.length,T=0,V=0,M=ne,H=new Array(ne),Q=[],Te=function(){for(var vt=0;vt<Q.length;++vt)Q[vt]()},mt=function(){var vt=new Re(V+22),$t=T,Un=V-T;V=0;for(var ln=0;ln<M;++ln){var Pt=H[ln];try{var Dn=Pt.c.length;gn(vt,V,Pt,Pt.f,Pt.u,Dn);var Ln=30+Pt.f.length+qt(Pt.extra),zn=V+Ln;vt.set(Pt.c,zn),gn(vt,T,Pt,Pt.f,Pt.u,Dn,V,Pt.m),T+=16+Ln+(Pt.m?Pt.m.length:0),V=zn+Dn}catch(xn){return w(xn,null)}}or(vt,T,H.length,Un,$t),w(null,vt)};ne||mt();for(var St=function(vt){var $t=ee[vt],Un=D[$t],ln=Un[0],Pt=Un[1],Dn=Wn(),Ln=ln.length;Dn.p(ln);var zn=$e($t),xn=zn.length,rn=Pt.comment,$n=rn&&$e(rn),Ar=$n&&$n.length,Kn=qt(Pt.extra),Sr=Pt.level==0?0:8,di=function(ni,Ri){if(ni)Te(),w(ni,null);else{var Hi=Ri.length;H[vt]=ti(Pt,{size:Ln,crc:Dn.d(),c:Ri,f:zn,m:$n,u:xn!=$t.length||$n&&rn.length!=Ar,compression:Sr}),T+=30+xn+Kn+Hi,V+=76+2*(xn+Kn)+(Ar||0)+Hi,--ne||mt()}};if(xn>65535&&di("filename too long",null),!Sr)di(null,ln);else if(Ln<16e4)try{di(null,Xr(ln,Pt))}catch(ni){di(ni,null)}else Q.push(Dr(ln,Pt,di))},Ut=0;Ut<M;++Ut)St(Ut);return Te}function _o(p,g){g||(g={});var w={},D=[];K(p,"",w,g);var ee=0,ne=0;for(var T in w){var V=w[T],M=V[0],H=V[1],Q=H.level==0?0:8,Te=$e(T),mt=Te.length,St=H.comment,Ut=St&&$e(St),vt=Ut&&Ut.length,$t=qt(H.extra);if(mt>65535)throw"filename too long";var Un=Q?Xr(M,H):M,ln=Un.length,Pt=Wn();Pt.p(M),D.push(ti(H,{size:M.length,crc:Pt.d(),c:Un,f:Te,m:Ut,u:mt!=T.length||Ut&&St.length!=vt,o:ee,compression:Q})),ee+=30+mt+$t+ln,ne+=76+2*(mt+$t)+(vt||0)+ln}for(var Dn=new Re(ne+22),Ln=ee,zn=ne-ee,xn=0;xn<D.length;++xn){var Te=D[xn];gn(Dn,Te.o,Te,Te.f,Te.u,Te.c.length);var rn=30+Te.f.length+qt(Te.extra);Dn.set(Te.c,Te.o+rn),gn(Dn,ee,Te,Te.f,Te.u,Te.c.length,Te.o,Te.m),ee+=16+rn+(Te.m?Te.m.length:0)}return or(Dn,ee,D.length,zn,Ln),Dn}var ps=null,Lo=null,ao=null,vs=null;function Po(p,g){if(typeof g!="function")throw"no callback";for(var w=[],D=function(){for(var mt=0;mt<w.length;++mt)w[mt]()},ee={},ne=p.length-22;Qr(p,ne)!=101010256;--ne)if(!ne||p.length-ne>65558){g("invalid zip file",null);return}var T=ci(p,ne+8);T||g(null,{});var V=T,M=Qr(p,ne+16),H=M==4294967295;if(H){if(ne=Qr(p,ne-12),Qr(p,ne)!=101075792){g("invalid zip file",null);return}V=T=Qr(p,ne+32),M=Qr(p,ne+48)}for(var Q=function(mt){var St=it(p,M,H),Ut=St[0],vt=St[1],$t=St[2],Un=St[3],ln=St[4],Pt=St[5],Dn=ut(p,Pt);M=ln;var Ln=function(xn,rn){xn?(D(),g(xn,null)):(ee[Un]=rn,--T||g(null,ee))};if(!Ut)Ln(null,Ze(p,Dn,Dn+vt));else if(Ut==8){var zn=p.subarray(Dn,Dn+vt);if(vt<32e4)try{Ln(null,Ui(zn,new Re($t)))}catch(xn){Ln(xn,null)}else w.push(Qo(zn,{size:$t},Ln))}else Ln("unknown compression type "+Ut,null)},Te=0;Te<V;++Te)Q(Te);return D}function ls(p){for(var g={},w=p.length-22;Qr(p,w)!=101010256;--w)if(!w||p.length-w>65558)throw"invalid zip file";var D=ci(p,w+8);if(!D)return{};var ee=Qr(p,w+16),ne=ee==4294967295;if(ne){if(w=Qr(p,w-12),Qr(p,w)!=101075792)throw"invalid zip file";D=Qr(p,w+32),ee=Qr(p,w+48)}for(var T=0;T<D;++T){var V=it(p,ee,ne),M=V[0],H=V[1],Q=V[2],Te=V[3],mt=V[4],St=V[5],Ut=ut(p,St);if(ee=mt,!M)g[Te]=Ze(p,Ut,Ut+H);else if(M==8)g[Te]=Ui(p.subarray(Ut,Ut+H),new Re(Q));else throw"unknown compression type "+M}return g}const Ps="colorSpace"in new rt.Texture;class Va extends rt.DataTextureLoader{constructor(g){super(g),this.type=rt.HalfFloatType}parse(g){const $n=Math.pow(2.7182818,2.2);function Ar(N,le){for(var Ye=0,Mt=0;Mt<65536;++Mt)(Mt==0||N[Mt>>3]&1<<(Mt&7))&&(le[Ye++]=Mt);for(var Ft=Ye-1;Ye<65536;)le[Ye++]=0;return Ft}function Kn(N){for(var le=0;le<16384;le++)N[le]={},N[le].len=0,N[le].lit=0,N[le].p=null}const Sr={l:0,c:0,lc:0};function di(N,le,Ye,Mt,Ft){for(;Ye<N;)le=le<<8|wa(Mt,Ft),Ye+=8;Ye-=N,Sr.l=le>>Ye&(1<<N)-1,Sr.c=le,Sr.lc=Ye}const ni=new Array(59);function Ri(N){for(var le=0;le<=58;++le)ni[le]=0;for(var le=0;le<65537;++le)ni[N[le]]+=1;for(var Ye=0,le=58;le>0;--le){var Mt=Ye+ni[le]>>1;ni[le]=Ye,Ye=Mt}for(var le=0;le<65537;++le){var Ft=N[le];Ft>0&&(N[le]=Ft|ni[Ft]++<<6)}}function Hi(N,le,Ye,Mt,Ft,Tt,Hn){for(var Rn=Ye,sr=0,kn=0;Ft<=Tt;Ft++){if(Rn.value-Ye.value>Mt)return!1;di(6,sr,kn,N,Rn);var Vn=Sr.l;if(sr=Sr.c,kn=Sr.lc,Hn[Ft]=Vn,Vn==63){if(Rn.value-Ye.value>Mt)throw"Something wrong with hufUnpackEncTable";di(8,sr,kn,N,Rn);var Fn=Sr.l+6;if(sr=Sr.c,kn=Sr.lc,Ft+Fn>Tt+1)throw"Something wrong with hufUnpackEncTable";for(;Fn--;)Hn[Ft++]=0;Ft--}else if(Vn>=59){var Fn=Vn-59+2;if(Ft+Fn>Tt+1)throw"Something wrong with hufUnpackEncTable";for(;Fn--;)Hn[Ft++]=0;Ft--}}Ri(Hn)}function Cr(N){return N&63}function Yi(N){return N>>6}function uo(N,le,Ye,Mt){for(;le<=Ye;le++){var Ft=Yi(N[le]),Tt=Cr(N[le]);if(Ft>>Tt)throw"Invalid table entry";if(Tt>14){var Hn=Mt[Ft>>Tt-14];if(Hn.len)throw"Invalid table entry";if(Hn.lit++,Hn.p){var Rn=Hn.p;Hn.p=new Array(Hn.lit);for(var sr=0;sr<Hn.lit-1;++sr)Hn.p[sr]=Rn[sr]}else Hn.p=new Array(1);Hn.p[Hn.lit-1]=le}else if(Tt)for(var kn=0,sr=1<<14-Tt;sr>0;sr--){var Hn=Mt[(Ft<<14-Tt)+kn];if(Hn.len||Hn.p)throw"Invalid table entry";Hn.len=Tt,Hn.lit=le,kn++}}return!0}const ko={c:0,lc:0};function Eo(N,le,Ye,Mt){N=N<<8|wa(Ye,Mt),le+=8,ko.c=N,ko.lc=le}const vo={c:0,lc:0};function qo(N,le,Ye,Mt,Ft,Tt,Hn,Rn,sr,kn){if(N==le){Mt<8&&(Eo(Ye,Mt,Ft,Hn),Ye=ko.c,Mt=ko.lc),Mt-=8;var Vn=Ye>>Mt,Vn=new Uint8Array([Vn])[0];if(sr.value+Vn>kn)return!1;for(var Fn=Rn[sr.value-1];Vn-- >0;)Rn[sr.value++]=Fn}else if(sr.value<kn)Rn[sr.value++]=N;else return!1;vo.c=Ye,vo.lc=Mt}function Uo(N){return N&65535}function $o(N){var le=Uo(N);return le>32767?le-65536:le}const Bi={a:0,b:0};function Fs(N,le){var Ye=$o(N),Mt=$o(le),Ft=Mt,Tt=Ye+(Ft&1)+(Ft>>1),Hn=Tt,Rn=Tt-Ft;Bi.a=Hn,Bi.b=Rn}function Is(N,le){var Ye=Uo(N),Mt=Uo(le),Ft=Ye-(Mt>>1)&65535,Tt=Mt+Ft-32768&65535;Bi.a=Tt,Bi.b=Ft}function n1(N,le,Ye,Mt,Ft,Tt,Hn){for(var Rn=Hn<16384,sr=Ye>Ft?Ft:Ye,kn=1,Vn;kn<=sr;)kn<<=1;for(kn>>=1,Vn=kn,kn>>=1;kn>=1;){for(var Fn=0,ro=Fn+Tt*(Ft-Vn),$r=Tt*kn,Zr=Tt*Vn,pi=Mt*kn,$i=Mt*Vn,Mo,ho,Wo,Yr;Fn<=ro;Fn+=Zr){for(var no=Fn,Jo=Fn+Mt*(Ye-Vn);no<=Jo;no+=$i){var io=no+pi,ss=no+$r,ys=ss+pi;Rn?(Fs(N[no+le],N[ss+le]),Mo=Bi.a,Wo=Bi.b,Fs(N[io+le],N[ys+le]),ho=Bi.a,Yr=Bi.b,Fs(Mo,ho),N[no+le]=Bi.a,N[io+le]=Bi.b,Fs(Wo,Yr),N[ss+le]=Bi.a,N[ys+le]=Bi.b):(Is(N[no+le],N[ss+le]),Mo=Bi.a,Wo=Bi.b,Is(N[io+le],N[ys+le]),ho=Bi.a,Yr=Bi.b,Is(Mo,ho),N[no+le]=Bi.a,N[io+le]=Bi.b,Is(Wo,Yr),N[ss+le]=Bi.a,N[ys+le]=Bi.b)}if(Ye&kn){var ss=no+$r;Rn?Fs(N[no+le],N[ss+le]):Is(N[no+le],N[ss+le]),Mo=Bi.a,N[ss+le]=Bi.b,N[no+le]=Mo}}if(Ft&kn)for(var no=Fn,Jo=Fn+Mt*(Ye-Vn);no<=Jo;no+=$i){var io=no+pi;Rn?Fs(N[no+le],N[io+le]):Is(N[no+le],N[io+le]),Mo=Bi.a,N[io+le]=Bi.b,N[no+le]=Mo}Vn=kn,kn>>=1}return Fn}function rs(N,le,Ye,Mt,Ft,Tt,Hn,Rn,sr,kn){for(var Vn=0,Fn=0,ro=Rn,$r=Math.trunc(Ft.value+(Tt+7)/8);Ft.value<$r;)for(Eo(Vn,Fn,Ye,Ft),Vn=ko.c,Fn=ko.lc;Fn>=14;){var Zr=Vn>>Fn-14&16383,pi=le[Zr];if(pi.len)Fn-=pi.len,qo(pi.lit,Hn,Vn,Fn,Ye,Mt,Ft,sr,kn,ro),Vn=vo.c,Fn=vo.lc;else{if(!pi.p)throw"hufDecode issues";var $i;for($i=0;$i<pi.lit;$i++){for(var Mo=Cr(N[pi.p[$i]]);Fn<Mo&&Ft.value<$r;)Eo(Vn,Fn,Ye,Ft),Vn=ko.c,Fn=ko.lc;if(Fn>=Mo&&Yi(N[pi.p[$i]])==(Vn>>Fn-Mo&(1<<Mo)-1)){Fn-=Mo,qo(pi.p[$i],Hn,Vn,Fn,Ye,Mt,Ft,sr,kn,ro),Vn=vo.c,Fn=vo.lc;break}}if($i==pi.lit)throw"hufDecode issues"}}var ho=8-Tt&7;for(Vn>>=ho,Fn-=ho;Fn>0;){var pi=le[Vn<<14-Fn&16383];if(pi.len)Fn-=pi.len,qo(pi.lit,Hn,Vn,Fn,Ye,Mt,Ft,sr,kn,ro),Vn=vo.c,Fn=vo.lc;else throw"hufDecode issues"}return!0}function ta(N,le,Ye,Mt,Ft,Tt){var Hn={value:0},Rn=Ye.value,sr=yo(le,Ye),kn=yo(le,Ye);Ye.value+=4;var Vn=yo(le,Ye);if(Ye.value+=4,sr<0||sr>=65537||kn<0||kn>=65537)throw"Something wrong with HUF_ENCSIZE";var Fn=new Array(65537),ro=new Array(16384);Kn(ro);var $r=Mt-(Ye.value-Rn);if(Hi(N,le,Ye,$r,sr,kn,Fn),Vn>8*(Mt-(Ye.value-Rn)))throw"Something wrong with hufUncompress";uo(Fn,sr,kn,ro),rs(Fn,ro,N,le,Ye,Vn,kn,Tt,Ft,Hn)}function Os(N,le,Ye){for(var Mt=0;Mt<Ye;++Mt)le[Mt]=N[le[Mt]]}function Fa(N){for(var le=1;le<N.length;le++){var Ye=N[le-1]+N[le]-128;N[le]=Ye}}function Oo(N,le){for(var Ye=0,Mt=Math.floor((N.length+1)/2),Ft=0,Tt=N.length-1;!(Ft>Tt||(le[Ft++]=N[Ye++],Ft>Tt));)le[Ft++]=N[Mt++]}function _s(N){for(var le=N.byteLength,Ye=new Array,Mt=0,Ft=new DataView(N);le>0;){var Tt=Ft.getInt8(Mt++);if(Tt<0){var Hn=-Tt;le-=Hn+1;for(var Rn=0;Rn<Hn;Rn++)Ye.push(Ft.getUint8(Mt++))}else{var Hn=Tt;le-=2;for(var sr=Ft.getUint8(Mt++),Rn=0;Rn<Hn+1;Rn++)Ye.push(sr)}}return Ye}function es(N,le,Ye,Mt,Ft,Tt){var io=new DataView(Tt.buffer),Hn=Ye[N.idx[0]].width,Rn=Ye[N.idx[0]].height,sr=3,kn=Math.floor(Hn/8),Vn=Math.ceil(Hn/8),Fn=Math.ceil(Rn/8),ro=Hn-(Vn-1)*8,$r=Rn-(Fn-1)*8,Zr={value:0},pi=new Array(sr),$i=new Array(sr),Mo=new Array(sr),ho=new Array(sr),Wo=new Array(sr);for(let To=0;To<sr;++To)Wo[To]=le[N.idx[To]],pi[To]=To<1?0:pi[To-1]+Vn*Fn,$i[To]=new Float32Array(64),Mo[To]=new Uint16Array(64),ho[To]=new Uint16Array(Vn*64);for(let To=0;To<Fn;++To){var Yr=8;To==Fn-1&&(Yr=$r);var no=8;for(let Ao=0;Ao<Vn;++Ao){Ao==Vn-1&&(no=ro);for(let oo=0;oo<sr;++oo)Mo[oo].fill(0),Mo[oo][0]=Ft[pi[oo]++],Ki(Zr,Mt,Mo[oo]),xa(Mo[oo],$i[oo]),Nt($i[oo]);sr==3&&No($i);for(let oo=0;oo<sr;++oo)ka($i[oo],ho[oo],Ao*64)}let ws=0;for(let Ao=0;Ao<sr;++Ao){const oo=Ye[N.idx[Ao]].type;for(let ca=8*To;ca<8*To+Yr;++ca){ws=Wo[Ao][ca];for(let Za=0;Za<kn;++Za){const bs=Za*64+(ca&7)*8;io.setUint16(ws+0*2*oo,ho[Ao][bs+0],!0),io.setUint16(ws+1*2*oo,ho[Ao][bs+1],!0),io.setUint16(ws+2*2*oo,ho[Ao][bs+2],!0),io.setUint16(ws+3*2*oo,ho[Ao][bs+3],!0),io.setUint16(ws+4*2*oo,ho[Ao][bs+4],!0),io.setUint16(ws+5*2*oo,ho[Ao][bs+5],!0),io.setUint16(ws+6*2*oo,ho[Ao][bs+6],!0),io.setUint16(ws+7*2*oo,ho[Ao][bs+7],!0),ws+=8*2*oo}}if(kn!=Vn)for(let ca=8*To;ca<8*To+Yr;++ca){const Za=Wo[Ao][ca]+8*kn*2*oo,bs=kn*64+(ca&7)*8;for(let $s=0;$s<no;++$s)io.setUint16(Za+$s*2*oo,ho[Ao][bs+$s],!0)}}}for(var Jo=new Uint16Array(Hn),io=new DataView(Tt.buffer),ss=0;ss<sr;++ss){Ye[N.idx[ss]].decoded=!0;var ys=Ye[N.idx[ss]].type;if(Ye[ss].type==2)for(var Sa=0;Sa<Rn;++Sa){const To=Wo[ss][Sa];for(var jo=0;jo<Hn;++jo)Jo[jo]=io.getUint16(To+jo*2*ys,!0);for(var jo=0;jo<Hn;++jo)io.setFloat32(To+jo*2*ys,pr(Jo[jo]),!0)}}}function Ki(N,le,Ye){for(var Mt,Ft=1;Ft<64;)Mt=le[N.value],Mt==65280?Ft=64:Mt>>8==255?Ft+=Mt&255:(Ye[Ft]=Mt,Ft++),N.value++}function xa(N,le){le[0]=pr(N[0]),le[1]=pr(N[1]),le[2]=pr(N[5]),le[3]=pr(N[6]),le[4]=pr(N[14]),le[5]=pr(N[15]),le[6]=pr(N[27]),le[7]=pr(N[28]),le[8]=pr(N[2]),le[9]=pr(N[4]),le[10]=pr(N[7]),le[11]=pr(N[13]),le[12]=pr(N[16]),le[13]=pr(N[26]),le[14]=pr(N[29]),le[15]=pr(N[42]),le[16]=pr(N[3]),le[17]=pr(N[8]),le[18]=pr(N[12]),le[19]=pr(N[17]),le[20]=pr(N[25]),le[21]=pr(N[30]),le[22]=pr(N[41]),le[23]=pr(N[43]),le[24]=pr(N[9]),le[25]=pr(N[11]),le[26]=pr(N[18]),le[27]=pr(N[24]),le[28]=pr(N[31]),le[29]=pr(N[40]),le[30]=pr(N[44]),le[31]=pr(N[53]),le[32]=pr(N[10]),le[33]=pr(N[19]),le[34]=pr(N[23]),le[35]=pr(N[32]),le[36]=pr(N[39]),le[37]=pr(N[45]),le[38]=pr(N[52]),le[39]=pr(N[54]),le[40]=pr(N[20]),le[41]=pr(N[22]),le[42]=pr(N[33]),le[43]=pr(N[38]),le[44]=pr(N[46]),le[45]=pr(N[51]),le[46]=pr(N[55]),le[47]=pr(N[60]),le[48]=pr(N[21]),le[49]=pr(N[34]),le[50]=pr(N[37]),le[51]=pr(N[47]),le[52]=pr(N[50]),le[53]=pr(N[56]),le[54]=pr(N[59]),le[55]=pr(N[61]),le[56]=pr(N[35]),le[57]=pr(N[36]),le[58]=pr(N[48]),le[59]=pr(N[49]),le[60]=pr(N[57]),le[61]=pr(N[58]),le[62]=pr(N[62]),le[63]=pr(N[63])}function Nt(N){const le=.5*Math.cos(.7853975),Ye=.5*Math.cos(3.14159/16),Mt=.5*Math.cos(3.14159/8),Ft=.5*Math.cos(3*3.14159/16),Tt=.5*Math.cos(5*3.14159/16),Hn=.5*Math.cos(3*3.14159/8),Rn=.5*Math.cos(7*3.14159/16);for(var sr=new Array(4),kn=new Array(4),Vn=new Array(4),Fn=new Array(4),ro=0;ro<8;++ro){var $r=ro*8;sr[0]=Mt*N[$r+2],sr[1]=Hn*N[$r+2],sr[2]=Mt*N[$r+6],sr[3]=Hn*N[$r+6],kn[0]=Ye*N[$r+1]+Ft*N[$r+3]+Tt*N[$r+5]+Rn*N[$r+7],kn[1]=Ft*N[$r+1]-Rn*N[$r+3]-Ye*N[$r+5]-Tt*N[$r+7],kn[2]=Tt*N[$r+1]-Ye*N[$r+3]+Rn*N[$r+5]+Ft*N[$r+7],kn[3]=Rn*N[$r+1]-Tt*N[$r+3]+Ft*N[$r+5]-Ye*N[$r+7],Vn[0]=le*(N[$r+0]+N[$r+4]),Vn[3]=le*(N[$r+0]-N[$r+4]),Vn[1]=sr[0]+sr[3],Vn[2]=sr[1]-sr[2],Fn[0]=Vn[0]+Vn[1],Fn[1]=Vn[3]+Vn[2],Fn[2]=Vn[3]-Vn[2],Fn[3]=Vn[0]-Vn[1],N[$r+0]=Fn[0]+kn[0],N[$r+1]=Fn[1]+kn[1],N[$r+2]=Fn[2]+kn[2],N[$r+3]=Fn[3]+kn[3],N[$r+4]=Fn[3]-kn[3],N[$r+5]=Fn[2]-kn[2],N[$r+6]=Fn[1]-kn[1],N[$r+7]=Fn[0]-kn[0]}for(var Zr=0;Zr<8;++Zr)sr[0]=Mt*N[16+Zr],sr[1]=Hn*N[16+Zr],sr[2]=Mt*N[48+Zr],sr[3]=Hn*N[48+Zr],kn[0]=Ye*N[8+Zr]+Ft*N[24+Zr]+Tt*N[40+Zr]+Rn*N[56+Zr],kn[1]=Ft*N[8+Zr]-Rn*N[24+Zr]-Ye*N[40+Zr]-Tt*N[56+Zr],kn[2]=Tt*N[8+Zr]-Ye*N[24+Zr]+Rn*N[40+Zr]+Ft*N[56+Zr],kn[3]=Rn*N[8+Zr]-Tt*N[24+Zr]+Ft*N[40+Zr]-Ye*N[56+Zr],Vn[0]=le*(N[Zr]+N[32+Zr]),Vn[3]=le*(N[Zr]-N[32+Zr]),Vn[1]=sr[0]+sr[3],Vn[2]=sr[1]-sr[2],Fn[0]=Vn[0]+Vn[1],Fn[1]=Vn[3]+Vn[2],Fn[2]=Vn[3]-Vn[2],Fn[3]=Vn[0]-Vn[1],N[0+Zr]=Fn[0]+kn[0],N[8+Zr]=Fn[1]+kn[1],N[16+Zr]=Fn[2]+kn[2],N[24+Zr]=Fn[3]+kn[3],N[32+Zr]=Fn[3]-kn[3],N[40+Zr]=Fn[2]-kn[2],N[48+Zr]=Fn[1]-kn[1],N[56+Zr]=Fn[0]-kn[0]}function No(N){for(var le=0;le<64;++le){var Ye=N[0][le],Mt=N[1][le],Ft=N[2][le];N[0][le]=Ye+1.5747*Ft,N[1][le]=Ye-.1873*Mt-.4682*Ft,N[2][le]=Ye+1.8556*Mt}}function ka(N,le,Ye){for(var Mt=0;Mt<64;++Mt)le[Ye+Mt]=rt.DataUtils.toHalfFloat(Ya(N[Mt]))}function Ya(N){return N<=1?Math.sign(N)*Math.pow(Math.abs(N),2.2):Math.sign(N)*Math.pow($n,Math.abs(N)-1)}function Ds(N){return new DataView(N.array.buffer,N.offset.value,N.size)}function is(N){var le=N.viewer.buffer.slice(N.offset.value,N.offset.value+N.size),Ye=new Uint8Array(_s(le)),Mt=new Uint8Array(Ye.length);return Fa(Ye),Oo(Ye,Mt),new DataView(Mt.buffer)}function lo(N){var le=N.array.slice(N.offset.value,N.offset.value+N.size),Ye=Ve(le),Mt=new Uint8Array(Ye.length);return Fa(Ye),Oo(Ye,Mt),new DataView(Mt.buffer)}function cs(N){for(var le=N.viewer,Ye={value:N.offset.value},Mt=new Uint16Array(N.width*N.scanlineBlockSize*(N.channels*N.type)),Ft=new Uint8Array(8192),Tt=0,Hn=new Array(N.channels),Rn=0;Rn<N.channels;Rn++)Hn[Rn]={},Hn[Rn].start=Tt,Hn[Rn].end=Hn[Rn].start,Hn[Rn].nx=N.width,Hn[Rn].ny=N.lines,Hn[Rn].size=N.type,Tt+=Hn[Rn].nx*Hn[Rn].ny*Hn[Rn].size;var sr=Pa(le,Ye),kn=Pa(le,Ye);if(kn>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(sr<=kn)for(var Rn=0;Rn<kn-sr+1;Rn++)Ft[Rn+sr]=ba(le,Ye);var Vn=new Uint16Array(65536),Fn=Ar(Ft,Vn),ro=yo(le,Ye);ta(N.array,le,Ye,ro,Mt,Tt);for(var Rn=0;Rn<N.channels;++Rn)for(var $r=Hn[Rn],Zr=0;Zr<Hn[Rn].size;++Zr)n1(Mt,$r.start+Zr,$r.nx,$r.size,$r.ny,$r.nx*$r.size,Fn);Os(Vn,Mt,Tt);for(var pi=0,$i=new Uint8Array(Mt.buffer.byteLength),Mo=0;Mo<N.lines;Mo++)for(var ho=0;ho<N.channels;ho++){var $r=Hn[ho],Wo=$r.nx*$r.size,Yr=new Uint8Array(Mt.buffer,$r.end*2,Wo*2);$i.set(Yr,pi),pi+=Wo*2,$r.end+=Wo}return new DataView($i.buffer)}function we(N){var le=N.array.slice(N.offset.value,N.offset.value+N.size),Ye=Ve(le);const Mt=N.lines*N.channels*N.width,Ft=N.type==1?new Uint16Array(Mt):new Uint32Array(Mt);let Tt=0,Hn=0;const Rn=new Array(4);for(let sr=0;sr<N.lines;sr++)for(let kn=0;kn<N.channels;kn++){let Vn=0;switch(N.type){case 1:Rn[0]=Tt,Rn[1]=Rn[0]+N.width,Tt=Rn[1]+N.width;for(let Fn=0;Fn<N.width;++Fn){const ro=Ye[Rn[0]++]<<8|Ye[Rn[1]++];Vn+=ro,Ft[Hn]=Vn,Hn++}break;case 2:Rn[0]=Tt,Rn[1]=Rn[0]+N.width,Rn[2]=Rn[1]+N.width,Tt=Rn[2]+N.width;for(let Fn=0;Fn<N.width;++Fn){const ro=Ye[Rn[0]++]<<24|Ye[Rn[1]++]<<16|Ye[Rn[2]++]<<8;Vn+=ro,Ft[Hn]=Vn,Hn++}break}}return new DataView(Ft.buffer)}function Ta(N){var le=N.viewer,Ye={value:N.offset.value},Mt=new Uint8Array(N.width*N.lines*(N.channels*N.type*2)),Ft={version:zs(le,Ye),unknownUncompressedSize:zs(le,Ye),unknownCompressedSize:zs(le,Ye),acCompressedSize:zs(le,Ye),dcCompressedSize:zs(le,Ye),rleCompressedSize:zs(le,Ye),rleUncompressedSize:zs(le,Ye),rleRawSize:zs(le,Ye),totalAcUncompressedCount:zs(le,Ye),totalDcUncompressedCount:zs(le,Ye),acCompression:zs(le,Ye)};if(Ft.version<2)throw"EXRLoader.parse: "+Zo.compression+" version "+Ft.version+" is unsupported";for(var Tt=new Array,Hn=Pa(le,Ye)-2;Hn>0;){var Rn=ya(le.buffer,Ye),sr=ba(le,Ye),kn=sr>>2&3,Vn=(sr>>4)-1,Fn=new Int8Array([Vn])[0],ro=ba(le,Ye);Tt.push({name:Rn,index:Fn,type:ro,compression:kn}),Hn-=Rn.length+3}for(var $r=Zo.channels,Zr=new Array(N.channels),pi=0;pi<N.channels;++pi){var $i=Zr[pi]={},Mo=$r[pi];$i.name=Mo.name,$i.compression=0,$i.decoded=!1,$i.type=Mo.pixelType,$i.pLinear=Mo.pLinear,$i.width=N.width,$i.height=N.lines}for(var ho={idx:new Array(3)},Wo=0;Wo<N.channels;++Wo)for(var $i=Zr[Wo],pi=0;pi<Tt.length;++pi){var Yr=Tt[pi];$i.name==Yr.name&&($i.compression=Yr.compression,Yr.index>=0&&(ho.idx[Yr.index]=Wo),$i.offset=Wo)}if(Ft.acCompressedSize>0)switch(Ft.acCompression){case 0:var io=new Uint16Array(Ft.totalAcUncompressedCount);ta(N.array,le,Ye,Ft.acCompressedSize,io,Ft.totalAcUncompressedCount);break;case 1:var no=N.array.slice(Ye.value,Ye.value+Ft.totalAcUncompressedCount),Jo=Ve(no),io=new Uint16Array(Jo.buffer);Ye.value+=Ft.totalAcUncompressedCount;break}if(Ft.dcCompressedSize>0){var ss={array:N.array,offset:Ye,size:Ft.dcCompressedSize},ys=new Uint16Array(lo(ss).buffer);Ye.value+=Ft.dcCompressedSize}if(Ft.rleRawSize>0){var no=N.array.slice(Ye.value,Ye.value+Ft.rleCompressedSize),Jo=Ve(no),Sa=_s(Jo.buffer);Ye.value+=Ft.rleCompressedSize}for(var jo=0,To=new Array(Zr.length),pi=0;pi<To.length;++pi)To[pi]=new Array;for(var ws=0;ws<N.lines;++ws)for(var Ao=0;Ao<Zr.length;++Ao)To[Ao].push(jo),jo+=Zr[Ao].width*N.type*2;es(ho,To,Zr,io,ys,Mt);for(var pi=0;pi<Zr.length;++pi){var $i=Zr[pi];if(!$i.decoded)switch($i.compression){case 2:for(var oo=0,ca=0,ws=0;ws<N.lines;++ws){for(var Za=To[pi][oo],bs=0;bs<$i.width;++bs){for(var $s=0;$s<2*$i.type;++$s)Mt[Za++]=Sa[ca+$s*$i.width*$i.height];ca++}oo++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Mt.buffer)}function ya(N,le){for(var Ye=new Uint8Array(N),Mt=0;Ye[le.value+Mt]!=0;)Mt+=1;var Ft=new TextDecoder().decode(Ye.slice(le.value,le.value+Mt));return le.value=le.value+Mt+1,Ft}function Aa(N,le,Ye){var Mt=new TextDecoder().decode(new Uint8Array(N).slice(le.value,le.value+Ye));return le.value=le.value+Ye,Mt}function Js(N,le){var Ye=Ua(N,le),Mt=yo(N,le);return[Ye,Mt]}function U1(N,le){var Ye=yo(N,le),Mt=yo(N,le);return[Ye,Mt]}function Ua(N,le){var Ye=N.getInt32(le.value,!0);return le.value=le.value+4,Ye}function yo(N,le){var Ye=N.getUint32(le.value,!0);return le.value=le.value+4,Ye}function wa(N,le){var Ye=N[le.value];return le.value=le.value+1,Ye}function ba(N,le){var Ye=N.getUint8(le.value);return le.value=le.value+1,Ye}const zs=function(N,le){let Ye;return"getBigInt64"in DataView.prototype?Ye=Number(N.getBigInt64(le.value,!0)):Ye=N.getUint32(le.value+4,!0)+Number(N.getUint32(le.value,!0)<<32),le.value+=8,Ye};function Wi(N,le){var Ye=N.getFloat32(le.value,!0);return le.value+=4,Ye}function os(N,le){return rt.DataUtils.toHalfFloat(Wi(N,le))}function pr(N){var le=(N&31744)>>10,Ye=N&1023;return(N>>15?-1:1)*(le?le===31?Ye?NaN:1/0:Math.pow(2,le-15)*(1+Ye/1024):6103515625e-14*(Ye/1024))}function Pa(N,le){var Ye=N.getUint16(le.value,!0);return le.value+=2,Ye}function wo(N,le){return pr(Pa(N,le))}function Io(N,le,Ye,Mt){for(var Ft=Ye.value,Tt=[];Ye.value<Ft+Mt-1;){var Hn=ya(le,Ye),Rn=Ua(N,Ye),sr=ba(N,Ye);Ye.value+=3;var kn=Ua(N,Ye),Vn=Ua(N,Ye);Tt.push({name:Hn,pixelType:Rn,pLinear:sr,xSampling:kn,ySampling:Vn})}return Ye.value+=1,Tt}function us(N,le){var Ye=Wi(N,le),Mt=Wi(N,le),Ft=Wi(N,le),Tt=Wi(N,le),Hn=Wi(N,le),Rn=Wi(N,le),sr=Wi(N,le),kn=Wi(N,le);return{redX:Ye,redY:Mt,greenX:Ft,greenY:Tt,blueX:Hn,blueY:Rn,whiteX:sr,whiteY:kn}}function to(N,le){var Ye=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Mt=ba(N,le);return Ye[Mt]}function hi(N,le){var Ye=yo(N,le),Mt=yo(N,le),Ft=yo(N,le),Tt=yo(N,le);return{xMin:Ye,yMin:Mt,xMax:Ft,yMax:Tt}}function Do(N,le){var Ye=["INCREASING_Y"],Mt=ba(N,le);return Ye[Mt]}function fs(N,le){var Ye=Wi(N,le),Mt=Wi(N,le);return[Ye,Mt]}function Ma(N,le){var Ye=Wi(N,le),Mt=Wi(N,le),Ft=Wi(N,le);return[Ye,Mt,Ft]}function Hs(N,le,Ye,Mt,Ft){if(Mt==="string"||Mt==="stringvector"||Mt==="iccProfile")return Aa(le,Ye,Ft);if(Mt==="chlist")return Io(N,le,Ye,Ft);if(Mt==="chromaticities")return us(N,Ye);if(Mt==="compression")return to(N,Ye);if(Mt==="box2i")return hi(N,Ye);if(Mt==="lineOrder")return Do(N,Ye);if(Mt==="float")return Wi(N,Ye);if(Mt==="v2f")return fs(N,Ye);if(Mt==="v3f")return Ma(N,Ye);if(Mt==="int")return Ua(N,Ye);if(Mt==="rational")return Js(N,Ye);if(Mt==="timecode")return U1(N,Ye);if(Mt==="preview")return Ye.value+=Ft,"skipped";Ye.value+=Ft}function bo(N,le,Ye){const Mt={};if(N.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Mt.version=N.getUint8(4);const Ft=N.getUint8(5);Mt.spec={singleTile:!!(Ft&2),longName:!!(Ft&4),deepFormat:!!(Ft&8),multiPart:!!(Ft&16)},Ye.value=8;for(var Tt=!0;Tt;){var Hn=ya(le,Ye);if(Hn==0)Tt=!1;else{var Rn=ya(le,Ye),sr=yo(N,Ye),kn=Hs(N,le,Ye,Rn,sr);kn===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Rn}'.`):Mt[Hn]=kn}}if(Ft!=0)throw console.error("EXRHeader:",Mt),"THREE.EXRLoader: provided file is currently unsupported.";return Mt}function $a(N,le,Ye,Mt,Ft){const Tt={size:0,viewer:le,array:Ye,offset:Mt,width:N.dataWindow.xMax-N.dataWindow.xMin+1,height:N.dataWindow.yMax-N.dataWindow.yMin+1,channels:N.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:N.channels[0].pixelType,uncompress:null,getter:null,format:null,[Ps?"colorSpace":"encoding"]:null};switch(N.compression){case"NO_COMPRESSION":Tt.lines=1,Tt.uncompress=Ds;break;case"RLE_COMPRESSION":Tt.lines=1,Tt.uncompress=is;break;case"ZIPS_COMPRESSION":Tt.lines=1,Tt.uncompress=lo;break;case"ZIP_COMPRESSION":Tt.lines=16,Tt.uncompress=lo;break;case"PIZ_COMPRESSION":Tt.lines=32,Tt.uncompress=cs;break;case"PXR24_COMPRESSION":Tt.lines=16,Tt.uncompress=we;break;case"DWAA_COMPRESSION":Tt.lines=32,Tt.uncompress=Ta;break;case"DWAB_COMPRESSION":Tt.lines=256,Tt.uncompress=Ta;break;default:throw"EXRLoader.parse: "+N.compression+" is unsupported"}if(Tt.scanlineBlockSize=Tt.lines,Tt.type==1)switch(Ft){case rt.FloatType:Tt.getter=wo,Tt.inputSize=2;break;case rt.HalfFloatType:Tt.getter=Pa,Tt.inputSize=2;break}else if(Tt.type==2)switch(Ft){case rt.FloatType:Tt.getter=Wi,Tt.inputSize=4;break;case rt.HalfFloatType:Tt.getter=os,Tt.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+Tt.type+" for "+N.compression+".";Tt.blockCount=(N.dataWindow.yMax+1)/Tt.scanlineBlockSize;for(var Hn=0;Hn<Tt.blockCount;Hn++)zs(le,Mt);Tt.outputChannels=Tt.channels==3?4:Tt.channels;const Rn=Tt.width*Tt.height*Tt.outputChannels;switch(Ft){case rt.FloatType:Tt.byteArray=new Float32Array(Rn),Tt.channels<Tt.outputChannels&&Tt.byteArray.fill(1,0,Rn);break;case rt.HalfFloatType:Tt.byteArray=new Uint16Array(Rn),Tt.channels<Tt.outputChannels&&Tt.byteArray.fill(15360,0,Rn);break;default:console.error("THREE.EXRLoader: unsupported type: ",Ft);break}return Tt.bytesPerLine=Tt.width*Tt.inputSize*Tt.channels,Tt.outputChannels==4?Tt.format=rt.RGBAFormat:Tt.format=rt.RedFormat,Ps?Tt.colorSpace="srgb-linear":Tt.encoding=3e3,Tt}const xs=new DataView(g),ks=new Uint8Array(g),Us={value:0},Zo=bo(xs,g,Us),ui=$a(Zo,xs,ks,Us,this.type),fo={value:0},ts={R:0,G:1,B:2,A:3,Y:0};for(let N=0;N<ui.height/ui.scanlineBlockSize;N++){const le=yo(xs,Us);ui.size=yo(xs,Us),ui.lines=le+ui.scanlineBlockSize>ui.height?ui.height-le:ui.scanlineBlockSize;const Mt=ui.size<ui.lines*ui.bytesPerLine?ui.uncompress(ui):Ds(ui);Us.value+=ui.size;for(let Ft=0;Ft<ui.scanlineBlockSize;Ft++){const Tt=Ft+N*ui.scanlineBlockSize;if(Tt>=ui.height)break;for(let Hn=0;Hn<ui.channels;Hn++){const Rn=ts[Zo.channels[Hn].name];for(let sr=0;sr<ui.width;sr++){fo.value=(Ft*(ui.channels*ui.width)+Hn*ui.width+sr)*ui.inputSize;const kn=(ui.height-1-Tt)*(ui.width*ui.outputChannels)+sr*ui.outputChannels+Rn;ui.byteArray[kn]=ui.getter(Mt,fo)}}}}return{header:Zo,width:ui.width,height:ui.height,data:ui.byteArray,format:ui.format,[Ps?"colorSpace":"encoding"]:ui[Ps?"colorSpace":"encoding"],type:this.type}}setDataType(g){return this.type=g,this}load(g,w,D,ee){function ne(T,V){Ps?T.colorSpace=V.colorSpace:T.encoding=V.encoding,T.minFilter=rt.LinearFilter,T.magFilter=rt.LinearFilter,T.generateMipmaps=!1,T.flipY=!1,w&&w(T,V)}return super.load(g,ne,D,ee)}}const Ea={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},Vs="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",zi=p=>Array.isArray(p);function Cs({files:p=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:g="",preset:w=void 0,encoding:D=void 0,extensions:ee}={}){var ne,T,V;let M=null,H=!1,Q;if(w){if(!(w in Ea))throw new Error("Preset must be one of: "+Object.keys(Ea).join(", "));p=Ea[w],g=Vs}if(H=zi(p),Q=zi(p)?"cube":p.startsWith("data:application/exr")?"exr":p.startsWith("data:application/hdr")?"hdr":(ne=p.split(".").pop())==null||(T=ne.split("?"))==null||(V=T.shift())==null?void 0:V.toLowerCase(),M=H?rt.CubeTextureLoader:Q==="hdr"?ye:Q==="exr"?Va:null,!M)throw new Error("useEnvironment: Unrecognized file extension: "+p);const Te=(0,U.D)(M,H?[p]:p,vt=>{vt.setPath==null||vt.setPath(g),ee&&ee(vt)}),mt=H?Te[0]:Te;mt.mapping=H?rt.CubeReflectionMapping:rt.EquirectangularReflectionMapping;const St=3001,Ut=3e3;return"colorSpace"in mt?mt.colorSpace=(D!=null?D:H)?"srgb":"srgb-linear":mt.encoding=(D!=null?D:H)?St:Ut,mt}const ea=p=>p.current&&p.current.isScene,Ci=p=>ea(p)?p.current:p;function Ys(p,g,w,D,ee=0){const ne=Ci(g||w),T=ne.background,V=ne.environment,M=ne.backgroundBlurriness||0;return p!=="only"&&(ne.environment=D),p&&(ne.background=D),p&&ne.backgroundBlurriness!==void 0&&(ne.backgroundBlurriness=ee),()=>{p!=="only"&&(ne.environment=V),p&&(ne.background=T),p&&ne.backgroundBlurriness!==void 0&&(ne.backgroundBlurriness=M)}}function _a({scene:p,background:g=!1,blur:w,map:D}){const ee=(0,U.z)(ne=>ne.scene);return he.useLayoutEffect(()=>{if(D)return Ys(g,p,ee,D,w)},[ee,p,D,g,w]),null}function Ko(ee){var ne=ee,{background:p=!1,scene:g,blur:w}=ne,D=Na(ne,["background","scene","blur"]);const T=Cs(D),V=(0,U.z)(M=>M.scene);return he.useLayoutEffect(()=>Ys(p,g,V,T,w),[T,p,g,V,w]),null}function la({children:p,near:g=1,far:w=1e3,resolution:D=256,frames:ee=1,map:ne,background:T=!1,blur:V,scene:M,files:H,path:Q,preset:Te=void 0,extensions:mt}){const St=(0,U.z)(Pt=>Pt.gl),Ut=(0,U.z)(Pt=>Pt.scene),vt=he.useRef(null),[$t]=he.useState(()=>new rt.Scene),Un=he.useMemo(()=>{const Pt=new rt.WebGLCubeRenderTarget(D);return Pt.texture.type=rt.HalfFloatType,Pt},[D]);he.useLayoutEffect(()=>(ee===1&&vt.current.update(St,$t),Ys(T,M,Ut,Un.texture,V)),[p,$t,Un.texture,M,Ut,T,ee,St]);let ln=1;return(0,U.A)(()=>{(ee===1/0||ln<ee)&&(vt.current.update(St,$t),ln++)}),he.createElement(he.Fragment,null,(0,U.g)(he.createElement(he.Fragment,null,p,he.createElement("cubeCamera",{ref:vt,args:[g,w,Un]}),H||Te?he.createElement(Ko,{background:!0,files:H,preset:Te,path:Q,extensions:mt}):ne?he.createElement(_a,{background:!0,map:ne,extensions:mt}):null),$t))}function Ks(p){var g,w,D,ee;const ne=Cs(p),T=p.map||ne;he.useMemo(()=>(0,U.e)({GroundProjectedEnvImpl:At}),[]);const V=he.useMemo(()=>[T],[T]),M=(g=p.ground)==null?void 0:g.height,H=(w=p.ground)==null?void 0:w.radius,Q=(D=(ee=p.ground)==null?void 0:ee.scale)!==null&&D!==void 0?D:1e3;return he.createElement(he.Fragment,null,he.createElement(_a,(0,O.Z)({},p,{map:T})),he.createElement("groundProjectedEnvImpl",{args:V,scale:Q,height:M,radius:H}))}function xo(p){return p.ground?he.createElement(Ks,p):p.map?he.createElement(_a,p):p.children?he.createElement(la,p):he.createElement(Ko,p)}},60201:function(Jt,Qe,te){"use strict";te.d(Qe,{z:function(){return ot}});var O=te(47622),he=te(47266),U=te(50959),rt=te(75411),Ct=Object.defineProperty,At=(_e,yt,Rt)=>yt in _e?Ct(_e,yt,{enumerable:!0,configurable:!0,writable:!0,value:Rt}):_e[yt]=Rt,ye=(_e,yt,Rt)=>(At(_e,typeof yt!="symbol"?yt+"":yt,Rt),Rt);const kt=(_e,yt)=>(_e%yt+yt)%yt;class Ce extends rt.EventDispatcher{constructor(yt,Rt){super(),ye(this,"object"),ye(this,"domElement"),ye(this,"enabled",!0),ye(this,"target",new rt.Vector3),ye(this,"minDistance",0),ye(this,"maxDistance",1/0),ye(this,"minZoom",0),ye(this,"maxZoom",1/0),ye(this,"minPolarAngle",0),ye(this,"maxPolarAngle",Math.PI),ye(this,"minAzimuthAngle",-1/0),ye(this,"maxAzimuthAngle",1/0),ye(this,"enableDamping",!1),ye(this,"dampingFactor",.05),ye(this,"enableZoom",!0),ye(this,"zoomSpeed",1),ye(this,"enableRotate",!0),ye(this,"rotateSpeed",1),ye(this,"enablePan",!0),ye(this,"panSpeed",1),ye(this,"screenSpacePanning",!0),ye(this,"keyPanSpeed",7),ye(this,"autoRotate",!1),ye(this,"autoRotateSpeed",2),ye(this,"reverseOrbit",!1),ye(this,"reverseHorizontalOrbit",!1),ye(this,"reverseVerticalOrbit",!1),ye(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ye(this,"mouseButtons",{LEFT:rt.MOUSE.ROTATE,MIDDLE:rt.MOUSE.DOLLY,RIGHT:rt.MOUSE.PAN}),ye(this,"touches",{ONE:rt.TOUCH.ROTATE,TWO:rt.TOUCH.DOLLY_PAN}),ye(this,"target0"),ye(this,"position0"),ye(this,"zoom0"),ye(this,"_domElementKeyEvents",null),ye(this,"getPolarAngle"),ye(this,"getAzimuthalAngle"),ye(this,"setPolarAngle"),ye(this,"setAzimuthalAngle"),ye(this,"getDistance"),ye(this,"listenToKeyEvents"),ye(this,"stopListenToKeyEvents"),ye(this,"saveState"),ye(this,"reset"),ye(this,"update"),ye(this,"connect"),ye(this,"dispose"),this.object=yt,this.domElement=Rt,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>Zn.phi,this.getAzimuthalAngle=()=>Zn.theta,this.setPolarAngle=tt=>{let Xt=kt(tt,2*Math.PI),Pn=Zn.phi;Pn<0&&(Pn+=2*Math.PI),Xt<0&&(Xt+=2*Math.PI);let Dr=Math.abs(Xt-Pn);2*Math.PI-Dr<Dr&&(Xt<Pn?Xt+=2*Math.PI:Pn+=2*Math.PI),tr.phi=Xt-Pn,oe.update()},this.setAzimuthalAngle=tt=>{let Xt=kt(tt,2*Math.PI),Pn=Zn.theta;Pn<0&&(Pn+=2*Math.PI),Xt<0&&(Xt+=2*Math.PI);let Dr=Math.abs(Xt-Pn);2*Math.PI-Dr<Dr&&(Xt<Pn?Xt+=2*Math.PI:Pn+=2*Math.PI),tr.theta=Xt-Pn,oe.update()},this.getDistance=()=>oe.object.position.distanceTo(oe.target),this.listenToKeyEvents=tt=>{tt.addEventListener("keydown",Xn),this._domElementKeyEvents=tt},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Xn),this._domElementKeyEvents=null},this.saveState=()=>{oe.target0.copy(oe.target),oe.position0.copy(oe.object.position),oe.zoom0=oe.object.zoom},this.reset=()=>{oe.target.copy(oe.target0),oe.object.position.copy(oe.position0),oe.object.zoom=oe.zoom0,oe.object.updateProjectionMatrix(),oe.dispatchEvent(rr),oe.update(),mn=jt.NONE},this.update=(()=>{const tt=new rt.Vector3,Xt=new rt.Vector3(0,1,0),Pn=new rt.Quaternion().setFromUnitVectors(yt.up,Xt),Dr=Pn.clone().invert(),Xr=new rt.Vector3,Fi=new rt.Quaternion,yi=2*Math.PI;return function(){const Ui=oe.object.position;Pn.setFromUnitVectors(yt.up,Xt),Dr.copy(Pn).invert(),tt.copy(Ui).sub(oe.target),tt.applyQuaternion(Pn),Zn.setFromVector3(tt),oe.autoRotate&&mn===jt.NONE&&ke(ge()),oe.enableDamping?(Zn.theta+=tr.theta*oe.dampingFactor,Zn.phi+=tr.phi*oe.dampingFactor):(Zn.theta+=tr.theta,Zn.phi+=tr.phi);let ki=oe.minAzimuthAngle,wi=oe.maxAzimuthAngle;return isFinite(ki)&&isFinite(wi)&&(ki<-Math.PI?ki+=yi:ki>Math.PI&&(ki-=yi),wi<-Math.PI?wi+=yi:wi>Math.PI&&(wi-=yi),ki<=wi?Zn.theta=Math.max(ki,Math.min(wi,Zn.theta)):Zn.theta=Zn.theta>(ki+wi)/2?Math.max(ki,Zn.theta):Math.min(wi,Zn.theta)),Zn.phi=Math.max(oe.minPolarAngle,Math.min(oe.maxPolarAngle,Zn.phi)),Zn.makeSafe(),Zn.radius*=wn,Zn.radius=Math.max(oe.minDistance,Math.min(oe.maxDistance,Zn.radius)),oe.enableDamping===!0?oe.target.addScaledVector(bn,oe.dampingFactor):oe.target.add(bn),tt.setFromSpherical(Zn),tt.applyQuaternion(Dr),Ui.copy(oe.target).add(tt),oe.object.lookAt(oe.target),oe.enableDamping===!0?(tr.theta*=1-oe.dampingFactor,tr.phi*=1-oe.dampingFactor,bn.multiplyScalar(1-oe.dampingFactor)):(tr.set(0,0,0),bn.set(0,0,0)),wn=1,ur||Xr.distanceToSquared(oe.object.position)>yr||8*(1-Fi.dot(oe.object.quaternion))>yr?(oe.dispatchEvent(rr),Xr.copy(oe.object.position),Fi.copy(oe.object.quaternion),ur=!1,!0):!1}})(),this.connect=tt=>{tt===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),oe.domElement=tt,oe.domElement.style.touchAction="none",oe.domElement.addEventListener("contextmenu",Oi),oe.domElement.addEventListener("pointerdown",fn),oe.domElement.addEventListener("pointercancel",Tr),oe.domElement.addEventListener("wheel",Qr)},this.dispose=()=>{var tt,Xt,Pn,Dr,Xr,Fi;(tt=oe.domElement)==null||tt.removeEventListener("contextmenu",Oi),(Xt=oe.domElement)==null||Xt.removeEventListener("pointerdown",fn),(Pn=oe.domElement)==null||Pn.removeEventListener("pointercancel",Tr),(Dr=oe.domElement)==null||Dr.removeEventListener("wheel",Qr),(Xr=oe.domElement)==null||Xr.ownerDocument.removeEventListener("pointermove",ir),(Fi=oe.domElement)==null||Fi.ownerDocument.removeEventListener("pointerup",pn),oe._domElementKeyEvents!==null&&oe._domElementKeyEvents.removeEventListener("keydown",Xn)};const oe=this,rr={type:"change"},hn={type:"start"},An={type:"end"},jt={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let mn=jt.NONE;const yr=1e-6,Zn=new rt.Spherical,tr=new rt.Spherical;let wn=1;const bn=new rt.Vector3;let ur=!1;const qn=new rt.Vector2,Ge=new rt.Vector2,gt=new rt.Vector2,be=new rt.Vector2,It=new rt.Vector2,Ke=new rt.Vector2,We=new rt.Vector2,Ne=new rt.Vector2,Y=new rt.Vector2,Ae=[],Ze={};function ge(){return 2*Math.PI/60/60*oe.autoRotateSpeed}function Be(){return Math.pow(.95,oe.zoomSpeed)}function ke(tt){oe.reverseOrbit||oe.reverseHorizontalOrbit?tr.theta+=tt:tr.theta-=tt}function et(tt){oe.reverseOrbit||oe.reverseVerticalOrbit?tr.phi+=tt:tr.phi-=tt}const wt=(()=>{const tt=new rt.Vector3;return function(Pn,Dr){tt.setFromMatrixColumn(Dr,0),tt.multiplyScalar(-Pn),bn.add(tt)}})(),Vt=(()=>{const tt=new rt.Vector3;return function(Pn,Dr){oe.screenSpacePanning===!0?tt.setFromMatrixColumn(Dr,1):(tt.setFromMatrixColumn(Dr,0),tt.crossVectors(oe.object.up,tt)),tt.multiplyScalar(Pn),bn.add(tt)}})(),nn=(()=>{const tt=new rt.Vector3;return function(Pn,Dr){const Xr=oe.domElement;if(Xr&&oe.object instanceof rt.PerspectiveCamera&&oe.object.isPerspectiveCamera){const Fi=oe.object.position;tt.copy(Fi).sub(oe.target);let yi=tt.length();yi*=Math.tan(oe.object.fov/2*Math.PI/180),wt(2*Pn*yi/Xr.clientHeight,oe.object.matrix),Vt(2*Dr*yi/Xr.clientHeight,oe.object.matrix)}else Xr&&oe.object instanceof rt.OrthographicCamera&&oe.object.isOrthographicCamera?(wt(Pn*(oe.object.right-oe.object.left)/oe.object.zoom/Xr.clientWidth,oe.object.matrix),Vt(Dr*(oe.object.top-oe.object.bottom)/oe.object.zoom/Xr.clientHeight,oe.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),oe.enablePan=!1)}})();function un(tt){oe.object instanceof rt.PerspectiveCamera&&oe.object.isPerspectiveCamera?wn/=tt:oe.object instanceof rt.OrthographicCamera&&oe.object.isOrthographicCamera?(oe.object.zoom=Math.max(oe.minZoom,Math.min(oe.maxZoom,oe.object.zoom*tt)),oe.object.updateProjectionMatrix(),ur=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),oe.enableZoom=!1)}function Cn(tt){oe.object instanceof rt.PerspectiveCamera&&oe.object.isPerspectiveCamera?wn*=tt:oe.object instanceof rt.OrthographicCamera&&oe.object.isOrthographicCamera?(oe.object.zoom=Math.max(oe.minZoom,Math.min(oe.maxZoom,oe.object.zoom/tt)),oe.object.updateProjectionMatrix(),ur=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),oe.enableZoom=!1)}function dr(tt){qn.set(tt.clientX,tt.clientY)}function lr(tt){We.set(tt.clientX,tt.clientY)}function Mr(tt){be.set(tt.clientX,tt.clientY)}function Er(tt){Ge.set(tt.clientX,tt.clientY),gt.subVectors(Ge,qn).multiplyScalar(oe.rotateSpeed);const Xt=oe.domElement;Xt&&(ke(2*Math.PI*gt.x/Xt.clientHeight),et(2*Math.PI*gt.y/Xt.clientHeight)),qn.copy(Ge),oe.update()}function Wn(tt){Ne.set(tt.clientX,tt.clientY),Y.subVectors(Ne,We),Y.y>0?un(Be()):Y.y<0&&Cn(Be()),We.copy(Ne),oe.update()}function Nn(tt){It.set(tt.clientX,tt.clientY),Ke.subVectors(It,be).multiplyScalar(oe.panSpeed),nn(Ke.x,Ke.y),be.copy(It),oe.update()}function Nr(tt){tt.deltaY<0?Cn(Be()):tt.deltaY>0&&un(Be()),oe.update()}function ti(tt){let Xt=!1;switch(tt.code){case oe.keys.UP:nn(0,oe.keyPanSpeed),Xt=!0;break;case oe.keys.BOTTOM:nn(0,-oe.keyPanSpeed),Xt=!0;break;case oe.keys.LEFT:nn(oe.keyPanSpeed,0),Xt=!0;break;case oe.keys.RIGHT:nn(-oe.keyPanSpeed,0),Xt=!0;break}Xt&&(tt.preventDefault(),oe.update())}function Or(){if(Ae.length==1)qn.set(Ae[0].pageX,Ae[0].pageY);else{const tt=.5*(Ae[0].pageX+Ae[1].pageX),Xt=.5*(Ae[0].pageY+Ae[1].pageY);qn.set(tt,Xt)}}function Jr(){if(Ae.length==1)be.set(Ae[0].pageX,Ae[0].pageY);else{const tt=.5*(Ae[0].pageX+Ae[1].pageX),Xt=.5*(Ae[0].pageY+Ae[1].pageY);be.set(tt,Xt)}}function zr(){const tt=Ae[0].pageX-Ae[1].pageX,Xt=Ae[0].pageY-Ae[1].pageY,Pn=Math.sqrt(tt*tt+Xt*Xt);We.set(0,Pn)}function gi(){oe.enableZoom&&zr(),oe.enablePan&&Jr()}function qr(){oe.enableZoom&&zr(),oe.enableRotate&&Or()}function Ii(tt){if(Ae.length==1)Ge.set(tt.pageX,tt.pageY);else{const Pn=oi(tt),Dr=.5*(tt.pageX+Pn.x),Xr=.5*(tt.pageY+Pn.y);Ge.set(Dr,Xr)}gt.subVectors(Ge,qn).multiplyScalar(oe.rotateSpeed);const Xt=oe.domElement;Xt&&(ke(2*Math.PI*gt.x/Xt.clientHeight),et(2*Math.PI*gt.y/Xt.clientHeight)),qn.copy(Ge)}function Ht(tt){if(Ae.length==1)It.set(tt.pageX,tt.pageY);else{const Xt=oi(tt),Pn=.5*(tt.pageX+Xt.x),Dr=.5*(tt.pageY+Xt.y);It.set(Pn,Dr)}Ke.subVectors(It,be).multiplyScalar(oe.panSpeed),nn(Ke.x,Ke.y),be.copy(It)}function Gt(tt){const Xt=oi(tt),Pn=tt.pageX-Xt.x,Dr=tt.pageY-Xt.y,Xr=Math.sqrt(Pn*Pn+Dr*Dr);Ne.set(0,Xr),Y.set(0,Math.pow(Ne.y/We.y,oe.zoomSpeed)),un(Y.y),We.copy(Ne)}function on(tt){oe.enableZoom&&Gt(tt),oe.enablePan&&Ht(tt)}function an(tt){oe.enableZoom&&Gt(tt),oe.enableRotate&&Ii(tt)}function fn(tt){var Xt,Pn;oe.enabled!==!1&&(Ae.length===0&&((Xt=oe.domElement)==null||Xt.ownerDocument.addEventListener("pointermove",ir),(Pn=oe.domElement)==null||Pn.ownerDocument.addEventListener("pointerup",pn)),qi(tt),tt.pointerType==="touch"?On(tt):Jn(tt))}function ir(tt){oe.enabled!==!1&&(tt.pointerType==="touch"?si(tt):ci(tt))}function pn(tt){var Xt,Pn,Dr;Ti(tt),Ae.length===0&&((Xt=oe.domElement)==null||Xt.releasePointerCapture(tt.pointerId),(Pn=oe.domElement)==null||Pn.ownerDocument.removeEventListener("pointermove",ir),(Dr=oe.domElement)==null||Dr.ownerDocument.removeEventListener("pointerup",pn)),oe.dispatchEvent(An),mn=jt.NONE}function Tr(tt){Ti(tt)}function Jn(tt){let Xt;switch(tt.button){case 0:Xt=oe.mouseButtons.LEFT;break;case 1:Xt=oe.mouseButtons.MIDDLE;break;case 2:Xt=oe.mouseButtons.RIGHT;break;default:Xt=-1}switch(Xt){case rt.MOUSE.DOLLY:if(oe.enableZoom===!1)return;lr(tt),mn=jt.DOLLY;break;case rt.MOUSE.ROTATE:if(tt.ctrlKey||tt.metaKey||tt.shiftKey){if(oe.enablePan===!1)return;Mr(tt),mn=jt.PAN}else{if(oe.enableRotate===!1)return;dr(tt),mn=jt.ROTATE}break;case rt.MOUSE.PAN:if(tt.ctrlKey||tt.metaKey||tt.shiftKey){if(oe.enableRotate===!1)return;dr(tt),mn=jt.ROTATE}else{if(oe.enablePan===!1)return;Mr(tt),mn=jt.PAN}break;default:mn=jt.NONE}mn!==jt.NONE&&oe.dispatchEvent(hn)}function ci(tt){if(oe.enabled!==!1)switch(mn){case jt.ROTATE:if(oe.enableRotate===!1)return;Er(tt);break;case jt.DOLLY:if(oe.enableZoom===!1)return;Wn(tt);break;case jt.PAN:if(oe.enablePan===!1)return;Nn(tt);break}}function Qr(tt){oe.enabled===!1||oe.enableZoom===!1||mn!==jt.NONE&&mn!==jt.ROTATE||(tt.preventDefault(),oe.dispatchEvent(hn),Nr(tt),oe.dispatchEvent(An))}function Xn(tt){oe.enabled===!1||oe.enablePan===!1||ti(tt)}function On(tt){switch(vr(tt),Ae.length){case 1:switch(oe.touches.ONE){case rt.TOUCH.ROTATE:if(oe.enableRotate===!1)return;Or(),mn=jt.TOUCH_ROTATE;break;case rt.TOUCH.PAN:if(oe.enablePan===!1)return;Jr(),mn=jt.TOUCH_PAN;break;default:mn=jt.NONE}break;case 2:switch(oe.touches.TWO){case rt.TOUCH.DOLLY_PAN:if(oe.enableZoom===!1&&oe.enablePan===!1)return;gi(),mn=jt.TOUCH_DOLLY_PAN;break;case rt.TOUCH.DOLLY_ROTATE:if(oe.enableZoom===!1&&oe.enableRotate===!1)return;qr(),mn=jt.TOUCH_DOLLY_ROTATE;break;default:mn=jt.NONE}break;default:mn=jt.NONE}mn!==jt.NONE&&oe.dispatchEvent(hn)}function si(tt){switch(vr(tt),mn){case jt.TOUCH_ROTATE:if(oe.enableRotate===!1)return;Ii(tt),oe.update();break;case jt.TOUCH_PAN:if(oe.enablePan===!1)return;Ht(tt),oe.update();break;case jt.TOUCH_DOLLY_PAN:if(oe.enableZoom===!1&&oe.enablePan===!1)return;on(tt),oe.update();break;case jt.TOUCH_DOLLY_ROTATE:if(oe.enableZoom===!1&&oe.enableRotate===!1)return;an(tt),oe.update();break;default:mn=jt.NONE}}function Oi(tt){oe.enabled!==!1&&tt.preventDefault()}function qi(tt){Ae.push(tt)}function Ti(tt){delete Ze[tt.pointerId];for(let Xt=0;Xt<Ae.length;Xt++)if(Ae[Xt].pointerId==tt.pointerId){Ae.splice(Xt,1);return}}function vr(tt){let Xt=Ze[tt.pointerId];Xt===void 0&&(Xt=new rt.Vector2,Ze[tt.pointerId]=Xt),Xt.set(tt.pageX,tt.pageY)}function oi(tt){const Xt=tt.pointerId===Ae[0].pointerId?Ae[1]:Ae[0];return Ze[Xt.pointerId]}Rt!==void 0&&this.connect(Rt),this.update()}}class Re extends null{constructor(yt,Rt){super(yt,Rt),this.screenSpacePanning=!1,this.mouseButtons.LEFT=MOUSE.PAN,this.mouseButtons.RIGHT=MOUSE.ROTATE,this.touches.ONE=TOUCH.PAN,this.touches.TWO=TOUCH.DOLLY_ROTATE}}const ot=U.forwardRef((tr,Zn)=>{var wn=tr,{makeDefault:_e,camera:yt,regress:Rt,domElement:oe,enableDamping:rr=!0,keyEvents:hn=!1,onChange:An,onStart:jt,onEnd:mn}=wn,yr=Na(wn,["makeDefault","camera","regress","domElement","enableDamping","keyEvents","onChange","onStart","onEnd"]);const bn=(0,he.z)(Ae=>Ae.invalidate),ur=(0,he.z)(Ae=>Ae.camera),qn=(0,he.z)(Ae=>Ae.gl),Ge=(0,he.z)(Ae=>Ae.events),gt=(0,he.z)(Ae=>Ae.setEvents),be=(0,he.z)(Ae=>Ae.set),It=(0,he.z)(Ae=>Ae.get),Ke=(0,he.z)(Ae=>Ae.performance),We=yt||ur,Ne=oe||Ge.connected||qn.domElement,Y=U.useMemo(()=>new Ce(We),[We]);return(0,he.A)(()=>{Y.enabled&&Y.update()},-1),U.useEffect(()=>(hn&&Y.connect(hn===!0?Ne:hn),Y.connect(Ne),()=>void Y.dispose()),[hn,Ne,Rt,Y,bn]),U.useEffect(()=>{const Ae=Be=>{bn(),Rt&&Ke.regress(),An&&An(Be)},Ze=Be=>{jt&&jt(Be)},ge=Be=>{mn&&mn(Be)};return Y.addEventListener("change",Ae),Y.addEventListener("start",Ze),Y.addEventListener("end",ge),()=>{Y.removeEventListener("start",Ze),Y.removeEventListener("end",ge),Y.removeEventListener("change",Ae)}},[An,jt,mn,Y,bn,gt]),U.useEffect(()=>{if(_e){const Ae=It().controls;return be({controls:Y}),()=>be({controls:Ae})}},[_e,Y]),U.createElement("primitive",(0,O.Z)({ref:Zn,object:Y,enableDamping:rr},yr))})},47266:function(Jt,Qe,te){"use strict";te.d(Qe,{A:function(){return si},B:function(){return Ge},D:function(){return Ti},E:function(){return gt},a:function(){return ur},b:function(){return yi},c:function(){return Nn},d:function(){return ki},e:function(){return An},g:function(){return wi},i:function(){return bn},u:function(){return qn},z:function(){return On}});var O=te(75411),he=te(50959),U=te(85259),rt=te(31171),Ct=te(97427),At=te.n(Ct),ye=te(65297);const kt=I=>typeof I=="object"&&typeof I.then=="function",Ce=[];function Re(I,E,P=(ie,ce)=>ie===ce){if(I===E)return!0;if(!I||!E)return!1;const ie=I.length;if(E.length!==ie)return!1;for(let ce=0;ce<ie;ce++)if(!P(I[ce],E[ce]))return!1;return!0}function ot(I,E=null,P=!1,ie={}){E===null&&(E=[I]);for(const He of Ce)if(Re(E,He.keys,He.equal)){if(P)return;if(Object.prototype.hasOwnProperty.call(He,"error"))throw He.error;if(Object.prototype.hasOwnProperty.call(He,"response"))return ie.lifespan&&ie.lifespan>0&&(He.timeout&&clearTimeout(He.timeout),He.timeout=setTimeout(He.remove,ie.lifespan)),He.response;if(!P)throw He.promise}const ce={keys:E,equal:ie.equal,remove:()=>{const He=Ce.indexOf(ce);He!==-1&&Ce.splice(He,1)},promise:(kt(I)?I:I(...E)).then(He=>{ce.response=He,ie.lifespan&&ie.lifespan>0&&(ce.timeout=setTimeout(ce.remove,ie.lifespan))}).catch(He=>ce.error=He)};if(Ce.push(ce),!P)throw ce.promise}const _e=(I,E,P)=>ot(I,E,!1,P),yt=(I,E,P)=>void ot(I,E,!0,P),Rt=I=>{var E;return(E=Ce.find(P=>Re(I,P.keys,P.equal)))==null?void 0:E.response},oe=I=>{if(I===void 0||I.length===0)Ce.splice(0,Ce.length);else{const E=Ce.find(P=>Re(I,P.keys,P.equal));E&&E.remove()}};var rr=Object.freeze({__proto__:null});const hn={},An=I=>void Object.assign(hn,I);function jt(I,E){function P(Me,$,dt){var K=$,{args:Ve=[],attach:lt}=K,ht=Na(K,["args","attach"]);let X=`${Me[0].toUpperCase()}${Me.slice(1)}`,W;if(Me==="primitive"){if(ht.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const ve=ht.object;W=ge(ve,{type:Me,root:dt,attach:lt,primitive:!0})}else{const ve=hn[X];if(!ve)throw new Error(`R3F: ${X} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(Ve))throw new Error("R3F: The args prop must be an array!");W=ge(new ve(...Ve),{type:Me,root:dt,attach:lt,memoizedProps:{args:Ve}})}return W.__r3f.attach===void 0&&(W instanceof O.BufferGeometry?W.__r3f.attach="geometry":W instanceof O.Material&&(W.__r3f.attach="material")),X!=="inject"&&nn(W,ht),W}function ie(Me,Ve){let lt=!1;if(Ve){var ht,dt;(ht=Ve.__r3f)!=null&&ht.attach?et(Me,Ve,Ve.__r3f.attach):Ve.isObject3D&&Me.isObject3D&&(Me.add(Ve),lt=!0),lt||(dt=Me.__r3f)==null||dt.objects.push(Ve),Ve.__r3f||ge(Ve,{}),Ve.__r3f.parent=Me,Cn(Ve),un(Ve)}}function ce(Me,Ve,lt){let ht=!1;if(Ve){var dt,$;if((dt=Ve.__r3f)!=null&&dt.attach)et(Me,Ve,Ve.__r3f.attach);else if(Ve.isObject3D&&Me.isObject3D){Ve.parent=Me,Ve.dispatchEvent({type:"added"});const K=Me.children.filter(W=>W!==Ve),X=K.indexOf(lt);Me.children=[...K.slice(0,X),Ve,...K.slice(X)],ht=!0}ht||($=Me.__r3f)==null||$.objects.push(Ve),Ve.__r3f||ge(Ve,{}),Ve.__r3f.parent=Me,Cn(Ve),un(Ve)}}function He(Me,Ve,lt=!1){Me&&[...Me].forEach(ht=>pe(Ve,ht,lt))}function pe(Me,Ve,lt){if(Ve){var ht,dt,$;if(Ve.__r3f&&(Ve.__r3f.parent=null),(ht=Me.__r3f)!=null&&ht.objects&&(Me.__r3f.objects=Me.__r3f.objects.filter(je=>je!==Ve)),(dt=Ve.__r3f)!=null&&dt.attach)wt(Me,Ve,Ve.__r3f.attach);else if(Ve.isObject3D&&Me.isObject3D){var K;Me.remove(Ve),(K=Ve.__r3f)!=null&&K.root&&Wn(Ve.__r3f.root,Ve)}const W=($=Ve.__r3f)==null?void 0:$.primitive,ve=lt===void 0?Ve.dispose!==null&&!W:lt;if(!W){var X;He((X=Ve.__r3f)==null?void 0:X.objects,Ve,ve),He(Ve.children,Ve,ve)}delete Ve.__r3f,ve&&Ve.dispose&&Ve.type!=="Scene"&&(0,ye.unstable_scheduleCallback)(ye.unstable_IdlePriority,()=>{try{Ve.dispose()}catch(je){}}),un(Me)}}function Se(Me,Ve,lt,ht){var dt;const $=(dt=Me.__r3f)==null?void 0:dt.parent;if(!$)return;const K=P(Ve,lt,Me.__r3f.root);if(Me.children){for(const X of Me.children)X.__r3f&&ie(K,X);Me.children=Me.children.filter(X=>!X.__r3f)}Me.__r3f.objects.forEach(X=>ie(K,X)),Me.__r3f.objects=[],Me.__r3f.autoRemovedBeforeAppend||pe($,Me),K.parent&&(K.__r3f.autoRemovedBeforeAppend=!0),ie($,K),K.raycast&&K.__r3f.eventCount&&K.__r3f.root.getState().internal.interaction.push(K),[ht,ht.alternate].forEach(X=>{X!==null&&(X.stateNode=K,X.ref&&(typeof X.ref=="function"?X.ref(K):X.ref.current=K))})}const de=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:At()({createInstance:P,removeChild:pe,appendChild:ie,appendInitialChild:ie,insertBefore:ce,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(Me,Ve)=>{if(!Ve)return;const lt=Me.getState().scene;lt.__r3f&&(lt.__r3f.root=Me,ie(lt,Ve))},removeChildFromContainer:(Me,Ve)=>{Ve&&pe(Me.getState().scene,Ve)},insertInContainerBefore:(Me,Ve,lt)=>{if(!Ve||!lt)return;const ht=Me.getState().scene;ht.__r3f&&ce(ht,Ve,lt)},getRootHostContext:()=>null,getChildHostContext:Me=>Me,finalizeInitialChildren(Me){var Ve;return!!((Ve=Me==null?void 0:Me.__r3f)!=null?Ve:{}).handlers},prepareUpdate(Me,Ve,lt,ht){var dt;if(((dt=Me==null?void 0:Me.__r3f)!=null?dt:{}).primitive&&ht.object&&ht.object!==Me)return[!0];{const K=ht,{args:W=[],children:ve}=K,je=Na(K,["args","children"]),X=lt,{args:nt=[],children:Xe}=X,$e=Na(X,["args","children"]);if(!Array.isArray(W))throw new Error("R3F: the args prop must be an array!");if(W.some((qe,ut)=>qe!==nt[ut]))return[!0];const De=Vt(Me,je,$e,!0);return De.changes.length?[!1,De]:null}},commitUpdate(Me,[Ve,lt],ht,dt,$,K){Ve?Se(Me,ht,$,K):nn(Me,lt)},commitMount(Me,Ve,lt,ht){var dt;const $=(dt=Me.__r3f)!=null?dt:{};Me.raycast&&$.handlers&&$.eventCount&&Me.__r3f.root.getState().internal.interaction.push(Me)},getPublicInstance:Me=>Me,prepareForCommit:()=>null,preparePortalMount:Me=>ge(Me.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(Me){var Ve;const{attach:lt,parent:ht}=(Ve=Me.__r3f)!=null?Ve:{};lt&&ht&&wt(ht,Me,lt),Me.isObject3D&&(Me.visible=!1),un(Me)},unhideInstance(Me,Ve){var lt;const{attach:ht,parent:dt}=(lt=Me.__r3f)!=null?lt:{};ht&&dt&&et(dt,Me,ht),(Me.isObject3D&&Ve.visible==null||Ve.visible)&&(Me.visible=!0),un(Me)},createTextInstance:de,hideTextInstance:de,unhideTextInstance:de,getCurrentEventPriority:()=>E?E():U.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance!="undefined"&&Y.fun(performance.now)?performance.now:Y.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Y.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Y.fun(clearTimeout)?clearTimeout:void 0}),applyProps:nn}}var mn,yr;const Zn=I=>"colorSpace"in I||"outputColorSpace"in I,tr=()=>{var I;return(I=hn.ColorManagement)!=null?I:null},wn=I=>I&&I.isOrthographicCamera,bn=I=>I&&I.hasOwnProperty("current"),ur=typeof window!="undefined"&&((mn=window.document)!=null&&mn.createElement||((yr=window.navigator)==null?void 0:yr.product)==="ReactNative")?he.useLayoutEffect:he.useEffect;function qn(I){const E=he.useRef(I);return ur(()=>void(E.current=I),[I]),E}function Ge({set:I}){return ur(()=>(I(new Promise(()=>null)),()=>I(!1)),[I]),null}class gt extends he.Component{constructor(...E){super(...E),this.state={error:!1}}componentDidCatch(E){this.props.set(E)}render(){return this.state.error?null:this.props.children}}gt.getDerivedStateFromError=()=>({error:!0});const be="__default",It=new Map,Ke=I=>I&&!!I.memoized&&!!I.changes;function We(I){var E;const P=typeof window!="undefined"?(E=window.devicePixelRatio)!=null?E:2:1;return Array.isArray(I)?Math.min(Math.max(I[0],P),I[1]):I}const Ne=I=>{var E;return(E=I.__r3f)==null?void 0:E.root.getState()},Y={obj:I=>I===Object(I)&&!Y.arr(I)&&typeof I!="function",fun:I=>typeof I=="function",str:I=>typeof I=="string",num:I=>typeof I=="number",boo:I=>typeof I=="boolean",und:I=>I===void 0,arr:I=>Array.isArray(I),equ(I,E,{arrays:P="shallow",objects:ie="reference",strict:ce=!0}={}){if(typeof I!=typeof E||!!I!=!!E)return!1;if(Y.str(I)||Y.num(I))return I===E;const He=Y.obj(I);if(He&&ie==="reference")return I===E;const pe=Y.arr(I);if(pe&&P==="reference")return I===E;if((pe||He)&&I===E)return!0;let Se;for(Se in I)if(!(Se in E))return!1;if(He&&P==="shallow"&&ie==="shallow"){for(Se in ce?E:I)if(!Y.equ(I[Se],E[Se],{strict:ce,objects:"reference"}))return!1}else for(Se in ce?E:I)if(I[Se]!==E[Se])return!1;if(Y.und(Se)){if(pe&&I.length===0&&E.length===0||He&&Object.keys(I).length===0&&Object.keys(E).length===0)return!0;if(I!==E)return!1}return!0}};function Ae(I){const E={nodes:{},materials:{}};return I&&I.traverse(P=>{P.name&&(E.nodes[P.name]=P),P.material&&!E.materials[P.material.name]&&(E.materials[P.material.name]=P.material)}),E}function Ze(I){I.dispose&&I.type!=="Scene"&&I.dispose();for(const E in I)E.dispose==null||E.dispose(),delete I[E]}function ge(I,E){const P=I;return P.__r3f=zt({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},E),I}function Be(I,E){let P=I;if(E.includes("-")){const ie=E.split("-"),ce=ie.pop();return P=ie.reduce((He,pe)=>He[pe],I),{target:P,key:ce}}else return{target:P,key:E}}const ke=/-\d+$/;function et(I,E,P){if(Y.str(P)){if(ke.test(P)){const He=P.replace(ke,""),{target:pe,key:Se}=Be(I,He);Array.isArray(pe[Se])||(pe[Se]=[])}const{target:ie,key:ce}=Be(I,P);E.__r3f.previousAttach=ie[ce],ie[ce]=E}else E.__r3f.previousAttach=P(I,E)}function wt(I,E,P){var ie,ce;if(Y.str(P)){const{target:He,key:pe}=Be(I,P),Se=E.__r3f.previousAttach;Se===void 0?delete He[pe]:He[pe]=Se}else(ie=E.__r3f)==null||ie.previousAttach==null||ie.previousAttach(I,E);(ce=E.__r3f)==null||delete ce.previousAttach}function Vt(I,Me,lt={},Ue=!1){var Ve=Me,{children:E,key:P,ref:ie}=Ve,ce=Na(Ve,["children","key","ref"]);var ht=lt,{children:He,key:pe,ref:Se}=ht,de=Na(ht,["children","key","ref"]);var dt;const $=(dt=I==null?void 0:I.__r3f)!=null?dt:{},K=Object.entries(ce),X=[];if(Ue){const ve=Object.keys(de);for(let je=0;je<ve.length;je++)ce.hasOwnProperty(ve[je])||K.unshift([ve[je],be+"remove"])}K.forEach(([ve,je])=>{var nt;if((nt=I.__r3f)!=null&&nt.primitive&&ve==="object"||Y.equ(je,de[ve]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(ve))return X.push([ve,je,!0,[]]);let Xe=[];ve.includes("-")&&(Xe=ve.split("-")),X.push([ve,je,!1,Xe]);for(const $e in ce){const De=ce[$e];$e.startsWith(`${ve}-`)&&X.push([$e,De,!1,$e.split("-")])}});const W=zt({},ce);return $.memoizedProps&&$.memoizedProps.args&&(W.args=$.memoizedProps.args),$.memoizedProps&&$.memoizedProps.attach&&(W.attach=$.memoizedProps.attach),{memoized:W,changes:X}}function nn(I,E){var P,ie,ce;const He=(P=I.__r3f)!=null?P:{},pe=He.root,Se=(ie=pe==null||pe.getState==null?void 0:pe.getState())!=null?ie:{},{memoized:de,changes:Ue}=Ke(E)?E:Vt(I,E),Me=He.eventCount;I.__r3f&&(I.__r3f.memoizedProps=de);for(let lt=0;lt<Ue.length;lt++){let[ht,dt,$,K]=Ue[lt];if(Zn(I)){const je="srgb",nt="srgb-linear";ht==="encoding"?(ht="colorSpace",dt=dt===3001?je:nt):ht==="outputEncoding"&&(ht="outputColorSpace",dt=dt===3001?je:nt)}let X=I,W=X[ht];if(K.length&&(W=K.reduce((ve,je)=>ve[je],I),!(W&&W.set))){const[ve,...je]=K.reverse();X=je.reverse().reduce((nt,Xe)=>nt[Xe],I),ht=ve}if(dt===be+"remove")if(X.constructor){let ve=It.get(X.constructor);ve||(ve=new X.constructor,It.set(X.constructor,ve)),dt=ve[ht]}else dt=0;if($)dt?He.handlers[ht]=dt:delete He.handlers[ht],He.eventCount=Object.keys(He.handlers).length;else if(W&&W.set&&(W.copy||W instanceof O.Layers)){if(Array.isArray(dt))W.fromArray?W.fromArray(dt):W.set(...dt);else if(W.copy&&dt&&dt.constructor&&W.constructor===dt.constructor)W.copy(dt);else if(dt!==void 0){const ve=W instanceof O.Color;!ve&&W.setScalar?W.setScalar(dt):W instanceof O.Layers&&dt instanceof O.Layers?W.mask=dt.mask:W.set(dt),!tr()&&!Se.linear&&ve&&W.convertSRGBToLinear()}}else if(X[ht]=dt,X[ht]instanceof O.Texture&&X[ht].format===O.RGBAFormat&&X[ht].type===O.UnsignedByteType){const ve=X[ht];Zn(ve)&&Zn(Se.gl)?ve.colorSpace=Se.gl.outputColorSpace:ve.encoding=Se.gl.outputEncoding}un(I)}if(He.parent&&Se.internal&&I.raycast&&Me!==He.eventCount){const lt=Se.internal.interaction.indexOf(I);lt>-1&&Se.internal.interaction.splice(lt,1),He.eventCount&&Se.internal.interaction.push(I)}return!(Ue.length===1&&Ue[0][0]==="onUpdate")&&Ue.length&&(ce=I.__r3f)!=null&&ce.parent&&Cn(I),I}function un(I){var E,P;const ie=(E=I.__r3f)==null||(P=E.root)==null||P.getState==null?void 0:P.getState();ie&&ie.internal.frames===0&&ie.invalidate()}function Cn(I){I.onUpdate==null||I.onUpdate(I)}function dr(I,E){I.manual||(wn(I)?(I.left=E.width/-2,I.right=E.width/2,I.top=E.height/2,I.bottom=E.height/-2):I.aspect=E.width/E.height,I.updateProjectionMatrix(),I.updateMatrixWorld())}function lr(I){return(I.eventObject||I.object).uuid+"/"+I.index+I.instanceId}function Mr(){var I;const E=typeof self!="undefined"&&self||typeof window!="undefined"&&window;if(!E)return U.DefaultEventPriority;switch((I=E.event)==null?void 0:I.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return U.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return U.ContinuousEventPriority;default:return U.DefaultEventPriority}}function Er(I,E,P,ie){const ce=P.get(E);ce&&(P.delete(E),P.size===0&&(I.delete(ie),ce.target.releasePointerCapture(ie)))}function Wn(I,E){const{internal:P}=I.getState();P.interaction=P.interaction.filter(ie=>ie!==E),P.initialHits=P.initialHits.filter(ie=>ie!==E),P.hovered.forEach((ie,ce)=>{(ie.eventObject===E||ie.object===E)&&P.hovered.delete(ce)}),P.capturedMap.forEach((ie,ce)=>{Er(P.capturedMap,E,ie,ce)})}function Nn(I){function E(de){const{internal:Ue}=I.getState(),Me=de.offsetX-Ue.initialClick[0],Ve=de.offsetY-Ue.initialClick[1];return Math.round(Math.sqrt(Me*Me+Ve*Ve))}function P(de){return de.filter(Ue=>["Move","Over","Enter","Out","Leave"].some(Me=>{var Ve;return(Ve=Ue.__r3f)==null?void 0:Ve.handlers["onPointer"+Me]}))}function ie(de,Ue){const Me=I.getState(),Ve=new Set,lt=[],ht=Ue?Ue(Me.internal.interaction):Me.internal.interaction;for(let X=0;X<ht.length;X++){const W=Ne(ht[X]);W&&(W.raycaster.camera=void 0)}Me.previousRoot||Me.events.compute==null||Me.events.compute(de,Me);function dt(X){const W=Ne(X);if(!W||!W.events.enabled||W.raycaster.camera===null)return[];if(W.raycaster.camera===void 0){var ve;W.events.compute==null||W.events.compute(de,W,(ve=W.previousRoot)==null?void 0:ve.getState()),W.raycaster.camera===void 0&&(W.raycaster.camera=null)}return W.raycaster.camera?W.raycaster.intersectObject(X,!0):[]}let $=ht.flatMap(dt).sort((X,W)=>{const ve=Ne(X.object),je=Ne(W.object);return!ve||!je?X.distance-W.distance:je.events.priority-ve.events.priority||X.distance-W.distance}).filter(X=>{const W=lr(X);return Ve.has(W)?!1:(Ve.add(W),!0)});Me.events.filter&&($=Me.events.filter($,Me));for(const X of $){let W=X.object;for(;W;){var K;(K=W.__r3f)!=null&&K.eventCount&&lt.push(_i(zt({},X),{eventObject:W})),W=W.parent}}if("pointerId"in de&&Me.internal.capturedMap.has(de.pointerId))for(let X of Me.internal.capturedMap.get(de.pointerId).values())Ve.has(lr(X.intersection))||lt.push(X.intersection);return lt}function ce(de,Ue,Me,Ve){const lt=I.getState();if(de.length){const ht={stopped:!1};for(const dt of de){const $=Ne(dt.object)||lt,{raycaster:K,pointer:X,camera:W,internal:ve}=$,je=new O.Vector3(X.x,X.y,0).unproject(W),nt=ut=>{var it,bt;return(it=(bt=ve.capturedMap.get(ut))==null?void 0:bt.has(dt.eventObject))!=null?it:!1},Xe=ut=>{const it={intersection:dt,target:Ue.target};ve.capturedMap.has(ut)?ve.capturedMap.get(ut).set(dt.eventObject,it):ve.capturedMap.set(ut,new Map([[dt.eventObject,it]])),Ue.target.setPointerCapture(ut)},$e=ut=>{const it=ve.capturedMap.get(ut);it&&Er(ve.capturedMap,dt.eventObject,it,ut)};let De={};for(let ut in Ue){let it=Ue[ut];typeof it!="function"&&(De[ut]=it)}let qe=_i(zt(zt({},dt),De),{pointer:X,intersections:de,stopped:ht.stopped,delta:Me,unprojectedPoint:je,ray:K.ray,camera:W,stopPropagation(){const ut="pointerId"in Ue&&ve.capturedMap.get(Ue.pointerId);if((!ut||ut.has(dt.eventObject))&&(qe.stopped=ht.stopped=!0,ve.hovered.size&&Array.from(ve.hovered.values()).find(it=>it.eventObject===dt.eventObject))){const it=de.slice(0,de.indexOf(dt));He([...it,dt])}},target:{hasPointerCapture:nt,setPointerCapture:Xe,releasePointerCapture:$e},currentTarget:{hasPointerCapture:nt,setPointerCapture:Xe,releasePointerCapture:$e},nativeEvent:Ue});if(Ve(qe),ht.stopped===!0)break}}return de}function He(de){const{internal:Ue}=I.getState();for(const Me of Ue.hovered.values())if(!de.length||!de.find(Ve=>Ve.object===Me.object&&Ve.index===Me.index&&Ve.instanceId===Me.instanceId)){const lt=Me.eventObject.__r3f,ht=lt==null?void 0:lt.handlers;if(Ue.hovered.delete(lr(Me)),lt!=null&&lt.eventCount){const dt=_i(zt({},Me),{intersections:de});ht.onPointerOut==null||ht.onPointerOut(dt),ht.onPointerLeave==null||ht.onPointerLeave(dt)}}}function pe(de,Ue){for(let Me=0;Me<Ue.length;Me++){const Ve=Ue[Me].__r3f;Ve==null||Ve.handlers.onPointerMissed==null||Ve.handlers.onPointerMissed(de)}}function Se(de){switch(de){case"onPointerLeave":case"onPointerCancel":return()=>He([]);case"onLostPointerCapture":return Ue=>{const{internal:Me}=I.getState();"pointerId"in Ue&&Me.capturedMap.has(Ue.pointerId)&&requestAnimationFrame(()=>{Me.capturedMap.has(Ue.pointerId)&&(Me.capturedMap.delete(Ue.pointerId),He([]))})}}return function(Me){const{onPointerMissed:Ve,internal:lt}=I.getState();lt.lastEvent.current=Me;const ht=de==="onPointerMove",dt=de==="onClick"||de==="onContextMenu"||de==="onDoubleClick",K=ie(Me,ht?P:void 0),X=dt?E(Me):0;de==="onPointerDown"&&(lt.initialClick=[Me.offsetX,Me.offsetY],lt.initialHits=K.map(ve=>ve.eventObject)),dt&&!K.length&&X<=2&&(pe(Me,lt.interaction),Ve&&Ve(Me)),ht&&He(K);function W(ve){const je=ve.eventObject,nt=je.__r3f,Xe=nt==null?void 0:nt.handlers;if(nt!=null&&nt.eventCount)if(ht){if(Xe.onPointerOver||Xe.onPointerEnter||Xe.onPointerOut||Xe.onPointerLeave){const $e=lr(ve),De=lt.hovered.get($e);De?De.stopped&&ve.stopPropagation():(lt.hovered.set($e,ve),Xe.onPointerOver==null||Xe.onPointerOver(ve),Xe.onPointerEnter==null||Xe.onPointerEnter(ve))}Xe.onPointerMove==null||Xe.onPointerMove(ve)}else{const $e=Xe[de];$e?(!dt||lt.initialHits.includes(je))&&(pe(Me,lt.interaction.filter(De=>!lt.initialHits.includes(De))),$e(ve)):dt&&lt.initialHits.includes(je)&&pe(Me,lt.interaction.filter(De=>!lt.initialHits.includes(De)))}}ce(K,Me,X,W)}}return{handlePointer:Se}}const Nr=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],ti=I=>!!(I!=null&&I.render),Or=he.createContext(null),Jr=(I,E)=>{const P=(0,rt.Z)((Se,de)=>{const Ue=new O.Vector3,Me=new O.Vector3,Ve=new O.Vector3;function lt(X=de().camera,W=Me,ve=de().size){const{width:je,height:nt,top:Xe,left:$e}=ve,De=je/nt;W instanceof O.Vector3?Ve.copy(W):Ve.set(...W);const qe=X.getWorldPosition(Ue).distanceTo(Ve);if(wn(X))return{width:je/X.zoom,height:nt/X.zoom,top:Xe,left:$e,factor:1,distance:qe,aspect:De};{const ut=X.fov*Math.PI/180,it=2*Math.tan(ut/2)*qe,bt=it*(je/nt);return{width:bt,height:it,top:Xe,left:$e,factor:je/bt,distance:qe,aspect:De}}}let ht;const dt=X=>Se(W=>({performance:_i(zt({},W.performance),{current:X})})),$=new O.Vector2;return{set:Se,get:de,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(X=1)=>I(de(),X),advance:(X,W)=>E(X,W,de()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new O.Clock,pointer:$,mouse:$,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const X=de();ht&&clearTimeout(ht),X.performance.current!==X.performance.min&&dt(X.performance.min),ht=setTimeout(()=>dt(de().performance.max),X.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:lt},setEvents:X=>Se(W=>_i(zt({},W),{events:zt(zt({},W.events),X)})),setSize:(X,W,ve,je,nt)=>{const Xe=de().camera,$e={width:X,height:W,top:je||0,left:nt||0,updateStyle:ve};Se(De=>({size:$e,viewport:zt(zt({},De.viewport),lt(Xe,Me,$e))}))},setDpr:X=>Se(W=>{const ve=We(X);return{viewport:_i(zt({},W.viewport),{dpr:ve,initialDpr:W.viewport.initialDpr||ve})}}),setFrameloop:(X="always")=>{const W=de().clock;W.stop(),W.elapsedTime=0,X!=="never"&&(W.start(),W.elapsedTime=0),Se(()=>({frameloop:X}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:he.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(X,W,ve)=>{const je=de().internal;return je.priority=je.priority+(W>0?1:0),je.subscribers.push({ref:X,priority:W,store:ve}),je.subscribers=je.subscribers.sort((nt,Xe)=>nt.priority-Xe.priority),()=>{const nt=de().internal;nt!=null&&nt.subscribers&&(nt.priority=nt.priority-(W>0?1:0),nt.subscribers=nt.subscribers.filter(Xe=>Xe.ref!==X))}}}}}),ie=P.getState();let ce=ie.size,He=ie.viewport.dpr,pe=ie.camera;return P.subscribe(()=>{const{camera:Se,size:de,viewport:Ue,gl:Me,set:Ve}=P.getState();if(de!==ce||Ue.dpr!==He){var lt;ce=de,He=Ue.dpr,dr(Se,de),Me.setPixelRatio(Ue.dpr);const ht=(lt=de.updateStyle)!=null?lt:typeof HTMLCanvasElement!="undefined"&&Me.domElement instanceof HTMLCanvasElement;Me.setSize(de.width,de.height,ht)}Se!==pe&&(pe=Se,Ve(ht=>({viewport:zt(zt({},ht.viewport),ht.viewport.getCurrentViewport(Se))})))}),P.subscribe(Se=>I(Se)),P};function zr(I,E){const P={callback:I};return E.add(P),()=>void E.delete(P)}let gi,qr=new Set,Ii=new Set,Ht=new Set;const Gt=I=>zr(I,qr),on=I=>zr(I,Ii),an=I=>zr(I,Ht);function fn(I,E){if(I.size)for(const{callback:P}of I.values())P(E)}function ir(I,E){switch(I){case"before":return fn(qr,E);case"after":return fn(Ii,E);case"tail":return fn(Ht,E)}}let pn,Tr;function Jn(I,E,P){let ie=E.clock.getDelta();for(E.frameloop==="never"&&typeof I=="number"&&(ie=I-E.clock.elapsedTime,E.clock.oldTime=E.clock.elapsedTime,E.clock.elapsedTime=I),pn=E.internal.subscribers,gi=0;gi<pn.length;gi++)Tr=pn[gi],Tr.ref.current(Tr.store.getState(),ie,P);return!E.internal.priority&&E.gl.render&&E.gl.render(E.scene,E.camera),E.internal.frames=Math.max(0,E.internal.frames-1),E.frameloop==="always"?1:E.internal.frames}function ci(I){let E=!1,P,ie,ce;function He(de){ie=requestAnimationFrame(He),E=!0,P=0,ir("before",de);for(const Me of I.values()){var Ue;ce=Me.store.getState(),ce.internal.active&&(ce.frameloop==="always"||ce.internal.frames>0)&&!((Ue=ce.gl.xr)!=null&&Ue.isPresenting)&&(P+=Jn(de,ce))}if(ir("after",de),P===0)return ir("tail",de),E=!1,cancelAnimationFrame(ie)}function pe(de,Ue=1){var Me;if(!de)return I.forEach(Ve=>pe(Ve.store.getState()),Ue);(Me=de.gl.xr)!=null&&Me.isPresenting||!de.internal.active||de.frameloop==="never"||(de.internal.frames=Math.min(60,de.internal.frames+Ue),E||(E=!0,requestAnimationFrame(He)))}function Se(de,Ue=!0,Me,Ve){if(Ue&&ir("before",de),Me)Jn(de,Me,Ve);else for(const lt of I.values())Jn(de,lt.store.getState());Ue&&ir("after",de)}return{loop:He,invalidate:pe,advance:Se}}function Qr(I){const E=React.useRef(null);return ur(()=>void(E.current=I.current.__r3f),[I]),E}function Xn(){const I=he.useContext(Or);if(!I)throw new Error("R3F: Hooks can only be used within the Canvas component!");return I}function On(I=P=>P,E){return Xn()(I,E)}function si(I,E=0){const P=Xn(),ie=P.getState().internal.subscribe,ce=qn(I);return ur(()=>ie(ce,E,P),[E,ie,P]),null}function Oi(I){return React.useMemo(()=>Ae(I),[I])}function qi(I,E){return function(P,...ie){const ce=new P;return I&&I(ce),Promise.all(ie.map(He=>new Promise((pe,Se)=>ce.load(He,de=>{de.scene&&Object.assign(de,Ae(de.scene)),pe(de)},E,de=>Se(new Error(`Could not load ${He}: ${de.message}`))))))}}function Ti(I,E,P,ie){const ce=Array.isArray(E)?E:[E],He=_e(qi(P,ie),[I,...ce],{equal:Y.equ});return Array.isArray(E)?He:He[0]}Ti.preload=function(I,E,P){const ie=Array.isArray(E)?E:[E];return yt(qi(P),[I,...ie])},Ti.clear=function(I,E){const P=Array.isArray(E)?E:[E];return oe([I,...P])};const vr=new Map,{invalidate:oi,advance:tt}=ci(vr),{reconciler:Xt,applyProps:Pn}=jt(vr,Mr),Dr={objects:"shallow",strict:!1},Xr=(I,E)=>{const P=typeof I=="function"?I(E):I;return ti(P)?P:new O.WebGLRenderer(zt({powerPreference:"high-performance",canvas:E,antialias:!0,alpha:!0},I))};function Fi(I,E){if(E)return E;if(typeof HTMLCanvasElement!="undefined"&&I instanceof HTMLCanvasElement&&I.parentElement){const{width:P,height:ie,top:ce,left:He}=I.parentElement.getBoundingClientRect();return{width:P,height:ie,top:ce,left:He}}else if(typeof OffscreenCanvas!="undefined"&&I instanceof OffscreenCanvas)return{width:I.width,height:I.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function yi(I){const E=vr.get(I),P=E==null?void 0:E.fiber,ie=E==null?void 0:E.store;E&&console.warn("R3F.createRoot should only be called once!");const ce=typeof reportError=="function"?reportError:console.error,He=ie||Jr(oi,tt),pe=P||Xt.createContainer(He,U.ConcurrentRoot,null,!1,null,"",ce,null);E||vr.set(I,{fiber:pe,store:He});let Se,de=!1,Ue;return{configure(Me={}){let{gl:Ve,size:lt,scene:ht,events:dt,onCreated:$,shadows:K=!1,linear:X=!1,flat:W=!1,legacy:ve=!1,orthographic:je=!1,frameloop:nt="always",dpr:Xe=[1,2],performance:$e,raycaster:De,camera:qe,onPointerMissed:ut}=Me,it=He.getState(),bt=it.gl;it.gl||it.set({gl:bt=Xr(Ve,I)});let qt=it.raycaster;qt||it.set({raycaster:qt=new O.Raycaster});const ps=De||{},{params:gn}=ps,or=Na(ps,["params"]);if(Y.equ(or,qt,Dr)||Pn(qt,zt({},or)),Y.equ(gn,qt.params,Dr)||Pn(qt,{params:zt(zt({},qt.params),gn)}),!it.camera||it.camera===Ue&&!Y.equ(Ue,qe,Dr)){Ue=qe;const Lo=qe instanceof O.Camera,ao=Lo?qe:je?new O.OrthographicCamera(0,0,0,0,.1,1e3):new O.PerspectiveCamera(75,0,.1,1e3);Lo||(ao.position.z=5,qe&&Pn(ao,qe),!it.camera&&!(qe!=null&&qe.rotation)&&ao.lookAt(0,0,0)),it.set({camera:ao})}if(!it.scene){let Lo;ht instanceof O.Scene?Lo=ht:(Lo=new O.Scene,ht&&Pn(Lo,ht)),it.set({scene:ge(Lo)})}if(!it.xr){var Qn;const Lo=(Po,ls)=>{const Ps=He.getState();Ps.frameloop!=="never"&&tt(Po,!0,Ps,ls)},ao=()=>{const Po=He.getState();Po.gl.xr.enabled=Po.gl.xr.isPresenting,Po.gl.xr.setAnimationLoop(Po.gl.xr.isPresenting?Lo:null),Po.gl.xr.isPresenting||oi(Po)},vs={connect(){const Po=He.getState().gl;Po.xr.addEventListener("sessionstart",ao),Po.xr.addEventListener("sessionend",ao)},disconnect(){const Po=He.getState().gl;Po.xr.removeEventListener("sessionstart",ao),Po.xr.removeEventListener("sessionend",ao)}};typeof((Qn=bt.xr)==null?void 0:Qn.addEventListener)=="function"&&vs.connect(),it.set({xr:vs})}if(bt.shadowMap){const Lo=bt.shadowMap.enabled,ao=bt.shadowMap.type;if(bt.shadowMap.enabled=!!K,Y.boo(K))bt.shadowMap.type=O.PCFSoftShadowMap;else if(Y.str(K)){var Gn;const vs={basic:O.BasicShadowMap,percentage:O.PCFShadowMap,soft:O.PCFSoftShadowMap,variance:O.VSMShadowMap};bt.shadowMap.type=(Gn=vs[K])!=null?Gn:O.PCFSoftShadowMap}else Y.obj(K)&&Object.assign(bt.shadowMap,K);(Lo!==bt.shadowMap.enabled||ao!==bt.shadowMap.type)&&(bt.shadowMap.needsUpdate=!0)}const cr=tr();cr&&("enabled"in cr?cr.enabled=!ve:"legacyMode"in cr&&(cr.legacyMode=ve)),Pn(bt,{outputEncoding:X?3e3:3001,toneMapping:W?O.NoToneMapping:O.ACESFilmicToneMapping}),it.legacy!==ve&&it.set(()=>({legacy:ve})),it.linear!==X&&it.set(()=>({linear:X})),it.flat!==W&&it.set(()=>({flat:W})),Ve&&!Y.fun(Ve)&&!ti(Ve)&&!Y.equ(Ve,bt,Dr)&&Pn(bt,Ve),dt&&!it.events.handlers&&it.set({events:dt(He)});const _o=Fi(I,lt);return Y.equ(_o,it.size,Dr)||it.setSize(_o.width,_o.height,_o.updateStyle,_o.top,_o.left),Xe&&it.viewport.dpr!==We(Xe)&&it.setDpr(Xe),it.frameloop!==nt&&it.setFrameloop(nt),it.onPointerMissed||it.set({onPointerMissed:ut}),$e&&!Y.equ($e,it.performance,Dr)&&it.set(Lo=>({performance:zt(zt({},Lo.performance),$e)})),Se=$,de=!0,this},render(Me){return de||this.configure(),Xt.updateContainer(he.createElement(Ui,{store:He,children:Me,onCreated:Se,rootElement:I}),pe,null,()=>{}),He},unmount(){ki(I)}}}function Qo(I,E,P){console.warn("R3F.render is no longer supported in React 18. Use createRoot instead!");const ie=yi(E);return ie.configure(P),ie.render(I)}function Ui({store:I,children:E,onCreated:P,rootElement:ie}){return ur(()=>{const ce=I.getState();ce.set(He=>({internal:_i(zt({},He.internal),{active:!0})})),P&&P(ce),I.getState().events.connected||ce.events.connect==null||ce.events.connect(ie)},[]),he.createElement(Or.Provider,{value:I},E)}function ki(I,E){const P=vr.get(I),ie=P==null?void 0:P.fiber;if(ie){const ce=P==null?void 0:P.store.getState();ce&&(ce.internal.active=!1),Xt.updateContainer(null,ie,null,()=>{ce&&setTimeout(()=>{try{var He,pe,Se,de;ce.events.disconnect==null||ce.events.disconnect(),(He=ce.gl)==null||(pe=He.renderLists)==null||pe.dispose==null||pe.dispose(),(Se=ce.gl)==null||Se.forceContextLoss==null||Se.forceContextLoss(),(de=ce.gl)!=null&&de.xr&&ce.xr.disconnect(),Ze(ce),vr.delete(I),E&&E(I)}catch(Ue){}},500)})}}function wi(I,E,P){return he.createElement(go,{key:E.uuid,children:I,container:E,state:P})}function go({state:I={},children:E,container:P}){const Ve=I,{events:ie,size:ce}=Ve,He=Na(Ve,["events","size"]),pe=Xn(),[Se]=he.useState(()=>new O.Raycaster),[de]=he.useState(()=>new O.Vector2),Ue=he.useCallback((lt,ht)=>{const dt=zt({},lt);Object.keys(lt).forEach(K=>{(Nr.includes(K)||lt[K]!==ht[K]&&ht[K])&&delete dt[K]});let $;if(ht&&ce){const K=ht.camera;$=lt.viewport.getCurrentViewport(K,new O.Vector3,ce),K!==lt.camera&&dr(K,ce)}return zt(_i(zt({},dt),{scene:P,raycaster:Se,pointer:de,mouse:de,previousRoot:pe,events:zt(zt(zt({},lt.events),ht==null?void 0:ht.events),ie),size:zt(zt({},lt.size),ce),viewport:zt(zt({},lt.viewport),$)}),He)},[I]),[Me]=he.useState(()=>{const lt=pe.getState();return(0,rt.Z)((dt,$)=>_i(zt(_i(zt({},lt),{scene:P,raycaster:Se,pointer:de,mouse:de,previousRoot:pe,events:zt(zt({},lt.events),ie),size:zt(zt({},lt.size),ce)}),He),{set:dt,get:$,setEvents:K=>dt(X=>_i(zt({},X),{events:zt(zt({},X.events),K)}))}))});return he.useEffect(()=>{const lt=pe.subscribe(ht=>Me.setState(dt=>Ue(ht,dt)));return()=>{lt(),Me.destroy()}},[]),he.useEffect(()=>{Me.setState(lt=>Ue(pe.getState(),lt))},[Ue]),he.createElement(he.Fragment,null,Xt.createPortal(he.createElement(Or.Provider,{value:Me},E),Me,null))}Xt.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:he.version});const Pe=he.unstable_act},60168:function(Jt,Qe,te){"use strict";te.d(Qe,{Xz:function(){return We}});var O=te(47266),he=te(47622),U=te(50959),rt=te(75411),Ct=te(94440),At=Object.defineProperty,ye=Object.defineProperties,kt=Object.getOwnPropertyDescriptors,Ce=Object.getOwnPropertySymbols,Re=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable,_e=(Ne,Y,Ae)=>Y in Ne?At(Ne,Y,{enumerable:!0,configurable:!0,writable:!0,value:Ae}):Ne[Y]=Ae,yt=(Ne,Y)=>{for(var Ae in Y||(Y={}))Re.call(Y,Ae)&&_e(Ne,Ae,Y[Ae]);if(Ce)for(var Ae of Ce(Y))ot.call(Y,Ae)&&_e(Ne,Ae,Y[Ae]);return Ne},Rt=(Ne,Y)=>ye(Ne,kt(Y));function oe(Ne,Y,Ae){if(!Ne)return;if(Ae(Ne)===!0)return Ne;let Ze=Y?Ne.return:Ne.child;for(;Ze;){const ge=oe(Ze,Y,Ae);if(ge)return ge;Ze=Y?null:Ze.sibling}}function rr(Ne){try{return Object.defineProperties(Ne,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch(Y){return Ne}}const hn=rr(U.createContext(null));class An extends U.Component{render(){return U.createElement(hn.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:jt,ReactCurrentDispatcher:mn}=U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function yr(){const Ne=U.useContext(hn);if(Ne===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const Y=U.useId();return U.useMemo(()=>{for(const Ze of[jt==null?void 0:jt.current,Ne,Ne==null?void 0:Ne.alternate]){if(!Ze)continue;const ge=oe(Ze,!1,Be=>{let ke=Be.memoizedState;for(;ke;){if(ke.memoizedState===Y)return!0;ke=ke.next}});if(ge)return ge}},[Ne,Y])}function Zn(){const Ne=yr(),Y=React.useMemo(()=>oe(Ne,!0,Ae=>{var Ze;return((Ze=Ae.stateNode)==null?void 0:Ze.containerInfo)!=null}),[Ne]);return Y==null?void 0:Y.stateNode.containerInfo}function tr(Ne){const Y=yr(),Ae=React.useRef();return React.useLayoutEffect(()=>{var Ze;Ae.current=(Ze=oe(Y,!1,ge=>typeof ge.type=="string"&&(Ne===void 0||ge.type===Ne)))==null?void 0:Ze.stateNode},[Y]),Ae}function wn(Ne){const Y=yr(),Ae=React.useRef();return React.useLayoutEffect(()=>{var Ze;Ae.current=(Ze=oe(Y,!0,ge=>typeof ge.type=="string"&&(Ne===void 0||ge.type===Ne)))==null?void 0:Ze.stateNode},[Y]),Ae}function bn(){var Ne,Y;const Ae=yr(),[Ze]=U.useState(()=>new Map);Ze.clear();let ge=Ae;for(;ge;){const Be=(Ne=ge.type)==null?void 0:Ne._context;Be&&Be!==hn&&!Ze.has(Be)&&Ze.set(Be,(Y=mn==null?void 0:mn.current)==null?void 0:Y.readContext(rr(Be))),ge=ge.return}return Ze}function ur(){const Ne=bn();return U.useMemo(()=>Array.from(Ne.keys()).reduce((Y,Ae)=>Ze=>U.createElement(Y,null,U.createElement(Ae.Provider,Rt(yt({},Ze),{value:Ne.get(Ae)}))),Y=>U.createElement(An,yt({},Y))),[Ne])}var qn=te(85259),Ge=te(97427),gt=te(65297);const be={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function It(Ne){const{handlePointer:Y}=(0,O.c)(Ne);return{priority:1,enabled:!0,compute(Ae,Ze,ge){Ze.pointer.set(Ae.offsetX/Ze.size.width*2-1,-(Ae.offsetY/Ze.size.height)*2+1),Ze.raycaster.setFromCamera(Ze.pointer,Ze.camera)},connected:void 0,handlers:Object.keys(be).reduce((Ae,Ze)=>_i(zt({},Ae),{[Ze]:Y(Ze)}),{}),update:()=>{var Ae;const{events:Ze,internal:ge}=Ne.getState();(Ae=ge.lastEvent)!=null&&Ae.current&&Ze.handlers&&Ze.handlers.onPointerMove(ge.lastEvent.current)},connect:Ae=>{var Ze;const{set:ge,events:Be}=Ne.getState();Be.disconnect==null||Be.disconnect(),ge(ke=>({events:_i(zt({},ke.events),{connected:Ae})})),Object.entries((Ze=Be.handlers)!=null?Ze:[]).forEach(([ke,et])=>{const[wt,Vt]=be[ke];Ae.addEventListener(wt,et,{passive:Vt})})},disconnect:()=>{const{set:Ae,events:Ze}=Ne.getState();if(Ze.connected){var ge;Object.entries((ge=Ze.handlers)!=null?ge:[]).forEach(([Be,ke])=>{if(Ze&&Ze.connected instanceof HTMLElement){const[et]=be[Be];Ze.connected.removeEventListener(et,ke)}}),Ae(Be=>({events:_i(zt({},Be.events),{connected:void 0})}))}}}}const Ke=U.forwardRef(function(gi,zr){var qr=gi,{children:Y,fallback:Ae,resize:Ze,style:ge,gl:Be,events:ke=It,eventSource:et,eventPrefix:wt,shadows:Vt,linear:nn,flat:un,legacy:Cn,orthographic:dr,frameloop:lr,dpr:Mr,performance:Er,raycaster:Wn,camera:Nn,scene:Nr,onPointerMissed:ti,onCreated:Or}=qr,Jr=Na(qr,["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","scene","onPointerMissed","onCreated"]);U.useMemo(()=>(0,O.e)(rt),[]);const Ii=ur(),[Ht,Gt]=(0,Ct.Z)(zt({scroll:!0,debounce:{scroll:50,resize:0}},Ze)),on=U.useRef(null),an=U.useRef(null);U.useImperativeHandle(zr,()=>on.current);const fn=(0,O.u)(ti),[ir,pn]=U.useState(!1),[Tr,Jn]=U.useState(!1);if(ir)throw ir;if(Tr)throw Tr;const ci=U.useRef(null);(0,O.a)(()=>{const Xn=on.current;Gt.width>0&&Gt.height>0&&Xn&&(ci.current||(ci.current=(0,O.b)(Xn)),ci.current.configure({gl:Be,events:ke,shadows:Vt,linear:nn,flat:un,legacy:Cn,orthographic:dr,frameloop:lr,dpr:Mr,performance:Er,raycaster:Wn,camera:Nn,scene:Nr,size:Gt,onPointerMissed:(...On)=>fn.current==null?void 0:fn.current(...On),onCreated:On=>{On.events.connect==null||On.events.connect(et?(0,O.i)(et)?et.current:et:an.current),wt&&On.setEvents({compute:(si,Oi)=>{const qi=si[wt+"X"],Ti=si[wt+"Y"];Oi.pointer.set(qi/Oi.size.width*2-1,-(Ti/Oi.size.height)*2+1),Oi.raycaster.setFromCamera(Oi.pointer,Oi.camera)}}),Or==null||Or(On)}}),ci.current.render(U.createElement(Ii,null,U.createElement(O.E,{set:Jn},U.createElement(U.Suspense,{fallback:U.createElement(O.B,{set:pn})},Y)))))}),U.useEffect(()=>{const Xn=on.current;if(Xn)return()=>(0,O.d)(Xn)},[]);const Qr=et?"none":"auto";return U.createElement("div",(0,he.Z)({ref:an,style:zt({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Qr},ge)},Jr),U.createElement("div",{ref:Ht,style:{width:"100%",height:"100%"}},U.createElement("canvas",{ref:on,style:{display:"block"}},Ae)))}),We=U.forwardRef(function(Y,Ae){return U.createElement(An,null,U.createElement(Ke,(0,he.Z)({},Y,{ref:Ae})))})},64340:function(Jt,Qe,te){"use strict";var O=te(47828),he=te(78411),U=te(9570),rt=te(13338),Ct=te(11527),At=["children"];function ye(Ce,Re){var ot=Object.keys(Ce);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(Ce);Re&&(_e=_e.filter(function(yt){return Object.getOwnPropertyDescriptor(Ce,yt).enumerable})),ot.push.apply(ot,_e)}return ot}function kt(Ce){for(var Re=1;Re<arguments.length;Re++){var ot=arguments[Re]!=null?arguments[Re]:{};Re%2?ye(Object(ot),!0).forEach(function(_e){(0,O.Z)(Ce,_e,ot[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(ot)):ye(Object(ot)).forEach(function(_e){Object.defineProperty(Ce,_e,Object.getOwnPropertyDescriptor(ot,_e))})}return Ce}Qe.Z=function(Ce){var Re=Ce.children,ot=(0,he.Z)(Ce,At);return(0,Ct.jsx)(rt.f,kt(kt({},ot),{},{children:(0,Ct.jsx)(U.Z,{children:Re})}))}},66552:function(Jt,Qe,te){"use strict";te.d(Qe,{Z:function(){return Re}});var O=te(99938),he=te(50959),U=te(80111),rt=te(74781),Ct=te(93915);function At(ot){function _e(yt,Rt){Rt===void 0&&(Rt={});var oe,rr=Rt.onError,hn=rr===void 0?function(bn){console.error(bn)}:rr;try{oe=ot()}catch(bn){hn(bn)}var An=function(bn){return Rt!=null&&Rt.serializer?Rt==null?void 0:Rt.serializer(bn):JSON.stringify(bn)},jt=function(bn){return Rt!=null&&Rt.deserializer?Rt==null?void 0:Rt.deserializer(bn):JSON.parse(bn)};function mn(){try{var bn=oe==null?void 0:oe.getItem(yt);if(bn)return jt(bn)}catch(ur){hn(ur)}return(0,Ct.mf)(Rt==null?void 0:Rt.defaultValue)?Rt==null?void 0:Rt.defaultValue():Rt==null?void 0:Rt.defaultValue}var yr=(0,O.CR)((0,he.useState)(function(){return mn()}),2),Zn=yr[0],tr=yr[1];(0,rt.Z)(function(){tr(mn())},[yt]);var wn=function(bn){var ur=(0,Ct.mf)(bn)?bn(Zn):bn;if(tr(ur),(0,Ct.G7)(ur))oe==null||oe.removeItem(yt);else try{oe==null||oe.setItem(yt,An(ur))}catch(qn){console.error(qn)}};return[Zn,(0,U.Z)(wn)]}return _e}var ye=!!(typeof window!="undefined"&&window.document&&window.document.createElement),kt=ye,Ce=At(function(){return kt?localStorage:void 0}),Re=Ce},80111:function(Jt,Qe,te){"use strict";var O=te(50959),he=te(93915),U=te(85303);function rt(Ct){U.Z&&((0,he.mf)(Ct)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof Ct)));var At=(0,O.useRef)(Ct);At.current=(0,O.useMemo)(function(){return Ct},[Ct]);var ye=(0,O.useRef)();return ye.current||(ye.current=function(){for(var kt=[],Ce=0;Ce<arguments.length;Ce++)kt[Ce]=arguments[Ce];return At.current.apply(this,kt)}),ye.current}Qe.Z=rt},74781:function(Jt,Qe,te){"use strict";te.d(Qe,{Z:function(){return rt}});var O=te(50959),he=function(Ct){return function(At,ye){var kt=(0,O.useRef)(!1);Ct(function(){return function(){kt.current=!1}},[]),Ct(function(){if(!kt.current)kt.current=!0;else return At()},ye)}},U=null,rt=he(O.useEffect)},93915:function(Jt,Qe,te){"use strict";te.d(Qe,{G7:function(){return At},mf:function(){return he}});var O=function(ye){return ye!==null&&typeof ye=="object"},he=function(ye){return typeof ye=="function"},U=function(ye){return typeof ye=="string"},rt=function(ye){return typeof ye=="boolean"},Ct=function(ye){return typeof ye=="number"},At=function(ye){return typeof ye=="undefined"}},85303:function(Jt,Qe){"use strict";var te=!1;Qe.Z=te},45924:function(Jt,Qe,te){"use strict";te.r(Qe),te.d(Qe,{clsx:function(){return he}});function O(U){var rt,Ct,At="";if(typeof U=="string"||typeof U=="number")At+=U;else if(typeof U=="object")if(Array.isArray(U))for(rt=0;rt<U.length;rt++)U[rt]&&(Ct=O(U[rt]))&&(At&&(At+=" "),At+=Ct);else for(rt in U)U[rt]&&(At&&(At+=" "),At+=rt);return At}function he(){for(var U,rt,Ct=0,At="";Ct<arguments.length;)(U=arguments[Ct++])&&(rt=O(U))&&(At&&(At+=" "),At+=rt);return At}Qe.default=he},31110:function(Jt){function Qe(te,O,he){var U,rt,Ct,At,ye;O==null&&(O=100);function kt(){var Re=Date.now()-At;Re<O&&Re>=0?U=setTimeout(kt,O-Re):(U=null,he||(ye=te.apply(Ct,rt),Ct=rt=null))}var Ce=function(){Ct=this,rt=arguments,At=Date.now();var Re=he&&!U;return U||(U=setTimeout(kt,O)),Re&&(ye=te.apply(Ct,rt),Ct=rt=null),ye};return Ce.clear=function(){U&&(clearTimeout(U),U=null)},Ce.flush=function(){U&&(ye=te.apply(Ct,rt),Ct=rt=null,clearTimeout(U),U=null)},Ce}Qe.debounce=Qe,Jt.exports=Qe},69978:function(Jt){function Qe(Re,ot){var _e=ot&&ot.cache?ot.cache:Ce,yt=ot&&ot.serializer?ot.serializer:ye,Rt=ot&&ot.strategy?ot.strategy:rt;return Rt(Re,{cache:_e,serializer:yt})}function te(Re){return Re==null||typeof Re=="number"||typeof Re=="boolean"}function O(Re,ot,_e,yt){var Rt=te(yt)?yt:_e(yt),oe=ot.get(Rt);return typeof oe=="undefined"&&(oe=Re.call(this,yt),ot.set(Rt,oe)),oe}function he(Re,ot,_e){var yt=Array.prototype.slice.call(arguments,3),Rt=_e(yt),oe=ot.get(Rt);return typeof oe=="undefined"&&(oe=Re.apply(this,yt),ot.set(Rt,oe)),oe}function U(Re,ot,_e,yt,Rt){return _e.bind(ot,Re,yt,Rt)}function rt(Re,ot){var _e=Re.length===1?O:he;return U(Re,this,_e,ot.cache.create(),ot.serializer)}function Ct(Re,ot){var _e=he;return U(Re,this,_e,ot.cache.create(),ot.serializer)}function At(Re,ot){var _e=O;return U(Re,this,_e,ot.cache.create(),ot.serializer)}function ye(){return JSON.stringify(arguments)}function kt(){this.cache=Object.create(null)}kt.prototype.has=function(Re){return Re in this.cache},kt.prototype.get=function(Re){return this.cache[Re]},kt.prototype.set=function(Re,ot){this.cache[Re]=ot};var Ce={create:function(){return new kt}};Jt.exports=Qe,Jt.exports.strategies={variadic:Ct,monadic:At}},5899:function(Jt,Qe,te){Jt=te.nmd(Jt);var O=200,he="__lodash_hash_undefined__",U=1,rt=2,Ct=9007199254740991,At="[object Arguments]",ye="[object Array]",kt="[object AsyncFunction]",Ce="[object Boolean]",Re="[object Date]",ot="[object Error]",_e="[object Function]",yt="[object GeneratorFunction]",Rt="[object Map]",oe="[object Number]",rr="[object Null]",hn="[object Object]",An="[object Promise]",jt="[object Proxy]",mn="[object RegExp]",yr="[object Set]",Zn="[object String]",tr="[object Symbol]",wn="[object Undefined]",bn="[object WeakMap]",ur="[object ArrayBuffer]",qn="[object DataView]",Ge="[object Float32Array]",gt="[object Float64Array]",be="[object Int8Array]",It="[object Int16Array]",Ke="[object Int32Array]",We="[object Uint8Array]",Ne="[object Uint8ClampedArray]",Y="[object Uint16Array]",Ae="[object Uint32Array]",Ze=/[\\^$.*+?()[\]{}|]/g,ge=/^\[object .+?Constructor\]$/,Be=/^(?:0|[1-9]\d*)$/,ke={};ke[Ge]=ke[gt]=ke[be]=ke[It]=ke[Ke]=ke[We]=ke[Ne]=ke[Y]=ke[Ae]=!0,ke[At]=ke[ye]=ke[ur]=ke[Ce]=ke[qn]=ke[Re]=ke[ot]=ke[_e]=ke[Rt]=ke[oe]=ke[hn]=ke[mn]=ke[yr]=ke[Zn]=ke[bn]=!1;var et=typeof te.g=="object"&&te.g&&te.g.Object===Object&&te.g,wt=typeof self=="object"&&self&&self.Object===Object&&self,Vt=et||wt||Function("return this")(),nn=Qe&&!Qe.nodeType&&Qe,un=nn&&!0&&Jt&&!Jt.nodeType&&Jt,Cn=un&&un.exports===nn,dr=Cn&&et.process,lr=function(){try{return dr&&dr.binding&&dr.binding("util")}catch(T){}}(),Mr=lr&&lr.isTypedArray;function Er(T,V){for(var M=-1,H=T==null?0:T.length,Q=0,Te=[];++M<H;){var mt=T[M];V(mt,M,T)&&(Te[Q++]=mt)}return Te}function Wn(T,V){for(var M=-1,H=V.length,Q=T.length;++M<H;)T[Q+M]=V[M];return T}function Nn(T,V){for(var M=-1,H=T==null?0:T.length;++M<H;)if(V(T[M],M,T))return!0;return!1}function Nr(T,V){for(var M=-1,H=Array(T);++M<T;)H[M]=V(M);return H}function ti(T){return function(V){return T(V)}}function Or(T,V){return T.has(V)}function Jr(T,V){return T==null?void 0:T[V]}function zr(T){var V=-1,M=Array(T.size);return T.forEach(function(H,Q){M[++V]=[Q,H]}),M}function gi(T,V){return function(M){return T(V(M))}}function qr(T){var V=-1,M=Array(T.size);return T.forEach(function(H){M[++V]=H}),M}var Ii=Array.prototype,Ht=Function.prototype,Gt=Object.prototype,on=Vt["__core-js_shared__"],an=Ht.toString,fn=Gt.hasOwnProperty,ir=function(){var T=/[^.]+$/.exec(on&&on.keys&&on.keys.IE_PROTO||"");return T?"Symbol(src)_1."+T:""}(),pn=Gt.toString,Tr=RegExp("^"+an.call(fn).replace(Ze,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jn=Cn?Vt.Buffer:void 0,ci=Vt.Symbol,Qr=Vt.Uint8Array,Xn=Gt.propertyIsEnumerable,On=Ii.splice,si=ci?ci.toStringTag:void 0,Oi=Object.getOwnPropertySymbols,qi=Jn?Jn.isBuffer:void 0,Ti=gi(Object.keys,Object),vr=ao(Vt,"DataView"),oi=ao(Vt,"Map"),tt=ao(Vt,"Promise"),Xt=ao(Vt,"Set"),Pn=ao(Vt,"WeakMap"),Dr=ao(Object,"create"),Xr=Cs(vr),Fi=Cs(oi),yi=Cs(tt),Qo=Cs(Xt),Ui=Cs(Pn),ki=ci?ci.prototype:void 0,wi=ki?ki.valueOf:void 0;function go(T){var V=-1,M=T==null?0:T.length;for(this.clear();++V<M;){var H=T[V];this.set(H[0],H[1])}}function Pe(){this.__data__=Dr?Dr(null):{},this.size=0}function I(T){var V=this.has(T)&&delete this.__data__[T];return this.size-=V?1:0,V}function E(T){var V=this.__data__;if(Dr){var M=V[T];return M===he?void 0:M}return fn.call(V,T)?V[T]:void 0}function P(T){var V=this.__data__;return Dr?V[T]!==void 0:fn.call(V,T)}function ie(T,V){var M=this.__data__;return this.size+=this.has(T)?0:1,M[T]=Dr&&V===void 0?he:V,this}go.prototype.clear=Pe,go.prototype.delete=I,go.prototype.get=E,go.prototype.has=P,go.prototype.set=ie;function ce(T){var V=-1,M=T==null?0:T.length;for(this.clear();++V<M;){var H=T[V];this.set(H[0],H[1])}}function He(){this.__data__=[],this.size=0}function pe(T){var V=this.__data__,M=ut(V,T);if(M<0)return!1;var H=V.length-1;return M==H?V.pop():On.call(V,M,1),--this.size,!0}function Se(T){var V=this.__data__,M=ut(V,T);return M<0?void 0:V[M][1]}function de(T){return ut(this.__data__,T)>-1}function Ue(T,V){var M=this.__data__,H=ut(M,T);return H<0?(++this.size,M.push([T,V])):M[H][1]=V,this}ce.prototype.clear=He,ce.prototype.delete=pe,ce.prototype.get=Se,ce.prototype.has=de,ce.prototype.set=Ue;function Me(T){var V=-1,M=T==null?0:T.length;for(this.clear();++V<M;){var H=T[V];this.set(H[0],H[1])}}function Ve(){this.size=0,this.__data__={hash:new go,map:new(oi||ce),string:new go}}function lt(T){var V=Lo(this,T).delete(T);return this.size-=V?1:0,V}function ht(T){return Lo(this,T).get(T)}function dt(T){return Lo(this,T).has(T)}function $(T,V){var M=Lo(this,T),H=M.size;return M.set(T,V),this.size+=M.size==H?0:1,this}Me.prototype.clear=Ve,Me.prototype.delete=lt,Me.prototype.get=ht,Me.prototype.has=dt,Me.prototype.set=$;function K(T){var V=-1,M=T==null?0:T.length;for(this.__data__=new Me;++V<M;)this.add(T[V])}function X(T){return this.__data__.set(T,he),this}function W(T){return this.__data__.has(T)}K.prototype.add=K.prototype.push=X,K.prototype.has=W;function ve(T){var V=this.__data__=new ce(T);this.size=V.size}function je(){this.__data__=new ce,this.size=0}function nt(T){var V=this.__data__,M=V.delete(T);return this.size=V.size,M}function Xe(T){return this.__data__.get(T)}function $e(T){return this.__data__.has(T)}function De(T,V){var M=this.__data__;if(M instanceof ce){var H=M.__data__;if(!oi||H.length<O-1)return H.push([T,V]),this.size=++M.size,this;M=this.__data__=new Me(H)}return M.set(T,V),this.size=M.size,this}ve.prototype.clear=je,ve.prototype.delete=nt,ve.prototype.get=Xe,ve.prototype.has=$e,ve.prototype.set=De;function qe(T,V){var M=Ys(T),H=!M&&Ci(T),Q=!M&&!H&&Ko(T),Te=!M&&!H&&!Q&&w(T),mt=M||H||Q||Te,St=mt?Nr(T.length,String):[],Ut=St.length;for(var vt in T)(V||fn.call(T,vt))&&!(mt&&(vt=="length"||Q&&(vt=="offset"||vt=="parent")||Te&&(vt=="buffer"||vt=="byteLength"||vt=="byteOffset")||Ps(vt,Ut)))&&St.push(vt);return St}function ut(T,V){for(var M=T.length;M--;)if(ea(T[M][0],V))return M;return-1}function it(T,V,M){var H=V(T);return Ys(T)?H:Wn(H,M(T))}function bt(T){return T==null?T===void 0?wn:rr:si&&si in Object(T)?vs(T):zi(T)}function qt(T){return g(T)&&bt(T)==At}function gn(T,V,M,H,Q){return T===V?!0:T==null||V==null||!g(T)&&!g(V)?T!==T&&V!==V:or(T,V,M,H,gn,Q)}function or(T,V,M,H,Q,Te){var mt=Ys(T),St=Ys(V),Ut=mt?ye:ls(T),vt=St?ye:ls(V);Ut=Ut==At?hn:Ut,vt=vt==At?hn:vt;var $t=Ut==hn,Un=vt==hn,ln=Ut==vt;if(ln&&Ko(T)){if(!Ko(V))return!1;mt=!0,$t=!1}if(ln&&!$t)return Te||(Te=new ve),mt||w(T)?Di(T,V,M,H,Q,Te):Si(T,V,Ut,M,H,Q,Te);if(!(M&U)){var Pt=$t&&fn.call(T,"__wrapped__"),Dn=Un&&fn.call(V,"__wrapped__");if(Pt||Dn){var Ln=Pt?T.value():T,zn=Dn?V.value():V;return Te||(Te=new ve),Q(Ln,zn,M,H,Te)}}return ln?(Te||(Te=new ve),_o(T,V,M,H,Q,Te)):!1}function Qn(T){if(!p(T)||Ea(T))return!1;var V=Ks(T)?Tr:ge;return V.test(Cs(T))}function Gn(T){return g(T)&&xo(T.length)&&!!ke[bt(T)]}function cr(T){if(!Vs(T))return Ti(T);var V=[];for(var M in Object(T))fn.call(T,M)&&M!="constructor"&&V.push(M);return V}function Di(T,V,M,H,Q,Te){var mt=M&U,St=T.length,Ut=V.length;if(St!=Ut&&!(mt&&Ut>St))return!1;var vt=Te.get(T);if(vt&&Te.get(V))return vt==V;var $t=-1,Un=!0,ln=M&rt?new K:void 0;for(Te.set(T,V),Te.set(V,T);++$t<St;){var Pt=T[$t],Dn=V[$t];if(H)var Ln=mt?H(Dn,Pt,$t,V,T,Te):H(Pt,Dn,$t,T,V,Te);if(Ln!==void 0){if(Ln)continue;Un=!1;break}if(ln){if(!Nn(V,function(zn,xn){if(!Or(ln,xn)&&(Pt===zn||Q(Pt,zn,M,H,Te)))return ln.push(xn)})){Un=!1;break}}else if(!(Pt===Dn||Q(Pt,Dn,M,H,Te))){Un=!1;break}}return Te.delete(T),Te.delete(V),Un}function Si(T,V,M,H,Q,Te,mt){switch(M){case qn:if(T.byteLength!=V.byteLength||T.byteOffset!=V.byteOffset)return!1;T=T.buffer,V=V.buffer;case ur:return!(T.byteLength!=V.byteLength||!Te(new Qr(T),new Qr(V)));case Ce:case Re:case oe:return ea(+T,+V);case ot:return T.name==V.name&&T.message==V.message;case mn:case Zn:return T==V+"";case Rt:var St=zr;case yr:var Ut=H&U;if(St||(St=qr),T.size!=V.size&&!Ut)return!1;var vt=mt.get(T);if(vt)return vt==V;H|=rt,mt.set(T,V);var $t=Di(St(T),St(V),H,Q,Te,mt);return mt.delete(T),$t;case tr:if(wi)return wi.call(T)==wi.call(V)}return!1}function _o(T,V,M,H,Q,Te){var mt=M&U,St=ps(T),Ut=St.length,vt=ps(V),$t=vt.length;if(Ut!=$t&&!mt)return!1;for(var Un=Ut;Un--;){var ln=St[Un];if(!(mt?ln in V:fn.call(V,ln)))return!1}var Pt=Te.get(T);if(Pt&&Te.get(V))return Pt==V;var Dn=!0;Te.set(T,V),Te.set(V,T);for(var Ln=mt;++Un<Ut;){ln=St[Un];var zn=T[ln],xn=V[ln];if(H)var rn=mt?H(xn,zn,ln,V,T,Te):H(zn,xn,ln,T,V,Te);if(!(rn===void 0?zn===xn||Q(zn,xn,M,H,Te):rn)){Dn=!1;break}Ln||(Ln=ln=="constructor")}if(Dn&&!Ln){var $n=T.constructor,Ar=V.constructor;$n!=Ar&&"constructor"in T&&"constructor"in V&&!(typeof $n=="function"&&$n instanceof $n&&typeof Ar=="function"&&Ar instanceof Ar)&&(Dn=!1)}return Te.delete(T),Te.delete(V),Dn}function ps(T){return it(T,D,Po)}function Lo(T,V){var M=T.__data__;return Va(V)?M[typeof V=="string"?"string":"hash"]:M.map}function ao(T,V){var M=Jr(T,V);return Qn(M)?M:void 0}function vs(T){var V=fn.call(T,si),M=T[si];try{T[si]=void 0;var H=!0}catch(Te){}var Q=pn.call(T);return H&&(V?T[si]=M:delete T[si]),Q}var Po=Oi?function(T){return T==null?[]:(T=Object(T),Er(Oi(T),function(V){return Xn.call(T,V)}))}:ee,ls=bt;(vr&&ls(new vr(new ArrayBuffer(1)))!=qn||oi&&ls(new oi)!=Rt||tt&&ls(tt.resolve())!=An||Xt&&ls(new Xt)!=yr||Pn&&ls(new Pn)!=bn)&&(ls=function(T){var V=bt(T),M=V==hn?T.constructor:void 0,H=M?Cs(M):"";if(H)switch(H){case Xr:return qn;case Fi:return Rt;case yi:return An;case Qo:return yr;case Ui:return bn}return V});function Ps(T,V){return V=V==null?Ct:V,!!V&&(typeof T=="number"||Be.test(T))&&T>-1&&T%1==0&&T<V}function Va(T){var V=typeof T;return V=="string"||V=="number"||V=="symbol"||V=="boolean"?T!=="__proto__":T===null}function Ea(T){return!!ir&&ir in T}function Vs(T){var V=T&&T.constructor,M=typeof V=="function"&&V.prototype||Gt;return T===M}function zi(T){return pn.call(T)}function Cs(T){if(T!=null){try{return an.call(T)}catch(V){}try{return T+""}catch(V){}}return""}function ea(T,V){return T===V||T!==T&&V!==V}var Ci=qt(function(){return arguments}())?qt:function(T){return g(T)&&fn.call(T,"callee")&&!Xn.call(T,"callee")},Ys=Array.isArray;function _a(T){return T!=null&&xo(T.length)&&!Ks(T)}var Ko=qi||ne;function la(T,V){return gn(T,V)}function Ks(T){if(!p(T))return!1;var V=bt(T);return V==_e||V==yt||V==kt||V==jt}function xo(T){return typeof T=="number"&&T>-1&&T%1==0&&T<=Ct}function p(T){var V=typeof T;return T!=null&&(V=="object"||V=="function")}function g(T){return T!=null&&typeof T=="object"}var w=Mr?ti(Mr):Gn;function D(T){return _a(T)?qe(T):cr(T)}function ee(){return[]}function ne(){return!1}Jt.exports=la},72266:function(Jt,Qe,te){Jt=te.nmd(Jt);var O=200,he="__lodash_hash_undefined__",U=800,rt=16,Ct=9007199254740991,At="[object Arguments]",ye="[object Array]",kt="[object AsyncFunction]",Ce="[object Boolean]",Re="[object Date]",ot="[object Error]",_e="[object Function]",yt="[object GeneratorFunction]",Rt="[object Map]",oe="[object Number]",rr="[object Null]",hn="[object Object]",An="[object Proxy]",jt="[object RegExp]",mn="[object Set]",yr="[object String]",Zn="[object Undefined]",tr="[object WeakMap]",wn="[object ArrayBuffer]",bn="[object DataView]",ur="[object Float32Array]",qn="[object Float64Array]",Ge="[object Int8Array]",gt="[object Int16Array]",be="[object Int32Array]",It="[object Uint8Array]",Ke="[object Uint8ClampedArray]",We="[object Uint16Array]",Ne="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,Ae=/^\[object .+?Constructor\]$/,Ze=/^(?:0|[1-9]\d*)$/,ge={};ge[ur]=ge[qn]=ge[Ge]=ge[gt]=ge[be]=ge[It]=ge[Ke]=ge[We]=ge[Ne]=!0,ge[At]=ge[ye]=ge[wn]=ge[Ce]=ge[bn]=ge[Re]=ge[ot]=ge[_e]=ge[Rt]=ge[oe]=ge[hn]=ge[jt]=ge[mn]=ge[yr]=ge[tr]=!1;var Be=typeof te.g=="object"&&te.g&&te.g.Object===Object&&te.g,ke=typeof self=="object"&&self&&self.Object===Object&&self,et=Be||ke||Function("return this")(),wt=Qe&&!Qe.nodeType&&Qe,Vt=wt&&!0&&Jt&&!Jt.nodeType&&Jt,nn=Vt&&Vt.exports===wt,un=nn&&Be.process,Cn=function(){try{var M=Vt&&Vt.require&&Vt.require("util").types;return M||un&&un.binding&&un.binding("util")}catch(H){}}(),dr=Cn&&Cn.isTypedArray;function lr(M,H,Q){switch(Q.length){case 0:return M.call(H);case 1:return M.call(H,Q[0]);case 2:return M.call(H,Q[0],Q[1]);case 3:return M.call(H,Q[0],Q[1],Q[2])}return M.apply(H,Q)}function Mr(M,H){for(var Q=-1,Te=Array(M);++Q<M;)Te[Q]=H(Q);return Te}function Er(M){return function(H){return M(H)}}function Wn(M,H){return M==null?void 0:M[H]}function Nn(M,H){return function(Q){return M(H(Q))}}var Nr=Array.prototype,ti=Function.prototype,Or=Object.prototype,Jr=et["__core-js_shared__"],zr=ti.toString,gi=Or.hasOwnProperty,qr=function(){var M=/[^.]+$/.exec(Jr&&Jr.keys&&Jr.keys.IE_PROTO||"");return M?"Symbol(src)_1."+M:""}(),Ii=Or.toString,Ht=zr.call(Object),Gt=RegExp("^"+zr.call(gi).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),on=nn?et.Buffer:void 0,an=et.Symbol,fn=et.Uint8Array,ir=on?on.allocUnsafe:void 0,pn=Nn(Object.getPrototypeOf,Object),Tr=Object.create,Jn=Or.propertyIsEnumerable,ci=Nr.splice,Qr=an?an.toStringTag:void 0,Xn=function(){try{var M=Gn(Object,"defineProperty");return M({},"",{}),M}catch(H){}}(),On=on?on.isBuffer:void 0,si=Math.max,Oi=Date.now,qi=Gn(et,"Map"),Ti=Gn(Object,"create"),vr=function(){function M(){}return function(H){if(!Ks(H))return{};if(Tr)return Tr(H);M.prototype=H;var Q=new M;return M.prototype=void 0,Q}}();function oi(M){var H=-1,Q=M==null?0:M.length;for(this.clear();++H<Q;){var Te=M[H];this.set(Te[0],Te[1])}}function tt(){this.__data__=Ti?Ti(null):{},this.size=0}function Xt(M){var H=this.has(M)&&delete this.__data__[M];return this.size-=H?1:0,H}function Pn(M){var H=this.__data__;if(Ti){var Q=H[M];return Q===he?void 0:Q}return gi.call(H,M)?H[M]:void 0}function Dr(M){var H=this.__data__;return Ti?H[M]!==void 0:gi.call(H,M)}function Xr(M,H){var Q=this.__data__;return this.size+=this.has(M)?0:1,Q[M]=Ti&&H===void 0?he:H,this}oi.prototype.clear=tt,oi.prototype.delete=Xt,oi.prototype.get=Pn,oi.prototype.has=Dr,oi.prototype.set=Xr;function Fi(M){var H=-1,Q=M==null?0:M.length;for(this.clear();++H<Q;){var Te=M[H];this.set(Te[0],Te[1])}}function yi(){this.__data__=[],this.size=0}function Qo(M){var H=this.__data__,Q=ht(H,M);if(Q<0)return!1;var Te=H.length-1;return Q==Te?H.pop():ci.call(H,Q,1),--this.size,!0}function Ui(M){var H=this.__data__,Q=ht(H,M);return Q<0?void 0:H[Q][1]}function ki(M){return ht(this.__data__,M)>-1}function wi(M,H){var Q=this.__data__,Te=ht(Q,M);return Te<0?(++this.size,Q.push([M,H])):Q[Te][1]=H,this}Fi.prototype.clear=yi,Fi.prototype.delete=Qo,Fi.prototype.get=Ui,Fi.prototype.has=ki,Fi.prototype.set=wi;function go(M){var H=-1,Q=M==null?0:M.length;for(this.clear();++H<Q;){var Te=M[H];this.set(Te[0],Te[1])}}function Pe(){this.size=0,this.__data__={hash:new oi,map:new(qi||Fi),string:new oi}}function I(M){var H=Qn(this,M).delete(M);return this.size-=H?1:0,H}function E(M){return Qn(this,M).get(M)}function P(M){return Qn(this,M).has(M)}function ie(M,H){var Q=Qn(this,M),Te=Q.size;return Q.set(M,H),this.size+=Q.size==Te?0:1,this}go.prototype.clear=Pe,go.prototype.delete=I,go.prototype.get=E,go.prototype.has=P,go.prototype.set=ie;function ce(M){var H=this.__data__=new Fi(M);this.size=H.size}function He(){this.__data__=new Fi,this.size=0}function pe(M){var H=this.__data__,Q=H.delete(M);return this.size=H.size,Q}function Se(M){return this.__data__.get(M)}function de(M){return this.__data__.has(M)}function Ue(M,H){var Q=this.__data__;if(Q instanceof Fi){var Te=Q.__data__;if(!qi||Te.length<O-1)return Te.push([M,H]),this.size=++Q.size,this;Q=this.__data__=new go(Te)}return Q.set(M,H),this.size=Q.size,this}ce.prototype.clear=He,ce.prototype.delete=pe,ce.prototype.get=Se,ce.prototype.has=de,ce.prototype.set=Ue;function Me(M,H){var Q=ea(M),Te=!Q&&Cs(M),mt=!Q&&!Te&&_a(M),St=!Q&&!Te&&!mt&&g(M),Ut=Q||Te||mt||St,vt=Ut?Mr(M.length,String):[],$t=vt.length;for(var Un in M)(H||gi.call(M,Un))&&!(Ut&&(Un=="length"||mt&&(Un=="offset"||Un=="parent")||St&&(Un=="buffer"||Un=="byteLength"||Un=="byteOffset")||Si(Un,$t)))&&vt.push(Un);return vt}function Ve(M,H,Q){(Q!==void 0&&!zi(M[H],Q)||Q===void 0&&!(H in M))&&dt(M,H,Q)}function lt(M,H,Q){var Te=M[H];(!(gi.call(M,H)&&zi(Te,Q))||Q===void 0&&!(H in M))&&dt(M,H,Q)}function ht(M,H){for(var Q=M.length;Q--;)if(zi(M[Q][0],H))return Q;return-1}function dt(M,H,Q){H=="__proto__"&&Xn?Xn(M,H,{configurable:!0,enumerable:!0,value:Q,writable:!0}):M[H]=Q}var $=or();function K(M){return M==null?M===void 0?Zn:rr:Qr&&Qr in Object(M)?cr(M):Po(M)}function X(M){return xo(M)&&K(M)==At}function W(M){if(!Ks(M)||Lo(M))return!1;var H=Ko(M)?Gt:Ae;return H.test(Vs(M))}function ve(M){return xo(M)&&la(M.length)&&!!ge[K(M)]}function je(M){if(!Ks(M))return vs(M);var H=ao(M),Q=[];for(var Te in M)Te=="constructor"&&(H||!gi.call(M,Te))||Q.push(Te);return Q}function nt(M,H,Q,Te,mt){M!==H&&$(H,function(St,Ut){if(mt||(mt=new ce),Ks(St))Xe(M,H,Ut,Q,nt,Te,mt);else{var vt=Te?Te(Ps(M,Ut),St,Ut+"",M,H,mt):void 0;vt===void 0&&(vt=St),Ve(M,Ut,vt)}},D)}function Xe(M,H,Q,Te,mt,St,Ut){var vt=Ps(M,Q),$t=Ps(H,Q),Un=Ut.get($t);if(Un){Ve(M,Q,Un);return}var ln=St?St(vt,$t,Q+"",M,H,Ut):void 0,Pt=ln===void 0;if(Pt){var Dn=ea($t),Ln=!Dn&&_a($t),zn=!Dn&&!Ln&&g($t);ln=$t,Dn||Ln||zn?ea(vt)?ln=vt:Ys(vt)?ln=bt(vt):Ln?(Pt=!1,ln=qe($t,!0)):zn?(Pt=!1,ln=it($t,!0)):ln=[]:p($t)||Cs($t)?(ln=vt,Cs(vt)?ln=w(vt):(!Ks(vt)||Ko(vt))&&(ln=Di($t))):Pt=!1}Pt&&(Ut.set($t,ln),mt(ln,$t,Te,St,Ut),Ut.delete($t)),Ve(M,Q,ln)}function $e(M,H){return Va(ls(M,H,T),M+"")}var De=Xn?function(M,H){return Xn(M,"toString",{configurable:!0,enumerable:!1,value:ne(H),writable:!0})}:T;function qe(M,H){if(H)return M.slice();var Q=M.length,Te=ir?ir(Q):new M.constructor(Q);return M.copy(Te),Te}function ut(M){var H=new M.constructor(M.byteLength);return new fn(H).set(new fn(M)),H}function it(M,H){var Q=H?ut(M.buffer):M.buffer;return new M.constructor(Q,M.byteOffset,M.length)}function bt(M,H){var Q=-1,Te=M.length;for(H||(H=Array(Te));++Q<Te;)H[Q]=M[Q];return H}function qt(M,H,Q,Te){var mt=!Q;Q||(Q={});for(var St=-1,Ut=H.length;++St<Ut;){var vt=H[St],$t=Te?Te(Q[vt],M[vt],vt,Q,M):void 0;$t===void 0&&($t=M[vt]),mt?dt(Q,vt,$t):lt(Q,vt,$t)}return Q}function gn(M){return $e(function(H,Q){var Te=-1,mt=Q.length,St=mt>1?Q[mt-1]:void 0,Ut=mt>2?Q[2]:void 0;for(St=M.length>3&&typeof St=="function"?(mt--,St):void 0,Ut&&_o(Q[0],Q[1],Ut)&&(St=mt<3?void 0:St,mt=1),H=Object(H);++Te<mt;){var vt=Q[Te];vt&&M(H,vt,Te,St)}return H})}function or(M){return function(H,Q,Te){for(var mt=-1,St=Object(H),Ut=Te(H),vt=Ut.length;vt--;){var $t=Ut[M?vt:++mt];if(Q(St[$t],$t,St)===!1)break}return H}}function Qn(M,H){var Q=M.__data__;return ps(H)?Q[typeof H=="string"?"string":"hash"]:Q.map}function Gn(M,H){var Q=Wn(M,H);return W(Q)?Q:void 0}function cr(M){var H=gi.call(M,Qr),Q=M[Qr];try{M[Qr]=void 0;var Te=!0}catch(St){}var mt=Ii.call(M);return Te&&(H?M[Qr]=Q:delete M[Qr]),mt}function Di(M){return typeof M.constructor=="function"&&!ao(M)?vr(pn(M)):{}}function Si(M,H){var Q=typeof M;return H=H==null?Ct:H,!!H&&(Q=="number"||Q!="symbol"&&Ze.test(M))&&M>-1&&M%1==0&&M<H}function _o(M,H,Q){if(!Ks(Q))return!1;var Te=typeof H;return(Te=="number"?Ci(Q)&&Si(H,Q.length):Te=="string"&&H in Q)?zi(Q[H],M):!1}function ps(M){var H=typeof M;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?M!=="__proto__":M===null}function Lo(M){return!!qr&&qr in M}function ao(M){var H=M&&M.constructor,Q=typeof H=="function"&&H.prototype||Or;return M===Q}function vs(M){var H=[];if(M!=null)for(var Q in Object(M))H.push(Q);return H}function Po(M){return Ii.call(M)}function ls(M,H,Q){return H=si(H===void 0?M.length-1:H,0),function(){for(var Te=arguments,mt=-1,St=si(Te.length-H,0),Ut=Array(St);++mt<St;)Ut[mt]=Te[H+mt];mt=-1;for(var vt=Array(H+1);++mt<H;)vt[mt]=Te[mt];return vt[H]=Q(Ut),lr(M,this,vt)}}function Ps(M,H){if(!(H==="constructor"&&typeof M[H]=="function")&&H!="__proto__")return M[H]}var Va=Ea(De);function Ea(M){var H=0,Q=0;return function(){var Te=Oi(),mt=rt-(Te-Q);if(Q=Te,mt>0){if(++H>=U)return arguments[0]}else H=0;return M.apply(void 0,arguments)}}function Vs(M){if(M!=null){try{return zr.call(M)}catch(H){}try{return M+""}catch(H){}}return""}function zi(M,H){return M===H||M!==M&&H!==H}var Cs=X(function(){return arguments}())?X:function(M){return xo(M)&&gi.call(M,"callee")&&!Jn.call(M,"callee")},ea=Array.isArray;function Ci(M){return M!=null&&la(M.length)&&!Ko(M)}function Ys(M){return xo(M)&&Ci(M)}var _a=On||V;function Ko(M){if(!Ks(M))return!1;var H=K(M);return H==_e||H==yt||H==kt||H==An}function la(M){return typeof M=="number"&&M>-1&&M%1==0&&M<=Ct}function Ks(M){var H=typeof M;return M!=null&&(H=="object"||H=="function")}function xo(M){return M!=null&&typeof M=="object"}function p(M){if(!xo(M)||K(M)!=hn)return!1;var H=pn(M);if(H===null)return!0;var Q=gi.call(H,"constructor")&&H.constructor;return typeof Q=="function"&&Q instanceof Q&&zr.call(Q)==Ht}var g=dr?Er(dr):ve;function w(M){return qt(M,D(M))}function D(M){return Ci(M)?Me(M,!0):je(M)}var ee=gn(function(M,H,Q){nt(M,H,Q)});function ne(M){return function(){return M}}function T(M){return M}function V(){return!1}Jt.exports=ee},44929:function(Jt,Qe,te){"use strict";function O(ge){"@babel/helpers - typeof";return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Be){return typeof Be}:function(Be){return Be&&typeof Symbol=="function"&&Be.constructor===Symbol&&Be!==Symbol.prototype?"symbol":typeof Be},O(ge)}Object.defineProperty(Qe,"__esModule",{value:!0}),Object.defineProperty(Qe,"DraggableCore",{enumerable:!0,get:function(){return Ce.default}}),Qe.default=void 0;var he=Rt(te(50959)),U=_e(te(40507)),rt=_e(te(10422)),Ct=_e(te(45924)),At=te(3767),ye=te(21476),kt=te(89323),Ce=_e(te(67703)),Re=_e(te(21261)),ot=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function _e(ge){return ge&&ge.__esModule?ge:{default:ge}}function yt(ge){if(typeof WeakMap!="function")return null;var Be=new WeakMap,ke=new WeakMap;return(yt=function(wt){return wt?ke:Be})(ge)}function Rt(ge,Be){if(!Be&&ge&&ge.__esModule)return ge;if(ge===null||O(ge)!=="object"&&typeof ge!="function")return{default:ge};var ke=yt(Be);if(ke&&ke.has(ge))return ke.get(ge);var et={},wt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Vt in ge)if(Vt!=="default"&&Object.prototype.hasOwnProperty.call(ge,Vt)){var nn=wt?Object.getOwnPropertyDescriptor(ge,Vt):null;nn&&(nn.get||nn.set)?Object.defineProperty(et,Vt,nn):et[Vt]=ge[Vt]}return et.default=ge,ke&&ke.set(ge,et),et}function oe(){return oe=Object.assign||function(ge){for(var Be=1;Be<arguments.length;Be++){var ke=arguments[Be];for(var et in ke)Object.prototype.hasOwnProperty.call(ke,et)&&(ge[et]=ke[et])}return ge},oe.apply(this,arguments)}function rr(ge,Be){if(ge==null)return{};var ke=hn(ge,Be),et,wt;if(Object.getOwnPropertySymbols){var Vt=Object.getOwnPropertySymbols(ge);for(wt=0;wt<Vt.length;wt++)et=Vt[wt],!(Be.indexOf(et)>=0)&&Object.prototype.propertyIsEnumerable.call(ge,et)&&(ke[et]=ge[et])}return ke}function hn(ge,Be){if(ge==null)return{};var ke={},et=Object.keys(ge),wt,Vt;for(Vt=0;Vt<et.length;Vt++)wt=et[Vt],!(Be.indexOf(wt)>=0)&&(ke[wt]=ge[wt]);return ke}function An(ge,Be){var ke=Object.keys(ge);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(ge);Be&&(et=et.filter(function(wt){return Object.getOwnPropertyDescriptor(ge,wt).enumerable})),ke.push.apply(ke,et)}return ke}function jt(ge){for(var Be=1;Be<arguments.length;Be++){var ke=arguments[Be]!=null?arguments[Be]:{};Be%2?An(Object(ke),!0).forEach(function(et){Ae(ge,et,ke[et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(ke)):An(Object(ke)).forEach(function(et){Object.defineProperty(ge,et,Object.getOwnPropertyDescriptor(ke,et))})}return ge}function mn(ge,Be){return bn(ge)||wn(ge,Be)||Zn(ge,Be)||yr()}function yr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zn(ge,Be){if(ge){if(typeof ge=="string")return tr(ge,Be);var ke=Object.prototype.toString.call(ge).slice(8,-1);if(ke==="Object"&&ge.constructor&&(ke=ge.constructor.name),ke==="Map"||ke==="Set")return Array.from(ge);if(ke==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ke))return tr(ge,Be)}}function tr(ge,Be){(Be==null||Be>ge.length)&&(Be=ge.length);for(var ke=0,et=new Array(Be);ke<Be;ke++)et[ke]=ge[ke];return et}function wn(ge,Be){var ke=ge==null?null:typeof Symbol!="undefined"&&ge[Symbol.iterator]||ge["@@iterator"];if(ke!=null){var et=[],wt=!0,Vt=!1,nn,un;try{for(ke=ke.call(ge);!(wt=(nn=ke.next()).done)&&(et.push(nn.value),!(Be&&et.length===Be));wt=!0);}catch(Cn){Vt=!0,un=Cn}finally{try{!wt&&ke.return!=null&&ke.return()}finally{if(Vt)throw un}}return et}}function bn(ge){if(Array.isArray(ge))return ge}function ur(ge,Be){if(!(ge instanceof Be))throw new TypeError("Cannot call a class as a function")}function qn(ge,Be){for(var ke=0;ke<Be.length;ke++){var et=Be[ke];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(ge,et.key,et)}}function Ge(ge,Be,ke){return Be&&qn(ge.prototype,Be),ke&&qn(ge,ke),Object.defineProperty(ge,"prototype",{writable:!1}),ge}function gt(ge,Be){if(typeof Be!="function"&&Be!==null)throw new TypeError("Super expression must either be null or a function");ge.prototype=Object.create(Be&&Be.prototype,{constructor:{value:ge,writable:!0,configurable:!0}}),Object.defineProperty(ge,"prototype",{writable:!1}),Be&&be(ge,Be)}function be(ge,Be){return be=Object.setPrototypeOf||function(et,wt){return et.__proto__=wt,et},be(ge,Be)}function It(ge){var Be=Ne();return function(){var et=Y(ge),wt;if(Be){var Vt=Y(this).constructor;wt=Reflect.construct(et,arguments,Vt)}else wt=et.apply(this,arguments);return Ke(this,wt)}}function Ke(ge,Be){if(Be&&(O(Be)==="object"||typeof Be=="function"))return Be;if(Be!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return We(ge)}function We(ge){if(ge===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ge}function Ne(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ge){return!1}}function Y(ge){return Y=Object.setPrototypeOf?Object.getPrototypeOf:function(ke){return ke.__proto__||Object.getPrototypeOf(ke)},Y(ge)}function Ae(ge,Be,ke){return Be in ge?Object.defineProperty(ge,Be,{value:ke,enumerable:!0,configurable:!0,writable:!0}):ge[Be]=ke,ge}var Ze=function(ge){gt(ke,ge);var Be=It(ke);function ke(et){var wt;return ur(this,ke),wt=Be.call(this,et),Ae(We(wt),"onDragStart",function(Vt,nn){(0,Re.default)("Draggable: onDragStart: %j",nn);var un=wt.props.onStart(Vt,(0,ye.createDraggableData)(We(wt),nn));if(un===!1)return!1;wt.setState({dragging:!0,dragged:!0})}),Ae(We(wt),"onDrag",function(Vt,nn){if(!wt.state.dragging)return!1;(0,Re.default)("Draggable: onDrag: %j",nn);var un=(0,ye.createDraggableData)(We(wt),nn),Cn={x:un.x,y:un.y};if(wt.props.bounds){var dr=Cn.x,lr=Cn.y;Cn.x+=wt.state.slackX,Cn.y+=wt.state.slackY;var Mr=(0,ye.getBoundPosition)(We(wt),Cn.x,Cn.y),Er=mn(Mr,2),Wn=Er[0],Nn=Er[1];Cn.x=Wn,Cn.y=Nn,Cn.slackX=wt.state.slackX+(dr-Cn.x),Cn.slackY=wt.state.slackY+(lr-Cn.y),un.x=Cn.x,un.y=Cn.y,un.deltaX=Cn.x-wt.state.x,un.deltaY=Cn.y-wt.state.y}var Nr=wt.props.onDrag(Vt,un);if(Nr===!1)return!1;wt.setState(Cn)}),Ae(We(wt),"onDragStop",function(Vt,nn){if(!wt.state.dragging)return!1;var un=wt.props.onStop(Vt,(0,ye.createDraggableData)(We(wt),nn));if(un===!1)return!1;(0,Re.default)("Draggable: onDragStop: %j",nn);var Cn={dragging:!1,slackX:0,slackY:0},dr=!!wt.props.position;if(dr){var lr=wt.props.position,Mr=lr.x,Er=lr.y;Cn.x=Mr,Cn.y=Er}wt.setState(Cn)}),wt.state={dragging:!1,dragged:!1,x:et.position?et.position.x:et.defaultPosition.x,y:et.position?et.position.y:et.defaultPosition.y,prevPropsPosition:jt({},et.position),slackX:0,slackY:0,isElementSVG:!1},et.position&&!(et.onDrag||et.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),wt}return Ge(ke,[{key:"componentDidMount",value:function(){typeof window.SVGElement!="undefined"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var wt,Vt,nn;return(wt=(Vt=this.props)===null||Vt===void 0||(nn=Vt.nodeRef)===null||nn===void 0?void 0:nn.current)!==null&&wt!==void 0?wt:rt.default.findDOMNode(this)}},{key:"render",value:function(){var wt,Vt=this.props,nn=Vt.axis,un=Vt.bounds,Cn=Vt.children,dr=Vt.defaultPosition,lr=Vt.defaultClassName,Mr=Vt.defaultClassNameDragging,Er=Vt.defaultClassNameDragged,Wn=Vt.position,Nn=Vt.positionOffset,Nr=Vt.scale,ti=rr(Vt,ot),Or={},Jr=null,zr=!!Wn,gi=!zr||this.state.dragging,qr=Wn||dr,Ii={x:(0,ye.canDragX)(this)&&gi?this.state.x:qr.x,y:(0,ye.canDragY)(this)&&gi?this.state.y:qr.y};this.state.isElementSVG?Jr=(0,At.createSVGTransform)(Ii,Nn):Or=(0,At.createCSSTransform)(Ii,Nn);var Ht=(0,Ct.default)(Cn.props.className||"",lr,(wt={},Ae(wt,Mr,this.state.dragging),Ae(wt,Er,this.state.dragged),wt));return he.createElement(Ce.default,oe({},ti,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),he.cloneElement(he.Children.only(Cn),{className:Ht,style:jt(jt({},Cn.props.style),Or),transform:Jr}))}}],[{key:"getDerivedStateFromProps",value:function(wt,Vt){var nn=wt.position,un=Vt.prevPropsPosition;return nn&&(!un||nn.x!==un.x||nn.y!==un.y)?((0,Re.default)("Draggable: getDerivedStateFromProps %j",{position:nn,prevPropsPosition:un}),{x:nn.x,y:nn.y,prevPropsPosition:jt({},nn)}):null}}]),ke}(he.Component);Qe.default=Ze,Ae(Ze,"displayName","Draggable"),Ae(Ze,"propTypes",jt(jt({},Ce.default.propTypes),{},{axis:U.default.oneOf(["both","x","y","none"]),bounds:U.default.oneOfType([U.default.shape({left:U.default.number,right:U.default.number,top:U.default.number,bottom:U.default.number}),U.default.string,U.default.oneOf([!1])]),defaultClassName:U.default.string,defaultClassNameDragging:U.default.string,defaultClassNameDragged:U.default.string,defaultPosition:U.default.shape({x:U.default.number,y:U.default.number}),positionOffset:U.default.shape({x:U.default.oneOfType([U.default.number,U.default.string]),y:U.default.oneOfType([U.default.number,U.default.string])}),position:U.default.shape({x:U.default.number,y:U.default.number}),className:kt.dontSetMe,style:kt.dontSetMe,transform:kt.dontSetMe})),Ae(Ze,"defaultProps",jt(jt({},Ce.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},67703:function(Jt,Qe,te){"use strict";function O(Ke){"@babel/helpers - typeof";return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(We){return typeof We}:function(We){return We&&typeof Symbol=="function"&&We.constructor===Symbol&&We!==Symbol.prototype?"symbol":typeof We},O(Ke)}Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=void 0;var he=ot(te(50959)),U=Ce(te(40507)),rt=Ce(te(10422)),Ct=te(3767),At=te(21476),ye=te(89323),kt=Ce(te(21261));function Ce(Ke){return Ke&&Ke.__esModule?Ke:{default:Ke}}function Re(Ke){if(typeof WeakMap!="function")return null;var We=new WeakMap,Ne=new WeakMap;return(Re=function(Ae){return Ae?Ne:We})(Ke)}function ot(Ke,We){if(!We&&Ke&&Ke.__esModule)return Ke;if(Ke===null||O(Ke)!=="object"&&typeof Ke!="function")return{default:Ke};var Ne=Re(We);if(Ne&&Ne.has(Ke))return Ne.get(Ke);var Y={},Ae=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ze in Ke)if(Ze!=="default"&&Object.prototype.hasOwnProperty.call(Ke,Ze)){var ge=Ae?Object.getOwnPropertyDescriptor(Ke,Ze):null;ge&&(ge.get||ge.set)?Object.defineProperty(Y,Ze,ge):Y[Ze]=Ke[Ze]}return Y.default=Ke,Ne&&Ne.set(Ke,Y),Y}function _e(Ke,We){return hn(Ke)||rr(Ke,We)||Rt(Ke,We)||yt()}function yt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rt(Ke,We){if(Ke){if(typeof Ke=="string")return oe(Ke,We);var Ne=Object.prototype.toString.call(Ke).slice(8,-1);if(Ne==="Object"&&Ke.constructor&&(Ne=Ke.constructor.name),Ne==="Map"||Ne==="Set")return Array.from(Ke);if(Ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ne))return oe(Ke,We)}}function oe(Ke,We){(We==null||We>Ke.length)&&(We=Ke.length);for(var Ne=0,Y=new Array(We);Ne<We;Ne++)Y[Ne]=Ke[Ne];return Y}function rr(Ke,We){var Ne=Ke==null?null:typeof Symbol!="undefined"&&Ke[Symbol.iterator]||Ke["@@iterator"];if(Ne!=null){var Y=[],Ae=!0,Ze=!1,ge,Be;try{for(Ne=Ne.call(Ke);!(Ae=(ge=Ne.next()).done)&&(Y.push(ge.value),!(We&&Y.length===We));Ae=!0);}catch(ke){Ze=!0,Be=ke}finally{try{!Ae&&Ne.return!=null&&Ne.return()}finally{if(Ze)throw Be}}return Y}}function hn(Ke){if(Array.isArray(Ke))return Ke}function An(Ke,We){if(!(Ke instanceof We))throw new TypeError("Cannot call a class as a function")}function jt(Ke,We){for(var Ne=0;Ne<We.length;Ne++){var Y=We[Ne];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(Ke,Y.key,Y)}}function mn(Ke,We,Ne){return We&&jt(Ke.prototype,We),Ne&&jt(Ke,Ne),Object.defineProperty(Ke,"prototype",{writable:!1}),Ke}function yr(Ke,We){if(typeof We!="function"&&We!==null)throw new TypeError("Super expression must either be null or a function");Ke.prototype=Object.create(We&&We.prototype,{constructor:{value:Ke,writable:!0,configurable:!0}}),Object.defineProperty(Ke,"prototype",{writable:!1}),We&&Zn(Ke,We)}function Zn(Ke,We){return Zn=Object.setPrototypeOf||function(Y,Ae){return Y.__proto__=Ae,Y},Zn(Ke,We)}function tr(Ke){var We=ur();return function(){var Y=qn(Ke),Ae;if(We){var Ze=qn(this).constructor;Ae=Reflect.construct(Y,arguments,Ze)}else Ae=Y.apply(this,arguments);return wn(this,Ae)}}function wn(Ke,We){if(We&&(O(We)==="object"||typeof We=="function"))return We;if(We!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bn(Ke)}function bn(Ke){if(Ke===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ke}function ur(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ke){return!1}}function qn(Ke){return qn=Object.setPrototypeOf?Object.getPrototypeOf:function(Ne){return Ne.__proto__||Object.getPrototypeOf(Ne)},qn(Ke)}function Ge(Ke,We,Ne){return We in Ke?Object.defineProperty(Ke,We,{value:Ne,enumerable:!0,configurable:!0,writable:!0}):Ke[We]=Ne,Ke}var gt={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},be=gt.mouse,It=function(Ke){yr(Ne,Ke);var We=tr(Ne);function Ne(){var Y;An(this,Ne);for(var Ae=arguments.length,Ze=new Array(Ae),ge=0;ge<Ae;ge++)Ze[ge]=arguments[ge];return Y=We.call.apply(We,[this].concat(Ze)),Ge(bn(Y),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),Ge(bn(Y),"mounted",!1),Ge(bn(Y),"handleDragStart",function(Be){if(Y.props.onMouseDown(Be),!Y.props.allowAnyClick&&typeof Be.button=="number"&&Be.button!==0)return!1;var ke=Y.findDOMNode();if(!ke||!ke.ownerDocument||!ke.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var et=ke.ownerDocument;if(!(Y.props.disabled||!(Be.target instanceof et.defaultView.Node)||Y.props.handle&&!(0,Ct.matchesSelectorAndParentsTo)(Be.target,Y.props.handle,ke)||Y.props.cancel&&(0,Ct.matchesSelectorAndParentsTo)(Be.target,Y.props.cancel,ke))){Be.type==="touchstart"&&Be.preventDefault();var wt=(0,Ct.getTouchIdentifier)(Be);Y.setState({touchIdentifier:wt});var Vt=(0,At.getControlPosition)(Be,wt,bn(Y));if(Vt!=null){var nn=Vt.x,un=Vt.y,Cn=(0,At.createCoreData)(bn(Y),nn,un);(0,kt.default)("DraggableCore: handleDragStart: %j",Cn),(0,kt.default)("calling",Y.props.onStart);var dr=Y.props.onStart(Be,Cn);dr===!1||Y.mounted===!1||(Y.props.enableUserSelectHack&&(0,Ct.addUserSelectStyles)(et),Y.setState({dragging:!0,lastX:nn,lastY:un}),(0,Ct.addEvent)(et,be.move,Y.handleDrag),(0,Ct.addEvent)(et,be.stop,Y.handleDragStop))}}}),Ge(bn(Y),"handleDrag",function(Be){var ke=(0,At.getControlPosition)(Be,Y.state.touchIdentifier,bn(Y));if(ke!=null){var et=ke.x,wt=ke.y;if(Array.isArray(Y.props.grid)){var Vt=et-Y.state.lastX,nn=wt-Y.state.lastY,un=(0,At.snapToGrid)(Y.props.grid,Vt,nn),Cn=_e(un,2);if(Vt=Cn[0],nn=Cn[1],!Vt&&!nn)return;et=Y.state.lastX+Vt,wt=Y.state.lastY+nn}var dr=(0,At.createCoreData)(bn(Y),et,wt);(0,kt.default)("DraggableCore: handleDrag: %j",dr);var lr=Y.props.onDrag(Be,dr);if(lr===!1||Y.mounted===!1){try{Y.handleDragStop(new MouseEvent("mouseup"))}catch(Er){var Mr=document.createEvent("MouseEvents");Mr.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Y.handleDragStop(Mr)}return}Y.setState({lastX:et,lastY:wt})}}),Ge(bn(Y),"handleDragStop",function(Be){if(Y.state.dragging){var ke=(0,At.getControlPosition)(Be,Y.state.touchIdentifier,bn(Y));if(ke!=null){var et=ke.x,wt=ke.y;if(Array.isArray(Y.props.grid)){var Vt=et-Y.state.lastX||0,nn=wt-Y.state.lastY||0,un=(0,At.snapToGrid)(Y.props.grid,Vt,nn),Cn=_e(un,2);Vt=Cn[0],nn=Cn[1],et=Y.state.lastX+Vt,wt=Y.state.lastY+nn}var dr=(0,At.createCoreData)(bn(Y),et,wt),lr=Y.props.onStop(Be,dr);if(lr===!1||Y.mounted===!1)return!1;var Mr=Y.findDOMNode();Mr&&Y.props.enableUserSelectHack&&(0,Ct.removeUserSelectStyles)(Mr.ownerDocument),(0,kt.default)("DraggableCore: handleDragStop: %j",dr),Y.setState({dragging:!1,lastX:NaN,lastY:NaN}),Mr&&((0,kt.default)("DraggableCore: Removing handlers"),(0,Ct.removeEvent)(Mr.ownerDocument,be.move,Y.handleDrag),(0,Ct.removeEvent)(Mr.ownerDocument,be.stop,Y.handleDragStop))}}}),Ge(bn(Y),"onMouseDown",function(Be){return be=gt.mouse,Y.handleDragStart(Be)}),Ge(bn(Y),"onMouseUp",function(Be){return be=gt.mouse,Y.handleDragStop(Be)}),Ge(bn(Y),"onTouchStart",function(Be){return be=gt.touch,Y.handleDragStart(Be)}),Ge(bn(Y),"onTouchEnd",function(Be){return be=gt.touch,Y.handleDragStop(Be)}),Y}return mn(Ne,[{key:"componentDidMount",value:function(){this.mounted=!0;var Ae=this.findDOMNode();Ae&&(0,Ct.addEvent)(Ae,gt.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var Ae=this.findDOMNode();if(Ae){var Ze=Ae.ownerDocument;(0,Ct.removeEvent)(Ze,gt.mouse.move,this.handleDrag),(0,Ct.removeEvent)(Ze,gt.touch.move,this.handleDrag),(0,Ct.removeEvent)(Ze,gt.mouse.stop,this.handleDragStop),(0,Ct.removeEvent)(Ze,gt.touch.stop,this.handleDragStop),(0,Ct.removeEvent)(Ae,gt.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Ct.removeUserSelectStyles)(Ze)}}},{key:"findDOMNode",value:function(){var Ae,Ze,ge;return(Ae=this.props)!==null&&Ae!==void 0&&Ae.nodeRef?(Ze=this.props)===null||Ze===void 0||(ge=Ze.nodeRef)===null||ge===void 0?void 0:ge.current:rt.default.findDOMNode(this)}},{key:"render",value:function(){return he.cloneElement(he.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),Ne}(he.Component);Qe.default=It,Ge(It,"displayName","DraggableCore"),Ge(It,"propTypes",{allowAnyClick:U.default.bool,disabled:U.default.bool,enableUserSelectHack:U.default.bool,offsetParent:function(We,Ne){if(We[Ne]&&We[Ne].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:U.default.arrayOf(U.default.number),handle:U.default.string,cancel:U.default.string,nodeRef:U.default.object,onStart:U.default.func,onDrag:U.default.func,onStop:U.default.func,onMouseDown:U.default.func,scale:U.default.number,className:ye.dontSetMe,style:ye.dontSetMe,transform:ye.dontSetMe}),Ge(It,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},74901:function(Jt,Qe,te){"use strict";var O=te(44929),he=O.default,U=O.DraggableCore;Jt.exports=he,Jt.exports.default=he,Jt.exports.DraggableCore=U},3767:function(Jt,Qe,te){"use strict";function O(Ge){"@babel/helpers - typeof";return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(gt){return typeof gt}:function(gt){return gt&&typeof Symbol=="function"&&gt.constructor===Symbol&&gt!==Symbol.prototype?"symbol":typeof gt},O(Ge)}Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.addClassName=ur,Qe.addEvent=_e,Qe.addUserSelectStyles=wn,Qe.createCSSTransform=jt,Qe.createSVGTransform=mn,Qe.getTouch=Zn,Qe.getTouchIdentifier=tr,Qe.getTranslation=yr,Qe.innerHeight=rr,Qe.innerWidth=hn,Qe.matchesSelector=Re,Qe.matchesSelectorAndParentsTo=ot,Qe.offsetXYFromParent=An,Qe.outerHeight=Rt,Qe.outerWidth=oe,Qe.removeClassName=qn,Qe.removeEvent=yt,Qe.removeUserSelectStyles=bn;var he=te(89323),U=Ct(te(14642));function rt(Ge){if(typeof WeakMap!="function")return null;var gt=new WeakMap,be=new WeakMap;return(rt=function(Ke){return Ke?be:gt})(Ge)}function Ct(Ge,gt){if(!gt&&Ge&&Ge.__esModule)return Ge;if(Ge===null||O(Ge)!=="object"&&typeof Ge!="function")return{default:Ge};var be=rt(gt);if(be&&be.has(Ge))return be.get(Ge);var It={},Ke=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var We in Ge)if(We!=="default"&&Object.prototype.hasOwnProperty.call(Ge,We)){var Ne=Ke?Object.getOwnPropertyDescriptor(Ge,We):null;Ne&&(Ne.get||Ne.set)?Object.defineProperty(It,We,Ne):It[We]=Ge[We]}return It.default=Ge,be&&be.set(Ge,It),It}function At(Ge,gt){var be=Object.keys(Ge);if(Object.getOwnPropertySymbols){var It=Object.getOwnPropertySymbols(Ge);gt&&(It=It.filter(function(Ke){return Object.getOwnPropertyDescriptor(Ge,Ke).enumerable})),be.push.apply(be,It)}return be}function ye(Ge){for(var gt=1;gt<arguments.length;gt++){var be=arguments[gt]!=null?arguments[gt]:{};gt%2?At(Object(be),!0).forEach(function(It){kt(Ge,It,be[It])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ge,Object.getOwnPropertyDescriptors(be)):At(Object(be)).forEach(function(It){Object.defineProperty(Ge,It,Object.getOwnPropertyDescriptor(be,It))})}return Ge}function kt(Ge,gt,be){return gt in Ge?Object.defineProperty(Ge,gt,{value:be,enumerable:!0,configurable:!0,writable:!0}):Ge[gt]=be,Ge}var Ce="";function Re(Ge,gt){return Ce||(Ce=(0,he.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(be){return(0,he.isFunction)(Ge[be])})),(0,he.isFunction)(Ge[Ce])?Ge[Ce](gt):!1}function ot(Ge,gt,be){var It=Ge;do{if(Re(It,gt))return!0;if(It===be)return!1;It=It.parentNode}while(It);return!1}function _e(Ge,gt,be,It){if(Ge){var Ke=ye({capture:!0},It);Ge.addEventListener?Ge.addEventListener(gt,be,Ke):Ge.attachEvent?Ge.attachEvent("on"+gt,be):Ge["on"+gt]=be}}function yt(Ge,gt,be,It){if(Ge){var Ke=ye({capture:!0},It);Ge.removeEventListener?Ge.removeEventListener(gt,be,Ke):Ge.detachEvent?Ge.detachEvent("on"+gt,be):Ge["on"+gt]=null}}function Rt(Ge){var gt=Ge.clientHeight,be=Ge.ownerDocument.defaultView.getComputedStyle(Ge);return gt+=(0,he.int)(be.borderTopWidth),gt+=(0,he.int)(be.borderBottomWidth),gt}function oe(Ge){var gt=Ge.clientWidth,be=Ge.ownerDocument.defaultView.getComputedStyle(Ge);return gt+=(0,he.int)(be.borderLeftWidth),gt+=(0,he.int)(be.borderRightWidth),gt}function rr(Ge){var gt=Ge.clientHeight,be=Ge.ownerDocument.defaultView.getComputedStyle(Ge);return gt-=(0,he.int)(be.paddingTop),gt-=(0,he.int)(be.paddingBottom),gt}function hn(Ge){var gt=Ge.clientWidth,be=Ge.ownerDocument.defaultView.getComputedStyle(Ge);return gt-=(0,he.int)(be.paddingLeft),gt-=(0,he.int)(be.paddingRight),gt}function An(Ge,gt,be){var It=gt===gt.ownerDocument.body,Ke=It?{left:0,top:0}:gt.getBoundingClientRect(),We=(Ge.clientX+gt.scrollLeft-Ke.left)/be,Ne=(Ge.clientY+gt.scrollTop-Ke.top)/be;return{x:We,y:Ne}}function jt(Ge,gt){var be=yr(Ge,gt,"px");return kt({},(0,U.browserPrefixToKey)("transform",U.default),be)}function mn(Ge,gt){var be=yr(Ge,gt,"");return be}function yr(Ge,gt,be){var It=Ge.x,Ke=Ge.y,We="translate(".concat(It).concat(be,",").concat(Ke).concat(be,")");if(gt){var Ne="".concat(typeof gt.x=="string"?gt.x:gt.x+be),Y="".concat(typeof gt.y=="string"?gt.y:gt.y+be);We="translate(".concat(Ne,", ").concat(Y,")")+We}return We}function Zn(Ge,gt){return Ge.targetTouches&&(0,he.findInArray)(Ge.targetTouches,function(be){return gt===be.identifier})||Ge.changedTouches&&(0,he.findInArray)(Ge.changedTouches,function(be){return gt===be.identifier})}function tr(Ge){if(Ge.targetTouches&&Ge.targetTouches[0])return Ge.targetTouches[0].identifier;if(Ge.changedTouches&&Ge.changedTouches[0])return Ge.changedTouches[0].identifier}function wn(Ge){if(Ge){var gt=Ge.getElementById("react-draggable-style-el");gt||(gt=Ge.createElement("style"),gt.type="text/css",gt.id="react-draggable-style-el",gt.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,gt.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,Ge.getElementsByTagName("head")[0].appendChild(gt)),Ge.body&&ur(Ge.body,"react-draggable-transparent-selection")}}function bn(Ge){if(Ge)try{if(Ge.body&&qn(Ge.body,"react-draggable-transparent-selection"),Ge.selection)Ge.selection.empty();else{var gt=(Ge.defaultView||window).getSelection();gt&&gt.type!=="Caret"&&gt.removeAllRanges()}}catch(be){}}function ur(Ge,gt){Ge.classList?Ge.classList.add(gt):Ge.className.match(new RegExp("(?:^|\\s)".concat(gt,"(?!\\S)")))||(Ge.className+=" ".concat(gt))}function qn(Ge,gt){Ge.classList?Ge.classList.remove(gt):Ge.className=Ge.className.replace(new RegExp("(?:^|\\s)".concat(gt,"(?!\\S)"),"g"),"")}},14642:function(Jt,Qe){"use strict";Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.browserPrefixToKey=he,Qe.browserPrefixToStyle=U,Qe.default=void 0,Qe.getPrefix=O;var te=["Moz","Webkit","O","ms"];function O(){var At,ye,kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window=="undefined")return"";var Ce=(At=window.document)===null||At===void 0||(ye=At.documentElement)===null||ye===void 0?void 0:ye.style;if(!Ce||kt in Ce)return"";for(var Re=0;Re<te.length;Re++)if(he(kt,te[Re])in Ce)return te[Re];return""}function he(At,ye){return ye?"".concat(ye).concat(rt(At)):At}function U(At,ye){return ye?"-".concat(ye.toLowerCase(),"-").concat(At):At}function rt(At){for(var ye="",kt=!0,Ce=0;Ce<At.length;Ce++)kt?(ye+=At[Ce].toUpperCase(),kt=!1):At[Ce]==="-"?kt=!0:ye+=At[Ce];return ye}var Ct=O();Qe.default=Ct},21261:function(Jt,Qe){"use strict";Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=te;function te(){var O}},21476:function(Jt,Qe,te){"use strict";Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.canDragX=Ct,Qe.canDragY=At,Qe.createCoreData=kt,Qe.createDraggableData=Ce,Qe.getBoundPosition=U,Qe.getControlPosition=ye,Qe.snapToGrid=rt;var O=te(89323),he=te(3767);function U(_e,yt,Rt){if(!_e.props.bounds)return[yt,Rt];var oe=_e.props.bounds;oe=typeof oe=="string"?oe:Re(oe);var rr=ot(_e);if(typeof oe=="string"){var hn=rr.ownerDocument,An=hn.defaultView,jt;if(oe==="parent"?jt=rr.parentNode:jt=hn.querySelector(oe),!(jt instanceof An.HTMLElement))throw new Error('Bounds selector "'+oe+'" could not find an element.');var mn=jt,yr=An.getComputedStyle(rr),Zn=An.getComputedStyle(mn);oe={left:-rr.offsetLeft+(0,O.int)(Zn.paddingLeft)+(0,O.int)(yr.marginLeft),top:-rr.offsetTop+(0,O.int)(Zn.paddingTop)+(0,O.int)(yr.marginTop),right:(0,he.innerWidth)(mn)-(0,he.outerWidth)(rr)-rr.offsetLeft+(0,O.int)(Zn.paddingRight)-(0,O.int)(yr.marginRight),bottom:(0,he.innerHeight)(mn)-(0,he.outerHeight)(rr)-rr.offsetTop+(0,O.int)(Zn.paddingBottom)-(0,O.int)(yr.marginBottom)}}return(0,O.isNum)(oe.right)&&(yt=Math.min(yt,oe.right)),(0,O.isNum)(oe.bottom)&&(Rt=Math.min(Rt,oe.bottom)),(0,O.isNum)(oe.left)&&(yt=Math.max(yt,oe.left)),(0,O.isNum)(oe.top)&&(Rt=Math.max(Rt,oe.top)),[yt,Rt]}function rt(_e,yt,Rt){var oe=Math.round(yt/_e[0])*_e[0],rr=Math.round(Rt/_e[1])*_e[1];return[oe,rr]}function Ct(_e){return _e.props.axis==="both"||_e.props.axis==="x"}function At(_e){return _e.props.axis==="both"||_e.props.axis==="y"}function ye(_e,yt,Rt){var oe=typeof yt=="number"?(0,he.getTouch)(_e,yt):null;if(typeof yt=="number"&&!oe)return null;var rr=ot(Rt),hn=Rt.props.offsetParent||rr.offsetParent||rr.ownerDocument.body;return(0,he.offsetXYFromParent)(oe||_e,hn,Rt.props.scale)}function kt(_e,yt,Rt){var oe=_e.state,rr=!(0,O.isNum)(oe.lastX),hn=ot(_e);return rr?{node:hn,deltaX:0,deltaY:0,lastX:yt,lastY:Rt,x:yt,y:Rt}:{node:hn,deltaX:yt-oe.lastX,deltaY:Rt-oe.lastY,lastX:oe.lastX,lastY:oe.lastY,x:yt,y:Rt}}function Ce(_e,yt){var Rt=_e.props.scale;return{node:yt.node,x:_e.state.x+yt.deltaX/Rt,y:_e.state.y+yt.deltaY/Rt,deltaX:yt.deltaX/Rt,deltaY:yt.deltaY/Rt,lastX:_e.state.x,lastY:_e.state.y}}function Re(_e){return{left:_e.left,top:_e.top,right:_e.right,bottom:_e.bottom}}function ot(_e){var yt=_e.findDOMNode();if(!yt)throw new Error("<DraggableCore>: Unmounted during event!");return yt}},89323:function(Jt,Qe){"use strict";Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.dontSetMe=rt,Qe.findInArray=te,Qe.int=U,Qe.isFunction=O,Qe.isNum=he;function te(Ct,At){for(var ye=0,kt=Ct.length;ye<kt;ye++)if(At.apply(At,[Ct[ye],ye,Ct]))return Ct[ye]}function O(Ct){return typeof Ct=="function"||Object.prototype.toString.call(Ct)==="[object Function]"}function he(Ct){return typeof Ct=="number"&&!isNaN(Ct)}function U(Ct){return parseInt(Ct,10)}function rt(Ct,At,ye){if(Ct[At])return new Error("Invalid prop ".concat(At," passed to ").concat(ye," - do not set this, set it on the child."))}},23406:function(Jt,Qe){"use strict";var te;Qe.ConcurrentRoot=1,Qe.ContinuousEventPriority=4,Qe.DefaultEventPriority=16,Qe.DiscreteEventPriority=1,te=536870912,te=0},45658:function(Jt,Qe,te){Jt.exports=function(he){var U={},rt=te(50959),Ct=te(65297),At=Object.assign;function ye(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kt=rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ce=Symbol.for("react.element"),Re=Symbol.for("react.portal"),ot=Symbol.for("react.fragment"),_e=Symbol.for("react.strict_mode"),yt=Symbol.for("react.profiler"),Rt=Symbol.for("react.provider"),oe=Symbol.for("react.context"),rr=Symbol.for("react.forward_ref"),hn=Symbol.for("react.suspense"),An=Symbol.for("react.suspense_list"),jt=Symbol.for("react.memo"),mn=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var yr=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Zn=Symbol.iterator;function tr(i){return i===null||typeof i!="object"?null:(i=Zn&&i[Zn]||i["@@iterator"],typeof i=="function"?i:null)}function wn(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ot:return"Fragment";case Re:return"Portal";case yt:return"Profiler";case _e:return"StrictMode";case hn:return"Suspense";case An:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case oe:return(i.displayName||"Context")+".Consumer";case Rt:return(i._context.displayName||"Context")+".Provider";case rr:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case jt:return s=i.displayName||null,s!==null?s:wn(i.type)||"Memo";case mn:s=i._payload,i=i._init;try{return wn(i(s))}catch(u){}}return null}function bn(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wn(s);case 8:return s===_e?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ur(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function qn(i){if(ur(i)!==i)throw Error(ye(188))}function Ge(i){var s=i.alternate;if(!s){if(s=ur(i),s===null)throw Error(ye(188));return s!==i?null:i}for(var u=i,m=s;;){var x=u.return;if(x===null)break;var A=x.alternate;if(A===null){if(m=x.return,m!==null){u=m;continue}break}if(x.child===A.child){for(A=x.child;A;){if(A===u)return qn(x),i;if(A===m)return qn(x),s;A=A.sibling}throw Error(ye(188))}if(u.return!==m.return)u=x,m=A;else{for(var ue=!1,Fe=x.child;Fe;){if(Fe===u){ue=!0,u=x,m=A;break}if(Fe===m){ue=!0,m=x,u=A;break}Fe=Fe.sibling}if(!ue){for(Fe=A.child;Fe;){if(Fe===u){ue=!0,u=A,m=x;break}if(Fe===m){ue=!0,m=A,u=x;break}Fe=Fe.sibling}if(!ue)throw Error(ye(189))}}if(u.alternate!==m)throw Error(ye(190))}if(u.tag!==3)throw Error(ye(188));return u.stateNode.current===u?i:s}function gt(i){return i=Ge(i),i!==null?be(i):null}function be(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=be(i);if(s!==null)return s;i=i.sibling}return null}function It(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){if(i.tag!==4){var s=It(i);if(s!==null)return s}i=i.sibling}return null}var Ke=Array.isArray,We=he.getPublicInstance,Ne=he.getRootHostContext,Y=he.getChildHostContext,Ae=he.prepareForCommit,Ze=he.resetAfterCommit,ge=he.createInstance,Be=he.appendInitialChild,ke=he.finalizeInitialChildren,et=he.prepareUpdate,wt=he.shouldSetTextContent,Vt=he.createTextInstance,nn=he.scheduleTimeout,un=he.cancelTimeout,Cn=he.noTimeout,dr=he.isPrimaryRenderer,lr=he.supportsMutation,Mr=he.supportsPersistence,Er=he.supportsHydration,Wn=he.getInstanceFromNode,Nn=he.preparePortalMount,Nr=he.getCurrentEventPriority,ti=he.detachDeletedInstance,Or=he.supportsMicrotasks,Jr=he.scheduleMicrotask,zr=he.supportsTestSelectors,gi=he.findFiberRoot,qr=he.getBoundingRect,Ii=he.getTextContent,Ht=he.isHiddenSubtree,Gt=he.matchAccessibilityRole,on=he.setFocusIfFocusable,an=he.setupIntersectionObserver,fn=he.appendChild,ir=he.appendChildToContainer,pn=he.commitTextUpdate,Tr=he.commitMount,Jn=he.commitUpdate,ci=he.insertBefore,Qr=he.insertInContainerBefore,Xn=he.removeChild,On=he.removeChildFromContainer,si=he.resetTextContent,Oi=he.hideInstance,qi=he.hideTextInstance,Ti=he.unhideInstance,vr=he.unhideTextInstance,oi=he.clearContainer,tt=he.cloneInstance,Xt=he.createContainerChildSet,Pn=he.appendChildToContainerChildSet,Dr=he.finalizeContainerChildren,Xr=he.replaceContainerChildren,Fi=he.cloneHiddenInstance,yi=he.cloneHiddenTextInstance,Qo=he.canHydrateInstance,Ui=he.canHydrateTextInstance,ki=he.canHydrateSuspenseInstance,wi=he.isSuspenseInstancePending,go=he.isSuspenseInstanceFallback,Pe=he.registerSuspenseInstanceRetry,I=he.getNextHydratableSibling,E=he.getFirstHydratableChild,P=he.getFirstHydratableChildWithinContainer,ie=he.getFirstHydratableChildWithinSuspenseInstance,ce=he.hydrateInstance,He=he.hydrateTextInstance,pe=he.hydrateSuspenseInstance,Se=he.getNextHydratableInstanceAfterSuspenseInstance,de=he.commitHydratedContainer,Ue=he.commitHydratedSuspenseInstance,Me=he.clearSuspenseBoundary,Ve=he.clearSuspenseBoundaryFromContainer,lt=he.shouldDeleteUnhydratedTailInstances,ht=he.didNotMatchHydratedContainerTextInstance,dt=he.didNotMatchHydratedTextInstance,$;function K(i){if($===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);$=s&&s[1]||""}return`
`+$+i}var X=!1;function W(i,s){if(!i||X)return"";X=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Yt){var m=Yt}Reflect.construct(i,[],s)}else{try{s.call()}catch(Yt){m=Yt}i.call(s.prototype)}else{try{throw Error()}catch(Yt){m=Yt}i()}}catch(Yt){if(Yt&&m&&typeof Yt.stack=="string"){for(var x=Yt.stack.split(`
`),A=m.stack.split(`
`),ue=x.length-1,Fe=A.length-1;1<=ue&&0<=Fe&&x[ue]!==A[Fe];)Fe--;for(;1<=ue&&0<=Fe;ue--,Fe--)if(x[ue]!==A[Fe]){if(ue!==1||Fe!==1)do if(ue--,Fe--,0>Fe||x[ue]!==A[Fe]){var ct=`
`+x[ue].replace(" at new "," at ");return i.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",i.displayName)),ct}while(1<=ue&&0<=Fe);break}}}finally{X=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?K(i):""}var ve=Object.prototype.hasOwnProperty,je=[],nt=-1;function Xe(i){return{current:i}}function $e(i){0>nt||(i.current=je[nt],je[nt]=null,nt--)}function De(i,s){nt++,je[nt]=i.current,i.current=s}var qe={},ut=Xe(qe),it=Xe(!1),bt=qe;function qt(i,s){var u=i.type.contextTypes;if(!u)return qe;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===s)return m.__reactInternalMemoizedMaskedChildContext;var x={},A;for(A in u)x[A]=s[A];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=x),x}function gn(i){return i=i.childContextTypes,i!=null}function or(){$e(it),$e(ut)}function Qn(i,s,u){if(ut.current!==qe)throw Error(ye(168));De(ut,s),De(it,u)}function Gn(i,s,u){var m=i.stateNode;if(s=s.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var x in m)if(!(x in s))throw Error(ye(108,bn(i)||"Unknown",x));return At({},u,m)}function cr(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||qe,bt=ut.current,De(ut,i),De(it,it.current),!0}function Di(i,s,u){var m=i.stateNode;if(!m)throw Error(ye(169));u?(i=Gn(i,s,bt),m.__reactInternalMemoizedMergedChildContext=i,$e(it),$e(ut),De(ut,i)):$e(it),De(it,u)}var Si=Math.clz32?Math.clz32:Lo,_o=Math.log,ps=Math.LN2;function Lo(i){return i>>>=0,i===0?32:31-(_o(i)/ps|0)|0}var ao=64,vs=4194304;function Po(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ls(i,s){var u=i.pendingLanes;if(u===0)return 0;var m=0,x=i.suspendedLanes,A=i.pingedLanes,ue=u&268435455;if(ue!==0){var Fe=ue&~x;Fe!==0?m=Po(Fe):(A&=ue,A!==0&&(m=Po(A)))}else ue=u&~x,ue!==0?m=Po(ue):A!==0&&(m=Po(A));if(m===0)return 0;if(s!==0&&s!==m&&!(s&x)&&(x=m&-m,A=s&-s,x>=A||x===16&&(A&4194240)!==0))return s;if(m&4&&(m|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=m;0<s;)u=31-Si(s),x=1<<u,m|=i[u],s&=~x;return m}function Ps(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Va(i,s){for(var u=i.suspendedLanes,m=i.pingedLanes,x=i.expirationTimes,A=i.pendingLanes;0<A;){var ue=31-Si(A),Fe=1<<ue,ct=x[ue];ct===-1?(!(Fe&u)||Fe&m)&&(x[ue]=Ps(Fe,s)):ct<=s&&(i.expiredLanes|=Fe),A&=~Fe}}function Ea(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Vs(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function zi(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Si(s),i[s]=u}function Cs(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<u;){var x=31-Si(u),A=1<<x;s[x]=0,m[x]=-1,i[x]=-1,u&=~A}}function ea(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var m=31-Si(u),x=1<<m;x&s|i[m]&s&&(i[m]|=s),u&=~x}}var Ci=0;function Ys(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var _a=Ct.unstable_scheduleCallback,Ko=Ct.unstable_cancelCallback,la=Ct.unstable_shouldYield,Ks=Ct.unstable_requestPaint,xo=Ct.unstable_now,p=Ct.unstable_ImmediatePriority,g=Ct.unstable_UserBlockingPriority,w=Ct.unstable_NormalPriority,D=Ct.unstable_IdlePriority,ee=null,ne=null;function T(i){if(ne&&typeof ne.onCommitFiberRoot=="function")try{ne.onCommitFiberRoot(ee,i,void 0,(i.current.flags&128)===128)}catch(s){}}function V(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var M=typeof Object.is=="function"?Object.is:V,H=null,Q=!1,Te=!1;function mt(i){H===null?H=[i]:H.push(i)}function St(i){Q=!0,mt(i)}function Ut(){if(!Te&&H!==null){Te=!0;var i=0,s=Ci;try{var u=H;for(Ci=1;i<u.length;i++){var m=u[i];do m=m(!0);while(m!==null)}H=null,Q=!1}catch(x){throw H!==null&&(H=H.slice(i+1)),_a(p,Ut),x}finally{Ci=s,Te=!1}}return null}var vt=kt.ReactCurrentBatchConfig;function $t(i,s){if(M(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),m=Object.keys(s);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var x=u[m];if(!ve.call(s,x)||!M(i[x],s[x]))return!1}return!0}function Un(i){switch(i.tag){case 5:return K(i.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return i=W(i.type,!1),i;case 11:return i=W(i.type.render,!1),i;case 1:return i=W(i.type,!0),i;default:return""}}function ln(i,s){if(i&&i.defaultProps){s=At({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}var Pt=Xe(null),Dn=null,Ln=null,zn=null;function xn(){zn=Ln=Dn=null}function rn(i,s,u){dr?(De(Pt,s._currentValue),s._currentValue=u):(De(Pt,s._currentValue2),s._currentValue2=u)}function $n(i){var s=Pt.current;$e(Pt),dr?i._currentValue=s:i._currentValue2=s}function Ar(i,s,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),i===u)break;i=i.return}}function Kn(i,s){Dn=i,zn=Ln=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(Ss=!0),i.firstContext=null)}function Sr(i){var s=dr?i._currentValue:i._currentValue2;if(zn!==i)if(i={context:i,memoizedValue:s,next:null},Ln===null){if(Dn===null)throw Error(ye(308));Ln=i,Dn.dependencies={lanes:0,firstContext:i}}else Ln=Ln.next=i;return s}var di=null,ni=!1;function Ri(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hi(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Cr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Yi(i,s){var u=i.updateQueue;u!==null&&(u=u.shared,Es!==null&&i.mode&1&&!(Qi&2)?(i=u.interleaved,i===null?(s.next=s,di===null?di=[u]:di.push(u)):(s.next=i.next,i.next=s),u.interleaved=s):(i=u.pending,i===null?s.next=s:(s.next=i.next,i.next=s),u.pending=s))}function uo(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var m=s.lanes;m&=i.pendingLanes,u|=m,s.lanes=u,ea(i,u)}}function ko(i,s){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var x=null,A=null;if(u=u.firstBaseUpdate,u!==null){do{var ue={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};A===null?x=A=ue:A=A.next=ue,u=u.next}while(u!==null);A===null?x=A=s:A=A.next=s}else x=A=s;u={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:A,shared:m.shared,effects:m.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function Eo(i,s,u,m){var x=i.updateQueue;ni=!1;var A=x.firstBaseUpdate,ue=x.lastBaseUpdate,Fe=x.shared.pending;if(Fe!==null){x.shared.pending=null;var ct=Fe,Yt=ct.next;ct.next=null,ue===null?A=Yt:ue.next=Yt,ue=ct;var En=i.alternate;En!==null&&(En=En.updateQueue,Fe=En.lastBaseUpdate,Fe!==ue&&(Fe===null?En.firstBaseUpdate=Yt:Fe.next=Yt,En.lastBaseUpdate=ct))}if(A!==null){var wr=x.baseState;ue=0,En=Yt=ct=null,Fe=A;do{var Pr=Fe.lane,Kr=Fe.eventTime;if((m&Pr)===Pr){En!==null&&(En=En.next={eventTime:Kr,lane:0,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null});e:{var br=i,Vo=Fe;switch(Pr=s,Kr=u,Vo.tag){case 1:if(br=Vo.payload,typeof br=="function"){wr=br.call(Kr,wr,Pr);break e}wr=br;break e;case 3:br.flags=br.flags&-65537|128;case 0:if(br=Vo.payload,Pr=typeof br=="function"?br.call(Kr,wr,Pr):br,Pr==null)break e;wr=At({},wr,Pr);break e;case 2:ni=!0}}Fe.callback!==null&&Fe.lane!==0&&(i.flags|=64,Pr=x.effects,Pr===null?x.effects=[Fe]:Pr.push(Fe))}else Kr={eventTime:Kr,lane:Pr,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null},En===null?(Yt=En=Kr,ct=wr):En=En.next=Kr,ue|=Pr;if(Fe=Fe.next,Fe===null){if(Fe=x.shared.pending,Fe===null)break;Pr=Fe,Fe=Pr.next,Pr.next=null,x.lastBaseUpdate=Pr,x.shared.pending=null}}while(1);if(En===null&&(ct=wr),x.baseState=ct,x.firstBaseUpdate=Yt,x.lastBaseUpdate=En,s=x.shared.interleaved,s!==null){x=s;do ue|=x.lane,x=x.next;while(x!==s)}else A===null&&(x.shared.lanes=0);J1|=ue,i.lanes=ue,i.memoizedState=wr}}function vo(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var m=i[s],x=m.callback;if(x!==null){if(m.callback=null,m=u,typeof x!="function")throw Error(ye(191,x));x.call(m)}}}var qo=new rt.Component().refs;function Uo(i,s,u,m){s=i.memoizedState,u=u(m,s),u=u==null?s:At({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var $o={isMounted:function(i){return(i=i._reactInternals)?ur(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var m=ha(),x=H1(i),A=Cr(m,x);A.payload=s,u!=null&&(A.callback=u),Yi(i,A),s=Ga(i,x,m),s!==null&&uo(s,i,x)},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var m=ha(),x=H1(i),A=Cr(m,x);A.tag=1,A.payload=s,u!=null&&(A.callback=u),Yi(i,A),s=Ga(i,x,m),s!==null&&uo(s,i,x)},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=ha(),m=H1(i),x=Cr(u,m);x.tag=2,s!=null&&(x.callback=s),Yi(i,x),s=Ga(i,m,u),s!==null&&uo(s,i,m)}};function Bi(i,s,u,m,x,A,ue){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,A,ue):s.prototype&&s.prototype.isPureReactComponent?!$t(u,m)||!$t(x,A):!0}function Fs(i,s,u){var m=!1,x=qe,A=s.contextType;return typeof A=="object"&&A!==null?A=Sr(A):(x=gn(s)?bt:ut.current,m=s.contextTypes,A=(m=m!=null)?qt(i,x):qe),s=new s(u,A),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=$o,i.stateNode=s,s._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=A),s}function Is(i,s,u,m){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,m),s.state!==i&&$o.enqueueReplaceState(s,s.state,null)}function n1(i,s,u,m){var x=i.stateNode;x.props=u,x.state=i.memoizedState,x.refs=qo,Ri(i);var A=s.contextType;typeof A=="object"&&A!==null?x.context=Sr(A):(A=gn(s)?bt:ut.current,x.context=qt(i,A)),x.state=i.memoizedState,A=s.getDerivedStateFromProps,typeof A=="function"&&(Uo(i,s,A,u),x.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(s=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),s!==x.state&&$o.enqueueReplaceState(x,x.state,null),Eo(i,u,x,m),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}var rs=[],ta=0,Os=null,Fa=0,Oo=[],_s=0,es=null,Ki=1,xa="";function Nt(i,s){rs[ta++]=Fa,rs[ta++]=Os,Os=i,Fa=s}function No(i,s,u){Oo[_s++]=Ki,Oo[_s++]=xa,Oo[_s++]=es,es=i;var m=Ki;i=xa;var x=32-Si(m)-1;m&=~(1<<x),u+=1;var A=32-Si(s)+x;if(30<A){var ue=x-x%5;A=(m&(1<<ue)-1).toString(32),m>>=ue,x-=ue,Ki=1<<32-Si(s)+x|u<<x|m,xa=A+i}else Ki=1<<A|u<<x|m,xa=i}function ka(i){i.return!==null&&(Nt(i,1),No(i,1,0))}function Ya(i){for(;i===Os;)Os=rs[--ta],rs[ta]=null,Fa=rs[--ta],rs[ta]=null;for(;i===es;)es=Oo[--_s],Oo[_s]=null,xa=Oo[--_s],Oo[_s]=null,Ki=Oo[--_s],Oo[_s]=null}var Ds=null,is=null,lo=!1,cs=!1,we=null;function Ta(i,s){var u=Da(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function ya(i,s){switch(i.tag){case 5:return s=Qo(s,i.type,i.pendingProps),s!==null?(i.stateNode=s,Ds=i,is=E(s),!0):!1;case 6:return s=Ui(s,i.pendingProps),s!==null?(i.stateNode=s,Ds=i,is=null,!0):!1;case 13:if(s=ki(s),s!==null){var u=es!==null?{id:Ki,overflow:xa}:null;return i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=Da(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,Ds=i,is=null,!0}return!1;default:return!1}}function Aa(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Js(i){if(lo){var s=is;if(s){var u=s;if(!ya(i,s)){if(Aa(i))throw Error(ye(418));s=I(u);var m=Ds;s&&ya(i,s)?Ta(m,u):(i.flags=i.flags&-4097|2,lo=!1,Ds=i)}}else{if(Aa(i))throw Error(ye(418));i.flags=i.flags&-4097|2,lo=!1,Ds=i}}}function U1(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Ds=i}function Ua(i){if(!Er||i!==Ds)return!1;if(!lo)return U1(i),lo=!0,!1;if(i.tag!==3&&(i.tag!==5||lt(i.type)&&!wt(i.type,i.memoizedProps))){var s=is;if(s){if(Aa(i)){for(i=is;i;)i=I(i);throw Error(ye(418))}for(;s;)Ta(i,s),s=I(s)}}if(U1(i),i.tag===13){if(!Er)throw Error(ye(316));if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ye(317));is=Se(i)}else is=Ds?I(i.stateNode):null;return!0}function yo(){Er&&(is=Ds=null,cs=lo=!1)}function wa(i){we===null?we=[i]:we.push(i)}function ba(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(ye(309));var m=u.stateNode}if(!m)throw Error(ye(147,i));var x=m,A=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===A?s.ref:(s=function(ue){var Fe=x.refs;Fe===qo&&(Fe=x.refs={}),ue===null?delete Fe[A]:Fe[A]=ue},s._stringRef=A,s)}if(typeof i!="string")throw Error(ye(284));if(!u._owner)throw Error(ye(290,i))}return i}function zs(i,s){throw i=Object.prototype.toString.call(s),Error(ye(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Wi(i){var s=i._init;return s(i._payload)}function os(i){function s(_t,at){if(i){var Et=_t.deletions;Et===null?(_t.deletions=[at],_t.flags|=16):Et.push(at)}}function u(_t,at){if(!i)return null;for(;at!==null;)s(_t,at),at=at.sibling;return null}function m(_t,at){for(_t=new Map;at!==null;)at.key!==null?_t.set(at.key,at):_t.set(at.index,at),at=at.sibling;return _t}function x(_t,at){return _t=C1(_t,at),_t.index=0,_t.sibling=null,_t}function A(_t,at,Et){return _t.index=Et,i?(Et=_t.alternate,Et!==null?(Et=Et.index,Et<at?(_t.flags|=2,at):Et):(_t.flags|=2,at)):(_t.flags|=1048576,at)}function ue(_t){return i&&_t.alternate===null&&(_t.flags|=2),_t}function Fe(_t,at,Et,mr){return at===null||at.tag!==6?(at=F(Et,_t.mode,mr),at.return=_t,at):(at=x(at,Et),at.return=_t,at)}function ct(_t,at,Et,mr){var Ur=Et.type;return Ur===ot?En(_t,at,Et.props.children,mr,Et.key):at!==null&&(at.elementType===Ur||typeof Ur=="object"&&Ur!==null&&Ur.$$typeof===mn&&Wi(Ur)===at.type)?(mr=x(at,Et.props),mr.ref=ba(_t,at,Et),mr.return=_t,mr):(mr=d(Et.type,Et.key,Et.props,null,_t.mode,mr),mr.ref=ba(_t,at,Et),mr.return=_t,mr)}function Yt(_t,at,Et,mr){return at===null||at.tag!==4||at.stateNode.containerInfo!==Et.containerInfo||at.stateNode.implementation!==Et.implementation?(at=fe(Et,_t.mode,mr),at.return=_t,at):(at=x(at,Et.children||[]),at.return=_t,at)}function En(_t,at,Et,mr,Ur){return at===null||at.tag!==7?(at=b(Et,_t.mode,mr,Ur),at.return=_t,at):(at=x(at,Et),at.return=_t,at)}function wr(_t,at,Et){if(typeof at=="string"&&at!==""||typeof at=="number")return at=F(""+at,_t.mode,Et),at.return=_t,at;if(typeof at=="object"&&at!==null){switch(at.$$typeof){case Ce:return Et=d(at.type,at.key,at.props,null,_t.mode,Et),Et.ref=ba(_t,null,at),Et.return=_t,Et;case Re:return at=fe(at,_t.mode,Et),at.return=_t,at;case mn:var mr=at._init;return wr(_t,mr(at._payload),Et)}if(Ke(at)||tr(at))return at=b(at,_t.mode,Et,null),at.return=_t,at;zs(_t,at)}return null}function Pr(_t,at,Et,mr){var Ur=at!==null?at.key:null;if(typeof Et=="string"&&Et!==""||typeof Et=="number")return Ur!==null?null:Fe(_t,at,""+Et,mr);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case Ce:return Et.key===Ur?ct(_t,at,Et,mr):null;case Re:return Et.key===Ur?Yt(_t,at,Et,mr):null;case mn:return Ur=Et._init,Pr(_t,at,Ur(Et._payload),mr)}if(Ke(Et)||tr(Et))return Ur!==null?null:En(_t,at,Et,mr,null);zs(_t,Et)}return null}function Kr(_t,at,Et,mr,Ur){if(typeof mr=="string"&&mr!==""||typeof mr=="number")return _t=_t.get(Et)||null,Fe(at,_t,""+mr,Ur);if(typeof mr=="object"&&mr!==null){switch(mr.$$typeof){case Ce:return _t=_t.get(mr.key===null?Et:mr.key)||null,ct(at,_t,mr,Ur);case Re:return _t=_t.get(mr.key===null?Et:mr.key)||null,Yt(at,_t,mr,Ur);case mn:var Li=mr._init;return Kr(_t,at,Et,Li(mr._payload),Ur)}if(Ke(mr)||tr(mr))return _t=_t.get(Et)||null,En(at,_t,mr,Ur,null);zs(at,mr)}return null}function br(_t,at,Et,mr){for(var Ur=null,Li=null,ri=at,Ni=at=0,ms=null;ri!==null&&Ni<Et.length;Ni++){ri.index>Ni?(ms=ri,ri=null):ms=ri.sibling;var mo=Pr(_t,ri,Et[Ni],mr);if(mo===null){ri===null&&(ri=ms);break}i&&ri&&mo.alternate===null&&s(_t,ri),at=A(mo,at,Ni),Li===null?Ur=mo:Li.sibling=mo,Li=mo,ri=ms}if(Ni===Et.length)return u(_t,ri),lo&&Nt(_t,Ni),Ur;if(ri===null){for(;Ni<Et.length;Ni++)ri=wr(_t,Et[Ni],mr),ri!==null&&(at=A(ri,at,Ni),Li===null?Ur=ri:Li.sibling=ri,Li=ri);return lo&&Nt(_t,Ni),Ur}for(ri=m(_t,ri);Ni<Et.length;Ni++)ms=Kr(ri,_t,Ni,Et[Ni],mr),ms!==null&&(i&&ms.alternate!==null&&ri.delete(ms.key===null?Ni:ms.key),at=A(ms,at,Ni),Li===null?Ur=ms:Li.sibling=ms,Li=ms);return i&&ri.forEach(function(pa){return s(_t,pa)}),lo&&Nt(_t,Ni),Ur}function Vo(_t,at,Et,mr){var Ur=tr(Et);if(typeof Ur!="function")throw Error(ye(150));if(Et=Ur.call(Et),Et==null)throw Error(ye(151));for(var Li=Ur=null,ri=at,Ni=at=0,ms=null,mo=Et.next();ri!==null&&!mo.done;Ni++,mo=Et.next()){ri.index>Ni?(ms=ri,ri=null):ms=ri.sibling;var pa=Pr(_t,ri,mo.value,mr);if(pa===null){ri===null&&(ri=ms);break}i&&ri&&pa.alternate===null&&s(_t,ri),at=A(pa,at,Ni),Li===null?Ur=pa:Li.sibling=pa,Li=pa,ri=ms}if(mo.done)return u(_t,ri),lo&&Nt(_t,Ni),Ur;if(ri===null){for(;!mo.done;Ni++,mo=Et.next())mo=wr(_t,mo.value,mr),mo!==null&&(at=A(mo,at,Ni),Li===null?Ur=mo:Li.sibling=mo,Li=mo);return lo&&Nt(_t,Ni),Ur}for(ri=m(_t,ri);!mo.done;Ni++,mo=Et.next())mo=Kr(ri,_t,Ni,mo.value,mr),mo!==null&&(i&&mo.alternate!==null&&ri.delete(mo.key===null?Ni:mo.key),at=A(mo,at,Ni),Li===null?Ur=mo:Li.sibling=mo,Li=mo);return i&&ri.forEach(function(el){return s(_t,el)}),lo&&Nt(_t,Ni),Ur}function as(_t,at,Et,mr){if(typeof Et=="object"&&Et!==null&&Et.type===ot&&Et.key===null&&(Et=Et.props.children),typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case Ce:e:{for(var Ur=Et.key,Li=at;Li!==null;){if(Li.key===Ur){if(Ur=Et.type,Ur===ot){if(Li.tag===7){u(_t,Li.sibling),at=x(Li,Et.props.children),at.return=_t,_t=at;break e}}else if(Li.elementType===Ur||typeof Ur=="object"&&Ur!==null&&Ur.$$typeof===mn&&Wi(Ur)===Li.type){u(_t,Li.sibling),at=x(Li,Et.props),at.ref=ba(_t,Li,Et),at.return=_t,_t=at;break e}u(_t,Li);break}else s(_t,Li);Li=Li.sibling}Et.type===ot?(at=b(Et.props.children,_t.mode,mr,Et.key),at.return=_t,_t=at):(mr=d(Et.type,Et.key,Et.props,null,_t.mode,mr),mr.ref=ba(_t,at,Et),mr.return=_t,_t=mr)}return ue(_t);case Re:e:{for(Li=Et.key;at!==null;){if(at.key===Li)if(at.tag===4&&at.stateNode.containerInfo===Et.containerInfo&&at.stateNode.implementation===Et.implementation){u(_t,at.sibling),at=x(at,Et.children||[]),at.return=_t,_t=at;break e}else{u(_t,at);break}else s(_t,at);at=at.sibling}at=fe(Et,_t.mode,mr),at.return=_t,_t=at}return ue(_t);case mn:return Li=Et._init,as(_t,at,Li(Et._payload),mr)}if(Ke(Et))return br(_t,at,Et,mr);if(tr(Et))return Vo(_t,at,Et,mr);zs(_t,Et)}return typeof Et=="string"&&Et!==""||typeof Et=="number"?(Et=""+Et,at!==null&&at.tag===6?(u(_t,at.sibling),at=x(at,Et),at.return=_t,_t=at):(u(_t,at),at=F(Et,_t.mode,mr),at.return=_t,_t=at),ue(_t)):u(_t,at)}return as}var pr=os(!0),Pa=os(!1),wo={},Io=Xe(wo),us=Xe(wo),to=Xe(wo);function hi(i){if(i===wo)throw Error(ye(174));return i}function Do(i,s){De(to,s),De(us,i),De(Io,wo),i=Ne(s),$e(Io),De(Io,i)}function fs(){$e(Io),$e(us),$e(to)}function Ma(i){var s=hi(to.current),u=hi(Io.current);s=Y(u,i.type,s),u!==s&&(De(us,i),De(Io,s))}function Hs(i){us.current===i&&($e(Io),$e(us))}var bo=Xe(0);function $a(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||wi(u)||go(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var xs=[];function ks(){for(var i=0;i<xs.length;i++){var s=xs[i];dr?s._workInProgressVersionPrimary=null:s._workInProgressVersionSecondary=null}xs.length=0}var Us=kt.ReactCurrentDispatcher,Zo=kt.ReactCurrentBatchConfig,ui=0,fo=null,ts=null,N=null,le=!1,Ye=!1,Mt=0,Ft=0;function Tt(){throw Error(ye(321))}function Hn(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!M(i[u],s[u]))return!1;return!0}function Rn(i,s,u,m,x,A){if(ui=A,fo=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Us.current=i===null||i.memoizedState===null?iu:Lc,i=u(m,x),Ye){A=0;do{if(Ye=!1,Mt=0,25<=A)throw Error(ye(301));A+=1,N=ts=null,s.updateQueue=null,Us.current=So,i=u(m,x)}while(Ye)}if(Us.current=sl,s=ts!==null&&ts.next!==null,ui=0,N=ts=fo=null,le=!1,s)throw Error(ye(300));return i}function sr(){var i=Mt!==0;return Mt=0,i}function kn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return N===null?fo.memoizedState=N=i:N=N.next=i,N}function Vn(){if(ts===null){var i=fo.alternate;i=i!==null?i.memoizedState:null}else i=ts.next;var s=N===null?fo.memoizedState:N.next;if(s!==null)N=s,ts=i;else{if(i===null)throw Error(ye(310));ts=i,i={memoizedState:ts.memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},N===null?fo.memoizedState=N=i:N=N.next=i}return N}function Fn(i,s){return typeof s=="function"?s(i):s}function ro(i){var s=Vn(),u=s.queue;if(u===null)throw Error(ye(311));u.lastRenderedReducer=i;var m=ts,x=m.baseQueue,A=u.pending;if(A!==null){if(x!==null){var ue=x.next;x.next=A.next,A.next=ue}m.baseQueue=x=A,u.pending=null}if(x!==null){A=x.next,m=m.baseState;var Fe=ue=null,ct=null,Yt=A;do{var En=Yt.lane;if((ui&En)===En)ct!==null&&(ct=ct.next={lane:0,action:Yt.action,hasEagerState:Yt.hasEagerState,eagerState:Yt.eagerState,next:null}),m=Yt.hasEagerState?Yt.eagerState:i(m,Yt.action);else{var wr={lane:En,action:Yt.action,hasEagerState:Yt.hasEagerState,eagerState:Yt.eagerState,next:null};ct===null?(Fe=ct=wr,ue=m):ct=ct.next=wr,fo.lanes|=En,J1|=En}Yt=Yt.next}while(Yt!==null&&Yt!==A);ct===null?ue=m:ct.next=Fe,M(m,s.memoizedState)||(Ss=!0),s.memoizedState=m,s.baseState=ue,s.baseQueue=ct,u.lastRenderedState=m}if(i=u.interleaved,i!==null){x=i;do A=x.lane,fo.lanes|=A,J1|=A,x=x.next;while(x!==i)}else x===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function $r(i){var s=Vn(),u=s.queue;if(u===null)throw Error(ye(311));u.lastRenderedReducer=i;var m=u.dispatch,x=u.pending,A=s.memoizedState;if(x!==null){u.pending=null;var ue=x=x.next;do A=i(A,ue.action),ue=ue.next;while(ue!==x);M(A,s.memoizedState)||(Ss=!0),s.memoizedState=A,s.baseQueue===null&&(s.baseState=A),u.lastRenderedState=A}return[A,m]}function Zr(){}function pi(i,s){var u=fo,m=Vn(),x=s(),A=!M(m.memoizedState,x);if(A&&(m.memoizedState=x,Ss=!0),m=m.queue,Sa(ho.bind(null,u,m,i),[i]),m.getSnapshot!==s||A||N!==null&&N.memoizedState.tag&1){if(u.flags|=2048,no(9,Mo.bind(null,u,m,x,s),void 0,null),Es===null)throw Error(ye(349));ui&30||$i(u,s,x)}return x}function $i(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=fo.updateQueue,s===null?(s={lastEffect:null,stores:null},fo.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function Mo(i,s,u,m){s.value=u,s.getSnapshot=m,Wo(s)&&Ga(i,1,-1)}function ho(i,s,u){return u(function(){Wo(s)&&Ga(i,1,-1)})}function Wo(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!M(i,u)}catch(m){return!0}}function Yr(i){var s=kn();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:i},s.queue=i,i=i.dispatch=x1.bind(null,fo,i),[s.memoizedState,i]}function no(i,s,u,m){return i={tag:i,create:s,destroy:u,deps:m,next:null},s=fo.updateQueue,s===null?(s={lastEffect:null,stores:null},fo.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,s.lastEffect=i)),i}function Jo(){return Vn().memoizedState}function io(i,s,u,m){var x=kn();fo.flags|=i,x.memoizedState=no(1|s,u,void 0,m===void 0?null:m)}function ss(i,s,u,m){var x=Vn();m=m===void 0?null:m;var A=void 0;if(ts!==null){var ue=ts.memoizedState;if(A=ue.destroy,m!==null&&Hn(m,ue.deps)){x.memoizedState=no(s,u,A,m);return}}fo.flags|=i,x.memoizedState=no(1|s,u,A,m)}function ys(i,s){return io(8390656,8,i,s)}function Sa(i,s){return ss(2048,8,i,s)}function jo(i,s){return ss(4,2,i,s)}function To(i,s){return ss(4,4,i,s)}function ws(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Ao(i,s,u){return u=u!=null?u.concat([i]):null,ss(4,4,ws.bind(null,s,i),u)}function oo(){}function ca(i,s){var u=Vn();s=s===void 0?null:s;var m=u.memoizedState;return m!==null&&s!==null&&Hn(s,m[1])?m[0]:(u.memoizedState=[i,s],i)}function Za(i,s){var u=Vn();s=s===void 0?null:s;var m=u.memoizedState;return m!==null&&s!==null&&Hn(s,m[1])?m[0]:(i=i(),u.memoizedState=[i,s],i)}function bs(i,s){var u=Ci;Ci=u!==0&&4>u?u:4,i(!0);var m=Zo.transition;Zo.transition={};try{i(!1),s()}finally{Ci=u,Zo.transition=m}}function $s(){return Vn().memoizedState}function Ll(i,s,u){var m=H1(i);u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},El(i)?Sc(s,u):(Rc(i,s,u),u=ha(),i=Ga(i,m,u),i!==null&&ol(i,s,m))}function x1(i,s,u){var m=H1(i),x={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(El(i))Sc(s,x);else{Rc(i,s,x);var A=i.alternate;if(i.lanes===0&&(A===null||A.lanes===0)&&(A=s.lastRenderedReducer,A!==null))try{var ue=s.lastRenderedState,Fe=A(ue,u);if(x.hasEagerState=!0,x.eagerState=Fe,M(Fe,ue))return}catch(ct){}finally{}u=ha(),i=Ga(i,m,u),i!==null&&ol(i,s,m)}}function El(i){var s=i.alternate;return i===fo||s!==null&&s===fo}function Sc(i,s){Ye=le=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Rc(i,s,u){Es!==null&&i.mode&1&&!(Qi&2)?(i=s.interleaved,i===null?(u.next=u,di===null?di=[s]:di.push(s)):(u.next=i.next,i.next=u),s.interleaved=u):(i=s.pending,i===null?u.next=u:(u.next=i.next,i.next=u),s.pending=u)}function ol(i,s,u){if(u&4194240){var m=s.lanes;m&=i.pendingLanes,u|=m,s.lanes=u,ea(i,u)}}var sl={readContext:Sr,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},iu={readContext:Sr,useCallback:function(i,s){return kn().memoizedState=[i,s===void 0?null:s],i},useContext:Sr,useEffect:ys,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,io(4194308,4,ws.bind(null,s,i),u)},useLayoutEffect:function(i,s){return io(4194308,4,i,s)},useInsertionEffect:function(i,s){return io(4,2,i,s)},useMemo:function(i,s){var u=kn();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var m=kn();return s=u!==void 0?u(s):s,m.memoizedState=m.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},m.queue=i,i=i.dispatch=Ll.bind(null,fo,i),[m.memoizedState,i]},useRef:function(i){var s=kn();return i={current:i},s.memoizedState=i},useState:Yr,useDebugValue:oo,useDeferredValue:function(i){var s=Yr(i),u=s[0],m=s[1];return ys(function(){var x=Zo.transition;Zo.transition={};try{m(i)}finally{Zo.transition=x}},[i]),u},useTransition:function(){var i=Yr(!1),s=i[0];return i=bs.bind(null,i[1]),kn().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var m=fo,x=kn();if(lo){if(u===void 0)throw Error(ye(407));u=u()}else{if(u=s(),Es===null)throw Error(ye(349));ui&30||$i(m,s,u)}x.memoizedState=u;var A={value:u,getSnapshot:s};return x.queue=A,ys(ho.bind(null,m,A,i),[i]),m.flags|=2048,no(9,Mo.bind(null,m,A,u,s),void 0,null),u},useId:function(){var i=kn(),s=Es.identifierPrefix;if(lo){var u=xa,m=Ki;u=(m&~(1<<32-Si(m)-1)).toString(32)+u,s=":"+s+"R"+u,u=Mt++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=Ft++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Lc={readContext:Sr,useCallback:ca,useContext:Sr,useEffect:Sa,useImperativeHandle:Ao,useInsertionEffect:jo,useLayoutEffect:To,useMemo:Za,useReducer:ro,useRef:Jo,useState:function(){return ro(Fn)},useDebugValue:oo,useDeferredValue:function(i){var s=ro(Fn),u=s[0],m=s[1];return Sa(function(){var x=Zo.transition;Zo.transition={};try{m(i)}finally{Zo.transition=x}},[i]),u},useTransition:function(){var i=ro(Fn)[0],s=Vn().memoizedState;return[i,s]},useMutableSource:Zr,useSyncExternalStore:pi,useId:$s,unstable_isNewReconciler:!1},So={readContext:Sr,useCallback:ca,useContext:Sr,useEffect:Sa,useImperativeHandle:Ao,useInsertionEffect:jo,useLayoutEffect:To,useMemo:Za,useReducer:$r,useRef:Jo,useState:function(){return $r(Fn)},useDebugValue:oo,useDeferredValue:function(i){var s=$r(Fn),u=s[0],m=s[1];return Sa(function(){var x=Zo.transition;Zo.transition={};try{m(i)}finally{Zo.transition=x}},[i]),u},useTransition:function(){var i=$r(Fn)[0],s=Vn().memoizedState;return[i,s]},useMutableSource:Zr,useSyncExternalStore:pi,useId:$s,unstable_isNewReconciler:!1};function Ia(i,s){try{var u="",m=s;do u+=Un(m),m=m.return;while(m);var x=u}catch(A){x=`
Error generating stack: `+A.message+`
`+A.stack}return{value:i,source:s,stack:x}}function Ka(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var ql=typeof WeakMap=="function"?WeakMap:Map;function d1(i,s,u){u=Cr(-1,u),u.tag=3,u.payload={element:null};var m=s.value;return u.callback=function(){Hl||(Hl=!0,fc=m),Ka(i,s)},u}function A1(i,s,u){u=Cr(-1,u),u.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var x=s.value;u.payload=function(){return m(x)},u.callback=function(){Ka(i,s)}}var A=i.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(u.callback=function(){Ka(i,s),typeof m!="function"&&(b1===null?b1=new Set([this]):b1.add(this));var ue=s.stack;this.componentDidCatch(s.value,{componentStack:ue!==null?ue:""})}),u}function h1(i,s,u){var m=i.pingCache;if(m===null){m=i.pingCache=new ql;var x=new Set;m.set(s,x)}else x=m.get(s),x===void 0&&(x=new Set,m.set(s,x));x.has(u)||(x.add(u),i=uu.bind(null,i,s,u),s.then(i,i))}function Ql(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function ec(i,s,u,m,x){return i.mode&1?(i.flags|=65536,i.lanes=x,i):(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=Cr(-1,1),s.tag=2,Yi(u,s))),u.lanes|=1),i)}function Ja(i){i.flags|=4}function Tl(i,s){if(i!==null&&i.child===s.child)return!0;if(s.flags&16)return!1;for(i=s.child;i!==null;){if(i.flags&12854||i.subtreeFlags&12854)return!1;i=i.sibling}return!0}var na,al,Ms,ll;if(lr)na=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)Be(i,u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},al=function(){},Ms=function(i,s,u,m,x){if(i=i.memoizedProps,i!==m){var A=s.stateNode,ue=hi(Io.current);u=et(A,u,i,m,x,ue),(s.updateQueue=u)&&Ja(s)}},ll=function(i,s,u,m){u!==m&&Ja(s)};else if(Mr){na=function(i,s,u,m){for(var x=s.child;x!==null;){if(x.tag===5){var A=x.stateNode;u&&m&&(A=Fi(A,x.type,x.memoizedProps,x)),Be(i,A)}else if(x.tag===6)A=x.stateNode,u&&m&&(A=yi(A,x.memoizedProps,x)),Be(i,A);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)A=x.child,A!==null&&(A.return=x),na(i,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===s)break;for(;x.sibling===null;){if(x.return===null||x.return===s)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};var qa=function(i,s,u,m){for(var x=s.child;x!==null;){if(x.tag===5){var A=x.stateNode;u&&m&&(A=Fi(A,x.type,x.memoizedProps,x)),Pn(i,A)}else if(x.tag===6)A=x.stateNode,u&&m&&(A=yi(A,x.memoizedProps,x)),Pn(i,A);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)A=x.child,A!==null&&(A.return=x),qa(i,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===s)break;for(;x.sibling===null;){if(x.return===null||x.return===s)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};al=function(i,s){var u=s.stateNode;if(!Tl(i,s)){i=u.containerInfo;var m=Xt(i);qa(m,s,!1,!1),u.pendingChildren=m,Ja(s),Dr(i,m)}},Ms=function(i,s,u,m,x){var A=i.stateNode,ue=i.memoizedProps;if((i=Tl(i,s))&&ue===m)s.stateNode=A;else{var Fe=s.stateNode,ct=hi(Io.current),Yt=null;ue!==m&&(Yt=et(Fe,u,ue,m,x,ct)),i&&Yt===null?s.stateNode=A:(A=tt(A,Yt,u,ue,m,s,i,Fe),ke(A,u,m,x,ct)&&Ja(s),s.stateNode=A,i?Ja(s):na(A,s,!1,!1))}},ll=function(i,s,u,m){u!==m?(i=hi(to.current),u=hi(Io.current),s.stateNode=Vt(m,i,u,s),Ja(s)):s.stateNode=i.stateNode}}else al=function(){},Ms=function(){},ll=function(){};function p1(i,s){if(!lo)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Zs(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(s)for(var x=i.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=m,i.childLanes=u,s}function Br(i,s,u){var m=s.pendingProps;switch(Ya(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zs(s),null;case 1:return gn(s.type)&&or(),Zs(s),null;case 3:return m=s.stateNode,fs(),$e(it),$e(ut),ks(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Ua(s)?Ja(s):i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,we!==null&&($l(we),we=null))),al(i,s),Zs(s),null;case 5:Hs(s),u=hi(to.current);var x=s.type;if(i!==null&&s.stateNode!=null)Ms(i,s,x,m,u),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!m){if(s.stateNode===null)throw Error(ye(166));return Zs(s),null}if(i=hi(Io.current),Ua(s)){if(!Er)throw Error(ye(175));i=ce(s.stateNode,s.type,s.memoizedProps,u,i,s,!cs),s.updateQueue=i,i!==null&&Ja(s)}else{var A=ge(x,m,u,i,s);na(A,s,!1,!1),s.stateNode=A,ke(A,x,m,u,i)&&Ja(s)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Zs(s),null;case 6:if(i&&s.stateNode!=null)ll(i,s,i.memoizedProps,m);else{if(typeof m!="string"&&s.stateNode===null)throw Error(ye(166));if(i=hi(to.current),u=hi(Io.current),Ua(s)){if(!Er)throw Error(ye(176));if(i=s.stateNode,m=s.memoizedProps,(u=He(i,m,s,!cs))&&(x=Ds,x!==null))switch(A=(x.mode&1)!==0,x.tag){case 3:ht(x.stateNode.containerInfo,i,m,A);break;case 5:dt(x.type,x.memoizedProps,x.stateNode,i,m,A)}u&&Ja(s)}else s.stateNode=Vt(m,i,u,s)}return Zs(s),null;case 13:if($e(bo),m=s.memoizedState,lo&&is!==null&&s.mode&1&&!(s.flags&128)){for(i=is;i;)i=I(i);return yo(),s.flags|=98560,s}if(m!==null&&m.dehydrated!==null){if(m=Ua(s),i===null){if(!m)throw Error(ye(318));if(!Er)throw Error(ye(344));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ye(317));pe(i,s)}else yo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;return Zs(s),null}return we!==null&&($l(we),we=null),s.flags&128?(s.lanes=u,s):(m=m!==null,u=!1,i===null?Ua(s):u=i.memoizedState!==null,m&&!u&&(s.child.flags|=8192,s.mode&1&&(i===null||bo.current&1?Ns===0&&(Ns=3):oa())),s.updateQueue!==null&&(s.flags|=4),Zs(s),null);case 4:return fs(),al(i,s),i===null&&Nn(s.stateNode.containerInfo),Zs(s),null;case 10:return $n(s.type._context),Zs(s),null;case 17:return gn(s.type)&&or(),Zs(s),null;case 19:if($e(bo),x=s.memoizedState,x===null)return Zs(s),null;if(m=(s.flags&128)!==0,A=x.rendering,A===null)if(m)p1(x,!1);else{if(Ns!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(A=$a(i),A!==null){for(s.flags|=128,p1(x,!1),i=A.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),s.subtreeFlags=0,i=u,m=s.child;m!==null;)u=m,x=i,u.flags&=14680066,A=u.alternate,A===null?(u.childLanes=0,u.lanes=x,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=A.childLanes,u.lanes=A.lanes,u.child=A.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=A.memoizedProps,u.memoizedState=A.memoizedState,u.updateQueue=A.updateQueue,u.type=A.type,x=A.dependencies,u.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),m=m.sibling;return De(bo,bo.current&1|2),s.child}i=i.sibling}x.tail!==null&&xo()>uc&&(s.flags|=128,m=!0,p1(x,!1),s.lanes=4194304)}else{if(!m)if(i=$a(A),i!==null){if(s.flags|=128,m=!0,i=i.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),p1(x,!0),x.tail===null&&x.tailMode==="hidden"&&!A.alternate&&!lo)return Zs(s),null}else 2*xo()-x.renderingStartTime>uc&&u!==1073741824&&(s.flags|=128,m=!0,p1(x,!1),s.lanes=4194304);x.isBackwards?(A.sibling=s.child,s.child=A):(i=x.last,i!==null?i.sibling=A:s.child=A,x.last=A)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=xo(),s.sibling=null,i=bo.current,De(bo,m?i&1|2:i&1),s):(Zs(s),null);case 22:case 23:return Q1(),m=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(s.flags|=8192),m&&s.mode&1?Bs&1073741824&&(Zs(s),lr&&s.subtreeFlags&6&&(s.flags|=8192)):Zs(s),null;case 24:return null;case 25:return null}throw Error(ye(156,s.tag))}var ua=kt.ReactCurrentOwner,Ss=!1;function po(i,s,u,m){s.child=i===null?Pa(s,null,u,m):pr(s,i.child,u,m)}function cl(i,s,u,m,x){u=u.render;var A=s.ref;return Kn(s,x),m=Rn(i,s,u,m,A,x),u=sr(),i!==null&&!Ss?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~x,Qa(i,s,x)):(lo&&u&&ka(s),s.flags|=1,po(i,s,m,x),s.child)}function Go(i,s,u,m,x){if(i===null){var A=u.type;return typeof A=="function"&&!vc(A)&&A.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=A,Ec(i,s,A,m,x)):(i=d(u.type,null,m,s,s.mode,x),i.ref=s.ref,i.return=s,s.child=i)}if(A=i.child,!(i.lanes&x)){var ue=A.memoizedProps;if(u=u.compare,u=u!==null?u:$t,u(ue,m)&&i.ref===s.ref)return Qa(i,s,x)}return s.flags|=1,i=C1(A,m),i.ref=s.ref,i.return=s,s.child=i}function Ec(i,s,u,m,x){if(i!==null&&$t(i.memoizedProps,m)&&i.ref===s.ref)if(Ss=!1,(i.lanes&x)!==0)i.flags&131072&&(Ss=!0);else return s.lanes=i.lanes,Qa(i,s,x);return Al(i,s,u,m,x)}function ou(i,s,u){var m=s.pendingProps,x=m.children,A=i!==null?i.memoizedState:null;if(m.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null},De(K1,Bs),Bs|=u;else if(u&1073741824)s.memoizedState={baseLanes:0,cachePool:null},m=A!==null?A.baseLanes:u,De(K1,Bs),Bs|=m;else return i=A!==null?A.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null},s.updateQueue=null,De(K1,Bs),Bs|=i,null;else A!==null?(m=A.baseLanes|u,s.memoizedState=null):m=u,De(K1,Bs),Bs|=m;return po(i,s,x,u),s.child}function tc(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function Al(i,s,u,m,x){var A=gn(u)?bt:ut.current;return A=qt(s,A),Kn(s,x),u=Rn(i,s,u,m,A,x),m=sr(),i!==null&&!Ss?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~x,Qa(i,s,x)):(lo&&m&&ka(s),s.flags|=1,po(i,s,u,x),s.child)}function nc(i,s,u,m,x){if(gn(u)){var A=!0;cr(s)}else A=!1;if(Kn(s,x),s.stateNode===null)i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),Fs(s,u,m),n1(s,u,m,x),m=!0;else if(i===null){var ue=s.stateNode,Fe=s.memoizedProps;ue.props=Fe;var ct=ue.context,Yt=u.contextType;typeof Yt=="object"&&Yt!==null?Yt=Sr(Yt):(Yt=gn(u)?bt:ut.current,Yt=qt(s,Yt));var En=u.getDerivedStateFromProps,wr=typeof En=="function"||typeof ue.getSnapshotBeforeUpdate=="function";wr||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(Fe!==m||ct!==Yt)&&Is(s,ue,m,Yt),ni=!1;var Pr=s.memoizedState;ue.state=Pr,Eo(s,m,ue,x),ct=s.memoizedState,Fe!==m||Pr!==ct||it.current||ni?(typeof En=="function"&&(Uo(s,u,En,m),ct=s.memoizedState),(Fe=ni||Bi(s,u,Fe,m,Pr,ct,Yt))?(wr||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(s.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=ct),ue.props=m,ue.state=ct,ue.context=Yt,m=Fe):(typeof ue.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{ue=s.stateNode,Hi(i,s),Fe=s.memoizedProps,Yt=s.type===s.elementType?Fe:ln(s.type,Fe),ue.props=Yt,wr=s.pendingProps,Pr=ue.context,ct=u.contextType,typeof ct=="object"&&ct!==null?ct=Sr(ct):(ct=gn(u)?bt:ut.current,ct=qt(s,ct));var Kr=u.getDerivedStateFromProps;(En=typeof Kr=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(Fe!==wr||Pr!==ct)&&Is(s,ue,m,ct),ni=!1,Pr=s.memoizedState,ue.state=Pr,Eo(s,m,ue,x);var br=s.memoizedState;Fe!==wr||Pr!==br||it.current||ni?(typeof Kr=="function"&&(Uo(s,u,Kr,m),br=s.memoizedState),(Yt=ni||Bi(s,u,Yt,m,Pr,br,ct)||!1)?(En||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(m,br,ct),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(m,br,ct)),typeof ue.componentDidUpdate=="function"&&(s.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof ue.componentDidUpdate!="function"||Fe===i.memoizedProps&&Pr===i.memoizedState||(s.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||Fe===i.memoizedProps&&Pr===i.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=br),ue.props=m,ue.state=br,ue.context=ct,m=Yt):(typeof ue.componentDidUpdate!="function"||Fe===i.memoizedProps&&Pr===i.memoizedState||(s.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||Fe===i.memoizedProps&&Pr===i.memoizedState||(s.flags|=1024),m=!1)}return rc(i,s,u,m,A,x)}function rc(i,s,u,m,x,A){tc(i,s);var ue=(s.flags&128)!==0;if(!m&&!ue)return x&&Di(s,u,!1),Qa(i,s,A);m=s.stateNode,ua.current=s;var Fe=ue&&typeof u.getDerivedStateFromError!="function"?null:m.render();return s.flags|=1,i!==null&&ue?(s.child=pr(s,i.child,null,A),s.child=pr(s,null,Fe,A)):po(i,s,Fe,A),s.memoizedState=m.state,x&&Di(s,u,!0),s.child}function Pl(i){var s=i.stateNode;s.pendingContext?Qn(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Qn(i,s.context,!1),Do(i,s.containerInfo)}function Tc(i,s,u,m,x){return yo(),wa(x),s.flags|=256,po(i,s,u,m),s.child}var kr={dehydrated:null,treeContext:null,retryLane:0};function ul(i){return{baseLanes:i,cachePool:null}}function ic(i,s,u){var m=s.pendingProps,x=bo.current,A=!1,ue=(s.flags&128)!==0,Fe;if((Fe=ue)||(Fe=i!==null&&i.memoizedState===null?!1:(x&2)!==0),Fe?(A=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),De(bo,x&1),i===null)return Js(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?go(i)?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(x=m.children,i=m.fallback,A?(m=s.mode,A=s.child,x={mode:"hidden",children:x},!(m&1)&&A!==null?(A.childLanes=0,A.pendingProps=x):A=z(x,m,0,null),i=b(i,m,u,null),A.return=s,i.return=s,A.sibling=i,s.child=A,s.child.memoizedState=ul(u),s.memoizedState=kr,i):fa(s,x));if(x=i.memoizedState,x!==null){if(Fe=x.dehydrated,Fe!==null){if(ue)return s.flags&256?(s.flags&=-257,ra(i,s,u,Error(ye(422)))):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(A=m.fallback,x=s.mode,m=z({mode:"visible",children:m.children},x,0,null),A=b(A,x,u,null),A.flags|=2,m.return=s,A.return=s,m.sibling=A,s.child=m,s.mode&1&&pr(s,i.child,null,u),s.child.memoizedState=ul(u),s.memoizedState=kr,A);if(!(s.mode&1))s=ra(i,s,u,null);else if(go(Fe))s=ra(i,s,u,Error(ye(419)));else if(m=(u&i.childLanes)!==0,Ss||m){if(m=Es,m!==null){switch(u&-u){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}m=A&(m.suspendedLanes|u)?0:A,m!==0&&m!==x.retryLane&&(x.retryLane=m,Ga(i,m,-1))}oa(),s=ra(i,s,u,Error(ye(421)))}else wi(Fe)?(s.flags|=128,s.child=i.child,s=Wl.bind(null,i),Pe(Fe,s),s=null):(u=x.treeContext,Er&&(is=ie(Fe),Ds=s,lo=!0,we=null,cs=!1,u!==null&&(Oo[_s++]=Ki,Oo[_s++]=xa,Oo[_s++]=es,Ki=u.id,xa=u.overflow,es=s)),s=fa(s,s.pendingProps.children),s.flags|=4096);return s}return A?(m=P1(i,s,m.children,m.fallback,u),A=s.child,x=i.child.memoizedState,A.memoizedState=x===null?ul(u):{baseLanes:x.baseLanes|u,cachePool:null},A.childLanes=i.childLanes&~u,s.memoizedState=kr,m):(u=fl(i,s,m.children,u),s.memoizedState=null,u)}return A?(m=P1(i,s,m.children,m.fallback,u),A=s.child,x=i.child.memoizedState,A.memoizedState=x===null?ul(u):{baseLanes:x.baseLanes|u,cachePool:null},A.childLanes=i.childLanes&~u,s.memoizedState=kr,m):(u=fl(i,s,m.children,u),s.memoizedState=null,u)}function fa(i,s){return s=z({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function fl(i,s,u,m){var x=i.child;return i=x.sibling,u=C1(x,{mode:"visible",children:u}),!(s.mode&1)&&(u.lanes=m),u.return=s,u.sibling=null,i!==null&&(m=s.deletions,m===null?(s.deletions=[i],s.flags|=16):m.push(i)),s.child=u}function P1(i,s,u,m,x){var A=s.mode;i=i.child;var ue=i.sibling,Fe={mode:"hidden",children:u};return!(A&1)&&s.child!==i?(u=s.child,u.childLanes=0,u.pendingProps=Fe,s.deletions=null):(u=C1(i,Fe),u.subtreeFlags=i.subtreeFlags&14680064),ue!==null?m=C1(ue,m):(m=b(m,A,x,null),m.flags|=2),m.return=s,u.return=s,u.sibling=m,s.child=u,m}function ra(i,s,u,m){return m!==null&&wa(m),pr(s,i.child,null,u),i=fa(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function I1(i,s,u){i.lanes|=s;var m=i.alternate;m!==null&&(m.lanes|=s),Ar(i.return,s,u)}function Rs(i,s,u,m,x){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:x}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=m,A.tail=u,A.tailMode=x)}function Ji(i,s,u){var m=s.pendingProps,x=m.revealOrder,A=m.tail;if(po(i,s,m.children,u),m=bo.current,m&2)m=m&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&I1(i,u,s);else if(i.tag===19)I1(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(De(bo,m),!(s.mode&1))s.memoizedState=null;else switch(x){case"forwards":for(u=s.child,x=null;u!==null;)i=u.alternate,i!==null&&$a(i)===null&&(x=u),u=u.sibling;u=x,u===null?(x=s.child,s.child=null):(x=u.sibling,u.sibling=null),Rs(s,!1,x,u,A);break;case"backwards":for(u=null,x=s.child,s.child=null;x!==null;){if(i=x.alternate,i!==null&&$a(i)===null){s.child=x;break}i=x.sibling,x.sibling=u,u=x,x=i}Rs(s,!0,u,null,A);break;case"together":Rs(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Qa(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),J1|=s.lanes,!(u&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(ye(153));if(s.child!==null){for(i=s.child,u=C1(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=C1(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function Wa(i,s,u){switch(s.tag){case 3:Pl(s),yo();break;case 5:Ma(s);break;case 1:gn(s.type)&&cr(s);break;case 4:Do(s,s.stateNode.containerInfo);break;case 10:rn(s,s.type._context,s.memoizedProps.value);break;case 13:var m=s.memoizedState;if(m!==null)return m.dehydrated!==null?(De(bo,bo.current&1),s.flags|=128,null):u&s.child.childLanes?ic(i,s,u):(De(bo,bo.current&1),i=Qa(i,s,u),i!==null?i.sibling:null);De(bo,bo.current&1);break;case 19:if(m=(u&s.childLanes)!==0,i.flags&128){if(m)return Ji(i,s,u);s.flags|=128}var x=s.memoizedState;if(x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),De(bo,bo.current),m)break;return null;case 22:case 23:return s.lanes=0,ou(i,s,u)}return Qa(i,s,u)}function dl(i,s){switch(Ya(s),s.tag){case 1:return gn(s.type)&&or(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return fs(),$e(it),$e(ut),ks(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Hs(s),null;case 13:if($e(bo),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(ye(340));yo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return $e(bo),null;case 4:return fs(),null;case 10:return $n(s.type._context),null;case 22:case 23:return Q1(),null;case 24:return null;default:return null}}var $1=!1,r1=!1,hl=typeof WeakSet=="function"?WeakSet:Set,gr=null;function Z1(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){La(i,s,m)}else u.current=null}function y1(i,s,u){try{u()}catch(m){La(i,s,m)}}var W1=!1;function pl(i,s){for(Ae(i.containerInfo),gr=s;gr!==null;)if(i=gr,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,gr=s;else for(;gr!==null;){i=gr;try{var u=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(u!==null){var m=u.memoizedProps,x=u.memoizedState,A=i.stateNode,ue=A.getSnapshotBeforeUpdate(i.elementType===i.type?m:ln(i.type,m),x);A.__reactInternalSnapshotBeforeUpdate=ue}break;case 3:lr&&oi(i.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(Fe){La(i,i.return,Fe)}if(s=i.sibling,s!==null){s.return=i.return,gr=s;break}gr=i.return}return u=W1,W1=!1,u}function i1(i,s,u){var m=s.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&i)===i){var A=x.destroy;x.destroy=void 0,A!==void 0&&y1(s,u,A)}x=x.next}while(x!==m)}}function e1(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var m=u.create;u.destroy=m()}u=u.next}while(u!==s)}}function Ai(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=We(u);break;default:i=u}typeof s=="function"?s(i):s.current=i}}function Ls(i,s,u){if(ne&&typeof ne.onCommitFiberUnmount=="function")try{ne.onCommitFiberUnmount(ee,s)}catch(ue){}switch(s.tag){case 0:case 11:case 14:case 15:if(i=s.updateQueue,i!==null&&(i=i.lastEffect,i!==null)){var m=i=i.next;do{var x=m,A=x.destroy;x=x.tag,A!==void 0&&(x&2||x&4)&&y1(s,u,A),m=m.next}while(m!==i)}break;case 1:if(Z1(s,u),i=s.stateNode,typeof i.componentWillUnmount=="function")try{i.props=s.memoizedProps,i.state=s.memoizedState,i.componentWillUnmount()}catch(ue){La(s,u,ue)}break;case 5:Z1(s,u);break;case 4:lr?sc(i,s,u):Mr&&Mr&&(s=s.stateNode.containerInfo,u=Xt(s),Xr(s,u))}}function Ac(i,s,u){for(var m=s;;)if(Ls(i,m,u),m.child===null||lr&&m.tag===4){if(m===s)break;for(;m.sibling===null;){if(m.return===null||m.return===s)return;m=m.return}m.sibling.return=m.return,m=m.sibling}else m.child.return=m,m=m.child}function ml(i){var s=i.alternate;s!==null&&(i.alternate=null,ml(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ti(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function m1(i){return i.tag===5||i.tag===3||i.tag===4}function O1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||m1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ia(i){if(lr){e:{for(var s=i.return;s!==null;){if(m1(s))break e;s=s.return}throw Error(ye(160))}var u=s;switch(u.tag){case 5:s=u.stateNode,u.flags&32&&(si(s),u.flags&=-33),u=O1(i),oc(i,u,s);break;case 3:case 4:s=u.stateNode.containerInfo,u=O1(i),Pc(i,u,s);break;default:throw Error(ye(161))}}}function Pc(i,s,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,s?Qr(u,i,s):ir(u,i);else if(m!==4&&(i=i.child,i!==null))for(Pc(i,s,u),i=i.sibling;i!==null;)Pc(i,s,u),i=i.sibling}function oc(i,s,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,s?ci(u,i,s):fn(u,i);else if(m!==4&&(i=i.child,i!==null))for(oc(i,s,u),i=i.sibling;i!==null;)oc(i,s,u),i=i.sibling}function sc(i,s,u){for(var m=s,x=!1,A,ue;;){if(!x){x=m.return;e:for(;;){if(x===null)throw Error(ye(160));switch(A=x.stateNode,x.tag){case 5:ue=!1;break e;case 3:A=A.containerInfo,ue=!0;break e;case 4:A=A.containerInfo,ue=!0;break e}x=x.return}x=!0}if(m.tag===5||m.tag===6)Ac(i,m,u),ue?On(A,m.stateNode):Xn(A,m.stateNode);else if(m.tag===18)ue?Ve(A,m.stateNode):Me(A,m.stateNode);else if(m.tag===4){if(m.child!==null){A=m.stateNode.containerInfo,ue=!0,m.child.return=m,m=m.child;continue}}else if(Ls(i,m,u),m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break;for(;m.sibling===null;){if(m.return===null||m.return===s)return;m=m.return,m.tag===4&&(x=!1)}m.sibling.return=m.return,m=m.sibling}}function D1(i,s){if(lr){switch(s.tag){case 0:case 11:case 14:case 15:i1(3,s,s.return),e1(3,s),i1(5,s,s.return);return;case 1:return;case 5:var u=s.stateNode;if(u!=null){var m=s.memoizedProps;i=i!==null?i.memoizedProps:m;var x=s.type,A=s.updateQueue;s.updateQueue=null,A!==null&&Jn(u,A,x,i,m,s)}return;case 6:if(s.stateNode===null)throw Error(ye(162));u=s.memoizedProps,pn(s.stateNode,i!==null?i.memoizedProps:u,u);return;case 3:Er&&i!==null&&i.memoizedState.isDehydrated&&de(s.stateNode.containerInfo);return;case 12:return;case 13:gl(s);return;case 19:gl(s);return;case 17:return}throw Error(ye(163))}switch(s.tag){case 0:case 11:case 14:case 15:i1(3,s,s.return),e1(3,s),i1(5,s,s.return);return;case 12:return;case 13:gl(s);return;case 19:gl(s);return;case 3:Er&&i!==null&&i.memoizedState.isDehydrated&&de(s.stateNode.containerInfo);break;case 22:case 23:return}e:if(Mr){switch(s.tag){case 1:case 5:case 6:break e;case 3:case 4:s=s.stateNode,Xr(s.containerInfo,s.pendingChildren);break e}throw Error(ye(163))}}function gl(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new hl),s.forEach(function(m){var x=fu.bind(null,i,m);u.has(m)||(u.add(m),m.then(x,x))})}}function o1(i,s){for(gr=s;gr!==null;){s=gr;var u=s.deletions;if(u!==null)for(var m=0;m<u.length;m++){var x=u[m];try{var A=i;lr?sc(A,x,s):Ac(A,x,s);var ue=x.alternate;ue!==null&&(ue.return=null),x.return=null}catch(Ur){La(x,s,Ur)}}if(u=s.child,s.subtreeFlags&12854&&u!==null)u.return=s,gr=u;else for(;gr!==null;){s=gr;try{var Fe=s.flags;if(Fe&32&&lr&&si(s.stateNode),Fe&512){var ct=s.alternate;if(ct!==null){var Yt=ct.ref;Yt!==null&&(typeof Yt=="function"?Yt(null):Yt.current=null)}}if(Fe&8192)switch(s.tag){case 13:if(s.memoizedState!==null){var En=s.alternate;(En===null||En.memoizedState===null)&&(cc=xo())}break;case 22:var wr=s.memoizedState!==null,Pr=s.alternate,Kr=Pr!==null&&Pr.memoizedState!==null;if(u=s,lr){e:if(m=u,x=wr,A=null,lr)for(var br=m;;){if(br.tag===5){if(A===null){A=br;var Vo=br.stateNode;x?Oi(Vo):Ti(br.stateNode,br.memoizedProps)}}else if(br.tag===6){if(A===null){var as=br.stateNode;x?qi(as):vr(as,br.memoizedProps)}}else if((br.tag!==22&&br.tag!==23||br.memoizedState===null||br===m)&&br.child!==null){br.child.return=br,br=br.child;continue}if(br===m)break;for(;br.sibling===null;){if(br.return===null||br.return===m)break e;A===br&&(A=null),br=br.return}A===br&&(A=null),br.sibling.return=br.return,br=br.sibling}}if(wr&&!Kr&&u.mode&1){gr=u;for(var _t=u.child;_t!==null;){for(u=gr=_t;gr!==null;){m=gr;var at=m.child;switch(m.tag){case 0:case 11:case 14:case 15:i1(4,m,m.return);break;case 1:Z1(m,m.return);var Et=m.stateNode;if(typeof Et.componentWillUnmount=="function"){var mr=m.return;try{Et.props=m.memoizedProps,Et.state=m.memoizedState,Et.componentWillUnmount()}catch(Ur){La(m,mr,Ur)}}break;case 5:Z1(m,m.return);break;case 22:if(m.memoizedState!==null){z1(u);continue}}at!==null?(at.return=m,gr=at):z1(u)}_t=_t.sibling}}}switch(Fe&4102){case 2:ia(s),s.flags&=-3;break;case 6:ia(s),s.flags&=-3,D1(s.alternate,s);break;case 4096:s.flags&=-4097;break;case 4100:s.flags&=-4097,D1(s.alternate,s);break;case 4:D1(s.alternate,s)}}catch(Ur){La(s,s.return,Ur)}if(u=s.sibling,u!==null){u.return=s.return,gr=u;break}gr=s.return}}}function j1(i,s,u){gr=i,Ws(i,s,u)}function Ws(i,s,u){for(var m=(i.mode&1)!==0;gr!==null;){var x=gr,A=x.child;if(x.tag===22&&m){var ue=x.memoizedState!==null||$1;if(!ue){var Fe=x.alternate,ct=Fe!==null&&Fe.memoizedState!==null||r1;Fe=$1;var Yt=r1;if($1=ue,(r1=ct)&&!Yt)for(gr=x;gr!==null;)ue=gr,ct=ue.child,ue.tag===22&&ue.memoizedState!==null?s1(x):ct!==null?(ct.return=ue,gr=ct):s1(x);for(;A!==null;)gr=A,Ws(A,s,u),A=A.sibling;gr=x,$1=Fe,r1=Yt}g1(i,s,u)}else x.subtreeFlags&8772&&A!==null?(A.return=x,gr=A):g1(i,s,u)}}function g1(i){for(;gr!==null;){var s=gr;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:r1||e1(5,s);break;case 1:var m=s.stateNode;if(s.flags&4&&!r1)if(u===null)m.componentDidMount();else{var x=s.elementType===s.type?u.memoizedProps:ln(s.type,u.memoizedProps);m.componentDidUpdate(x,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var A=s.updateQueue;A!==null&&vo(s,A,m);break;case 3:var ue=s.updateQueue;if(ue!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=We(s.child.stateNode);break;case 1:u=s.child.stateNode}vo(s,ue,u)}break;case 5:var Fe=s.stateNode;u===null&&s.flags&4&&Tr(Fe,s.type,s.memoizedProps,s);break;case 6:break;case 4:break;case 12:break;case 13:if(Er&&s.memoizedState===null){var ct=s.alternate;if(ct!==null){var Yt=ct.memoizedState;if(Yt!==null){var En=Yt.dehydrated;En!==null&&Ue(En)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(ye(163))}r1||s.flags&512&&Ai(s)}catch(wr){La(s,s.return,wr)}}if(s===i){gr=null;break}if(u=s.sibling,u!==null){u.return=s.return,gr=u;break}gr=s.return}}function z1(i){for(;gr!==null;){var s=gr;if(s===i){gr=null;break}var u=s.sibling;if(u!==null){u.return=s.return,gr=u;break}gr=s.return}}function s1(i){for(;gr!==null;){var s=gr;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{e1(4,s)}catch(ct){La(s,u,ct)}break;case 1:var m=s.stateNode;if(typeof m.componentDidMount=="function"){var x=s.return;try{m.componentDidMount()}catch(ct){La(s,x,ct)}}var A=s.return;try{Ai(s)}catch(ct){La(s,A,ct)}break;case 5:var ue=s.return;try{Ai(s)}catch(ct){La(s,ue,ct)}}}catch(ct){La(s,s.return,ct)}if(s===i){gr=null;break}var Fe=s.sibling;if(Fe!==null){Fe.return=s.return,gr=Fe;break}gr=s.return}}var v1=0,Oa=1,G1=2,Il=3,Ol=4;if(typeof Symbol=="function"&&Symbol.for){var ja=Symbol.for;v1=ja("selector.component"),Oa=ja("selector.has_pseudo_class"),G1=ja("selector.role"),Il=ja("selector.test_id"),Ol=ja("selector.text")}function w1(i){var s=Wn(i);if(s!=null){if(typeof s.memoizedProps["data-testname"]!="string")throw Error(ye(364));return s}if(i=gi(i),i===null)throw Error(ye(362));return i.stateNode.current}function X1(i,s){switch(s.$$typeof){case v1:if(i.type===s.value)return!0;break;case Oa:e:{s=s.value,i=[i,0];for(var u=0;u<i.length;){var m=i[u++],x=i[u++],A=s[x];if(m.tag!==5||!Ht(m)){for(;A!=null&&X1(m,A);)x++,A=s[x];if(x===s.length){s=!0;break e}else for(m=m.child;m!==null;)i.push(m,x),m=m.sibling}}s=!1}return s;case G1:if(i.tag===5&&Gt(i.stateNode,s.value))return!0;break;case Ol:if((i.tag===5||i.tag===6)&&(i=Ii(i),i!==null&&0<=i.indexOf(s.value)))return!0;break;case Il:if(i.tag===5&&(i=i.memoizedProps["data-testname"],typeof i=="string"&&i.toLowerCase()===s.value.toLowerCase()))return!0;break;default:throw Error(ye(365))}return!1}function Y1(i){switch(i.$$typeof){case v1:return"<"+(wn(i.value)||"Unknown")+">";case Oa:return":has("+(Y1(i)||"")+")";case G1:return'[role="'+i.value+'"]';case Ol:return'"'+i.value+'"';case Il:return'[data-testname="'+i.value+'"]';default:throw Error(ye(365))}}function Ic(i,s){var u=[];i=[i,0];for(var m=0;m<i.length;){var x=i[m++],A=i[m++],ue=s[A];if(x.tag!==5||!Ht(x)){for(;ue!=null&&X1(x,ue);)A++,ue=s[A];if(A===s.length)u.push(x);else for(x=x.child;x!==null;)i.push(x,A),x=x.sibling}}return u}function Oc(i,s){if(!zr)throw Error(ye(363));i=w1(i),i=Ic(i,s),s=[],i=Array.from(i);for(var u=0;u<i.length;){var m=i[u++];if(m.tag===5)Ht(m)||s.push(m.stateNode);else for(m=m.child;m!==null;)i.push(m),m=m.sibling}return s}var vl=Math.ceil,Dl=kt.ReactCurrentDispatcher,ac=kt.ReactCurrentOwner,ds=kt.ReactCurrentBatchConfig,Qi=0,Es=null,Ts=null,qs=0,Bs=0,K1=Xe(0),Ns=0,Cl=null,J1=0,zl=0,lc=0,_l=null,da=null,cc=0,uc=1/0;function q1(){uc=xo()+500}var Hl=!1,fc=null,b1=null,Bl=!1,M1=null,Nl=0,xl=0,Vl=null,Fl=-1,kl=0;function ha(){return Qi&6?xo():Fl!==-1?Fl:Fl=xo()}function H1(i){return i.mode&1?Qi&2&&qs!==0?qs&-qs:vt.transition!==null?(kl===0&&(i=ao,ao<<=1,!(ao&4194240)&&(ao=64),kl=i),kl):(i=Ci,i!==0?i:Nr()):1}function Ga(i,s,u){if(50<xl)throw xl=0,Vl=null,Error(ye(185));var m=Ul(i,s);return m===null?null:(zi(m,s,u),(!(Qi&2)||m!==Es)&&(m===Es&&(!(Qi&2)&&(zl|=s),Ns===4&&S1(m,qs)),Ra(m,u),s===1&&Qi===0&&!(i.mode&1)&&(q1(),Q&&Ut())),m)}function Ul(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}function Ra(i,s){var u=i.callbackNode;Va(i,s);var m=ls(i,i===Es?qs:0);if(m===0)u!==null&&Ko(u),i.callbackNode=null,i.callbackPriority=0;else if(s=m&-m,i.callbackPriority!==s){if(u!=null&&Ko(u),s===1)i.tag===0?St(t1.bind(null,i)):mt(t1.bind(null,i)),Or?Jr(function(){Qi===0&&Ut()}):_a(p,Ut),u=null;else{switch(Ys(m)){case 1:u=p;break;case 4:u=g;break;case 16:u=w;break;case 536870912:u=D;break;default:u=w}u=gc(u,Dc.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function Dc(i,s){if(Fl=-1,kl=0,Qi&6)throw Error(ye(327));var u=i.callbackNode;if(B1()&&i.callbackNode!==u)return null;var m=ls(i,i===Es?qs:0);if(m===0)return null;if(m&30||m&i.expiredLanes||s)s=Zl(i,m);else{s=m;var x=Qi;Qi|=2;var A=hc();(Es!==i||qs!==s)&&(q1(),Xa(i,s));do try{lu();break}catch(Fe){dc(i,Fe)}while(1);xn(),Dl.current=A,Qi=x,Ts!==null?s=0:(Es=null,qs=0,s=Ns)}if(s!==0){if(s===2&&(x=Ea(i),x!==0&&(m=x,s=yl(i,x))),s===1)throw u=Cl,Xa(i,0),S1(i,m),Ra(i,xo()),u;if(s===6)S1(i,m);else{if(x=i.current.alternate,!(m&30)&&!su(x)&&(s=Zl(i,m),s===2&&(A=Ea(i),A!==0&&(m=A,s=yl(i,A))),s===1))throw u=Cl,Xa(i,0),S1(i,m),Ra(i,xo()),u;switch(i.finishedWork=x,i.finishedLanes=m,s){case 0:case 1:throw Error(ye(345));case 2:R1(i,da);break;case 3:if(S1(i,m),(m&130023424)===m&&(s=cc+500-xo(),10<s)){if(ls(i,0)!==0)break;if(x=i.suspendedLanes,(x&m)!==m){ha(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=nn(R1.bind(null,i,da),s);break}R1(i,da);break;case 4:if(S1(i,m),(m&4194240)===m)break;for(s=i.eventTimes,x=-1;0<m;){var ue=31-Si(m);A=1<<ue,ue=s[ue],ue>x&&(x=ue),m&=~A}if(m=x,m=xo()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*vl(m/1960))-m,10<m){i.timeoutHandle=nn(R1.bind(null,i,da),m);break}R1(i,da);break;case 5:R1(i,da);break;default:throw Error(ye(329))}}}return Ra(i,xo()),i.callbackNode===u?Dc.bind(null,i):null}function yl(i,s){var u=_l;return i.current.memoizedState.isDehydrated&&(Xa(i,s).flags|=256),i=Zl(i,s),i!==2&&(s=da,da=u,s!==null&&$l(s)),i}function $l(i){da===null?da=i:da.push.apply(da,i)}function su(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var x=u[m],A=x.getSnapshot;x=x.value;try{if(!M(A(),x))return!1}catch(ue){return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function S1(i,s){for(s&=~lc,s&=~zl,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-Si(s),m=1<<u;i[u]=-1,s&=~m}}function t1(i){if(Qi&6)throw Error(ye(327));B1();var s=ls(i,0);if(!(s&1))return Ra(i,xo()),null;var u=Zl(i,s);if(i.tag!==0&&u===2){var m=Ea(i);m!==0&&(s=m,u=yl(i,m))}if(u===1)throw u=Cl,Xa(i,0),S1(i,s),Ra(i,xo()),u;if(u===6)throw Error(ye(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,R1(i,da),Ra(i,xo()),null}function wl(i){M1!==null&&M1.tag===0&&!(Qi&6)&&B1();var s=Qi;Qi|=1;var u=ds.transition,m=Ci;try{if(ds.transition=null,Ci=1,i)return i()}finally{Ci=m,ds.transition=u,Qi=s,!(Qi&6)&&Ut()}}function Q1(){Bs=K1.current,$e(K1)}function Xa(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==Cn&&(i.timeoutHandle=Cn,un(u)),Ts!==null)for(u=Ts.return;u!==null;){var m=u;switch(Ya(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&or();break;case 3:fs(),$e(it),$e(ut),ks();break;case 5:Hs(m);break;case 4:fs();break;case 13:$e(bo);break;case 19:$e(bo);break;case 10:$n(m.type._context);break;case 22:case 23:Q1()}u=u.return}if(Es=i,Ts=i=C1(i.current,null),qs=Bs=s,Ns=0,Cl=null,lc=zl=J1=0,da=_l=null,di!==null){for(s=0;s<di.length;s++)if(u=di[s],m=u.interleaved,m!==null){u.interleaved=null;var x=m.next,A=u.pending;if(A!==null){var ue=A.next;A.next=x,m.next=ue}u.pending=m}di=null}return i}function dc(i,s){do{var u=Ts;try{if(xn(),Us.current=sl,le){for(var m=fo.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}le=!1}if(ui=0,N=ts=fo=null,Ye=!1,Mt=0,ac.current=null,u===null||u.return===null){Ns=1,Cl=s,Ts=null;break}e:{var A=i,ue=u.return,Fe=u,ct=s;if(s=qs,Fe.flags|=32768,ct!==null&&typeof ct=="object"&&typeof ct.then=="function"){var Yt=ct,En=Fe,wr=En.tag;if(!(En.mode&1)&&(wr===0||wr===11||wr===15)){var Pr=En.alternate;Pr?(En.updateQueue=Pr.updateQueue,En.memoizedState=Pr.memoizedState,En.lanes=Pr.lanes):(En.updateQueue=null,En.memoizedState=null)}var Kr=Ql(ue);if(Kr!==null){Kr.flags&=-257,ec(Kr,ue,Fe,A,s),Kr.mode&1&&h1(A,Yt,s),s=Kr,ct=Yt;var br=s.updateQueue;if(br===null){var Vo=new Set;Vo.add(ct),s.updateQueue=Vo}else br.add(ct);break e}else{if(!(s&1)){h1(A,Yt,s),oa();break e}ct=Error(ye(426))}}else if(lo&&Fe.mode&1){var as=Ql(ue);if(as!==null){!(as.flags&65536)&&(as.flags|=256),ec(as,ue,Fe,A,s),wa(ct);break e}}A=ct,Ns!==4&&(Ns=2),_l===null?_l=[A]:_l.push(A),ct=Ia(ct,Fe),Fe=ue;do{switch(Fe.tag){case 3:Fe.flags|=65536,s&=-s,Fe.lanes|=s;var _t=d1(Fe,ct,s);ko(Fe,_t);break e;case 1:A=ct;var at=Fe.type,Et=Fe.stateNode;if(!(Fe.flags&128)&&(typeof at.getDerivedStateFromError=="function"||Et!==null&&typeof Et.componentDidCatch=="function"&&(b1===null||!b1.has(Et)))){Fe.flags|=65536,s&=-s,Fe.lanes|=s;var mr=A1(Fe,A,s);ko(Fe,mr);break e}}Fe=Fe.return}while(Fe!==null)}zc(u)}catch(Ur){s=Ur,Ts===u&&u!==null&&(Ts=u=u.return);continue}break}while(1)}function hc(){var i=Dl.current;return Dl.current=sl,i===null?sl:i}function oa(){(Ns===0||Ns===3||Ns===2)&&(Ns=4),Es===null||!(J1&268435455)&&!(zl&268435455)||S1(Es,qs)}function Zl(i,s){var u=Qi;Qi|=2;var m=hc();Es===i&&qs===s||Xa(i,s);do try{au();break}catch(x){dc(i,x)}while(1);if(xn(),Qi=u,Dl.current=m,Ts!==null)throw Error(ye(261));return Es=null,qs=0,Ns}function au(){for(;Ts!==null;)pc(Ts)}function lu(){for(;Ts!==null&&!la();)pc(Ts)}function pc(i){var s=mc(i.alternate,i,Bs);i.memoizedProps=i.pendingProps,s===null?zc(i):Ts=s,ac.current=null}function zc(i){var s=i;do{var u=s.alternate;if(i=s.return,s.flags&32768){if(u=dl(u,s),u!==null){u.flags&=32767,Ts=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ns=6,Ts=null;return}}else if(u=Br(u,s,Bs),u!==null){Ts=u;return}if(s=s.sibling,s!==null){Ts=s;return}Ts=s=i}while(s!==null);Ns===0&&(Ns=5)}function R1(i,s){var u=Ci,m=ds.transition;try{ds.transition=null,Ci=1,cu(i,s,u)}finally{ds.transition=m,Ci=u}return null}function cu(i,s,u){do B1();while(M1!==null);if(Qi&6)throw Error(ye(327));var m=i.finishedWork,x=i.finishedLanes;if(m===null)return null;if(i.finishedWork=null,i.finishedLanes=0,m===i.current)throw Error(ye(177));i.callbackNode=null,i.callbackPriority=0;var A=m.lanes|m.childLanes;if(Cs(i,A),i===Es&&(Ts=Es=null,qs=0),!(m.subtreeFlags&2064)&&!(m.flags&2064)||Bl||(Bl=!0,gc(w,function(){return B1(),null})),A=(m.flags&15990)!==0,m.subtreeFlags&15990||A){A=ds.transition,ds.transition=null;var ue=Ci;Ci=1;var Fe=Qi;Qi|=4,ac.current=null,pl(i,m),o1(i,m,x),Ze(i.containerInfo),i.current=m,j1(m,i,x),Ks(),Qi=Fe,Ci=ue,ds.transition=A}else i.current=m;if(Bl&&(Bl=!1,M1=i,Nl=x),A=i.pendingLanes,A===0&&(b1=null),T(m.stateNode,u),Ra(i,xo()),s!==null)for(u=i.onRecoverableError,m=0;m<s.length;m++)u(s[m]);if(Hl)throw Hl=!1,i=fc,fc=null,i;return Nl&1&&i.tag!==0&&B1(),A=i.pendingLanes,A&1?i===Vl?xl++:(xl=0,Vl=i):xl=0,Ut(),null}function B1(){if(M1!==null){var i=Ys(Nl),s=ds.transition,u=Ci;try{if(ds.transition=null,Ci=16>i?16:i,M1===null)var m=!1;else{if(i=M1,M1=null,Nl=0,Qi&6)throw Error(ye(331));var x=Qi;for(Qi|=4,gr=i.current;gr!==null;){var A=gr,ue=A.child;if(gr.flags&16){var Fe=A.deletions;if(Fe!==null){for(var ct=0;ct<Fe.length;ct++){var Yt=Fe[ct];for(gr=Yt;gr!==null;){var En=gr;switch(En.tag){case 0:case 11:case 15:i1(8,En,A)}var wr=En.child;if(wr!==null)wr.return=En,gr=wr;else for(;gr!==null;){En=gr;var Pr=En.sibling,Kr=En.return;if(ml(En),En===Yt){gr=null;break}if(Pr!==null){Pr.return=Kr,gr=Pr;break}gr=Kr}}}var br=A.alternate;if(br!==null){var Vo=br.child;if(Vo!==null){br.child=null;do{var as=Vo.sibling;Vo.sibling=null,Vo=as}while(Vo!==null)}}gr=A}}if(A.subtreeFlags&2064&&ue!==null)ue.return=A,gr=ue;else e:for(;gr!==null;){if(A=gr,A.flags&2048)switch(A.tag){case 0:case 11:case 15:i1(9,A,A.return)}var _t=A.sibling;if(_t!==null){_t.return=A.return,gr=_t;break e}gr=A.return}}var at=i.current;for(gr=at;gr!==null;){ue=gr;var Et=ue.child;if(ue.subtreeFlags&2064&&Et!==null)Et.return=ue,gr=Et;else e:for(ue=at;gr!==null;){if(Fe=gr,Fe.flags&2048)try{switch(Fe.tag){case 0:case 11:case 15:e1(9,Fe)}}catch(Ur){La(Fe,Fe.return,Ur)}if(Fe===ue){gr=null;break e}var mr=Fe.sibling;if(mr!==null){mr.return=Fe.return,gr=mr;break e}gr=Fe.return}}if(Qi=x,Ut(),ne&&typeof ne.onPostCommitFiberRoot=="function")try{ne.onPostCommitFiberRoot(ee,i)}catch(Ur){}m=!0}return m}finally{Ci=u,ds.transition=s}}return!1}function a1(i,s,u){s=Ia(u,s),s=d1(i,s,1),Yi(i,s),s=ha(),i=Ul(i,1),i!==null&&(zi(i,1,s),Ra(i,s))}function La(i,s,u){if(i.tag===3)a1(i,i,u);else for(;s!==null;){if(s.tag===3){a1(s,i,u);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(b1===null||!b1.has(m))){i=Ia(u,i),i=A1(s,i,1),Yi(s,i),i=ha(),s=Ul(s,1),s!==null&&(zi(s,1,i),Ra(s,i));break}}s=s.return}}function uu(i,s,u){var m=i.pingCache;m!==null&&m.delete(s),s=ha(),i.pingedLanes|=i.suspendedLanes&u,Es===i&&(qs&u)===u&&(Ns===4||Ns===3&&(qs&130023424)===qs&&500>xo()-cc?Xa(i,0):lc|=u),Ra(i,s)}function Hc(i,s){s===0&&(i.mode&1?(s=vs,vs<<=1,!(vs&130023424)&&(vs=4194304)):s=1);var u=ha();i=Ul(i,s),i!==null&&(zi(i,s,u),Ra(i,u))}function Wl(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),Hc(i,u)}function fu(i,s){var u=0;switch(i.tag){case 13:var m=i.stateNode,x=i.memoizedState;x!==null&&(u=x.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(ye(314))}m!==null&&m.delete(s),Hc(i,u)}var mc;mc=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||it.current)Ss=!0;else{if(!(i.lanes&u)&&!(s.flags&128))return Ss=!1,Wa(i,s,u);Ss=!!(i.flags&131072)}else Ss=!1,lo&&s.flags&1048576&&No(s,Fa,s.index);switch(s.lanes=0,s.tag){case 2:var m=s.type;i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),i=s.pendingProps;var x=qt(s,ut.current);Kn(s,u),x=Rn(null,s,m,i,x,u);var A=sr();return s.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,gn(m)?(A=!0,cr(s)):A=!1,s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Ri(s),x.updater=$o,s.stateNode=x,x._reactInternals=s,n1(s,m,i,u),s=rc(null,s,m,!0,A,u)):(s.tag=0,lo&&A&&ka(s),po(null,s,x,u),s=s.child),s;case 16:m=s.elementType;e:{switch(i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),i=s.pendingProps,x=m._init,m=x(m._payload),s.type=m,x=s.tag=du(m),i=ln(m,i),x){case 0:s=Al(null,s,m,i,u);break e;case 1:s=nc(null,s,m,i,u);break e;case 11:s=cl(null,s,m,i,u);break e;case 14:s=Go(null,s,m,ln(m.type,i),u);break e}throw Error(ye(306,m,""))}return s;case 0:return m=s.type,x=s.pendingProps,x=s.elementType===m?x:ln(m,x),Al(i,s,m,x,u);case 1:return m=s.type,x=s.pendingProps,x=s.elementType===m?x:ln(m,x),nc(i,s,m,x,u);case 3:e:{if(Pl(s),i===null)throw Error(ye(387));m=s.pendingProps,A=s.memoizedState,x=A.element,Hi(i,s),Eo(s,m,null,u);var ue=s.memoizedState;if(m=ue.element,Er&&A.isDehydrated)if(A={element:m,isDehydrated:!1,cache:ue.cache,transitions:ue.transitions},s.updateQueue.baseState=A,s.memoizedState=A,s.flags&256){x=Error(ye(423)),s=Tc(i,s,m,u,x);break e}else if(m!==x){x=Error(ye(424)),s=Tc(i,s,m,u,x);break e}else for(Er&&(is=P(s.stateNode.containerInfo),Ds=s,lo=!0,we=null,cs=!1),u=Pa(s,null,m,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(yo(),m===x){s=Qa(i,s,u);break e}po(i,s,m,u)}s=s.child}return s;case 5:return Ma(s),i===null&&Js(s),m=s.type,x=s.pendingProps,A=i!==null?i.memoizedProps:null,ue=x.children,wt(m,x)?ue=null:A!==null&&wt(m,A)&&(s.flags|=32),tc(i,s),po(i,s,ue,u),s.child;case 6:return i===null&&Js(s),null;case 13:return ic(i,s,u);case 4:return Do(s,s.stateNode.containerInfo),m=s.pendingProps,i===null?s.child=pr(s,null,m,u):po(i,s,m,u),s.child;case 11:return m=s.type,x=s.pendingProps,x=s.elementType===m?x:ln(m,x),cl(i,s,m,x,u);case 7:return po(i,s,s.pendingProps,u),s.child;case 8:return po(i,s,s.pendingProps.children,u),s.child;case 12:return po(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(m=s.type._context,x=s.pendingProps,A=s.memoizedProps,ue=x.value,rn(s,m,ue),A!==null)if(M(A.value,ue)){if(A.children===x.children&&!it.current){s=Qa(i,s,u);break e}}else for(A=s.child,A!==null&&(A.return=s);A!==null;){var Fe=A.dependencies;if(Fe!==null){ue=A.child;for(var ct=Fe.firstContext;ct!==null;){if(ct.context===m){if(A.tag===1){ct=Cr(-1,u&-u),ct.tag=2;var Yt=A.updateQueue;if(Yt!==null){Yt=Yt.shared;var En=Yt.pending;En===null?ct.next=ct:(ct.next=En.next,En.next=ct),Yt.pending=ct}}A.lanes|=u,ct=A.alternate,ct!==null&&(ct.lanes|=u),Ar(A.return,u,s),Fe.lanes|=u;break}ct=ct.next}}else if(A.tag===10)ue=A.type===s.type?null:A.child;else if(A.tag===18){if(ue=A.return,ue===null)throw Error(ye(341));ue.lanes|=u,Fe=ue.alternate,Fe!==null&&(Fe.lanes|=u),Ar(ue,u,s),ue=A.sibling}else ue=A.child;if(ue!==null)ue.return=A;else for(ue=A;ue!==null;){if(ue===s){ue=null;break}if(A=ue.sibling,A!==null){A.return=ue.return,ue=A;break}ue=ue.return}A=ue}po(i,s,x.children,u),s=s.child}return s;case 9:return x=s.type,m=s.pendingProps.children,Kn(s,u),x=Sr(x),m=m(x),s.flags|=1,po(i,s,m,u),s.child;case 14:return m=s.type,x=ln(m,s.pendingProps),x=ln(m.type,x),Go(i,s,m,x,u);case 15:return Ec(i,s,s.type,s.pendingProps,u);case 17:return m=s.type,x=s.pendingProps,x=s.elementType===m?x:ln(m,x),i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),s.tag=1,gn(m)?(i=!0,cr(s)):i=!1,Kn(s,u),Fs(s,m,x),n1(s,m,x,u),rc(null,s,m,!0,i,u);case 19:return Ji(i,s,u);case 22:return ou(i,s,u)}throw Error(ye(156,s.tag))};function gc(i,s){return _a(i,s)}function Bc(i,s,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Da(i,s,u,m){return new Bc(i,s,u,m)}function vc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function du(i){if(typeof i=="function")return vc(i)?1:0;if(i!=null){if(i=i.$$typeof,i===rr)return 11;if(i===jt)return 14}return 2}function C1(i,s){var u=i.alternate;return u===null?(u=Da(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function d(i,s,u,m,x,A){var ue=2;if(m=i,typeof i=="function")vc(i)&&(ue=1);else if(typeof i=="string")ue=5;else e:switch(i){case ot:return b(u.children,x,A,s);case _e:ue=8,x|=8;break;case yt:return i=Da(12,u,s,x|2),i.elementType=yt,i.lanes=A,i;case hn:return i=Da(13,u,s,x),i.elementType=hn,i.lanes=A,i;case An:return i=Da(19,u,s,x),i.elementType=An,i.lanes=A,i;case yr:return z(u,x,A,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Rt:ue=10;break e;case oe:ue=9;break e;case rr:ue=11;break e;case jt:ue=14;break e;case mn:ue=16,m=null;break e}throw Error(ye(130,i==null?i:typeof i,""))}return s=Da(ue,u,s,x),s.elementType=i,s.type=m,s.lanes=A,s}function b(i,s,u,m){return i=Da(7,i,m,s),i.lanes=u,i}function z(i,s,u,m){return i=Da(22,i,m,s),i.elementType=yr,i.lanes=u,i.stateNode={},i}function F(i,s,u){return i=Da(6,i,null,s),i.lanes=u,i}function fe(i,s,u){return s=Da(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Oe(i,s,u,m,x){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Cn,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vs(0),this.expirationTimes=Vs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vs(0),this.identifierPrefix=m,this.onRecoverableError=x,Er&&(this.mutableSourceEagerHydrationData=null)}function ft(i,s,u,m,x,A,ue,Fe,ct){return i=new Oe(i,s,u,Fe,ct),s===1?(s=1,A===!0&&(s|=8)):s=0,A=Da(3,null,null,s),i.current=A,A.stateNode=i,A.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null},Ri(A),i}function Wt(i){if(!i)return qe;i=i._reactInternals;e:{if(ur(i)!==i||i.tag!==1)throw Error(ye(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(gn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(ye(171))}if(i.tag===1){var u=i.type;if(gn(u))return Gn(i,u,s)}return s}function Qt(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(ye(188)):(i=Object.keys(i).join(","),Error(ye(268,i)));return i=gt(s),i===null?null:i.stateNode}function vn(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function yn(i,s){vn(i,s),(i=i.alternate)&&vn(i,s)}function hr(i){return i=gt(i),i===null?null:i.stateNode}function In(){return null}return U.attemptContinuousHydration=function(i){if(i.tag===13){var s=ha();Ga(i,134217728,s),yn(i,134217728)}},U.attemptHydrationAtCurrentPriority=function(i){if(i.tag===13){var s=ha(),u=H1(i);Ga(i,u,s),yn(i,u)}},U.attemptSynchronousHydration=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=Po(s.pendingLanes);u!==0&&(ea(s,u|1),Ra(s,xo()),!(Qi&6)&&(q1(),Ut()))}break;case 13:var m=ha();wl(function(){return Ga(i,1,m)}),yn(i,1)}},U.batchedUpdates=function(i,s){var u=Qi;Qi|=1;try{return i(s)}finally{Qi=u,Qi===0&&(q1(),Q&&Ut())}},U.createComponentSelector=function(i){return{$$typeof:v1,value:i}},U.createContainer=function(i,s,u,m,x,A,ue){return ft(i,s,!1,null,u,m,x,A,ue)},U.createHasPseudoClassSelector=function(i){return{$$typeof:Oa,value:i}},U.createHydrationContainer=function(i,s,u,m,x,A,ue,Fe,ct){return i=ft(u,m,!0,i,x,A,ue,Fe,ct),i.context=Wt(null),u=i.current,m=ha(),x=H1(u),A=Cr(m,x),A.callback=s!=null?s:null,Yi(u,A),i.current.lanes=x,zi(i,x,m),Ra(i,m),i},U.createPortal=function(i,s,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Re,key:m==null?null:""+m,children:i,containerInfo:s,implementation:u}},U.createRoleSelector=function(i){return{$$typeof:G1,value:i}},U.createTestNameSelector=function(i){return{$$typeof:Il,value:i}},U.createTextSelector=function(i){return{$$typeof:Ol,value:i}},U.deferredUpdates=function(i){var s=Ci,u=ds.transition;try{return ds.transition=null,Ci=16,i()}finally{Ci=s,ds.transition=u}},U.discreteUpdates=function(i,s,u,m,x){var A=Ci,ue=ds.transition;try{return ds.transition=null,Ci=1,i(s,u,m,x)}finally{Ci=A,ds.transition=ue,Qi===0&&q1()}},U.findAllNodes=Oc,U.findBoundingRects=function(i,s){if(!zr)throw Error(ye(363));s=Oc(i,s),i=[];for(var u=0;u<s.length;u++)i.push(qr(s[u]));for(s=i.length-1;0<s;s--){u=i[s];for(var m=u.x,x=m+u.width,A=u.y,ue=A+u.height,Fe=s-1;0<=Fe;Fe--)if(s!==Fe){var ct=i[Fe],Yt=ct.x,En=Yt+ct.width,wr=ct.y,Pr=wr+ct.height;if(m>=Yt&&A>=wr&&x<=En&&ue<=Pr){i.splice(s,1);break}else if(m!==Yt||u.width!==ct.width||Pr<A||wr>ue){if(!(A!==wr||u.height!==ct.height||En<m||Yt>x)){Yt>m&&(ct.width+=Yt-m,ct.x=m),En<x&&(ct.width=x-Yt),i.splice(s,1);break}}else{wr>A&&(ct.height+=wr-A,ct.y=A),Pr<ue&&(ct.height=ue-wr),i.splice(s,1);break}}}return i},U.findHostInstance=Qt,U.findHostInstanceWithNoPortals=function(i){return i=Ge(i),i=i!==null?It(i):null,i===null?null:i.stateNode},U.findHostInstanceWithWarning=function(i){return Qt(i)},U.flushControlled=function(i){var s=Qi;Qi|=1;var u=ds.transition,m=Ci;try{ds.transition=null,Ci=1,i()}finally{Ci=m,ds.transition=u,Qi=s,Qi===0&&(q1(),Ut())}},U.flushPassiveEffects=B1,U.flushSync=wl,U.focusWithin=function(i,s){if(!zr)throw Error(ye(363));for(i=w1(i),s=Ic(i,s),s=Array.from(s),i=0;i<s.length;){var u=s[i++];if(!Ht(u)){if(u.tag===5&&on(u.stateNode))return!0;for(u=u.child;u!==null;)s.push(u),u=u.sibling}}return!1},U.getCurrentUpdatePriority=function(){return Ci},U.getFindAllNodesFailureDescription=function(i,s){if(!zr)throw Error(ye(363));var u=0,m=[];i=[w1(i),0];for(var x=0;x<i.length;){var A=i[x++],ue=i[x++],Fe=s[ue];if((A.tag!==5||!Ht(A))&&(X1(A,Fe)&&(m.push(Y1(Fe)),ue++,ue>u&&(u=ue)),ue<s.length))for(A=A.child;A!==null;)i.push(A,ue),A=A.sibling}if(u<s.length){for(i=[];u<s.length;u++)i.push(Y1(s[u]));return`findAllNodes was able to match part of the selector:
  `+(m.join(" > ")+`

No matching component was found for:
  `)+i.join(" > ")}return null},U.getPublicRootInstance=function(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return We(i.child.stateNode);default:return i.child.stateNode}},U.injectIntoDevTools=function(i){if(i={bundleType:i.bundleType,version:i.version,rendererPackageName:i.rendererPackageName,rendererConfig:i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kt.ReactCurrentDispatcher,findHostInstanceByFiber:hr,findFiberByHostInstance:i.findFiberByHostInstance||In,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")i=!1;else{var s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(s.isDisabled||!s.supportsFiber)i=!0;else{try{ee=s.inject(i),ne=s}catch(u){}i=!!s.checkDCE}}return i},U.isAlreadyRendering=function(){return!1},U.observeVisibleRects=function(i,s,u,m){if(!zr)throw Error(ye(363));i=Oc(i,s);var x=an(i,u,m).disconnect;return{disconnect:function(){x()}}},U.registerMutableSourceForHydration=function(i,s){var u=s._getVersion;u=u(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,u]:i.mutableSourceEagerHydrationData.push(s,u)},U.runWithPriority=function(i,s){var u=Ci;try{return Ci=i,s()}finally{Ci=u}},U.shouldError=function(){return null},U.shouldSuspend=function(){return!1},U.updateContainer=function(i,s,u,m){var x=s.current,A=ha(),ue=H1(x);return u=Wt(u),s.context===null?s.context=u:s.pendingContext=u,s=Cr(A,ue),s.payload={element:i},m=m===void 0?null:m,m!==null&&(s.callback=m),Yi(x,s),i=Ga(x,ue,A),i!==null&&uo(i,x,ue),ue},U}},85259:function(Jt,Qe,te){"use strict";Jt.exports=te(23406)},97427:function(Jt,Qe,te){"use strict";Jt.exports=te(45658)},94440:function(Jt,Qe,te){"use strict";te.d(Qe,{Z:function(){return rt}});var O=te(50959),he=te(31110),U=te.n(he);function rt(Re){let{debounce:ot,scroll:_e,polyfill:yt,offsetSize:Rt}=Re===void 0?{debounce:0,scroll:!1,offsetSize:!1}:Re;const oe=yt||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!oe)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[rr,hn]=(0,O.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),An=(0,O.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:rr}),jt=ot?typeof ot=="number"?ot:ot.scroll:null,mn=ot?typeof ot=="number"?ot:ot.resize:null,yr=(0,O.useRef)(!1);(0,O.useEffect)(()=>(yr.current=!0,()=>void(yr.current=!1)));const[Zn,tr,wn]=(0,O.useMemo)(()=>{const Ge=()=>{if(!An.current.element)return;const{left:gt,top:be,width:It,height:Ke,bottom:We,right:Ne,x:Y,y:Ae}=An.current.element.getBoundingClientRect(),Ze={left:gt,top:be,width:It,height:Ke,bottom:We,right:Ne,x:Y,y:Ae};An.current.element instanceof HTMLElement&&Rt&&(Ze.height=An.current.element.offsetHeight,Ze.width=An.current.element.offsetWidth),Object.freeze(Ze),yr.current&&!Ce(An.current.lastBounds,Ze)&&hn(An.current.lastBounds=Ze)};return[Ge,mn?U()(Ge,mn):Ge,jt?U()(Ge,jt):Ge]},[hn,Rt,jt,mn]);function bn(){An.current.scrollContainers&&(An.current.scrollContainers.forEach(Ge=>Ge.removeEventListener("scroll",wn,!0)),An.current.scrollContainers=null),An.current.resizeObserver&&(An.current.resizeObserver.disconnect(),An.current.resizeObserver=null)}function ur(){An.current.element&&(An.current.resizeObserver=new oe(wn),An.current.resizeObserver.observe(An.current.element),_e&&An.current.scrollContainers&&An.current.scrollContainers.forEach(Ge=>Ge.addEventListener("scroll",wn,{capture:!0,passive:!0})))}const qn=Ge=>{!Ge||Ge===An.current.element||(bn(),An.current.element=Ge,An.current.scrollContainers=ye(Ge),ur())};return At(wn,!!_e),Ct(tr),(0,O.useEffect)(()=>{bn(),ur()},[_e,wn,tr]),(0,O.useEffect)(()=>bn,[]),[qn,rr,Zn]}function Ct(Re){(0,O.useEffect)(()=>{const ot=Re;return window.addEventListener("resize",ot),()=>void window.removeEventListener("resize",ot)},[Re])}function At(Re,ot){(0,O.useEffect)(()=>{if(ot){const _e=Re;return window.addEventListener("scroll",_e,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",_e,!0)}},[Re,ot])}function ye(Re){const ot=[];if(!Re||Re===document.body)return ot;const{overflow:_e,overflowX:yt,overflowY:Rt}=window.getComputedStyle(Re);return[_e,yt,Rt].some(oe=>oe==="auto"||oe==="scroll")&&ot.push(Re),[...ot,...ye(Re.parentElement)]}const kt=["x","y","top","bottom","left","right","width","height"],Ce=(Re,ot)=>kt.every(_e=>Re[_e]===ot[_e])},70247:function(Jt,Qe){"use strict";function te(We,Ne){var Y=We.length;We.push(Ne);e:for(;0<Y;){var Ae=Y-1>>>1,Ze=We[Ae];if(0<U(Ze,Ne))We[Ae]=Ne,We[Y]=Ze,Y=Ae;else break e}}function O(We){return We.length===0?null:We[0]}function he(We){if(We.length===0)return null;var Ne=We[0],Y=We.pop();if(Y!==Ne){We[0]=Y;e:for(var Ae=0,Ze=We.length,ge=Ze>>>1;Ae<ge;){var Be=2*(Ae+1)-1,ke=We[Be],et=Be+1,wt=We[et];if(0>U(ke,Y))et<Ze&&0>U(wt,ke)?(We[Ae]=wt,We[et]=Y,Ae=et):(We[Ae]=ke,We[Be]=Y,Ae=Be);else if(et<Ze&&0>U(wt,Y))We[Ae]=wt,We[et]=Y,Ae=et;else break e}}return Ne}function U(We,Ne){var Y=We.sortIndex-Ne.sortIndex;return Y!==0?Y:We.id-Ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;Qe.unstable_now=function(){return rt.now()}}else{var Ct=Date,At=Ct.now();Qe.unstable_now=function(){return Ct.now()-At}}var ye=[],kt=[],Ce=1,Re=null,ot=3,_e=!1,yt=!1,Rt=!1,oe=typeof setTimeout=="function"?setTimeout:null,rr=typeof clearTimeout=="function"?clearTimeout:null,hn=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function An(We){for(var Ne=O(kt);Ne!==null;){if(Ne.callback===null)he(kt);else if(Ne.startTime<=We)he(kt),Ne.sortIndex=Ne.expirationTime,te(ye,Ne);else break;Ne=O(kt)}}function jt(We){if(Rt=!1,An(We),!yt)if(O(ye)!==null)yt=!0,It(mn);else{var Ne=O(kt);Ne!==null&&Ke(jt,Ne.startTime-We)}}function mn(We,Ne){yt=!1,Rt&&(Rt=!1,rr(tr),tr=-1),_e=!0;var Y=ot;try{for(An(Ne),Re=O(ye);Re!==null&&(!(Re.expirationTime>Ne)||We&&!ur());){var Ae=Re.callback;if(typeof Ae=="function"){Re.callback=null,ot=Re.priorityLevel;var Ze=Ae(Re.expirationTime<=Ne);Ne=Qe.unstable_now(),typeof Ze=="function"?Re.callback=Ze:Re===O(ye)&&he(ye),An(Ne)}else he(ye);Re=O(ye)}if(Re!==null)var ge=!0;else{var Be=O(kt);Be!==null&&Ke(jt,Be.startTime-Ne),ge=!1}return ge}finally{Re=null,ot=Y,_e=!1}}var yr=!1,Zn=null,tr=-1,wn=5,bn=-1;function ur(){return!(Qe.unstable_now()-bn<wn)}function qn(){if(Zn!==null){var We=Qe.unstable_now();bn=We;var Ne=!0;try{Ne=Zn(!0,We)}finally{Ne?Ge():(yr=!1,Zn=null)}}else yr=!1}var Ge;if(typeof hn=="function")Ge=function(){hn(qn)};else if(typeof MessageChannel!="undefined"){var gt=new MessageChannel,be=gt.port2;gt.port1.onmessage=qn,Ge=function(){be.postMessage(null)}}else Ge=function(){oe(qn,0)};function It(We){Zn=We,yr||(yr=!0,Ge())}function Ke(We,Ne){tr=oe(function(){We(Qe.unstable_now())},Ne)}Qe.unstable_IdlePriority=5,Qe.unstable_ImmediatePriority=1,Qe.unstable_LowPriority=4,Qe.unstable_NormalPriority=3,Qe.unstable_Profiling=null,Qe.unstable_UserBlockingPriority=2,Qe.unstable_cancelCallback=function(We){We.callback=null},Qe.unstable_continueExecution=function(){yt||_e||(yt=!0,It(mn))},Qe.unstable_forceFrameRate=function(We){0>We||125<We?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wn=0<We?Math.floor(1e3/We):5},Qe.unstable_getCurrentPriorityLevel=function(){return ot},Qe.unstable_getFirstCallbackNode=function(){return O(ye)},Qe.unstable_next=function(We){switch(ot){case 1:case 2:case 3:var Ne=3;break;default:Ne=ot}var Y=ot;ot=Ne;try{return We()}finally{ot=Y}},Qe.unstable_pauseExecution=function(){},Qe.unstable_requestPaint=function(){},Qe.unstable_runWithPriority=function(We,Ne){switch(We){case 1:case 2:case 3:case 4:case 5:break;default:We=3}var Y=ot;ot=We;try{return Ne()}finally{ot=Y}},Qe.unstable_scheduleCallback=function(We,Ne,Y){var Ae=Qe.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Ae+Y:Ae):Y=Ae,We){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=Y+Ze,We={id:Ce++,callback:Ne,priorityLevel:We,startTime:Y,expirationTime:Ze,sortIndex:-1},Y>Ae?(We.sortIndex=Y,te(kt,We),O(ye)===null&&We===O(kt)&&(Rt?(rr(tr),tr=-1):Rt=!0,Ke(jt,Y-Ae))):(We.sortIndex=Ze,te(ye,We),yt||_e||(yt=!0,It(mn))),We},Qe.unstable_shouldYield=ur,Qe.unstable_wrapCallback=function(We){var Ne=ot;return function(){var Y=ot;ot=Ne;try{return We.apply(this,arguments)}finally{ot=Y}}}},65297:function(Jt,Qe,te){"use strict";Jt.exports=te(70247)},67839:function(Jt,Qe,te){var O=te(49154),he=te(14614);function U(rt,Ct,At){return he()?(Jt.exports=U=Reflect.construct.bind(),Jt.exports.__esModule=!0,Jt.exports.default=Jt.exports):(Jt.exports=U=function(kt,Ce,Re){var ot=[null];ot.push.apply(ot,Ce);var _e=Function.bind.apply(kt,ot),yt=new _e;return Re&&O(yt,Re.prototype),yt},Jt.exports.__esModule=!0,Jt.exports.default=Jt.exports),U.apply(null,arguments)}Jt.exports=U,Jt.exports.__esModule=!0,Jt.exports.default=Jt.exports},14614:function(Jt){function Qe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(te){return!1}}Jt.exports=Qe,Jt.exports.__esModule=!0,Jt.exports.default=Jt.exports},49154:function(Jt){function Qe(te,O){return Jt.exports=Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,rt){return U.__proto__=rt,U},Jt.exports.__esModule=!0,Jt.exports.default=Jt.exports,Qe(te,O)}Jt.exports=Qe,Jt.exports.__esModule=!0,Jt.exports.default=Jt.exports},92935:function(Jt){function Qe(te,O){return O||(O=te.slice(0)),Object.freeze(Object.defineProperties(te,{raw:{value:Object.freeze(O)}}))}Jt.exports=Qe,Jt.exports.__esModule=!0,Jt.exports.default=Jt.exports},51741:function(Jt,Qe,te){"use strict";te.d(Qe,{Z:function(){return Qr}});function O(Xn,On,si,Oi){var qi=-1,Ti=Xn==null?0:Xn.length;for(Oi&&Ti&&(si=Xn[++qi]);++qi<Ti;)si=On(si,Xn[qi],qi,Xn);return si}var he=O;function U(Xn){return function(On){return Xn==null?void 0:Xn[On]}}var rt=U,Ct={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},At=rt(Ct),ye=At,kt=te(45633),Ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Re="\\u0300-\\u036f",ot="\\ufe20-\\ufe2f",_e="\\u20d0-\\u20ff",yt=Re+ot+_e,Rt="["+yt+"]",oe=RegExp(Rt,"g");function rr(Xn){return Xn=(0,kt.Z)(Xn),Xn&&Xn.replace(Ce,ye).replace(oe,"")}var hn=rr,An=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function jt(Xn){return Xn.match(An)||[]}var mn=jt,yr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Zn(Xn){return yr.test(Xn)}var tr=Zn,wn="\\ud800-\\udfff",bn="\\u0300-\\u036f",ur="\\ufe20-\\ufe2f",qn="\\u20d0-\\u20ff",Ge=bn+ur+qn,gt="\\u2700-\\u27bf",be="a-z\\xdf-\\xf6\\xf8-\\xff",It="\\xac\\xb1\\xd7\\xf7",Ke="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",We="\\u2000-\\u206f",Ne=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Y="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",Ze=It+Ke+We+Ne,ge="['\u2019]",Be="["+Ze+"]",ke="["+Ge+"]",et="\\d+",wt="["+gt+"]",Vt="["+be+"]",nn="[^"+wn+Ze+et+gt+be+Y+"]",un="\\ud83c[\\udffb-\\udfff]",Cn="(?:"+ke+"|"+un+")",dr="[^"+wn+"]",lr="(?:\\ud83c[\\udde6-\\uddff]){2}",Mr="[\\ud800-\\udbff][\\udc00-\\udfff]",Er="["+Y+"]",Wn="\\u200d",Nn="(?:"+Vt+"|"+nn+")",Nr="(?:"+Er+"|"+nn+")",ti="(?:"+ge+"(?:d|ll|m|re|s|t|ve))?",Or="(?:"+ge+"(?:D|LL|M|RE|S|T|VE))?",Jr=Cn+"?",zr="["+Ae+"]?",gi="(?:"+Wn+"(?:"+[dr,lr,Mr].join("|")+")"+zr+Jr+")*",qr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ii="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ht=zr+Jr+gi,Gt="(?:"+[wt,lr,Mr].join("|")+")"+Ht,on=RegExp([Er+"?"+Vt+"+"+ti+"(?="+[Be,Er,"$"].join("|")+")",Nr+"+"+Or+"(?="+[Be,Er+Nn,"$"].join("|")+")",Er+"?"+Nn+"+"+ti,Er+"+"+Or,Ii,qr,et,Gt].join("|"),"g");function an(Xn){return Xn.match(on)||[]}var fn=an;function ir(Xn,On,si){return Xn=(0,kt.Z)(Xn),On=si?void 0:On,On===void 0?tr(Xn)?fn(Xn):mn(Xn):Xn.match(On)||[]}var pn=ir,Tr="['\u2019]",Jn=RegExp(Tr,"g");function ci(Xn){return function(On){return he(pn(hn(On).replace(Jn,"")),Xn,"")}}var Qr=ci},15861:function(Jt,Qe,te){"use strict";te.d(Qe,{Z:function(){return Er}});var O=te(45633);function he(Wn,Nn,Nr){var ti=-1,Or=Wn.length;Nn<0&&(Nn=-Nn>Or?0:Or+Nn),Nr=Nr>Or?Or:Nr,Nr<0&&(Nr+=Or),Or=Nn>Nr?0:Nr-Nn>>>0,Nn>>>=0;for(var Jr=Array(Or);++ti<Or;)Jr[ti]=Wn[ti+Nn];return Jr}var U=he;function rt(Wn,Nn,Nr){var ti=Wn.length;return Nr=Nr===void 0?ti:Nr,!Nn&&Nr>=ti?Wn:U(Wn,Nn,Nr)}var Ct=rt,At="\\ud800-\\udfff",ye="\\u0300-\\u036f",kt="\\ufe20-\\ufe2f",Ce="\\u20d0-\\u20ff",Re=ye+kt+Ce,ot="\\ufe0e\\ufe0f",_e="\\u200d",yt=RegExp("["+_e+At+Re+ot+"]");function Rt(Wn){return yt.test(Wn)}var oe=Rt;function rr(Wn){return Wn.split("")}var hn=rr,An="\\ud800-\\udfff",jt="\\u0300-\\u036f",mn="\\ufe20-\\ufe2f",yr="\\u20d0-\\u20ff",Zn=jt+mn+yr,tr="\\ufe0e\\ufe0f",wn="["+An+"]",bn="["+Zn+"]",ur="\\ud83c[\\udffb-\\udfff]",qn="(?:"+bn+"|"+ur+")",Ge="[^"+An+"]",gt="(?:\\ud83c[\\udde6-\\uddff]){2}",be="[\\ud800-\\udbff][\\udc00-\\udfff]",It="\\u200d",Ke=qn+"?",We="["+tr+"]?",Ne="(?:"+It+"(?:"+[Ge,gt,be].join("|")+")"+We+Ke+")*",Y=We+Ke+Ne,Ae="(?:"+[Ge+bn+"?",bn,gt,be,wn].join("|")+")",Ze=RegExp(ur+"(?="+ur+")|"+Ae+Y,"g");function ge(Wn){return Wn.match(Ze)||[]}var Be=ge;function ke(Wn){return oe(Wn)?Be(Wn):hn(Wn)}var et=ke;function wt(Wn){return function(Nn){Nn=(0,O.Z)(Nn);var Nr=oe(Nn)?et(Nn):void 0,ti=Nr?Nr[0]:Nn.charAt(0),Or=Nr?Ct(Nr,1).join(""):Nn.slice(1);return ti[Wn]()+Or}}var Vt=wt,nn=Vt("toUpperCase"),un=nn;function Cn(Wn){return un((0,O.Z)(Wn).toLowerCase())}var dr=Cn,lr=te(51741),Mr=(0,lr.Z)(function(Wn,Nn,Nr){return Nn=Nn.toLowerCase(),Wn+(Nr?dr(Nn):Nn)}),Er=Mr},23407:function(Jt,Qe,te){"use strict";var O=te(51741),he=(0,O.Z)(function(U,rt,Ct){return U+(Ct?"-":"")+rt.toLowerCase()});Qe.Z=he},45633:function(Jt,Qe,te){"use strict";te.d(Qe,{Z:function(){return rr}});var O=te(66711);function he(hn,An){for(var jt=-1,mn=hn==null?0:hn.length,yr=Array(mn);++jt<mn;)yr[jt]=An(hn[jt],jt,hn);return yr}var U=he,rt=te(56052),Ct=te(33918),At=te(13795),ye="[object Symbol]";function kt(hn){return typeof hn=="symbol"||(0,At.Z)(hn)&&(0,Ct.Z)(hn)==ye}var Ce=kt,Re=1/0,ot=O.Z?O.Z.prototype:void 0,_e=ot?ot.toString:void 0;function yt(hn){if(typeof hn=="string")return hn;if((0,rt.Z)(hn))return U(hn,yt)+"";if(Ce(hn))return _e?_e.call(hn):"";var An=hn+"";return An=="0"&&1/hn==-Re?"-0":An}var Rt=yt;function oe(hn){return hn==null?"":Rt(hn)}var rr=oe},75411:function(Jt,Qe,te){"use strict";te.r(Qe),te.d(Qe,{ACESFilmicToneMapping:function(){return Nr},AddEquation:function(){return Zn},AddOperation:function(){return lr},AdditiveAnimationBlendMode:function(){return ls},AdditiveBlending:function(){return An},AlphaFormat:function(){return Fi},AlwaysDepth:function(){return Be},AlwaysStencilFunc:function(){return Ut},AmbientLight:function(){return oh},AmbientLightProbe:function(){return i3},AnimationClip:function(){return c0},AnimationLoader:function(){return W5},AnimationMixer:function(){return b3},AnimationObjectGroup:function(){return x3},AnimationUtils:function(){return k5},ArcCurve:function(){return w9},ArrayCamera:function(){return Xd},ArrowHelper:function(){return W3},Audio:function(){return vh},AudioAnalyser:function(){return u3},AudioContext:function(){return v2},AudioListener:function(){return a3},AudioLoader:function(){return n3},AxesHelper:function(){return j3},BackSide:function(){return yt},BasicDepthPacking:function(){return Cs},BasicShadowMap:function(){return kt},Bone:function(){return $f},BooleanKeyframeTrack:function(){return Gc},Box2:function(){return P3},Box3:function(){return xs},Box3Helper:function(){return $3},BoxBufferGeometry:function(){return q3},BoxGeometry:function(){return m1},BoxHelper:function(){return U3},BufferAttribute:function(){return Go},BufferGeometry:function(){return Ji},BufferGeometryLoader:function(){return ch},ByteType:function(){return Oi},Cache:function(){return Yc},Camera:function(){return j1},CameraHelper:function(){return k3},CanvasTexture:function(){return f5},CapsuleBufferGeometry:function(){return Q3},CapsuleGeometry:function(){return Wu},CatmullRomCurve3:function(){return b9},CineonToneMapping:function(){return Nn},CircleBufferGeometry:function(){return e7},CircleGeometry:function(){return ju},ClampToEdgeWrapping:function(){return Gt},Clock:function(){return ph},Color:function(){return Br},ColorKeyframeTrack:function(){return f2},ColorManagement:function(){return os},CompressedArrayTexture:function(){return u5},CompressedTexture:function(){return Gf},CompressedTextureLoader:function(){return j5},ConeBufferGeometry:function(){return t7},ConeGeometry:function(){return Gu},CubeCamera:function(){return s1},CubeReflectionMapping:function(){return Jr},CubeRefractionMapping:function(){return zr},CubeTexture:function(){return v1},CubeTextureLoader:function(){return G5},CubeUVReflectionMapping:function(){return Ii},CubicBezierCurve:function(){return qf},CubicBezierCurve3:function(){return S9},CubicInterpolant:function(){return X9},CullFaceBack:function(){return Ct},CullFaceFront:function(){return At},CullFaceFrontBack:function(){return ye},CullFaceNone:function(){return rt},Curve:function(){return rl},CurvePath:function(){return L9},CustomBlending:function(){return yr},CustomToneMapping:function(){return ti},CylinderBufferGeometry:function(){return n7},CylinderGeometry:function(){return $c},Cylindrical:function(){return A3},Data3DTexture:function(){return Hs},DataArrayTexture:function(){return fs},DataTexture:function(){return Su},DataTextureLoader:function(){return X5},DataUtils:function(){return J3},DecrementStencilOp:function(){return D},DecrementWrapStencilOp:function(){return ne},DefaultLoadingManager:function(){return J9},DepthFormat:function(){return ki},DepthStencilFormat:function(){return wi},DepthTexture:function(){return Yd},DirectionalLight:function(){return ih},DirectionalLightHelper:function(){return F3},DiscreteInterpolant:function(){return Y9},DisplayP3ColorSpace:function(){return Ks},DodecahedronBufferGeometry:function(){return r7},DodecahedronGeometry:function(){return Xu},DoubleSide:function(){return Rt},DstAlphaFactor:function(){return We},DstColorFactor:function(){return Y},DynamicCopyUsage:function(){return zn},DynamicDrawUsage:function(){return $t},DynamicReadUsage:function(){return Pt},EdgesGeometry:function(){return E9},EllipseCurve:function(){return B0},EqualDepth:function(){return wt},EqualStencilFunc:function(){return H},EquirectangularReflectionMapping:function(){return gi},EquirectangularRefractionMapping:function(){return qr},Euler:function(){return Ao},EventDispatcher:function(){return Kn},ExtrudeBufferGeometry:function(){return i7},ExtrudeGeometry:function(){return qu},FileLoader:function(){return Xl},Float16BufferAttribute:function(){return Tc},Float32BufferAttribute:function(){return kr},Float64BufferAttribute:function(){return ul},FloatType:function(){return tt},Fog:function(){return R0},FogExp2:function(){return S0},FramebufferTexture:function(){return c5},FrontSide:function(){return _e},Frustum:function(){return Y1},GLBufferAttribute:function(){return L3},GLSL1:function(){return rn},GLSL3:function(){return $n},GreaterDepth:function(){return nn},GreaterEqualDepth:function(){return Vt},GreaterEqualStencilFunc:function(){return St},GreaterStencilFunc:function(){return Te},GridHelper:function(){return N3},Group:function(){return xu},HalfFloatType:function(){return Xt},HemisphereLight:function(){return q9},HemisphereLightHelper:function(){return B3},HemisphereLightProbe:function(){return r3},IcosahedronBufferGeometry:function(){return o7},IcosahedronGeometry:function(){return Qu},ImageBitmapLoader:function(){return t3},ImageLoader:function(){return u0},ImageUtils:function(){return Pa},IncrementStencilOp:function(){return w},IncrementWrapStencilOp:function(){return ee},InstancedBufferAttribute:function(){return Ru},InstancedBufferGeometry:function(){return lh},InstancedInterleavedBuffer:function(){return R3},InstancedMesh:function(){return d9},Int16BufferAttribute:function(){return Al},Int32BufferAttribute:function(){return rc},Int8BufferAttribute:function(){return Ec},IntType:function(){return vr},InterleavedBuffer:function(){return L0},InterleavedBufferAttribute:function(){return Uc},Interpolant:function(){return s0},InterpolateDiscrete:function(){return Si},InterpolateLinear:function(){return _o},InterpolateSmooth:function(){return ps},InvertStencilOp:function(){return T},KeepStencilOp:function(){return p},KeyframeTrack:function(){return il},LOD:function(){return r9},LatheBufferGeometry:function(){return s7},LatheGeometry:function(){return Lu},Layers:function(){return oo},LessDepth:function(){return ke},LessEqualDepth:function(){return et},LessEqualStencilFunc:function(){return Q},LessStencilFunc:function(){return M},Light:function(){return wc},LightProbe:function(){return j0},Line:function(){return yc},Line3:function(){return I3},LineBasicMaterial:function(){return c1},LineCurve:function(){return V0},LineCurve3:function(){return R9},LineDashedMaterial:function(){return j9},LineLoop:function(){return C9},LineSegments:function(){return bl},LinearEncoding:function(){return Vs},LinearFilter:function(){return Jn},LinearInterpolant:function(){return u2},LinearMipMapLinearFilter:function(){return On},LinearMipMapNearestFilter:function(){return Qr},LinearMipmapLinearFilter:function(){return Xn},LinearMipmapNearestFilter:function(){return ci},LinearSRGBColorSpace:function(){return la},LinearToneMapping:function(){return Er},Loader:function(){return L1},LoaderUtils:function(){return g2},LoadingManager:function(){return d2},LoopOnce:function(){return Gn},LoopPingPong:function(){return Di},LoopRepeat:function(){return cr},LuminanceAlphaFormat:function(){return Ui},LuminanceFormat:function(){return Qo},MOUSE:function(){return he},Material:function(){return Ms},MaterialLoader:function(){return G0},MathUtils:function(){return xa},Matrix3:function(){return No},Matrix4:function(){return Yr},MaxEquation:function(){return ur},Mesh:function(){return Ls},MeshBasicMaterial:function(){return Ss},MeshDepthMaterial:function(){return Bf},MeshDistanceMaterial:function(){return Nf},MeshLambertMaterial:function(){return Z9},MeshMatcapMaterial:function(){return W9},MeshNormalMaterial:function(){return $9},MeshPhongMaterial:function(){return k9},MeshPhysicalMaterial:function(){return F9},MeshStandardMaterial:function(){return s2},MeshToonMaterial:function(){return U9},MinEquation:function(){return bn},MirroredRepeatWrapping:function(){return on},MixOperation:function(){return dr},MultiplyBlending:function(){return mn},MultiplyOperation:function(){return Cn},NearestFilter:function(){return an},NearestMipMapLinearFilter:function(){return Tr},NearestMipMapNearestFilter:function(){return ir},NearestMipmapLinearFilter:function(){return pn},NearestMipmapNearestFilter:function(){return fn},NeverDepth:function(){return ge},NeverStencilFunc:function(){return V},NoBlending:function(){return rr},NoColorSpace:function(){return _a},NoToneMapping:function(){return Mr},NormalAnimationBlendMode:function(){return Po},NormalBlending:function(){return hn},NotEqualDepth:function(){return un},NotEqualStencilFunc:function(){return mt},NumberKeyframeTrack:function(){return a0},Object3D:function(){return So},ObjectLoader:function(){return Q5},ObjectSpaceNormalMap:function(){return Ys},OctahedronBufferGeometry:function(){return a7},OctahedronGeometry:function(){return Tu},OneFactor:function(){return Ge},OneMinusDstAlphaFactor:function(){return Ne},OneMinusDstColorFactor:function(){return Ae},OneMinusSrcAlphaFactor:function(){return Ke},OneMinusSrcColorFactor:function(){return be},OrthographicCamera:function(){return zu},PCFShadowMap:function(){return Ce},PCFSoftShadowMap:function(){return Re},PMREMGenerator:function(){return x0},Path:function(){return Zu},PerspectiveCamera:function(){return Ws},Plane:function(){return ja},PlaneBufferGeometry:function(){return l7},PlaneGeometry:function(){return vl},PlaneHelper:function(){return Z3},PointLight:function(){return rh},PointLightHelper:function(){return z3},Points:function(){return x9},PointsMaterial:function(){return Wf},PolarGridHelper:function(){return V3},PolyhedronBufferGeometry:function(){return c7},PolyhedronGeometry:function(){return jl},PositionalAudio:function(){return c3},PropertyBinding:function(){return Fo},PropertyMixer:function(){return _h},QuadraticBezierCurve:function(){return Qf},QuadraticBezierCurve3:function(){return e2},Quaternion:function(){return cs},QuaternionKeyframeTrack:function(){return Pu},QuaternionLinearInterpolant:function(){return K9},RED_GREEN_RGTC2_Format:function(){return or},RED_RGTC1_Format:function(){return qt},REVISION:function(){return O},RGBADepthPacking:function(){return ea},RGBAFormat:function(){return yi},RGBAIntegerFormat:function(){return P},RGBA_ASTC_10x10_Format:function(){return qe},RGBA_ASTC_10x5_Format:function(){return Xe},RGBA_ASTC_10x6_Format:function(){return $e},RGBA_ASTC_10x8_Format:function(){return De},RGBA_ASTC_12x10_Format:function(){return ut},RGBA_ASTC_12x12_Format:function(){return it},RGBA_ASTC_4x4_Format:function(){return dt},RGBA_ASTC_5x4_Format:function(){return $},RGBA_ASTC_5x5_Format:function(){return K},RGBA_ASTC_6x5_Format:function(){return X},RGBA_ASTC_6x6_Format:function(){return W},RGBA_ASTC_8x5_Format:function(){return ve},RGBA_ASTC_8x6_Format:function(){return je},RGBA_ASTC_8x8_Format:function(){return nt},RGBA_BPTC_Format:function(){return bt},RGBA_ETC2_EAC_Format:function(){return ht},RGBA_PVRTC_2BPPV1_Format:function(){return Me},RGBA_PVRTC_4BPPV1_Format:function(){return Ue},RGBA_S3TC_DXT1_Format:function(){return ce},RGBA_S3TC_DXT3_Format:function(){return He},RGBA_S3TC_DXT5_Format:function(){return pe},RGB_ETC1_Format:function(){return Ve},RGB_ETC2_Format:function(){return lt},RGB_PVRTC_2BPPV1_Format:function(){return de},RGB_PVRTC_4BPPV1_Format:function(){return Se},RGB_S3TC_DXT1_Format:function(){return ie},RGFormat:function(){return I},RGIntegerFormat:function(){return E},RawShaderMaterial:function(){return V9},Ray:function(){return Wo},Raycaster:function(){return E3},RectAreaLight:function(){return sh},RedFormat:function(){return go},RedIntegerFormat:function(){return Pe},ReinhardToneMapping:function(){return Wn},RepeatWrapping:function(){return Ht},ReplaceStencilOp:function(){return g},ReverseSubtractEquation:function(){return wn},RingBufferGeometry:function(){return u7},RingGeometry:function(){return e0},SIGNED_RED_GREEN_RGTC2_Format:function(){return Qn},SIGNED_RED_RGTC1_Format:function(){return gn},SRGBColorSpace:function(){return Ko},Scene:function(){return Jd},ShaderChunk:function(){return so},ShaderLib:function(){return V1},ShaderMaterial:function(){return o1},ShadowMaterial:function(){return N9},Shape:function(){return Zc},ShapeBufferGeometry:function(){return f7},ShapeGeometry:function(){return t0},ShapePath:function(){return G3},ShapeUtils:function(){return Ml},ShortType:function(){return qi},Skeleton:function(){return I0},SkeletonHelper:function(){return D3},SkinnedMesh:function(){return l9},Source:function(){return wo},Sphere:function(){return Fn},SphereBufferGeometry:function(){return d7},SphereGeometry:function(){return Au},Spherical:function(){return T3},SphericalHarmonics3:function(){return ah},SplineCurve:function(){return t2},SpotLight:function(){return th},SpotLightHelper:function(){return O3},Sprite:function(){return t9},SpriteMaterial:function(){return kf},SrcAlphaFactor:function(){return It},SrcAlphaSaturateFactor:function(){return Ze},SrcColorFactor:function(){return gt},StaticCopyUsage:function(){return Ln},StaticDrawUsage:function(){return vt},StaticReadUsage:function(){return ln},StereoCamera:function(){return o3},StreamCopyUsage:function(){return xn},StreamDrawUsage:function(){return Un},StreamReadUsage:function(){return Dn},StringKeyframeTrack:function(){return Xc},SubtractEquation:function(){return tr},SubtractiveBlending:function(){return jt},TOUCH:function(){return U},TangentSpaceNormalMap:function(){return Ci},TetrahedronBufferGeometry:function(){return h7},TetrahedronGeometry:function(){return n0},Texture:function(){return to},TextureLoader:function(){return Y5},TorusBufferGeometry:function(){return p7},TorusGeometry:function(){return r0},TorusKnotBufferGeometry:function(){return m7},TorusKnotGeometry:function(){return i0},Triangle:function(){return na},TriangleFanDrawMode:function(){return Ea},TriangleStripDrawMode:function(){return Va},TrianglesDrawMode:function(){return Ps},TubeBufferGeometry:function(){return g7},TubeGeometry:function(){return o0},TwoPassDoubleSide:function(){return oe},UVMapping:function(){return Or},Uint16BufferAttribute:function(){return nc},Uint32BufferAttribute:function(){return Pl},Uint8BufferAttribute:function(){return ou},Uint8ClampedBufferAttribute:function(){return tc},Uniform:function(){return x2},UniformsGroup:function(){return S3},UniformsLib:function(){return Rr},UniformsUtils:function(){return sc},UnsignedByteType:function(){return si},UnsignedInt248Type:function(){return Xr},UnsignedIntType:function(){return oi},UnsignedShort4444Type:function(){return Pn},UnsignedShort5551Type:function(){return Dr},UnsignedShortType:function(){return Ti},VSMShadowMap:function(){return ot},Vector2:function(){return Nt},Vector3:function(){return we},Vector4:function(){return hi},VectorKeyframeTrack:function(){return l0},VideoTexture:function(){return l5},WebGL1Renderer:function(){return Kd},WebGL3DRenderTarget:function(){return bo},WebGLArrayRenderTarget:function(){return Ma},WebGLCubeRenderTarget:function(){return Oa},WebGLMultipleRenderTargets:function(){return $a},WebGLRenderTarget:function(){return Do},WebGLRenderer:function(){return Ff},WebGLUtils:function(){return Gd},WireframeGeometry:function(){return z9},WrapAroundEnding:function(){return vs},ZeroCurvatureEnding:function(){return Lo},ZeroFactor:function(){return qn},ZeroSlopeEnding:function(){return ao},ZeroStencilOp:function(){return xo},_SRGBAFormat:function(){return Ar},sRGBEncoding:function(){return zi}});const O="150",he={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},U={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},rt=0,Ct=1,At=2,ye=3,kt=0,Ce=1,Re=2,ot=3,_e=0,yt=1,Rt=2,oe=2,rr=0,hn=1,An=2,jt=3,mn=4,yr=5,Zn=100,tr=101,wn=102,bn=103,ur=104,qn=200,Ge=201,gt=202,be=203,It=204,Ke=205,We=206,Ne=207,Y=208,Ae=209,Ze=210,ge=0,Be=1,ke=2,et=3,wt=4,Vt=5,nn=6,un=7,Cn=0,dr=1,lr=2,Mr=0,Er=1,Wn=2,Nn=3,Nr=4,ti=5,Or=300,Jr=301,zr=302,gi=303,qr=304,Ii=306,Ht=1e3,Gt=1001,on=1002,an=1003,fn=1004,ir=1004,pn=1005,Tr=1005,Jn=1006,ci=1007,Qr=1007,Xn=1008,On=1008,si=1009,Oi=1010,qi=1011,Ti=1012,vr=1013,oi=1014,tt=1015,Xt=1016,Pn=1017,Dr=1018,Xr=1020,Fi=1021,yi=1023,Qo=1024,Ui=1025,ki=1026,wi=1027,go=1028,Pe=1029,I=1030,E=1031,P=1033,ie=33776,ce=33777,He=33778,pe=33779,Se=35840,de=35841,Ue=35842,Me=35843,Ve=36196,lt=37492,ht=37496,dt=37808,$=37809,K=37810,X=37811,W=37812,ve=37813,je=37814,nt=37815,Xe=37816,$e=37817,De=37818,qe=37819,ut=37820,it=37821,bt=36492,qt=36283,gn=36284,or=36285,Qn=36286,Gn=2200,cr=2201,Di=2202,Si=2300,_o=2301,ps=2302,Lo=2400,ao=2401,vs=2402,Po=2500,ls=2501,Ps=0,Va=1,Ea=2,Vs=3e3,zi=3001,Cs=3200,ea=3201,Ci=0,Ys=1,_a="",Ko="srgb",la="srgb-linear",Ks="display-p3",xo=0,p=7680,g=7681,w=7682,D=7683,ee=34055,ne=34056,T=5386,V=512,M=513,H=514,Q=515,Te=516,mt=517,St=518,Ut=519,vt=35044,$t=35048,Un=35040,ln=35045,Pt=35049,Dn=35041,Ln=35046,zn=35050,xn=35042,rn="100",$n="300 es",Ar=1035;class Kn{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let o=0,a=r.length;o<a;o++)r[o].call(this,e);e.target=null}}}const Sr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let di=1234567;const ni=Math.PI/180,Ri=180/Math.PI;function Hi(){const c=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Sr[c&255]+Sr[c>>8&255]+Sr[c>>16&255]+Sr[c>>24&255]+"-"+Sr[e&255]+Sr[e>>8&255]+"-"+Sr[e>>16&15|64]+Sr[e>>24&255]+"-"+Sr[t&63|128]+Sr[t>>8&255]+"-"+Sr[t>>16&255]+Sr[t>>24&255]+Sr[n&255]+Sr[n>>8&255]+Sr[n>>16&255]+Sr[n>>24&255]).toLowerCase()}function Cr(c,e,t){return Math.max(e,Math.min(t,c))}function Yi(c,e){return(c%e+e)%e}function uo(c,e,t,n,r){return n+(c-e)*(r-n)/(t-e)}function ko(c,e,t){return c!==e?(t-c)/(e-c):0}function Eo(c,e,t){return(1-t)*c+t*e}function vo(c,e,t,n){return Eo(c,e,1-Math.exp(-t*n))}function qo(c,e=1){return e-Math.abs(Yi(c,e*2)-e)}function Uo(c,e,t){return c<=e?0:c>=t?1:(c=(c-e)/(t-e),c*c*(3-2*c))}function $o(c,e,t){return c<=e?0:c>=t?1:(c=(c-e)/(t-e),c*c*c*(c*(c*6-15)+10))}function Bi(c,e){return c+Math.floor(Math.random()*(e-c+1))}function Fs(c,e){return c+Math.random()*(e-c)}function Is(c){return c*(.5-Math.random())}function n1(c){c!==void 0&&(di=c);let e=di+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function rs(c){return c*ni}function ta(c){return c*Ri}function Os(c){return(c&c-1)===0&&c!==0}function Fa(c){return Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))}function Oo(c){return Math.pow(2,Math.floor(Math.log(c)/Math.LN2))}function _s(c,e,t,n,r){const o=Math.cos,a=Math.sin,l=o(t/2),f=a(t/2),h=o((e+n)/2),v=a((e+n)/2),_=o((e-n)/2),C=a((e-n)/2),y=o((n-e)/2),L=a((n-e)/2);switch(r){case"XYX":c.set(l*v,f*_,f*C,l*h);break;case"YZY":c.set(f*C,l*v,f*_,l*h);break;case"ZXZ":c.set(f*_,f*C,l*v,l*h);break;case"XZX":c.set(l*v,f*L,f*y,l*h);break;case"YXY":c.set(f*y,l*v,f*L,l*h);break;case"ZYZ":c.set(f*L,f*y,l*v,l*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function es(c,e){switch(e.constructor){case Float32Array:return c;case Uint16Array:return c/65535;case Uint8Array:return c/255;case Int16Array:return Math.max(c/32767,-1);case Int8Array:return Math.max(c/127,-1);default:throw new Error("Invalid component type.")}}function Ki(c,e){switch(e.constructor){case Float32Array:return c;case Uint16Array:return Math.round(c*65535);case Uint8Array:return Math.round(c*255);case Int16Array:return Math.round(c*32767);case Int8Array:return Math.round(c*127);default:throw new Error("Invalid component type.")}}const xa={DEG2RAD:ni,RAD2DEG:Ri,generateUUID:Hi,clamp:Cr,euclideanModulo:Yi,mapLinear:uo,inverseLerp:ko,lerp:Eo,damp:vo,pingpong:qo,smoothstep:Uo,smootherstep:$o,randInt:Bi,randFloat:Fs,randFloatSpread:Is,seededRandom:n1,degToRad:rs,radToDeg:ta,isPowerOfTwo:Os,ceilPowerOfTwo:Fa,floorPowerOfTwo:Oo,setQuaternionFromProperEuler:_s,normalize:Ki,denormalize:es};class Nt{constructor(e=0,t=0){Nt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),o=this.x-e.x,a=this.y-e.y;return this.x=o*n-a*r+e.x,this.y=o*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class No{constructor(){No.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,r,o,a,l,f,h){const v=this.elements;return v[0]=e,v[1]=r,v[2]=l,v[3]=t,v[4]=o,v[5]=f,v[6]=n,v[7]=a,v[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,a=n[0],l=n[3],f=n[6],h=n[1],v=n[4],_=n[7],C=n[2],y=n[5],L=n[8],S=r[0],R=r[3],k=r[6],Z=r[1],B=r[4],j=r[7],xe=r[2],Ie=r[5],Je=r[8];return o[0]=a*S+l*Z+f*xe,o[3]=a*R+l*B+f*Ie,o[6]=a*k+l*j+f*Je,o[1]=h*S+v*Z+_*xe,o[4]=h*R+v*B+_*Ie,o[7]=h*k+v*j+_*Je,o[2]=C*S+y*Z+L*xe,o[5]=C*R+y*B+L*Ie,o[8]=C*k+y*j+L*Je,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],a=e[4],l=e[5],f=e[6],h=e[7],v=e[8];return t*a*v-t*l*h-n*o*v+n*l*f+r*o*h-r*a*f}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],a=e[4],l=e[5],f=e[6],h=e[7],v=e[8],_=v*a-l*h,C=l*f-v*o,y=h*o-a*f,L=t*_+n*C+r*y;if(L===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/L;return e[0]=_*S,e[1]=(r*h-v*n)*S,e[2]=(l*n-r*a)*S,e[3]=C*S,e[4]=(v*t-r*f)*S,e[5]=(r*o-l*t)*S,e[6]=y*S,e[7]=(n*f-h*t)*S,e[8]=(a*t-n*o)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,o,a,l){const f=Math.cos(o),h=Math.sin(o);return this.set(n*f,n*h,-n*(f*a+h*l)+a+e,-r*h,r*f,-r*(-h*a+f*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(ka.makeScale(e,t)),this}rotate(e){return this.premultiply(ka.makeRotation(-e)),this}translate(e,t){return this.premultiply(ka.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const ka=new No;function Ya(c){for(let e=c.length-1;e>=0;--e)if(c[e]>=65535)return!0;return!1}const Ds={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function is(c,e){return new Ds[c](e)}function lo(c){return document.createElementNS("http://www.w3.org/1999/xhtml",c)}class cs{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,o,a,l){let f=n[r+0],h=n[r+1],v=n[r+2],_=n[r+3];const C=o[a+0],y=o[a+1],L=o[a+2],S=o[a+3];if(l===0){e[t+0]=f,e[t+1]=h,e[t+2]=v,e[t+3]=_;return}if(l===1){e[t+0]=C,e[t+1]=y,e[t+2]=L,e[t+3]=S;return}if(_!==S||f!==C||h!==y||v!==L){let R=1-l;const k=f*C+h*y+v*L+_*S,Z=k>=0?1:-1,B=1-k*k;if(B>Number.EPSILON){const xe=Math.sqrt(B),Ie=Math.atan2(xe,k*Z);R=Math.sin(R*Ie)/xe,l=Math.sin(l*Ie)/xe}const j=l*Z;if(f=f*R+C*j,h=h*R+y*j,v=v*R+L*j,_=_*R+S*j,R===1-l){const xe=1/Math.sqrt(f*f+h*h+v*v+_*_);f*=xe,h*=xe,v*=xe,_*=xe}}e[t]=f,e[t+1]=h,e[t+2]=v,e[t+3]=_}static multiplyQuaternionsFlat(e,t,n,r,o,a){const l=n[r],f=n[r+1],h=n[r+2],v=n[r+3],_=o[a],C=o[a+1],y=o[a+2],L=o[a+3];return e[t]=l*L+v*_+f*y-h*C,e[t+1]=f*L+v*C+h*_-l*y,e[t+2]=h*L+v*y+l*C-f*_,e[t+3]=v*L-l*_-f*C-h*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,r=e._y,o=e._z,a=e._order,l=Math.cos,f=Math.sin,h=l(n/2),v=l(r/2),_=l(o/2),C=f(n/2),y=f(r/2),L=f(o/2);switch(a){case"XYZ":this._x=C*v*_+h*y*L,this._y=h*y*_-C*v*L,this._z=h*v*L+C*y*_,this._w=h*v*_-C*y*L;break;case"YXZ":this._x=C*v*_+h*y*L,this._y=h*y*_-C*v*L,this._z=h*v*L-C*y*_,this._w=h*v*_+C*y*L;break;case"ZXY":this._x=C*v*_-h*y*L,this._y=h*y*_+C*v*L,this._z=h*v*L+C*y*_,this._w=h*v*_-C*y*L;break;case"ZYX":this._x=C*v*_-h*y*L,this._y=h*y*_+C*v*L,this._z=h*v*L-C*y*_,this._w=h*v*_+C*y*L;break;case"YZX":this._x=C*v*_+h*y*L,this._y=h*y*_+C*v*L,this._z=h*v*L-C*y*_,this._w=h*v*_-C*y*L;break;case"XZY":this._x=C*v*_-h*y*L,this._y=h*y*_-C*v*L,this._z=h*v*L+C*y*_,this._w=h*v*_+C*y*L;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],o=t[8],a=t[1],l=t[5],f=t[9],h=t[2],v=t[6],_=t[10],C=n+l+_;if(C>0){const y=.5/Math.sqrt(C+1);this._w=.25/y,this._x=(v-f)*y,this._y=(o-h)*y,this._z=(a-r)*y}else if(n>l&&n>_){const y=2*Math.sqrt(1+n-l-_);this._w=(v-f)/y,this._x=.25*y,this._y=(r+a)/y,this._z=(o+h)/y}else if(l>_){const y=2*Math.sqrt(1+l-n-_);this._w=(o-h)/y,this._x=(r+a)/y,this._y=.25*y,this._z=(f+v)/y}else{const y=2*Math.sqrt(1+_-n-l);this._w=(a-r)/y,this._x=(o+h)/y,this._y=(f+v)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Cr(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,o=e._z,a=e._w,l=t._x,f=t._y,h=t._z,v=t._w;return this._x=n*v+a*l+r*h-o*f,this._y=r*v+a*f+o*l-n*h,this._z=o*v+a*h+n*f-r*l,this._w=a*v-n*l-r*f-o*h,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,o=this._z,a=this._w;let l=a*e._w+n*e._x+r*e._y+o*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=n,this._y=r,this._z=o,this;const f=1-l*l;if(f<=Number.EPSILON){const y=1-t;return this._w=y*a+t*this._w,this._x=y*n+t*this._x,this._y=y*r+t*this._y,this._z=y*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const h=Math.sqrt(f),v=Math.atan2(h,l),_=Math.sin((1-t)*v)/h,C=Math.sin(t*v)/h;return this._w=a*_+this._w*C,this._x=n*_+this._x*C,this._y=r*_+this._y*C,this._z=o*_+this._z*C,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(o),n*Math.cos(o),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class we{constructor(e=0,t=0,n=0){we.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(ya.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ya.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[3]*n+o[6]*r,this.y=o[1]*t+o[4]*n+o[7]*r,this.z=o[2]*t+o[5]*n+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=e.elements,a=1/(o[3]*t+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*t+o[4]*n+o[8]*r+o[12])*a,this.y=(o[1]*t+o[5]*n+o[9]*r+o[13])*a,this.z=(o[2]*t+o[6]*n+o[10]*r+o[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,o=e.x,a=e.y,l=e.z,f=e.w,h=f*t+a*r-l*n,v=f*n+l*t-o*r,_=f*r+o*n-a*t,C=-o*t-a*n-l*r;return this.x=h*f+C*-o+v*-l-_*-a,this.y=v*f+C*-a+_*-o-h*-l,this.z=_*f+C*-l+h*-a-v*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r,this.y=o[1]*t+o[5]*n+o[9]*r,this.z=o[2]*t+o[6]*n+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,o=e.z,a=t.x,l=t.y,f=t.z;return this.x=r*f-o*l,this.y=o*a-n*f,this.z=n*l-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Ta.copy(this).projectOnVector(e),this.sub(Ta)}reflect(e){return this.sub(Ta.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Cr(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-Mc(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ta=new we,ya=new cs;function Aa(c){return c<.04045?c*.0773993808:Math.pow(c*.9478672986+.0521327014,2.4)}function Js(c){return c<.0031308?c*12.92:1.055*Math.pow(c,.41666)-.055}const U1=new No().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Ua=new No().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),yo=new we;function wa(c){return c.convertSRGBToLinear(),yo.set(c.r,c.g,c.b).applyMatrix3(Ua),c.setRGB(yo.x,yo.y,yo.z)}function ba(c){return yo.set(c.r,c.g,c.b).applyMatrix3(U1),c.setRGB(yo.x,yo.y,yo.z).convertLinearToSRGB()}const zs={[la]:c=>c,[Ko]:c=>c.convertSRGBToLinear(),[Ks]:wa},Wi={[la]:c=>c,[Ko]:c=>c.convertLinearToSRGB(),[Ks]:ba},os={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(c){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!c},get workingColorSpace(){return la},set workingColorSpace(c){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(c,e,t){if(this.enabled===!1||e===t||!e||!t)return c;const n=zs[e],r=Wi[t];if(n===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(n(c))},fromWorkingColorSpace:function(c,e){return this.convert(c,this.workingColorSpace,e)},toWorkingColorSpace:function(c,e){return this.convert(c,e,this.workingColorSpace)}};let pr;class Pa{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{pr===void 0&&(pr=lo("canvas")),pr.width=e.width,pr.height=e.height;const n=pr.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=pr}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const t=lo("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),o=r.data;for(let a=0;a<o.length;a++)o[a]=Aa(o[a]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Aa(t[n]/255)*255):t[n]=Aa(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class wo{constructor(e=null){this.isSource=!0,this.uuid=Hi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let o;if(Array.isArray(r)){o=[];for(let a=0,l=r.length;a<l;a++)r[a].isDataTexture?o.push(Io(r[a].image)):o.push(Io(r[a]))}else o=Io(r);n.url=o}return t||(e.images[this.uuid]=n),n}}function Io(c){return typeof HTMLImageElement!="undefined"&&c instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&c instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&c instanceof ImageBitmap?Pa.getDataURL(c):c.data?{data:Array.from(c.data),width:c.width,height:c.height,type:c.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let us=0;class to extends Kn{constructor(e=to.DEFAULT_IMAGE,t=to.DEFAULT_MAPPING,n=Gt,r=Gt,o=Jn,a=Xn,l=yi,f=si,h=to.DEFAULT_ANISOTROPY,v=Vs){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:us++}),this.uuid=Hi(),this.name="",this.source=new wo(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=r,this.magFilter=o,this.minFilter=a,this.anisotropy=h,this.format=l,this.internalFormat=null,this.type=f,this.offset=new Nt(0,0),this.repeat=new Nt(1,1),this.center=new Nt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new No,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=v,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Or)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ht:e.x=e.x-Math.floor(e.x);break;case Gt:e.x=e.x<0?0:1;break;case on:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ht:e.y=e.y-Math.floor(e.y);break;case Gt:e.y=e.y<0?0:1;break;case on:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}to.DEFAULT_IMAGE=null,to.DEFAULT_MAPPING=Or,to.DEFAULT_ANISOTROPY=1;class hi{constructor(e=0,t=0,n=0,r=1){hi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*o,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*o,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*o,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,o;const f=e.elements,h=f[0],v=f[4],_=f[8],C=f[1],y=f[5],L=f[9],S=f[2],R=f[6],k=f[10];if(Math.abs(v-C)<.01&&Math.abs(_-S)<.01&&Math.abs(L-R)<.01){if(Math.abs(v+C)<.1&&Math.abs(_+S)<.1&&Math.abs(L+R)<.1&&Math.abs(h+y+k-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const B=(h+1)/2,j=(y+1)/2,xe=(k+1)/2,Ie=(v+C)/4,Je=(_+S)/4,G=(L+R)/4;return B>j&&B>xe?B<.01?(n=0,r=.707106781,o=.707106781):(n=Math.sqrt(B),r=Ie/n,o=Je/n):j>xe?j<.01?(n=.707106781,r=0,o=.707106781):(r=Math.sqrt(j),n=Ie/r,o=G/r):xe<.01?(n=.707106781,r=.707106781,o=0):(o=Math.sqrt(xe),n=Je/o,r=G/o),this.set(n,r,o,t),this}let Z=Math.sqrt((R-L)*(R-L)+(_-S)*(_-S)+(C-v)*(C-v));return Math.abs(Z)<.001&&(Z=1),this.x=(R-L)/Z,this.y=(_-S)/Z,this.z=(C-v)/Z,this.w=Math.acos((h+y+k-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Do extends Kn{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new hi(0,0,e,t),this.scissorTest=!1,this.viewport=new hi(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new to(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Jn,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null,this.samples=n.samples!==void 0?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new wo(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class fs extends to{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=an,this.minFilter=an,this.wrapR=Gt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ma extends Do{constructor(e=1,t=1,n=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new fs(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Hs extends to{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=an,this.minFilter=an,this.wrapR=Gt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bo extends Do{constructor(e=1,t=1,n=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new Hs(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class $a extends Do{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let a=0;a<n;a++)this.texture[a]=o.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,o=this.texture.length;r<o;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class xs{constructor(e=new we(1/0,1/0,1/0),t=new we(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,r=1/0,o=-1/0,a=-1/0,l=-1/0;for(let f=0,h=e.length;f<h;f+=3){const v=e[f],_=e[f+1],C=e[f+2];v<t&&(t=v),_<n&&(n=_),C<r&&(r=C),v>o&&(o=v),_>a&&(a=_),C>l&&(l=C)}return this.min.set(t,n,r),this.max.set(o,a,l),this}setFromBufferAttribute(e){let t=1/0,n=1/0,r=1/0,o=-1/0,a=-1/0,l=-1/0;for(let f=0,h=e.count;f<h;f++){const v=e.getX(f),_=e.getY(f),C=e.getZ(f);v<t&&(t=v),_<n&&(n=_),C<r&&(r=C),v>o&&(o=v),_>a&&(a=_),C>l&&(l=C)}return this.min.set(t,n,r),this.max.set(o,a,l),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Us.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0)if(t&&n.attributes!=null&&n.attributes.position!==void 0){const o=n.attributes.position;for(let a=0,l=o.count;a<l;a++)Us.fromBufferAttribute(o,a).applyMatrix4(e.matrixWorld),this.expandByPoint(Us)}else n.boundingBox===null&&n.computeBoundingBox(),Zo.copy(n.boundingBox),Zo.applyMatrix4(e.matrixWorld),this.union(Zo);const r=e.children;for(let o=0,a=r.length;o<a;o++)this.expandByObject(r[o],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Us),Us.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Mt),Ft.subVectors(this.max,Mt),ui.subVectors(e.a,Mt),fo.subVectors(e.b,Mt),ts.subVectors(e.c,Mt),N.subVectors(fo,ui),le.subVectors(ts,fo),Ye.subVectors(ui,ts);let t=[0,-N.z,N.y,0,-le.z,le.y,0,-Ye.z,Ye.y,N.z,0,-N.x,le.z,0,-le.x,Ye.z,0,-Ye.x,-N.y,N.x,0,-le.y,le.x,0,-Ye.y,Ye.x,0];return!Rn(t,ui,fo,ts,Ft)||(t=[1,0,0,0,1,0,0,0,1],!Rn(t,ui,fo,ts,Ft))?!1:(Tt.crossVectors(N,le),t=[Tt.x,Tt.y,Tt.z],Rn(t,ui,fo,ts,Ft))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Us).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Us).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ks[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ks[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ks[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ks[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ks[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ks[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ks[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ks[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ks),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ks=[new we,new we,new we,new we,new we,new we,new we,new we],Us=new we,Zo=new xs,ui=new we,fo=new we,ts=new we,N=new we,le=new we,Ye=new we,Mt=new we,Ft=new we,Tt=new we,Hn=new we;function Rn(c,e,t,n,r){for(let o=0,a=c.length-3;o<=a;o+=3){Hn.fromArray(c,o);const l=r.x*Math.abs(Hn.x)+r.y*Math.abs(Hn.y)+r.z*Math.abs(Hn.z),f=e.dot(Hn),h=t.dot(Hn),v=n.dot(Hn);if(Math.max(-Math.max(f,h,v),Math.min(f,h,v))>l)return!1}return!0}const sr=new xs,kn=new we,Vn=new we;class Fn{constructor(e=new we,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):sr.setFromPoints(e).getCenter(n);let r=0;for(let o=0,a=e.length;o<a;o++)r=Math.max(r,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;kn.subVectors(e,this.center);const t=kn.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(kn,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Vn.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(kn.copy(e.center).add(Vn)),this.expandByPoint(kn.copy(e.center).sub(Vn))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ro=new we,$r=new we,Zr=new we,pi=new we,$i=new we,Mo=new we,ho=new we;class Wo{constructor(e=new we,t=new we(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ro)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ro.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ro.copy(this.origin).addScaledVector(this.direction,t),ro.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){$r.copy(e).add(t).multiplyScalar(.5),Zr.copy(t).sub(e).normalize(),pi.copy(this.origin).sub($r);const o=e.distanceTo(t)*.5,a=-this.direction.dot(Zr),l=pi.dot(this.direction),f=-pi.dot(Zr),h=pi.lengthSq(),v=Math.abs(1-a*a);let _,C,y,L;if(v>0)if(_=a*f-l,C=a*l-f,L=o*v,_>=0)if(C>=-L)if(C<=L){const S=1/v;_*=S,C*=S,y=_*(_+a*C+2*l)+C*(a*_+C+2*f)+h}else C=o,_=Math.max(0,-(a*C+l)),y=-_*_+C*(C+2*f)+h;else C=-o,_=Math.max(0,-(a*C+l)),y=-_*_+C*(C+2*f)+h;else C<=-L?(_=Math.max(0,-(-a*o+l)),C=_>0?-o:Math.min(Math.max(-o,-f),o),y=-_*_+C*(C+2*f)+h):C<=L?(_=0,C=Math.min(Math.max(-o,-f),o),y=C*(C+2*f)+h):(_=Math.max(0,-(a*o+l)),C=_>0?o:Math.min(Math.max(-o,-f),o),y=-_*_+C*(C+2*f)+h);else C=a>0?-o:o,_=Math.max(0,-(a*C+l)),y=-_*_+C*(C+2*f)+h;return n&&n.copy(this.origin).addScaledVector(this.direction,_),r&&r.copy($r).addScaledVector(Zr,C),y}intersectSphere(e,t){ro.subVectors(e.center,this.origin);const n=ro.dot(this.direction),r=ro.dot(ro)-n*n,o=e.radius*e.radius;if(r>o)return null;const a=Math.sqrt(o-r),l=n-a,f=n+a;return f<0?null:l<0?this.at(f,t):this.at(l,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,o,a,l,f;const h=1/this.direction.x,v=1/this.direction.y,_=1/this.direction.z,C=this.origin;return h>=0?(n=(e.min.x-C.x)*h,r=(e.max.x-C.x)*h):(n=(e.max.x-C.x)*h,r=(e.min.x-C.x)*h),v>=0?(o=(e.min.y-C.y)*v,a=(e.max.y-C.y)*v):(o=(e.max.y-C.y)*v,a=(e.min.y-C.y)*v),n>a||o>r||((o>n||isNaN(n))&&(n=o),(a<r||isNaN(r))&&(r=a),_>=0?(l=(e.min.z-C.z)*_,f=(e.max.z-C.z)*_):(l=(e.max.z-C.z)*_,f=(e.min.z-C.z)*_),n>f||l>r)||((l>n||n!==n)&&(n=l),(f<r||r!==r)&&(r=f),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,ro)!==null}intersectTriangle(e,t,n,r,o){$i.subVectors(t,e),Mo.subVectors(n,e),ho.crossVectors($i,Mo);let a=this.direction.dot(ho),l;if(a>0){if(r)return null;l=1}else if(a<0)l=-1,a=-a;else return null;pi.subVectors(this.origin,e);const f=l*this.direction.dot(Mo.crossVectors(pi,Mo));if(f<0)return null;const h=l*this.direction.dot($i.cross(pi));if(h<0||f+h>a)return null;const v=-l*pi.dot(ho);return v<0?null:this.at(v/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Yr{constructor(){Yr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,r,o,a,l,f,h,v,_,C,y,L,S,R){const k=this.elements;return k[0]=e,k[4]=t,k[8]=n,k[12]=r,k[1]=o,k[5]=a,k[9]=l,k[13]=f,k[2]=h,k[6]=v,k[10]=_,k[14]=C,k[3]=y,k[7]=L,k[11]=S,k[15]=R,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Yr().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/no.setFromMatrixColumn(e,0).length(),o=1/no.setFromMatrixColumn(e,1).length(),a=1/no.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,o=e.z,a=Math.cos(n),l=Math.sin(n),f=Math.cos(r),h=Math.sin(r),v=Math.cos(o),_=Math.sin(o);if(e.order==="XYZ"){const C=a*v,y=a*_,L=l*v,S=l*_;t[0]=f*v,t[4]=-f*_,t[8]=h,t[1]=y+L*h,t[5]=C-S*h,t[9]=-l*f,t[2]=S-C*h,t[6]=L+y*h,t[10]=a*f}else if(e.order==="YXZ"){const C=f*v,y=f*_,L=h*v,S=h*_;t[0]=C+S*l,t[4]=L*l-y,t[8]=a*h,t[1]=a*_,t[5]=a*v,t[9]=-l,t[2]=y*l-L,t[6]=S+C*l,t[10]=a*f}else if(e.order==="ZXY"){const C=f*v,y=f*_,L=h*v,S=h*_;t[0]=C-S*l,t[4]=-a*_,t[8]=L+y*l,t[1]=y+L*l,t[5]=a*v,t[9]=S-C*l,t[2]=-a*h,t[6]=l,t[10]=a*f}else if(e.order==="ZYX"){const C=a*v,y=a*_,L=l*v,S=l*_;t[0]=f*v,t[4]=L*h-y,t[8]=C*h+S,t[1]=f*_,t[5]=S*h+C,t[9]=y*h-L,t[2]=-h,t[6]=l*f,t[10]=a*f}else if(e.order==="YZX"){const C=a*f,y=a*h,L=l*f,S=l*h;t[0]=f*v,t[4]=S-C*_,t[8]=L*_+y,t[1]=_,t[5]=a*v,t[9]=-l*v,t[2]=-h*v,t[6]=y*_+L,t[10]=C-S*_}else if(e.order==="XZY"){const C=a*f,y=a*h,L=l*f,S=l*h;t[0]=f*v,t[4]=-_,t[8]=h*v,t[1]=C*_+S,t[5]=a*v,t[9]=y*_-L,t[2]=L*_-y,t[6]=l*v,t[10]=S*_+C}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(io,e,ss)}lookAt(e,t,n){const r=this.elements;return jo.subVectors(e,t),jo.lengthSq()===0&&(jo.z=1),jo.normalize(),ys.crossVectors(n,jo),ys.lengthSq()===0&&(Math.abs(n.z)===1?jo.x+=1e-4:jo.z+=1e-4,jo.normalize(),ys.crossVectors(n,jo)),ys.normalize(),Sa.crossVectors(jo,ys),r[0]=ys.x,r[4]=Sa.x,r[8]=jo.x,r[1]=ys.y,r[5]=Sa.y,r[9]=jo.y,r[2]=ys.z,r[6]=Sa.z,r[10]=jo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,a=n[0],l=n[4],f=n[8],h=n[12],v=n[1],_=n[5],C=n[9],y=n[13],L=n[2],S=n[6],R=n[10],k=n[14],Z=n[3],B=n[7],j=n[11],xe=n[15],Ie=r[0],Je=r[4],G=r[8],Le=r[12],st=r[1],Zt=r[5],Mn=r[9],Bt=r[13],xt=r[2],en=r[6],Bn=r[10],fr=r[14],_n=r[3],jn=r[7],ar=r[11],Wr=r[15];return o[0]=a*Ie+l*st+f*xt+h*_n,o[4]=a*Je+l*Zt+f*en+h*jn,o[8]=a*G+l*Mn+f*Bn+h*ar,o[12]=a*Le+l*Bt+f*fr+h*Wr,o[1]=v*Ie+_*st+C*xt+y*_n,o[5]=v*Je+_*Zt+C*en+y*jn,o[9]=v*G+_*Mn+C*Bn+y*ar,o[13]=v*Le+_*Bt+C*fr+y*Wr,o[2]=L*Ie+S*st+R*xt+k*_n,o[6]=L*Je+S*Zt+R*en+k*jn,o[10]=L*G+S*Mn+R*Bn+k*ar,o[14]=L*Le+S*Bt+R*fr+k*Wr,o[3]=Z*Ie+B*st+j*xt+xe*_n,o[7]=Z*Je+B*Zt+j*en+xe*jn,o[11]=Z*G+B*Mn+j*Bn+xe*ar,o[15]=Z*Le+B*Bt+j*fr+xe*Wr,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],o=e[12],a=e[1],l=e[5],f=e[9],h=e[13],v=e[2],_=e[6],C=e[10],y=e[14],L=e[3],S=e[7],R=e[11],k=e[15];return L*(+o*f*_-r*h*_-o*l*C+n*h*C+r*l*y-n*f*y)+S*(+t*f*y-t*h*C+o*a*C-r*a*y+r*h*v-o*f*v)+R*(+t*h*_-t*l*y-o*a*_+n*a*y+o*l*v-n*h*v)+k*(-r*l*v-t*f*_+t*l*C+r*a*_-n*a*C+n*f*v)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],a=e[4],l=e[5],f=e[6],h=e[7],v=e[8],_=e[9],C=e[10],y=e[11],L=e[12],S=e[13],R=e[14],k=e[15],Z=_*R*h-S*C*h+S*f*y-l*R*y-_*f*k+l*C*k,B=L*C*h-v*R*h-L*f*y+a*R*y+v*f*k-a*C*k,j=v*S*h-L*_*h+L*l*y-a*S*y-v*l*k+a*_*k,xe=L*_*f-v*S*f-L*l*C+a*S*C+v*l*R-a*_*R,Ie=t*Z+n*B+r*j+o*xe;if(Ie===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Je=1/Ie;return e[0]=Z*Je,e[1]=(S*C*o-_*R*o-S*r*y+n*R*y+_*r*k-n*C*k)*Je,e[2]=(l*R*o-S*f*o+S*r*h-n*R*h-l*r*k+n*f*k)*Je,e[3]=(_*f*o-l*C*o-_*r*h+n*C*h+l*r*y-n*f*y)*Je,e[4]=B*Je,e[5]=(v*R*o-L*C*o+L*r*y-t*R*y-v*r*k+t*C*k)*Je,e[6]=(L*f*o-a*R*o-L*r*h+t*R*h+a*r*k-t*f*k)*Je,e[7]=(a*C*o-v*f*o+v*r*h-t*C*h-a*r*y+t*f*y)*Je,e[8]=j*Je,e[9]=(L*_*o-v*S*o-L*n*y+t*S*y+v*n*k-t*_*k)*Je,e[10]=(a*S*o-L*l*o+L*n*h-t*S*h-a*n*k+t*l*k)*Je,e[11]=(v*l*o-a*_*o-v*n*h+t*_*h+a*n*y-t*l*y)*Je,e[12]=xe*Je,e[13]=(v*S*r-L*_*r+L*n*C-t*S*C-v*n*R+t*_*R)*Je,e[14]=(L*l*r-a*S*r-L*n*f+t*S*f+a*n*R-t*l*R)*Je,e[15]=(a*_*r-v*l*r+v*n*f-t*_*f-a*n*C+t*l*C)*Je,this}scale(e){const t=this.elements,n=e.x,r=e.y,o=e.z;return t[0]*=n,t[4]*=r,t[8]*=o,t[1]*=n,t[5]*=r,t[9]*=o,t[2]*=n,t[6]*=r,t[10]*=o,t[3]*=n,t[7]*=r,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),o=1-n,a=e.x,l=e.y,f=e.z,h=o*a,v=o*l;return this.set(h*a+n,h*l-r*f,h*f+r*l,0,h*l+r*f,v*l+n,v*f-r*a,0,h*f-r*l,v*f+r*a,o*f*f+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,o,a){return this.set(1,n,o,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,o=t._x,a=t._y,l=t._z,f=t._w,h=o+o,v=a+a,_=l+l,C=o*h,y=o*v,L=o*_,S=a*v,R=a*_,k=l*_,Z=f*h,B=f*v,j=f*_,xe=n.x,Ie=n.y,Je=n.z;return r[0]=(1-(S+k))*xe,r[1]=(y+j)*xe,r[2]=(L-B)*xe,r[3]=0,r[4]=(y-j)*Ie,r[5]=(1-(C+k))*Ie,r[6]=(R+Z)*Ie,r[7]=0,r[8]=(L+B)*Je,r[9]=(R-Z)*Je,r[10]=(1-(C+S))*Je,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let o=no.set(r[0],r[1],r[2]).length();const a=no.set(r[4],r[5],r[6]).length(),l=no.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],Jo.copy(this);const h=1/o,v=1/a,_=1/l;return Jo.elements[0]*=h,Jo.elements[1]*=h,Jo.elements[2]*=h,Jo.elements[4]*=v,Jo.elements[5]*=v,Jo.elements[6]*=v,Jo.elements[8]*=_,Jo.elements[9]*=_,Jo.elements[10]*=_,t.setFromRotationMatrix(Jo),n.x=o,n.y=a,n.z=l,this}makePerspective(e,t,n,r,o,a){const l=this.elements,f=2*o/(t-e),h=2*o/(n-r),v=(t+e)/(t-e),_=(n+r)/(n-r),C=-(a+o)/(a-o),y=-2*a*o/(a-o);return l[0]=f,l[4]=0,l[8]=v,l[12]=0,l[1]=0,l[5]=h,l[9]=_,l[13]=0,l[2]=0,l[6]=0,l[10]=C,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,r,o,a){const l=this.elements,f=1/(t-e),h=1/(n-r),v=1/(a-o),_=(t+e)*f,C=(n+r)*h,y=(a+o)*v;return l[0]=2*f,l[4]=0,l[8]=0,l[12]=-_,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-C,l[2]=0,l[6]=0,l[10]=-2*v,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const no=new we,Jo=new Yr,io=new we(0,0,0),ss=new we(1,1,1),ys=new we,Sa=new we,jo=new we,To=new Yr,ws=new cs;class Ao{constructor(e=0,t=0,n=0,r=Ao.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,o=r[0],a=r[4],l=r[8],f=r[1],h=r[5],v=r[9],_=r[2],C=r[6],y=r[10];switch(t){case"XYZ":this._y=Math.asin(Cr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-v,y),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(C,h),this._z=0);break;case"YXZ":this._x=Math.asin(-Cr(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(l,y),this._z=Math.atan2(f,h)):(this._y=Math.atan2(-_,o),this._z=0);break;case"ZXY":this._x=Math.asin(Cr(C,-1,1)),Math.abs(C)<.9999999?(this._y=Math.atan2(-_,y),this._z=Math.atan2(-a,h)):(this._y=0,this._z=Math.atan2(f,o));break;case"ZYX":this._y=Math.asin(-Cr(_,-1,1)),Math.abs(_)<.9999999?(this._x=Math.atan2(C,y),this._z=Math.atan2(f,o)):(this._x=0,this._z=Math.atan2(-a,h));break;case"YZX":this._z=Math.asin(Cr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-v,h),this._y=Math.atan2(-_,o)):(this._x=0,this._y=Math.atan2(l,y));break;case"XZY":this._z=Math.asin(-Cr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(C,h),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-v,y),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return To.makeRotationFromQuaternion(e),this.setFromRotationMatrix(To,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return ws.setFromEuler(this),this.setFromQuaternion(ws,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ao.DEFAULT_ORDER="XYZ";class oo{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let ca=0;const Za=new we,bs=new cs,$s=new Yr,Ll=new we,x1=new we,El=new we,Sc=new cs,Rc=new we(1,0,0),ol=new we(0,1,0),sl=new we(0,0,1),iu={type:"added"},Lc={type:"removed"};class So extends Kn{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ca++}),this.uuid=Hi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=So.DEFAULT_UP.clone();const e=new we,t=new Ao,n=new cs,r=new we(1,1,1);function o(){n.setFromEuler(t,!1)}function a(){t.setFromQuaternion(n,void 0,!1)}t._onChange(o),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Yr},normalMatrix:{value:new No}}),this.matrix=new Yr,this.matrixWorld=new Yr,this.matrixAutoUpdate=So.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=So.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new oo,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return bs.setFromAxisAngle(e,t),this.quaternion.multiply(bs),this}rotateOnWorldAxis(e,t){return bs.setFromAxisAngle(e,t),this.quaternion.premultiply(bs),this}rotateX(e){return this.rotateOnAxis(Rc,e)}rotateY(e){return this.rotateOnAxis(ol,e)}rotateZ(e){return this.rotateOnAxis(sl,e)}translateOnAxis(e,t){return Za.copy(e).applyQuaternion(this.quaternion),this.position.add(Za.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Rc,e)}translateY(e){return this.translateOnAxis(ol,e)}translateZ(e){return this.translateOnAxis(sl,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4($s.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Ll.copy(e):Ll.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),x1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?$s.lookAt(x1,Ll,this.up):$s.lookAt(Ll,x1,this.up),this.quaternion.setFromRotationMatrix($s),r&&($s.extractRotation(r.matrixWorld),bs.setFromRotationMatrix($s),this.quaternion.premultiply(bs.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(iu)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Lc)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(Lc)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),$s.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),$s.multiply(e.parent.matrixWorld)),e.applyMatrix4($s),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const a=this.children[n].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,o=this.children.length;r<o;r++){const a=this.children[r].getObjectsByProperty(e,t);a.length>0&&(n=n.concat(a))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(x1,e,El),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(x1,Sc,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const o=t[n];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let o=0,a=r.length;o<a;o++){const l=r[o];l.matrixWorldAutoUpdate===!0&&l.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function o(l,f){return l[f.uuid]===void 0&&(l[f.uuid]=f.toJSON(e)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const f=l.shapes;if(Array.isArray(f))for(let h=0,v=f.length;h<v;h++){const _=f[h];o(e.shapes,_)}else o(e.shapes,f)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let f=0,h=this.material.length;f<h;f++)l.push(o(e.materials,this.material[f]));r.material=l}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const f=this.animations[l];r.animations.push(o(e.animations,f))}}if(t){const l=a(e.geometries),f=a(e.materials),h=a(e.textures),v=a(e.images),_=a(e.shapes),C=a(e.skeletons),y=a(e.animations),L=a(e.nodes);l.length>0&&(n.geometries=l),f.length>0&&(n.materials=f),h.length>0&&(n.textures=h),v.length>0&&(n.images=v),_.length>0&&(n.shapes=_),C.length>0&&(n.skeletons=C),y.length>0&&(n.animations=y),L.length>0&&(n.nodes=L)}return n.object=r,n;function a(l){const f=[];for(const h in l){const v=l[h];delete v.metadata,f.push(v)}return f}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}So.DEFAULT_UP=new we(0,1,0),So.DEFAULT_MATRIX_AUTO_UPDATE=!0,So.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ia=new we,Ka=new we,ql=new we,d1=new we,A1=new we,h1=new we,Ql=new we,ec=new we,Ja=new we,Tl=new we;class na{constructor(e=new we,t=new we,n=new we){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Ia.subVectors(e,t),r.cross(Ia);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,t,n,r,o){Ia.subVectors(r,t),Ka.subVectors(n,t),ql.subVectors(e,t);const a=Ia.dot(Ia),l=Ia.dot(Ka),f=Ia.dot(ql),h=Ka.dot(Ka),v=Ka.dot(ql),_=a*h-l*l;if(_===0)return o.set(-2,-1,-1);const C=1/_,y=(h*f-l*v)*C,L=(a*v-l*f)*C;return o.set(1-y-L,L,y)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,d1),d1.x>=0&&d1.y>=0&&d1.x+d1.y<=1}static getUV(e,t,n,r,o,a,l,f){return this.getBarycoord(e,t,n,r,d1),f.set(0,0),f.addScaledVector(o,d1.x),f.addScaledVector(a,d1.y),f.addScaledVector(l,d1.z),f}static isFrontFacing(e,t,n,r){return Ia.subVectors(n,t),Ka.subVectors(e,t),Ia.cross(Ka).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ia.subVectors(this.c,this.b),Ka.subVectors(this.a,this.b),Ia.cross(Ka).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return na.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return na.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,o){return na.getUV(e,this.a,this.b,this.c,t,n,r,o)}containsPoint(e){return na.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return na.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,o=this.c;let a,l;A1.subVectors(r,n),h1.subVectors(o,n),ec.subVectors(e,n);const f=A1.dot(ec),h=h1.dot(ec);if(f<=0&&h<=0)return t.copy(n);Ja.subVectors(e,r);const v=A1.dot(Ja),_=h1.dot(Ja);if(v>=0&&_<=v)return t.copy(r);const C=f*_-v*h;if(C<=0&&f>=0&&v<=0)return a=f/(f-v),t.copy(n).addScaledVector(A1,a);Tl.subVectors(e,o);const y=A1.dot(Tl),L=h1.dot(Tl);if(L>=0&&y<=L)return t.copy(o);const S=y*h-f*L;if(S<=0&&h>=0&&L<=0)return l=h/(h-L),t.copy(n).addScaledVector(h1,l);const R=v*L-y*_;if(R<=0&&_-v>=0&&y-L>=0)return Ql.subVectors(o,r),l=(_-v)/(_-v+(y-L)),t.copy(r).addScaledVector(Ql,l);const k=1/(R+S+C);return a=S*k,l=C*k,t.copy(n).addScaledVector(A1,a).addScaledVector(h1,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let al=0;class Ms extends Kn{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:al++}),this.uuid=Hi(),this.name="",this.type="Material",this.blending=hn,this.side=_e,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=It,this.blendDst=Ke,this.blendEquation=Zn,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=et,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Ut,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=p,this.stencilZFail=p,this.stencilZPass=p,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==hn&&(n.blending=this.blending),this.side!==_e&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(n.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(o){const a=[];for(const l in o){const f=o[l];delete f.metadata,a.push(f)}return a}if(t){const o=r(e.textures),a=r(e.images);o.length>0&&(n.textures=o),a.length>0&&(n.images=a)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let o=0;o!==r;++o)n[o]=t[o].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const ll={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},qa={h:0,s:0,l:0},p1={h:0,s:0,l:0};function Zs(c,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?c+(e-c)*6*t:t<1/2?e:t<2/3?c+(e-c)*6*(2/3-t):c}class Br{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ko){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,os.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=os.workingColorSpace){return this.r=e,this.g=t,this.b=n,os.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=os.workingColorSpace){if(e=Yi(e,1),t=Cr(t,0,1),n=Cr(n,0,1),t===0)this.r=this.g=this.b=n;else{const o=n<=.5?n*(1+t):n+t-n*t,a=2*n-o;this.r=Zs(a,o,e+1/3),this.g=Zs(a,o,e),this.b=Zs(a,o,e-1/3)}return os.toWorkingColorSpace(this,r),this}setStyle(e,t=Ko){function n(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=r[1],l=r[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(o[1],10))/255,this.g=Math.min(255,parseInt(o[2],10))/255,this.b=Math.min(255,parseInt(o[3],10))/255,os.toWorkingColorSpace(this,t),n(o[4]),this;if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(o[1],10))/100,this.g=Math.min(100,parseInt(o[2],10))/100,this.b=Math.min(100,parseInt(o[3],10))/100,os.toWorkingColorSpace(this,t),n(o[4]),this;break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l)){const f=parseFloat(o[1])/360,h=parseFloat(o[2])/100,v=parseFloat(o[3])/100;return n(o[4]),this.setHSL(f,h,v,t)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=r[1],a=o.length;if(a===3)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,os.toWorkingColorSpace(this,t),this;if(a===6)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,os.toWorkingColorSpace(this,t),this;console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ko){const n=ll[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Aa(e.r),this.g=Aa(e.g),this.b=Aa(e.b),this}copyLinearToSRGB(e){return this.r=Js(e.r),this.g=Js(e.g),this.b=Js(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ko){return os.fromWorkingColorSpace(ua.copy(this),e),Cr(ua.r*255,0,255)<<16^Cr(ua.g*255,0,255)<<8^Cr(ua.b*255,0,255)<<0}getHexString(e=Ko){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=os.workingColorSpace){os.fromWorkingColorSpace(ua.copy(this),t);const n=ua.r,r=ua.g,o=ua.b,a=Math.max(n,r,o),l=Math.min(n,r,o);let f,h;const v=(l+a)/2;if(l===a)f=0,h=0;else{const _=a-l;switch(h=v<=.5?_/(a+l):_/(2-a-l),a){case n:f=(r-o)/_+(r<o?6:0);break;case r:f=(o-n)/_+2;break;case o:f=(n-r)/_+4;break}f/=6}return e.h=f,e.s=h,e.l=v,e}getRGB(e,t=os.workingColorSpace){return os.fromWorkingColorSpace(ua.copy(this),t),e.r=ua.r,e.g=ua.g,e.b=ua.b,e}getStyle(e=Ko){os.fromWorkingColorSpace(ua.copy(this),e);const t=ua.r,n=ua.g,r=ua.b;return e!==Ko?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${t*255|0},${n*255|0},${r*255|0})`}offsetHSL(e,t,n){return this.getHSL(qa),qa.h+=e,qa.s+=t,qa.l+=n,this.setHSL(qa.h,qa.s,qa.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(qa),e.getHSL(p1);const n=Eo(qa.h,p1.h,t),r=Eo(qa.s,p1.s,t),o=Eo(qa.l,p1.l,t);return this.setHSL(n,r,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ua=new Br;Br.NAMES=ll;class Ss extends Ms{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Br(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Cn,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const po=new we,cl=new Nt;class Go{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=vt,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)cl.fromBufferAttribute(this,t),cl.applyMatrix3(e),this.setXY(t,cl.x,cl.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)po.fromBufferAttribute(this,t),po.applyMatrix3(e),this.setXYZ(t,po.x,po.y,po.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)po.fromBufferAttribute(this,t),po.applyMatrix4(e),this.setXYZ(t,po.x,po.y,po.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)po.fromBufferAttribute(this,t),po.applyNormalMatrix(e),this.setXYZ(t,po.x,po.y,po.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)po.fromBufferAttribute(this,t),po.transformDirection(e),this.setXYZ(t,po.x,po.y,po.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=es(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ki(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=es(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ki(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=es(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ki(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=es(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ki(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Ki(t,this.array),n=Ki(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Ki(t,this.array),n=Ki(n,this.array),r=Ki(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e*=this.itemSize,this.normalized&&(t=Ki(t,this.array),n=Ki(n,this.array),r=Ki(r,this.array),o=Ki(o,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==vt&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Ec extends Go{constructor(e,t,n){super(new Int8Array(e),t,n)}}class ou extends Go{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class tc extends Go{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class Al extends Go{constructor(e,t,n){super(new Int16Array(e),t,n)}}class nc extends Go{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class rc extends Go{constructor(e,t,n){super(new Int32Array(e),t,n)}}class Pl extends Go{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Tc extends Go{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}}class kr extends Go{constructor(e,t,n){super(new Float32Array(e),t,n)}}class ul extends Go{constructor(e,t,n){super(new Float64Array(e),t,n)}}let ic=0;const fa=new Yr,fl=new So,P1=new we,ra=new xs,I1=new xs,Rs=new we;class Ji extends Kn{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:ic++}),this.uuid=Hi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Ya(e)?Pl:nc)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const o=new No().getNormalMatrix(e);n.applyNormalMatrix(o),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return fa.makeRotationFromQuaternion(e),this.applyMatrix4(fa),this}rotateX(e){return fa.makeRotationX(e),this.applyMatrix4(fa),this}rotateY(e){return fa.makeRotationY(e),this.applyMatrix4(fa),this}rotateZ(e){return fa.makeRotationZ(e),this.applyMatrix4(fa),this}translate(e,t,n){return fa.makeTranslation(e,t,n),this.applyMatrix4(fa),this}scale(e,t,n){return fa.makeScale(e,t,n),this.applyMatrix4(fa),this}lookAt(e){return fl.lookAt(e),fl.updateMatrix(),this.applyMatrix4(fl.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(P1).negate(),this.translate(P1.x,P1.y,P1.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const o=e[n];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new kr(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new xs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new we(-1/0,-1/0,-1/0),new we(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const o=t[n];ra.setFromBufferAttribute(o),this.morphTargetsRelative?(Rs.addVectors(this.boundingBox.min,ra.min),this.boundingBox.expandByPoint(Rs),Rs.addVectors(this.boundingBox.max,ra.max),this.boundingBox.expandByPoint(Rs)):(this.boundingBox.expandByPoint(ra.min),this.boundingBox.expandByPoint(ra.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fn);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new we,1/0);return}if(e){const n=this.boundingSphere.center;if(ra.setFromBufferAttribute(e),t)for(let o=0,a=t.length;o<a;o++){const l=t[o];I1.setFromBufferAttribute(l),this.morphTargetsRelative?(Rs.addVectors(ra.min,I1.min),ra.expandByPoint(Rs),Rs.addVectors(ra.max,I1.max),ra.expandByPoint(Rs)):(ra.expandByPoint(I1.min),ra.expandByPoint(I1.max))}ra.getCenter(n);let r=0;for(let o=0,a=e.count;o<a;o++)Rs.fromBufferAttribute(e,o),r=Math.max(r,n.distanceToSquared(Rs));if(t)for(let o=0,a=t.length;o<a;o++){const l=t[o],f=this.morphTargetsRelative;for(let h=0,v=l.count;h<v;h++)Rs.fromBufferAttribute(l,h),f&&(P1.fromBufferAttribute(e,h),Rs.add(P1)),r=Math.max(r,n.distanceToSquared(Rs))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.array,r=t.position.array,o=t.normal.array,a=t.uv.array,l=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Go(new Float32Array(4*l),4));const f=this.getAttribute("tangent").array,h=[],v=[];for(let st=0;st<l;st++)h[st]=new we,v[st]=new we;const _=new we,C=new we,y=new we,L=new Nt,S=new Nt,R=new Nt,k=new we,Z=new we;function B(st,Zt,Mn){_.fromArray(r,st*3),C.fromArray(r,Zt*3),y.fromArray(r,Mn*3),L.fromArray(a,st*2),S.fromArray(a,Zt*2),R.fromArray(a,Mn*2),C.sub(_),y.sub(_),S.sub(L),R.sub(L);const Bt=1/(S.x*R.y-R.x*S.y);isFinite(Bt)&&(k.copy(C).multiplyScalar(R.y).addScaledVector(y,-S.y).multiplyScalar(Bt),Z.copy(y).multiplyScalar(S.x).addScaledVector(C,-R.x).multiplyScalar(Bt),h[st].add(k),h[Zt].add(k),h[Mn].add(k),v[st].add(Z),v[Zt].add(Z),v[Mn].add(Z))}let j=this.groups;j.length===0&&(j=[{start:0,count:n.length}]);for(let st=0,Zt=j.length;st<Zt;++st){const Mn=j[st],Bt=Mn.start,xt=Mn.count;for(let en=Bt,Bn=Bt+xt;en<Bn;en+=3)B(n[en+0],n[en+1],n[en+2])}const xe=new we,Ie=new we,Je=new we,G=new we;function Le(st){Je.fromArray(o,st*3),G.copy(Je);const Zt=h[st];xe.copy(Zt),xe.sub(Je.multiplyScalar(Je.dot(Zt))).normalize(),Ie.crossVectors(G,Zt);const Bt=Ie.dot(v[st])<0?-1:1;f[st*4]=xe.x,f[st*4+1]=xe.y,f[st*4+2]=xe.z,f[st*4+3]=Bt}for(let st=0,Zt=j.length;st<Zt;++st){const Mn=j[st],Bt=Mn.start,xt=Mn.count;for(let en=Bt,Bn=Bt+xt;en<Bn;en+=3)Le(n[en+0]),Le(n[en+1]),Le(n[en+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Go(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let C=0,y=n.count;C<y;C++)n.setXYZ(C,0,0,0);const r=new we,o=new we,a=new we,l=new we,f=new we,h=new we,v=new we,_=new we;if(e)for(let C=0,y=e.count;C<y;C+=3){const L=e.getX(C+0),S=e.getX(C+1),R=e.getX(C+2);r.fromBufferAttribute(t,L),o.fromBufferAttribute(t,S),a.fromBufferAttribute(t,R),v.subVectors(a,o),_.subVectors(r,o),v.cross(_),l.fromBufferAttribute(n,L),f.fromBufferAttribute(n,S),h.fromBufferAttribute(n,R),l.add(v),f.add(v),h.add(v),n.setXYZ(L,l.x,l.y,l.z),n.setXYZ(S,f.x,f.y,f.z),n.setXYZ(R,h.x,h.y,h.z)}else for(let C=0,y=t.count;C<y;C+=3)r.fromBufferAttribute(t,C+0),o.fromBufferAttribute(t,C+1),a.fromBufferAttribute(t,C+2),v.subVectors(a,o),_.subVectors(r,o),v.cross(_),n.setXYZ(C+0,v.x,v.y,v.z),n.setXYZ(C+1,v.x,v.y,v.z),n.setXYZ(C+2,v.x,v.y,v.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Rs.fromBufferAttribute(e,t),Rs.normalize(),e.setXYZ(t,Rs.x,Rs.y,Rs.z)}toNonIndexed(){function e(l,f){const h=l.array,v=l.itemSize,_=l.normalized,C=new h.constructor(f.length*v);let y=0,L=0;for(let S=0,R=f.length;S<R;S++){l.isInterleavedBufferAttribute?y=f[S]*l.data.stride+l.offset:y=f[S]*v;for(let k=0;k<v;k++)C[L++]=h[y++]}return new Go(C,v,_)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ji,n=this.index.array,r=this.attributes;for(const l in r){const f=r[l],h=e(f,n);t.setAttribute(l,h)}const o=this.morphAttributes;for(const l in o){const f=[],h=o[l];for(let v=0,_=h.length;v<_;v++){const C=h[v],y=e(C,n);f.push(y)}t.morphAttributes[l]=f}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,f=a.length;l<f;l++){const h=a[l];t.addGroup(h.start,h.count,h.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const h in f)f[h]!==void 0&&(e[h]=f[h]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const f in n){const h=n[f];e.data.attributes[f]=h.toJSON(e.data)}const r={};let o=!1;for(const f in this.morphAttributes){const h=this.morphAttributes[f],v=[];for(let _=0,C=h.length;_<C;_++){const y=h[_];v.push(y.toJSON(e.data))}v.length>0&&(r[f]=v,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const r=e.attributes;for(const h in r){const v=r[h];this.setAttribute(h,v.clone(t))}const o=e.morphAttributes;for(const h in o){const v=[],_=o[h];for(let C=0,y=_.length;C<y;C++)v.push(_[C].clone(t));this.morphAttributes[h]=v}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let h=0,v=a.length;h<v;h++){const _=a[h];this.addGroup(_.start,_.count,_.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const f=e.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Qa=new Yr,Wa=new Wo,dl=new Fn,$1=new we,r1=new we,hl=new we,gr=new we,Z1=new we,y1=new we,W1=new Nt,pl=new Nt,i1=new Nt,e1=new we,Ai=new we;class Ls extends So{constructor(e=new Ji,t=new Ss){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const l=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,o=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const l=this.morphTargetInfluences;if(o&&l){y1.set(0,0,0);for(let f=0,h=o.length;f<h;f++){const v=l[f],_=o[f];v!==0&&(Z1.fromBufferAttribute(_,e),a?y1.addScaledVector(Z1,v):y1.addScaledVector(Z1.sub(t),v))}t.add(y1)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const n=this.geometry,r=this.material,o=this.matrixWorld;if(r===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),dl.copy(n.boundingSphere),dl.applyMatrix4(o),Wa.copy(e.ray).recast(e.near),dl.containsPoint(Wa.origin)===!1&&(Wa.intersectSphere(dl,$1)===null||Wa.origin.distanceToSquared($1)>Mc(e.far-e.near,2)))||(Qa.copy(o).invert(),Wa.copy(e.ray).applyMatrix4(Qa),n.boundingBox!==null&&Wa.intersectsBox(n.boundingBox)===!1))return;let a;const l=n.index,f=n.attributes.position,h=n.attributes.uv,v=n.attributes.uv2,_=n.groups,C=n.drawRange;if(l!==null)if(Array.isArray(r))for(let y=0,L=_.length;y<L;y++){const S=_[y],R=r[S.materialIndex],k=Math.max(S.start,C.start),Z=Math.min(l.count,Math.min(S.start+S.count,C.start+C.count));for(let B=k,j=Z;B<j;B+=3){const xe=l.getX(B),Ie=l.getX(B+1),Je=l.getX(B+2);a=ml(this,R,e,Wa,h,v,xe,Ie,Je),a&&(a.faceIndex=Math.floor(B/3),a.face.materialIndex=S.materialIndex,t.push(a))}}else{const y=Math.max(0,C.start),L=Math.min(l.count,C.start+C.count);for(let S=y,R=L;S<R;S+=3){const k=l.getX(S),Z=l.getX(S+1),B=l.getX(S+2);a=ml(this,r,e,Wa,h,v,k,Z,B),a&&(a.faceIndex=Math.floor(S/3),t.push(a))}}else if(f!==void 0)if(Array.isArray(r))for(let y=0,L=_.length;y<L;y++){const S=_[y],R=r[S.materialIndex],k=Math.max(S.start,C.start),Z=Math.min(f.count,Math.min(S.start+S.count,C.start+C.count));for(let B=k,j=Z;B<j;B+=3){const xe=B,Ie=B+1,Je=B+2;a=ml(this,R,e,Wa,h,v,xe,Ie,Je),a&&(a.faceIndex=Math.floor(B/3),a.face.materialIndex=S.materialIndex,t.push(a))}}else{const y=Math.max(0,C.start),L=Math.min(f.count,C.start+C.count);for(let S=y,R=L;S<R;S+=3){const k=S,Z=S+1,B=S+2;a=ml(this,r,e,Wa,h,v,k,Z,B),a&&(a.faceIndex=Math.floor(S/3),t.push(a))}}}}function Ac(c,e,t,n,r,o,a,l){let f;if(e.side===yt?f=n.intersectTriangle(a,o,r,!0,l):f=n.intersectTriangle(r,o,a,e.side===_e,l),f===null)return null;Ai.copy(l),Ai.applyMatrix4(c.matrixWorld);const h=t.ray.origin.distanceTo(Ai);return h<t.near||h>t.far?null:{distance:h,point:Ai.clone(),object:c}}function ml(c,e,t,n,r,o,a,l,f){c.getVertexPosition(a,r1),c.getVertexPosition(l,hl),c.getVertexPosition(f,gr);const h=Ac(c,e,t,n,r1,hl,gr,e1);if(h){r&&(W1.fromBufferAttribute(r,a),pl.fromBufferAttribute(r,l),i1.fromBufferAttribute(r,f),h.uv=na.getUV(e1,r1,hl,gr,W1,pl,i1,new Nt)),o&&(W1.fromBufferAttribute(o,a),pl.fromBufferAttribute(o,l),i1.fromBufferAttribute(o,f),h.uv2=na.getUV(e1,r1,hl,gr,W1,pl,i1,new Nt));const v={a,b:l,c:f,normal:new we,materialIndex:0};na.getNormal(r1,hl,gr,v.normal),h.face=v}return h}class m1 extends Ji{constructor(e=1,t=1,n=1,r=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:o,depthSegments:a};const l=this;r=Math.floor(r),o=Math.floor(o),a=Math.floor(a);const f=[],h=[],v=[],_=[];let C=0,y=0;L("z","y","x",-1,-1,n,t,e,a,o,0),L("z","y","x",1,-1,n,t,-e,a,o,1),L("x","z","y",1,1,e,n,t,r,a,2),L("x","z","y",1,-1,e,n,-t,r,a,3),L("x","y","z",1,-1,e,t,n,r,o,4),L("x","y","z",-1,-1,e,t,-n,r,o,5),this.setIndex(f),this.setAttribute("position",new kr(h,3)),this.setAttribute("normal",new kr(v,3)),this.setAttribute("uv",new kr(_,2));function L(S,R,k,Z,B,j,xe,Ie,Je,G,Le){const st=j/Je,Zt=xe/G,Mn=j/2,Bt=xe/2,xt=Ie/2,en=Je+1,Bn=G+1;let fr=0,_n=0;const jn=new we;for(let ar=0;ar<Bn;ar++){const Wr=ar*Zt-Bt;for(let Kt=0;Kt<en;Kt++){const er=Kt*st-Mn;jn[S]=er*Z,jn[R]=Wr*B,jn[k]=xt,h.push(jn.x,jn.y,jn.z),jn[S]=0,jn[R]=0,jn[k]=Ie>0?1:-1,v.push(jn.x,jn.y,jn.z),_.push(Kt/Je),_.push(1-ar/G),fr+=1}}for(let ar=0;ar<G;ar++)for(let Wr=0;Wr<Je;Wr++){const Kt=C+Wr+en*ar,er=C+Wr+en*(ar+1),Ir=C+(Wr+1)+en*(ar+1),Ot=C+(Wr+1)+en*ar;f.push(Kt,er,Ot),f.push(er,Ir,Ot),_n+=6}l.addGroup(y,_n,Le),y+=_n,C+=fr}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new m1(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function O1(c){const e={};for(const t in c){e[t]={};for(const n in c[t]){const r=c[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function ia(c){const e={};for(let t=0;t<c.length;t++){const n=O1(c[t]);for(const r in n)e[r]=n[r]}return e}function Pc(c){const e=[];for(let t=0;t<c.length;t++)e.push(c[t].clone());return e}function oc(c){return c.getRenderTarget()===null&&c.outputEncoding===zi?Ko:la}const sc={clone:O1,merge:ia};var D1=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,gl=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class o1 extends Ms{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=D1,this.fragmentShader=gl,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=O1(e.uniforms),this.uniformsGroups=Pc(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class j1 extends So{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Yr,this.projectionMatrix=new Yr,this.projectionMatrixInverse=new Yr}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Ws extends j1{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Ri*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ni*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Ri*2*Math.atan(Math.tan(ni*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,o,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(ni*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,o=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const f=a.fullWidth,h=a.fullHeight;o+=a.offsetX*r/f,t-=a.offsetY*n/h,r*=a.width/f,n*=a.height/h}const l=this.filmOffset;l!==0&&(o+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const g1=-90,z1=1;class s1 extends So{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;const r=new Ws(g1,z1,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const o=new Ws(g1,z1,e,t);o.layers=this.layers,o.up.set(0,1,0),o.lookAt(-1,0,0),this.add(o);const a=new Ws(g1,z1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(0,1,0),this.add(a);const l=new Ws(g1,z1,e,t);l.layers=this.layers,l.up.set(0,0,1),l.lookAt(0,-1,0),this.add(l);const f=new Ws(g1,z1,e,t);f.layers=this.layers,f.up.set(0,1,0),f.lookAt(0,0,1),this.add(f);const h=new Ws(g1,z1,e,t);h.layers=this.layers,h.up.set(0,1,0),h.lookAt(0,0,-1),this.add(h)}update(e,t){this.parent===null&&this.updateMatrixWorld();const n=this.renderTarget,[r,o,a,l,f,h]=this.children,v=e.getRenderTarget(),_=e.toneMapping,C=e.xr.enabled;e.toneMapping=Mr,e.xr.enabled=!1;const y=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,o),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,l),e.setRenderTarget(n,4),e.render(t,f),n.texture.generateMipmaps=y,e.setRenderTarget(n,5),e.render(t,h),e.setRenderTarget(v),e.toneMapping=_,e.xr.enabled=C,n.texture.needsPMREMUpdate=!0}}class v1 extends to{constructor(e,t,n,r,o,a,l,f,h,v){e=e!==void 0?e:[],t=t!==void 0?t:Jr,super(e,t,n,r,o,a,l,f,h,v),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Oa extends Do{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new v1(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Jn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new m1(5,5,5),o=new o1({name:"CubemapFromEquirect",uniforms:O1(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:yt,blending:rr});o.uniforms.tEquirect.value=t;const a=new Ls(r,o),l=t.minFilter;return t.minFilter===Xn&&(t.minFilter=Jn),new s1(1,10,this).update(e,a),t.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,n,r){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(o)}}const G1=new we,Il=new we,Ol=new No;class ja{constructor(e=new we(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=G1.subVectors(n,t).cross(Il.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(G1),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:t.copy(e.start).addScaledVector(n,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Ol.getNormalMatrix(e),r=this.coplanarPoint(G1).applyMatrix4(e),o=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const w1=new Fn,X1=new we;class Y1{constructor(e=new ja,t=new ja,n=new ja,r=new ja,o=new ja,a=new ja){this.planes=[e,t,n,r,o,a]}set(e,t,n,r,o,a){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(n),l[3].copy(r),l[4].copy(o),l[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],o=n[1],a=n[2],l=n[3],f=n[4],h=n[5],v=n[6],_=n[7],C=n[8],y=n[9],L=n[10],S=n[11],R=n[12],k=n[13],Z=n[14],B=n[15];return t[0].setComponents(l-r,_-f,S-C,B-R).normalize(),t[1].setComponents(l+r,_+f,S+C,B+R).normalize(),t[2].setComponents(l+o,_+h,S+y,B+k).normalize(),t[3].setComponents(l-o,_-h,S-y,B-k).normalize(),t[4].setComponents(l-a,_-v,S-L,B-Z).normalize(),t[5].setComponents(l+a,_+v,S+L,B+Z).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),w1.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(w1)}intersectsSprite(e){return w1.center.set(0,0,0),w1.radius=.7071067811865476,w1.applyMatrix4(e.matrixWorld),this.intersectsSphere(w1)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(X1.x=r.normal.x>0?e.max.x:e.min.x,X1.y=r.normal.y>0?e.max.y:e.min.y,X1.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(X1)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Ic(){let c=null,e=!1,t=null,n=null;function r(o,a){t(o,a),n=c.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=c.requestAnimationFrame(r),e=!0)},stop:function(){c.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){c=o}}}function Oc(c,e){const t=e.isWebGL2,n=new WeakMap;function r(h,v){const _=h.array,C=h.usage,y=c.createBuffer();c.bindBuffer(v,y),c.bufferData(v,_,C),h.onUploadCallback();let L;if(_ instanceof Float32Array)L=5126;else if(_ instanceof Uint16Array)if(h.isFloat16BufferAttribute)if(t)L=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else L=5123;else if(_ instanceof Int16Array)L=5122;else if(_ instanceof Uint32Array)L=5125;else if(_ instanceof Int32Array)L=5124;else if(_ instanceof Int8Array)L=5120;else if(_ instanceof Uint8Array)L=5121;else if(_ instanceof Uint8ClampedArray)L=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+_);return{buffer:y,type:L,bytesPerElement:_.BYTES_PER_ELEMENT,version:h.version}}function o(h,v,_){const C=v.array,y=v.updateRange;c.bindBuffer(_,h),y.count===-1?c.bufferSubData(_,0,C):(t?c.bufferSubData(_,y.offset*C.BYTES_PER_ELEMENT,C,y.offset,y.count):c.bufferSubData(_,y.offset*C.BYTES_PER_ELEMENT,C.subarray(y.offset,y.offset+y.count)),y.count=-1),v.onUploadCallback()}function a(h){return h.isInterleavedBufferAttribute&&(h=h.data),n.get(h)}function l(h){h.isInterleavedBufferAttribute&&(h=h.data);const v=n.get(h);v&&(c.deleteBuffer(v.buffer),n.delete(h))}function f(h,v){if(h.isGLBufferAttribute){const C=n.get(h);(!C||C.version<h.version)&&n.set(h,{buffer:h.buffer,type:h.type,bytesPerElement:h.elementSize,version:h.version});return}h.isInterleavedBufferAttribute&&(h=h.data);const _=n.get(h);_===void 0?n.set(h,r(h,v)):_.version<h.version&&(o(_.buffer,h,v),_.version=h.version)}return{get:a,remove:l,update:f}}class vl extends Ji{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const o=e/2,a=t/2,l=Math.floor(n),f=Math.floor(r),h=l+1,v=f+1,_=e/l,C=t/f,y=[],L=[],S=[],R=[];for(let k=0;k<v;k++){const Z=k*C-a;for(let B=0;B<h;B++){const j=B*_-o;L.push(j,-Z,0),S.push(0,0,1),R.push(B/l),R.push(1-k/f)}}for(let k=0;k<f;k++)for(let Z=0;Z<l;Z++){const B=Z+h*k,j=Z+h*(k+1),xe=Z+1+h*(k+1),Ie=Z+1+h*k;y.push(B,j,Ie),y.push(j,xe,Ie)}this.setIndex(y),this.setAttribute("position",new kr(L,3)),this.setAttribute("normal",new kr(S,3)),this.setAttribute("uv",new kr(R,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vl(e.width,e.height,e.widthSegments,e.heightSegments)}}var Dl=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,ac=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ds=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Qi=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Es=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Ts=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,qs="vec3 transformed = vec3( position );",Bs=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,K1=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,Ns=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Cl=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,J1=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,zl=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,lc=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,_l=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,da=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,cc=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,uc=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,q1=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Hl=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,fc=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,b1=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Bl=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,M1=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Nl=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,xl=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Vl="gl_FragColor = linearToOutputTexel( gl_FragColor );",Fl=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,kl=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,ha=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,H1=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Ga=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Ul=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Ra=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Dc=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,yl=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,$l=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,su=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,S1=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,t1=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,wl=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Q1=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Xa=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,dc=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,hc=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,oa=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Zl=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,au=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lu=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,pc=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,zc=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,R1=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,cu=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,B1=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,a1=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,La=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,uu=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Hc=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Wl=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,fu=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,mc=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,gc=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Bc=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Da=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,vc=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,du=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,C1=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,d=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,b=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,z=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,F=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,fe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Oe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,ft=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Wt=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Qt=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,vn=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,yn=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,hr=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,In=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,i=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,s=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,u=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,m=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,x=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,A=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,ue=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Fe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,ct=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Yt=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,En=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,wr=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Pr=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Kr=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,br=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Vo=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,as=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,_t=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,at=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		
		vec2 lodFudge = pow( 1.95, lod ) / fullSize;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec2 fullSize = vec2( textureSize( sampler, 0 ) );
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Et=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,mr=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Ur=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Li=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,ri=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Ni=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,ms=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const so={alphamap_fragment:Dl,alphamap_pars_fragment:ac,alphatest_fragment:ds,alphatest_pars_fragment:Qi,aomap_fragment:Es,aomap_pars_fragment:Ts,begin_vertex:qs,beginnormal_vertex:Bs,bsdfs:K1,iridescence_fragment:Ns,bumpmap_pars_fragment:Cl,clipping_planes_fragment:J1,clipping_planes_pars_fragment:zl,clipping_planes_pars_vertex:lc,clipping_planes_vertex:_l,color_fragment:da,color_pars_fragment:cc,color_pars_vertex:uc,color_vertex:q1,common:Hl,cube_uv_reflection_fragment:fc,defaultnormal_vertex:b1,displacementmap_pars_vertex:Bl,displacementmap_vertex:M1,emissivemap_fragment:Nl,emissivemap_pars_fragment:xl,encodings_fragment:Vl,encodings_pars_fragment:Fl,envmap_fragment:kl,envmap_common_pars_fragment:ha,envmap_pars_fragment:H1,envmap_pars_vertex:Ga,envmap_physical_pars_fragment:dc,envmap_vertex:Ul,fog_vertex:Ra,fog_pars_vertex:Dc,fog_fragment:yl,fog_pars_fragment:$l,gradientmap_pars_fragment:su,lightmap_fragment:S1,lightmap_pars_fragment:t1,lights_lambert_fragment:wl,lights_lambert_pars_fragment:Q1,lights_pars_begin:Xa,lights_toon_fragment:hc,lights_toon_pars_fragment:oa,lights_phong_fragment:Zl,lights_phong_pars_fragment:au,lights_physical_fragment:lu,lights_physical_pars_fragment:pc,lights_fragment_begin:zc,lights_fragment_maps:R1,lights_fragment_end:cu,logdepthbuf_fragment:B1,logdepthbuf_pars_fragment:a1,logdepthbuf_pars_vertex:La,logdepthbuf_vertex:uu,map_fragment:Hc,map_pars_fragment:Wl,map_particle_fragment:fu,map_particle_pars_fragment:mc,metalnessmap_fragment:gc,metalnessmap_pars_fragment:Bc,morphcolor_vertex:Da,morphnormal_vertex:vc,morphtarget_pars_vertex:du,morphtarget_vertex:C1,normal_fragment_begin:d,normal_fragment_maps:b,normal_pars_fragment:z,normal_pars_vertex:F,normal_vertex:fe,normalmap_pars_fragment:Oe,clearcoat_normal_fragment_begin:ft,clearcoat_normal_fragment_maps:Wt,clearcoat_pars_fragment:Qt,iridescence_pars_fragment:vn,output_fragment:yn,packing:hr,premultiplied_alpha_fragment:In,project_vertex:i,dithering_fragment:s,dithering_pars_fragment:u,roughnessmap_fragment:m,roughnessmap_pars_fragment:x,shadowmap_pars_fragment:A,shadowmap_pars_vertex:ue,shadowmap_vertex:Fe,shadowmask_pars_fragment:ct,skinbase_vertex:Yt,skinning_pars_vertex:En,skinning_vertex:wr,skinnormal_vertex:Pr,specularmap_fragment:Kr,specularmap_pars_fragment:br,tonemapping_fragment:Vo,tonemapping_pars_fragment:as,transmission_fragment:_t,transmission_pars_fragment:at,uv_pars_fragment:Et,uv_pars_vertex:mr,uv_vertex:Ur,uv2_pars_fragment:Li,uv2_pars_vertex:ri,uv2_vertex:Ni,worldpos_vertex:ms,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,backgroundCube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,backgroundCube_frag:`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`},Rr={common:{diffuse:{value:new Br(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new No},uv2Transform:{value:new No},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Nt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Br(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Br(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new No}},sprite:{diffuse:{value:new Br(16777215)},opacity:{value:1},center:{value:new Nt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new No}}},V1={basic:{uniforms:ia([Rr.common,Rr.specularmap,Rr.envmap,Rr.aomap,Rr.lightmap,Rr.fog]),vertexShader:so.meshbasic_vert,fragmentShader:so.meshbasic_frag},lambert:{uniforms:ia([Rr.common,Rr.specularmap,Rr.envmap,Rr.aomap,Rr.lightmap,Rr.emissivemap,Rr.bumpmap,Rr.normalmap,Rr.displacementmap,Rr.fog,Rr.lights,{emissive:{value:new Br(0)}}]),vertexShader:so.meshlambert_vert,fragmentShader:so.meshlambert_frag},phong:{uniforms:ia([Rr.common,Rr.specularmap,Rr.envmap,Rr.aomap,Rr.lightmap,Rr.emissivemap,Rr.bumpmap,Rr.normalmap,Rr.displacementmap,Rr.fog,Rr.lights,{emissive:{value:new Br(0)},specular:{value:new Br(1118481)},shininess:{value:30}}]),vertexShader:so.meshphong_vert,fragmentShader:so.meshphong_frag},standard:{uniforms:ia([Rr.common,Rr.envmap,Rr.aomap,Rr.lightmap,Rr.emissivemap,Rr.bumpmap,Rr.normalmap,Rr.displacementmap,Rr.roughnessmap,Rr.metalnessmap,Rr.fog,Rr.lights,{emissive:{value:new Br(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:so.meshphysical_vert,fragmentShader:so.meshphysical_frag},toon:{uniforms:ia([Rr.common,Rr.aomap,Rr.lightmap,Rr.emissivemap,Rr.bumpmap,Rr.normalmap,Rr.displacementmap,Rr.gradientmap,Rr.fog,Rr.lights,{emissive:{value:new Br(0)}}]),vertexShader:so.meshtoon_vert,fragmentShader:so.meshtoon_frag},matcap:{uniforms:ia([Rr.common,Rr.bumpmap,Rr.normalmap,Rr.displacementmap,Rr.fog,{matcap:{value:null}}]),vertexShader:so.meshmatcap_vert,fragmentShader:so.meshmatcap_frag},points:{uniforms:ia([Rr.points,Rr.fog]),vertexShader:so.points_vert,fragmentShader:so.points_frag},dashed:{uniforms:ia([Rr.common,Rr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:so.linedashed_vert,fragmentShader:so.linedashed_frag},depth:{uniforms:ia([Rr.common,Rr.displacementmap]),vertexShader:so.depth_vert,fragmentShader:so.depth_frag},normal:{uniforms:ia([Rr.common,Rr.bumpmap,Rr.normalmap,Rr.displacementmap,{opacity:{value:1}}]),vertexShader:so.meshnormal_vert,fragmentShader:so.meshnormal_frag},sprite:{uniforms:ia([Rr.sprite,Rr.fog]),vertexShader:so.sprite_vert,fragmentShader:so.sprite_frag},background:{uniforms:{uvTransform:{value:new No},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:so.background_vert,fragmentShader:so.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:so.backgroundCube_vert,fragmentShader:so.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:so.cube_vert,fragmentShader:so.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:so.equirect_vert,fragmentShader:so.equirect_frag},distanceRGBA:{uniforms:ia([Rr.common,Rr.displacementmap,{referencePosition:{value:new we},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:so.distanceRGBA_vert,fragmentShader:so.distanceRGBA_frag},shadow:{uniforms:ia([Rr.lights,Rr.fog,{color:{value:new Br(0)},opacity:{value:1}}]),vertexShader:so.shadow_vert,fragmentShader:so.shadow_frag}};V1.physical={uniforms:ia([V1.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Nt(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Br(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Nt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Br(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Br(1,1,1)},specularColorMap:{value:null}}]),vertexShader:so.meshphysical_vert,fragmentShader:so.meshphysical_frag};const Du={r:0,b:0,g:0};function E2(c,e,t,n,r,o,a){const l=new Br(0);let f=o===!0?0:1,h,v,_=null,C=0,y=null;function L(R,k){let Z=!1,B=k.isScene===!0?k.background:null;B&&B.isTexture&&(B=(k.backgroundBlurriness>0?t:e).get(B));const j=c.xr,xe=j.getSession&&j.getSession();xe&&xe.environmentBlendMode==="additive"&&(B=null),B===null?S(l,f):B&&B.isColor&&(S(B,1),Z=!0),(c.autoClear||Z)&&c.clear(c.autoClearColor,c.autoClearDepth,c.autoClearStencil),B&&(B.isCubeTexture||B.mapping===Ii)?(v===void 0&&(v=new Ls(new m1(1,1,1),new o1({name:"BackgroundCubeMaterial",uniforms:O1(V1.backgroundCube.uniforms),vertexShader:V1.backgroundCube.vertexShader,fragmentShader:V1.backgroundCube.fragmentShader,side:yt,depthTest:!1,depthWrite:!1,fog:!1})),v.geometry.deleteAttribute("normal"),v.geometry.deleteAttribute("uv"),v.onBeforeRender=function(Ie,Je,G){this.matrixWorld.copyPosition(G.matrixWorld)},Object.defineProperty(v.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(v)),v.material.uniforms.envMap.value=B,v.material.uniforms.flipEnvMap.value=B.isCubeTexture&&B.isRenderTargetTexture===!1?-1:1,v.material.uniforms.backgroundBlurriness.value=k.backgroundBlurriness,v.material.uniforms.backgroundIntensity.value=k.backgroundIntensity,v.material.toneMapped=B.encoding!==zi,(_!==B||C!==B.version||y!==c.toneMapping)&&(v.material.needsUpdate=!0,_=B,C=B.version,y=c.toneMapping),v.layers.enableAll(),R.unshift(v,v.geometry,v.material,0,0,null)):B&&B.isTexture&&(h===void 0&&(h=new Ls(new vl(2,2),new o1({name:"BackgroundMaterial",uniforms:O1(V1.background.uniforms),vertexShader:V1.background.vertexShader,fragmentShader:V1.background.fragmentShader,side:_e,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(h)),h.material.uniforms.t2D.value=B,h.material.uniforms.backgroundIntensity.value=k.backgroundIntensity,h.material.toneMapped=B.encoding!==zi,B.matrixAutoUpdate===!0&&B.updateMatrix(),h.material.uniforms.uvTransform.value.copy(B.matrix),(_!==B||C!==B.version||y!==c.toneMapping)&&(h.material.needsUpdate=!0,_=B,C=B.version,y=c.toneMapping),h.layers.enableAll(),R.unshift(h,h.geometry,h.material,0,0,null))}function S(R,k){R.getRGB(Du,oc(c)),n.buffers.color.setClear(Du.r,Du.g,Du.b,k,a)}return{getClearColor:function(){return l},setClearColor:function(R,k=1){l.set(R),f=k,S(l,f)},getClearAlpha:function(){return f},setClearAlpha:function(R){f=R,S(l,f)},render:L}}function T2(c,e,t,n){const r=c.getParameter(34921),o=n.isWebGL2?null:e.get("OES_vertex_array_object"),a=n.isWebGL2||o!==null,l={},f=R(null);let h=f,v=!1;function _(xt,en,Bn,fr,_n){let jn=!1;if(a){const ar=S(fr,Bn,en);h!==ar&&(h=ar,y(h.object)),jn=k(xt,fr,Bn,_n),jn&&Z(xt,fr,Bn,_n)}else{const ar=en.wireframe===!0;(h.geometry!==fr.id||h.program!==Bn.id||h.wireframe!==ar)&&(h.geometry=fr.id,h.program=Bn.id,h.wireframe=ar,jn=!0)}_n!==null&&t.update(_n,34963),(jn||v)&&(v=!1,G(xt,en,Bn,fr),_n!==null&&c.bindBuffer(34963,t.get(_n).buffer))}function C(){return n.isWebGL2?c.createVertexArray():o.createVertexArrayOES()}function y(xt){return n.isWebGL2?c.bindVertexArray(xt):o.bindVertexArrayOES(xt)}function L(xt){return n.isWebGL2?c.deleteVertexArray(xt):o.deleteVertexArrayOES(xt)}function S(xt,en,Bn){const fr=Bn.wireframe===!0;let _n=l[xt.id];_n===void 0&&(_n={},l[xt.id]=_n);let jn=_n[en.id];jn===void 0&&(jn={},_n[en.id]=jn);let ar=jn[fr];return ar===void 0&&(ar=R(C()),jn[fr]=ar),ar}function R(xt){const en=[],Bn=[],fr=[];for(let _n=0;_n<r;_n++)en[_n]=0,Bn[_n]=0,fr[_n]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:en,enabledAttributes:Bn,attributeDivisors:fr,object:xt,attributes:{},index:null}}function k(xt,en,Bn,fr){const _n=h.attributes,jn=en.attributes;let ar=0;const Wr=Bn.getAttributes();for(const Kt in Wr)if(Wr[Kt].location>=0){const Ir=_n[Kt];let Ot=jn[Kt];if(Ot===void 0&&(Kt==="instanceMatrix"&&xt.instanceMatrix&&(Ot=xt.instanceMatrix),Kt==="instanceColor"&&xt.instanceColor&&(Ot=xt.instanceColor)),Ir===void 0||Ir.attribute!==Ot||Ot&&Ir.data!==Ot.data)return!0;ar++}return h.attributesNum!==ar||h.index!==fr}function Z(xt,en,Bn,fr){const _n={},jn=en.attributes;let ar=0;const Wr=Bn.getAttributes();for(const Kt in Wr)if(Wr[Kt].location>=0){let Ir=jn[Kt];Ir===void 0&&(Kt==="instanceMatrix"&&xt.instanceMatrix&&(Ir=xt.instanceMatrix),Kt==="instanceColor"&&xt.instanceColor&&(Ir=xt.instanceColor));const Ot={};Ot.attribute=Ir,Ir&&Ir.data&&(Ot.data=Ir.data),_n[Kt]=Ot,ar++}h.attributes=_n,h.attributesNum=ar,h.index=fr}function B(){const xt=h.newAttributes;for(let en=0,Bn=xt.length;en<Bn;en++)xt[en]=0}function j(xt){xe(xt,0)}function xe(xt,en){const Bn=h.newAttributes,fr=h.enabledAttributes,_n=h.attributeDivisors;Bn[xt]=1,fr[xt]===0&&(c.enableVertexAttribArray(xt),fr[xt]=1),_n[xt]!==en&&((n.isWebGL2?c:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](xt,en),_n[xt]=en)}function Ie(){const xt=h.newAttributes,en=h.enabledAttributes;for(let Bn=0,fr=en.length;Bn<fr;Bn++)en[Bn]!==xt[Bn]&&(c.disableVertexAttribArray(Bn),en[Bn]=0)}function Je(xt,en,Bn,fr,_n,jn){n.isWebGL2===!0&&(Bn===5124||Bn===5125)?c.vertexAttribIPointer(xt,en,Bn,_n,jn):c.vertexAttribPointer(xt,en,Bn,fr,_n,jn)}function G(xt,en,Bn,fr){if(n.isWebGL2===!1&&(xt.isInstancedMesh||fr.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;B();const _n=fr.attributes,jn=Bn.getAttributes(),ar=en.defaultAttributeValues;for(const Wr in jn){const Kt=jn[Wr];if(Kt.location>=0){let er=_n[Wr];if(er===void 0&&(Wr==="instanceMatrix"&&xt.instanceMatrix&&(er=xt.instanceMatrix),Wr==="instanceColor"&&xt.instanceColor&&(er=xt.instanceColor)),er!==void 0){const Ir=er.normalized,Ot=er.itemSize,ii=t.get(er);if(ii===void 0)continue;const Vr=ii.buffer,ei=ii.type,ai=ii.bytesPerElement;if(er.isInterleavedBufferAttribute){const mi=er.data,Zi=mi.stride,Tn=er.offset;if(mi.isInstancedInterleavedBuffer){for(let Yn=0;Yn<Kt.locationSize;Yn++)xe(Kt.location+Yn,mi.meshPerAttribute);xt.isInstancedMesh!==!0&&fr._maxInstanceCount===void 0&&(fr._maxInstanceCount=mi.meshPerAttribute*mi.count)}else for(let Yn=0;Yn<Kt.locationSize;Yn++)j(Kt.location+Yn);c.bindBuffer(34962,Vr);for(let Yn=0;Yn<Kt.locationSize;Yn++)Je(Kt.location+Yn,Ot/Kt.locationSize,ei,Ir,Zi*ai,(Tn+Ot/Kt.locationSize*Yn)*ai)}else{if(er.isInstancedBufferAttribute){for(let mi=0;mi<Kt.locationSize;mi++)xe(Kt.location+mi,er.meshPerAttribute);xt.isInstancedMesh!==!0&&fr._maxInstanceCount===void 0&&(fr._maxInstanceCount=er.meshPerAttribute*er.count)}else for(let mi=0;mi<Kt.locationSize;mi++)j(Kt.location+mi);c.bindBuffer(34962,Vr);for(let mi=0;mi<Kt.locationSize;mi++)Je(Kt.location+mi,Ot/Kt.locationSize,ei,Ir,Ot*ai,Ot/Kt.locationSize*mi*ai)}}else if(ar!==void 0){const Ir=ar[Wr];if(Ir!==void 0)switch(Ir.length){case 2:c.vertexAttrib2fv(Kt.location,Ir);break;case 3:c.vertexAttrib3fv(Kt.location,Ir);break;case 4:c.vertexAttrib4fv(Kt.location,Ir);break;default:c.vertexAttrib1fv(Kt.location,Ir)}}}}Ie()}function Le(){Mn();for(const xt in l){const en=l[xt];for(const Bn in en){const fr=en[Bn];for(const _n in fr)L(fr[_n].object),delete fr[_n];delete en[Bn]}delete l[xt]}}function st(xt){if(l[xt.id]===void 0)return;const en=l[xt.id];for(const Bn in en){const fr=en[Bn];for(const _n in fr)L(fr[_n].object),delete fr[_n];delete en[Bn]}delete l[xt.id]}function Zt(xt){for(const en in l){const Bn=l[en];if(Bn[xt.id]===void 0)continue;const fr=Bn[xt.id];for(const _n in fr)L(fr[_n].object),delete fr[_n];delete Bn[xt.id]}}function Mn(){Bt(),v=!0,h!==f&&(h=f,y(h.object))}function Bt(){f.geometry=null,f.program=null,f.wireframe=!1}return{setup:_,reset:Mn,resetDefaultState:Bt,dispose:Le,releaseStatesOfGeometry:st,releaseStatesOfProgram:Zt,initAttributes:B,enableAttribute:j,disableUnusedAttributes:Ie}}function A2(c,e,t,n){const r=n.isWebGL2;let o;function a(h){o=h}function l(h,v){c.drawArrays(o,h,v),t.update(v,o,1)}function f(h,v,_){if(_===0)return;let C,y;if(r)C=c,y="drawArraysInstanced";else if(C=e.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",C===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}C[y](o,h,v,_),t.update(v,o,_)}this.setMode=a,this.render=l,this.renderInstances=f}function P2(c,e,t){let n;function r(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const Je=e.get("EXT_texture_filter_anisotropic");n=c.getParameter(Je.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function o(Je){if(Je==="highp"){if(c.getShaderPrecisionFormat(35633,36338).precision>0&&c.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Je="mediump"}return Je==="mediump"&&c.getShaderPrecisionFormat(35633,36337).precision>0&&c.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext!="undefined"&&c instanceof WebGL2RenderingContext;let l=t.precision!==void 0?t.precision:"highp";const f=o(l);f!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",f,"instead."),l=f);const h=a||e.has("WEBGL_draw_buffers"),v=t.logarithmicDepthBuffer===!0,_=c.getParameter(34930),C=c.getParameter(35660),y=c.getParameter(3379),L=c.getParameter(34076),S=c.getParameter(34921),R=c.getParameter(36347),k=c.getParameter(36348),Z=c.getParameter(36349),B=C>0,j=a||e.has("OES_texture_float"),xe=B&&j,Ie=a?c.getParameter(36183):0;return{isWebGL2:a,drawBuffers:h,getMaxAnisotropy:r,getMaxPrecision:o,precision:l,logarithmicDepthBuffer:v,maxTextures:_,maxVertexTextures:C,maxTextureSize:y,maxCubemapSize:L,maxAttributes:S,maxVertexUniforms:R,maxVaryings:k,maxFragmentUniforms:Z,vertexTextures:B,floatFragmentTextures:j,floatVertexTextures:xe,maxSamples:Ie}}function I2(c){const e=this;let t=null,n=0,r=!1,o=!1;const a=new ja,l=new No,f={value:null,needsUpdate:!1};this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(_,C){const y=_.length!==0||C||n!==0||r;return r=C,n=_.length,y},this.beginShadows=function(){o=!0,v(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(_,C){t=v(_,C,0)},this.setState=function(_,C,y){const L=_.clippingPlanes,S=_.clipIntersection,R=_.clipShadows,k=c.get(_);if(!r||L===null||L.length===0||o&&!R)o?v(null):h();else{const Z=o?0:n,B=Z*4;let j=k.clippingState||null;f.value=j,j=v(L,C,B,y);for(let xe=0;xe!==B;++xe)j[xe]=t[xe];k.clippingState=j,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=Z}};function h(){f.value!==t&&(f.value=t,f.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function v(_,C,y,L){const S=_!==null?_.length:0;let R=null;if(S!==0){if(R=f.value,L!==!0||R===null){const k=y+S*4,Z=C.matrixWorldInverse;l.getNormalMatrix(Z),(R===null||R.length<k)&&(R=new Float32Array(k));for(let B=0,j=y;B!==S;++B,j+=4)a.copy(_[B]).applyMatrix4(Z,l),a.normal.toArray(R,j),R[j+3]=a.constant}f.value=R,f.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,R}}function O2(c){let e=new WeakMap;function t(a,l){return l===gi?a.mapping=Jr:l===qr&&(a.mapping=zr),a}function n(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const l=a.mapping;if(l===gi||l===qr)if(e.has(a)){const f=e.get(a).texture;return t(f,a.mapping)}else{const f=a.image;if(f&&f.height>0){const h=new Oa(f.height/2);return h.fromEquirectangularTexture(c,a),e.set(a,h),a.addEventListener("dispose",r),t(h.texture,a.mapping)}else return null}}return a}function r(a){const l=a.target;l.removeEventListener("dispose",r);const f=e.get(l);f!==void 0&&(e.delete(l),f.dispose())}function o(){e=new WeakMap}return{get:n,dispose:o}}class zu extends j1{constructor(e=-1,t=1,n=1,r=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=n-e,a=n+e,l=r+t,f=r-t;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,v=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=h*this.view.offsetX,a=o+h*this.view.width,l-=v*this.view.offsetY,f=l-v*this.view.height}this.projectionMatrix.makeOrthographic(o,a,l,f,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Vc=4,lf=[.125,.215,.35,.446,.526,.582],_c=20,C0=new zu,cf=new Br;let _0=null;const xc=(1+Math.sqrt(5))/2,Fc=1/xc,uf=[new we(1,1,1),new we(-1,1,1),new we(1,1,-1),new we(-1,1,-1),new we(0,xc,Fc),new we(0,xc,-Fc),new we(Fc,0,xc),new we(-Fc,0,xc),new we(xc,Fc,0),new we(-xc,Fc,0)];class x0{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){_0=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,n,r,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=hf(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=df(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_0),e.scissorTest=!1,Hu(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Jr||e.mapping===zr?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_0=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Jn,minFilter:Jn,generateMipmaps:!1,type:Xt,format:yi,encoding:Vs,depthBuffer:!1},r=ff(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=ff(e,t,n);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=D2(o)),this._blurMaterial=z2(o,e,t)}return r}_compileMaterial(e){const t=new Ls(this._lodPlanes[0],e);this._renderer.compile(t,C0)}_sceneToCubeUV(e,t,n,r){const l=new Ws(90,1,t,n),f=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],v=this._renderer,_=v.autoClear,C=v.toneMapping;v.getClearColor(cf),v.toneMapping=Mr,v.autoClear=!1;const y=new Ss({name:"PMREM.Background",side:yt,depthWrite:!1,depthTest:!1}),L=new Ls(new m1,y);let S=!1;const R=e.background;R?R.isColor&&(y.color.copy(R),e.background=null,S=!0):(y.color.copy(cf),S=!0);for(let k=0;k<6;k++){const Z=k%3;Z===0?(l.up.set(0,f[k],0),l.lookAt(h[k],0,0)):Z===1?(l.up.set(0,0,f[k]),l.lookAt(0,h[k],0)):(l.up.set(0,f[k],0),l.lookAt(0,0,h[k]));const B=this._cubeSize;Hu(r,Z*B,k>2?B:0,B,B),v.setRenderTarget(r),S&&v.render(L,l),v.render(e,l)}L.geometry.dispose(),L.material.dispose(),v.toneMapping=C,v.autoClear=_,e.background=R}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===Jr||e.mapping===zr;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=hf()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=df());const o=r?this._cubemapMaterial:this._equirectMaterial,a=new Ls(this._lodPlanes[0],o),l=o.uniforms;l.envMap.value=e;const f=this._cubeSize;Hu(t,0,0,3*f,2*f),n.setRenderTarget(t),n.render(a,C0)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=uf[(r-1)%uf.length];this._blur(e,r-1,r,o,a)}t.autoClear=n}_blur(e,t,n,r,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",o),this._halfBlur(a,e,n,n,r,"longitudinal",o)}_halfBlur(e,t,n,r,o,a,l){const f=this._renderer,h=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const v=3,_=new Ls(this._lodPlanes[r],h),C=h.uniforms,y=this._sizeLods[n]-1,L=isFinite(o)?Math.PI/(2*y):2*Math.PI/(2*_c-1),S=o/L,R=isFinite(o)?1+Math.floor(v*S):_c;R>_c&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${R} samples when the maximum is set to ${_c}`);const k=[];let Z=0;for(let Je=0;Je<_c;++Je){const G=Je/S,Le=Math.exp(-G*G/2);k.push(Le),Je===0?Z+=Le:Je<R&&(Z+=2*Le)}for(let Je=0;Je<k.length;Je++)k[Je]=k[Je]/Z;C.envMap.value=e.texture,C.samples.value=R,C.weights.value=k,C.latitudinal.value=a==="latitudinal",l&&(C.poleAxis.value=l);const{_lodMax:B}=this;C.dTheta.value=L,C.mipInt.value=B-n;const j=this._sizeLods[r],xe=3*j*(r>B-Vc?r-B+Vc:0),Ie=4*(this._cubeSize-j);Hu(t,xe,Ie,3*j,2*j),f.setRenderTarget(t),f.render(_,C0)}}function D2(c){const e=[],t=[],n=[];let r=c;const o=c-Vc+1+lf.length;for(let a=0;a<o;a++){const l=Math.pow(2,r);t.push(l);let f=1/l;a>c-Vc?f=lf[a-c+Vc-1]:a===0&&(f=0),n.push(f);const h=1/(l-2),v=-h,_=1+h,C=[v,v,_,v,_,_,v,v,_,_,v,_],y=6,L=6,S=3,R=2,k=1,Z=new Float32Array(S*L*y),B=new Float32Array(R*L*y),j=new Float32Array(k*L*y);for(let Ie=0;Ie<y;Ie++){const Je=Ie%3*2/3-1,G=Ie>2?0:-1,Le=[Je,G,0,Je+2/3,G,0,Je+2/3,G+1,0,Je,G,0,Je+2/3,G+1,0,Je,G+1,0];Z.set(Le,S*L*Ie),B.set(C,R*L*Ie);const st=[Ie,Ie,Ie,Ie,Ie,Ie];j.set(st,k*L*Ie)}const xe=new Ji;xe.setAttribute("position",new Go(Z,S)),xe.setAttribute("uv",new Go(B,R)),xe.setAttribute("faceIndex",new Go(j,k)),e.push(xe),r>Vc&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function ff(c,e,t){const n=new Do(c,e,t);return n.texture.mapping=Ii,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Hu(c,e,t,n,r){c.viewport.set(e,t,n,r),c.scissor.set(e,t,n,r)}function z2(c,e,t){const n=new Float32Array(_c),r=new we(0,1,0);return new o1({name:"SphericalGaussianBlur",defines:{n:_c,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${c}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:y0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:rr,depthTest:!1,depthWrite:!1})}function df(){return new o1({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:y0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:rr,depthTest:!1,depthWrite:!1})}function hf(){return new o1({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:y0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:rr,depthTest:!1,depthWrite:!1})}function y0(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function H2(c){let e=new WeakMap,t=null;function n(l){if(l&&l.isTexture){const f=l.mapping,h=f===gi||f===qr,v=f===Jr||f===zr;if(h||v)if(l.isRenderTargetTexture&&l.needsPMREMUpdate===!0){l.needsPMREMUpdate=!1;let _=e.get(l);return t===null&&(t=new x0(c)),_=h?t.fromEquirectangular(l,_):t.fromCubemap(l,_),e.set(l,_),_.texture}else{if(e.has(l))return e.get(l).texture;{const _=l.image;if(h&&_&&_.height>0||v&&_&&r(_)){t===null&&(t=new x0(c));const C=h?t.fromEquirectangular(l):t.fromCubemap(l);return e.set(l,C),l.addEventListener("dispose",o),C.texture}else return null}}}return l}function r(l){let f=0;const h=6;for(let v=0;v<h;v++)l[v]!==void 0&&f++;return f===h}function o(l){const f=l.target;f.removeEventListener("dispose",o);const h=e.get(f);h!==void 0&&(e.delete(f),h.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:a}}function B2(c){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=c.getExtension("WEBGL_depth_texture")||c.getExtension("MOZ_WEBGL_depth_texture")||c.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=c.getExtension("WEBGL_compressed_texture_s3tc")||c.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=c.getExtension("WEBGL_compressed_texture_pvrtc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=c.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const r=t(n);return r===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function N2(c,e,t,n){const r={},o=new WeakMap;function a(_){const C=_.target;C.index!==null&&e.remove(C.index);for(const L in C.attributes)e.remove(C.attributes[L]);C.removeEventListener("dispose",a),delete r[C.id];const y=o.get(C);y&&(e.remove(y),o.delete(C)),n.releaseStatesOfGeometry(C),C.isInstancedBufferGeometry===!0&&delete C._maxInstanceCount,t.memory.geometries--}function l(_,C){return r[C.id]===!0||(C.addEventListener("dispose",a),r[C.id]=!0,t.memory.geometries++),C}function f(_){const C=_.attributes;for(const L in C)e.update(C[L],34962);const y=_.morphAttributes;for(const L in y){const S=y[L];for(let R=0,k=S.length;R<k;R++)e.update(S[R],34962)}}function h(_){const C=[],y=_.index,L=_.attributes.position;let S=0;if(y!==null){const Z=y.array;S=y.version;for(let B=0,j=Z.length;B<j;B+=3){const xe=Z[B+0],Ie=Z[B+1],Je=Z[B+2];C.push(xe,Ie,Ie,Je,Je,xe)}}else{const Z=L.array;S=L.version;for(let B=0,j=Z.length/3-1;B<j;B+=3){const xe=B+0,Ie=B+1,Je=B+2;C.push(xe,Ie,Ie,Je,Je,xe)}}const R=new(Ya(C)?Pl:nc)(C,1);R.version=S;const k=o.get(_);k&&e.remove(k),o.set(_,R)}function v(_){const C=o.get(_);if(C){const y=_.index;y!==null&&C.version<y.version&&h(_)}else h(_);return o.get(_)}return{get:l,update:f,getWireframeAttribute:v}}function V2(c,e,t,n){const r=n.isWebGL2;let o;function a(C){o=C}let l,f;function h(C){l=C.type,f=C.bytesPerElement}function v(C,y){c.drawElements(o,y,l,C*f),t.update(y,o,1)}function _(C,y,L){if(L===0)return;let S,R;if(r)S=c,R="drawElementsInstanced";else if(S=e.get("ANGLE_instanced_arrays"),R="drawElementsInstancedANGLE",S===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}S[R](o,y,l,C*f,L),t.update(y,o,L)}this.setMode=a,this.setIndex=h,this.render=v,this.renderInstances=_}function F2(c){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(o,a,l){switch(t.calls++,a){case 4:t.triangles+=l*(o/3);break;case 1:t.lines+=l*(o/2);break;case 3:t.lines+=l*(o-1);break;case 2:t.lines+=l*o;break;case 0:t.points+=l*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function k2(c,e){return c[0]-e[0]}function U2(c,e){return Math.abs(e[1])-Math.abs(c[1])}function $2(c,e,t){const n={},r=new Float32Array(8),o=new WeakMap,a=new hi,l=[];for(let h=0;h<8;h++)l[h]=[h,0];function f(h,v,_){const C=h.morphTargetInfluences;if(e.isWebGL2===!0){const y=v.morphAttributes.position||v.morphAttributes.normal||v.morphAttributes.color,L=y!==void 0?y.length:0;let S=o.get(v);if(S===void 0||S.count!==L){let xt=function(){Mn.dispose(),o.delete(v),v.removeEventListener("dispose",xt)};S!==void 0&&S.texture.dispose();const Z=v.morphAttributes.position!==void 0,B=v.morphAttributes.normal!==void 0,j=v.morphAttributes.color!==void 0,xe=v.morphAttributes.position||[],Ie=v.morphAttributes.normal||[],Je=v.morphAttributes.color||[];let G=0;Z===!0&&(G=1),B===!0&&(G=2),j===!0&&(G=3);let Le=v.attributes.position.count*G,st=1;Le>e.maxTextureSize&&(st=Math.ceil(Le/e.maxTextureSize),Le=e.maxTextureSize);const Zt=new Float32Array(Le*st*4*L),Mn=new fs(Zt,Le,st,L);Mn.type=tt,Mn.needsUpdate=!0;const Bt=G*4;for(let en=0;en<L;en++){const Bn=xe[en],fr=Ie[en],_n=Je[en],jn=Le*st*4*en;for(let ar=0;ar<Bn.count;ar++){const Wr=ar*Bt;Z===!0&&(a.fromBufferAttribute(Bn,ar),Zt[jn+Wr+0]=a.x,Zt[jn+Wr+1]=a.y,Zt[jn+Wr+2]=a.z,Zt[jn+Wr+3]=0),B===!0&&(a.fromBufferAttribute(fr,ar),Zt[jn+Wr+4]=a.x,Zt[jn+Wr+5]=a.y,Zt[jn+Wr+6]=a.z,Zt[jn+Wr+7]=0),j===!0&&(a.fromBufferAttribute(_n,ar),Zt[jn+Wr+8]=a.x,Zt[jn+Wr+9]=a.y,Zt[jn+Wr+10]=a.z,Zt[jn+Wr+11]=_n.itemSize===4?a.w:1)}}S={count:L,texture:Mn,size:new Nt(Le,st)},o.set(v,S),v.addEventListener("dispose",xt)}let R=0;for(let Z=0;Z<C.length;Z++)R+=C[Z];const k=v.morphTargetsRelative?1:1-R;_.getUniforms().setValue(c,"morphTargetBaseInfluence",k),_.getUniforms().setValue(c,"morphTargetInfluences",C),_.getUniforms().setValue(c,"morphTargetsTexture",S.texture,t),_.getUniforms().setValue(c,"morphTargetsTextureSize",S.size)}else{const y=C===void 0?0:C.length;let L=n[v.id];if(L===void 0||L.length!==y){L=[];for(let B=0;B<y;B++)L[B]=[B,0];n[v.id]=L}for(let B=0;B<y;B++){const j=L[B];j[0]=B,j[1]=C[B]}L.sort(U2);for(let B=0;B<8;B++)B<y&&L[B][1]?(l[B][0]=L[B][0],l[B][1]=L[B][1]):(l[B][0]=Number.MAX_SAFE_INTEGER,l[B][1]=0);l.sort(k2);const S=v.morphAttributes.position,R=v.morphAttributes.normal;let k=0;for(let B=0;B<8;B++){const j=l[B],xe=j[0],Ie=j[1];xe!==Number.MAX_SAFE_INTEGER&&Ie?(S&&v.getAttribute("morphTarget"+B)!==S[xe]&&v.setAttribute("morphTarget"+B,S[xe]),R&&v.getAttribute("morphNormal"+B)!==R[xe]&&v.setAttribute("morphNormal"+B,R[xe]),r[B]=Ie,k+=Ie):(S&&v.hasAttribute("morphTarget"+B)===!0&&v.deleteAttribute("morphTarget"+B),R&&v.hasAttribute("morphNormal"+B)===!0&&v.deleteAttribute("morphNormal"+B),r[B]=0)}const Z=v.morphTargetsRelative?1:1-k;_.getUniforms().setValue(c,"morphTargetBaseInfluence",Z),_.getUniforms().setValue(c,"morphTargetInfluences",r)}}return{update:f}}function Z2(c,e,t,n){let r=new WeakMap;function o(f){const h=n.render.frame,v=f.geometry,_=e.get(f,v);return r.get(_)!==h&&(e.update(_),r.set(_,h)),f.isInstancedMesh&&(f.hasEventListener("dispose",l)===!1&&f.addEventListener("dispose",l),t.update(f.instanceMatrix,34962),f.instanceColor!==null&&t.update(f.instanceColor,34962)),_}function a(){r=new WeakMap}function l(f){const h=f.target;h.removeEventListener("dispose",l),t.remove(h.instanceMatrix),h.instanceColor!==null&&t.remove(h.instanceColor)}return{update:o,dispose:a}}const pf=new to,mf=new fs,gf=new Hs,vf=new v1,Cf=[],_f=[],xf=new Float32Array(16),yf=new Float32Array(9),wf=new Float32Array(4);function kc(c,e,t){const n=c[0];if(n<=0||n>0)return c;const r=e*t;let o=Cf[r];if(o===void 0&&(o=new Float32Array(r),Cf[r]=o),e!==0){n.toArray(o,0);for(let a=1,l=0;a!==e;++a)l+=t,c[a].toArray(o,l)}return o}function ma(c,e){if(c.length!==e.length)return!1;for(let t=0,n=c.length;t<n;t++)if(c[t]!==e[t])return!1;return!0}function ga(c,e){for(let t=0,n=e.length;t<n;t++)c[t]=e[t]}function Bu(c,e){let t=_f[e];t===void 0&&(t=new Int32Array(e),_f[e]=t);for(let n=0;n!==e;++n)t[n]=c.allocateTextureUnit();return t}function W2(c,e){const t=this.cache;t[0]!==e&&(c.uniform1f(this.addr,e),t[0]=e)}function j2(c,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(c.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ma(t,e))return;c.uniform2fv(this.addr,e),ga(t,e)}}function G2(c,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(c.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(c.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ma(t,e))return;c.uniform3fv(this.addr,e),ga(t,e)}}function X2(c,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(c.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ma(t,e))return;c.uniform4fv(this.addr,e),ga(t,e)}}function Y2(c,e){const t=this.cache,n=e.elements;if(n===void 0){if(ma(t,e))return;c.uniformMatrix2fv(this.addr,!1,e),ga(t,e)}else{if(ma(t,n))return;wf.set(n),c.uniformMatrix2fv(this.addr,!1,wf),ga(t,n)}}function K2(c,e){const t=this.cache,n=e.elements;if(n===void 0){if(ma(t,e))return;c.uniformMatrix3fv(this.addr,!1,e),ga(t,e)}else{if(ma(t,n))return;yf.set(n),c.uniformMatrix3fv(this.addr,!1,yf),ga(t,n)}}function J2(c,e){const t=this.cache,n=e.elements;if(n===void 0){if(ma(t,e))return;c.uniformMatrix4fv(this.addr,!1,e),ga(t,e)}else{if(ma(t,n))return;xf.set(n),c.uniformMatrix4fv(this.addr,!1,xf),ga(t,n)}}function q2(c,e){const t=this.cache;t[0]!==e&&(c.uniform1i(this.addr,e),t[0]=e)}function Q2(c,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(c.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ma(t,e))return;c.uniform2iv(this.addr,e),ga(t,e)}}function ed(c,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(c.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ma(t,e))return;c.uniform3iv(this.addr,e),ga(t,e)}}function td(c,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(c.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ma(t,e))return;c.uniform4iv(this.addr,e),ga(t,e)}}function nd(c,e){const t=this.cache;t[0]!==e&&(c.uniform1ui(this.addr,e),t[0]=e)}function rd(c,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(c.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ma(t,e))return;c.uniform2uiv(this.addr,e),ga(t,e)}}function id(c,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(c.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ma(t,e))return;c.uniform3uiv(this.addr,e),ga(t,e)}}function od(c,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(c.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ma(t,e))return;c.uniform4uiv(this.addr,e),ga(t,e)}}function sd(c,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(c.uniform1i(this.addr,r),n[0]=r),t.setTexture2D(e||pf,r)}function ad(c,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(c.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||gf,r)}function ld(c,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(c.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||vf,r)}function cd(c,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(c.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||mf,r)}function ud(c){switch(c){case 5126:return W2;case 35664:return j2;case 35665:return G2;case 35666:return X2;case 35674:return Y2;case 35675:return K2;case 35676:return J2;case 5124:case 35670:return q2;case 35667:case 35671:return Q2;case 35668:case 35672:return ed;case 35669:case 35673:return td;case 5125:return nd;case 36294:return rd;case 36295:return id;case 36296:return od;case 35678:case 36198:case 36298:case 36306:case 35682:return sd;case 35679:case 36299:case 36307:return ad;case 35680:case 36300:case 36308:case 36293:return ld;case 36289:case 36303:case 36311:case 36292:return cd}}function fd(c,e){c.uniform1fv(this.addr,e)}function dd(c,e){const t=kc(e,this.size,2);c.uniform2fv(this.addr,t)}function bf(c,e){const t=kc(e,this.size,3);c.uniform3fv(this.addr,t)}function Mf(c,e){const t=kc(e,this.size,4);c.uniform4fv(this.addr,t)}function hd(c,e){const t=kc(e,this.size,4);c.uniformMatrix2fv(this.addr,!1,t)}function pd(c,e){const t=kc(e,this.size,9);c.uniformMatrix3fv(this.addr,!1,t)}function md(c,e){const t=kc(e,this.size,16);c.uniformMatrix4fv(this.addr,!1,t)}function gd(c,e){c.uniform1iv(this.addr,e)}function Sf(c,e){c.uniform2iv(this.addr,e)}function Rf(c,e){c.uniform3iv(this.addr,e)}function vd(c,e){c.uniform4iv(this.addr,e)}function Cd(c,e){c.uniform1uiv(this.addr,e)}function _d(c,e){c.uniform2uiv(this.addr,e)}function xd(c,e){c.uniform3uiv(this.addr,e)}function Lf(c,e){c.uniform4uiv(this.addr,e)}function Ef(c,e,t){const n=this.cache,r=e.length,o=Bu(t,r);ma(n,o)||(c.uniform1iv(this.addr,o),ga(n,o));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||pf,o[a])}function yd(c,e,t){const n=this.cache,r=e.length,o=Bu(t,r);ma(n,o)||(c.uniform1iv(this.addr,o),ga(n,o));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||gf,o[a])}function wd(c,e,t){const n=this.cache,r=e.length,o=Bu(t,r);ma(n,o)||(c.uniform1iv(this.addr,o),ga(n,o));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||vf,o[a])}function Tf(c,e,t){const n=this.cache,r=e.length,o=Bu(t,r);ma(n,o)||(c.uniform1iv(this.addr,o),ga(n,o));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||mf,o[a])}function Af(c){switch(c){case 5126:return fd;case 35664:return dd;case 35665:return bf;case 35666:return Mf;case 35674:return hd;case 35675:return pd;case 35676:return md;case 5124:case 35670:return gd;case 35667:case 35671:return Sf;case 35668:case 35672:return Rf;case 35669:case 35673:return vd;case 5125:return Cd;case 36294:return _d;case 36295:return xd;case 36296:return Lf;case 35678:case 36198:case 36298:case 36306:case 35682:return Ef;case 35679:case 36299:case 36307:return yd;case 35680:case 36300:case 36308:case 36293:return wd;case 36289:case 36303:case 36311:case 36292:return Tf}}class bd{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=ud(t.type)}}class Md{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=Af(t.type)}}class Sd{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let o=0,a=r.length;o!==a;++o){const l=r[o];l.setValue(e,t[l.id],n)}}}const w0=/(\w+)(\])?(\[|\.)?/g;function Pf(c,e){c.seq.push(e),c.map[e.id]=e}function Rd(c,e,t){const n=c.name,r=n.length;for(w0.lastIndex=0;;){const o=w0.exec(n),a=w0.lastIndex;let l=o[1];const f=o[2]==="]",h=o[3];if(f&&(l=l|0),h===void 0||h==="["&&a+2===r){Pf(t,h===void 0?new bd(l,c,e):new Md(l,c,e));break}else{let _=t.map[l];_===void 0&&(_=new Sd(l),Pf(t,_)),t=_}}}class vu{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){const o=e.getActiveUniform(t,r),a=e.getUniformLocation(t,o.name);Rd(o,a,this)}}setValue(e,t,n,r){const o=this.map[t];o!==void 0&&o.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let o=0,a=t.length;o!==a;++o){const l=t[o],f=n[l.id];f.needsUpdate!==!1&&l.setValue(e,f.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,o=e.length;r!==o;++r){const a=e[r];a.id in t&&n.push(a)}return n}}function b0(c,e,t){const n=c.createShader(e);return c.shaderSource(n,t),c.compileShader(n),n}let Ld=0;function Ed(c,e){const t=c.split(`
`),n=[],r=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let a=r;a<o;a++){const l=a+1;n.push(`${l===e?">":" "} ${l}: ${t[a]}`)}return n.join(`
`)}function Td(c){switch(c){case Vs:return["Linear","( value )"];case zi:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",c),["Linear","( value )"]}}function If(c,e,t){const n=c.getShaderParameter(e,35713),r=c.getShaderInfoLog(e).trim();if(n&&r==="")return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const a=parseInt(o[1]);return t.toUpperCase()+`

`+r+`

`+Ed(c.getShaderSource(e),a)}else return r}function Ad(c,e){const t=Td(e);return"vec4 "+c+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Pd(c,e){let t;switch(e){case Er:t="Linear";break;case Wn:t="Reinhard";break;case Nn:t="OptimizedCineon";break;case Nr:t="ACESFilmic";break;case ti:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+c+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Id(c){return[c.extensionDerivatives||c.envMapCubeUVHeight||c.bumpMap||c.tangentSpaceNormalMap||c.clearcoatNormalMap||c.flatShading||c.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(c.extensionFragDepth||c.logarithmicDepthBuffer)&&c.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",c.extensionDrawBuffers&&c.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(c.extensionShaderTextureLOD||c.envMap||c.transmission)&&c.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Cu).join(`
`)}function Od(c){const e=[];for(const t in c){const n=c[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function Dd(c,e){const t={},n=c.getProgramParameter(e,35721);for(let r=0;r<n;r++){const o=c.getActiveAttrib(e,r),a=o.name;let l=1;o.type===35674&&(l=2),o.type===35675&&(l=3),o.type===35676&&(l=4),t[a]={type:o.type,location:c.getAttribLocation(e,a),locationSize:l}}return t}function Cu(c){return c!==""}function Of(c,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return c.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Df(c,e){return c.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const zd=/^[ \t]*#include +<([\w\d./]+)>/gm;function M0(c){return c.replace(zd,Hd)}function Hd(c,e){const t=so[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return M0(t)}const Bd=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function zf(c){return c.replace(Bd,Nd)}function Nd(c,e,t,n){let r="";for(let o=parseInt(e);o<parseInt(t);o++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function Hf(c){let e="precision "+c.precision+` float;
precision `+c.precision+" int;";return c.precision==="highp"?e+=`
#define HIGH_PRECISION`:c.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:c.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Vd(c){let e="SHADOWMAP_TYPE_BASIC";return c.shadowMapType===Ce?e="SHADOWMAP_TYPE_PCF":c.shadowMapType===Re?e="SHADOWMAP_TYPE_PCF_SOFT":c.shadowMapType===ot&&(e="SHADOWMAP_TYPE_VSM"),e}function Fd(c){let e="ENVMAP_TYPE_CUBE";if(c.envMap)switch(c.envMapMode){case Jr:case zr:e="ENVMAP_TYPE_CUBE";break;case Ii:e="ENVMAP_TYPE_CUBE_UV";break}return e}function kd(c){let e="ENVMAP_MODE_REFLECTION";if(c.envMap)switch(c.envMapMode){case zr:e="ENVMAP_MODE_REFRACTION";break}return e}function Ud(c){let e="ENVMAP_BLENDING_NONE";if(c.envMap)switch(c.combine){case Cn:e="ENVMAP_BLENDING_MULTIPLY";break;case dr:e="ENVMAP_BLENDING_MIX";break;case lr:e="ENVMAP_BLENDING_ADD";break}return e}function $d(c){const e=c.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function J(c,e,t,n){const r=c.getContext(),o=t.defines;let a=t.vertexShader,l=t.fragmentShader;const f=Vd(t),h=Fd(t),v=kd(t),_=Ud(t),C=$d(t),y=t.isWebGL2?"":Id(t),L=Od(o),S=r.createProgram();let R,k,Z=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(R=[L].filter(Cu).join(`
`),R.length>0&&(R+=`
`),k=[y,L].filter(Cu).join(`
`),k.length>0&&(k+=`
`)):(R=[Hf(t),"#define SHADER_NAME "+t.shaderName,L,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+v:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Cu).join(`
`),k=[y,Hf(t),"#define SHADER_NAME "+t.shaderName,L,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.envMap?"#define "+v:"",t.envMap?"#define "+_:"",C?"#define CUBEUV_TEXEL_WIDTH "+C.texelWidth:"",C?"#define CUBEUV_TEXEL_HEIGHT "+C.texelHeight:"",C?"#define CUBEUV_MAX_MIP "+C.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Mr?"#define TONE_MAPPING":"",t.toneMapping!==Mr?so.tonemapping_pars_fragment:"",t.toneMapping!==Mr?Pd("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",so.encodings_pars_fragment,Ad("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Cu).join(`
`)),a=M0(a),a=Of(a,t),a=Df(a,t),l=M0(l),l=Of(l,t),l=Df(l,t),a=zf(a),l=zf(l),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(Z=`#version 300 es
`,R=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+R,k=["#define varying in",t.glslVersion===$n?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===$n?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+k);const B=Z+R+a,j=Z+k+l,xe=b0(r,35633,B),Ie=b0(r,35632,j);if(r.attachShader(S,xe),r.attachShader(S,Ie),t.index0AttributeName!==void 0?r.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(S,0,"position"),r.linkProgram(S),c.debug.checkShaderErrors){const Le=r.getProgramInfoLog(S).trim(),st=r.getShaderInfoLog(xe).trim(),Zt=r.getShaderInfoLog(Ie).trim();let Mn=!0,Bt=!0;if(r.getProgramParameter(S,35714)===!1){Mn=!1;const xt=If(r,xe,"vertex"),en=If(r,Ie,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(S,35715)+`

Program Info Log: `+Le+`
`+xt+`
`+en)}else Le!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Le):(st===""||Zt==="")&&(Bt=!1);Bt&&(this.diagnostics={runnable:Mn,programLog:Le,vertexShader:{log:st,prefix:R},fragmentShader:{log:Zt,prefix:k}})}r.deleteShader(xe),r.deleteShader(Ie);let Je;this.getUniforms=function(){return Je===void 0&&(Je=new vu(r,S)),Je};let G;return this.getAttributes=function(){return G===void 0&&(G=Dd(r,S)),G},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(S),this.program=void 0},this.name=t.shaderName,this.id=Ld++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=xe,this.fragmentShader=Ie,this}let ae=0;class q{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),o=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new re(e),t.set(e,n)),n}}class re{constructor(e){this.id=ae++,this.code=e,this.usedTimes=0}}function se(c,e,t,n,r,o,a){const l=new oo,f=new q,h=[],v=r.isWebGL2,_=r.logarithmicDepthBuffer,C=r.vertexTextures;let y=r.precision;const L={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(G,Le,st,Zt,Mn){const Bt=Zt.fog,xt=Mn.geometry,en=G.isMeshStandardMaterial?Zt.environment:null,Bn=(G.isMeshStandardMaterial?t:e).get(G.envMap||en),fr=Bn&&Bn.mapping===Ii?Bn.image.height:null,_n=L[G.type];G.precision!==null&&(y=r.getMaxPrecision(G.precision),y!==G.precision&&console.warn("THREE.WebGLProgram.getParameters:",G.precision,"not supported, using",y,"instead."));const jn=xt.morphAttributes.position||xt.morphAttributes.normal||xt.morphAttributes.color,ar=jn!==void 0?jn.length:0;let Wr=0;xt.morphAttributes.position!==void 0&&(Wr=1),xt.morphAttributes.normal!==void 0&&(Wr=2),xt.morphAttributes.color!==void 0&&(Wr=3);let Kt,er,Ir,Ot;if(_n){const Zi=V1[_n];Kt=Zi.vertexShader,er=Zi.fragmentShader}else Kt=G.vertexShader,er=G.fragmentShader,f.update(G),Ir=f.getVertexShaderID(G),Ot=f.getFragmentShaderID(G);const ii=c.getRenderTarget(),Vr=G.alphaTest>0,ei=G.clearcoat>0,ai=G.iridescence>0;return{isWebGL2:v,shaderID:_n,shaderName:G.type,vertexShader:Kt,fragmentShader:er,defines:G.defines,customVertexShaderID:Ir,customFragmentShaderID:Ot,isRawShaderMaterial:G.isRawShaderMaterial===!0,glslVersion:G.glslVersion,precision:y,instancing:Mn.isInstancedMesh===!0,instancingColor:Mn.isInstancedMesh===!0&&Mn.instanceColor!==null,supportsVertexTextures:C,outputEncoding:ii===null?c.outputEncoding:ii.isXRRenderTarget===!0?ii.texture.encoding:Vs,map:!!G.map,matcap:!!G.matcap,envMap:!!Bn,envMapMode:Bn&&Bn.mapping,envMapCubeUVHeight:fr,lightMap:!!G.lightMap,aoMap:!!G.aoMap,emissiveMap:!!G.emissiveMap,bumpMap:!!G.bumpMap,normalMap:!!G.normalMap,objectSpaceNormalMap:G.normalMapType===Ys,tangentSpaceNormalMap:G.normalMapType===Ci,decodeVideoTexture:!!G.map&&G.map.isVideoTexture===!0&&G.map.encoding===zi,clearcoat:ei,clearcoatMap:ei&&!!G.clearcoatMap,clearcoatRoughnessMap:ei&&!!G.clearcoatRoughnessMap,clearcoatNormalMap:ei&&!!G.clearcoatNormalMap,iridescence:ai,iridescenceMap:ai&&!!G.iridescenceMap,iridescenceThicknessMap:ai&&!!G.iridescenceThicknessMap,displacementMap:!!G.displacementMap,roughnessMap:!!G.roughnessMap,metalnessMap:!!G.metalnessMap,specularMap:!!G.specularMap,specularIntensityMap:!!G.specularIntensityMap,specularColorMap:!!G.specularColorMap,opaque:G.transparent===!1&&G.blending===hn,alphaMap:!!G.alphaMap,alphaTest:Vr,gradientMap:!!G.gradientMap,sheen:G.sheen>0,sheenColorMap:!!G.sheenColorMap,sheenRoughnessMap:!!G.sheenRoughnessMap,transmission:G.transmission>0,transmissionMap:!!G.transmissionMap,thicknessMap:!!G.thicknessMap,combine:G.combine,vertexTangents:!!G.normalMap&&!!xt.attributes.tangent,vertexColors:G.vertexColors,vertexAlphas:G.vertexColors===!0&&!!xt.attributes.color&&xt.attributes.color.itemSize===4,vertexUvs:!!G.map||!!G.bumpMap||!!G.normalMap||!!G.specularMap||!!G.alphaMap||!!G.emissiveMap||!!G.roughnessMap||!!G.metalnessMap||!!G.clearcoatMap||!!G.clearcoatRoughnessMap||!!G.clearcoatNormalMap||!!G.iridescenceMap||!!G.iridescenceThicknessMap||!!G.displacementMap||!!G.transmissionMap||!!G.thicknessMap||!!G.specularIntensityMap||!!G.specularColorMap||!!G.sheenColorMap||!!G.sheenRoughnessMap,uvsVertexOnly:!(G.map||G.bumpMap||G.normalMap||G.specularMap||G.alphaMap||G.emissiveMap||G.roughnessMap||G.metalnessMap||G.clearcoatNormalMap||G.iridescenceMap||G.iridescenceThicknessMap||G.transmission>0||G.transmissionMap||G.thicknessMap||G.specularIntensityMap||G.specularColorMap||G.sheen>0||G.sheenColorMap||G.sheenRoughnessMap)&&!!G.displacementMap,fog:!!Bt,useFog:G.fog===!0,fogExp2:Bt&&Bt.isFogExp2,flatShading:!!G.flatShading,sizeAttenuation:G.sizeAttenuation,logarithmicDepthBuffer:_,skinning:Mn.isSkinnedMesh===!0,morphTargets:xt.morphAttributes.position!==void 0,morphNormals:xt.morphAttributes.normal!==void 0,morphColors:xt.morphAttributes.color!==void 0,morphTargetsCount:ar,morphTextureStride:Wr,numDirLights:Le.directional.length,numPointLights:Le.point.length,numSpotLights:Le.spot.length,numSpotLightMaps:Le.spotLightMap.length,numRectAreaLights:Le.rectArea.length,numHemiLights:Le.hemi.length,numDirLightShadows:Le.directionalShadowMap.length,numPointLightShadows:Le.pointShadowMap.length,numSpotLightShadows:Le.spotShadowMap.length,numSpotLightShadowsWithMaps:Le.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:G.dithering,shadowMapEnabled:c.shadowMap.enabled&&st.length>0,shadowMapType:c.shadowMap.type,toneMapping:G.toneMapped?c.toneMapping:Mr,useLegacyLights:c.useLegacyLights,premultipliedAlpha:G.premultipliedAlpha,doubleSided:G.side===Rt,flipSided:G.side===yt,useDepthPacking:!!G.depthPacking,depthPacking:G.depthPacking||0,index0AttributeName:G.index0AttributeName,extensionDerivatives:G.extensions&&G.extensions.derivatives,extensionFragDepth:G.extensions&&G.extensions.fragDepth,extensionDrawBuffers:G.extensions&&G.extensions.drawBuffers,extensionShaderTextureLOD:G.extensions&&G.extensions.shaderTextureLOD,rendererExtensionFragDepth:v||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:v||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:v||n.has("EXT_shader_texture_lod"),customProgramCacheKey:G.customProgramCacheKey()}}function R(G){const Le=[];if(G.shaderID?Le.push(G.shaderID):(Le.push(G.customVertexShaderID),Le.push(G.customFragmentShaderID)),G.defines!==void 0)for(const st in G.defines)Le.push(st),Le.push(G.defines[st]);return G.isRawShaderMaterial===!1&&(k(Le,G),Z(Le,G),Le.push(c.outputEncoding)),Le.push(G.customProgramCacheKey),Le.join()}function k(G,Le){G.push(Le.precision),G.push(Le.outputEncoding),G.push(Le.envMapMode),G.push(Le.envMapCubeUVHeight),G.push(Le.combine),G.push(Le.vertexUvs),G.push(Le.fogExp2),G.push(Le.sizeAttenuation),G.push(Le.morphTargetsCount),G.push(Le.morphAttributeCount),G.push(Le.numDirLights),G.push(Le.numPointLights),G.push(Le.numSpotLights),G.push(Le.numSpotLightMaps),G.push(Le.numHemiLights),G.push(Le.numRectAreaLights),G.push(Le.numDirLightShadows),G.push(Le.numPointLightShadows),G.push(Le.numSpotLightShadows),G.push(Le.numSpotLightShadowsWithMaps),G.push(Le.shadowMapType),G.push(Le.toneMapping),G.push(Le.numClippingPlanes),G.push(Le.numClipIntersection),G.push(Le.depthPacking)}function Z(G,Le){l.disableAll(),Le.isWebGL2&&l.enable(0),Le.supportsVertexTextures&&l.enable(1),Le.instancing&&l.enable(2),Le.instancingColor&&l.enable(3),Le.map&&l.enable(4),Le.matcap&&l.enable(5),Le.envMap&&l.enable(6),Le.lightMap&&l.enable(7),Le.aoMap&&l.enable(8),Le.emissiveMap&&l.enable(9),Le.bumpMap&&l.enable(10),Le.normalMap&&l.enable(11),Le.objectSpaceNormalMap&&l.enable(12),Le.tangentSpaceNormalMap&&l.enable(13),Le.clearcoat&&l.enable(14),Le.clearcoatMap&&l.enable(15),Le.clearcoatRoughnessMap&&l.enable(16),Le.clearcoatNormalMap&&l.enable(17),Le.iridescence&&l.enable(18),Le.iridescenceMap&&l.enable(19),Le.iridescenceThicknessMap&&l.enable(20),Le.displacementMap&&l.enable(21),Le.specularMap&&l.enable(22),Le.roughnessMap&&l.enable(23),Le.metalnessMap&&l.enable(24),Le.gradientMap&&l.enable(25),Le.alphaMap&&l.enable(26),Le.alphaTest&&l.enable(27),Le.vertexColors&&l.enable(28),Le.vertexAlphas&&l.enable(29),Le.vertexUvs&&l.enable(30),Le.vertexTangents&&l.enable(31),Le.uvsVertexOnly&&l.enable(32),G.push(l.mask),l.disableAll(),Le.fog&&l.enable(0),Le.useFog&&l.enable(1),Le.flatShading&&l.enable(2),Le.logarithmicDepthBuffer&&l.enable(3),Le.skinning&&l.enable(4),Le.morphTargets&&l.enable(5),Le.morphNormals&&l.enable(6),Le.morphColors&&l.enable(7),Le.premultipliedAlpha&&l.enable(8),Le.shadowMapEnabled&&l.enable(9),Le.useLegacyLights&&l.enable(10),Le.doubleSided&&l.enable(11),Le.flipSided&&l.enable(12),Le.useDepthPacking&&l.enable(13),Le.dithering&&l.enable(14),Le.specularIntensityMap&&l.enable(15),Le.specularColorMap&&l.enable(16),Le.transmission&&l.enable(17),Le.transmissionMap&&l.enable(18),Le.thicknessMap&&l.enable(19),Le.sheen&&l.enable(20),Le.sheenColorMap&&l.enable(21),Le.sheenRoughnessMap&&l.enable(22),Le.decodeVideoTexture&&l.enable(23),Le.opaque&&l.enable(24),G.push(l.mask)}function B(G){const Le=L[G.type];let st;if(Le){const Zt=V1[Le];st=sc.clone(Zt.uniforms)}else st=G.uniforms;return st}function j(G,Le){let st;for(let Zt=0,Mn=h.length;Zt<Mn;Zt++){const Bt=h[Zt];if(Bt.cacheKey===Le){st=Bt,++st.usedTimes;break}}return st===void 0&&(st=new J(c,Le,G,o),h.push(st)),st}function xe(G){if(--G.usedTimes===0){const Le=h.indexOf(G);h[Le]=h[h.length-1],h.pop(),G.destroy()}}function Ie(G){f.remove(G)}function Je(){f.dispose()}return{getParameters:S,getProgramCacheKey:R,getUniforms:B,acquireProgram:j,releaseProgram:xe,releaseShaderCache:Ie,programs:h,dispose:Je}}function _u(){let c=new WeakMap;function e(o){let a=c.get(o);return a===void 0&&(a={},c.set(o,a)),a}function t(o){c.delete(o)}function n(o,a,l){c.get(o)[a]=l}function r(){c=new WeakMap}return{get:e,remove:t,update:n,dispose:r}}function kh(c,e){return c.groupOrder!==e.groupOrder?c.groupOrder-e.groupOrder:c.renderOrder!==e.renderOrder?c.renderOrder-e.renderOrder:c.material.id!==e.material.id?c.material.id-e.material.id:c.z!==e.z?c.z-e.z:c.id-e.id}function Zd(c,e){return c.groupOrder!==e.groupOrder?c.groupOrder-e.groupOrder:c.renderOrder!==e.renderOrder?c.renderOrder-e.renderOrder:c.z!==e.z?e.z-c.z:c.id-e.id}function Wd(){const c=[];let e=0;const t=[],n=[],r=[];function o(){e=0,t.length=0,n.length=0,r.length=0}function a(_,C,y,L,S,R){let k=c[e];return k===void 0?(k={id:_.id,object:_,geometry:C,material:y,groupOrder:L,renderOrder:_.renderOrder,z:S,group:R},c[e]=k):(k.id=_.id,k.object=_,k.geometry=C,k.material=y,k.groupOrder=L,k.renderOrder=_.renderOrder,k.z=S,k.group=R),e++,k}function l(_,C,y,L,S,R){const k=a(_,C,y,L,S,R);y.transmission>0?n.push(k):y.transparent===!0?r.push(k):t.push(k)}function f(_,C,y,L,S,R){const k=a(_,C,y,L,S,R);y.transmission>0?n.unshift(k):y.transparent===!0?r.unshift(k):t.unshift(k)}function h(_,C){t.length>1&&t.sort(_||kh),n.length>1&&n.sort(C||Zd),r.length>1&&r.sort(C||Zd)}function v(){for(let _=e,C=c.length;_<C;_++){const y=c[_];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:t,transmissive:n,transparent:r,init:o,push:l,unshift:f,finish:v,sort:h}}function Uh(){let c=new WeakMap;function e(n,r){const o=c.get(n);let a;return o===void 0?(a=new Wd,c.set(n,[a])):r>=o.length?(a=new Wd,o.push(a)):a=o[r],a}function t(){c=new WeakMap}return{get:e,dispose:t}}function $h(){const c={};return{get:function(e){if(c[e.id]!==void 0)return c[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new we,color:new Br};break;case"SpotLight":t={position:new we,direction:new we,color:new Br,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new we,color:new Br,distance:0,decay:0};break;case"HemisphereLight":t={direction:new we,skyColor:new Br,groundColor:new Br};break;case"RectAreaLight":t={color:new Br,position:new we,halfWidth:new we,halfHeight:new we};break}return c[e.id]=t,t}}}function Zh(){const c={};return{get:function(e){if(c[e.id]!==void 0)return c[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Nt};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Nt};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Nt,shadowCameraNear:1,shadowCameraFar:1e3};break}return c[e.id]=t,t}}}let Wh=0;function jh(c,e){return(e.castShadow?2:0)-(c.castShadow?2:0)+(e.map?1:0)-(c.map?1:0)}function Gh(c,e){const t=new $h,n=Zh(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let v=0;v<9;v++)r.probe.push(new we);const o=new we,a=new Yr,l=new Yr;function f(v,_){let C=0,y=0,L=0;for(let Zt=0;Zt<9;Zt++)r.probe[Zt].set(0,0,0);let S=0,R=0,k=0,Z=0,B=0,j=0,xe=0,Ie=0,Je=0,G=0;v.sort(jh);const Le=_===!0?Math.PI:1;for(let Zt=0,Mn=v.length;Zt<Mn;Zt++){const Bt=v[Zt],xt=Bt.color,en=Bt.intensity,Bn=Bt.distance,fr=Bt.shadow&&Bt.shadow.map?Bt.shadow.map.texture:null;if(Bt.isAmbientLight)C+=xt.r*en*Le,y+=xt.g*en*Le,L+=xt.b*en*Le;else if(Bt.isLightProbe)for(let _n=0;_n<9;_n++)r.probe[_n].addScaledVector(Bt.sh.coefficients[_n],en);else if(Bt.isDirectionalLight){const _n=t.get(Bt);if(_n.color.copy(Bt.color).multiplyScalar(Bt.intensity*Le),Bt.castShadow){const jn=Bt.shadow,ar=n.get(Bt);ar.shadowBias=jn.bias,ar.shadowNormalBias=jn.normalBias,ar.shadowRadius=jn.radius,ar.shadowMapSize=jn.mapSize,r.directionalShadow[S]=ar,r.directionalShadowMap[S]=fr,r.directionalShadowMatrix[S]=Bt.shadow.matrix,j++}r.directional[S]=_n,S++}else if(Bt.isSpotLight){const _n=t.get(Bt);_n.position.setFromMatrixPosition(Bt.matrixWorld),_n.color.copy(xt).multiplyScalar(en*Le),_n.distance=Bn,_n.coneCos=Math.cos(Bt.angle),_n.penumbraCos=Math.cos(Bt.angle*(1-Bt.penumbra)),_n.decay=Bt.decay,r.spot[k]=_n;const jn=Bt.shadow;if(Bt.map&&(r.spotLightMap[Je]=Bt.map,Je++,jn.updateMatrices(Bt),Bt.castShadow&&G++),r.spotLightMatrix[k]=jn.matrix,Bt.castShadow){const ar=n.get(Bt);ar.shadowBias=jn.bias,ar.shadowNormalBias=jn.normalBias,ar.shadowRadius=jn.radius,ar.shadowMapSize=jn.mapSize,r.spotShadow[k]=ar,r.spotShadowMap[k]=fr,Ie++}k++}else if(Bt.isRectAreaLight){const _n=t.get(Bt);_n.color.copy(xt).multiplyScalar(en),_n.halfWidth.set(Bt.width*.5,0,0),_n.halfHeight.set(0,Bt.height*.5,0),r.rectArea[Z]=_n,Z++}else if(Bt.isPointLight){const _n=t.get(Bt);if(_n.color.copy(Bt.color).multiplyScalar(Bt.intensity*Le),_n.distance=Bt.distance,_n.decay=Bt.decay,Bt.castShadow){const jn=Bt.shadow,ar=n.get(Bt);ar.shadowBias=jn.bias,ar.shadowNormalBias=jn.normalBias,ar.shadowRadius=jn.radius,ar.shadowMapSize=jn.mapSize,ar.shadowCameraNear=jn.camera.near,ar.shadowCameraFar=jn.camera.far,r.pointShadow[R]=ar,r.pointShadowMap[R]=fr,r.pointShadowMatrix[R]=Bt.shadow.matrix,xe++}r.point[R]=_n,R++}else if(Bt.isHemisphereLight){const _n=t.get(Bt);_n.skyColor.copy(Bt.color).multiplyScalar(en*Le),_n.groundColor.copy(Bt.groundColor).multiplyScalar(en*Le),r.hemi[B]=_n,B++}}Z>0&&(e.isWebGL2||c.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Rr.LTC_FLOAT_1,r.rectAreaLTC2=Rr.LTC_FLOAT_2):c.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Rr.LTC_HALF_1,r.rectAreaLTC2=Rr.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=C,r.ambient[1]=y,r.ambient[2]=L;const st=r.hash;(st.directionalLength!==S||st.pointLength!==R||st.spotLength!==k||st.rectAreaLength!==Z||st.hemiLength!==B||st.numDirectionalShadows!==j||st.numPointShadows!==xe||st.numSpotShadows!==Ie||st.numSpotMaps!==Je)&&(r.directional.length=S,r.spot.length=k,r.rectArea.length=Z,r.point.length=R,r.hemi.length=B,r.directionalShadow.length=j,r.directionalShadowMap.length=j,r.pointShadow.length=xe,r.pointShadowMap.length=xe,r.spotShadow.length=Ie,r.spotShadowMap.length=Ie,r.directionalShadowMatrix.length=j,r.pointShadowMatrix.length=xe,r.spotLightMatrix.length=Ie+Je-G,r.spotLightMap.length=Je,r.numSpotLightShadowsWithMaps=G,st.directionalLength=S,st.pointLength=R,st.spotLength=k,st.rectAreaLength=Z,st.hemiLength=B,st.numDirectionalShadows=j,st.numPointShadows=xe,st.numSpotShadows=Ie,st.numSpotMaps=Je,r.version=Wh++)}function h(v,_){let C=0,y=0,L=0,S=0,R=0;const k=_.matrixWorldInverse;for(let Z=0,B=v.length;Z<B;Z++){const j=v[Z];if(j.isDirectionalLight){const xe=r.directional[C];xe.direction.setFromMatrixPosition(j.matrixWorld),o.setFromMatrixPosition(j.target.matrixWorld),xe.direction.sub(o),xe.direction.transformDirection(k),C++}else if(j.isSpotLight){const xe=r.spot[L];xe.position.setFromMatrixPosition(j.matrixWorld),xe.position.applyMatrix4(k),xe.direction.setFromMatrixPosition(j.matrixWorld),o.setFromMatrixPosition(j.target.matrixWorld),xe.direction.sub(o),xe.direction.transformDirection(k),L++}else if(j.isRectAreaLight){const xe=r.rectArea[S];xe.position.setFromMatrixPosition(j.matrixWorld),xe.position.applyMatrix4(k),l.identity(),a.copy(j.matrixWorld),a.premultiply(k),l.extractRotation(a),xe.halfWidth.set(j.width*.5,0,0),xe.halfHeight.set(0,j.height*.5,0),xe.halfWidth.applyMatrix4(l),xe.halfHeight.applyMatrix4(l),S++}else if(j.isPointLight){const xe=r.point[y];xe.position.setFromMatrixPosition(j.matrixWorld),xe.position.applyMatrix4(k),y++}else if(j.isHemisphereLight){const xe=r.hemi[R];xe.direction.setFromMatrixPosition(j.matrixWorld),xe.direction.transformDirection(k),R++}}}return{setup:f,setupView:h,state:r}}function jd(c,e){const t=new Gh(c,e),n=[],r=[];function o(){n.length=0,r.length=0}function a(_){n.push(_)}function l(_){r.push(_)}function f(_){t.setup(n,_)}function h(_){t.setupView(n,_)}return{init:o,state:{lightsArray:n,shadowsArray:r,lights:t},setupLights:f,setupLightsView:h,pushLight:a,pushShadow:l}}function Xh(c,e){let t=new WeakMap;function n(o,a=0){const l=t.get(o);let f;return l===void 0?(f=new jd(c,e),t.set(o,[f])):a>=l.length?(f=new jd(c,e),l.push(f)):f=l[a],f}function r(){t=new WeakMap}return{get:n,dispose:r}}class Bf extends Ms{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Cs,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Nf extends Ms{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new we,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Yh=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Kh=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Jh(c,e,t){let n=new Y1;const r=new Nt,o=new Nt,a=new hi,l=new Bf({depthPacking:ea}),f=new Nf,h={},v=t.maxTextureSize,_={[_e]:yt,[yt]:_e,[Rt]:Rt},C=new o1({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Nt},radius:{value:4}},vertexShader:Yh,fragmentShader:Kh}),y=C.clone();y.defines.HORIZONTAL_PASS=1;const L=new Ji;L.setAttribute("position",new Go(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Ls(L,C),R=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ce,this.render=function(j,xe,Ie){if(R.enabled===!1||R.autoUpdate===!1&&R.needsUpdate===!1||j.length===0)return;const Je=c.getRenderTarget(),G=c.getActiveCubeFace(),Le=c.getActiveMipmapLevel(),st=c.state;st.setBlending(rr),st.buffers.color.setClear(1,1,1,1),st.buffers.depth.setTest(!0),st.setScissorTest(!1);for(let Zt=0,Mn=j.length;Zt<Mn;Zt++){const Bt=j[Zt],xt=Bt.shadow;if(xt===void 0){console.warn("THREE.WebGLShadowMap:",Bt,"has no shadow.");continue}if(xt.autoUpdate===!1&&xt.needsUpdate===!1)continue;r.copy(xt.mapSize);const en=xt.getFrameExtents();if(r.multiply(en),o.copy(xt.mapSize),(r.x>v||r.y>v)&&(r.x>v&&(o.x=Math.floor(v/en.x),r.x=o.x*en.x,xt.mapSize.x=o.x),r.y>v&&(o.y=Math.floor(v/en.y),r.y=o.y*en.y,xt.mapSize.y=o.y)),xt.map===null){const fr=this.type!==ot?{minFilter:an,magFilter:an}:{};xt.map=new Do(r.x,r.y,fr),xt.map.texture.name=Bt.name+".shadowMap",xt.camera.updateProjectionMatrix()}c.setRenderTarget(xt.map),c.clear();const Bn=xt.getViewportCount();for(let fr=0;fr<Bn;fr++){const _n=xt.getViewport(fr);a.set(o.x*_n.x,o.y*_n.y,o.x*_n.z,o.y*_n.w),st.viewport(a),xt.updateMatrices(Bt,fr),n=xt.getFrustum(),B(xe,Ie,xt.camera,Bt,this.type)}xt.isPointLightShadow!==!0&&this.type===ot&&k(xt,Ie),xt.needsUpdate=!1}R.needsUpdate=!1,c.setRenderTarget(Je,G,Le)};function k(j,xe){const Ie=e.update(S);C.defines.VSM_SAMPLES!==j.blurSamples&&(C.defines.VSM_SAMPLES=j.blurSamples,y.defines.VSM_SAMPLES=j.blurSamples,C.needsUpdate=!0,y.needsUpdate=!0),j.mapPass===null&&(j.mapPass=new Do(r.x,r.y)),C.uniforms.shadow_pass.value=j.map.texture,C.uniforms.resolution.value=j.mapSize,C.uniforms.radius.value=j.radius,c.setRenderTarget(j.mapPass),c.clear(),c.renderBufferDirect(xe,null,Ie,C,S,null),y.uniforms.shadow_pass.value=j.mapPass.texture,y.uniforms.resolution.value=j.mapSize,y.uniforms.radius.value=j.radius,c.setRenderTarget(j.map),c.clear(),c.renderBufferDirect(xe,null,Ie,y,S,null)}function Z(j,xe,Ie,Je,G,Le){let st=null;const Zt=Ie.isPointLight===!0?j.customDistanceMaterial:j.customDepthMaterial;if(Zt!==void 0)st=Zt;else if(st=Ie.isPointLight===!0?f:l,c.localClippingEnabled&&xe.clipShadows===!0&&Array.isArray(xe.clippingPlanes)&&xe.clippingPlanes.length!==0||xe.displacementMap&&xe.displacementScale!==0||xe.alphaMap&&xe.alphaTest>0||xe.map&&xe.alphaTest>0){const Mn=st.uuid,Bt=xe.uuid;let xt=h[Mn];xt===void 0&&(xt={},h[Mn]=xt);let en=xt[Bt];en===void 0&&(en=st.clone(),xt[Bt]=en),st=en}return st.visible=xe.visible,st.wireframe=xe.wireframe,Le===ot?st.side=xe.shadowSide!==null?xe.shadowSide:xe.side:st.side=xe.shadowSide!==null?xe.shadowSide:_[xe.side],st.alphaMap=xe.alphaMap,st.alphaTest=xe.alphaTest,st.map=xe.map,st.clipShadows=xe.clipShadows,st.clippingPlanes=xe.clippingPlanes,st.clipIntersection=xe.clipIntersection,st.displacementMap=xe.displacementMap,st.displacementScale=xe.displacementScale,st.displacementBias=xe.displacementBias,st.wireframeLinewidth=xe.wireframeLinewidth,st.linewidth=xe.linewidth,Ie.isPointLight===!0&&st.isMeshDistanceMaterial===!0&&(st.referencePosition.setFromMatrixPosition(Ie.matrixWorld),st.nearDistance=Je,st.farDistance=G),st}function B(j,xe,Ie,Je,G){if(j.visible===!1)return;if(j.layers.test(xe.layers)&&(j.isMesh||j.isLine||j.isPoints)&&(j.castShadow||j.receiveShadow&&G===ot)&&(!j.frustumCulled||n.intersectsObject(j))){j.modelViewMatrix.multiplyMatrices(Ie.matrixWorldInverse,j.matrixWorld);const Zt=e.update(j),Mn=j.material;if(Array.isArray(Mn)){const Bt=Zt.groups;for(let xt=0,en=Bt.length;xt<en;xt++){const Bn=Bt[xt],fr=Mn[Bn.materialIndex];if(fr&&fr.visible){const _n=Z(j,fr,Je,Ie.near,Ie.far,G);c.renderBufferDirect(Ie,null,Zt,_n,j,Bn)}}}else if(Mn.visible){const Bt=Z(j,Mn,Je,Ie.near,Ie.far,G);c.renderBufferDirect(Ie,null,Zt,Bt,j,null)}}const st=j.children;for(let Zt=0,Mn=st.length;Zt<Mn;Zt++)B(st[Zt],xe,Ie,Je,G)}}function qh(c,e,t){const n=t.isWebGL2;function r(){let pt=!1;const cn=new hi;let nr=null;const Gr=new hi(0,0,0,0);return{setMask:function(li){nr!==li&&!pt&&(c.colorMask(li,li,li,li),nr=li)},setLocked:function(li){pt=li},setClear:function(li,As,Ha,u1,Sl){Sl===!0&&(li*=u1,As*=u1,Ha*=u1),cn.set(li,As,Ha,u1),Gr.equals(cn)===!1&&(c.clearColor(li,As,Ha,u1),Gr.copy(cn))},reset:function(){pt=!1,nr=null,Gr.set(-1,0,0,0)}}}function o(){let pt=!1,cn=null,nr=null,Gr=null;return{setTest:function(li){li?Vr(2929):ei(2929)},setMask:function(li){cn!==li&&!pt&&(c.depthMask(li),cn=li)},setFunc:function(li){if(nr!==li){switch(li){case ge:c.depthFunc(512);break;case Be:c.depthFunc(519);break;case ke:c.depthFunc(513);break;case et:c.depthFunc(515);break;case wt:c.depthFunc(514);break;case Vt:c.depthFunc(518);break;case nn:c.depthFunc(516);break;case un:c.depthFunc(517);break;default:c.depthFunc(515)}nr=li}},setLocked:function(li){pt=li},setClear:function(li){Gr!==li&&(c.clearDepth(li),Gr=li)},reset:function(){pt=!1,cn=null,nr=null,Gr=null}}}function a(){let pt=!1,cn=null,nr=null,Gr=null,li=null,As=null,Ha=null,u1=null,Sl=null;return{setTest:function(aa){pt||(aa?Vr(2960):ei(2960))},setMask:function(aa){cn!==aa&&!pt&&(c.stencilMask(aa),cn=aa)},setFunc:function(aa,k1,Rl){(nr!==aa||Gr!==k1||li!==Rl)&&(c.stencilFunc(aa,k1,Rl),nr=aa,Gr=k1,li=Rl)},setOp:function(aa,k1,Rl){(As!==aa||Ha!==k1||u1!==Rl)&&(c.stencilOp(aa,k1,Rl),As=aa,Ha=k1,u1=Rl)},setLocked:function(aa){pt=aa},setClear:function(aa){Sl!==aa&&(c.clearStencil(aa),Sl=aa)},reset:function(){pt=!1,cn=null,nr=null,Gr=null,li=null,As=null,Ha=null,u1=null,Sl=null}}}const l=new r,f=new o,h=new a,v=new WeakMap,_=new WeakMap;let C={},y={},L=new WeakMap,S=[],R=null,k=!1,Z=null,B=null,j=null,xe=null,Ie=null,Je=null,G=null,Le=!1,st=null,Zt=null,Mn=null,Bt=null,xt=null;const en=c.getParameter(35661);let Bn=!1,fr=0;const _n=c.getParameter(7938);_n.indexOf("WebGL")!==-1?(fr=parseFloat(/^WebGL (\d)/.exec(_n)[1]),Bn=fr>=1):_n.indexOf("OpenGL ES")!==-1&&(fr=parseFloat(/^OpenGL ES (\d)/.exec(_n)[1]),Bn=fr>=2);let jn=null,ar={};const Wr=c.getParameter(3088),Kt=c.getParameter(2978),er=new hi().fromArray(Wr),Ir=new hi().fromArray(Kt);function Ot(pt,cn,nr){const Gr=new Uint8Array(4),li=c.createTexture();c.bindTexture(pt,li),c.texParameteri(pt,10241,9728),c.texParameteri(pt,10240,9728);for(let As=0;As<nr;As++)c.texImage2D(cn+As,0,6408,1,1,0,6408,5121,Gr);return li}const ii={};ii[3553]=Ot(3553,3553,1),ii[34067]=Ot(34067,34069,6),l.setClear(0,0,0,1),f.setClear(1),h.setClear(0),Vr(2929),f.setFunc(et),Hr(!1),ji(Ct),Vr(2884),Lr(rr);function Vr(pt){C[pt]!==!0&&(c.enable(pt),C[pt]=!0)}function ei(pt){C[pt]!==!1&&(c.disable(pt),C[pt]=!1)}function ai(pt,cn){return y[pt]!==cn?(c.bindFramebuffer(pt,cn),y[pt]=cn,n&&(pt===36009&&(y[36160]=cn),pt===36160&&(y[36009]=cn)),!0):!1}function mi(pt,cn){let nr=S,Gr=!1;if(pt)if(nr=L.get(cn),nr===void 0&&(nr=[],L.set(cn,nr)),pt.isWebGLMultipleRenderTargets){const li=pt.texture;if(nr.length!==li.length||nr[0]!==36064){for(let As=0,Ha=li.length;As<Ha;As++)nr[As]=36064+As;nr.length=li.length,Gr=!0}}else nr[0]!==36064&&(nr[0]=36064,Gr=!0);else nr[0]!==1029&&(nr[0]=1029,Gr=!0);Gr&&(t.isWebGL2?c.drawBuffers(nr):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(nr))}function Zi(pt){return R!==pt?(c.useProgram(pt),R=pt,!0):!1}const Tn={[Zn]:32774,[tr]:32778,[wn]:32779};if(n)Tn[bn]=32775,Tn[ur]=32776;else{const pt=e.get("EXT_blend_minmax");pt!==null&&(Tn[bn]=pt.MIN_EXT,Tn[ur]=pt.MAX_EXT)}const Yn={[qn]:0,[Ge]:1,[gt]:768,[It]:770,[Ze]:776,[Y]:774,[We]:772,[be]:769,[Ke]:771,[Ae]:775,[Ne]:773};function Lr(pt,cn,nr,Gr,li,As,Ha,u1){if(pt===rr){k===!0&&(ei(3042),k=!1);return}if(k===!1&&(Vr(3042),k=!0),pt!==yr){if(pt!==Z||u1!==Le){if((B!==Zn||Ie!==Zn)&&(c.blendEquation(32774),B=Zn,Ie=Zn),u1)switch(pt){case hn:c.blendFuncSeparate(1,771,1,771);break;case An:c.blendFunc(1,1);break;case jt:c.blendFuncSeparate(0,769,0,1);break;case mn:c.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",pt);break}else switch(pt){case hn:c.blendFuncSeparate(770,771,1,771);break;case An:c.blendFunc(770,1);break;case jt:c.blendFuncSeparate(0,769,0,1);break;case mn:c.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",pt);break}j=null,xe=null,Je=null,G=null,Z=pt,Le=u1}return}li=li||cn,As=As||nr,Ha=Ha||Gr,(cn!==B||li!==Ie)&&(c.blendEquationSeparate(Tn[cn],Tn[li]),B=cn,Ie=li),(nr!==j||Gr!==xe||As!==Je||Ha!==G)&&(c.blendFuncSeparate(Yn[nr],Yn[Gr],Yn[As],Yn[Ha]),j=nr,xe=Gr,Je=As,G=Ha),Z=pt,Le=!1}function vi(pt,cn){pt.side===Rt?ei(2884):Vr(2884);let nr=pt.side===yt;cn&&(nr=!nr),Hr(nr),pt.blending===hn&&pt.transparent===!1?Lr(rr):Lr(pt.blending,pt.blendEquation,pt.blendSrc,pt.blendDst,pt.blendEquationAlpha,pt.blendSrcAlpha,pt.blendDstAlpha,pt.premultipliedAlpha),f.setFunc(pt.depthFunc),f.setTest(pt.depthTest),f.setMask(pt.depthWrite),l.setMask(pt.colorWrite);const Gr=pt.stencilWrite;h.setTest(Gr),Gr&&(h.setMask(pt.stencilWriteMask),h.setFunc(pt.stencilFunc,pt.stencilRef,pt.stencilFuncMask),h.setOp(pt.stencilFail,pt.stencilZFail,pt.stencilZPass)),Gi(pt.polygonOffset,pt.polygonOffsetFactor,pt.polygonOffsetUnits),pt.alphaToCoverage===!0?Vr(32926):ei(32926)}function Hr(pt){st!==pt&&(pt?c.frontFace(2304):c.frontFace(2305),st=pt)}function ji(pt){pt!==rt?(Vr(2884),pt!==Zt&&(pt===Ct?c.cullFace(1029):pt===At?c.cullFace(1028):c.cullFace(1032))):ei(2884),Zt=pt}function bi(pt){pt!==Mn&&(Bn&&c.lineWidth(pt),Mn=pt)}function Gi(pt,cn,nr){pt?(Vr(32823),(Bt!==cn||xt!==nr)&&(c.polygonOffset(cn,nr),Bt=cn,xt=nr)):ei(32823)}function gs(pt){pt?Vr(3089):ei(3089)}function ns(pt){pt===void 0&&(pt=33984+en-1),jn!==pt&&(c.activeTexture(pt),jn=pt)}function ze(pt,cn,nr){nr===void 0&&(jn===null?nr=33984+en-1:nr=jn);let Gr=ar[nr];Gr===void 0&&(Gr={type:void 0,texture:void 0},ar[nr]=Gr),(Gr.type!==pt||Gr.texture!==cn)&&(jn!==nr&&(c.activeTexture(nr),jn=nr),c.bindTexture(pt,cn||ii[pt]),Gr.type=pt,Gr.texture=cn)}function me(){const pt=ar[jn];pt!==void 0&&pt.type!==void 0&&(c.bindTexture(pt.type,null),pt.type=void 0,pt.texture=void 0)}function tn(){try{c.compressedTexImage2D.apply(c,arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function _r(){try{c.compressedTexImage3D.apply(c,arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function xr(){try{c.texSubImage2D.apply(c,arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function Fr(){try{c.texSubImage3D.apply(c,arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function xi(){try{c.compressedTexSubImage2D.apply(c,arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function jr(){try{c.compressedTexSubImage3D.apply(c,arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function Sn(){try{c.texStorage2D.apply(c,arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function Pi(){try{c.texStorage3D.apply(c,arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function fi(){try{c.texImage2D.apply(c,arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function Xi(){try{c.texImage3D.apply(c,arguments)}catch(pt){console.error("THREE.WebGLState:",pt)}}function Vi(pt){er.equals(pt)===!1&&(c.scissor(pt.x,pt.y,pt.z,pt.w),er.copy(pt))}function Mi(pt){Ir.equals(pt)===!1&&(c.viewport(pt.x,pt.y,pt.z,pt.w),Ir.copy(pt))}function Xo(pt,cn){let nr=_.get(cn);nr===void 0&&(nr=new WeakMap,_.set(cn,nr));let Gr=nr.get(pt);Gr===void 0&&(Gr=c.getUniformBlockIndex(cn,pt.name),nr.set(pt,Gr))}function Xs(pt,cn){const Gr=_.get(cn).get(pt);v.get(cn)!==Gr&&(c.uniformBlockBinding(cn,Gr,pt.__bindingPointIndex),v.set(cn,Gr))}function za(){c.disable(3042),c.disable(2884),c.disable(2929),c.disable(32823),c.disable(3089),c.disable(2960),c.disable(32926),c.blendEquation(32774),c.blendFunc(1,0),c.blendFuncSeparate(1,0,1,0),c.colorMask(!0,!0,!0,!0),c.clearColor(0,0,0,0),c.depthMask(!0),c.depthFunc(513),c.clearDepth(1),c.stencilMask(4294967295),c.stencilFunc(519,0,4294967295),c.stencilOp(7680,7680,7680),c.clearStencil(0),c.cullFace(1029),c.frontFace(2305),c.polygonOffset(0,0),c.activeTexture(33984),c.bindFramebuffer(36160,null),n===!0&&(c.bindFramebuffer(36009,null),c.bindFramebuffer(36008,null)),c.useProgram(null),c.lineWidth(1),c.scissor(0,0,c.canvas.width,c.canvas.height),c.viewport(0,0,c.canvas.width,c.canvas.height),C={},jn=null,ar={},y={},L=new WeakMap,S=[],R=null,k=!1,Z=null,B=null,j=null,xe=null,Ie=null,Je=null,G=null,Le=!1,st=null,Zt=null,Mn=null,Bt=null,xt=null,er.set(0,0,c.canvas.width,c.canvas.height),Ir.set(0,0,c.canvas.width,c.canvas.height),l.reset(),f.reset(),h.reset()}return{buffers:{color:l,depth:f,stencil:h},enable:Vr,disable:ei,bindFramebuffer:ai,drawBuffers:mi,useProgram:Zi,setBlending:Lr,setMaterial:vi,setFlipSided:Hr,setCullFace:ji,setLineWidth:bi,setPolygonOffset:Gi,setScissorTest:gs,activeTexture:ns,bindTexture:ze,unbindTexture:me,compressedTexImage2D:tn,compressedTexImage3D:_r,texImage2D:fi,texImage3D:Xi,updateUBOMapping:Xo,uniformBlockBinding:Xs,texStorage2D:Sn,texStorage3D:Pi,texSubImage2D:xr,texSubImage3D:Fr,compressedTexSubImage2D:xi,compressedTexSubImage3D:jr,scissor:Vi,viewport:Mi,reset:za}}function Qh(c,e,t,n,r,o,a){const l=r.isWebGL2,f=r.maxTextures,h=r.maxCubemapSize,v=r.maxTextureSize,_=r.maxSamples,C=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,y=typeof navigator=="undefined"?!1:/OculusBrowser/g.test(navigator.userAgent),L=new WeakMap;let S;const R=new WeakMap;let k=!1;try{k=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(ze){}function Z(ze,me){return k?new OffscreenCanvas(ze,me):lo("canvas")}function B(ze,me,tn,_r){let xr=1;if((ze.width>_r||ze.height>_r)&&(xr=_r/Math.max(ze.width,ze.height)),xr<1||me===!0)if(typeof HTMLImageElement!="undefined"&&ze instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&ze instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&ze instanceof ImageBitmap){const Fr=me?Oo:Math.floor,xi=Fr(xr*ze.width),jr=Fr(xr*ze.height);S===void 0&&(S=Z(xi,jr));const Sn=tn?Z(xi,jr):S;return Sn.width=xi,Sn.height=jr,Sn.getContext("2d").drawImage(ze,0,0,xi,jr),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ze.width+"x"+ze.height+") to ("+xi+"x"+jr+")."),Sn}else return"data"in ze&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ze.width+"x"+ze.height+")."),ze;return ze}function j(ze){return Os(ze.width)&&Os(ze.height)}function xe(ze){return l?!1:ze.wrapS!==Gt||ze.wrapT!==Gt||ze.minFilter!==an&&ze.minFilter!==Jn}function Ie(ze,me){return ze.generateMipmaps&&me&&ze.minFilter!==an&&ze.minFilter!==Jn}function Je(ze){c.generateMipmap(ze)}function G(ze,me,tn,_r,xr=!1){if(l===!1)return me;if(ze!==null){if(c[ze]!==void 0)return c[ze];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ze+"'")}let Fr=me;return me===6403&&(tn===5126&&(Fr=33326),tn===5131&&(Fr=33325),tn===5121&&(Fr=33321)),me===33319&&(tn===5126&&(Fr=33328),tn===5131&&(Fr=33327),tn===5121&&(Fr=33323)),me===6408&&(tn===5126&&(Fr=34836),tn===5131&&(Fr=34842),tn===5121&&(Fr=_r===zi&&xr===!1?35907:32856),tn===32819&&(Fr=32854),tn===32820&&(Fr=32855)),(Fr===33325||Fr===33326||Fr===33327||Fr===33328||Fr===34842||Fr===34836)&&e.get("EXT_color_buffer_float"),Fr}function Le(ze,me,tn){return Ie(ze,tn)===!0||ze.isFramebufferTexture&&ze.minFilter!==an&&ze.minFilter!==Jn?Math.log2(Math.max(me.width,me.height))+1:ze.mipmaps!==void 0&&ze.mipmaps.length>0?ze.mipmaps.length:ze.isCompressedTexture&&Array.isArray(ze.image)?me.mipmaps.length:1}function st(ze){return ze===an||ze===fn||ze===pn?9728:9729}function Zt(ze){const me=ze.target;me.removeEventListener("dispose",Zt),Bt(me),me.isVideoTexture&&L.delete(me)}function Mn(ze){const me=ze.target;me.removeEventListener("dispose",Mn),en(me)}function Bt(ze){const me=n.get(ze);if(me.__webglInit===void 0)return;const tn=ze.source,_r=R.get(tn);if(_r){const xr=_r[me.__cacheKey];xr.usedTimes--,xr.usedTimes===0&&xt(ze),Object.keys(_r).length===0&&R.delete(tn)}n.remove(ze)}function xt(ze){const me=n.get(ze);c.deleteTexture(me.__webglTexture);const tn=ze.source,_r=R.get(tn);delete _r[me.__cacheKey],a.memory.textures--}function en(ze){const me=ze.texture,tn=n.get(ze),_r=n.get(me);if(_r.__webglTexture!==void 0&&(c.deleteTexture(_r.__webglTexture),a.memory.textures--),ze.depthTexture&&ze.depthTexture.dispose(),ze.isWebGLCubeRenderTarget)for(let xr=0;xr<6;xr++)c.deleteFramebuffer(tn.__webglFramebuffer[xr]),tn.__webglDepthbuffer&&c.deleteRenderbuffer(tn.__webglDepthbuffer[xr]);else{if(c.deleteFramebuffer(tn.__webglFramebuffer),tn.__webglDepthbuffer&&c.deleteRenderbuffer(tn.__webglDepthbuffer),tn.__webglMultisampledFramebuffer&&c.deleteFramebuffer(tn.__webglMultisampledFramebuffer),tn.__webglColorRenderbuffer)for(let xr=0;xr<tn.__webglColorRenderbuffer.length;xr++)tn.__webglColorRenderbuffer[xr]&&c.deleteRenderbuffer(tn.__webglColorRenderbuffer[xr]);tn.__webglDepthRenderbuffer&&c.deleteRenderbuffer(tn.__webglDepthRenderbuffer)}if(ze.isWebGLMultipleRenderTargets)for(let xr=0,Fr=me.length;xr<Fr;xr++){const xi=n.get(me[xr]);xi.__webglTexture&&(c.deleteTexture(xi.__webglTexture),a.memory.textures--),n.remove(me[xr])}n.remove(me),n.remove(ze)}let Bn=0;function fr(){Bn=0}function _n(){const ze=Bn;return ze>=f&&console.warn("THREE.WebGLTextures: Trying to use "+ze+" texture units while this GPU supports only "+f),Bn+=1,ze}function jn(ze){const me=[];return me.push(ze.wrapS),me.push(ze.wrapT),me.push(ze.wrapR||0),me.push(ze.magFilter),me.push(ze.minFilter),me.push(ze.anisotropy),me.push(ze.internalFormat),me.push(ze.format),me.push(ze.type),me.push(ze.generateMipmaps),me.push(ze.premultiplyAlpha),me.push(ze.flipY),me.push(ze.unpackAlignment),me.push(ze.encoding),me.join()}function ar(ze,me){const tn=n.get(ze);if(ze.isVideoTexture&&gs(ze),ze.isRenderTargetTexture===!1&&ze.version>0&&tn.__version!==ze.version){const _r=ze.image;if(_r===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(_r.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ei(tn,ze,me);return}}t.bindTexture(3553,tn.__webglTexture,33984+me)}function Wr(ze,me){const tn=n.get(ze);if(ze.version>0&&tn.__version!==ze.version){ei(tn,ze,me);return}t.bindTexture(35866,tn.__webglTexture,33984+me)}function Kt(ze,me){const tn=n.get(ze);if(ze.version>0&&tn.__version!==ze.version){ei(tn,ze,me);return}t.bindTexture(32879,tn.__webglTexture,33984+me)}function er(ze,me){const tn=n.get(ze);if(ze.version>0&&tn.__version!==ze.version){ai(tn,ze,me);return}t.bindTexture(34067,tn.__webglTexture,33984+me)}const Ir={[Ht]:10497,[Gt]:33071,[on]:33648},Ot={[an]:9728,[fn]:9984,[pn]:9986,[Jn]:9729,[ci]:9985,[Xn]:9987};function ii(ze,me,tn){if(tn?(c.texParameteri(ze,10242,Ir[me.wrapS]),c.texParameteri(ze,10243,Ir[me.wrapT]),(ze===32879||ze===35866)&&c.texParameteri(ze,32882,Ir[me.wrapR]),c.texParameteri(ze,10240,Ot[me.magFilter]),c.texParameteri(ze,10241,Ot[me.minFilter])):(c.texParameteri(ze,10242,33071),c.texParameteri(ze,10243,33071),(ze===32879||ze===35866)&&c.texParameteri(ze,32882,33071),(me.wrapS!==Gt||me.wrapT!==Gt)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),c.texParameteri(ze,10240,st(me.magFilter)),c.texParameteri(ze,10241,st(me.minFilter)),me.minFilter!==an&&me.minFilter!==Jn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const _r=e.get("EXT_texture_filter_anisotropic");if(me.magFilter===an||me.minFilter!==pn&&me.minFilter!==Xn||me.type===tt&&e.has("OES_texture_float_linear")===!1||l===!1&&me.type===Xt&&e.has("OES_texture_half_float_linear")===!1)return;(me.anisotropy>1||n.get(me).__currentAnisotropy)&&(c.texParameterf(ze,_r.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(me.anisotropy,r.getMaxAnisotropy())),n.get(me).__currentAnisotropy=me.anisotropy)}}function Vr(ze,me){let tn=!1;ze.__webglInit===void 0&&(ze.__webglInit=!0,me.addEventListener("dispose",Zt));const _r=me.source;let xr=R.get(_r);xr===void 0&&(xr={},R.set(_r,xr));const Fr=jn(me);if(Fr!==ze.__cacheKey){xr[Fr]===void 0&&(xr[Fr]={texture:c.createTexture(),usedTimes:0},a.memory.textures++,tn=!0),xr[Fr].usedTimes++;const xi=xr[ze.__cacheKey];xi!==void 0&&(xr[ze.__cacheKey].usedTimes--,xi.usedTimes===0&&xt(me)),ze.__cacheKey=Fr,ze.__webglTexture=xr[Fr].texture}return tn}function ei(ze,me,tn){let _r=3553;(me.isDataArrayTexture||me.isCompressedArrayTexture)&&(_r=35866),me.isData3DTexture&&(_r=32879);const xr=Vr(ze,me),Fr=me.source;t.bindTexture(_r,ze.__webglTexture,33984+tn);const xi=n.get(Fr);if(Fr.version!==xi.__version||xr===!0){t.activeTexture(33984+tn),c.pixelStorei(37440,me.flipY),c.pixelStorei(37441,me.premultiplyAlpha),c.pixelStorei(3317,me.unpackAlignment),c.pixelStorei(37443,0);const jr=xe(me)&&j(me.image)===!1;let Sn=B(me.image,jr,!1,v);Sn=ns(me,Sn);const Pi=j(Sn)||l,fi=o.convert(me.format,me.encoding);let Xi=o.convert(me.type),Vi=G(me.internalFormat,fi,Xi,me.encoding,me.isVideoTexture);ii(_r,me,Pi);let Mi;const Xo=me.mipmaps,Xs=l&&me.isVideoTexture!==!0,za=xi.__version===void 0||xr===!0,pt=Le(me,Sn,Pi);if(me.isDepthTexture)Vi=6402,l?me.type===tt?Vi=36012:me.type===oi?Vi=33190:me.type===Xr?Vi=35056:Vi=33189:me.type===tt&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),me.format===ki&&Vi===6402&&me.type!==Ti&&me.type!==oi&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),me.type=oi,Xi=o.convert(me.type)),me.format===wi&&Vi===6402&&(Vi=34041,me.type!==Xr&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),me.type=Xr,Xi=o.convert(me.type))),za&&(Xs?t.texStorage2D(3553,1,Vi,Sn.width,Sn.height):t.texImage2D(3553,0,Vi,Sn.width,Sn.height,0,fi,Xi,null));else if(me.isDataTexture)if(Xo.length>0&&Pi){Xs&&za&&t.texStorage2D(3553,pt,Vi,Xo[0].width,Xo[0].height);for(let cn=0,nr=Xo.length;cn<nr;cn++)Mi=Xo[cn],Xs?t.texSubImage2D(3553,cn,0,0,Mi.width,Mi.height,fi,Xi,Mi.data):t.texImage2D(3553,cn,Vi,Mi.width,Mi.height,0,fi,Xi,Mi.data);me.generateMipmaps=!1}else Xs?(za&&t.texStorage2D(3553,pt,Vi,Sn.width,Sn.height),t.texSubImage2D(3553,0,0,0,Sn.width,Sn.height,fi,Xi,Sn.data)):t.texImage2D(3553,0,Vi,Sn.width,Sn.height,0,fi,Xi,Sn.data);else if(me.isCompressedTexture)if(me.isCompressedArrayTexture){Xs&&za&&t.texStorage3D(35866,pt,Vi,Xo[0].width,Xo[0].height,Sn.depth);for(let cn=0,nr=Xo.length;cn<nr;cn++)Mi=Xo[cn],me.format!==yi?fi!==null?Xs?t.compressedTexSubImage3D(35866,cn,0,0,0,Mi.width,Mi.height,Sn.depth,fi,Mi.data,0,0):t.compressedTexImage3D(35866,cn,Vi,Mi.width,Mi.height,Sn.depth,0,Mi.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Xs?t.texSubImage3D(35866,cn,0,0,0,Mi.width,Mi.height,Sn.depth,fi,Xi,Mi.data):t.texImage3D(35866,cn,Vi,Mi.width,Mi.height,Sn.depth,0,fi,Xi,Mi.data)}else{Xs&&za&&t.texStorage2D(3553,pt,Vi,Xo[0].width,Xo[0].height);for(let cn=0,nr=Xo.length;cn<nr;cn++)Mi=Xo[cn],me.format!==yi?fi!==null?Xs?t.compressedTexSubImage2D(3553,cn,0,0,Mi.width,Mi.height,fi,Mi.data):t.compressedTexImage2D(3553,cn,Vi,Mi.width,Mi.height,0,Mi.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Xs?t.texSubImage2D(3553,cn,0,0,Mi.width,Mi.height,fi,Xi,Mi.data):t.texImage2D(3553,cn,Vi,Mi.width,Mi.height,0,fi,Xi,Mi.data)}else if(me.isDataArrayTexture)Xs?(za&&t.texStorage3D(35866,pt,Vi,Sn.width,Sn.height,Sn.depth),t.texSubImage3D(35866,0,0,0,0,Sn.width,Sn.height,Sn.depth,fi,Xi,Sn.data)):t.texImage3D(35866,0,Vi,Sn.width,Sn.height,Sn.depth,0,fi,Xi,Sn.data);else if(me.isData3DTexture)Xs?(za&&t.texStorage3D(32879,pt,Vi,Sn.width,Sn.height,Sn.depth),t.texSubImage3D(32879,0,0,0,0,Sn.width,Sn.height,Sn.depth,fi,Xi,Sn.data)):t.texImage3D(32879,0,Vi,Sn.width,Sn.height,Sn.depth,0,fi,Xi,Sn.data);else if(me.isFramebufferTexture){if(za)if(Xs)t.texStorage2D(3553,pt,Vi,Sn.width,Sn.height);else{let cn=Sn.width,nr=Sn.height;for(let Gr=0;Gr<pt;Gr++)t.texImage2D(3553,Gr,Vi,cn,nr,0,fi,Xi,null),cn>>=1,nr>>=1}}else if(Xo.length>0&&Pi){Xs&&za&&t.texStorage2D(3553,pt,Vi,Xo[0].width,Xo[0].height);for(let cn=0,nr=Xo.length;cn<nr;cn++)Mi=Xo[cn],Xs?t.texSubImage2D(3553,cn,0,0,fi,Xi,Mi):t.texImage2D(3553,cn,Vi,fi,Xi,Mi);me.generateMipmaps=!1}else Xs?(za&&t.texStorage2D(3553,pt,Vi,Sn.width,Sn.height),t.texSubImage2D(3553,0,0,0,fi,Xi,Sn)):t.texImage2D(3553,0,Vi,fi,Xi,Sn);Ie(me,Pi)&&Je(_r),xi.__version=Fr.version,me.onUpdate&&me.onUpdate(me)}ze.__version=me.version}function ai(ze,me,tn){if(me.image.length!==6)return;const _r=Vr(ze,me),xr=me.source;t.bindTexture(34067,ze.__webglTexture,33984+tn);const Fr=n.get(xr);if(xr.version!==Fr.__version||_r===!0){t.activeTexture(33984+tn),c.pixelStorei(37440,me.flipY),c.pixelStorei(37441,me.premultiplyAlpha),c.pixelStorei(3317,me.unpackAlignment),c.pixelStorei(37443,0);const xi=me.isCompressedTexture||me.image[0].isCompressedTexture,jr=me.image[0]&&me.image[0].isDataTexture,Sn=[];for(let cn=0;cn<6;cn++)!xi&&!jr?Sn[cn]=B(me.image[cn],!1,!0,h):Sn[cn]=jr?me.image[cn].image:me.image[cn],Sn[cn]=ns(me,Sn[cn]);const Pi=Sn[0],fi=j(Pi)||l,Xi=o.convert(me.format,me.encoding),Vi=o.convert(me.type),Mi=G(me.internalFormat,Xi,Vi,me.encoding),Xo=l&&me.isVideoTexture!==!0,Xs=Fr.__version===void 0||_r===!0;let za=Le(me,Pi,fi);ii(34067,me,fi);let pt;if(xi){Xo&&Xs&&t.texStorage2D(34067,za,Mi,Pi.width,Pi.height);for(let cn=0;cn<6;cn++){pt=Sn[cn].mipmaps;for(let nr=0;nr<pt.length;nr++){const Gr=pt[nr];me.format!==yi?Xi!==null?Xo?t.compressedTexSubImage2D(34069+cn,nr,0,0,Gr.width,Gr.height,Xi,Gr.data):t.compressedTexImage2D(34069+cn,nr,Mi,Gr.width,Gr.height,0,Gr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Xo?t.texSubImage2D(34069+cn,nr,0,0,Gr.width,Gr.height,Xi,Vi,Gr.data):t.texImage2D(34069+cn,nr,Mi,Gr.width,Gr.height,0,Xi,Vi,Gr.data)}}}else{pt=me.mipmaps,Xo&&Xs&&(pt.length>0&&za++,t.texStorage2D(34067,za,Mi,Sn[0].width,Sn[0].height));for(let cn=0;cn<6;cn++)if(jr){Xo?t.texSubImage2D(34069+cn,0,0,0,Sn[cn].width,Sn[cn].height,Xi,Vi,Sn[cn].data):t.texImage2D(34069+cn,0,Mi,Sn[cn].width,Sn[cn].height,0,Xi,Vi,Sn[cn].data);for(let nr=0;nr<pt.length;nr++){const li=pt[nr].image[cn].image;Xo?t.texSubImage2D(34069+cn,nr+1,0,0,li.width,li.height,Xi,Vi,li.data):t.texImage2D(34069+cn,nr+1,Mi,li.width,li.height,0,Xi,Vi,li.data)}}else{Xo?t.texSubImage2D(34069+cn,0,0,0,Xi,Vi,Sn[cn]):t.texImage2D(34069+cn,0,Mi,Xi,Vi,Sn[cn]);for(let nr=0;nr<pt.length;nr++){const Gr=pt[nr];Xo?t.texSubImage2D(34069+cn,nr+1,0,0,Xi,Vi,Gr.image[cn]):t.texImage2D(34069+cn,nr+1,Mi,Xi,Vi,Gr.image[cn])}}}Ie(me,fi)&&Je(34067),Fr.__version=xr.version,me.onUpdate&&me.onUpdate(me)}ze.__version=me.version}function mi(ze,me,tn,_r,xr){const Fr=o.convert(tn.format,tn.encoding),xi=o.convert(tn.type),jr=G(tn.internalFormat,Fr,xi,tn.encoding);n.get(me).__hasExternalTextures||(xr===32879||xr===35866?t.texImage3D(xr,0,jr,me.width,me.height,me.depth,0,Fr,xi,null):t.texImage2D(xr,0,jr,me.width,me.height,0,Fr,xi,null)),t.bindFramebuffer(36160,ze),Gi(me)?C.framebufferTexture2DMultisampleEXT(36160,_r,xr,n.get(tn).__webglTexture,0,bi(me)):(xr===3553||xr>=34069&&xr<=34074)&&c.framebufferTexture2D(36160,_r,xr,n.get(tn).__webglTexture,0),t.bindFramebuffer(36160,null)}function Zi(ze,me,tn){if(c.bindRenderbuffer(36161,ze),me.depthBuffer&&!me.stencilBuffer){let _r=33189;if(tn||Gi(me)){const xr=me.depthTexture;xr&&xr.isDepthTexture&&(xr.type===tt?_r=36012:xr.type===oi&&(_r=33190));const Fr=bi(me);Gi(me)?C.renderbufferStorageMultisampleEXT(36161,Fr,_r,me.width,me.height):c.renderbufferStorageMultisample(36161,Fr,_r,me.width,me.height)}else c.renderbufferStorage(36161,_r,me.width,me.height);c.framebufferRenderbuffer(36160,36096,36161,ze)}else if(me.depthBuffer&&me.stencilBuffer){const _r=bi(me);tn&&Gi(me)===!1?c.renderbufferStorageMultisample(36161,_r,35056,me.width,me.height):Gi(me)?C.renderbufferStorageMultisampleEXT(36161,_r,35056,me.width,me.height):c.renderbufferStorage(36161,34041,me.width,me.height),c.framebufferRenderbuffer(36160,33306,36161,ze)}else{const _r=me.isWebGLMultipleRenderTargets===!0?me.texture:[me.texture];for(let xr=0;xr<_r.length;xr++){const Fr=_r[xr],xi=o.convert(Fr.format,Fr.encoding),jr=o.convert(Fr.type),Sn=G(Fr.internalFormat,xi,jr,Fr.encoding),Pi=bi(me);tn&&Gi(me)===!1?c.renderbufferStorageMultisample(36161,Pi,Sn,me.width,me.height):Gi(me)?C.renderbufferStorageMultisampleEXT(36161,Pi,Sn,me.width,me.height):c.renderbufferStorage(36161,Sn,me.width,me.height)}}c.bindRenderbuffer(36161,null)}function Tn(ze,me){if(me&&me.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,ze),!(me.depthTexture&&me.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(me.depthTexture).__webglTexture||me.depthTexture.image.width!==me.width||me.depthTexture.image.height!==me.height)&&(me.depthTexture.image.width=me.width,me.depthTexture.image.height=me.height,me.depthTexture.needsUpdate=!0),ar(me.depthTexture,0);const _r=n.get(me.depthTexture).__webglTexture,xr=bi(me);if(me.depthTexture.format===ki)Gi(me)?C.framebufferTexture2DMultisampleEXT(36160,36096,3553,_r,0,xr):c.framebufferTexture2D(36160,36096,3553,_r,0);else if(me.depthTexture.format===wi)Gi(me)?C.framebufferTexture2DMultisampleEXT(36160,33306,3553,_r,0,xr):c.framebufferTexture2D(36160,33306,3553,_r,0);else throw new Error("Unknown depthTexture format")}function Yn(ze){const me=n.get(ze),tn=ze.isWebGLCubeRenderTarget===!0;if(ze.depthTexture&&!me.__autoAllocateDepthBuffer){if(tn)throw new Error("target.depthTexture not supported in Cube render targets");Tn(me.__webglFramebuffer,ze)}else if(tn){me.__webglDepthbuffer=[];for(let _r=0;_r<6;_r++)t.bindFramebuffer(36160,me.__webglFramebuffer[_r]),me.__webglDepthbuffer[_r]=c.createRenderbuffer(),Zi(me.__webglDepthbuffer[_r],ze,!1)}else t.bindFramebuffer(36160,me.__webglFramebuffer),me.__webglDepthbuffer=c.createRenderbuffer(),Zi(me.__webglDepthbuffer,ze,!1);t.bindFramebuffer(36160,null)}function Lr(ze,me,tn){const _r=n.get(ze);me!==void 0&&mi(_r.__webglFramebuffer,ze,ze.texture,36064,3553),tn!==void 0&&Yn(ze)}function vi(ze){const me=ze.texture,tn=n.get(ze),_r=n.get(me);ze.addEventListener("dispose",Mn),ze.isWebGLMultipleRenderTargets!==!0&&(_r.__webglTexture===void 0&&(_r.__webglTexture=c.createTexture()),_r.__version=me.version,a.memory.textures++);const xr=ze.isWebGLCubeRenderTarget===!0,Fr=ze.isWebGLMultipleRenderTargets===!0,xi=j(ze)||l;if(xr){tn.__webglFramebuffer=[];for(let jr=0;jr<6;jr++)tn.__webglFramebuffer[jr]=c.createFramebuffer()}else{if(tn.__webglFramebuffer=c.createFramebuffer(),Fr)if(r.drawBuffers){const jr=ze.texture;for(let Sn=0,Pi=jr.length;Sn<Pi;Sn++){const fi=n.get(jr[Sn]);fi.__webglTexture===void 0&&(fi.__webglTexture=c.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&ze.samples>0&&Gi(ze)===!1){const jr=Fr?me:[me];tn.__webglMultisampledFramebuffer=c.createFramebuffer(),tn.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,tn.__webglMultisampledFramebuffer);for(let Sn=0;Sn<jr.length;Sn++){const Pi=jr[Sn];tn.__webglColorRenderbuffer[Sn]=c.createRenderbuffer(),c.bindRenderbuffer(36161,tn.__webglColorRenderbuffer[Sn]);const fi=o.convert(Pi.format,Pi.encoding),Xi=o.convert(Pi.type),Vi=G(Pi.internalFormat,fi,Xi,Pi.encoding,ze.isXRRenderTarget===!0),Mi=bi(ze);c.renderbufferStorageMultisample(36161,Mi,Vi,ze.width,ze.height),c.framebufferRenderbuffer(36160,36064+Sn,36161,tn.__webglColorRenderbuffer[Sn])}c.bindRenderbuffer(36161,null),ze.depthBuffer&&(tn.__webglDepthRenderbuffer=c.createRenderbuffer(),Zi(tn.__webglDepthRenderbuffer,ze,!0)),t.bindFramebuffer(36160,null)}}if(xr){t.bindTexture(34067,_r.__webglTexture),ii(34067,me,xi);for(let jr=0;jr<6;jr++)mi(tn.__webglFramebuffer[jr],ze,me,36064,34069+jr);Ie(me,xi)&&Je(34067),t.unbindTexture()}else if(Fr){const jr=ze.texture;for(let Sn=0,Pi=jr.length;Sn<Pi;Sn++){const fi=jr[Sn],Xi=n.get(fi);t.bindTexture(3553,Xi.__webglTexture),ii(3553,fi,xi),mi(tn.__webglFramebuffer,ze,fi,36064+Sn,3553),Ie(fi,xi)&&Je(3553)}t.unbindTexture()}else{let jr=3553;(ze.isWebGL3DRenderTarget||ze.isWebGLArrayRenderTarget)&&(l?jr=ze.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(jr,_r.__webglTexture),ii(jr,me,xi),mi(tn.__webglFramebuffer,ze,me,36064,jr),Ie(me,xi)&&Je(jr),t.unbindTexture()}ze.depthBuffer&&Yn(ze)}function Hr(ze){const me=j(ze)||l,tn=ze.isWebGLMultipleRenderTargets===!0?ze.texture:[ze.texture];for(let _r=0,xr=tn.length;_r<xr;_r++){const Fr=tn[_r];if(Ie(Fr,me)){const xi=ze.isWebGLCubeRenderTarget?34067:3553,jr=n.get(Fr).__webglTexture;t.bindTexture(xi,jr),Je(xi),t.unbindTexture()}}}function ji(ze){if(l&&ze.samples>0&&Gi(ze)===!1){const me=ze.isWebGLMultipleRenderTargets?ze.texture:[ze.texture],tn=ze.width,_r=ze.height;let xr=16384;const Fr=[],xi=ze.stencilBuffer?33306:36096,jr=n.get(ze),Sn=ze.isWebGLMultipleRenderTargets===!0;if(Sn)for(let Pi=0;Pi<me.length;Pi++)t.bindFramebuffer(36160,jr.__webglMultisampledFramebuffer),c.framebufferRenderbuffer(36160,36064+Pi,36161,null),t.bindFramebuffer(36160,jr.__webglFramebuffer),c.framebufferTexture2D(36009,36064+Pi,3553,null,0);t.bindFramebuffer(36008,jr.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,jr.__webglFramebuffer);for(let Pi=0;Pi<me.length;Pi++){Fr.push(36064+Pi),ze.depthBuffer&&Fr.push(xi);const fi=jr.__ignoreDepthValues!==void 0?jr.__ignoreDepthValues:!1;if(fi===!1&&(ze.depthBuffer&&(xr|=256),ze.stencilBuffer&&(xr|=1024)),Sn&&c.framebufferRenderbuffer(36008,36064,36161,jr.__webglColorRenderbuffer[Pi]),fi===!0&&(c.invalidateFramebuffer(36008,[xi]),c.invalidateFramebuffer(36009,[xi])),Sn){const Xi=n.get(me[Pi]).__webglTexture;c.framebufferTexture2D(36009,36064,3553,Xi,0)}c.blitFramebuffer(0,0,tn,_r,0,0,tn,_r,xr,9728),y&&c.invalidateFramebuffer(36008,Fr)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),Sn)for(let Pi=0;Pi<me.length;Pi++){t.bindFramebuffer(36160,jr.__webglMultisampledFramebuffer),c.framebufferRenderbuffer(36160,36064+Pi,36161,jr.__webglColorRenderbuffer[Pi]);const fi=n.get(me[Pi]).__webglTexture;t.bindFramebuffer(36160,jr.__webglFramebuffer),c.framebufferTexture2D(36009,36064+Pi,3553,fi,0)}t.bindFramebuffer(36009,jr.__webglMultisampledFramebuffer)}}function bi(ze){return Math.min(_,ze.samples)}function Gi(ze){const me=n.get(ze);return l&&ze.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&me.__useRenderToTexture!==!1}function gs(ze){const me=a.render.frame;L.get(ze)!==me&&(L.set(ze,me),ze.update())}function ns(ze,me){const tn=ze.encoding,_r=ze.format,xr=ze.type;return ze.isCompressedTexture===!0||ze.isVideoTexture===!0||ze.format===Ar||tn!==Vs&&(tn===zi?l===!1?e.has("EXT_sRGB")===!0&&_r===yi?(ze.format=Ar,ze.minFilter=Jn,ze.generateMipmaps=!1):me=Pa.sRGBToLinear(me):(_r!==yi||xr!==si)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",tn)),me}this.allocateTextureUnit=_n,this.resetTextureUnits=fr,this.setTexture2D=ar,this.setTexture2DArray=Wr,this.setTexture3D=Kt,this.setTextureCube=er,this.rebindTextures=Lr,this.setupRenderTarget=vi,this.updateRenderTargetMipmap=Hr,this.updateMultisampleRenderTarget=ji,this.setupDepthRenderbuffer=Yn,this.setupFrameBufferTexture=mi,this.useMultisampledRTT=Gi}function Gd(c,e,t){const n=t.isWebGL2;function r(o,a=null){let l;if(o===si)return 5121;if(o===Pn)return 32819;if(o===Dr)return 32820;if(o===Oi)return 5120;if(o===qi)return 5122;if(o===Ti)return 5123;if(o===vr)return 5124;if(o===oi)return 5125;if(o===tt)return 5126;if(o===Xt)return n?5131:(l=e.get("OES_texture_half_float"),l!==null?l.HALF_FLOAT_OES:null);if(o===Fi)return 6406;if(o===yi)return 6408;if(o===Qo)return 6409;if(o===Ui)return 6410;if(o===ki)return 6402;if(o===wi)return 34041;if(o===Ar)return l=e.get("EXT_sRGB"),l!==null?l.SRGB_ALPHA_EXT:null;if(o===go)return 6403;if(o===Pe)return 36244;if(o===I)return 33319;if(o===E)return 33320;if(o===P)return 36249;if(o===ie||o===ce||o===He||o===pe)if(a===zi)if(l=e.get("WEBGL_compressed_texture_s3tc_srgb"),l!==null){if(o===ie)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===ce)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===He)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===pe)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(l=e.get("WEBGL_compressed_texture_s3tc"),l!==null){if(o===ie)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===ce)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===He)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===pe)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===Se||o===de||o===Ue||o===Me)if(l=e.get("WEBGL_compressed_texture_pvrtc"),l!==null){if(o===Se)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===de)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===Ue)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===Me)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===Ve)return l=e.get("WEBGL_compressed_texture_etc1"),l!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===lt||o===ht)if(l=e.get("WEBGL_compressed_texture_etc"),l!==null){if(o===lt)return a===zi?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(o===ht)return a===zi?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===dt||o===$||o===K||o===X||o===W||o===ve||o===je||o===nt||o===Xe||o===$e||o===De||o===qe||o===ut||o===it)if(l=e.get("WEBGL_compressed_texture_astc"),l!==null){if(o===dt)return a===zi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===$)return a===zi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===K)return a===zi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===X)return a===zi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===W)return a===zi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===ve)return a===zi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===je)return a===zi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===nt)return a===zi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===Xe)return a===zi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===$e)return a===zi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===De)return a===zi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===qe)return a===zi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===ut)return a===zi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===it)return a===zi?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===bt)if(l=e.get("EXT_texture_compression_bptc"),l!==null){if(o===bt)return a===zi?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(o===qt||o===gn||o===or||o===Qn)if(l=e.get("EXT_texture_compression_rgtc"),l!==null){if(o===bt)return l.COMPRESSED_RED_RGTC1_EXT;if(o===gn)return l.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===or)return l.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===Qn)return l.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===Xr?n?34042:(l=e.get("WEBGL_depth_texture"),l!==null?l.UNSIGNED_INT_24_8_WEBGL:null):c[o]!==void 0?c[o]:null}return{convert:r}}class Xd extends Ws{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class xu extends So{constructor(){super(),this.isGroup=!0,this.type="Group"}}const e5={type:"move"};class Vf{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new xu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new xu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new we,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new we),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new xu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new we,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new we),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,o=null,a=null;const l=this._targetRay,f=this._grip,h=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(h&&e.hand){a=!0;for(const S of e.hand.values()){const R=t.getJointPose(S,n),k=this._getHandJoint(h,S);R!==null&&(k.matrix.fromArray(R.transform.matrix),k.matrix.decompose(k.position,k.rotation,k.scale),k.jointRadius=R.radius),k.visible=R!==null}const v=h.joints["index-finger-tip"],_=h.joints["thumb-tip"],C=v.position.distanceTo(_.position),y=.02,L=.005;h.inputState.pinching&&C>y+L?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!h.inputState.pinching&&C<=y-L&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else f!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,n),o!==null&&(f.matrix.fromArray(o.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),o.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(o.linearVelocity)):f.hasLinearVelocity=!1,o.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(o.angularVelocity)):f.hasAngularVelocity=!1));l!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&o!==null&&(r=o),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(e5)))}return l!==null&&(l.visible=r!==null),f!==null&&(f.visible=o!==null),h!==null&&(h.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new xu;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Yd extends to{constructor(e,t,n,r,o,a,l,f,h,v){if(v=v!==void 0?v:ki,v!==ki&&v!==wi)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&v===ki&&(n=oi),n===void 0&&v===wi&&(n=Xr),super(null,r,o,a,l,f,v,n,h),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=l!==void 0?l:an,this.minFilter=f!==void 0?f:an,this.flipY=!1,this.generateMipmaps=!1}}class t5 extends Kn{constructor(e,t){super();const n=this;let r=null,o=1,a=null,l="local-floor",f=1,h=null,v=null,_=null,C=null,y=null,L=null;const S=t.getContextAttributes();let R=null,k=null;const Z=[],B=[],j=new Set,xe=new Map,Ie=new Ws;Ie.layers.enable(1),Ie.viewport=new hi;const Je=new Ws;Je.layers.enable(2),Je.viewport=new hi;const G=[Ie,Je],Le=new Xd;Le.layers.enable(1),Le.layers.enable(2);let st=null,Zt=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Kt){let er=Z[Kt];return er===void 0&&(er=new Vf,Z[Kt]=er),er.getTargetRaySpace()},this.getControllerGrip=function(Kt){let er=Z[Kt];return er===void 0&&(er=new Vf,Z[Kt]=er),er.getGripSpace()},this.getHand=function(Kt){let er=Z[Kt];return er===void 0&&(er=new Vf,Z[Kt]=er),er.getHandSpace()};function Mn(Kt){const er=B.indexOf(Kt.inputSource);if(er===-1)return;const Ir=Z[er];Ir!==void 0&&Ir.dispatchEvent({type:Kt.type,data:Kt.inputSource})}function Bt(){r.removeEventListener("select",Mn),r.removeEventListener("selectstart",Mn),r.removeEventListener("selectend",Mn),r.removeEventListener("squeeze",Mn),r.removeEventListener("squeezestart",Mn),r.removeEventListener("squeezeend",Mn),r.removeEventListener("end",Bt),r.removeEventListener("inputsourceschange",xt);for(let Kt=0;Kt<Z.length;Kt++){const er=B[Kt];er!==null&&(B[Kt]=null,Z[Kt].disconnect(er))}st=null,Zt=null,e.setRenderTarget(R),y=null,C=null,_=null,r=null,k=null,Wr.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Kt){o=Kt,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Kt){l=Kt,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||a},this.setReferenceSpace=function(Kt){h=Kt},this.getBaseLayer=function(){return C!==null?C:y},this.getBinding=function(){return _},this.getFrame=function(){return L},this.getSession=function(){return r},this.setSession=function(Kt){return Jl(this,null,function*(){if(r=Kt,r!==null){if(R=e.getRenderTarget(),r.addEventListener("select",Mn),r.addEventListener("selectstart",Mn),r.addEventListener("selectend",Mn),r.addEventListener("squeeze",Mn),r.addEventListener("squeezestart",Mn),r.addEventListener("squeezeend",Mn),r.addEventListener("end",Bt),r.addEventListener("inputsourceschange",xt),S.xrCompatible!==!0&&(yield t.makeXRCompatible()),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const er={antialias:r.renderState.layers===void 0?S.antialias:!0,alpha:S.alpha,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:o};y=new XRWebGLLayer(r,t,er),r.updateRenderState({baseLayer:y}),k=new Do(y.framebufferWidth,y.framebufferHeight,{format:yi,type:si,encoding:e.outputEncoding,stencilBuffer:S.stencil})}else{let er=null,Ir=null,Ot=null;S.depth&&(Ot=S.stencil?35056:33190,er=S.stencil?wi:ki,Ir=S.stencil?Xr:oi);const ii={colorFormat:32856,depthFormat:Ot,scaleFactor:o};_=new XRWebGLBinding(r,t),C=_.createProjectionLayer(ii),r.updateRenderState({layers:[C]}),k=new Do(C.textureWidth,C.textureHeight,{format:yi,type:si,depthTexture:new Yd(C.textureWidth,C.textureHeight,Ir,void 0,void 0,void 0,void 0,void 0,void 0,er),stencilBuffer:S.stencil,encoding:e.outputEncoding,samples:S.antialias?4:0});const Vr=e.properties.get(k);Vr.__ignoreDepthValues=C.ignoreDepthValues}k.isXRRenderTarget=!0,this.setFoveation(f),h=null,a=yield r.requestReferenceSpace(l),Wr.setContext(r),Wr.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}})};function xt(Kt){for(let er=0;er<Kt.removed.length;er++){const Ir=Kt.removed[er],Ot=B.indexOf(Ir);Ot>=0&&(B[Ot]=null,Z[Ot].disconnect(Ir))}for(let er=0;er<Kt.added.length;er++){const Ir=Kt.added[er];let Ot=B.indexOf(Ir);if(Ot===-1){for(let Vr=0;Vr<Z.length;Vr++)if(Vr>=B.length){B.push(Ir),Ot=Vr;break}else if(B[Vr]===null){B[Vr]=Ir,Ot=Vr;break}if(Ot===-1)break}const ii=Z[Ot];ii&&ii.connect(Ir)}}const en=new we,Bn=new we;function fr(Kt,er,Ir){en.setFromMatrixPosition(er.matrixWorld),Bn.setFromMatrixPosition(Ir.matrixWorld);const Ot=en.distanceTo(Bn),ii=er.projectionMatrix.elements,Vr=Ir.projectionMatrix.elements,ei=ii[14]/(ii[10]-1),ai=ii[14]/(ii[10]+1),mi=(ii[9]+1)/ii[5],Zi=(ii[9]-1)/ii[5],Tn=(ii[8]-1)/ii[0],Yn=(Vr[8]+1)/Vr[0],Lr=ei*Tn,vi=ei*Yn,Hr=Ot/(-Tn+Yn),ji=Hr*-Tn;er.matrixWorld.decompose(Kt.position,Kt.quaternion,Kt.scale),Kt.translateX(ji),Kt.translateZ(Hr),Kt.matrixWorld.compose(Kt.position,Kt.quaternion,Kt.scale),Kt.matrixWorldInverse.copy(Kt.matrixWorld).invert();const bi=ei+Hr,Gi=ai+Hr,gs=Lr-ji,ns=vi+(Ot-ji),ze=mi*ai/Gi*bi,me=Zi*ai/Gi*bi;Kt.projectionMatrix.makePerspective(gs,ns,ze,me,bi,Gi)}function _n(Kt,er){er===null?Kt.matrixWorld.copy(Kt.matrix):Kt.matrixWorld.multiplyMatrices(er.matrixWorld,Kt.matrix),Kt.matrixWorldInverse.copy(Kt.matrixWorld).invert()}this.updateCamera=function(Kt){if(r===null)return;Le.near=Je.near=Ie.near=Kt.near,Le.far=Je.far=Ie.far=Kt.far,(st!==Le.near||Zt!==Le.far)&&(r.updateRenderState({depthNear:Le.near,depthFar:Le.far}),st=Le.near,Zt=Le.far);const er=Kt.parent,Ir=Le.cameras;_n(Le,er);for(let ii=0;ii<Ir.length;ii++)_n(Ir[ii],er);Le.matrixWorld.decompose(Le.position,Le.quaternion,Le.scale),Kt.matrix.copy(Le.matrix),Kt.matrix.decompose(Kt.position,Kt.quaternion,Kt.scale);const Ot=Kt.children;for(let ii=0,Vr=Ot.length;ii<Vr;ii++)Ot[ii].updateMatrixWorld(!0);Ir.length===2?fr(Le,Ie,Je):Le.projectionMatrix.copy(Ie.projectionMatrix)},this.getCamera=function(){return Le},this.getFoveation=function(){if(!(C===null&&y===null))return f},this.setFoveation=function(Kt){f=Kt,C!==null&&(C.fixedFoveation=Kt),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=Kt)},this.getPlanes=function(){return j};let jn=null;function ar(Kt,er){if(v=er.getViewerPose(h||a),L=er,v!==null){const Ir=v.views;y!==null&&(e.setRenderTargetFramebuffer(k,y.framebuffer),e.setRenderTarget(k));let Ot=!1;Ir.length!==Le.cameras.length&&(Le.cameras.length=0,Ot=!0);for(let ii=0;ii<Ir.length;ii++){const Vr=Ir[ii];let ei=null;if(y!==null)ei=y.getViewport(Vr);else{const mi=_.getViewSubImage(C,Vr);ei=mi.viewport,ii===0&&(e.setRenderTargetTextures(k,mi.colorTexture,C.ignoreDepthValues?void 0:mi.depthStencilTexture),e.setRenderTarget(k))}let ai=G[ii];ai===void 0&&(ai=new Ws,ai.layers.enable(ii),ai.viewport=new hi,G[ii]=ai),ai.matrix.fromArray(Vr.transform.matrix),ai.projectionMatrix.fromArray(Vr.projectionMatrix),ai.viewport.set(ei.x,ei.y,ei.width,ei.height),ii===0&&Le.matrix.copy(ai.matrix),Ot===!0&&Le.cameras.push(ai)}}for(let Ir=0;Ir<Z.length;Ir++){const Ot=B[Ir],ii=Z[Ir];Ot!==null&&ii!==void 0&&ii.update(Ot,er,h||a)}if(jn&&jn(Kt,er),er.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:er.detectedPlanes});let Ir=null;for(const Ot of j)er.detectedPlanes.has(Ot)||(Ir===null&&(Ir=[]),Ir.push(Ot));if(Ir!==null)for(const Ot of Ir)j.delete(Ot),xe.delete(Ot),n.dispatchEvent({type:"planeremoved",data:Ot});for(const Ot of er.detectedPlanes)if(!j.has(Ot))j.add(Ot),xe.set(Ot,er.lastChangedTime),n.dispatchEvent({type:"planeadded",data:Ot});else{const ii=xe.get(Ot);Ot.lastChangedTime>ii&&(xe.set(Ot,Ot.lastChangedTime),n.dispatchEvent({type:"planechanged",data:Ot}))}}L=null}const Wr=new Ic;Wr.setAnimationLoop(ar),this.setAnimationLoop=function(Kt){jn=Kt},this.dispose=function(){}}}function n5(c,e){function t(S,R){R.color.getRGB(S.fogColor.value,oc(c)),R.isFog?(S.fogNear.value=R.near,S.fogFar.value=R.far):R.isFogExp2&&(S.fogDensity.value=R.density)}function n(S,R,k,Z,B){R.isMeshBasicMaterial||R.isMeshLambertMaterial?r(S,R):R.isMeshToonMaterial?(r(S,R),v(S,R)):R.isMeshPhongMaterial?(r(S,R),h(S,R)):R.isMeshStandardMaterial?(r(S,R),_(S,R),R.isMeshPhysicalMaterial&&C(S,R,B)):R.isMeshMatcapMaterial?(r(S,R),y(S,R)):R.isMeshDepthMaterial?r(S,R):R.isMeshDistanceMaterial?(r(S,R),L(S,R)):R.isMeshNormalMaterial?r(S,R):R.isLineBasicMaterial?(o(S,R),R.isLineDashedMaterial&&a(S,R)):R.isPointsMaterial?l(S,R,k,Z):R.isSpriteMaterial?f(S,R):R.isShadowMaterial?(S.color.value.copy(R.color),S.opacity.value=R.opacity):R.isShaderMaterial&&(R.uniformsNeedUpdate=!1)}function r(S,R){S.opacity.value=R.opacity,R.color&&S.diffuse.value.copy(R.color),R.emissive&&S.emissive.value.copy(R.emissive).multiplyScalar(R.emissiveIntensity),R.map&&(S.map.value=R.map),R.alphaMap&&(S.alphaMap.value=R.alphaMap),R.bumpMap&&(S.bumpMap.value=R.bumpMap,S.bumpScale.value=R.bumpScale,R.side===yt&&(S.bumpScale.value*=-1)),R.displacementMap&&(S.displacementMap.value=R.displacementMap,S.displacementScale.value=R.displacementScale,S.displacementBias.value=R.displacementBias),R.emissiveMap&&(S.emissiveMap.value=R.emissiveMap),R.normalMap&&(S.normalMap.value=R.normalMap,S.normalScale.value.copy(R.normalScale),R.side===yt&&S.normalScale.value.negate()),R.specularMap&&(S.specularMap.value=R.specularMap),R.alphaTest>0&&(S.alphaTest.value=R.alphaTest);const k=e.get(R).envMap;if(k&&(S.envMap.value=k,S.flipEnvMap.value=k.isCubeTexture&&k.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=R.reflectivity,S.ior.value=R.ior,S.refractionRatio.value=R.refractionRatio),R.lightMap){S.lightMap.value=R.lightMap;const j=c.useLegacyLights===!0?Math.PI:1;S.lightMapIntensity.value=R.lightMapIntensity*j}R.aoMap&&(S.aoMap.value=R.aoMap,S.aoMapIntensity.value=R.aoMapIntensity);let Z;R.map?Z=R.map:R.specularMap?Z=R.specularMap:R.displacementMap?Z=R.displacementMap:R.normalMap?Z=R.normalMap:R.bumpMap?Z=R.bumpMap:R.roughnessMap?Z=R.roughnessMap:R.metalnessMap?Z=R.metalnessMap:R.alphaMap?Z=R.alphaMap:R.emissiveMap?Z=R.emissiveMap:R.clearcoatMap?Z=R.clearcoatMap:R.clearcoatNormalMap?Z=R.clearcoatNormalMap:R.clearcoatRoughnessMap?Z=R.clearcoatRoughnessMap:R.iridescenceMap?Z=R.iridescenceMap:R.iridescenceThicknessMap?Z=R.iridescenceThicknessMap:R.specularIntensityMap?Z=R.specularIntensityMap:R.specularColorMap?Z=R.specularColorMap:R.transmissionMap?Z=R.transmissionMap:R.thicknessMap?Z=R.thicknessMap:R.sheenColorMap?Z=R.sheenColorMap:R.sheenRoughnessMap&&(Z=R.sheenRoughnessMap),Z!==void 0&&(Z.isWebGLRenderTarget&&(Z=Z.texture),Z.matrixAutoUpdate===!0&&Z.updateMatrix(),S.uvTransform.value.copy(Z.matrix));let B;R.aoMap?B=R.aoMap:R.lightMap&&(B=R.lightMap),B!==void 0&&(B.isWebGLRenderTarget&&(B=B.texture),B.matrixAutoUpdate===!0&&B.updateMatrix(),S.uv2Transform.value.copy(B.matrix))}function o(S,R){S.diffuse.value.copy(R.color),S.opacity.value=R.opacity}function a(S,R){S.dashSize.value=R.dashSize,S.totalSize.value=R.dashSize+R.gapSize,S.scale.value=R.scale}function l(S,R,k,Z){S.diffuse.value.copy(R.color),S.opacity.value=R.opacity,S.size.value=R.size*k,S.scale.value=Z*.5,R.map&&(S.map.value=R.map),R.alphaMap&&(S.alphaMap.value=R.alphaMap),R.alphaTest>0&&(S.alphaTest.value=R.alphaTest);let B;R.map?B=R.map:R.alphaMap&&(B=R.alphaMap),B!==void 0&&(B.matrixAutoUpdate===!0&&B.updateMatrix(),S.uvTransform.value.copy(B.matrix))}function f(S,R){S.diffuse.value.copy(R.color),S.opacity.value=R.opacity,S.rotation.value=R.rotation,R.map&&(S.map.value=R.map),R.alphaMap&&(S.alphaMap.value=R.alphaMap),R.alphaTest>0&&(S.alphaTest.value=R.alphaTest);let k;R.map?k=R.map:R.alphaMap&&(k=R.alphaMap),k!==void 0&&(k.matrixAutoUpdate===!0&&k.updateMatrix(),S.uvTransform.value.copy(k.matrix))}function h(S,R){S.specular.value.copy(R.specular),S.shininess.value=Math.max(R.shininess,1e-4)}function v(S,R){R.gradientMap&&(S.gradientMap.value=R.gradientMap)}function _(S,R){S.roughness.value=R.roughness,S.metalness.value=R.metalness,R.roughnessMap&&(S.roughnessMap.value=R.roughnessMap),R.metalnessMap&&(S.metalnessMap.value=R.metalnessMap),e.get(R).envMap&&(S.envMapIntensity.value=R.envMapIntensity)}function C(S,R,k){S.ior.value=R.ior,R.sheen>0&&(S.sheenColor.value.copy(R.sheenColor).multiplyScalar(R.sheen),S.sheenRoughness.value=R.sheenRoughness,R.sheenColorMap&&(S.sheenColorMap.value=R.sheenColorMap),R.sheenRoughnessMap&&(S.sheenRoughnessMap.value=R.sheenRoughnessMap)),R.clearcoat>0&&(S.clearcoat.value=R.clearcoat,S.clearcoatRoughness.value=R.clearcoatRoughness,R.clearcoatMap&&(S.clearcoatMap.value=R.clearcoatMap),R.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=R.clearcoatRoughnessMap),R.clearcoatNormalMap&&(S.clearcoatNormalScale.value.copy(R.clearcoatNormalScale),S.clearcoatNormalMap.value=R.clearcoatNormalMap,R.side===yt&&S.clearcoatNormalScale.value.negate())),R.iridescence>0&&(S.iridescence.value=R.iridescence,S.iridescenceIOR.value=R.iridescenceIOR,S.iridescenceThicknessMinimum.value=R.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=R.iridescenceThicknessRange[1],R.iridescenceMap&&(S.iridescenceMap.value=R.iridescenceMap),R.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=R.iridescenceThicknessMap)),R.transmission>0&&(S.transmission.value=R.transmission,S.transmissionSamplerMap.value=k.texture,S.transmissionSamplerSize.value.set(k.width,k.height),R.transmissionMap&&(S.transmissionMap.value=R.transmissionMap),S.thickness.value=R.thickness,R.thicknessMap&&(S.thicknessMap.value=R.thicknessMap),S.attenuationDistance.value=R.attenuationDistance,S.attenuationColor.value.copy(R.attenuationColor)),S.specularIntensity.value=R.specularIntensity,S.specularColor.value.copy(R.specularColor),R.specularIntensityMap&&(S.specularIntensityMap.value=R.specularIntensityMap),R.specularColorMap&&(S.specularColorMap.value=R.specularColorMap)}function y(S,R){R.matcap&&(S.matcap.value=R.matcap)}function L(S,R){S.referencePosition.value.copy(R.referencePosition),S.nearDistance.value=R.nearDistance,S.farDistance.value=R.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function r5(c,e,t,n){let r={},o={},a=[];const l=t.isWebGL2?c.getParameter(35375):0;function f(Z,B){const j=B.program;n.uniformBlockBinding(Z,j)}function h(Z,B){let j=r[Z.id];j===void 0&&(L(Z),j=v(Z),r[Z.id]=j,Z.addEventListener("dispose",R));const xe=B.program;n.updateUBOMapping(Z,xe);const Ie=e.render.frame;o[Z.id]!==Ie&&(C(Z),o[Z.id]=Ie)}function v(Z){const B=_();Z.__bindingPointIndex=B;const j=c.createBuffer(),xe=Z.__size,Ie=Z.usage;return c.bindBuffer(35345,j),c.bufferData(35345,xe,Ie),c.bindBuffer(35345,null),c.bindBufferBase(35345,B,j),j}function _(){for(let Z=0;Z<l;Z++)if(a.indexOf(Z)===-1)return a.push(Z),Z;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function C(Z){const B=r[Z.id],j=Z.uniforms,xe=Z.__cache;c.bindBuffer(35345,B);for(let Ie=0,Je=j.length;Ie<Je;Ie++){const G=j[Ie];if(y(G,Ie,xe)===!0){const Le=G.__offset,st=Array.isArray(G.value)?G.value:[G.value];let Zt=0;for(let Mn=0;Mn<st.length;Mn++){const Bt=st[Mn],xt=S(Bt);typeof Bt=="number"?(G.__data[0]=Bt,c.bufferSubData(35345,Le+Zt,G.__data)):Bt.isMatrix3?(G.__data[0]=Bt.elements[0],G.__data[1]=Bt.elements[1],G.__data[2]=Bt.elements[2],G.__data[3]=Bt.elements[0],G.__data[4]=Bt.elements[3],G.__data[5]=Bt.elements[4],G.__data[6]=Bt.elements[5],G.__data[7]=Bt.elements[0],G.__data[8]=Bt.elements[6],G.__data[9]=Bt.elements[7],G.__data[10]=Bt.elements[8],G.__data[11]=Bt.elements[0]):(Bt.toArray(G.__data,Zt),Zt+=xt.storage/Float32Array.BYTES_PER_ELEMENT)}c.bufferSubData(35345,Le,G.__data)}}c.bindBuffer(35345,null)}function y(Z,B,j){const xe=Z.value;if(j[B]===void 0){if(typeof xe=="number")j[B]=xe;else{const Ie=Array.isArray(xe)?xe:[xe],Je=[];for(let G=0;G<Ie.length;G++)Je.push(Ie[G].clone());j[B]=Je}return!0}else if(typeof xe=="number"){if(j[B]!==xe)return j[B]=xe,!0}else{const Ie=Array.isArray(j[B])?j[B]:[j[B]],Je=Array.isArray(xe)?xe:[xe];for(let G=0;G<Ie.length;G++){const Le=Ie[G];if(Le.equals(Je[G])===!1)return Le.copy(Je[G]),!0}}return!1}function L(Z){const B=Z.uniforms;let j=0;const xe=16;let Ie=0;for(let Je=0,G=B.length;Je<G;Je++){const Le=B[Je],st={boundary:0,storage:0},Zt=Array.isArray(Le.value)?Le.value:[Le.value];for(let Mn=0,Bt=Zt.length;Mn<Bt;Mn++){const xt=Zt[Mn],en=S(xt);st.boundary+=en.boundary,st.storage+=en.storage}if(Le.__data=new Float32Array(st.storage/Float32Array.BYTES_PER_ELEMENT),Le.__offset=j,Je>0){Ie=j%xe;const Mn=xe-Ie;Ie!==0&&Mn-st.boundary<0&&(j+=xe-Ie,Le.__offset=j)}j+=st.storage}return Ie=j%xe,Ie>0&&(j+=xe-Ie),Z.__size=j,Z.__cache={},this}function S(Z){const B={boundary:0,storage:0};return typeof Z=="number"?(B.boundary=4,B.storage=4):Z.isVector2?(B.boundary=8,B.storage=8):Z.isVector3||Z.isColor?(B.boundary=16,B.storage=12):Z.isVector4?(B.boundary=16,B.storage=16):Z.isMatrix3?(B.boundary=48,B.storage=48):Z.isMatrix4?(B.boundary=64,B.storage=64):Z.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Z),B}function R(Z){const B=Z.target;B.removeEventListener("dispose",R);const j=a.indexOf(B.__bindingPointIndex);a.splice(j,1),c.deleteBuffer(r[B.id]),delete r[B.id],delete o[B.id]}function k(){for(const Z in r)c.deleteBuffer(r[Z]);a=[],r={},o={}}return{bind:f,update:h,dispose:k}}function i5(){const c=lo("canvas");return c.style.display="block",c}function Ff(c={}){this.isWebGLRenderer=!0;const e=c.canvas!==void 0?c.canvas:i5(),t=c.context!==void 0?c.context:null,n=c.depth!==void 0?c.depth:!0,r=c.stencil!==void 0?c.stencil:!0,o=c.antialias!==void 0?c.antialias:!1,a=c.premultipliedAlpha!==void 0?c.premultipliedAlpha:!0,l=c.preserveDrawingBuffer!==void 0?c.preserveDrawingBuffer:!1,f=c.powerPreference!==void 0?c.powerPreference:"default",h=c.failIfMajorPerformanceCaveat!==void 0?c.failIfMajorPerformanceCaveat:!1;let v;t!==null?v=t.getContextAttributes().alpha:v=c.alpha!==void 0?c.alpha:!1;let _=null,C=null;const y=[],L=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Vs,this.useLegacyLights=!0,this.toneMapping=Mr,this.toneMappingExposure=1;const S=this;let R=!1,k=0,Z=0,B=null,j=-1,xe=null;const Ie=new hi,Je=new hi;let G=null,Le=e.width,st=e.height,Zt=1,Mn=null,Bt=null;const xt=new hi(0,0,Le,st),en=new hi(0,0,Le,st);let Bn=!1;const fr=new Y1;let _n=!1,jn=!1,ar=null;const Wr=new Yr,Kt=new we,er={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ir(){return B===null?Zt:1}let Ot=t;function ii(Ee,Dt){for(let sn=0;sn<Ee.length;sn++){const Lt=Ee[sn],dn=e.getContext(Lt,Dt);if(dn!==null)return dn}return null}try{const Ee={alpha:!0,depth:n,stencil:r,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:f,failIfMajorPerformanceCaveat:h};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${O}`),e.addEventListener("webglcontextlost",Xi,!1),e.addEventListener("webglcontextrestored",Vi,!1),e.addEventListener("webglcontextcreationerror",Mi,!1),Ot===null){const Dt=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&Dt.shift(),Ot=ii(Dt,Ee),Ot===null)throw ii(Dt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Ot.getShaderPrecisionFormat===void 0&&(Ot.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ee){throw console.error("THREE.WebGLRenderer: "+Ee.message),Ee}let Vr,ei,ai,mi,Zi,Tn,Yn,Lr,vi,Hr,ji,bi,Gi,gs,ns,ze,me,tn,_r,xr,Fr,xi,jr,Sn;function Pi(){Vr=new B2(Ot),ei=new P2(Ot,Vr,c),Vr.init(ei),xi=new Gd(Ot,Vr,ei),ai=new qh(Ot,Vr,ei),mi=new F2,Zi=new _u,Tn=new Qh(Ot,Vr,ai,Zi,ei,xi,mi),Yn=new O2(S),Lr=new H2(S),vi=new Oc(Ot,ei),jr=new T2(Ot,Vr,vi,ei),Hr=new N2(Ot,vi,mi,jr),ji=new Z2(Ot,Hr,vi,mi),_r=new $2(Ot,ei,Tn),ze=new I2(Zi),bi=new se(S,Yn,Lr,Vr,ei,jr,ze),Gi=new n5(S,Zi),gs=new Uh,ns=new Xh(Vr,ei),tn=new E2(S,Yn,Lr,ai,ji,v,a),me=new Jh(S,ji,ei),Sn=new r5(Ot,mi,ei,ai),xr=new A2(Ot,Vr,mi,ei),Fr=new V2(Ot,Vr,mi,ei),mi.programs=bi.programs,S.capabilities=ei,S.extensions=Vr,S.properties=Zi,S.renderLists=gs,S.shadowMap=me,S.state=ai,S.info=mi}Pi();const fi=new t5(S,Ot);this.xr=fi,this.getContext=function(){return Ot},this.getContextAttributes=function(){return Ot.getContextAttributes()},this.forceContextLoss=function(){const Ee=Vr.get("WEBGL_lose_context");Ee&&Ee.loseContext()},this.forceContextRestore=function(){const Ee=Vr.get("WEBGL_lose_context");Ee&&Ee.restoreContext()},this.getPixelRatio=function(){return Zt},this.setPixelRatio=function(Ee){Ee!==void 0&&(Zt=Ee,this.setSize(Le,st,!1))},this.getSize=function(Ee){return Ee.set(Le,st)},this.setSize=function(Ee,Dt,sn=!0){if(fi.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Le=Ee,st=Dt,e.width=Math.floor(Ee*Zt),e.height=Math.floor(Dt*Zt),sn===!0&&(e.style.width=Ee+"px",e.style.height=Dt+"px"),this.setViewport(0,0,Ee,Dt)},this.getDrawingBufferSize=function(Ee){return Ee.set(Le*Zt,st*Zt).floor()},this.setDrawingBufferSize=function(Ee,Dt,sn){Le=Ee,st=Dt,Zt=sn,e.width=Math.floor(Ee*sn),e.height=Math.floor(Dt*sn),this.setViewport(0,0,Ee,Dt)},this.getCurrentViewport=function(Ee){return Ee.copy(Ie)},this.getViewport=function(Ee){return Ee.copy(xt)},this.setViewport=function(Ee,Dt,sn,Lt){Ee.isVector4?xt.set(Ee.x,Ee.y,Ee.z,Ee.w):xt.set(Ee,Dt,sn,Lt),ai.viewport(Ie.copy(xt).multiplyScalar(Zt).floor())},this.getScissor=function(Ee){return Ee.copy(en)},this.setScissor=function(Ee,Dt,sn,Lt){Ee.isVector4?en.set(Ee.x,Ee.y,Ee.z,Ee.w):en.set(Ee,Dt,sn,Lt),ai.scissor(Je.copy(en).multiplyScalar(Zt).floor())},this.getScissorTest=function(){return Bn},this.setScissorTest=function(Ee){ai.setScissorTest(Bn=Ee)},this.setOpaqueSort=function(Ee){Mn=Ee},this.setTransparentSort=function(Ee){Bt=Ee},this.getClearColor=function(Ee){return Ee.copy(tn.getClearColor())},this.setClearColor=function(){tn.setClearColor.apply(tn,arguments)},this.getClearAlpha=function(){return tn.getClearAlpha()},this.setClearAlpha=function(){tn.setClearAlpha.apply(tn,arguments)},this.clear=function(Ee=!0,Dt=!0,sn=!0){let Lt=0;Ee&&(Lt|=16384),Dt&&(Lt|=256),sn&&(Lt|=1024),Ot.clear(Lt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Xi,!1),e.removeEventListener("webglcontextrestored",Vi,!1),e.removeEventListener("webglcontextcreationerror",Mi,!1),gs.dispose(),ns.dispose(),Zi.dispose(),Yn.dispose(),Lr.dispose(),ji.dispose(),jr.dispose(),Sn.dispose(),bi.dispose(),fi.dispose(),fi.removeEventListener("sessionstart",nr),fi.removeEventListener("sessionend",Gr),ar&&(ar.dispose(),ar=null),li.stop()};function Xi(Ee){Ee.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),R=!0}function Vi(){console.log("THREE.WebGLRenderer: Context Restored."),R=!1;const Ee=mi.autoReset,Dt=me.enabled,sn=me.autoUpdate,Lt=me.needsUpdate,dn=me.type;Pi(),mi.autoReset=Ee,me.enabled=Dt,me.autoUpdate=sn,me.needsUpdate=Lt,me.type=dn}function Mi(Ee){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Ee.statusMessage)}function Xo(Ee){const Dt=Ee.target;Dt.removeEventListener("dispose",Xo),Xs(Dt)}function Xs(Ee){za(Ee),Zi.remove(Ee)}function za(Ee){const Dt=Zi.get(Ee).programs;Dt!==void 0&&(Dt.forEach(function(sn){bi.releaseProgram(sn)}),Ee.isShaderMaterial&&bi.releaseShaderCache(Ee))}this.renderBufferDirect=function(Ee,Dt,sn,Lt,dn,Ei){Dt===null&&(Dt=er);const eo=dn.isMesh&&dn.matrixWorld.determinant()<0,Co=v7(Ee,Dt,sn,Lt,dn);ai.setMaterial(Lt,eo);let Ro=sn.index,Yo=1;Lt.wireframe===!0&&(Ro=Hr.getWireframeAttribute(sn),Yo=2);const zo=sn.drawRange,Ho=sn.attributes.position;let va=zo.start*Yo,E1=(zo.start+zo.count)*Yo;Ei!==null&&(va=Math.max(va,Ei.start*Yo),E1=Math.min(E1,(Ei.start+Ei.count)*Yo)),Ro!==null?(va=Math.max(va,0),E1=Math.min(E1,Ro.count)):Ho!=null&&(va=Math.max(va,0),E1=Math.min(E1,Ho.count));const Kl=E1-va;if(Kl<0||Kl===1/0)return;jr.setup(dn,Lt,Co,sn,Ro);let tu,Ca=xr;if(Ro!==null&&(tu=vi.get(Ro),Ca=Fr,Ca.setIndex(tu)),dn.isMesh)Lt.wireframe===!0?(ai.setLineWidth(Lt.wireframeLinewidth*Ir()),Ca.setMode(1)):Ca.setMode(4);else if(dn.isLine){let Bo=Lt.linewidth;Bo===void 0&&(Bo=1),ai.setLineWidth(Bo*Ir()),dn.isLineSegments?Ca.setMode(1):dn.isLineLoop?Ca.setMode(2):Ca.setMode(3)}else dn.isPoints?Ca.setMode(0):dn.isSprite&&Ca.setMode(4);if(dn.isInstancedMesh)Ca.renderInstances(va,Kl,dn.count);else if(sn.isInstancedBufferGeometry){const Bo=sn._maxInstanceCount!==void 0?sn._maxInstanceCount:1/0,M2=Math.min(sn.instanceCount,Bo);Ca.renderInstances(va,Kl,M2)}else Ca.render(va,Kl)},this.compile=function(Ee,Dt){function sn(Lt,dn,Ei){Lt.transparent===!0&&Lt.side===Rt&&Lt.forceSinglePass===!1?(Lt.side=yt,Lt.needsUpdate=!0,k1(Lt,dn,Ei),Lt.side=_e,Lt.needsUpdate=!0,k1(Lt,dn,Ei),Lt.side=Rt):k1(Lt,dn,Ei)}C=ns.get(Ee),C.init(),L.push(C),Ee.traverseVisible(function(Lt){Lt.isLight&&Lt.layers.test(Dt.layers)&&(C.pushLight(Lt),Lt.castShadow&&C.pushShadow(Lt))}),C.setupLights(S.useLegacyLights),Ee.traverse(function(Lt){const dn=Lt.material;if(dn)if(Array.isArray(dn))for(let Ei=0;Ei<dn.length;Ei++){const eo=dn[Ei];sn(eo,Ee,Lt)}else sn(dn,Ee,Lt)}),L.pop(),C=null};let pt=null;function cn(Ee){pt&&pt(Ee)}function nr(){li.stop()}function Gr(){li.start()}const li=new Ic;li.setAnimationLoop(cn),typeof self!="undefined"&&li.setContext(self),this.setAnimationLoop=function(Ee){pt=Ee,fi.setAnimationLoop(Ee),Ee===null?li.stop():li.start()},fi.addEventListener("sessionstart",nr),fi.addEventListener("sessionend",Gr),this.render=function(Ee,Dt){if(Dt!==void 0&&Dt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(R===!0)return;Ee.matrixWorldAutoUpdate===!0&&Ee.updateMatrixWorld(),Dt.parent===null&&Dt.matrixWorldAutoUpdate===!0&&Dt.updateMatrixWorld(),fi.enabled===!0&&fi.isPresenting===!0&&(fi.cameraAutoUpdate===!0&&fi.updateCamera(Dt),Dt=fi.getCamera()),Ee.isScene===!0&&Ee.onBeforeRender(S,Ee,Dt,B),C=ns.get(Ee,L.length),C.init(),L.push(C),Wr.multiplyMatrices(Dt.projectionMatrix,Dt.matrixWorldInverse),fr.setFromProjectionMatrix(Wr),jn=this.localClippingEnabled,_n=ze.init(this.clippingPlanes,jn),_=gs.get(Ee,y.length),_.init(),y.push(_),As(Ee,Dt,0,S.sortObjects),_.finish(),S.sortObjects===!0&&_.sort(Mn,Bt),_n===!0&&ze.beginShadows();const sn=C.state.shadowsArray;if(me.render(sn,Ee,Dt),_n===!0&&ze.endShadows(),this.info.autoReset===!0&&this.info.reset(),tn.render(_,Ee),C.setupLights(S.useLegacyLights),Dt.isArrayCamera){const Lt=Dt.cameras;for(let dn=0,Ei=Lt.length;dn<Ei;dn++){const eo=Lt[dn];Ha(_,Ee,eo,eo.viewport)}}else Ha(_,Ee,Dt);B!==null&&(Tn.updateMultisampleRenderTarget(B),Tn.updateRenderTargetMipmap(B)),Ee.isScene===!0&&Ee.onAfterRender(S,Ee,Dt),jr.resetDefaultState(),j=-1,xe=null,L.pop(),L.length>0?C=L[L.length-1]:C=null,y.pop(),y.length>0?_=y[y.length-1]:_=null};function As(Ee,Dt,sn,Lt){if(Ee.visible===!1)return;if(Ee.layers.test(Dt.layers)){if(Ee.isGroup)sn=Ee.renderOrder;else if(Ee.isLOD)Ee.autoUpdate===!0&&Ee.update(Dt);else if(Ee.isLight)C.pushLight(Ee),Ee.castShadow&&C.pushShadow(Ee);else if(Ee.isSprite){if(!Ee.frustumCulled||fr.intersectsSprite(Ee)){Lt&&Kt.setFromMatrixPosition(Ee.matrixWorld).applyMatrix4(Wr);const eo=ji.update(Ee),Co=Ee.material;Co.visible&&_.push(Ee,eo,Co,sn,Kt.z,null)}}else if((Ee.isMesh||Ee.isLine||Ee.isPoints)&&(Ee.isSkinnedMesh&&Ee.skeleton.frame!==mi.render.frame&&(Ee.skeleton.update(),Ee.skeleton.frame=mi.render.frame),!Ee.frustumCulled||fr.intersectsObject(Ee))){Lt&&Kt.setFromMatrixPosition(Ee.matrixWorld).applyMatrix4(Wr);const eo=ji.update(Ee),Co=Ee.material;if(Array.isArray(Co)){const Ro=eo.groups;for(let Yo=0,zo=Ro.length;Yo<zo;Yo++){const Ho=Ro[Yo],va=Co[Ho.materialIndex];va&&va.visible&&_.push(Ee,eo,va,sn,Kt.z,Ho)}}else Co.visible&&_.push(Ee,eo,Co,sn,Kt.z,null)}}const Ei=Ee.children;for(let eo=0,Co=Ei.length;eo<Co;eo++)As(Ei[eo],Dt,sn,Lt)}function Ha(Ee,Dt,sn,Lt){const dn=Ee.opaque,Ei=Ee.transmissive,eo=Ee.transparent;C.setupLightsView(sn),_n===!0&&ze.setGlobalState(S.clippingPlanes,sn),Ei.length>0&&u1(dn,Dt,sn),Lt&&ai.viewport(Ie.copy(Lt)),dn.length>0&&Sl(dn,Dt,sn),Ei.length>0&&Sl(Ei,Dt,sn),eo.length>0&&Sl(eo,Dt,sn),ai.buffers.depth.setTest(!0),ai.buffers.depth.setMask(!0),ai.buffers.color.setMask(!0),ai.setPolygonOffset(!1)}function u1(Ee,Dt,sn){const Lt=ei.isWebGL2;ar===null&&(ar=new Do(1024,1024,{generateMipmaps:!0,type:Vr.has("EXT_color_buffer_half_float")?Xt:si,minFilter:Xn,samples:Lt&&o===!0?4:0}));const dn=S.getRenderTarget();S.setRenderTarget(ar),S.clear();const Ei=S.toneMapping;S.toneMapping=Mr,Sl(Ee,Dt,sn),S.toneMapping=Ei,Tn.updateMultisampleRenderTarget(ar),Tn.updateRenderTargetMipmap(ar),S.setRenderTarget(dn)}function Sl(Ee,Dt,sn){const Lt=Dt.isScene===!0?Dt.overrideMaterial:null;for(let dn=0,Ei=Ee.length;dn<Ei;dn++){const eo=Ee[dn],Co=eo.object,Ro=eo.geometry,Yo=Lt===null?eo.material:Lt,zo=eo.group;Co.layers.test(sn.layers)&&aa(Co,Dt,sn,Ro,Yo,zo)}}function aa(Ee,Dt,sn,Lt,dn,Ei){Ee.onBeforeRender(S,Dt,sn,Lt,dn,Ei),Ee.modelViewMatrix.multiplyMatrices(sn.matrixWorldInverse,Ee.matrixWorld),Ee.normalMatrix.getNormalMatrix(Ee.modelViewMatrix),dn.onBeforeRender(S,Dt,sn,Lt,Ee,Ei),dn.transparent===!0&&dn.side===Rt&&dn.forceSinglePass===!1?(dn.side=yt,dn.needsUpdate=!0,S.renderBufferDirect(sn,Dt,Lt,dn,Ee,Ei),dn.side=_e,dn.needsUpdate=!0,S.renderBufferDirect(sn,Dt,Lt,dn,Ee,Ei),dn.side=Rt):S.renderBufferDirect(sn,Dt,Lt,dn,Ee,Ei),Ee.onAfterRender(S,Dt,sn,Lt,dn,Ei)}function k1(Ee,Dt,sn){Dt.isScene!==!0&&(Dt=er);const Lt=Zi.get(Ee),dn=C.state.lights,Ei=C.state.shadowsArray,eo=dn.state.version,Co=bi.getParameters(Ee,dn.state,Ei,Dt,sn),Ro=bi.getProgramCacheKey(Co);let Yo=Lt.programs;Lt.environment=Ee.isMeshStandardMaterial?Dt.environment:null,Lt.fog=Dt.fog,Lt.envMap=(Ee.isMeshStandardMaterial?Lr:Yn).get(Ee.envMap||Lt.environment),Yo===void 0&&(Ee.addEventListener("dispose",Xo),Yo=new Map,Lt.programs=Yo);let zo=Yo.get(Ro);if(zo!==void 0){if(Lt.currentProgram===zo&&Lt.lightsStateVersion===eo)return Rl(Ee,Co),zo}else Co.uniforms=bi.getUniforms(Ee),Ee.onBuild(sn,Co,S),Ee.onBeforeCompile(Co,S),zo=bi.acquireProgram(Co,Ro),Yo.set(Ro,zo),Lt.uniforms=Co.uniforms;const Ho=Lt.uniforms;(!Ee.isShaderMaterial&&!Ee.isRawShaderMaterial||Ee.clipping===!0)&&(Ho.clippingPlanes=ze.uniform),Rl(Ee,Co),Lt.needsLights=_7(Ee),Lt.lightsStateVersion=eo,Lt.needsLights&&(Ho.ambientLightColor.value=dn.state.ambient,Ho.lightProbe.value=dn.state.probe,Ho.directionalLights.value=dn.state.directional,Ho.directionalLightShadows.value=dn.state.directionalShadow,Ho.spotLights.value=dn.state.spot,Ho.spotLightShadows.value=dn.state.spotShadow,Ho.rectAreaLights.value=dn.state.rectArea,Ho.ltc_1.value=dn.state.rectAreaLTC1,Ho.ltc_2.value=dn.state.rectAreaLTC2,Ho.pointLights.value=dn.state.point,Ho.pointLightShadows.value=dn.state.pointShadow,Ho.hemisphereLights.value=dn.state.hemi,Ho.directionalShadowMap.value=dn.state.directionalShadowMap,Ho.directionalShadowMatrix.value=dn.state.directionalShadowMatrix,Ho.spotShadowMap.value=dn.state.spotShadowMap,Ho.spotLightMatrix.value=dn.state.spotLightMatrix,Ho.spotLightMap.value=dn.state.spotLightMap,Ho.pointShadowMap.value=dn.state.pointShadowMap,Ho.pointShadowMatrix.value=dn.state.pointShadowMatrix);const va=zo.getUniforms(),E1=vu.seqWithValue(va.seq,Ho);return Lt.currentProgram=zo,Lt.uniformsList=E1,zo}function Rl(Ee,Dt){const sn=Zi.get(Ee);sn.outputEncoding=Dt.outputEncoding,sn.instancing=Dt.instancing,sn.skinning=Dt.skinning,sn.morphTargets=Dt.morphTargets,sn.morphNormals=Dt.morphNormals,sn.morphColors=Dt.morphColors,sn.morphTargetsCount=Dt.morphTargetsCount,sn.numClippingPlanes=Dt.numClippingPlanes,sn.numIntersection=Dt.numClipIntersection,sn.vertexAlphas=Dt.vertexAlphas,sn.vertexTangents=Dt.vertexTangents,sn.toneMapping=Dt.toneMapping}function v7(Ee,Dt,sn,Lt,dn){Dt.isScene!==!0&&(Dt=er),Tn.resetTextureUnits();const Ei=Dt.fog,eo=Lt.isMeshStandardMaterial?Dt.environment:null,Co=B===null?S.outputEncoding:B.isXRRenderTarget===!0?B.texture.encoding:Vs,Ro=(Lt.isMeshStandardMaterial?Lr:Yn).get(Lt.envMap||eo),Yo=Lt.vertexColors===!0&&!!sn.attributes.color&&sn.attributes.color.itemSize===4,zo=!!Lt.normalMap&&!!sn.attributes.tangent,Ho=!!sn.morphAttributes.position,va=!!sn.morphAttributes.normal,E1=!!sn.morphAttributes.color,Kl=Lt.toneMapped?S.toneMapping:Mr,tu=sn.morphAttributes.position||sn.morphAttributes.normal||sn.morphAttributes.color,Ca=tu!==void 0?tu.length:0,Bo=Zi.get(Lt),M2=C.state.lights;if(_n===!0&&(jn===!0||Ee!==xe)){const T1=Ee===xe&&Lt.id===j;ze.setState(Lt,Ee,T1)}let Ba=!1;Lt.version===Bo.__version?(Bo.needsLights&&Bo.lightsStateVersion!==M2.state.version||Bo.outputEncoding!==Co||dn.isInstancedMesh&&Bo.instancing===!1||!dn.isInstancedMesh&&Bo.instancing===!0||dn.isSkinnedMesh&&Bo.skinning===!1||!dn.isSkinnedMesh&&Bo.skinning===!0||Bo.envMap!==Ro||Lt.fog===!0&&Bo.fog!==Ei||Bo.numClippingPlanes!==void 0&&(Bo.numClippingPlanes!==ze.numPlanes||Bo.numIntersection!==ze.numIntersection)||Bo.vertexAlphas!==Yo||Bo.vertexTangents!==zo||Bo.morphTargets!==Ho||Bo.morphNormals!==va||Bo.morphColors!==E1||Bo.toneMapping!==Kl||ei.isWebGL2===!0&&Bo.morphTargetsCount!==Ca)&&(Ba=!0):(Ba=!0,Bo.__version=Lt.version);let nu=Bo.currentProgram;Ba===!0&&(nu=k1(Lt,Dt,dn));let Ah=!1,d0=!1,S2=!1;const f1=nu.getUniforms(),ru=Bo.uniforms;if(ai.useProgram(nu.program)&&(Ah=!0,d0=!0,S2=!0),Lt.id!==j&&(j=Lt.id,d0=!0),Ah||xe!==Ee){if(f1.setValue(Ot,"projectionMatrix",Ee.projectionMatrix),ei.logarithmicDepthBuffer&&f1.setValue(Ot,"logDepthBufFC",2/(Math.log(Ee.far+1)/Math.LN2)),xe!==Ee&&(xe=Ee,d0=!0,S2=!0),Lt.isShaderMaterial||Lt.isMeshPhongMaterial||Lt.isMeshToonMaterial||Lt.isMeshStandardMaterial||Lt.envMap){const T1=f1.map.cameraPosition;T1!==void 0&&T1.setValue(Ot,Kt.setFromMatrixPosition(Ee.matrixWorld))}(Lt.isMeshPhongMaterial||Lt.isMeshToonMaterial||Lt.isMeshLambertMaterial||Lt.isMeshBasicMaterial||Lt.isMeshStandardMaterial||Lt.isShaderMaterial)&&f1.setValue(Ot,"isOrthographic",Ee.isOrthographicCamera===!0),(Lt.isMeshPhongMaterial||Lt.isMeshToonMaterial||Lt.isMeshLambertMaterial||Lt.isMeshBasicMaterial||Lt.isMeshStandardMaterial||Lt.isShaderMaterial||Lt.isShadowMaterial||dn.isSkinnedMesh)&&f1.setValue(Ot,"viewMatrix",Ee.matrixWorldInverse)}if(dn.isSkinnedMesh){f1.setOptional(Ot,dn,"bindMatrix"),f1.setOptional(Ot,dn,"bindMatrixInverse");const T1=dn.skeleton;T1&&(ei.floatVertexTextures?(T1.boneTexture===null&&T1.computeBoneTexture(),f1.setValue(Ot,"boneTexture",T1.boneTexture,Tn),f1.setValue(Ot,"boneTextureSize",T1.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const R2=sn.morphAttributes;if((R2.position!==void 0||R2.normal!==void 0||R2.color!==void 0&&ei.isWebGL2===!0)&&_r.update(dn,sn,nu),(d0||Bo.receiveShadow!==dn.receiveShadow)&&(Bo.receiveShadow=dn.receiveShadow,f1.setValue(Ot,"receiveShadow",dn.receiveShadow)),Lt.isMeshGouraudMaterial&&Lt.envMap!==null&&(ru.envMap.value=Ro,ru.flipEnvMap.value=Ro.isCubeTexture&&Ro.isRenderTargetTexture===!1?-1:1),d0&&(f1.setValue(Ot,"toneMappingExposure",S.toneMappingExposure),Bo.needsLights&&C7(ru,S2),Ei&&Lt.fog===!0&&Gi.refreshFogUniforms(ru,Ei),Gi.refreshMaterialUniforms(ru,Lt,Zt,st,ar),vu.upload(Ot,Bo.uniformsList,ru,Tn)),Lt.isShaderMaterial&&Lt.uniformsNeedUpdate===!0&&(vu.upload(Ot,Bo.uniformsList,ru,Tn),Lt.uniformsNeedUpdate=!1),Lt.isSpriteMaterial&&f1.setValue(Ot,"center",dn.center),f1.setValue(Ot,"modelViewMatrix",dn.modelViewMatrix),f1.setValue(Ot,"normalMatrix",dn.normalMatrix),f1.setValue(Ot,"modelMatrix",dn.matrixWorld),Lt.isShaderMaterial||Lt.isRawShaderMaterial){const T1=Lt.uniformsGroups;for(let L2=0,x7=T1.length;L2<x7;L2++)if(ei.isWebGL2){const Ph=T1[L2];Sn.update(Ph,nu),Sn.bind(Ph,nu)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return nu}function C7(Ee,Dt){Ee.ambientLightColor.needsUpdate=Dt,Ee.lightProbe.needsUpdate=Dt,Ee.directionalLights.needsUpdate=Dt,Ee.directionalLightShadows.needsUpdate=Dt,Ee.pointLights.needsUpdate=Dt,Ee.pointLightShadows.needsUpdate=Dt,Ee.spotLights.needsUpdate=Dt,Ee.spotLightShadows.needsUpdate=Dt,Ee.rectAreaLights.needsUpdate=Dt,Ee.hemisphereLights.needsUpdate=Dt}function _7(Ee){return Ee.isMeshLambertMaterial||Ee.isMeshToonMaterial||Ee.isMeshPhongMaterial||Ee.isMeshStandardMaterial||Ee.isShadowMaterial||Ee.isShaderMaterial&&Ee.lights===!0}this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return Z},this.getRenderTarget=function(){return B},this.setRenderTargetTextures=function(Ee,Dt,sn){Zi.get(Ee.texture).__webglTexture=Dt,Zi.get(Ee.depthTexture).__webglTexture=sn;const Lt=Zi.get(Ee);Lt.__hasExternalTextures=!0,Lt.__hasExternalTextures&&(Lt.__autoAllocateDepthBuffer=sn===void 0,Lt.__autoAllocateDepthBuffer||Vr.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Lt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Ee,Dt){const sn=Zi.get(Ee);sn.__webglFramebuffer=Dt,sn.__useDefaultFramebuffer=Dt===void 0},this.setRenderTarget=function(Ee,Dt=0,sn=0){B=Ee,k=Dt,Z=sn;let Lt=!0,dn=null,Ei=!1,eo=!1;if(Ee){const Ro=Zi.get(Ee);Ro.__useDefaultFramebuffer!==void 0?(ai.bindFramebuffer(36160,null),Lt=!1):Ro.__webglFramebuffer===void 0?Tn.setupRenderTarget(Ee):Ro.__hasExternalTextures&&Tn.rebindTextures(Ee,Zi.get(Ee.texture).__webglTexture,Zi.get(Ee.depthTexture).__webglTexture);const Yo=Ee.texture;(Yo.isData3DTexture||Yo.isDataArrayTexture||Yo.isCompressedArrayTexture)&&(eo=!0);const zo=Zi.get(Ee).__webglFramebuffer;Ee.isWebGLCubeRenderTarget?(dn=zo[Dt],Ei=!0):ei.isWebGL2&&Ee.samples>0&&Tn.useMultisampledRTT(Ee)===!1?dn=Zi.get(Ee).__webglMultisampledFramebuffer:dn=zo,Ie.copy(Ee.viewport),Je.copy(Ee.scissor),G=Ee.scissorTest}else Ie.copy(xt).multiplyScalar(Zt).floor(),Je.copy(en).multiplyScalar(Zt).floor(),G=Bn;if(ai.bindFramebuffer(36160,dn)&&ei.drawBuffers&&Lt&&ai.drawBuffers(Ee,dn),ai.viewport(Ie),ai.scissor(Je),ai.setScissorTest(G),Ei){const Ro=Zi.get(Ee.texture);Ot.framebufferTexture2D(36160,36064,34069+Dt,Ro.__webglTexture,sn)}else if(eo){const Ro=Zi.get(Ee.texture),Yo=Dt||0;Ot.framebufferTextureLayer(36160,36064,Ro.__webglTexture,sn||0,Yo)}j=-1},this.readRenderTargetPixels=function(Ee,Dt,sn,Lt,dn,Ei,eo){if(!(Ee&&Ee.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Co=Zi.get(Ee).__webglFramebuffer;if(Ee.isWebGLCubeRenderTarget&&eo!==void 0&&(Co=Co[eo]),Co){ai.bindFramebuffer(36160,Co);try{const Ro=Ee.texture,Yo=Ro.format,zo=Ro.type;if(Yo!==yi&&xi.convert(Yo)!==Ot.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ho=zo===Xt&&(Vr.has("EXT_color_buffer_half_float")||ei.isWebGL2&&Vr.has("EXT_color_buffer_float"));if(zo!==si&&xi.convert(zo)!==Ot.getParameter(35738)&&!(zo===tt&&(ei.isWebGL2||Vr.has("OES_texture_float")||Vr.has("WEBGL_color_buffer_float")))&&!Ho){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Dt>=0&&Dt<=Ee.width-Lt&&sn>=0&&sn<=Ee.height-dn&&Ot.readPixels(Dt,sn,Lt,dn,xi.convert(Yo),xi.convert(zo),Ei)}finally{const Ro=B!==null?Zi.get(B).__webglFramebuffer:null;ai.bindFramebuffer(36160,Ro)}}},this.copyFramebufferToTexture=function(Ee,Dt,sn=0){const Lt=Math.pow(2,-sn),dn=Math.floor(Dt.image.width*Lt),Ei=Math.floor(Dt.image.height*Lt);Tn.setTexture2D(Dt,0),Ot.copyTexSubImage2D(3553,sn,0,0,Ee.x,Ee.y,dn,Ei),ai.unbindTexture()},this.copyTextureToTexture=function(Ee,Dt,sn,Lt=0){const dn=Dt.image.width,Ei=Dt.image.height,eo=xi.convert(sn.format),Co=xi.convert(sn.type);Tn.setTexture2D(sn,0),Ot.pixelStorei(37440,sn.flipY),Ot.pixelStorei(37441,sn.premultiplyAlpha),Ot.pixelStorei(3317,sn.unpackAlignment),Dt.isDataTexture?Ot.texSubImage2D(3553,Lt,Ee.x,Ee.y,dn,Ei,eo,Co,Dt.image.data):Dt.isCompressedTexture?Ot.compressedTexSubImage2D(3553,Lt,Ee.x,Ee.y,Dt.mipmaps[0].width,Dt.mipmaps[0].height,eo,Dt.mipmaps[0].data):Ot.texSubImage2D(3553,Lt,Ee.x,Ee.y,eo,Co,Dt.image),Lt===0&&sn.generateMipmaps&&Ot.generateMipmap(3553),ai.unbindTexture()},this.copyTextureToTexture3D=function(Ee,Dt,sn,Lt,dn=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ei=Ee.max.x-Ee.min.x+1,eo=Ee.max.y-Ee.min.y+1,Co=Ee.max.z-Ee.min.z+1,Ro=xi.convert(Lt.format),Yo=xi.convert(Lt.type);let zo;if(Lt.isData3DTexture)Tn.setTexture3D(Lt,0),zo=32879;else if(Lt.isDataArrayTexture)Tn.setTexture2DArray(Lt,0),zo=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Ot.pixelStorei(37440,Lt.flipY),Ot.pixelStorei(37441,Lt.premultiplyAlpha),Ot.pixelStorei(3317,Lt.unpackAlignment);const Ho=Ot.getParameter(3314),va=Ot.getParameter(32878),E1=Ot.getParameter(3316),Kl=Ot.getParameter(3315),tu=Ot.getParameter(32877),Ca=sn.isCompressedTexture?sn.mipmaps[0]:sn.image;Ot.pixelStorei(3314,Ca.width),Ot.pixelStorei(32878,Ca.height),Ot.pixelStorei(3316,Ee.min.x),Ot.pixelStorei(3315,Ee.min.y),Ot.pixelStorei(32877,Ee.min.z),sn.isDataTexture||sn.isData3DTexture?Ot.texSubImage3D(zo,dn,Dt.x,Dt.y,Dt.z,Ei,eo,Co,Ro,Yo,Ca.data):sn.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Ot.compressedTexSubImage3D(zo,dn,Dt.x,Dt.y,Dt.z,Ei,eo,Co,Ro,Ca.data)):Ot.texSubImage3D(zo,dn,Dt.x,Dt.y,Dt.z,Ei,eo,Co,Ro,Yo,Ca),Ot.pixelStorei(3314,Ho),Ot.pixelStorei(32878,va),Ot.pixelStorei(3316,E1),Ot.pixelStorei(3315,Kl),Ot.pixelStorei(32877,tu),dn===0&&Lt.generateMipmaps&&Ot.generateMipmap(zo),ai.unbindTexture()},this.initTexture=function(Ee){Ee.isCubeTexture?Tn.setTextureCube(Ee,0):Ee.isData3DTexture?Tn.setTexture3D(Ee,0):Ee.isDataArrayTexture||Ee.isCompressedArrayTexture?Tn.setTexture2DArray(Ee,0):Tn.setTexture2D(Ee,0),ai.unbindTexture()},this.resetState=function(){k=0,Z=0,B=null,ai.reset(),jr.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Object.defineProperties(Ff.prototype,{physicallyCorrectLights:{get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(c){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!c}}});class Kd extends Ff{}Kd.prototype.isWebGL1Renderer=!0;class S0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Br(e),this.density=t}clone(){return new S0(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class R0{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Br(e),this.near=t,this.far=n}clone(){return new R0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Jd extends So{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class L0{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=vt,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Hi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,o=this.stride;r<o;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Hi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Hi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const l1=new we;class Uc{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)l1.fromBufferAttribute(this,t),l1.applyMatrix4(e),this.setXYZ(t,l1.x,l1.y,l1.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)l1.fromBufferAttribute(this,t),l1.applyNormalMatrix(e),this.setXYZ(t,l1.x,l1.y,l1.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)l1.fromBufferAttribute(this,t),l1.transformDirection(e),this.setXYZ(t,l1.x,l1.y,l1.z);return this}setX(e,t){return this.normalized&&(t=Ki(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Ki(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Ki(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Ki(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=es(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=es(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=es(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=es(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ki(t,this.array),n=Ki(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ki(t,this.array),n=Ki(n,this.array),r=Ki(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ki(t,this.array),n=Ki(n,this.array),r=Ki(r,this.array),o=Ki(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return new Go(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Uc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class kf extends Ms{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Br(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let yu;const Nu=new we,wu=new we,bu=new we,Mu=new Nt,Vu=new Nt,qd=new Yr,E0=new we,Fu=new we,T0=new we,Qd=new Nt,Uf=new Nt,e9=new Nt;class t9 extends So{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",yu===void 0){yu=new Ji;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new L0(t,5);yu.setIndex([0,1,2,0,2,3]),yu.setAttribute("position",new Uc(n,3,0,!1)),yu.setAttribute("uv",new Uc(n,2,3,!1))}this.geometry=yu,this.material=e!==void 0?e:new kf,this.center=new Nt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),wu.setFromMatrixScale(this.matrixWorld),qd.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),bu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&wu.multiplyScalar(-bu.z);const n=this.material.rotation;let r,o;n!==0&&(o=Math.cos(n),r=Math.sin(n));const a=this.center;A0(E0.set(-.5,-.5,0),bu,a,wu,r,o),A0(Fu.set(.5,-.5,0),bu,a,wu,r,o),A0(T0.set(.5,.5,0),bu,a,wu,r,o),Qd.set(0,0),Uf.set(1,0),e9.set(1,1);let l=e.ray.intersectTriangle(E0,Fu,T0,!1,Nu);if(l===null&&(A0(Fu.set(-.5,.5,0),bu,a,wu,r,o),Uf.set(0,1),l=e.ray.intersectTriangle(E0,T0,Fu,!1,Nu),l===null))return;const f=e.ray.origin.distanceTo(Nu);f<e.near||f>e.far||t.push({distance:f,point:Nu.clone(),uv:na.getUV(Nu,E0,Fu,T0,Qd,Uf,e9,new Nt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function A0(c,e,t,n,r,o){Mu.subVectors(c,t).addScalar(.5).multiply(n),r!==void 0?(Vu.x=o*Mu.x-r*Mu.y,Vu.y=r*Mu.x+o*Mu.y):Vu.copy(Mu),c.copy(e),c.x+=Vu.x,c.y+=Vu.y,c.applyMatrix4(qd)}const P0=new we,n9=new we;class r9 extends So{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const o=t[n];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let o;for(o=0;o<r.length&&!(t<r[o].distance);o++);return r.splice(o,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let o=t[n].distance;if(t[n].object.visible&&(o-=o*t[n].hysteresis),e<o)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){P0.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(P0);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){P0.setFromMatrixPosition(e.matrixWorld),n9.setFromMatrixPosition(this.matrixWorld);const n=P0.distanceTo(n9)/e.zoom;t[0].object.visible=!0;let r,o;for(r=1,o=t.length;r<o;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),n>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<o;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,o=n.length;r<o;r++){const a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const i9=new we,o9=new hi,s9=new hi,o5=new we,a9=new Yr;class l9 extends Ls{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Yr,this.bindMatrixInverse=new Yr}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new hi,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,r=this.geometry;o9.fromBufferAttribute(r.attributes.skinIndex,e),s9.fromBufferAttribute(r.attributes.skinWeight,e),i9.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const a=s9.getComponent(o);if(a!==0){const l=o9.getComponent(o);a9.multiplyMatrices(n.bones[l].matrixWorld,n.boneInverses[l]),t.addScaledVector(o5.copy(i9).applyMatrix4(a9),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class $f extends So{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Su extends to{constructor(e=null,t=1,n=1,r,o,a,l,f,h=an,v=an,_,C){super(null,a,l,f,h,v,r,o,_,C),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const c9=new Yr,s5=new Yr;class I0{constructor(e=[],t=[]){this.uuid=Hi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Yr)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Yr;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const l=e[o]?e[o].matrixWorld:s5;c9.multiplyMatrices(l,t[o]),c9.toArray(n,o*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new I0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Fa(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Su(t,e,e,yi,tt);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const o=e.bones[n];let a=t[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new $f),this.bones.push(a),this.boneInverses.push(new Yr().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,o=t.length;r<o;r++){const a=t[r];e.bones.push(a.uuid);const l=n[r];e.boneInverses.push(l.toArray())}return e}}class Ru extends Go{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const u9=new Yr,f9=new Yr,O0=[],a5=new Yr,ku=new Ls;class d9 extends Ls{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ru(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1;for(let r=0;r<n;r++)this.setMatrixAt(r,a5)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(ku.geometry=this.geometry,ku.material=this.material,ku.material!==void 0)for(let o=0;o<r;o++){this.getMatrixAt(o,u9),f9.multiplyMatrices(n,u9),ku.matrixWorld=f9,ku.raycast(e,O0);for(let a=0,l=O0.length;a<l;a++){const f=O0[a];f.instanceId=o,f.object=this,t.push(f)}O0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Ru(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class c1 extends Ms{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Br(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const h9=new we,p9=new we,m9=new Yr,Zf=new Wo,D0=new Fn;class yc extends So{constructor(e=new Ji,t=new c1){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,o=t.count;r<o;r++)h9.fromBufferAttribute(t,r-1),p9.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=h9.distanceTo(p9);e.setAttribute("lineDistance",new kr(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),D0.copy(n.boundingSphere),D0.applyMatrix4(r),D0.radius+=o,e.ray.intersectsSphere(D0)===!1)return;m9.copy(r).invert(),Zf.copy(e.ray).applyMatrix4(m9);const l=o/((this.scale.x+this.scale.y+this.scale.z)/3),f=l*l,h=new we,v=new we,_=new we,C=new we,y=this.isLineSegments?2:1,L=n.index,R=n.attributes.position;if(L!==null){const k=Math.max(0,a.start),Z=Math.min(L.count,a.start+a.count);for(let B=k,j=Z-1;B<j;B+=y){const xe=L.getX(B),Ie=L.getX(B+1);if(h.fromBufferAttribute(R,xe),v.fromBufferAttribute(R,Ie),Zf.distanceSqToSegment(h,v,C,_)>f)continue;C.applyMatrix4(this.matrixWorld);const G=e.ray.origin.distanceTo(C);G<e.near||G>e.far||t.push({distance:G,point:_.clone().applyMatrix4(this.matrixWorld),index:B,face:null,faceIndex:null,object:this})}}else{const k=Math.max(0,a.start),Z=Math.min(R.count,a.start+a.count);for(let B=k,j=Z-1;B<j;B+=y){if(h.fromBufferAttribute(R,B),v.fromBufferAttribute(R,B+1),Zf.distanceSqToSegment(h,v,C,_)>f)continue;C.applyMatrix4(this.matrixWorld);const Ie=e.ray.origin.distanceTo(C);Ie<e.near||Ie>e.far||t.push({distance:Ie,point:_.clone().applyMatrix4(this.matrixWorld),index:B,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const l=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}}const g9=new we,v9=new we;class bl extends yc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,o=t.count;r<o;r+=2)g9.fromBufferAttribute(t,r),v9.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+g9.distanceTo(v9);e.setAttribute("lineDistance",new kr(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class C9 extends yc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Wf extends Ms{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Br(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const _9=new Yr,jf=new Wo,z0=new Fn,H0=new we;class x9 extends So{constructor(e=new Ji,t=new Wf){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Points.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),z0.copy(n.boundingSphere),z0.applyMatrix4(r),z0.radius+=o,e.ray.intersectsSphere(z0)===!1)return;_9.copy(r).invert(),jf.copy(e.ray).applyMatrix4(_9);const l=o/((this.scale.x+this.scale.y+this.scale.z)/3),f=l*l,h=n.index,_=n.attributes.position;if(h!==null){const C=Math.max(0,a.start),y=Math.min(h.count,a.start+a.count);for(let L=C,S=y;L<S;L++){const R=h.getX(L);H0.fromBufferAttribute(_,R),y9(H0,R,f,r,e,t,this)}}else{const C=Math.max(0,a.start),y=Math.min(_.count,a.start+a.count);for(let L=C,S=y;L<S;L++)H0.fromBufferAttribute(_,L),y9(H0,L,f,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const l=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}}function y9(c,e,t,n,r,o,a){const l=jf.distanceSqToPoint(c);if(l<t){const f=new we;jf.closestPointToPoint(c,f),f.applyMatrix4(n);const h=r.ray.origin.distanceTo(f);if(h<r.near||h>r.far)return;o.push({distance:h,distanceToRay:Math.sqrt(l),point:f,index:e,face:null,object:a})}}class l5 extends to{constructor(e,t,n,r,o,a,l,f,h){super(e,t,n,r,o,a,l,f,h),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:Jn,this.magFilter=o!==void 0?o:Jn,this.generateMipmaps=!1;const v=this;function _(){v.needsUpdate=!0,e.requestVideoFrameCallback(_)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(_)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class c5 extends to{constructor(e,t,n){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=n,this.magFilter=an,this.minFilter=an,this.generateMipmaps=!1,this.needsUpdate=!0}}class Gf extends to{constructor(e,t,n,r,o,a,l,f,h,v,_,C){super(null,a,l,f,h,v,r,o,_,C),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class u5 extends Gf{constructor(e,t,n,r,o,a){super(e,t,n,o,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Gt}}class f5 extends to{constructor(e,t,n,r,o,a,l,f,h){super(e,t,n,r,o,a,l,f,h),this.isCanvasTexture=!0,this.needsUpdate=!0}}class rl{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),o=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),o+=n.distanceTo(r),t.push(o),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const o=n.length;let a;t?a=t:a=e*n[o-1];let l=0,f=o-1,h;for(;l<=f;)if(r=Math.floor(l+(f-l)/2),h=n[r]-a,h<0)l=r+1;else if(h>0)f=r-1;else{f=r;break}if(r=f,n[r]===a)return r/(o-1);const v=n[r],C=n[r+1]-v,y=(a-v)/C;return(r+y)/(o-1)}getTangent(e,t){let r=e-1e-4,o=e+1e-4;r<0&&(r=0),o>1&&(o=1);const a=this.getPoint(r),l=this.getPoint(o),f=t||(a.isVector2?new Nt:new we);return f.copy(l).sub(a).normalize(),f}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new we,r=[],o=[],a=[],l=new we,f=new Yr;for(let y=0;y<=e;y++){const L=y/e;r[y]=this.getTangentAt(L,new we)}o[0]=new we,a[0]=new we;let h=Number.MAX_VALUE;const v=Math.abs(r[0].x),_=Math.abs(r[0].y),C=Math.abs(r[0].z);v<=h&&(h=v,n.set(1,0,0)),_<=h&&(h=_,n.set(0,1,0)),C<=h&&n.set(0,0,1),l.crossVectors(r[0],n).normalize(),o[0].crossVectors(r[0],l),a[0].crossVectors(r[0],o[0]);for(let y=1;y<=e;y++){if(o[y]=o[y-1].clone(),a[y]=a[y-1].clone(),l.crossVectors(r[y-1],r[y]),l.length()>Number.EPSILON){l.normalize();const L=Math.acos(Cr(r[y-1].dot(r[y]),-1,1));o[y].applyMatrix4(f.makeRotationAxis(l,L))}a[y].crossVectors(r[y],o[y])}if(t===!0){let y=Math.acos(Cr(o[0].dot(o[e]),-1,1));y/=e,r[0].dot(l.crossVectors(o[0],o[e]))>0&&(y=-y);for(let L=1;L<=e;L++)o[L].applyMatrix4(f.makeRotationAxis(r[L],y*L)),a[L].crossVectors(r[L],o[L])}return{tangents:r,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class B0 extends rl{constructor(e=0,t=0,n=1,r=1,o=0,a=Math.PI*2,l=!1,f=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=l,this.aRotation=f}getPoint(e,t){const n=t||new Nt,r=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(a?o=0:o=r),this.aClockwise===!0&&!a&&(o===r?o=-r:o=o-r);const l=this.aStartAngle+e*o;let f=this.aX+this.xRadius*Math.cos(l),h=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const v=Math.cos(this.aRotation),_=Math.sin(this.aRotation),C=f-this.aX,y=h-this.aY;f=C*v-y*_+this.aX,h=C*_+y*v+this.aY}return n.set(f,h)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class w9 extends B0{constructor(e,t,n,r,o,a){super(e,t,n,n,r,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function Xf(){let c=0,e=0,t=0,n=0;function r(o,a,l,f){c=o,e=l,t=-3*o+3*a-2*l-f,n=2*o-2*a+l+f}return{initCatmullRom:function(o,a,l,f,h){r(a,l,h*(l-o),h*(f-a))},initNonuniformCatmullRom:function(o,a,l,f,h,v,_){let C=(a-o)/h-(l-o)/(h+v)+(l-a)/v,y=(l-a)/v-(f-a)/(v+_)+(f-l)/_;C*=v,y*=v,r(a,l,C,y)},calc:function(o){const a=o*o,l=a*o;return c+e*o+t*a+n*l}}}const N0=new we,Yf=new Xf,Kf=new Xf,Jf=new Xf;class b9 extends rl{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new we){const n=t,r=this.points,o=r.length,a=(o-(this.closed?0:1))*e;let l=Math.floor(a),f=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/o)+1)*o:f===0&&l===o-1&&(l=o-2,f=1);let h,v;this.closed||l>0?h=r[(l-1)%o]:(N0.subVectors(r[0],r[1]).add(r[0]),h=N0);const _=r[l%o],C=r[(l+1)%o];if(this.closed||l+2<o?v=r[(l+2)%o]:(N0.subVectors(r[o-1],r[o-2]).add(r[o-1]),v=N0),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let L=Math.pow(h.distanceToSquared(_),y),S=Math.pow(_.distanceToSquared(C),y),R=Math.pow(C.distanceToSquared(v),y);S<1e-4&&(S=1),L<1e-4&&(L=S),R<1e-4&&(R=S),Yf.initNonuniformCatmullRom(h.x,_.x,C.x,v.x,L,S,R),Kf.initNonuniformCatmullRom(h.y,_.y,C.y,v.y,L,S,R),Jf.initNonuniformCatmullRom(h.z,_.z,C.z,v.z,L,S,R)}else this.curveType==="catmullrom"&&(Yf.initCatmullRom(h.x,_.x,C.x,v.x,this.tension),Kf.initCatmullRom(h.y,_.y,C.y,v.y,this.tension),Jf.initCatmullRom(h.z,_.z,C.z,v.z,this.tension));return n.set(Yf.calc(f),Kf.calc(f),Jf.calc(f)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new we().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function M9(c,e,t,n,r){const o=(n-e)*.5,a=(r-t)*.5,l=c*c,f=c*l;return(2*t-2*n+o+a)*f+(-3*t+3*n-2*o-a)*l+o*c+t}function d5(c,e){const t=1-c;return t*t*e}function h5(c,e){return 2*(1-c)*c*e}function p5(c,e){return c*c*e}function Uu(c,e,t,n){return d5(c,e)+h5(c,t)+p5(c,n)}function m5(c,e){const t=1-c;return t*t*t*e}function g5(c,e){const t=1-c;return 3*t*t*c*e}function v5(c,e){return 3*(1-c)*c*c*e}function C5(c,e){return c*c*c*e}function $u(c,e,t,n,r){return m5(c,e)+g5(c,t)+v5(c,n)+C5(c,r)}class qf extends rl{constructor(e=new Nt,t=new Nt,n=new Nt,r=new Nt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Nt){const n=t,r=this.v0,o=this.v1,a=this.v2,l=this.v3;return n.set($u(e,r.x,o.x,a.x,l.x),$u(e,r.y,o.y,a.y,l.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class S9 extends rl{constructor(e=new we,t=new we,n=new we,r=new we){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new we){const n=t,r=this.v0,o=this.v1,a=this.v2,l=this.v3;return n.set($u(e,r.x,o.x,a.x,l.x),$u(e,r.y,o.y,a.y,l.y),$u(e,r.z,o.z,a.z,l.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class V0 extends rl{constructor(e=new Nt,t=new Nt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Nt){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Nt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class R9 extends rl{constructor(e=new we,t=new we){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new we){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new we){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Qf extends rl{constructor(e=new Nt,t=new Nt,n=new Nt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Nt){const n=t,r=this.v0,o=this.v1,a=this.v2;return n.set(Uu(e,r.x,o.x,a.x),Uu(e,r.y,o.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class e2 extends rl{constructor(e=new we,t=new we,n=new we){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new we){const n=t,r=this.v0,o=this.v1,a=this.v2;return n.set(Uu(e,r.x,o.x,a.x),Uu(e,r.y,o.y,a.y),Uu(e,r.z,o.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class t2 extends rl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Nt){const n=t,r=this.points,o=(r.length-1)*e,a=Math.floor(o),l=o-a,f=r[a===0?a:a-1],h=r[a],v=r[a>r.length-2?r.length-1:a+1],_=r[a>r.length-3?r.length-1:a+2];return n.set(M9(l,f.x,h.x,v.x,_.x),M9(l,f.y,h.y,v.y,_.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new Nt().fromArray(r))}return this}}var n2=Object.freeze({__proto__:null,ArcCurve:w9,CatmullRomCurve3:b9,CubicBezierCurve:qf,CubicBezierCurve3:S9,EllipseCurve:B0,LineCurve:V0,LineCurve3:R9,QuadraticBezierCurve:Qf,QuadraticBezierCurve3:e2,SplineCurve:t2});class L9 extends rl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new V0(t,e))}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let o=0;for(;o<r.length;){if(r[o]>=n){const a=r[o]-n,l=this.curves[o],f=l.getLength(),h=f===0?0:1-a/f;return l.getPointAt(h,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,o=this.curves;r<o.length;r++){const a=o[r],l=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,f=a.getPoints(l);for(let h=0;h<f.length;h++){const v=f[h];n&&n.equals(v)||(t.push(v),n=v)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new n2[r.type]().fromJSON(r))}return this}}class Zu extends L9{constructor(e){super(),this.type="Path",this.currentPoint=new Nt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new V0(this.currentPoint.clone(),new Nt(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const o=new Qf(this.currentPoint.clone(),new Nt(e,t),new Nt(n,r));return this.curves.push(o),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,o,a){const l=new qf(this.currentPoint.clone(),new Nt(e,t),new Nt(n,r),new Nt(o,a));return this.curves.push(l),this.currentPoint.set(o,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new t2(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,o,a){const l=this.currentPoint.x,f=this.currentPoint.y;return this.absarc(e+l,t+f,n,r,o,a),this}absarc(e,t,n,r,o,a){return this.absellipse(e,t,n,n,r,o,a),this}ellipse(e,t,n,r,o,a,l,f){const h=this.currentPoint.x,v=this.currentPoint.y;return this.absellipse(e+h,t+v,n,r,o,a,l,f),this}absellipse(e,t,n,r,o,a,l,f){const h=new B0(e,t,n,r,o,a,l,f);if(this.curves.length>0){const _=h.getPoint(0);_.equals(this.currentPoint)||this.lineTo(_.x,_.y)}this.curves.push(h);const v=h.getPoint(1);return this.currentPoint.copy(v),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Lu extends Ji{constructor(e=[new Nt(0,-.5),new Nt(.5,0),new Nt(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Cr(r,0,Math.PI*2);const o=[],a=[],l=[],f=[],h=[],v=1/t,_=new we,C=new Nt,y=new we,L=new we,S=new we;let R=0,k=0;for(let Z=0;Z<=e.length-1;Z++)switch(Z){case 0:R=e[Z+1].x-e[Z].x,k=e[Z+1].y-e[Z].y,y.x=k*1,y.y=-R,y.z=k*0,S.copy(y),y.normalize(),f.push(y.x,y.y,y.z);break;case e.length-1:f.push(S.x,S.y,S.z);break;default:R=e[Z+1].x-e[Z].x,k=e[Z+1].y-e[Z].y,y.x=k*1,y.y=-R,y.z=k*0,L.copy(y),y.x+=S.x,y.y+=S.y,y.z+=S.z,y.normalize(),f.push(y.x,y.y,y.z),S.copy(L)}for(let Z=0;Z<=t;Z++){const B=n+Z*v*r,j=Math.sin(B),xe=Math.cos(B);for(let Ie=0;Ie<=e.length-1;Ie++){_.x=e[Ie].x*j,_.y=e[Ie].y,_.z=e[Ie].x*xe,a.push(_.x,_.y,_.z),C.x=Z/t,C.y=Ie/(e.length-1),l.push(C.x,C.y);const Je=f[3*Ie+0]*j,G=f[3*Ie+1],Le=f[3*Ie+0]*xe;h.push(Je,G,Le)}}for(let Z=0;Z<t;Z++)for(let B=0;B<e.length-1;B++){const j=B+Z*e.length,xe=j,Ie=j+e.length,Je=j+e.length+1,G=j+1;o.push(xe,Ie,G),o.push(Je,G,Ie)}this.setIndex(o),this.setAttribute("position",new kr(a,3)),this.setAttribute("uv",new kr(l,2)),this.setAttribute("normal",new kr(h,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lu(e.points,e.segments,e.phiStart,e.phiLength)}}class Wu extends Lu{constructor(e=1,t=1,n=4,r=8){const o=new Zu;o.absarc(0,-t/2,e,Math.PI*1.5,0),o.absarc(0,t/2,e,0,Math.PI*.5),super(o.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new Wu(e.radius,e.length,e.capSegments,e.radialSegments)}}class ju extends Ji{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const o=[],a=[],l=[],f=[],h=new we,v=new Nt;a.push(0,0,0),l.push(0,0,1),f.push(.5,.5);for(let _=0,C=3;_<=t;_++,C+=3){const y=n+_/t*r;h.x=e*Math.cos(y),h.y=e*Math.sin(y),a.push(h.x,h.y,h.z),l.push(0,0,1),v.x=(a[C]/e+1)/2,v.y=(a[C+1]/e+1)/2,f.push(v.x,v.y)}for(let _=1;_<=t;_++)o.push(_,_+1,0);this.setIndex(o),this.setAttribute("position",new kr(a,3)),this.setAttribute("normal",new kr(l,3)),this.setAttribute("uv",new kr(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ju(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class $c extends Ji{constructor(e=1,t=1,n=1,r=32,o=1,a=!1,l=0,f=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:l,thetaLength:f};const h=this;r=Math.floor(r),o=Math.floor(o);const v=[],_=[],C=[],y=[];let L=0;const S=[],R=n/2;let k=0;Z(),a===!1&&(e>0&&B(!0),t>0&&B(!1)),this.setIndex(v),this.setAttribute("position",new kr(_,3)),this.setAttribute("normal",new kr(C,3)),this.setAttribute("uv",new kr(y,2));function Z(){const j=new we,xe=new we;let Ie=0;const Je=(t-e)/n;for(let G=0;G<=o;G++){const Le=[],st=G/o,Zt=st*(t-e)+e;for(let Mn=0;Mn<=r;Mn++){const Bt=Mn/r,xt=Bt*f+l,en=Math.sin(xt),Bn=Math.cos(xt);xe.x=Zt*en,xe.y=-st*n+R,xe.z=Zt*Bn,_.push(xe.x,xe.y,xe.z),j.set(en,Je,Bn).normalize(),C.push(j.x,j.y,j.z),y.push(Bt,1-st),Le.push(L++)}S.push(Le)}for(let G=0;G<r;G++)for(let Le=0;Le<o;Le++){const st=S[Le][G],Zt=S[Le+1][G],Mn=S[Le+1][G+1],Bt=S[Le][G+1];v.push(st,Zt,Bt),v.push(Zt,Mn,Bt),Ie+=6}h.addGroup(k,Ie,0),k+=Ie}function B(j){const xe=L,Ie=new Nt,Je=new we;let G=0;const Le=j===!0?e:t,st=j===!0?1:-1;for(let Mn=1;Mn<=r;Mn++)_.push(0,R*st,0),C.push(0,st,0),y.push(.5,.5),L++;const Zt=L;for(let Mn=0;Mn<=r;Mn++){const xt=Mn/r*f+l,en=Math.cos(xt),Bn=Math.sin(xt);Je.x=Le*Bn,Je.y=R*st,Je.z=Le*en,_.push(Je.x,Je.y,Je.z),C.push(0,st,0),Ie.x=en*.5+.5,Ie.y=Bn*.5*st+.5,y.push(Ie.x,Ie.y),L++}for(let Mn=0;Mn<r;Mn++){const Bt=xe+Mn,xt=Zt+Mn;j===!0?v.push(xt,xt+1,Bt):v.push(xt+1,xt,Bt),G+=3}h.addGroup(k,G,j===!0?1:2),k+=G}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $c(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Gu extends $c{constructor(e=1,t=1,n=32,r=1,o=!1,a=0,l=Math.PI*2){super(0,e,t,n,r,o,a,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:l}}static fromJSON(e){return new Gu(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class jl extends Ji{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const o=[],a=[];l(r),h(n),v(),this.setAttribute("position",new kr(o,3)),this.setAttribute("normal",new kr(o.slice(),3)),this.setAttribute("uv",new kr(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(Z){const B=new we,j=new we,xe=new we;for(let Ie=0;Ie<t.length;Ie+=3)y(t[Ie+0],B),y(t[Ie+1],j),y(t[Ie+2],xe),f(B,j,xe,Z)}function f(Z,B,j,xe){const Ie=xe+1,Je=[];for(let G=0;G<=Ie;G++){Je[G]=[];const Le=Z.clone().lerp(j,G/Ie),st=B.clone().lerp(j,G/Ie),Zt=Ie-G;for(let Mn=0;Mn<=Zt;Mn++)Mn===0&&G===Ie?Je[G][Mn]=Le:Je[G][Mn]=Le.clone().lerp(st,Mn/Zt)}for(let G=0;G<Ie;G++)for(let Le=0;Le<2*(Ie-G)-1;Le++){const st=Math.floor(Le/2);Le%2===0?(C(Je[G][st+1]),C(Je[G+1][st]),C(Je[G][st])):(C(Je[G][st+1]),C(Je[G+1][st+1]),C(Je[G+1][st]))}}function h(Z){const B=new we;for(let j=0;j<o.length;j+=3)B.x=o[j+0],B.y=o[j+1],B.z=o[j+2],B.normalize().multiplyScalar(Z),o[j+0]=B.x,o[j+1]=B.y,o[j+2]=B.z}function v(){const Z=new we;for(let B=0;B<o.length;B+=3){Z.x=o[B+0],Z.y=o[B+1],Z.z=o[B+2];const j=R(Z)/2/Math.PI+.5,xe=k(Z)/Math.PI+.5;a.push(j,1-xe)}L(),_()}function _(){for(let Z=0;Z<a.length;Z+=6){const B=a[Z+0],j=a[Z+2],xe=a[Z+4],Ie=Math.max(B,j,xe),Je=Math.min(B,j,xe);Ie>.9&&Je<.1&&(B<.2&&(a[Z+0]+=1),j<.2&&(a[Z+2]+=1),xe<.2&&(a[Z+4]+=1))}}function C(Z){o.push(Z.x,Z.y,Z.z)}function y(Z,B){const j=Z*3;B.x=e[j+0],B.y=e[j+1],B.z=e[j+2]}function L(){const Z=new we,B=new we,j=new we,xe=new we,Ie=new Nt,Je=new Nt,G=new Nt;for(let Le=0,st=0;Le<o.length;Le+=9,st+=6){Z.set(o[Le+0],o[Le+1],o[Le+2]),B.set(o[Le+3],o[Le+4],o[Le+5]),j.set(o[Le+6],o[Le+7],o[Le+8]),Ie.set(a[st+0],a[st+1]),Je.set(a[st+2],a[st+3]),G.set(a[st+4],a[st+5]),xe.copy(Z).add(B).add(j).divideScalar(3);const Zt=R(xe);S(Ie,st+0,Z,Zt),S(Je,st+2,B,Zt),S(G,st+4,j,Zt)}}function S(Z,B,j,xe){xe<0&&Z.x===1&&(a[B]=Z.x-1),j.x===0&&j.z===0&&(a[B]=xe/2/Math.PI+.5)}function R(Z){return Math.atan2(Z.z,-Z.x)}function k(Z){return Math.atan2(-Z.y,Math.sqrt(Z.x*Z.x+Z.z*Z.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jl(e.vertices,e.indices,e.radius,e.details)}}class Xu extends jl{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Xu(e.radius,e.detail)}}const F0=new we,k0=new we,r2=new we,U0=new na;class E9 extends Ji{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),o=Math.cos(ni*t),a=e.getIndex(),l=e.getAttribute("position"),f=a?a.count:l.count,h=[0,0,0],v=["a","b","c"],_=new Array(3),C={},y=[];for(let L=0;L<f;L+=3){a?(h[0]=a.getX(L),h[1]=a.getX(L+1),h[2]=a.getX(L+2)):(h[0]=L,h[1]=L+1,h[2]=L+2);const{a:S,b:R,c:k}=U0;if(S.fromBufferAttribute(l,h[0]),R.fromBufferAttribute(l,h[1]),k.fromBufferAttribute(l,h[2]),U0.getNormal(r2),_[0]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,_[1]=`${Math.round(R.x*r)},${Math.round(R.y*r)},${Math.round(R.z*r)}`,_[2]=`${Math.round(k.x*r)},${Math.round(k.y*r)},${Math.round(k.z*r)}`,!(_[0]===_[1]||_[1]===_[2]||_[2]===_[0]))for(let Z=0;Z<3;Z++){const B=(Z+1)%3,j=_[Z],xe=_[B],Ie=U0[v[Z]],Je=U0[v[B]],G=`${j}_${xe}`,Le=`${xe}_${j}`;Le in C&&C[Le]?(r2.dot(C[Le].normal)<=o&&(y.push(Ie.x,Ie.y,Ie.z),y.push(Je.x,Je.y,Je.z)),C[Le]=null):G in C||(C[G]={index0:h[Z],index1:h[B],normal:r2.clone()})}}for(const L in C)if(C[L]){const{index0:S,index1:R}=C[L];F0.fromBufferAttribute(l,S),k0.fromBufferAttribute(l,R),y.push(F0.x,F0.y,F0.z),y.push(k0.x,k0.y,k0.z)}this.setAttribute("position",new kr(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Zc extends Zu{constructor(e){super(e),this.uuid=Hi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new Zu().fromJSON(r))}return this}}const _5={triangulate:function(c,e,t=2){const n=e&&e.length,r=n?e[0]*t:c.length;let o=T9(c,0,r,t,!0);const a=[];if(!o||o.next===o.prev)return a;let l,f,h,v,_,C,y;if(n&&(o=M5(c,e,o,t)),c.length>80*t){l=h=c[0],f=v=c[1];for(let L=t;L<r;L+=t)_=c[L],C=c[L+1],_<l&&(l=_),C<f&&(f=C),_>h&&(h=_),C>v&&(v=C);y=Math.max(h-l,v-f),y=y!==0?32767/y:0}return Yu(o,a,t,l,f,y,0),a}};function T9(c,e,t,n,r){let o,a;if(r===z5(c,e,t,n)>0)for(o=e;o<t;o+=n)a=I9(o,c[o],c[o+1],a);else for(o=t-n;o>=e;o-=n)a=I9(o,c[o],c[o+1],a);return a&&$0(a,a.next)&&(Ju(a),a=a.next),a}function Wc(c,e){if(!c)return c;e||(e=c);let t=c,n;do if(n=!1,!t.steiner&&($0(t,t.next)||Gs(t.prev,t,t.next)===0)){if(Ju(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Yu(c,e,t,n,r,o,a){if(!c)return;!a&&o&&T5(c,n,r,o);let l=c,f,h;for(;c.prev!==c.next;){if(f=c.prev,h=c.next,o?y5(c,n,r,o):x5(c)){e.push(f.i/t|0),e.push(c.i/t|0),e.push(h.i/t|0),Ju(c),c=h.next,l=h.next;continue}if(c=h,c===l){a?a===1?(c=w5(Wc(c),e,t),Yu(c,e,t,n,r,o,2)):a===2&&b5(c,e,t,n,r,o):Yu(Wc(c),e,t,n,r,o,1);break}}}function x5(c){const e=c.prev,t=c,n=c.next;if(Gs(e,t,n)>=0)return!1;const r=e.x,o=t.x,a=n.x,l=e.y,f=t.y,h=n.y,v=r<o?r<a?r:a:o<a?o:a,_=l<f?l<h?l:h:f<h?f:h,C=r>o?r>a?r:a:o>a?o:a,y=l>f?l>h?l:h:f>h?f:h;let L=n.next;for(;L!==e;){if(L.x>=v&&L.x<=C&&L.y>=_&&L.y<=y&&Eu(r,l,o,f,a,h,L.x,L.y)&&Gs(L.prev,L,L.next)>=0)return!1;L=L.next}return!0}function y5(c,e,t,n){const r=c.prev,o=c,a=c.next;if(Gs(r,o,a)>=0)return!1;const l=r.x,f=o.x,h=a.x,v=r.y,_=o.y,C=a.y,y=l<f?l<h?l:h:f<h?f:h,L=v<_?v<C?v:C:_<C?_:C,S=l>f?l>h?l:h:f>h?f:h,R=v>_?v>C?v:C:_>C?_:C,k=i2(y,L,e,t,n),Z=i2(S,R,e,t,n);let B=c.prevZ,j=c.nextZ;for(;B&&B.z>=k&&j&&j.z<=Z;){if(B.x>=y&&B.x<=S&&B.y>=L&&B.y<=R&&B!==r&&B!==a&&Eu(l,v,f,_,h,C,B.x,B.y)&&Gs(B.prev,B,B.next)>=0||(B=B.prevZ,j.x>=y&&j.x<=S&&j.y>=L&&j.y<=R&&j!==r&&j!==a&&Eu(l,v,f,_,h,C,j.x,j.y)&&Gs(j.prev,j,j.next)>=0))return!1;j=j.nextZ}for(;B&&B.z>=k;){if(B.x>=y&&B.x<=S&&B.y>=L&&B.y<=R&&B!==r&&B!==a&&Eu(l,v,f,_,h,C,B.x,B.y)&&Gs(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;j&&j.z<=Z;){if(j.x>=y&&j.x<=S&&j.y>=L&&j.y<=R&&j!==r&&j!==a&&Eu(l,v,f,_,h,C,j.x,j.y)&&Gs(j.prev,j,j.next)>=0)return!1;j=j.nextZ}return!0}function w5(c,e,t){let n=c;do{const r=n.prev,o=n.next.next;!$0(r,o)&&A9(r,n,n.next,o)&&Ku(r,o)&&Ku(o,r)&&(e.push(r.i/t|0),e.push(n.i/t|0),e.push(o.i/t|0),Ju(n),Ju(n.next),n=c=o),n=n.next}while(n!==c);return Wc(n)}function b5(c,e,t,n,r,o){let a=c;do{let l=a.next.next;for(;l!==a.prev;){if(a.i!==l.i&&I5(a,l)){let f=P9(a,l);a=Wc(a,a.next),f=Wc(f,f.next),Yu(a,e,t,n,r,o,0),Yu(f,e,t,n,r,o,0);return}l=l.next}a=a.next}while(a!==c)}function M5(c,e,t,n){const r=[];let o,a,l,f,h;for(o=0,a=e.length;o<a;o++)l=e[o]*n,f=o<a-1?e[o+1]*n:c.length,h=T9(c,l,f,n,!1),h===h.next&&(h.steiner=!0),r.push(P5(h));for(r.sort(S5),o=0;o<r.length;o++)t=R5(r[o],t);return t}function S5(c,e){return c.x-e.x}function R5(c,e){const t=L5(c,e);if(!t)return e;const n=P9(t,c);return Wc(n,n.next),Wc(t,t.next)}function L5(c,e){let t=e,n=-1/0,r;const o=c.x,a=c.y;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const C=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(C<=o&&C>n&&(n=C,r=t.x<t.next.x?t:t.next,C===o))return r}t=t.next}while(t!==e);if(!r)return null;const l=r,f=r.x,h=r.y;let v=1/0,_;t=r;do o>=t.x&&t.x>=f&&o!==t.x&&Eu(a<h?o:n,a,f,h,a<h?n:o,a,t.x,t.y)&&(_=Math.abs(a-t.y)/(o-t.x),Ku(t,c)&&(_<v||_===v&&(t.x>r.x||t.x===r.x&&E5(r,t)))&&(r=t,v=_)),t=t.next;while(t!==l);return r}function E5(c,e){return Gs(c.prev,c,e.prev)<0&&Gs(e.next,c,c.next)<0}function T5(c,e,t,n){let r=c;do r.z===0&&(r.z=i2(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==c);r.prevZ.nextZ=null,r.prevZ=null,A5(r)}function A5(c){let e,t,n,r,o,a,l,f,h=1;do{for(t=c,c=null,o=null,a=0;t;){for(a++,n=t,l=0,e=0;e<h&&(l++,n=n.nextZ,!!n);e++);for(f=h;l>0||f>0&&n;)l!==0&&(f===0||!n||t.z<=n.z)?(r=t,t=t.nextZ,l--):(r=n,n=n.nextZ,f--),o?o.nextZ=r:c=r,r.prevZ=o,o=r;t=n}o.nextZ=null,h*=2}while(a>1);return c}function i2(c,e,t,n,r){return c=(c-t)*r|0,e=(e-n)*r|0,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,c|e<<1}function P5(c){let e=c,t=c;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==c);return t}function Eu(c,e,t,n,r,o,a,l){return(r-a)*(e-l)>=(c-a)*(o-l)&&(c-a)*(n-l)>=(t-a)*(e-l)&&(t-a)*(o-l)>=(r-a)*(n-l)}function I5(c,e){return c.next.i!==e.i&&c.prev.i!==e.i&&!O5(c,e)&&(Ku(c,e)&&Ku(e,c)&&D5(c,e)&&(Gs(c.prev,c,e.prev)||Gs(c,e.prev,e))||$0(c,e)&&Gs(c.prev,c,c.next)>0&&Gs(e.prev,e,e.next)>0)}function Gs(c,e,t){return(e.y-c.y)*(t.x-e.x)-(e.x-c.x)*(t.y-e.y)}function $0(c,e){return c.x===e.x&&c.y===e.y}function A9(c,e,t,n){const r=W0(Gs(c,e,t)),o=W0(Gs(c,e,n)),a=W0(Gs(t,n,c)),l=W0(Gs(t,n,e));return!!(r!==o&&a!==l||r===0&&Z0(c,t,e)||o===0&&Z0(c,n,e)||a===0&&Z0(t,c,n)||l===0&&Z0(t,e,n))}function Z0(c,e,t){return e.x<=Math.max(c.x,t.x)&&e.x>=Math.min(c.x,t.x)&&e.y<=Math.max(c.y,t.y)&&e.y>=Math.min(c.y,t.y)}function W0(c){return c>0?1:c<0?-1:0}function O5(c,e){let t=c;do{if(t.i!==c.i&&t.next.i!==c.i&&t.i!==e.i&&t.next.i!==e.i&&A9(t,t.next,c,e))return!0;t=t.next}while(t!==c);return!1}function Ku(c,e){return Gs(c.prev,c,c.next)<0?Gs(c,e,c.next)>=0&&Gs(c,c.prev,e)>=0:Gs(c,e,c.prev)<0||Gs(c,c.next,e)<0}function D5(c,e){let t=c,n=!1;const r=(c.x+e.x)/2,o=(c.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&r<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==c);return n}function P9(c,e){const t=new o2(c.i,c.x,c.y),n=new o2(e.i,e.x,e.y),r=c.next,o=e.prev;return c.next=e,e.prev=c,t.next=r,r.prev=t,n.next=t,t.prev=n,o.next=n,n.prev=o,n}function I9(c,e,t,n){const r=new o2(c,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function Ju(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function o2(c,e,t){this.i=c,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function z5(c,e,t,n){let r=0;for(let o=e,a=t-n;o<t;o+=n)r+=(c[a]-c[o])*(c[o+1]+c[a+1]),a=o;return r}class Ml{static area(e){const t=e.length;let n=0;for(let r=t-1,o=0;o<t;r=o++)n+=e[r].x*e[o].y-e[o].x*e[r].y;return n*.5}static isClockWise(e){return Ml.area(e)<0}static triangulateShape(e,t){const n=[],r=[],o=[];O9(e),D9(n,e);let a=e.length;t.forEach(O9);for(let f=0;f<t.length;f++)r.push(a),a+=t[f].length,D9(n,t[f]);const l=_5.triangulate(n,r);for(let f=0;f<l.length;f+=3)o.push(l.slice(f,f+3));return o}}function O9(c){const e=c.length;e>2&&c[e-1].equals(c[0])&&c.pop()}function D9(c,e){for(let t=0;t<e.length;t++)c.push(e[t].x),c.push(e[t].y)}class qu extends Ji{constructor(e=new Zc([new Nt(.5,.5),new Nt(-.5,.5),new Nt(-.5,-.5),new Nt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],o=[];for(let l=0,f=e.length;l<f;l++){const h=e[l];a(h)}this.setAttribute("position",new kr(r,3)),this.setAttribute("uv",new kr(o,2)),this.computeVertexNormals();function a(l){const f=[],h=t.curveSegments!==void 0?t.curveSegments:12,v=t.steps!==void 0?t.steps:1,_=t.depth!==void 0?t.depth:1;let C=t.bevelEnabled!==void 0?t.bevelEnabled:!0,y=t.bevelThickness!==void 0?t.bevelThickness:.2,L=t.bevelSize!==void 0?t.bevelSize:y-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,R=t.bevelSegments!==void 0?t.bevelSegments:3;const k=t.extrudePath,Z=t.UVGenerator!==void 0?t.UVGenerator:H5;let B,j=!1,xe,Ie,Je,G;k&&(B=k.getSpacedPoints(v),j=!0,C=!1,xe=k.computeFrenetFrames(v,!1),Ie=new we,Je=new we,G=new we),C||(R=0,y=0,L=0,S=0);const Le=l.extractPoints(h);let st=Le.shape;const Zt=Le.holes;if(!Ml.isClockWise(st)){st=st.reverse();for(let Tn=0,Yn=Zt.length;Tn<Yn;Tn++){const Lr=Zt[Tn];Ml.isClockWise(Lr)&&(Zt[Tn]=Lr.reverse())}}const Bt=Ml.triangulateShape(st,Zt),xt=st;for(let Tn=0,Yn=Zt.length;Tn<Yn;Tn++){const Lr=Zt[Tn];st=st.concat(Lr)}function en(Tn,Yn,Lr){return Yn||console.error("THREE.ExtrudeGeometry: vec does not exist"),Tn.clone().addScaledVector(Yn,Lr)}const Bn=st.length,fr=Bt.length;function _n(Tn,Yn,Lr){let vi,Hr,ji;const bi=Tn.x-Yn.x,Gi=Tn.y-Yn.y,gs=Lr.x-Tn.x,ns=Lr.y-Tn.y,ze=bi*bi+Gi*Gi,me=bi*ns-Gi*gs;if(Math.abs(me)>Number.EPSILON){const tn=Math.sqrt(ze),_r=Math.sqrt(gs*gs+ns*ns),xr=Yn.x-Gi/tn,Fr=Yn.y+bi/tn,xi=Lr.x-ns/_r,jr=Lr.y+gs/_r,Sn=((xi-xr)*ns-(jr-Fr)*gs)/(bi*ns-Gi*gs);vi=xr+bi*Sn-Tn.x,Hr=Fr+Gi*Sn-Tn.y;const Pi=vi*vi+Hr*Hr;if(Pi<=2)return new Nt(vi,Hr);ji=Math.sqrt(Pi/2)}else{let tn=!1;bi>Number.EPSILON?gs>Number.EPSILON&&(tn=!0):bi<-Number.EPSILON?gs<-Number.EPSILON&&(tn=!0):Math.sign(Gi)===Math.sign(ns)&&(tn=!0),tn?(vi=-Gi,Hr=bi,ji=Math.sqrt(ze)):(vi=bi,Hr=Gi,ji=Math.sqrt(ze/2))}return new Nt(vi/ji,Hr/ji)}const jn=[];for(let Tn=0,Yn=xt.length,Lr=Yn-1,vi=Tn+1;Tn<Yn;Tn++,Lr++,vi++)Lr===Yn&&(Lr=0),vi===Yn&&(vi=0),jn[Tn]=_n(xt[Tn],xt[Lr],xt[vi]);const ar=[];let Wr,Kt=jn.concat();for(let Tn=0,Yn=Zt.length;Tn<Yn;Tn++){const Lr=Zt[Tn];Wr=[];for(let vi=0,Hr=Lr.length,ji=Hr-1,bi=vi+1;vi<Hr;vi++,ji++,bi++)ji===Hr&&(ji=0),bi===Hr&&(bi=0),Wr[vi]=_n(Lr[vi],Lr[ji],Lr[bi]);ar.push(Wr),Kt=Kt.concat(Wr)}for(let Tn=0;Tn<R;Tn++){const Yn=Tn/R,Lr=y*Math.cos(Yn*Math.PI/2),vi=L*Math.sin(Yn*Math.PI/2)+S;for(let Hr=0,ji=xt.length;Hr<ji;Hr++){const bi=en(xt[Hr],jn[Hr],vi);Vr(bi.x,bi.y,-Lr)}for(let Hr=0,ji=Zt.length;Hr<ji;Hr++){const bi=Zt[Hr];Wr=ar[Hr];for(let Gi=0,gs=bi.length;Gi<gs;Gi++){const ns=en(bi[Gi],Wr[Gi],vi);Vr(ns.x,ns.y,-Lr)}}}const er=L+S;for(let Tn=0;Tn<Bn;Tn++){const Yn=C?en(st[Tn],Kt[Tn],er):st[Tn];j?(Je.copy(xe.normals[0]).multiplyScalar(Yn.x),Ie.copy(xe.binormals[0]).multiplyScalar(Yn.y),G.copy(B[0]).add(Je).add(Ie),Vr(G.x,G.y,G.z)):Vr(Yn.x,Yn.y,0)}for(let Tn=1;Tn<=v;Tn++)for(let Yn=0;Yn<Bn;Yn++){const Lr=C?en(st[Yn],Kt[Yn],er):st[Yn];j?(Je.copy(xe.normals[Tn]).multiplyScalar(Lr.x),Ie.copy(xe.binormals[Tn]).multiplyScalar(Lr.y),G.copy(B[Tn]).add(Je).add(Ie),Vr(G.x,G.y,G.z)):Vr(Lr.x,Lr.y,_/v*Tn)}for(let Tn=R-1;Tn>=0;Tn--){const Yn=Tn/R,Lr=y*Math.cos(Yn*Math.PI/2),vi=L*Math.sin(Yn*Math.PI/2)+S;for(let Hr=0,ji=xt.length;Hr<ji;Hr++){const bi=en(xt[Hr],jn[Hr],vi);Vr(bi.x,bi.y,_+Lr)}for(let Hr=0,ji=Zt.length;Hr<ji;Hr++){const bi=Zt[Hr];Wr=ar[Hr];for(let Gi=0,gs=bi.length;Gi<gs;Gi++){const ns=en(bi[Gi],Wr[Gi],vi);j?Vr(ns.x,ns.y+B[v-1].y,B[v-1].x+Lr):Vr(ns.x,ns.y,_+Lr)}}}Ir(),Ot();function Ir(){const Tn=r.length/3;if(C){let Yn=0,Lr=Bn*Yn;for(let vi=0;vi<fr;vi++){const Hr=Bt[vi];ei(Hr[2]+Lr,Hr[1]+Lr,Hr[0]+Lr)}Yn=v+R*2,Lr=Bn*Yn;for(let vi=0;vi<fr;vi++){const Hr=Bt[vi];ei(Hr[0]+Lr,Hr[1]+Lr,Hr[2]+Lr)}}else{for(let Yn=0;Yn<fr;Yn++){const Lr=Bt[Yn];ei(Lr[2],Lr[1],Lr[0])}for(let Yn=0;Yn<fr;Yn++){const Lr=Bt[Yn];ei(Lr[0]+Bn*v,Lr[1]+Bn*v,Lr[2]+Bn*v)}}n.addGroup(Tn,r.length/3-Tn,0)}function Ot(){const Tn=r.length/3;let Yn=0;ii(xt,Yn),Yn+=xt.length;for(let Lr=0,vi=Zt.length;Lr<vi;Lr++){const Hr=Zt[Lr];ii(Hr,Yn),Yn+=Hr.length}n.addGroup(Tn,r.length/3-Tn,1)}function ii(Tn,Yn){let Lr=Tn.length;for(;--Lr>=0;){const vi=Lr;let Hr=Lr-1;Hr<0&&(Hr=Tn.length-1);for(let ji=0,bi=v+R*2;ji<bi;ji++){const Gi=Bn*ji,gs=Bn*(ji+1),ns=Yn+vi+Gi,ze=Yn+Hr+Gi,me=Yn+Hr+gs,tn=Yn+vi+gs;ai(ns,ze,me,tn)}}}function Vr(Tn,Yn,Lr){f.push(Tn),f.push(Yn),f.push(Lr)}function ei(Tn,Yn,Lr){mi(Tn),mi(Yn),mi(Lr);const vi=r.length/3,Hr=Z.generateTopUV(n,r,vi-3,vi-2,vi-1);Zi(Hr[0]),Zi(Hr[1]),Zi(Hr[2])}function ai(Tn,Yn,Lr,vi){mi(Tn),mi(Yn),mi(vi),mi(Yn),mi(Lr),mi(vi);const Hr=r.length/3,ji=Z.generateSideWallUV(n,r,Hr-6,Hr-3,Hr-2,Hr-1);Zi(ji[0]),Zi(ji[1]),Zi(ji[3]),Zi(ji[1]),Zi(ji[2]),Zi(ji[3])}function mi(Tn){r.push(f[Tn*3+0]),r.push(f[Tn*3+1]),r.push(f[Tn*3+2])}function Zi(Tn){o.push(Tn.x),o.push(Tn.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return B5(t,n,e)}static fromJSON(e,t){const n=[];for(let o=0,a=e.shapes.length;o<a;o++){const l=t[e.shapes[o]];n.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new n2[r.type]().fromJSON(r)),new qu(n,e.options)}}const H5={generateTopUV:function(c,e,t,n,r){const o=e[t*3],a=e[t*3+1],l=e[n*3],f=e[n*3+1],h=e[r*3],v=e[r*3+1];return[new Nt(o,a),new Nt(l,f),new Nt(h,v)]},generateSideWallUV:function(c,e,t,n,r,o){const a=e[t*3],l=e[t*3+1],f=e[t*3+2],h=e[n*3],v=e[n*3+1],_=e[n*3+2],C=e[r*3],y=e[r*3+1],L=e[r*3+2],S=e[o*3],R=e[o*3+1],k=e[o*3+2];return Math.abs(l-v)<Math.abs(a-h)?[new Nt(a,1-f),new Nt(h,1-_),new Nt(C,1-L),new Nt(S,1-k)]:[new Nt(l,1-f),new Nt(v,1-_),new Nt(y,1-L),new Nt(R,1-k)]}};function B5(c,e,t){if(t.shapes=[],Array.isArray(c))for(let n=0,r=c.length;n<r;n++){const o=c[n];t.shapes.push(o.uuid)}else t.shapes.push(c.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Qu extends jl{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Qu(e.radius,e.detail)}}class Tu extends jl{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Tu(e.radius,e.detail)}}class e0 extends Ji{constructor(e=.5,t=1,n=32,r=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:a},n=Math.max(3,n),r=Math.max(1,r);const l=[],f=[],h=[],v=[];let _=e;const C=(t-e)/r,y=new we,L=new Nt;for(let S=0;S<=r;S++){for(let R=0;R<=n;R++){const k=o+R/n*a;y.x=_*Math.cos(k),y.y=_*Math.sin(k),f.push(y.x,y.y,y.z),h.push(0,0,1),L.x=(y.x/t+1)/2,L.y=(y.y/t+1)/2,v.push(L.x,L.y)}_+=C}for(let S=0;S<r;S++){const R=S*(n+1);for(let k=0;k<n;k++){const Z=k+R,B=Z,j=Z+n+1,xe=Z+n+2,Ie=Z+1;l.push(B,j,Ie),l.push(j,xe,Ie)}}this.setIndex(l),this.setAttribute("position",new kr(f,3)),this.setAttribute("normal",new kr(h,3)),this.setAttribute("uv",new kr(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new e0(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class t0 extends Ji{constructor(e=new Zc([new Nt(0,.5),new Nt(-.5,-.5),new Nt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],o=[],a=[];let l=0,f=0;if(Array.isArray(e)===!1)h(e);else for(let v=0;v<e.length;v++)h(e[v]),this.addGroup(l,f,v),l+=f,f=0;this.setIndex(n),this.setAttribute("position",new kr(r,3)),this.setAttribute("normal",new kr(o,3)),this.setAttribute("uv",new kr(a,2));function h(v){const _=r.length/3,C=v.extractPoints(t);let y=C.shape;const L=C.holes;Ml.isClockWise(y)===!1&&(y=y.reverse());for(let R=0,k=L.length;R<k;R++){const Z=L[R];Ml.isClockWise(Z)===!0&&(L[R]=Z.reverse())}const S=Ml.triangulateShape(y,L);for(let R=0,k=L.length;R<k;R++){const Z=L[R];y=y.concat(Z)}for(let R=0,k=y.length;R<k;R++){const Z=y[R];r.push(Z.x,Z.y,0),o.push(0,0,1),a.push(Z.x,Z.y)}for(let R=0,k=S.length;R<k;R++){const Z=S[R],B=Z[0]+_,j=Z[1]+_,xe=Z[2]+_;n.push(B,j,xe),f+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return N5(t,e)}static fromJSON(e,t){const n=[];for(let r=0,o=e.shapes.length;r<o;r++){const a=t[e.shapes[r]];n.push(a)}return new t0(n,e.curveSegments)}}function N5(c,e){if(e.shapes=[],Array.isArray(c))for(let t=0,n=c.length;t<n;t++){const r=c[t];e.shapes.push(r.uuid)}else e.shapes.push(c.uuid);return e}class Au extends Ji{constructor(e=1,t=32,n=16,r=0,o=Math.PI*2,a=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:o,thetaStart:a,thetaLength:l},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const f=Math.min(a+l,Math.PI);let h=0;const v=[],_=new we,C=new we,y=[],L=[],S=[],R=[];for(let k=0;k<=n;k++){const Z=[],B=k/n;let j=0;k==0&&a==0?j=.5/t:k==n&&f==Math.PI&&(j=-.5/t);for(let xe=0;xe<=t;xe++){const Ie=xe/t;_.x=-e*Math.cos(r+Ie*o)*Math.sin(a+B*l),_.y=e*Math.cos(a+B*l),_.z=e*Math.sin(r+Ie*o)*Math.sin(a+B*l),L.push(_.x,_.y,_.z),C.copy(_).normalize(),S.push(C.x,C.y,C.z),R.push(Ie+j,1-B),Z.push(h++)}v.push(Z)}for(let k=0;k<n;k++)for(let Z=0;Z<t;Z++){const B=v[k][Z+1],j=v[k][Z],xe=v[k+1][Z],Ie=v[k+1][Z+1];(k!==0||a>0)&&y.push(B,j,Ie),(k!==n-1||f<Math.PI)&&y.push(j,xe,Ie)}this.setIndex(y),this.setAttribute("position",new kr(L,3)),this.setAttribute("normal",new kr(S,3)),this.setAttribute("uv",new kr(R,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Au(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class n0 extends jl{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new n0(e.radius,e.detail)}}class r0 extends Ji{constructor(e=1,t=.4,n=12,r=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:o},n=Math.floor(n),r=Math.floor(r);const a=[],l=[],f=[],h=[],v=new we,_=new we,C=new we;for(let y=0;y<=n;y++)for(let L=0;L<=r;L++){const S=L/r*o,R=y/n*Math.PI*2;_.x=(e+t*Math.cos(R))*Math.cos(S),_.y=(e+t*Math.cos(R))*Math.sin(S),_.z=t*Math.sin(R),l.push(_.x,_.y,_.z),v.x=e*Math.cos(S),v.y=e*Math.sin(S),C.subVectors(_,v).normalize(),f.push(C.x,C.y,C.z),h.push(L/r),h.push(y/n)}for(let y=1;y<=n;y++)for(let L=1;L<=r;L++){const S=(r+1)*y+L-1,R=(r+1)*(y-1)+L-1,k=(r+1)*(y-1)+L,Z=(r+1)*y+L;a.push(S,R,Z),a.push(R,k,Z)}this.setIndex(a),this.setAttribute("position",new kr(l,3)),this.setAttribute("normal",new kr(f,3)),this.setAttribute("uv",new kr(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new r0(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class i0 extends Ji{constructor(e=1,t=.4,n=64,r=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:o,q:a},n=Math.floor(n),r=Math.floor(r);const l=[],f=[],h=[],v=[],_=new we,C=new we,y=new we,L=new we,S=new we,R=new we,k=new we;for(let B=0;B<=n;++B){const j=B/n*o*Math.PI*2;Z(j,o,a,e,y),Z(j+.01,o,a,e,L),R.subVectors(L,y),k.addVectors(L,y),S.crossVectors(R,k),k.crossVectors(S,R),S.normalize(),k.normalize();for(let xe=0;xe<=r;++xe){const Ie=xe/r*Math.PI*2,Je=-t*Math.cos(Ie),G=t*Math.sin(Ie);_.x=y.x+(Je*k.x+G*S.x),_.y=y.y+(Je*k.y+G*S.y),_.z=y.z+(Je*k.z+G*S.z),f.push(_.x,_.y,_.z),C.subVectors(_,y).normalize(),h.push(C.x,C.y,C.z),v.push(B/n),v.push(xe/r)}}for(let B=1;B<=n;B++)for(let j=1;j<=r;j++){const xe=(r+1)*(B-1)+(j-1),Ie=(r+1)*B+(j-1),Je=(r+1)*B+j,G=(r+1)*(B-1)+j;l.push(xe,Ie,G),l.push(Ie,Je,G)}this.setIndex(l),this.setAttribute("position",new kr(f,3)),this.setAttribute("normal",new kr(h,3)),this.setAttribute("uv",new kr(v,2));function Z(B,j,xe,Ie,Je){const G=Math.cos(B),Le=Math.sin(B),st=xe/j*B,Zt=Math.cos(st);Je.x=Ie*(2+Zt)*.5*G,Je.y=Ie*(2+Zt)*Le*.5,Je.z=Ie*Math.sin(st)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i0(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class o0 extends Ji{constructor(e=new e2(new we(-1,-1,0),new we(-1,1,0),new we(1,1,0)),t=64,n=1,r=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:o};const a=e.computeFrenetFrames(t,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const l=new we,f=new we,h=new Nt;let v=new we;const _=[],C=[],y=[],L=[];S(),this.setIndex(L),this.setAttribute("position",new kr(_,3)),this.setAttribute("normal",new kr(C,3)),this.setAttribute("uv",new kr(y,2));function S(){for(let B=0;B<t;B++)R(B);R(o===!1?t:0),Z(),k()}function R(B){v=e.getPointAt(B/t,v);const j=a.normals[B],xe=a.binormals[B];for(let Ie=0;Ie<=r;Ie++){const Je=Ie/r*Math.PI*2,G=Math.sin(Je),Le=-Math.cos(Je);f.x=Le*j.x+G*xe.x,f.y=Le*j.y+G*xe.y,f.z=Le*j.z+G*xe.z,f.normalize(),C.push(f.x,f.y,f.z),l.x=v.x+n*f.x,l.y=v.y+n*f.y,l.z=v.z+n*f.z,_.push(l.x,l.y,l.z)}}function k(){for(let B=1;B<=t;B++)for(let j=1;j<=r;j++){const xe=(r+1)*(B-1)+(j-1),Ie=(r+1)*B+(j-1),Je=(r+1)*B+j,G=(r+1)*(B-1)+j;L.push(xe,Ie,G),L.push(Ie,Je,G)}}function Z(){for(let B=0;B<=t;B++)for(let j=0;j<=r;j++)h.x=B/t,h.y=j/r,y.push(h.x,h.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new o0(new n2[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class z9 extends Ji{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new we,o=new we;if(e.index!==null){const a=e.attributes.position,l=e.index;let f=e.groups;f.length===0&&(f=[{start:0,count:l.count,materialIndex:0}]);for(let h=0,v=f.length;h<v;++h){const _=f[h],C=_.start,y=_.count;for(let L=C,S=C+y;L<S;L+=3)for(let R=0;R<3;R++){const k=l.getX(L+R),Z=l.getX(L+(R+1)%3);r.fromBufferAttribute(a,k),o.fromBufferAttribute(a,Z),H9(r,o,n)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let l=0,f=a.count/3;l<f;l++)for(let h=0;h<3;h++){const v=3*l+h,_=3*l+(h+1)%3;r.fromBufferAttribute(a,v),o.fromBufferAttribute(a,_),H9(r,o,n)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new kr(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function H9(c,e,t){const n=`${c.x},${c.y},${c.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${c.x},${c.y},${c.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var B9=Object.freeze({__proto__:null,BoxGeometry:m1,CapsuleGeometry:Wu,CircleGeometry:ju,ConeGeometry:Gu,CylinderGeometry:$c,DodecahedronGeometry:Xu,EdgesGeometry:E9,ExtrudeGeometry:qu,IcosahedronGeometry:Qu,LatheGeometry:Lu,OctahedronGeometry:Tu,PlaneGeometry:vl,PolyhedronGeometry:jl,RingGeometry:e0,ShapeGeometry:t0,SphereGeometry:Au,TetrahedronGeometry:n0,TorusGeometry:r0,TorusKnotGeometry:i0,TubeGeometry:o0,WireframeGeometry:z9});class N9 extends Ms{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Br(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class V9 extends o1{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class s2 extends Ms{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Br(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Br(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ci,this.normalScale=new Nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class F9 extends s2{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Nt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Cr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Br(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Br(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Br(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class k9 extends Ms{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Br(16777215),this.specular=new Br(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Br(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ci,this.normalScale=new Nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Cn,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class U9 extends Ms{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Br(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Br(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ci,this.normalScale=new Nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class $9 extends Ms{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ci,this.normalScale=new Nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Z9 extends Ms{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Br(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Br(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ci,this.normalScale=new Nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Cn,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class W9 extends Ms{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Br(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ci,this.normalScale=new Nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class j9 extends c1{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function F1(c,e,t){return a2(c)?new c.constructor(c.subarray(e,t!==void 0?t:c.length)):c.slice(e,t)}function jc(c,e,t){return!c||!t&&c.constructor===e?c:typeof e.BYTES_PER_ELEMENT=="number"?new e(c):Array.prototype.slice.call(c)}function a2(c){return ArrayBuffer.isView(c)&&!(c instanceof DataView)}function G9(c){function e(r,o){return c[r]-c[o]}const t=c.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function l2(c,e,t){const n=c.length,r=new c.constructor(n);for(let o=0,a=0;a!==n;++o){const l=t[o]*e;for(let f=0;f!==e;++f)r[a++]=c[l+f]}return r}function c2(c,e,t,n){let r=1,o=c[0];for(;o!==void 0&&o[n]===void 0;)o=c[r++];if(o===void 0)return;let a=o[n];if(a!==void 0)if(Array.isArray(a))do a=o[n],a!==void 0&&(e.push(o.time),t.push.apply(t,a)),o=c[r++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[n],a!==void 0&&(e.push(o.time),a.toArray(t,t.length)),o=c[r++];while(o!==void 0);else do a=o[n],a!==void 0&&(e.push(o.time),t.push(a)),o=c[r++];while(o!==void 0)}function V5(c,e,t,n,r=30){const o=c.clone();o.name=e;const a=[];for(let f=0;f<o.tracks.length;++f){const h=o.tracks[f],v=h.getValueSize(),_=[],C=[];for(let y=0;y<h.times.length;++y){const L=h.times[y]*r;if(!(L<t||L>=n)){_.push(h.times[y]);for(let S=0;S<v;++S)C.push(h.values[y*v+S])}}_.length!==0&&(h.times=jc(_,h.times.constructor),h.values=jc(C,h.values.constructor),a.push(h))}o.tracks=a;let l=1/0;for(let f=0;f<o.tracks.length;++f)l>o.tracks[f].times[0]&&(l=o.tracks[f].times[0]);for(let f=0;f<o.tracks.length;++f)o.tracks[f].shift(-1*l);return o.resetDuration(),o}function F5(c,e=0,t=c,n=30){n<=0&&(n=30);const r=t.tracks.length,o=e/n;for(let a=0;a<r;++a){const l=t.tracks[a],f=l.ValueTypeName;if(f==="bool"||f==="string")continue;const h=c.tracks.find(function(k){return k.name===l.name&&k.ValueTypeName===f});if(h===void 0)continue;let v=0;const _=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=_/3);let C=0;const y=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(C=y/3);const L=l.times.length-1;let S;if(o<=l.times[0]){const k=v,Z=_-v;S=F1(l.values,k,Z)}else if(o>=l.times[L]){const k=L*_+v,Z=k+_-v;S=F1(l.values,k,Z)}else{const k=l.createInterpolant(),Z=v,B=_-v;k.evaluate(o),S=F1(k.resultBuffer,Z,B)}f==="quaternion"&&new cs().fromArray(S).normalize().conjugate().toArray(S);const R=h.times.length;for(let k=0;k<R;++k){const Z=k*y+C;if(f==="quaternion")cs.multiplyQuaternionsFlat(h.values,Z,S,0,h.values,Z);else{const B=y-C*2;for(let j=0;j<B;++j)h.values[Z+j]-=S[j]}}}return c.blendMode=ls,c}const k5={arraySlice:F1,convertArray:jc,isTypedArray:a2,getKeyframeOrder:G9,sortedArray:l2,flattenJSON:c2,subclip:V5,makeClipAdditive:F5};class s0{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],o=t[n-1];e:{t:{let a;n:{r:if(!(e<r)){for(let l=n+2;;){if(r===void 0){if(e<o)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===l)break;if(o=r,r=t[++n],e<r)break t}a=t.length;break n}if(!(e>=o)){const l=t[1];e<l&&(n=2,o=l);for(let f=n-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===f)break;if(r=o,o=t[--n-1],e>=o)break t}a=n,n=0;break n}break e}for(;n<a;){const l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],o=t[n-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,o,r)}return this.interpolate_(n,o,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=e*r;for(let a=0;a!==r;++a)t[a]=n[o+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class X9 extends s0{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Lo,endingEnd:Lo}}intervalChanged_(e,t,n){const r=this.parameterPositions;let o=e-2,a=e+1,l=r[o],f=r[a];if(l===void 0)switch(this.getSettings_().endingStart){case ao:o=e,l=2*t-n;break;case vs:o=r.length-2,l=t+r[o]-r[o+1];break;default:o=e,l=n}if(f===void 0)switch(this.getSettings_().endingEnd){case ao:a=e,f=2*n-t;break;case vs:a=1,f=n+r[1]-r[0];break;default:a=e-1,f=t}const h=(n-t)*.5,v=this.valueSize;this._weightPrev=h/(t-l),this._weightNext=h/(f-n),this._offsetPrev=o*v,this._offsetNext=a*v}interpolate_(e,t,n,r){const o=this.resultBuffer,a=this.sampleValues,l=this.valueSize,f=e*l,h=f-l,v=this._offsetPrev,_=this._offsetNext,C=this._weightPrev,y=this._weightNext,L=(n-t)/(r-t),S=L*L,R=S*L,k=-C*R+2*C*S-C*L,Z=(1+C)*R+(-1.5-2*C)*S+(-.5+C)*L+1,B=(-1-y)*R+(1.5+y)*S+.5*L,j=y*R-y*S;for(let xe=0;xe!==l;++xe)o[xe]=k*a[v+xe]+Z*a[h+xe]+B*a[f+xe]+j*a[_+xe];return o}}class u2 extends s0{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const o=this.resultBuffer,a=this.sampleValues,l=this.valueSize,f=e*l,h=f-l,v=(n-t)/(r-t),_=1-v;for(let C=0;C!==l;++C)o[C]=a[h+C]*_+a[f+C]*v;return o}}class Y9 extends s0{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class il{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=jc(t,this.TimeBufferType),this.values=jc(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:jc(e.times,Array),values:jc(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new Y9(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new u2(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new X9(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Si:t=this.InterpolantFactoryMethodDiscrete;break;case _o:t=this.InterpolantFactoryMethodLinear;break;case ps:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Si;case this.InterpolantFactoryMethodLinear:return _o;case this.InterpolantFactoryMethodSmooth:return ps}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let o=0,a=r-1;for(;o!==r&&n[o]<e;)++o;for(;a!==-1&&n[a]>t;)--a;if(++a,o!==0||a!==r){o>=a&&(a=Math.max(a,1),o=a-1);const l=this.getValueSize();this.times=F1(n,o,a),this.values=F1(this.values,o*l,a*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,o=n.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let l=0;l!==o;l++){const f=n[l];if(typeof f=="number"&&isNaN(f)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,f),e=!1;break}if(a!==null&&a>f){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,f,a),e=!1;break}a=f}if(r!==void 0&&a2(r))for(let l=0,f=r.length;l!==f;++l){const h=r[l];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,h),e=!1;break}}return e}optimize(){const e=F1(this.times),t=F1(this.values),n=this.getValueSize(),r=this.getInterpolation()===ps,o=e.length-1;let a=1;for(let l=1;l<o;++l){let f=!1;const h=e[l],v=e[l+1];if(h!==v&&(l!==1||h!==e[0]))if(r)f=!0;else{const _=l*n,C=_-n,y=_+n;for(let L=0;L!==n;++L){const S=t[_+L];if(S!==t[C+L]||S!==t[y+L]){f=!0;break}}}if(f){if(l!==a){e[a]=e[l];const _=l*n,C=a*n;for(let y=0;y!==n;++y)t[C+y]=t[_+y]}++a}}if(o>0){e[a]=e[o];for(let l=o*n,f=a*n,h=0;h!==n;++h)t[f+h]=t[l+h];++a}return a!==e.length?(this.times=F1(e,0,a),this.values=F1(t,0,a*n)):(this.times=e,this.values=t),this}clone(){const e=F1(this.times,0),t=F1(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}il.prototype.TimeBufferType=Float32Array,il.prototype.ValueBufferType=Float32Array,il.prototype.DefaultInterpolation=_o;class Gc extends il{}Gc.prototype.ValueTypeName="bool",Gc.prototype.ValueBufferType=Array,Gc.prototype.DefaultInterpolation=Si,Gc.prototype.InterpolantFactoryMethodLinear=void 0,Gc.prototype.InterpolantFactoryMethodSmooth=void 0;class f2 extends il{}f2.prototype.ValueTypeName="color";class a0 extends il{}a0.prototype.ValueTypeName="number";class K9 extends s0{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const o=this.resultBuffer,a=this.sampleValues,l=this.valueSize,f=(n-t)/(r-t);let h=e*l;for(let v=h+l;h!==v;h+=4)cs.slerpFlat(o,0,a,h-l,a,h,f);return o}}class Pu extends il{InterpolantFactoryMethodLinear(e){return new K9(this.times,this.values,this.getValueSize(),e)}}Pu.prototype.ValueTypeName="quaternion",Pu.prototype.DefaultInterpolation=_o,Pu.prototype.InterpolantFactoryMethodSmooth=void 0;class Xc extends il{}Xc.prototype.ValueTypeName="string",Xc.prototype.ValueBufferType=Array,Xc.prototype.DefaultInterpolation=Si,Xc.prototype.InterpolantFactoryMethodLinear=void 0,Xc.prototype.InterpolantFactoryMethodSmooth=void 0;class l0 extends il{}l0.prototype.ValueTypeName="vector";class c0{constructor(e,t=-1,n,r=Po){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Hi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let a=0,l=n.length;a!==l;++a)t.push($5(n[a]).scale(r));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=n.length;o!==a;++o)t.push(il.toJSON(n[o]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const o=t.length,a=[];for(let l=0;l<o;l++){let f=[],h=[];f.push((l+o-1)%o,l,(l+1)%o),h.push(0,1,0);const v=G9(f);f=l2(f,1,v),h=l2(h,1,v),!r&&f[0]===0&&(f.push(o),h.push(h[0])),a.push(new a0(".morphTargetInfluences["+t[l].name+"]",f,h).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},o=/^([\w-]*?)([\d]+)$/;for(let l=0,f=e.length;l<f;l++){const h=e[l],v=h.name.match(o);if(v&&v.length>1){const _=v[1];let C=r[_];C||(r[_]=C=[]),C.push(h)}}const a=[];for(const l in r)a.push(this.CreateFromMorphTargetSequence(l,r[l],t,n));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(_,C,y,L,S){if(y.length!==0){const R=[],k=[];c2(y,R,k,L),R.length!==0&&S.push(new _(C,R,k))}},r=[],o=e.name||"default",a=e.fps||30,l=e.blendMode;let f=e.length||-1;const h=e.hierarchy||[];for(let _=0;_<h.length;_++){const C=h[_].keys;if(!(!C||C.length===0))if(C[0].morphTargets){const y={};let L;for(L=0;L<C.length;L++)if(C[L].morphTargets)for(let S=0;S<C[L].morphTargets.length;S++)y[C[L].morphTargets[S]]=-1;for(const S in y){const R=[],k=[];for(let Z=0;Z!==C[L].morphTargets.length;++Z){const B=C[L];R.push(B.time),k.push(B.morphTarget===S?1:0)}r.push(new a0(".morphTargetInfluence["+S+"]",R,k))}f=y.length*a}else{const y=".bones["+t[_].name+"]";n(l0,y+".position",C,"pos",r),n(Pu,y+".quaternion",C,"rot",r),n(l0,y+".scale",C,"scl",r)}}return r.length===0?null:new this(o,f,r,l)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const o=this.tracks[n];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function U5(c){switch(c.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return a0;case"vector":case"vector2":case"vector3":case"vector4":return l0;case"color":return f2;case"quaternion":return Pu;case"bool":case"boolean":return Gc;case"string":return Xc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+c)}function $5(c){if(c.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=U5(c.type);if(c.times===void 0){const t=[],n=[];c2(c.keys,t,n,"value"),c.times=t,c.values=n}return e.parse!==void 0?e.parse(c):new e(c.name,c.times,c.values,c.interpolation)}const Yc={enabled:!1,files:{},add:function(c,e){this.enabled!==!1&&(this.files[c]=e)},get:function(c){if(this.enabled!==!1)return this.files[c]},remove:function(c){delete this.files[c]},clear:function(){this.files={}}};class d2{constructor(e,t,n){const r=this;let o=!1,a=0,l=0,f;const h=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(v){l++,o===!1&&r.onStart!==void 0&&r.onStart(v,a,l),o=!0},this.itemEnd=function(v){a++,r.onProgress!==void 0&&r.onProgress(v,a,l),a===l&&(o=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(v){r.onError!==void 0&&r.onError(v)},this.resolveURL=function(v){return f?f(v):v},this.setURLModifier=function(v){return f=v,this},this.addHandler=function(v,_){return h.push(v,_),this},this.removeHandler=function(v){const _=h.indexOf(v);return _!==-1&&h.splice(_,2),this},this.getHandler=function(v){for(let _=0,C=h.length;_<C;_+=2){const y=h[_],L=h[_+1];if(y.global&&(y.lastIndex=0),y.test(v))return L}return null}}}const J9=new d2;class L1{constructor(e){this.manager=e!==void 0?e:J9,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,o){n.load(e,r,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Gl={};class Z5 extends Error{constructor(e,t){super(e),this.response=t}}class Xl extends L1{constructor(e){super(e)}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Yc.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(Gl[e]!==void 0){Gl[e].push({onLoad:t,onProgress:n,onError:r});return}Gl[e]=[],Gl[e].push({onLoad:t,onProgress:n,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,f=this.responseType;fetch(a).then(h=>{if(h.status===200||h.status===0){if(h.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||h.body===void 0||h.body.getReader===void 0)return h;const v=Gl[e],_=h.body.getReader(),C=h.headers.get("Content-Length")||h.headers.get("X-File-Size"),y=C?parseInt(C):0,L=y!==0;let S=0;const R=new ReadableStream({start(k){Z();function Z(){_.read().then(({done:B,value:j})=>{if(B)k.close();else{S+=j.byteLength;const xe=new ProgressEvent("progress",{lengthComputable:L,loaded:S,total:y});for(let Ie=0,Je=v.length;Ie<Je;Ie++){const G=v[Ie];G.onProgress&&G.onProgress(xe)}k.enqueue(j),Z()}})}}});return new Response(R)}else throw new Z5(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(f){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(v=>new DOMParser().parseFromString(v,l));case"json":return h.json();default:if(l===void 0)return h.text();{const _=/charset="?([^;"\s]*)"?/i.exec(l),C=_&&_[1]?_[1].toLowerCase():void 0,y=new TextDecoder(C);return h.arrayBuffer().then(L=>y.decode(L))}}}).then(h=>{Yc.add(e,h);const v=Gl[e];delete Gl[e];for(let _=0,C=v.length;_<C;_++){const y=v[_];y.onLoad&&y.onLoad(h)}}).catch(h=>{const v=Gl[e];if(v===void 0)throw this.manager.itemError(e),h;delete Gl[e];for(let _=0,C=v.length;_<C;_++){const y=v[_];y.onError&&y.onError(h)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class W5 extends L1{constructor(e){super(e)}load(e,t,n,r){const o=this,a=new Xl(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{t(o.parse(JSON.parse(l)))}catch(f){r?r(f):console.error(f),o.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=c0.parse(e[n]);t.push(r)}return t}}class j5 extends L1{constructor(e){super(e)}load(e,t,n,r){const o=this,a=[],l=new Gf,f=new Xl(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(o.withCredentials);let h=0;function v(_){f.load(e[_],function(C){const y=o.parse(C,!0);a[_]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},h+=1,h===6&&(y.mipmapCount===1&&(l.minFilter=Jn),l.image=a,l.format=y.format,l.needsUpdate=!0,t&&t(l))},n,r)}if(Array.isArray(e))for(let _=0,C=e.length;_<C;++_)v(_);else f.load(e,function(_){const C=o.parse(_,!0);if(C.isCubemap){const y=C.mipmaps.length/C.mipmapCount;for(let L=0;L<y;L++){a[L]={mipmaps:[]};for(let S=0;S<C.mipmapCount;S++)a[L].mipmaps.push(C.mipmaps[L*C.mipmapCount+S]),a[L].format=C.format,a[L].width=C.width,a[L].height=C.height}l.image=a}else l.image.width=C.width,l.image.height=C.height,l.mipmaps=C.mipmaps;C.mipmapCount===1&&(l.minFilter=Jn),l.format=C.format,l.needsUpdate=!0,t&&t(l)},n,r);return l}}class u0 extends L1{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Yc.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(a),o.manager.itemEnd(e)},0),a;const l=lo("img");function f(){v(),Yc.add(e,this),t&&t(this),o.manager.itemEnd(e)}function h(_){v(),r&&r(_),o.manager.itemError(e),o.manager.itemEnd(e)}function v(){l.removeEventListener("load",f,!1),l.removeEventListener("error",h,!1)}return l.addEventListener("load",f,!1),l.addEventListener("error",h,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),o.manager.itemStart(e),l.src=e,l}}class G5 extends L1{constructor(e){super(e)}load(e,t,n,r){const o=new v1,a=new u0(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let l=0;function f(h){a.load(e[h],function(v){o.images[h]=v,l++,l===6&&(o.needsUpdate=!0,t&&t(o))},void 0,r)}for(let h=0;h<e.length;++h)f(h);return o}}class X5 extends L1{constructor(e){super(e)}load(e,t,n,r){const o=this,a=new Su,l=new Xl(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(o.withCredentials),l.load(e,function(f){const h=o.parse(f);h&&(h.image!==void 0?a.image=h.image:h.data!==void 0&&(a.image.width=h.width,a.image.height=h.height,a.image.data=h.data),a.wrapS=h.wrapS!==void 0?h.wrapS:Gt,a.wrapT=h.wrapT!==void 0?h.wrapT:Gt,a.magFilter=h.magFilter!==void 0?h.magFilter:Jn,a.minFilter=h.minFilter!==void 0?h.minFilter:Jn,a.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.encoding!==void 0&&(a.encoding=h.encoding),h.flipY!==void 0&&(a.flipY=h.flipY),h.format!==void 0&&(a.format=h.format),h.type!==void 0&&(a.type=h.type),h.mipmaps!==void 0&&(a.mipmaps=h.mipmaps,a.minFilter=Xn),h.mipmapCount===1&&(a.minFilter=Jn),h.generateMipmaps!==void 0&&(a.generateMipmaps=h.generateMipmaps),a.needsUpdate=!0,t&&t(a,h))},n,r),a}}class Y5 extends L1{constructor(e){super(e)}load(e,t,n,r){const o=new to,a=new u0(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(l){o.image=l,o.needsUpdate=!0,t!==void 0&&t(o)},n,r),o}}class wc extends So{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Br(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class q9 extends wc{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(So.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Br(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const h2=new Yr,Q9=new we,eh=new we;class p2{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Nt(512,512),this.map=null,this.mapPass=null,this.matrix=new Yr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Y1,this._frameExtents=new Nt(1,1),this._viewportCount=1,this._viewports=[new hi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Q9.setFromMatrixPosition(e.matrixWorld),t.position.copy(Q9),eh.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(eh),t.updateMatrixWorld(),h2.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(h2),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(h2)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class K5 extends p2{constructor(){super(new Ws(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=Ri*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(n!==t.fov||r!==t.aspect||o!==t.far)&&(t.fov=n,t.aspect=r,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class th extends wc{constructor(e,t,n=0,r=Math.PI/3,o=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(So.DEFAULT_UP),this.updateMatrix(),this.target=new So,this.distance=n,this.angle=r,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new K5}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const nh=new Yr,f0=new we,m2=new we;class J5 extends p2{constructor(){super(new Ws(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Nt(4,2),this._viewportCount=6,this._viewports=[new hi(2,1,1,1),new hi(0,1,1,1),new hi(3,1,1,1),new hi(1,1,1,1),new hi(3,0,1,1),new hi(1,0,1,1)],this._cubeDirections=[new we(1,0,0),new we(-1,0,0),new we(0,0,1),new we(0,0,-1),new we(0,1,0),new we(0,-1,0)],this._cubeUps=[new we(0,1,0),new we(0,1,0),new we(0,1,0),new we(0,1,0),new we(0,0,1),new we(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,o=e.distance||n.far;o!==n.far&&(n.far=o,n.updateProjectionMatrix()),f0.setFromMatrixPosition(e.matrixWorld),n.position.copy(f0),m2.copy(n.position),m2.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(m2),n.updateMatrixWorld(),r.makeTranslation(-f0.x,-f0.y,-f0.z),nh.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nh)}}class rh extends wc{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new J5}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class q5 extends p2{constructor(){super(new zu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class ih extends wc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(So.DEFAULT_UP),this.updateMatrix(),this.target=new So,this.shadow=new q5}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class oh extends wc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class sh extends wc{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class ah{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new we)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,o=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*o),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],1.092548*(n*r)),t.addScaledVector(a[5],1.092548*(r*o)),t.addScaledVector(a[6],.315392*(3*o*o-1)),t.addScaledVector(a[7],1.092548*(n*o)),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,o=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*o),t.addScaledVector(a[3],2*.511664*n),t.addScaledVector(a[4],2*.429043*n*r),t.addScaledVector(a[5],2*.429043*r*o),t.addScaledVector(a[6],.743125*o*o-.247708),t.addScaledVector(a[7],2*.429043*n*o),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,o=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*o,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*n*o,t[8]=.546274*(n*n-r*r)}}class j0 extends wc{constructor(e=new ah,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class G0 extends L1{constructor(e){super(e),this.textures={}}load(e,t,n,r){const o=this,a=new Xl(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(l){try{t(o.parse(JSON.parse(l)))}catch(f){r?r(f):console.error(f),o.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const r=G0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Br().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(r.uniforms[o]={},a.type){case"t":r.uniforms[o].value=n(a.value);break;case"c":r.uniforms[o].value=new Br().setHex(a.value);break;case"v2":r.uniforms[o].value=new Nt().fromArray(a.value);break;case"v3":r.uniforms[o].value=new we().fromArray(a.value);break;case"v4":r.uniforms[o].value=new hi().fromArray(a.value);break;case"m3":r.uniforms[o].value=new No().fromArray(a.value);break;case"m4":r.uniforms[o].value=new Yr().fromArray(a.value);break;default:r.uniforms[o].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)r.extensions[o]=e.extensions[o];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),r.normalScale=new Nt().fromArray(o)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Nt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:N9,SpriteMaterial:kf,RawShaderMaterial:V9,ShaderMaterial:o1,PointsMaterial:Wf,MeshPhysicalMaterial:F9,MeshStandardMaterial:s2,MeshPhongMaterial:k9,MeshToonMaterial:U9,MeshNormalMaterial:$9,MeshLambertMaterial:Z9,MeshDepthMaterial:Bf,MeshDistanceMaterial:Nf,MeshBasicMaterial:Ss,MeshMatcapMaterial:W9,LineDashedMaterial:j9,LineBasicMaterial:c1,Material:Ms};return new t[e]}}class g2{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class lh extends Ji{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class ch extends L1{constructor(e){super(e)}load(e,t,n,r){const o=this,a=new Xl(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(l){try{t(o.parse(JSON.parse(l)))}catch(f){r?r(f):console.error(f),o.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(y,L){if(t[L]!==void 0)return t[L];const R=y.interleavedBuffers[L],k=o(y,R.buffer),Z=is(R.type,k),B=new L0(Z,R.stride);return B.uuid=R.uuid,t[L]=B,B}function o(y,L){if(n[L]!==void 0)return n[L];const R=y.arrayBuffers[L],k=new Uint32Array(R).buffer;return n[L]=k,k}const a=e.isInstancedBufferGeometry?new lh:new Ji,l=e.data.index;if(l!==void 0){const y=is(l.type,l.array);a.setIndex(new Go(y,1))}const f=e.data.attributes;for(const y in f){const L=f[y];let S;if(L.isInterleavedBufferAttribute){const R=r(e.data,L.data);S=new Uc(R,L.itemSize,L.offset,L.normalized)}else{const R=is(L.type,L.array),k=L.isInstancedBufferAttribute?Ru:Go;S=new k(R,L.itemSize,L.normalized)}L.name!==void 0&&(S.name=L.name),L.usage!==void 0&&S.setUsage(L.usage),L.updateRange!==void 0&&(S.updateRange.offset=L.updateRange.offset,S.updateRange.count=L.updateRange.count),a.setAttribute(y,S)}const h=e.data.morphAttributes;if(h)for(const y in h){const L=h[y],S=[];for(let R=0,k=L.length;R<k;R++){const Z=L[R];let B;if(Z.isInterleavedBufferAttribute){const j=r(e.data,Z.data);B=new Uc(j,Z.itemSize,Z.offset,Z.normalized)}else{const j=is(Z.type,Z.array);B=new Go(j,Z.itemSize,Z.normalized)}Z.name!==void 0&&(B.name=Z.name),S.push(B)}a.morphAttributes[y]=S}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const _=e.data.groups||e.data.drawcalls||e.data.offsets;if(_!==void 0)for(let y=0,L=_.length;y!==L;++y){const S=_[y];a.addGroup(S.start,S.count,S.materialIndex)}const C=e.data.boundingSphere;if(C!==void 0){const y=new we;C.center!==void 0&&y.fromArray(C.center),a.boundingSphere=new Fn(y,C.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class Q5 extends L1{constructor(e){super(e)}load(e,t,n,r){const o=this,a=this.path===""?g2.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const l=new Xl(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(f){let h=null;try{h=JSON.parse(f)}catch(_){r!==void 0&&r(_),console.error("THREE:ObjectLoader: Can't parse "+e+".",_.message);return}const v=h.metadata;if(v===void 0||v.type===void 0||v.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(h,t)},n,r)}loadAsync(e,t){return Jl(this,null,function*(){const n=this,r=this.path===""?g2.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const o=new Xl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=yield o.loadAsync(e,t),l=JSON.parse(a),f=l.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return yield n.parseAsync(l)})}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(h)}),l=this.parseTextures(e.textures,a),f=this.parseMaterials(e.materials,l),h=this.parseObject(e.object,o,f,l,n),v=this.parseSkeletons(e.skeletons,h);if(this.bindSkeletons(h,v),t!==void 0){let _=!1;for(const C in a)if(a[C].data instanceof HTMLImageElement){_=!0;break}_===!1&&t(h)}return h}parseAsync(e){return Jl(this,null,function*(){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),o=yield this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),f=this.parseObject(e.object,r,l,a,t),h=this.parseSkeletons(e.skeletons,f);return this.bindSkeletons(f,h),f})}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const o=new Zc().fromJSON(e[n]);t[o.uuid]=o}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(o){o.isBone&&(r[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const l=new I0().fromJSON(e[o],r);n[l.uuid]=l}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new ch;for(let o=0,a=e.length;o<a;o++){let l;const f=e[o];switch(f.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(f);break;default:f.type in B9?l=B9[f.type].fromJSON(f,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${f.type}"`)}l.uuid=f.uuid,f.name!==void 0&&(l.name=f.name),f.userData!==void 0&&(l.userData=f.userData),n[f.uuid]=l}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const o=new G0;o.setTextures(t);for(let a=0,l=e.length;a<l;a++){const f=e[a];n[f.uuid]===void 0&&(n[f.uuid]=o.parse(f)),r[f.uuid]=n[f.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],o=c0.parse(r);t[o.uuid]=o}return t}parseImages(e,t){const n=this,r={};let o;function a(f){return n.manager.itemStart(f),o.load(f,function(){n.manager.itemEnd(f)},void 0,function(){n.manager.itemError(f),n.manager.itemEnd(f)})}function l(f){if(typeof f=="string"){const h=f,v=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:n.resourcePath+h;return a(v)}else return f.data?{data:is(f.type,f.data),width:f.width,height:f.height}:null}if(e!==void 0&&e.length>0){const f=new d2(t);o=new u0(f),o.setCrossOrigin(this.crossOrigin);for(let h=0,v=e.length;h<v;h++){const _=e[h],C=_.url;if(Array.isArray(C)){const y=[];for(let L=0,S=C.length;L<S;L++){const R=C[L],k=l(R);k!==null&&(k instanceof HTMLImageElement?y.push(k):y.push(new Su(k.data,k.width,k.height)))}r[_.uuid]=new wo(y)}else{const y=l(_.url);r[_.uuid]=new wo(y)}}}return r}parseImagesAsync(e){return Jl(this,null,function*(){const t=this,n={};let r;function o(a){return Jl(this,null,function*(){if(typeof a=="string"){const l=a,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return yield r.loadAsync(f)}else return a.data?{data:is(a.type,a.data),width:a.width,height:a.height}:null})}if(e!==void 0&&e.length>0){r=new u0(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,l=e.length;a<l;a++){const f=e[a],h=f.url;if(Array.isArray(h)){const v=[];for(let _=0,C=h.length;_<C;_++){const y=h[_],L=yield o(y);L!==null&&(L instanceof HTMLImageElement?v.push(L):v.push(new Su(L.data,L.width,L.height)))}n[f.uuid]=new wo(v)}else{const v=yield o(f.url);n[f.uuid]=new wo(v)}}}return n})}parseTextures(e,t){function n(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const r={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const l=e[o];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const f=t[l.image],h=f.data;let v;Array.isArray(h)?(v=new v1,h.length===6&&(v.needsUpdate=!0)):(h&&h.data?v=new Su:v=new to,h&&(v.needsUpdate=!0)),v.source=f,v.uuid=l.uuid,l.name!==void 0&&(v.name=l.name),l.mapping!==void 0&&(v.mapping=n(l.mapping,e3)),l.offset!==void 0&&v.offset.fromArray(l.offset),l.repeat!==void 0&&v.repeat.fromArray(l.repeat),l.center!==void 0&&v.center.fromArray(l.center),l.rotation!==void 0&&(v.rotation=l.rotation),l.wrap!==void 0&&(v.wrapS=n(l.wrap[0],uh),v.wrapT=n(l.wrap[1],uh)),l.format!==void 0&&(v.format=l.format),l.internalFormat!==void 0&&(v.internalFormat=l.internalFormat),l.type!==void 0&&(v.type=l.type),l.encoding!==void 0&&(v.encoding=l.encoding),l.minFilter!==void 0&&(v.minFilter=n(l.minFilter,fh)),l.magFilter!==void 0&&(v.magFilter=n(l.magFilter,fh)),l.anisotropy!==void 0&&(v.anisotropy=l.anisotropy),l.flipY!==void 0&&(v.flipY=l.flipY),l.generateMipmaps!==void 0&&(v.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(v.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(v.unpackAlignment=l.unpackAlignment),l.userData!==void 0&&(v.userData=l.userData),r[l.uuid]=v}return r}parseObject(e,t,n,r,o){let a;function l(C){return t[C]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",C),t[C]}function f(C){if(C!==void 0){if(Array.isArray(C)){const y=[];for(let L=0,S=C.length;L<S;L++){const R=C[L];n[R]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",R),y.push(n[R])}return y}return n[C]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",C),n[C]}}function h(C){return r[C]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",C),r[C]}let v,_;switch(e.type){case"Scene":a=new Jd,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Br(e.background):a.background=h(e.background)),e.environment!==void 0&&(a.environment=h(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new R0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new S0(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new Ws(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new zu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new oh(e.color,e.intensity);break;case"DirectionalLight":a=new ih(e.color,e.intensity);break;case"PointLight":a=new rh(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new sh(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new th(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new q9(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new j0().fromJSON(e);break;case"SkinnedMesh":v=l(e.geometry),_=f(e.material),a=new l9(v,_),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":v=l(e.geometry),_=f(e.material),a=new Ls(v,_);break;case"InstancedMesh":v=l(e.geometry),_=f(e.material);const C=e.count,y=e.instanceMatrix,L=e.instanceColor;a=new d9(v,_,C),a.instanceMatrix=new Ru(new Float32Array(y.array),16),L!==void 0&&(a.instanceColor=new Ru(new Float32Array(L.array),L.itemSize));break;case"LOD":a=new r9;break;case"Line":a=new yc(l(e.geometry),f(e.material));break;case"LineLoop":a=new C9(l(e.geometry),f(e.material));break;case"LineSegments":a=new bl(l(e.geometry),f(e.material));break;case"PointCloud":case"Points":a=new x9(l(e.geometry),f(e.material));break;case"Sprite":a=new t9(f(e.material));break;case"Group":a=new xu;break;case"Bone":a=new $f;break;default:a=new So}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const C=e.children;for(let y=0;y<C.length;y++)a.add(this.parseObject(C[y],t,n,r,o))}if(e.animations!==void 0){const C=e.animations;for(let y=0;y<C.length;y++){const L=C[y];a.animations.push(o[L])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const C=e.levels;for(let y=0;y<C.length;y++){const L=C[y],S=a.getObjectByProperty("uuid",L.object);S!==void 0&&a.addLevel(S,L.distance,L.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}}const e3={UVMapping:Or,CubeReflectionMapping:Jr,CubeRefractionMapping:zr,EquirectangularReflectionMapping:gi,EquirectangularRefractionMapping:qr,CubeUVReflectionMapping:Ii},uh={RepeatWrapping:Ht,ClampToEdgeWrapping:Gt,MirroredRepeatWrapping:on},fh={NearestFilter:an,NearestMipmapNearestFilter:fn,NearestMipmapLinearFilter:pn,LinearFilter:Jn,LinearMipmapNearestFilter:ci,LinearMipmapLinearFilter:Xn};class t3 extends L1{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Yc.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(a),o.manager.itemEnd(e)},0),a;const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,fetch(e,l).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(f){Yc.add(e,f),t&&t(f),o.manager.itemEnd(e)}).catch(function(f){r&&r(f),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}let X0;class v2{static getContext(){return X0===void 0&&(X0=new(window.AudioContext||window.webkitAudioContext)),X0}static setContext(e){X0=e}}class n3 extends L1{constructor(e){super(e)}load(e,t,n,r){const o=this,a=new Xl(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const f=l.slice(0);v2.getContext().decodeAudioData(f,function(v){t(v)})}catch(f){r?r(f):console.error(f),o.manager.itemError(e)}},n,r)}}class r3 extends j0{constructor(e,t,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;const r=new Br().set(e),o=new Br().set(t),a=new we(r.r,r.g,r.b),l=new we(o.r,o.g,o.b),f=Math.sqrt(Math.PI),h=f*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(l).multiplyScalar(f),this.sh.coefficients[1].copy(a).sub(l).multiplyScalar(h)}}class i3 extends j0{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const n=new Br().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const dh=new Yr,hh=new Yr,Kc=new Yr;class o3{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ws,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ws,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Kc.copy(e.projectionMatrix);const r=t.eyeSep/2,o=r*t.near/t.focus,a=t.near*Math.tan(ni*t.fov*.5)/t.zoom;let l,f;hh.elements[12]=-r,dh.elements[12]=r,l=-a*t.aspect+o,f=a*t.aspect+o,Kc.elements[0]=2*t.near/(f-l),Kc.elements[8]=(f+l)/(f-l),this.cameraL.projectionMatrix.copy(Kc),l=-a*t.aspect-o,f=a*t.aspect-o,Kc.elements[0]=2*t.near/(f-l),Kc.elements[8]=(f+l)/(f-l),this.cameraR.projectionMatrix.copy(Kc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(hh),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(dh)}}class ph{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=mh(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=mh();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function mh(){return(typeof performance=="undefined"?Date:performance).now()}const Jc=new we,gh=new cs,s3=new we,qc=new we;class a3 extends So{constructor(){super(),this.type="AudioListener",this.context=v2.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new ph}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Jc,gh,s3),qc.set(0,0,-1).applyQuaternion(gh),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Jc.x,r),t.positionY.linearRampToValueAtTime(Jc.y,r),t.positionZ.linearRampToValueAtTime(Jc.z,r),t.forwardX.linearRampToValueAtTime(qc.x,r),t.forwardY.linearRampToValueAtTime(qc.y,r),t.forwardZ.linearRampToValueAtTime(qc.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(Jc.x,Jc.y,Jc.z),t.setOrientation(qc.x,qc.y,qc.z,n.x,n.y,n.z)}}class vh extends So{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Qc=new we,Ch=new cs,l3=new we,eu=new we;class c3 extends vh{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Qc,Ch,l3),eu.set(0,0,1).applyQuaternion(Ch);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Qc.x,n),t.positionY.linearRampToValueAtTime(Qc.y,n),t.positionZ.linearRampToValueAtTime(Qc.z,n),t.orientationX.linearRampToValueAtTime(eu.x,n),t.orientationY.linearRampToValueAtTime(eu.y,n),t.orientationZ.linearRampToValueAtTime(eu.z,n)}else t.setPosition(Qc.x,Qc.y,Qc.z),t.setOrientation(eu.x,eu.y,eu.z)}}class u3{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class _h{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,o,a;switch(t){case"quaternion":r=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,o=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let l=0;l!==r;++l)n[o+l]=n[l];a=t}else{a+=t;const l=t/a;this._mixBufferRegion(n,o,0,l,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const f=t*this._origIndex;this._mixBufferRegion(n,r,f,1-o,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let f=t,h=t+t;f!==h;++f)if(n[f]!==n[f+t]){l.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let o=n,a=r;o!==a;++o)t[o]=t[r+o%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,o){if(r>=.5)for(let a=0;a!==o;++a)e[t+a]=e[n+a]}_slerp(e,t,n,r){cs.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,o){const a=this._workIndex*o;cs.multiplyQuaternionsFlat(e,a,e,t,e,n),cs.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,n,r,o){const a=1-r;for(let l=0;l!==o;++l){const f=t+l;e[f]=e[f]*a+e[n+l]*r}}_lerpAdditive(e,t,n,r,o){for(let a=0;a!==o;++a){const l=t+a;e[l]=e[l]+e[n+a]*r}}}const C2="\\[\\]\\.:\\/",f3=new RegExp("["+C2+"]","g"),_2="[^"+C2+"]",d3="[^"+C2.replace("\\.","")+"]",h3=/((?:WC+[\/:])*)/.source.replace("WC",_2),p3=/(WCOD+)?/.source.replace("WCOD",d3),m3=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_2),g3=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_2),v3=new RegExp("^"+h3+p3+m3+g3+"$"),C3=["material","materials","bones","map"];class _3{constructor(e,t,n){const r=n||Fo.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=n.length;r!==o;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Fo{constructor(e,t,n){this.path=t,this.parsedPath=n||Fo.parseTrackName(t),this.node=Fo.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Fo.Composite(e,t,n):new Fo(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(f3,"")}static parseTrackName(e){const t=v3.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const o=n.nodeName.substring(r+1);C3.indexOf(o)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=o)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===t||l.uuid===t)return l;const f=n(l.children);if(f)return f}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let o=t.propertyIndex;if(e||(e=Fo.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let h=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let v=0;v<e.length;v++)if(e[v].name===h){h=v;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(h!==void 0){if(e[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[h]}}const a=e[r];if(a===void 0){const h=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+r+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let f=this.BindingType.Direct;if(o!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}f=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(f=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(f=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Fo.Composite=_3,Fo.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Fo.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Fo.prototype.GetterByBindingType=[Fo.prototype._getValue_direct,Fo.prototype._getValue_array,Fo.prototype._getValue_arrayElement,Fo.prototype._getValue_toArray],Fo.prototype.SetterByBindingTypeAndVersioning=[[Fo.prototype._setValue_direct,Fo.prototype._setValue_direct_setNeedsUpdate,Fo.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Fo.prototype._setValue_array,Fo.prototype._setValue_array_setNeedsUpdate,Fo.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Fo.prototype._setValue_arrayElement,Fo.prototype._setValue_arrayElement_setNeedsUpdate,Fo.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Fo.prototype._setValue_fromArray,Fo.prototype._setValue_fromArray_setNeedsUpdate,Fo.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class x3{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Hi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,o=this._bindings,a=o.length;let l,f=e.length,h=this.nCachedObjects_;for(let v=0,_=arguments.length;v!==_;++v){const C=arguments[v],y=C.uuid;let L=t[y];if(L===void 0){L=f++,t[y]=L,e.push(C);for(let S=0,R=a;S!==R;++S)o[S].push(new Fo(C,n[S],r[S]))}else if(L<h){l=e[L];const S=--h,R=e[S];t[R.uuid]=L,e[L]=R,t[y]=S,e[S]=C;for(let k=0,Z=a;k!==Z;++k){const B=o[k],j=B[S];let xe=B[L];B[L]=j,xe===void 0&&(xe=new Fo(C,n[k],r[k])),B[S]=xe}}else e[L]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_;for(let a=0,l=arguments.length;a!==l;++a){const f=arguments[a],h=f.uuid,v=t[h];if(v!==void 0&&v>=o){const _=o++,C=e[_];t[C.uuid]=v,e[v]=C,t[h]=_,e[_]=f;for(let y=0,L=r;y!==L;++y){const S=n[y],R=S[_],k=S[v];S[v]=R,S[_]=k}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_,a=e.length;for(let l=0,f=arguments.length;l!==f;++l){const h=arguments[l],v=h.uuid,_=t[v];if(_!==void 0)if(delete t[v],_<o){const C=--o,y=e[C],L=--a,S=e[L];t[y.uuid]=_,e[_]=y,t[S.uuid]=C,e[C]=S,e.pop();for(let R=0,k=r;R!==k;++R){const Z=n[R],B=Z[C],j=Z[L];Z[_]=B,Z[C]=j,Z.pop()}}else{const C=--a,y=e[C];C>0&&(t[y.uuid]=_),e[_]=y,e.pop();for(let L=0,S=r;L!==S;++L){const R=n[L];R[_]=R[C],R.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const o=this._bindings;if(r!==void 0)return o[r];const a=this._paths,l=this._parsedPaths,f=this._objects,h=f.length,v=this.nCachedObjects_,_=new Array(h);r=o.length,n[e]=r,a.push(e),l.push(t),o.push(_);for(let C=v,y=f.length;C!==y;++C){const L=f[C];_[C]=new Fo(L,e,t)}return _}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,o=this._parsedPaths,a=this._bindings,l=a.length-1,f=a[l],h=e[l];t[h]=n,a[n]=f,a.pop(),o[n]=o[l],o.pop(),r[n]=r[l],r.pop()}}}class y3{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const o=t.tracks,a=o.length,l=new Array(a),f={endingStart:Lo,endingEnd:Lo};for(let h=0;h!==a;++h){const v=o[h].createInterpolant(null);l[h]=v,v.settings=f}this._interpolantSettings=f,this._interpolants=l,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=cr,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const r=this._clip.duration,o=e._clip.duration,a=o/r,l=r/o;e.warp(1,a,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,o=r.time,a=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const f=l.parameterPositions,h=l.sampleValues;return f[0]=o,f[1]=o+n,h[0]=e/a,h[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const f=(e-o)*n;f<0||n===0?t=0:(this._startTime=null,t=n*f)}t*=this._updateTimeScale(e);const a=this._updateTime(t),l=this._updateWeight(e);if(l>0){const f=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case ls:for(let v=0,_=f.length;v!==_;++v)f[v].evaluate(a),h[v].accumulateAdditive(l);break;case Po:default:for(let v=0,_=f.length;v!==_;++v)f[v].evaluate(a),h[v].accumulate(r,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,o=this._loopCount;const a=n===Di;if(e===0)return o===-1?r:a&&(o&1)===1?t-r:r;if(n===Gn){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const l=Math.floor(r/t);r-=t*l,o+=Math.abs(l);const f=this.repetitions-o;if(f<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(f===1){const h=e<0;this._setEndings(h,!h,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(a&&(o&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=ao,r.endingEnd=ao):(e?r.endingStart=this.zeroSlopeAtStart?ao:Lo:r.endingStart=vs,t?r.endingEnd=this.zeroSlopeAtEnd?ao:Lo:r.endingEnd=vs)}_scheduleFading(e,t,n){const r=this._mixer,o=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const l=a.parameterPositions,f=a.sampleValues;return l[0]=o,f[0]=t,l[1]=o+e,f[1]=n,this}}const w3=new Float32Array(1);class b3 extends Kn{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,o=r.length,a=e._propertyBindings,l=e._interpolants,f=n.uuid,h=this._bindingsByRootAndName;let v=h[f];v===void 0&&(v={},h[f]=v);for(let _=0;_!==o;++_){const C=r[_],y=C.name;let L=v[y];if(L!==void 0)++L.referenceCount,a[_]=L;else{if(L=a[_],L!==void 0){L._cacheIndex===null&&(++L.referenceCount,this._addInactiveBinding(L,f,y));continue}const S=t&&t._propertyBindings[_].binding.parsedPath;L=new _h(Fo.create(n,y,S),C.ValueTypeName,C.getValueSize()),++L.referenceCount,this._addInactiveBinding(L,f,y),a[_]=L}l[_].resultBuffer=L.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,o=this._actionsByClip[r];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,o=this._actionsByClip;let a=o[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=a;else{const l=a.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,l=a[o],f=l.knownActions,h=f[f.length-1],v=e._byClipCacheIndex;h._byClipCacheIndex=v,f[v]=h,f.pop(),e._byClipCacheIndex=null;const _=l.actionByRoot,C=(e._localRoot||this._root).uuid;delete _[C],f.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,o=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[n]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,o=n.path,a=this._bindingsByRootAndName,l=a[r],f=t[t.length-1],h=e._cacheIndex;f._cacheIndex=h,t[h]=f,t.pop(),delete l[o],Object.keys(l).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new u2(new Float32Array(2),new Float32Array(2),1,w3),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,o=t[r];e.__cacheIndex=r,t[r]=e,o.__cacheIndex=n,t[n]=o}clipAction(e,t,n){const r=t||this._root,o=r.uuid;let a=typeof e=="string"?c0.findByName(r,e):e;const l=a!==null?a.uuid:e,f=this._actionsByClip[l];let h=null;if(n===void 0&&(a!==null?n=a.blendMode:n=Po),f!==void 0){const _=f.actionByRoot[o];if(_!==void 0&&_.blendMode===n)return _;h=f.knownActions[0],a===null&&(a=h._clip)}if(a===null)return null;const v=new y3(this,a,t,n);return this._bindAction(v,h),this._addInactiveAction(v,l,o),v}existingAction(e,t){const n=t||this._root,r=n.uuid,o=typeof e=="string"?c0.findByName(n,e):e,a=o?o.uuid:e,l=this._actionsByClip[a];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let h=0;h!==n;++h)t[h]._update(r,e,o,a);const l=this._bindings,f=this._nActiveBindings;for(let h=0;h!==f;++h)l[h].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,o=r[n];if(o!==void 0){const a=o.knownActions;for(let l=0,f=a.length;l!==f;++l){const h=a[l];this._deactivateAction(h);const v=h._cacheIndex,_=t[t.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,_._cacheIndex=v,t[v]=_,t.pop(),this._removeInactiveBindingsForAction(h)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const a in n){const l=n[a].actionByRoot,f=l[t];f!==void 0&&(this._deactivateAction(f),this._removeInactiveAction(f))}const r=this._bindingsByRootAndName,o=r[t];if(o!==void 0)for(const a in o){const l=o[a];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class x2{constructor(e){this.value=e}clone(){return new x2(this.value.clone===void 0?this.value:this.value.clone())}}let M3=0;class S3 extends Kn{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:M3++}),this.name="",this.usage=vt,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}clone(){return new this.constructor().copy(this)}}class R3 extends L0{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class L3{constructor(e,t,n,r,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class E3{constructor(e,t,n=0,r=1/0){this.ray=new Wo(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new oo,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return y2(e,this,n,t),n.sort(xh),n}intersectObjects(e,t=!0,n=[]){for(let r=0,o=e.length;r<o;r++)y2(e[r],this,n,t);return n.sort(xh),n}}function xh(c,e){return c.distance-e.distance}function y2(c,e,t,n){if(c.layers.test(e.layers)&&c.raycast(e,t),n===!0){const r=c.children;for(let o=0,a=r.length;o<a;o++)y2(r[o],e,t,!0)}}class T3{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Cr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class A3{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}const yh=new Nt;class P3{constructor(e=new Nt(1/0,1/0),t=new Nt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=yh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,yh).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const wh=new we,Y0=new we;class I3{constructor(e=new we,t=new we){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){wh.subVectors(e,this.start),Y0.subVectors(this.end,this.start);const n=Y0.dot(Y0);let o=Y0.dot(wh)/n;return t&&(o=Cr(o,0,1)),o}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const bh=new we;class O3 extends So{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Ji,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,l=1,f=32;a<f;a++,l++){const h=a/f*Math.PI*2,v=l/f*Math.PI*2;r.push(Math.cos(h),Math.sin(h),1,Math.cos(v),Math.sin(v),1)}n.setAttribute("position",new kr(r,3));const o=new c1({fog:!1,toneMapped:!1});this.cone=new bl(n,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),bh.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(bh),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const bc=new we,K0=new Yr,w2=new Yr;class D3 extends bl{constructor(e){const t=Mh(e),n=new Ji,r=[],o=[],a=new Br(0,0,1),l=new Br(0,1,0);for(let h=0;h<t.length;h++){const v=t[h];v.parent&&v.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),o.push(a.r,a.g,a.b),o.push(l.r,l.g,l.b))}n.setAttribute("position",new kr(r,3)),n.setAttribute("color",new kr(o,3));const f=new c1({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,f),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");w2.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<t.length;o++){const l=t[o];l.parent&&l.parent.isBone&&(K0.multiplyMatrices(w2,l.matrixWorld),bc.setFromMatrixPosition(K0),r.setXYZ(a,bc.x,bc.y,bc.z),K0.multiplyMatrices(w2,l.parent.matrixWorld),bc.setFromMatrixPosition(K0),r.setXYZ(a+1,bc.x,bc.y,bc.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Mh(c){const e=[];c.isBone===!0&&e.push(c);for(let t=0;t<c.children.length;t++)e.push.apply(e,Mh(c.children[t]));return e}class z3 extends Ls{constructor(e,t,n){const r=new Au(t,4,2),o=new Ss({wireframe:!0,fog:!1,toneMapped:!1});super(r,o),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const H3=new we,Sh=new Br,Rh=new Br;class B3 extends So{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new Tu(t);r.rotateY(Math.PI*.5),this.material=new Ss({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=r.getAttribute("position"),a=new Float32Array(o.count*3);r.setAttribute("color",new Go(a,3)),this.add(new Ls(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Sh.copy(this.light.color),Rh.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const o=n<r/2?Sh:Rh;t.setXYZ(n,o.r,o.g,o.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(H3.setFromMatrixPosition(this.light.matrixWorld).negate())}}class N3 extends bl{constructor(e=10,t=10,n=4473924,r=8947848){n=new Br(n),r=new Br(r);const o=t/2,a=e/t,l=e/2,f=[],h=[];for(let C=0,y=0,L=-l;C<=t;C++,L+=a){f.push(-l,0,L,l,0,L),f.push(L,0,-l,L,0,l);const S=C===o?n:r;S.toArray(h,y),y+=3,S.toArray(h,y),y+=3,S.toArray(h,y),y+=3,S.toArray(h,y),y+=3}const v=new Ji;v.setAttribute("position",new kr(f,3)),v.setAttribute("color",new kr(h,3));const _=new c1({vertexColors:!0,toneMapped:!1});super(v,_),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class V3 extends bl{constructor(e=10,t=16,n=8,r=64,o=4473924,a=8947848){o=new Br(o),a=new Br(a);const l=[],f=[];if(t>1)for(let _=0;_<t;_++){const C=_/t*(Math.PI*2),y=Math.sin(C)*e,L=Math.cos(C)*e;l.push(0,0,0),l.push(y,0,L);const S=_&1?o:a;f.push(S.r,S.g,S.b),f.push(S.r,S.g,S.b)}for(let _=0;_<n;_++){const C=_&1?o:a,y=e-e/n*_;for(let L=0;L<r;L++){let S=L/r*(Math.PI*2),R=Math.sin(S)*y,k=Math.cos(S)*y;l.push(R,0,k),f.push(C.r,C.g,C.b),S=(L+1)/r*(Math.PI*2),R=Math.sin(S)*y,k=Math.cos(S)*y,l.push(R,0,k),f.push(C.r,C.g,C.b)}}const h=new Ji;h.setAttribute("position",new kr(l,3)),h.setAttribute("color",new kr(f,3));const v=new c1({vertexColors:!0,toneMapped:!1});super(h,v),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Lh=new we,J0=new we,Eh=new we;class F3 extends So{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Ji;r.setAttribute("position",new kr([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new c1({fog:!1,toneMapped:!1});this.lightPlane=new yc(r,o),this.add(this.lightPlane),r=new Ji,r.setAttribute("position",new kr([0,0,0,0,0,1],3)),this.targetLine=new yc(r,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Lh.setFromMatrixPosition(this.light.matrixWorld),J0.setFromMatrixPosition(this.light.target.matrixWorld),Eh.subVectors(J0,Lh),this.lightPlane.lookAt(J0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(J0),this.targetLine.scale.z=Eh.length()}}const q0=new we,Qs=new j1;class k3 extends bl{constructor(e){const t=new Ji,n=new c1({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],o=[],a={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(L,S){f(L),f(S)}function f(L){r.push(0,0,0),o.push(0,0,0),a[L]===void 0&&(a[L]=[]),a[L].push(r.length/3-1)}t.setAttribute("position",new kr(r,3)),t.setAttribute("color",new kr(o,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const h=new Br(16755200),v=new Br(16711680),_=new Br(43775),C=new Br(16777215),y=new Br(3355443);this.setColors(h,v,_,C,y)}setColors(e,t,n,r,o){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,n.r,n.g,n.b),l.setXYZ(33,n.r,n.g,n.b),l.setXYZ(34,n.r,n.g,n.b),l.setXYZ(35,n.r,n.g,n.b),l.setXYZ(36,n.r,n.g,n.b),l.setXYZ(37,n.r,n.g,n.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,o.r,o.g,o.b),l.setXYZ(41,o.r,o.g,o.b),l.setXYZ(42,o.r,o.g,o.b),l.setXYZ(43,o.r,o.g,o.b),l.setXYZ(44,o.r,o.g,o.b),l.setXYZ(45,o.r,o.g,o.b),l.setXYZ(46,o.r,o.g,o.b),l.setXYZ(47,o.r,o.g,o.b),l.setXYZ(48,o.r,o.g,o.b),l.setXYZ(49,o.r,o.g,o.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;Qs.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),sa("c",t,e,Qs,0,0,-1),sa("t",t,e,Qs,0,0,1),sa("n1",t,e,Qs,-n,-r,-1),sa("n2",t,e,Qs,n,-r,-1),sa("n3",t,e,Qs,-n,r,-1),sa("n4",t,e,Qs,n,r,-1),sa("f1",t,e,Qs,-n,-r,1),sa("f2",t,e,Qs,n,-r,1),sa("f3",t,e,Qs,-n,r,1),sa("f4",t,e,Qs,n,r,1),sa("u1",t,e,Qs,n*.7,r*1.1,-1),sa("u2",t,e,Qs,-n*.7,r*1.1,-1),sa("u3",t,e,Qs,0,r*2,-1),sa("cf1",t,e,Qs,-n,0,1),sa("cf2",t,e,Qs,n,0,1),sa("cf3",t,e,Qs,0,-r,1),sa("cf4",t,e,Qs,0,r,1),sa("cn1",t,e,Qs,-n,0,-1),sa("cn2",t,e,Qs,n,0,-1),sa("cn3",t,e,Qs,0,-r,-1),sa("cn4",t,e,Qs,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function sa(c,e,t,n,r,o,a){q0.set(r,o,a).unproject(n);const l=e[c];if(l!==void 0){const f=t.getAttribute("position");for(let h=0,v=l.length;h<v;h++)f.setXYZ(l[h],q0.x,q0.y,q0.z)}}const Q0=new xs;class U3 extends bl{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),o=new Ji;o.setIndex(new Go(n,1)),o.setAttribute("position",new Go(r,3)),super(o,new c1({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Q0.setFromObject(this.object),Q0.isEmpty())return;const t=Q0.min,n=Q0.max,r=this.geometry.attributes.position,o=r.array;o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=t.x,o[4]=n.y,o[5]=n.z,o[6]=t.x,o[7]=t.y,o[8]=n.z,o[9]=n.x,o[10]=t.y,o[11]=n.z,o[12]=n.x,o[13]=n.y,o[14]=t.z,o[15]=t.x,o[16]=n.y,o[17]=t.z,o[18]=t.x,o[19]=t.y,o[20]=t.z,o[21]=n.x,o[22]=t.y,o[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class $3 extends bl{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Ji;o.setIndex(new Go(n,1)),o.setAttribute("position",new kr(r,3)),super(o,new c1({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Z3 extends yc{constructor(e,t=1,n=16776960){const r=n,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Ji;a.setAttribute("position",new kr(o,3)),a.computeBoundingSphere(),super(a,new c1({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],f=new Ji;f.setAttribute("position",new kr(l,3)),f.computeBoundingSphere(),this.add(new Ls(f,new Ss({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Th=new we;let ef,b2;class W3 extends So{constructor(e=new we(0,0,1),t=new we(0,0,0),n=1,r=16776960,o=n*.2,a=o*.2){super(),this.type="ArrowHelper",ef===void 0&&(ef=new Ji,ef.setAttribute("position",new kr([0,0,0,0,1,0],3)),b2=new $c(0,.5,1,5,1),b2.translate(0,-.5,0)),this.position.copy(t),this.line=new yc(ef,new c1({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ls(b2,new Ss({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Th.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Th,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class j3 extends bl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Ji;r.setAttribute("position",new kr(t,3)),r.setAttribute("color",new kr(n,3));const o=new c1({vertexColors:!0,toneMapped:!1});super(r,o),this.type="AxesHelper"}setColors(e,t,n){const r=new Br,o=this.geometry.attributes.color.array;return r.set(e),r.toArray(o,0),r.toArray(o,3),r.set(t),r.toArray(o,6),r.toArray(o,9),r.set(n),r.toArray(o,12),r.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class G3{constructor(){this.type="ShapePath",this.color=new Br,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Zu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,o,a){return this.currentPath.bezierCurveTo(e,t,n,r,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(k){const Z=[];for(let B=0,j=k.length;B<j;B++){const xe=k[B],Ie=new Zc;Ie.curves=xe.curves,Z.push(Ie)}return Z}function n(k,Z){const B=Z.length;let j=!1;for(let xe=B-1,Ie=0;Ie<B;xe=Ie++){let Je=Z[xe],G=Z[Ie],Le=G.x-Je.x,st=G.y-Je.y;if(Math.abs(st)>Number.EPSILON){if(st<0&&(Je=Z[Ie],Le=-Le,G=Z[xe],st=-st),k.y<Je.y||k.y>G.y)continue;if(k.y===Je.y){if(k.x===Je.x)return!0}else{const Zt=st*(k.x-Je.x)-Le*(k.y-Je.y);if(Zt===0)return!0;if(Zt<0)continue;j=!j}}else{if(k.y!==Je.y)continue;if(G.x<=k.x&&k.x<=Je.x||Je.x<=k.x&&k.x<=G.x)return!0}}return j}const r=Ml.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,l,f;const h=[];if(o.length===1)return l=o[0],f=new Zc,f.curves=l.curves,h.push(f),h;let v=!r(o[0].getPoints());v=e?!v:v;const _=[],C=[];let y=[],L=0,S;C[L]=void 0,y[L]=[];for(let k=0,Z=o.length;k<Z;k++)l=o[k],S=l.getPoints(),a=r(S),a=e?!a:a,a?(!v&&C[L]&&L++,C[L]={s:new Zc,p:S},C[L].s.curves=l.curves,v&&L++,y[L]=[]):y[L].push({h:l,p:S[0]});if(!C[0])return t(o);if(C.length>1){let k=!1,Z=0;for(let B=0,j=C.length;B<j;B++)_[B]=[];for(let B=0,j=C.length;B<j;B++){const xe=y[B];for(let Ie=0;Ie<xe.length;Ie++){const Je=xe[Ie];let G=!0;for(let Le=0;Le<C.length;Le++)n(Je.p,C[Le].p)&&(B!==Le&&Z++,G?(G=!1,_[Le].push(Je)):k=!0);G&&_[B].push(Je)}}Z>0&&k===!1&&(y=_)}let R;for(let k=0,Z=C.length;k<Z;k++){f=C[k].s,h.push(f),R=y[k];for(let B=0,j=R.length;B<j;B++)f.holes.push(R[B].h)}return h}}const Yl=X3();function X3(){const c=new ArrayBuffer(4),e=new Float32Array(c),t=new Uint32Array(c),n=new Uint32Array(512),r=new Uint32Array(512);for(let f=0;f<256;++f){const h=f-127;h<-27?(n[f]=0,n[f|256]=32768,r[f]=24,r[f|256]=24):h<-14?(n[f]=1024>>-h-14,n[f|256]=1024>>-h-14|32768,r[f]=-h-1,r[f|256]=-h-1):h<=15?(n[f]=h+15<<10,n[f|256]=h+15<<10|32768,r[f]=13,r[f|256]=13):h<128?(n[f]=31744,n[f|256]=64512,r[f]=24,r[f|256]=24):(n[f]=31744,n[f|256]=64512,r[f]=13,r[f|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),l=new Uint32Array(64);for(let f=1;f<1024;++f){let h=f<<13,v=0;for(;!(h&8388608);)h<<=1,v-=8388608;h&=-8388609,v+=947912704,o[f]=h|v}for(let f=1024;f<2048;++f)o[f]=939524096+(f-1024<<13);for(let f=1;f<31;++f)a[f]=f<<23;a[31]=1199570944,a[32]=2147483648;for(let f=33;f<63;++f)a[f]=2147483648+(f-32<<23);a[63]=3347054592;for(let f=1;f<64;++f)f!==32&&(l[f]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:o,exponentTable:a,offsetTable:l}}function Y3(c){Math.abs(c)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),c=Cr(c,-65504,65504),Yl.floatView[0]=c;const e=Yl.uint32View[0],t=e>>23&511;return Yl.baseTable[t]+((e&8388607)>>Yl.shiftTable[t])}function K3(c){const e=c>>10;return Yl.uint32View[0]=Yl.mantissaTable[Yl.offsetTable[e]+(c&1023)]+Yl.exponentTable[e],Yl.floatView[0]}const J3={toHalfFloat:Y3,fromHalfFloat:K3};class q3 extends m1{constructor(e,t,n,r,o,a){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,n,r,o,a)}}class Q3 extends Wu{constructor(e,t,n,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,n,r)}}class e7 extends ju{constructor(e,t,n,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,n,r)}}class t7 extends Gu{constructor(e,t,n,r,o,a,l){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,n,r,o,a,l)}}class n7 extends $c{constructor(e,t,n,r,o,a,l,f){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,n,r,o,a,l,f)}}class r7 extends Xu{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class i7 extends qu{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class o7 extends Qu{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class s7 extends Lu{constructor(e,t,n,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,n,r)}}class a7 extends Tu{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class l7 extends vl{constructor(e,t,n,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,n,r)}}class c7 extends jl{constructor(e,t,n,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,n,r)}}class u7 extends e0{constructor(e,t,n,r,o,a){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,n,r,o,a)}}class f7 extends t0{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class d7 extends Au{constructor(e,t,n,r,o,a,l){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,n,r,o,a,l)}}class h7 extends n0{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class p7 extends r0{constructor(e,t,n,r,o){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,n,r,o)}}class m7 extends i0{constructor(e,t,n,r,o,a){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,n,r,o,a)}}class g7 extends o0{constructor(e,t,n,r,o){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,n,r,o)}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:O}})),typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=O)}}]);
}());